function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var rx=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);import"https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js";var B8n=rx((z8n,jf)=>{const dx="modulepreload",cx=function(o){return"/build/"+o},db={},M=function(a,s,t){let c=Promise.resolve();if(s&&s.length>0){const m=document.getElementsByTagName("link");c=Promise.all(s.map(_=>{if(_=cx(_),_ in db)return;db[_]=!0;const l=_.endsWith(".css"),r=l?'[rel="stylesheet"]':"";if(!!t)for(let p=m.length-1;p>=0;p--){const v=m[p];if(v.href===_&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${r}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":dx,l||(d.as="script",d.crossOrigin=""),d.href=_,document.head.appendChild(d),l)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${_}`)))})}))}return c.then(()=>a()).catch(m=>{const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=m,window.dispatchEvent(_),!_.defaultPrevented)throw m})};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pn(o){const a=Object.create(null);for(const s of o.split(","))a[s]=1;return s=>s in a}const po={},Sr=[],wa=()=>{},Pc=()=>!1,ui=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&(o.charCodeAt(2)>122||o.charCodeAt(2)<97),_g=o=>o.startsWith("onUpdate:"),vo=Object.assign,mg=(o,a)=>{const s=o.indexOf(a);s>-1&&o.splice(s,1)},ux=Object.prototype.hasOwnProperty,Io=(o,a)=>ux.call(o,a),Lt=Array.isArray,Tr=o=>Xr(o)==="[object Map]",_i=o=>Xr(o)==="[object Set]",cb=o=>Xr(o)==="[object Date]",_x=o=>Xr(o)==="[object RegExp]",Xt=o=>typeof o=="function",ao=o=>typeof o=="string",on=o=>typeof o=="symbol",So=o=>o!==null&&typeof o=="object",fg=o=>(So(o)||Xt(o))&&Xt(o.then)&&Xt(o.catch),z0=Object.prototype.toString,Xr=o=>z0.call(o),mx=o=>Xr(o).slice(8,-1),bh=o=>Xr(o)==="[object Object]",hg=o=>ao(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,kl=pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fx=pn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),yh=o=>{const a=Object.create(null);return s=>a[s]||(a[s]=o(s))},hx=/-(\w)/g,Uo=yh(o=>o.replace(hx,(a,s)=>s?s.toUpperCase():"")),px=/\B([A-Z])/g,Xa=yh(o=>o.replace(px,"-$1").toLowerCase()),mi=yh(o=>o.charAt(0).toUpperCase()+o.slice(1)),jr=yh(o=>o?`on${mi(o)}`:""),Ua=(o,a)=>!Object.is(o,a),Or=(o,...a)=>{for(let s=0;s<o.length;s++)o[s](...a)},W0=(o,a,s,t=!1)=>{Object.defineProperty(o,a,{configurable:!0,enumerable:!1,writable:t,value:s})},Of=o=>{const a=parseFloat(o);return isNaN(a)?o:a},Mf=o=>{const a=ao(o)?Number(o):NaN;return isNaN(a)?o:a};let ub;const kh=()=>ub||(ub=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vx(o,a){return o+JSON.stringify(a,(s,t)=>typeof t=="function"?t.toString():t)}const gx="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",bx=pn(gx);function Rl(o){if(Lt(o)){const a={};for(let s=0;s<o.length;s++){const t=o[s],c=ao(t)?K0(t):Rl(t);if(c)for(const m in c)a[m]=c[m]}return a}else if(ao(o)||So(o))return o}const yx=/;(?![^(]*\))/g,kx=/:([^]+)/,$x=/\/\*[^]*?\*\//g;function K0(o){const a={};return o.replace($x,"").split(yx).forEach(s=>{if(s){const t=s.split(kx);t.length>1&&(a[t[0].trim()]=t[1].trim())}}),a}function rt(o){let a="";if(ao(o))a=o;else if(Lt(o))for(let s=0;s<o.length;s++){const t=rt(o[s]);t&&(a+=t+" ")}else if(So(o))for(const s in o)o[s]&&(a+=s+" ");return a.trim()}function G0(o){if(!o)return null;let{class:a,style:s}=o;return a&&!ao(a)&&(o.class=rt(a)),s&&(o.style=Rl(s)),o}const wx="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Dx="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Cx="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",xx="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Px=pn(wx),Ex=pn(Dx),Ax=pn(Cx),Ix=pn(xx),Rx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sx=pn(Rx);function Q0(o){return!!o||o===""}function Tx(o,a){if(o.length!==a.length)return!1;let s=!0;for(let t=0;s&&t<o.length;t++)s=El(o[t],a[t]);return s}function El(o,a){if(o===a)return!0;let s=cb(o),t=cb(a);if(s||t)return s&&t?o.getTime()===a.getTime():!1;if(s=on(o),t=on(a),s||t)return o===a;if(s=Lt(o),t=Lt(a),s||t)return s&&t?Tx(o,a):!1;if(s=So(o),t=So(a),s||t){if(!s||!t)return!1;const c=Object.keys(o).length,m=Object.keys(a).length;if(c!==m)return!1;for(const _ in o){const l=o.hasOwnProperty(_),r=a.hasOwnProperty(_);if(l&&!r||!l&&r||!El(o[_],a[_]))return!1}}return String(o)===String(a)}function $h(o,a){return o.findIndex(s=>El(s,a))}const Z0=o=>!!(o&&o.__v_isRef===!0),n=o=>ao(o)?o:o==null?"":Lt(o)||So(o)&&(o.toString===z0||!Xt(o.toString))?Z0(o)?n(o.value):JSON.stringify(o,J0,2):String(o),J0=(o,a)=>Z0(a)?J0(o,a.value):Tr(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((s,[t,c],m)=>(s[wp(t,m)+" =>"]=c,s),{})}:_i(a)?{[`Set(${a.size})`]:[...a.values()].map(s=>wp(s))}:on(a)?wp(a):So(a)&&!Lt(a)&&!bh(a)?String(a):a,wp=(o,a="")=>{var s;return on(o)?`Symbol(${(s=o.description)!=null?s:a})`:o};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ba;class pg{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ba,!a&&Ba&&(this.index=(Ba.scopes||(Ba.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let a,s;if(this.scopes)for(a=0,s=this.scopes.length;a<s;a++)this.scopes[a].pause();for(a=0,s=this.effects.length;a<s;a++)this.effects[a].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let a,s;if(this.scopes)for(a=0,s=this.scopes.length;a<s;a++)this.scopes[a].resume();for(a=0,s=this.effects.length;a<s;a++)this.effects[a].resume()}}run(a){if(this._active){const s=Ba;try{return Ba=this,a()}finally{Ba=s}}}on(){Ba=this}off(){Ba=this.parent}stop(a){if(this._active){this._active=!1;let s,t;for(s=0,t=this.effects.length;s<t;s++)this.effects[s].stop();for(this.effects.length=0,s=0,t=this.cleanups.length;s<t;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,t=this.scopes.length;s<t;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!a){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function jx(o){return new pg(o)}function X0(){return Ba}function Ox(o,a=!1){Ba&&Ba.cleanups.push(o)}let No;const Dp=new WeakSet;class U_{constructor(a){this.fn=a,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ba&&Ba.active&&Ba.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dp.has(this)&&(Dp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||t2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_b(this),o2(this);const a=No,s=Xn;No=this,Xn=!0;try{return this.fn()}finally{a2(this),No=a,Xn=s,this.flags&=-3}}stop(){if(this.flags&1){for(let a=this.deps;a;a=a.nextDep)bg(a);this.deps=this.depsTail=void 0,_b(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kv(this)&&this.run()}get dirty(){return kv(this)}}let e2=0,I_,R_;function t2(o,a=!1){if(o.flags|=8,a){o.next=R_,R_=o;return}o.next=I_,I_=o}function vg(){e2++}function gg(){if(--e2>0)return;if(R_){let a=R_;for(R_=void 0;a;){const s=a.next;a.next=void 0,a.flags&=-9,a=s}}let o;for(;I_;){let a=I_;for(I_=void 0;a;){const s=a.next;if(a.next=void 0,a.flags&=-9,a.flags&1)try{a.trigger()}catch(t){o||(o=t)}a=s}}if(o)throw o}function o2(o){for(let a=o.deps;a;a=a.nextDep)a.version=-1,a.prevActiveLink=a.dep.activeLink,a.dep.activeLink=a}function a2(o){let a,s=o.depsTail,t=s;for(;t;){const c=t.prevDep;t.version===-1?(t===s&&(s=c),bg(t),Mx(t)):a=t,t.dep.activeLink=t.prevActiveLink,t.prevActiveLink=void 0,t=c}o.deps=a,o.depsTail=s}function kv(o){for(let a=o.deps;a;a=a.nextDep)if(a.dep.version!==a.version||a.dep.computed&&(n2(a.dep.computed)||a.dep.version!==a.version))return!0;return!!o._dirty}function n2(o){if(o.flags&4&&!(o.flags&16)||(o.flags&=-17,o.globalVersion===q_))return;o.globalVersion=q_;const a=o.dep;if(o.flags|=2,a.version>0&&!o.isSSR&&o.deps&&!kv(o)){o.flags&=-3;return}const s=No,t=Xn;No=o,Xn=!0;try{o2(o);const c=o.fn(o._value);(a.version===0||Ua(c,o._value))&&(o._value=c,a.version++)}catch(c){throw a.version++,c}finally{No=s,Xn=t,a2(o),o.flags&=-3}}function bg(o,a=!1){const{dep:s,prevSub:t,nextSub:c}=o;if(t&&(t.nextSub=c,o.prevSub=void 0),c&&(c.prevSub=t,o.nextSub=void 0),s.subs===o&&(s.subs=t,!t&&s.computed)){s.computed.flags&=-5;for(let m=s.computed.deps;m;m=m.nextDep)bg(m,!0)}!a&&!--s.sc&&s.map&&s.map.delete(s.key)}function Mx(o){const{prevDep:a,nextDep:s}=o;a&&(a.nextDep=s,o.prevDep=void 0),s&&(s.prevDep=a,o.nextDep=void 0)}function Lx(o,a){o.effect instanceof U_&&(o=o.effect.fn);const s=new U_(o);a&&vo(s,a);try{s.run()}catch(c){throw s.stop(),c}const t=s.run.bind(s);return t.effect=s,t}function Nx(o){o.effect.stop()}let Xn=!0;const s2=[];function Sl(){s2.push(Xn),Xn=!1}function Tl(){const o=s2.pop();Xn=o===void 0?!0:o}function _b(o){const{cleanup:a}=o;if(o.cleanup=void 0,a){const s=No;No=void 0;try{a()}finally{No=s}}}let q_=0;class Fx{constructor(a,s){this.sub=a,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wh{constructor(a){this.computed=a,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(a){if(!No||!Xn||No===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==No)s=this.activeLink=new Fx(No,this),No.deps?(s.prevDep=No.depsTail,No.depsTail.nextDep=s,No.depsTail=s):No.deps=No.depsTail=s,l2(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const t=s.nextDep;t.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=t),s.prevDep=No.depsTail,s.nextDep=void 0,No.depsTail.nextDep=s,No.depsTail=s,No.deps===s&&(No.deps=t)}return s}trigger(a){this.version++,q_++,this.notify(a)}notify(a){vg();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{gg()}}}function l2(o){if(o.dep.sc++,o.sub.flags&4){const a=o.dep.computed;if(a&&!o.dep.subs){a.flags|=20;for(let t=a.deps;t;t=t.nextDep)l2(t)}const s=o.dep.subs;s!==o&&(o.prevSub=s,s&&(s.nextSub=o)),o.dep.subs=o}}const Lf=new WeakMap,oi=Symbol(""),$v=Symbol(""),H_=Symbol("");function Ia(o,a,s){if(Xn&&No){let t=Lf.get(o);t||Lf.set(o,t=new Map);let c=t.get(s);c||(t.set(s,c=new wh),c.map=t,c.key=s),c.track()}}function Fs(o,a,s,t,c,m){const _=Lf.get(o);if(!_){q_++;return}const l=r=>{r&&r.trigger()};if(vg(),a==="clear")_.forEach(l);else{const r=Lt(o),i=r&&hg(s);if(r&&s==="length"){const d=Number(t);_.forEach((p,v)=>{(v==="length"||v===H_||!on(v)&&v>=d)&&l(p)})}else switch((s!==void 0||_.has(void 0))&&l(_.get(s)),i&&l(_.get(H_)),a){case"add":r?i&&l(_.get("length")):(l(_.get(oi)),Tr(o)&&l(_.get($v)));break;case"delete":r||(l(_.get(oi)),Tr(o)&&l(_.get($v)));break;case"set":Tr(o)&&l(_.get(oi));break}}gg()}function Yx(o,a){const s=Lf.get(o);return s&&s.get(a)}function ji(o){const a=bo(o);return a===o?a:(Ia(a,"iterate",H_),hn(o)?a:a.map(Ra))}function Dh(o){return Ia(o=bo(o),"iterate",H_),o}const Vx={__proto__:null,[Symbol.iterator](){return Cp(this,Symbol.iterator,Ra)},concat(...o){return ji(this).concat(...o.map(a=>Lt(a)?ji(a):a))},entries(){return Cp(this,"entries",o=>(o[1]=Ra(o[1]),o))},every(o,a){return Rs(this,"every",o,a,void 0,arguments)},filter(o,a){return Rs(this,"filter",o,a,s=>s.map(Ra),arguments)},find(o,a){return Rs(this,"find",o,a,Ra,arguments)},findIndex(o,a){return Rs(this,"findIndex",o,a,void 0,arguments)},findLast(o,a){return Rs(this,"findLast",o,a,Ra,arguments)},findLastIndex(o,a){return Rs(this,"findLastIndex",o,a,void 0,arguments)},forEach(o,a){return Rs(this,"forEach",o,a,void 0,arguments)},includes(...o){return xp(this,"includes",o)},indexOf(...o){return xp(this,"indexOf",o)},join(o){return ji(this).join(o)},lastIndexOf(...o){return xp(this,"lastIndexOf",o)},map(o,a){return Rs(this,"map",o,a,void 0,arguments)},pop(){return yd(this,"pop")},push(...o){return yd(this,"push",o)},reduce(o,...a){return mb(this,"reduce",o,a)},reduceRight(o,...a){return mb(this,"reduceRight",o,a)},shift(){return yd(this,"shift")},some(o,a){return Rs(this,"some",o,a,void 0,arguments)},splice(...o){return yd(this,"splice",o)},toReversed(){return ji(this).toReversed()},toSorted(o){return ji(this).toSorted(o)},toSpliced(...o){return ji(this).toSpliced(...o)},unshift(...o){return yd(this,"unshift",o)},values(){return Cp(this,"values",Ra)}};function Cp(o,a,s){const t=Dh(o),c=t[a]();return t!==o&&!hn(o)&&(c._next=c.next,c.next=()=>{const m=c._next();return m.value&&(m.value=s(m.value)),m}),c}const Bx=Array.prototype;function Rs(o,a,s,t,c,m){const _=Dh(o),l=_!==o&&!hn(o),r=_[a];if(r!==Bx[a]){const p=r.apply(o,m);return l?Ra(p):p}let i=s;_!==o&&(l?i=function(p,v){return s.call(this,Ra(p),v,o)}:s.length>2&&(i=function(p,v){return s.call(this,p,v,o)}));const d=r.call(_,i,t);return l&&c?c(d):d}function mb(o,a,s,t){const c=Dh(o);let m=s;return c!==o&&(hn(o)?s.length>3&&(m=function(_,l,r){return s.call(this,_,l,r,o)}):m=function(_,l,r){return s.call(this,_,Ra(l),r,o)}),c[a](m,...t)}function xp(o,a,s){const t=bo(o);Ia(t,"iterate",H_);const c=t[a](...s);return(c===-1||c===!1)&&Eh(s[0])?(s[0]=bo(s[0]),t[a](...s)):c}function yd(o,a,s=[]){Sl(),vg();const t=bo(o)[a].apply(o,s);return gg(),Tl(),t}const Ux=pn("__proto__,__v_isRef,__isVue"),i2=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(on));function qx(o){on(o)||(o=String(o));const a=bo(this);return Ia(a,"has",o),a.hasOwnProperty(o)}class r2{constructor(a=!1,s=!1){this._isReadonly=a,this._isShallow=s}get(a,s,t){if(s==="__v_skip")return a.__v_skip;const c=this._isReadonly,m=this._isShallow;if(s==="__v_isReactive")return!c;if(s==="__v_isReadonly")return c;if(s==="__v_isShallow")return m;if(s==="__v_raw")return t===(c?m?f2:m2:m?_2:u2).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(t)?a:void 0;const _=Lt(a);if(!c){let r;if(_&&(r=Vx[s]))return r;if(s==="hasOwnProperty")return qx}const l=Reflect.get(a,s,_a(a)?a:t);return(on(s)?i2.has(s):Ux(s))||(c||Ia(a,"get",s),m)?l:_a(l)?_&&hg(s)?l:l.value:So(l)?c?xh(l):Rn(l):l}}class d2 extends r2{constructor(a=!1){super(!1,a)}set(a,s,t,c){let m=a[s];if(!this._isShallow){const r=Al(m);if(!hn(t)&&!Al(t)&&(m=bo(m),t=bo(t)),!Lt(a)&&_a(m)&&!_a(t))return r?!1:(m.value=t,!0)}const _=Lt(a)&&hg(s)?Number(s)<a.length:Io(a,s),l=Reflect.set(a,s,t,_a(a)?a:c);return a===bo(c)&&(_?Ua(t,m)&&Fs(a,"set",s,t):Fs(a,"add",s,t)),l}deleteProperty(a,s){const t=Io(a,s);a[s];const c=Reflect.deleteProperty(a,s);return c&&t&&Fs(a,"delete",s,void 0),c}has(a,s){const t=Reflect.has(a,s);return(!on(s)||!i2.has(s))&&Ia(a,"has",s),t}ownKeys(a){return Ia(a,"iterate",Lt(a)?"length":oi),Reflect.ownKeys(a)}}class c2 extends r2{constructor(a=!1){super(!0,a)}set(a,s){return!0}deleteProperty(a,s){return!0}}const Hx=new d2,zx=new c2,Wx=new d2(!0),Kx=new c2(!0),wv=o=>o,Km=o=>Reflect.getPrototypeOf(o);function Gx(o,a,s){return function(...t){const c=this.__v_raw,m=bo(c),_=Tr(m),l=o==="entries"||o===Symbol.iterator&&_,r=o==="keys"&&_,i=c[o](...t),d=s?wv:a?Dv:Ra;return!a&&Ia(m,"iterate",r?$v:oi),{next(){const{value:p,done:v}=i.next();return v?{value:p,done:v}:{value:l?[d(p[0]),d(p[1])]:d(p),done:v}},[Symbol.iterator](){return this}}}}function Gm(o){return function(...a){return o==="delete"?!1:o==="clear"?void 0:this}}function Qx(o,a){const s={get(c){const m=this.__v_raw,_=bo(m),l=bo(c);o||(Ua(c,l)&&Ia(_,"get",c),Ia(_,"get",l));const{has:r}=Km(_),i=a?wv:o?Dv:Ra;if(r.call(_,c))return i(m.get(c));if(r.call(_,l))return i(m.get(l));m!==_&&m.get(c)},get size(){const c=this.__v_raw;return!o&&Ia(bo(c),"iterate",oi),Reflect.get(c,"size",c)},has(c){const m=this.__v_raw,_=bo(m),l=bo(c);return o||(Ua(c,l)&&Ia(_,"has",c),Ia(_,"has",l)),c===l?m.has(c):m.has(c)||m.has(l)},forEach(c,m){const _=this,l=_.__v_raw,r=bo(l),i=a?wv:o?Dv:Ra;return!o&&Ia(r,"iterate",oi),l.forEach((d,p)=>c.call(m,i(d),i(p),_))}};return vo(s,o?{add:Gm("add"),set:Gm("set"),delete:Gm("delete"),clear:Gm("clear")}:{add(c){!a&&!hn(c)&&!Al(c)&&(c=bo(c));const m=bo(this);return Km(m).has.call(m,c)||(m.add(c),Fs(m,"add",c,c)),this},set(c,m){!a&&!hn(m)&&!Al(m)&&(m=bo(m));const _=bo(this),{has:l,get:r}=Km(_);let i=l.call(_,c);i||(c=bo(c),i=l.call(_,c));const d=r.call(_,c);return _.set(c,m),i?Ua(m,d)&&Fs(_,"set",c,m):Fs(_,"add",c,m),this},delete(c){const m=bo(this),{has:_,get:l}=Km(m);let r=_.call(m,c);r||(c=bo(c),r=_.call(m,c)),l&&l.call(m,c);const i=m.delete(c);return r&&Fs(m,"delete",c,void 0),i},clear(){const c=bo(this),m=c.size!==0,_=c.clear();return m&&Fs(c,"clear",void 0,void 0),_}}),["keys","values","entries",Symbol.iterator].forEach(c=>{s[c]=Gx(c,o,a)}),s}function Ch(o,a){const s=Qx(o,a);return(t,c,m)=>c==="__v_isReactive"?!o:c==="__v_isReadonly"?o:c==="__v_raw"?t:Reflect.get(Io(s,c)&&c in t?s:t,c,m)}const Zx={get:Ch(!1,!1)},Jx={get:Ch(!1,!0)},Xx={get:Ch(!0,!1)},eP={get:Ch(!0,!0)},u2=new WeakMap,_2=new WeakMap,m2=new WeakMap,f2=new WeakMap;function tP(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oP(o){return o.__v_skip||!Object.isExtensible(o)?0:tP(mx(o))}function Rn(o){return Al(o)?o:Ph(o,!1,Hx,Zx,u2)}function z_(o){return Ph(o,!1,Wx,Jx,_2)}function xh(o){return Ph(o,!0,zx,Xx,m2)}function aP(o){return Ph(o,!0,Kx,eP,f2)}function Ph(o,a,s,t,c){if(!So(o)||o.__v_raw&&!(a&&o.__v_isReactive))return o;const m=c.get(o);if(m)return m;const _=oP(o);if(_===0)return o;const l=new Proxy(o,_===2?t:s);return c.set(o,l),l}function $l(o){return Al(o)?$l(o.__v_raw):!!(o&&o.__v_isReactive)}function Al(o){return!!(o&&o.__v_isReadonly)}function hn(o){return!!(o&&o.__v_isShallow)}function Eh(o){return o?!!o.__v_raw:!1}function bo(o){const a=o&&o.__v_raw;return a?bo(a):o}function h2(o){return!Io(o,"__v_skip")&&Object.isExtensible(o)&&W0(o,"__v_skip",!0),o}const Ra=o=>So(o)?Rn(o):o,Dv=o=>So(o)?xh(o):o;function _a(o){return o?o.__v_isRef===!0:!1}function h(o){return v2(o,!1)}function p2(o){return v2(o,!0)}function v2(o,a){return _a(o)?o:new nP(o,a)}class nP{constructor(a,s){this.dep=new wh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?a:bo(a),this._value=s?a:Ra(a),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(a){const s=this._rawValue,t=this.__v_isShallow||hn(a)||Al(a);a=t?a:bo(a),Ua(a,s)&&(this._rawValue=a,this._value=t?a:Ra(a),this.dep.trigger())}}function sP(o){o.dep&&o.dep.trigger()}function wl(o){return _a(o)?o.value:o}function lP(o){return Xt(o)?o():wl(o)}const iP={get:(o,a,s)=>a==="__v_raw"?o:wl(Reflect.get(o,a,s)),set:(o,a,s,t)=>{const c=o[a];return _a(c)&&!_a(s)?(c.value=s,!0):Reflect.set(o,a,s,t)}};function yg(o){return $l(o)?o:new Proxy(o,iP)}class rP{constructor(a){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new wh,{get:t,set:c}=a(s.track.bind(s),s.trigger.bind(s));this._get=t,this._set=c}get value(){return this._value=this._get()}set value(a){this._set(a)}}function g2(o){return new rP(o)}function dP(o){const a=Lt(o)?new Array(o.length):{};for(const s in o)a[s]=b2(o,s);return a}class cP{constructor(a,s,t){this._object=a,this._key=s,this._defaultValue=t,this.__v_isRef=!0,this._value=void 0}get value(){const a=this._object[this._key];return this._value=a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}get dep(){return Yx(bo(this._object),this._key)}}class uP{constructor(a){this._getter=a,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _P(o,a,s){return _a(o)?o:Xt(o)?new uP(o):So(o)&&arguments.length>1?b2(o,a,s):h(o)}function b2(o,a,s){const t=o[a];return _a(t)?t:new cP(o,a,s)}class mP{constructor(a,s,t){this.fn=a,this.setter=s,this._value=void 0,this.dep=new wh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=q_-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=t}notify(){if(this.flags|=16,!(this.flags&8)&&No!==this)return t2(this,!0),!0}get value(){const a=this.dep.track();return n2(this),a&&(a.version=this.dep.version),this._value}set value(a){this.setter&&this.setter(a)}}function fP(o,a,s=!1){let t,c;return Xt(o)?t=o:(t=o.get,c=o.set),new mP(t,c,s)}const hP={GET:"get",HAS:"has",ITERATE:"iterate"},pP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Qm={},Nf=new WeakMap;let _l;function vP(){return _l}function y2(o,a=!1,s=_l){if(s){let t=Nf.get(s);t||Nf.set(s,t=[]),t.push(o)}}function gP(o,a,s=po){const{immediate:t,deep:c,once:m,scheduler:_,augmentJob:l,call:r}=s,i=w=>c?w:hn(w)||c===!1||c===0?Ys(w,1):Ys(w);let d,p,v,g,D=!1,y=!1;if(_a(o)?(p=()=>o.value,D=hn(o)):$l(o)?(p=()=>i(o),D=!0):Lt(o)?(y=!0,D=o.some(w=>$l(w)||hn(w)),p=()=>o.map(w=>{if(_a(w))return w.value;if($l(w))return i(w);if(Xt(w))return r?r(w,2):w()})):Xt(o)?a?p=r?()=>r(o,2):o:p=()=>{if(v){Sl();try{v()}finally{Tl()}}const w=_l;_l=d;try{return r?r(o,3,[g]):o(g)}finally{_l=w}}:p=wa,a&&c){const w=p,T=c===!0?1/0:c;p=()=>Ys(w(),T)}const C=X0(),x=()=>{d.stop(),C&&C.active&&mg(C.effects,d)};if(m&&a){const w=a;a=(...T)=>{w(...T),x()}}let E=y?new Array(o.length).fill(Qm):Qm;const k=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(a){const T=d.run();if(c||D||(y?T.some((V,B)=>Ua(V,E[B])):Ua(T,E))){v&&v();const V=_l;_l=d;try{const B=[T,E===Qm?void 0:y&&E[0]===Qm?[]:E,g];r?r(a,3,B):a(...B),E=T}finally{_l=V}}}else d.run()};return l&&l(k),d=new U_(p),d.scheduler=_?()=>_(k,!1):k,g=w=>y2(w,!1,d),v=d.onStop=()=>{const w=Nf.get(d);if(w){if(r)r(w,4);else for(const T of w)T();Nf.delete(d)}},a?t?k(!0):E=d.run():_?_(k.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function Ys(o,a=1/0,s){if(a<=0||!So(o)||o.__v_skip||(s=s||new Set,s.has(o)))return o;if(s.add(o),a--,_a(o))Ys(o.value,a,s);else if(Lt(o))for(let t=0;t<o.length;t++)Ys(o[t],a,s);else if(_i(o)||Tr(o))o.forEach(t=>{Ys(t,a,s)});else if(bh(o)){for(const t in o)Ys(o[t],a,s);for(const t of Object.getOwnPropertySymbols(o))Object.prototype.propertyIsEnumerable.call(o,t)&&Ys(o[t],a,s)}return o}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const k2=[];function bP(o){k2.push(o)}function yP(){k2.pop()}function kP(o,a){}const $P={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},wP={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ed(o,a,s,t){try{return t?o(...t):o()}catch(c){fi(c,a,s)}}function Tn(o,a,s,t){if(Xt(o)){const c=ed(o,a,s,t);return c&&fg(c)&&c.catch(m=>{fi(m,a,s)}),c}if(Lt(o)){const c=[];for(let m=0;m<o.length;m++)c.push(Tn(o[m],a,s,t));return c}}function fi(o,a,s,t=!0){const c=a?a.vnode:null,{errorHandler:m,throwUnhandledErrorInProduction:_}=a&&a.appContext.config||po;if(a){let l=a.parent;const r=a.proxy,i=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](o,r,i)===!1)return}l=l.parent}if(m){Sl(),ed(m,null,10,[o,r,i]),Tl();return}}DP(o,s,c,t,_)}function DP(o,a,s,t=!0,c=!1){if(c)throw o;console.error(o)}const qa=[];let us=-1;const Mr=[];let ml=null,br=0;const $2=Promise.resolve();let Ff=null;function bt(o){const a=Ff||$2;return o?a.then(this?o.bind(this):o):a}function CP(o){let a=us+1,s=qa.length;for(;a<s;){const t=a+s>>>1,c=qa[t],m=K_(c);m<o||m===o&&c.flags&2?a=t+1:s=t}return a}function kg(o){if(!(o.flags&1)){const a=K_(o),s=qa[qa.length-1];!s||!(o.flags&2)&&a>=K_(s)?qa.push(o):qa.splice(CP(a),0,o),o.flags|=1,w2()}}function w2(){Ff||(Ff=$2.then(D2))}function W_(o){Lt(o)?Mr.push(...o):ml&&o.id===-1?ml.splice(br+1,0,o):o.flags&1||(Mr.push(o),o.flags|=1),w2()}function fb(o,a,s=us+1){for(;s<qa.length;s++){const t=qa[s];if(t&&t.flags&2){if(o&&t.id!==o.uid)continue;qa.splice(s,1),s--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function Yf(o){if(Mr.length){const a=[...new Set(Mr)].sort((s,t)=>K_(s)-K_(t));if(Mr.length=0,ml){ml.push(...a);return}for(ml=a,br=0;br<ml.length;br++){const s=ml[br];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ml=null,br=0}}const K_=o=>o.id==null?o.flags&2?-1:1/0:o.id;function D2(o){try{for(us=0;us<qa.length;us++){const a=qa[us];a&&!(a.flags&8)&&(a.flags&4&&(a.flags&=-2),ed(a,a.i,a.i?15:14),a.flags&4||(a.flags&=-2))}}finally{for(;us<qa.length;us++){const a=qa[us];a&&(a.flags&=-2)}us=-1,qa.length=0,Yf(),Ff=null,(qa.length||Mr.length)&&D2()}}let yr,Zm=[];function C2(o,a){var s,t;yr=o,yr?(yr.enabled=!0,Zm.forEach(({event:c,args:m})=>yr.emit(c,...m)),Zm=[]):typeof window<"u"&&window.HTMLElement&&!((t=(s=window.navigator)==null?void 0:s.userAgent)!=null&&t.includes("jsdom"))?((a.__VUE_DEVTOOLS_HOOK_REPLAY__=a.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(m=>{C2(m,a)}),setTimeout(()=>{yr||(a.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Zm=[])},3e3)):Zm=[]}let ca=null,Ah=null;function G_(o){const a=ca;return ca=o,Ah=o&&o.type.__scopeId||null,a}function xP(o){Ah=o}function PP(){Ah=null}const EP=o=>Ko;function Ko(o,a=ca,s){if(!a||o._n)return o;const t=(...c)=>{t._d&&Sv(-1);const m=G_(a);let _;try{_=o(...c)}finally{G_(m),t._d&&Sv(1)}return _};return t._n=!0,t._c=!0,t._d=!0,t}function Y(o,a){if(ca===null)return o;const s=Pm(ca),t=o.dirs||(o.dirs=[]);for(let c=0;c<a.length;c++){let[m,_,l,r=po]=a[c];m&&(Xt(m)&&(m={mounted:m,updated:m}),m.deep&&Ys(_),t.push({dir:m,instance:s,value:_,oldValue:void 0,arg:l,modifiers:r}))}return o}function _s(o,a,s,t){const c=o.dirs,m=a&&a.dirs;for(let _=0;_<c.length;_++){const l=c[_];m&&(l.oldValue=m[_].value);let r=l.dir[t];r&&(Sl(),Tn(r,s,8,[o.el,l,o,a]),Tl())}}const x2=Symbol("_vte"),P2=o=>o.__isTeleport,S_=o=>o&&(o.disabled||o.disabled===""),hb=o=>o&&(o.defer||o.defer===""),pb=o=>typeof SVGElement<"u"&&o instanceof SVGElement,vb=o=>typeof MathMLElement=="function"&&o instanceof MathMLElement,Cv=(o,a)=>{const s=o&&o.to;return ao(s)?a?a(s):null:s},E2={name:"Teleport",__isTeleport:!0,process(o,a,s,t,c,m,_,l,r,i){const{mc:d,pc:p,pbc:v,o:{insert:g,querySelector:D,createText:y,createComment:C}}=i,x=S_(a.props);let{shapeFlag:E,children:k,dynamicChildren:w}=a;if(o==null){const T=a.el=y(""),V=a.anchor=y("");g(T,s,t),g(V,s,t);const B=(L,R)=>{E&16&&(c&&c.isCE&&(c.ce._teleportTarget=L),d(k,L,R,c,m,_,l,r))},O=()=>{const L=a.target=Cv(a.props,D),R=I2(L,a,y,g);L&&(_!=="svg"&&pb(L)?_="svg":_!=="mathml"&&vb(L)&&(_="mathml"),x||(B(L,R),bf(a,!1)))};x&&(B(s,V),bf(a,!0)),hb(a.props)?ia(()=>{O(),a.el.__isMounted=!0},m):O()}else{if(hb(a.props)&&!o.el.__isMounted){ia(()=>{E2.process(o,a,s,t,c,m,_,l,r,i),delete o.el.__isMounted},m);return}a.el=o.el,a.targetStart=o.targetStart;const T=a.anchor=o.anchor,V=a.target=o.target,B=a.targetAnchor=o.targetAnchor,O=S_(o.props),L=O?s:V,R=O?T:B;if(_==="svg"||pb(V)?_="svg":(_==="mathml"||vb(V))&&(_="mathml"),w?(v(o.dynamicChildren,w,L,c,m,_,l),Sg(o,a,!0)):r||p(o,a,L,R,c,m,_,l,!1),x)O?a.props&&o.props&&a.props.to!==o.props.to&&(a.props.to=o.props.to):Jm(a,s,T,i,1);else if((a.props&&a.props.to)!==(o.props&&o.props.to)){const P=a.target=Cv(a.props,D);P&&Jm(a,P,null,i,0)}else O&&Jm(a,V,B,i,1);bf(a,x)}},remove(o,a,s,{um:t,o:{remove:c}},m){const{shapeFlag:_,children:l,anchor:r,targetStart:i,targetAnchor:d,target:p,props:v}=o;if(p&&(c(i),c(d)),m&&c(r),_&16){const g=m||!S_(v);for(let D=0;D<l.length;D++){const y=l[D];t(y,a,s,g,!!y.dynamicChildren)}}},move:Jm,hydrate:AP};function Jm(o,a,s,{o:{insert:t},m:c},m=2){m===0&&t(o.targetAnchor,a,s);const{el:_,anchor:l,shapeFlag:r,children:i,props:d}=o,p=m===2;if(p&&t(_,a,s),(!p||S_(d))&&r&16)for(let v=0;v<i.length;v++)c(i[v],a,s,2);p&&t(l,a,s)}function AP(o,a,s,t,c,m,{o:{nextSibling:_,parentNode:l,querySelector:r,insert:i,createText:d}},p){const v=a.target=Cv(a.props,r);if(v){const g=S_(a.props),D=v._lpa||v.firstChild;if(a.shapeFlag&16)if(g)a.anchor=p(_(o),a,l(o),s,t,c,m),a.targetStart=D,a.targetAnchor=D&&_(D);else{a.anchor=_(o);let y=D;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")a.targetStart=y;else if(y.data==="teleport anchor"){a.targetAnchor=y,v._lpa=a.targetAnchor&&_(a.targetAnchor);break}}y=_(y)}a.targetAnchor||I2(v,a,d,i),p(D&&_(D),a,v,s,t,c,m)}bf(a,g)}return a.anchor&&_(a.anchor)}const A2=E2;function bf(o,a){const s=o.ctx;if(s&&s.ut){let t,c;for(a?(t=o.el,c=o.anchor):(t=o.targetStart,c=o.targetAnchor);t&&t!==c;)t.nodeType===1&&t.setAttribute("data-v-owner",s.uid),t=t.nextSibling;s.ut()}}function I2(o,a,s,t){const c=a.targetStart=s(""),m=a.targetAnchor=s("");return c[x2]=m,o&&(t(c,o),t(m,o)),m}const fl=Symbol("_leaveCb"),Xm=Symbol("_enterCb");function $g(){const o={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qe(()=>{o.isMounted=!0}),td(()=>{o.isUnmounting=!0}),o}const wn=[Function,Array],wg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wn,onEnter:wn,onAfterEnter:wn,onEnterCancelled:wn,onBeforeLeave:wn,onLeave:wn,onAfterLeave:wn,onLeaveCancelled:wn,onBeforeAppear:wn,onAppear:wn,onAfterAppear:wn,onAppearCancelled:wn},R2=o=>{const a=o.subTree;return a.component?R2(a.component):a},IP={name:"BaseTransition",props:wg,setup(o,{slots:a}){const s=Ha(),t=$g();return()=>{const c=a.default&&Ih(a.default(),!0);if(!c||!c.length)return;const m=S2(c),_=bo(o),{mode:l}=_;if(t.isLeaving)return Pp(m);const r=gb(m);if(!r)return Pp(m);let i=Ur(r,_,t,s,p=>i=p);r.type!==aa&&Ks(r,i);let d=s.subTree&&gb(s.subTree);if(d&&d.type!==aa&&!Gn(r,d)&&R2(s).type!==aa){let p=Ur(d,_,t,s);if(Ks(d,p),l==="out-in"&&r.type!==aa)return t.isLeaving=!0,p.afterLeave=()=>{t.isLeaving=!1,s.job.flags&8||s.update(),delete p.afterLeave,d=void 0},Pp(m);l==="in-out"&&r.type!==aa?p.delayLeave=(v,g,D)=>{const y=j2(t,d);y[String(d.key)]=d,v[fl]=()=>{g(),v[fl]=void 0,delete i.delayedLeave,d=void 0},i.delayedLeave=()=>{D(),delete i.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return m}}};function S2(o){let a=o[0];if(o.length>1){for(const s of o)if(s.type!==aa){a=s;break}}return a}const T2=IP;function j2(o,a){const{leavingVNodes:s}=o;let t=s.get(a.type);return t||(t=Object.create(null),s.set(a.type,t)),t}function Ur(o,a,s,t,c){const{appear:m,mode:_,persisted:l=!1,onBeforeEnter:r,onEnter:i,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:v,onLeave:g,onAfterLeave:D,onLeaveCancelled:y,onBeforeAppear:C,onAppear:x,onAfterAppear:E,onAppearCancelled:k}=a,w=String(o.key),T=j2(s,o),V=(L,R)=>{L&&Tn(L,t,9,R)},B=(L,R)=>{const P=R[1];V(L,R),Lt(L)?L.every(I=>I.length<=1)&&P():L.length<=1&&P()},O={mode:_,persisted:l,beforeEnter(L){let R=r;if(!s.isMounted)if(m)R=C||r;else return;L[fl]&&L[fl](!0);const P=T[w];P&&Gn(o,P)&&P.el[fl]&&P.el[fl](),V(R,[L])},enter(L){let R=i,P=d,I=p;if(!s.isMounted)if(m)R=x||i,P=E||d,I=k||p;else return;let S=!1;const F=L[Xm]=N=>{S||(S=!0,N?V(I,[L]):V(P,[L]),O.delayedLeave&&O.delayedLeave(),L[Xm]=void 0)};R?B(R,[L,F]):F()},leave(L,R){const P=String(o.key);if(L[Xm]&&L[Xm](!0),s.isUnmounting)return R();V(v,[L]);let I=!1;const S=L[fl]=F=>{I||(I=!0,R(),F?V(y,[L]):V(D,[L]),L[fl]=void 0,T[P]===o&&delete T[P])};T[P]=o,g?B(g,[L,S]):S()},clone(L){const R=Ur(L,a,s,t,c);return c&&c(R),R}};return O}function Pp(o){if(wm(o))return o=ts(o),o.children=null,o}function gb(o){if(!wm(o))return P2(o.type)&&o.children?S2(o.children):o;const{shapeFlag:a,children:s}=o;if(s){if(a&16)return s[0];if(a&32&&Xt(s.default))return s.default()}}function Ks(o,a){o.shapeFlag&6&&o.component?(o.transition=a,Ks(o.component.subTree,a)):o.shapeFlag&128?(o.ssContent.transition=a.clone(o.ssContent),o.ssFallback.transition=a.clone(o.ssFallback)):o.transition=a}function Ih(o,a=!1,s){let t=[],c=0;for(let m=0;m<o.length;m++){let _=o[m];const l=s==null?_.key:String(s)+String(_.key!=null?_.key:m);_.type===W?(_.patchFlag&128&&c++,t=t.concat(Ih(_.children,a,l))):(a||_.type!==aa)&&t.push(l!=null?ts(_,{key:l}):_)}if(c>1)for(let m=0;m<t.length;m++)t[m].patchFlag=-2;return t}/*! #__NO_SIDE_EFFECTS__ */function Oa(o,a){return Xt(o)?vo({name:o.name},a,{setup:o}):o}function O2(){const o=Ha();return o?(o.appContext.config.idPrefix||"v")+"-"+o.ids[0]+o.ids[1]++:""}function Dg(o){o.ids=[o.ids[0]+o.ids[2]+++"-",0,0]}function RP(o){const a=Ha(),s=p2(null);if(a){const c=a.refs===po?a.refs={}:a.refs;Object.defineProperty(c,o,{enumerable:!0,get:()=>s.value,set:m=>s.value=m})}return s}function Q_(o,a,s,t,c=!1){if(Lt(o)){o.forEach((D,y)=>Q_(D,a&&(Lt(a)?a[y]:a),s,t,c));return}if(Dl(t)&&!c){t.shapeFlag&512&&t.type.__asyncResolved&&t.component.subTree.component&&Q_(o,a,s,t.component.subTree);return}const m=t.shapeFlag&4?Pm(t.component):t.el,_=c?null:m,{i:l,r}=o,i=a&&a.r,d=l.refs===po?l.refs={}:l.refs,p=l.setupState,v=bo(p),g=p===po?()=>!1:D=>Io(v,D);if(i!=null&&i!==r&&(ao(i)?(d[i]=null,g(i)&&(p[i]=null)):_a(i)&&(i.value=null)),Xt(r))ed(r,l,12,[_,d]);else{const D=ao(r),y=_a(r);if(D||y){const C=()=>{if(o.f){const x=D?g(r)?p[r]:d[r]:r.value;c?Lt(x)&&mg(x,m):Lt(x)?x.includes(m)||x.push(m):D?(d[r]=[m],g(r)&&(p[r]=d[r])):(r.value=[m],o.k&&(d[o.k]=r.value))}else D?(d[r]=_,g(r)&&(p[r]=_)):y&&(r.value=_,o.k&&(d[o.k]=_))};_?(C.id=-1,ia(C,s)):C()}}}let bb=!1;const Oi=()=>{bb||(console.error("Hydration completed but contains mismatches."),bb=!0)},SP=o=>o.namespaceURI.includes("svg")&&o.tagName!=="foreignObject",TP=o=>o.namespaceURI.includes("MathML"),ef=o=>{if(o.nodeType===1){if(SP(o))return"svg";if(TP(o))return"mathml"}},Er=o=>o.nodeType===8;function jP(o){const{mt:a,p:s,o:{patchProp:t,createText:c,nextSibling:m,parentNode:_,remove:l,insert:r,createComment:i}}=o,d=(k,w)=>{if(!w.hasChildNodes()){s(null,k,w),Yf(),w._vnode=k;return}p(w.firstChild,k,null,null,null),Yf(),w._vnode=k},p=(k,w,T,V,B,O=!1)=>{O=O||!!w.dynamicChildren;const L=Er(k)&&k.data==="[",R=()=>y(k,w,T,V,B,L),{type:P,ref:I,shapeFlag:S,patchFlag:F}=w;let N=k.nodeType;w.el=k,F===-2&&(O=!1,w.dynamicChildren=null);let U=null;switch(P){case Cl:N!==3?w.children===""?(r(w.el=c(""),_(k),k),U=k):U=R():(k.data!==w.children&&(Oi(),k.data=w.children),U=m(k));break;case aa:E(k)?(U=m(k),x(w.el=k.content.firstChild,k,T)):N!==8||L?U=R():U=m(k);break;case ni:if(L&&(k=m(k),N=k.nodeType),N===1||N===3){U=k;const Z=!w.children.length;for(let ce=0;ce<w.staticCount;ce++)Z&&(w.children+=U.nodeType===1?U.outerHTML:U.data),ce===w.staticCount-1&&(w.anchor=U),U=m(U);return L?m(U):U}else R();break;case W:L?U=D(k,w,T,V,B,O):U=R();break;default:if(S&1)(N!==1||w.type.toLowerCase()!==k.tagName.toLowerCase())&&!E(k)?U=R():U=v(k,w,T,V,B,O);else if(S&6){w.slotScopeIds=B;const Z=_(k);if(L?U=C(k):Er(k)&&k.data==="teleport start"?U=C(k,k.data,"teleport end"):U=m(k),a(w,Z,null,T,V,ef(Z),O),Dl(w)&&!w.type.__asyncResolved){let ce;L?(ce=Be(W),ce.anchor=U?U.previousSibling:Z.lastChild):ce=k.nodeType===3?le(""):Be("div"),ce.el=k,w.component.subTree=ce}}else S&64?N!==8?U=R():U=w.type.hydrate(k,w,T,V,B,O,o,g):S&128&&(U=w.type.hydrate(k,w,T,V,ef(_(k)),B,O,o,p))}return I!=null&&Q_(I,null,V,w),U},v=(k,w,T,V,B,O)=>{O=O||!!w.dynamicChildren;const{type:L,props:R,patchFlag:P,shapeFlag:I,dirs:S,transition:F}=w,N=L==="input"||L==="option";if(N||P!==-1){S&&_s(w,null,T,"created");let U=!1;if(E(k)){U=ik(null,F)&&T&&T.vnode.props&&T.vnode.props.appear;const ce=k.content.firstChild;U&&F.beforeEnter(ce),x(ce,k,T),w.el=k=ce}if(I&16&&!(R&&(R.innerHTML||R.textContent))){let ce=g(k.firstChild,w,k,T,V,B,O);for(;ce;){tf(k,1)||Oi();const ae=ce;ce=ce.nextSibling,l(ae)}}else if(I&8){let ce=w.children;ce[0]===`
`&&(k.tagName==="PRE"||k.tagName==="TEXTAREA")&&(ce=ce.slice(1)),k.textContent!==ce&&(tf(k,0)||Oi(),k.textContent=w.children)}if(R){if(N||!O||P&48){const ce=k.tagName.includes("-");for(const ae in R)(N&&(ae.endsWith("value")||ae==="indeterminate")||ui(ae)&&!kl(ae)||ae[0]==="."||ce)&&t(k,ae,null,R[ae],void 0,T)}else if(R.onClick)t(k,"onClick",null,R.onClick,void 0,T);else if(P&4&&$l(R.style))for(const ce in R.style)R.style[ce]}let Z;(Z=R&&R.onVnodeBeforeMount)&&Ga(Z,T,w),S&&_s(w,null,T,"beforeMount"),((Z=R&&R.onVnodeMounted)||S||U)&&pk(()=>{Z&&Ga(Z,T,w),U&&F.enter(k),S&&_s(w,null,T,"mounted")},V)}return k.nextSibling},g=(k,w,T,V,B,O,L)=>{L=L||!!w.dynamicChildren;const R=w.children,P=R.length;for(let I=0;I<P;I++){const S=L?R[I]:R[I]=Za(R[I]),F=S.type===Cl;k?(F&&!L&&I+1<P&&Za(R[I+1]).type===Cl&&(r(c(k.data.slice(S.children.length)),T,m(k)),k.data=S.children),k=p(k,S,V,B,O,L)):F&&!S.children?r(S.el=c(""),T):(tf(T,1)||Oi(),s(null,S,T,null,V,B,ef(T),O))}return k},D=(k,w,T,V,B,O)=>{const{slotScopeIds:L}=w;L&&(B=B?B.concat(L):L);const R=_(k),P=g(m(k),w,R,T,V,B,O);return P&&Er(P)&&P.data==="]"?m(w.anchor=P):(Oi(),r(w.anchor=i("]"),R,P),P)},y=(k,w,T,V,B,O)=>{if(tf(k.parentElement,1)||Oi(),w.el=null,O){const P=C(k);for(;;){const I=m(k);if(I&&I!==P)l(I);else break}}const L=m(k),R=_(k);return l(k),s(null,w,R,L,T,V,ef(R),B),T&&(T.vnode.el=w.el,jh(T,w.el)),L},C=(k,w="[",T="]")=>{let V=0;for(;k;)if(k=m(k),k&&Er(k)&&(k.data===w&&V++,k.data===T)){if(V===0)return m(k);V--}return k},x=(k,w,T)=>{const V=w.parentNode;V&&V.replaceChild(k,w);let B=T;for(;B;)B.vnode.el===w&&(B.vnode.el=B.subTree.el=k),B=B.parent},E=k=>k.nodeType===1&&k.tagName==="TEMPLATE";return[d,p]}const yb="data-allow-mismatch",OP={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function tf(o,a){if(a===0||a===1)for(;o&&!o.hasAttribute(yb);)o=o.parentElement;const s=o&&o.getAttribute(yb);if(s==null)return!1;if(s==="")return!0;{const t=s.split(",");return a===0&&t.includes("children")?!0:s.split(",").includes(OP[a])}}const MP=kh().requestIdleCallback||(o=>setTimeout(o,1)),LP=kh().cancelIdleCallback||(o=>clearTimeout(o)),NP=(o=1e4)=>a=>{const s=MP(a,{timeout:o});return()=>LP(s)};function FP(o){const{top:a,left:s,bottom:t,right:c}=o.getBoundingClientRect(),{innerHeight:m,innerWidth:_}=window;return(a>0&&a<m||t>0&&t<m)&&(s>0&&s<_||c>0&&c<_)}const YP=o=>(a,s)=>{const t=new IntersectionObserver(c=>{for(const m of c)if(m.isIntersecting){t.disconnect(),a();break}},o);return s(c=>{if(c instanceof Element){if(FP(c))return a(),t.disconnect(),!1;t.observe(c)}}),()=>t.disconnect()},VP=o=>a=>{if(o){const s=matchMedia(o);if(s.matches)a();else return s.addEventListener("change",a,{once:!0}),()=>s.removeEventListener("change",a)}},BP=(o=[])=>(a,s)=>{ao(o)&&(o=[o]);let t=!1;const c=_=>{t||(t=!0,m(),a(),_.target.dispatchEvent(new _.constructor(_.type,_)))},m=()=>{s(_=>{for(const l of o)_.removeEventListener(l,c)})};return s(_=>{for(const l of o)_.addEventListener(l,c,{once:!0})}),m};function UP(o,a){if(Er(o)&&o.data==="["){let s=1,t=o.nextSibling;for(;t;){if(t.nodeType===1){if(a(t)===!1)break}else if(Er(t))if(t.data==="]"){if(--s===0)break}else t.data==="["&&s++;t=t.nextSibling}}else a(o)}const Dl=o=>!!o.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qP(o){Xt(o)&&(o={loader:o});const{loader:a,loadingComponent:s,errorComponent:t,delay:c=200,hydrate:m,timeout:_,suspensible:l=!0,onError:r}=o;let i=null,d,p=0;const v=()=>(p++,i=null,g()),g=()=>{let D;return i||(D=i=a().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),r)return new Promise((C,x)=>{r(y,()=>C(v()),()=>x(y),p+1)});throw y}).then(y=>D!==i&&i?i:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),d=y,y)))};return Oa({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(D,y,C){const x=m?()=>{const E=m(C,k=>UP(D,k));E&&(y.bum||(y.bum=[])).push(E)}:C;d?x():g().then(()=>!y.isUnmounted&&x())},get __asyncResolved(){return d},setup(){const D=da;if(Dg(D),d)return()=>Ep(d,D);const y=k=>{i=null,fi(k,D,13,!t)};if(l&&D.suspense||qr)return g().then(k=>()=>Ep(k,D)).catch(k=>(y(k),()=>t?Be(t,{error:k}):null));const C=h(!1),x=h(),E=h(!!c);return c&&setTimeout(()=>{E.value=!1},c),_!=null&&setTimeout(()=>{if(!C.value&&!x.value){const k=new Error(`Async component timed out after ${_}ms.`);y(k),x.value=k}},_),g().then(()=>{C.value=!0,D.parent&&wm(D.parent.vnode)&&D.parent.update()}).catch(k=>{y(k),x.value=k}),()=>{if(C.value&&d)return Ep(d,D);if(x.value&&t)return Be(t,{error:x.value});if(s&&!E.value)return Be(s)}}})}function Ep(o,a){const{ref:s,props:t,children:c,ce:m}=a.vnode,_=Be(o,t,c);return _.ref=s,_.ce=m,delete a.vnode.ce,_}const wm=o=>o.type.__isKeepAlive,HP={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(o,{slots:a}){const s=Ha(),t=s.ctx;if(!t.renderer)return()=>{const E=a.default&&a.default();return E&&E.length===1?E[0]:E};const c=new Map,m=new Set;let _=null;const l=s.suspense,{renderer:{p:r,m:i,um:d,o:{createElement:p}}}=t,v=p("div");t.activate=(E,k,w,T,V)=>{const B=E.component;i(E,k,w,0,l),r(B.vnode,E,k,w,B,l,T,E.slotScopeIds,V),ia(()=>{B.isDeactivated=!1,B.a&&Or(B.a);const O=E.props&&E.props.onVnodeMounted;O&&Ga(O,B.parent,E)},l)},t.deactivate=E=>{const k=E.component;Bf(k.m),Bf(k.a),i(E,v,null,1,l),ia(()=>{k.da&&Or(k.da);const w=E.props&&E.props.onVnodeUnmounted;w&&Ga(w,k.parent,E),k.isDeactivated=!0},l)};function g(E){Ap(E),d(E,s,l,!0)}function D(E){c.forEach((k,w)=>{const T=Lv(k.type);T&&!E(T)&&y(w)})}function y(E){const k=c.get(E);k&&(!_||!Gn(k,_))?g(k):_&&Ap(_),c.delete(E),m.delete(E)}ot(()=>[o.include,o.exclude],([E,k])=>{E&&D(w=>Ec(E,w)),k&&D(w=>!Ec(k,w))},{flush:"post",deep:!0});let C=null;const x=()=>{C!=null&&(Uf(s.subTree.type)?ia(()=>{c.set(C,of(s.subTree))},s.subTree.suspense):c.set(C,of(s.subTree)))};return Qe(x),Dm(x),td(()=>{c.forEach(E=>{const{subTree:k,suspense:w}=s,T=of(k);if(E.type===T.type&&E.key===T.key){Ap(T);const V=T.component.da;V&&ia(V,w);return}g(E)})}),()=>{if(C=null,!a.default)return _=null;const E=a.default(),k=E[0];if(E.length>1)return _=null,E;if(!Gs(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return _=null,k;let w=of(k);if(w.type===aa)return _=null,w;const T=w.type,V=Lv(Dl(w)?w.type.__asyncResolved||{}:T),{include:B,exclude:O,max:L}=o;if(B&&(!V||!Ec(B,V))||O&&V&&Ec(O,V))return w.shapeFlag&=-257,_=w,k;const R=w.key==null?T:w.key,P=c.get(R);return w.el&&(w=ts(w),k.shapeFlag&128&&(k.ssContent=w)),C=R,P?(w.el=P.el,w.component=P.component,w.transition&&Ks(w,w.transition),w.shapeFlag|=512,m.delete(R),m.add(R)):(m.add(R),L&&m.size>parseInt(L,10)&&y(m.values().next().value)),w.shapeFlag|=256,_=w,Uf(k.type)?k:w}}},zP=HP;function Ec(o,a){return Lt(o)?o.some(s=>Ec(s,a)):ao(o)?o.split(",").includes(a):_x(o)?(o.lastIndex=0,o.test(a)):!1}function M2(o,a){N2(o,"a",a)}function L2(o,a){N2(o,"da",a)}function N2(o,a,s=da){const t=o.__wdc||(o.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return o()});if(Rh(a,t,s),s){let c=s.parent;for(;c&&c.parent;)wm(c.parent.vnode)&&WP(t,a,s,c),c=c.parent}}function WP(o,a,s,t){const c=Rh(a,o,t,!0);Cm(()=>{mg(t[a],c)},s)}function Ap(o){o.shapeFlag&=-257,o.shapeFlag&=-513}function of(o){return o.shapeFlag&128?o.ssContent:o}function Rh(o,a,s=da,t=!1){if(s){const c=s[o]||(s[o]=[]),m=a.__weh||(a.__weh=(..._)=>{Sl();const l=di(s),r=Tn(a,s,o,_);return l(),Tl(),r});return t?c.unshift(m):c.push(m),m}}const Zs=o=>(a,s=da)=>{(!qr||o==="sp")&&Rh(o,(...t)=>a(...t),s)},F2=Zs("bm"),Qe=Zs("m"),Cg=Zs("bu"),Dm=Zs("u"),td=Zs("bum"),Cm=Zs("um"),Y2=Zs("sp"),V2=Zs("rtg"),B2=Zs("rtc");function U2(o,a=da){Rh("ec",o,a)}const xg="components",KP="directives";function de(o,a){return Eg(xg,o,!0,a)||o}const q2=Symbol.for("v-ndc");function $a(o){return ao(o)?Eg(xg,o,!1)||o:o||q2}function Pg(o){return Eg(KP,o)}function Eg(o,a,s=!0,t=!1){const c=ca||da;if(c){const m=c.type;if(o===xg){const l=Lv(m,!1);if(l&&(l===a||l===Uo(a)||l===mi(Uo(a))))return m}const _=kb(c[o]||m[o],a)||kb(c.appContext[o],a);return!_&&t?m:_}}function kb(o,a){return o&&(o[a]||o[Uo(a)]||o[mi(Uo(a))])}function X(o,a,s,t){let c;const m=s&&s[t],_=Lt(o);if(_||ao(o)){const l=_&&$l(o);let r=!1;l&&(r=!hn(o),o=Dh(o)),c=new Array(o.length);for(let i=0,d=o.length;i<d;i++)c[i]=a(r?Ra(o[i]):o[i],i,void 0,m&&m[i])}else if(typeof o=="number"){c=new Array(o);for(let l=0;l<o;l++)c[l]=a(l+1,l,void 0,m&&m[l])}else if(So(o))if(o[Symbol.iterator])c=Array.from(o,(l,r)=>a(l,r,void 0,m&&m[r]));else{const l=Object.keys(o);c=new Array(l.length);for(let r=0,i=l.length;r<i;r++){const d=l[r];c[r]=a(o[d],d,r,m&&m[r])}}else c=[];return s&&(s[t]=c),c}function GP(o,a){for(let s=0;s<a.length;s++){const t=a[s];if(Lt(t))for(let c=0;c<t.length;c++)o[t[c].name]=t[c].fn;else t&&(o[t.name]=t.key?(...c)=>{const m=t.fn(...c);return m&&(m.key=t.key),m}:t.fn)}return o}function jo(o,a,s={},t,c){if(ca.ce||ca.parent&&Dl(ca.parent)&&ca.parent.ce)return a!=="default"&&(s.name=a),u(),fe(W,null,[Be("slot",s,t&&t())],64);let m=o[a];m&&m._c&&(m._d=!1),u();const _=m&&Ag(m(s)),l=s.key||_&&_.key,r=fe(W,{key:(l&&!on(l)?l:`_${a}`)+(!_&&t?"_fb":"")},_||(t?t():[]),_&&o._===1?64:-2);return!c&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),m&&m._c&&(m._d=!0),r}function Ag(o){return o.some(a=>Gs(a)?!(a.type===aa||a.type===W&&!Ag(a.children)):!0)?o:null}function H2(o,a){const s={};for(const t in o)s[a&&/[A-Z]/.test(t)?`on:${t}`:jr(t)]=o[t];return s}const xv=o=>o?$k(o)?Pm(o):xv(o.parent):null,T_=vo(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>xv(o.parent),$root:o=>xv(o.root),$host:o=>o.ce,$emit:o=>o.emit,$options:o=>Ig(o),$forceUpdate:o=>o.f||(o.f=()=>{kg(o.update)}),$nextTick:o=>o.n||(o.n=bt.bind(o.proxy)),$watch:o=>x4.bind(o)}),Ip=(o,a)=>o!==po&&!o.__isScriptSetup&&Io(o,a),Pv={get({_:o},a){if(a==="__v_skip")return!0;const{ctx:s,setupState:t,data:c,props:m,accessCache:_,type:l,appContext:r}=o;let i;if(a[0]!=="$"){const g=_[a];if(g!==void 0)switch(g){case 1:return t[a];case 2:return c[a];case 4:return s[a];case 3:return m[a]}else{if(Ip(t,a))return _[a]=1,t[a];if(c!==po&&Io(c,a))return _[a]=2,c[a];if((i=o.propsOptions[0])&&Io(i,a))return _[a]=3,m[a];if(s!==po&&Io(s,a))return _[a]=4,s[a];Ev&&(_[a]=0)}}const d=T_[a];let p,v;if(d)return a==="$attrs"&&Ia(o.attrs,"get",""),d(o);if((p=l.__cssModules)&&(p=p[a]))return p;if(s!==po&&Io(s,a))return _[a]=4,s[a];if(v=r.config.globalProperties,Io(v,a))return v[a]},set({_:o},a,s){const{data:t,setupState:c,ctx:m}=o;return Ip(c,a)?(c[a]=s,!0):t!==po&&Io(t,a)?(t[a]=s,!0):Io(o.props,a)||a[0]==="$"&&a.slice(1)in o?!1:(m[a]=s,!0)},has({_:{data:o,setupState:a,accessCache:s,ctx:t,appContext:c,propsOptions:m}},_){let l;return!!s[_]||o!==po&&Io(o,_)||Ip(a,_)||(l=m[0])&&Io(l,_)||Io(t,_)||Io(T_,_)||Io(c.config.globalProperties,_)},defineProperty(o,a,s){return s.get!=null?o._.accessCache[a]=0:Io(s,"value")&&this.set(o,a,s.value,null),Reflect.defineProperty(o,a,s)}},QP=vo({},Pv,{get(o,a){if(a!==Symbol.unscopables)return Pv.get(o,a,o)},has(o,a){return a[0]!=="_"&&!bx(a)}});function ZP(){return null}function JP(){return null}function XP(o){}function e4(o){}function t4(){return null}function o4(){}function a4(o,a){return null}function n4(){return z2().slots}function s4(){return z2().attrs}function z2(){const o=Ha();return o.setupContext||(o.setupContext=xk(o))}function Z_(o){return Lt(o)?o.reduce((a,s)=>(a[s]=null,a),{}):o}function l4(o,a){const s=Z_(o);for(const t in a){if(t.startsWith("__skip"))continue;let c=s[t];c?Lt(c)||Xt(c)?c=s[t]={type:c,default:a[t]}:c.default=a[t]:c===null&&(c=s[t]={default:a[t]}),c&&a[`__skip_${t}`]&&(c.skipFactory=!0)}return s}function i4(o,a){return!o||!a?o||a:Lt(o)&&Lt(a)?o.concat(a):vo({},Z_(o),Z_(a))}function r4(o,a){const s={};for(const t in o)a.includes(t)||Object.defineProperty(s,t,{enumerable:!0,get:()=>o[t]});return s}function d4(o){const a=Ha();let s=o();return jv(),fg(s)&&(s=s.catch(t=>{throw di(a),t})),[s,()=>di(a)]}let Ev=!0;function c4(o){const a=Ig(o),s=o.proxy,t=o.ctx;Ev=!1,a.beforeCreate&&$b(a.beforeCreate,o,"bc");const{data:c,computed:m,methods:_,watch:l,provide:r,inject:i,created:d,beforeMount:p,mounted:v,beforeUpdate:g,updated:D,activated:y,deactivated:C,beforeDestroy:x,beforeUnmount:E,destroyed:k,unmounted:w,render:T,renderTracked:V,renderTriggered:B,errorCaptured:O,serverPrefetch:L,expose:R,inheritAttrs:P,components:I,directives:S,filters:F}=a;if(i&&u4(i,t,null),_)for(const Z in _){const ce=_[Z];Xt(ce)&&(t[Z]=ce.bind(s))}if(c){const Z=c.call(s,s);So(Z)&&(o.data=Rn(Z))}if(Ev=!0,m)for(const Z in m){const ce=m[Z],ae=Xt(ce)?ce.bind(s,s):Xt(ce.get)?ce.get.bind(s,s):wa,J=!Xt(ce)&&Xt(ce.set)?ce.set.bind(s):wa,z=$o({get:ae,set:J});Object.defineProperty(t,Z,{enumerable:!0,configurable:!0,get:()=>z.value,set:ne=>z.value=ne})}if(l)for(const Z in l)W2(l[Z],t,s,Z);if(r){const Z=Xt(r)?r.call(s):r;Reflect.ownKeys(Z).forEach(ce=>{Sh(ce,Z[ce])})}d&&$b(d,o,"c");function U(Z,ce){Lt(ce)?ce.forEach(ae=>Z(ae.bind(s))):ce&&Z(ce.bind(s))}if(U(F2,p),U(Qe,v),U(Cg,g),U(Dm,D),U(M2,y),U(L2,C),U(U2,O),U(B2,V),U(V2,B),U(td,E),U(Cm,w),U(Y2,L),Lt(R))if(R.length){const Z=o.exposed||(o.exposed={});R.forEach(ce=>{Object.defineProperty(Z,ce,{get:()=>s[ce],set:ae=>s[ce]=ae})})}else o.exposed||(o.exposed={});T&&o.render===wa&&(o.render=T),P!=null&&(o.inheritAttrs=P),I&&(o.components=I),S&&(o.directives=S),L&&Dg(o)}function u4(o,a,s=wa){Lt(o)&&(o=Av(o));for(const t in o){const c=o[t];let m;So(c)?"default"in c?m=Je(c.from||t,c.default,!0):m=Je(c.from||t):m=Je(c),_a(m)?Object.defineProperty(a,t,{enumerable:!0,configurable:!0,get:()=>m.value,set:_=>m.value=_}):a[t]=m}}function $b(o,a,s){Tn(Lt(o)?o.map(t=>t.bind(a.proxy)):o.bind(a.proxy),a,s)}function W2(o,a,s,t){let c=t.includes(".")?_k(s,t):()=>s[t];if(ao(o)){const m=a[o];Xt(m)&&ot(c,m)}else if(Xt(o))ot(c,o.bind(s));else if(So(o))if(Lt(o))o.forEach(m=>W2(m,a,s,t));else{const m=Xt(o.handler)?o.handler.bind(s):a[o.handler];Xt(m)&&ot(c,m,o)}}function Ig(o){const a=o.type,{mixins:s,extends:t}=a,{mixins:c,optionsCache:m,config:{optionMergeStrategies:_}}=o.appContext,l=m.get(a);let r;return l?r=l:!c.length&&!s&&!t?r=a:(r={},c.length&&c.forEach(i=>Vf(r,i,_,!0)),Vf(r,a,_)),So(a)&&m.set(a,r),r}function Vf(o,a,s,t=!1){const{mixins:c,extends:m}=a;m&&Vf(o,m,s,!0),c&&c.forEach(_=>Vf(o,_,s,!0));for(const _ in a)if(!(t&&_==="expose")){const l=_4[_]||s&&s[_];o[_]=l?l(o[_],a[_]):a[_]}return o}const _4={data:wb,props:Db,emits:Db,methods:Ac,computed:Ac,beforeCreate:Va,created:Va,beforeMount:Va,mounted:Va,beforeUpdate:Va,updated:Va,beforeDestroy:Va,beforeUnmount:Va,destroyed:Va,unmounted:Va,activated:Va,deactivated:Va,errorCaptured:Va,serverPrefetch:Va,components:Ac,directives:Ac,watch:f4,provide:wb,inject:m4};function wb(o,a){return a?o?function(){return vo(Xt(o)?o.call(this,this):o,Xt(a)?a.call(this,this):a)}:a:o}function m4(o,a){return Ac(Av(o),Av(a))}function Av(o){if(Lt(o)){const a={};for(let s=0;s<o.length;s++)a[o[s]]=o[s];return a}return o}function Va(o,a){return o?[...new Set([].concat(o,a))]:a}function Ac(o,a){return o?vo(Object.create(null),o,a):a}function Db(o,a){return o?Lt(o)&&Lt(a)?[...new Set([...o,...a])]:vo(Object.create(null),Z_(o),Z_(a??{})):a}function f4(o,a){if(!o)return a;if(!a)return o;const s=vo(Object.create(null),o);for(const t in a)s[t]=Va(o[t],a[t]);return s}function K2(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let h4=0;function p4(o,a){return function(t,c=null){Xt(t)||(t=vo({},t)),c!=null&&!So(c)&&(c=null);const m=K2(),_=new WeakSet,l=[];let r=!1;const i=m.app={_uid:h4++,_component:t,_props:c,_container:null,_context:m,_instance:null,version:Ek,get config(){return m.config},set config(d){},use(d,...p){return _.has(d)||(d&&Xt(d.install)?(_.add(d),d.install(i,...p)):Xt(d)&&(_.add(d),d(i,...p))),i},mixin(d){return m.mixins.includes(d)||m.mixins.push(d),i},component(d,p){return p?(m.components[d]=p,i):m.components[d]},directive(d,p){return p?(m.directives[d]=p,i):m.directives[d]},mount(d,p,v){if(!r){const g=i._ceVNode||Be(t,c);return g.appContext=m,v===!0?v="svg":v===!1&&(v=void 0),p&&a?a(g,d):o(g,d,v),r=!0,i._container=d,d.__vue_app__=i,Pm(g.component)}},onUnmount(d){l.push(d)},unmount(){r&&(Tn(l,i._instance,16),o(null,i._container),delete i._container.__vue_app__)},provide(d,p){return m.provides[d]=p,i},runWithContext(d){const p=ai;ai=i;try{return d()}finally{ai=p}}};return i}}let ai=null;function Sh(o,a){if(da){let s=da.provides;const t=da.parent&&da.parent.provides;t===s&&(s=da.provides=Object.create(t)),s[o]=a}}function Je(o,a,s=!1){const t=da||ca;if(t||ai){const c=ai?ai._context.provides:t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:void 0;if(c&&o in c)return c[o];if(arguments.length>1)return s&&Xt(a)?a.call(t&&t.proxy):a}}function v4(){return!!(da||ca||ai)}const G2={},Q2=()=>Object.create(G2),Z2=o=>Object.getPrototypeOf(o)===G2;function g4(o,a,s,t=!1){const c={},m=Q2();o.propsDefaults=Object.create(null),J2(o,a,c,m);for(const _ in o.propsOptions[0])_ in c||(c[_]=void 0);s?o.props=t?c:z_(c):o.type.props?o.props=c:o.props=m,o.attrs=m}function b4(o,a,s,t){const{props:c,attrs:m,vnode:{patchFlag:_}}=o,l=bo(c),[r]=o.propsOptions;let i=!1;if((t||_>0)&&!(_&16)){if(_&8){const d=o.vnode.dynamicProps;for(let p=0;p<d.length;p++){let v=d[p];if(Th(o.emitsOptions,v))continue;const g=a[v];if(r)if(Io(m,v))g!==m[v]&&(m[v]=g,i=!0);else{const D=Uo(v);c[D]=Iv(r,l,D,g,o,!1)}else g!==m[v]&&(m[v]=g,i=!0)}}}else{J2(o,a,c,m)&&(i=!0);let d;for(const p in l)(!a||!Io(a,p)&&((d=Xa(p))===p||!Io(a,d)))&&(r?s&&(s[p]!==void 0||s[d]!==void 0)&&(c[p]=Iv(r,l,p,void 0,o,!0)):delete c[p]);if(m!==l)for(const p in m)(!a||!Io(a,p))&&(delete m[p],i=!0)}i&&Fs(o.attrs,"set","")}function J2(o,a,s,t){const[c,m]=o.propsOptions;let _=!1,l;if(a)for(let r in a){if(kl(r))continue;const i=a[r];let d;c&&Io(c,d=Uo(r))?!m||!m.includes(d)?s[d]=i:(l||(l={}))[d]=i:Th(o.emitsOptions,r)||(!(r in t)||i!==t[r])&&(t[r]=i,_=!0)}if(m){const r=bo(s),i=l||po;for(let d=0;d<m.length;d++){const p=m[d];s[p]=Iv(c,r,p,i[p],o,!Io(i,p))}}return _}function Iv(o,a,s,t,c,m){const _=o[s];if(_!=null){const l=Io(_,"default");if(l&&t===void 0){const r=_.default;if(_.type!==Function&&!_.skipFactory&&Xt(r)){const{propsDefaults:i}=c;if(s in i)t=i[s];else{const d=di(c);t=i[s]=r.call(null,a),d()}}else t=r;c.ce&&c.ce._setProp(s,t)}_[0]&&(m&&!l?t=!1:_[1]&&(t===""||t===Xa(s))&&(t=!0))}return t}const y4=new WeakMap;function X2(o,a,s=!1){const t=s?y4:a.propsCache,c=t.get(o);if(c)return c;const m=o.props,_={},l=[];let r=!1;if(!Xt(o)){const d=p=>{r=!0;const[v,g]=X2(p,a,!0);vo(_,v),g&&l.push(...g)};!s&&a.mixins.length&&a.mixins.forEach(d),o.extends&&d(o.extends),o.mixins&&o.mixins.forEach(d)}if(!m&&!r)return So(o)&&t.set(o,Sr),Sr;if(Lt(m))for(let d=0;d<m.length;d++){const p=Uo(m[d]);Cb(p)&&(_[p]=po)}else if(m)for(const d in m){const p=Uo(d);if(Cb(p)){const v=m[d],g=_[p]=Lt(v)||Xt(v)?{type:v}:vo({},v),D=g.type;let y=!1,C=!0;if(Lt(D))for(let x=0;x<D.length;++x){const E=D[x],k=Xt(E)&&E.name;if(k==="Boolean"){y=!0;break}else k==="String"&&(C=!1)}else y=Xt(D)&&D.name==="Boolean";g[0]=y,g[1]=C,(y||Io(g,"default"))&&l.push(p)}}const i=[_,l];return So(o)&&t.set(o,i),i}function Cb(o){return o[0]!=="$"&&!kl(o)}const ek=o=>o[0]==="_"||o==="$stable",Rg=o=>Lt(o)?o.map(Za):[Za(o)],k4=(o,a,s)=>{if(a._n)return a;const t=Ko((...c)=>Rg(a(...c)),s);return t._c=!1,t},tk=(o,a,s)=>{const t=o._ctx;for(const c in o){if(ek(c))continue;const m=o[c];if(Xt(m))a[c]=k4(c,m,t);else if(m!=null){const _=Rg(m);a[c]=()=>_}}},ok=(o,a)=>{const s=Rg(a);o.slots.default=()=>s},ak=(o,a,s)=>{for(const t in a)(s||t!=="_")&&(o[t]=a[t])},$4=(o,a,s)=>{const t=o.slots=Q2();if(o.vnode.shapeFlag&32){const c=a._;c?(ak(t,a,s),s&&W0(t,"_",c,!0)):tk(a,t)}else a&&ok(o,a)},w4=(o,a,s)=>{const{vnode:t,slots:c}=o;let m=!0,_=po;if(t.shapeFlag&32){const l=a._;l?s&&l===1?m=!1:ak(c,a,s):(m=!a.$stable,tk(a,c)),_=a}else a&&(ok(o,a),_={default:1});if(m)for(const l in c)!ek(l)&&_[l]==null&&delete c[l]},ia=pk;function nk(o){return lk(o)}function sk(o){return lk(o,jP)}function lk(o,a){const s=kh();s.__VUE__=!0;const{insert:t,remove:c,patchProp:m,createElement:_,createText:l,createComment:r,setText:i,setElementText:d,parentNode:p,nextSibling:v,setScopeId:g=wa,insertStaticContent:D}=o,y=(ue,Oe,ze,Ye=null,ve=null,_e=null,Se=void 0,Ve=null,ke=!!Oe.dynamicChildren)=>{if(ue===Oe)return;ue&&!Gn(ue,Oe)&&(Ye=$e(ue),ne(ue,ve,_e,!0),ue=null),Oe.patchFlag===-2&&(ke=!1,Oe.dynamicChildren=null);const{type:ee,ref:Ce,shapeFlag:Ne}=Oe;switch(ee){case Cl:C(ue,Oe,ze,Ye);break;case aa:x(ue,Oe,ze,Ye);break;case ni:ue==null&&E(Oe,ze,Ye,Se);break;case W:I(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke);break;default:Ne&1?T(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke):Ne&6?S(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke):(Ne&64||Ne&128)&&ee.process(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke,ge)}Ce!=null&&ve&&Q_(Ce,ue&&ue.ref,_e,Oe||ue,!Oe)},C=(ue,Oe,ze,Ye)=>{if(ue==null)t(Oe.el=l(Oe.children),ze,Ye);else{const ve=Oe.el=ue.el;Oe.children!==ue.children&&i(ve,Oe.children)}},x=(ue,Oe,ze,Ye)=>{ue==null?t(Oe.el=r(Oe.children||""),ze,Ye):Oe.el=ue.el},E=(ue,Oe,ze,Ye)=>{[ue.el,ue.anchor]=D(ue.children,Oe,ze,Ye,ue.el,ue.anchor)},k=({el:ue,anchor:Oe},ze,Ye)=>{let ve;for(;ue&&ue!==Oe;)ve=v(ue),t(ue,ze,Ye),ue=ve;t(Oe,ze,Ye)},w=({el:ue,anchor:Oe})=>{let ze;for(;ue&&ue!==Oe;)ze=v(ue),c(ue),ue=ze;c(Oe)},T=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke)=>{Oe.type==="svg"?Se="svg":Oe.type==="math"&&(Se="mathml"),ue==null?V(Oe,ze,Ye,ve,_e,Se,Ve,ke):L(ue,Oe,ve,_e,Se,Ve,ke)},V=(ue,Oe,ze,Ye,ve,_e,Se,Ve)=>{let ke,ee;const{props:Ce,shapeFlag:Ne,transition:Ie,dirs:oe}=ue;if(ke=ue.el=_(ue.type,_e,Ce&&Ce.is,Ce),Ne&8?d(ke,ue.children):Ne&16&&O(ue.children,ke,null,Ye,ve,Rp(ue,_e),Se,Ve),oe&&_s(ue,null,Ye,"created"),B(ke,ue,ue.scopeId,Se,Ye),Ce){for(const Le in Ce)Le!=="value"&&!kl(Le)&&m(ke,Le,null,Ce[Le],_e,Ye);"value"in Ce&&m(ke,"value",null,Ce.value,_e),(ee=Ce.onVnodeBeforeMount)&&Ga(ee,Ye,ue)}oe&&_s(ue,null,Ye,"beforeMount");const me=ik(ve,Ie);me&&Ie.beforeEnter(ke),t(ke,Oe,ze),((ee=Ce&&Ce.onVnodeMounted)||me||oe)&&ia(()=>{ee&&Ga(ee,Ye,ue),me&&Ie.enter(ke),oe&&_s(ue,null,Ye,"mounted")},ve)},B=(ue,Oe,ze,Ye,ve)=>{if(ze&&g(ue,ze),Ye)for(let _e=0;_e<Ye.length;_e++)g(ue,Ye[_e]);if(ve){let _e=ve.subTree;if(Oe===_e||Uf(_e.type)&&(_e.ssContent===Oe||_e.ssFallback===Oe)){const Se=ve.vnode;B(ue,Se,Se.scopeId,Se.slotScopeIds,ve.parent)}}},O=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke=0)=>{for(let ee=ke;ee<ue.length;ee++){const Ce=ue[ee]=Ve?hl(ue[ee]):Za(ue[ee]);y(null,Ce,Oe,ze,Ye,ve,_e,Se,Ve)}},L=(ue,Oe,ze,Ye,ve,_e,Se)=>{const Ve=Oe.el=ue.el;let{patchFlag:ke,dynamicChildren:ee,dirs:Ce}=Oe;ke|=ue.patchFlag&16;const Ne=ue.props||po,Ie=Oe.props||po;let oe;if(ze&&zl(ze,!1),(oe=Ie.onVnodeBeforeUpdate)&&Ga(oe,ze,Oe,ue),Ce&&_s(Oe,ue,ze,"beforeUpdate"),ze&&zl(ze,!0),(Ne.innerHTML&&Ie.innerHTML==null||Ne.textContent&&Ie.textContent==null)&&d(Ve,""),ee?R(ue.dynamicChildren,ee,Ve,ze,Ye,Rp(Oe,ve),_e):Se||ce(ue,Oe,Ve,null,ze,Ye,Rp(Oe,ve),_e,!1),ke>0){if(ke&16)P(Ve,Ne,Ie,ze,ve);else if(ke&2&&Ne.class!==Ie.class&&m(Ve,"class",null,Ie.class,ve),ke&4&&m(Ve,"style",Ne.style,Ie.style,ve),ke&8){const me=Oe.dynamicProps;for(let Le=0;Le<me.length;Le++){const Ze=me[Le],at=Ne[Ze],mt=Ie[Ze];(mt!==at||Ze==="value")&&m(Ve,Ze,at,mt,ve,ze)}}ke&1&&ue.children!==Oe.children&&d(Ve,Oe.children)}else!Se&&ee==null&&P(Ve,Ne,Ie,ze,ve);((oe=Ie.onVnodeUpdated)||Ce)&&ia(()=>{oe&&Ga(oe,ze,Oe,ue),Ce&&_s(Oe,ue,ze,"updated")},Ye)},R=(ue,Oe,ze,Ye,ve,_e,Se)=>{for(let Ve=0;Ve<Oe.length;Ve++){const ke=ue[Ve],ee=Oe[Ve],Ce=ke.el&&(ke.type===W||!Gn(ke,ee)||ke.shapeFlag&70)?p(ke.el):ze;y(ke,ee,Ce,null,Ye,ve,_e,Se,!0)}},P=(ue,Oe,ze,Ye,ve)=>{if(Oe!==ze){if(Oe!==po)for(const _e in Oe)!kl(_e)&&!(_e in ze)&&m(ue,_e,Oe[_e],null,ve,Ye);for(const _e in ze){if(kl(_e))continue;const Se=ze[_e],Ve=Oe[_e];Se!==Ve&&_e!=="value"&&m(ue,_e,Ve,Se,ve,Ye)}"value"in ze&&m(ue,"value",Oe.value,ze.value,ve)}},I=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke)=>{const ee=Oe.el=ue?ue.el:l(""),Ce=Oe.anchor=ue?ue.anchor:l("");let{patchFlag:Ne,dynamicChildren:Ie,slotScopeIds:oe}=Oe;oe&&(Ve=Ve?Ve.concat(oe):oe),ue==null?(t(ee,ze,Ye),t(Ce,ze,Ye),O(Oe.children||[],ze,Ce,ve,_e,Se,Ve,ke)):Ne>0&&Ne&64&&Ie&&ue.dynamicChildren?(R(ue.dynamicChildren,Ie,ze,ve,_e,Se,Ve),(Oe.key!=null||ve&&Oe===ve.subTree)&&Sg(ue,Oe,!0)):ce(ue,Oe,ze,Ce,ve,_e,Se,Ve,ke)},S=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke)=>{Oe.slotScopeIds=Ve,ue==null?Oe.shapeFlag&512?ve.ctx.activate(Oe,ze,Ye,Se,ke):F(Oe,ze,Ye,ve,_e,Se,ke):N(ue,Oe,ke)},F=(ue,Oe,ze,Ye,ve,_e,Se)=>{const Ve=ue.component=kk(ue,Ye,ve);if(wm(ue)&&(Ve.ctx.renderer=ge),wk(Ve,!1,Se),Ve.asyncDep){if(ve&&ve.registerDep(Ve,U,Se),!ue.el){const ke=Ve.subTree=Be(aa);x(null,ke,Oe,ze)}}else U(Ve,ue,Oe,ze,ve,_e,Se)},N=(ue,Oe,ze)=>{const Ye=Oe.component=ue.component;if(S4(ue,Oe,ze))if(Ye.asyncDep&&!Ye.asyncResolved){Z(Ye,Oe,ze);return}else Ye.next=Oe,Ye.update();else Oe.el=ue.el,Ye.vnode=Oe},U=(ue,Oe,ze,Ye,ve,_e,Se)=>{const Ve=()=>{if(ue.isMounted){let{next:Ne,bu:Ie,u:oe,parent:me,vnode:Le}=ue;{const Ot=rk(ue);if(Ot){Ne&&(Ne.el=Le.el,Z(ue,Ne,Se)),Ot.asyncDep.then(()=>{ue.isUnmounted||Ve()});return}}let Ze=Ne,at;zl(ue,!1),Ne?(Ne.el=Le.el,Z(ue,Ne,Se)):Ne=Le,Ie&&Or(Ie),(at=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Ga(at,me,Ne,Le),zl(ue,!0);const mt=yf(ue),wt=ue.subTree;ue.subTree=mt,y(wt,mt,p(wt.el),$e(wt),ue,ve,_e),Ne.el=mt.el,Ze===null&&jh(ue,mt.el),oe&&ia(oe,ve),(at=Ne.props&&Ne.props.onVnodeUpdated)&&ia(()=>Ga(at,me,Ne,Le),ve)}else{let Ne;const{el:Ie,props:oe}=Oe,{bm:me,m:Le,parent:Ze,root:at,type:mt}=ue,wt=Dl(Oe);if(zl(ue,!1),me&&Or(me),!wt&&(Ne=oe&&oe.onVnodeBeforeMount)&&Ga(Ne,Ze,Oe),zl(ue,!0),Ie&&Me){const Ot=()=>{ue.subTree=yf(ue),Me(Ie,ue.subTree,ue,ve,null)};wt&&mt.__asyncHydrate?mt.__asyncHydrate(Ie,ue,Ot):Ot()}else{at.ce&&at.ce._injectChildStyle(mt);const Ot=ue.subTree=yf(ue);y(null,Ot,ze,Ye,ue,ve,_e),Oe.el=Ot.el}if(Le&&ia(Le,ve),!wt&&(Ne=oe&&oe.onVnodeMounted)){const Ot=Oe;ia(()=>Ga(Ne,Ze,Ot),ve)}(Oe.shapeFlag&256||Ze&&Dl(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&ue.a&&ia(ue.a,ve),ue.isMounted=!0,Oe=ze=Ye=null}};ue.scope.on();const ke=ue.effect=new U_(Ve);ue.scope.off();const ee=ue.update=ke.run.bind(ke),Ce=ue.job=ke.runIfDirty.bind(ke);Ce.i=ue,Ce.id=ue.uid,ke.scheduler=()=>kg(Ce),zl(ue,!0),ee()},Z=(ue,Oe,ze)=>{Oe.component=ue;const Ye=ue.vnode.props;ue.vnode=Oe,ue.next=null,b4(ue,Oe.props,Ye,ze),w4(ue,Oe.children,ze),Sl(),fb(ue),Tl()},ce=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke=!1)=>{const ee=ue&&ue.children,Ce=ue?ue.shapeFlag:0,Ne=Oe.children,{patchFlag:Ie,shapeFlag:oe}=Oe;if(Ie>0){if(Ie&128){J(ee,Ne,ze,Ye,ve,_e,Se,Ve,ke);return}else if(Ie&256){ae(ee,Ne,ze,Ye,ve,_e,Se,Ve,ke);return}}oe&8?(Ce&16&&ie(ee,ve,_e),Ne!==ee&&d(ze,Ne)):Ce&16?oe&16?J(ee,Ne,ze,Ye,ve,_e,Se,Ve,ke):ie(ee,ve,_e,!0):(Ce&8&&d(ze,""),oe&16&&O(Ne,ze,Ye,ve,_e,Se,Ve,ke))},ae=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke)=>{ue=ue||Sr,Oe=Oe||Sr;const ee=ue.length,Ce=Oe.length,Ne=Math.min(ee,Ce);let Ie;for(Ie=0;Ie<Ne;Ie++){const oe=Oe[Ie]=ke?hl(Oe[Ie]):Za(Oe[Ie]);y(ue[Ie],oe,ze,null,ve,_e,Se,Ve,ke)}ee>Ce?ie(ue,ve,_e,!0,!1,Ne):O(Oe,ze,Ye,ve,_e,Se,Ve,ke,Ne)},J=(ue,Oe,ze,Ye,ve,_e,Se,Ve,ke)=>{let ee=0;const Ce=Oe.length;let Ne=ue.length-1,Ie=Ce-1;for(;ee<=Ne&&ee<=Ie;){const oe=ue[ee],me=Oe[ee]=ke?hl(Oe[ee]):Za(Oe[ee]);if(Gn(oe,me))y(oe,me,ze,null,ve,_e,Se,Ve,ke);else break;ee++}for(;ee<=Ne&&ee<=Ie;){const oe=ue[Ne],me=Oe[Ie]=ke?hl(Oe[Ie]):Za(Oe[Ie]);if(Gn(oe,me))y(oe,me,ze,null,ve,_e,Se,Ve,ke);else break;Ne--,Ie--}if(ee>Ne){if(ee<=Ie){const oe=Ie+1,me=oe<Ce?Oe[oe].el:Ye;for(;ee<=Ie;)y(null,Oe[ee]=ke?hl(Oe[ee]):Za(Oe[ee]),ze,me,ve,_e,Se,Ve,ke),ee++}}else if(ee>Ie)for(;ee<=Ne;)ne(ue[ee],ve,_e,!0),ee++;else{const oe=ee,me=ee,Le=new Map;for(ee=me;ee<=Ie;ee++){const gt=Oe[ee]=ke?hl(Oe[ee]):Za(Oe[ee]);gt.key!=null&&Le.set(gt.key,ee)}let Ze,at=0;const mt=Ie-me+1;let wt=!1,Ot=0;const Jt=new Array(mt);for(ee=0;ee<mt;ee++)Jt[ee]=0;for(ee=oe;ee<=Ne;ee++){const gt=ue[ee];if(at>=mt){ne(gt,ve,_e,!0);continue}let Vt;if(gt.key!=null)Vt=Le.get(gt.key);else for(Ze=me;Ze<=Ie;Ze++)if(Jt[Ze-me]===0&&Gn(gt,Oe[Ze])){Vt=Ze;break}Vt===void 0?ne(gt,ve,_e,!0):(Jt[Vt-me]=ee+1,Vt>=Ot?Ot=Vt:wt=!0,y(gt,Oe[Vt],ze,null,ve,_e,Se,Ve,ke),at++)}const ut=wt?D4(Jt):Sr;for(Ze=ut.length-1,ee=mt-1;ee>=0;ee--){const gt=me+ee,Vt=Oe[gt],pt=gt+1<Ce?Oe[gt+1].el:Ye;Jt[ee]===0?y(null,Vt,ze,pt,ve,_e,Se,Ve,ke):wt&&(Ze<0||ee!==ut[Ze]?z(Vt,ze,pt,2):Ze--)}}},z=(ue,Oe,ze,Ye,ve=null)=>{const{el:_e,type:Se,transition:Ve,children:ke,shapeFlag:ee}=ue;if(ee&6){z(ue.component.subTree,Oe,ze,Ye);return}if(ee&128){ue.suspense.move(Oe,ze,Ye);return}if(ee&64){Se.move(ue,Oe,ze,ge);return}if(Se===W){t(_e,Oe,ze);for(let Ne=0;Ne<ke.length;Ne++)z(ke[Ne],Oe,ze,Ye);t(ue.anchor,Oe,ze);return}if(Se===ni){k(ue,Oe,ze);return}if(Ye!==2&&ee&1&&Ve)if(Ye===0)Ve.beforeEnter(_e),t(_e,Oe,ze),ia(()=>Ve.enter(_e),ve);else{const{leave:Ne,delayLeave:Ie,afterLeave:oe}=Ve,me=()=>t(_e,Oe,ze),Le=()=>{Ne(_e,()=>{me(),oe&&oe()})};Ie?Ie(_e,me,Le):Le()}else t(_e,Oe,ze)},ne=(ue,Oe,ze,Ye=!1,ve=!1)=>{const{type:_e,props:Se,ref:Ve,children:ke,dynamicChildren:ee,shapeFlag:Ce,patchFlag:Ne,dirs:Ie,cacheIndex:oe}=ue;if(Ne===-2&&(ve=!1),Ve!=null&&Q_(Ve,null,ze,ue,!0),oe!=null&&(Oe.renderCache[oe]=void 0),Ce&256){Oe.ctx.deactivate(ue);return}const me=Ce&1&&Ie,Le=!Dl(ue);let Ze;if(Le&&(Ze=Se&&Se.onVnodeBeforeUnmount)&&Ga(Ze,Oe,ue),Ce&6)he(ue.component,ze,Ye);else{if(Ce&128){ue.suspense.unmount(ze,Ye);return}me&&_s(ue,null,Oe,"beforeUnmount"),Ce&64?ue.type.remove(ue,Oe,ze,ge,Ye):ee&&!ee.hasOnce&&(_e!==W||Ne>0&&Ne&64)?ie(ee,Oe,ze,!1,!0):(_e===W&&Ne&384||!ve&&Ce&16)&&ie(ke,Oe,ze),Ye&&xe(ue)}(Le&&(Ze=Se&&Se.onVnodeUnmounted)||me)&&ia(()=>{Ze&&Ga(Ze,Oe,ue),me&&_s(ue,null,Oe,"unmounted")},ze)},xe=ue=>{const{type:Oe,el:ze,anchor:Ye,transition:ve}=ue;if(Oe===W){Fe(ze,Ye);return}if(Oe===ni){w(ue);return}const _e=()=>{c(ze),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(ue.shapeFlag&1&&ve&&!ve.persisted){const{leave:Se,delayLeave:Ve}=ve,ke=()=>Se(ze,_e);Ve?Ve(ue.el,_e,ke):ke()}else _e()},Fe=(ue,Oe)=>{let ze;for(;ue!==Oe;)ze=v(ue),c(ue),ue=ze;c(Oe)},he=(ue,Oe,ze)=>{const{bum:Ye,scope:ve,job:_e,subTree:Se,um:Ve,m:ke,a:ee}=ue;Bf(ke),Bf(ee),Ye&&Or(Ye),ve.stop(),_e&&(_e.flags|=8,ne(Se,ue,Oe,ze)),Ve&&ia(Ve,Oe),ia(()=>{ue.isUnmounted=!0},Oe),Oe&&Oe.pendingBranch&&!Oe.isUnmounted&&ue.asyncDep&&!ue.asyncResolved&&ue.suspenseId===Oe.pendingId&&(Oe.deps--,Oe.deps===0&&Oe.resolve())},ie=(ue,Oe,ze,Ye=!1,ve=!1,_e=0)=>{for(let Se=_e;Se<ue.length;Se++)ne(ue[Se],Oe,ze,Ye,ve)},$e=ue=>{if(ue.shapeFlag&6)return $e(ue.component.subTree);if(ue.shapeFlag&128)return ue.suspense.next();const Oe=v(ue.anchor||ue.el),ze=Oe&&Oe[x2];return ze?v(ze):Oe};let we=!1;const se=(ue,Oe,ze)=>{ue==null?Oe._vnode&&ne(Oe._vnode,null,null,!0):y(Oe._vnode||null,ue,Oe,null,null,null,ze),Oe._vnode=ue,we||(we=!0,fb(),Yf(),we=!1)},ge={p:y,um:ne,m:z,r:xe,mt:F,mc:O,pc:ce,pbc:R,n:$e,o};let be,Me;return a&&([be,Me]=a(ge)),{render:se,hydrate:be,createApp:p4(se,be)}}function Rp({type:o,props:a},s){return s==="svg"&&o==="foreignObject"||s==="mathml"&&o==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:s}function zl({effect:o,job:a},s){s?(o.flags|=32,a.flags|=4):(o.flags&=-33,a.flags&=-5)}function ik(o,a){return(!o||o&&!o.pendingBranch)&&a&&!a.persisted}function Sg(o,a,s=!1){const t=o.children,c=a.children;if(Lt(t)&&Lt(c))for(let m=0;m<t.length;m++){const _=t[m];let l=c[m];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=c[m]=hl(c[m]),l.el=_.el),!s&&l.patchFlag!==-2&&Sg(_,l)),l.type===Cl&&(l.el=_.el)}}function D4(o){const a=o.slice(),s=[0];let t,c,m,_,l;const r=o.length;for(t=0;t<r;t++){const i=o[t];if(i!==0){if(c=s[s.length-1],o[c]<i){a[t]=c,s.push(t);continue}for(m=0,_=s.length-1;m<_;)l=m+_>>1,o[s[l]]<i?m=l+1:_=l;i<o[s[m]]&&(m>0&&(a[t]=s[m-1]),s[m]=t)}}for(m=s.length,_=s[m-1];m-- >0;)s[m]=_,_=a[_];return s}function rk(o){const a=o.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:rk(a)}function Bf(o){if(o)for(let a=0;a<o.length;a++)o[a].flags|=8}const dk=Symbol.for("v-scx"),ck=()=>Je(dk);function j_(o,a){return xm(o,null,a)}function C4(o,a){return xm(o,null,{flush:"post"})}function uk(o,a){return xm(o,null,{flush:"sync"})}function ot(o,a,s){return xm(o,a,s)}function xm(o,a,s=po){const{immediate:t,deep:c,flush:m,once:_}=s,l=vo({},s),r=a&&t||!a&&m!=="post";let i;if(qr){if(m==="sync"){const g=ck();i=g.__watcherHandles||(g.__watcherHandles=[])}else if(!r){const g=()=>{};return g.stop=wa,g.resume=wa,g.pause=wa,g}}const d=da;l.call=(g,D,y)=>Tn(g,d,D,y);let p=!1;m==="post"?l.scheduler=g=>{ia(g,d&&d.suspense)}:m!=="sync"&&(p=!0,l.scheduler=(g,D)=>{D?g():kg(g)}),l.augmentJob=g=>{a&&(g.flags|=4),p&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const v=gP(o,a,l);return qr&&(i?i.push(v):r&&v()),v}function x4(o,a,s){const t=this.proxy,c=ao(o)?o.includes(".")?_k(t,o):()=>t[o]:o.bind(t,t);let m;Xt(a)?m=a:(m=a.handler,s=a);const _=di(this),l=xm(c,m.bind(t),s);return _(),l}function _k(o,a){const s=a.split(".");return()=>{let t=o;for(let c=0;c<s.length&&t;c++)t=t[s[c]];return t}}function P4(o,a,s=po){const t=Ha(),c=Uo(a),m=Xa(a),_=mk(o,c),l=g2((r,i)=>{let d,p=po,v;return uk(()=>{const g=o[c];Ua(d,g)&&(d=g,i())}),{get(){return r(),s.get?s.get(d):d},set(g){const D=s.set?s.set(g):g;if(!Ua(D,d)&&!(p!==po&&Ua(g,p)))return;const y=t.vnode.props;y&&(a in y||c in y||m in y)&&(`onUpdate:${a}`in y||`onUpdate:${c}`in y||`onUpdate:${m}`in y)||(d=g,i()),t.emit(`update:${a}`,D),Ua(g,D)&&Ua(g,p)&&!Ua(D,v)&&i(),p=g,v=D}}});return l[Symbol.iterator]=()=>{let r=0;return{next(){return r<2?{value:r++?_||po:l,done:!1}:{done:!0}}}},l}const mk=(o,a)=>a==="modelValue"||a==="model-value"?o.modelModifiers:o[`${a}Modifiers`]||o[`${Uo(a)}Modifiers`]||o[`${Xa(a)}Modifiers`];function E4(o,a,...s){if(o.isUnmounted)return;const t=o.vnode.props||po;let c=s;const m=a.startsWith("update:"),_=m&&mk(t,a.slice(7));_&&(_.trim&&(c=s.map(d=>ao(d)?d.trim():d)),_.number&&(c=s.map(Of)));let l,r=t[l=jr(a)]||t[l=jr(Uo(a))];!r&&m&&(r=t[l=jr(Xa(a))]),r&&Tn(r,o,6,c);const i=t[l+"Once"];if(i){if(!o.emitted)o.emitted={};else if(o.emitted[l])return;o.emitted[l]=!0,Tn(i,o,6,c)}}function fk(o,a,s=!1){const t=a.emitsCache,c=t.get(o);if(c!==void 0)return c;const m=o.emits;let _={},l=!1;if(!Xt(o)){const r=i=>{const d=fk(i,a,!0);d&&(l=!0,vo(_,d))};!s&&a.mixins.length&&a.mixins.forEach(r),o.extends&&r(o.extends),o.mixins&&o.mixins.forEach(r)}return!m&&!l?(So(o)&&t.set(o,null),null):(Lt(m)?m.forEach(r=>_[r]=null):vo(_,m),So(o)&&t.set(o,_),_)}function Th(o,a){return!o||!ui(a)?!1:(a=a.slice(2).replace(/Once$/,""),Io(o,a[0].toLowerCase()+a.slice(1))||Io(o,Xa(a))||Io(o,a))}function yf(o){const{type:a,vnode:s,proxy:t,withProxy:c,propsOptions:[m],slots:_,attrs:l,emit:r,render:i,renderCache:d,props:p,data:v,setupState:g,ctx:D,inheritAttrs:y}=o,C=G_(o);let x,E;try{if(s.shapeFlag&4){const w=c||t,T=w;x=Za(i.call(T,w,d,p,g,v,D)),E=l}else{const w=a;x=Za(w.length>1?w(p,{attrs:l,slots:_,emit:r}):w(p,null)),E=a.props?l:I4(l)}}catch(w){O_.length=0,fi(w,o,1),x=Be(aa)}let k=x;if(E&&y!==!1){const w=Object.keys(E),{shapeFlag:T}=k;w.length&&T&7&&(m&&w.some(_g)&&(E=R4(E,m)),k=ts(k,E,!1,!0))}return s.dirs&&(k=ts(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(k,s.transition),x=k,G_(C),x}function A4(o,a=!0){let s;for(let t=0;t<o.length;t++){const c=o[t];if(Gs(c)){if(c.type!==aa||c.children==="v-if"){if(s)return;s=c}}else return}return s}const I4=o=>{let a;for(const s in o)(s==="class"||s==="style"||ui(s))&&((a||(a={}))[s]=o[s]);return a},R4=(o,a)=>{const s={};for(const t in o)(!_g(t)||!(t.slice(9)in a))&&(s[t]=o[t]);return s};function S4(o,a,s){const{props:t,children:c,component:m}=o,{props:_,children:l,patchFlag:r}=a,i=m.emitsOptions;if(a.dirs||a.transition)return!0;if(s&&r>=0){if(r&1024)return!0;if(r&16)return t?xb(t,_,i):!!_;if(r&8){const d=a.dynamicProps;for(let p=0;p<d.length;p++){const v=d[p];if(_[v]!==t[v]&&!Th(i,v))return!0}}}else return(c||l)&&(!l||!l.$stable)?!0:t===_?!1:t?_?xb(t,_,i):!0:!!_;return!1}function xb(o,a,s){const t=Object.keys(a);if(t.length!==Object.keys(o).length)return!0;for(let c=0;c<t.length;c++){const m=t[c];if(a[m]!==o[m]&&!Th(s,m))return!0}return!1}function jh({vnode:o,parent:a},s){for(;a;){const t=a.subTree;if(t.suspense&&t.suspense.activeBranch===o&&(t.el=o.el),t===o)(o=a.vnode).el=s,a=a.parent;else break}}const Uf=o=>o.__isSuspense;let Rv=0;const T4={name:"Suspense",__isSuspense:!0,process(o,a,s,t,c,m,_,l,r,i){if(o==null)O4(a,s,t,c,m,_,l,r,i);else{if(m&&m.deps>0&&!o.suspense.isInFallback){a.suspense=o.suspense,a.suspense.vnode=a,a.el=o.el;return}M4(o,a,s,t,c,_,l,r,i)}},hydrate:L4,normalize:N4},j4=T4;function J_(o,a){const s=o.props&&o.props[a];Xt(s)&&s()}function O4(o,a,s,t,c,m,_,l,r){const{p:i,o:{createElement:d}}=r,p=d("div"),v=o.suspense=hk(o,c,t,a,p,s,m,_,l,r);i(null,v.pendingBranch=o.ssContent,p,null,t,v,m,_),v.deps>0?(J_(o,"onPending"),J_(o,"onFallback"),i(null,o.ssFallback,a,s,t,null,m,_),Lr(v,o.ssFallback)):v.resolve(!1,!0)}function M4(o,a,s,t,c,m,_,l,{p:r,um:i,o:{createElement:d}}){const p=a.suspense=o.suspense;p.vnode=a,a.el=o.el;const v=a.ssContent,g=a.ssFallback,{activeBranch:D,pendingBranch:y,isInFallback:C,isHydrating:x}=p;if(y)p.pendingBranch=v,Gn(v,y)?(r(y,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0?p.resolve():C&&(x||(r(D,g,s,t,c,null,m,_,l),Lr(p,g)))):(p.pendingId=Rv++,x?(p.isHydrating=!1,p.activeBranch=y):i(y,c,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),C?(r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0?p.resolve():(r(D,g,s,t,c,null,m,_,l),Lr(p,g))):D&&Gn(v,D)?(r(D,v,s,t,c,p,m,_,l),p.resolve(!0)):(r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0&&p.resolve()));else if(D&&Gn(v,D))r(D,v,s,t,c,p,m,_,l),Lr(p,v);else if(J_(a,"onPending"),p.pendingBranch=v,v.shapeFlag&512?p.pendingId=v.component.suspenseId:p.pendingId=Rv++,r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0)p.resolve();else{const{timeout:E,pendingId:k}=p;E>0?setTimeout(()=>{p.pendingId===k&&p.fallback(g)},E):E===0&&p.fallback(g)}}function hk(o,a,s,t,c,m,_,l,r,i,d=!1){const{p,m:v,um:g,n:D,o:{parentNode:y,remove:C}}=i;let x;const E=F4(o);E&&a&&a.pendingBranch&&(x=a.pendingId,a.deps++);const k=o.props?Mf(o.props.timeout):void 0,w=m,T={vnode:o,parent:a,parentComponent:s,namespace:_,container:t,hiddenContainer:c,deps:0,pendingId:Rv++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(V=!1,B=!1){const{vnode:O,activeBranch:L,pendingBranch:R,pendingId:P,effects:I,parentComponent:S,container:F}=T;let N=!1;T.isHydrating?T.isHydrating=!1:V||(N=L&&R.transition&&R.transition.mode==="out-in",N&&(L.transition.afterLeave=()=>{P===T.pendingId&&(v(R,F,m===w?D(L):m,0),W_(I))}),L&&(y(L.el)===F&&(m=D(L)),g(L,S,T,!0)),N||v(R,F,m,0)),Lr(T,R),T.pendingBranch=null,T.isInFallback=!1;let U=T.parent,Z=!1;for(;U;){if(U.pendingBranch){U.effects.push(...I),Z=!0;break}U=U.parent}!Z&&!N&&W_(I),T.effects=[],E&&a&&a.pendingBranch&&x===a.pendingId&&(a.deps--,a.deps===0&&!B&&a.resolve()),J_(O,"onResolve")},fallback(V){if(!T.pendingBranch)return;const{vnode:B,activeBranch:O,parentComponent:L,container:R,namespace:P}=T;J_(B,"onFallback");const I=D(O),S=()=>{T.isInFallback&&(p(null,V,R,I,L,null,P,l,r),Lr(T,V))},F=V.transition&&V.transition.mode==="out-in";F&&(O.transition.afterLeave=S),T.isInFallback=!0,g(O,L,null,!0),F||S()},move(V,B,O){T.activeBranch&&v(T.activeBranch,V,B,O),T.container=V},next(){return T.activeBranch&&D(T.activeBranch)},registerDep(V,B,O){const L=!!T.pendingBranch;L&&T.deps++;const R=V.vnode.el;V.asyncDep.catch(P=>{fi(P,V,0)}).then(P=>{if(V.isUnmounted||T.isUnmounted||T.pendingId!==V.suspenseId)return;V.asyncResolved=!0;const{vnode:I}=V;Ov(V,P,!1),R&&(I.el=R);const S=!R&&V.subTree.el;B(V,I,y(R||V.subTree.el),R?null:D(V.subTree),T,_,O),S&&C(S),jh(V,I.el),L&&--T.deps===0&&T.resolve()})},unmount(V,B){T.isUnmounted=!0,T.activeBranch&&g(T.activeBranch,s,V,B),T.pendingBranch&&g(T.pendingBranch,s,V,B)}};return T}function L4(o,a,s,t,c,m,_,l,r){const i=a.suspense=hk(a,t,s,o.parentNode,document.createElement("div"),null,c,m,_,l,!0),d=r(o,i.pendingBranch=a.ssContent,s,i,m,_);return i.deps===0&&i.resolve(!1,!0),d}function N4(o){const{shapeFlag:a,children:s}=o,t=a&32;o.ssContent=Pb(t?s.default:s),o.ssFallback=t?Pb(s.fallback):Be(aa)}function Pb(o){let a;if(Xt(o)){const s=ri&&o._c;s&&(o._d=!1,u()),o=o(),s&&(o._d=!0,a=Sa,vk())}return Lt(o)&&(o=A4(o)),o=Za(o),a&&!o.dynamicChildren&&(o.dynamicChildren=a.filter(s=>s!==o)),o}function pk(o,a){a&&a.pendingBranch?Lt(o)?a.effects.push(...o):a.effects.push(o):W_(o)}function Lr(o,a){o.activeBranch=a;const{vnode:s,parentComponent:t}=o;let c=a.el;for(;!c&&a.component;)a=a.component.subTree,c=a.el;s.el=c,t&&t.subTree===s&&(t.vnode.el=c,jh(t,c))}function F4(o){const a=o.props&&o.props.suspensible;return a!=null&&a!==!1}const W=Symbol.for("v-fgt"),Cl=Symbol.for("v-txt"),aa=Symbol.for("v-cmt"),ni=Symbol.for("v-stc"),O_=[];let Sa=null;function u(o=!1){O_.push(Sa=o?null:[])}function vk(){O_.pop(),Sa=O_[O_.length-1]||null}let ri=1;function Sv(o,a=!1){ri+=o,o<0&&Sa&&a&&(Sa.hasOnce=!0)}function gk(o){return o.dynamicChildren=ri>0?Sa||Sr:null,vk(),ri>0&&Sa&&Sa.push(o),o}function f(o,a,s,t,c,m){return gk(e(o,a,s,t,c,m,!0))}function fe(o,a,s,t,c){return gk(Be(o,a,s,t,c,!0))}function Gs(o){return o?o.__v_isVNode===!0:!1}function Gn(o,a){return o.type===a.type&&o.key===a.key}function Y4(o){}const bk=({key:o})=>o??null,kf=({ref:o,ref_key:a,ref_for:s})=>(typeof o=="number"&&(o=""+o),o!=null?ao(o)||_a(o)||Xt(o)?{i:ca,r:o,k:a,f:!!s}:o:null);function e(o,a=null,s=null,t=0,c=null,m=o===W?0:1,_=!1,l=!1){const r={__v_isVNode:!0,__v_skip:!0,type:o,props:a,key:a&&bk(a),ref:a&&kf(a),scopeId:Ah,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:t,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:ca};return l?(Tg(r,s),m&128&&o.normalize(r)):s&&(r.shapeFlag|=ao(s)?8:16),ri>0&&!_&&Sa&&(r.patchFlag>0||m&6)&&r.patchFlag!==32&&Sa.push(r),r}const Be=V4;function V4(o,a=null,s=null,t=0,c=null,m=!1){if((!o||o===q2)&&(o=aa),Gs(o)){const l=ts(o,a,!0);return s&&Tg(l,s),ri>0&&!m&&Sa&&(l.shapeFlag&6?Sa[Sa.indexOf(o)]=l:Sa.push(l)),l.patchFlag=-2,l}if(W4(o)&&(o=o.__vccOpts),a){a=yk(a);let{class:l,style:r}=a;l&&!ao(l)&&(a.class=rt(l)),So(r)&&(Eh(r)&&!Lt(r)&&(r=vo({},r)),a.style=Rl(r))}const _=ao(o)?1:Uf(o)?128:P2(o)?64:So(o)?4:Xt(o)?2:0;return e(o,a,s,t,c,_,m,!0)}function yk(o){return o?Eh(o)||Z2(o)?vo({},o):o:null}function ts(o,a,s=!1,t=!1){const{props:c,ref:m,patchFlag:_,children:l,transition:r}=o,i=a?$t(c||{},a):c,d={__v_isVNode:!0,__v_skip:!0,type:o.type,props:i,key:i&&bk(i),ref:a&&a.ref?s&&m?Lt(m)?m.concat(kf(a)):[m,kf(a)]:kf(a):m,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:l,target:o.target,targetStart:o.targetStart,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:a&&o.type!==W?_===-1?16:_|16:_,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:r,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&ts(o.ssContent),ssFallback:o.ssFallback&&ts(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce};return r&&t&&Ks(d,r.clone(d)),d}function le(o=" ",a=0){return Be(Cl,null,o,a)}function ga(o,a){const s=Be(ni,null,o);return s.staticCount=a,s}function b(o="",a=!1){return a?(u(),fe(aa,null,o)):Be(aa,null,o)}function Za(o){return o==null||typeof o=="boolean"?Be(aa):Lt(o)?Be(W,null,o.slice()):Gs(o)?hl(o):Be(Cl,null,String(o))}function hl(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:ts(o)}function Tg(o,a){let s=0;const{shapeFlag:t}=o;if(a==null)a=null;else if(Lt(a))s=16;else if(typeof a=="object")if(t&65){const c=a.default;c&&(c._c&&(c._d=!1),Tg(o,c()),c._c&&(c._d=!0));return}else{s=32;const c=a._;!c&&!Z2(a)?a._ctx=ca:c===3&&ca&&(ca.slots._===1?a._=1:(a._=2,o.patchFlag|=1024))}else Xt(a)?(a={default:a,_ctx:ca},s=32):(a=String(a),t&64?(s=16,a=[le(a)]):s=8);o.children=a,o.shapeFlag|=s}function $t(...o){const a={};for(let s=0;s<o.length;s++){const t=o[s];for(const c in t)if(c==="class")a.class!==t.class&&(a.class=rt([a.class,t.class]));else if(c==="style")a.style=Rl([a.style,t.style]);else if(ui(c)){const m=a[c],_=t[c];_&&m!==_&&!(Lt(m)&&m.includes(_))&&(a[c]=m?[].concat(m,_):_)}else c!==""&&(a[c]=t[c])}return a}function Ga(o,a,s,t=null){Tn(o,a,7,[s,t])}const B4=K2();let U4=0;function kk(o,a,s){const t=o.type,c=(a?a.appContext:o.appContext)||B4,m={uid:U4++,vnode:o,type:t,parent:a,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(c.provides),ids:a?a.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:X2(t,c),emitsOptions:fk(t,c),emit:null,emitted:null,propsDefaults:po,inheritAttrs:t.inheritAttrs,ctx:po,data:po,props:po,attrs:po,slots:po,refs:po,setupState:po,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=a?a.root:m,m.emit=E4.bind(null,m),o.ce&&o.ce(m),m}let da=null;const Ha=()=>da||ca;let qf,Tv;{const o=kh(),a=(s,t)=>{let c;return(c=o[s])||(c=o[s]=[]),c.push(t),m=>{c.length>1?c.forEach(_=>_(m)):c[0](m)}};qf=a("__VUE_INSTANCE_SETTERS__",s=>da=s),Tv=a("__VUE_SSR_SETTERS__",s=>qr=s)}const di=o=>{const a=da;return qf(o),o.scope.on(),()=>{o.scope.off(),qf(a)}},jv=()=>{da&&da.scope.off(),qf(null)};function $k(o){return o.vnode.shapeFlag&4}let qr=!1;function wk(o,a=!1,s=!1){a&&Tv(a);const{props:t,children:c}=o.vnode,m=$k(o);g4(o,t,m,a),$4(o,c,s);const _=m?q4(o,a):void 0;return a&&Tv(!1),_}function q4(o,a){const s=o.type;o.accessCache=Object.create(null),o.proxy=new Proxy(o.ctx,Pv);const{setup:t}=s;if(t){Sl();const c=o.setupContext=t.length>1?xk(o):null,m=di(o),_=ed(t,o,0,[o.props,c]),l=fg(_);if(Tl(),m(),(l||o.sp)&&!Dl(o)&&Dg(o),l){if(_.then(jv,jv),a)return _.then(r=>{Ov(o,r,a)}).catch(r=>{fi(r,o,0)});o.asyncDep=_}else Ov(o,_,a)}else Ck(o,a)}function Ov(o,a,s){Xt(a)?o.type.__ssrInlineRender?o.ssrRender=a:o.render=a:So(a)&&(o.setupState=yg(a)),Ck(o,s)}let Hf,Mv;function Dk(o){Hf=o,Mv=a=>{a.render._rc&&(a.withProxy=new Proxy(a.ctx,QP))}}const H4=()=>!Hf;function Ck(o,a,s){const t=o.type;if(!o.render){if(!a&&Hf&&!t.render){const c=t.template||Ig(o).template;if(c){const{isCustomElement:m,compilerOptions:_}=o.appContext.config,{delimiters:l,compilerOptions:r}=t,i=vo(vo({isCustomElement:m,delimiters:l},_),r);t.render=Hf(c,i)}}o.render=t.render||wa,Mv&&Mv(o)}{const c=di(o);Sl();try{c4(o)}finally{Tl(),c()}}}const z4={get(o,a){return Ia(o,"get",""),o[a]}};function xk(o){const a=s=>{o.exposed=s||{}};return{attrs:new Proxy(o.attrs,z4),slots:o.slots,emit:o.emit,expose:a}}function Pm(o){return o.exposed?o.exposeProxy||(o.exposeProxy=new Proxy(yg(h2(o.exposed)),{get(a,s){if(s in a)return a[s];if(s in T_)return T_[s](o)},has(a,s){return s in a||s in T_}})):o.proxy}function Lv(o,a=!0){return Xt(o)?o.displayName||o.name:o.name||a&&o.__name}function W4(o){return Xt(o)&&"__vccOpts"in o}const $o=(o,a)=>fP(o,a,qr);function En(o,a,s){const t=arguments.length;return t===2?So(a)&&!Lt(a)?Gs(a)?Be(o,null,[a]):Be(o,a):Be(o,null,a):(t>3?s=Array.prototype.slice.call(arguments,2):t===3&&Gs(s)&&(s=[s]),Be(o,a,s))}function K4(){}function G4(o,a,s,t){const c=s[t];if(c&&Pk(c,o))return c;const m=a();return m.memo=o.slice(),m.cacheIndex=t,s[t]=m}function Pk(o,a){const s=o.memo;if(s.length!=a.length)return!1;for(let t=0;t<s.length;t++)if(Ua(s[t],a[t]))return!1;return ri>0&&Sa&&Sa.push(o),!0}const Ek="3.5.13",Q4=wa,Z4=wP,J4=yr,X4=C2,eE={createComponentInstance:kk,setupComponent:wk,renderComponentRoot:yf,setCurrentRenderingInstance:G_,isVNode:Gs,normalizeVNode:Za,getComponentPublicInstance:Pm,ensureValidVNode:Ag,pushWarningContext:bP,popWarningContext:yP},tE=eE,oE=null,aE=null,nE=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nv;const Eb=typeof window<"u"&&window.trustedTypes;if(Eb)try{Nv=Eb.createPolicy("vue",{createHTML:o=>o})}catch{}const Ak=Nv?o=>Nv.createHTML(o):o=>o,sE="http://www.w3.org/2000/svg",lE="http://www.w3.org/1998/Math/MathML",Ls=typeof document<"u"?document:null,Ab=Ls&&Ls.createElement("template"),iE={insert:(o,a,s)=>{a.insertBefore(o,s||null)},remove:o=>{const a=o.parentNode;a&&a.removeChild(o)},createElement:(o,a,s,t)=>{const c=a==="svg"?Ls.createElementNS(sE,o):a==="mathml"?Ls.createElementNS(lE,o):s?Ls.createElement(o,{is:s}):Ls.createElement(o);return o==="select"&&t&&t.multiple!=null&&c.setAttribute("multiple",t.multiple),c},createText:o=>Ls.createTextNode(o),createComment:o=>Ls.createComment(o),setText:(o,a)=>{o.nodeValue=a},setElementText:(o,a)=>{o.textContent=a},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>Ls.querySelector(o),setScopeId(o,a){o.setAttribute(a,"")},insertStaticContent(o,a,s,t,c,m){const _=s?s.previousSibling:a.lastChild;if(c&&(c===m||c.nextSibling))for(;a.insertBefore(c.cloneNode(!0),s),!(c===m||!(c=c.nextSibling)););else{Ab.innerHTML=Ak(t==="svg"?`<svg>${o}</svg>`:t==="mathml"?`<math>${o}</math>`:o);const l=Ab.content;if(t==="svg"||t==="mathml"){const r=l.firstChild;for(;r.firstChild;)l.appendChild(r.firstChild);l.removeChild(r)}a.insertBefore(l,s)}return[_?_.nextSibling:a.firstChild,s?s.previousSibling:a.lastChild]}},rl="transition",kd="animation",Hr=Symbol("_vtc"),Ik={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rk=vo({},wg,Ik),rE=o=>(o.displayName="Transition",o.props=Rk,o),Sk=rE((o,{slots:a})=>En(T2,Tk(o),a)),Wl=(o,a=[])=>{Lt(o)?o.forEach(s=>s(...a)):o&&o(...a)},Ib=o=>o?Lt(o)?o.some(a=>a.length>1):o.length>1:!1;function Tk(o){const a={};for(const I in o)I in Ik||(a[I]=o[I]);if(o.css===!1)return a;const{name:s="v",type:t,duration:c,enterFromClass:m=`${s}-enter-from`,enterActiveClass:_=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:r=m,appearActiveClass:i=_,appearToClass:d=l,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=o,D=dE(c),y=D&&D[0],C=D&&D[1],{onBeforeEnter:x,onEnter:E,onEnterCancelled:k,onLeave:w,onLeaveCancelled:T,onBeforeAppear:V=x,onAppear:B=E,onAppearCancelled:O=k}=a,L=(I,S,F,N)=>{I._enterCancelled=N,cl(I,S?d:l),cl(I,S?i:_),F&&F()},R=(I,S)=>{I._isLeaving=!1,cl(I,p),cl(I,g),cl(I,v),S&&S()},P=I=>(S,F)=>{const N=I?B:E,U=()=>L(S,I,F);Wl(N,[S,U]),Rb(()=>{cl(S,I?r:m),cs(S,I?d:l),Ib(N)||Sb(S,t,y,U)})};return vo(a,{onBeforeEnter(I){Wl(x,[I]),cs(I,m),cs(I,_)},onBeforeAppear(I){Wl(V,[I]),cs(I,r),cs(I,i)},onEnter:P(!1),onAppear:P(!0),onLeave(I,S){I._isLeaving=!0;const F=()=>R(I,S);cs(I,p),I._enterCancelled?(cs(I,v),Fv()):(Fv(),cs(I,v)),Rb(()=>{I._isLeaving&&(cl(I,p),cs(I,g),Ib(w)||Sb(I,t,C,F))}),Wl(w,[I,F])},onEnterCancelled(I){L(I,!1,void 0,!0),Wl(k,[I])},onAppearCancelled(I){L(I,!0,void 0,!0),Wl(O,[I])},onLeaveCancelled(I){R(I),Wl(T,[I])}})}function dE(o){if(o==null)return null;if(So(o))return[Sp(o.enter),Sp(o.leave)];{const a=Sp(o);return[a,a]}}function Sp(o){return Mf(o)}function cs(o,a){a.split(/\s+/).forEach(s=>s&&o.classList.add(s)),(o[Hr]||(o[Hr]=new Set)).add(a)}function cl(o,a){a.split(/\s+/).forEach(t=>t&&o.classList.remove(t));const s=o[Hr];s&&(s.delete(a),s.size||(o[Hr]=void 0))}function Rb(o){requestAnimationFrame(()=>{requestAnimationFrame(o)})}let cE=0;function Sb(o,a,s,t){const c=o._endId=++cE,m=()=>{c===o._endId&&t()};if(s!=null)return setTimeout(m,s);const{type:_,timeout:l,propCount:r}=jk(o,a);if(!_)return t();const i=_+"end";let d=0;const p=()=>{o.removeEventListener(i,v),m()},v=g=>{g.target===o&&++d>=r&&p()};setTimeout(()=>{d<r&&p()},l+1),o.addEventListener(i,v)}function jk(o,a){const s=window.getComputedStyle(o),t=D=>(s[D]||"").split(", "),c=t(`${rl}Delay`),m=t(`${rl}Duration`),_=Tb(c,m),l=t(`${kd}Delay`),r=t(`${kd}Duration`),i=Tb(l,r);let d=null,p=0,v=0;a===rl?_>0&&(d=rl,p=_,v=m.length):a===kd?i>0&&(d=kd,p=i,v=r.length):(p=Math.max(_,i),d=p>0?_>i?rl:kd:null,v=d?d===rl?m.length:r.length:0);const g=d===rl&&/\b(transform|all)(,|$)/.test(t(`${rl}Property`).toString());return{type:d,timeout:p,propCount:v,hasTransform:g}}function Tb(o,a){for(;o.length<a.length;)o=o.concat(o);return Math.max(...a.map((s,t)=>jb(s)+jb(o[t])))}function jb(o){return o==="auto"?0:Number(o.slice(0,-1).replace(",","."))*1e3}function Fv(){return document.body.offsetHeight}function uE(o,a,s){const t=o[Hr];t&&(a=(a?[a,...t]:[...t]).join(" ")),a==null?o.removeAttribute("class"):s?o.setAttribute("class",a):o.className=a}const zf=Symbol("_vod"),Ok=Symbol("_vsh"),mo={beforeMount(o,{value:a},{transition:s}){o[zf]=o.style.display==="none"?"":o.style.display,s&&a?s.beforeEnter(o):$d(o,a)},mounted(o,{value:a},{transition:s}){s&&a&&s.enter(o)},updated(o,{value:a,oldValue:s},{transition:t}){!a!=!s&&(t?a?(t.beforeEnter(o),$d(o,!0),t.enter(o)):t.leave(o,()=>{$d(o,!1)}):$d(o,a))},beforeUnmount(o,{value:a}){$d(o,a)}};function $d(o,a){o.style.display=a?o[zf]:"none",o[Ok]=!a}function _E(){mo.getSSRProps=({value:o})=>{if(!o)return{style:{display:"none"}}}}const Mk=Symbol("");function mE(o){const a=Ha();if(!a)return;const s=a.ut=(c=o(a.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${a.uid}"]`)).forEach(m=>Wf(m,c))},t=()=>{const c=o(a.proxy);a.ce?Wf(a.ce,c):Yv(a.subTree,c),s(c)};Cg(()=>{W_(t)}),Qe(()=>{ot(t,wa,{flush:"post"});const c=new MutationObserver(t);c.observe(a.subTree.el.parentNode,{childList:!0}),Cm(()=>c.disconnect())})}function Yv(o,a){if(o.shapeFlag&128){const s=o.suspense;o=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Yv(s.activeBranch,a)})}for(;o.component;)o=o.component.subTree;if(o.shapeFlag&1&&o.el)Wf(o.el,a);else if(o.type===W)o.children.forEach(s=>Yv(s,a));else if(o.type===ni){let{el:s,anchor:t}=o;for(;s&&(Wf(s,a),s!==t);)s=s.nextSibling}}function Wf(o,a){if(o.nodeType===1){const s=o.style;let t="";for(const c in a)s.setProperty(`--${c}`,a[c]),t+=`--${c}: ${a[c]};`;s[Mk]=t}}const fE=/(^|;)\s*display\s*:/;function hE(o,a,s){const t=o.style,c=ao(s);let m=!1;if(s&&!c){if(a)if(ao(a))for(const _ of a.split(";")){const l=_.slice(0,_.indexOf(":")).trim();s[l]==null&&$f(t,l,"")}else for(const _ in a)s[_]==null&&$f(t,_,"");for(const _ in s)_==="display"&&(m=!0),$f(t,_,s[_])}else if(c){if(a!==s){const _=t[Mk];_&&(s+=";"+_),t.cssText=s,m=fE.test(s)}}else a&&o.removeAttribute("style");zf in o&&(o[zf]=m?t.display:"",o[Ok]&&(t.display="none"))}const Ob=/\s*!important$/;function $f(o,a,s){if(Lt(s))s.forEach(t=>$f(o,a,t));else if(s==null&&(s=""),a.startsWith("--"))o.setProperty(a,s);else{const t=pE(o,a);Ob.test(s)?o.setProperty(Xa(t),s.replace(Ob,""),"important"):o[t]=s}}const Mb=["Webkit","Moz","ms"],Tp={};function pE(o,a){const s=Tp[a];if(s)return s;let t=Uo(a);if(t!=="filter"&&t in o)return Tp[a]=t;t=mi(t);for(let c=0;c<Mb.length;c++){const m=Mb[c]+t;if(m in o)return Tp[a]=m}return a}const Lb="http://www.w3.org/1999/xlink";function Nb(o,a,s,t,c,m=Sx(a)){t&&a.startsWith("xlink:")?s==null?o.removeAttributeNS(Lb,a.slice(6,a.length)):o.setAttributeNS(Lb,a,s):s==null||m&&!Q0(s)?o.removeAttribute(a):o.setAttribute(a,m?"":on(s)?String(s):s)}function Fb(o,a,s,t,c){if(a==="innerHTML"||a==="textContent"){s!=null&&(o[a]=a==="innerHTML"?Ak(s):s);return}const m=o.tagName;if(a==="value"&&m!=="PROGRESS"&&!m.includes("-")){const l=m==="OPTION"?o.getAttribute("value")||"":o.value,r=s==null?o.type==="checkbox"?"on":"":String(s);(l!==r||!("_value"in o))&&(o.value=r),s==null&&o.removeAttribute(a),o._value=s;return}let _=!1;if(s===""||s==null){const l=typeof o[a];l==="boolean"?s=Q0(s):s==null&&l==="string"?(s="",_=!0):l==="number"&&(s=0,_=!0)}try{o[a]=s}catch{}_&&o.removeAttribute(c||a)}function Vs(o,a,s,t){o.addEventListener(a,s,t)}function vE(o,a,s,t){o.removeEventListener(a,s,t)}const Yb=Symbol("_vei");function gE(o,a,s,t,c=null){const m=o[Yb]||(o[Yb]={}),_=m[a];if(t&&_)_.value=t;else{const[l,r]=bE(a);if(t){const i=m[a]=$E(t,c);Vs(o,l,i,r)}else _&&(vE(o,l,_,r),m[a]=void 0)}}const Vb=/(?:Once|Passive|Capture)$/;function bE(o){let a;if(Vb.test(o)){a={};let t;for(;t=o.match(Vb);)o=o.slice(0,o.length-t[0].length),a[t[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):Xa(o.slice(2)),a]}let jp=0;const yE=Promise.resolve(),kE=()=>jp||(yE.then(()=>jp=0),jp=Date.now());function $E(o,a){const s=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=s.attached)return;Tn(wE(t,s.value),a,5,[t])};return s.value=o,s.attached=kE(),s}function wE(o,a){if(Lt(a)){const s=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{s.call(o),o._stopped=!0},a.map(t=>c=>!c._stopped&&t&&t(c))}else return a}const Bb=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)>96&&o.charCodeAt(2)<123,DE=(o,a,s,t,c,m)=>{const _=c==="svg";a==="class"?uE(o,t,_):a==="style"?hE(o,s,t):ui(a)?_g(a)||gE(o,a,s,t,m):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):CE(o,a,t,_))?(Fb(o,a,t),!o.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Nb(o,a,t,_,m,a!=="value")):o._isVueCE&&(/[A-Z]/.test(a)||!ao(t))?Fb(o,Uo(a),t,m,a):(a==="true-value"?o._trueValue=t:a==="false-value"&&(o._falseValue=t),Nb(o,a,t,_))};function CE(o,a,s,t){if(t)return!!(a==="innerHTML"||a==="textContent"||a in o&&Bb(a)&&Xt(s));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&o.tagName==="INPUT"||a==="type"&&o.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const c=o.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return Bb(a)&&ao(s)?!1:a in o}const Ub={};/*! #__NO_SIDE_EFFECTS__ */function Lk(o,a,s){const t=Oa(o,a);bh(t)&&vo(t,a);class c extends Oh{constructor(_){super(t,_,s)}}return c.def=t,c}/*! #__NO_SIDE_EFFECTS__ */const xE=(o,a)=>Lk(o,a,Gk),PE=typeof HTMLElement<"u"?HTMLElement:class{};class Oh extends PE{constructor(a,s={},t=Ke){super(),this._def=a,this._props=s,this._createApp=t,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&t!==Ke?this._root=this.shadowRoot:a.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof Oh){this._parent=a;break}this._instance||(this._resolved?(this._setParent(),this._update()):a&&a._pendingResolve?this._pendingResolve=a._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(a=this._parent){a&&(this._instance.parent=a._instance,this._instance.provides=a._instance.provides)}disconnectedCallback(){this._connected=!1,bt(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);this._ob=new MutationObserver(t=>{for(const c of t)this._setAttr(c.attributeName)}),this._ob.observe(this,{attributes:!0});const a=(t,c=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:m,styles:_}=t;let l;if(m&&!Lt(m))for(const r in m){const i=m[r];(i===Number||i&&i.type===Number)&&(r in this._props&&(this._props[r]=Mf(this._props[r])),(l||(l=Object.create(null)))[Uo(r)]=!0)}this._numberProps=l,c&&this._resolveProps(t),this.shadowRoot&&this._applyStyles(_),this._mount(t)},s=this._def.__asyncLoader;s?this._pendingResolve=s().then(t=>a(this._def=t,!0)):a(this._def)}_mount(a){this._app=this._createApp(a),a.configureApp&&a.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const s=this._instance&&this._instance.exposed;if(s)for(const t in s)Io(this,t)||Object.defineProperty(this,t,{get:()=>wl(s[t])})}_resolveProps(a){const{props:s}=a,t=Lt(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&t.includes(c)&&this._setProp(c,this[c]);for(const c of t.map(Uo))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(m){this._setProp(c,m,!0,!0)}})}_setAttr(a){if(a.startsWith("data-v-"))return;const s=this.hasAttribute(a);let t=s?this.getAttribute(a):Ub;const c=Uo(a);s&&this._numberProps&&this._numberProps[c]&&(t=Mf(t)),this._setProp(c,t,!1,!0)}_getProp(a){return this._props[a]}_setProp(a,s,t=!0,c=!1){if(s!==this._props[a]&&(s===Ub?delete this._props[a]:(this._props[a]=s,a==="key"&&this._app&&(this._app._ceVNode.key=s)),c&&this._instance&&this._update(),t)){const m=this._ob;m&&m.disconnect(),s===!0?this.setAttribute(Xa(a),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Xa(a),s+""):s||this.removeAttribute(Xa(a)),m&&m.observe(this,{attributes:!0})}}_update(){Kk(this._createVNode(),this._root)}_createVNode(){const a={};this.shadowRoot||(a.onVnodeMounted=a.onVnodeUpdated=this._renderSlots.bind(this));const s=Be(this._def,vo(a,this._props));return this._instance||(s.ce=t=>{this._instance=t,t.ce=this,t.isCE=!0;const c=(m,_)=>{this.dispatchEvent(new CustomEvent(m,bh(_[0])?vo({detail:_},_[0]):{detail:_}))};t.emit=(m,..._)=>{c(m,_),Xa(m)!==m&&c(Xa(m),_)},this._setParent()}),s}_applyStyles(a,s){if(!a)return;if(s){if(s===this._def||this._styleChildren.has(s))return;this._styleChildren.add(s)}const t=this._nonce;for(let c=a.length-1;c>=0;c--){const m=document.createElement("style");t&&m.setAttribute("nonce",t),m.textContent=a[c],this.shadowRoot.prepend(m)}}_parseSlots(){const a=this._slots={};let s;for(;s=this.firstChild;){const t=s.nodeType===1&&s.getAttribute("slot")||"default";(a[t]||(a[t]=[])).push(s),this.removeChild(s)}}_renderSlots(){const a=(this._teleportTarget||this).querySelectorAll("slot"),s=this._instance.type.__scopeId;for(let t=0;t<a.length;t++){const c=a[t],m=c.getAttribute("name")||"default",_=this._slots[m],l=c.parentNode;if(_)for(const r of _){if(s&&r.nodeType===1){const i=s+"-s",d=document.createTreeWalker(r,1);r.setAttribute(i,"");let p;for(;p=d.nextNode();)p.setAttribute(i,"")}l.insertBefore(r,c)}else for(;c.firstChild;)l.insertBefore(c.firstChild,c);l.removeChild(c)}}_injectChildStyle(a){this._applyStyles(a.styles,a)}_removeChildStyle(a){}}function Nk(o){const a=Ha(),s=a&&a.ce;return s||null}function EE(){const o=Nk();return o&&o.shadowRoot}function AE(o="$style"){{const a=Ha();if(!a)return po;const s=a.type.__cssModules;if(!s)return po;const t=s[o];return t||po}}const Fk=new WeakMap,Yk=new WeakMap,Kf=Symbol("_moveCb"),qb=Symbol("_enterCb"),IE=o=>(delete o.props.mode,o),RE=IE({name:"TransitionGroup",props:vo({},Rk,{tag:String,moveClass:String}),setup(o,{slots:a}){const s=Ha(),t=$g();let c,m;return Dm(()=>{if(!c.length)return;const _=o.moveClass||`${o.name||"v"}-move`;if(!OE(c[0].el,s.vnode.el,_))return;c.forEach(SE),c.forEach(TE);const l=c.filter(jE);Fv(),l.forEach(r=>{const i=r.el,d=i.style;cs(i,_),d.transform=d.webkitTransform=d.transitionDuration="";const p=i[Kf]=v=>{v&&v.target!==i||(!v||/transform$/.test(v.propertyName))&&(i.removeEventListener("transitionend",p),i[Kf]=null,cl(i,_))};i.addEventListener("transitionend",p)})}),()=>{const _=bo(o),l=Tk(_);let r=_.tag||W;if(c=[],m)for(let i=0;i<m.length;i++){const d=m[i];d.el&&d.el instanceof Element&&(c.push(d),Ks(d,Ur(d,l,t,s)),Fk.set(d,d.el.getBoundingClientRect()))}m=a.default?Ih(a.default()):[];for(let i=0;i<m.length;i++){const d=m[i];d.key!=null&&Ks(d,Ur(d,l,t,s))}return Be(r,null,m)}}}),Vk=RE;function SE(o){const a=o.el;a[Kf]&&a[Kf](),a[qb]&&a[qb]()}function TE(o){Yk.set(o,o.el.getBoundingClientRect())}function jE(o){const a=Fk.get(o),s=Yk.get(o),t=a.left-s.left,c=a.top-s.top;if(t||c){const m=o.el.style;return m.transform=m.webkitTransform=`translate(${t}px,${c}px)`,m.transitionDuration="0s",o}}function OE(o,a,s){const t=o.cloneNode(),c=o[Hr];c&&c.forEach(l=>{l.split(/\s+/).forEach(r=>r&&t.classList.remove(r))}),s.split(/\s+/).forEach(l=>l&&t.classList.add(l)),t.style.display="none";const m=a.nodeType===1?a:a.parentNode;m.appendChild(t);const{hasTransform:_}=jk(t);return m.removeChild(t),_}const Il=o=>{const a=o.props["onUpdate:modelValue"]||!1;return Lt(a)?s=>Or(a,s):a};function ME(o){o.target.composing=!0}function Hb(o){const a=o.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const Sn=Symbol("_assign"),Q={created(o,{modifiers:{lazy:a,trim:s,number:t}},c){o[Sn]=Il(c);const m=t||c.props&&c.props.type==="number";Vs(o,a?"change":"input",_=>{if(_.target.composing)return;let l=o.value;s&&(l=l.trim()),m&&(l=Of(l)),o[Sn](l)}),s&&Vs(o,"change",()=>{o.value=o.value.trim()}),a||(Vs(o,"compositionstart",ME),Vs(o,"compositionend",Hb),Vs(o,"change",Hb))},mounted(o,{value:a}){o.value=a??""},beforeUpdate(o,{value:a,oldValue:s,modifiers:{lazy:t,trim:c,number:m}},_){if(o[Sn]=Il(_),o.composing)return;const l=(m||o.type==="number")&&!/^0\d/.test(o.value)?Of(o.value):o.value,r=a??"";l!==r&&(document.activeElement===o&&o.type!=="range"&&(t&&a===s||c&&o.value.trim()===r)||(o.value=r))}},Yo={deep:!0,created(o,a,s){o[Sn]=Il(s),Vs(o,"change",()=>{const t=o._modelValue,c=zr(o),m=o.checked,_=o[Sn];if(Lt(t)){const l=$h(t,c),r=l!==-1;if(m&&!r)_(t.concat(c));else if(!m&&r){const i=[...t];i.splice(l,1),_(i)}}else if(_i(t)){const l=new Set(t);m?l.add(c):l.delete(c),_(l)}else _(Bk(o,m))})},mounted:zb,beforeUpdate(o,a,s){o[Sn]=Il(s),zb(o,a,s)}};function zb(o,{value:a,oldValue:s},t){o._modelValue=a;let c;if(Lt(a))c=$h(a,t.props.value)>-1;else if(_i(a))c=a.has(t.props.value);else{if(a===s)return;c=El(a,Bk(o,!0))}o.checked!==c&&(o.checked=c)}const X_={created(o,{value:a},s){o.checked=El(a,s.props.value),o[Sn]=Il(s),Vs(o,"change",()=>{o[Sn](zr(o))})},beforeUpdate(o,{value:a,oldValue:s},t){o[Sn]=Il(t),a!==s&&(o.checked=El(a,t.props.value))}},re={deep:!0,created(o,{value:a,modifiers:{number:s}},t){const c=_i(a);Vs(o,"change",()=>{const m=Array.prototype.filter.call(o.options,_=>_.selected).map(_=>s?Of(zr(_)):zr(_));o[Sn](o.multiple?c?new Set(m):m:m[0]),o._assigning=!0,bt(()=>{o._assigning=!1})}),o[Sn]=Il(t)},mounted(o,{value:a}){Wb(o,a)},beforeUpdate(o,a,s){o[Sn]=Il(s)},updated(o,{value:a}){o._assigning||Wb(o,a)}};function Wb(o,a){const s=o.multiple,t=Lt(a);if(!(s&&!t&&!_i(a))){for(let c=0,m=o.options.length;c<m;c++){const _=o.options[c],l=zr(_);if(s)if(t){const r=typeof l;r==="string"||r==="number"?_.selected=a.some(i=>String(i)===String(l)):_.selected=$h(a,l)>-1}else _.selected=a.has(l);else if(El(zr(_),a)){o.selectedIndex!==c&&(o.selectedIndex=c);return}}!s&&o.selectedIndex!==-1&&(o.selectedIndex=-1)}}function zr(o){return"_value"in o?o._value:o.value}function Bk(o,a){const s=a?"_trueValue":"_falseValue";return s in o?o[s]:a}const Uk={created(o,a,s){af(o,a,s,null,"created")},mounted(o,a,s){af(o,a,s,null,"mounted")},beforeUpdate(o,a,s,t){af(o,a,s,t,"beforeUpdate")},updated(o,a,s,t){af(o,a,s,t,"updated")}};function qk(o,a){switch(o){case"SELECT":return re;case"TEXTAREA":return Q;default:switch(a){case"checkbox":return Yo;case"radio":return X_;default:return Q}}}function af(o,a,s,t,c){const _=qk(o.tagName,s.props&&s.props.type)[c];_&&_(o,a,s,t)}function LE(){Q.getSSRProps=({value:o})=>({value:o}),X_.getSSRProps=({value:o},a)=>{if(a.props&&El(a.props.value,o))return{checked:!0}},Yo.getSSRProps=({value:o},a)=>{if(Lt(o)){if(a.props&&$h(o,a.props.value)>-1)return{checked:!0}}else if(_i(o)){if(a.props&&o.has(a.props.value))return{checked:!0}}else if(o)return{checked:!0}},Uk.getSSRProps=(o,a)=>{if(typeof a.type!="string")return;const s=qk(a.type.toUpperCase(),a.props&&a.props.type);if(s.getSSRProps)return s.getSSRProps(o,a)}}const NE=["ctrl","shift","alt","meta"],FE={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,a)=>NE.some(s=>o[`${s}Key`]&&!a.includes(s))},st=(o,a)=>{const s=o._withMods||(o._withMods={}),t=a.join(".");return s[t]||(s[t]=(c,...m)=>{for(let _=0;_<a.length;_++){const l=FE[a[_]];if(l&&l(c,a))return}return o(c,...m)})},YE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ee=(o,a)=>{const s=o._withKeys||(o._withKeys={}),t=a.join(".");return s[t]||(s[t]=c=>{if(!("key"in c))return;const m=Xa(c.key);if(a.some(_=>_===m||YE[_]===m))return o(c)})},Hk=vo({patchProp:DE},iE);let M_,Kb=!1;function zk(){return M_||(M_=nk(Hk))}function Wk(){return M_=Kb?M_:sk(Hk),Kb=!0,M_}const Kk=(...o)=>{zk().render(...o)},VE=(...o)=>{Wk().hydrate(...o)},Ke=(...o)=>{const a=zk().createApp(...o),{mount:s}=a;return a.mount=t=>{const c=Zk(t);if(!c)return;const m=a._component;!Xt(m)&&!m.render&&!m.template&&(m.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const _=s(c,!1,Qk(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),_},a},Gk=(...o)=>{const a=Wk().createApp(...o),{mount:s}=a;return a.mount=t=>{const c=Zk(t);if(c)return s(c,!0,Qk(c))},a};function Qk(o){if(o instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&o instanceof MathMLElement)return"mathml"}function Zk(o){return ao(o)?document.querySelector(o):o}let Gb=!1;const BE=()=>{Gb||(Gb=!0,LE(),_E())},UE=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:T2,BaseTransitionPropsValidators:wg,Comment:aa,DeprecationTypes:nE,EffectScope:pg,ErrorCodes:$P,ErrorTypeStrings:Z4,Fragment:W,KeepAlive:zP,ReactiveEffect:U_,Static:ni,Suspense:j4,Teleport:A2,Text:Cl,TrackOpTypes:hP,Transition:Sk,TransitionGroup:Vk,TriggerOpTypes:pP,VueElement:Oh,assertNumber:kP,callWithAsyncErrorHandling:Tn,callWithErrorHandling:ed,camelize:Uo,capitalize:mi,cloneVNode:ts,compatUtils:aE,computed:$o,createApp:Ke,createBlock:fe,createCommentVNode:b,createElementBlock:f,createElementVNode:e,createHydrationRenderer:sk,createPropsRestProxy:r4,createRenderer:nk,createSSRApp:Gk,createSlots:GP,createStaticVNode:ga,createTextVNode:le,createVNode:Be,customRef:g2,defineAsyncComponent:qP,defineComponent:Oa,defineCustomElement:Lk,defineEmits:JP,defineExpose:XP,defineModel:o4,defineOptions:e4,defineProps:ZP,defineSSRCustomElement:xE,defineSlots:t4,devtools:J4,effect:Lx,effectScope:jx,getCurrentInstance:Ha,getCurrentScope:X0,getCurrentWatcher:vP,getTransitionRawChildren:Ih,guardReactiveProps:yk,h:En,handleError:fi,hasInjectionContext:v4,hydrate:VE,hydrateOnIdle:NP,hydrateOnInteraction:BP,hydrateOnMediaQuery:VP,hydrateOnVisible:YP,initCustomFormatter:K4,initDirectivesForSSR:BE,inject:Je,isMemoSame:Pk,isProxy:Eh,isReactive:$l,isReadonly:Al,isRef:_a,isRuntimeOnly:H4,isShallow:hn,isVNode:Gs,markRaw:h2,mergeDefaults:l4,mergeModels:i4,mergeProps:$t,nextTick:bt,normalizeClass:rt,normalizeProps:G0,normalizeStyle:Rl,onActivated:M2,onBeforeMount:F2,onBeforeUnmount:td,onBeforeUpdate:Cg,onDeactivated:L2,onErrorCaptured:U2,onMounted:Qe,onRenderTracked:B2,onRenderTriggered:V2,onScopeDispose:Ox,onServerPrefetch:Y2,onUnmounted:Cm,onUpdated:Dm,onWatcherCleanup:y2,openBlock:u,popScopeId:PP,provide:Sh,proxyRefs:yg,pushScopeId:xP,queuePostFlushCb:W_,reactive:Rn,readonly:xh,ref:h,registerRuntimeCompiler:Dk,render:Kk,renderList:X,renderSlot:jo,resolveComponent:de,resolveDirective:Pg,resolveDynamicComponent:$a,resolveFilter:oE,resolveTransitionHooks:Ur,setBlockTracking:Sv,setDevtoolsHook:X4,setTransitionHooks:Ks,shallowReactive:z_,shallowReadonly:aP,shallowRef:p2,ssrContextKey:dk,ssrUtils:tE,stop:Nx,toDisplayString:n,toHandlerKey:jr,toHandlers:H2,toRaw:bo,toRef:_P,toRefs:dP,toValue:lP,transformVNodeArgs:Y4,triggerRef:sP,unref:wl,useAttrs:s4,useCssModule:AE,useCssVars:mE,useHost:Nk,useId:O2,useModel:P4,useSSRContext:ck,useShadowRoot:EE,useSlots:n4,useTemplateRef:RP,useTransitionState:$g,vModelCheckbox:Yo,vModelDynamic:Uk,vModelRadio:X_,vModelSelect:re,vModelText:Q,vShow:mo,version:Ek,warn:Q4,watch:ot,watchEffect:j_,watchPostEffect:C4,watchSyncEffect:uk,withAsyncContext:d4,withCtx:Ko,withDefaults:a4,withDirectives:Y,withKeys:Ee,withMemo:G4,withModifiers:st,withScopeId:EP},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const em=Symbol(""),L_=Symbol(""),jg=Symbol(""),Gf=Symbol(""),Jk=Symbol(""),ci=Symbol(""),Xk=Symbol(""),e$=Symbol(""),Og=Symbol(""),Mg=Symbol(""),Em=Symbol(""),Lg=Symbol(""),t$=Symbol(""),Ng=Symbol(""),Fg=Symbol(""),Yg=Symbol(""),Vg=Symbol(""),Bg=Symbol(""),Ug=Symbol(""),o$=Symbol(""),a$=Symbol(""),Mh=Symbol(""),Qf=Symbol(""),qg=Symbol(""),Hg=Symbol(""),tm=Symbol(""),Am=Symbol(""),zg=Symbol(""),Vv=Symbol(""),qE=Symbol(""),Bv=Symbol(""),Zf=Symbol(""),HE=Symbol(""),zE=Symbol(""),Wg=Symbol(""),WE=Symbol(""),KE=Symbol(""),Kg=Symbol(""),n$=Symbol(""),Wr={[em]:"Fragment",[L_]:"Teleport",[jg]:"Suspense",[Gf]:"KeepAlive",[Jk]:"BaseTransition",[ci]:"openBlock",[Xk]:"createBlock",[e$]:"createElementBlock",[Og]:"createVNode",[Mg]:"createElementVNode",[Em]:"createCommentVNode",[Lg]:"createTextVNode",[t$]:"createStaticVNode",[Ng]:"resolveComponent",[Fg]:"resolveDynamicComponent",[Yg]:"resolveDirective",[Vg]:"resolveFilter",[Bg]:"withDirectives",[Ug]:"renderList",[o$]:"renderSlot",[a$]:"createSlots",[Mh]:"toDisplayString",[Qf]:"mergeProps",[qg]:"normalizeClass",[Hg]:"normalizeStyle",[tm]:"normalizeProps",[Am]:"guardReactiveProps",[zg]:"toHandlers",[Vv]:"camelize",[qE]:"capitalize",[Bv]:"toHandlerKey",[Zf]:"setBlockTracking",[HE]:"pushScopeId",[zE]:"popScopeId",[Wg]:"withCtx",[WE]:"unref",[KE]:"isRef",[Kg]:"withMemo",[n$]:"isMemoSame"};function GE(o){Object.getOwnPropertySymbols(o).forEach(a=>{Wr[a]=o[a]})}const vn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function QE(o,a=""){return{type:0,source:a,children:o,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:vn}}function om(o,a,s,t,c,m,_,l=!1,r=!1,i=!1,d=vn){return o&&(l?(o.helper(ci),o.helper(Qr(o.inSSR,i))):o.helper(Gr(o.inSSR,i)),_&&o.helper(Bg)),{type:13,tag:a,props:s,children:t,patchFlag:c,dynamicProps:m,directives:_,isBlock:l,disableTracking:r,isComponent:i,loc:d}}function si(o,a=vn){return{type:17,loc:a,elements:o}}function An(o,a=vn){return{type:15,loc:a,properties:o}}function oa(o,a){return{type:16,loc:vn,key:ao(o)?so(o,!0):o,value:a}}function so(o,a=!1,s=vn,t=0){return{type:4,loc:s,content:o,isStatic:a,constType:a?3:t}}function es(o,a=vn){return{type:8,loc:a,children:o}}function ra(o,a=[],s=vn){return{type:14,loc:s,callee:o,arguments:a}}function Kr(o,a=void 0,s=!1,t=!1,c=vn){return{type:18,params:o,returns:a,newline:s,isSlot:t,loc:c}}function Uv(o,a,s,t=!0){return{type:19,test:o,consequent:a,alternate:s,newline:t,loc:vn}}function ZE(o,a,s=!1,t=!1){return{type:20,index:o,value:a,needPauseTracking:s,inVOnce:t,needArraySpread:!1,loc:vn}}function JE(o){return{type:21,body:o,loc:vn}}function Gr(o,a){return o||a?Og:Mg}function Qr(o,a){return o||a?Xk:e$}function Gg(o,{helper:a,removeHelper:s,inSSR:t}){o.isBlock||(o.isBlock=!0,s(Gr(t,o.isComponent)),a(ci),a(Qr(t,o.isComponent)))}const Qb=new Uint8Array([123,123]),Zb=new Uint8Array([125,125]);function Jb(o){return o>=97&&o<=122||o>=65&&o<=90}function cn(o){return o===32||o===10||o===9||o===12||o===13}function dl(o){return o===47||o===62||cn(o)}function Jf(o){const a=new Uint8Array(o.length);for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a}const xa={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class XE{constructor(a,s){this.stack=a,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Qb,this.delimiterClose=Zb,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Qb,this.delimiterClose=Zb}getPos(a){let s=1,t=a+1;for(let c=this.newlines.length-1;c>=0;c--){const m=this.newlines[c];if(a>m){s=c+2,t=a-m;break}}return{column:t,line:s,offset:a}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(a){a===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&a===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(a))}stateInterpolationOpen(a){if(a===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(a)):(this.state=1,this.stateText(a))}stateInterpolation(a){a===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(a))}stateInterpolationClose(a){a===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(a))}stateSpecialStartSequence(a){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?dl(a):(a|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(a)}stateInRCDATA(a){if(this.sequenceIndex===this.currentSequence.length){if(a===62||cn(a)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const t=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=t}this.sectionStart=s+2,this.stateInClosingTagName(a),this.inRCDATA=!1;return}this.sequenceIndex=0}(a|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===xa.TitleEnd||this.currentSequence===xa.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&a===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(a)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(a===60)}stateCDATASequence(a){a===xa.Cdata[this.sequenceIndex]?++this.sequenceIndex===xa.Cdata.length&&(this.state=28,this.currentSequence=xa.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(a))}fastForwardTo(a){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===a)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(a){a===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===xa.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):a!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(a,s){this.enterRCDATA(a,s),this.state=31}enterRCDATA(a,s){this.inRCDATA=!0,this.currentSequence=a,this.sequenceIndex=s}stateBeforeTagName(a){a===33?(this.state=22,this.sectionStart=this.index+1):a===63?(this.state=24,this.sectionStart=this.index+1):Jb(a)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:a===116?this.state=30:this.state=a===115?29:6):a===47?this.state=8:(this.state=1,this.stateText(a))}stateInTagName(a){dl(a)&&this.handleTagName(a)}stateInSFCRootTagName(a){if(dl(a)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(Jf("</"+s),0),this.handleTagName(a)}}handleTagName(a){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(a)}stateBeforeClosingTagName(a){cn(a)||(a===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Jb(a)?9:27,this.sectionStart=this.index))}stateInClosingTagName(a){(a===62||cn(a))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(a))}stateAfterClosingTagName(a){a===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(a){a===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):a===47?this.state=7:a===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):cn(a)||this.handleAttrStart(a)}handleAttrStart(a){a===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):a===46||a===58||a===64||a===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(a){a===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):cn(a)||(this.state=11,this.stateBeforeAttrName(a))}stateInAttrName(a){(a===61||dl(a))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(a))}stateInDirName(a){a===61||dl(a)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):a===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(a){a===61||dl(a)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===91?this.state=15:a===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(a){a===93?this.state=14:(a===61||dl(a))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(a))}stateInDirModifier(a){a===61||dl(a)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(a){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(a)}stateAfterAttrName(a){a===61?this.state=18:a===47||a===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(a)):cn(a)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(a))}stateBeforeAttrValue(a){a===34?(this.state=19,this.sectionStart=this.index+1):a===39?(this.state=20,this.sectionStart=this.index+1):cn(a)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(a))}handleInAttrValue(a,s){(a===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(a){this.handleInAttrValue(a,34)}stateInAttrValueSingleQuotes(a){this.handleInAttrValue(a,39)}stateInAttrValueNoQuotes(a){cn(a)||a===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(a)):(a===39||a===60||a===61||a===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(a){a===91?(this.state=26,this.sequenceIndex=0):this.state=a===45?25:23}stateInDeclaration(a){(a===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(a){(a===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(a){a===45?(this.state=28,this.currentSequence=xa.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(a){(a===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(a){a===xa.ScriptEnd[3]?this.startSpecial(xa.ScriptEnd,4):a===xa.StyleEnd[3]?this.startSpecial(xa.StyleEnd,4):(this.state=6,this.stateInTagName(a))}stateBeforeSpecialT(a){a===xa.TitleEnd[3]?this.startSpecial(xa.TitleEnd,4):a===xa.TextareaEnd[3]?this.startSpecial(xa.TextareaEnd,4):(this.state=6,this.stateInTagName(a))}startEntity(){}stateInEntity(){}parse(a){for(this.buffer=a;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const a=this.buffer.length;this.sectionStart>=a||(this.state===28?this.currentSequence===xa.CdataEnd?this.cbs.oncdata(this.sectionStart,a):this.cbs.oncomment(this.sectionStart,a):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,a))}emitCodePoint(a,s){}}function Xb(o,{compatConfig:a}){const s=a&&a[o];return o==="MODE"?s||3:s}function li(o,a){const s=Xb("MODE",a),t=Xb(o,a);return s===3?t===!0:t!==!1}function am(o,a,s,...t){return li(o,a)}function Qg(o){throw o}function s$(o){}function Go(o,a,s,t){const c=`https://vuejs.org/error-reference/#compiler-${o}`,m=new SyntaxError(String(c));return m.code=o,m.loc=a,m}const en=o=>o.type===4&&o.isStatic;function l$(o){switch(o){case"Teleport":case"teleport":return L_;case"Suspense":case"suspense":return jg;case"KeepAlive":case"keep-alive":return Gf;case"BaseTransition":case"base-transition":return Jk}}const eA=/^\d|[^\$\w\xA0-\uFFFF]/,Zg=o=>!eA.test(o),tA=/[A-Za-z_$\xA0-\uFFFF]/,oA=/[\.\?\w$\xA0-\uFFFF]/,aA=/\s+[.[]\s*|\s*[.[]\s+/g,i$=o=>o.type===4?o.content:o.loc.source,nA=o=>{const a=i$(o).trim().replace(aA,l=>l.trim());let s=0,t=[],c=0,m=0,_=null;for(let l=0;l<a.length;l++){const r=a.charAt(l);switch(s){case 0:if(r==="[")t.push(s),s=1,c++;else if(r==="(")t.push(s),s=2,m++;else if(!(l===0?tA:oA).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(t.push(s),s=3,_=r):r==="["?c++:r==="]"&&(--c||(s=t.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")t.push(s),s=3,_=r;else if(r==="(")m++;else if(r===")"){if(l===a.length-1)return!1;--m||(s=t.pop())}break;case 3:r===_&&(s=t.pop(),_=null);break}}return!c&&!m},r$=nA,sA=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,lA=o=>sA.test(i$(o)),iA=lA;function xn(o,a,s=!1){for(let t=0;t<o.props.length;t++){const c=o.props[t];if(c.type===7&&(s||c.exp)&&(ao(a)?c.name===a:a.test(c.name)))return c}}function Lh(o,a,s=!1,t=!1){for(let c=0;c<o.props.length;c++){const m=o.props[c];if(m.type===6){if(s)continue;if(m.name===a&&(m.value||t))return m}else if(m.name==="bind"&&(m.exp||t)&&Jl(m.arg,a))return m}}function Jl(o,a){return!!(o&&en(o)&&o.content===a)}function rA(o){return o.props.some(a=>a.type===7&&a.name==="bind"&&(!a.arg||a.arg.type!==4||!a.arg.isStatic))}function Op(o){return o.type===5||o.type===2}function dA(o){return o.type===7&&o.name==="slot"}function Xf(o){return o.type===1&&o.tagType===3}function eh(o){return o.type===1&&o.tagType===2}const cA=new Set([tm,Am]);function d$(o,a=[]){if(o&&!ao(o)&&o.type===14){const s=o.callee;if(!ao(s)&&cA.has(s))return d$(o.arguments[0],a.concat(o))}return[o,a]}function th(o,a,s){let t,c=o.type===13?o.props:o.arguments[2],m=[],_;if(c&&!ao(c)&&c.type===14){const l=d$(c);c=l[0],m=l[1],_=m[m.length-1]}if(c==null||ao(c))t=An([a]);else if(c.type===14){const l=c.arguments[0];!ao(l)&&l.type===15?ey(a,l)||l.properties.unshift(a):c.callee===zg?t=ra(s.helper(Qf),[An([a]),c]):c.arguments.unshift(An([a])),!t&&(t=c)}else c.type===15?(ey(a,c)||c.properties.unshift(a),t=c):(t=ra(s.helper(Qf),[An([a]),c]),_&&_.callee===Am&&(_=m[m.length-2]));o.type===13?_?_.arguments[0]=t:o.props=t:_?_.arguments[0]=t:o.arguments[2]=t}function ey(o,a){let s=!1;if(o.key.type===4){const t=o.key.content;s=a.properties.some(c=>c.key.type===4&&c.key.content===t)}return s}function nm(o,a){return`_${a}_${o.replace(/[^\w]/g,(s,t)=>s==="-"?"_":o.charCodeAt(t).toString())}`}function uA(o){return o.type===14&&o.callee===Kg?o.arguments[1].returns:o}const _A=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,c$={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Pc,isPreTag:Pc,isIgnoreNewlineTag:Pc,isCustomElement:Pc,onError:Qg,onWarn:s$,comments:!1,prefixIdentifiers:!1};let Ro=c$,sm=null,Hs="",Ea=null,ko=null,Wa="",Ms=-1,Gl=-1,Jg=0,pl=!1,qv=null;const zo=[],Jo=new XE(zo,{onerr:Ss,ontext(o,a){nf(ka(o,a),o,a)},ontextentity(o,a,s){nf(o,a,s)},oninterpolation(o,a){if(pl)return nf(ka(o,a),o,a);let s=o+Jo.delimiterOpen.length,t=a-Jo.delimiterClose.length;for(;cn(Hs.charCodeAt(s));)s++;for(;cn(Hs.charCodeAt(t-1));)t--;let c=ka(s,t);c.includes("&")&&(c=Ro.decodeEntities(c,!1)),Hv({type:5,content:Df(c,!1,Xo(s,t)),loc:Xo(o,a)})},onopentagname(o,a){const s=ka(o,a);Ea={type:1,tag:s,ns:Ro.getNamespace(s,zo[0],Ro.ns),tagType:0,props:[],children:[],loc:Xo(o-1,a),codegenNode:void 0}},onopentagend(o){oy(o)},onclosetag(o,a){const s=ka(o,a);if(!Ro.isVoidTag(s)){let t=!1;for(let c=0;c<zo.length;c++)if(zo[c].tag.toLowerCase()===s.toLowerCase()){t=!0,c>0&&Ss(24,zo[0].loc.start.offset);for(let _=0;_<=c;_++){const l=zo.shift();wf(l,a,_<c)}break}t||Ss(23,u$(o,60))}},onselfclosingtag(o){const a=Ea.tag;Ea.isSelfClosing=!0,oy(o),zo[0]&&zo[0].tag===a&&wf(zo.shift(),o)},onattribname(o,a){ko={type:6,name:ka(o,a),nameLoc:Xo(o,a),value:void 0,loc:Xo(o)}},ondirname(o,a){const s=ka(o,a),t=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!pl&&t===""&&Ss(26,o),pl||t==="")ko={type:6,name:s,nameLoc:Xo(o,a),value:void 0,loc:Xo(o)};else if(ko={type:7,name:t,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[so("prop")]:[],loc:Xo(o)},t==="pre"){pl=Jo.inVPre=!0,qv=Ea;const c=Ea.props;for(let m=0;m<c.length;m++)c[m].type===7&&(c[m]=wA(c[m]))}},ondirarg(o,a){if(o===a)return;const s=ka(o,a);if(pl)ko.name+=s,Xl(ko.nameLoc,a);else{const t=s[0]!=="[";ko.arg=Df(t?s:s.slice(1,-1),t,Xo(o,a),t?3:0)}},ondirmodifier(o,a){const s=ka(o,a);if(pl)ko.name+="."+s,Xl(ko.nameLoc,a);else if(ko.name==="slot"){const t=ko.arg;t&&(t.content+="."+s,Xl(t.loc,a))}else{const t=so(s,!0,Xo(o,a));ko.modifiers.push(t)}},onattribdata(o,a){Wa+=ka(o,a),Ms<0&&(Ms=o),Gl=a},onattribentity(o,a,s){Wa+=o,Ms<0&&(Ms=a),Gl=s},onattribnameend(o){const a=ko.loc.start.offset,s=ka(a,o);ko.type===7&&(ko.rawName=s),Ea.props.some(t=>(t.type===7?t.rawName:t.name)===s)&&Ss(2,a)},onattribend(o,a){if(Ea&&ko){if(Xl(ko.loc,a),o!==0)if(Wa.includes("&")&&(Wa=Ro.decodeEntities(Wa,!0)),ko.type===6)ko.name==="class"&&(Wa=m$(Wa).trim()),o===1&&!Wa&&Ss(13,a),ko.value={type:2,content:Wa,loc:o===1?Xo(Ms,Gl):Xo(Ms-1,Gl+1)},Jo.inSFCRoot&&Ea.tag==="template"&&ko.name==="lang"&&Wa&&Wa!=="html"&&Jo.enterRCDATA(Jf("</template"),0);else{let s=0;ko.exp=Df(Wa,!1,Xo(Ms,Gl),0,s),ko.name==="for"&&(ko.forParseResult=fA(ko.exp));let t=-1;ko.name==="bind"&&(t=ko.modifiers.findIndex(c=>c.content==="sync"))>-1&&am("COMPILER_V_BIND_SYNC",Ro,ko.loc,ko.rawName)&&(ko.name="model",ko.modifiers.splice(t,1))}(ko.type!==7||ko.name!=="pre")&&Ea.props.push(ko)}Wa="",Ms=Gl=-1},oncomment(o,a){Ro.comments&&Hv({type:3,content:ka(o,a),loc:Xo(o-4,a+3)})},onend(){const o=Hs.length;for(let a=0;a<zo.length;a++)wf(zo[a],o-1),Ss(24,zo[a].loc.start.offset)},oncdata(o,a){zo[0].ns!==0?nf(ka(o,a),o,a):Ss(1,o-9)},onprocessinginstruction(o){(zo[0]?zo[0].ns:Ro.ns)===0&&Ss(21,o-1)}}),ty=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,mA=/^\(|\)$/g;function fA(o){const a=o.loc,s=o.content,t=s.match(_A);if(!t)return;const[,c,m]=t,_=(p,v,g=!1)=>{const D=a.start.offset+v,y=D+p.length;return Df(p,!1,Xo(D,y),0,g?1:0)},l={source:_(m.trim(),s.indexOf(m,c.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=c.trim().replace(mA,"").trim();const i=c.indexOf(r),d=r.match(ty);if(d){r=r.replace(ty,"").trim();const p=d[1].trim();let v;if(p&&(v=s.indexOf(p,i+r.length),l.key=_(p,v,!0)),d[2]){const g=d[2].trim();g&&(l.index=_(g,s.indexOf(g,l.key?v+p.length:i+r.length),!0))}}return r&&(l.value=_(r,i,!0)),l}function ka(o,a){return Hs.slice(o,a)}function oy(o){Jo.inSFCRoot&&(Ea.innerLoc=Xo(o+1,o+1)),Hv(Ea);const{tag:a,ns:s}=Ea;s===0&&Ro.isPreTag(a)&&Jg++,Ro.isVoidTag(a)?wf(Ea,o):(zo.unshift(Ea),(s===1||s===2)&&(Jo.inXML=!0)),Ea=null}function nf(o,a,s){{const m=zo[0]&&zo[0].tag;m!=="script"&&m!=="style"&&o.includes("&")&&(o=Ro.decodeEntities(o,!1))}const t=zo[0]||sm,c=t.children[t.children.length-1];c&&c.type===2?(c.content+=o,Xl(c.loc,s)):t.children.push({type:2,content:o,loc:Xo(a,s)})}function wf(o,a,s=!1){s?Xl(o.loc,u$(a,60)):Xl(o.loc,hA(a,62)+1),Jo.inSFCRoot&&(o.children.length?o.innerLoc.end=vo({},o.children[o.children.length-1].loc.end):o.innerLoc.end=vo({},o.innerLoc.start),o.innerLoc.source=ka(o.innerLoc.start.offset,o.innerLoc.end.offset));const{tag:t,ns:c,children:m}=o;if(pl||(t==="slot"?o.tagType=2:ay(o)?o.tagType=3:vA(o)&&(o.tagType=1)),Jo.inRCDATA||(o.children=_$(m)),c===0&&Ro.isIgnoreNewlineTag(t)){const _=m[0];_&&_.type===2&&(_.content=_.content.replace(/^\r?\n/,""))}c===0&&Ro.isPreTag(t)&&Jg--,qv===o&&(pl=Jo.inVPre=!1,qv=null),Jo.inXML&&(zo[0]?zo[0].ns:Ro.ns)===0&&(Jo.inXML=!1);{const _=o.props;if(!Jo.inSFCRoot&&li("COMPILER_NATIVE_TEMPLATE",Ro)&&o.tag==="template"&&!ay(o)){const r=zo[0]||sm,i=r.children.indexOf(o);r.children.splice(i,1,...o.children)}const l=_.find(r=>r.type===6&&r.name==="inline-template");l&&am("COMPILER_INLINE_TEMPLATE",Ro,l.loc)&&o.children.length&&(l.value={type:2,content:ka(o.children[0].loc.start.offset,o.children[o.children.length-1].loc.end.offset),loc:l.loc})}}function hA(o,a){let s=o;for(;Hs.charCodeAt(s)!==a&&s<Hs.length-1;)s++;return s}function u$(o,a){let s=o;for(;Hs.charCodeAt(s)!==a&&s>=0;)s--;return s}const pA=new Set(["if","else","else-if","for","slot"]);function ay({tag:o,props:a}){if(o==="template"){for(let s=0;s<a.length;s++)if(a[s].type===7&&pA.has(a[s].name))return!0}return!1}function vA({tag:o,props:a}){if(Ro.isCustomElement(o))return!1;if(o==="component"||gA(o.charCodeAt(0))||l$(o)||Ro.isBuiltInComponent&&Ro.isBuiltInComponent(o)||Ro.isNativeTag&&!Ro.isNativeTag(o))return!0;for(let s=0;s<a.length;s++){const t=a[s];if(t.type===6){if(t.name==="is"&&t.value){if(t.value.content.startsWith("vue:"))return!0;if(am("COMPILER_IS_ON_ELEMENT",Ro,t.loc))return!0}}else if(t.name==="bind"&&Jl(t.arg,"is")&&am("COMPILER_IS_ON_ELEMENT",Ro,t.loc))return!0}return!1}function gA(o){return o>64&&o<91}const bA=/\r\n/g;function _$(o,a){const s=Ro.whitespace!=="preserve";let t=!1;for(let c=0;c<o.length;c++){const m=o[c];if(m.type===2)if(Jg)m.content=m.content.replace(bA,`
`);else if(yA(m.content)){const _=o[c-1]&&o[c-1].type,l=o[c+1]&&o[c+1].type;!_||!l||s&&(_===3&&(l===3||l===1)||_===1&&(l===3||l===1&&kA(m.content)))?(t=!0,o[c]=null):m.content=" "}else s&&(m.content=m$(m.content))}return t?o.filter(Boolean):o}function yA(o){for(let a=0;a<o.length;a++)if(!cn(o.charCodeAt(a)))return!1;return!0}function kA(o){for(let a=0;a<o.length;a++){const s=o.charCodeAt(a);if(s===10||s===13)return!0}return!1}function m$(o){let a="",s=!1;for(let t=0;t<o.length;t++)cn(o.charCodeAt(t))?s||(a+=" ",s=!0):(a+=o[t],s=!1);return a}function Hv(o){(zo[0]||sm).children.push(o)}function Xo(o,a){return{start:Jo.getPos(o),end:a==null?a:Jo.getPos(a),source:a==null?a:ka(o,a)}}function $A(o){return Xo(o.start.offset,o.end.offset)}function Xl(o,a){o.end=Jo.getPos(a),o.source=ka(o.start.offset,a)}function wA(o){const a={type:6,name:o.rawName,nameLoc:Xo(o.loc.start.offset,o.loc.start.offset+o.rawName.length),value:void 0,loc:o.loc};if(o.exp){const s=o.exp.loc;s.end.offset<o.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),a.value={type:2,content:o.exp.content,loc:s}}return a}function Df(o,a=!1,s,t=0,c=0){return so(o,a,s,t)}function Ss(o,a,s){Ro.onError(Go(o,Xo(a,a)))}function DA(){Jo.reset(),Ea=null,ko=null,Wa="",Ms=-1,Gl=-1,zo.length=0}function CA(o,a){if(DA(),Hs=o,Ro=vo({},c$),a){let c;for(c in a)a[c]!=null&&(Ro[c]=a[c])}Jo.mode=Ro.parseMode==="html"?1:Ro.parseMode==="sfc"?2:0,Jo.inXML=Ro.ns===1||Ro.ns===2;const s=a&&a.delimiters;s&&(Jo.delimiterOpen=Jf(s[0]),Jo.delimiterClose=Jf(s[1]));const t=sm=QE([],o);return Jo.parse(Hs),t.loc=Xo(0,o.length),t.children=_$(t.children),sm=null,t}function xA(o,a){Cf(o,void 0,a,f$(o,o.children[0]))}function f$(o,a){const{children:s}=o;return s.length===1&&a.type===1&&!eh(a)}function Cf(o,a,s,t=!1,c=!1){const{children:m}=o,_=[];for(let d=0;d<m.length;d++){const p=m[d];if(p.type===1&&p.tagType===0){const v=t?0:fn(p,s);if(v>0){if(v>=2){p.codegenNode.patchFlag=-1,_.push(p);continue}}else{const g=p.codegenNode;if(g.type===13){const D=g.patchFlag;if((D===void 0||D===512||D===1)&&p$(p,s)>=2){const y=v$(p);y&&(g.props=s.hoist(y))}g.dynamicProps&&(g.dynamicProps=s.hoist(g.dynamicProps))}}}else if(p.type===12&&(t?0:fn(p,s))>=2){_.push(p);continue}if(p.type===1){const v=p.tagType===1;v&&s.scopes.vSlot++,Cf(p,o,s,!1,c),v&&s.scopes.vSlot--}else if(p.type===11)Cf(p,o,s,p.children.length===1,!0);else if(p.type===9)for(let v=0;v<p.branches.length;v++)Cf(p.branches[v],o,s,p.branches[v].children.length===1,c)}let l=!1;if(_.length===m.length&&o.type===1){if(o.tagType===0&&o.codegenNode&&o.codegenNode.type===13&&Lt(o.codegenNode.children))o.codegenNode.children=r(si(o.codegenNode.children)),l=!0;else if(o.tagType===1&&o.codegenNode&&o.codegenNode.type===13&&o.codegenNode.children&&!Lt(o.codegenNode.children)&&o.codegenNode.children.type===15){const d=i(o.codegenNode,"default");d&&(d.returns=r(si(d.returns)),l=!0)}else if(o.tagType===3&&a&&a.type===1&&a.tagType===1&&a.codegenNode&&a.codegenNode.type===13&&a.codegenNode.children&&!Lt(a.codegenNode.children)&&a.codegenNode.children.type===15){const d=xn(o,"slot",!0),p=d&&d.arg&&i(a.codegenNode,d.arg);p&&(p.returns=r(si(p.returns)),l=!0)}}if(!l)for(const d of _)d.codegenNode=s.cache(d.codegenNode);function r(d){const p=s.cache(d);return c&&s.hmr&&(p.needArraySpread=!0),p}function i(d,p){if(d.children&&!Lt(d.children)&&d.children.type===15){const v=d.children.properties.find(g=>g.key===p||g.key.content===p);return v&&v.value}}_.length&&s.transformHoist&&s.transformHoist(m,s,o)}function fn(o,a){const{constantCache:s}=a;switch(o.type){case 1:if(o.tagType!==0)return 0;const t=s.get(o);if(t!==void 0)return t;const c=o.codegenNode;if(c.type!==13||c.isBlock&&o.tag!=="svg"&&o.tag!=="foreignObject"&&o.tag!=="math")return 0;if(c.patchFlag===void 0){let _=3;const l=p$(o,a);if(l===0)return s.set(o,0),0;l<_&&(_=l);for(let r=0;r<o.children.length;r++){const i=fn(o.children[r],a);if(i===0)return s.set(o,0),0;i<_&&(_=i)}if(_>1)for(let r=0;r<o.props.length;r++){const i=o.props[r];if(i.type===7&&i.name==="bind"&&i.exp){const d=fn(i.exp,a);if(d===0)return s.set(o,0),0;d<_&&(_=d)}}if(c.isBlock){for(let r=0;r<o.props.length;r++)if(o.props[r].type===7)return s.set(o,0),0;a.removeHelper(ci),a.removeHelper(Qr(a.inSSR,c.isComponent)),c.isBlock=!1,a.helper(Gr(a.inSSR,c.isComponent))}return s.set(o,_),_}else return s.set(o,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return fn(o.content,a);case 4:return o.constType;case 8:let m=3;for(let _=0;_<o.children.length;_++){const l=o.children[_];if(ao(l)||on(l))continue;const r=fn(l,a);if(r===0)return 0;r<m&&(m=r)}return m;case 20:return 2;default:return 0}}const PA=new Set([qg,Hg,tm,Am]);function h$(o,a){if(o.type===14&&!ao(o.callee)&&PA.has(o.callee)){const s=o.arguments[0];if(s.type===4)return fn(s,a);if(s.type===14)return h$(s,a)}return 0}function p$(o,a){let s=3;const t=v$(o);if(t&&t.type===15){const{properties:c}=t;for(let m=0;m<c.length;m++){const{key:_,value:l}=c[m],r=fn(_,a);if(r===0)return r;r<s&&(s=r);let i;if(l.type===4?i=fn(l,a):l.type===14?i=h$(l,a):i=0,i===0)return i;i<s&&(s=i)}}return s}function v$(o){const a=o.codegenNode;if(a.type===13)return a.props}function EA(o,{filename:a="",prefixIdentifiers:s=!1,hoistStatic:t=!1,hmr:c=!1,cacheHandlers:m=!1,nodeTransforms:_=[],directiveTransforms:l={},transformHoist:r=null,isBuiltInComponent:i=wa,isCustomElement:d=wa,expressionPlugins:p=[],scopeId:v=null,slotted:g=!0,ssr:D=!1,inSSR:y=!1,ssrCssVars:C="",bindingMetadata:x=po,inline:E=!1,isTS:k=!1,onError:w=Qg,onWarn:T=s$,compatConfig:V}){const B=a.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),O={filename:a,selfName:B&&mi(Uo(B[1])),prefixIdentifiers:s,hoistStatic:t,hmr:c,cacheHandlers:m,nodeTransforms:_,directiveTransforms:l,transformHoist:r,isBuiltInComponent:i,isCustomElement:d,expressionPlugins:p,scopeId:v,slotted:g,ssr:D,inSSR:y,ssrCssVars:C,bindingMetadata:x,inline:E,isTS:k,onError:w,onWarn:T,compatConfig:V,root:o,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:o,childIndex:0,inVOnce:!1,helper(L){const R=O.helpers.get(L)||0;return O.helpers.set(L,R+1),L},removeHelper(L){const R=O.helpers.get(L);if(R){const P=R-1;P?O.helpers.set(L,P):O.helpers.delete(L)}},helperString(L){return`_${Wr[O.helper(L)]}`},replaceNode(L){O.parent.children[O.childIndex]=O.currentNode=L},removeNode(L){const R=O.parent.children,P=L?R.indexOf(L):O.currentNode?O.childIndex:-1;!L||L===O.currentNode?(O.currentNode=null,O.onNodeRemoved()):O.childIndex>P&&(O.childIndex--,O.onNodeRemoved()),O.parent.children.splice(P,1)},onNodeRemoved:wa,addIdentifiers(L){},removeIdentifiers(L){},hoist(L){ao(L)&&(L=so(L)),O.hoists.push(L);const R=so(`_hoisted_${O.hoists.length}`,!1,L.loc,2);return R.hoisted=L,R},cache(L,R=!1,P=!1){const I=ZE(O.cached.length,L,R,P);return O.cached.push(I),I}};return O.filters=new Set,O}function AA(o,a){const s=EA(o,a);Nh(o,s),a.hoistStatic&&xA(o,s),a.ssr||IA(o,s),o.helpers=new Set([...s.helpers.keys()]),o.components=[...s.components],o.directives=[...s.directives],o.imports=s.imports,o.hoists=s.hoists,o.temps=s.temps,o.cached=s.cached,o.transformed=!0,o.filters=[...s.filters]}function IA(o,a){const{helper:s}=a,{children:t}=o;if(t.length===1){const c=t[0];if(f$(o,c)&&c.codegenNode){const m=c.codegenNode;m.type===13&&Gg(m,a),o.codegenNode=m}else o.codegenNode=c}else if(t.length>1){let c=64;o.codegenNode=om(a,s(em),void 0,o.children,c,void 0,void 0,!0,void 0,!1)}}function RA(o,a){let s=0;const t=()=>{s--};for(;s<o.children.length;s++){const c=o.children[s];ao(c)||(a.grandParent=a.parent,a.parent=o,a.childIndex=s,a.onNodeRemoved=t,Nh(c,a))}}function Nh(o,a){a.currentNode=o;const{nodeTransforms:s}=a,t=[];for(let m=0;m<s.length;m++){const _=s[m](o,a);if(_&&(Lt(_)?t.push(..._):t.push(_)),a.currentNode)o=a.currentNode;else return}switch(o.type){case 3:a.ssr||a.helper(Em);break;case 5:a.ssr||a.helper(Mh);break;case 9:for(let m=0;m<o.branches.length;m++)Nh(o.branches[m],a);break;case 10:case 11:case 1:case 0:RA(o,a);break}a.currentNode=o;let c=t.length;for(;c--;)t[c]()}function g$(o,a){const s=ao(o)?t=>t===o:t=>o.test(t);return(t,c)=>{if(t.type===1){const{props:m}=t;if(t.tagType===3&&m.some(dA))return;const _=[];for(let l=0;l<m.length;l++){const r=m[l];if(r.type===7&&s(r.name)){m.splice(l,1),l--;const i=a(t,r,c);i&&_.push(i)}}return _}}}const Fh="/*@__PURE__*/",b$=o=>`${Wr[o]}: _${Wr[o]}`;function SA(o,{mode:a="function",prefixIdentifiers:s=a==="module",sourceMap:t=!1,filename:c="template.vue.html",scopeId:m=null,optimizeImports:_=!1,runtimeGlobalName:l="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:i="vue/server-renderer",ssr:d=!1,isTS:p=!1,inSSR:v=!1}){const g={mode:a,prefixIdentifiers:s,sourceMap:t,filename:c,scopeId:m,optimizeImports:_,runtimeGlobalName:l,runtimeModuleName:r,ssrRuntimeModuleName:i,ssr:d,isTS:p,inSSR:v,source:o.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(y){return`_${Wr[y]}`},push(y,C=-2,x){g.code+=y},indent(){D(++g.indentLevel)},deindent(y=!1){y?--g.indentLevel:D(--g.indentLevel)},newline(){D(g.indentLevel)}};function D(y){g.push(`
`+"  ".repeat(y),0)}return g}function TA(o,a={}){const s=SA(o,a);a.onContextCreated&&a.onContextCreated(s);const{mode:t,push:c,prefixIdentifiers:m,indent:_,deindent:l,newline:r,scopeId:i,ssr:d}=s,p=Array.from(o.helpers),v=p.length>0,g=!m&&t!=="module";jA(o,s);const y=d?"ssrRender":"render",x=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${y}(${x}) {`),_(),g&&(c("with (_ctx) {"),_(),v&&(c(`const { ${p.map(b$).join(", ")} } = _Vue
`,-1),r())),o.components.length&&(Mp(o.components,"component",s),(o.directives.length||o.temps>0)&&r()),o.directives.length&&(Mp(o.directives,"directive",s),o.temps>0&&r()),o.filters&&o.filters.length&&(r(),Mp(o.filters,"filter",s),r()),o.temps>0){c("let ");for(let E=0;E<o.temps;E++)c(`${E>0?", ":""}_temp${E}`)}return(o.components.length||o.directives.length||o.temps)&&(c(`
`,0),r()),d||c("return "),o.codegenNode?Ta(o.codegenNode,s):c("null"),g&&(l(),c("}")),l(),c("}"),{ast:o,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function jA(o,a){const{ssr:s,prefixIdentifiers:t,push:c,newline:m,runtimeModuleName:_,runtimeGlobalName:l,ssrRuntimeModuleName:r}=a,i=l,d=Array.from(o.helpers);if(d.length>0&&(c(`const _Vue = ${i}
`,-1),o.hoists.length)){const p=[Og,Mg,Em,Lg,t$].filter(v=>d.includes(v)).map(b$).join(", ");c(`const { ${p} } = _Vue
`,-1)}OA(o.hoists,a),m(),c("return ")}function Mp(o,a,{helper:s,push:t,newline:c,isTS:m}){const _=s(a==="filter"?Vg:a==="component"?Ng:Yg);for(let l=0;l<o.length;l++){let r=o[l];const i=r.endsWith("__self");i&&(r=r.slice(0,-6)),t(`const ${nm(r,a)} = ${_}(${JSON.stringify(r)}${i?", true":""})${m?"!":""}`),l<o.length-1&&c()}}function OA(o,a){if(!o.length)return;a.pure=!0;const{push:s,newline:t}=a;t();for(let c=0;c<o.length;c++){const m=o[c];m&&(s(`const _hoisted_${c+1} = `),Ta(m,a),t())}a.pure=!1}function Xg(o,a){const s=o.length>3||!1;a.push("["),s&&a.indent(),Im(o,a,s),s&&a.deindent(),a.push("]")}function Im(o,a,s=!1,t=!0){const{push:c,newline:m}=a;for(let _=0;_<o.length;_++){const l=o[_];ao(l)?c(l,-3):Lt(l)?Xg(l,a):Ta(l,a),_<o.length-1&&(s?(t&&c(","),m()):t&&c(", "))}}function Ta(o,a){if(ao(o)){a.push(o,-3);return}if(on(o)){a.push(a.helper(o));return}switch(o.type){case 1:case 9:case 11:Ta(o.codegenNode,a);break;case 2:MA(o,a);break;case 4:y$(o,a);break;case 5:LA(o,a);break;case 12:Ta(o.codegenNode,a);break;case 8:k$(o,a);break;case 3:FA(o,a);break;case 13:YA(o,a);break;case 14:BA(o,a);break;case 15:UA(o,a);break;case 17:qA(o,a);break;case 18:HA(o,a);break;case 19:zA(o,a);break;case 20:WA(o,a);break;case 21:Im(o.body,a,!0,!1);break}}function MA(o,a){a.push(JSON.stringify(o.content),-3,o)}function y$(o,a){const{content:s,isStatic:t}=o;a.push(t?JSON.stringify(s):s,-3,o)}function LA(o,a){const{push:s,helper:t,pure:c}=a;c&&s(Fh),s(`${t(Mh)}(`),Ta(o.content,a),s(")")}function k$(o,a){for(let s=0;s<o.children.length;s++){const t=o.children[s];ao(t)?a.push(t,-3):Ta(t,a)}}function NA(o,a){const{push:s}=a;if(o.type===8)s("["),k$(o,a),s("]");else if(o.isStatic){const t=Zg(o.content)?o.content:JSON.stringify(o.content);s(t,-2,o)}else s(`[${o.content}]`,-3,o)}function FA(o,a){const{push:s,helper:t,pure:c}=a;c&&s(Fh),s(`${t(Em)}(${JSON.stringify(o.content)})`,-3,o)}function YA(o,a){const{push:s,helper:t,pure:c}=a,{tag:m,props:_,children:l,patchFlag:r,dynamicProps:i,directives:d,isBlock:p,disableTracking:v,isComponent:g}=o;let D;r&&(D=String(r)),d&&s(t(Bg)+"("),p&&s(`(${t(ci)}(${v?"true":""}), `),c&&s(Fh);const y=p?Qr(a.inSSR,g):Gr(a.inSSR,g);s(t(y)+"(",-2,o),Im(VA([m,_,l,D,i]),a),s(")"),p&&s(")"),d&&(s(", "),Ta(d,a),s(")"))}function VA(o){let a=o.length;for(;a--&&o[a]==null;);return o.slice(0,a+1).map(s=>s||"null")}function BA(o,a){const{push:s,helper:t,pure:c}=a,m=ao(o.callee)?o.callee:t(o.callee);c&&s(Fh),s(m+"(",-2,o),Im(o.arguments,a),s(")")}function UA(o,a){const{push:s,indent:t,deindent:c,newline:m}=a,{properties:_}=o;if(!_.length){s("{}",-2,o);return}const l=_.length>1||!1;s(l?"{":"{ "),l&&t();for(let r=0;r<_.length;r++){const{key:i,value:d}=_[r];NA(i,a),s(": "),Ta(d,a),r<_.length-1&&(s(","),m())}l&&c(),s(l?"}":" }")}function qA(o,a){Xg(o.elements,a)}function HA(o,a){const{push:s,indent:t,deindent:c}=a,{params:m,returns:_,body:l,newline:r,isSlot:i}=o;i&&s(`_${Wr[Wg]}(`),s("(",-2,o),Lt(m)?Im(m,a):m&&Ta(m,a),s(") => "),(r||l)&&(s("{"),t()),_?(r&&s("return "),Lt(_)?Xg(_,a):Ta(_,a)):l&&Ta(l,a),(r||l)&&(c(),s("}")),i&&(o.isNonScopedSlot&&s(", undefined, true"),s(")"))}function zA(o,a){const{test:s,consequent:t,alternate:c,newline:m}=o,{push:_,indent:l,deindent:r,newline:i}=a;if(s.type===4){const p=!Zg(s.content);p&&_("("),y$(s,a),p&&_(")")}else _("("),Ta(s,a),_(")");m&&l(),a.indentLevel++,m||_(" "),_("? "),Ta(t,a),a.indentLevel--,m&&i(),m||_(" "),_(": ");const d=c.type===19;d||a.indentLevel++,Ta(c,a),d||a.indentLevel--,m&&r(!0)}function WA(o,a){const{push:s,helper:t,indent:c,deindent:m,newline:_}=a,{needPauseTracking:l,needArraySpread:r}=o;r&&s("[...("),s(`_cache[${o.index}] || (`),l&&(c(),s(`${t(Zf)}(-1`),o.inVOnce&&s(", true"),s("),"),_(),s("(")),s(`_cache[${o.index}] = `),Ta(o.value,a),l&&(s(`).cacheIndex = ${o.index},`),_(),s(`${t(Zf)}(1),`),_(),s(`_cache[${o.index}]`),m()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const KA=g$(/^(if|else|else-if)$/,(o,a,s)=>GA(o,a,s,(t,c,m)=>{const _=s.parent.children;let l=_.indexOf(t),r=0;for(;l-->=0;){const i=_[l];i&&i.type===9&&(r+=i.branches.length)}return()=>{if(m)t.codegenNode=sy(c,r,s);else{const i=QA(t.codegenNode);i.alternate=sy(c,r+t.branches.length-1,s)}}}));function GA(o,a,s,t){if(a.name!=="else"&&(!a.exp||!a.exp.content.trim())){const c=a.exp?a.exp.loc:o.loc;s.onError(Go(28,a.loc)),a.exp=so("true",!1,c)}if(a.name==="if"){const c=ny(o,a),m={type:9,loc:$A(o.loc),branches:[c]};if(s.replaceNode(m),t)return t(m,c,!0)}else{const c=s.parent.children;let m=c.indexOf(o);for(;m-->=-1;){const _=c[m];if(_&&_.type===3){s.removeNode(_);continue}if(_&&_.type===2&&!_.content.trim().length){s.removeNode(_);continue}if(_&&_.type===9){a.name==="else-if"&&_.branches[_.branches.length-1].condition===void 0&&s.onError(Go(30,o.loc)),s.removeNode();const l=ny(o,a);_.branches.push(l);const r=t&&t(_,l,!1);Nh(l,s),r&&r(),s.currentNode=null}else s.onError(Go(30,o.loc));break}}}function ny(o,a){const s=o.tagType===3;return{type:10,loc:o.loc,condition:a.name==="else"?void 0:a.exp,children:s&&!xn(o,"for")?o.children:[o],userKey:Lh(o,"key"),isTemplateIf:s}}function sy(o,a,s){return o.condition?Uv(o.condition,ly(o,a,s),ra(s.helper(Em),['""',"true"])):ly(o,a,s)}function ly(o,a,s){const{helper:t}=s,c=oa("key",so(`${a}`,!1,vn,2)),{children:m}=o,_=m[0];if(m.length!==1||_.type!==1)if(m.length===1&&_.type===11){const r=_.codegenNode;return th(r,c,s),r}else return om(s,t(em),An([c]),m,64,void 0,void 0,!0,!1,!1,o.loc);else{const r=_.codegenNode,i=uA(r);return i.type===13&&Gg(i,s),th(i,c,s),r}}function QA(o){for(;;)if(o.type===19)if(o.alternate.type===19)o=o.alternate;else return o;else o.type===20&&(o=o.value)}const ZA=(o,a,s)=>{const{modifiers:t,loc:c}=o,m=o.arg;let{exp:_}=o;if(_&&_.type===4&&!_.content.trim()&&(_=void 0),!_){if(m.type!==4||!m.isStatic)return s.onError(Go(52,m.loc)),{props:[oa(m,so("",!0,c))]};$$(o),_=o.exp}return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),t.some(l=>l.content==="camel")&&(m.type===4?m.isStatic?m.content=Uo(m.content):m.content=`${s.helperString(Vv)}(${m.content})`:(m.children.unshift(`${s.helperString(Vv)}(`),m.children.push(")"))),s.inSSR||(t.some(l=>l.content==="prop")&&iy(m,"."),t.some(l=>l.content==="attr")&&iy(m,"^")),{props:[oa(m,_)]}},$$=(o,a)=>{const s=o.arg,t=Uo(s.content);o.exp=so(t,!1,s.loc)},iy=(o,a)=>{o.type===4?o.isStatic?o.content=a+o.content:o.content=`\`${a}\${${o.content}}\``:(o.children.unshift(`'${a}' + (`),o.children.push(")"))},JA=g$("for",(o,a,s)=>{const{helper:t,removeHelper:c}=s;return XA(o,a,s,m=>{const _=ra(t(Ug),[m.source]),l=Xf(o),r=xn(o,"memo"),i=Lh(o,"key",!1,!0);i&&i.type===7&&!i.exp&&$$(i);let p=i&&(i.type===6?i.value?so(i.value.content,!0):void 0:i.exp);const v=i&&p?oa("key",p):null,g=m.source.type===4&&m.source.constType>0,D=g?64:i?128:256;return m.codegenNode=om(s,t(em),void 0,_,D,void 0,void 0,!0,!g,!1,o.loc),()=>{let y;const{children:C}=m,x=C.length!==1||C[0].type!==1,E=eh(o)?o:l&&o.children.length===1&&eh(o.children[0])?o.children[0]:null;if(E?(y=E.codegenNode,l&&v&&th(y,v,s)):x?y=om(s,t(em),v?An([v]):void 0,o.children,64,void 0,void 0,!0,void 0,!1):(y=C[0].codegenNode,l&&v&&th(y,v,s),y.isBlock!==!g&&(y.isBlock?(c(ci),c(Qr(s.inSSR,y.isComponent))):c(Gr(s.inSSR,y.isComponent))),y.isBlock=!g,y.isBlock?(t(ci),t(Qr(s.inSSR,y.isComponent))):t(Gr(s.inSSR,y.isComponent))),r){const k=Kr(zv(m.parseResult,[so("_cached")]));k.body=JE([es(["const _memo = (",r.exp,")"]),es(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${s.helperString(n$)}(_cached, _memo)) return _cached`]),es(["const _item = ",y]),so("_item.memo = _memo"),so("return _item")]),_.arguments.push(k,so("_cache"),so(String(s.cached.length))),s.cached.push(null)}else _.arguments.push(Kr(zv(m.parseResult),y,!0))}})});function XA(o,a,s,t){if(!a.exp){s.onError(Go(31,a.loc));return}const c=a.forParseResult;if(!c){s.onError(Go(32,a.loc));return}w$(c);const{addIdentifiers:m,removeIdentifiers:_,scopes:l}=s,{source:r,value:i,key:d,index:p}=c,v={type:11,loc:a.loc,source:r,valueAlias:i,keyAlias:d,objectIndexAlias:p,parseResult:c,children:Xf(o)?o.children:[o]};s.replaceNode(v),l.vFor++;const g=t&&t(v);return()=>{l.vFor--,g&&g()}}function w$(o,a){o.finalized||(o.finalized=!0)}function zv({value:o,key:a,index:s},t=[]){return e6([o,a,s,...t])}function e6(o){let a=o.length;for(;a--&&!o[a];);return o.slice(0,a+1).map((s,t)=>s||so("_".repeat(t+1),!1))}const ry=so("undefined",!1),t6=(o,a)=>{if(o.type===1&&(o.tagType===1||o.tagType===3)){const s=xn(o,"slot");if(s)return s.exp,a.scopes.vSlot++,()=>{a.scopes.vSlot--}}},o6=(o,a,s,t)=>Kr(o,s,!1,!0,s.length?s[0].loc:t);function a6(o,a,s=o6){a.helper(Wg);const{children:t,loc:c}=o,m=[],_=[];let l=a.scopes.vSlot>0||a.scopes.vFor>0;const r=xn(o,"slot",!0);if(r){const{arg:C,exp:x}=r;C&&!en(C)&&(l=!0),m.push(oa(C||so("default",!0),s(x,void 0,t,c)))}let i=!1,d=!1;const p=[],v=new Set;let g=0;for(let C=0;C<t.length;C++){const x=t[C];let E;if(!Xf(x)||!(E=xn(x,"slot",!0))){x.type!==3&&p.push(x);continue}if(r){a.onError(Go(37,E.loc));break}i=!0;const{children:k,loc:w}=x,{arg:T=so("default",!0),exp:V,loc:B}=E;let O;en(T)?O=T?T.content:"default":l=!0;const L=xn(x,"for"),R=s(V,L,k,w);let P,I;if(P=xn(x,"if"))l=!0,_.push(Uv(P.exp,sf(T,R,g++),ry));else if(I=xn(x,/^else(-if)?$/,!0)){let S=C,F;for(;S--&&(F=t[S],F.type===3););if(F&&Xf(F)&&xn(F,/^(else-)?if$/)){let N=_[_.length-1];for(;N.alternate.type===19;)N=N.alternate;N.alternate=I.exp?Uv(I.exp,sf(T,R,g++),ry):sf(T,R,g++)}else a.onError(Go(30,I.loc))}else if(L){l=!0;const S=L.forParseResult;S?(w$(S),_.push(ra(a.helper(Ug),[S.source,Kr(zv(S),sf(T,R),!0)]))):a.onError(Go(32,L.loc))}else{if(O){if(v.has(O)){a.onError(Go(38,B));continue}v.add(O),O==="default"&&(d=!0)}m.push(oa(T,R))}}if(!r){const C=(x,E)=>{const k=s(x,void 0,E,c);return a.compatConfig&&(k.isNonScopedSlot=!0),oa("default",k)};i?p.length&&p.some(x=>D$(x))&&(d?a.onError(Go(39,p[0].loc)):m.push(C(void 0,p))):m.push(C(void 0,t))}const D=l?2:xf(o.children)?3:1;let y=An(m.concat(oa("_",so(D+"",!1))),c);return _.length&&(y=ra(a.helper(a$),[y,si(_)])),{slots:y,hasDynamicSlots:l}}function sf(o,a,s){const t=[oa("name",o),oa("fn",a)];return s!=null&&t.push(oa("key",so(String(s),!0))),An(t)}function xf(o){for(let a=0;a<o.length;a++){const s=o[a];switch(s.type){case 1:if(s.tagType===2||xf(s.children))return!0;break;case 9:if(xf(s.branches))return!0;break;case 10:case 11:if(xf(s.children))return!0;break}}return!1}function D$(o){return o.type!==2&&o.type!==12?!0:o.type===2?!!o.content.trim():D$(o.content)}const C$=new WeakMap,n6=(o,a)=>function(){if(o=a.currentNode,!(o.type===1&&(o.tagType===0||o.tagType===1)))return;const{tag:t,props:c}=o,m=o.tagType===1;let _=m?s6(o,a):`"${t}"`;const l=So(_)&&_.callee===Fg;let r,i,d=0,p,v,g,D=l||_===L_||_===jg||!m&&(t==="svg"||t==="foreignObject"||t==="math");if(c.length>0){const y=x$(o,a,void 0,m,l);r=y.props,d=y.patchFlag,v=y.dynamicPropNames;const C=y.directives;g=C&&C.length?si(C.map(x=>i6(x,a))):void 0,y.shouldUseBlock&&(D=!0)}if(o.children.length>0)if(_===Gf&&(D=!0,d|=1024),m&&_!==L_&&_!==Gf){const{slots:C,hasDynamicSlots:x}=a6(o,a);i=C,x&&(d|=1024)}else if(o.children.length===1&&_!==L_){const C=o.children[0],x=C.type,E=x===5||x===8;E&&fn(C,a)===0&&(d|=1),E||x===2?i=C:i=o.children}else i=o.children;v&&v.length&&(p=r6(v)),o.codegenNode=om(a,_,r,i,d===0?void 0:d,p,g,!!D,!1,m,o.loc)};function s6(o,a,s=!1){let{tag:t}=o;const c=Wv(t),m=Lh(o,"is",!1,!0);if(m)if(c||li("COMPILER_IS_ON_ELEMENT",a)){let l;if(m.type===6?l=m.value&&so(m.value.content,!0):(l=m.exp,l||(l=so("is",!1,m.arg.loc))),l)return ra(a.helper(Fg),[l])}else m.type===6&&m.value.content.startsWith("vue:")&&(t=m.value.content.slice(4));const _=l$(t)||a.isBuiltInComponent(t);return _?(s||a.helper(_),_):(a.helper(Ng),a.components.add(t),nm(t,"component"))}function x$(o,a,s=o.props,t,c,m=!1){const{tag:_,loc:l,children:r}=o;let i=[];const d=[],p=[],v=r.length>0;let g=!1,D=0,y=!1,C=!1,x=!1,E=!1,k=!1,w=!1;const T=[],V=R=>{i.length&&(d.push(An(dy(i),l)),i=[]),R&&d.push(R)},B=()=>{a.scopes.vFor>0&&i.push(oa(so("ref_for",!0),so("true")))},O=({key:R,value:P})=>{if(en(R)){const I=R.content,S=ui(I);if(S&&(!t||c)&&I.toLowerCase()!=="onclick"&&I!=="onUpdate:modelValue"&&!kl(I)&&(E=!0),S&&kl(I)&&(w=!0),S&&P.type===14&&(P=P.arguments[0]),P.type===20||(P.type===4||P.type===8)&&fn(P,a)>0)return;I==="ref"?y=!0:I==="class"?C=!0:I==="style"?x=!0:I!=="key"&&!T.includes(I)&&T.push(I),t&&(I==="class"||I==="style")&&!T.includes(I)&&T.push(I)}else k=!0};for(let R=0;R<s.length;R++){const P=s[R];if(P.type===6){const{loc:I,name:S,nameLoc:F,value:N}=P;let U=!0;if(S==="ref"&&(y=!0,B()),S==="is"&&(Wv(_)||N&&N.content.startsWith("vue:")||li("COMPILER_IS_ON_ELEMENT",a)))continue;i.push(oa(so(S,!0,F),so(N?N.content:"",U,N?N.loc:I)))}else{const{name:I,arg:S,exp:F,loc:N,modifiers:U}=P,Z=I==="bind",ce=I==="on";if(I==="slot"){t||a.onError(Go(40,N));continue}if(I==="once"||I==="memo"||I==="is"||Z&&Jl(S,"is")&&(Wv(_)||li("COMPILER_IS_ON_ELEMENT",a))||ce&&m)continue;if((Z&&Jl(S,"key")||ce&&v&&Jl(S,"vue:before-update"))&&(g=!0),Z&&Jl(S,"ref")&&B(),!S&&(Z||ce)){if(k=!0,F)if(Z){if(B(),V(),li("COMPILER_V_BIND_OBJECT_ORDER",a)){d.unshift(F);continue}d.push(F)}else V({type:14,loc:N,callee:a.helper(zg),arguments:t?[F]:[F,"true"]});else a.onError(Go(Z?34:35,N));continue}Z&&U.some(J=>J.content==="prop")&&(D|=32);const ae=a.directiveTransforms[I];if(ae){const{props:J,needRuntime:z}=ae(P,o,a);!m&&J.forEach(O),ce&&S&&!en(S)?V(An(J,l)):i.push(...J),z&&(p.push(P),on(z)&&C$.set(P,z))}else fx(I)||(p.push(P),v&&(g=!0))}}let L;if(d.length?(V(),d.length>1?L=ra(a.helper(Qf),d,l):L=d[0]):i.length&&(L=An(dy(i),l)),k?D|=16:(C&&!t&&(D|=2),x&&!t&&(D|=4),T.length&&(D|=8),E&&(D|=32)),!g&&(D===0||D===32)&&(y||w||p.length>0)&&(D|=512),!a.inSSR&&L)switch(L.type){case 15:let R=-1,P=-1,I=!1;for(let N=0;N<L.properties.length;N++){const U=L.properties[N].key;en(U)?U.content==="class"?R=N:U.content==="style"&&(P=N):U.isHandlerKey||(I=!0)}const S=L.properties[R],F=L.properties[P];I?L=ra(a.helper(tm),[L]):(S&&!en(S.value)&&(S.value=ra(a.helper(qg),[S.value])),F&&(x||F.value.type===4&&F.value.content.trim()[0]==="["||F.value.type===17)&&(F.value=ra(a.helper(Hg),[F.value])));break;case 14:break;default:L=ra(a.helper(tm),[ra(a.helper(Am),[L])]);break}return{props:L,directives:p,patchFlag:D,dynamicPropNames:T,shouldUseBlock:g}}function dy(o){const a=new Map,s=[];for(let t=0;t<o.length;t++){const c=o[t];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const m=c.key.content,_=a.get(m);_?(m==="style"||m==="class"||ui(m))&&l6(_,c):(a.set(m,c),s.push(c))}return s}function l6(o,a){o.value.type===17?o.value.elements.push(a.value):o.value=si([o.value,a.value],o.loc)}function i6(o,a){const s=[],t=C$.get(o);t?s.push(a.helperString(t)):(a.helper(Yg),a.directives.add(o.name),s.push(nm(o.name,"directive")));const{loc:c}=o;if(o.exp&&s.push(o.exp),o.arg&&(o.exp||s.push("void 0"),s.push(o.arg)),Object.keys(o.modifiers).length){o.arg||(o.exp||s.push("void 0"),s.push("void 0"));const m=so("true",!1,c);s.push(An(o.modifiers.map(_=>oa(_,m)),c))}return si(s,o.loc)}function r6(o){let a="[";for(let s=0,t=o.length;s<t;s++)a+=JSON.stringify(o[s]),s<t-1&&(a+=", ");return a+"]"}function Wv(o){return o==="component"||o==="Component"}const d6=(o,a)=>{if(eh(o)){const{children:s,loc:t}=o,{slotName:c,slotProps:m}=c6(o,a),_=[a.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let l=2;m&&(_[2]=m,l=3),s.length&&(_[3]=Kr([],s,!1,!1,t),l=4),a.scopeId&&!a.slotted&&(l=5),_.splice(l),o.codegenNode=ra(a.helper(o$),_,t)}};function c6(o,a){let s='"default"',t;const c=[];for(let m=0;m<o.props.length;m++){const _=o.props[m];if(_.type===6)_.value&&(_.name==="name"?s=JSON.stringify(_.value.content):(_.name=Uo(_.name),c.push(_)));else if(_.name==="bind"&&Jl(_.arg,"name")){if(_.exp)s=_.exp;else if(_.arg&&_.arg.type===4){const l=Uo(_.arg.content);s=_.exp=so(l,!1,_.arg.loc)}}else _.name==="bind"&&_.arg&&en(_.arg)&&(_.arg.content=Uo(_.arg.content)),c.push(_)}if(c.length>0){const{props:m,directives:_}=x$(o,a,c,!1,!1);t=m,_.length&&a.onError(Go(36,_[0].loc))}return{slotName:s,slotProps:t}}const P$=(o,a,s,t)=>{const{loc:c,modifiers:m,arg:_}=o;!o.exp&&!m.length&&s.onError(Go(35,c));let l;if(_.type===4)if(_.isStatic){let p=_.content;p.startsWith("vue:")&&(p=`vnode-${p.slice(4)}`);const v=a.tagType!==0||p.startsWith("vnode")||!/[A-Z]/.test(p)?jr(Uo(p)):`on:${p}`;l=so(v,!0,_.loc)}else l=es([`${s.helperString(Bv)}(`,_,")"]);else l=_,l.children.unshift(`${s.helperString(Bv)}(`),l.children.push(")");let r=o.exp;r&&!r.content.trim()&&(r=void 0);let i=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const p=r$(r),v=!(p||iA(r)),g=r.content.includes(";");(v||i&&p)&&(r=es([`${v?"$event":"(...args)"} => ${g?"{":"("}`,r,g?"}":")"]))}let d={props:[oa(l,r||so("() => {}",!1,c))]};return t&&(d=t(d)),i&&(d.props[0].value=s.cache(d.props[0].value)),d.props.forEach(p=>p.key.isHandlerKey=!0),d},u6=(o,a)=>{if(o.type===0||o.type===1||o.type===11||o.type===10)return()=>{const s=o.children;let t,c=!1;for(let m=0;m<s.length;m++){const _=s[m];if(Op(_)){c=!0;for(let l=m+1;l<s.length;l++){const r=s[l];if(Op(r))t||(t=s[m]=es([_],_.loc)),t.children.push(" + ",r),s.splice(l,1),l--;else{t=void 0;break}}}}if(!(!c||s.length===1&&(o.type===0||o.type===1&&o.tagType===0&&!o.props.find(m=>m.type===7&&!a.directiveTransforms[m.name])&&o.tag!=="template")))for(let m=0;m<s.length;m++){const _=s[m];if(Op(_)||_.type===8){const l=[];(_.type!==2||_.content!==" ")&&l.push(_),!a.ssr&&fn(_,a)===0&&l.push("1"),s[m]={type:12,content:_,loc:_.loc,codegenNode:ra(a.helper(Lg),l)}}}}},cy=new WeakSet,_6=(o,a)=>{if(o.type===1&&xn(o,"once",!0))return cy.has(o)||a.inVOnce||a.inSSR?void 0:(cy.add(o),a.inVOnce=!0,a.helper(Zf),()=>{a.inVOnce=!1;const s=a.currentNode;s.codegenNode&&(s.codegenNode=a.cache(s.codegenNode,!0,!0))})},E$=(o,a,s)=>{const{exp:t,arg:c}=o;if(!t)return s.onError(Go(41,o.loc)),lf();const m=t.loc.source.trim(),_=t.type===4?t.content:m,l=s.bindingMetadata[m];if(l==="props"||l==="props-aliased")return s.onError(Go(44,t.loc)),lf();if(!_.trim()||!r$(t)&&!!1)return s.onError(Go(42,t.loc)),lf();const i=c||so("modelValue",!0),d=c?en(c)?`onUpdate:${Uo(c.content)}`:es(['"onUpdate:" + ',c]):"onUpdate:modelValue";let p;const v=s.isTS?"($event: any)":"$event";p=es([`${v} => ((`,t,") = $event)"]);const g=[oa(i,o.exp),oa(d,p)];if(o.modifiers.length&&a.tagType===1){const D=o.modifiers.map(C=>C.content).map(C=>(Zg(C)?C:JSON.stringify(C))+": true").join(", "),y=c?en(c)?`${c.content}Modifiers`:es([c,' + "Modifiers"']):"modelModifiers";g.push(oa(y,so(`{ ${D} }`,!1,o.loc,2)))}return lf(g)};function lf(o=[]){return{props:o}}const m6=/[\w).+\-_$\]]/,f6=(o,a)=>{li("COMPILER_FILTERS",a)&&(o.type===5?oh(o.content,a):o.type===1&&o.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&oh(s.exp,a)}))};function oh(o,a){if(o.type===4)uy(o,a);else for(let s=0;s<o.children.length;s++){const t=o.children[s];typeof t=="object"&&(t.type===4?uy(t,a):t.type===8?oh(o,a):t.type===5&&oh(t.content,a))}}function uy(o,a){const s=o.content;let t=!1,c=!1,m=!1,_=!1,l=0,r=0,i=0,d=0,p,v,g,D,y=[];for(g=0;g<s.length;g++)if(v=p,p=s.charCodeAt(g),t)p===39&&v!==92&&(t=!1);else if(c)p===34&&v!==92&&(c=!1);else if(m)p===96&&v!==92&&(m=!1);else if(_)p===47&&v!==92&&(_=!1);else if(p===124&&s.charCodeAt(g+1)!==124&&s.charCodeAt(g-1)!==124&&!l&&!r&&!i)D===void 0?(d=g+1,D=s.slice(0,g).trim()):C();else{switch(p){case 34:c=!0;break;case 39:t=!0;break;case 96:m=!0;break;case 40:i++;break;case 41:i--;break;case 91:r++;break;case 93:r--;break;case 123:l++;break;case 125:l--;break}if(p===47){let x=g-1,E;for(;x>=0&&(E=s.charAt(x),E===" ");x--);(!E||!m6.test(E))&&(_=!0)}}D===void 0?D=s.slice(0,g).trim():d!==0&&C();function C(){y.push(s.slice(d,g).trim()),d=g+1}if(y.length){for(g=0;g<y.length;g++)D=h6(D,y[g],a);o.content=D,o.ast=void 0}}function h6(o,a,s){s.helper(Vg);const t=a.indexOf("(");if(t<0)return s.filters.add(a),`${nm(a,"filter")}(${o})`;{const c=a.slice(0,t),m=a.slice(t+1);return s.filters.add(c),`${nm(c,"filter")}(${o}${m!==")"?","+m:m}`}}const _y=new WeakSet,p6=(o,a)=>{if(o.type===1){const s=xn(o,"memo");return!s||_y.has(o)?void 0:(_y.add(o),()=>{const t=o.codegenNode||a.currentNode.codegenNode;t&&t.type===13&&(o.tagType!==1&&Gg(t,a),o.codegenNode=ra(a.helper(Kg),[s.exp,Kr(void 0,t),"_cache",String(a.cached.length)]),a.cached.push(null))})}};function v6(o){return[[_6,KA,p6,JA,f6,d6,n6,t6,u6],{on:P$,bind:ZA,model:E$}]}function g6(o,a={}){const s=a.onError||Qg,t=a.mode==="module";a.prefixIdentifiers===!0?s(Go(47)):t&&s(Go(48));const c=!1;a.cacheHandlers&&s(Go(49)),a.scopeId&&!t&&s(Go(50));const m=vo({},a,{prefixIdentifiers:c}),_=ao(o)?CA(o,m):o,[l,r]=v6();return AA(_,vo({},m,{nodeTransforms:[...l,...a.nodeTransforms||[]],directiveTransforms:vo({},r,a.directiveTransforms||{})})),TA(_,m)}const b6=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const A$=Symbol(""),I$=Symbol(""),R$=Symbol(""),S$=Symbol(""),Kv=Symbol(""),T$=Symbol(""),j$=Symbol(""),O$=Symbol(""),M$=Symbol(""),L$=Symbol("");GE({[A$]:"vModelRadio",[I$]:"vModelCheckbox",[R$]:"vModelText",[S$]:"vModelSelect",[Kv]:"vModelDynamic",[T$]:"withModifiers",[j$]:"withKeys",[O$]:"vShow",[M$]:"Transition",[L$]:"TransitionGroup"});let Mi;function y6(o,a=!1){return Mi||(Mi=document.createElement("div")),a?(Mi.innerHTML=`<div foo="${o.replace(/"/g,"&quot;")}">`,Mi.children[0].getAttribute("foo")):(Mi.innerHTML=o,Mi.textContent)}const k6={parseMode:"html",isVoidTag:Ix,isNativeTag:o=>Px(o)||Ex(o)||Ax(o),isPreTag:o=>o==="pre",isIgnoreNewlineTag:o=>o==="pre"||o==="textarea",decodeEntities:y6,isBuiltInComponent:o=>{if(o==="Transition"||o==="transition")return M$;if(o==="TransitionGroup"||o==="transition-group")return L$},getNamespace(o,a,s){let t=a?a.ns:s;if(a&&t===2)if(a.tag==="annotation-xml"){if(o==="svg")return 1;a.props.some(c=>c.type===6&&c.name==="encoding"&&c.value!=null&&(c.value.content==="text/html"||c.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(a.tag)&&o!=="mglyph"&&o!=="malignmark"&&(t=0);else a&&t===1&&(a.tag==="foreignObject"||a.tag==="desc"||a.tag==="title")&&(t=0);if(t===0){if(o==="svg")return 1;if(o==="math")return 2}return t}},$6=o=>{o.type===1&&o.props.forEach((a,s)=>{a.type===6&&a.name==="style"&&a.value&&(o.props[s]={type:7,name:"bind",arg:so("style",!0,a.loc),exp:w6(a.value.content,a.loc),modifiers:[],loc:a.loc})})},w6=(o,a)=>{const s=K0(o);return so(JSON.stringify(s),!1,a,3)};function xl(o,a){return Go(o,a)}const D6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(xl(53,c)),a.children.length&&(s.onError(xl(54,c)),a.children.length=0),{props:[oa(so("innerHTML",!0,c),t||so("",!0))]}},C6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(xl(55,c)),a.children.length&&(s.onError(xl(56,c)),a.children.length=0),{props:[oa(so("textContent",!0),t?fn(t,s)>0?t:ra(s.helperString(Mh),[t],c):so("",!0))]}},x6=(o,a,s)=>{const t=E$(o,a,s);if(!t.props.length||a.tagType===1)return t;o.arg&&s.onError(xl(58,o.arg.loc));const{tag:c}=a,m=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||m){let _=R$,l=!1;if(c==="input"||m){const r=Lh(a,"type");if(r){if(r.type===7)_=Kv;else if(r.value)switch(r.value.content){case"radio":_=A$;break;case"checkbox":_=I$;break;case"file":l=!0,s.onError(xl(59,o.loc));break}}else rA(a)&&(_=Kv)}else c==="select"&&(_=S$);l||(t.needRuntime=s.helper(_))}else s.onError(xl(57,o.loc));return t.props=t.props.filter(_=>!(_.key.type===4&&_.key.content==="modelValue")),t},P6=pn("passive,once,capture"),E6=pn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),A6=pn("left,right"),N$=pn("onkeyup,onkeydown,onkeypress"),I6=(o,a,s,t)=>{const c=[],m=[],_=[];for(let l=0;l<a.length;l++){const r=a[l].content;r==="native"&&am("COMPILER_V_ON_NATIVE",s)||P6(r)?_.push(r):A6(r)?en(o)?N$(o.content.toLowerCase())?c.push(r):m.push(r):(c.push(r),m.push(r)):E6(r)?m.push(r):c.push(r)}return{keyModifiers:c,nonKeyModifiers:m,eventOptionModifiers:_}},my=(o,a)=>en(o)&&o.content.toLowerCase()==="onclick"?so(a,!0):o.type!==4?es(["(",o,`) === "onClick" ? "${a}" : (`,o,")"]):o,R6=(o,a,s)=>P$(o,a,s,t=>{const{modifiers:c}=o;if(!c.length)return t;let{key:m,value:_}=t.props[0];const{keyModifiers:l,nonKeyModifiers:r,eventOptionModifiers:i}=I6(m,c,s,o.loc);if(r.includes("right")&&(m=my(m,"onContextmenu")),r.includes("middle")&&(m=my(m,"onMouseup")),r.length&&(_=ra(s.helper(T$),[_,JSON.stringify(r)])),l.length&&(!en(m)||N$(m.content.toLowerCase()))&&(_=ra(s.helper(j$),[_,JSON.stringify(l)])),i.length){const d=i.map(mi).join("");m=en(m)?so(`${m.content}${d}`,!0):es(["(",m,`) + "${d}"`])}return{props:[oa(m,_)]}}),S6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(xl(61,c)),{props:[],needRuntime:s.helper(O$)}},T6=(o,a)=>{o.type===1&&o.tagType===0&&(o.tag==="script"||o.tag==="style")&&a.removeNode()},j6=[$6],O6={cloak:b6,html:D6,text:C6,model:x6,on:R6,show:S6};function M6(o,a={}){return g6(o,vo({},k6,a,{nodeTransforms:[T6,...j6,...a.nodeTransforms||[]],directiveTransforms:vo({},O6,a.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fy=Object.create(null);function L6(o,a){if(!ao(o))if(o.nodeType)o=o.innerHTML;else return wa;const s=vx(o,a),t=fy[s];if(t)return t;if(o[0]==="#"){const l=document.querySelector(o);o=l?l.innerHTML:""}const c=vo({hoistStatic:!0,onError:void 0,onWarn:wa},a);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=l=>!!customElements.get(l));const{code:m}=M6(o,c),_=new Function("Vue",m)(UE);return _._rc=!0,fy[s]=_}Dk(L6);var N6=Object.defineProperty,hy=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,Y6=Object.prototype.propertyIsEnumerable,py=(o,a,s)=>a in o?N6(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,F$=(o,a)=>{for(var s in a||(a={}))F6.call(a,s)&&py(o,s,a[s]);if(hy)for(var s of hy(a))Y6.call(a,s)&&py(o,s,a[s]);return o},Yh=o=>typeof o=="function",Vh=o=>typeof o=="string",Y$=o=>Vh(o)&&o.trim().length>0,V6=o=>typeof o=="number",ei=o=>typeof o>"u",lm=o=>typeof o=="object"&&o!==null,B6=o=>hs(o,"tag")&&Y$(o.tag),V$=o=>window.TouchEvent&&o instanceof TouchEvent,B$=o=>hs(o,"component")&&U$(o.component),U6=o=>Yh(o)||lm(o),U$=o=>!ei(o)&&(Vh(o)||U6(o)||B$(o)),vy=o=>lm(o)&&["height","width","right","left","top","bottom"].every(a=>V6(o[a])),hs=(o,a)=>(lm(o)||Yh(o))&&a in o,q6=(o=>()=>o++)(0);function Lp(o){return V$(o)?o.targetTouches[0].clientX:o.clientX}function gy(o){return V$(o)?o.targetTouches[0].clientY:o.clientY}var H6=o=>{ei(o.remove)?o.parentNode&&o.parentNode.removeChild(o):o.remove()},Rm=o=>B$(o)?Rm(o.component):B6(o)?Oa({render(){return o}}):typeof o=="string"?o:bo(wl(o)),z6=o=>{if(typeof o=="string")return o;const a=hs(o,"props")&&lm(o.props)?o.props:{},s=hs(o,"listeners")&&lm(o.listeners)?o.listeners:{};return{component:Rm(o),props:a,listeners:s}},W6=()=>typeof window<"u",e1=class{constructor(){this.allHandlers={}}getHandlers(a){return this.allHandlers[a]||[]}on(a,s){const t=this.getHandlers(a);t.push(s),this.allHandlers[a]=t}off(a,s){const t=this.getHandlers(a);t.splice(t.indexOf(s)>>>0,1)}emit(a,s){this.getHandlers(a).forEach(c=>c(s))}},K6=o=>["on","off","emit"].every(a=>hs(o,a)&&Yh(o[a])),_n;(function(o){o.SUCCESS="success",o.ERROR="error",o.WARNING="warning",o.INFO="info",o.DEFAULT="default"})(_n||(_n={}));var ah;(function(o){o.TOP_LEFT="top-left",o.TOP_CENTER="top-center",o.TOP_RIGHT="top-right",o.BOTTOM_LEFT="bottom-left",o.BOTTOM_CENTER="bottom-center",o.BOTTOM_RIGHT="bottom-right"})(ah||(ah={}));var mn;(function(o){o.ADD="add",o.DISMISS="dismiss",o.UPDATE="update",o.CLEAR="clear",o.UPDATE_DEFAULTS="update_defaults"})(mn||(mn={}));var Qn="Vue-Toastification",zn={type:{type:String,default:_n.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},q$={type:zn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Pf={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:zn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Gv={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},H$={transition:{type:[Object,String],default:`${Qn}__bounce`}},G6={position:{type:String,default:ah.TOP_RIGHT},draggable:zn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:zn.trueBoolean,pauseOnHover:zn.trueBoolean,closeOnClick:zn.trueBoolean,timeout:Gv.timeout,hideProgressBar:Gv.hideProgressBar,toastClassName:zn.classNames,bodyClassName:zn.classNames,icon:q$.customIcon,closeButton:Pf.component,closeButtonClassName:Pf.classNames,showCloseButtonOnHover:Pf.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new e1}},Q6={id:{type:[String,Number],required:!0,default:0},type:zn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Z6={container:{type:[Object,Function],default:()=>document.body},newestOnTop:zn.trueBoolean,maxToasts:{type:Number,default:20},transition:H$.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:o=>o},filterToasts:{type:Function,default:o=>o},containerClassName:zn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},zs={CORE_TOAST:G6,TOAST:Q6,CONTAINER:Z6,PROGRESS_BAR:Gv,ICON:q$,TRANSITION:H$,CLOSE_BUTTON:Pf},z$=Oa({name:"VtProgressBar",props:zs.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Qn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function J6(o,a){return u(),f("div",{style:Rl(o.style),class:rt(o.cpClass)},null,6)}z$.render=J6;var X6=z$,W$=Oa({name:"VtCloseButton",props:zs.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Rm(this.component):"button"},classes(){const o=[`${Qn}__close-button`];return this.showOnHover&&o.push("show-on-hover"),o.concat(this.classNames)}}}),eI=le("  ");function tI(o,a){return u(),fe($a(o.buttonComponent),$t({"aria-label":o.ariaLabel,class:o.classes},o.$attrs),{default:Ko(()=>[eI]),_:1},16,["aria-label","class"])}W$.render=tI;var oI=W$,K$={},aI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},nI=e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),sI=[nI];function lI(o,a){return u(),f("svg",aI,sI)}K$.render=lI;var iI=K$,G$={},rI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},dI=e("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),cI=[dI];function uI(o,a){return u(),f("svg",rI,cI)}G$.render=uI;var by=G$,Q$={},_I={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mI=e("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),fI=[mI];function hI(o,a){return u(),f("svg",_I,fI)}Q$.render=hI;var pI=Q$,Z$={},vI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},gI=e("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),bI=[gI];function yI(o,a){return u(),f("svg",vI,bI)}Z$.render=yI;var kI=Z$,J$=Oa({name:"VtIcon",props:zs.ICON,computed:{customIconChildren(){return hs(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Vh(this.customIcon)?this.trimValue(this.customIcon):hs(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return hs(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:U$(this.customIcon)?Rm(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[_n.DEFAULT]:by,[_n.INFO]:by,[_n.SUCCESS]:iI,[_n.ERROR]:kI,[_n.WARNING]:pI}[this.type]},iconClasses(){const o=[`${Qn}__icon`];return this.hasCustomIcon?o.concat(this.customIconClass):o}},methods:{trimValue(o,a=""){return Y$(o)?o.trim():a}}});function $I(o,a){return u(),fe($a(o.component),{class:rt(o.iconClasses)},{default:Ko(()=>[le(n(o.customIconChildren),1)]),_:1},8,["class"])}J$.render=$I;var wI=J$,X$=Oa({name:"VtToast",components:{ProgressBar:X6,CloseButton:oI,Icon:wI},inheritAttrs:!1,props:Object.assign({},zs.CORE_TOAST,zs.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const o=[`${Qn}__toast`,`${Qn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&o.push("disable-transition"),this.rtl&&o.push(`${Qn}__toast--rtl`),o},bodyClasses(){return[`${Qn}__toast-${Vh(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return vy(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:hs,getVueComponentFromObj:Rm,closeToast(){this.eventBus.emit(mn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const o=this.$el;o.addEventListener("touchstart",this.onDragStart,{passive:!0}),o.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const o=this.$el;o.removeEventListener("touchstart",this.onDragStart),o.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(o){this.beingDragged=!0,this.dragPos={x:Lp(o),y:gy(o)},this.dragStart=Lp(o),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(o){this.beingDragged&&(o.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Lp(o),y:gy(o)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,vy(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),DI=["role"];function CI(o,a){const s=de("Icon"),t=de("CloseButton"),c=de("ProgressBar");return u(),f("div",{class:rt(o.classes),style:Rl(o.draggableStyle),onClick:a[0]||(a[0]=(...m)=>o.clickHandler&&o.clickHandler(...m)),onMouseenter:a[1]||(a[1]=(...m)=>o.hoverPause&&o.hoverPause(...m)),onMouseleave:a[2]||(a[2]=(...m)=>o.hoverPlay&&o.hoverPlay(...m))},[o.icon?(u(),fe(s,{key:0,"custom-icon":o.icon,type:o.type},null,8,["custom-icon","type"])):b("v-if",!0),e("div",{role:o.accessibility.toastRole||"alert",class:rt(o.bodyClasses)},[typeof o.content=="string"?(u(),f(W,{key:0},[le(n(o.content),1)],2112)):(u(),fe($a(o.getVueComponentFromObj(o.content)),$t({key:1,"toast-id":o.id},o.hasProp(o.content,"props")?o.content.props:{},H2(o.hasProp(o.content,"listeners")?o.content.listeners:{}),{onCloseToast:o.closeToast}),null,16,["toast-id","onCloseToast"]))],10,DI),o.closeButton?(u(),fe(t,{key:1,component:o.closeButton,"class-names":o.closeButtonClassName,"show-on-hover":o.showCloseButtonOnHover,"aria-label":o.accessibility.closeButtonLabel,onClick:st(o.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):b("v-if",!0),o.timeout?(u(),fe(c,{key:2,"is-running":o.isRunning,"hide-progress-bar":o.hideProgressBar,timeout:o.timeout,onCloseToast:o.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):b("v-if",!0)],38)}X$.render=CI;var xI=X$,ew=Oa({name:"VtTransition",props:zs.TRANSITION,emits:["leave"],methods:{hasProp:hs,leave(o){o instanceof HTMLElement&&(o.style.left=o.offsetLeft+"px",o.style.top=o.offsetTop+"px",o.style.width=getComputedStyle(o).width,o.style.position="absolute")}}});function PI(o,a){return u(),fe(Vk,{tag:"div","enter-active-class":o.transition.enter?o.transition.enter:`${o.transition}-enter-active`,"move-class":o.transition.move?o.transition.move:`${o.transition}-move`,"leave-active-class":o.transition.leave?o.transition.leave:`${o.transition}-leave-active`,onLeave:o.leave},{default:Ko(()=>[jo(o.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}ew.render=PI;var EI=ew,tw=Oa({name:"VueToastification",devtools:{hide:!0},components:{Toast:xI,VtTransition:EI},props:Object.assign({},zs.CORE_TOAST,zs.CONTAINER,zs.TRANSITION),data(){return{count:0,positions:Object.values(ah),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const o=this.eventBus;o.on(mn.ADD,this.addToast),o.on(mn.CLEAR,this.clearToasts),o.on(mn.DISMISS,this.dismissToast),o.on(mn.UPDATE,this.updateToast),o.on(mn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(o){Yh(o)&&(o=await o()),H6(this.$el),o.appendChild(this.$el)},setToast(o){ei(o.id)||(this.toasts[o.id]=o)},addToast(o){o.content=z6(o.content);const a=Object.assign({},this.defaults,o.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[o.type],o),s=this.defaults.filterBeforeCreate(a,this.toastArray);s&&this.setToast(s)},dismissToast(o){const a=this.toasts[o];!ei(a)&&!ei(a.onClose)&&a.onClose(),delete this.toasts[o]},clearToasts(){Object.keys(this.toasts).forEach(o=>{this.dismissToast(o)})},getPositionToasts(o){const a=this.filteredToasts.filter(s=>s.position===o).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?a.reverse():a},updateDefaults(o){ei(o.container)||this.setup(o.container),this.defaults=Object.assign({},this.defaults,o)},updateToast({id:o,options:a,create:s}){this.toasts[o]?(a.timeout&&a.timeout===this.toasts[o].timeout&&a.timeout++,this.setToast(Object.assign({},this.toasts[o],a))):s&&this.addToast(Object.assign({},{id:o},a))},getClasses(o){return[`${Qn}__container`,o].concat(this.defaults.containerClassName)}}});function AI(o,a){const s=de("Toast"),t=de("VtTransition");return u(),f("div",null,[(u(!0),f(W,null,X(o.positions,c=>(u(),f("div",{key:c},[Be(t,{transition:o.defaults.transition,class:rt(o.getClasses(c))},{default:Ko(()=>[(u(!0),f(W,null,X(o.getPositionToasts(c),m=>(u(),fe(s,$t({key:m.id},m),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}tw.render=AI;var II=tw,yy=(o={},a=!0)=>{const s=o.eventBus=o.eventBus||new e1;a&&bt(()=>{const m=Ke(II,F$({},o)),_=m.mount(document.createElement("div")),l=o.onMounted;if(ei(l)||l(_,m),o.shareAppContext){const r=o.shareAppContext;r===!0?console.warn(`[${Qn}] App to share context with was not provided.`):(m._context.components=r._context.components,m._context.directives=r._context.directives,m._context.mixins=r._context.mixins,m._context.provides=r._context.provides,m.config.globalProperties=r.config.globalProperties)}});const t=(m,_)=>{const l=Object.assign({},{id:q6(),type:_n.DEFAULT},_,{content:m});return s.emit(mn.ADD,l),l.id};t.clear=()=>s.emit(mn.CLEAR,void 0),t.updateDefaults=m=>{s.emit(mn.UPDATE_DEFAULTS,m)},t.dismiss=m=>{s.emit(mn.DISMISS,m)};function c(m,{content:_,options:l},r=!1){const i=Object.assign({},l,{content:_});s.emit(mn.UPDATE,{id:m,options:i,create:r})}return t.update=c,t.success=(m,_)=>t(m,Object.assign({},_,{type:_n.SUCCESS})),t.info=(m,_)=>t(m,Object.assign({},_,{type:_n.INFO})),t.error=(m,_)=>t(m,Object.assign({},_,{type:_n.ERROR})),t.warning=(m,_)=>t(m,Object.assign({},_,{type:_n.WARNING})),t},RI=()=>{const o=()=>console.warn(`[${Qn}] This plugin does not support SSR!`);return new Proxy(o,{get(){return o}})};function Qv(o){return W6()?K6(o)?yy({eventBus:o},!1):yy(o,!0):RI()}var ow=Symbol("VueToastification"),aw=new e1,SI=(o,a)=>{(a==null?void 0:a.shareAppContext)===!0&&(a.shareAppContext=o);const s=Qv(F$({eventBus:aw},a));o.provide(ow,s)},lt=o=>{if(o)return Qv(o);const a=Ha()?Je(ow,void 0):void 0;return a||Qv(aw)},Xe=SI,va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var t1={exports:{}},nw=function(a,s){return function(){for(var c=new Array(arguments.length),m=0;m<c.length;m++)c[m]=arguments[m];return a.apply(s,c)}},TI=nw,o1=Object.prototype.toString,a1=function(o){return function(a){var s=o1.call(a);return o[s]||(o[s]=s.slice(8,-1).toLowerCase())}}(Object.create(null));function hi(o){return o=o.toLowerCase(),function(s){return a1(s)===o}}function n1(o){return Array.isArray(o)}function nh(o){return typeof o>"u"}function jI(o){return o!==null&&!nh(o)&&o.constructor!==null&&!nh(o.constructor)&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}var sw=hi("ArrayBuffer");function OI(o){var a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(o):a=o&&o.buffer&&sw(o.buffer),a}function MI(o){return typeof o=="string"}function LI(o){return typeof o=="number"}function lw(o){return o!==null&&typeof o=="object"}function Ef(o){if(a1(o)!=="object")return!1;var a=Object.getPrototypeOf(o);return a===null||a===Object.prototype}var NI=hi("Date"),FI=hi("File"),YI=hi("Blob"),VI=hi("FileList");function s1(o){return o1.call(o)==="[object Function]"}function BI(o){return lw(o)&&s1(o.pipe)}function UI(o){var a="[object FormData]";return o&&(typeof FormData=="function"&&o instanceof FormData||o1.call(o)===a||s1(o.toString)&&o.toString()===a)}var qI=hi("URLSearchParams");function HI(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function zI(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function l1(o,a){if(!(o===null||typeof o>"u"))if(typeof o!="object"&&(o=[o]),n1(o))for(var s=0,t=o.length;s<t;s++)a.call(null,o[s],s,o);else for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.call(null,o[c],c,o)}function Zv(){var o={};function a(c,m){Ef(o[m])&&Ef(c)?o[m]=Zv(o[m],c):Ef(c)?o[m]=Zv({},c):n1(c)?o[m]=c.slice():o[m]=c}for(var s=0,t=arguments.length;s<t;s++)l1(arguments[s],a);return o}function WI(o,a,s){return l1(a,function(c,m){s&&typeof c=="function"?o[m]=TI(c,s):o[m]=c}),o}function KI(o){return o.charCodeAt(0)===65279&&(o=o.slice(1)),o}function GI(o,a,s,t){o.prototype=Object.create(a.prototype,t),o.prototype.constructor=o,s&&Object.assign(o.prototype,s)}function QI(o,a,s){var t,c,m,_={};a=a||{};do{for(t=Object.getOwnPropertyNames(o),c=t.length;c-- >0;)m=t[c],_[m]||(a[m]=o[m],_[m]=!0);o=Object.getPrototypeOf(o)}while(o&&(!s||s(o,a))&&o!==Object.prototype);return a}function ZI(o,a,s){o=String(o),(s===void 0||s>o.length)&&(s=o.length),s-=a.length;var t=o.indexOf(a,s);return t!==-1&&t===s}function JI(o){if(!o)return null;var a=o.length;if(nh(a))return null;for(var s=new Array(a);a-- >0;)s[a]=o[a];return s}var XI=function(o){return function(a){return o&&a instanceof o}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Da={isArray:n1,isArrayBuffer:sw,isBuffer:jI,isFormData:UI,isArrayBufferView:OI,isString:MI,isNumber:LI,isObject:lw,isPlainObject:Ef,isUndefined:nh,isDate:NI,isFile:FI,isBlob:YI,isFunction:s1,isStream:BI,isURLSearchParams:qI,isStandardBrowserEnv:zI,forEach:l1,merge:Zv,extend:WI,trim:HI,stripBOM:KI,inherits:GI,toFlatObject:QI,kindOf:a1,kindOfTest:hi,endsWith:ZI,toArray:JI,isTypedArray:XI,isFileList:VI},Li=Da;function ky(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var iw=function(a,s,t){if(!s)return a;var c;if(t)c=t(s);else if(Li.isURLSearchParams(s))c=s.toString();else{var m=[];Li.forEach(s,function(r,i){r===null||typeof r>"u"||(Li.isArray(r)?i=i+"[]":r=[r],Li.forEach(r,function(p){Li.isDate(p)?p=p.toISOString():Li.isObject(p)&&(p=JSON.stringify(p)),m.push(ky(i)+"="+ky(p))}))}),c=m.join("&")}if(c){var _=a.indexOf("#");_!==-1&&(a=a.slice(0,_)),a+=(a.indexOf("?")===-1?"?":"&")+c}return a},e8=Da;function Uh(){this.handlers=[]}Uh.prototype.use=function(a,s,t){return this.handlers.push({fulfilled:a,rejected:s,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};Uh.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)};Uh.prototype.forEach=function(a){e8.forEach(this.handlers,function(t){t!==null&&a(t)})};var t8=Uh,o8=Da,a8=function(a,s){o8.forEach(a,function(c,m){m!==s&&m.toUpperCase()===s.toUpperCase()&&(a[s]=c,delete a[m])})},rw=Da;function Zr(o,a,s,t,c){Error.call(this),this.message=o,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),t&&(this.request=t),c&&(this.response=c)}rw.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dw=Zr.prototype,cw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(o){cw[o]={value:o}});Object.defineProperties(Zr,cw);Object.defineProperty(dw,"isAxiosError",{value:!0});Zr.from=function(o,a,s,t,c,m){var _=Object.create(dw);return rw.toFlatObject(o,_,function(r){return r!==Error.prototype}),Zr.call(_,o.message,a,s,t,c),_.name=o.name,m&&Object.assign(_,m),_};var od=Zr,uw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bn=Da;function n8(o,a){a=a||new FormData;var s=[];function t(m){return m===null?"":Bn.isDate(m)?m.toISOString():Bn.isArrayBuffer(m)||Bn.isTypedArray(m)?typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,_){if(Bn.isPlainObject(m)||Bn.isArray(m)){if(s.indexOf(m)!==-1)throw Error("Circular reference detected in "+_);s.push(m),Bn.forEach(m,function(r,i){if(!Bn.isUndefined(r)){var d=_?_+"."+i:i,p;if(r&&!_&&typeof r=="object"){if(Bn.endsWith(i,"{}"))r=JSON.stringify(r);else if(Bn.endsWith(i,"[]")&&(p=Bn.toArray(r))){p.forEach(function(v){!Bn.isUndefined(v)&&a.append(d,t(v))});return}}c(r,d)}}),s.pop()}else a.append(_,t(m))}return c(o),a}var _w=n8,Np,$y;function s8(){if($y)return Np;$y=1;var o=od;return Np=function(s,t,c){var m=c.config.validateStatus;!c.status||!m||m(c.status)?s(c):t(new o("Request failed with status code "+c.status,[o.ERR_BAD_REQUEST,o.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))},Np}var Fp,wy;function l8(){if(wy)return Fp;wy=1;var o=Da;return Fp=o.isStandardBrowserEnv()?function(){return{write:function(t,c,m,_,l,r){var i=[];i.push(t+"="+encodeURIComponent(c)),o.isNumber(m)&&i.push("expires="+new Date(m).toGMTString()),o.isString(_)&&i.push("path="+_),o.isString(l)&&i.push("domain="+l),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var c=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Fp}var i8=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)},r8=function(a,s){return s?a.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):a},d8=i8,c8=r8,mw=function(a,s){return a&&!d8(s)?c8(a,s):s},Yp,Dy;function u8(){if(Dy)return Yp;Dy=1;var o=Da,a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yp=function(t){var c={},m,_,l;return t&&o.forEach(t.split(`
`),function(i){if(l=i.indexOf(":"),m=o.trim(i.substr(0,l)).toLowerCase(),_=o.trim(i.substr(l+1)),m){if(c[m]&&a.indexOf(m)>=0)return;m==="set-cookie"?c[m]=(c[m]?c[m]:[]).concat([_]):c[m]=c[m]?c[m]+", "+_:_}}),c},Yp}var Vp,Cy;function _8(){if(Cy)return Vp;Cy=1;var o=Da;return Vp=o.isStandardBrowserEnv()?function(){var s=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),c;function m(_){var l=_;return s&&(t.setAttribute("href",l),l=t.href),t.setAttribute("href",l),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return c=m(window.location.href),function(l){var r=o.isString(l)?m(l):l;return r.protocol===c.protocol&&r.host===c.host}}():function(){return function(){return!0}}(),Vp}var Bp,xy;function qh(){if(xy)return Bp;xy=1;var o=od,a=Da;function s(t){o.call(this,t??"canceled",o.ERR_CANCELED),this.name="CanceledError"}return a.inherits(s,o,{__CANCEL__:!0}),Bp=s,Bp}var Up,Py;function m8(){return Py||(Py=1,Up=function(a){var s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}),Up}var qp,Ey;function Ay(){if(Ey)return qp;Ey=1;var o=Da,a=s8(),s=l8(),t=iw,c=mw,m=u8(),_=_8(),l=uw,r=od,i=qh(),d=m8();return qp=function(v){return new Promise(function(D,y){var C=v.data,x=v.headers,E=v.responseType,k;function w(){v.cancelToken&&v.cancelToken.unsubscribe(k),v.signal&&v.signal.removeEventListener("abort",k)}o.isFormData(C)&&o.isStandardBrowserEnv()&&delete x["Content-Type"];var T=new XMLHttpRequest;if(v.auth){var V=v.auth.username||"",B=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";x.Authorization="Basic "+btoa(V+":"+B)}var O=c(v.baseURL,v.url);T.open(v.method.toUpperCase(),t(O,v.params,v.paramsSerializer),!0),T.timeout=v.timeout;function L(){if(T){var I="getAllResponseHeaders"in T?m(T.getAllResponseHeaders()):null,S=!E||E==="text"||E==="json"?T.responseText:T.response,F={data:S,status:T.status,statusText:T.statusText,headers:I,config:v,request:T};a(function(U){D(U),w()},function(U){y(U),w()},F),T=null}}if("onloadend"in T?T.onloadend=L:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(L)},T.onabort=function(){T&&(y(new r("Request aborted",r.ECONNABORTED,v,T)),T=null)},T.onerror=function(){y(new r("Network Error",r.ERR_NETWORK,v,T,T)),T=null},T.ontimeout=function(){var S=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded",F=v.transitional||l;v.timeoutErrorMessage&&(S=v.timeoutErrorMessage),y(new r(S,F.clarifyTimeoutError?r.ETIMEDOUT:r.ECONNABORTED,v,T)),T=null},o.isStandardBrowserEnv()){var R=(v.withCredentials||_(O))&&v.xsrfCookieName?s.read(v.xsrfCookieName):void 0;R&&(x[v.xsrfHeaderName]=R)}"setRequestHeader"in T&&o.forEach(x,function(S,F){typeof C>"u"&&F.toLowerCase()==="content-type"?delete x[F]:T.setRequestHeader(F,S)}),o.isUndefined(v.withCredentials)||(T.withCredentials=!!v.withCredentials),E&&E!=="json"&&(T.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&T.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",v.onUploadProgress),(v.cancelToken||v.signal)&&(k=function(I){T&&(y(!I||I&&I.type?new i:I),T.abort(),T=null)},v.cancelToken&&v.cancelToken.subscribe(k),v.signal&&(v.signal.aborted?k():v.signal.addEventListener("abort",k))),C||(C=null);var P=d(O);if(P&&["http","https","file"].indexOf(P)===-1){y(new r("Unsupported protocol "+P+":",r.ERR_BAD_REQUEST,v));return}T.send(C)})},qp}var Hp,Iy;function f8(){return Iy||(Iy=1,Hp=null),Hp}var pa=Da,Ry=a8,Sy=od,h8=uw,p8=_w,v8={"Content-Type":"application/x-www-form-urlencoded"};function Ty(o,a){!pa.isUndefined(o)&&pa.isUndefined(o["Content-Type"])&&(o["Content-Type"]=a)}function g8(){var o;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(o=Ay()),o}function b8(o,a,s){if(pa.isString(o))try{return(a||JSON.parse)(o),pa.trim(o)}catch(t){if(t.name!=="SyntaxError")throw t}return(s||JSON.stringify)(o)}var Hh={transitional:h8,adapter:g8(),transformRequest:[function(a,s){if(Ry(s,"Accept"),Ry(s,"Content-Type"),pa.isFormData(a)||pa.isArrayBuffer(a)||pa.isBuffer(a)||pa.isStream(a)||pa.isFile(a)||pa.isBlob(a))return a;if(pa.isArrayBufferView(a))return a.buffer;if(pa.isURLSearchParams(a))return Ty(s,"application/x-www-form-urlencoded;charset=utf-8"),a.toString();var t=pa.isObject(a),c=s&&s["Content-Type"],m;if((m=pa.isFileList(a))||t&&c==="multipart/form-data"){var _=this.env&&this.env.FormData;return p8(m?{"files[]":a}:a,_&&new _)}else if(t||c==="application/json")return Ty(s,"application/json"),b8(a);return a}],transformResponse:[function(a){var s=this.transitional||Hh.transitional,t=s&&s.silentJSONParsing,c=s&&s.forcedJSONParsing,m=!t&&this.responseType==="json";if(m||c&&pa.isString(a)&&a.length)try{return JSON.parse(a)}catch(_){if(m)throw _.name==="SyntaxError"?Sy.from(_,Sy.ERR_BAD_RESPONSE,this,null,this.response):_}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:f8()},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pa.forEach(["delete","get","head"],function(a){Hh.headers[a]={}});pa.forEach(["post","put","patch"],function(a){Hh.headers[a]=pa.merge(v8)});var i1=Hh,y8=Da,k8=i1,$8=function(a,s,t){var c=this||k8;return y8.forEach(t,function(_){a=_.call(c,a,s)}),a},zp,jy;function fw(){return jy||(jy=1,zp=function(a){return!!(a&&a.__CANCEL__)}),zp}var Oy=Da,Wp=$8,w8=fw(),D8=i1,C8=qh();function Kp(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new C8}var x8=function(a){Kp(a),a.headers=a.headers||{},a.data=Wp.call(a,a.data,a.headers,a.transformRequest),a.headers=Oy.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),Oy.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var s=a.adapter||D8.adapter;return s(a).then(function(c){return Kp(a),c.data=Wp.call(a,c.data,c.headers,a.transformResponse),c},function(c){return w8(c)||(Kp(a),c&&c.response&&(c.response.data=Wp.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},ln=Da,hw=function(a,s){s=s||{};var t={};function c(d,p){return ln.isPlainObject(d)&&ln.isPlainObject(p)?ln.merge(d,p):ln.isPlainObject(p)?ln.merge({},p):ln.isArray(p)?p.slice():p}function m(d){if(ln.isUndefined(s[d])){if(!ln.isUndefined(a[d]))return c(void 0,a[d])}else return c(a[d],s[d])}function _(d){if(!ln.isUndefined(s[d]))return c(void 0,s[d])}function l(d){if(ln.isUndefined(s[d])){if(!ln.isUndefined(a[d]))return c(void 0,a[d])}else return c(void 0,s[d])}function r(d){if(d in s)return c(a[d],s[d]);if(d in a)return c(void 0,a[d])}var i={url:_,method:_,data:_,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:r};return ln.forEach(Object.keys(a).concat(Object.keys(s)),function(p){var v=i[p]||m,g=v(p);ln.isUndefined(g)&&v!==r||(t[p]=g)}),t},Gp,My;function pw(){return My||(My=1,Gp={version:"0.27.2"}),Gp}var P8=pw().version,vl=od,r1={};["object","boolean","number","function","string","symbol"].forEach(function(o,a){r1[o]=function(t){return typeof t===o||"a"+(a<1?"n ":" ")+o}});var Ly={};r1.transitional=function(a,s,t){function c(m,_){return"[Axios v"+P8+"] Transitional option '"+m+"'"+_+(t?". "+t:"")}return function(m,_,l){if(a===!1)throw new vl(c(_," has been removed"+(s?" in "+s:"")),vl.ERR_DEPRECATED);return s&&!Ly[_]&&(Ly[_]=!0,console.warn(c(_," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(m,_,l):!0}};function E8(o,a,s){if(typeof o!="object")throw new vl("options must be an object",vl.ERR_BAD_OPTION_VALUE);for(var t=Object.keys(o),c=t.length;c-- >0;){var m=t[c],_=a[m];if(_){var l=o[m],r=l===void 0||_(l,m,o);if(r!==!0)throw new vl("option "+m+" must be "+r,vl.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new vl("Unknown option "+m,vl.ERR_BAD_OPTION)}}var A8={assertOptions:E8,validators:r1},vw=Da,I8=iw,Ny=t8,Fy=x8,zh=hw,R8=mw,gw=A8,Ni=gw.validators;function Jr(o){this.defaults=o,this.interceptors={request:new Ny,response:new Ny}}Jr.prototype.request=function(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=zh(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var t=s.transitional;t!==void 0&&gw.assertOptions(t,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1);var c=[],m=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(m=m&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});var _=[];this.interceptors.response.forEach(function(g){_.push(g.fulfilled,g.rejected)});var l;if(!m){var r=[Fy,void 0];for(Array.prototype.unshift.apply(r,c),r=r.concat(_),l=Promise.resolve(s);r.length;)l=l.then(r.shift(),r.shift());return l}for(var i=s;c.length;){var d=c.shift(),p=c.shift();try{i=d(i)}catch(v){p(v);break}}try{l=Fy(i)}catch(v){return Promise.reject(v)}for(;_.length;)l=l.then(_.shift(),_.shift());return l};Jr.prototype.getUri=function(a){a=zh(this.defaults,a);var s=R8(a.baseURL,a.url);return I8(s,a.params,a.paramsSerializer)};vw.forEach(["delete","get","head","options"],function(a){Jr.prototype[a]=function(s,t){return this.request(zh(t||{},{method:a,url:s,data:(t||{}).data}))}});vw.forEach(["post","put","patch"],function(a){function s(t){return function(m,_,l){return this.request(zh(l||{},{method:a,headers:t?{"Content-Type":"multipart/form-data"}:{},url:m,data:_}))}}Jr.prototype[a]=s(),Jr.prototype[a+"Form"]=s(!0)});var S8=Jr,Qp,Yy;function T8(){if(Yy)return Qp;Yy=1;var o=qh();function a(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(_){t=_});var c=this;this.promise.then(function(m){if(c._listeners){var _,l=c._listeners.length;for(_=0;_<l;_++)c._listeners[_](m);c._listeners=null}}),this.promise.then=function(m){var _,l=new Promise(function(r){c.subscribe(r),_=r}).then(m);return l.cancel=function(){c.unsubscribe(_)},l},s(function(_){c.reason||(c.reason=new o(_),t(c.reason))})}return a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]},a.prototype.unsubscribe=function(t){if(this._listeners){var c=this._listeners.indexOf(t);c!==-1&&this._listeners.splice(c,1)}},a.source=function(){var t,c=new a(function(_){t=_});return{token:c,cancel:t}},Qp=a,Qp}var Zp,Vy;function j8(){return Vy||(Vy=1,Zp=function(a){return function(t){return a.apply(null,t)}}),Zp}var Jp,By;function O8(){if(By)return Jp;By=1;var o=Da;return Jp=function(s){return o.isObject(s)&&s.isAxiosError===!0},Jp}var Uy=Da,M8=nw,Af=S8,L8=hw,N8=i1;function bw(o){var a=new Af(o),s=M8(Af.prototype.request,a);return Uy.extend(s,Af.prototype,a),Uy.extend(s,a),s.create=function(c){return bw(L8(o,c))},s}var an=bw(N8);an.Axios=Af;an.CanceledError=qh();an.CancelToken=T8();an.isCancel=fw();an.VERSION=pw().version;an.toFormData=_w;an.AxiosError=od;an.Cancel=an.CanceledError;an.all=function(a){return Promise.all(a)};an.spread=j8();an.isAxiosError=O8();t1.exports=an;t1.exports.default=an;var F8=t1.exports,Y8=F8;const A=Bh(Y8);function V8(o,a){switch(o.replace("_","-")){case"af":case"af-ZA":case"bn":case"bn-BD":case"bn-IN":case"bg":case"bg-BG":case"ca":case"ca-AD":case"ca-ES":case"ca-FR":case"ca-IT":case"da":case"da-DK":case"de":case"de-AT":case"de-BE":case"de-CH":case"de-DE":case"de-LI":case"de-LU":case"el":case"el-CY":case"el-GR":case"en":case"en-AG":case"en-AU":case"en-BW":case"en-CA":case"en-DK":case"en-GB":case"en-HK":case"en-IE":case"en-IN":case"en-NG":case"en-NZ":case"en-PH":case"en-SG":case"en-US":case"en-ZA":case"en-ZM":case"en-ZW":case"eo":case"eo-US":case"es":case"es-AR":case"es-BO":case"es-CL":case"es-CO":case"es-CR":case"es-CU":case"es-DO":case"es-EC":case"es-ES":case"es-GT":case"es-HN":case"es-MX":case"es-NI":case"es-PA":case"es-PE":case"es-PR":case"es-PY":case"es-SV":case"es-US":case"es-UY":case"es-VE":case"et":case"et-EE":case"eu":case"eu-ES":case"eu-FR":case"fa":case"fa-IR":case"fi":case"fi-FI":case"fo":case"fo-FO":case"fur":case"fur-IT":case"fy":case"fy-DE":case"fy-NL":case"gl":case"gl-ES":case"gu":case"gu-IN":case"ha":case"ha-NG":case"he":case"he-IL":case"hu":case"hu-HU":case"is":case"is-IS":case"it":case"it-CH":case"it-IT":case"ku":case"ku-TR":case"lb":case"lb-LU":case"ml":case"ml-IN":case"mn":case"mn-MN":case"mr":case"mr-IN":case"nah":case"nb":case"nb-NO":case"ne":case"ne-NP":case"nl":case"nl-AW":case"nl-BE":case"nl-NL":case"nn":case"nn-NO":case"no":case"om":case"om-ET":case"om-KE":case"or":case"or-IN":case"pa":case"pa-IN":case"pa-PK":case"pap":case"pap-AN":case"pap-AW":case"pap-CW":case"ps":case"ps-AF":case"pt":case"pt-BR":case"pt-PT":case"so":case"so-DJ":case"so-ET":case"so-KE":case"so-SO":case"sq":case"sq-AL":case"sq-MK":case"sv":case"sv-FI":case"sv-SE":case"sw":case"sw-KE":case"sw-TZ":case"ta":case"ta-IN":case"ta-LK":case"te":case"te-IN":case"tk":case"tk-TM":case"ur":case"ur-IN":case"ur-PK":case"zu":case"zu-ZA":return a===1?0:1;case"am":case"am-ET":case"bh":case"fil":case"fil-PH":case"fr":case"fr-BE":case"fr-CA":case"fr-CH":case"fr-FR":case"fr-LU":case"gun":case"hi":case"hi-IN":case"hy":case"hy-AM":case"ln":case"ln-CD":case"mg":case"mg-MG":case"nso":case"nso-ZA":case"ti":case"ti-ER":case"ti-ET":case"wa":case"wa-BE":case"xbr":return a===0||a===1?0:1;case"be":case"be-BY":case"bs":case"bs-BA":case"hr":case"hr-HR":case"ru":case"ru-RU":case"ru-UA":case"sr":case"sr-ME":case"sr-RS":case"uk":case"uk-UA":return a%10==1&&a%100!=11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2;case"cs":case"cs-CZ":case"sk":case"sk-SK":return a==1?0:a>=2&&a<=4?1:2;case"ga":case"ga-IE":return a==1?0:a==2?1:2;case"lt":case"lt-LT":return a%10==1&&a%100!=11?0:a%10>=2&&(a%100<10||a%100>=20)?1:2;case"sl":case"sl-SI":return a%100==1?0:a%100==2?1:a%100==3||a%100==4?2:3;case"mk":case"mk-MK":return a%10==1?0:1;case"mt":case"mt-MT":return a==1?0:a==0||a%100>1&&a%100<11?1:a%100>10&&a%100<20?2:3;case"lv":case"lv-LV":return a==0?0:a%10==1&&a%100!=11?1:2;case"pl":case"pl-PL":return a==1?0:a%10>=2&&a%10<=4&&(a%100<12||a%100>14)?1:2;case"cy":case"cy-GB":return a==1?0:a==2?1:a==8||a==11?2:3;case"ro":case"ro-RO":return a==1?0:a==0||a%100>0&&a%100<20?1:2;case"ar":case"ar-AE":case"ar-BH":case"ar-DZ":case"ar-EG":case"ar-IN":case"ar-IQ":case"ar-JO":case"ar-KW":case"ar-LB":case"ar-LY":case"ar-MA":case"ar-OM":case"ar-QA":case"ar-SA":case"ar-SD":case"ar-SS":case"ar-SY":case"ar-TN":case"ar-YE":return a==0?0:a==1?1:a==2?2:a%100>=3&&a%100<=10?3:a%100>=11&&a%100<=99?4:5;default:return 0}}function B8(o,a,s){let t=o.split("|");const c=U8(t,a);if(c!==null)return c.trim();t=H8(t);const m=V8(s,a);return t.length===1||!t[m]?t[0]:t[m]}function U8(o,a){for(const s of o){let t=q8(s,a);if(t!==null)return t}return null}function q8(o,a){const s=o.match(/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s)||[];if(s.length!==3)return null;const t=s[1],c=s[2];if(t.includes(",")){let[m,_]=t.split(",");if(_==="*"&&a>=parseFloat(m))return c;if(m==="*"&&a<=parseFloat(_))return c;if(a>=parseFloat(m)&&a<=parseFloat(_))return c}return parseFloat(t)===a?c:null}function H8(o){return o.map(a=>a.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}const Xp=(o,a,s={})=>{try{return o(a)}catch{return s}},ev=async(o,a={})=>{try{return(await o).default||a}catch{return a}};var z8={VITE_LARAVEL_VUE_I18N_HAS_PHP:"true",BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function qy(o){return o||W8()||K8()}function W8(){return typeof process<"u"}function K8(){return typeof z8<"u"}const kr=typeof window>"u";let Fi=null;const Hy={lang:!kr&&document.documentElement.lang?document.documentElement.lang.replace("-","_"):null,fallbackLang:"en",fallbackMissingTranslations:!1,resolve:o=>new Promise(a=>a({default:{}})),onLoad:o=>{}},G8={shared:!0},et={install(o,a={}){a={...G8,...a};const s=a.shared?Cn.getSharedInstance(a,!0):new Cn(a);o.config.globalProperties.$t=(t,c)=>s.trans(t,c),o.config.globalProperties.$tChoice=(t,c,m)=>s.transChoice(t,c,m),o.provide("i18n",s)}};class Cn{constructor(a={}){this.activeMessages=Rn({}),this.fallbackMessages=Rn({}),this.reset=()=>{Cn.loaded=[],this.options=Hy;for(const[s]of Object.entries(this.activeMessages))this.activeMessages[s]=null;this===Fi&&(Fi=null)},this.options={...Hy,...a},this.options.fallbackMissingTranslations?this.loadFallbackLanguage():this.load()}setOptions(a={},s=!1){return this.options={...this.options,...a},s&&this.load(),this}load(){this[kr?"loadLanguage":"loadLanguageAsync"](this.getActiveLanguage())}loadFallbackLanguage(){if(!kr){this.resolveLangAsync(this.options.resolve,this.options.fallbackLang).then(({default:s})=>{this.applyFallbackLanguage(this.options.fallbackLang,s),this.load()});return}const{default:a}=this.resolveLang(this.options.resolve,this.options.fallbackLang);this.applyFallbackLanguage(this.options.fallbackLang,a),this.loadLanguage(this.getActiveLanguage())}loadLanguage(a,s=!1){const t=Cn.loaded.find(m=>m.lang===a);if(t){this.setLanguage(t);return}const{default:c}=this.resolveLang(this.options.resolve,a);this.applyLanguage(a,c,s,this.loadLanguage)}loadLanguageAsync(a,s=!1,t=!1){var m;t||((m=this.abortController)==null||m.abort(),this.abortController=new AbortController);const c=Cn.loaded.find(_=>_.lang===a);return c?Promise.resolve(this.setLanguage(c)):new Promise((_,l)=>{this.abortController.signal.addEventListener("abort",()=>{_()}),this.resolveLangAsync(this.options.resolve,a).then(({default:r})=>{_(this.applyLanguage(a,r,s,this.loadLanguageAsync))})})}resolveLang(a,s,t={}){return Object.keys(t).length||(t=Xp(a,s)),qy(kr)?{default:{...t,...Xp(a,`php_${s}`)}}:{default:t}}async resolveLangAsync(a,s){let t=Xp(a,s);if(!(t instanceof Promise))return this.resolveLang(a,s,t);if(qy(kr)){const c=await ev(a(`php_${s}`)),m=await ev(t);return new Promise(_=>_({default:{...c,...m}}))}return new Promise(async c=>c({default:await ev(t)}))}applyLanguage(a,s,t=!1,c){if(Object.keys(s).length<1){if(/[-_]/g.test(a)&&!t)return c.call(this,a.replace(/[-_]/g,_=>_==="-"?"_":"-"),!0,!0);if(a!==this.options.fallbackLang)return c.call(this,this.options.fallbackLang,!1,!0)}const m={lang:a,messages:s};return this.addLoadedLang(m),this.setLanguage(m)}applyFallbackLanguage(a,s){for(const[t,c]of Object.entries(s))this.fallbackMessages[t]=c;this.addLoadedLang({lang:this.options.fallbackLang,messages:s})}addLoadedLang(a){const s=Cn.loaded.findIndex(t=>t.lang===a.lang);if(s!==-1){Cn.loaded[s]=a;return}Cn.loaded.push(a)}setLanguage({lang:a,messages:s}){kr||document.documentElement.setAttribute("lang",a.replace("_","-")),this.options.lang=a;for(const[t,c]of Object.entries(s))this.activeMessages[t]=c;for(const[t,c]of Object.entries(this.fallbackMessages))(!this.isValid(s[t])||this.activeMessages[t]===t)&&(this.activeMessages[t]=c);for(const[t]of Object.entries(this.activeMessages))!this.isValid(s[t])&&!this.isValid(this.fallbackMessages[t])&&(this.activeMessages[t]=null);return this.options.onLoad(a),a}getActiveLanguage(){return this.options.lang||this.options.fallbackLang}isLoaded(a){return a??(a=this.getActiveLanguage()),Cn.loaded.some(s=>s.lang.replace(/[-_]/g,"-")===a.replace(/[-_]/g,"-"))}trans(a,s={}){return this.wTrans(a,s).value}wTrans(a,s={}){return j_(()=>{let t=this.findTranslation(a);this.isValid(t)||(t=this.findTranslation(a.replace(/\//g,"."))),this.activeMessages[a]=this.isValid(t)?t:a}),$o(()=>this.makeReplacements(this.activeMessages[a],s))}transChoice(a,s,t={}){return this.wTransChoice(a,s,t).value}wTransChoice(a,s,t={}){const c=this.wTrans(a,t);return t.count=s.toString(),$o(()=>this.makeReplacements(B8(c.value,s,this.options.lang),t))}findTranslation(a){if(this.isValid(this.activeMessages[a]))return this.activeMessages[a];if(this.activeMessages[`${a}.0`]!==void 0){const t=Object.entries(this.activeMessages).filter(c=>c[0].startsWith(`${a}.`)).map(c=>c[1]);return Rn(t)}return this.activeMessages[a]}makeReplacements(a,s){const t=c=>c.charAt(0).toUpperCase()+c.slice(1);return Object.entries(s||[]).sort((c,m)=>c[0].length>=m[0].length?-1:1).forEach(([c,m])=>{m=m.toString(),a=(a||"").replace(new RegExp(`:${c}`,"g"),m).replace(new RegExp(`:${c.toUpperCase()}`,"g"),m.toUpperCase()).replace(new RegExp(`:${t(c)}`,"g"),t(m))}),a}isValid(a){return a!=null}static getSharedInstance(a,s=!1){return(Fi==null?void 0:Fi.setOptions(a,s))||(Fi=new Cn(a))}}Cn.loaded=[];var Q8=Object.defineProperty,zy=Object.getOwnPropertySymbols,Z8=Object.prototype.hasOwnProperty,J8=Object.prototype.propertyIsEnumerable,Wy=(o,a,s)=>a in o?Q8(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,X8=(o,a)=>{for(var s in a||(a={}))Z8.call(a,s)&&Wy(o,s,a[s]);if(zy)for(var s of zy(a))J8.call(a,s)&&Wy(o,s,a[s]);return o};function pi(o){return o==null||o===""||Array.isArray(o)&&o.length===0||!(o instanceof Date)&&typeof o=="object"&&Object.keys(o).length===0}function d1(o){return!!(o&&o.constructor&&o.call&&o.apply)}function Lo(o){return!pi(o)}function ps(o,a=!0){return o instanceof Object&&o.constructor===Object&&(a||Object.keys(o).length!==0)}function In(o,...a){return d1(o)?o(...a):o}function tn(o,a=!0){return typeof o=="string"&&(a||o!=="")}function Wn(o){return tn(o)?o.replace(/(-|_)/g,"").toLowerCase():o}function c1(o,a="",s={}){const t=Wn(a).split("."),c=t.shift();return c?ps(o)?c1(In(o[Object.keys(o).find(m=>Wn(m)===c)||""],s),t.join("."),s):void 0:In(o,s)}function Wh(o,a=!0){return Array.isArray(o)&&(a||o.length!==0)}function eR(o){return Lo(o)&&!isNaN(o)}function tR(){return new Intl.Collator(void 0,{numeric:!0}).compare}function Bs(o,a){if(a){const s=a.test(o);return a.lastIndex=0,s}return!1}function oR(...o){const a=(s={},t={})=>{const c=X8({},s);return Object.keys(t).forEach(m=>{ps(t[m])&&m in s&&ps(s[m])?c[m]=a(s[m],t[m]):c[m]=t[m]}),c};return o.reduce((s,t,c)=>c===0?t:a(s,t),{})}function N_(o){return o&&o.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function aR(o){return tn(o,!1)?o[0].toUpperCase()+o.slice(1):o}function yw(o){return tn(o)?o.replace(/(_)/g,"-").replace(/[A-Z]/g,(a,s)=>s===0?a:"-"+a.toLowerCase()).toLowerCase():o}function Ky(o){return tn(o)?o.replace(/[A-Z]/g,(a,s)=>s===0?a:"."+a.toLowerCase()).toLowerCase():o}function u1(){const o=new Map;return{on(a,s){let t=o.get(a);return t?t.push(s):t=[s],o.set(a,t),this},off(a,s){let t=o.get(a);return t&&t.splice(t.indexOf(s)>>>0,1),this},emit(a,s){let t=o.get(a);t&&t.slice().map(c=>{c(s)})},clear(){o.clear()}}}var nR=Object.defineProperty,sR=Object.defineProperties,lR=Object.getOwnPropertyDescriptors,sh=Object.getOwnPropertySymbols,kw=Object.prototype.hasOwnProperty,$w=Object.prototype.propertyIsEnumerable,Gy=(o,a,s)=>a in o?nR(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,Kn=(o,a)=>{for(var s in a||(a={}))kw.call(a,s)&&Gy(o,s,a[s]);if(sh)for(var s of sh(a))$w.call(a,s)&&Gy(o,s,a[s]);return o},tv=(o,a)=>sR(o,lR(a)),Ts=(o,a)=>{var s={};for(var t in o)kw.call(o,t)&&a.indexOf(t)<0&&(s[t]=o[t]);if(o!=null&&sh)for(var t of sh(o))a.indexOf(t)<0&&$w.call(o,t)&&(s[t]=o[t]);return s},iR=u1(),Hn=iR;function Qy(o,a){Wh(o)?o.push(...a||[]):ps(o)&&Object.assign(o,a)}function rR(o){return ps(o)&&o.hasOwnProperty("value")&&o.hasOwnProperty("type")?o.value:o}function dR(o){return o.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Jv(o="",a=""){return dR(`${tn(o,!1)&&tn(a,!1)?`${o}-`:o}${a}`)}function ww(o="",a=""){return`--${Jv(o,a)}`}function cR(o=""){const a=(o.match(/{/g)||[]).length,s=(o.match(/}/g)||[]).length;return(a+s)%2!==0}function Dw(o,a="",s="",t=[],c){if(tn(o)){const m=/{([^}]*)}/g,_=o.trim();if(cR(_))return;if(Bs(_,m)){const l=_.replaceAll(m,d=>{const v=d.replace(/{|}/g,"").split(".").filter(g=>!t.some(D=>Bs(g,D)));return`var(${ww(s,yw(v.join("-")))}${Lo(c)?`, ${c}`:""})`}),r=/(\d+\s+[\+\-\*\/]\s+\d+)/g,i=/var\([^)]+\)/g;return Bs(l.replace(i,"0"),r)?`calc(${l})`:l}return _}else if(eR(o))return o}function uR(o,a,s){tn(a,!1)&&o.push(`${a}:${s};`)}function $r(o,a){return o?`${o}{${a}}`:""}var F_=(...o)=>_R(Oo.getTheme(),...o),_R=(o={},a,s,t)=>{if(a){const{variable:c,options:m}=Oo.defaults||{},{prefix:_,transform:l}=(o==null?void 0:o.options)||m||{},i=Bs(a,/{([^}]*)}/g)?a:`{${a}}`;return t==="value"||pi(t)&&l==="strict"?Oo.getTokenValue(a):Dw(i,void 0,_,[c.excludedKeyRegex],s)}return""};function mR(o,a={}){const s=Oo.defaults.variable,{prefix:t=s.prefix,selector:c=s.selector,excludedKeyRegex:m=s.excludedKeyRegex}=a,_=(i,d="")=>Object.entries(i).reduce((p,[v,g])=>{const D=Bs(v,m)?Jv(d):Jv(d,yw(v)),y=rR(g);if(ps(y)){const{variables:C,tokens:x}=_(y,D);Qy(p.tokens,x),Qy(p.variables,C)}else p.tokens.push((t?D.replace(`${t}-`,""):D).replaceAll("-",".")),uR(p.variables,ww(D),Dw(y,D,t,[m]));return p},{variables:[],tokens:[]}),{variables:l,tokens:r}=_(o,t);return{value:l,tokens:r,declarations:l.join(""),css:$r(c,l.join(""))}}var Un={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(o){return{type:"class",selector:o,matched:this.pattern.test(o.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(o){return{type:"attr",selector:`:root${o}`,matched:this.pattern.test(o.trim())}}},media:{pattern:/^@media (.*)$/,resolve(o){return{type:"media",selector:`${o}{:root{[CSS]}}`,matched:this.pattern.test(o.trim())}}},system:{pattern:/^system$/,resolve(o){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(o.trim())}}},custom:{resolve(o){return{type:"custom",selector:o,matched:!0}}}},resolve(o){const a=Object.keys(this.rules).filter(s=>s!=="custom").map(s=>this.rules[s]);return[o].flat().map(s=>{var t;return(t=a.map(c=>c.resolve(s)).find(c=>c.matched))!=null?t:this.rules.custom.resolve(s)})}},_toVariables(o,a){return mR(o,{prefix:a==null?void 0:a.prefix})},getCommon({name:o="",theme:a={},params:s,set:t,defaults:c}){var m,_,l,r,i,d,p;const{preset:v,options:g}=a;let D,y,C,x,E,k,w;if(Lo(v)&&g.transform!=="strict"){const{primitive:T,semantic:V,extend:B}=v,O=V||{},{colorScheme:L}=O,R=Ts(O,["colorScheme"]),P=B||{},{colorScheme:I}=P,S=Ts(P,["colorScheme"]),F=L||{},{dark:N}=F,U=Ts(F,["dark"]),Z=I||{},{dark:ce}=Z,ae=Ts(Z,["dark"]),J=Lo(T)?this._toVariables({primitive:T},g):{},z=Lo(R)?this._toVariables({semantic:R},g):{},ne=Lo(U)?this._toVariables({light:U},g):{},xe=Lo(N)?this._toVariables({dark:N},g):{},Fe=Lo(S)?this._toVariables({semantic:S},g):{},he=Lo(ae)?this._toVariables({light:ae},g):{},ie=Lo(ce)?this._toVariables({dark:ce},g):{},[$e,we]=[(m=J.declarations)!=null?m:"",J.tokens],[se,ge]=[(_=z.declarations)!=null?_:"",z.tokens||[]],[be,Me]=[(l=ne.declarations)!=null?l:"",ne.tokens||[]],[ue,Oe]=[(r=xe.declarations)!=null?r:"",xe.tokens||[]],[ze,Ye]=[(i=Fe.declarations)!=null?i:"",Fe.tokens||[]],[ve,_e]=[(d=he.declarations)!=null?d:"",he.tokens||[]],[Se,Ve]=[(p=ie.declarations)!=null?p:"",ie.tokens||[]];D=this.transformCSS(o,$e,"light","variable",g,t,c),y=we;const ke=this.transformCSS(o,`${se}${be}`,"light","variable",g,t,c),ee=this.transformCSS(o,`${ue}`,"dark","variable",g,t,c);C=`${ke}${ee}`,x=[...new Set([...ge,...Me,...Oe])];const Ce=this.transformCSS(o,`${ze}${ve}color-scheme:light`,"light","variable",g,t,c),Ne=this.transformCSS(o,`${Se}color-scheme:dark`,"dark","variable",g,t,c);E=`${Ce}${Ne}`,k=[...new Set([...Ye,..._e,...Ve])],w=In(v.css,{dt:F_})}return{primitive:{css:D,tokens:y},semantic:{css:C,tokens:x},global:{css:E,tokens:k},style:w}},getPreset({name:o="",preset:a={},options:s,params:t,set:c,defaults:m,selector:_}){var l,r,i;let d,p,v;if(Lo(a)&&s.transform!=="strict"){const g=o.replace("-directive",""),D=a,{colorScheme:y,extend:C,css:x}=D,E=Ts(D,["colorScheme","extend","css"]),k=C||{},{colorScheme:w}=k,T=Ts(k,["colorScheme"]),V=y||{},{dark:B}=V,O=Ts(V,["dark"]),L=w||{},{dark:R}=L,P=Ts(L,["dark"]),I=Lo(E)?this._toVariables({[g]:Kn(Kn({},E),T)},s):{},S=Lo(O)?this._toVariables({[g]:Kn(Kn({},O),P)},s):{},F=Lo(B)?this._toVariables({[g]:Kn(Kn({},B),R)},s):{},[N,U]=[(l=I.declarations)!=null?l:"",I.tokens||[]],[Z,ce]=[(r=S.declarations)!=null?r:"",S.tokens||[]],[ae,J]=[(i=F.declarations)!=null?i:"",F.tokens||[]],z=this.transformCSS(g,`${N}${Z}`,"light","variable",s,c,m,_),ne=this.transformCSS(g,ae,"dark","variable",s,c,m,_);d=`${z}${ne}`,p=[...new Set([...U,...ce,...J])],v=In(x,{dt:F_})}return{css:d,tokens:p,style:v}},getPresetC({name:o="",theme:a={},params:s,set:t,defaults:c}){var m;const{preset:_,options:l}=a,r=(m=_==null?void 0:_.components)==null?void 0:m[o];return this.getPreset({name:o,preset:r,options:l,params:s,set:t,defaults:c})},getPresetD({name:o="",theme:a={},params:s,set:t,defaults:c}){var m;const _=o.replace("-directive",""),{preset:l,options:r}=a,i=(m=l==null?void 0:l.directives)==null?void 0:m[_];return this.getPreset({name:_,preset:i,options:r,params:s,set:t,defaults:c})},applyDarkColorScheme(o){return!(o.darkModeSelector==="none"||o.darkModeSelector===!1)},getColorSchemeOption(o,a){var s;return this.applyDarkColorScheme(o)?this.regex.resolve(o.darkModeSelector===!0?a.options.darkModeSelector:(s=o.darkModeSelector)!=null?s:a.options.darkModeSelector):[]},getLayerOrder(o,a={},s,t){const{cssLayer:c}=a;return c?`@layer ${In(c.order||"primeui",s)}`:""},getCommonStyleSheet({name:o="",theme:a={},params:s,props:t={},set:c,defaults:m}){const _=this.getCommon({name:o,theme:a,params:s,set:c,defaults:m}),l=Object.entries(t).reduce((r,[i,d])=>r.push(`${i}="${d}"`)&&r,[]).join(" ");return Object.entries(_||{}).reduce((r,[i,d])=>{if(d!=null&&d.css){const p=N_(d==null?void 0:d.css),v=`${i}-variables`;r.push(`<style type="text/css" data-primevue-style-id="${v}" ${l}>${p}</style>`)}return r},[]).join("")},getStyleSheet({name:o="",theme:a={},params:s,props:t={},set:c,defaults:m}){var _;const l={name:o,theme:a,params:s,set:c,defaults:m},r=(_=o.includes("-directive")?this.getPresetD(l):this.getPresetC(l))==null?void 0:_.css,i=Object.entries(t).reduce((d,[p,v])=>d.push(`${p}="${v}"`)&&d,[]).join(" ");return r?`<style type="text/css" data-primevue-style-id="${o}-variables" ${i}>${N_(r)}</style>`:""},createTokens(o={},a,s="",t="",c={}){return Object.entries(o).forEach(([m,_])=>{const l=Bs(m,a.variable.excludedKeyRegex)?s:s?`${s}.${Ky(m)}`:Ky(m),r=t?`${t}.${m}`:m;ps(_)?this.createTokens(_,a,l,r,c):(c[l]||(c[l]={paths:[],computed(i,d={}){var p,v;return this.paths.length===1?(p=this.paths[0])==null?void 0:p.computed(this.paths[0].scheme,d.binding):i&&i!=="none"?(v=this.paths.find(g=>g.scheme===i))==null?void 0:v.computed(i,d.binding):this.paths.map(g=>g.computed(g.scheme,d[g.scheme]))}}),c[l].paths.push({path:r,value:_,scheme:r.includes("colorScheme.light")?"light":r.includes("colorScheme.dark")?"dark":"none",computed(i,d={}){const p=/{([^}]*)}/g;let v=_;if(d.name=this.path,d.binding||(d.binding={}),Bs(_,p)){const D=_.trim().replaceAll(p,x=>{var E;const k=x.replace(/{|}/g,""),w=(E=c[k])==null?void 0:E.computed(i,d);return Wh(w)&&w.length===2?`light-dark(${w[0].value},${w[1].value})`:w==null?void 0:w.value}),y=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,C=/var\([^)]+\)/g;v=Bs(D.replace(C,"0"),y)?`calc(${D})`:D}return pi(d.binding)&&delete d.binding,{colorScheme:i,path:this.path,paths:d,value:v.includes("undefined")?void 0:v}}}))}),c},getTokenValue(o,a,s){var t;const m=(r=>r.split(".").filter(d=>!Bs(d.toLowerCase(),s.variable.excludedKeyRegex)).join("."))(a),_=a.includes("colorScheme.light")?"light":a.includes("colorScheme.dark")?"dark":void 0,l=[(t=o[m])==null?void 0:t.computed(_)].flat().filter(r=>r);return l.length===1?l[0].value:l.reduce((r={},i)=>{const d=i,{colorScheme:p}=d,v=Ts(d,["colorScheme"]);return r[p]=v,r},void 0)},getSelectorRule(o,a,s,t){return s==="class"||s==="attr"?$r(Lo(a)?`${o}${a},${o} ${a}`:o,t):$r(o,Lo(a)?$r(a,t):t)},transformCSS(o,a,s,t,c={},m,_,l){if(Lo(a)){const{cssLayer:r}=c;if(t!=="style"){const i=this.getColorSchemeOption(c,_);a=s==="dark"?i.reduce((d,{type:p,selector:v})=>(Lo(v)&&(d+=v.includes("[CSS]")?v.replace("[CSS]",a):this.getSelectorRule(v,l,p,a)),d),""):$r(l??":root",a)}if(r){const i={name:"primeui",order:"primeui"};ps(r)&&(i.name=In(r.name,{name:o,type:t})),Lo(i.name)&&(a=$r(`@layer ${i.name}`,a),m==null||m.layerNames(i.name))}return a}return""}},Oo={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(o={}){const{theme:a}=o;a&&(this._theme=tv(Kn({},a),{options:Kn(Kn({},this.defaults.options),a.options)}),this._tokens=Un.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var o;return((o=this.theme)==null?void 0:o.preset)||{}},get options(){var o;return((o=this.theme)==null?void 0:o.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(o){this.update({theme:o}),Hn.emit("theme:change",o)},getPreset(){return this.preset},setPreset(o){this._theme=tv(Kn({},this.theme),{preset:o}),this._tokens=Un.createTokens(o,this.defaults),this.clearLoadedStyleNames(),Hn.emit("preset:change",o),Hn.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(o){this._theme=tv(Kn({},this.theme),{options:o}),this.clearLoadedStyleNames(),Hn.emit("options:change",o),Hn.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(o){this._layerNames.add(o)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(o){return this._loadedStyleNames.has(o)},setLoadedStyleName(o){this._loadedStyleNames.add(o)},deleteLoadedStyleName(o){this._loadedStyleNames.delete(o)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(o){return Un.getTokenValue(this.tokens,o,this.defaults)},getCommon(o="",a){return Un.getCommon({name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(o="",a){const s={name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPresetC(s)},getDirective(o="",a){const s={name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPresetD(s)},getCustomPreset(o="",a,s,t){const c={name:o,preset:a,options:this.options,selector:s,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPreset(c)},getLayerOrderCSS(o=""){return Un.getLayerOrder(o,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(o="",a,s="style",t){return Un.transformCSS(o,a,t,s,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(o="",a,s={}){return Un.getCommonStyleSheet({name:o,theme:this.theme,params:a,props:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(o,a,s={}){return Un.getStyleSheet({name:o,theme:this.theme,params:a,props:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(o){this._loadingStyles.add(o)},onStyleUpdated(o){this._loadingStyles.add(o)},onStyleLoaded(o,{name:a}){this._loadingStyles.size&&(this._loadingStyles.delete(a),Hn.emit(`theme:${a}:load`,o),!this._loadingStyles.size&&Hn.emit("theme:load"))}};function fR(o,a){return o?o.classList?o.classList.contains(a):new RegExp("(^| )"+a+"( |$)","gi").test(o.className):!1}function hR(o,a){if(o&&a){const s=t=>{fR(o,t)||(o.classList?o.classList.add(t):o.className+=" "+t)};[a].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(s))}}function lh(o){for(const a of document==null?void 0:document.styleSheets)try{for(const s of a==null?void 0:a.cssRules)for(const t of s==null?void 0:s.style)if(o.test(t))return{name:t,value:s.style.getPropertyValue(t).trim()}}catch{}return null}function ov(o,a){if(o&&a){const s=t=>{o.classList?o.classList.remove(t):o.className=o.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")};[a].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(s))}}function Cw(o){let a={width:0,height:0};return o&&(o.style.visibility="hidden",o.style.display="block",a.width=o.offsetWidth,a.height=o.offsetHeight,o.style.display="none",o.style.visibility="visible"),a}function xw(){let o=window,a=document,s=a.documentElement,t=a.getElementsByTagName("body")[0],c=o.innerWidth||s.clientWidth||t.clientWidth,m=o.innerHeight||s.clientHeight||t.clientHeight;return{width:c,height:m}}function pR(){let o=document.documentElement;return(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)}function vR(){let o=document.documentElement;return(window.pageYOffset||o.scrollTop)-(o.clientTop||0)}function gR(o,a,s=!0){var t,c,m,_;if(o){const l=o.offsetParent?{width:o.offsetWidth,height:o.offsetHeight}:Cw(o),r=l.height,i=l.width,d=a.offsetHeight,p=a.offsetWidth,v=a.getBoundingClientRect(),g=vR(),D=pR(),y=xw();let C,x,E="top";v.top+d+r>y.height?(C=v.top+g-r,E="bottom",C<0&&(C=g)):C=d+v.top+g,v.left+i>y.width?x=Math.max(0,v.left+D+p-i):x=v.left+D,o.style.top=C+"px",o.style.left=x+"px",o.style.transformOrigin=E,s&&(o.style.marginTop=E==="bottom"?`calc(${(c=(t=lh(/-anchor-gutter$/))==null?void 0:t.value)!=null?c:"2px"} * -1)`:(_=(m=lh(/-anchor-gutter$/))==null?void 0:m.value)!=null?_:"")}}function bR(o,a){o&&(typeof a=="string"?o.style.cssText=a:Object.entries(a||{}).forEach(([s,t])=>o.style[s]=t))}function If(o,a){if(o instanceof HTMLElement){let s=o.offsetWidth;if(a){let t=getComputedStyle(o);s+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return s}return 0}function yR(o,a,s=!0){var t,c,m,_;if(o){const l=o.offsetParent?{width:o.offsetWidth,height:o.offsetHeight}:Cw(o),r=a.offsetHeight,i=a.getBoundingClientRect(),d=xw();let p,v,g="top";i.top+r+l.height>d.height?(p=-1*l.height,g="bottom",i.top+p<0&&(p=-1*i.top)):p=r,l.width>d.width?v=i.left*-1:i.left+l.width>d.width?v=(i.left+l.width-d.width)*-1:v=0,o.style.top=p+"px",o.style.left=v+"px",o.style.transformOrigin=g,s&&(o.style.marginTop=g==="bottom"?`calc(${(c=(t=lh(/-anchor-gutter$/))==null?void 0:t.value)!=null?c:"2px"} * -1)`:(_=(m=lh(/-anchor-gutter$/))==null?void 0:m.value)!=null?_:"")}}function Sm(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName=="string"}function ih(o,a={}){if(Sm(o)){const s=(t,c)=>{var m,_;const l=(m=o==null?void 0:o.$attrs)!=null&&m[t]?[(_=o==null?void 0:o.$attrs)==null?void 0:_[t]]:[];return[c].flat().reduce((r,i)=>{if(i!=null){const d=typeof i;if(d==="string"||d==="number")r.push(i);else if(d==="object"){const p=Array.isArray(i)?s(t,i):Object.entries(i).map(([v,g])=>t==="style"&&(g||g===0)?`${v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`:g?v:void 0);r=p.length?r.concat(p.filter(v=>!!v)):r}}return r},l)};Object.entries(a).forEach(([t,c])=>{if(c!=null){const m=t.match(/^on(.+)/);m?o.addEventListener(m[1].toLowerCase(),c):t==="p-bind"||t==="pBind"?ih(o,c):(c=t==="class"?[...new Set(s("class",c))].join(" ").trim():t==="style"?s("style",c).join(";").trim():c,(o.$attrs=o.$attrs||{})&&(o.$attrs[t]=c),o.setAttribute(t,c))}})}}function kR(o,a={},...s){if(o){const t=document.createElement(o);return ih(t,a),t.append(...s),t}}function ul(o,a){return Sm(o)?Array.from(o.querySelectorAll(a)):[]}function qn(o,a){return Sm(o)?o.matches(a)?o:o.querySelector(a):null}function Ql(o,a){if(Sm(o)){const s=o.getAttribute(a);return isNaN(s)?s==="true"||s==="false"?s==="true":s:+s}}function Zy(o,a=""){let s=ul(o,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a}`),t=[];for(let c of s)getComputedStyle(c).display!="none"&&getComputedStyle(c).visibility!="hidden"&&t.push(c);return t}function Jy(o){if(o){let a=o.offsetHeight,s=getComputedStyle(o);return a-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),a}return 0}function _1(o){if(o){let a=o.parentNode;return a&&a instanceof ShadowRoot&&a.host&&(a=a.host),a}return null}function wd(o){var a;if(o){let s=(a=_1(o))==null?void 0:a.childNodes,t=0;if(s)for(let c=0;c<s.length;c++){if(s[c]===o)return t;s[c].nodeType===1&&t++}}return-1}function $R(o){if(o){let a=o.getBoundingClientRect();return{top:a.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:a.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function wR(o,a){if(o){let s=o.offsetHeight;if(a){let t=getComputedStyle(o);s+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return s}return 0}function Pw(o,a=[]){const s=_1(o);return s===null?a:Pw(s,a.concat([s]))}function DR(o){let a=[];if(o){let s=Pw(o);const t=/(auto|scroll)/,c=m=>{try{let _=window.getComputedStyle(m,null);return t.test(_.getPropertyValue("overflow"))||t.test(_.getPropertyValue("overflowX"))||t.test(_.getPropertyValue("overflowY"))}catch{return!1}};for(let m of s){let _=m.nodeType===1&&m.dataset.scrollselectors;if(_){let l=_.split(",");for(let r of l){let i=qn(m,r);i&&c(i)&&a.push(i)}}m.nodeType!==9&&c(m)&&a.push(m)}}return a}function CR(o){return!!(o!==null&&typeof o<"u"&&o.nodeName&&_1(o))}function Xy(o){if(o){let a=o.offsetWidth,s=getComputedStyle(o);return a-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),a}return 0}function m1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function xR(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function Ew(o,a="",s){Sm(o)&&s!==null&&s!==void 0&&o.setAttribute(a,s)}var rf={};function f1(o="pui_id_"){return rf.hasOwnProperty(o)||(rf[o]=0),rf[o]++,`${o}${rf[o]}`}function PR(){let o=[];const a=(_,l,r=999)=>{const i=c(_,l,r),d=i.value+(i.key===_?0:r)+1;return o.push({key:_,value:d}),d},s=_=>{o=o.filter(l=>l.value!==_)},t=(_,l)=>c(_,l).value,c=(_,l,r=0)=>[...o].reverse().find(i=>l?!0:i.key===_)||{key:_,value:r},m=_=>_&&parseInt(_.style.zIndex,10)||0;return{get:m,set:(_,l,r)=>{l&&(l.style.zIndex=String(a(_,!0,r)))},clear:_=>{_&&(s(m(_)),_.style.zIndex="")},getCurrent:_=>t(_,!0)}}var av=PR(),Pa={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function im(o){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},im(o)}function e0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function t0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?e0(Object(s),!0).forEach(function(t){ER(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):e0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function ER(o,a,s){return(a=AR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function AR(o){var a=IR(o,"string");return im(a)=="symbol"?a:a+""}function IR(o,a){if(im(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(im(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function RR(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ha()?Qe(o):a?o():bt(o)}var SR=0;function TR(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=h(!1),t=h(o),c=h(null),m=m1()?window.document:void 0,_=a.document,l=_===void 0?m:_,r=a.immediate,i=r===void 0?!0:r,d=a.manual,p=d===void 0?!1:d,v=a.name,g=v===void 0?"style_".concat(++SR):v,D=a.id,y=D===void 0?void 0:D,C=a.media,x=C===void 0?void 0:C,E=a.nonce,k=E===void 0?void 0:E,w=a.first,T=w===void 0?!1:w,V=a.onMounted,B=V===void 0?void 0:V,O=a.onUpdated,L=O===void 0?void 0:O,R=a.onLoad,P=R===void 0?void 0:R,I=a.props,S=I===void 0?{}:I,F=function(){},N=function(ce){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var J=t0(t0({},S),ae),z=J.name||g,ne=J.id||y,xe=J.nonce||k;c.value=l.querySelector('style[data-primevue-style-id="'.concat(z,'"]'))||l.getElementById(ne)||l.createElement("style"),c.value.isConnected||(t.value=ce||o,ih(c.value,{type:"text/css",id:ne,media:x,nonce:xe}),T?l.head.prepend(c.value):l.head.appendChild(c.value),Ew(c.value,"data-primevue-style-id",z),ih(c.value,J),c.value.onload=function(Fe){return P==null?void 0:P(Fe,{name:z})},B==null||B(z)),!s.value&&(F=ot(t,function(Fe){c.value.textContent=Fe,L==null||L(z)},{immediate:!0}),s.value=!0)}},U=function(){!l||!s.value||(F(),CR(c.value)&&l.head.removeChild(c.value),s.value=!1)};return i&&!p&&RR(N),{id:y,name:g,el:c,css:t,unload:U,load:N,isLoaded:xh(s)}}function rm(o){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},rm(o)}function o0(o,a){return LR(o)||MR(o,a)||OR(o,a)||jR()}function jR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(o,a){if(o){if(typeof o=="string")return a0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a0(o,a):void 0}}function a0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function MR(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a!==0)for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function LR(o){if(Array.isArray(o))return o}function n0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function nv(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?n0(Object(s),!0).forEach(function(t){NR(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):n0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function NR(o,a,s){return(a=FR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function FR(o){var a=YR(o,"string");return rm(a)=="symbol"?a:a+""}function YR(o,a){if(rm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(rm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var VR=function(a){var s=a.dt;return`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(s("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(s("icon.size"),`;
}

.p-icon {
    width: `).concat(s("icon.size"),`;
    height: `).concat(s("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(s("mask.background"),`;
    color: `).concat(s("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(s("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(s("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(s("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(s("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},BR=function(a){var s=a.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(s("scrollbar.width"),`;
}
`)},UR={},qR={},Fo={name:"base",css:BR,theme:VR,classes:UR,inlineStyles:qR,load:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(m){return m},c=t(In(a,{dt:F_}));return Lo(c)?TR(N_(c),nv({name:this.name},s)):{}},loadCSS:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,a)},loadTheme:function(){var a=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.theme,s,function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Oo.transformCSS(s.name||a.name,"".concat(c).concat(t))})},getCommonTheme:function(a){return Oo.getCommon(this.name,a)},getComponentTheme:function(a){return Oo.getComponent(this.name,a)},getDirectiveTheme:function(a){return Oo.getDirective(this.name,a)},getPresetTheme:function(a,s,t){return Oo.getCustomPreset(this.name,a,s,t)},getLayerOrderThemeCSS:function(){return Oo.getLayerOrderCSS(this.name)},getStyleSheet:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var t=In(this.css,{dt:F_})||"",c=N_("".concat(t).concat(a)),m=Object.entries(s).reduce(function(_,l){var r=o0(l,2),i=r[0],d=r[1];return _.push("".concat(i,'="').concat(d,'"'))&&_},[]).join(" ");return Lo(c)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(m,">").concat(c,"</style>"):""}return""},getCommonThemeStyleSheet:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Oo.getCommonStyleSheet(this.name,a,s)},getThemeStyleSheet:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[Oo.getStyleSheet(this.name,a,s)];if(this.theme){var c=this.name==="base"?"global-style":"".concat(this.name,"-style"),m=In(this.theme,{dt:F_}),_=N_(Oo.transformCSS(c,m)),l=Object.entries(s).reduce(function(r,i){var d=o0(i,2),p=d[0],v=d[1];return r.push("".concat(p,'="').concat(v,'"'))&&r},[]).join(" ");Lo(_)&&t.push('<style type="text/css" data-primevue-style-id="'.concat(c,'" ').concat(l,">").concat(_,"</style>"))}return t.join("")},extend:function(a){return nv(nv({},this),{},{css:void 0,theme:void 0},a)}},Ar=u1();function dm(o){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dm(o)}function s0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function df(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?s0(Object(s),!0).forEach(function(t){HR(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):s0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function HR(o,a,s){return(a=zR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function zR(o){var a=WR(o,"string");return dm(a)=="symbol"?a:a+""}function WR(o,a){if(dm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(dm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var KR={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Pa.STARTS_WITH,Pa.CONTAINS,Pa.NOT_CONTAINS,Pa.ENDS_WITH,Pa.EQUALS,Pa.NOT_EQUALS],numeric:[Pa.EQUALS,Pa.NOT_EQUALS,Pa.LESS_THAN,Pa.LESS_THAN_OR_EQUAL_TO,Pa.GREATER_THAN,Pa.GREATER_THAN_OR_EQUAL_TO],date:[Pa.DATE_IS,Pa.DATE_IS_NOT,Pa.DATE_BEFORE,Pa.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},GR=Symbol();function QR(o,a){var s={config:Rn(a)};return o.config.globalProperties.$primevue=s,o.provide(GR,s),ZR(),JR(o,s),s}var Ir=[];function ZR(){Hn.clear(),Ir.forEach(function(o){return o==null?void 0:o()}),Ir=[]}function JR(o,a){var s=h(!1),t=function(){var i;if(((i=a.config)===null||i===void 0?void 0:i.theme)!=="none"&&!Oo.isStyleNameLoaded("common")){var d,p,v=((d=Fo.getCommonTheme)===null||d===void 0?void 0:d.call(Fo))||{},g=v.primitive,D=v.semantic,y=v.global,C=v.style,x={nonce:(p=a.config)===null||p===void 0||(p=p.csp)===null||p===void 0?void 0:p.nonce};Fo.load(g==null?void 0:g.css,df({name:"primitive-variables"},x)),Fo.load(D==null?void 0:D.css,df({name:"semantic-variables"},x)),Fo.load(y==null?void 0:y.css,df({name:"global-variables"},x)),Fo.loadTheme(df({name:"global-style"},x),C),Oo.setLoadedStyleName("common")}};Hn.on("theme:change",function(r){s.value||(o.config.globalProperties.$primevue.config.theme=r,s.value=!0)});var c=ot(a.config,function(r,i){Ar.emit("config:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0}),m=ot(function(){return a.config.ripple},function(r,i){Ar.emit("config:ripple:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0}),_=ot(function(){return a.config.theme},function(r,i){s.value||Oo.setTheme(r),a.config.unstyled||t(),s.value=!1,Ar.emit("config:theme:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!1}),l=ot(function(){return a.config.unstyled},function(r,i){!r&&a.config.theme&&t(),Ar.emit("config:unstyled:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0});Ir.push(c),Ir.push(m),Ir.push(_),Ir.push(l)}var Kh={install:function(a,s){var t=oR(KR,s);QR(a,t)}},XR={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},eS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},tS={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},oS={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},aS={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},nS={root:{borderRadius:"{content.border.radius}"}},sS={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},lS={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},iS={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},rS={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},dS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},cS={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},uS={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},_S={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},mS={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},fS={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},hS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},pS={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},vS={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},gS={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},bS={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},yS={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},kS={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},$S={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},wS={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},DS={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},CS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},xS={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},PS={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},ES={icon:{color:"{form.field.icon.color}"}},AS={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},IS={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},RS={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},SS={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},TS={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},jS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},OS={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},MS={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},LS={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},NS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},FS={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},YS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},VS={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},BS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},US={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},qS={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},HS={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},zS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},WS={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},KS={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},GS={root:{outline:{width:"2px",color:"{content.background}"}}},QS={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},ZS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},JS={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},XS={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},eT={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},tT={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},oT={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},aT={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},nT={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},sT={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},lT={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},iT={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},rT={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},dT={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},cT={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},uT={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},_T={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},mT={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},fT={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},hT={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},pT={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},vT={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},gT={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},bT={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},yT={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},kT={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},$T={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},wT={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},DT={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},CT={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},xT={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},PT={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},ET={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},AT={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},IT={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},RT={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},ST={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},TT={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function cm(o){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cm(o)}function l0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function i0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?l0(Object(s),!0).forEach(function(t){jT(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):l0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function jT(o,a,s){return(a=OT(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function OT(o){var a=MT(o,"string");return cm(a)=="symbol"?a:a+""}function MT(o,a){if(cm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(cm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var Gh=i0(i0({},aS),{},{components:{accordion:XR,autocomplete:eS,avatar:tS,badge:oS,blockui:nS,breadcrumb:sS,button:lS,datepicker:gS,card:iS,carousel:rS,cascadeselect:dS,checkbox:cS,chip:uS,colorpicker:_S,confirmdialog:mS,confirmpopup:fS,contextmenu:hS,dataview:vS,datatable:pS,dialog:bS,divider:yS,dock:kS,drawer:$S,editor:wS,fieldset:DS,fileupload:CS,iftalabel:AS,floatlabel:xS,galleria:PS,iconfield:ES,image:IS,imagecompare:RS,inlinemessage:SS,inplace:TS,inputchips:jS,inputgroup:OS,inputnumber:MS,inputotp:LS,inputtext:NS,knob:FS,listbox:YS,megamenu:VS,menu:BS,menubar:US,message:qS,metergroup:HS,multiselect:zS,orderlist:WS,organizationchart:KS,overlaybadge:GS,popover:tT,paginator:QS,password:XS,panel:ZS,panelmenu:JS,picklist:eT,progressbar:oT,progressspinner:aT,radiobutton:nT,rating:sT,scrollpanel:iT,select:rT,selectbutton:dT,skeleton:cT,slider:uT,speeddial:_T,splitter:fT,splitbutton:mT,stepper:hT,steps:pT,tabmenu:vT,tabs:gT,tabview:bT,textarea:$T,tieredmenu:wT,tag:yT,terminal:kT,timeline:DT,togglebutton:xT,toggleswitch:PT,tree:IT,treeselect:RT,treetable:ST,toast:CT,toolbar:ET,virtualscroller:TT},directives:{tooltip:AT,ripple:lT}});const Ue=(o,a)=>{const s=o.__vccOpts||o;for(const[t,c]of a)s[t]=c;return s},LT={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},NT={"aria-label":"Page navigation",class:"mt-2 d-flex justify-content-between"},FT={key:0,class:"d-flex my-auto text-primary"},YT={class:"mx-1 fw-bold"},VT={class:"mx-1 fw-bold"},BT={class:"mx-1 fw-bold"},UT={class:"pagination justify-content-end"},qT={class:"page-item prev"},HT=["onClick","innerHTML"],zT={class:"page-item next"};function WT(o,a,s,t,c,m){return u(),f("nav",NT,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",FT,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",YT,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",VT,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",BT,n(s.total_items),1)])):b("",!0)]),e("ul",UT,[e("li",qT,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(W,null,X(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,HT)):b("",!0)],2))),128)),e("li",zT,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const oo=Ue(LT,[["render",WT]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Aw;function H(){return Aw.apply(null,arguments)}function KT(o){Aw=o}function os(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function ii(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function Po(o,a){return Object.prototype.hasOwnProperty.call(o,a)}function h1(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var a;for(a in o)if(Po(o,a))return!1;return!0}function Ka(o){return o===void 0}function Qs(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function Tm(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function Iw(o,a){var s=[],t,c=o.length;for(t=0;t<c;++t)s.push(a(o[t],t));return s}function bl(o,a){for(var s in a)Po(a,s)&&(o[s]=a[s]);return Po(a,"toString")&&(o.toString=a.toString),Po(a,"valueOf")&&(o.valueOf=a.valueOf),o}function gs(o,a,s,t){return e5(o,a,s,t,!0).utc()}function GT(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function lo(o){return o._pf==null&&(o._pf=GT()),o._pf}var Xv;Array.prototype.some?Xv=Array.prototype.some:Xv=function(o){var a=Object(this),s=a.length>>>0,t;for(t=0;t<s;t++)if(t in a&&o.call(this,a[t],t,a))return!0;return!1};function p1(o){if(o._isValid==null){var a=lo(o),s=Xv.call(a.parsedDateParts,function(c){return c!=null}),t=!isNaN(o._d.getTime())&&a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&s);if(o._strict&&(t=t&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=t;else return t}return o._isValid}function Qh(o){var a=gs(NaN);return o!=null?bl(lo(a),o):lo(a).userInvalidated=!0,a}var r0=H.momentProperties=[],sv=!1;function v1(o,a){var s,t,c,m=r0.length;if(Ka(a._isAMomentObject)||(o._isAMomentObject=a._isAMomentObject),Ka(a._i)||(o._i=a._i),Ka(a._f)||(o._f=a._f),Ka(a._l)||(o._l=a._l),Ka(a._strict)||(o._strict=a._strict),Ka(a._tzm)||(o._tzm=a._tzm),Ka(a._isUTC)||(o._isUTC=a._isUTC),Ka(a._offset)||(o._offset=a._offset),Ka(a._pf)||(o._pf=lo(a)),Ka(a._locale)||(o._locale=a._locale),m>0)for(s=0;s<m;s++)t=r0[s],c=a[t],Ka(c)||(o[t]=c);return o}function jm(o){v1(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),sv===!1&&(sv=!0,H.updateOffset(this),sv=!1)}function as(o){return o instanceof jm||o!=null&&o._isAMomentObject!=null}function Rw(o){H.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}function jn(o,a){var s=!0;return bl(function(){if(H.deprecationHandler!=null&&H.deprecationHandler(null,o),s){var t=[],c,m,_,l=arguments.length;for(m=0;m<l;m++){if(c="",typeof arguments[m]=="object"){c+=`
[`+m+"] ";for(_ in arguments[0])Po(arguments[0],_)&&(c+=_+": "+arguments[0][_]+", ");c=c.slice(0,-2)}else c=arguments[m];t.push(c)}Rw(o+`
Arguments: `+Array.prototype.slice.call(t).join("")+`
`+new Error().stack),s=!1}return a.apply(this,arguments)},a)}var d0={};function Sw(o,a){H.deprecationHandler!=null&&H.deprecationHandler(o,a),d0[o]||(Rw(a),d0[o]=!0)}H.suppressDeprecationWarnings=!1;H.deprecationHandler=null;function bs(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function QT(o){var a,s;for(s in o)Po(o,s)&&(a=o[s],bs(a)?this[s]=a:this["_"+s]=a);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function eg(o,a){var s=bl({},o),t;for(t in a)Po(a,t)&&(ii(o[t])&&ii(a[t])?(s[t]={},bl(s[t],o[t]),bl(s[t],a[t])):a[t]!=null?s[t]=a[t]:delete s[t]);for(t in o)Po(o,t)&&!Po(a,t)&&ii(o[t])&&(s[t]=bl({},s[t]));return s}function g1(o){o!=null&&this.set(o)}var tg;Object.keys?tg=Object.keys:tg=function(o){var a,s=[];for(a in o)Po(o,a)&&s.push(a);return s};var ZT={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function JT(o,a,s){var t=this._calendar[o]||this._calendar.sameElse;return bs(t)?t.call(a,s):t}function vs(o,a,s){var t=""+Math.abs(o),c=a-t.length,m=o>=0;return(m?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+t}var b1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,cf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,lv={},Nr={};function Zt(o,a,s,t){var c=t;typeof t=="string"&&(c=function(){return this[t]()}),o&&(Nr[o]=c),a&&(Nr[a[0]]=function(){return vs(c.apply(this,arguments),a[1],a[2])}),s&&(Nr[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),o)})}function XT(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function ej(o){var a=o.match(b1),s,t;for(s=0,t=a.length;s<t;s++)Nr[a[s]]?a[s]=Nr[a[s]]:a[s]=XT(a[s]);return function(c){var m="",_;for(_=0;_<t;_++)m+=bs(a[_])?a[_].call(c,o):a[_];return m}}function Rf(o,a){return o.isValid()?(a=Tw(a,o.localeData()),lv[a]=lv[a]||ej(a),lv[a](o)):o.localeData().invalidDate()}function Tw(o,a){var s=5;function t(c){return a.longDateFormat(c)||c}for(cf.lastIndex=0;s>=0&&cf.test(o);)o=o.replace(cf,t),cf.lastIndex=0,s-=1;return o}var tj={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function oj(o){var a=this._longDateFormat[o],s=this._longDateFormat[o.toUpperCase()];return a||!s?a:(this._longDateFormat[o]=s.match(b1).map(function(t){return t==="MMMM"||t==="MM"||t==="DD"||t==="dddd"?t.slice(1):t}).join(""),this._longDateFormat[o])}var aj="Invalid date";function nj(){return this._invalidDate}var sj="%d",lj=/\d{1,2}/;function ij(o){return this._ordinal.replace("%d",o)}var rj={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dj(o,a,s,t){var c=this._relativeTime[s];return bs(c)?c(o,a,s,t):c.replace(/%d/i,o)}function cj(o,a){var s=this._relativeTime[o>0?"future":"past"];return bs(s)?s(a):s.replace(/%s/i,a)}var Y_={};function Ma(o,a){var s=o.toLowerCase();Y_[s]=Y_[s+"s"]=Y_[a]=o}function On(o){return typeof o=="string"?Y_[o]||Y_[o.toLowerCase()]:void 0}function y1(o){var a={},s,t;for(t in o)Po(o,t)&&(s=On(t),s&&(a[s]=o[t]));return a}var jw={};function La(o,a){jw[o]=a}function uj(o){var a=[],s;for(s in o)Po(o,s)&&a.push({unit:s,priority:jw[s]});return a.sort(function(t,c){return t.priority-c.priority}),a}function Zh(o){return o%4===0&&o%100!==0||o%400===0}function Pn(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function _o(o){var a=+o,s=0;return a!==0&&isFinite(a)&&(s=Pn(a)),s}function ad(o,a){return function(s){return s!=null?(Ow(this,o,s),H.updateOffset(this,a),this):rh(this,o)}}function rh(o,a){return o.isValid()?o._d["get"+(o._isUTC?"UTC":"")+a]():NaN}function Ow(o,a,s){o.isValid()&&!isNaN(s)&&(a==="FullYear"&&Zh(o.year())&&o.month()===1&&o.date()===29?(s=_o(s),o._d["set"+(o._isUTC?"UTC":"")+a](s,o.month(),ap(s,o.month()))):o._d["set"+(o._isUTC?"UTC":"")+a](s))}function _j(o){return o=On(o),bs(this[o])?this[o]():this}function mj(o,a){if(typeof o=="object"){o=y1(o);var s=uj(o),t,c=s.length;for(t=0;t<c;t++)this[s[t].unit](o[s[t].unit])}else if(o=On(o),bs(this[o]))return this[o](a);return this}var Mw=/\d/,gn=/\d\d/,Lw=/\d{3}/,k1=/\d{4}/,Jh=/[+-]?\d{6}/,Ho=/\d\d?/,Nw=/\d\d\d\d?/,Fw=/\d\d\d\d\d\d?/,Xh=/\d{1,3}/,$1=/\d{1,4}/,ep=/[+-]?\d{1,6}/,nd=/\d+/,tp=/[+-]?\d+/,fj=/Z|[+-]\d\d:?\d\d/gi,op=/Z|[+-]\d\d(?::?\d\d)?/gi,hj=/[+-]?\d+(\.\d{1,3})?/,Om=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dh;dh={};function Yt(o,a,s){dh[o]=bs(a)?a:function(t,c){return t&&s?s:a}}function pj(o,a){return Po(dh,o)?dh[o](a._strict,a._locale):new RegExp(vj(o))}function vj(o){return un(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,s,t,c,m){return s||t||c||m}))}function un(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var og={};function Mo(o,a){var s,t=a,c;for(typeof o=="string"&&(o=[o]),Qs(a)&&(t=function(m,_){_[a]=_o(m)}),c=o.length,s=0;s<c;s++)og[o[s]]=t}function Mm(o,a){Mo(o,function(s,t,c,m){c._w=c._w||{},a(s,c._w,c,m)})}function gj(o,a,s){a!=null&&Po(og,o)&&og[o](a,s._a,s,o)}var ja=0,Us=1,ms=2,ua=3,Zn=4,qs=5,ti=6,bj=7,yj=8;function kj(o,a){return(o%a+a)%a}var ea;Array.prototype.indexOf?ea=Array.prototype.indexOf:ea=function(o){var a;for(a=0;a<this.length;++a)if(this[a]===o)return a;return-1};function ap(o,a){if(isNaN(o)||isNaN(a))return NaN;var s=kj(a,12);return o+=(a-s)/12,s===1?Zh(o)?29:28:31-s%7%2}Zt("M",["MM",2],"Mo",function(){return this.month()+1});Zt("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)});Zt("MMMM",0,0,function(o){return this.localeData().months(this,o)});Ma("month","M");La("month",8);Yt("M",Ho);Yt("MM",Ho,gn);Yt("MMM",function(o,a){return a.monthsShortRegex(o)});Yt("MMMM",function(o,a){return a.monthsRegex(o)});Mo(["M","MM"],function(o,a){a[Us]=_o(o)-1});Mo(["MMM","MMMM"],function(o,a,s,t){var c=s._locale.monthsParse(o,t,s._strict);c!=null?a[Us]=c:lo(s).invalidMonth=o});var $j="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Vw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wj=Om,Dj=Om;function Cj(o,a){return o?os(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||Vw).test(a)?"format":"standalone"][o.month()]:os(this._months)?this._months:this._months.standalone}function xj(o,a){return o?os(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[Vw.test(a)?"format":"standalone"][o.month()]:os(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pj(o,a,s){var t,c,m,_=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],t=0;t<12;++t)m=gs([2e3,t]),this._shortMonthsParse[t]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[t]=this.months(m,"").toLocaleLowerCase();return s?a==="MMM"?(c=ea.call(this._shortMonthsParse,_),c!==-1?c:null):(c=ea.call(this._longMonthsParse,_),c!==-1?c:null):a==="MMM"?(c=ea.call(this._shortMonthsParse,_),c!==-1?c:(c=ea.call(this._longMonthsParse,_),c!==-1?c:null)):(c=ea.call(this._longMonthsParse,_),c!==-1?c:(c=ea.call(this._shortMonthsParse,_),c!==-1?c:null))}function Ej(o,a,s){var t,c,m;if(this._monthsParseExact)return Pj.call(this,o,a,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;t<12;t++){if(c=gs([2e3,t]),s&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[t]&&(m="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[t]=new RegExp(m.replace(".",""),"i")),s&&a==="MMMM"&&this._longMonthsParse[t].test(o))return t;if(s&&a==="MMM"&&this._shortMonthsParse[t].test(o))return t;if(!s&&this._monthsParse[t].test(o))return t}}function Bw(o,a){var s;if(!o.isValid())return o;if(typeof a=="string"){if(/^\d+$/.test(a))a=_o(a);else if(a=o.localeData().monthsParse(a),!Qs(a))return o}return s=Math.min(o.date(),ap(o.year(),a)),o._d["set"+(o._isUTC?"UTC":"")+"Month"](a,s),o}function Uw(o){return o!=null?(Bw(this,o),H.updateOffset(this,!0),this):rh(this,"Month")}function Aj(){return ap(this.year(),this.month())}function Ij(o){return this._monthsParseExact?(Po(this,"_monthsRegex")||qw.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(Po(this,"_monthsShortRegex")||(this._monthsShortRegex=wj),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function Rj(o){return this._monthsParseExact?(Po(this,"_monthsRegex")||qw.call(this),o?this._monthsStrictRegex:this._monthsRegex):(Po(this,"_monthsRegex")||(this._monthsRegex=Dj),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function qw(){function o(_,l){return l.length-_.length}var a=[],s=[],t=[],c,m;for(c=0;c<12;c++)m=gs([2e3,c]),a.push(this.monthsShort(m,"")),s.push(this.months(m,"")),t.push(this.months(m,"")),t.push(this.monthsShort(m,""));for(a.sort(o),s.sort(o),t.sort(o),c=0;c<12;c++)a[c]=un(a[c]),s[c]=un(s[c]);for(c=0;c<24;c++)t[c]=un(t[c]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}Zt("Y",0,0,function(){var o=this.year();return o<=9999?vs(o,4):"+"+o});Zt(0,["YY",2],0,function(){return this.year()%100});Zt(0,["YYYY",4],0,"year");Zt(0,["YYYYY",5],0,"year");Zt(0,["YYYYYY",6,!0],0,"year");Ma("year","y");La("year",1);Yt("Y",tp);Yt("YY",Ho,gn);Yt("YYYY",$1,k1);Yt("YYYYY",ep,Jh);Yt("YYYYYY",ep,Jh);Mo(["YYYYY","YYYYYY"],ja);Mo("YYYY",function(o,a){a[ja]=o.length===2?H.parseTwoDigitYear(o):_o(o)});Mo("YY",function(o,a){a[ja]=H.parseTwoDigitYear(o)});Mo("Y",function(o,a){a[ja]=parseInt(o,10)});function V_(o){return Zh(o)?366:365}H.parseTwoDigitYear=function(o){return _o(o)+(_o(o)>68?1900:2e3)};var Hw=ad("FullYear",!0);function Sj(){return Zh(this.year())}function Tj(o,a,s,t,c,m,_){var l;return o<100&&o>=0?(l=new Date(o+400,a,s,t,c,m,_),isFinite(l.getFullYear())&&l.setFullYear(o)):l=new Date(o,a,s,t,c,m,_),l}function um(o){var a,s;return o<100&&o>=0?(s=Array.prototype.slice.call(arguments),s[0]=o+400,a=new Date(Date.UTC.apply(null,s)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(o)):a=new Date(Date.UTC.apply(null,arguments)),a}function ch(o,a,s){var t=7+a-s,c=(7+um(o,0,t).getUTCDay()-a)%7;return-c+t-1}function zw(o,a,s,t,c){var m=(7+s-t)%7,_=ch(o,t,c),l=1+7*(a-1)+m+_,r,i;return l<=0?(r=o-1,i=V_(r)+l):l>V_(o)?(r=o+1,i=l-V_(o)):(r=o,i=l),{year:r,dayOfYear:i}}function _m(o,a,s){var t=ch(o.year(),a,s),c=Math.floor((o.dayOfYear()-t-1)/7)+1,m,_;return c<1?(_=o.year()-1,m=c+Ws(_,a,s)):c>Ws(o.year(),a,s)?(m=c-Ws(o.year(),a,s),_=o.year()+1):(_=o.year(),m=c),{week:m,year:_}}function Ws(o,a,s){var t=ch(o,a,s),c=ch(o+1,a,s);return(V_(o)-t+c)/7}Zt("w",["ww",2],"wo","week");Zt("W",["WW",2],"Wo","isoWeek");Ma("week","w");Ma("isoWeek","W");La("week",5);La("isoWeek",5);Yt("w",Ho);Yt("ww",Ho,gn);Yt("W",Ho);Yt("WW",Ho,gn);Mm(["w","ww","W","WW"],function(o,a,s,t){a[t.substr(0,1)]=_o(o)});function jj(o){return _m(o,this._week.dow,this._week.doy).week}var Oj={dow:0,doy:6};function Mj(){return this._week.dow}function Lj(){return this._week.doy}function Nj(o){var a=this.localeData().week(this);return o==null?a:this.add((o-a)*7,"d")}function Fj(o){var a=_m(this,1,4).week;return o==null?a:this.add((o-a)*7,"d")}Zt("d",0,"do","day");Zt("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)});Zt("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)});Zt("dddd",0,0,function(o){return this.localeData().weekdays(this,o)});Zt("e",0,0,"weekday");Zt("E",0,0,"isoWeekday");Ma("day","d");Ma("weekday","e");Ma("isoWeekday","E");La("day",11);La("weekday",11);La("isoWeekday",11);Yt("d",Ho);Yt("e",Ho);Yt("E",Ho);Yt("dd",function(o,a){return a.weekdaysMinRegex(o)});Yt("ddd",function(o,a){return a.weekdaysShortRegex(o)});Yt("dddd",function(o,a){return a.weekdaysRegex(o)});Mm(["dd","ddd","dddd"],function(o,a,s,t){var c=s._locale.weekdaysParse(o,t,s._strict);c!=null?a.d=c:lo(s).invalidWeekday=o});Mm(["d","e","E"],function(o,a,s,t){a[t]=_o(o)});function Yj(o,a){return typeof o!="string"?o:isNaN(o)?(o=a.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function Vj(o,a){return typeof o=="string"?a.weekdaysParse(o)%7||7:isNaN(o)?null:o}function w1(o,a){return o.slice(a,7).concat(o.slice(0,a))}var Bj="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ww="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Uj="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qj=Om,Hj=Om,zj=Om;function Wj(o,a){var s=os(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return o===!0?w1(s,this._week.dow):o?s[o.day()]:s}function Kj(o){return o===!0?w1(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function Gj(o){return o===!0?w1(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function Qj(o,a,s){var t,c,m,_=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],t=0;t<7;++t)m=gs([2e3,1]).day(t),this._minWeekdaysParse[t]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[t]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[t]=this.weekdays(m,"").toLocaleLowerCase();return s?a==="dddd"?(c=ea.call(this._weekdaysParse,_),c!==-1?c:null):a==="ddd"?(c=ea.call(this._shortWeekdaysParse,_),c!==-1?c:null):(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null):a==="dddd"?(c=ea.call(this._weekdaysParse,_),c!==-1||(c=ea.call(this._shortWeekdaysParse,_),c!==-1)?c:(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null)):a==="ddd"?(c=ea.call(this._shortWeekdaysParse,_),c!==-1||(c=ea.call(this._weekdaysParse,_),c!==-1)?c:(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null)):(c=ea.call(this._minWeekdaysParse,_),c!==-1||(c=ea.call(this._weekdaysParse,_),c!==-1)?c:(c=ea.call(this._shortWeekdaysParse,_),c!==-1?c:null))}function Zj(o,a,s){var t,c,m;if(this._weekdaysParseExact)return Qj.call(this,o,a,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),t=0;t<7;t++){if(c=gs([2e3,1]).day(t),s&&!this._fullWeekdaysParse[t]&&(this._fullWeekdaysParse[t]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[t]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[t]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[t]||(m="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[t]=new RegExp(m.replace(".",""),"i")),s&&a==="dddd"&&this._fullWeekdaysParse[t].test(o))return t;if(s&&a==="ddd"&&this._shortWeekdaysParse[t].test(o))return t;if(s&&a==="dd"&&this._minWeekdaysParse[t].test(o))return t;if(!s&&this._weekdaysParse[t].test(o))return t}}function Jj(o){if(!this.isValid())return o!=null?this:NaN;var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return o!=null?(o=Yj(o,this.localeData()),this.add(o-a,"d")):a}function Xj(o){if(!this.isValid())return o!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return o==null?a:this.add(o-a,"d")}function eO(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var a=Vj(o,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function tO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(Po(this,"_weekdaysRegex")||(this._weekdaysRegex=qj),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function oO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Po(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hj),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function aO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Po(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zj),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function D1(){function o(d,p){return p.length-d.length}var a=[],s=[],t=[],c=[],m,_,l,r,i;for(m=0;m<7;m++)_=gs([2e3,1]).day(m),l=un(this.weekdaysMin(_,"")),r=un(this.weekdaysShort(_,"")),i=un(this.weekdays(_,"")),a.push(l),s.push(r),t.push(i),c.push(l),c.push(r),c.push(i);a.sort(o),s.sort(o),t.sort(o),c.sort(o),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function C1(){return this.hours()%12||12}function nO(){return this.hours()||24}Zt("H",["HH",2],0,"hour");Zt("h",["hh",2],0,C1);Zt("k",["kk",2],0,nO);Zt("hmm",0,0,function(){return""+C1.apply(this)+vs(this.minutes(),2)});Zt("hmmss",0,0,function(){return""+C1.apply(this)+vs(this.minutes(),2)+vs(this.seconds(),2)});Zt("Hmm",0,0,function(){return""+this.hours()+vs(this.minutes(),2)});Zt("Hmmss",0,0,function(){return""+this.hours()+vs(this.minutes(),2)+vs(this.seconds(),2)});function Kw(o,a){Zt(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Kw("a",!0);Kw("A",!1);Ma("hour","h");La("hour",13);function Gw(o,a){return a._meridiemParse}Yt("a",Gw);Yt("A",Gw);Yt("H",Ho);Yt("h",Ho);Yt("k",Ho);Yt("HH",Ho,gn);Yt("hh",Ho,gn);Yt("kk",Ho,gn);Yt("hmm",Nw);Yt("hmmss",Fw);Yt("Hmm",Nw);Yt("Hmmss",Fw);Mo(["H","HH"],ua);Mo(["k","kk"],function(o,a,s){var t=_o(o);a[ua]=t===24?0:t});Mo(["a","A"],function(o,a,s){s._isPm=s._locale.isPM(o),s._meridiem=o});Mo(["h","hh"],function(o,a,s){a[ua]=_o(o),lo(s).bigHour=!0});Mo("hmm",function(o,a,s){var t=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t)),lo(s).bigHour=!0});Mo("hmmss",function(o,a,s){var t=o.length-4,c=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t,2)),a[qs]=_o(o.substr(c)),lo(s).bigHour=!0});Mo("Hmm",function(o,a,s){var t=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t))});Mo("Hmmss",function(o,a,s){var t=o.length-4,c=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t,2)),a[qs]=_o(o.substr(c))});function sO(o){return(o+"").toLowerCase().charAt(0)==="p"}var lO=/[ap]\.?m?\.?/i,iO=ad("Hours",!0);function rO(o,a,s){return o>11?s?"pm":"PM":s?"am":"AM"}var Qw={calendar:ZT,longDateFormat:tj,invalidDate:aj,ordinal:sj,dayOfMonthOrdinalParse:lj,relativeTime:rj,months:$j,monthsShort:Yw,week:Oj,weekdays:Bj,weekdaysMin:Uj,weekdaysShort:Ww,meridiemParse:lO},Wo={},Dd={},mm;function dO(o,a){var s,t=Math.min(o.length,a.length);for(s=0;s<t;s+=1)if(o[s]!==a[s])return s;return t}function c0(o){return o&&o.toLowerCase().replace("_","-")}function cO(o){for(var a=0,s,t,c,m;a<o.length;){for(m=c0(o[a]).split("-"),s=m.length,t=c0(o[a+1]),t=t?t.split("-"):null;s>0;){if(c=np(m.slice(0,s).join("-")),c)return c;if(t&&t.length>=s&&dO(m,t)>=s-1)break;s--}a++}return mm}function uO(o){return o.match("^[^/\\\\]*$")!=null}function np(o){var a=null,s;if(Wo[o]===void 0&&typeof jf<"u"&&jf&&jf.exports&&uO(o))try{a=mm._abbr,s=require,s("./locale/"+o),Pl(a)}catch{Wo[o]=null}return Wo[o]}function Pl(o,a){var s;return o&&(Ka(a)?s=Js(o):s=x1(o,a),s?mm=s:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),mm._abbr}function x1(o,a){if(a!==null){var s,t=Qw;if(a.abbr=o,Wo[o]!=null)Sw("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),t=Wo[o]._config;else if(a.parentLocale!=null)if(Wo[a.parentLocale]!=null)t=Wo[a.parentLocale]._config;else if(s=np(a.parentLocale),s!=null)t=s._config;else return Dd[a.parentLocale]||(Dd[a.parentLocale]=[]),Dd[a.parentLocale].push({name:o,config:a}),null;return Wo[o]=new g1(eg(t,a)),Dd[o]&&Dd[o].forEach(function(c){x1(c.name,c.config)}),Pl(o),Wo[o]}else return delete Wo[o],null}function _O(o,a){if(a!=null){var s,t,c=Qw;Wo[o]!=null&&Wo[o].parentLocale!=null?Wo[o].set(eg(Wo[o]._config,a)):(t=np(o),t!=null&&(c=t._config),a=eg(c,a),t==null&&(a.abbr=o),s=new g1(a),s.parentLocale=Wo[o],Wo[o]=s),Pl(o)}else Wo[o]!=null&&(Wo[o].parentLocale!=null?(Wo[o]=Wo[o].parentLocale,o===Pl()&&Pl(o)):Wo[o]!=null&&delete Wo[o]);return Wo[o]}function Js(o){var a;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return mm;if(!os(o)){if(a=np(o),a)return a;o=[o]}return cO(o)}function mO(){return tg(Wo)}function P1(o){var a,s=o._a;return s&&lo(o).overflow===-2&&(a=s[Us]<0||s[Us]>11?Us:s[ms]<1||s[ms]>ap(s[ja],s[Us])?ms:s[ua]<0||s[ua]>24||s[ua]===24&&(s[Zn]!==0||s[qs]!==0||s[ti]!==0)?ua:s[Zn]<0||s[Zn]>59?Zn:s[qs]<0||s[qs]>59?qs:s[ti]<0||s[ti]>999?ti:-1,lo(o)._overflowDayOfYear&&(a<ja||a>ms)&&(a=ms),lo(o)._overflowWeeks&&a===-1&&(a=bj),lo(o)._overflowWeekday&&a===-1&&(a=yj),lo(o).overflow=a),o}var fO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pO=/Z|[+-]\d\d(?::?\d\d)?/,uf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],iv=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vO=/^\/?Date\((-?\d+)/i,gO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bO={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zw(o){var a,s,t=o._i,c=fO.exec(t)||hO.exec(t),m,_,l,r,i=uf.length,d=iv.length;if(c){for(lo(o).iso=!0,a=0,s=i;a<s;a++)if(uf[a][1].exec(c[1])){_=uf[a][0],m=uf[a][2]!==!1;break}if(_==null){o._isValid=!1;return}if(c[3]){for(a=0,s=d;a<s;a++)if(iv[a][1].exec(c[3])){l=(c[2]||" ")+iv[a][0];break}if(l==null){o._isValid=!1;return}}if(!m&&l!=null){o._isValid=!1;return}if(c[4])if(pO.exec(c[4]))r="Z";else{o._isValid=!1;return}o._f=_+(l||"")+(r||""),A1(o)}else o._isValid=!1}function yO(o,a,s,t,c,m){var _=[kO(o),Yw.indexOf(a),parseInt(s,10),parseInt(t,10),parseInt(c,10)];return m&&_.push(parseInt(m,10)),_}function kO(o){var a=parseInt(o,10);return a<=49?2e3+a:a<=999?1900+a:a}function $O(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wO(o,a,s){if(o){var t=Ww.indexOf(o),c=new Date(a[0],a[1],a[2]).getDay();if(t!==c)return lo(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function DO(o,a,s){if(o)return bO[o];if(a)return 0;var t=parseInt(s,10),c=t%100,m=(t-c)/100;return m*60+c}function Jw(o){var a=gO.exec($O(o._i)),s;if(a){if(s=yO(a[4],a[3],a[2],a[5],a[6],a[7]),!wO(a[1],s,o))return;o._a=s,o._tzm=DO(a[8],a[9],a[10]),o._d=um.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),lo(o).rfc2822=!0}else o._isValid=!1}function CO(o){var a=vO.exec(o._i);if(a!==null){o._d=new Date(+a[1]);return}if(Zw(o),o._isValid===!1)delete o._isValid;else return;if(Jw(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:H.createFromInputFallback(o)}H.createFromInputFallback=jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function wr(o,a,s){return o??a??s}function xO(o){var a=new Date(H.now());return o._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function E1(o){var a,s,t=[],c,m,_;if(!o._d){for(c=xO(o),o._w&&o._a[ms]==null&&o._a[Us]==null&&PO(o),o._dayOfYear!=null&&(_=wr(o._a[ja],c[ja]),(o._dayOfYear>V_(_)||o._dayOfYear===0)&&(lo(o)._overflowDayOfYear=!0),s=um(_,0,o._dayOfYear),o._a[Us]=s.getUTCMonth(),o._a[ms]=s.getUTCDate()),a=0;a<3&&o._a[a]==null;++a)o._a[a]=t[a]=c[a];for(;a<7;a++)o._a[a]=t[a]=o._a[a]==null?a===2?1:0:o._a[a];o._a[ua]===24&&o._a[Zn]===0&&o._a[qs]===0&&o._a[ti]===0&&(o._nextDay=!0,o._a[ua]=0),o._d=(o._useUTC?um:Tj).apply(null,t),m=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[ua]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==m&&(lo(o).weekdayMismatch=!0)}}function PO(o){var a,s,t,c,m,_,l,r,i;a=o._w,a.GG!=null||a.W!=null||a.E!=null?(m=1,_=4,s=wr(a.GG,o._a[ja],_m(qo(),1,4).year),t=wr(a.W,1),c=wr(a.E,1),(c<1||c>7)&&(r=!0)):(m=o._locale._week.dow,_=o._locale._week.doy,i=_m(qo(),m,_),s=wr(a.gg,o._a[ja],i.year),t=wr(a.w,i.week),a.d!=null?(c=a.d,(c<0||c>6)&&(r=!0)):a.e!=null?(c=a.e+m,(a.e<0||a.e>6)&&(r=!0)):c=m),t<1||t>Ws(s,m,_)?lo(o)._overflowWeeks=!0:r!=null?lo(o)._overflowWeekday=!0:(l=zw(s,t,c,m,_),o._a[ja]=l.year,o._dayOfYear=l.dayOfYear)}H.ISO_8601=function(){};H.RFC_2822=function(){};function A1(o){if(o._f===H.ISO_8601){Zw(o);return}if(o._f===H.RFC_2822){Jw(o);return}o._a=[],lo(o).empty=!0;var a=""+o._i,s,t,c,m,_,l=a.length,r=0,i,d;for(c=Tw(o._f,o._locale).match(b1)||[],d=c.length,s=0;s<d;s++)m=c[s],t=(a.match(pj(m,o))||[])[0],t&&(_=a.substr(0,a.indexOf(t)),_.length>0&&lo(o).unusedInput.push(_),a=a.slice(a.indexOf(t)+t.length),r+=t.length),Nr[m]?(t?lo(o).empty=!1:lo(o).unusedTokens.push(m),gj(m,t,o)):o._strict&&!t&&lo(o).unusedTokens.push(m);lo(o).charsLeftOver=l-r,a.length>0&&lo(o).unusedInput.push(a),o._a[ua]<=12&&lo(o).bigHour===!0&&o._a[ua]>0&&(lo(o).bigHour=void 0),lo(o).parsedDateParts=o._a.slice(0),lo(o).meridiem=o._meridiem,o._a[ua]=EO(o._locale,o._a[ua],o._meridiem),i=lo(o).era,i!==null&&(o._a[ja]=o._locale.erasConvertYear(i,o._a[ja])),E1(o),P1(o)}function EO(o,a,s){var t;return s==null?a:o.meridiemHour!=null?o.meridiemHour(a,s):(o.isPM!=null&&(t=o.isPM(s),t&&a<12&&(a+=12),!t&&a===12&&(a=0)),a)}function AO(o){var a,s,t,c,m,_,l=!1,r=o._f.length;if(r===0){lo(o).invalidFormat=!0,o._d=new Date(NaN);return}for(c=0;c<r;c++)m=0,_=!1,a=v1({},o),o._useUTC!=null&&(a._useUTC=o._useUTC),a._f=o._f[c],A1(a),p1(a)&&(_=!0),m+=lo(a).charsLeftOver,m+=lo(a).unusedTokens.length*10,lo(a).score=m,l?m<t&&(t=m,s=a):(t==null||m<t||_)&&(t=m,s=a,_&&(l=!0));bl(o,s||a)}function IO(o){if(!o._d){var a=y1(o._i),s=a.day===void 0?a.date:a.day;o._a=Iw([a.year,a.month,s,a.hour,a.minute,a.second,a.millisecond],function(t){return t&&parseInt(t,10)}),E1(o)}}function RO(o){var a=new jm(P1(Xw(o)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Xw(o){var a=o._i,s=o._f;return o._locale=o._locale||Js(o._l),a===null||s===void 0&&a===""?Qh({nullInput:!0}):(typeof a=="string"&&(o._i=a=o._locale.preparse(a)),as(a)?new jm(P1(a)):(Tm(a)?o._d=a:os(s)?AO(o):s?A1(o):SO(o),p1(o)||(o._d=null),o))}function SO(o){var a=o._i;Ka(a)?o._d=new Date(H.now()):Tm(a)?o._d=new Date(a.valueOf()):typeof a=="string"?CO(o):os(a)?(o._a=Iw(a.slice(0),function(s){return parseInt(s,10)}),E1(o)):ii(a)?IO(o):Qs(a)?o._d=new Date(a):H.createFromInputFallback(o)}function e5(o,a,s,t,c){var m={};return(a===!0||a===!1)&&(t=a,a=void 0),(s===!0||s===!1)&&(t=s,s=void 0),(ii(o)&&h1(o)||os(o)&&o.length===0)&&(o=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=c,m._l=s,m._i=o,m._f=a,m._strict=t,RO(m)}function qo(o,a,s,t){return e5(o,a,s,t,!1)}var TO=jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=qo.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:Qh()}),jO=jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=qo.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:Qh()});function t5(o,a){var s,t;if(a.length===1&&os(a[0])&&(a=a[0]),!a.length)return qo();for(s=a[0],t=1;t<a.length;++t)(!a[t].isValid()||a[t][o](s))&&(s=a[t]);return s}function OO(){var o=[].slice.call(arguments,0);return t5("isBefore",o)}function MO(){var o=[].slice.call(arguments,0);return t5("isAfter",o)}var LO=function(){return Date.now?Date.now():+new Date},Cd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function NO(o){var a,s=!1,t,c=Cd.length;for(a in o)if(Po(o,a)&&!(ea.call(Cd,a)!==-1&&(o[a]==null||!isNaN(o[a]))))return!1;for(t=0;t<c;++t)if(o[Cd[t]]){if(s)return!1;parseFloat(o[Cd[t]])!==_o(o[Cd[t]])&&(s=!0)}return!0}function FO(){return this._isValid}function YO(){return ns(NaN)}function sp(o){var a=y1(o),s=a.year||0,t=a.quarter||0,c=a.month||0,m=a.week||a.isoWeek||0,_=a.day||0,l=a.hour||0,r=a.minute||0,i=a.second||0,d=a.millisecond||0;this._isValid=NO(a),this._milliseconds=+d+i*1e3+r*6e4+l*1e3*60*60,this._days=+_+m*7,this._months=+c+t*3+s*12,this._data={},this._locale=Js(),this._bubble()}function Sf(o){return o instanceof sp}function ag(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function VO(o,a,s){var t=Math.min(o.length,a.length),c=Math.abs(o.length-a.length),m=0,_;for(_=0;_<t;_++)(s&&o[_]!==a[_]||!s&&_o(o[_])!==_o(a[_]))&&m++;return m+c}function o5(o,a){Zt(o,0,0,function(){var s=this.utcOffset(),t="+";return s<0&&(s=-s,t="-"),t+vs(~~(s/60),2)+a+vs(~~s%60,2)})}o5("Z",":");o5("ZZ","");Yt("Z",op);Yt("ZZ",op);Mo(["Z","ZZ"],function(o,a,s){s._useUTC=!0,s._tzm=I1(op,o)});var BO=/([\+\-]|\d\d)/gi;function I1(o,a){var s=(a||"").match(o),t,c,m;return s===null?null:(t=s[s.length-1]||[],c=(t+"").match(BO)||["-",0,0],m=+(c[1]*60)+_o(c[2]),m===0?0:c[0]==="+"?m:-m)}function R1(o,a){var s,t;return a._isUTC?(s=a.clone(),t=(as(o)||Tm(o)?o.valueOf():qo(o).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+t),H.updateOffset(s,!1),s):qo(o).local()}function ng(o){return-Math.round(o._d.getTimezoneOffset())}H.updateOffset=function(){};function UO(o,a,s){var t=this._offset||0,c;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=I1(op,o),o===null)return this}else Math.abs(o)<16&&!s&&(o=o*60);return!this._isUTC&&a&&(c=ng(this)),this._offset=o,this._isUTC=!0,c!=null&&this.add(c,"m"),t!==o&&(!a||this._changeInProgress?s5(this,ns(o-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?t:ng(this)}function qO(o,a){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,a),this):-this.utcOffset()}function HO(o){return this.utcOffset(0,o)}function zO(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(ng(this),"m")),this}function WO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=I1(fj,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function KO(o){return this.isValid()?(o=o?qo(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}function GO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function QO(){if(!Ka(this._isDSTShifted))return this._isDSTShifted;var o={},a;return v1(o,this),o=Xw(o),o._a?(a=o._isUTC?gs(o._a):qo(o._a),this._isDSTShifted=this.isValid()&&VO(o._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ZO(){return this.isValid()?!this._isUTC:!1}function JO(){return this.isValid()?this._isUTC:!1}function a5(){return this.isValid()?this._isUTC&&this._offset===0:!1}var XO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,eM=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ns(o,a){var s=o,t=null,c,m,_;return Sf(o)?s={ms:o._milliseconds,d:o._days,M:o._months}:Qs(o)||!isNaN(+o)?(s={},a?s[a]=+o:s.milliseconds=+o):(t=XO.exec(o))?(c=t[1]==="-"?-1:1,s={y:0,d:_o(t[ms])*c,h:_o(t[ua])*c,m:_o(t[Zn])*c,s:_o(t[qs])*c,ms:_o(ag(t[ti]*1e3))*c}):(t=eM.exec(o))?(c=t[1]==="-"?-1:1,s={y:Kl(t[2],c),M:Kl(t[3],c),w:Kl(t[4],c),d:Kl(t[5],c),h:Kl(t[6],c),m:Kl(t[7],c),s:Kl(t[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(_=tM(qo(s.from),qo(s.to)),s={},s.ms=_.milliseconds,s.M=_.months),m=new sp(s),Sf(o)&&Po(o,"_locale")&&(m._locale=o._locale),Sf(o)&&Po(o,"_isValid")&&(m._isValid=o._isValid),m}ns.fn=sp.prototype;ns.invalid=YO;function Kl(o,a){var s=o&&parseFloat(o.replace(",","."));return(isNaN(s)?0:s)*a}function u0(o,a){var s={};return s.months=a.month()-o.month()+(a.year()-o.year())*12,o.clone().add(s.months,"M").isAfter(a)&&--s.months,s.milliseconds=+a-+o.clone().add(s.months,"M"),s}function tM(o,a){var s;return o.isValid()&&a.isValid()?(a=R1(a,o),o.isBefore(a)?s=u0(o,a):(s=u0(a,o),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function n5(o,a){return function(s,t){var c,m;return t!==null&&!isNaN(+t)&&(Sw(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=s,s=t,t=m),c=ns(s,t),s5(this,c,o),this}}function s5(o,a,s,t){var c=a._milliseconds,m=ag(a._days),_=ag(a._months);o.isValid()&&(t=t??!0,_&&Bw(o,rh(o,"Month")+_*s),m&&Ow(o,"Date",rh(o,"Date")+m*s),c&&o._d.setTime(o._d.valueOf()+c*s),t&&H.updateOffset(o,m||_))}var oM=n5(1,"add"),aM=n5(-1,"subtract");function l5(o){return typeof o=="string"||o instanceof String}function nM(o){return as(o)||Tm(o)||l5(o)||Qs(o)||lM(o)||sM(o)||o===null||o===void 0}function sM(o){var a=ii(o)&&!h1(o),s=!1,t=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,m,_=t.length;for(c=0;c<_;c+=1)m=t[c],s=s||Po(o,m);return a&&s}function lM(o){var a=os(o),s=!1;return a&&(s=o.filter(function(t){return!Qs(t)&&l5(o)}).length===0),a&&s}function iM(o){var a=ii(o)&&!h1(o),s=!1,t=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,m;for(c=0;c<t.length;c+=1)m=t[c],s=s||Po(o,m);return a&&s}function rM(o,a){var s=o.diff(a,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function dM(o,a){arguments.length===1&&(arguments[0]?nM(arguments[0])?(o=arguments[0],a=void 0):iM(arguments[0])&&(a=arguments[0],o=void 0):(o=void 0,a=void 0));var s=o||qo(),t=R1(s,this).startOf("day"),c=H.calendarFormat(this,t)||"sameElse",m=a&&(bs(a[c])?a[c].call(this,s):a[c]);return this.format(m||this.localeData().calendar(c,this,qo(s)))}function cM(){return new jm(this)}function uM(o,a){var s=as(o)?o:qo(o);return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(a).valueOf()):!1}function _M(o,a){var s=as(o)?o:qo(o);return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(a).valueOf()<s.valueOf()):!1}function mM(o,a,s,t){var c=as(o)?o:qo(o),m=as(a)?a:qo(a);return this.isValid()&&c.isValid()&&m.isValid()?(t=t||"()",(t[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(t[1]===")"?this.isBefore(m,s):!this.isAfter(m,s))):!1}function fM(o,a){var s=as(o)?o:qo(o),t;return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()===s.valueOf():(t=s.valueOf(),this.clone().startOf(a).valueOf()<=t&&t<=this.clone().endOf(a).valueOf())):!1}function hM(o,a){return this.isSame(o,a)||this.isAfter(o,a)}function pM(o,a){return this.isSame(o,a)||this.isBefore(o,a)}function vM(o,a,s){var t,c,m;if(!this.isValid())return NaN;if(t=R1(o,this),!t.isValid())return NaN;switch(c=(t.utcOffset()-this.utcOffset())*6e4,a=On(a),a){case"year":m=Tf(this,t)/12;break;case"month":m=Tf(this,t);break;case"quarter":m=Tf(this,t)/3;break;case"second":m=(this-t)/1e3;break;case"minute":m=(this-t)/6e4;break;case"hour":m=(this-t)/36e5;break;case"day":m=(this-t-c)/864e5;break;case"week":m=(this-t-c)/6048e5;break;default:m=this-t}return s?m:Pn(m)}function Tf(o,a){if(o.date()<a.date())return-Tf(a,o);var s=(a.year()-o.year())*12+(a.month()-o.month()),t=o.clone().add(s,"months"),c,m;return a-t<0?(c=o.clone().add(s-1,"months"),m=(a-t)/(t-c)):(c=o.clone().add(s+1,"months"),m=(a-t)/(c-t)),-(s+m)||0}H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";H.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gM(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bM(o){if(!this.isValid())return null;var a=o!==!0,s=a?this.clone().utc():this;return s.year()<0||s.year()>9999?Rf(s,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):bs(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Rf(s,"Z")):Rf(s,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yM(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",a="",s,t,c,m;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),s="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",m=a+'[")]',this.format(s+t+c+m)}function kM(o){o||(o=this.isUtc()?H.defaultFormatUtc:H.defaultFormat);var a=Rf(this,o);return this.localeData().postformat(a)}function $M(o,a){return this.isValid()&&(as(o)&&o.isValid()||qo(o).isValid())?ns({to:this,from:o}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function wM(o){return this.from(qo(),o)}function DM(o,a){return this.isValid()&&(as(o)&&o.isValid()||qo(o).isValid())?ns({from:this,to:o}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function CM(o){return this.to(qo(),o)}function i5(o){var a;return o===void 0?this._locale._abbr:(a=Js(o),a!=null&&(this._locale=a),this)}var r5=jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function d5(){return this._locale}var uh=1e3,Fr=60*uh,_h=60*Fr,c5=(365*400+97)*24*_h;function Yr(o,a){return(o%a+a)%a}function u5(o,a,s){return o<100&&o>=0?new Date(o+400,a,s)-c5:new Date(o,a,s).valueOf()}function _5(o,a,s){return o<100&&o>=0?Date.UTC(o+400,a,s)-c5:Date.UTC(o,a,s)}function xM(o){var a,s;if(o=On(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?_5:u5,o){case"year":a=s(this.year(),0,1);break;case"quarter":a=s(this.year(),this.month()-this.month()%3,1);break;case"month":a=s(this.year(),this.month(),1);break;case"week":a=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=s(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Yr(a+(this._isUTC?0:this.utcOffset()*Fr),_h);break;case"minute":a=this._d.valueOf(),a-=Yr(a,Fr);break;case"second":a=this._d.valueOf(),a-=Yr(a,uh);break}return this._d.setTime(a),H.updateOffset(this,!0),this}function PM(o){var a,s;if(o=On(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?_5:u5,o){case"year":a=s(this.year()+1,0,1)-1;break;case"quarter":a=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=s(this.year(),this.month()+1,1)-1;break;case"week":a=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=_h-Yr(a+(this._isUTC?0:this.utcOffset()*Fr),_h)-1;break;case"minute":a=this._d.valueOf(),a+=Fr-Yr(a,Fr)-1;break;case"second":a=this._d.valueOf(),a+=uh-Yr(a,uh)-1;break}return this._d.setTime(a),H.updateOffset(this,!0),this}function EM(){return this._d.valueOf()-(this._offset||0)*6e4}function AM(){return Math.floor(this.valueOf()/1e3)}function IM(){return new Date(this.valueOf())}function RM(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function SM(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function TM(){return this.isValid()?this.toISOString():null}function jM(){return p1(this)}function OM(){return bl({},lo(this))}function MM(){return lo(this).overflow}function LM(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Zt("N",0,0,"eraAbbr");Zt("NN",0,0,"eraAbbr");Zt("NNN",0,0,"eraAbbr");Zt("NNNN",0,0,"eraName");Zt("NNNNN",0,0,"eraNarrow");Zt("y",["y",1],"yo","eraYear");Zt("y",["yy",2],0,"eraYear");Zt("y",["yyy",3],0,"eraYear");Zt("y",["yyyy",4],0,"eraYear");Yt("N",S1);Yt("NN",S1);Yt("NNN",S1);Yt("NNNN",KM);Yt("NNNNN",GM);Mo(["N","NN","NNN","NNNN","NNNNN"],function(o,a,s,t){var c=s._locale.erasParse(o,t,s._strict);c?lo(s).era=c:lo(s).invalidEra=o});Yt("y",nd);Yt("yy",nd);Yt("yyy",nd);Yt("yyyy",nd);Yt("yo",QM);Mo(["y","yy","yyy","yyyy"],ja);Mo(["yo"],function(o,a,s,t){var c;s._locale._eraYearOrdinalRegex&&(c=o.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?a[ja]=s._locale.eraYearOrdinalParse(o,c):a[ja]=parseInt(o,10)});function NM(o,a){var s,t,c,m=this._eras||Js("en")._eras;for(s=0,t=m.length;s<t;++s){switch(typeof m[s].since){case"string":c=H(m[s].since).startOf("day"),m[s].since=c.valueOf();break}switch(typeof m[s].until){case"undefined":m[s].until=1/0;break;case"string":c=H(m[s].until).startOf("day").valueOf(),m[s].until=c.valueOf();break}}return m}function FM(o,a,s){var t,c,m=this.eras(),_,l,r;for(o=o.toUpperCase(),t=0,c=m.length;t<c;++t)if(_=m[t].name.toUpperCase(),l=m[t].abbr.toUpperCase(),r=m[t].narrow.toUpperCase(),s)switch(a){case"N":case"NN":case"NNN":if(l===o)return m[t];break;case"NNNN":if(_===o)return m[t];break;case"NNNNN":if(r===o)return m[t];break}else if([_,l,r].indexOf(o)>=0)return m[t]}function YM(o,a){var s=o.since<=o.until?1:-1;return a===void 0?H(o.since).year():H(o.since).year()+(a-o.offset)*s}function VM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].name;return""}function BM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].narrow;return""}function UM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].abbr;return""}function qM(){var o,a,s,t,c=this.localeData().eras();for(o=0,a=c.length;o<a;++o)if(s=c[o].since<=c[o].until?1:-1,t=this.clone().startOf("day").valueOf(),c[o].since<=t&&t<=c[o].until||c[o].until<=t&&t<=c[o].since)return(this.year()-H(c[o].since).year())*s+c[o].offset;return this.year()}function HM(o){return Po(this,"_erasNameRegex")||T1.call(this),o?this._erasNameRegex:this._erasRegex}function zM(o){return Po(this,"_erasAbbrRegex")||T1.call(this),o?this._erasAbbrRegex:this._erasRegex}function WM(o){return Po(this,"_erasNarrowRegex")||T1.call(this),o?this._erasNarrowRegex:this._erasRegex}function S1(o,a){return a.erasAbbrRegex(o)}function KM(o,a){return a.erasNameRegex(o)}function GM(o,a){return a.erasNarrowRegex(o)}function QM(o,a){return a._eraYearOrdinalRegex||nd}function T1(){var o=[],a=[],s=[],t=[],c,m,_=this.eras();for(c=0,m=_.length;c<m;++c)a.push(un(_[c].name)),o.push(un(_[c].abbr)),s.push(un(_[c].narrow)),t.push(un(_[c].name)),t.push(un(_[c].abbr)),t.push(un(_[c].narrow));this._erasRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Zt(0,["gg",2],0,function(){return this.weekYear()%100});Zt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lp(o,a){Zt(0,[o,o.length],0,a)}lp("gggg","weekYear");lp("ggggg","weekYear");lp("GGGG","isoWeekYear");lp("GGGGG","isoWeekYear");Ma("weekYear","gg");Ma("isoWeekYear","GG");La("weekYear",1);La("isoWeekYear",1);Yt("G",tp);Yt("g",tp);Yt("GG",Ho,gn);Yt("gg",Ho,gn);Yt("GGGG",$1,k1);Yt("gggg",$1,k1);Yt("GGGGG",ep,Jh);Yt("ggggg",ep,Jh);Mm(["gggg","ggggg","GGGG","GGGGG"],function(o,a,s,t){a[t.substr(0,2)]=_o(o)});Mm(["gg","GG"],function(o,a,s,t){a[t]=H.parseTwoDigitYear(o)});function ZM(o){return m5.call(this,o,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function JM(o){return m5.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function XM(){return Ws(this.year(),1,4)}function e9(){return Ws(this.isoWeekYear(),1,4)}function t9(){var o=this.localeData()._week;return Ws(this.year(),o.dow,o.doy)}function o9(){var o=this.localeData()._week;return Ws(this.weekYear(),o.dow,o.doy)}function m5(o,a,s,t,c){var m;return o==null?_m(this,t,c).year:(m=Ws(o,t,c),a>m&&(a=m),a9.call(this,o,a,s,t,c))}function a9(o,a,s,t,c){var m=zw(o,a,s,t,c),_=um(m.year,0,m.dayOfYear);return this.year(_.getUTCFullYear()),this.month(_.getUTCMonth()),this.date(_.getUTCDate()),this}Zt("Q",0,"Qo","quarter");Ma("quarter","Q");La("quarter",7);Yt("Q",Mw);Mo("Q",function(o,a){a[Us]=(_o(o)-1)*3});function n9(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}Zt("D",["DD",2],"Do","date");Ma("date","D");La("date",9);Yt("D",Ho);Yt("DD",Ho,gn);Yt("Do",function(o,a){return o?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient});Mo(["D","DD"],ms);Mo("Do",function(o,a){a[ms]=_o(o.match(Ho)[0])});var f5=ad("Date",!0);Zt("DDD",["DDDD",3],"DDDo","dayOfYear");Ma("dayOfYear","DDD");La("dayOfYear",4);Yt("DDD",Xh);Yt("DDDD",Lw);Mo(["DDD","DDDD"],function(o,a,s){s._dayOfYear=_o(o)});function s9(o){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"d")}Zt("m",["mm",2],0,"minute");Ma("minute","m");La("minute",14);Yt("m",Ho);Yt("mm",Ho,gn);Mo(["m","mm"],Zn);var l9=ad("Minutes",!1);Zt("s",["ss",2],0,"second");Ma("second","s");La("second",15);Yt("s",Ho);Yt("ss",Ho,gn);Mo(["s","ss"],qs);var i9=ad("Seconds",!1);Zt("S",0,0,function(){return~~(this.millisecond()/100)});Zt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Zt(0,["SSS",3],0,"millisecond");Zt(0,["SSSS",4],0,function(){return this.millisecond()*10});Zt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Zt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Zt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Zt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Zt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ma("millisecond","ms");La("millisecond",16);Yt("S",Xh,Mw);Yt("SS",Xh,gn);Yt("SSS",Xh,Lw);var yl,h5;for(yl="SSSS";yl.length<=9;yl+="S")Yt(yl,nd);function r9(o,a){a[ti]=_o(("0."+o)*1e3)}for(yl="S";yl.length<=9;yl+="S")Mo(yl,r9);h5=ad("Milliseconds",!1);Zt("z",0,0,"zoneAbbr");Zt("zz",0,0,"zoneName");function d9(){return this._isUTC?"UTC":""}function c9(){return this._isUTC?"Coordinated Universal Time":""}var Pt=jm.prototype;Pt.add=oM;Pt.calendar=dM;Pt.clone=cM;Pt.diff=vM;Pt.endOf=PM;Pt.format=kM;Pt.from=$M;Pt.fromNow=wM;Pt.to=DM;Pt.toNow=CM;Pt.get=_j;Pt.invalidAt=MM;Pt.isAfter=uM;Pt.isBefore=_M;Pt.isBetween=mM;Pt.isSame=fM;Pt.isSameOrAfter=hM;Pt.isSameOrBefore=pM;Pt.isValid=jM;Pt.lang=r5;Pt.locale=i5;Pt.localeData=d5;Pt.max=jO;Pt.min=TO;Pt.parsingFlags=OM;Pt.set=mj;Pt.startOf=xM;Pt.subtract=aM;Pt.toArray=RM;Pt.toObject=SM;Pt.toDate=IM;Pt.toISOString=bM;Pt.inspect=yM;typeof Symbol<"u"&&Symbol.for!=null&&(Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Pt.toJSON=TM;Pt.toString=gM;Pt.unix=AM;Pt.valueOf=EM;Pt.creationData=LM;Pt.eraName=VM;Pt.eraNarrow=BM;Pt.eraAbbr=UM;Pt.eraYear=qM;Pt.year=Hw;Pt.isLeapYear=Sj;Pt.weekYear=ZM;Pt.isoWeekYear=JM;Pt.quarter=Pt.quarters=n9;Pt.month=Uw;Pt.daysInMonth=Aj;Pt.week=Pt.weeks=Nj;Pt.isoWeek=Pt.isoWeeks=Fj;Pt.weeksInYear=t9;Pt.weeksInWeekYear=o9;Pt.isoWeeksInYear=XM;Pt.isoWeeksInISOWeekYear=e9;Pt.date=f5;Pt.day=Pt.days=Jj;Pt.weekday=Xj;Pt.isoWeekday=eO;Pt.dayOfYear=s9;Pt.hour=Pt.hours=iO;Pt.minute=Pt.minutes=l9;Pt.second=Pt.seconds=i9;Pt.millisecond=Pt.milliseconds=h5;Pt.utcOffset=UO;Pt.utc=HO;Pt.local=zO;Pt.parseZone=WO;Pt.hasAlignedHourOffset=KO;Pt.isDST=GO;Pt.isLocal=ZO;Pt.isUtcOffset=JO;Pt.isUtc=a5;Pt.isUTC=a5;Pt.zoneAbbr=d9;Pt.zoneName=c9;Pt.dates=jn("dates accessor is deprecated. Use date instead.",f5);Pt.months=jn("months accessor is deprecated. Use month instead",Uw);Pt.years=jn("years accessor is deprecated. Use year instead",Hw);Pt.zone=jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",qO);Pt.isDSTShifted=jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",QO);function u9(o){return qo(o*1e3)}function _9(){return qo.apply(null,arguments).parseZone()}function p5(o){return o}var Eo=g1.prototype;Eo.calendar=JT;Eo.longDateFormat=oj;Eo.invalidDate=nj;Eo.ordinal=ij;Eo.preparse=p5;Eo.postformat=p5;Eo.relativeTime=dj;Eo.pastFuture=cj;Eo.set=QT;Eo.eras=NM;Eo.erasParse=FM;Eo.erasConvertYear=YM;Eo.erasAbbrRegex=zM;Eo.erasNameRegex=HM;Eo.erasNarrowRegex=WM;Eo.months=Cj;Eo.monthsShort=xj;Eo.monthsParse=Ej;Eo.monthsRegex=Rj;Eo.monthsShortRegex=Ij;Eo.week=jj;Eo.firstDayOfYear=Lj;Eo.firstDayOfWeek=Mj;Eo.weekdays=Wj;Eo.weekdaysMin=Gj;Eo.weekdaysShort=Kj;Eo.weekdaysParse=Zj;Eo.weekdaysRegex=tO;Eo.weekdaysShortRegex=oO;Eo.weekdaysMinRegex=aO;Eo.isPM=sO;Eo.meridiem=rO;function mh(o,a,s,t){var c=Js(),m=gs().set(t,a);return c[s](m,o)}function v5(o,a,s){if(Qs(o)&&(a=o,o=void 0),o=o||"",a!=null)return mh(o,a,s,"month");var t,c=[];for(t=0;t<12;t++)c[t]=mh(o,t,s,"month");return c}function j1(o,a,s,t){typeof o=="boolean"?(Qs(a)&&(s=a,a=void 0),a=a||""):(a=o,s=a,o=!1,Qs(a)&&(s=a,a=void 0),a=a||"");var c=Js(),m=o?c._week.dow:0,_,l=[];if(s!=null)return mh(a,(s+m)%7,t,"day");for(_=0;_<7;_++)l[_]=mh(a,(_+m)%7,t,"day");return l}function m9(o,a){return v5(o,a,"months")}function f9(o,a){return v5(o,a,"monthsShort")}function h9(o,a,s){return j1(o,a,s,"weekdays")}function p9(o,a,s){return j1(o,a,s,"weekdaysShort")}function v9(o,a,s){return j1(o,a,s,"weekdaysMin")}Pl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var a=o%10,s=_o(o%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return o+s}});H.lang=jn("moment.lang is deprecated. Use moment.locale instead.",Pl);H.langData=jn("moment.langData is deprecated. Use moment.localeData instead.",Js);var js=Math.abs;function g9(){var o=this._data;return this._milliseconds=js(this._milliseconds),this._days=js(this._days),this._months=js(this._months),o.milliseconds=js(o.milliseconds),o.seconds=js(o.seconds),o.minutes=js(o.minutes),o.hours=js(o.hours),o.months=js(o.months),o.years=js(o.years),this}function g5(o,a,s,t){var c=ns(a,s);return o._milliseconds+=t*c._milliseconds,o._days+=t*c._days,o._months+=t*c._months,o._bubble()}function b9(o,a){return g5(this,o,a,1)}function y9(o,a){return g5(this,o,a,-1)}function _0(o){return o<0?Math.floor(o):Math.ceil(o)}function k9(){var o=this._milliseconds,a=this._days,s=this._months,t=this._data,c,m,_,l,r;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=_0(sg(s)+a)*864e5,a=0,s=0),t.milliseconds=o%1e3,c=Pn(o/1e3),t.seconds=c%60,m=Pn(c/60),t.minutes=m%60,_=Pn(m/60),t.hours=_%24,a+=Pn(_/24),r=Pn(b5(a)),s+=r,a-=_0(sg(r)),l=Pn(s/12),s%=12,t.days=a,t.months=s,t.years=l,this}function b5(o){return o*4800/146097}function sg(o){return o*146097/4800}function $9(o){if(!this.isValid())return NaN;var a,s,t=this._milliseconds;if(o=On(o),o==="month"||o==="quarter"||o==="year")switch(a=this._days+t/864e5,s=this._months+b5(a),o){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(a=this._days+Math.round(sg(this._months)),o){case"week":return a/7+t/6048e5;case"day":return a+t/864e5;case"hour":return a*24+t/36e5;case"minute":return a*1440+t/6e4;case"second":return a*86400+t/1e3;case"millisecond":return Math.floor(a*864e5)+t;default:throw new Error("Unknown unit "+o)}}function w9(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+_o(this._months/12)*31536e6:NaN}function Xs(o){return function(){return this.as(o)}}var D9=Xs("ms"),C9=Xs("s"),x9=Xs("m"),P9=Xs("h"),E9=Xs("d"),A9=Xs("w"),I9=Xs("M"),R9=Xs("Q"),S9=Xs("y");function T9(){return ns(this)}function j9(o){return o=On(o),this.isValid()?this[o+"s"]():NaN}function vi(o){return function(){return this.isValid()?this._data[o]:NaN}}var O9=vi("milliseconds"),M9=vi("seconds"),L9=vi("minutes"),N9=vi("hours"),F9=vi("days"),Y9=vi("months"),V9=vi("years");function B9(){return Pn(this.days()/7)}var Ns=Math.round,Rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function U9(o,a,s,t,c){return c.relativeTime(a||1,!!s,o,t)}function q9(o,a,s,t){var c=ns(o).abs(),m=Ns(c.as("s")),_=Ns(c.as("m")),l=Ns(c.as("h")),r=Ns(c.as("d")),i=Ns(c.as("M")),d=Ns(c.as("w")),p=Ns(c.as("y")),v=m<=s.ss&&["s",m]||m<s.s&&["ss",m]||_<=1&&["m"]||_<s.m&&["mm",_]||l<=1&&["h"]||l<s.h&&["hh",l]||r<=1&&["d"]||r<s.d&&["dd",r];return s.w!=null&&(v=v||d<=1&&["w"]||d<s.w&&["ww",d]),v=v||i<=1&&["M"]||i<s.M&&["MM",i]||p<=1&&["y"]||["yy",p],v[2]=a,v[3]=+o>0,v[4]=t,U9.apply(null,v)}function H9(o){return o===void 0?Ns:typeof o=="function"?(Ns=o,!0):!1}function z9(o,a){return Rr[o]===void 0?!1:a===void 0?Rr[o]:(Rr[o]=a,o==="s"&&(Rr.ss=a-1),!0)}function W9(o,a){if(!this.isValid())return this.localeData().invalidDate();var s=!1,t=Rr,c,m;return typeof o=="object"&&(a=o,o=!1),typeof o=="boolean"&&(s=o),typeof a=="object"&&(t=Object.assign({},Rr,a),a.s!=null&&a.ss==null&&(t.ss=a.s-1)),c=this.localeData(),m=q9(this,!s,t,c),s&&(m=c.pastFuture(+this,m)),c.postformat(m)}var rv=Math.abs;function Yi(o){return(o>0)-(o<0)||+o}function ip(){if(!this.isValid())return this.localeData().invalidDate();var o=rv(this._milliseconds)/1e3,a=rv(this._days),s=rv(this._months),t,c,m,_,l=this.asSeconds(),r,i,d,p;return l?(t=Pn(o/60),c=Pn(t/60),o%=60,t%=60,m=Pn(s/12),s%=12,_=o?o.toFixed(3).replace(/\.?0+$/,""):"",r=l<0?"-":"",i=Yi(this._months)!==Yi(l)?"-":"",d=Yi(this._days)!==Yi(l)?"-":"",p=Yi(this._milliseconds)!==Yi(l)?"-":"",r+"P"+(m?i+m+"Y":"")+(s?i+s+"M":"")+(a?d+a+"D":"")+(c||t||o?"T":"")+(c?p+c+"H":"")+(t?p+t+"M":"")+(o?p+_+"S":"")):"P0D"}var wo=sp.prototype;wo.isValid=FO;wo.abs=g9;wo.add=b9;wo.subtract=y9;wo.as=$9;wo.asMilliseconds=D9;wo.asSeconds=C9;wo.asMinutes=x9;wo.asHours=P9;wo.asDays=E9;wo.asWeeks=A9;wo.asMonths=I9;wo.asQuarters=R9;wo.asYears=S9;wo.valueOf=w9;wo._bubble=k9;wo.clone=T9;wo.get=j9;wo.milliseconds=O9;wo.seconds=M9;wo.minutes=L9;wo.hours=N9;wo.days=F9;wo.weeks=B9;wo.months=Y9;wo.years=V9;wo.humanize=W9;wo.toISOString=ip;wo.toString=ip;wo.toJSON=ip;wo.locale=i5;wo.localeData=d5;wo.toIsoString=jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ip);wo.lang=r5;Zt("X",0,0,"unix");Zt("x",0,0,"valueOf");Yt("x",tp);Yt("X",hj);Mo("X",function(o,a,s){s._d=new Date(parseFloat(o)*1e3)});Mo("x",function(o,a,s){s._d=new Date(_o(o))});//! moment.js
H.version="2.29.4";KT(qo);H.fn=Pt;H.min=OO;H.max=MO;H.now=LO;H.utc=gs;H.unix=u9;H.months=m9;H.isDate=Tm;H.locale=Pl;H.invalid=Qh;H.duration=ns;H.isMoment=as;H.weekdays=h9;H.parseZone=_9;H.localeData=Js;H.isDuration=Sf;H.monthsShort=f9;H.weekdaysMin=v9;H.defineLocale=x1;H.updateLocale=_O;H.locales=mO;H.weekdaysShort=p9;H.normalizeUnits=On;H.relativeTimeRounding=H9;H.relativeTimeThreshold=z9;H.calendarFormat=rM;H.prototype=Pt;H.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const K9={props:["invoiceDetails"],setup(o,a){const s=lt(),t=o.invoiceDetails,c=h([]),m=h(!1),_=h(0);return{moment:H,invoice_details:t,selectFile:i=>{i.preventDefault(),c.value=i.target.files},uploadFile:async()=>{m.value=!0;const i=new FormData;i.append("id",o.invoiceDetails.id);let d=0;for(let p of c.value)i.append("files["+d+"]",p),d++;A.post("/invoice/attachment/upload",i).then(()=>{document.getElementById("close-upload-attachment-"+o.invoiceDetails.id).click(),s.success("Attachment added successfully"),_.value++}).catch(p=>{const v=Object.values(p.response.data)[0];s.error(v[0])}).finally(()=>{m.value=!1})},selected_file:c,uploading_file:m}}},G9=["id"],Q9={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Z9={class:"modal-content"},J9={class:"modal-header"},X9={class:"modal-title",id:"modalCenterTitle"},e7=["id"],t7={class:"modal-body"},o7={class:"table-responsive"},a7={class:"table"},n7={class:"bg-label-primary"},s7={key:0},l7={key:0},i7=["href"],r7={for:"Add Attachements",class:"form-label"},d7=["disabled"],c7={key:0},u7={class:"mt-2 mb-1"};function _7(o,a,s,t,c,m){return u(),f("div",{class:"modal fade",tabindex:"-2","aria-hidden":"true",id:"add-attachment-"+t.invoice_details.id},[e("div",Q9,[e("div",Z9,[e("div",J9,[e("h5",X9,n(o.$t("Attachments for Invoice"))+": "+n(t.invoice_details.invoice_number),1),e("button",{type:"button",class:"btn-close",id:"close-upload-attachment-"+t.invoice_details.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,e7)]),e("div",t7,[e("div",o7,[e("table",a7,[e("thead",n7,[e("tr",null,[e("th",null,n(o.$t("Attached On")),1),e("th",null,n(o.$t("Attached By")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("File Name")),1),e("th",null,n(o.$t("View")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.media,(_,l)=>(u(),f("tr",{key:l},[e("td",null,n(t.moment(_.created_at).format("DD MMM YYY")),1),e("td",null,[_.custom_properties&&_.custom_properties.user_name?(u(),f("span",s7,n(_.custom_properties.user_name),1)):b("",!0)]),e("td",null,[_.custom_properties&&_.custom_properties.user_type?(u(),f("span",l7,n(_.custom_properties.user_type==="App\\Models\\Company"?"Company User":"Bank User"),1)):b("",!0)]),e("td",null,n(_.name),1),e("td",null,[e("a",{target:"_blank",href:_.original_url},a[2]||(a[2]=[e("i",{class:"ti ti-eye text-xs"},null,-1)]),8,i7)])]))),128))])])]),e("form",{onSubmit:a[1]||(a[1]=st((..._)=>t.uploadFile&&t.uploadFile(..._),["prevent"])),class:"d-flex gap-2 mt-4"},[e("div",null,[e("label",r7,n(o.$t("Select Attachments")),1),e("input",{type:"file",accept:".pdf",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",multiple:"multiple",class:"form-control"},null,32)]),e("button",{style:{height:"fit-content"},class:"btn btn-primary",type:"submit",disabled:t.uploading_file},n(t.uploading_file?o.$t("Processing..."):o.$t("Submit")),9,d7)],32),t.selected_file.length>0?(u(),f("div",c7,[e("h6",u7,n(o.$t("Selected Files")),1),(u(!0),f(W,null,X(t.selected_file,_=>(u(),f("span",{class:"d-flex flex-column gap-",key:_},n(_.name),1))),128))])):b("",!0)])])])],8,G9)}const ss=Ue(K9,[["render",_7]]),m7={props:["invoiceDetails"],components:{UploadAttachment:ss},setup(o){const a=o.invoiceDetails;return{moment:H,invoice_details:a}}},f7=["id"],h7={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},p7={class:"modal-content"},v7={class:"modal-header"},g7={class:"modal-title",id:"modalCenterTitle"},b7={class:"d-flex gap-1"},y7=["data-bs-target"],k7=["href"],$7={class:"modal-body"},w7={class:"d-flex justify-content-between mb-4"},D7={class:"mb-3"},C7={class:"d-flex justify-content-between"},x7={class:"fw-light my-auto"},P7={class:"fw-bold mx-2 my-auto"},E7={class:"d-flex justify-content-between"},A7={class:"fw-light my-auto"},I7={class:"fw-bold mx-2 my-auto"},R7={class:"d-flex justify-content-between"},S7={class:"fw-light my-auto"},T7={class:"fw-bold mx-2 my-auto"},j7={class:"d-flex justify-content-between"},O7={class:"fw-light my-auto"},M7={class:"fw-bold mx-2 my-auto"},L7={class:"d-flex justify-content-between"},N7={class:"fw-light my-auto"},F7={class:"fw-bold mx-2 my-auto"},Y7={key:0,class:"d-flex justify-content-between"},V7={class:"fw-light my-auto"},B7={class:"fw-bold mx-2 my-auto"},U7={key:1,class:"d-flex justify-content-between"},q7={class:"fw-light my-auto"},H7={class:"fw-bold mx-2 my-auto"},z7={class:"mb-3"},W7={key:0,class:"d-flex justify-content-between"},K7={class:"my-auto fw-light"},G7=["data-bs-target"],Q7={class:"d-flex justify-content-between"},Z7={class:"my-auto fw-light"},J7={class:"fw-bold mx-2 my-auto"},X7={class:"d-flex justify-content-between"},eL={class:"my-auto fw-light"},tL={class:"fw-bold mx-2 my-auto"},oL={class:"d-flex justify-content-between"},aL={class:"my-auto fw-light"},nL={class:"fw-bold mx-2 my-auto"},sL={class:"d-flex justify-content-between"},lL={class:"my-auto fw-light"},iL={class:"fw-bold mx-2 my-auto"},rL={class:"d-flex justify-content-between"},dL={class:"my-auto fw-light"},cL={class:"fw-bold text-success mx-2 my-auto"},uL={class:"d-flex justify-content-between"},_L={class:"my-auto fw-light"},mL={class:"fw-bold mx-2 my-auto"},fL={class:"d-flex justify-content-between"},hL={class:"my-auto fw-light"},pL={class:"fw-bold mx-2 my-auto"},vL={class:"table-responsive"},gL={class:"table"},bL={class:"bg-label-primary"},yL={class:"px-2"},kL={class:"d-flex justify-content-end"},$L={class:"mx-2 my-auto"},wL={class:"text-success my-auto"},DL={key:0,class:"px-2"},CL={class:"mx-2 my-auto"},xL={class:"text-success my-auto"},PL={key:1,class:"px-2"},EL={class:"d-flex justify-content-end"},AL={class:"mx-2 my-auto"},IL={class:"bg-label-secondary px-2"},RL={class:"d-flex justify-content-end"},SL={class:"mx-2 my-auto py-1"},TL={class:"text-success my-auto py-1"};function jL(o,a,s,t,c,m){const _=de("upload-attachment");return u(),f(W,null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",h7,[e("div",p7,[e("div",v7,[e("h5",g7,n(o.$t("Invoice Details")),1),a[1]||(a[1]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",b7,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,y7)]),e("a",{href:"/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[0]||(a[0]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,k7)])]),e("div",$7,[e("div",w7,[e("div",D7,[e("span",C7,[e("h5",x7,n(o.$t("Anchor"))+":",1),e("h6",P7,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",E7,[e("h5",A7,n(o.$t("Delivery Address"))+":",1),e("h6",I7,n(t.invoice_details.delivery_address),1)]),e("span",R7,[e("h5",S7,n(o.$t("Debit From"))+":",1),e("h6",T7,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",j7,[e("h5",O7,n(o.$t("Vendor"))+":",1),e("h6",M7,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",L7,[e("h5",N7,n(o.$t("Remarks"))+":",1),e("h6",F7,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Y7,[e("h5",V7,n(o.$t("Credit To"))+":",1),e("h6",B7,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",U7,[e("h5",q7,n(o.$t("Rejection Reason"))+":",1),e("h6",H7,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",z7,[t.invoice_details.pi_number?(u(),f("span",W7,[e("h5",K7,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,G7)])):b("",!0),e("span",Q7,[e("h5",Z7,n(o.$t("Invoice No."))+":",1),e("h6",J7,n(t.invoice_details.invoice_number),1)]),e("span",X7,[e("h5",eL,n(o.$t("PO No."))+":",1),e("h6",tL,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",oL,[e("h5",aL,n(o.$t("Payment / OD Account No."))+":",1),e("h6",nL,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",sL,[e("h5",lL,n(o.$t("Invoice Date."))+":",1),e("h6",iL,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",rL,[e("h5",dL,n(o.$t("Amount"))+":",1),e("h6",cL,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",uL,[e("h5",_L,n(o.$t("Status."))+":",1),e("h6",mL,n(t.invoice_details.approval_stage),1)]),e("span",fL,[e("h5",hL,n(o.$t("Due Date"))+":",1),e("h6",pL,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",vL,[e("table",gL,[e("thead",bL,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.item),1),e("td",null,n(l.quantity),1),e("td",null,n(l.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(l.quantity*l.price_per_quantity)),1)]))),128))])])]),e("div",yL,[e("span",kL,[e("h6",$L,n(o.$t("Discount"))+":",1),e("h5",wL,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",DL,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",CL,n(l.name),1),e("h5",xL,n(new Intl.NumberFormat().format(l.value)),1)]))),128))])):(u(),f("div",PL,[e("span",EL,[e("h6",AL,n(o.$t("Tax")),1),a[2]||(a[2]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",IL,[e("span",RL,[e("h6",SL,n(o.$t("Total")),1),e("h5",TL,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,f7)):b("",!0),Be(_,{invoiceDetails:t.invoice_details},null,8,["invoiceDetails"])],64)}const Bt=Ue(m7,[["render",jL]]),OL={props:["invoiceDetails"],components:{UploadAttachment:ss},setup(o){lt();const a=o.invoiceDetails;return{moment:H,invoice_details:a,getTaxPercentage:(m,_)=>(_/m*100).toFixed(2),resolveStatus:m=>{let _="";switch(m){case"Overdue":_="bg-label-danger";break;case"Created":_="bg-label-secondary";break;case"Pending Approval":_="bg-label-warning";break;case"Pending Maker":_="bg-label-primary";break;case"Pending Checker":_="bg-label-danger";break;case"Submitted":_="bg-label-primary";break;case"Approved":_="bg-label-success";break;case"Disbursed":_="bg-label-success";break;case"Denied":_="bg-label-danger";break;case"Rejected":_="bg-label-danger";break;default:_="bg-label-primary";break}return _},resolveFinancingStatus:m=>{let _="";switch(m){case"pending":_="bg-label-primary";break;case"submitted":_="bg-label-warning";break;case"financed":_="bg-label-success";break;case"closed":_="bg-label-secondary";break;case"denied":_="bg-label-danger";break;default:_="bg-label-primary";break}return _}}}},ML=["id"],LL={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},NL={class:"modal-content"},FL={class:"modal-header"},YL={class:"modal-title",id:"modalCenterTitle"},VL={class:"d-flex gap-1"},BL=["data-bs-target"],UL=["href"],qL={class:"modal-body"},HL={class:"d-flex justify-content-between mb-4"},zL={class:"mb-3"},WL={class:"d-flex justify-content-between"},KL={class:"fw-light my-auto"},GL={class:"fw-bold mx-2 my-auto"},QL={class:"d-flex justify-content-between"},ZL={class:"fw-light my-auto"},JL={class:"fw-bold mx-2 my-auto"},XL={class:"d-flex justify-content-between"},eN={class:"fw-light my-auto"},tN={class:"fw-bold mx-2 my-auto"},oN={class:"d-flex justify-content-between"},aN={class:"fw-light my-auto"},nN={class:"fw-bold mx-2 my-auto"},sN={class:"d-flex justify-content-between"},lN={class:"fw-light my-auto"},iN={class:"fw-bold mx-2 my-auto"},rN={key:0,class:"d-flex justify-content-between"},dN={class:"fw-light my-auto"},cN={class:"fw-bold mx-2 my-auto"},uN={key:1,class:"d-flex justify-content-between"},_N={class:"fw-light my-auto"},mN={class:"fw-bold mx-2 my-auto"},fN={class:"mb-3"},hN={key:0,class:"d-flex justify-content-between"},pN={class:"my-auto fw-light"},vN=["data-bs-target"],gN={class:"d-flex justify-content-between"},bN={class:"my-auto fw-light"},yN={class:"fw-bold mx-2 my-auto"},kN={class:"d-flex justify-content-between"},$N={class:"my-auto fw-light"},wN={class:"fw-bold mx-2 my-auto"},DN={class:"d-flex justify-content-between"},CN={class:"my-auto fw-light"},xN={class:"fw-bold mx-2 my-auto"},PN={class:"d-flex justify-content-between"},EN={class:"my-auto fw-light"},AN={class:"fw-bold mx-2 my-auto"},IN={class:"d-flex justify-content-between"},RN={class:"my-auto fw-light"},SN={class:"fw-bold text-success mx-2 my-auto"},TN={class:"d-flex justify-content-between"},jN={class:"my-auto fw-light"},ON={class:"fw-bold mx-2 my-auto"},MN={class:"d-flex justify-content-between"},LN={class:"my-auto fw-light"},NN={class:"fw-bold mx-2 my-auto"},FN={class:"table-responsive"},YN={class:"table"},VN={class:"bg-label-primary"},BN={class:"px-2"},UN={class:"d-flex justify-content-end"},qN={class:"mx-2 my-auto"},HN={class:"text-success my-auto"},zN={key:0,class:"px-2"},WN={class:"mx-2 my-auto"},KN={class:"text-success my-auto"},GN={key:1,class:"px-2"},QN={class:"d-flex justify-content-end"},ZN={class:"mx-2 my-auto"},JN={key:2,class:"px-2"},XN={class:"mx-2 my-auto py-1"},eF={key:0,class:"text-success my-auto py-1"},tF={key:1,class:"text-success my-auto py-1"},oF={key:3,class:"px-2"},aF={class:"d-flex justify-content-end"},nF={class:"mx-2 my-auto py-1"},sF={class:"d-flex justify-content-end"},lF={class:"mx-2 my-auto py-1"},iF={class:"d-flex justify-content-end"},rF={class:"mx-2 my-auto py-1"},dF={class:"bg-label-secondary px-2"},cF={class:"d-flex justify-content-end"},uF={class:"mx-2 my-auto py-1"},_F={class:"text-success my-auto py-1"};function mF(o,a,s,t,c,m){const _=de("upload-attachment");return u(),f(W,null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"pi-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",LL,[e("div",NL,[e("div",FL,[e("h5",YL,n(o.$t("Invoice Details")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",VL,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[0]||(a[0]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,BL)]),e("a",{href:"/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[1]||(a[1]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,UL)])]),e("div",qL,[e("div",HL,[e("div",zL,[e("span",WL,[e("h5",KL,n(o.$t("Anchor"))+":",1),e("h6",GL,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",QL,[e("h5",ZL,n(o.$t("Delivery Address"))+":",1),e("h6",JL,n(t.invoice_details.delivery_address),1)]),e("span",XL,[e("h5",eN,n(o.$t("Debit From"))+":",1),e("h6",tN,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",oN,[e("h5",aN,n(o.$t("Vendor"))+":",1),e("h6",nN,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",sN,[e("h5",lN,n(o.$t("Remarks"))+":",1),e("h6",iN,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",rN,[e("h5",dN,n(o.$t("Credit To"))+":",1),e("h6",cN,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",uN,[e("h5",_N,n(o.$t("Rejection Reason"))+":",1),e("h6",mN,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",fN,[t.invoice_details.pi_number?(u(),f("span",hN,[e("h5",pN,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,vN)])):b("",!0),e("span",gN,[e("h5",bN,n(o.$t("PI No."))+":",1),e("h6",yN,n(t.invoice_details.pi_number),1)]),e("span",kN,[e("h5",$N,n(o.$t("PO No."))+":",1),e("h6",wN,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",DN,[e("h5",CN,n(o.$t("Payment / OD Account No."))+":",1),e("h6",xN,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",PN,[e("h5",EN,n(o.$t("Invoice Date."))+":",1),e("h6",AN,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",IN,[e("h5",RN,n(o.$t("Amount"))+":",1),e("h6",SN,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",TN,[e("h5",jN,n(o.$t("Status."))+":",1),e("h6",ON,n(t.invoice_details.approval_stage),1)]),e("span",MN,[e("h5",LN,n(o.$t("Due Date"))+":",1),e("h6",NN,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",FN,[e("table",YN,[e("thead",VN,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.item),1),e("td",null,n(l.quantity),1),e("td",null,n(l.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(l.quantity*l.price_per_quantity)),1)]))),128))])]),e("div",BN,[e("span",UN,[e("h6",qN,n(o.$t("Discount"))+":",1),e("h5",HN,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",zN,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",WN,n(l.name),1),e("h5",KN,n(new Intl.NumberFormat().format(l.value)),1)]))),128))])):(u(),f("div",GN,[e("span",QN,[e("h6",ZN,n(o.$t("Tax")),1),a[3]||(a[3]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",JN,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",XN,n(l.name),1),l.name!="Credit Note Amount"&&l.name!="Credit Note"&&l.name!="Credit Amount"?(u(),f("h5",eF," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,l.amount))+"%) "+n(new Intl.NumberFormat().format(l.amount.toFixed(2))),1)):(u(),f("h5",tF,n(l.amount),1))]))),128))])):(u(),f("div",oF,[e("span",aF,[e("h6",nF,n(o.$t("WHT Tax"))+":",1),a[4]||(a[4]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",sF,[e("h6",lF,n(o.$t("WHT VAT"))+":",1),a[5]||(a[5]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",iF,[e("h6",rF,n(o.$t("Credit Note Amount"))+":",1),a[6]||(a[6]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",dF,[e("span",cF,[e("h6",uF,n(o.$t("Total")),1),e("h5",_F,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,ML)):b("",!0),Be(_,{invoiceDetails:t.invoice_details},null,8,["invoiceDetails"])],64)}const qt=Ue(OL,[["render",mF]]),At="/build/assets/tube-spinner-CuIGYWHO.svg",fF={name:"FinanceRequests",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=h(""),c=h(""),m=h(""),_=h(50),l=h(""),r=h(""),i=h(0),d=async()=>{await A.get(o+"payment-instructions/data",{params:{vendor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(E=>{a.value=E.data.finance_requests}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=E=>{let k="";switch(E){case"pending":k="bg-label-primary";break;case"submitted":k="bg-label-secondary";break;case"financed":k="bg-label-success";break;case"denied":k="bg-label-danger";break;case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-danger";break;case"Overdue":k="bg-label-danger";break;case"Created":k="bg-label-secondary";break;case"Pending":k="bg-label-secondary";break;case"Approved":k="bg-label-success";break;case"Paid":k="bg-label-success";break;case"Failed":k="bg-label-danger";break;case"Rejected":k="bg-label-danger";break;case"Past Due":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},v=async(E,k)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+E+"/details").then(w=>{s.value=w.data,i.value++,bt(()=>{document.getElementById(k).click()})}).catch(w=>{console.log(w)})},g=(E,k)=>(k/E*100).toFixed(2),D=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",await A.get(o+"payment-instructions/data",{params:{per_page:_.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},y=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},C=async E=>{await A.get(E+"&per_page="+_.value,{params:{vendor:t.value,invoice:c.value,status:m.value}}).then(k=>{a.value=k.data.finance_requests})};return ot([_],async([E])=>{await A.get(o+"payment-instructions/data",{params:{per_page:E,vendor:t.value,invoice:c.value,status:m.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)})}),{moment:H,finance_requests:a,vendor_search:t,invoice_search:c,status_search:m,per_page:_,getTaxPercentage:g,invoice_details:s,resolveRequestStatus:p,changePage:C,clearSearch:D,filter:y,status:l,rejection_reason:r,showInvoice:v,resolvePaymentRequestStatus:E=>{let k="";switch(E){case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-warning";break;case"Created":k="bg-label-secondary";break;case"Pending":k="bg-label-secondary";break;case"Approved":k="bg-label-success";break;case"Paid":k="bg-label-success";break;case"Failed":k="bg-label-danger";break;case"Rejected":k="bg-label-danger";break;case"Past Due":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},invoice_details_key:i}}},hF={class:"card"},pF={class:"card-header d-flex justify-content-between"},vF={class:"d-flex flex-wrap gap-1"},gF={class:""},bF={for:"Vendor",class:"form-label"},yF={class:""},kF={for:"Invoice No",class:"form-label"},$F={class:""},wF={for:"Status",class:"form-label"},DF={value:""},CF={value:"pending"},xF={value:"submitted"},PF={value:"disbursed"},EF={value:"rejected"},AF={class:"table-search-btn"},IF={class:"table-clear-btn"},RF={class:"d-flex align-items-end mt-auto gap-1"},SF={class:"card-body"},TF={class:"table-responsive"},jF={class:"table"},OF={class:""},MF={class:"table-border-bottom-0"},LF={key:0},NF={colspan:"12",class:"text-center"},FF={class:"text-center"},YF={key:1},VF={colspan:"12",class:"text-center"},BF={class:"text-center"},UF=["onClick"],qF=["onClick"],HF={class:"text-success"},zF={class:"text-success"},WF=["id","data-bs-target"],KF=["id","data-bs-target"],GF={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},QF={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},ZF={class:"modal-content"},JF={class:"modal-body"},XF={class:"d-flex justify-content-center"};function eY(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",hF,[e("div",pF,[e("div",vF,[e("div",gF,[e("label",bF,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",yF,[e("label",kF,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_search]])]),e("div",$F,[e("label",wF,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",DF,n(o.$t("Status")),1),e("option",CF,n(o.$t("Pending")),1),e("option",xF,n(o.$t("Submitted")),1),e("option",PF,n(o.$t("Disbursed")),1),e("option",EF,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",AF,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",IF,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",RF,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),e("div",SF,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",TF,[e("table",jF,[e("thead",null,[e("tr",OF,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",MF,[t.finance_requests.data?b("",!0):(u(),f("tr",LF,[e("td",NF,[e("span",FF,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",YF,[e("td",VF,[e("span",BF,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[e("span",null,n(i.company),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-pi-btn-"+i.id),style:{cursor:"pointer"}},n(i.pi_number),9,UF),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,qF),e("td",null,[e("span",null,n(i.payment_request_date?t.moment(i.payment_request_date).format("DD MMM YYYY"):"-"),1)]),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",HF,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total)),1)]),e("td",zF,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,WF),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,KF),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",GF,[e("div",QF,[e("div",ZF,[e("div",JF,[e("div",XF,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const tY=Ue(fF,[["render",eY]]),oY={name:"Notifications",setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=async()=>{await A.get(s+"notifications/view/data").then(l=>{t.value=l.data})},m=l=>{A.get(s+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(s+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:t,markAsRead:m,markAllAsRead:_}}},aY={class:"card p-1"},nY={class:"table-responsive"},sY={class:"table"},lY={class:""},iY={class:"table-border-bottom-0"},rY={key:0},dY={colspan:"12",class:"text-center"},cY={class:"text-center"},uY={key:1},_Y={colspan:"12",class:"text-center"},mY={class:"text-center"},fY={key:0},hY={key:1},pY=["onClick"];function vY(o,a,s,t,c,m){return u(),f("div",aY,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",nY,[e("table",sY,[e("thead",null,[e("tr",lY,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",iY,[t.logs?b("",!0):(u(),f("tr",rY,[e("td",dY,[e("span",cY,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",uY,[e("td",_Y,[e("span",mY,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",fY,n("Invoice Creation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",hY,n("Invoice Updated: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,pY)])]))),128))])])])])}const gY=Ue(oY,[["render",vY]]),bY={name:"Notifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"factoring/notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"factoring/notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"factoring/notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},yY={class:"card p-2"},kY={class:"table-responsive"},$Y={class:"table"},wY={class:""},DY={class:"table-border-bottom-0"},CY={key:0},xY={colspan:"12",class:"text-center"},PY={class:"text-center"},EY={key:1},AY={colspan:"12",class:"text-center"},IY={class:"text-center"},RY={key:0},SY={key:1},TY=["onClick"];function jY(o,a,s,t,c,m){return u(),f("div",yY,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",kY,[e("table",$Y,[e("thead",null,[e("tr",wY,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",DY,[t.logs?b("",!0):(u(),f("tr",CY,[e("td",xY,[e("span",PY,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",EY,[e("td",AY,[e("span",IY,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",RY,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",SY,n("Invoice: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,TY)])]))),128))])])])])}const OY=Ue(bY,[["render",jY]]),MY={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(null),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),D=h([]),y=h([]),C=h(0),x=h(0),E=h(0),k=h(50),w=h(""),T=h(""),V=h(""),B=h(""),O=h([]),L=h([]),R=h(""),P=h([]),I=h(""),S=h(""),F=h([]),N=h(!1),U=h(!0),Z=async(ke,ee)=>{await A.get(t+"purchase-orders/"+ke+"/show").then(Ce=>{i.value=Ce.data,bt(()=>{document.getElementById(ee).click()})}).catch(Ce=>{console.log(Ce)})},ce=ke=>{document.getElementById("pending-edit-fees-"+ke.id).classList.remove("d-none"),document.getElementById("pending-view-fees-"+ke.id).classList.add("d-none")},ae=async()=>{await A.get(t+"invoices/pending/data",{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,status:O.value,financing_status:L.value}}).then(ke=>{c.value=ke.data.invoices,g.value=ke.data.taxes,D.value=ke.data.users}).catch(ke=>{console.log(ke.message)})},J=async(ke,ee)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+ke+"/details").then(Ce=>{l.value=Ce.data,C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(ee).click()})}).catch(Ce=>{console.log(Ce)})},z=(ke,ee,Ce)=>(Ce/ee*100).toFixed(2),ne=ke=>{let ee="";switch(ke){case"Overdue":ee="bg-label-danger";break;case"Created":ee="bg-label-secondary";break;case"Pending Approval":ee="bg-label-warning";break;case"Pending Maker":ee="bg-label-primary";break;case"Pending Checker":ee="bg-label-danger";break;case"Submitted":ee="bg-label-primary";break;case"Approved":ee="bg-label-success";break;case"Disbursed":ee="bg-label-success";break;case"Denied":ee="bg-label-danger";break;case"Rejected":ee="bg-label-danger";break;default:ee="bg-label-primary";break}return ee},xe=ke=>{let ee="";switch(ke){case"pending":ee="bg-label-primary";break;case"financed":ee="bg-label-success";break;case"closed":ee="bg-label-secondary";break;case"denied":ee="bg-label-danger";break;default:ee="bg-label-primary";break}return ee},Fe=()=>{let ke=0,ee=0,Ce=Object.keys(y.value);Object.values(y.value).forEach((Ie,oe)=>{Ce[oe]=="Credit Note Amount"&&Ie>0&&(ee=Ie),Ce[oe]!="Credit Note Amount"&&(Ie>0?ke+=Ie:ke-=Ie)}),ke>0&&(x.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-ke/100*C.value.replaceAll(",",""))),ee>0&&(x.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-ee)),ee==0&&ke==0&&(x.value=new Intl.NumberFormat.format(C.value.replaceAll(",","")))},he=async ke=>{const ee=new FormData;for(const Ce in y.value)Ce=="Credit Note Amount"&&ee.append("taxes["+Ce+"]",y.value[Ce]),Ce!="Credit Note Amount"&&ee.append("taxes["+Ce+"]",y.value[Ce]/100*C.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}invoices/${ke.id}/approve`,ee).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("pending-edit-fees-close-btn-"+ke.id).click();for(const Ce in y.value)y.value=[]}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},ie=async ke=>{await A.get(`${t}invoices/${ke.id}/fees/approve`).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("pending-close-modal-"+ke.id).click();for(const ee in y.value)y.value[ee]=""}).catch(ee=>{if(console.log(ee),ee.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},$e=()=>{if(P.value=[],N.value=!0,document.getElementById("pending-select-all").checked?c.value.data.forEach(async ke=>{ke.status=="submitted"&&ke.user_can_approve&&!ke.user_has_approved&&(document.getElementById("pending-data-select-"+ke.id).checked=!0,P.value.push(ke.id))}):(c.value.data.forEach(ke=>{if(ke.status=="submitted"&&ke.user_can_approve&&!ke.user_has_approved){document.getElementById("pending-data-select-"+ke.id).checked=!1;let ee;if(!P.value.filter(function(Ne,Ie){ee=Ie,Ne==ke.id}))return!1;P.value.splice(ee,1)}}),N.value=!1),P.value.length>0){let ke={},ee={};const Ce=new FormData;Ce.append("invoices",P.value),A.post(t+"invoices/bulk/details",Ce).then(Ne=>{F.value=[],Ne.data.data.forEach(Ie=>{if(ee[Ie.id]=[],Ie.invoice_fees.length>0){let oe=0;ke={},Ie.invoice_fees.forEach(me=>{me.name!="Credit Note Amount"?oe=z(Ie.invoice_number,Ie.total+Ie.total_invoice_taxes-Ie.total_invoice_discount,me.amount):oe=me.amount,Object.keys(ke+"-"+Ie.id).filter(Ze=>Ze==me.name+"-"+Ie.id).length>0||(ke[me.name+"-"+Ie.id]=oe)})}else ke={},Object.keys(g.value).forEach(oe=>{ke[oe+"-"+Ie.id]=0});ee[Ie.id]=ke}),F.value.push(ee),N.value=!1})}},we=ke=>{if(P.value.includes(ke)){const ee=P.value.indexOf(ke);P.value.splice(ee,1)}else P.value.push(ke);if(P.value.length>0){let ee={},Ce={};const Ne=new FormData;Ne.append("invoices",P.value),A.post(t+"invoices/bulk/details",Ne).then(Ie=>{F.value=[],Ie.data.data.forEach(oe=>{if(Ce[oe.id]=[],oe.invoice_fees.length>0){let me=0;ee={},oe.invoice_fees.forEach(Le=>{Le.name!="Credit Note Amount"?me=z(oe.invoice_number,oe.total+oe.total_invoice_taxes-oe.total_invoice_discount,Le.amount):me=Le.amount,Object.keys(ee+"-"+oe.id).filter(at=>at==Le.name+"-"+oe.id).length>0||(ee[Le.name+"-"+oe.id]=me)})}else ee={},Object.keys(g.value).forEach(me=>{ee[me+"-"+oe.id]=0});Ce[oe.id]=ee}),F.value.push(Ce),N.value=!1})}},se=ke=>{if(P.value.length<=0){s.error("Select invoices");return}};ot(S,ke=>{(ke=="approve"||ke=="reject")&&(P.value.length>0?(ke=="reject"&&document.getElementById("pending-show-bulk-reject-modal").click(),ke=="approve"&&document.getElementById("pending-show-bulk-approval-modal").click(),S.value=""):s.error("Select Invoices"))});const ge=()=>{const ke=new FormData;P.value.forEach((ee,Ce)=>{ke.append("invoice["+Ce+"]",ee)}),ke.append("invoice_taxes",JSON.stringify(F.value)),ke.append("action",S.value),U.value=!1,A.post(t+"invoices/bulk/update/approve",ke).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("pending-close-modal").click(),document.getElementById("select-all").checked=!1;for(const ee in y.value)y.value[ee]="";P.value=[],F.value=[]}).catch(ee=>{if(console.log(ee),ee.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{S.value="",U.value=!0})},be=()=>{const ke=new FormData;ke.append("rejected_reason",I.value),P.value.forEach((ee,Ce)=>{ke.append("invoice["+Ce+"]",ee)}),ke.append("action",S.value),U.value=!1,A.post(t+"invoices/bulk/update/reject",ke).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),document.getElementById("select-all").checked=!1,I.value="",P.value=[],F.value=[]}).catch(ee=>{console.log(ee),s.error("An error occurred")}).finally(()=>{U.value=!0,S.value=""})},Me=ke=>{const ee=new FormData;ee.append("rejected_reason",I.value),ee.append("action",S.value),A.post(t+"invoices/"+ke+"/reject",ee).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+ke).click(),S.value="",I.value=""}).catch(Ce=>{console.log(Ce),s.error("An error occurred")})};return a.expose({getInvoices:ae}),Qe(()=>{$("#pending-invoice-status-select").on("change",function(){var ke=$("#pending-invoice-status-select").val();O.value=ke}),$("#pending-financing-status-select").on("change",function(){var ke=$("#pending-financing-status-select").val();L.value=ke})}),ot([k],async([ke])=>{A.get(t+"invoices/pending/data",{params:{per_page:ke,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,status:O.value,financing_status:L.value}}).then(ee=>{c.value=ee.data.invoices})}),{moment:H,per_page:k,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:D,invoice_taxes:y,invoice_subtotal:C,invoice_total:x,purchase_order_total:E,selected_invoices:P,selected_invoices_taxes:F,vendor_search:w,invoice_number_search:T,status_search:O,financing_status_search:L,from_date_search:V,to_date_search:B,bulk_action:S,invoice_fees_processing:N,rejected_reason:I,can_bulk_approve:U,purchase_order_details:i,invoice_details_key:r,showInvoice:J,calculatePayable:ke=>{let ee=$("#pending-invoice-amount-"+ke).text().replaceAll(",",""),Ce=$("#pending-withholding-tax-"+ke).val(),Ne=$("#pending-withholding-vat-"+ke).val(),Ie=$("#pending-credit-note-amount-"+ke).val(),oe=Ce/100*ee,me=Ne/100*ee,Le=ee-oe-me-Ie;$("#pending-invoice-total-payable-"+ke).text(new Intl.NumberFormat().format(Le))},filter:async()=>{R.value=$("#pending_date_search").val(),R.value&&(V.value=H(R.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(R.value.split(" - ")[1]).format("YYYY-MM-DD"));let ke=$(".ti-search").parent();ke.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/pending/data",{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,status:O.value,financing_status:L.value}}).then(ee=>{c.value=ee.data.invoices,g.value=ee.data.taxes,ke.html('<i class="ti ti-search"></i>')})},updateSelected:we,pendingSelectAll:$e,bulkAction:se,resolveStatus:ne,resolveFinancingStatus:xe,changePage:async ke=>{await A.get(ke,{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,status:O.value,financing_status:L.value}}).then(ee=>{c.value=ee.data.invoices}).catch(ee=>{console.log(ee)})},submitApproval:he,submitBulkApproval:ge,submitBulkRejection:be,updateInvoiceTotal:Fe,getTaxPercentage:z,showPurchaseOrder:Z,clearSearch:async()=>{let ke=$(".ti-refresh").parent();ke.html('<img src="../../../../../assets/img/spinner.svg" />'),w.value="",T.value="",V.value="",B.value="",O.value=[],L.value=[],R.value="",$("#date_search").val(""),await A.get(t+"invoices/pending/data",{params:{per_page:k.value}}).then(ee=>{c.value=ee.data.invoices,g.value=ee.data.taxes,ke.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,status:O.value,financing_status:L.value}}).then(ke=>{const ee=window.URL.createObjectURL(new Blob([ke.data])),Ce=document.createElement("a");Ce.href=ee,Ce.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Ce),Ce.click()}).catch(ke=>{console.log(ke)})},submitRejection:Me,download:ke=>{A.get(t+"invoices/"+ke.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(ee=>{const Ce=window.URL.createObjectURL(new Blob([ee.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Invoice_${ke.invoice_number}.pdf`),document.body.appendChild(Ne),Ne.click()}).catch(ee=>{console.log(ee)})},editFees:ce,approveFees:ie,userHasApproved:(ke,ee)=>{let Ce=!1;return ke.approvals.forEach(Ne=>{ee.id==Ne.user_id&&(Ce=!0)}),Ce},approvalDetails:(ke,ee)=>{let Ce=null;return Ce=ke.approvals.filter(Ne=>Ne.user_id==ee.id).length>0?ke.approvals.filter(Ne=>Ne.user_id==ee.id)[0]:null,Ce}}}},LY={class:""},NY={class:"d-flex justify-content-between"},FY={class:"d-flex flex-wrap gap-1"},YY={class:""},VY={for:"Vendor",class:"form-label"},BY={class:""},UY={for:"Invoice No",class:"form-label"},qY={class:""},HY={class:"form-label",for:""},zY={class:""},WY={for:"Status",class:"form-label"},KY={value:""},GY={value:"pending_maker"},QY={value:"pending_checker"},ZY={value:"approved"},JY={value:"rejected"},XY={value:"past_due"},eV={class:""},tV={for:"Bulk Actions",class:"form-label"},oV={value:""},aV={value:"approve"},nV={value:"reject"},sV={class:"table-search-btn"},lV={class:"table-clear-btn"},iV={class:"d-none",id:"pending-show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#pending-bulk-invoice-approval"},rV={class:"modal fade",id:"pending-bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},dV={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},cV={class:"modal-content"},uV={class:"modal-header"},_V={class:"modal-title",id:"modalCenterTitle"},mV={key:0,class:"text-center my-4"},fV={class:"modal-body"},hV={class:"table"},pV={key:0},vV={key:0},gV={key:1},bV=["id"],yV={key:2},kV={key:0},$V=["readonly","onUpdate:modelValue","id","onInput"],wV={key:3},DV={key:0},CV=["readonly","onUpdate:modelValue","id","onInput"],xV={key:4},PV={key:0},EV=["readonly","onUpdate:modelValue","id","onInput"],AV={key:5},IV={key:0},RV=["id"],SV={class:"modal-footer"},TV=["disabled"],jV={class:"d-none",id:"pending-show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#pending-bulk-invoice-reject"},OV={class:"modal fade",id:"pending-bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},MV={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},LV={class:"modal-content"},NV={class:"modal-header"},FV={class:"modal-title",id:"modalCenterTitle"},YV={class:"modal-body"},VV={for:"reason",class:"form-label"},BV={class:"modal-footer"},UV=["disabled"],qV={class:"d-flex justify-content-end gap-1 mt-auto"},HV={class:"table-responsive p-1"},zV={class:"table dt-invoices"},WV={class:"px-1"},KV={class:"form-check"},GV={key:0},QV={colspan:"12",class:"text-center"},ZV={class:"text-center"},JV={key:1},XV={colspan:"12",class:"text-center"},eB={class:"text-center"},tB={class:"px-1"},oB={key:0,class:"form-check"},aB=["id","onChange"],nB={key:0,class:"text-primary text-decoration-underline"},sB=["onClick"],lB={key:1,class:"text-primary"},iB=["onClick"],rB={href:"javascript:;"},dB={class:"text-success"},cB={class:""},uB={class:""},_B={class:""},mB={class:"d-inline-block"},fB=["id","data-bs-target"],hB=["id","data-bs-target"],pB=["id","data-bs-target"],vB=["id","data-bs-target"],gB=["id","data-bs-target"],bB=["id","data-bs-target"],yB=["id","data-bs-target"],kB=["id","data-bs-target"],$B={class:"modal fade",id:"pending-loading-modal",tabindex:"-1","aria-hidden":"true"},wB={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},DB={class:"modal-content"},CB={class:"modal-body"},xB={class:"d-flex justify-content-center"},PB={class:"dropdown-menu dropdown-menu-end"},EB=["onClick"],AB={key:0},IB=["href"],RB=["onClick"],SB={class:"dropdown-item badge bg-label-success"},TB={key:2},jB=["onClick"],OB=["onClick"],MB={class:"dropdown-item badge bg-label-info"},LB=["onClick"],NB={class:"dropdown-item badge bg-label-warning"},FB=["id"],YB={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},VB={class:"modal-content"},BB={class:"modal-header"},UB={class:"modal-title",id:"modalCenterTitle"},qB=["id"],HB=["onSubmit"],zB={class:"modal-body"},WB={for:"reason",class:"form-label"},KB={class:"modal-footer"},GB={class:"btn btn-danger",type:"submit"},QB=["id"],ZB={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},JB={class:"modal-content"},XB={class:"modal-header"},eU={class:"modal-title",id:"modalCenterTitle"},tU={class:"d-flex"},oU=["href"],aU=["href"],nU={class:"modal-body"},sU={class:"d-flex justify-content-between"},lU={class:"mb-3 w-50"},iU={class:"d-flex justify-content-between"},rU={class:"fw-light my-auto"},dU={class:"fw-bold mx-2 my-auto"},cU={class:"d-flex justify-content-between"},uU={class:"fw-light my-auto"},_U={class:"fw-bold mx-2 my-auto"},mU={class:"d-flex justify-content-between"},fU={class:"fw-light my-auto"},hU={class:"fw-bold mx-2 my-auto"},pU={class:"d-flex justify-content-between"},vU={class:"fw-light my-auto"},gU={key:0,class:"d-flex justify-content-between"},bU={class:"fw-light my-auto"},yU={class:"fw-bold mx-2 my-auto"},kU={class:"mb-3"},$U={class:"d-flex justify-content-between"},wU={class:"my-auto fw-light"},DU={class:"fw-bold mx-2 my-auto"},CU={class:"d-flex justify-content-between"},xU={class:"my-auto fw-light"},PU={class:"fw-bold mx-2 my-auto"},EU={class:"d-flex justify-content-between"},AU={class:"my-auto fw-light"},IU={class:"fw-bold mx-2 my-auto"},RU={class:"d-flex justify-content-between"},SU={class:"my-auto fw-light"},TU={class:"fw-bold text-success mx-2 my-auto"},jU={class:"table-responsive"},OU={class:"table"},MU={class:"bg-label-secondary px-2"},LU={class:"d-flex justify-content-end"},NU={class:"mx-2 my-auto py-1"},FU={class:"text-success my-auto py-1"},YU=["id"],VU={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},BU={class:"modal-content"},UU={class:"modal-header"},qU={class:"modal-title",id:"modalCenterTitle"},HU=["id"],zU=["id"],WU={class:"modal-body"},KU={key:0},GU={class:"d-flex justify-content-between"},QU=["id","data-bs-target"],ZU={class:"form-group"},JU={for:"Sub total",class:"form-label"},XU={class:"form-label"},eq=["value"],tq=["value"],oq={class:"form-group"},aq={for:"Sub total",class:"form-label"},nq=["value"],sq={key:1},lq={class:"d-flex justify-content-between"},iq=["id","data-bs-target"],rq={class:"modal-footer"},dq={class:"btn btn-primary",type:"submit"},cq=["id"],uq={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_q={class:"modal-content"},mq={class:"modal-header"},fq={class:"modal-title"},hq=["id"],pq=["id"],vq={class:"modal-body"},gq={class:"form-group"},bq={for:"Sub total",class:"form-label"},yq={key:0},kq={for:""},$q=["onUpdate:modelValue"],wq={key:1},Dq={for:""},Cq=["onUpdate:modelValue"],xq={class:"form-group"},Pq={for:"Sub total",class:"form-label"},Eq={key:0,class:"mt-2"},Aq={class:"text-sm"},Iq={class:"mx-2 my-auto py-1"},Rq={key:0,class:"text-success my-auto py-1"},Sq={key:1,class:"text-success my-auto py-1"},Tq={class:"modal-footer"},jq={class:"btn btn-primary",type:"submit"},Oq=["id"],Mq={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Lq={class:"modal-content"},Nq={class:"modal-header"},Fq={class:"modal-title",id:"modalCenterTitle"},Yq={class:"modal-body"},Vq={class:"table"},Bq={class:""},Uq=["id"],qq={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Hq={class:"modal-content"},zq={class:"modal-header"},Wq={class:"modal-title",id:"modalCenterTitle"},Kq={class:"modal-body"},Gq={key:0,class:"d-flex"},Qq={class:"text-success",style:{"font-weight":"800"}},Zq={class:"text-danger",style:{"font-weight":"800"}},Jq={key:0,class:"d-flex"},Xq={class:"text-success",style:{"font-weight":"800"}},eH={key:1,class:""};function tH(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",LY,[e("div",NY,[e("div",FY,[e("div",YY,[e("label",VY,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",BY,[e("label",UY,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",qY,[e("label",HY,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[22]||(a[22]=e("input",{type:"text",id:"pending_date_search",class:"form-control form-search",name:"pending_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",zY,[e("label",WY,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"pending-invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",KY,n(o.$t("Status")),1),e("option",GY,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",QY,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",ZY,n(o.$t("Approved")),1),e("option",JY,n(o.$t("Rejected")),1),e("option",XY,n(o.$t("Overdue")),1)],512),[[re,t.status_search]])]),e("div",eV,[e("label",tV,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.bulk_action=i)},[e("option",oV,n(o.$t("Bulk Actions")),1),e("option",aV,n(o.$t("Approve")),1),e("option",nV,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",sV,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[23]||(a[23]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",lV,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",iV,n(o.$t("Approve")),1),e("div",rV,[e("div",dV,[e("div",cV,[e("div",uV,[e("h5",_V,n(o.$t("Confirm Approval")),1),a[25]||(a[25]=e("button",{type:"button",id:"pending-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",mV,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[8]||(a[8]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",fV,[e("table",hV,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",pV,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",vV,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",gV,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,bV)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",yV,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",kV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,$V),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",wV,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",DV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,CV),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",xV,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",PV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,EV),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",AV,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",IV,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,RV)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",SV,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,TV)])],32)):b("",!0)])])]),e("button",jV,n(o.$t("Reject")),1),e("div",OV,[e("div",MV,[e("div",LV,[e("div",NV,[e("h5",FV,n(o.$t("Confirm Rejection")),1),a[26]||(a[26]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[10]||(a[10]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",YV,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",VV,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[9]||(a[9]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",BV,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,UV)])],32)])])])]),e("div",qV,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[27]||(a[27]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},[a[28]||(a[28]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",HV,[e("table",zV,[e("thead",null,[e("tr",null,[e("th",WV,[e("div",KV,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"pending-select-all",onChange:a[13]||(a[13]=i=>t.pendingSelectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Actions")),1),a[29]||(a[29]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",GV,[e("td",QV,[e("span",ZV,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",JV,[e("td",XV,[e("span",eB,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",tB,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",oB,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"pending-data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,aB)])):b("",!0)]),e("td",null,n(i.company),1),i.purchase_order_number?(u(),f("td",nB,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,sB)])):(u(),f("td",lB,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",rB,n(i.invoice_number),1)],8,iB),e("td",dB,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",cB,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",uB,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",_B,[e("div",mB,[a[31]||(a[31]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,fB),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,hB),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,pB),e("button",{class:"d-none",id:"pending-show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},null,8,vB),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,gB),e("button",{class:"d-none",id:"pending-show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pending-invoice-approval-"+i.id},null,8,bB),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,yB),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,kB),a[32]||(a[32]=e("button",{class:"d-none",id:"pending-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal"},null,-1)),e("div",$B,[e("div",wB,[e("div",DB,[e("div",CB,[e("div",xB,[e("span",null,n(o.$t("Loading"))+"...",1),a[30]||(a[30]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",PB,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-2",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,EB)]),i.can_edit?(u(),f("li",AB,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,IB)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"pending-show-edit-fees-"+i.id)},[e("span",SB,n(o.$t("Approve")),1)],8,RB)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",TB,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,jB)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",MB,n(o.$t("Checker Approvals")),1)],8,OB),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:"mb-2"},[e("span",NB,n(o.$t("Authorization Matrix")),1)],8,LB)):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",YB,[e("div",VB,[e("div",BB,[e("h5",UB,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,qB)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",zB,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",WB,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",KB,[e("button",GB,n(o.$t("Confirm")),1)])],40,HB)])])],8,FB),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",ZB,[e("div",JB,[e("div",XB,[e("h5",eU,n(o.$t("Purchase Order")),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",tU,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[33]||(a[33]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,oU)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[34]||(a[34]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,aU)):b("",!0)])]),e("div",nU,[e("div",sU,[e("div",lU,[e("span",iU,[e("h5",rU,n(o.$t("Vendor"))+":",1),e("h6",dU,n(t.purchase_order_details.company.name),1)]),e("span",cU,[e("h5",uU,n(o.$t("Delivery Address"))+":",1),e("h6",_U,n(t.purchase_order_details.delivery_address),1)]),e("span",mU,[e("h5",fU,n(o.$t("Remarks"))+":",1),e("h6",hU,n(t.purchase_order_details.remarks),1)]),e("span",pU,[e("h5",vU,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",gU,[e("h5",bU,n(o.$t("Rejection Reason"))+":",1),e("h6",yU,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",kU,[e("span",$U,[e("h5",wU,n(o.$t("PO No"))+":",1),e("h6",DU,n(t.purchase_order_details.purchase_order_number),1)]),e("span",CU,[e("h5",xU,n(o.$t("Start Date"))+":",1),e("h6",PU,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",EU,[e("h5",AU,n(o.$t("End Date"))+":",1),e("h6",IU,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",RU,[e("h5",SU,n(o.$t("PO Amount"))+":",1),e("h6",TU,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",jU,[e("table",OU,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",MU,[e("span",LU,[e("h6",NU,n(o.$t("Total")),1),e("h5",FU,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,QB)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"pending-invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",VU,[e("div",BU,[e("div",UU,[e("h5",qU,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"pending-close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,HU)]),e("form",{onSubmit:a[16]||(a[16]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"pending-view-fees-"+t.invoice_details.id},[e("div",WU,[t.invoice_details.invoice_fees.length>0?(u(),f("div",KU,[e("div",GU,[a[36]||(a[36]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"pending-edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},n(o.$t("Edit Fees")),9,QU)]),e("div",ZU,[e("label",JU,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[15]||(a[15]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",XU,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,eq)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,tq))]))),128)),e("div",oq,[e("label",aq,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,nq)])])):(u(),f("div",sq,[e("div",lq,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"pending-edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},n(o.$t("Click to add fees")),9,iq)])]))]),e("div",rq,[e("button",dq,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],40,zU)])])],8,YU)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"pending-edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",uq,[e("div",_q,[e("div",mq,[e("h5",fq,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"pending-edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,hq)]),e("form",{onSubmit:a[21]||(a[21]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",vq,[e("div",gq,[e("label",bq,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",yq,[e("label",kq,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[18]||(a[18]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,$q),[[Q,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",wq,[e("label",Dq,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,Cq),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",xq,[e("label",Pq,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",Eq,[e("h5",Aq,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",Iq,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",Rq," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",Sq,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",Tq,[e("button",jq,n(o.$t("Submit")),1)])],40,pq)])])],8,cq)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Mq,[e("div",Lq,[e("div",Nq,[e("h5",Fq,n(o.$t("Checker Approval(s)")),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Yq,[e("table",Vq,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(W,{key:0},[e("td",Bq,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,Oq)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",qq,[e("div",Hq,[e("div",zq,[e("h5",Wq,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Kq,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Gq,[e("span",Qq,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[39]||(a[39]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",Zq,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Jq,[e("span",Xq,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",eH,n(d.user.name),1))]))),128))])])])],8,Uq)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oH=Ue(MY,[["render",tH]]),aH={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),D=h([]),y=h([]),C=h(0),x=h(0),E=h(0),k=h(50),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h(""),R=h([]),P=h([]),I=h(""),S=h(""),F=h(""),N=h([]),U=h(""),Z=h(""),ce=h([]),ae=h(!1),J=h(!0),z=Ie=>{document.getElementById("edit-fees-"+Ie.id).classList.remove("d-none"),document.getElementById("view-fees-"+Ie.id).classList.add("d-none")},ne=async()=>{await A.get(t+"invoices/data",{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(Ie=>{c.value=Ie.data.invoices,g.value=Ie.data.taxes,D.value=Ie.data.users}).catch(Ie=>{console.log(Ie.message)})},xe=async(Ie,oe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+Ie+"/details").then(me=>{r.value++,l.value=me.data,C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),bt(()=>{document.getElementById(oe).click()})}).catch(me=>{console.log(me)})},Fe=async(Ie,oe)=>{await A.get(t+"purchase-orders/"+Ie+"/show").then(me=>{i.value=me.data,bt(()=>{document.getElementById(oe).click()})}).catch(me=>{console.log(me)})},he=(Ie,oe,me)=>(me/oe*100).toFixed(2),ie=Ie=>{let oe="";switch(Ie){case"Overdue":oe="bg-label-danger";break;case"Created":oe="bg-label-secondary";break;case"Pending Approval":oe="bg-label-warning";break;case"Pending Maker":oe="bg-label-primary";break;case"Pending Checker":oe="bg-label-danger";break;case"Submitted":oe="bg-label-primary";break;case"Approved":oe="bg-label-success";break;case"Disbursed":oe="bg-label-success";break;case"Denied":oe="bg-label-danger";break;case"Rejected":oe="bg-label-danger";break;default:oe="bg-label-primary";break}return oe},$e=Ie=>{let oe="";switch(Ie){case"pending":oe="bg-label-primary";break;case"submitted":oe="bg-label-warning";break;case"financed":oe="bg-label-success";break;case"closed":oe="bg-label-secondary";break;case"denied":oe="bg-label-danger";break;default:oe="bg-label-primary";break}return oe},we=()=>{let Ie=0,oe=0,me=Object.keys(y.value);Object.values(y.value).forEach((Ze,at)=>{me[at]=="Credit Note Amount"&&Ze>0&&(oe=Ze),me[at]!="Credit Note Amount"&&(Ze>0?Ie+=Ze:Ie-=Ze)}),Ie>0&&(x.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-Ie/100*C.value.replaceAll(",",""))),oe>0&&(x.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-oe)),oe==0&&Ie==0&&(x.value=new Intl.NumberFormat.format(C.value.replaceAll(",","")))},se=async Ie=>{const oe=new FormData;for(const me in y.value)me=="Credit Note Amount"&&oe.append("taxes["+me+"]",y.value[me]),me!="Credit Note Amount"&&oe.append("taxes["+me+"]",y.value[me]/100*C.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}invoices/${Ie.id}/approve`,oe).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+Ie.id).click();for(const me in y.value)y.value=[]}).catch(me=>{if(console.log(me),me.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},ge=async Ie=>{await A.get(`${t}invoices/${Ie.id}/fees/approve`).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+Ie.id).click();for(const oe in y.value)y.value[oe]=""}).catch(oe=>{if(console.log(oe),oe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=()=>{if(N.value=[],ae.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async Ie=>{Ie.status=="submitted"&&Ie.user_can_approve&&!Ie.user_has_approved&&(document.getElementById("data-select-"+Ie.id).checked=!0,N.value.push(Ie.id))}):(c.value.data.forEach(Ie=>{if(Ie.status=="submitted"&&Ie.user_can_approve&&!Ie.user_has_approved){document.getElementById("data-select-"+Ie.id).checked=!1;let oe;if(!N.value.filter(function(Le,Ze){oe=Ze,Le==Ie.id}))return!1;N.value.splice(oe,1)}}),ae.value=!1),N.value.length>0){let Ie={},oe={};const me=new FormData;me.append("invoices",N.value),A.post(t+"invoices/bulk/details",me).then(Le=>{ce.value=[],Le.data.data.forEach(Ze=>{if(oe[Ze.id]=[],Ze.invoice_fees.length>0){let at=0;Ie={},Ze.invoice_fees.forEach(mt=>{mt.name!="Credit Note Amount"?at=he(Ze.invoice_number,Ze.total+Ze.total_invoice_taxes-Ze.total_invoice_discount,mt.amount):at=mt.amount,Object.keys(Ie+"-"+Ze.id).filter(Ot=>Ot==mt.name+"-"+Ze.id).length>0||(Ie[mt.name+"-"+Ze.id]=at)})}else Ie={},Object.keys(g.value).forEach(at=>{Ie[at+"-"+Ze.id]=0});oe[Ze.id]=Ie}),ce.value.push(oe),ae.value=!1})}},Me=Ie=>{if(N.value.includes(Ie)){const oe=N.value.indexOf(Ie);N.value.splice(oe,1)}else N.value.push(Ie);if(N.value.length>0){let oe={},me={};const Le=new FormData;Le.append("invoices",N.value),A.post(t+"invoices/bulk/details",Le).then(Ze=>{ce.value=[],Ze.data.data.forEach(at=>{if(me[at.id]=[],at.invoice_fees.length>0){let mt=0;oe={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(oe+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(oe[wt.name+"-"+at.id]=mt)})}else oe={},Object.keys(g.value).forEach(mt=>{oe[mt+"-"+at.id]=0});me[at.id]=oe}),ce.value.push(me),ae.value=!1})}},ue=Ie=>{if(N.value.length<=0){s.error("Select invoices");return}};ot(Z,Ie=>{(Ie=="approve"||Ie=="reject")&&(N.value.length>0?(Ie=="reject"&&document.getElementById("show-bulk-reject-modal").click(),Ie=="approve"&&document.getElementById("show-bulk-approval-modal").click(),Z.value=""):s.error("Select Invoices"))});const Oe=()=>{const Ie=new FormData;N.value.forEach((oe,me)=>{Ie.append("invoice["+me+"]",oe)}),Ie.append("invoice_taxes",JSON.stringify(ce.value)),Ie.append("action",Z.value),J.value=!1,A.post(t+"invoices/bulk/update/approve",Ie).then(oe=>{ne(),s.success(oe.data.message),document.getElementById("fees-close-modal").click(),document.getElementById("select-all").checked=!1;for(const me in y.value)y.value[me]="";N.value=[],ce.value=[]}).catch(oe=>{if(console.log(oe),oe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{Z.value="",J.value=!0})},ze=()=>{const Ie=new FormData;Ie.append("rejected_reason",U.value),N.value.forEach((oe,me)=>{Ie.append("invoice["+me+"]",oe)}),Ie.append("action",Z.value),J.value=!1,A.post(t+"invoices/bulk/update/reject",Ie).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",N.value=[],ce.value=[],document.getElementById("select-all").checked=!1}).catch(oe=>{console.log(oe),s.error("An error occurred")}).finally(()=>{J.value=!0,Z.value=""})},Ye=Ie=>{const oe=new FormData;oe.append("rejected_reason",U.value),oe.append("action",Z.value),A.post(t+"invoices/"+Ie+"/reject",oe).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+Ie).click(),Z.value="",U.value=""}).catch(me=>{console.log(me),s.error("An error occurred")})};return a.expose({getInvoices:ne}),Qe(()=>{$("#invoice-status-select").on("change",function(){var Ie=$("#invoice-status-select").val();R.value=Ie}),$("#financing-status-select").on("change",function(){var Ie=$("#financing-status-select").val();P.value=Ie})}),ot([k],async([Ie])=>{A.get(t+"invoices/data",{params:{per_page:Ie,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{c.value=oe.data.invoices})}),{moment:H,per_page:k,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:D,invoice_taxes:y,invoice_subtotal:C,invoice_total:x,purchase_order_total:E,purchase_order_details:i,selected_invoices:N,selected_invoices_taxes:ce,vendor_search:w,invoice_number_search:T,status_search:R,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:O,to_invoice_date_search:L,sort_by:F,bulk_action:Z,invoice_fees_processing:ae,rejected_reason:U,can_bulk_approve:J,invoice_details_key:r,showInvoice:xe,calculatePayable:Ie=>{let oe=$("#invoice-amount-"+Ie).text().replaceAll(",",""),me=$("#withholding-tax-"+Ie).val(),Le=$("#withholding-vat-"+Ie).val(),Ze=$("#credit-note-amount-"+Ie).val(),at=me/100*oe,mt=Le/100*oe,wt=oe-at-mt-Ze;$("#invoice-total-payable-"+Ie).text(new Intl.NumberFormat().format(wt))},filter:async()=>{I.value=$("#date_search").val(),S.value=$("#invoice_date_search").val(),I.value&&(V.value=H(I.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(I.value.split(" - ")[1]).format("YYYY-MM-DD")),S.value&&(O.value=H(S.value.split(" - ")[0]).format("YYYY-MM-DD"),L.value=H(S.value.split(" - ")[1]).format("YYYY-MM-DD"));let Ie=$(".ti-search").parent();Ie.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/data",{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{c.value=oe.data.invoices,g.value=oe.data.taxes,Ie.html('<i class="ti ti-search"></i>')})},updateSelected:Me,selectAll:be,bulkAction:ue,resolveStatus:ie,resolveFinancingStatus:$e,changePage:async Ie=>{await A.get(Ie,{params:{per_page:k.value,vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{c.value=oe.data.invoices}).catch(oe=>{console.log(oe)})},submitApproval:se,submitBulkApproval:Oe,submitBulkRejection:ze,updateInvoiceTotal:we,getTaxPercentage:he,clearSearch:async()=>{let Ie=$(".ti-refresh").parent();Ie.html('<img src="../../../../../assets/img/spinner.svg" />'),w.value="",T.value="",V.value="",B.value="",R.value=[],P.value=[],I.value="",S.value="",F.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"invoices/data",{params:{per_page:k.value}}).then(oe=>{c.value=oe.data.invoices,g.value=oe.data.taxes,Ie.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(Ie=>{const oe=window.URL.createObjectURL(new Blob([Ie.data])),me=document.createElement("a");me.href=oe,me.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(me),me.click()}).catch(Ie=>{console.log(Ie)})},submitRejection:Ye,download:Ie=>{A.get(t+"invoices/"+Ie.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(oe=>{const me=window.URL.createObjectURL(new Blob([oe.data])),Le=document.createElement("a");Le.href=me,Le.setAttribute("download",`Invoice_${Ie.invoice_number}.pdf`),document.body.appendChild(Le),Le.click()}).catch(oe=>{console.log(oe)})},editFees:z,approveFees:ge,userHasApproved:(Ie,oe)=>{let me=!1;return Ie.approvals.length<=0?!1:(Ie.approvals.forEach(Le=>{oe.id==Le.user_id&&(me=!0)}),me)},approvalDetails:(Ie,oe)=>{let me=null;return me=Ie.approvals.filter(Le=>Le.user_id==oe.id).length>0?Ie.approvals.filter(Le=>Le.user_id==oe.id)[0]:null,me},showPurchaseOrder:Fe}}},nH={class:""},sH={class:"d-flex justify-content-between"},lH={class:"d-flex flex-wrap gap-1"},iH={class:""},rH={for:"Vendor",class:"form-label"},dH={class:""},cH={for:"Invoice No",class:"form-label"},uH={class:""},_H={class:"form-label",for:""},mH={class:""},fH={class:"form-label",for:""},hH={class:""},pH={for:"Status",class:"form-label"},vH={value:"pending_maker"},gH={value:"pending_checker"},bH={value:"approved"},yH={value:"rejected"},kH={value:"past_due"},$H={value:"expired"},wH={class:""},DH={for:"Financing Status",class:"form-label"},CH={value:"pending"},xH={value:"submitted"},PH={value:"financed"},EH={value:"disbursed"},AH={value:"closed"},IH={value:"denied"},RH={class:""},SH={for:"Financing Status",class:"form-label"},TH={value:""},jH={value:"po_asc"},OH={value:"po_desc"},MH={value:"invoice_no_asc"},LH={value:"invoice_no_desc"},NH={value:"invoice_amount_asc"},FH={value:"invoice_amount_desc"},YH={value:"due_date_asc"},VH={value:"due_date_desc"},BH={value:"vendor_asc"},UH={value:"vendor_desc"},qH={class:""},HH={for:"Bulk Actions",class:"form-label"},zH={value:""},WH={value:"approve"},KH={value:"reject"},GH={class:"table-search-btn"},QH={class:"table-clear-btn"},ZH={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},JH={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},XH={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},ez={class:"modal-content"},tz={class:"modal-header"},oz={class:"modal-title",id:"modalCenterTitle"},az={key:0,class:"text-center my-4"},nz={class:"modal-body"},sz={class:"table"},lz={key:0},iz={key:0},rz={key:1},dz=["id"],cz={key:2},uz={key:0},_z=["readonly","onUpdate:modelValue","id","onInput"],mz={key:3},fz={key:0},hz=["readonly","onUpdate:modelValue","id","onInput"],pz={key:4},vz={key:0},gz=["readonly","onUpdate:modelValue","id","onInput"],bz={key:5},yz={key:0},kz=["id"],$z={class:"modal-footer"},wz=["disabled"],Dz={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},Cz={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},xz={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Pz={class:"modal-content"},Ez={class:"modal-header"},Az={class:"modal-title",id:"modalCenterTitle"},Iz={class:"modal-body"},Rz={for:"reason",class:"form-label"},Sz={class:"modal-footer"},Tz=["disabled"],jz={class:"d-flex justify-content-end gap-1 mt-auto"},Oz={class:"table-responsive p-1"},Mz={class:"table dt-invoices"},Lz={class:"px-1"},Nz={class:"form-check"},Fz={key:0},Yz={colspan:"12",class:"text-center"},Vz={class:"text-center"},Bz={key:1},Uz={colspan:"12",class:"text-center"},qz={class:"text-center"},Hz={class:"px-1"},zz={key:0,class:"form-check"},Wz=["id","onChange"],Kz={key:0,class:"text-primary text-decoration-underline"},Gz=["onClick"],Qz={key:1,class:"text-primary"},Zz=["onClick"],Jz={href:"javascript:;"},Xz={class:"text-success"},eW={class:""},tW={class:""},oW={class:""},aW={class:""},nW={class:""},sW={class:"d-inline-block"},lW=["id","data-bs-target"],iW=["id","data-bs-target"],rW=["id","data-bs-target"],dW=["id","data-bs-target"],cW=["id","data-bs-target"],uW=["id","data-bs-target"],_W=["id","data-bs-target"],mW=["id","data-bs-target"],fW={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},hW={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},pW={class:"modal-content"},vW={class:"modal-body"},gW={class:"d-flex justify-content-center"},bW={class:"dropdown-menu dropdown-menu-end"},yW=["onClick"],kW={key:0},$W=["href"],wW=["onClick"],DW={class:"dropdown-item badge bg-label-success"},CW={key:2},xW=["onClick"],PW=["onClick"],EW={class:"dropdown-item badge bg-label-info"},AW=["onClick"],IW={class:"dropdown-item badge bg-label-warning"},RW=["id"],SW={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TW={class:"modal-content"},jW={class:"modal-header"},OW={class:"modal-title",id:"modalCenterTitle"},MW=["id"],LW=["onSubmit"],NW={class:"modal-body"},FW={for:"reason",class:"form-label"},YW={class:"modal-footer"},VW={class:"btn btn-danger",type:"submit"},BW=["id"],UW={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},qW={class:"modal-content"},HW={class:"modal-header"},zW={class:"modal-title",id:"modalCenterTitle"},WW={class:"d-flex"},KW=["href"],GW=["href"],QW={class:"modal-body"},ZW={class:"d-flex justify-content-between"},JW={class:"mb-3 w-50"},XW={class:"d-flex justify-content-between"},eK={class:"fw-light my-auto"},tK={class:"fw-bold mx-2 my-auto"},oK={class:"d-flex justify-content-between"},aK={class:"fw-light my-auto"},nK={class:"fw-bold mx-2 my-auto"},sK={class:"d-flex justify-content-between"},lK={class:"fw-light my-auto"},iK={class:"fw-bold mx-2 my-auto"},rK={class:"d-flex justify-content-between"},dK={class:"fw-light my-auto"},cK={key:0,class:"d-flex justify-content-between"},uK={class:"fw-light my-auto"},_K={class:"fw-bold mx-2 my-auto"},mK={class:"mb-3"},fK={class:"d-flex justify-content-between"},hK={class:"my-auto fw-light"},pK={class:"fw-bold mx-2 my-auto"},vK={class:"d-flex justify-content-between"},gK={class:"my-auto fw-light"},bK={class:"fw-bold mx-2 my-auto"},yK={class:"d-flex justify-content-between"},kK={class:"my-auto fw-light"},$K={class:"fw-bold mx-2 my-auto"},wK={class:"d-flex justify-content-between"},DK={class:"my-auto fw-light"},CK={class:"fw-bold text-success mx-2 my-auto"},xK={class:"table-responsive"},PK={class:"table"},EK={class:"bg-label-secondary px-2"},AK={class:"d-flex justify-content-end"},IK={class:"mx-2 my-auto py-1"},RK={class:"text-success my-auto py-1"},SK=["id"],TK={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jK={class:"modal-content"},OK={class:"modal-header"},MK={class:"modal-title"},LK=["id"],NK=["id"],FK={class:"modal-body"},YK={class:"form-group"},VK={for:"Sub total",class:"form-label"},BK={key:0},UK={for:""},qK=["onUpdate:modelValue"],HK={key:1},zK={for:""},WK=["onUpdate:modelValue"],KK={class:"form-group"},GK={for:"Sub total",class:"form-label"},QK={key:0,class:"mt-2"},ZK={class:"text-sm"},JK={class:"mx-2 my-auto py-1"},XK={key:0,class:"text-success my-auto py-1"},eG={key:1,class:"text-success my-auto py-1"},tG={class:"modal-footer"},oG={class:"btn btn-primary",type:"submit"},aG=["id"],nG={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},sG={class:"modal-content"},lG={class:"modal-header"},iG={class:"modal-title",id:"modalCenterTitle"},rG={class:"modal-body"},dG={class:"table"},cG={class:""},uG=["id"],_G={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},mG={class:"modal-content"},fG={class:"modal-header"},hG={class:"modal-title",id:"modalCenterTitle"},pG={class:"modal-body"},vG={key:0,class:"d-flex"},gG={class:"text-success",style:{"font-weight":"800"}},bG={class:"text-danger",style:{"font-weight":"800"}},yG={key:0,class:"d-flex"},kG={class:"text-success",style:{"font-weight":"800"}},$G={key:1,class:""};function wG(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",nH,[e("div",sH,[e("div",lH,[e("div",iH,[e("label",rH,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",dH,[e("label",cH,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",uH,[e("label",_H,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[22]||(a[22]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",mH,[e("label",fH,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[23]||(a[23]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",hH,[e("label",pH,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",vH,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",gH,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",bH,n(o.$t("Approved")),1),e("option",yH,n(o.$t("Rejected")),1),e("option",kH,n(o.$t("Overdue")),1),e("option",$H,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",wH,[e("label",DH,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",CH,n(o.$t("Pending")),1),e("option",xH,n(o.$t("Submitted")),1),e("option",PH,n(o.$t("Financed")),1),e("option",EH,n(o.$t("Disbursed")),1),e("option",AH,n(o.$t("Closed")),1),e("option",IH,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",RH,[e("label",SH,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",TH,n(o.$t("Sort By")),1),e("option",jH,n(o.$t("PO No. (ASC)")),1),e("option",OH,n(o.$t("PO No. (DESC)")),1),e("option",MH,n(o.$t("Invoice No. (ASC)")),1),e("option",LH,n(o.$t("Invoice No. (DESC)")),1),e("option",NH,n(o.$t("Invoice Amount. (ASC)")),1),e("option",FH,n(o.$t("Invoice Amount. (DESC)")),1),e("option",YH,n(o.$t("Due Date. (ASC)")),1),e("option",VH,n(o.$t("Due Date. (DESC)")),1),e("option",BH,n(o.$t("Vendor. (ASC)")),1),e("option",UH,n(o.$t("Vendor. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",qH,[e("label",HH,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",zH,n(o.$t("Bulk Actions")),1),e("option",WH,n(o.$t("Approve")),1),e("option",KH,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",GH,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",QH,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[25]||(a[25]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",ZH,n(o.$t("Approve")),1),e("div",JH,[e("div",XH,[e("div",ez,[e("div",tz,[e("h5",oz,n(o.$t("Confirm Approval")),1),a[26]||(a[26]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",az,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",nz,[e("table",sz,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",lz,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",iz,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",rz,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,dz)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",cz,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",uz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,_z),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",mz,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",fz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,hz),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",pz,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",vz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,gz),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",bz,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",yz,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,kz)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",$z,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,wz)])],32)):b("",!0)])])]),e("button",Dz,n(o.$t("Reject")),1),e("div",Cz,[e("div",xz,[e("div",Pz,[e("div",Ez,[e("h5",Az,n(o.$t("Confirm Rejection")),1),a[27]||(a[27]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",Iz,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",Rz,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",Sz,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,Tz)])],32)])])])]),e("div",jz,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},[a[29]||(a[29]=e("i",{class:"ti ti-download"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Oz,[e("table",Mz,[e("thead",null,[e("tr",null,[e("th",Lz,[e("div",Nz,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Fz,[e("td",Yz,[e("span",Vz,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Bz,[e("td",Uz,[e("span",qz,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",Hz,[i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",zz,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,Wz)])):b("",!0)]),e("td",null,n(i.company),1),i.purchase_order_number?(u(),f("td",Kz,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,Gz)])):(u(),f("td",Qz,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Jz,n(i.invoice_number),1)],8,Zz),e("td",Xz,[le(n(i.currency)+" ",1),e("span",eW,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",tW,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",oW,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",aW,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",nW,[e("div",sW,[a[32]||(a[32]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,lW),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,iW),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,rW),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,dW),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,cW),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,uW),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,_W),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,mW),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",fW,[e("div",hW,[e("div",pW,[e("div",vW,[e("div",gW,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",bW,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-2",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,yW)]),i.can_edit?(u(),f("li",kW,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,$W)])):b("",!0),i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",DW,n(o.$t("Approve")),1)],8,wW)):b("",!0),i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",CW,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,xW)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",EW,n(o.$t("Checker Approvals")),1)],8,PW),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:"mb-2"},[e("span",IW,n(o.$t("Authorization Matrix")),1)],8,AW)):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",SW,[e("div",TW,[e("div",jW,[e("h5",OW,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,MW)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",NW,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",FW,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",YW,[e("button",VW,n(o.$t("Confirm")),1)])],40,LW)])])],8,RW),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",UW,[e("div",qW,[e("div",HW,[e("h5",zW,n(o.$t("Purchase Order")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",WW,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[34]||(a[34]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,KW)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[35]||(a[35]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,GW)):b("",!0)])]),e("div",QW,[e("div",ZW,[e("div",JW,[e("span",XW,[e("h5",eK,n(o.$t("Vendor"))+":",1),e("h6",tK,n(t.purchase_order_details.company.name),1)]),e("span",oK,[e("h5",aK,n(o.$t("Delivery Address"))+":",1),e("h6",nK,n(t.purchase_order_details.delivery_address),1)]),e("span",sK,[e("h5",lK,n(o.$t("Remarks"))+":",1),e("h6",iK,n(t.purchase_order_details.remarks),1)]),e("span",rK,[e("h5",dK,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",cK,[e("h5",uK,n(o.$t("Rejection Reason"))+":",1),e("h6",_K,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",mK,[e("span",fK,[e("h5",hK,n(o.$t("PO No"))+":",1),e("h6",pK,n(t.purchase_order_details.purchase_order_number),1)]),e("span",vK,[e("h5",gK,n(o.$t("Start Date"))+":",1),e("h6",bK,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",yK,[e("h5",kK,n(o.$t("End Date"))+":",1),e("h6",$K,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",wK,[e("h5",DK,n(o.$t("PO Amount"))+":",1),e("h6",CK,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",xK,[e("table",PK,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",EK,[e("span",AK,[e("h6",IK,n(o.$t("Total")),1),e("h5",RK,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,BW)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",TK,[e("div",jK,[e("div",OK,[e("h5",MK,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,LK)]),e("form",{onSubmit:a[21]||(a[21]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",FK,[e("div",YK,[e("label",VK,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d==="percentage"?(u(),f("div",BK,[e("label",UK,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[18]||(a[18]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,qK),[[Q,t.invoice_taxes[p]]])])):b("",!0),d==="amount"?(u(),f("div",HK,[e("label",zK,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,WK),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",KK,[e("label",GK,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",QK,[e("h5",ZK,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",JK,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",XK," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",eG,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",tG,[e("button",oG,n(o.$t("Submit")),1)])],40,NK)])])],8,SK)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",nG,[e("div",sG,[e("div",lG,[e("h5",iG,n(o.$t("Checker Approval(s)")),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rG,[e("table",dG,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(W,{key:0},[e("td",cG,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,aG)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:5,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",_G,[e("div",mG,[e("div",fG,[e("h5",hG,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",pG,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",vG,[e("span",gG,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[39]||(a[39]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",bG,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",yG,[e("span",kG,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",$G,n(d.user.name),1))]))),128))])])])],8,uG)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const DG=Ue(aH,[["render",wG]]),CG={name:"InvoicesView",components:{Invoices:DG,PendingInvoices:oH},setup(){const o=h(null),a=h(null);return Qe(()=>{o.value.getInvoices()}),{invoices:o,pending_invoices:a,switchTabs:t=>{switch(t){case"invoices":o.value.getInvoices();break;case"pending_invoices":a.value.getInvoices();break}}}}},xG={class:"nav-align-top nav-tabs-shadow mb-4"},PG={class:"nav nav-tabs",role:"tablist"},EG={class:"nav-item"},AG={class:"nav-item"},IG={class:"tab-content"},RG={class:"tab-pane fade show active",id:"navs-all-invoices",role:"tabpanel"},SG={class:"tab-pane fade show",id:"navs-pending-invoices",role:"tabpanel"};function TG(o,a,s,t,c,m){const _=de("invoices"),l=de("pending-invoices");return u(),f("div",xG,[e("ul",PG,[e("li",EG,[e("button",{type:"button",class:"nav-link active text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices","aria-controls":"navs-all-invoices","aria-selected":"true",onClick:a[0]||(a[0]=r=>t.switchTabs("invoices"))},n(o.$t("All Invoices")),1)]),e("li",AG,[e("button",{type:"button",class:"nav-link text-sm text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pending-invoices","aria-controls":"navs-pending-invoices","aria-selected":"false",onClick:a[1]||(a[1]=r=>t.switchTabs("pending_invoices"))},n(o.$t("Pending")),1)])]),e("div",IG,[e("div",RG,[Be(_,{ref:"invoices"},null,512)]),e("div",SG,[Be(l,{ref:"pending_invoices"},null,512)])])])}const jG=Ue(CG,[["render",TG]]),OG={name:"Vendors",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:s.value}}).then(i=>{a.value=i.data})},m=async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:s.value,vendor:t.value}}).then(i=>{a.value=i.data})},_=async()=>{t.value="",await A.get(o+"invoices/vendors/data",{params:{per_page:s.value}}).then(i=>{a.value=i.data})};ot(s,([i])=>{A.get(o+"invoices/vendors/data",{params:{per_page:i,vendor:t.value}}).then(d=>{a.value=d.data})});const l=()=>{A.get(o+"invoices/vendors/data/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value}}).then(i=>{const d=window.URL.createObjectURL(new Blob([i.data])),p=document.createElement("a");p.href=d,p.setAttribute("download",`Vendors_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(p),p.click()}).catch(i=>{console.log(i)})};return Qe(()=>{c()}),{moment:H,vendors:a,vendor_search:t,per_page:s,changePage:async i=>{await A.get(i).then(d=>{a.value=d.data})},filter:m,refresh:_,exportData:l}}},MG={class:"card p-2"},LG={class:"d-flex justify-content-between"},NG={class:"d-flex flex-wrap gap-1"},FG={class:""},YG={for:"Vendor",class:"form-label"},VG={class:"table-search-btn"},BG={class:"table-clear-btn"},UG={class:"d-flex"},qG={class:"mx-2"},HG={class:"table-responsive p-2"},zG={class:"table"},WG={key:0},KG={colspan:"12",class:"text-center"},GG={class:"text-center"},QG={key:1},ZG={colspan:"12",class:"text-center"},JG={class:"text-center"},XG={class:""};function eQ(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",MG,[e("div",LG,[e("div",NG,[e("div",FG,[e("label",YG,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor_search=l),placeholder:"Search Vendors","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",VG,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BG,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UG,[e("div",qG,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{width:"5rem"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-sm",style:{height:"fit-content"},onClick:a[5]||(a[5]=(...l)=>t.exportData&&t.exportData(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-download ti-sm"},null,-1)]))])]),t.vendors.meta?(u(),fe(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",HG,[e("table",zG,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Unique Identification Number")),1),e("th",null,n(o.$t("Payment OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",WG,[e("td",KG,[e("span",GG,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",QG,[e("td",ZG,[e("span",JG,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.company_name),1),e("td",null,n(l.company_unique_identification_number),1),e("td",XG,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),fe(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const tQ=Ue(OG,[["render",eQ]]),oQ={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=h(""),p=h([]),v=h(null),g=h(null),D=h([]),y=async()=>{await A.get(a+"purchase-orders/data?per_page="+i.value).then(O=>{s.value=O.data.purchase_orders}).catch(O=>{console.log(O.message)})},C=O=>{let L="";switch(O){case"Pending Checker Approval":L="bg-label-warning";break;case"Pending Maker":L="bg-label-primary";break;case"Pending Checker":L="bg-label-warning";break;case"Accepted":L="bg-label-success";break;case"Rejected":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},x=async(O,L)=>{await A.post(`${a}purchase-orders/approve`,{purchase_order_id:O.id,status:L,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(R=>{console.log(R),o.error("An error occurred")})};Qe(()=>{y()}),ot([i],([O])=>{A.get(a+"purchase-orders/data?per_page="+O,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(L=>{s.value=L.data.purchase_orders}).catch(L=>{console.log(L)})});const E=()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+i.value,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(L=>{s.value=L.data.purchase_orders}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},k=()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",A.get(a+"purchase-orders/data?per_page="+i.value).then(L=>{s.value=L.data.purchase_orders}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})};return ot(d,O=>{p.value.length>0?(D.value=[],O=="approve"&&(p.value.forEach(L=>{D.value.push(s.value.data.filter(R=>R.id==L)[0])}),g.value.click()),O=="reject"&&v.value.click()):o.error("Select POs")}),{moment:H,purchase_orders:s,rejection_reason:t,vendor_search:c,po_search:m,from_date:_,to_date:l,status_search:r,per_page:i,bulk_action:d,filter:E,refresh:k,bulk_action:d,showRejectionModal:v,showApprovalModal:g,selectAll:()=>{p.value=[],document.getElementById("select-all").checked?s.value.data.forEach(O=>{O.user_can_approve&&!O.user_has_approved&&(document.getElementById("data-select-"+O.id).checked=!0,p.value.push(O.id))}):s.value.data.forEach(O=>{if(O.user_can_approve&&!O.user_has_approved){document.getElementById("data-select-"+O.id).checked=!1;let L;if(!p.value.filter(function(P,I){L=I,P==O.id}))return!1;p.value.splice(L,1)}})},updateSelected:O=>{if(p.value.includes(O)){const L=p.value.indexOf(O);p.value.splice(L,1)}else p.value.push(O)},submitBulkAction:O=>{if(p.value.length<=0){o.error("Select Purchase orders");return}const L=new FormData;p.value.forEach(R=>{L.append("purchase_orders[]",R)}),O=="approve"&&L.append("status","approved"),O=="reject"&&(L.append("status","rejected"),L.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",L).then(()=>{o.success("POs updated"),d.value="",t.value="",y(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(R=>{console.log(R),o.error("An error occurred")})},resolveStatus:C,submitApproval:x,changePage:async O=>{await A.get(O+"&per_page="+i.value,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(L=>{s.value=L.data.purchase_orders}).catch(L=>{console.log(L)})}}}},aQ={class:"card"},nQ={class:"card-body"},sQ={class:"d-flex justify-content-between"},lQ={class:"d-flex flex-wrap"},iQ={class:""},rQ={for:"PO Number",class:"form-label"},dQ={class:"mx-1"},cQ={for:"PO Number",class:"form-label"},uQ={class:"mx-1"},_Q={for:"Delivery From",class:"form-label"},mQ={class:"mx-1"},fQ={for:"Delivery To",class:"form-label"},hQ={class:"mx-1"},pQ={for:"Status",class:"form-label"},vQ={value:""},gQ={value:"pending"},bQ={value:"approved"},yQ={value:"invoiced"},kQ={value:"rejected"},$Q={class:"mx-1"},wQ={for:"Bulk Actions",class:"form-label"},DQ={value:""},CQ={value:"approve"},xQ={value:"reject"},PQ={class:"mx-1 table-search-btn"},EQ={class:"mx-1 table-clear-btn"},AQ={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},IQ={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},RQ={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},SQ={class:"modal-content"},TQ={class:"modal-header"},jQ={class:"modal-title",id:"modalCenterTitle"},OQ={class:"modal-body"},MQ={class:"modal-footer"},LQ={class:"btn btn-primary",type:"submit"},NQ={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},FQ={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},YQ={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},VQ={class:"modal-content"},BQ={class:"modal-header"},UQ={class:"modal-title",id:"modalCenterTitle"},qQ={class:"modal-body"},HQ={class:"row mb-1"},zQ={class:"form-group"},WQ={for:""},KQ={class:"modal-footer"},GQ={class:"btn btn-primary",type:"submit"},QQ={class:"d-flex"},ZQ={class:"mx-1"},JQ={class:"table-responsive p-2"},XQ={class:"table dt-invoices"},eZ={class:"form-check"},tZ={key:0},oZ={colspan:"12",class:"text-center"},aZ={class:"text-center"},nZ={key:1},sZ={colspan:"12",class:"text-center"},lZ={class:"text-center"},iZ={class:"form-check"},rZ=["id","onChange"],dZ=["data-bs-target"],cZ={class:"text-success"},uZ={class:"text-success"},_Z={class:""},mZ={class:""},fZ={class:""},hZ={class:"d-inline-block"},pZ={class:"dropdown-menu dropdown-menu-end m-0"},vZ=["onClick"],gZ={class:"dropdown-item badge bg-label-success pt-1"},bZ={key:1},yZ=["href"],kZ={key:2,class:"dropdown-item pb-1"},$Z=["href"],wZ=["id"],DZ={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},CZ={class:"modal-content"},xZ={class:"modal-header"},PZ={class:"modal-title",id:"modalCenterTitle"},EZ={class:"d-flex"},AZ=["href"],IZ=["href"],RZ={class:"modal-body"},SZ={class:"d-flex justify-content-between"},TZ={class:"mb-3 w-50"},jZ={class:"d-flex justify-content-between"},OZ={class:"fw-light my-auto"},MZ={class:"fw-bold mx-2 my-auto"},LZ={class:"d-flex justify-content-between"},NZ={class:"fw-light my-auto"},FZ={class:"fw-bold mx-2 my-auto"},YZ={class:"d-flex justify-content-between"},VZ={class:"fw-light my-auto"},BZ={class:"fw-bold mx-2 my-auto"},UZ={class:"d-flex justify-content-between"},qZ={class:"fw-light my-auto"},HZ={key:0,class:"d-flex justify-content-between"},zZ={class:"fw-light my-auto"},WZ={class:"fw-bold mx-2 my-auto"},KZ={class:"mb-3"},GZ={class:"d-flex justify-content-between"},QZ={class:"my-auto fw-light"},ZZ={class:"fw-bold mx-2 my-auto"},JZ={class:"d-flex justify-content-between"},XZ={class:"my-auto fw-light"},eJ={class:"fw-bold mx-2 my-auto"},tJ={class:"d-flex justify-content-between"},oJ={class:"my-auto fw-light"},aJ={class:"fw-bold mx-2 my-auto"},nJ={class:"d-flex justify-content-between"},sJ={class:"my-auto fw-light"},lJ={class:"fw-bold text-success mx-2 my-auto"},iJ={class:"table-responsive"},rJ={class:"table"},dJ={class:"bg-label-secondary px-2"},cJ={class:"d-flex justify-content-end"},uJ={class:"mx-2 my-auto py-1"},_J={class:"text-success my-auto py-1"};function mJ(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",aQ,[e("div",nQ,[e("div",sQ,[e("div",lQ,[e("div",iQ,[e("label",rQ,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",dQ,[e("label",cQ,n(o.$t("PO Number")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"PO No","onUpdate:modelValue":a[2]||(a[2]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",uQ,[e("label",_Q,n(o.$t("Delivery From")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[4]||(a[4]=l=>t.from_date=l),onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.from_date]])]),e("div",mQ,[e("label",fQ,n(o.$t("Delivery To")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.to_date=l),onKeyup:a[7]||(a[7]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.to_date]])]),e("div",hQ,[e("label",pQ,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=l=>t.status_search=l)},[e("option",vQ,n(o.$t("Status")),1),e("option",gQ,n(o.$t("Pending")),1),e("option",bQ,n(o.$t("Approved")),1),e("option",yQ,n(o.$t("Invoiced")),1),e("option",kQ,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",$Q,[e("label",wQ,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=l=>t.bulk_action=l)},[e("option",DQ,n(o.$t("Select Bulk Action")),1),e("option",CQ,n(o.$t("Approve")),1),e("option",xQ,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",PQ,[e("button",{class:"btn btn-primary btn-sm",onClick:a[10]||(a[10]=(...l)=>t.filter&&t.filter(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",EQ,[e("button",{class:"btn btn-primary btn-sm",onClick:a[11]||(a[11]=(...l)=>t.refresh&&t.refresh(...l))},a[18]||(a[18]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",AQ,null,512),e("div",IQ,[e("div",RQ,[e("div",SQ,[e("div",TQ,[e("h5",jQ,n(o.$t("Approve Purchase Orders")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[12]||(a[12]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",OQ,[e("h5",null,n(o.$t("Are you sure you want to approve the selected purchase orders"))+"?",1)]),e("div",MQ,[e("button",LQ,n(o.$t("Submit")),1)])],32)])])]),e("button",NQ,null,512),e("div",FQ,[e("div",YQ,[e("div",VQ,[e("div",BQ,[e("h5",UQ,n(o.$t("Reject Selected Purchase Orders")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[14]||(a[14]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",qQ,[e("div",HQ,[e("div",zQ,[e("label",WQ,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",KQ,[e("button",GQ,n(o.$t("Submit")),1)])],32)])])])]),e("div",QQ,[e("div",ZQ,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[15]||(a[15]=l=>t.per_page=l),style:{width:"5rem"}},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",JQ,[e("table",XQ,[e("thead",null,[e("tr",null,[e("th",null,[e("div",eZ,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[16]||(a[16]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[22]||(a[22]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",tZ,[e("td",oZ,[e("span",aZ,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",nZ,[e("td",sZ,[e("span",lZ,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",iZ,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,rZ)):b("",!0)])]),e("td",null,n(l.company.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,dZ),e("td",cZ,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",uZ,n(l.purchase_order_items.length),1),e("td",_Z,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",mZ,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge py-2 mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",fZ,[e("div",hZ,[a[23]||(a[23]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",pZ,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,"data-bs-toggle":"modal",style:{cursor:"pointer"},onClick:r=>t.submitApproval(l,"approve")},[e("span",gZ,n(o.$t("Approve")),1)],8,vZ)):b("",!0),l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",bZ,[e("a",{href:"purchase-orders/"+l.id+"/reject",class:"dropdown-item badge bg-label-danger pb-1"},n(o.$t("Reject")),9,yZ)])):b("",!0),l.attachment?(u(),f("li",kZ,[e("a",{href:l.attachment,target:"_blank",class:"badge bg-label-secondary"},n(o.$t("View Attachment")),9,$Z)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",DZ,[e("div",CZ,[e("div",xZ,[e("h5",PZ,n(o.$t("Purchase Order")),1),a[26]||(a[26]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",EZ,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,AZ)):b("",!0),e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[25]||(a[25]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,IZ)])])]),e("div",RZ,[e("div",SZ,[e("div",TZ,[e("span",jZ,[e("h5",OZ,n(o.$t("Vendor"))+":",1),e("h6",MZ,n(l.company.name),1)]),e("span",LZ,[e("h5",NZ,n(o.$t("Delivery Address"))+":",1),e("h6",FZ,n(l.delivery_address),1)]),e("span",YZ,[e("h5",VZ,n(o.$t("Remarks"))+":",1),e("h6",BZ,n(l.remarks),1)]),e("span",UZ,[e("h5",qZ,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",HZ,[e("h5",zZ,n(o.$t("Rejection Reason"))+":",1),e("h6",WZ,n(l.rejection_reason),1)])):b("",!0)]),e("div",KZ,[e("span",GZ,[e("h5",QZ,n(o.$t("PO No"))+":",1),e("h6",ZZ,n(l.purchase_order_number),1)]),e("span",JZ,[e("h5",XZ,n(o.$t("Start Date"))+":",1),e("h6",eJ,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",tJ,[e("h5",oJ,n(o.$t("End Date"))+":",1),e("h6",aJ,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",nJ,[e("h5",sJ,n(o.$t("PO Amount"))+":",1),e("h6",lJ,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",iJ,[e("table",rJ,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",dJ,[e("span",cJ,[e("h6",uJ,n(o.$t("Total")),1),e("h5",_J,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,wZ)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const fJ=Ue(oQ,[["render",mJ]]),hJ={name:"InvoiceAnalysisReport",components:{Pagination:oo},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("invoice-analysis"),m=h([]),_=h(""),l=h(0),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(null),D="../../../../../assets/img/spinner.svg",y=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(R=>{m.value=R.data}).catch(R=>{console.log(R)})};Qe(()=>{y()});const C=R=>{let P="";switch(R){case"pending":P="bg-label-primary";break;case"financed":P="bg-label-success";break;case"closed":P="bg-label-secondary";break;case"denied":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},x=async(R,P)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+R+"/details").then(I=>{g.value=I.data,bt(()=>{document.getElementById(P).click()})}).catch(I=>{console.log(I)})},E=(R,P)=>(P/R*100).toFixed(2),k=h(!1),w=h(!1),T=()=>{k.value=!0,A.get(s+"reports/report/invoice-analysis/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{k.value=!1})},V=()=>{w.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Invoices_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{w.value=!1})},B=()=>{let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),v.value=$("#date_search").val(),v.value&&(r.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get("report",{params:{per_page:t.value,type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})};return ot([t],([R])=>{A.get("report",{params:{per_page:R,type:c.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)})}),{moment:H,invoice_number_search:_,amount_search:l,from_date_search:r,to_date_search:i,disbursement_date_search:d,financing_status_search:p,report:m,invoice_details:g,per_page:t,resolveFinancingStatus:C,changePage:async R=>{await A.get(R,{params:{type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(P=>{invoices.value=P.data.invoices}).catch(P=>{console.log(P)})},exportReport:T,exportPdfReport:V,refresh:()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value=0,r.value="",i.value="",d.value="",p.value="",v.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:c.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},filter:B,showInvoice:x,getTaxPercentage:E,downloadingExcel:k,downloadingPdf:w,spinner:D}}},pJ={class:"card p-2"},vJ={class:"d-flex justify-content-between"},gJ={class:"d-flex flex-wrap gap-1"},bJ={class:""},yJ={for:"Invoice No",class:"form-label mx-1"},kJ={class:""},$J={class:"form-label",for:""},wJ={class:""},DJ={for:"Financing Status",class:"form-label"},CJ={value:""},xJ={value:"pending"},PJ={value:"financed"},EJ={value:"disbursed"},AJ={value:"closed"},IJ={value:"denied"},RJ={class:"table-search-btn"},SJ={class:"table-clear-btn"},TJ={class:"d-flex align-items-end"},jJ={class:"mx-1"},OJ={key:0,class:"d-flex"},MJ=["src"],LJ={key:0,class:"d-flex"},NJ=["src"],FJ={class:"table-responsive"},YJ={class:"table"},VJ={class:""},BJ={class:"table-border-bottom-0"},UJ={key:0},qJ={colspan:"12",class:"text-center"},HJ={class:"text-center"},zJ={key:1},WJ={colspan:"12",class:"text-center"},KJ={class:"text-center"},GJ=["onClick"],QJ={class:""},ZJ={class:"text-success"},JJ=["id","data-bs-target"],XJ={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},eX={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},tX={class:"modal-content"},oX={class:"modal-body"},aX={class:"d-flex justify-content-center"},nX=["id"],sX={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lX={class:"modal-content"},iX={class:"modal-header"},rX={class:"modal-title",id:"modalCenterTitle"},dX={class:"d-flex"},cX={key:0,class:"d-flex"},uX=["href"],_X=["href"],mX={class:"modal-body"},fX={class:"d-flex justify-content-between"},hX={class:"mb-3"},pX={class:"d-flex justify-content-between"},vX={key:0,class:"fw-light my-auto"},gX={key:1,class:"fw-light my-auto"},bX={key:2,class:"fw-bold mx-2 my-auto text-end"},yX={key:3,class:"fw-bold mx-2 my-auto text-end"},kX={class:"d-flex"},$X={class:"fw-light my-auto"},wX={class:"fw-bold mx-2 my-auto"},DX={key:0,class:"d-flex justify-content-between"},CX={class:"fw-light my-auto"},xX={class:"fw-bold mx-2 my-auto"},PX={key:1,class:"d-flex justify-content-between"},EX={class:"fw-light my-auto"},AX={class:"fw-bold mx-2 my-auto"},IX={class:"mb-3"},RX={key:0,class:"d-flex justify-content-between"},SX={class:"my-auto fw-light"},TX=["data-bs-target"],jX={class:"d-flex justify-content-between"},OX={class:"my-auto fw-light"},MX={class:"fw-bold mx-2 my-auto"},LX={class:"d-flex justify-content-between"},NX={class:"my-auto fw-light"},FX={key:0,class:"fw-bold text-success mx-2 my-auto"},YX={key:1,class:"fw-bold text-success mx-2 my-auto"},VX={class:"d-flex justify-content-between"},BX={class:"my-auto fw-light"},UX={class:"fw-bold mx-2 my-auto"},qX={key:0,class:"table-responsive"},HX={class:"table"},zX={key:1,class:"px-2"},WX={class:"d-flex justify-content-end"},KX={class:"mx-2 my-auto"},GX={class:"text-success my-auto"},QX={key:2,class:"px-2"},ZX={class:"mx-2 my-auto"},JX={class:"text-success my-auto"},XX={class:"bg-label-secondary px-2"},eee={class:"d-flex justify-content-end"},tee={key:0,class:"mx-2 my-auto py-1"},oee={key:1,class:"mx-2 my-auto py-1"},aee={key:2,class:"text-success my-auto py-1"},nee={key:3,class:"text-success my-auto py-1"},see={class:"modal-footer"},lee=["id"],iee={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ree={class:"modal-content"},dee={class:"modal-header"},cee={class:"modal-title",id:"modalCenterTitle"},uee={class:"d-flex"},_ee={key:0,class:"d-flex"},mee=["href"],fee=["href"],hee={class:"modal-body"},pee={class:"d-flex justify-content-between"},vee={class:"mb-3"},gee={class:"d-flex justify-content-between"},bee={key:0,class:"fw-light my-auto"},yee={key:1,class:"fw-light my-auto"},kee={key:2,class:"fw-bold mx-2 my-auto text-end"},$ee={key:3,class:"fw-bold mx-2 my-auto text-end"},wee={class:"d-flex"},Dee={class:"fw-light my-auto"},Cee={class:"fw-bold mx-2 my-auto"},xee={key:0,class:"d-flex justify-content-between"},Pee={class:"fw-light my-auto"},Eee={class:"fw-bold mx-2 my-auto"},Aee={key:1,class:"d-flex justify-content-between"},Iee={class:"fw-light my-auto"},Ree={class:"fw-bold mx-2 my-auto"},See={class:"mb-3"},Tee={class:"d-flex justify-content-between"},jee={class:"my-auto fw-light"},Oee=["data-bs-target"],Mee={class:"d-flex justify-content-between"},Lee={class:"my-auto fw-light"},Nee={key:0,class:"fw-bold text-success mx-2 my-auto"},Fee={key:1,class:"fw-bold text-success mx-2 my-auto"},Yee={class:"d-flex justify-content-between"},Vee={class:"my-auto fw-light"},Bee={class:"fw-bold mx-2 my-auto"},Uee={key:0,class:"table-responsive"},qee={class:"table"},Hee={key:1,class:"px-2"},zee={class:"d-flex justify-content-end"},Wee={class:"mx-2 my-auto"},Kee={class:"text-success my-auto"},Gee={key:2,class:"px-2"},Qee={class:"mx-2 my-auto"},Zee={class:"text-success my-auto"},Jee={key:3,class:"px-2"},Xee={class:"mx-2 my-auto py-1"},ete={key:0,class:"text-success my-auto py-1"},tte={key:1,class:"text-success my-auto py-1"},ote={class:"bg-label-secondary px-2"},ate={class:"d-flex justify-content-end"},nte={key:0,class:"mx-2 my-auto py-1"},ste={key:1,class:"mx-2 my-auto py-1"},lte={key:2,class:"text-success my-auto py-1"},ite={key:3,class:"text-success my-auto py-1"};function rte(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",pJ,[e("div",vJ,[e("div",gJ,[e("div",bJ,[e("label",yJ,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",kJ,[e("label",$J,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",wJ,[e("label",DJ,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.financing_status_search=l)},[e("option",CJ,n(o.$t("Status")),1),e("option",xJ,n(o.$t("Pending")),1),e("option",PJ,n(o.$t("Financed")),1),e("option",EJ,n(o.$t("Disbursed")),1),e("option",AJ,n(o.$t("Closed")),1),e("option",IJ,n(o.$t("Denied")),1)],512),[[re,t.financing_status_search]])]),e("div",RJ,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",SJ,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",TJ,[e("div",jJ,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,MJ)):(u(),f("span",OJ,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,NJ)):(u(),f("span",LJ,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",FJ,[e("table",YJ,[e("thead",null,[e("tr",VJ,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice Amount")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",BJ,[t.report.data?b("",!0):(u(),f("tr",UJ,[e("td",qJ,[e("span",HJ,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",zJ,[e("td",WJ,[e("span",KJ,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.id,"show-invoice-"+l.id),style:{cursor:"pointer"}},n(l.invoice_number),9,GJ),e("td",null,n(t.moment(l.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(l.disbursement_date?t.moment(l.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(l.financing_status)])},n(l.financing_status),3)]),e("td",QJ,n(l.company),1),e("td",ZJ,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),e("td",null,[e("button",{class:"d-none","aria-hidden":"true",id:"show-invoice-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,JJ),a[23]||(a[23]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",XJ,[e("div",eX,[e("div",tX,[e("div",oX,[e("div",aX,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",sX,[e("div",lX,[e("div",iX,[e("h5",rX,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",dX,[t.invoice_details.media.length>0?(u(),f("div",cX,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,uX))),128))])):b("",!0),e("a",{href:"../invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,_X)])]),e("div",mX,[e("div",fX,[e("div",hX,[e("span",pX,[t.invoice_details.buyer?(u(),f("h5",vX,n(o.$t("Buyer"))+":",1)):(u(),f("h5",gX,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",bX,n(t.invoice_details.buyer.name),1)):(u(),f("h6",yX,n(t.invoice_details.company.name),1))]),e("span",kX,[e("h5",$X,n(o.$t("Remarks"))+":",1),e("h6",wX,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",DX,[e("h5",CX,n(o.$t("Credit To"))+":",1),e("h6",xX,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",PX,[e("h5",EX,n(o.$t("Rejection Reason"))+":",1),e("h6",AX,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",IX,[t.invoice_details.pi_number?(u(),f("span",RX,[e("h5",SX,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,TX)])):b("",!0),e("span",jX,[e("h5",OX,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",MX,n(t.invoice_details.invoice_number),1)]),e("span",LX,[e("h5",NX,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",YX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",FX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",VX,[e("h5",BX,n(o.$t("Invoice Due Date"))+":",1),e("h6",UX,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",qX,[e("table",HX,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",zX,[e("span",WX,[e("h6",KX,n(o.$t("Total Invoice Discount")),1),e("h5",GX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",QX,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",ZX,n(r.name),1),e("h5",JX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",XX,[e("span",eee,[t.invoice_details.drawdown_amount?(u(),f("h6",oee,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",tee,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",nee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",aee,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1))])])]),e("div",see,[!t.invoice_details.user_has_approved&&(t.invoice_details.status=="pending"||t.invoice_details.status=="created")?(u(),f("a",{key:0,href:"javascript:;",onClick:a[8]||(a[8]=r=>o.requestApproval(o.invoice)),class:"btn btn-primary"},n(o.$t("Approve")),1)):b("",!0)])])])],8,nX)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+l.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",iee,[e("div",ree,[e("div",dee,[e("h5",cee,n(o.$t("Invoice Details")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",uee,[t.invoice_details.media.length>0?(u(),f("div",_ee,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,mee))),128))])):b("",!0),e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,fee)])]),e("div",hee,[e("div",pee,[e("div",vee,[e("span",gee,[t.invoice_details.buyer?(u(),f("h5",bee,n(o.$t("Buyer"))+":",1)):(u(),f("h5",yee,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",kee,n(t.invoice_details.buyer.name),1)):(u(),f("h6",$ee,n(t.invoice_details.company.name),1))]),e("span",wee,[e("h5",Dee,n(o.$t("Remarks"))+":",1),e("h6",Cee,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",xee,[e("h5",Pee,n(o.$t("Credit To"))+":",1),e("h6",Eee,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Aee,[e("h5",Iee,n(o.$t("Rejection Reason"))+":",1),e("h6",Ree,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",See,[e("span",Tee,[e("h5",jee,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Oee)]),e("span",Mee,[e("h5",Lee,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Fee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Nee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Yee,[e("h5",Vee,n(o.$t("Invoice Due Date"))+":",1),e("h6",Bee,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",Uee,[e("table",qee,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",Hee,[e("span",zee,[e("h6",Wee,n(o.$t("Total Invoice Discount")),1),e("h5",Kee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",Gee,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Qee,n(r.name),1),e("h5",Zee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",Jee,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Xee,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",ete," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",tte,n(r.amount),1))]))),128))])):b("",!0),e("div",ote,[e("span",ate,[t.invoice_details.drawdown_amount?(u(),f("h6",ste,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",nte,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",ite,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",lte,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1))])])])])])],8,lee)):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const y5=Ue(hJ,[["render",rte]]),dte={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("all-invoices"),m=h([]),_=h(""),l=h(0),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D="../../../../../assets/img/spinner.svg",y=h(null),C=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(I=>{m.value=I.data}).catch(I=>{console.log(I)})},x=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+I+"/details").then(F=>{y.value=F.data,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})},E=(I,S)=>(S/I*100).toFixed(2);Qe(()=>{C()});const k=I=>{let S="";if(I.days_past_due>0)S="bg-label-danger";else switch(I.status){case"pending":S="bg-label-primary";break;case"sent":S="bg-label-secondary";break;case"approved":S="bg-label-success";break;case"denied":S="bg-label-danger";break;case"Rejected":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},w=I=>{let S="";switch(I){case"pending":S="bg-label-primary";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+"reports/report/all-invoices/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+"reports/all-invoices/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!0})};return ot([t],([I])=>{A.get("report",{params:{per_page:I,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})}),{moment:H,invoice_number_search:_,amount_search:l,from_date_search:r,to_date_search:i,disbursement_date_search:d,status_search:p,financing_status_search:v,report:m,per_page:t,invoice_details:y,resolveStatus:k,resolveFinancingStatus:w,changePage:async I=>{await A.get(I,{params:{type:c.value,per_page:t.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})},exportReport:B,exportPdfReport:O,filter:()=>{g.value=$("#date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get("report",{params:{per_page:t.value,type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},refresh:()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value=0,r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},showInvoice:x,getTaxPercentage:E,downloadingExcel:T,downloadingPdf:V,spinner:D}}},cte={class:"card p-2"},ute={class:"d-flex justify-content-between"},_te={class:"d-flex flex-wrap gap-1"},mte={class:""},fte={for:"Invoice No",class:"form-label mx-1"},hte={class:""},pte={class:"form-label",for:""},vte={class:""},gte={for:"Status",class:"form-label"},bte={value:""},yte={value:"pending"},kte={value:"submitted"},$te={value:"approved"},wte={value:"disbursed"},Dte={value:"denied"},Cte={value:"past_due"},xte={value:"expired"},Pte={class:""},Ete={for:"Financing Status",class:"form-label"},Ate={value:""},Ite={value:"pending"},Rte={value:"financed"},Ste={value:"closed"},Tte={value:"denied"},jte={class:"table-search-btn"},Ote={class:"table-clear-btn"},Mte={class:"d-flex justify-content-end flex-wrap gap-1"},Lte={class:""},Nte={key:0,class:"d-flex"},Fte=["src"],Yte={key:0,class:"d-flex"},Vte=["src"],Bte={class:"table-responsive"},Ute={class:"table"},qte={class:""},Hte={class:"table-border-bottom-0"},zte={key:0},Wte={colspan:"12",class:"text-center"},Kte={class:"text-center"},Gte={key:1},Qte={colspan:"12",class:"text-center"},Zte={class:"text-center"},Jte={class:""},Xte=["onClick"],eoe={class:"text-success"},toe={key:0},ooe={key:1},aoe=["id","data-bs-target"],noe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},soe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},loe={class:"modal-content"},ioe={class:"modal-body"},roe={class:"d-flex justify-content-center"};function doe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",cte,[e("div",ute,[e("div",_te,[e("div",mte,[e("label",fte,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),id:"form-search",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",hte,[e("label",pte,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",vte,[e("label",gte,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",bte,n(o.$t("Status")),1),e("option",yte,n(o.$t("Pending")),1),e("option",kte,n(o.$t("Submitted")),1),e("option",$te,n(o.$t("Approved")),1),e("option",wte,n(o.$t("Disbursed")),1),e("option",Dte,n(o.$t("Rejected")),1),e("option",Cte,n(o.$t("Overdue")),1),e("option",xte,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",Pte,[e("label",Ete,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.financing_status_search=i)},[e("option",Ate,n(o.$t("Status")),1),e("option",Ite,n(o.$t("Pending")),1),e("option",Rte,n(o.$t("Financed")),1),e("option",Ste,n(o.$t("Closed")),1),e("option",Tte,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",jte,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ote,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mte,[e("div",Lte,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Fte)):(u(),f("span",Nte,[a[13]||(a[13]=e("i",{class:"ti ti-download px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Vte)):(u(),f("span",Yte,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Bte,[e("table",Ute,[e("thead",null,[e("tr",qte,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",Hte,[t.report.data?b("",!0):(u(),f("tr",zte,[e("td",Wte,[e("span",Kte,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Gte,[e("td",Qte,[e("span",Zte,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Jte,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-invoice-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Xte),e("td",eoe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i)])},n(i.days_past_due>0?"Overdue":i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",toe,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",ooe,"-")),e("td",null,[e("button",{class:"d-none",id:"show-invoice-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,aoe),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",noe,[e("div",soe,[e("div",loe,[e("div",ioe,[e("div",roe,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const k5=Ue(dte,[["render",doe]]),coe={name:"VendorAnalysisReport",components:{Pagination:oo},setup(o,a){const s=h(50),t=h("vendor-analysis"),c=h([]),m=h(""),_="../../../../../assets/img/spinner.svg",l=()=>{A.get("report",{params:{per_page:s.value,type:t.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})};Qe(()=>{l()});const r=h(!1),i=()=>{r.value=!0,A.get("../report/vendor-analysis/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Vendors_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)}).finally(()=>{r.value=!1})},d=()=>{A.get("report",{params:{per_page:s.value,type:t.value,vendors:m.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})},p=()=>{m.value="",A.get("report",{params:{per_page:s.value,type:t.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})};return ot([s],([g])=>{A.get("report",{params:{per_page:g,type:t.value}}).then(D=>{c.value=D.data}).catch(D=>{console.log(D)})}),{moment:H,report:c,vendors_search:m,per_page:s,changePage:async g=>{await A.get(g,{params:{type:t.value,vendors:m.value}}).then(D=>{c.value=D.data}).catch(D=>{console.log(D)})},exportReport:i,filter:d,refresh:p,downloadingExcel:r,spinner:_}}},uoe={class:"card p-2"},_oe={class:"d-flex justify-content-between"},moe={class:"d-flex flex-wrap gap-1"},foe={class:""},hoe={class:"table-search-btn"},poe={class:"table-clear-btn"},voe={class:"d-flex align-items-end"},goe={class:"mx-1"},boe={key:0,class:"d-flex"},yoe=["src"],koe={class:"table-responsive"},$oe={class:"table"},woe={class:"text-nowrap"},Doe={class:"table-border-bottom-0"},Coe={key:0},xoe={colspan:"12",class:"text-center"},Poe={class:"text-center"},Eoe={key:1},Aoe={colspan:"12",class:"text-center"},Ioe={class:"text-center"},Roe={class:"text-primary"},Soe={class:"text-success"},Toe={class:"text-success"},joe={class:"text-success"},Ooe={class:"text-success"};function Moe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",uoe,[e("div",_oe,[e("div",moe,[e("div",foe,[Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendors_search=l),id:"defaultFormControlInput",placeholder:"Vendor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendors_search]])]),e("div",hoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",poe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",voe,[e("div",goe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,yoe)):(u(),f("span",boe,[a[9]||(a[9]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",koe,[e("table",$oe,[e("thead",null,[e("tr",woe,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Vendor Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1)])]),e("tbody",Doe,[t.report.data?b("",!0):(u(),f("tr",Coe,[e("td",xoe,[e("span",Poe,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Eoe,[e("td",Aoe,[e("span",Ioe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",Roe,n(l.name),1)]),e("td",Soe,n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit)),1),e("td",Toe,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",joe,n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit-l.utilized_amount)),1),e("td",Ooe,n(new Intl.NumberFormat().format(l.pipeline_amount)),1)]))),128))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const $5=Ue(coe,[["render",Moe]]),Loe={name:"MaturingInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("maturing-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v=h(0),g="../../../../../assets/img/spinner.svg",D=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(L=>{m.value=L.data}).catch(L=>{console.log(L)})},y=async(L,R)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+L+"/details").then(P=>{p.value=P.data,v.value++,bt(()=>{document.getElementById(R).click()})}).catch(P=>{console.log(P)})},C=(L,R)=>(R/L*100).toFixed(2);Qe(()=>{D()});const x=L=>{let R="";switch(L){case"pending":R="bg-label-primary";break;case"submitted":R="bg-label-warning";break;case"financed":R="bg-label-success";break;case"closed":R="bg-label-secondary";break;case"denied":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},E=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,from_date:r.value,to_date:i.value}}).then(L=>{m.value=L.data}).catch(L=>{console.log(L)})},k=async()=>{l.value="",_.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(L=>{m.value=L.data}).catch(L=>{console.log(L)})},w=h(!1),T=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,vendor:l,from_date:r,to_date:i,resolveFinancingStatus:x,downloadReport:()=>{w.value=!0,A.get(s+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Maturing_payments_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{w.value=!1})},exportPdfReport:()=>{T.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Maturing_payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{T.value=!1})},filter:E,refresh:k,changePage:async L=>{await A.get(L,{params:{type:c.value,vendor:l.value,invoice_no:_.value,from_date:r.value,to_date:i.value}}).then(R=>{invoices.value=R.data.invoices}).catch(R=>{console.log(R)})},invoice_details:p,invoice_details_key:v,showInvoice:y,getTaxPercentage:C,downloadingExcel:w,downloadingPdf:T,spinner:g}}},Noe={class:"card p-2"},Foe={class:"d-flex justify-content-between"},Yoe={class:"d-flex flex-wrap gap-1"},Voe={class:"form-group"},Boe={for:"Vendor",class:"form-label"},Uoe={class:"table-search-btn"},qoe={class:"table-clear-btn"},Hoe={class:"d-flex justify-content-end flex-wrap gap-1 mt-auto"},zoe={class:""},Woe={key:0,class:"d-flex"},Koe=["src"],Goe={key:0,class:"d-flex"},Qoe=["src"],Zoe={class:"table-responsive"},Joe={class:"table"},Xoe={class:""},eae={class:"table-border-bottom-0"},tae={key:0},oae={colspan:"12",class:"text-center"},aae={class:"text-center"},nae={key:1},sae={colspan:"12",class:"text-center"},lae={class:"text-center"},iae={class:"text-success"},rae={class:"text-success"},dae={class:"text-success"},cae={class:"text-success"},uae={class:"text-success"},_ae={class:"text-success"},mae={class:"text-success"},fae={class:"text-success"},hae={class:"text-success"},pae={class:"text-success"};function vae(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Noe,[e("div",Foe,[e("div",Yoe,[e("div",Voe,[e("label",Boe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor]])]),e("div",Uoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",qoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Hoe,[e("div",zoe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.downloadReport&&t.downloadReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Koe)):(u(),f("span",Woe,[a[10]||(a[10]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Qoe)):(u(),f("span",Goe,[a[11]||(a[11]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Zoe,[e("table",Joe,[e("thead",null,[e("tr",Xoe,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Total Due")),1),e("th",null,n(o.$t("Due <0 Days")),1),e("th",null,n(o.$t("Due 1-7 Days")),1),e("th",null,n(o.$t("Due 8-14 Days")),1),e("th",null,n(o.$t("Due 15-21 Days")),1),e("th",null,n(o.$t("Due 22-30 Days")),1),e("th",null,n(o.$t("Due 31-45 Days")),1),e("th",null,n(o.$t("Due 46-60 Days")),1),e("th",null,n(o.$t("Due 61-75 Days")),1),e("th",null,n(o.$t("Due 76-90 Days")),1)])]),e("tbody",eae,[t.report.data?b("",!0):(u(),f("tr",tae,[e("td",oae,[e("span",aae,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",nae,[e("td",sae,[e("span",lae,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.company.name)+" ("+n(l.payment_account_number)+")",1),e("td",null,[e("span",iae,n(new Intl.NumberFormat().format(l.total_due)),1)]),e("td",null,[e("span",rae,n(new Intl.NumberFormat().format(l.due_today)),1)]),e("td",null,[e("span",dae,n(new Intl.NumberFormat().format(l.due_seven_days)),1)]),e("td",null,[e("span",cae,n(new Intl.NumberFormat().format(l.due_fourteen_days)),1)]),e("td",null,[e("span",uae,n(new Intl.NumberFormat().format(l.due_twenty_one_days)),1)]),e("td",null,[e("span",_ae,n(new Intl.NumberFormat().format(l.due_thirty_days)),1)]),e("td",null,[e("span",mae,n(new Intl.NumberFormat().format(l.due_fourty_five_days)),1)]),e("td",null,[e("span",fae,n(new Intl.NumberFormat().format(l.due_sixty_days)),1)]),e("td",null,[e("span",hae,n(new Intl.NumberFormat().format(l.due_seventy_five_days)),1)]),e("td",null,[e("span",pae,n(new Intl.NumberFormat().format(l.due_ninety_days)),1)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const w5=Ue(Loe,[["render",vae]]),gae={name:"PaidInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("paid-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(null),x=h(null),E="../../../../../assets/img/spinner.svg",k=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(N=>{m.value=N.data}).catch(N=>{console.log(N)})},w=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+N+"/details").then(Z=>{C.value=Z.data,x.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},T=(N,U)=>(U/N*100).toFixed(2);Qe(()=>{k()});const V=N=>{let U="";if(N.days_past_due>0)U="bg-label-danger";else switch(N.status){case"pending":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},O=async()=>{D.value=$("#date_search").val(),D.value&&(d.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(v.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},L=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",_.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),$("disbursement_date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=h(!1),P=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,financing_status:i,status:r,vendor:l,from_date:d,to_date:p,from_disbursement_date_search:v,to_disbursement_date_search:g,date_search:D,invoice_details:C,filter:O,refresh:L,resolveStatus:V,resolveFinancingStatus:B,exportReport:()=>{R.value=!0,A.get(s+"reports/report/paid-invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Paid_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{R.value=!1})},exportPdfReport:()=>{P.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{P.value=!1})},changePage:async N=>{await A.get(N,{params:{type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},showInvoice:w,getTaxPercentage:T,downloadingExcel:R,downloadingPdf:P,spinner:E,invoice_details_key:x}}},bae={class:"card p-2"},yae={class:"d-flex justify-content-between"},kae={class:"d-flex flex-wrap gap-1"},$ae={class:"form-group"},wae={for:"Invoice Number",class:"form-label"},Dae={class:"form-group"},Cae={for:"Vendor",class:"form-label"},xae={class:""},Pae={class:"form-label",for:""},Eae={class:""},Aae={class:"form-label",for:""},Iae={class:""},Rae={for:"Financing Status",class:"form-label"},Sae={value:""},Tae={value:"disbursed"},jae={value:"closed"},Oae={value:"past_due"},Mae={class:"table-search-btn"},Lae={class:"table-clear-btn"},Nae={class:"d-flex align-items-end"},Fae={class:"mx-1"},Yae={key:0,class:"d-flex"},Vae=["src"],Bae={key:0,class:"d-flex"},Uae=["src"],qae={class:"table-responsive"},Hae={class:"table"},zae={class:""},Wae={class:"table-border-bottom-0"},Kae={key:0},Gae={colspan:"12",class:"text-center"},Qae={class:"text-center"},Zae={key:1},Jae={colspan:"12",class:"text-center"},Xae={class:"text-center"},ene={class:""},tne=["onClick"],one={class:"text-success text-nowrap"},ane={key:0},nne={key:1},sne={key:2},lne={key:3},ine=["id","data-bs-target"],rne=["id","data-bs-target"],dne={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},cne={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},une={class:"modal-content"},_ne={class:"modal-body"},mne={class:"d-flex justify-content-center"};function fne(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",bae,[e("div",yae,[e("div",kae,[e("div",$ae,[e("label",wae,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",Dae,[e("label",Cae,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=i=>t.vendor=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor]])]),e("div",xae,[e("label",Pae,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Eae,[e("label",Aae,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",Iae,[e("label",Rae,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status=i)},[e("option",Sae,n(o.$t("Status")),1),e("option",Tae,n(o.$t("Disbursed")),1),e("option",jae,n(o.$t("Closed")),1),e("option",Oae,n(o.$t("Overdue")),1)],512),[[re,t.financing_status]])]),e("div",Mae,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Lae,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Nae,[e("div",Fae,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Vae)):(u(),f("span",Yae,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Uae)):(u(),f("span",Bae,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qae,[e("table",Hae,[e("thead",null,[e("tr",zae,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",Wae,[t.report.data?b("",!0):(u(),f("tr",Kae,[e("td",Gae,[e("span",Qae,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Zae,[e("td",Jae,[e("span",Xae,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",ene,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,tne),e("td",one,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i)])},n(i.days_past_due>0?"Overdue":i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",ane,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",nne,"-")),i.disbursement_date?(u(),f("td",sne,n(i.transaction_ref),1)):(u(),f("td",lne,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,ine),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,rne),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",dne,[e("div",cne,[e("div",une,[e("div",_ne,[e("div",mne,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const D5=Ue(gae,[["render",fne]]),hne={name:"DiscountsReport",components:{Pagination:oo},setup(o,a){const s=Je("baseURL"),t=h(50),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h("discountings"),v=h([]),g=h(null),D=()=>{A.get("report",{params:{per_page:t.value,type:p.value}}).then(O=>{v.value=O.data}).catch(O=>{console.log(O)})},y=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+O+"/details").then(R=>{g.value=R.data,bt(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})},C=(O,L)=>(L/O*100).toFixed(2);return Qe(()=>{D()}),{moment:H,report:v,per_page:t,vendor_search:c,invoice_number_search:m,status_search:r,financing_status_search:i,from_date_search:_,to_date_search:l,invoice_details:g,resolveStatus:O=>{let L="";switch(O){case"Overdue":L="bg-label-danger";break;case"Created":L="bg-label-secondary";break;case"Pending Approval":L="bg-label-warning";break;case"Pending Maker":L="bg-label-warning";break;case"Pending Checker":L="bg-label-warning";break;case"Submitted":L="bg-label-primary";break;case"Approved":L="bg-label-success";break;case"Disbursed":L="bg-label-success";break;case"Denied":L="bg-label-danger";break;case"Closed":L="bg-label-secondary";break;default:L="bg-label-primary";break}return L},resolveFinancingStatus:O=>{let L="";switch(O){case"pending":L="bg-label-primary";break;case"submitted":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},changePage:async O=>{await A.get(O,{params:{type:p.value,per_page:t.value,invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{v.value=L.data}).catch(L=>{console.log(L)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get("report",{params:{per_page:t.value,type:p.value,invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{v.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},refresh:()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value=0,_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:p.value}}).then(L=>{v.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},exportReport:()=>{A.get(s+"reports/report/discountings/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Discountings_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},exportPdfReport:()=>{A.get(s+"reports/discountings/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Discountings_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},showInvoice:y,getTaxPercentage:C}}},pne={class:"card p-2"},vne={class:"d-flex justify-content-between"},gne={class:"d-flex flex-wrap gap-1"},bne={class:""},yne={for:"Vendor",class:"form-label"},kne={class:""},$ne={for:"Invoice No",class:"form-label"},wne={class:""},Dne={class:"form-label",for:""},Cne={class:""},xne={for:"Status",class:"form-label"},Pne={value:""},Ene={value:"submitted"},Ane={value:"approved"},Ine={value:"denied"},Rne={class:"table-search-btn"},Sne={class:"table-clear-btn"},Tne={class:"d-flex align-items-end"},jne={class:"mx-1"},One={class:"table-responsive"},Mne={class:"table"},Lne={class:""},Nne={class:"table-border-bottom-0"},Fne={key:0},Yne={colspan:"12",class:"text-center"},Vne={class:"text-center"},Bne={key:1},Une={colspan:"12",class:"text-center"},qne={class:"text-center"},Hne={class:""},zne=["onClick"],Wne={class:"text-success"},Kne={key:0},Gne={key:1},Qne={key:2},Zne={key:3},Jne=["id","data-bs-target"],Xne=["id","data-bs-target"],ese={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},tse={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},ose={class:"modal-content"},ase={class:"modal-body"},nse={class:"d-flex justify-content-center"},sse=["id"],lse={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ise={class:"modal-content"},rse={class:"modal-header"},dse={class:"modal-title",id:"modalCenterTitle"},cse={class:"d-flex"},use={key:0,class:"d-flex"},_se=["href"],mse=["href"],fse={class:"modal-body"},hse={class:"d-flex justify-content-between"},pse={class:"mb-3"},vse={class:"d-flex justify-content-between"},gse={key:0,class:"fw-light my-auto"},bse={key:1,class:"fw-light my-auto"},yse={key:2,class:"fw-bold mx-2 my-auto text-end"},kse={key:3,class:"fw-bold mx-2 my-auto text-end"},$se={class:"d-flex"},wse={class:"fw-light my-auto"},Dse={class:"fw-bold mx-2 my-auto"},Cse={key:0,class:"d-flex justify-content-between"},xse={class:"fw-light my-auto"},Pse={class:"fw-bold mx-2 my-auto"},Ese={key:1,class:"d-flex justify-content-between"},Ase={class:"fw-light my-auto"},Ise={class:"fw-bold mx-2 my-auto"},Rse={class:"mb-3"},Sse={key:0,class:"d-flex justify-content-between"},Tse={class:"my-auto fw-light"},jse=["data-bs-target"],Ose={class:"d-flex justify-content-between"},Mse={class:"my-auto fw-light"},Lse={class:"fw-bold mx-2 my-auto"},Nse={class:"d-flex justify-content-between"},Fse={class:"my-auto fw-light"},Yse={key:0,class:"fw-bold text-success mx-2 my-auto"},Vse={key:1,class:"fw-bold text-success mx-2 my-auto"},Bse={class:"d-flex justify-content-between"},Use={class:"my-auto fw-light"},qse={class:"fw-bold mx-2 my-auto"},Hse={key:0,class:"table-responsive"},zse={class:"table"},Wse={key:1,class:"px-2"},Kse={class:"d-flex justify-content-end"},Gse={class:"mx-2 my-auto"},Qse={class:"text-success my-auto"},Zse={key:2,class:"px-2"},Jse={class:"mx-2 my-auto"},Xse={class:"text-success my-auto"},ele={class:"bg-label-secondary px-2"},tle={class:"d-flex justify-content-end"},ole={key:0,class:"mx-2 my-auto py-1"},ale={key:1,class:"mx-2 my-auto py-1"},nle={key:2,class:"text-success my-auto py-1"},sle={key:3,class:"text-success my-auto py-1"},lle={class:"modal-footer"},ile=["onClick"],rle=["id"],dle={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},cle={class:"modal-content"},ule={class:"modal-header"},_le={class:"modal-title",id:"modalCenterTitle"},mle={class:"d-flex"},fle={key:0,class:"d-flex"},hle=["href"],ple=["href"],vle={class:"modal-body"},gle={class:"d-flex justify-content-between"},ble={class:"mb-3"},yle={class:"d-flex justify-content-between"},kle={key:0,class:"fw-light my-auto"},$le={key:1,class:"fw-light my-auto"},wle={key:2,class:"fw-bold mx-2 my-auto text-end"},Dle={key:3,class:"fw-bold mx-2 my-auto text-end"},Cle={class:"d-flex"},xle={class:"fw-light my-auto"},Ple={class:"fw-bold mx-2 my-auto"},Ele={key:0,class:"d-flex justify-content-between"},Ale={class:"fw-light my-auto"},Ile={class:"fw-bold mx-2 my-auto"},Rle={key:1,class:"d-flex justify-content-between"},Sle={class:"fw-light my-auto"},Tle={class:"fw-bold mx-2 my-auto"},jle={class:"mb-3"},Ole={class:"d-flex justify-content-between"},Mle={class:"my-auto fw-light"},Lle=["data-bs-target"],Nle={class:"d-flex justify-content-between"},Fle={class:"my-auto fw-light"},Yle={key:0,class:"fw-bold text-success mx-2 my-auto"},Vle={key:1,class:"fw-bold text-success mx-2 my-auto"},Ble={class:"d-flex justify-content-between"},Ule={class:"my-auto fw-light"},qle={class:"fw-bold mx-2 my-auto"},Hle={key:0,class:"table-responsive"},zle={class:"table"},Wle={key:1,class:"px-2"},Kle={class:"d-flex justify-content-end"},Gle={class:"mx-2 my-auto"},Qle={class:"text-success my-auto"},Zle={key:2,class:"px-2"},Jle={class:"mx-2 my-auto"},Xle={class:"text-success my-auto"},eie={key:3,class:"px-2"},tie={class:"mx-2 my-auto py-1"},oie={key:0,class:"text-success my-auto py-1"},aie={key:1,class:"text-success my-auto py-1"},nie={class:"bg-label-secondary px-2"},sie={class:"d-flex justify-content-end"},lie={key:0,class:"mx-2 my-auto py-1"},iie={key:1,class:"mx-2 my-auto py-1"},rie={key:2,class:"text-success my-auto py-1"},die={key:3,class:"text-success my-auto py-1"};function cie(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",pne,[e("div",vne,[e("div",gne,[e("div",bne,[e("label",yne,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",kne,[e("label",$ne,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",wne,[e("label",Dne,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Cne,[e("label",xne,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",Pne,n(o.$t("Status")),1),e("option",Ene,n(o.$t("Pending")),1),e("option",Ane,n(o.$t("Approved")),1),e("option",Ine,n(o.$t("Denied")),1)],512),[[re,t.status_search]])]),e("div",Rne,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Sne,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Tne,[e("div",jne,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[9]||(a[9]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",One,[e("table",Mne,[e("thead",null,[e("tr",Lne,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",Nne,[t.report.data?b("",!0):(u(),f("tr",Fne,[e("td",Yne,[e("span",Vne,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Bne,[e("td",Une,[e("span",qne,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",Hne,n(l.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.id,"show-details-btn-"+l.id),style:{cursor:"pointer"}},n(l.invoice_number),9,zne),e("td",Wne,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),l.disbursement_date?(u(),f("td",Kne,n(t.moment(l.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",Gne,"-")),l.transaction_ref?(u(),f("td",Qne,n(l.transaction_ref),1)):(u(),f("td",Zne,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,Jne),e("button",{class:"d-none",id:"show-pi-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.id},null,8,Xne),a[24]||(a[24]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ese,[e("div",tse,[e("div",ose,[e("div",ase,[e("div",nse,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",lse,[e("div",ise,[e("div",rse,[e("h5",dse,n(o.$t("Invoice Details")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",cse,[t.invoice_details.media.length>0?(u(),f("div",use,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,_se))),128))])):b("",!0),e("a",{href:"../invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,mse)])]),e("div",fse,[e("div",hse,[e("div",pse,[e("span",vse,[t.invoice_details.buyer?(u(),f("h5",gse,n(o.$t("Buyer"))+":",1)):(u(),f("h5",bse,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",yse,n(t.invoice_details.buyer.name),1)):(u(),f("h6",kse,n(t.invoice_details.company.name),1))]),e("span",$se,[e("h5",wse,n(o.$t("Remarks"))+":",1),e("h6",Dse,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Cse,[e("h5",xse,n(o.$t("Credit To"))+":",1),e("h6",Pse,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Ese,[e("h5",Ase,n(o.$t("Rejection Reason"))+":",1),e("h6",Ise,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Rse,[t.invoice_details.pi_number?(u(),f("span",Sse,[e("h5",Tse,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,jse)])):b("",!0),e("span",Ose,[e("h5",Mse,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",Lse,n(t.invoice_details.invoice_number),1)]),e("span",Nse,[e("h5",Fse,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Vse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Yse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Bse,[e("h5",Use,n(o.$t("Invoice Due Date"))+":",1),e("h6",qse,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",Hse,[e("table",zse,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",Wse,[e("span",Kse,[e("h6",Gse,n(o.$t("Total Invoice Discount")),1),e("h5",Qse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",Zse,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Jse,n(r.name),1),e("h5",Xse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",ele,[e("span",tle,[t.invoice_details.drawdown_amount?(u(),f("h6",ale,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",ole,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",sle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",nle,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1))])])]),e("div",lle,[!t.invoice_details.user_has_approved&&(t.invoice_details.status=="pending"||t.invoice_details.status=="created")?(u(),f("a",{key:0,href:"javascript:;",onClick:r=>o.requestApproval(l),class:"btn btn-primary"},n(o.$t("Approve")),9,ile)):b("",!0)])])])],8,sse)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",dle,[e("div",cle,[e("div",ule,[e("h5",_le,n(o.$t("Invoice Details")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",mle,[t.invoice_details.media.length>0?(u(),f("div",fle,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[21]||(a[21]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,hle))),128))])):b("",!0),e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[22]||(a[22]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,ple)])]),e("div",vle,[e("div",gle,[e("div",ble,[e("span",yle,[t.invoice_details.buyer?(u(),f("h5",kle,n(o.$t("Buyer"))+":",1)):(u(),f("h5",$le,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",wle,n(t.invoice_details.buyer.name),1)):(u(),f("h6",Dle,n(t.invoice_details.company.name),1))]),e("span",Cle,[e("h5",xle,n(o.$t("Remarks"))+":",1),e("h6",Ple,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Ele,[e("h5",Ale,n(o.$t("Credit To"))+":",1),e("h6",Ile,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Rle,[e("h5",Sle,n(o.$t("Rejection Reason"))+":",1),e("h6",Tle,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",jle,[e("span",Ole,[e("h5",Mle,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Lle)]),e("span",Nle,[e("h5",Fle,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Vle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Yle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Ble,[e("h5",Ule,n(o.$t("Invoice Due Date"))+":",1),e("h6",qle,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",Hle,[e("table",zle,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",Wle,[e("span",Kle,[e("h6",Gle,n(o.$t("Total Invoice Discount")),1),e("h5",Qle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",Zle,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Jle,n(r.name),1),e("h5",Xle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",eie,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",tie,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",oie," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",aie,n(r.amount),1))]))),128))])):b("",!0),e("div",nie,[e("span",sie,[t.invoice_details.drawdown_amount?(u(),f("h6",iie,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",lie,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",die,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",rie,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1))])])])])])],8,rle)):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const C5=Ue(hne,[["render",cie]]),uie={name:"Reports",components:{InvoiceAnalysisReport:y5,AllInvoicesReport:k5,VendorAnalysisReport:$5,MaturingInvoicesReport:w5,PaidInvoicesReport:D5,Discountings:C5},props:["can_view_all_invoices","can_view_programs","can_view_payments"],setup(o){const a=o.can_view_all_invoices,s=o.can_view_programs,t=o.can_view_payments,c=h(null),m=h(null),_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{c.value.getReport()}),{moment:H,can_view_all_invoices:a,can_view_programs:s,can_view_payments:t,invoice_analysis_report:c,vendor_analysis_report:m,all_invoices_report:_,maturing_invoices_report:l,paid_invoices_report:r,discounts_report:i,switchTabs:p=>{switch(p){case"invoice_analysis_report":c.value.getReport();break;case"all_invoices_report":_.value.getReport();break;case"vendor_analysis_report":m.value.getReport();break;case"maturing_invoices_report":l.value.getReport();break;case"paid_invoices_report":r.value.getReport();break;case"discounts_report":i.value.getReport();break}}}}},_ie={class:"nav-align-top nav-tabs-shadow"},mie={class:"nav nav-tabs",role:"tablist"},fie={key:0,class:"nav-item"},hie={key:1,class:"nav-item"},pie={key:2,class:"nav-item"},vie={key:3,class:"nav-item"},gie={key:4,class:"nav-item"},bie={key:5,class:"nav-item"},yie={class:"tab-content"},kie={key:0,class:"tab-pane fade show active",id:"navs-invoice-analysis",role:"tabpanel"},$ie={key:1,class:"tab-pane fade",id:"navs-all-invoices-report",role:"tabpanel"},wie={key:2,class:"tab-pane fade",id:"navs-vendor-analysis",role:"tabpanel"},Die={key:3,class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"},Cie={key:4,class:"tab-pane fade",id:"navs-paid-invoices-report",role:"tabpanel"},xie={key:5,class:"tab-pane fade",id:"discounts-report",role:"tabpanel"};function Pie(o,a,s,t,c,m){const _=de("invoice-analysis-report"),l=de("all-invoices-report"),r=de("vendor-analysis-report"),i=de("maturing-invoices-report"),d=de("paid-invoices-report"),p=de("discountings");return u(),f("div",_ie,[e("ul",mie,[t.can_view_all_invoices==1?(u(),f("li",fie,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=v=>t.switchTabs("invoice_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-invoice-analysis","aria-controls":"navs-invoice-analysis","aria-selected":"true"},"Invoice Analysis")])):b("",!0),t.can_view_all_invoices==1?(u(),f("li",hie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=v=>t.switchTabs("all_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")])):b("",!0),t.can_view_programs==1?(u(),f("li",pie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=v=>t.switchTabs("vendor_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-vendor-analysis","aria-controls":"navs-vendor-analysis","aria-selected":"false"},"Vendor Analysis")])):b("",!0),t.can_view_all_invoices==1?(u(),f("li",vie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[3]||(a[3]=v=>t.switchTabs("maturing_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Maturing Invoices Report")])):b("",!0),t.can_view_payments==1?(u(),f("li",gie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[4]||(a[4]=v=>t.switchTabs("paid_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-paid-invoices-report","aria-controls":"navs-paid-invoices-report","aria-selected":"false"},"Paid Invoices Report")])):b("",!0),t.can_view_payments==1?(u(),f("li",bie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[5]||(a[5]=v=>t.switchTabs("discounts_report")),"data-bs-toggle":"tab","data-bs-target":"#discounts-report","aria-controls":"discounts-report","aria-selected":"false"},"Discountings")])):b("",!0)]),e("div",yie,[t.can_view_all_invoices==1?(u(),f("div",kie,[Be(_,{ref:"invoice_analysis_report"},null,512)])):b("",!0),t.can_view_all_invoices==1?(u(),f("div",$ie,[Be(l,{ref:"all_invoices_report"},null,512)])):b("",!0),t.can_view_programs==1?(u(),f("div",wie,[Be(r,{ref:"vendor_analysis_report"},null,512)])):b("",!0),t.can_view_all_invoices==1?(u(),f("div",Die,[Be(i,{ref:"maturing_invoices_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",Cie,[Be(d,{ref:"paid_invoices_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",xie,[Be(p,{ref:"discounts_report"},null,512)])):b("",!0)])])}const Eie=Ue(uie,[["render",Pie]]),Aie={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:p=>{p.preventDefault();let v=p.target.files||p.dataTransfer.files;v.length&&(s.value=v[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const p=new FormData;p.append("invoices",s.value),A.post(a+"invoices/import",p).then(v=>{window.location.reload()}).catch(v=>{if(v.response.status==422){l.value++,c.error(v.response.data.message);return}v.response.data.uploaded>0&&c.success(v.response.data.uploaded+" uploaded."),v.response.data.total_rows-v.response.data.uploaded>0?(c.error(v.response.data.total_rows-v.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})},changeProductType:()=>{let p=$("#upload-product-type").val();p=="Vendor Financing Receivable"?($("#download-invoices").removeClass("d-none"),$("#download-dealer-invoices").addClass("d-none"),$("#view-vendors").removeClass("d-none"),$("#view-dealers").addClass("d-none")):p=="Dealer Financing"?($("#download-invoices").addClass("d-none"),$("#download-dealer-invoices").removeClass("d-none"),$("#view-vendors").addClass("d-none"),$("#view-dealers").removeClass("d-none")):($("#download-invoices").addClass("d-none"),$("#download-dealer-invoices").addClass("d-none"),$("#view-vendors").addClass("d-none"),$("#view-dealers").addClass("d-none"))}}}},Iie={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},Rie={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},Sie={class:"modal-dialog"},Tie={class:"modal-header"},jie={class:"modal-title",id:"modalTopTitle"},Oie={class:"modal-body"},Mie={class:"form-group d-none"},Lie={for:"Product Type",class:"form-label"},Nie={value:""},Fie={value:"Vendor Financing Receivable"},Yie={key:0,value:"Dealer Financing"},Vie={class:"form-group mt-2"},Bie={class:"py-1 text-danger d-none",id:"show-download-error"},Uie={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},qie={class:"modal-footer"},Hie={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},zie={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},Wie={href:"invoices/vendors",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},Kie={href:"#",target:"_blank",id:"view-dealers",class:"btn btn-label-info d-none"},Gie=["disabled"];function Qie(o,a,s,t,c,m){return u(),f(W,null,[e("button",Iie,n(o.$t("Upload Invoices")),1),e("div",Rie,[e("div",Sie,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[2]||(a[2]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",Tie,[e("h5",jie,n(o.$t("Upload Invoices")),1),a[3]||(a[3]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Oie,[e("div",Mie,[e("label",Lie,n(o.$t("Product Type")),1),e("select",{name:"product_type",id:"upload-product-type",class:"form-control",onChange:a[0]||(a[0]=(..._)=>t.changeProductType&&t.changeProductType(..._))},[e("option",Nie,n(o.$t("Select Type")),1),e("option",Fie,n(o.$t("Vendor Financing Receivable")),1),t.dealer_financing=="1"?(u(),f("option",Yie,n(o.$t("Dealer Financing")),1)):b("",!0)],32)]),e("div",Vie,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[1]||(a[1]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",Bie,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",Uie,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",qie,[e("a",Hie,n(o.$t("Download Sample")),1),e("a",zie,n(o.$t("Download Sample")),1),e("a",Wie,n(o.$t("View Vendors")),1),e("a",Kie,n(o.$t("View Dealers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,Gie)])],32)])])],64)}const Zie=Ue(Aie,[["render",Qie]]),Jie={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"factoring/invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},Xie={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},ere={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},tre={class:"modal-dialog"},ore={class:"modal-header"},are={class:"modal-title",id:"modalTopTitle"},nre={class:"modal-body"},sre={class:"form-group mt-2"},lre={class:"py-1 text-danger d-none",id:"show-download-error"},ire={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},rre={class:"modal-footer"},dre={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},cre={href:"invoices/dealers",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},ure=["disabled"];function _re(o,a,s,t,c,m){return u(),f(W,null,[e("button",Xie,n(o.$t("Upload Invoices")),1),e("div",ere,[e("div",tre,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",ore,[e("h5",are,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",nre,[e("div",sre,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",lre,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",ire,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",rre,[e("a",dre,n(o.$t("Download Sample")),1),e("a",cre,n(o.$t("View Buyers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,ure)])],32)])])],64)}const mre=Ue(Jie,[["render",_re]]),fre={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},hre={class:"card p-2"},pre={class:"d-flex justify-content-between"},vre={class:"d-flex flex-wrap"},gre={class:"mx-1"},bre={for:"Invoice No",class:"form-label"},yre={class:"mx-1"},kre={for:"From Date",class:"form-label"},$re={class:"mx-1"},wre={for:"Status",class:"form-label"},Dre={value:""},Cre={value:"Successful"},xre={value:"Failed"},Pre={class:"mx-1 table-search-btn mt-auto"},Ere={class:"mx-1 table-clear-btn"},Are={class:"d-flex justify-content-end mt-auto gap-1"},Ire={class:"table-responsive p-2"},Rre={class:"table dt-invoices"},Sre={key:0},Tre={colspan:"12",class:"text-center"},jre={class:"text-center"},Ore={key:1},Mre={colspan:"12",class:"text-center"},Lre={class:"text-center"},Nre={key:0,class:"badge bg-label-success me-1"},Fre={key:1,class:"badge bg-label-danger me-1"},Yre={class:""};function Vre(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",hre,[e("div",pre,[e("div",vre,[e("div",gre,[e("label",bre,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",yre,[e("label",kre,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[Q,t.uploaded_date_search]])]),e("div",$re,[e("label",wre,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",Dre,n(o.$t("Select Status")),1),e("option",Cre,n(o.$t("Successful")),1),e("option",xre,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",Pre,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ere,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Are,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Ire,[e("table",Rre,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Sre,[e("td",Tre,[e("span",jre,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Ore,[e("td",Mre,[e("span",Lre,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Nre,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Fre,n(l.status),1)):b("",!0)]),e("td",Yre,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Bre=Ue(fre,[["render",Vre]]),Ure={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),D=h([]),y=h([]),C=h(0),x=h(0),E=h(0),k=h(50),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h(""),R=h([]),P=h([]),I=h(""),S=h(""),F=h(""),N=h([]),U=h(""),Z=h(""),ce=h([]),ae=h(!1),J=h(!0),z=oe=>{document.getElementById("edit-fees-"+oe.id).classList.remove("d-none"),document.getElementById("view-fees-"+oe.id).classList.add("d-none")},ne=async()=>{await A.get(t+"factoring/invoices/data",{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{c.value=oe.data.invoices,g.value=oe.data.taxes,D.value=oe.data.users}).catch(oe=>{console.log(oe.message)})},xe=async(oe,me)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+oe+"/details").then(Le=>{l.value=Le.data,C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(me).click()})}).catch(Le=>{console.log(Le)})},Fe=async(oe,me)=>{await A.get(t+"purchase-orders/"+oe+"/show").then(Le=>{i.value=Le.data,bt(()=>{document.getElementById(me).click()})}).catch(Le=>{console.log(Le)})},he=(oe,me,Le)=>(Le/me*100).toFixed(2),ie=oe=>{let me="";switch(oe){case"Overdue":me="bg-label-danger";break;case"Created":me="bg-label-secondary";break;case"Pending Approval":me="bg-label-warning";break;case"Pending Maker":me="bg-label-primary";break;case"Pending Checker":me="bg-label-warning";break;case"Submitted":me="bg-label-primary";break;case"Approved":me="bg-label-success";break;case"Disbursed":me="bg-label-success";break;case"Denied":me="bg-label-danger";break;case"Rejected":me="bg-label-danger";break;default:me="bg-label-primary";break}return me},$e=oe=>{let me="";switch(oe){case"pending":me="bg-label-primary";break;case"submitted":me="bg-label-warning";break;case"financed":me="bg-label-success";break;case"closed":me="bg-label-secondary";break;case"denied":me="bg-label-danger";break;default:me="bg-label-primary";break}return me},we=()=>{let oe=0,me=0,Le=Object.keys(y.value);Object.values(y.value).forEach((at,mt)=>{Le[mt]=="Credit Note Amount"&&at>0&&(me=at),Le[mt]!="Credit Note Amount"&&(at>0?oe+=at:oe-=at)}),oe>0&&(x.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-oe/100*C.value.replaceAll(",",""))),me>0&&(x.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-me)),me==0&&oe==0&&(x.value=new Intl.NumberFormat.format(C.value.replaceAll(",","")))},se=async oe=>{const me=new FormData;for(const Le in y.value)Le=="Credit Note Amount"&&me.append("taxes["+Le+"]",y.value[Le]),Le!="Credit Note Amount"&&me.append("taxes["+Le+"]",y.value[Le]/100*C.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}factoring/invoices/${oe.id}/approve`,me).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+oe.id).click();for(const Le in y.value)y.value=[]}).catch(Le=>{if(console.log(Le),Le.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},ge=async oe=>{await A.get(`${t}factoring/invoices/${oe.id}/fees/approve`).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+oe.id).click();for(const me in y.value)y.value[me]=""}).catch(me=>{if(console.log(me),me.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=async(oe,me)=>{const Le=new FormData;Le.append("status",me),Le.append("rejection_reason",U.value),await A.post(t+"factoring/invoices/"+oe.id+"/request/send",Le).then(()=>{s.success("Invoice updated successfully"),ne()}).catch(Ze=>{console.log(Ze),s.error("An error occurred")})},Me=()=>{if(N.value=[],ae.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async oe=>{oe.status=="submitted"&&oe.user_can_approve&&!oe.user_has_approved&&(document.getElementById("data-select-"+oe.id).checked=!0,N.value.push(oe.id))}):(c.value.data.forEach(oe=>{if(oe.status=="submitted"&&oe.user_can_approve&&!oe.user_has_approved){document.getElementById("data-select-"+oe.id).checked=!1;let me;if(!N.value.filter(function(Ze,at){me=at,Ze==oe.id}))return!1;N.value.splice(me,1)}}),ae.value=!1),N.value.length>0){let oe={},me={};const Le=new FormData;Le.append("invoices",N.value),A.post(t+"invoices/bulk/details?type=Factoring",Le).then(Ze=>{ce.value=[],Ze.data.data.forEach(at=>{if(me[at.id]=[],at.invoice_fees.length>0){let mt=0;oe={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(oe+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(oe[wt.name+"-"+at.id]=mt)})}else oe={},Object.keys(g.value).forEach(mt=>{oe[mt+"-"+at.id]=0});me[at.id]=oe}),ce.value.push(me),ae.value=!1})}},ue=oe=>{if(N.value.includes(oe)){const me=N.value.indexOf(oe);N.value.splice(me,1)}else N.value.push(oe);if(N.value.length>0){let me={},Le={};const Ze=new FormData;Ze.append("invoices",N.value),A.post(t+"invoices/bulk/details?type=Factoring",Ze).then(at=>{ce.value=[],at.data.data.forEach(mt=>{if(Le[mt.id]=[],mt.invoice_fees.length>0){let wt=0;me={},mt.invoice_fees.forEach(Ot=>{Ot.name!="Credit Note Amount"?wt=he(mt.invoice_number,mt.total+mt.total_invoice_taxes-mt.total_invoice_discount,Ot.amount):wt=Ot.amount,Object.keys(me+"-"+mt.id).filter(ut=>ut==Ot.name+"-"+mt.id).length>0||(me[Ot.name+"-"+mt.id]=wt)})}else me={},Object.keys(g.value).forEach(wt=>{me[wt+"-"+mt.id]=0});Le[mt.id]=me}),ce.value.push(Le),ae.value=!1})}},Oe=oe=>{if(N.value.length<=0){s.error("Select invoices");return}};ot(Z,oe=>{(oe=="approve"||oe=="reject")&&(N.value.length>0?(oe=="reject"&&document.getElementById("show-bulk-reject-modal").click(),oe=="approve"&&document.getElementById("show-bulk-approval-modal").click(),Z.value=""):s.error("Select Invoices"))});const ze=()=>{const oe=new FormData;N.value.forEach((me,Le)=>{oe.append("invoice["+Le+"]",me)}),oe.append("invoice_taxes",JSON.stringify(ce.value)),oe.append("action",Z.value),J.value=!1,A.post(t+"invoices/bulk/update/approve?type=Factoring",oe).then(me=>{ne(),s.success(me.data.message),document.getElementById("fees-close-modal").click();for(const Le in y.value)y.value[Le]="";N.value=[],ce.value=[]}).catch(me=>{if(console.log(me),me.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{Z.value="",J.value=!0})},Ye=()=>{const oe=new FormData;oe.append("rejected_reason",U.value),N.value.forEach((me,Le)=>{oe.append("invoice["+Le+"]",me)}),oe.append("action",Z.value),J.value=!1,A.post(t+"invoices/bulk/update/reject?type=Factoring",oe).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",N.value=[],ce.value=[]}).catch(me=>{console.log(me),s.error("An error occurred")}).finally(()=>{J.value=!0,Z.value=""})},ve=oe=>{const me=new FormData;me.append("rejected_reason",U.value),me.append("action",Z.value),A.post(t+"invoices/"+oe+"/reject",me).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+oe).click(),Z.value="",U.value=""}).catch(Le=>{console.log(Le),s.error("An error occurred")})};return Qe(()=>{ne(),$("#invoice-status-select").on("change",function(){var oe=$("#invoice-status-select").val();R.value=oe}),$("#financing-status-select").on("change",function(){var oe=$("#financing-status-select").val();P.value=oe})}),ot([k],async([oe])=>{A.get(t+"factoring/invoices/data",{params:{per_page:oe,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices})}),{moment:H,per_page:k,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:D,invoice_taxes:y,invoice_subtotal:C,invoice_total:x,purchase_order_total:E,purchase_order_details:i,selected_invoices:N,selected_invoices_taxes:ce,buyer_search:w,invoice_number_search:T,status_search:R,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:O,to_invoice_date_search:L,sort_by:F,bulk_action:Z,invoice_fees_processing:ae,rejected_reason:U,can_bulk_approve:J,showInvoice:xe,calculatePayable:oe=>{let me=$("#invoice-amount-"+oe).text().replaceAll(",",""),Le=$("#withholding-tax-"+oe).val(),Ze=$("#withholding-vat-"+oe).val(),at=$("#credit-note-amount-"+oe).val(),mt=Le/100*me,wt=Ze/100*me,Ot=me-mt-wt-at;$("#invoice-total-payable-"+oe).text(new Intl.NumberFormat().format(Ot))},filter:async()=>{I.value=$("#date_search").val(),S.value=$("#invoice_date_search").val(),I.value&&(V.value=H(I.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(I.value.split(" - ")[1]).format("YYYY-MM-DD")),S.value&&(O.value=H(S.value.split(" - ")[0]).format("YYYY-MM-DD"),L.value=H(S.value.split(" - ")[1]).format("YYYY-MM-DD"));let oe=$(".ti-search").parent();oe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"factoring/invoices/data",{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices,g.value=me.data.taxes,oe.html('<i class="ti ti-search"></i>')})},updateSelected:ue,selectAll:Me,bulkAction:Oe,resolveStatus:ie,resolveFinancingStatus:$e,changePage:async oe=>{await A.get(oe,{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices}).catch(me=>{console.log(me)})},submitApproval:se,submitBulkApproval:ze,submitBulkRejection:Ye,updateInvoiceTotal:we,getTaxPercentage:he,clearSearch:async()=>{let oe=$(".ti-refresh").parent();oe.html('<img src="../../../../../assets/img/spinner.svg" />'),w.value="",T.value="",V.value="",B.value="",R.value=[],P.value=[],I.value="",S.value="",F.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"factoring/invoices/data",{params:{per_page:k.value}}).then(me=>{c.value=me.data.invoices,g.value=me.data.taxes,oe.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{const me=window.URL.createObjectURL(new Blob([oe.data])),Le=document.createElement("a");Le.href=me,Le.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Le),Le.click()}).catch(oe=>{console.log(oe)})},submitRejection:ve,download:oe=>{A.get(t+"invoices/"+oe.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(me=>{const Le=window.URL.createObjectURL(new Blob([me.data])),Ze=document.createElement("a");Ze.href=Le,Ze.setAttribute("download",`Invoice_${oe.invoice_number}.pdf`),document.body.appendChild(Ze),Ze.click()}).catch(me=>{console.log(me)})},editFees:z,approveFees:ge,userHasApproved:(oe,me)=>{let Le=!1;return oe.approvals.forEach(Ze=>{me.id==Ze.user_id&&(Le=!0)}),Le},approvalDetails:(oe,me)=>{let Le=null;return Le=oe.approvals.filter(Ze=>Ze.user_id==me.id).length>0?oe.approvals.filter(Ze=>Ze.user_id==me.id)[0]:null,Le},showPurchaseOrder:Fe,requestApproval:be,invoice_details_key:r}}},qre={class:"p-2"},Hre={class:"d-flex justify-content-between"},zre={class:"d-flex flex-wrap gap-1"},Wre={class:""},Kre={for:"Vendor",class:"form-label"},Gre={class:""},Qre={for:"Invoice No",class:"form-label"},Zre={class:""},Jre={class:"form-label",for:""},Xre={class:""},ede={class:"form-label",for:""},tde={class:""},ode={for:"Status",class:"form-label"},ade={value:"pending_maker"},nde={value:"pending_checker"},sde={value:"approved"},lde={value:"rejected"},ide={value:"past_due"},rde={value:"expired"},dde={class:""},cde={for:"Financing Status",class:"form-label"},ude={value:"pending"},_de={value:"submitted"},mde={value:"financed"},fde={value:"disbursed"},hde={value:"closed"},pde={value:"denied"},vde={class:""},gde={for:"Financing Status",class:"form-label"},bde={value:""},yde={value:"po_asc"},kde={value:"po_desc"},$de={value:"invoice_no_asc"},wde={value:"invoice_no_desc"},Dde={value:"due_date_asc"},Cde={value:"due_date_desc"},xde={value:"invoice_amount_asc"},Pde={value:"invoice_amount_desc"},Ede={value:"buyer_asc"},Ade={value:"buyer_desc"},Ide={class:""},Rde={for:"Bulk Actions",class:"form-label"},Sde={value:""},Tde={value:"approve"},jde={value:"reject"},Ode={class:"table-search-btn"},Mde={class:"table-clear-btn"},Lde={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},Nde={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},Fde={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Yde={class:"modal-content"},Vde={class:"modal-header"},Bde={class:"modal-title",id:"modalCenterTitle"},Ude={key:0,class:"text-center my-4"},qde={class:"modal-body"},Hde={class:"table"},zde={key:0},Wde={key:0},Kde={key:1},Gde=["id"],Qde={key:2},Zde={key:0},Jde=["onUpdate:modelValue","id","onInput"],Xde={key:3},ece={key:0},tce=["onUpdate:modelValue","id","onInput"],oce={key:4},ace={key:0},nce=["onUpdate:modelValue","id","onInput"],sce={key:5},lce={key:0},ice=["id"],rce={class:"modal-footer"},dce=["disabled"],cce={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},uce={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},_ce={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},mce={class:"modal-content"},fce={class:"modal-header"},hce={class:"modal-title",id:"modalCenterTitle"},pce={class:"modal-body"},vce={for:"reason",class:"form-label"},gce={class:"modal-footer"},bce=["disabled"],yce={class:"d-flex justify-content-end gap-1 mt-auto"},kce={class:"table-responsive p-1"},$ce={class:"table dt-invoices"},wce={class:"px-1"},Dce={class:"form-check"},Cce={key:0},xce={colspan:"12",class:"text-center"},Pce={class:"text-center"},Ece={key:1},Ace={colspan:"12",class:"text-center"},Ice={class:"text-center"},Rce={class:"px-1"},Sce={key:0,class:"form-check"},Tce=["id","onChange"],jce={key:1},Oce=["id","onChange"],Mce={key:0,class:"text-primary text-decoration-underline"},Lce=["onClick"],Nce={key:1,class:"text-primary"},Fce=["onClick"],Yce={href:"javascript:;"},Vce={class:"text-success text-nowrap"},Bce={class:""},Uce={class:"text-success text-nowrap"},qce={class:""},Hce={class:""},zce={class:""},Wce={class:"text-success"},Kce={class:""},Gce={class:"d-inline-block"},Qce=["id","data-bs-target"],Zce=["id","data-bs-target"],Jce=["id","data-bs-target"],Xce=["id","data-bs-target"],eue=["id","data-bs-target"],tue=["id","data-bs-target"],oue=["id","data-bs-target"],aue={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},nue={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},sue={class:"modal-content"},lue={class:"modal-body"},iue={class:"d-flex justify-content-center"},rue={class:"dropdown-menu dropdown-menu-end"},due={class:"mt-2"},cue=["onClick"],uue={key:0,class:"mb-2"},_ue=["href"],mue=["onClick"],fue={class:"dropdown-item badge bg-label-success"},hue={key:2,class:"mb-2"},pue=["onClick"],vue=["onClick"],gue={class:"dropdown-item badge bg-label-info"},bue=["onClick"],yue={class:"dropdown-item badge bg-label-warning"},kue={key:5},$ue=["onClick"],wue={key:6},Due=["data-bs-target"],Cue=["id"],xue={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Pue={class:"modal-content"},Eue={class:"modal-header"},Aue={class:"modal-title",id:"modalCenterTitle"},Iue=["id"],Rue=["onSubmit"],Sue={class:"modal-body"},Tue={for:"reason",class:"form-label"},jue={class:"modal-footer"},Oue={class:"btn btn-danger",type:"submit"},Mue=["id"],Lue={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Nue={class:"modal-content"},Fue={class:"modal-header"},Yue={class:"modal-title",id:"modalCenterTitle"},Vue={class:"d-flex"},Bue=["href"],Uue=["href"],que={class:"modal-body"},Hue={class:"d-flex justify-content-between"},zue={class:"mb-3 w-50"},Wue={class:"d-flex justify-content-between"},Kue={class:"fw-light my-auto"},Gue={class:"fw-bold mx-2 my-auto"},Que={class:"d-flex justify-content-between"},Zue={class:"fw-light my-auto"},Jue={class:"fw-bold mx-2 my-auto"},Xue={class:"d-flex justify-content-between"},e_e={class:"fw-light my-auto"},t_e={class:"fw-bold mx-2 my-auto"},o_e={class:"d-flex justify-content-between"},a_e={class:"fw-light my-auto"},n_e={key:0,class:"d-flex justify-content-between"},s_e={class:"fw-light my-auto"},l_e={class:"fw-bold mx-2 my-auto"},i_e={class:"mb-3"},r_e={class:"d-flex justify-content-between"},d_e={class:"my-auto fw-light"},c_e={class:"fw-bold mx-2 my-auto"},u_e={class:"d-flex justify-content-between"},__e={class:"my-auto fw-light"},m_e={class:"fw-bold mx-2 my-auto"},f_e={class:"d-flex justify-content-between"},h_e={class:"my-auto fw-light"},p_e={class:"fw-bold mx-2 my-auto"},v_e={class:"d-flex justify-content-between"},g_e={class:"my-auto fw-light"},b_e={class:"fw-bold text-success mx-2 my-auto"},y_e={class:"table-responsive"},k_e={class:"table"},$_e={class:"bg-label-secondary px-2"},w_e={class:"d-flex justify-content-end"},D_e={class:"mx-2 my-auto py-1"},C_e={class:"text-success my-auto py-1"},x_e=["id"],P_e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},E_e={class:"modal-content"},A_e={class:"modal-header"},I_e={class:"modal-title",id:"modalCenterTitle"},R_e=["id"],S_e=["id"],T_e={class:"modal-body"},j_e={key:0},O_e={class:"form-group"},M_e={for:"Sub total",class:"form-label"},L_e={class:"form-label"},N_e=["value"],F_e=["value"],Y_e={class:"form-group"},V_e={for:"Sub total",class:"form-label"},B_e=["value"],U_e={key:1},q_e={class:"d-flex justify-content-between"},H_e={class:"modal-footer"},z_e={class:"btn btn-primary",type:"submit"},W_e=["id"],K_e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},G_e={class:"modal-content"},Q_e={class:"modal-header"},Z_e={class:"modal-title"},J_e=["id"],X_e=["id"],eme={class:"modal-body"},tme={class:"form-group"},ome={for:"Sub total",class:"form-label"},ame={key:0},nme={for:""},sme=["onUpdate:modelValue"],lme={key:1},ime={for:""},rme=["onUpdate:modelValue"],dme={class:"form-group"},cme={for:"Sub total",class:"form-label"},ume={key:0,class:"mt-2"},_me={class:"text-sm"},mme={class:"mx-2 my-auto py-1"},fme={key:0,class:"text-success my-auto py-1"},hme={key:1,class:"text-success my-auto py-1"},pme={class:"modal-footer"},vme={class:"btn btn-primary",type:"submit"};function gme(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",qre,[e("div",Hre,[e("div",zre,[e("div",Wre,[e("label",Kre,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",Gre,[e("label",Qre,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Zre,[e("label",Jre,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[24]||(a[24]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Xre,[e("label",ede,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",tde,[e("label",ode,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",ade,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",nde,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",sde,n(o.$t("Approved")),1),e("option",lde,n(o.$t("Rejected")),1),e("option",ide,n(o.$t("Overdue")),1),e("option",rde,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",dde,[e("label",cde,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",ude,n(o.$t("Pending")),1),e("option",_de,n(o.$t("Submitted")),1),e("option",mde,n(o.$t("Financed")),1),e("option",fde,n(o.$t("Disbursed")),1),e("option",hde,n(o.$t("Closed")),1),e("option",pde,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",vde,[e("label",gde,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",bde,n(o.$t("Sort By")),1),e("option",yde,n(o.$t("PO No. (ASC)")),1),e("option",kde,n(o.$t("PO No. (DESC)")),1),e("option",$de,n(o.$t("Invoice No. (ASC)")),1),e("option",wde,n(o.$t("Invoice No. (DESC)")),1),e("option",Dde,n(o.$t("Due Date. (ASC)")),1),e("option",Cde,n(o.$t("Due Date. (DESC)")),1),e("option",xde,n(o.$t("Invoice Amount. (ASC)")),1),e("option",Pde,n(o.$t("Invoice Amount. (DESC)")),1),e("option",Ede,n(o.$t("Buyer. (ASC)")),1),e("option",Ade,n(o.$t("Buyer. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",Ide,[e("label",Rde,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",Sde,n(o.$t("Bulk Actions")),1),e("option",Tde,n(o.$t("Approve")),1),e("option",jde,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",Ode,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Mde,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",Lde,n(o.$t("Approve")),1),e("div",Nde,[e("div",Fde,[e("div",Yde,[e("div",Vde,[e("h5",Bde,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",Ude,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",qde,[e("table",Hde,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",zde,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",Wde,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",Kde,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,Gde)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",Qde,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",Zde,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,Jde),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",Xde,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",ece,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,tce),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",oce,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",ace,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,nce),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",sce,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",lce,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,ice)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",rce,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,dce)])],32)):b("",!0)])])]),e("button",cce,n(o.$t("Reject")),1),e("div",uce,[e("div",_ce,[e("div",mce,[e("div",fce,[e("h5",hce,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",pce,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",vce,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",gce,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,bce)])],32)])])])]),e("div",yce,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},a[31]||(a[31]=[e("i",{class:"ti ti-download ti-xs"},null,-1)]))])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",kce,[e("table",$ce,[e("thead",null,[e("tr",null,[e("th",wce,[e("div",Dce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1),a[32]||(a[32]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Cce,[e("td",xce,[e("span",Pce,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Ece,[e("td",Ace,[e("span",Ice,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",Rce,[!i.buyer&&i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved?(u(),f("div",Sce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,Tce)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("div",jce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,Oce)])):b("",!0)]),e("td",null,n(i.buyer?i.buyer:i.company),1),i.purchase_order_number?(u(),f("td",Mce,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,Lce)])):(u(),f("td",Nce,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Yce,n(i.invoice_number),1)],8,Fce),e("td",Vce,[le(n(i.currency)+" ",1),e("span",Bce,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",Uce,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",qce,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",Hce,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",zce,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Wce,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",Kce,[e("div",Gce,[a[34]||(a[34]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Qce),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Zce),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,Jce),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Xce),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,eue),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,tue),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,oue),a[35]||(a[35]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",aue,[e("div",nue,[e("div",sue,[e("div",lue,[e("div",iue,[e("span",null,n(o.$t("Loading"))+"...",1),a[33]||(a[33]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",rue,[e("li",due,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,cue)]),i.can_edit?(u(),f("li",uue,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,_ue)])):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approve-btn-"+i.id)},[e("span",fue,n(o.$t("Approve")),1)],8,mue)):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",hue,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,pue)])):b("",!0),i.buyer?b("",!0):(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",gue,n(o.$t("Checker Approvals")),1)],8,vue)),!i.buyer&&i.authorization_group?(u(),f("li",{key:4,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",yue,n(o.$t("Authorization Matrix")),1)],8,bue)):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",kue,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,$ue)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",wue,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Due)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",xue,[e("div",Pue,[e("div",Eue,[e("h5",Aue,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Iue)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",Sue,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",Tue,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",jue,[e("button",Oue,n(o.$t("Confirm")),1)])],40,Rue)])])],8,Cue),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",Lue,[e("div",Nue,[e("div",Fue,[e("h5",Yue,n(o.$t("Purchase Order")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Vue,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[36]||(a[36]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Bue)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[37]||(a[37]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Uue)):b("",!0)])]),e("div",que,[e("div",Hue,[e("div",zue,[e("span",Wue,[e("h5",Kue,n(o.$t("Vendor"))+":",1),e("h6",Gue,n(t.purchase_order_details.company.name),1)]),e("span",Que,[e("h5",Zue,n(o.$t("Delivery Address"))+":",1),e("h6",Jue,n(t.purchase_order_details.delivery_address),1)]),e("span",Xue,[e("h5",e_e,n(o.$t("Remarks"))+":",1),e("h6",t_e,n(t.purchase_order_details.remarks),1)]),e("span",o_e,[e("h5",a_e,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",n_e,[e("h5",s_e,n(o.$t("Rejection Reason"))+":",1),e("h6",l_e,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",i_e,[e("span",r_e,[e("h5",d_e,n(o.$t("PO No"))+":",1),e("h6",c_e,n(t.purchase_order_details.purchase_order_number),1)]),e("span",u_e,[e("h5",__e,n(o.$t("Start Date"))+":",1),e("h6",m_e,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",f_e,[e("h5",h_e,n(o.$t("End Date"))+":",1),e("h6",p_e,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",v_e,[e("h5",g_e,n(o.$t("PO Amount"))+":",1),e("h6",b_e,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",y_e,[e("table",k_e,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",$_e,[e("span",w_e,[e("h6",D_e,n(o.$t("Total")),1),e("h5",C_e,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,Mue)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",P_e,[e("div",E_e,[e("div",A_e,[e("h5",I_e,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,R_e)]),e("form",{onSubmit:a[18]||(a[18]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"view-fees-"+t.invoice_details.id},[e("div",T_e,[t.invoice_details.invoice_fees.length>0?(u(),f("div",j_e,[a[39]||(a[39]=e("div",{class:"d-flex justify-content-between"},[e("div")],-1)),e("div",O_e,[e("label",M_e,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",L_e,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,N_e)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,F_e))]))),128)),e("div",Y_e,[e("label",V_e,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,B_e)])])):(u(),f("div",U_e,[e("div",q_e,[e("div",null,[e("span",null,n(o.$t("Fees not set for invoice "+t.invoice_details.invoice_number)),1)])])]))]),e("div",H_e,[e("button",z_e,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve Invoice")),1)])],40,S_e)])])],8,x_e)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",K_e,[e("div",G_e,[e("div",Q_e,[e("h5",Z_e,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,J_e)]),e("form",{onSubmit:a[23]||(a[23]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",eme,[e("div",tme,[e("label",ome,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[19]||(a[19]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",ame,[e("label",nme,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control",required:"","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v)),readonly:""},null,40,sme),[[Q,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",lme,[e("label",ime,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01",required:"","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v)),readonly:""},null,40,rme),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",dme,[e("label",cme,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[22]||(a[22]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",ume,[e("h5",_me,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",mme,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",fme," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",hme,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",pme,[e("button",vme,n(o.$t("Submit")),1)])],40,X_e)])])],8,W_e)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const bme=Ue(Ure,[["render",gme]]),yme={name:"FactoringCashPlannerPrograms",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"factoring/cash-planner/programs",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,per_page:s,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.pending_programs})}}}},kme={class:"card"},$me={class:"card-header"},wme={class:"card-title"},Dme={class:"card-body"},Cme={class:"table-responsive"},xme={class:"table"},Pme={class:"text-nowrap"},Eme={class:"table-border-bottom-0"},Ame={key:0},Ime={colspan:"12",class:"text-center"},Rme={class:"text-center"},Sme={key:1},Tme={colspan:"12",class:"text-center"},jme={class:"text-center"},Ome={class:""},Mme={class:""},Lme={class:"text-success"},Nme={class:"text-success"},Fme={class:"text-success"},Yme={class:"text-success"},Vme={class:""};function Bme(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",kme,[e("div",$me,[e("h6",wme,n(o.$t("Programs Details")),1)]),e("div",Dme,[t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Cme,[e("table",xme,[e("thead",null,[e("tr",Pme,[e("th",null,n(o.$t("Payment/OD Account No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",Eme,[t.programs.data?b("",!0):(u(),f("tr",Ame,[e("td",Ime,[e("span",Rme,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Sme,[e("td",Tme,[e("span",jme,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",Ome,n(l.payment_account_number),1),e("td",Mme,n(l.buyer_name),1),e("td",Lme,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Nme,n(l.utilized_amount<0?0:new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Fme,n(l.pipeline_amount<0?0:new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Yme,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",Vme,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Ume=Ue(yme,[["render",Bme]]);var dv=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Vr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(o){return typeof console<"u"&&console.warn(o)},getWeek:function(o){var a=new Date(o.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);var s=new Date(a.getFullYear(),0,4);return 1+Math.round(((a.getTime()-s.getTime())/864e5-3+(s.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},fm={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(o){var a=o%100;if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Qa=function(o,a){return a===void 0&&(a=2),("000"+o).slice(a*-1)},Dn=function(o){return o===!0?1:0};function m0(o,a){var s;return function(){var t=this,c=arguments;clearTimeout(s),s=setTimeout(function(){return o.apply(t,c)},a)}}var cv=function(o){return o instanceof Array?o:[o]};function Ya(o,a,s){if(s===!0)return o.classList.add(a);o.classList.remove(a)}function Ao(o,a,s){var t=window.document.createElement(o);return a=a||"",s=s||"",t.className=a,s!==void 0&&(t.textContent=s),t}function _f(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function x5(o,a){if(a(o))return o;if(o.parentNode)return x5(o.parentNode,a)}function mf(o,a){var s=Ao("div","numInputWrapper"),t=Ao("input","numInput "+o),c=Ao("span","arrowUp"),m=Ao("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?t.type="number":(t.type="text",t.pattern="\\d*"),a!==void 0)for(var _ in a)t.setAttribute(_,a[_]);return s.appendChild(t),s.appendChild(c),s.appendChild(m),s}function rn(o){try{if(typeof o.composedPath=="function"){var a=o.composedPath();return a[0]}return o.target}catch{return o.target}}var uv=function(){},fh=function(o,a,s){return s.months[a?"shorthand":"longhand"][o]},qme={D:uv,F:function(o,a,s){o.setMonth(s.months.longhand.indexOf(a))},G:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},H:function(o,a){o.setHours(parseFloat(a))},J:function(o,a){o.setDate(parseFloat(a))},K:function(o,a,s){o.setHours(o.getHours()%12+12*Dn(new RegExp(s.amPM[1],"i").test(a)))},M:function(o,a,s){o.setMonth(s.months.shorthand.indexOf(a))},S:function(o,a){o.setSeconds(parseFloat(a))},U:function(o,a){return new Date(parseFloat(a)*1e3)},W:function(o,a,s){var t=parseInt(a),c=new Date(o.getFullYear(),0,2+(t-1)*7,0,0,0,0);return c.setDate(c.getDate()-c.getDay()+s.firstDayOfWeek),c},Y:function(o,a){o.setFullYear(parseFloat(a))},Z:function(o,a){return new Date(a)},d:function(o,a){o.setDate(parseFloat(a))},h:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},i:function(o,a){o.setMinutes(parseFloat(a))},j:function(o,a){o.setDate(parseFloat(a))},l:uv,m:function(o,a){o.setMonth(parseFloat(a)-1)},n:function(o,a){o.setMonth(parseFloat(a)-1)},s:function(o,a){o.setSeconds(parseFloat(a))},u:function(o,a){return new Date(parseFloat(a))},w:uv,y:function(o,a){o.setFullYear(2e3+parseFloat(a))}},Zl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},B_={Z:function(o){return o.toISOString()},D:function(o,a,s){return a.weekdays.shorthand[B_.w(o,a,s)]},F:function(o,a,s){return fh(B_.n(o,a,s)-1,!1,a)},G:function(o,a,s){return Qa(B_.h(o,a,s))},H:function(o){return Qa(o.getHours())},J:function(o,a){return a.ordinal!==void 0?o.getDate()+a.ordinal(o.getDate()):o.getDate()},K:function(o,a){return a.amPM[Dn(o.getHours()>11)]},M:function(o,a){return fh(o.getMonth(),!0,a)},S:function(o){return Qa(o.getSeconds())},U:function(o){return o.getTime()/1e3},W:function(o,a,s){return s.getWeek(o)},Y:function(o){return Qa(o.getFullYear(),4)},d:function(o){return Qa(o.getDate())},h:function(o){return o.getHours()%12?o.getHours()%12:12},i:function(o){return Qa(o.getMinutes())},j:function(o){return o.getDate()},l:function(o,a){return a.weekdays.longhand[o.getDay()]},m:function(o){return Qa(o.getMonth()+1)},n:function(o){return o.getMonth()+1},s:function(o){return o.getSeconds()},u:function(o){return o.getTime()},w:function(o){return o.getDay()},y:function(o){return String(o.getFullYear()).substring(2)}},P5=function(o){var a=o.config,s=a===void 0?Vr:a,t=o.l10n,c=t===void 0?fm:t,m=o.isMobile,_=m===void 0?!1:m;return function(l,r,i){var d=i||c;return s.formatDate!==void 0&&!_?s.formatDate(l,r,d):r.split("").map(function(p,v,g){return B_[p]&&g[v-1]!=="\\"?B_[p](l,d,s):p!=="\\"?p:""}).join("")}},lg=function(o){var a=o.config,s=a===void 0?Vr:a,t=o.l10n,c=t===void 0?fm:t;return function(m,_,l,r){if(!(m!==0&&!m)){var i=r||c,d,p=m;if(m instanceof Date)d=new Date(m.getTime());else if(typeof m!="string"&&m.toFixed!==void 0)d=new Date(m);else if(typeof m=="string"){var v=_||(s||Vr).dateFormat,g=String(m).trim();if(g==="today")d=new Date,l=!0;else if(s&&s.parseDate)d=s.parseDate(m,v);else if(/Z$/.test(g)||/GMT$/.test(g))d=new Date(m);else{for(var D=void 0,y=[],C=0,x=0,E="";C<v.length;C++){var k=v[C],w=k==="\\",T=v[C-1]==="\\"||w;if(Zl[k]&&!T){E+=Zl[k];var V=new RegExp(E).exec(m);V&&(D=!0)&&y[k!=="Y"?"push":"unshift"]({fn:qme[k],val:V[++x]})}else w||(E+=".")}d=!s||!s.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),y.forEach(function(B){var O=B.fn,L=B.val;return d=O(d,L,i)||d}),d=D?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){s.errorHandler(new Error("Invalid date provided: "+p));return}return l===!0&&d.setHours(0,0,0,0),d}}};function dn(o,a,s){return s===void 0&&(s=!0),s!==!1?new Date(o.getTime()).setHours(0,0,0,0)-new Date(a.getTime()).setHours(0,0,0,0):o.getTime()-a.getTime()}var Hme=function(o,a,s){return o>Math.min(a,s)&&o<Math.max(a,s)},_v=function(o,a,s){return o*3600+a*60+s},zme=function(o){var a=Math.floor(o/3600),s=(o-a*3600)/60;return[a,s,o-a*3600-s*60]},Wme={DAY:864e5};function mv(o){var a=o.defaultHour,s=o.defaultMinute,t=o.defaultSeconds;if(o.minDate!==void 0){var c=o.minDate.getHours(),m=o.minDate.getMinutes(),_=o.minDate.getSeconds();a<c&&(a=c),a===c&&s<m&&(s=m),a===c&&s===m&&t<_&&(t=o.minDate.getSeconds())}if(o.maxDate!==void 0){var l=o.maxDate.getHours(),r=o.maxDate.getMinutes();a=Math.min(a,l),a===l&&(s=Math.min(r,s)),a===l&&s===r&&(t=o.maxDate.getSeconds())}return{hours:a,minutes:s,seconds:t}}typeof Object.assign!="function"&&(Object.assign=function(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(!o)throw TypeError("Cannot convert undefined or null to object");for(var t=function(l){l&&Object.keys(l).forEach(function(r){return o[r]=l[r]})},c=0,m=a;c<m.length;c++){var _=m[c];t(_)}return o});var Aa=function(){return Aa=Object.assign||function(o){for(var a,s=1,t=arguments.length;s<t;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},Aa.apply(this,arguments)},f0=function(){for(var o=0,a=0,s=arguments.length;a<s;a++)o+=arguments[a].length;for(var t=Array(o),c=0,a=0;a<s;a++)for(var m=arguments[a],_=0,l=m.length;_<l;_++,c++)t[c]=m[_];return t},Kme=300;function Gme(o,a){var s={config:Aa(Aa({},Vr),ta.defaultConfig),l10n:fm};s.parseDate=lg({config:s.config,l10n:s.l10n}),s._handlers=[],s.pluginElements=[],s.loadedPlugins=[],s._bind=y,s._setHoursFromDate=v,s._positionCalendar=Se,s.changeMonth=z,s.changeYear=$e,s.clear=ne,s.close=xe,s.onMouseOver=Me,s._createElement=Ao,s.createDay=V,s.destroy=Fe,s.isEnabled=we,s.jumpToDate=E,s.updateValue=Ft,s.open=Oe,s.redraw=ee,s.set=oe,s.setDate=Le,s.toggle=Jt;function t(){s.utils={getDaysInMonth:function(Pe,Te){return Pe===void 0&&(Pe=s.currentMonth),Te===void 0&&(Te=s.currentYear),Pe===1&&(Te%4===0&&Te%100!==0||Te%400===0)?29:s.l10n.daysInMonth[Pe]}}}function c(){s.element=s.input=o,s.isOpen=!1,Ye(),_e(),mt(),at(),t(),s.isMobile||T(),x(),(s.selectedDates.length||s.config.noCalendar)&&(s.config.enableTime&&v(s.config.noCalendar?s.latestSelectedDateObj:void 0),Ft(!1)),l();var Pe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!s.isMobile&&Pe&&Se(),ut("onReady")}function m(){var Pe;return((Pe=s.calendarContainer)===null||Pe===void 0?void 0:Pe.getRootNode()).activeElement||document.activeElement}function _(Pe){return Pe.bind(s)}function l(){var Pe=s.config;Pe.weekNumbers===!1&&Pe.showMonths===1||Pe.noCalendar!==!0&&window.requestAnimationFrame(function(){if(s.calendarContainer!==void 0&&(s.calendarContainer.style.visibility="hidden",s.calendarContainer.style.display="block"),s.daysContainer!==void 0){var Te=(s.days.offsetWidth+1)*Pe.showMonths;s.daysContainer.style.width=Te+"px",s.calendarContainer.style.width=Te+(s.weekWrapper!==void 0?s.weekWrapper.offsetWidth:0)+"px",s.calendarContainer.style.removeProperty("visibility"),s.calendarContainer.style.removeProperty("display")}})}function r(Pe){if(s.selectedDates.length===0){var Te=s.config.minDate===void 0||dn(new Date,s.config.minDate)>=0?new Date:new Date(s.config.minDate.getTime()),Ge=mv(s.config);Te.setHours(Ge.hours,Ge.minutes,Ge.seconds,Te.getMilliseconds()),s.selectedDates=[Te],s.latestSelectedDateObj=Te}Pe!==void 0&&Pe.type!=="blur"&&ro(Pe);var nt=s._input.value;p(),Ft(),s._input.value!==nt&&s._debouncedChange()}function i(Pe,Te){return Pe%12+12*Dn(Te===s.l10n.amPM[1])}function d(Pe){switch(Pe%24){case 0:case 12:return 12;default:return Pe%12}}function p(){if(!(s.hourElement===void 0||s.minuteElement===void 0)){var Pe=(parseInt(s.hourElement.value.slice(-2),10)||0)%24,Te=(parseInt(s.minuteElement.value,10)||0)%60,Ge=s.secondElement!==void 0?(parseInt(s.secondElement.value,10)||0)%60:0;s.amPM!==void 0&&(Pe=i(Pe,s.amPM.textContent));var nt=s.config.minTime!==void 0||s.config.minDate&&s.minDateHasTime&&s.latestSelectedDateObj&&dn(s.latestSelectedDateObj,s.config.minDate,!0)===0,yt=s.config.maxTime!==void 0||s.config.maxDate&&s.maxDateHasTime&&s.latestSelectedDateObj&&dn(s.latestSelectedDateObj,s.config.maxDate,!0)===0;if(s.config.maxTime!==void 0&&s.config.minTime!==void 0&&s.config.minTime>s.config.maxTime){var Ct=_v(s.config.minTime.getHours(),s.config.minTime.getMinutes(),s.config.minTime.getSeconds()),Ut=_v(s.config.maxTime.getHours(),s.config.maxTime.getMinutes(),s.config.maxTime.getSeconds()),Tt=_v(Pe,Te,Ge);if(Tt>Ut&&Tt<Ct){var Gt=zme(Ct);Pe=Gt[0],Te=Gt[1],Ge=Gt[2]}}else{if(yt){var ct=s.config.maxTime!==void 0?s.config.maxTime:s.config.maxDate;Pe=Math.min(Pe,ct.getHours()),Pe===ct.getHours()&&(Te=Math.min(Te,ct.getMinutes())),Te===ct.getMinutes()&&(Ge=Math.min(Ge,ct.getSeconds()))}if(nt){var Ht=s.config.minTime!==void 0?s.config.minTime:s.config.minDate;Pe=Math.max(Pe,Ht.getHours()),Pe===Ht.getHours()&&Te<Ht.getMinutes()&&(Te=Ht.getMinutes()),Te===Ht.getMinutes()&&(Ge=Math.max(Ge,Ht.getSeconds()))}}g(Pe,Te,Ge)}}function v(Pe){var Te=Pe||s.latestSelectedDateObj;Te&&Te instanceof Date&&g(Te.getHours(),Te.getMinutes(),Te.getSeconds())}function g(Pe,Te,Ge){s.latestSelectedDateObj!==void 0&&s.latestSelectedDateObj.setHours(Pe%24,Te,Ge||0,0),!(!s.hourElement||!s.minuteElement||s.isMobile)&&(s.hourElement.value=Qa(s.config.time_24hr?Pe:(12+Pe)%12+12*Dn(Pe%12===0)),s.minuteElement.value=Qa(Te),s.amPM!==void 0&&(s.amPM.textContent=s.l10n.amPM[Dn(Pe>=12)]),s.secondElement!==void 0&&(s.secondElement.value=Qa(Ge)))}function D(Pe){var Te=rn(Pe),Ge=parseInt(Te.value)+(Pe.delta||0);(Ge/1e3>1||Pe.key==="Enter"&&!/[^\d]/.test(Ge.toString()))&&$e(Ge)}function y(Pe,Te,Ge,nt){if(Te instanceof Array)return Te.forEach(function(yt){return y(Pe,yt,Ge,nt)});if(Pe instanceof Array)return Pe.forEach(function(yt){return y(yt,Te,Ge,nt)});Pe.addEventListener(Te,Ge,nt),s._handlers.push({remove:function(){return Pe.removeEventListener(Te,Ge,nt)}})}function C(){ut("onChange")}function x(){if(s.config.wrap&&["open","close","toggle","clear"].forEach(function(Ge){Array.prototype.forEach.call(s.element.querySelectorAll("[data-"+Ge+"]"),function(nt){return y(nt,"click",s[Ge])})}),s.isMobile){Ot();return}var Pe=m0(ue,50);if(s._debouncedChange=m0(C,Kme),s.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&y(s.daysContainer,"mouseover",function(Ge){s.config.mode==="range"&&Me(rn(Ge))}),y(s._input,"keydown",be),s.calendarContainer!==void 0&&y(s.calendarContainer,"keydown",be),!s.config.inline&&!s.config.static&&y(window,"resize",Pe),window.ontouchstart!==void 0?y(window.document,"touchstart",ie):y(window.document,"mousedown",ie),y(window.document,"focus",ie,{capture:!0}),s.config.clickOpens===!0&&(y(s._input,"focus",s.open),y(s._input,"click",s.open)),s.daysContainer!==void 0&&(y(s.monthNav,"click",Kt),y(s.monthNav,["keyup","increment"],D),y(s.daysContainer,"click",Ne)),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0){var Te=function(Ge){return rn(Ge).select()};y(s.timeContainer,["increment"],r),y(s.timeContainer,"blur",r,{capture:!0}),y(s.timeContainer,"click",k),y([s.hourElement,s.minuteElement],["focus","click"],Te),s.secondElement!==void 0&&y(s.secondElement,"focus",function(){return s.secondElement&&s.secondElement.select()}),s.amPM!==void 0&&y(s.amPM,"click",function(Ge){r(Ge)})}s.config.allowInput&&y(s._input,"blur",ge)}function E(Pe,Te){var Ge=Pe!==void 0?s.parseDate(Pe):s.latestSelectedDateObj||(s.config.minDate&&s.config.minDate>s.now?s.config.minDate:s.config.maxDate&&s.config.maxDate<s.now?s.config.maxDate:s.now),nt=s.currentYear,yt=s.currentMonth;try{Ge!==void 0&&(s.currentYear=Ge.getFullYear(),s.currentMonth=Ge.getMonth())}catch(Ct){Ct.message="Invalid date supplied: "+Ge,s.config.errorHandler(Ct)}Te&&s.currentYear!==nt&&(ut("onYearChange"),S()),Te&&(s.currentYear!==nt||s.currentMonth!==yt)&&ut("onMonthChange"),s.redraw()}function k(Pe){var Te=rn(Pe);~Te.className.indexOf("arrow")&&w(Pe,Te.classList.contains("arrowUp")?1:-1)}function w(Pe,Te,Ge){var nt=Pe&&rn(Pe),yt=Ge||nt&&nt.parentNode&&nt.parentNode.firstChild,Ct=gt("increment");Ct.delta=Te,yt&&yt.dispatchEvent(Ct)}function T(){var Pe=window.document.createDocumentFragment();if(s.calendarContainer=Ao("div","flatpickr-calendar"),s.calendarContainer.tabIndex=-1,!s.config.noCalendar){if(Pe.appendChild(U()),s.innerContainer=Ao("div","flatpickr-innerContainer"),s.config.weekNumbers){var Te=J(),Ge=Te.weekWrapper,nt=Te.weekNumbers;s.innerContainer.appendChild(Ge),s.weekNumbers=nt,s.weekWrapper=Ge}s.rContainer=Ao("div","flatpickr-rContainer"),s.rContainer.appendChild(ce()),s.daysContainer||(s.daysContainer=Ao("div","flatpickr-days"),s.daysContainer.tabIndex=-1),I(),s.rContainer.appendChild(s.daysContainer),s.innerContainer.appendChild(s.rContainer),Pe.appendChild(s.innerContainer)}s.config.enableTime&&Pe.appendChild(Z()),Ya(s.calendarContainer,"rangeMode",s.config.mode==="range"),Ya(s.calendarContainer,"animate",s.config.animate===!0),Ya(s.calendarContainer,"multiMonth",s.config.showMonths>1),s.calendarContainer.appendChild(Pe);var yt=s.config.appendTo!==void 0&&s.config.appendTo.nodeType!==void 0;if((s.config.inline||s.config.static)&&(s.calendarContainer.classList.add(s.config.inline?"inline":"static"),s.config.inline&&(!yt&&s.element.parentNode?s.element.parentNode.insertBefore(s.calendarContainer,s._input.nextSibling):s.config.appendTo!==void 0&&s.config.appendTo.appendChild(s.calendarContainer)),s.config.static)){var Ct=Ao("div","flatpickr-wrapper");s.element.parentNode&&s.element.parentNode.insertBefore(Ct,s.element),Ct.appendChild(s.element),s.altInput&&Ct.appendChild(s.altInput),Ct.appendChild(s.calendarContainer)}!s.config.static&&!s.config.inline&&(s.config.appendTo!==void 0?s.config.appendTo:window.document.body).appendChild(s.calendarContainer)}function V(Pe,Te,Ge,nt){var yt=we(Te,!0),Ct=Ao("span",Pe,Te.getDate().toString());return Ct.dateObj=Te,Ct.$i=nt,Ct.setAttribute("aria-label",s.formatDate(Te,s.config.ariaDateFormat)),Pe.indexOf("hidden")===-1&&dn(Te,s.now)===0&&(s.todayDateElem=Ct,Ct.classList.add("today"),Ct.setAttribute("aria-current","date")),yt?(Ct.tabIndex=-1,Vt(Te)&&(Ct.classList.add("selected"),s.selectedDateElem=Ct,s.config.mode==="range"&&(Ya(Ct,"startRange",s.selectedDates[0]&&dn(Te,s.selectedDates[0],!0)===0),Ya(Ct,"endRange",s.selectedDates[1]&&dn(Te,s.selectedDates[1],!0)===0),Pe==="nextMonthDay"&&Ct.classList.add("inRange")))):Ct.classList.add("flatpickr-disabled"),s.config.mode==="range"&&pt(Te)&&!Vt(Te)&&Ct.classList.add("inRange"),s.weekNumbers&&s.config.showMonths===1&&Pe!=="prevMonthDay"&&nt%7===6&&s.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+s.config.getWeek(Te)+"</span>"),ut("onDayCreate",Ct),Ct}function B(Pe){Pe.focus(),s.config.mode==="range"&&Me(Pe)}function O(Pe){for(var Te=Pe>0?0:s.config.showMonths-1,Ge=Pe>0?s.config.showMonths:-1,nt=Te;nt!=Ge;nt+=Pe)for(var yt=s.daysContainer.children[nt],Ct=Pe>0?0:yt.children.length-1,Ut=Pe>0?yt.children.length:-1,Tt=Ct;Tt!=Ut;Tt+=Pe){var Gt=yt.children[Tt];if(Gt.className.indexOf("hidden")===-1&&we(Gt.dateObj))return Gt}}function L(Pe,Te){for(var Ge=Pe.className.indexOf("Month")===-1?Pe.dateObj.getMonth():s.currentMonth,nt=Te>0?s.config.showMonths:-1,yt=Te>0?1:-1,Ct=Ge-s.currentMonth;Ct!=nt;Ct+=yt)for(var Ut=s.daysContainer.children[Ct],Tt=Ge-s.currentMonth===Ct?Pe.$i+Te:Te<0?Ut.children.length-1:0,Gt=Ut.children.length,ct=Tt;ct>=0&&ct<Gt&&ct!=(Te>0?Gt:-1);ct+=yt){var Ht=Ut.children[ct];if(Ht.className.indexOf("hidden")===-1&&we(Ht.dateObj)&&Math.abs(Pe.$i-ct)>=Math.abs(Te))return B(Ht)}s.changeMonth(yt),R(O(yt),0)}function R(Pe,Te){var Ge=m(),nt=se(Ge||document.body),yt=Pe!==void 0?Pe:nt?Ge:s.selectedDateElem!==void 0&&se(s.selectedDateElem)?s.selectedDateElem:s.todayDateElem!==void 0&&se(s.todayDateElem)?s.todayDateElem:O(Te>0?1:-1);yt===void 0?s._input.focus():nt?L(yt,Te):B(yt)}function P(Pe,Te){for(var Ge=(new Date(Pe,Te,1).getDay()-s.l10n.firstDayOfWeek+7)%7,nt=s.utils.getDaysInMonth((Te-1+12)%12,Pe),yt=s.utils.getDaysInMonth(Te,Pe),Ct=window.document.createDocumentFragment(),Ut=s.config.showMonths>1,Tt=Ut?"prevMonthDay hidden":"prevMonthDay",Gt=Ut?"nextMonthDay hidden":"nextMonthDay",ct=nt+1-Ge,Ht=0;ct<=nt;ct++,Ht++)Ct.appendChild(V("flatpickr-day "+Tt,new Date(Pe,Te-1,ct),ct,Ht));for(ct=1;ct<=yt;ct++,Ht++)Ct.appendChild(V("flatpickr-day",new Date(Pe,Te,ct),ct,Ht));for(var kt=yt+1;kt<=42-Ge&&(s.config.showMonths===1||Ht%7!==0);kt++,Ht++)Ct.appendChild(V("flatpickr-day "+Gt,new Date(Pe,Te+1,kt%yt),kt,Ht));var dt=Ao("div","dayContainer");return dt.appendChild(Ct),dt}function I(){if(s.daysContainer!==void 0){_f(s.daysContainer),s.weekNumbers&&_f(s.weekNumbers);for(var Pe=document.createDocumentFragment(),Te=0;Te<s.config.showMonths;Te++){var Ge=new Date(s.currentYear,s.currentMonth,1);Ge.setMonth(s.currentMonth+Te),Pe.appendChild(P(Ge.getFullYear(),Ge.getMonth()))}s.daysContainer.appendChild(Pe),s.days=s.daysContainer.firstChild,s.config.mode==="range"&&s.selectedDates.length===1&&Me()}}function S(){if(!(s.config.showMonths>1||s.config.monthSelectorType!=="dropdown")){var Pe=function(nt){return s.config.minDate!==void 0&&s.currentYear===s.config.minDate.getFullYear()&&nt<s.config.minDate.getMonth()?!1:!(s.config.maxDate!==void 0&&s.currentYear===s.config.maxDate.getFullYear()&&nt>s.config.maxDate.getMonth())};s.monthsDropdownContainer.tabIndex=-1,s.monthsDropdownContainer.innerHTML="";for(var Te=0;Te<12;Te++)if(Pe(Te)){var Ge=Ao("option","flatpickr-monthDropdown-month");Ge.value=new Date(s.currentYear,Te).getMonth().toString(),Ge.textContent=fh(Te,s.config.shorthandCurrentMonth,s.l10n),Ge.tabIndex=-1,s.currentMonth===Te&&(Ge.selected=!0),s.monthsDropdownContainer.appendChild(Ge)}}}function F(){var Pe=Ao("div","flatpickr-month"),Te=window.document.createDocumentFragment(),Ge;s.config.showMonths>1||s.config.monthSelectorType==="static"?Ge=Ao("span","cur-month"):(s.monthsDropdownContainer=Ao("select","flatpickr-monthDropdown-months"),s.monthsDropdownContainer.setAttribute("aria-label",s.l10n.monthAriaLabel),y(s.monthsDropdownContainer,"change",function(Ut){var Tt=rn(Ut),Gt=parseInt(Tt.value,10);s.changeMonth(Gt-s.currentMonth),ut("onMonthChange")}),S(),Ge=s.monthsDropdownContainer);var nt=mf("cur-year",{tabindex:"-1"}),yt=nt.getElementsByTagName("input")[0];yt.setAttribute("aria-label",s.l10n.yearAriaLabel),s.config.minDate&&yt.setAttribute("min",s.config.minDate.getFullYear().toString()),s.config.maxDate&&(yt.setAttribute("max",s.config.maxDate.getFullYear().toString()),yt.disabled=!!s.config.minDate&&s.config.minDate.getFullYear()===s.config.maxDate.getFullYear());var Ct=Ao("div","flatpickr-current-month");return Ct.appendChild(Ge),Ct.appendChild(nt),Te.appendChild(Ct),Pe.appendChild(Te),{container:Pe,yearElement:yt,monthElement:Ge}}function N(){_f(s.monthNav),s.monthNav.appendChild(s.prevMonthNav),s.config.showMonths&&(s.yearElements=[],s.monthElements=[]);for(var Pe=s.config.showMonths;Pe--;){var Te=F();s.yearElements.push(Te.yearElement),s.monthElements.push(Te.monthElement),s.monthNav.appendChild(Te.container)}s.monthNav.appendChild(s.nextMonthNav)}function U(){return s.monthNav=Ao("div","flatpickr-months"),s.yearElements=[],s.monthElements=[],s.prevMonthNav=Ao("span","flatpickr-prev-month"),s.prevMonthNav.innerHTML=s.config.prevArrow,s.nextMonthNav=Ao("span","flatpickr-next-month"),s.nextMonthNav.innerHTML=s.config.nextArrow,N(),Object.defineProperty(s,"_hidePrevMonthArrow",{get:function(){return s.__hidePrevMonthArrow},set:function(Pe){s.__hidePrevMonthArrow!==Pe&&(Ya(s.prevMonthNav,"flatpickr-disabled",Pe),s.__hidePrevMonthArrow=Pe)}}),Object.defineProperty(s,"_hideNextMonthArrow",{get:function(){return s.__hideNextMonthArrow},set:function(Pe){s.__hideNextMonthArrow!==Pe&&(Ya(s.nextMonthNav,"flatpickr-disabled",Pe),s.__hideNextMonthArrow=Pe)}}),s.currentYearElement=s.yearElements[0],Et(),s.monthNav}function Z(){s.calendarContainer.classList.add("hasTime"),s.config.noCalendar&&s.calendarContainer.classList.add("noCalendar");var Pe=mv(s.config);s.timeContainer=Ao("div","flatpickr-time"),s.timeContainer.tabIndex=-1;var Te=Ao("span","flatpickr-time-separator",":"),Ge=mf("flatpickr-hour",{"aria-label":s.l10n.hourAriaLabel});s.hourElement=Ge.getElementsByTagName("input")[0];var nt=mf("flatpickr-minute",{"aria-label":s.l10n.minuteAriaLabel});if(s.minuteElement=nt.getElementsByTagName("input")[0],s.hourElement.tabIndex=s.minuteElement.tabIndex=-1,s.hourElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getHours():s.config.time_24hr?Pe.hours:d(Pe.hours)),s.minuteElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getMinutes():Pe.minutes),s.hourElement.setAttribute("step",s.config.hourIncrement.toString()),s.minuteElement.setAttribute("step",s.config.minuteIncrement.toString()),s.hourElement.setAttribute("min",s.config.time_24hr?"0":"1"),s.hourElement.setAttribute("max",s.config.time_24hr?"23":"12"),s.hourElement.setAttribute("maxlength","2"),s.minuteElement.setAttribute("min","0"),s.minuteElement.setAttribute("max","59"),s.minuteElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(Ge),s.timeContainer.appendChild(Te),s.timeContainer.appendChild(nt),s.config.time_24hr&&s.timeContainer.classList.add("time24hr"),s.config.enableSeconds){s.timeContainer.classList.add("hasSeconds");var yt=mf("flatpickr-second");s.secondElement=yt.getElementsByTagName("input")[0],s.secondElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getSeconds():Pe.seconds),s.secondElement.setAttribute("step",s.minuteElement.getAttribute("step")),s.secondElement.setAttribute("min","0"),s.secondElement.setAttribute("max","59"),s.secondElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(Ao("span","flatpickr-time-separator",":")),s.timeContainer.appendChild(yt)}return s.config.time_24hr||(s.amPM=Ao("span","flatpickr-am-pm",s.l10n.amPM[Dn((s.latestSelectedDateObj?s.hourElement.value:s.config.defaultHour)>11)]),s.amPM.title=s.l10n.toggleTitle,s.amPM.tabIndex=-1,s.timeContainer.appendChild(s.amPM)),s.timeContainer}function ce(){s.weekdayContainer?_f(s.weekdayContainer):s.weekdayContainer=Ao("div","flatpickr-weekdays");for(var Pe=s.config.showMonths;Pe--;){var Te=Ao("div","flatpickr-weekdaycontainer");s.weekdayContainer.appendChild(Te)}return ae(),s.weekdayContainer}function ae(){if(s.weekdayContainer){var Pe=s.l10n.firstDayOfWeek,Te=f0(s.l10n.weekdays.shorthand);Pe>0&&Pe<Te.length&&(Te=f0(Te.splice(Pe,Te.length),Te.splice(0,Pe)));for(var Ge=s.config.showMonths;Ge--;)s.weekdayContainer.children[Ge].innerHTML=`
      <span class='flatpickr-weekday'>
        `+Te.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function J(){s.calendarContainer.classList.add("hasWeeks");var Pe=Ao("div","flatpickr-weekwrapper");Pe.appendChild(Ao("span","flatpickr-weekday",s.l10n.weekAbbreviation));var Te=Ao("div","flatpickr-weeks");return Pe.appendChild(Te),{weekWrapper:Pe,weekNumbers:Te}}function z(Pe,Te){Te===void 0&&(Te=!0);var Ge=Te?Pe:Pe-s.currentMonth;Ge<0&&s._hidePrevMonthArrow===!0||Ge>0&&s._hideNextMonthArrow===!0||(s.currentMonth+=Ge,(s.currentMonth<0||s.currentMonth>11)&&(s.currentYear+=s.currentMonth>11?1:-1,s.currentMonth=(s.currentMonth+12)%12,ut("onYearChange"),S()),I(),ut("onMonthChange"),Et())}function ne(Pe,Te){if(Pe===void 0&&(Pe=!0),Te===void 0&&(Te=!0),s.input.value="",s.altInput!==void 0&&(s.altInput.value=""),s.mobileInput!==void 0&&(s.mobileInput.value=""),s.selectedDates=[],s.latestSelectedDateObj=void 0,Te===!0&&(s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth()),s.config.enableTime===!0){var Ge=mv(s.config),nt=Ge.hours,yt=Ge.minutes,Ct=Ge.seconds;g(nt,yt,Ct)}s.redraw(),Pe&&ut("onChange")}function xe(){s.isOpen=!1,s.isMobile||(s.calendarContainer!==void 0&&s.calendarContainer.classList.remove("open"),s._input!==void 0&&s._input.classList.remove("active")),ut("onClose")}function Fe(){s.config!==void 0&&ut("onDestroy");for(var Pe=s._handlers.length;Pe--;)s._handlers[Pe].remove();if(s._handlers=[],s.mobileInput)s.mobileInput.parentNode&&s.mobileInput.parentNode.removeChild(s.mobileInput),s.mobileInput=void 0;else if(s.calendarContainer&&s.calendarContainer.parentNode)if(s.config.static&&s.calendarContainer.parentNode){var Te=s.calendarContainer.parentNode;if(Te.lastChild&&Te.removeChild(Te.lastChild),Te.parentNode){for(;Te.firstChild;)Te.parentNode.insertBefore(Te.firstChild,Te);Te.parentNode.removeChild(Te)}}else s.calendarContainer.parentNode.removeChild(s.calendarContainer);s.altInput&&(s.input.type="text",s.altInput.parentNode&&s.altInput.parentNode.removeChild(s.altInput),delete s.altInput),s.input&&(s.input.type=s.input._type,s.input.classList.remove("flatpickr-input"),s.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ge){try{delete s[Ge]}catch{}})}function he(Pe){return s.calendarContainer.contains(Pe)}function ie(Pe){if(s.isOpen&&!s.config.inline){var Te=rn(Pe),Ge=he(Te),nt=Te===s.input||Te===s.altInput||s.element.contains(Te)||Pe.path&&Pe.path.indexOf&&(~Pe.path.indexOf(s.input)||~Pe.path.indexOf(s.altInput)),yt=!nt&&!Ge&&!he(Pe.relatedTarget),Ct=!s.config.ignoredFocusElements.some(function(Ut){return Ut.contains(Te)});yt&&Ct&&(s.config.allowInput&&s.setDate(s._input.value,!1,s.config.altInput?s.config.altFormat:s.config.dateFormat),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0&&s.input.value!==""&&s.input.value!==void 0&&r(),s.close(),s.config&&s.config.mode==="range"&&s.selectedDates.length===1&&s.clear(!1))}}function $e(Pe){if(!(!Pe||s.config.minDate&&Pe<s.config.minDate.getFullYear()||s.config.maxDate&&Pe>s.config.maxDate.getFullYear())){var Te=Pe,Ge=s.currentYear!==Te;s.currentYear=Te||s.currentYear,s.config.maxDate&&s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth=Math.min(s.config.maxDate.getMonth(),s.currentMonth):s.config.minDate&&s.currentYear===s.config.minDate.getFullYear()&&(s.currentMonth=Math.max(s.config.minDate.getMonth(),s.currentMonth)),Ge&&(s.redraw(),ut("onYearChange"),S())}}function we(Pe,Te){var Ge;Te===void 0&&(Te=!0);var nt=s.parseDate(Pe,void 0,Te);if(s.config.minDate&&nt&&dn(nt,s.config.minDate,Te!==void 0?Te:!s.minDateHasTime)<0||s.config.maxDate&&nt&&dn(nt,s.config.maxDate,Te!==void 0?Te:!s.maxDateHasTime)>0)return!1;if(!s.config.enable&&s.config.disable.length===0)return!0;if(nt===void 0)return!1;for(var yt=!!s.config.enable,Ct=(Ge=s.config.enable)!==null&&Ge!==void 0?Ge:s.config.disable,Ut=0,Tt=void 0;Ut<Ct.length;Ut++){if(Tt=Ct[Ut],typeof Tt=="function"&&Tt(nt))return yt;if(Tt instanceof Date&&nt!==void 0&&Tt.getTime()===nt.getTime())return yt;if(typeof Tt=="string"){var Gt=s.parseDate(Tt,void 0,!0);return Gt&&Gt.getTime()===nt.getTime()?yt:!yt}else if(typeof Tt=="object"&&nt!==void 0&&Tt.from&&Tt.to&&nt.getTime()>=Tt.from.getTime()&&nt.getTime()<=Tt.to.getTime())return yt}return!yt}function se(Pe){return s.daysContainer!==void 0?Pe.className.indexOf("hidden")===-1&&Pe.className.indexOf("flatpickr-disabled")===-1&&s.daysContainer.contains(Pe):!1}function ge(Pe){var Te=Pe.target===s._input,Ge=s._input.value.trimEnd()!==Dt();Te&&Ge&&!(Pe.relatedTarget&&he(Pe.relatedTarget))&&s.setDate(s._input.value,!0,Pe.target===s.altInput?s.config.altFormat:s.config.dateFormat)}function be(Pe){var Te=rn(Pe),Ge=s.config.wrap?o.contains(Te):Te===s._input,nt=s.config.allowInput,yt=s.isOpen&&(!nt||!Ge),Ct=s.config.inline&&Ge&&!nt;if(Pe.keyCode===13&&Ge){if(nt)return s.setDate(s._input.value,!0,Te===s.altInput?s.config.altFormat:s.config.dateFormat),s.close(),Te.blur();s.open()}else if(he(Te)||yt||Ct){var Ut=!!s.timeContainer&&s.timeContainer.contains(Te);switch(Pe.keyCode){case 13:Ut?(Pe.preventDefault(),r(),Ce()):Ne(Pe);break;case 27:Pe.preventDefault(),Ce();break;case 8:case 46:Ge&&!s.config.allowInput&&(Pe.preventDefault(),s.clear());break;case 37:case 39:if(!Ut&&!Ge){Pe.preventDefault();var Tt=m();if(s.daysContainer!==void 0&&(nt===!1||Tt&&se(Tt))){var Gt=Pe.keyCode===39?1:-1;Pe.ctrlKey?(Pe.stopPropagation(),z(Gt),R(O(1),0)):R(void 0,Gt)}}else s.hourElement&&s.hourElement.focus();break;case 38:case 40:Pe.preventDefault();var ct=Pe.keyCode===40?1:-1;s.daysContainer&&Te.$i!==void 0||Te===s.input||Te===s.altInput?Pe.ctrlKey?(Pe.stopPropagation(),$e(s.currentYear-ct),R(O(1),0)):Ut||R(void 0,ct*7):Te===s.currentYearElement?$e(s.currentYear-ct):s.config.enableTime&&(!Ut&&s.hourElement&&s.hourElement.focus(),r(Pe),s._debouncedChange());break;case 9:if(Ut){var Ht=[s.hourElement,s.minuteElement,s.secondElement,s.amPM].concat(s.pluginElements).filter(function(je){return je}),kt=Ht.indexOf(Te);if(kt!==-1){var dt=Ht[kt+(Pe.shiftKey?-1:1)];Pe.preventDefault(),(dt||s._input).focus()}}else!s.config.noCalendar&&s.daysContainer&&s.daysContainer.contains(Te)&&Pe.shiftKey&&(Pe.preventDefault(),s._input.focus());break}}if(s.amPM!==void 0&&Te===s.amPM)switch(Pe.key){case s.l10n.amPM[0].charAt(0):case s.l10n.amPM[0].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[0],p(),Ft();break;case s.l10n.amPM[1].charAt(0):case s.l10n.amPM[1].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[1],p(),Ft();break}(Ge||he(Te))&&ut("onKeyDown",Pe)}function Me(Pe,Te){if(Te===void 0&&(Te="flatpickr-day"),!(s.selectedDates.length!==1||Pe&&(!Pe.classList.contains(Te)||Pe.classList.contains("flatpickr-disabled")))){for(var Ge=Pe?Pe.dateObj.getTime():s.days.firstElementChild.dateObj.getTime(),nt=s.parseDate(s.selectedDates[0],void 0,!0).getTime(),yt=Math.min(Ge,s.selectedDates[0].getTime()),Ct=Math.max(Ge,s.selectedDates[0].getTime()),Ut=!1,Tt=0,Gt=0,ct=yt;ct<Ct;ct+=Wme.DAY)we(new Date(ct),!0)||(Ut=Ut||ct>yt&&ct<Ct,ct<nt&&(!Tt||ct>Tt)?Tt=ct:ct>nt&&(!Gt||ct<Gt)&&(Gt=ct));var Ht=Array.from(s.rContainer.querySelectorAll("*:nth-child(-n+"+s.config.showMonths+") > ."+Te));Ht.forEach(function(kt){var dt=kt.dateObj,je=dt.getTime(),ye=Tt>0&&je<Tt||Gt>0&&je>Gt;if(ye){kt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(He){kt.classList.remove(He)});return}else if(Ut&&!ye)return;["startRange","inRange","endRange","notAllowed"].forEach(function(He){kt.classList.remove(He)}),Pe!==void 0&&(Pe.classList.add(Ge<=s.selectedDates[0].getTime()?"startRange":"endRange"),nt<Ge&&je===nt?kt.classList.add("startRange"):nt>Ge&&je===nt&&kt.classList.add("endRange"),je>=Tt&&(Gt===0||je<=Gt)&&Hme(je,nt,Ge)&&kt.classList.add("inRange"))})}}function ue(){s.isOpen&&!s.config.static&&!s.config.inline&&Se()}function Oe(Pe,Te){if(Te===void 0&&(Te=s._positionElement),s.isMobile===!0){if(Pe){Pe.preventDefault();var Ge=rn(Pe);Ge&&Ge.blur()}s.mobileInput!==void 0&&(s.mobileInput.focus(),s.mobileInput.click()),ut("onOpen");return}else if(s._input.disabled||s.config.inline)return;var nt=s.isOpen;s.isOpen=!0,nt||(s.calendarContainer.classList.add("open"),s._input.classList.add("active"),ut("onOpen"),Se(Te)),s.config.enableTime===!0&&s.config.noCalendar===!0&&s.config.allowInput===!1&&(Pe===void 0||!s.timeContainer.contains(Pe.relatedTarget))&&setTimeout(function(){return s.hourElement.select()},50)}function ze(Pe){return function(Te){var Ge=s.config["_"+Pe+"Date"]=s.parseDate(Te,s.config.dateFormat),nt=s.config["_"+(Pe==="min"?"max":"min")+"Date"];Ge!==void 0&&(s[Pe==="min"?"minDateHasTime":"maxDateHasTime"]=Ge.getHours()>0||Ge.getMinutes()>0||Ge.getSeconds()>0),s.selectedDates&&(s.selectedDates=s.selectedDates.filter(function(yt){return we(yt)}),!s.selectedDates.length&&Pe==="min"&&v(Ge),Ft()),s.daysContainer&&(ee(),Ge!==void 0?s.currentYearElement[Pe]=Ge.getFullYear().toString():s.currentYearElement.removeAttribute(Pe),s.currentYearElement.disabled=!!nt&&Ge!==void 0&&nt.getFullYear()===Ge.getFullYear())}}function Ye(){var Pe=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Te=Aa(Aa({},JSON.parse(JSON.stringify(o.dataset||{}))),a),Ge={};s.config.parseDate=Te.parseDate,s.config.formatDate=Te.formatDate,Object.defineProperty(s.config,"enable",{get:function(){return s.config._enable},set:function(Ht){s.config._enable=Ze(Ht)}}),Object.defineProperty(s.config,"disable",{get:function(){return s.config._disable},set:function(Ht){s.config._disable=Ze(Ht)}});var nt=Te.mode==="time";if(!Te.dateFormat&&(Te.enableTime||nt)){var yt=ta.defaultConfig.dateFormat||Vr.dateFormat;Ge.dateFormat=Te.noCalendar||nt?"H:i"+(Te.enableSeconds?":S":""):yt+" H:i"+(Te.enableSeconds?":S":"")}if(Te.altInput&&(Te.enableTime||nt)&&!Te.altFormat){var Ct=ta.defaultConfig.altFormat||Vr.altFormat;Ge.altFormat=Te.noCalendar||nt?"h:i"+(Te.enableSeconds?":S K":" K"):Ct+(" h:i"+(Te.enableSeconds?":S":"")+" K")}Object.defineProperty(s.config,"minDate",{get:function(){return s.config._minDate},set:ze("min")}),Object.defineProperty(s.config,"maxDate",{get:function(){return s.config._maxDate},set:ze("max")});var Ut=function(Ht){return function(kt){s.config[Ht==="min"?"_minTime":"_maxTime"]=s.parseDate(kt,"H:i:S")}};Object.defineProperty(s.config,"minTime",{get:function(){return s.config._minTime},set:Ut("min")}),Object.defineProperty(s.config,"maxTime",{get:function(){return s.config._maxTime},set:Ut("max")}),Te.mode==="time"&&(s.config.noCalendar=!0,s.config.enableTime=!0),Object.assign(s.config,Ge,Te);for(var Tt=0;Tt<Pe.length;Tt++)s.config[Pe[Tt]]=s.config[Pe[Tt]]===!0||s.config[Pe[Tt]]==="true";dv.filter(function(Ht){return s.config[Ht]!==void 0}).forEach(function(Ht){s.config[Ht]=cv(s.config[Ht]||[]).map(_)}),s.isMobile=!s.config.disableMobile&&!s.config.inline&&s.config.mode==="single"&&!s.config.disable.length&&!s.config.enable&&!s.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Tt=0;Tt<s.config.plugins.length;Tt++){var Gt=s.config.plugins[Tt](s)||{};for(var ct in Gt)dv.indexOf(ct)>-1?s.config[ct]=cv(Gt[ct]).map(_).concat(s.config[ct]):typeof Te[ct]>"u"&&(s.config[ct]=Gt[ct])}Te.altInputClass||(s.config.altInputClass=ve().className+" "+s.config.altInputClass),ut("onParseConfig")}function ve(){return s.config.wrap?o.querySelector("[data-input]"):o}function _e(){typeof s.config.locale!="object"&&typeof ta.l10ns[s.config.locale]>"u"&&s.config.errorHandler(new Error("flatpickr: invalid locale "+s.config.locale)),s.l10n=Aa(Aa({},ta.l10ns.default),typeof s.config.locale=="object"?s.config.locale:s.config.locale!=="default"?ta.l10ns[s.config.locale]:void 0),Zl.D="("+s.l10n.weekdays.shorthand.join("|")+")",Zl.l="("+s.l10n.weekdays.longhand.join("|")+")",Zl.M="("+s.l10n.months.shorthand.join("|")+")",Zl.F="("+s.l10n.months.longhand.join("|")+")",Zl.K="("+s.l10n.amPM[0]+"|"+s.l10n.amPM[1]+"|"+s.l10n.amPM[0].toLowerCase()+"|"+s.l10n.amPM[1].toLowerCase()+")";var Pe=Aa(Aa({},a),JSON.parse(JSON.stringify(o.dataset||{})));Pe.time_24hr===void 0&&ta.defaultConfig.time_24hr===void 0&&(s.config.time_24hr=s.l10n.time_24hr),s.formatDate=P5(s),s.parseDate=lg({config:s.config,l10n:s.l10n})}function Se(Pe){if(typeof s.config.position=="function")return void s.config.position(s,Pe);if(s.calendarContainer!==void 0){ut("onPreCalendarPosition");var Te=Pe||s._positionElement,Ge=Array.prototype.reduce.call(s.calendarContainer.children,function(eo,jt){return eo+jt.offsetHeight},0),nt=s.calendarContainer.offsetWidth,yt=s.config.position.split(" "),Ct=yt[0],Ut=yt.length>1?yt[1]:null,Tt=Te.getBoundingClientRect(),Gt=window.innerHeight-Tt.bottom,ct=Ct==="above"||Ct!=="below"&&Gt<Ge&&Tt.top>Ge,Ht=window.pageYOffset+Tt.top+(ct?-Ge-2:Te.offsetHeight+2);if(Ya(s.calendarContainer,"arrowTop",!ct),Ya(s.calendarContainer,"arrowBottom",ct),!s.config.inline){var kt=window.pageXOffset+Tt.left,dt=!1,je=!1;Ut==="center"?(kt-=(nt-Tt.width)/2,dt=!0):Ut==="right"&&(kt-=nt-Tt.width,je=!0),Ya(s.calendarContainer,"arrowLeft",!dt&&!je),Ya(s.calendarContainer,"arrowCenter",dt),Ya(s.calendarContainer,"arrowRight",je);var ye=window.document.body.offsetWidth-(window.pageXOffset+Tt.right),He=kt+nt>window.document.body.offsetWidth,Nt=ye+nt>window.document.body.offsetWidth;if(Ya(s.calendarContainer,"rightMost",He),!s.config.static)if(s.calendarContainer.style.top=Ht+"px",!He)s.calendarContainer.style.left=kt+"px",s.calendarContainer.style.right="auto";else if(!Nt)s.calendarContainer.style.left="auto",s.calendarContainer.style.right=ye+"px";else{var it=Ve();if(it===void 0)return;var _t=window.document.body.offsetWidth,tt=Math.max(0,_t/2-nt/2),pe=".flatpickr-calendar.centerMost:before",Re=".flatpickr-calendar.centerMost:after",vt=it.cssRules.length,Rt="{left:"+Tt.left+"px;right:auto;}";Ya(s.calendarContainer,"rightMost",!1),Ya(s.calendarContainer,"centerMost",!0),it.insertRule(pe+","+Re+Rt,vt),s.calendarContainer.style.left=tt+"px",s.calendarContainer.style.right="auto"}}}}function Ve(){for(var Pe=null,Te=0;Te<document.styleSheets.length;Te++){var Ge=document.styleSheets[Te];if(Ge.cssRules){try{Ge.cssRules}catch{continue}Pe=Ge;break}}return Pe??ke()}function ke(){var Pe=document.createElement("style");return document.head.appendChild(Pe),Pe.sheet}function ee(){s.config.noCalendar||s.isMobile||(S(),Et(),I())}function Ce(){s._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(s.close,0):s.close()}function Ne(Pe){Pe.preventDefault(),Pe.stopPropagation();var Te=function(Ht){return Ht.classList&&Ht.classList.contains("flatpickr-day")&&!Ht.classList.contains("flatpickr-disabled")&&!Ht.classList.contains("notAllowed")},Ge=x5(rn(Pe),Te);if(Ge!==void 0){var nt=Ge,yt=s.latestSelectedDateObj=new Date(nt.dateObj.getTime()),Ct=(yt.getMonth()<s.currentMonth||yt.getMonth()>s.currentMonth+s.config.showMonths-1)&&s.config.mode!=="range";if(s.selectedDateElem=nt,s.config.mode==="single")s.selectedDates=[yt];else if(s.config.mode==="multiple"){var Ut=Vt(yt);Ut?s.selectedDates.splice(parseInt(Ut),1):s.selectedDates.push(yt)}else s.config.mode==="range"&&(s.selectedDates.length===2&&s.clear(!1,!1),s.latestSelectedDateObj=yt,s.selectedDates.push(yt),dn(yt,s.selectedDates[0],!0)!==0&&s.selectedDates.sort(function(Ht,kt){return Ht.getTime()-kt.getTime()}));if(p(),Ct){var Tt=s.currentYear!==yt.getFullYear();s.currentYear=yt.getFullYear(),s.currentMonth=yt.getMonth(),Tt&&(ut("onYearChange"),S()),ut("onMonthChange")}if(Et(),I(),Ft(),!Ct&&s.config.mode!=="range"&&s.config.showMonths===1?B(nt):s.selectedDateElem!==void 0&&s.hourElement===void 0&&s.selectedDateElem&&s.selectedDateElem.focus(),s.hourElement!==void 0&&s.hourElement!==void 0&&s.hourElement.focus(),s.config.closeOnSelect){var Gt=s.config.mode==="single"&&!s.config.enableTime,ct=s.config.mode==="range"&&s.selectedDates.length===2&&!s.config.enableTime;(Gt||ct)&&Ce()}C()}}var Ie={locale:[_e,ae],showMonths:[N,l,ce],minDate:[E],maxDate:[E],positionElement:[wt],clickOpens:[function(){s.config.clickOpens===!0?(y(s._input,"focus",s.open),y(s._input,"click",s.open)):(s._input.removeEventListener("focus",s.open),s._input.removeEventListener("click",s.open))}]};function oe(Pe,Te){if(Pe!==null&&typeof Pe=="object"){Object.assign(s.config,Pe);for(var Ge in Pe)Ie[Ge]!==void 0&&Ie[Ge].forEach(function(nt){return nt()})}else s.config[Pe]=Te,Ie[Pe]!==void 0?Ie[Pe].forEach(function(nt){return nt()}):dv.indexOf(Pe)>-1&&(s.config[Pe]=cv(Te));s.redraw(),Ft(!0)}function me(Pe,Te){var Ge=[];if(Pe instanceof Array)Ge=Pe.map(function(nt){return s.parseDate(nt,Te)});else if(Pe instanceof Date||typeof Pe=="number")Ge=[s.parseDate(Pe,Te)];else if(typeof Pe=="string")switch(s.config.mode){case"single":case"time":Ge=[s.parseDate(Pe,Te)];break;case"multiple":Ge=Pe.split(s.config.conjunction).map(function(nt){return s.parseDate(nt,Te)});break;case"range":Ge=Pe.split(s.l10n.rangeSeparator).map(function(nt){return s.parseDate(nt,Te)});break}else s.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Pe)));s.selectedDates=s.config.allowInvalidPreload?Ge:Ge.filter(function(nt){return nt instanceof Date&&we(nt,!1)}),s.config.mode==="range"&&s.selectedDates.sort(function(nt,yt){return nt.getTime()-yt.getTime()})}function Le(Pe,Te,Ge){if(Te===void 0&&(Te=!1),Ge===void 0&&(Ge=s.config.dateFormat),Pe!==0&&!Pe||Pe instanceof Array&&Pe.length===0)return s.clear(Te);me(Pe,Ge),s.latestSelectedDateObj=s.selectedDates[s.selectedDates.length-1],s.redraw(),E(void 0,Te),v(),s.selectedDates.length===0&&s.clear(!1),Ft(Te),Te&&ut("onChange")}function Ze(Pe){return Pe.slice().map(function(Te){return typeof Te=="string"||typeof Te=="number"||Te instanceof Date?s.parseDate(Te,void 0,!0):Te&&typeof Te=="object"&&Te.from&&Te.to?{from:s.parseDate(Te.from,void 0),to:s.parseDate(Te.to,void 0)}:Te}).filter(function(Te){return Te})}function at(){s.selectedDates=[],s.now=s.parseDate(s.config.now)||new Date;var Pe=s.config.defaultDate||((s.input.nodeName==="INPUT"||s.input.nodeName==="TEXTAREA")&&s.input.placeholder&&s.input.value===s.input.placeholder?null:s.input.value);Pe&&me(Pe,s.config.dateFormat),s._initialDate=s.selectedDates.length>0?s.selectedDates[0]:s.config.minDate&&s.config.minDate.getTime()>s.now.getTime()?s.config.minDate:s.config.maxDate&&s.config.maxDate.getTime()<s.now.getTime()?s.config.maxDate:s.now,s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth(),s.selectedDates.length>0&&(s.latestSelectedDateObj=s.selectedDates[0]),s.config.minTime!==void 0&&(s.config.minTime=s.parseDate(s.config.minTime,"H:i")),s.config.maxTime!==void 0&&(s.config.maxTime=s.parseDate(s.config.maxTime,"H:i")),s.minDateHasTime=!!s.config.minDate&&(s.config.minDate.getHours()>0||s.config.minDate.getMinutes()>0||s.config.minDate.getSeconds()>0),s.maxDateHasTime=!!s.config.maxDate&&(s.config.maxDate.getHours()>0||s.config.maxDate.getMinutes()>0||s.config.maxDate.getSeconds()>0)}function mt(){if(s.input=ve(),!s.input){s.config.errorHandler(new Error("Invalid input element specified"));return}s.input._type=s.input.type,s.input.type="text",s.input.classList.add("flatpickr-input"),s._input=s.input,s.config.altInput&&(s.altInput=Ao(s.input.nodeName,s.config.altInputClass),s._input=s.altInput,s.altInput.placeholder=s.input.placeholder,s.altInput.disabled=s.input.disabled,s.altInput.required=s.input.required,s.altInput.tabIndex=s.input.tabIndex,s.altInput.type="text",s.input.setAttribute("type","hidden"),!s.config.static&&s.input.parentNode&&s.input.parentNode.insertBefore(s.altInput,s.input.nextSibling)),s.config.allowInput||s._input.setAttribute("readonly","readonly"),wt()}function wt(){s._positionElement=s.config.positionElement||s._input}function Ot(){var Pe=s.config.enableTime?s.config.noCalendar?"time":"datetime-local":"date";s.mobileInput=Ao("input",s.input.className+" flatpickr-mobile"),s.mobileInput.tabIndex=1,s.mobileInput.type=Pe,s.mobileInput.disabled=s.input.disabled,s.mobileInput.required=s.input.required,s.mobileInput.placeholder=s.input.placeholder,s.mobileFormatStr=Pe==="datetime-local"?"Y-m-d\\TH:i:S":Pe==="date"?"Y-m-d":"H:i:S",s.selectedDates.length>0&&(s.mobileInput.defaultValue=s.mobileInput.value=s.formatDate(s.selectedDates[0],s.mobileFormatStr)),s.config.minDate&&(s.mobileInput.min=s.formatDate(s.config.minDate,"Y-m-d")),s.config.maxDate&&(s.mobileInput.max=s.formatDate(s.config.maxDate,"Y-m-d")),s.input.getAttribute("step")&&(s.mobileInput.step=String(s.input.getAttribute("step"))),s.input.type="hidden",s.altInput!==void 0&&(s.altInput.type="hidden");try{s.input.parentNode&&s.input.parentNode.insertBefore(s.mobileInput,s.input.nextSibling)}catch{}y(s.mobileInput,"change",function(Te){s.setDate(rn(Te).value,!1,s.mobileFormatStr),ut("onChange"),ut("onClose")})}function Jt(Pe){if(s.isOpen===!0)return s.close();s.open(Pe)}function ut(Pe,Te){if(s.config!==void 0){var Ge=s.config[Pe];if(Ge!==void 0&&Ge.length>0)for(var nt=0;Ge[nt]&&nt<Ge.length;nt++)Ge[nt](s.selectedDates,s.input.value,s,Te);Pe==="onChange"&&(s.input.dispatchEvent(gt("change")),s.input.dispatchEvent(gt("input")))}}function gt(Pe){var Te=document.createEvent("Event");return Te.initEvent(Pe,!0,!0),Te}function Vt(Pe){for(var Te=0;Te<s.selectedDates.length;Te++){var Ge=s.selectedDates[Te];if(Ge instanceof Date&&dn(Ge,Pe)===0)return""+Te}return!1}function pt(Pe){return s.config.mode!=="range"||s.selectedDates.length<2?!1:dn(Pe,s.selectedDates[0])>=0&&dn(Pe,s.selectedDates[1])<=0}function Et(){s.config.noCalendar||s.isMobile||!s.monthNav||(s.yearElements.forEach(function(Pe,Te){var Ge=new Date(s.currentYear,s.currentMonth,1);Ge.setMonth(s.currentMonth+Te),s.config.showMonths>1||s.config.monthSelectorType==="static"?s.monthElements[Te].textContent=fh(Ge.getMonth(),s.config.shorthandCurrentMonth,s.l10n)+" ":s.monthsDropdownContainer.value=Ge.getMonth().toString(),Pe.value=Ge.getFullYear().toString()}),s._hidePrevMonthArrow=s.config.minDate!==void 0&&(s.currentYear===s.config.minDate.getFullYear()?s.currentMonth<=s.config.minDate.getMonth():s.currentYear<s.config.minDate.getFullYear()),s._hideNextMonthArrow=s.config.maxDate!==void 0&&(s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth+1>s.config.maxDate.getMonth():s.currentYear>s.config.maxDate.getFullYear()))}function Dt(Pe){var Te=Pe||(s.config.altInput?s.config.altFormat:s.config.dateFormat);return s.selectedDates.map(function(Ge){return s.formatDate(Ge,Te)}).filter(function(Ge,nt,yt){return s.config.mode!=="range"||s.config.enableTime||yt.indexOf(Ge)===nt}).join(s.config.mode!=="range"?s.config.conjunction:s.l10n.rangeSeparator)}function Ft(Pe){Pe===void 0&&(Pe=!0),s.mobileInput!==void 0&&s.mobileFormatStr&&(s.mobileInput.value=s.latestSelectedDateObj!==void 0?s.formatDate(s.latestSelectedDateObj,s.mobileFormatStr):""),s.input.value=Dt(s.config.dateFormat),s.altInput!==void 0&&(s.altInput.value=Dt(s.config.altFormat)),Pe!==!1&&ut("onValueUpdate")}function Kt(Pe){var Te=rn(Pe),Ge=s.prevMonthNav.contains(Te),nt=s.nextMonthNav.contains(Te);Ge||nt?z(Ge?-1:1):s.yearElements.indexOf(Te)>=0?Te.select():Te.classList.contains("arrowUp")?s.changeYear(s.currentYear+1):Te.classList.contains("arrowDown")&&s.changeYear(s.currentYear-1)}function ro(Pe){Pe.preventDefault();var Te=Pe.type==="keydown",Ge=rn(Pe),nt=Ge;s.amPM!==void 0&&Ge===s.amPM&&(s.amPM.textContent=s.l10n.amPM[Dn(s.amPM.textContent===s.l10n.amPM[0])]);var yt=parseFloat(nt.getAttribute("min")),Ct=parseFloat(nt.getAttribute("max")),Ut=parseFloat(nt.getAttribute("step")),Tt=parseInt(nt.value,10),Gt=Pe.delta||(Te?Pe.which===38?1:-1:0),ct=Tt+Ut*Gt;if(typeof nt.value<"u"&&nt.value.length===2){var Ht=nt===s.hourElement,kt=nt===s.minuteElement;ct<yt?(ct=Ct+ct+Dn(!Ht)+(Dn(Ht)&&Dn(!s.amPM)),kt&&w(void 0,-1,s.hourElement)):ct>Ct&&(ct=nt===s.hourElement?ct-Ct-Dn(!s.amPM):yt,kt&&w(void 0,1,s.hourElement)),s.amPM&&Ht&&(Ut===1?ct+Tt===23:Math.abs(ct-Tt)>Ut)&&(s.amPM.textContent=s.l10n.amPM[Dn(s.amPM.textContent===s.l10n.amPM[0])]),nt.value=Qa(ct)}}return c(),s}function Br(o,a){for(var s=Array.prototype.slice.call(o).filter(function(_){return _ instanceof HTMLElement}),t=[],c=0;c<s.length;c++){var m=s[c];try{if(m.getAttribute("data-fp-omit")!==null)continue;m._flatpickr!==void 0&&(m._flatpickr.destroy(),m._flatpickr=void 0),m._flatpickr=Gme(m,a||{}),t.push(m._flatpickr)}catch(_){console.error(_)}}return t.length===1?t[0]:t}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(o){return Br(this,o)},HTMLElement.prototype.flatpickr=function(o){return Br([this],o)});var ta=function(o,a){return typeof o=="string"?Br(window.document.querySelectorAll(o),a):o instanceof Node?Br([o],a):Br(o,a)};ta.defaultConfig={};ta.l10ns={en:Aa({},fm),default:Aa({},fm)};ta.localize=function(o){ta.l10ns.default=Aa(Aa({},ta.l10ns.default),o)};ta.setDefaults=function(o){ta.defaultConfig=Aa(Aa({},ta.defaultConfig),o)};ta.parseDate=lg({});ta.formatDate=P5({});ta.compareDates=dn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(o){return Br(this,o)});Date.prototype.fp_incr=function(o){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof o=="string"?parseInt(o,10):o))};typeof window<"u"&&(window.flatpickr=ta);const E5=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],Qme=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function h0(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function p0(o){return o instanceof Array?o:[o]}function fv(o){return o&&o.length?o:null}const v0=[...E5,...Qme],Zme=["locale","showMonths"],jl=Oa({name:"FlatPickr",compatConfig:{MODE:3},render(){return En("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...v0.map(h0)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>E5},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=ta(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let o=Object.assign({},this.config);this.events.forEach(s=>{let t=ta.defaultConfig[s]||[],c=(...m)=>{this.$emit(h0(s),...m)};o[s]=p0(o[s]||[]).concat(t,c)});const a=this.onClose.bind(this);return o.onClose=p0(o.onClose||[]).concat(a),o.defaultDate=this.modelValue||o.defaultDate,o},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(o){const a=o.target;bt().then(()=>{this.$emit("update:modelValue",fv(a.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(o){this.$emit("blur",fv(o.target.value))},onClose(o,a){this.$emit("update:modelValue",a)},watchDisabled(o){o?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(o){if(!this.fp)return;let a=Object.assign({},o);v0.forEach(s=>{delete a[s]}),this.fp.set(a),Zme.forEach(s=>{typeof a[s]<"u"&&this.fp.set(s,a[s])})}},modelValue(o){var a;!this.$el||o===fv(this.$el.value)||(a=this.fp)===null||a===void 0||a.setDate(o,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});function hm(o){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hm(o)}function Jme(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function Xme(o,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,tfe(t.key),t)}}function efe(o,a,s){return a&&Xme(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o}function tfe(o){var a=ofe(o,"string");return hm(a)=="symbol"?a:a+""}function ofe(o,a){if(hm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a);if(hm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var afe=function(){function o(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};Jme(this,o),this.element=a,this.listener=s}return efe(o,[{key:"bindScrollListener",value:function(){this.scrollableParents=DR(this.element);for(var s=0;s<this.scrollableParents.length;s++)this.scrollableParents[s].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var s=0;s<this.scrollableParents.length;s++)this.scrollableParents[s].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function g0(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return f1(o)}var gl={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(a){return this._loadedStyleNames.has(a)},setLoadedStyleName:function(a){this._loadedStyleNames.add(a)},deleteLoadedStyleName:function(a){this._loadedStyleNames.delete(a)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},b0=Fo.extend({name:"common"});function pm(o){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pm(o)}function nfe(o){return R5(o)||sfe(o)||I5(o)||A5()}function sfe(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function xd(o,a){return R5(o)||lfe(o,a)||I5(o,a)||A5()}function A5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(o,a){if(o){if(typeof o=="string")return y0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?y0(o,a):void 0}}function y0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function lfe(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a===0){if(Object(s)!==s)return;r=!1}else for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function R5(o){if(Array.isArray(o))return o}function k0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function ho(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?k0(Object(s),!0).forEach(function(t){Ic(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):k0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function Ic(o,a,s){return(a=ife(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function ife(o){var a=rfe(o,"string");return pm(a)=="symbol"?a:a+""}function rfe(o,a){if(pm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(pm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var rp={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(a){a||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(a){var s=this;a?(this._loadScopedThemeStyles(a),this._themeChangeListener(function(){return s._loadScopedThemeStyles(a)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,$attrSelector:void 0,beforeCreate:function(){var a,s,t,c,m,_,l,r,i,d,p,v=(a=this.pt)===null||a===void 0?void 0:a._usept,g=v?(s=this.pt)===null||s===void 0||(s=s.originalValue)===null||s===void 0?void 0:s[this.$.type.name]:void 0,D=v?(t=this.pt)===null||t===void 0||(t=t.value)===null||t===void 0?void 0:t[this.$.type.name]:this.pt;(c=D||g)===null||c===void 0||(c=c.hooks)===null||c===void 0||(m=c.onBeforeCreate)===null||m===void 0||m.call(c);var y=(_=this.$primevueConfig)===null||_===void 0||(_=_.pt)===null||_===void 0?void 0:_._usept,C=y?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,x=y?(r=this.$primevue)===null||r===void 0||(r=r.config)===null||r===void 0||(r=r.pt)===null||r===void 0?void 0:r.value:(i=this.$primevue)===null||i===void 0||(i=i.config)===null||i===void 0?void 0:i.pt;(d=x||C)===null||d===void 0||(d=d[this.$.type.name])===null||d===void 0||(d=d.hooks)===null||d===void 0||(p=d.onBeforeCreate)===null||p===void 0||p.call(d),this.$attrSelector=f1("pc")},created:function(){this._hook("onCreated")},beforeMount:function(){this.rootEl=qn(this.$el,'[data-pc-name="'.concat(Wn(this.$.type.name),'"]')),this.rootEl&&(this.$attrSelector&&!this.rootEl.hasAttribute(this.$attrSelector)&&this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=ho({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(a){if(!this.$options.hostName){var s=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(a)),t=this._useDefaultPT(this._getOptionValue,"hooks.".concat(a));s==null||s(),t==null||t()}},_mergeProps:function(a){for(var s=arguments.length,t=new Array(s>1?s-1:0),c=1;c<s;c++)t[c-1]=arguments[c];return d1(a)?a.apply(void 0,t):$t.apply(void 0,t)},_loadStyles:function(){var a=this,s=function(){gl.isStyleNameLoaded("base")||(Fo.loadCSS(a.$styleOptions),a._loadGlobalStyles(),gl.setLoadedStyleName("base")),a._loadThemeStyles()};s(),this._themeChangeListener(s)},_loadCoreStyles:function(){var a,s;!gl.isStyleNameLoaded((a=this.$style)===null||a===void 0?void 0:a.name)&&(s=this.$style)!==null&&s!==void 0&&s.name&&(b0.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),gl.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var a=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Lo(a)&&Fo.load(a,ho({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var a,s;if(!(this.isUnstyled||this.$theme==="none")){if(!Oo.isStyleNameLoaded("common")){var t,c,m=((t=this.$style)===null||t===void 0||(c=t.getCommonTheme)===null||c===void 0?void 0:c.call(t))||{},_=m.primitive,l=m.semantic,r=m.global,i=m.style;Fo.load(_==null?void 0:_.css,ho({name:"primitive-variables"},this.$styleOptions)),Fo.load(l==null?void 0:l.css,ho({name:"semantic-variables"},this.$styleOptions)),Fo.load(r==null?void 0:r.css,ho({name:"global-variables"},this.$styleOptions)),Fo.loadTheme(ho({name:"global-style"},this.$styleOptions),i),Oo.setLoadedStyleName("common")}if(!Oo.isStyleNameLoaded((a=this.$style)===null||a===void 0?void 0:a.name)&&(s=this.$style)!==null&&s!==void 0&&s.name){var d,p,v,g,D=((d=this.$style)===null||d===void 0||(p=d.getComponentTheme)===null||p===void 0?void 0:p.call(d))||{},y=D.css,C=D.style;(v=this.$style)===null||v===void 0||v.load(y,ho({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(g=this.$style)===null||g===void 0||g.loadTheme(ho({name:"".concat(this.$style.name,"-style")},this.$styleOptions),C),Oo.setLoadedStyleName(this.$style.name)}if(!Oo.isStyleNameLoaded("layer-order")){var x,E,k=(x=this.$style)===null||x===void 0||(E=x.getLayerOrderThemeCSS)===null||E===void 0?void 0:E.call(x);Fo.load(k,ho({name:"layer-order",first:!0},this.$styleOptions)),Oo.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(a){var s,t,c,m=((s=this.$style)===null||s===void 0||(t=s.getPresetTheme)===null||t===void 0?void 0:t.call(s,a,"[".concat(this.$attrSelector,"]")))||{},_=m.css,l=(c=this.$style)===null||c===void 0?void 0:c.load(_,ho({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=l.el},_unloadScopedThemeStyles:function(){var a;(a=this.scopedStyleEl)===null||a===void 0||(a=a.value)===null||a===void 0||a.remove()},_themeChangeListener:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};gl.clearLoadedStyleNames(),Hn.on("theme:change",a)},_getHostInstance:function(a){return a?this.$options.hostName?a.$.type.name===this.$options.hostName?a:this._getHostInstance(a.$parentInstance):a.$parentInstance:void 0},_getPropValue:function(a){var s;return this[a]||((s=this._getHostInstance(this))===null||s===void 0?void 0:s[a])},_getOptionValue:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c1(a,s,t)},_getPTValue:function(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,_=/./g.test(t)&&!!c[t.split(".")[0]],l=this._getPropValue("ptOptions")||((a=this.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},r=l.mergeSections,i=r===void 0?!0:r,d=l.mergeProps,p=d===void 0?!1:d,v=m?_?this._useGlobalPT(this._getPTClassValue,t,c):this._useDefaultPT(this._getPTClassValue,t,c):void 0,g=_?void 0:this._getPTSelf(s,this._getPTClassValue,t,ho(ho({},c),{},{global:v||{}})),D=this._getPTDatasets(t);return i||!i&&g?p?this._mergeProps(p,v,g,D):ho(ho(ho({},v),g),D):ho(ho({},g),D)},_getPTSelf:function(){for(var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length,t=new Array(s>1?s-1:0),c=1;c<s;c++)t[c-1]=arguments[c];return $t(this._usePT.apply(this,[this._getPT(a,this.$name)].concat(t)),this._usePT.apply(this,[this.$_attrsPT].concat(t)))},_getPTDatasets:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c="data-pc-",m=t==="root"&&Lo((a=this.pt)===null||a===void 0?void 0:a["data-pc-section"]);return t!=="transition"&&ho(ho({},t==="root"&&ho(ho(Ic({},"".concat(c,"name"),Wn(m?(s=this.pt)===null||s===void 0?void 0:s["data-pc-section"]:this.$.type.name)),m&&Ic({},"".concat(c,"extend"),Wn(this.$.type.name))),m1()&&Ic({},"".concat(this.$attrSelector),""))),{},Ic({},"".concat(c,"section"),Wn(t)))},_getPTClassValue:function(){var a=this._getOptionValue.apply(this,arguments);return tn(a)||Wh(a)?{class:a}:a},_getPT:function(a){var s=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,m=function(l){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=c?c(l):l,p=Wn(t),v=Wn(s.$name);return(r=i?p!==v?d==null?void 0:d[p]:void 0:d==null?void 0:d[p])!==null&&r!==void 0?r:d};return a!=null&&a.hasOwnProperty("_usept")?{_usept:a._usept,originalValue:m(a.originalValue),value:m(a.value)}:m(a,!0)},_usePT:function(a,s,t,c){var m=function(y){return s(y,t,c)};if(a!=null&&a.hasOwnProperty("_usept")){var _,l=a._usept||((_=this.$primevueConfig)===null||_===void 0?void 0:_.ptOptions)||{},r=l.mergeSections,i=r===void 0?!0:r,d=l.mergeProps,p=d===void 0?!1:d,v=m(a.originalValue),g=m(a.value);return v===void 0&&g===void 0?void 0:tn(g)?g:tn(v)?v:i||!i&&g?p?this._mergeProps(p,v,g):ho(ho({},v),g):g}return m(a)},_useGlobalPT:function(a,s,t){return this._usePT(this.globalPT,a,s,t)},_useDefaultPT:function(a,s,t){return this._usePT(this.defaultPT,a,s,t)},ptm:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,a,ho(ho({},this.$params),s))},ptmi:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $t(this.$_attrsWithoutPT,this.ptm(a,s))},ptmo:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(a,s,ho({instance:this},t),!1)},cx:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,a,ho(ho({},this.$params),s))},sx:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s){var c=this._getOptionValue(this.$style.inlineStyles,a,ho(ho({},this.$params),t)),m=this._getOptionValue(b0.inlineStyles,a,ho(ho({},this.$params),t));return[m,c]}}},computed:{globalPT:function(){var a,s=this;return this._getPT((a=this.$primevueConfig)===null||a===void 0?void 0:a.pt,void 0,function(t){return In(t,{instance:s})})},defaultPT:function(){var a,s=this;return this._getPT((a=this.$primevueConfig)===null||a===void 0?void 0:a.pt,void 0,function(t){return s._getOptionValue(t,s.$name,ho({},s.$params))||In(t,ho({},s.$params))})},isUnstyled:function(){var a;return this.unstyled!==void 0?this.unstyled:(a=this.$primevueConfig)===null||a===void 0?void 0:a.unstyled},$inProps:function(){var a,s=Object.keys(((a=this.$.vnode)===null||a===void 0?void 0:a.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(t){var c=xd(t,1),m=c[0];return s==null?void 0:s.includes(m)}))},$theme:function(){var a;return(a=this.$primevueConfig)===null||a===void 0?void 0:a.theme},$style:function(){return ho(ho({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var a;return{nonce:(a=this.$primevueConfig)===null||a===void 0||(a=a.csp)===null||a===void 0?void 0:a.nonce}},$primevueConfig:function(){var a;return(a=this.$primevue)===null||a===void 0?void 0:a.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var a=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:a,props:a==null?void 0:a.$props,state:a==null?void 0:a.$data,attrs:a==null?void 0:a.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(a){var s=xd(a,1),t=s[0];return t==null?void 0:t.startsWith("pt:")}).reduce(function(a,s){var t=xd(s,2),c=t[0],m=t[1],_=c.split(":"),l=nfe(_),r=l.slice(1);return r==null||r.reduce(function(i,d,p,v){return!i[d]&&(i[d]=p===v.length-1?m:{}),i[d]},a),a},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(a){var s=xd(a,1),t=s[0];return!(t!=null&&t.startsWith("pt:"))}).reduce(function(a,s){var t=xd(s,2),c=t[0],m=t[1];return a[c]=m,a},{})}}},dfe=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,cfe=Fo.extend({name:"baseicon",css:dfe});function vm(o){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vm(o)}function $0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function w0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?$0(Object(s),!0).forEach(function(t){ufe(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):$0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function ufe(o,a,s){return(a=_fe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function _fe(o){var a=mfe(o,"string");return vm(a)=="symbol"?a:a+""}function mfe(o,a){if(vm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(vm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var sd={name:"BaseIcon",extends:rp,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:cfe,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var a=pi(this.label);return w0(w0({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:a?void 0:"img","aria-label":a?void 0:this.label,"aria-hidden":a})}}},S5={name:"CalendarIcon",extends:sd};function ffe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"},null,-1)]),16)}S5.render=ffe;var T5={name:"ChevronDownIcon",extends:sd};function hfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}T5.render=hfe;var j5={name:"ChevronLeftIcon",extends:sd};function pfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1)]),16)}j5.render=pfe;var O5={name:"ChevronRightIcon",extends:sd};function vfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)]),16)}O5.render=vfe;var M5={name:"ChevronUpIcon",extends:sd};function gfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)]),16)}M5.render=gfe;var L5={name:"SpinnerIcon",extends:sd};function bfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}L5.render=bfe;var yfe=function(a){var s=a.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(s("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(s("badge.padding"),`;
    background: `).concat(s("badge.primary.background"),`;
    color: `).concat(s("badge.primary.color"),`;
    font-size: `).concat(s("badge.font.size"),`;
    font-weight: `).concat(s("badge.font.weight"),`;
    min-width: `).concat(s("badge.min.width"),`;
    height: `).concat(s("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(s("badge.dot.size"),`;
    min-width: `).concat(s("badge.dot.size"),`;
    height: `).concat(s("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(s("badge.secondary.background"),`;
    color: `).concat(s("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(s("badge.success.background"),`;
    color: `).concat(s("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(s("badge.info.background"),`;
    color: `).concat(s("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(s("badge.warn.background"),`;
    color: `).concat(s("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(s("badge.danger.background"),`;
    color: `).concat(s("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(s("badge.contrast.background"),`;
    color: `).concat(s("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(s("badge.sm.font.size"),`;
    min-width: `).concat(s("badge.sm.min.width"),`;
    height: `).concat(s("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(s("badge.lg.font.size"),`;
    min-width: `).concat(s("badge.lg.min.width"),`;
    height: `).concat(s("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(s("badge.xl.font.size"),`;
    min-width: `).concat(s("badge.xl.min.width"),`;
    height: `).concat(s("badge.xl.height"),`;
}
`)},kfe={root:function(a){var s=a.props,t=a.instance;return["p-badge p-component",{"p-badge-circle":Lo(s.value)&&String(s.value).length===1,"p-badge-dot":pi(s.value)&&!t.$slots.default,"p-badge-sm":s.size==="small","p-badge-lg":s.size==="large","p-badge-xl":s.size==="xlarge","p-badge-info":s.severity==="info","p-badge-success":s.severity==="success","p-badge-warn":s.severity==="warn","p-badge-danger":s.severity==="danger","p-badge-secondary":s.severity==="secondary","p-badge-contrast":s.severity==="contrast"}]}},$fe=Fo.extend({name:"badge",theme:yfe,classes:kfe}),wfe={name:"BaseBadge",extends:rp,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:$fe,provide:function(){return{$pcBadge:this,$parentInstance:this}}},N5={name:"Badge",extends:wfe,inheritAttrs:!1};function Dfe(o,a,s,t,c,m){return u(),f("span",$t({class:o.cx("root")},o.ptmi("root")),[jo(o.$slots,"default",{},function(){return[le(n(o.value),1)]})],16)}N5.render=Dfe;function gm(o){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gm(o)}function D0(o,a){return Efe(o)||Pfe(o,a)||xfe(o,a)||Cfe()}function Cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(o,a){if(o){if(typeof o=="string")return C0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?C0(o,a):void 0}}function C0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function Pfe(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a!==0)for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function Efe(o){if(Array.isArray(o))return o}function x0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function Do(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?x0(Object(s),!0).forEach(function(t){ig(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):x0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function ig(o,a,s){return(a=Afe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Afe(o){var a=Ife(o,"string");return gm(a)=="symbol"?a:a+""}function Ife(o,a){if(gm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(gm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var uo={_getMeta:function(){return[ps(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],In(ps(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(a,s){var t,c,m;return(t=(a==null||(c=a.instance)===null||c===void 0?void 0:c.$primevue)||(s==null||(m=s.ctx)===null||m===void 0||(m=m.appContext)===null||m===void 0||(m=m.config)===null||m===void 0||(m=m.globalProperties)===null||m===void 0?void 0:m.$primevue))===null||t===void 0?void 0:t.config},_getOptionValue:c1,_getPTValue:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=function(){var E=uo._getOptionValue.apply(uo,arguments);return tn(E)||Wh(E)?{class:E}:E},i=((a=t.binding)===null||a===void 0||(a=a.value)===null||a===void 0?void 0:a.ptOptions)||((s=t.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},d=i.mergeSections,p=d===void 0?!0:d,v=i.mergeProps,g=v===void 0?!1:v,D=l?uo._useDefaultPT(t,t.defaultPT(),r,m,_):void 0,y=uo._usePT(t,uo._getPT(c,t.$name),r,m,Do(Do({},_),{},{global:D||{}})),C=uo._getPTDatasets(t,m);return p||!p&&y?g?uo._mergeProps(t,g,D,y,C):Do(Do(Do({},D),y),C):Do(Do({},y),C)},_getPTDatasets:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t="data-pc-";return Do(Do({},s==="root"&&ig({},"".concat(t,"name"),Wn(a.$name))),{},ig({},"".concat(t,"section"),Wn(s)))},_getPT:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,c=function(_){var l,r=t?t(_):_,i=Wn(s);return(l=r==null?void 0:r[i])!==null&&l!==void 0?l:r};return a!=null&&a.hasOwnProperty("_usept")?{_usept:a._usept,originalValue:c(a.originalValue),value:c(a.value)}:c(a)},_usePT:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0,_=function(C){return t(C,c,m)};if(s!=null&&s.hasOwnProperty("_usept")){var l,r=s._usept||((l=a.$primevueConfig)===null||l===void 0?void 0:l.ptOptions)||{},i=r.mergeSections,d=i===void 0?!0:i,p=r.mergeProps,v=p===void 0?!1:p,g=_(s.originalValue),D=_(s.value);return g===void 0&&D===void 0?void 0:tn(D)?D:tn(g)?g:d||!d&&D?v?uo._mergeProps(a,v,g,D):Do(Do({},g),D):D}return _(s)},_useDefaultPT:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0;return uo._usePT(a,s,t,c,m)},_loadStyles:function(a,s,t){var c,m=uo._getConfig(s,t),_={nonce:m==null||(c=m.csp)===null||c===void 0?void 0:c.nonce};uo._loadCoreStyles(a.$instance,_),uo._loadThemeStyles(a.$instance,_),uo._loadScopedThemeStyles(a.$instance,_),uo._themeChangeListener(function(){return uo._loadThemeStyles(a.$instance,_)})},_loadCoreStyles:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(!gl.isStyleNameLoaded((a=t.$style)===null||a===void 0?void 0:a.name)&&(s=t.$style)!==null&&s!==void 0&&s.name){var m;Fo.loadCSS(c),(m=t.$style)===null||m===void 0||m.loadCSS(c),gl.setLoadedStyleName(t.$style.name)}},_loadThemeStyles:function(){var a,s,t,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;if(!(c!=null&&c.isUnstyled()||(c==null||(a=c.theme)===null||a===void 0?void 0:a.call(c))==="none")){if(!Oo.isStyleNameLoaded("common")){var _,l,r=((_=c.$style)===null||_===void 0||(l=_.getCommonTheme)===null||l===void 0?void 0:l.call(_))||{},i=r.primitive,d=r.semantic,p=r.global,v=r.style;Fo.load(i==null?void 0:i.css,Do({name:"primitive-variables"},m)),Fo.load(d==null?void 0:d.css,Do({name:"semantic-variables"},m)),Fo.load(p==null?void 0:p.css,Do({name:"global-variables"},m)),Fo.loadTheme(Do({name:"global-style"},m),v),Oo.setLoadedStyleName("common")}if(!Oo.isStyleNameLoaded((s=c.$style)===null||s===void 0?void 0:s.name)&&(t=c.$style)!==null&&t!==void 0&&t.name){var g,D,y,C,x=((g=c.$style)===null||g===void 0||(D=g.getDirectiveTheme)===null||D===void 0?void 0:D.call(g))||{},E=x.css,k=x.style;(y=c.$style)===null||y===void 0||y.load(E,Do({name:"".concat(c.$style.name,"-variables")},m)),(C=c.$style)===null||C===void 0||C.loadTheme(Do({name:"".concat(c.$style.name,"-style")},m),k),Oo.setLoadedStyleName(c.$style.name)}if(!Oo.isStyleNameLoaded("layer-order")){var w,T,V=(w=c.$style)===null||w===void 0||(T=w.getLayerOrderThemeCSS)===null||T===void 0?void 0:T.call(w);Fo.load(V,Do({name:"layer-order",first:!0},m)),Oo.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=a.preset();if(t&&a.$attrSelector){var c,m,_,l=((c=a.$style)===null||c===void 0||(m=c.getPresetTheme)===null||m===void 0?void 0:m.call(c,t,"[".concat(a.$attrSelector,"]")))||{},r=l.css,i=(_=a.$style)===null||_===void 0?void 0:_.load(r,Do({name:"".concat(a.$attrSelector,"-").concat(a.$style.name)},s));a.scopedStyleEl=i.el}},_themeChangeListener:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};gl.clearLoadedStyleNames(),Hn.on("theme:change",a)},_hook:function(a,s,t,c,m,_){var l,r,i="on".concat(aR(s)),d=uo._getConfig(c,m),p=t==null?void 0:t.$instance,v=uo._usePT(p,uo._getPT(c==null||(l=c.value)===null||l===void 0?void 0:l.pt,a),uo._getOptionValue,"hooks.".concat(i)),g=uo._useDefaultPT(p,d==null||(r=d.pt)===null||r===void 0||(r=r.directives)===null||r===void 0?void 0:r[a],uo._getOptionValue,"hooks.".concat(i)),D={el:t,binding:c,vnode:m,prevVnode:_};v==null||v(p,D),g==null||g(p,D)},_mergeProps:function(){for(var a=arguments.length>1?arguments[1]:void 0,s=arguments.length,t=new Array(s>2?s-2:0),c=2;c<s;c++)t[c-2]=arguments[c];return d1(a)?a.apply(void 0,t):$t.apply(void 0,t)},_extend:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=function(_,l,r,i,d){var p,v,g,D;l._$instances=l._$instances||{};var y=uo._getConfig(r,i),C=l._$instances[a]||{},x=pi(C)?Do(Do({},s),s==null?void 0:s.methods):{};l._$instances[a]=Do(Do({},C),{},{$name:a,$host:l,$binding:r,$modifiers:r==null?void 0:r.modifiers,$value:r==null?void 0:r.value,$el:C.$el||l||void 0,$style:Do({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},s==null?void 0:s.style),$primevueConfig:y,$attrSelector:(p=l.$pd)===null||p===void 0||(p=p[a])===null||p===void 0?void 0:p.attrSelector,defaultPT:function(){return uo._getPT(y==null?void 0:y.pt,void 0,function(k){var w;return k==null||(w=k.directives)===null||w===void 0?void 0:w[a]})},isUnstyled:function(){var k,w;return((k=l.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.unstyled)!==void 0?(w=l.$instance)===null||w===void 0||(w=w.$binding)===null||w===void 0||(w=w.value)===null||w===void 0?void 0:w.unstyled:y==null?void 0:y.unstyled},theme:function(){var k;return(k=l.$instance)===null||k===void 0||(k=k.$primevueConfig)===null||k===void 0?void 0:k.theme},preset:function(){var k;return(k=l.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.dt},ptm:function(){var k,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return uo._getPTValue(l.$instance,(k=l.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.pt,w,Do({},T))},ptmo:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return uo._getPTValue(l.$instance,k,w,T,!1)},cx:function(){var k,w,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(k=l.$instance)!==null&&k!==void 0&&k.isUnstyled()?void 0:uo._getOptionValue((w=l.$instance)===null||w===void 0||(w=w.$style)===null||w===void 0?void 0:w.classes,T,Do({},V))},sx:function(){var k,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return T?uo._getOptionValue((k=l.$instance)===null||k===void 0||(k=k.$style)===null||k===void 0?void 0:k.inlineStyles,w,Do({},V)):void 0}},x),l.$instance=l._$instances[a],(v=(g=l.$instance)[_])===null||v===void 0||v.call(g,l,r,i,d),l["$".concat(a)]=l.$instance,uo._hook(a,_,l,r,i,d),l.$pd||(l.$pd={}),l.$pd[a]=Do(Do({},(D=l.$pd)===null||D===void 0?void 0:D[a]),{},{name:a,instance:l.$instance})},c=function(_){var l,r,i,d,p,v=(l=_.$instance)===null||l===void 0?void 0:l.watch;v==null||(r=v.config)===null||r===void 0||r.call(_.$instance,(i=_.$instance)===null||i===void 0?void 0:i.$primevueConfig),Ar.on("config:change",function(g){var D,y=g.newValue,C=g.oldValue;return v==null||(D=v.config)===null||D===void 0?void 0:D.call(_.$instance,y,C)}),v==null||(d=v["config.ripple"])===null||d===void 0||d.call(_.$instance,(p=_.$instance)===null||p===void 0||(p=p.$primevueConfig)===null||p===void 0?void 0:p.ripple),Ar.on("config:ripple:change",function(g){var D,y=g.newValue,C=g.oldValue;return v==null||(D=v["config.ripple"])===null||D===void 0?void 0:D.call(_.$instance,y,C)})};return{created:function(_,l,r,i){_.$pd||(_.$pd={}),_.$pd[a]={name:a,attrSelector:f1("pd")},t("created",_,l,r,i)},beforeMount:function(_,l,r,i){uo._loadStyles(_,l,r),t("beforeMount",_,l,r,i),c(_)},mounted:function(_,l,r,i){uo._loadStyles(_,l,r),t("mounted",_,l,r,i)},beforeUpdate:function(_,l,r,i){t("beforeUpdate",_,l,r,i)},updated:function(_,l,r,i){uo._loadStyles(_,l,r),t("updated",_,l,r,i)},beforeUnmount:function(_,l,r,i){t("beforeUnmount",_,l,r,i)},unmounted:function(_,l,r,i){var d;(d=_.$instance)===null||d===void 0||(d=d.scopedStyleEl)===null||d===void 0||(d=d.value)===null||d===void 0||d.remove(),t("unmounted",_,l,r,i)}}},extend:function(){var a=uo._getMeta.apply(uo,arguments),s=D0(a,2),t=s[0],c=s[1];return Do({extend:function(){var _=uo._getMeta.apply(uo,arguments),l=D0(_,2),r=l[0],i=l[1];return uo.extend(r,Do(Do(Do({},c),c==null?void 0:c.methods),i))}},uo._extend(t,c))}},Rfe=function(a){var s=a.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(s("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},Sfe={root:"p-ink"},Tfe=Fo.extend({name:"ripple-directive",theme:Rfe,classes:Sfe}),jfe=uo.extend({style:Tfe});function bm(o){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},bm(o)}function Ofe(o){return Ffe(o)||Nfe(o)||Lfe(o)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(o,a){if(o){if(typeof o=="string")return rg(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?rg(o,a):void 0}}function Nfe(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function Ffe(o){if(Array.isArray(o))return rg(o)}function rg(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function P0(o,a,s){return(a=Yfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Yfe(o){var a=Vfe(o,"string");return bm(a)=="symbol"?a:a+""}function Vfe(o,a){if(bm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(bm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var F5=jfe.extend("ripple",{watch:{"config.ripple":function(a){a?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(a){this.remove(a)},timeout:void 0,methods:{bindEvents:function(a){a.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(a){a.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(a){var s=kR("span",P0(P0({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));a.appendChild(s),this.$el=s},remove:function(a){var s=this.getInk(a);s&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(a),s.removeEventListener("animationend",this.onAnimationEnd),s.remove())},onMouseDown:function(a){var s=this,t=a.currentTarget,c=this.getInk(t);if(!(!c||getComputedStyle(c,null).display==="none")){if(!this.isUnstyled()&&ov(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"),!Jy(c)&&!Xy(c)){var m=Math.max(If(t),wR(t));c.style.height=m+"px",c.style.width=m+"px"}var _=$R(t),l=a.pageX-_.left+document.body.scrollTop-Xy(c)/2,r=a.pageY-_.top+document.body.scrollLeft-Jy(c)/2;c.style.top=r+"px",c.style.left=l+"px",!this.isUnstyled()&&hR(c,"p-ink-active"),c.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){c&&(!s.isUnstyled()&&ov(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(a){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&ov(a.currentTarget,"p-ink-active"),a.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(a){return a&&a.children?Ofe(a.children).find(function(s){return Ql(s,"data-pc-name")==="ripple"}):void 0}}});function ym(o){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ym(o)}function ds(o,a,s){return(a=Bfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Bfe(o){var a=Ufe(o,"string");return ym(a)=="symbol"?a:a+""}function Ufe(o,a){if(ym(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(ym(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var qfe=function(a){var s=a.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(s("button.primary.color"),`;
    background: `).concat(s("button.primary.background"),`;
    border: 1px solid `).concat(s("button.primary.border.color"),`;
    padding: `).concat(s("button.padding.y")," ").concat(s("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(s("button.transition.duration"),", color ").concat(s("button.transition.duration"),", border-color ").concat(s("button.transition.duration"),`,
            outline-color `).concat(s("button.transition.duration"),", box-shadow ").concat(s("button.transition.duration"),`;
    border-radius: `).concat(s("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(s("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(s("button.icon.only.width"),`;
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(s("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(s("button.sm.font.size"),`;
    padding: `).concat(s("button.sm.padding.y")," ").concat(s("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(s("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(s("button.lg.font.size"),`;
    padding: `).concat(s("button.lg.padding.y")," ").concat(s("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(s("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(s("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(s("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(s("button.primary.hover.background"),`;
    border: 1px solid `).concat(s("button.primary.hover.border.color"),`;
    color: `).concat(s("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(s("button.primary.active.background"),`;
    border: 1px solid `).concat(s("button.primary.active.border.color"),`;
    color: `).concat(s("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(s("button.primary.focus.ring.shadow"),`;
    outline: `).concat(s("button.focus.ring.width")," ").concat(s("button.focus.ring.style")," ").concat(s("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(s("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(s("button.badge.size"),`;
    height: `).concat(s("button.badge.size"),`;
    line-height: `).concat(s("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(s("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(s("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(s("button.secondary.background"),`;
    border: 1px solid `).concat(s("button.secondary.border.color"),`;
    color: `).concat(s("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.secondary.hover.background"),`;
    border: 1px solid `).concat(s("button.secondary.hover.border.color"),`;
    color: `).concat(s("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.secondary.active.background"),`;
    border: 1px solid `).concat(s("button.secondary.active.border.color"),`;
    color: `).concat(s("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(s("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(s("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(s("button.success.background"),`;
    border: 1px solid `).concat(s("button.success.border.color"),`;
    color: `).concat(s("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.success.hover.background"),`;
    border: 1px solid `).concat(s("button.success.hover.border.color"),`;
    color: `).concat(s("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(s("button.success.active.background"),`;
    border: 1px solid `).concat(s("button.success.active.border.color"),`;
    color: `).concat(s("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(s("button.success.focus.ring.color"),`;
    box-shadow: `).concat(s("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(s("button.info.background"),`;
    border: 1px solid `).concat(s("button.info.border.color"),`;
    color: `).concat(s("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.info.hover.background"),`;
    border: 1px solid `).concat(s("button.info.hover.border.color"),`;
    color: `).concat(s("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(s("button.info.active.background"),`;
    border: 1px solid `).concat(s("button.info.active.border.color"),`;
    color: `).concat(s("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(s("button.info.focus.ring.color"),`;
    box-shadow: `).concat(s("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(s("button.warn.background"),`;
    border: 1px solid `).concat(s("button.warn.border.color"),`;
    color: `).concat(s("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.warn.hover.background"),`;
    border: 1px solid `).concat(s("button.warn.hover.border.color"),`;
    color: `).concat(s("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.warn.active.background"),`;
    border: 1px solid `).concat(s("button.warn.active.border.color"),`;
    color: `).concat(s("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(s("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(s("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(s("button.help.background"),`;
    border: 1px solid `).concat(s("button.help.border.color"),`;
    color: `).concat(s("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.help.hover.background"),`;
    border: 1px solid `).concat(s("button.help.hover.border.color"),`;
    color: `).concat(s("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(s("button.help.active.background"),`;
    border: 1px solid `).concat(s("button.help.active.border.color"),`;
    color: `).concat(s("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(s("button.help.focus.ring.color"),`;
    box-shadow: `).concat(s("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(s("button.danger.background"),`;
    border: 1px solid `).concat(s("button.danger.border.color"),`;
    color: `).concat(s("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.danger.hover.background"),`;
    border: 1px solid `).concat(s("button.danger.hover.border.color"),`;
    color: `).concat(s("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.danger.active.background"),`;
    border: 1px solid `).concat(s("button.danger.active.border.color"),`;
    color: `).concat(s("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(s("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(s("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(s("button.contrast.background"),`;
    border: 1px solid `).concat(s("button.contrast.border.color"),`;
    color: `).concat(s("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.contrast.hover.background"),`;
    border: 1px solid `).concat(s("button.contrast.hover.border.color"),`;
    color: `).concat(s("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.contrast.active.background"),`;
    border: 1px solid `).concat(s("button.contrast.active.border.color"),`;
    color: `).concat(s("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(s("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(s("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(s("button.outlined.primary.hover.background"),`;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(s("button.outlined.primary.active.background"),`;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.outlined.secondary.active.background"),`;
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.outlined.success.hover.background"),`;
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(s("button.outlined.success.active.background"),`;
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.outlined.info.hover.background"),`;
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(s("button.outlined.info.active.background"),`;
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.outlined.warn.hover.background"),`;
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.outlined.warn.active.background"),`;
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.outlined.help.hover.background"),`;
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(s("button.outlined.help.active.background"),`;
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.outlined.danger.hover.background"),`;
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.outlined.danger.active.background"),`;
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.outlined.contrast.active.background"),`;
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(s("button.outlined.plain.hover.background"),`;
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(s("button.outlined.plain.active.background"),`;
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(s("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(s("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(s("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(s("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(s("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.text.contrast.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.text.contrast.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(s("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(s("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.active.color"),`;
}
`)},Hfe={root:function(a){var s=a.instance,t=a.props;return["p-button p-component",ds(ds(ds(ds(ds(ds(ds(ds(ds({"p-button-icon-only":s.hasIcon&&!t.label&&!t.badge,"p-button-vertical":(t.iconPos==="top"||t.iconPos==="bottom")&&t.label,"p-button-loading":t.loading,"p-button-link":t.link||t.variant==="link"},"p-button-".concat(t.severity),t.severity),"p-button-raised",t.raised),"p-button-rounded",t.rounded),"p-button-text",t.text||t.variant==="text"),"p-button-outlined",t.outlined||t.variant==="outlined"),"p-button-sm",t.size==="small"),"p-button-lg",t.size==="large"),"p-button-plain",t.plain),"p-button-fluid",s.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(a){var s=a.props;return["p-button-icon",ds({},"p-button-icon-".concat(s.iconPos),s.label)]},label:"p-button-label"},zfe=Fo.extend({name:"button",theme:qfe,classes:Hfe}),Wfe={name:"BaseButton",extends:rp,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:zfe,provide:function(){return{$pcButton:this,$parentInstance:this}}},Y5={name:"Button",extends:Wfe,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(a){var s=a==="root"?this.ptmi:this.ptm;return s(a,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return $t(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return pi(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:L5,Badge:N5},directives:{ripple:F5}};function Kfe(o,a,s,t,c,m){var _=de("SpinnerIcon"),l=de("Badge"),r=Pg("ripple");return o.asChild?jo(o.$slots,"default",{key:1,class:rt(o.cx("root")),a11yAttrs:m.a11yAttrs}):Y((u(),fe($a(o.as),$t({key:0,class:o.cx("root")},m.attrs),{default:Ko(function(){return[jo(o.$slots,"default",{},function(){return[o.loading?jo(o.$slots,"loadingicon",$t({key:0,class:[o.cx("loadingIcon"),o.cx("icon")]},o.ptm("loadingIcon")),function(){return[o.loadingIcon?(u(),f("span",$t({key:0,class:[o.cx("loadingIcon"),o.cx("icon"),o.loadingIcon]},o.ptm("loadingIcon")),null,16)):(u(),fe(_,$t({key:1,class:[o.cx("loadingIcon"),o.cx("icon")],spin:""},o.ptm("loadingIcon")),null,16,["class"]))]}):jo(o.$slots,"icon",$t({key:1,class:[o.cx("icon")]},o.ptm("icon")),function(){return[o.icon?(u(),f("span",$t({key:0,class:[o.cx("icon"),o.icon,o.iconClass]},o.ptm("icon")),null,16)):b("",!0)]}),e("span",$t({class:o.cx("label")},o.ptm("label")),n(o.label||""),17),o.badge?(u(),fe(l,{key:2,value:o.badge,class:rt(o.badgeClass),severity:o.badgeSeverity,unstyled:o.unstyled,pt:o.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):b("",!0)]})]}),_:3},16,["class"])),[[r]])}Y5.render=Kfe;var Gfe={name:"BaseEditableHolder",extends:rp,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(a){this.d_value=a},defaultValue:function(a){this.d_value=a},$formName:{immediate:!0,handler:function(a){var s,t;this.formField=((s=this.$pcForm)===null||s===void 0||(t=s.register)===null||t===void 0?void 0:t.call(s,a,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(a){var s,t;this.formField=((s=this.$pcForm)===null||s===void 0||(t=s.register)===null||t===void 0?void 0:t.call(s,this.$formName,a))||{}}},$formDefaultValue:{immediate:!0,handler:function(a){this.d_value!==a&&(this.d_value=a)}}},formField:{},methods:{writeValue:function(a,s){var t,c;this.controlled&&(this.d_value=a,this.$emit("update:modelValue",a)),this.$emit("value-change",a),(t=(c=this.formField).onChange)===null||t===void 0||t.call(c,{originalEvent:s,value:a})}},computed:{$filled:function(){return Lo(this.d_value)},$invalid:function(){var a,s,t,c;return(a=(s=this.invalid)!==null&&s!==void 0?s:(t=this.$pcFormField)===null||t===void 0||(t=t.$field)===null||t===void 0?void 0:t.invalid)!==null&&a!==void 0?a:(c=this.$pcForm)===null||c===void 0||(c=c.states)===null||c===void 0||(c=c[this.$formName])===null||c===void 0?void 0:c.invalid},$formName:function(){var a;return this.name||((a=this.$formControl)===null||a===void 0?void 0:a.name)},$formControl:function(){var a;return this.formControl||((a=this.$pcFormField)===null||a===void 0?void 0:a.formControl)},$formDefaultValue:function(){var a,s,t,c;return(a=(s=this.d_value)!==null&&s!==void 0?s:(t=this.$pcFormField)===null||t===void 0?void 0:t.initialValue)!==null&&a!==void 0?a:(c=this.$pcForm)===null||c===void 0||(c=c.initialValues)===null||c===void 0?void 0:c[this.$formName]},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},V5={name:"BaseInput",extends:Gfe,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var a;return(a=this.variant)!==null&&a!==void 0?a:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var a;return(a=this.fluid)!==null&&a!==void 0?a:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},Qfe=function(a){var s=a.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(s("inputtext.color"),`;
    background: `).concat(s("inputtext.background"),`;
    padding-block: `).concat(s("inputtext.padding.y"),`;
    padding-inline: `).concat(s("inputtext.padding.x"),`;
    border: 1px solid `).concat(s("inputtext.border.color"),`;
    transition: background `).concat(s("inputtext.transition.duration"),", color ").concat(s("inputtext.transition.duration"),", border-color ").concat(s("inputtext.transition.duration"),", outline-color ").concat(s("inputtext.transition.duration"),", box-shadow ").concat(s("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(s("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(s("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(s("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(s("inputtext.focus.border.color"),`;
    box-shadow: `).concat(s("inputtext.focus.ring.shadow"),`;
    outline: `).concat(s("inputtext.focus.ring.width")," ").concat(s("inputtext.focus.ring.style")," ").concat(s("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(s("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(s("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(s("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: `).concat(s("inputtext.filled.hover.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(s("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(s("inputtext.disabled.background"),`;
    color: `).concat(s("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(s("inputtext.placeholder.color"),`;
}

.p-inputtext.p-invalid::placeholder {
    color: `).concat(s("inputtext.invalid.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(s("inputtext.sm.font.size"),`;
    padding-block: `).concat(s("inputtext.sm.padding.y"),`;
    padding-inline: `).concat(s("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(s("inputtext.lg.font.size"),`;
    padding-block: `).concat(s("inputtext.lg.padding.y"),`;
    padding-inline: `).concat(s("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},Zfe={root:function(a){var s=a.instance,t=a.props;return["p-inputtext p-component",{"p-filled":s.$filled,"p-inputtext-sm p-inputfield-sm":t.size==="small","p-inputtext-lg p-inputfield-lg":t.size==="large","p-invalid":s.$invalid,"p-variant-filled":s.$variant==="filled","p-inputtext-fluid":s.$fluid}]}},Jfe=Fo.extend({name:"inputtext",theme:Qfe,classes:Zfe}),Xfe={name:"BaseInputText",extends:V5,style:Jfe,provide:function(){return{$pcInputText:this,$parentInstance:this}}},B5={name:"InputText",extends:Xfe,inheritAttrs:!1,methods:{onInput:function(a){this.writeValue(a.target.value,a)}},computed:{attrs:function(){return $t(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)}}},ehe=["value","disabled","aria-invalid"];function the(o,a,s,t,c,m){return u(),f("input",$t({type:"text",class:o.cx("root"),value:o.d_value,disabled:o.disabled,"aria-invalid":o.$invalid||void 0,onInput:a[0]||(a[0]=function(){return m.onInput&&m.onInput.apply(m,arguments)})},m.attrs),null,16,ehe)}B5.render=the;var ohe=u1(),U5={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=m1()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function ahe(o,a,s,t,c,m){return m.inline?jo(o.$slots,"default",{key:0}):c.mounted?(u(),fe(A2,{key:1,to:s.appendTo},[jo(o.$slots,"default")],8,["to"])):b("",!0)}U5.render=ahe;var nhe=function(a){var s=a.dt;return`
.p-datepicker {
    display: inline-flex;
    max-width: 100%;
}

.p-datepicker-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-datepicker-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `.concat(s("datepicker.dropdown.width"),`;
    border-start-end-radius: `).concat(s("datepicker.dropdown.border.radius"),`;
    border-end-end-radius: `).concat(s("datepicker.dropdown.border.radius"),`;
    background: `).concat(s("datepicker.dropdown.background"),`;
    border: 1px solid `).concat(s("datepicker.dropdown.border.color"),`;
    border-inline-start: 0 none;
    color: `).concat(s("datepicker.dropdown.color"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    outline-color: transparent;
}

.p-datepicker-dropdown:not(:disabled):hover {
    background: `).concat(s("datepicker.dropdown.hover.background"),`;
    border-color: `).concat(s("datepicker.dropdown.hover.border.color"),`;
    color: `).concat(s("datepicker.dropdown.hover.color"),`;
}

.p-datepicker-dropdown:not(:disabled):active {
    background: `).concat(s("datepicker.dropdown.active.background"),`;
    border-color: `).concat(s("datepicker.dropdown.active.border.color"),`;
    color: `).concat(s("datepicker.dropdown.active.color"),`;
}

.p-datepicker-dropdown:focus-visible {
    box-shadow: `).concat(s("datepicker.dropdown.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.dropdown.focus.ring.width")," ").concat(s("datepicker.dropdown.focus.ring.style")," ").concat(s("datepicker.dropdown.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.dropdown.focus.ring.offset"),`;
}

.p-datepicker:has(.p-datepicker-input-icon-container) {
    position: relative;
}

.p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
    padding-inline-end: calc((`).concat(s("form.field.padding.x")," * 2) + ").concat(s("icon.size"),`);
}

.p-datepicker-input-icon-container {
    cursor: pointer;
    position: absolute;
    top: 50%;
    inset-inline-end: `).concat(s("form.field.padding.x"),`;
    margin-block-start: calc(-1 * (`).concat(s("icon.size"),` / 2));
    color: `).concat(s("datepicker.input.icon.color"),`;
    line-height: 1;
}

.p-datepicker-fluid {
    display: flex;
}

.p-datepicker-fluid .p-datepicker-input {
    width: 1%;
}

.p-datepicker .p-datepicker-panel {
    min-width: 100%;
}

.p-datepicker-panel {
    width: auto;
    padding: `).concat(s("datepicker.panel.padding"),`;
    background: `).concat(s("datepicker.panel.background"),`;
    color: `).concat(s("datepicker.panel.color"),`;
    border: 1px solid `).concat(s("datepicker.panel.border.color"),`;
    border-radius: `).concat(s("datepicker.panel.border.radius"),`;
    box-shadow: `).concat(s("datepicker.panel.shadow"),`;
}

.p-datepicker-panel-inline {
    display: inline-block;
    overflow-x: auto;
    box-shadow: none;
}

.p-datepicker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: `).concat(s("datepicker.header.padding"),`;
    background: `).concat(s("datepicker.header.background"),`;
    color: `).concat(s("datepicker.header.color"),`;
    border-block-end: 1px solid `).concat(s("datepicker.header.border.color"),`;
}

.p-datepicker-next-button:dir(rtl) {
    order: -1;
}

.p-datepicker-prev-button:dir(rtl) {
    order: 1;
}

.p-datepicker-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: `).concat(s("datepicker.title.gap"),`;
    font-weight: `).concat(s("datepicker.title.font.weight"),`;
}

.p-datepicker-select-year,
.p-datepicker-select-month {
    border: none;
    background: transparent;
    margin: 0;
    cursor: pointer;
    font-weight: inherit;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),`;
}

.p-datepicker-select-month {
    padding: `).concat(s("datepicker.select.month.padding"),`;
    color: `).concat(s("datepicker.select.month.color"),`;
    border-radius: `).concat(s("datepicker.select.month.border.radius"),`;
}

.p-datepicker-select-year {
    padding: `).concat(s("datepicker.select.year.padding"),`;
    color: `).concat(s("datepicker.select.year.color"),`;
    border-radius: `).concat(s("datepicker.select.year.border.radius"),`;
}

.p-datepicker-select-month:enabled:hover {
    background: `).concat(s("datepicker.select.month.hover.background"),`;
    color: `).concat(s("datepicker.select.month.hover.color"),`;
}

.p-datepicker-select-year:enabled:hover {
    background: `).concat(s("datepicker.select.year.hover.background"),`;
    color: `).concat(s("datepicker.select.year.hover.color"),`;
}

.p-datepicker-select-month:focus-visible,
.p-datepicker-select-year:focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-calendar-container {
    display: flex;
}

.p-datepicker-calendar-container .p-datepicker-calendar {
    flex: 1 1 auto;
    border-inline-start: 1px solid `).concat(s("datepicker.group.border.color"),`;
    padding-inline-end: `).concat(s("datepicker.group.gap"),`;
    padding-inline-start: `).concat(s("datepicker.group.gap"),`;
}

.p-datepicker-calendar-container .p-datepicker-calendar:first-child {
    padding-inline-start: 0;
    border-inline-start: 0 none;
}

.p-datepicker-calendar-container .p-datepicker-calendar:last-child {
    padding-inline-end: 0;
}

.p-datepicker-day-view {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    margin: `).concat(s("datepicker.day.view.margin"),`;
}

.p-datepicker-weekday-cell {
    padding: `).concat(s("datepicker.week.day.padding"),`;
}

.p-datepicker-weekday {
    font-weight: `).concat(s("datepicker.week.day.font.weight"),`;
    color: `).concat(s("datepicker.week.day.color"),`;
}

.p-datepicker-day-cell {
    padding: `).concat(s("datepicker.date.padding"),`;
}

.p-datepicker-day {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
    width: `).concat(s("datepicker.date.width"),`;
    height: `).concat(s("datepicker.date.height"),`;
    border-radius: `).concat(s("datepicker.date.border.radius"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border: 1px solid transparent;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
    background: `).concat(s("datepicker.date.hover.background"),`;
    color: `).concat(s("datepicker.date.hover.color"),`;
}

.p-datepicker-day:focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-day-selected {
    background: `).concat(s("datepicker.date.selected.background"),`;
    color: `).concat(s("datepicker.date.selected.color"),`;
}

.p-datepicker-day-selected-range {
    background: `).concat(s("datepicker.date.range.selected.background"),`;
    color: `).concat(s("datepicker.date.range.selected.color"),`;
}

.p-datepicker-today > .p-datepicker-day {
    background: `).concat(s("datepicker.today.background"),`;
    color: `).concat(s("datepicker.today.color"),`;
}

.p-datepicker-today > .p-datepicker-day-selected {
    background: `).concat(s("datepicker.date.selected.background"),`;
    color: `).concat(s("datepicker.date.selected.color"),`;
}

.p-datepicker-today > .p-datepicker-day-selected-range {
    background: `).concat(s("datepicker.date.range.selected.background"),`;
    color: `).concat(s("datepicker.date.range.selected.color"),`;
}

.p-datepicker-weeknumber {
    text-align: center;
}

.p-datepicker-month-view {
    margin: `).concat(s("datepicker.month.view.margin"),`;
}

.p-datepicker-month {
    width: 33.3%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: `).concat(s("datepicker.month.padding"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border-radius: `).concat(s("datepicker.month.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
    color: `).concat(s("datepicker.date.hover.color"),`;
    background: `).concat(s("datepicker.date.hover.background"),`;
}

.p-datepicker-month-selected {
    color: `).concat(s("datepicker.date.selected.color"),`;
    background: `).concat(s("datepicker.date.selected.background"),`;
}

.p-datepicker-month:not(.p-disabled):focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-year-view {
    margin: `).concat(s("datepicker.year.view.margin"),`;
}

.p-datepicker-year {
    width: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: `).concat(s("datepicker.year.padding"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border-radius: `).concat(s("datepicker.year.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
    color: `).concat(s("datepicker.date.hover.color"),`;
    background: `).concat(s("datepicker.date.hover.background"),`;
}

.p-datepicker-year-selected {
    color: `).concat(s("datepicker.date.selected.color"),`;
    background: `).concat(s("datepicker.date.selected.background"),`;
}

.p-datepicker-year:not(.p-disabled):focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-buttonbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: `).concat(s("datepicker.buttonbar.padding"),`;
    border-block-start: 1px solid `).concat(s("datepicker.buttonbar.border.color"),`;
}

.p-datepicker-buttonbar .p-button {
    width: auto;
}

.p-datepicker-time-picker {
    display: flex;
    justify-content: center;
    align-items: center;
    border-block-start: 1px solid `).concat(s("datepicker.time.picker.border.color"),`;
    padding: 0;
    gap: `).concat(s("datepicker.time.picker.gap"),`;
}

.p-datepicker-calendar-container + .p-datepicker-time-picker {
    padding: `).concat(s("datepicker.time.picker.padding"),`;
}

.p-datepicker-time-picker > div {
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: `).concat(s("datepicker.time.picker.button.gap"),`;
}

.p-datepicker-time-picker span {
    font-size: 1rem;
}

.p-datepicker-timeonly .p-datepicker-time-picker {
    border-block-start: 0 none;
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown {
    width: `).concat(s("datepicker.dropdown.sm.width"),`;
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-sm) .p-datepicker-input-icon {
    font-size: `).concat(s("form.field.sm.font.size"),`;
    width: `).concat(s("form.field.sm.font.size"),`;
    height: `).concat(s("form.field.sm.font.size"),`;
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown {
    width: `).concat(s("datepicker.dropdown.lg.width"),`;
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-lg) .p-datepicker-input-icon {
    font-size: `).concat(s("form.field.lg.font.size"),`;
    width: `).concat(s("form.field.lg.font.size"),`;
    height: `).concat(s("form.field.lg.font.size"),`;
}
`)},she={root:function(a){var s=a.props;return{position:s.appendTo==="self"?"relative":void 0}}},lhe={root:function(a){var s=a.instance,t=a.state;return["p-datepicker p-component p-inputwrapper",{"p-invalid":s.$invalid,"p-inputwrapper-filled":s.$filled,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-focus":t.focused||t.overlayVisible,"p-datepicker-fluid":s.$fluid}]},pcInputText:"p-datepicker-input",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:function(a){var s=a.props;return["p-datepicker-panel p-component",{"p-datepicker-panel-inline":s.inline,"p-disabled":s.disabled,"p-datepicker-timeonly":s.timeOnly}]},calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:function(a){var s=a.date;return["p-datepicker-day-cell",{"p-datepicker-other-month":s.otherMonth,"p-datepicker-today":s.today}]},day:function(a){var s=a.instance,t=a.props,c=a.date,m="";return s.isRangeSelection()&&s.isSelected(c)&&c.selectable&&(m=s.isDateEquals(t.modelValue[0],c)||s.isDateEquals(t.modelValue[1],c)?"p-datepicker-day-selected":"p-datepicker-day-selected-range"),["p-datepicker-day",{"p-datepicker-day-selected":!s.isRangeSelection()&&s.isSelected(c)&&c.selectable,"p-disabled":t.disabled||!c.selectable},m]},monthView:"p-datepicker-month-view",month:function(a){var s=a.instance,t=a.props,c=a.month,m=a.index;return["p-datepicker-month",{"p-datepicker-month-selected":s.isMonthSelected(m),"p-disabled":t.disabled||!c.selectable}]},yearView:"p-datepicker-year-view",year:function(a){var s=a.instance,t=a.props,c=a.year;return["p-datepicker-year",{"p-datepicker-year-selected":s.isYearSelected(c.value),"p-disabled":t.disabled||!c.selectable}]},timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button"},ihe=Fo.extend({name:"datepicker",theme:nhe,classes:lhe,inlineStyles:she}),rhe={name:"BaseDatePicker",extends:V5,props:{selectionMode:{type:String,default:"single"},dateFormat:{type:String,default:null},inline:{type:Boolean,default:!1},showOtherMonths:{type:Boolean,default:!0},selectOtherMonths:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},iconDisplay:{type:String,default:"button"},icon:{type:String,default:void 0},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},numberOfMonths:{type:Number,default:1},responsiveOptions:Array,breakpoint:{type:String,default:"769px"},view:{type:String,default:"date"},minDate:{type:Date,value:null},maxDate:{type:Date,value:null},disabledDates:{type:Array,value:null},disabledDays:{type:Array,value:null},maxDateCount:{type:Number,value:null},showOnFocus:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},showButtonBar:{type:Boolean,default:!1},shortYearCutoff:{type:String,default:"+10"},showTime:{type:Boolean,default:!1},timeOnly:{type:Boolean,default:!1},hourFormat:{type:String,default:"24"},stepHour:{type:Number,default:1},stepMinute:{type:Number,default:1},stepSecond:{type:Number,default:1},showSeconds:{type:Boolean,default:!1},hideOnDateTimeSelect:{type:Boolean,default:!1},hideOnRangeSelection:{type:Boolean,default:!1},timeSeparator:{type:String,default:":"},showWeek:{type:Boolean,default:!1},manualInput:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:null},id:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},todayButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},clearButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},navigatorButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},timepickerButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ihe,provide:function(){return{$pcDatePicker:this,$parentInstance:this}}};function dg(o){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dg(o)}function hv(o){return uhe(o)||che(o)||q5(o)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function uhe(o){if(Array.isArray(o))return cg(o)}function pv(o,a){var s=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!s){if(Array.isArray(o)||(s=q5(o))||a){s&&(o=s);var t=0,c=function(){};return{s:c,n:function(){return t>=o.length?{done:!0}:{done:!1,value:o[t++]}},e:function(i){throw i},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,_=!0,l=!1;return{s:function(){s=s.call(o)},n:function(){var i=s.next();return _=i.done,i},e:function(i){l=!0,m=i},f:function(){try{_||s.return==null||s.return()}finally{if(l)throw m}}}}function q5(o,a){if(o){if(typeof o=="string")return cg(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?cg(o,a):void 0}}function cg(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}var gi={name:"DatePicker",extends:rhe,inheritAttrs:!1,emits:["show","hide","input","month-change","year-change","date-select","today-click","clear-click","focus","blur","keydown"],inject:{$pcFluid:{default:null}},navigationState:null,timePickerChange:!1,scrollHandler:null,outsideClickListener:null,resizeListener:null,matchMediaListener:null,overlay:null,input:null,previousButton:null,nextButton:null,timePickerTimer:null,preventFocus:!1,typeUpdate:!1,data:function(){return{d_id:this.id,currentMonth:null,currentYear:null,currentHour:null,currentMinute:null,currentSecond:null,pm:null,focused:!1,overlayVisible:!1,currentView:this.view,query:null,queryMatches:!1}},watch:{id:function(a){this.d_id=a||g0()},modelValue:function(a){this.updateCurrentMetaData(),!this.typeUpdate&&!this.inline&&this.input&&(this.input.value=this.inputFieldValue),this.typeUpdate=!1},showTime:function(){this.updateCurrentMetaData()},minDate:function(){this.updateCurrentMetaData()},maxDate:function(){this.updateCurrentMetaData()},months:function(){this.overlay&&(this.focused||(this.inline&&(this.preventFocus=!0),setTimeout(this.updateFocus,0)))},numberOfMonths:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},responsiveOptions:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},currentView:function(){var a=this;Promise.resolve(null).then(function(){return a.alignOverlay()})},view:function(a){this.currentView=a}},created:function(){this.updateCurrentMetaData()},mounted:function(){this.d_id=this.d_id||g0(),this.createResponsiveStyle(),this.bindMatchMediaListener(),this.inline?this.disabled||(this.preventFocus=!0,this.initFocusableCell()):this.input.value=this.inputFieldValue},updated:function(){this.overlay&&(this.preventFocus=!0,setTimeout(this.updateFocus,0)),this.input&&this.selectionStart!=null&&this.selectionEnd!=null&&(this.input.selectionStart=this.selectionStart,this.input.selectionEnd=this.selectionEnd,this.selectionStart=null,this.selectionEnd=null)},beforeUnmount:function(){this.timePickerTimer&&clearTimeout(this.timePickerTimer),this.destroyResponsiveStyleElement(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&av.clear(this.overlay),this.overlay=null},methods:{isComparable:function(){return this.d_value!=null&&typeof this.d_value!="string"},isSelected:function(a){if(!this.isComparable())return!1;if(this.d_value){if(this.isSingleSelection())return this.isDateEquals(this.d_value,a);if(this.isMultipleSelection()){var s=!1,t=pv(this.d_value),c;try{for(t.s();!(c=t.n()).done;){var m=c.value;if(s=this.isDateEquals(m,a),s)break}}catch(_){t.e(_)}finally{t.f()}return s}else if(this.isRangeSelection())return this.d_value[1]?this.isDateEquals(this.d_value[0],a)||this.isDateEquals(this.d_value[1],a)||this.isDateBetween(this.d_value[0],this.d_value[1],a):this.isDateEquals(this.d_value[0],a)}return!1},isMonthSelected:function(a){var s=this;if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(r){return r.getMonth()===a&&r.getFullYear()===s.currentYear});if(this.isRangeSelection())if(this.d_value[1]){var m=new Date(this.currentYear,a,1),_=new Date(this.d_value[0].getFullYear(),this.d_value[0].getMonth(),1),l=new Date(this.d_value[1].getFullYear(),this.d_value[1].getMonth(),1);return m>=_&&m<=l}else{var t,c;return((t=this.d_value[0])===null||t===void 0?void 0:t.getFullYear())===this.currentYear&&((c=this.d_value[0])===null||c===void 0?void 0:c.getMonth())===a}else return this.d_value.getMonth()===a&&this.d_value.getFullYear()===this.currentYear},isYearSelected:function(a){if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(c){return c.getFullYear()===a});if(this.isRangeSelection()){var s=this.d_value[0]?this.d_value[0].getFullYear():null,t=this.d_value[1]?this.d_value[1].getFullYear():null;return s===a||t===a||s<a&&t>a}else return this.d_value.getFullYear()===a},isDateEquals:function(a,s){return a?a.getDate()===s.day&&a.getMonth()===s.month&&a.getFullYear()===s.year:!1},isDateBetween:function(a,s,t){var c=!1;if(a&&s){var m=new Date(t.year,t.month,t.day);return a.getTime()<=m.getTime()&&s.getTime()>=m.getTime()}return c},getFirstDayOfMonthIndex:function(a,s){var t=new Date;t.setDate(1),t.setMonth(a),t.setFullYear(s);var c=t.getDay()+this.sundayIndex;return c>=7?c-7:c},getDaysCountInMonth:function(a,s){return 32-this.daylightSavingAdjust(new Date(s,a,32)).getDate()},getDaysCountInPrevMonth:function(a,s){var t=this.getPreviousMonthAndYear(a,s);return this.getDaysCountInMonth(t.month,t.year)},getPreviousMonthAndYear:function(a,s){var t,c;return a===0?(t=11,c=s-1):(t=a-1,c=s),{month:t,year:c}},getNextMonthAndYear:function(a,s){var t,c;return a===11?(t=0,c=s+1):(t=a+1,c=s),{month:t,year:c}},daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},isToday:function(a,s,t,c){return a.getDate()===s&&a.getMonth()===t&&a.getFullYear()===c},isSelectable:function(a,s,t,c){var m=!0,_=!0,l=!0,r=!0;return c&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>t||this.minDate.getFullYear()===t&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>a))&&(m=!1),this.maxDate&&(this.maxDate.getFullYear()<t||this.maxDate.getFullYear()===t&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<a))&&(_=!1),this.disabledDates&&(l=!this.isDateDisabled(a,s,t)),this.disabledDays&&(r=!this.isDayDisabled(a,s,t)),m&&_&&l&&r)},onOverlayEnter:function(a){var s=this.inline?void 0:{position:"absolute",top:"0",left:"0"};bR(a,s),this.autoZIndex&&av.set("overlay",a,this.baseZIndex||this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.$emit("show")},onOverlayEnterComplete:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener()},onOverlayAfterLeave:function(a){this.autoZIndex&&av.clear(a)},onOverlayLeave:function(){this.currentView=this.view,this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onPrevButtonClick:function(a){this.navigationState={backward:!0,button:!0},this.navBackward(a)},onNextButtonClick:function(a){this.navigationState={backward:!1,button:!0},this.navForward(a)},navBackward:function(a){a.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.decrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.decrementDecade():a.shiftKey?this.decrementYear():(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},navForward:function(a){a.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.incrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.incrementDecade():a.shiftKey?this.incrementYear():(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},decrementYear:function(){this.currentYear--},decrementDecade:function(){this.currentYear=this.currentYear-10},incrementYear:function(){this.currentYear++},incrementDecade:function(){this.currentYear=this.currentYear+10},switchToMonthView:function(a){this.currentView="month",setTimeout(this.updateFocus,0),a.preventDefault()},switchToYearView:function(a){this.currentView="year",setTimeout(this.updateFocus,0),a.preventDefault()},isEnabled:function(){return!this.disabled&&!this.readonly},updateCurrentTimeMeta:function(a){var s=a.getHours();this.hourFormat==="12"&&(this.pm=s>11,s>=12&&(s=s==12?12:s-12)),this.currentHour=Math.floor(s/this.stepHour)*this.stepHour,this.currentMinute=Math.floor(a.getMinutes()/this.stepMinute)*this.stepMinute,this.currentSecond=Math.floor(a.getSeconds()/this.stepSecond)*this.stepSecond},bindOutsideClickListener:function(){var a=this;this.outsideClickListener||(this.outsideClickListener=function(s){a.overlayVisible&&a.isOutsideClicked(s)&&(a.overlayVisible=!1)},document.addEventListener("mousedown",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("mousedown",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var a=this;this.scrollHandler||(this.scrollHandler=new afe(this.$refs.container,function(){a.overlayVisible&&(a.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var a=this;this.resizeListener||(this.resizeListener=function(){a.overlayVisible&&!xR()&&(a.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var a=this;if(!this.matchMediaListener){var s=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=s,this.queryMatches=s.matches,this.matchMediaListener=function(){a.queryMatches=s.matches,a.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isOutsideClicked:function(a){return!(this.$el.isSameNode(a.target)||this.isNavIconClicked(a)||this.$el.contains(a.target)||this.overlay&&this.overlay.contains(a.target))},isNavIconClicked:function(a){return this.previousButton&&(this.previousButton.isSameNode(a.target)||this.previousButton.contains(a.target))||this.nextButton&&(this.nextButton.isSameNode(a.target)||this.nextButton.contains(a.target))},alignOverlay:function(){this.overlay&&(this.appendTo==="self"||this.inline?yR(this.overlay,this.$el):(this.view==="date"?(this.overlay.style.width=If(this.overlay)+"px",this.overlay.style.minWidth=If(this.$el)+"px"):this.overlay.style.width=If(this.$el)+"px",gR(this.overlay,this.$el)))},onButtonClick:function(){this.isEnabled()&&(this.overlayVisible?this.overlayVisible=!1:(this.input.focus(),this.overlayVisible=!0))},isDateDisabled:function(a,s,t){if(this.disabledDates){var c=pv(this.disabledDates),m;try{for(c.s();!(m=c.n()).done;){var _=m.value;if(_.getFullYear()===t&&_.getMonth()===s&&_.getDate()===a)return!0}}catch(l){c.e(l)}finally{c.f()}}return!1},isDayDisabled:function(a,s,t){if(this.disabledDays){var c=new Date(t,s,a),m=c.getDay();return this.disabledDays.indexOf(m)!==-1}return!1},onMonthDropdownChange:function(a){this.currentMonth=parseInt(a),this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})},onYearDropdownChange:function(a){this.currentYear=parseInt(a),this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})},onDateSelect:function(a,s){var t=this;if(!(this.disabled||!s.selectable)){if(ul(this.overlay,'table td span:not([data-p-disabled="true"])').forEach(function(m){return m.tabIndex=-1}),a&&a.currentTarget.focus(),this.isMultipleSelection()&&this.isSelected(s)){var c=this.d_value.filter(function(m){return!t.isDateEquals(m,s)});this.updateModel(c)}else this.shouldSelectDate(s)&&(s.otherMonth?(this.currentMonth=s.month,this.currentYear=s.year,this.selectDate(s)):this.selectDate(s));this.isSingleSelection()&&(!this.showTime||this.hideOnDateTimeSelect)&&(this.input&&this.input.focus(),setTimeout(function(){t.overlayVisible=!1},150))}},selectDate:function(a){var s=this,t=new Date(a.year,a.month,a.day);this.showTime&&(this.hourFormat==="12"&&this.currentHour!==12&&this.pm?t.setHours(this.currentHour+12):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds());var c=null;if(this.isSingleSelection())c=t;else if(this.isMultipleSelection())c=this.d_value?[].concat(hv(this.d_value),[t]):[t];else if(this.isRangeSelection())if(this.d_value&&this.d_value.length){var m=this.d_value[0],_=this.d_value[1];!_&&t.getTime()>=m.getTime()?_=t:(m=t,_=null),c=[m,_]}else c=[t,null];c!==null&&this.updateModel(c),this.isRangeSelection()&&this.hideOnRangeSelection&&c[1]!==null&&setTimeout(function(){s.overlayVisible=!1},150),this.$emit("date-select",t)},updateModel:function(a){this.writeValue(a)},shouldSelectDate:function(){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.d_value?this.d_value.length:0):!0},isSingleSelection:function(){return this.selectionMode==="single"},isRangeSelection:function(){return this.selectionMode==="range"},isMultipleSelection:function(){return this.selectionMode==="multiple"},formatValue:function(a){if(typeof a=="string")return a;var s="";if(a)try{if(this.isSingleSelection())s=this.formatDateTime(a);else if(this.isMultipleSelection())for(var t=0;t<a.length;t++){var c=this.formatDateTime(a[t]);s+=c,t!==a.length-1&&(s+=", ")}else if(this.isRangeSelection()&&a&&a.length){var m=a[0],_=a[1];s=this.formatDateTime(m),_&&(s+=" - "+this.formatDateTime(_))}}catch{s=a}return s},formatDateTime:function(a){var s=null;return a&&(this.timeOnly?s=this.formatTime(a):(s=this.formatDate(a,this.datePattern),this.showTime&&(s+=" "+this.formatTime(a)))),s},formatDate:function(a,s){if(!a)return"";var t,c=function(d){var p=t+1<s.length&&s.charAt(t+1)===d;return p&&t++,p},m=function(d,p,v){var g=""+p;if(c(d))for(;g.length<v;)g="0"+g;return g},_=function(d,p,v,g){return c(d)?g[p]:v[p]},l="",r=!1;if(a)for(t=0;t<s.length;t++)if(r)s.charAt(t)==="'"&&!c("'")?r=!1:l+=s.charAt(t);else switch(s.charAt(t)){case"d":l+=m("d",a.getDate(),2);break;case"D":l+=_("D",a.getDay(),this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":l+=m("o",Math.round((new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-new Date(a.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=m("m",a.getMonth()+1,2);break;case"M":l+=_("M",a.getMonth(),this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":l+=c("y")?a.getFullYear():(a.getFullYear()%100<10?"0":"")+a.getFullYear()%100;break;case"@":l+=a.getTime();break;case"!":l+=a.getTime()*1e4+this.ticksTo1970;break;case"'":c("'")?l+="'":r=!0;break;default:l+=s.charAt(t)}return l},formatTime:function(a){if(!a)return"";var s="",t=a.getHours(),c=a.getMinutes(),m=a.getSeconds();return this.hourFormat==="12"&&t>11&&t!==12&&(t-=12),this.hourFormat==="12"?s+=t===0?12:t<10?"0"+t:t:s+=t<10?"0"+t:t,s+=":",s+=c<10?"0"+c:c,this.showSeconds&&(s+=":",s+=m<10?"0"+m:m),this.hourFormat==="12"&&(s+=a.getHours()>11?" ".concat(this.$primevue.config.locale.pm):" ".concat(this.$primevue.config.locale.am)),s},onTodayButtonClick:function(a){var s=new Date,t={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(null,t),this.$emit("today-click",s),a.preventDefault()},onClearButtonClick:function(a){this.updateModel(null),this.overlayVisible=!1,this.$emit("clear-click",a),a.preventDefault()},onTimePickerElementMouseDown:function(a,s,t){this.isEnabled()&&(this.repeat(a,null,s,t),a.preventDefault())},onTimePickerElementMouseUp:function(a){this.isEnabled()&&(this.clearTimePickerTimer(),this.updateModelTime(),a.preventDefault())},onTimePickerElementMouseLeave:function(){this.clearTimePickerTimer()},repeat:function(a,s,t,c){var m=this,_=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){m.repeat(a,100,t,c)},_),t){case 0:c===1?this.incrementHour(a):this.decrementHour(a);break;case 1:c===1?this.incrementMinute(a):this.decrementMinute(a);break;case 2:c===1?this.incrementSecond(a):this.decrementSecond(a);break}},convertTo24Hour:function(a,s){return this.hourFormat=="12"?a===12?s?12:0:s?a+12:a:a},validateTime:function(a,s,t,c){var m=this.isComparable()?this.d_value:this.viewDate,_=this.convertTo24Hour(a,c);this.isRangeSelection()&&(m=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(m=this.d_value[this.d_value.length-1]);var l=m?m.toDateString():null;return!(this.minDate&&l&&this.minDate.toDateString()===l&&(this.minDate.getHours()>_||this.minDate.getHours()===_&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>t))||this.maxDate&&l&&this.maxDate.toDateString()===l&&(this.maxDate.getHours()<_||this.maxDate.getHours()===_&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<t)))},incrementHour:function(a){var s=this.currentHour,t=this.currentHour+Number(this.stepHour),c=this.pm;this.hourFormat=="24"?t=t>=24?t-24:t:this.hourFormat=="12"&&(s<12&&t>11&&(c=!this.pm),t=t>=13?t-12:t),this.validateTime(t,this.currentMinute,this.currentSecond,c)&&(this.currentHour=t,this.pm=c),a.preventDefault()},decrementHour:function(a){var s=this.currentHour-this.stepHour,t=this.pm;this.hourFormat=="24"?s=s<0?24+s:s:this.hourFormat=="12"&&(this.currentHour===12&&(t=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,t)&&(this.currentHour=s,this.pm=t),a.preventDefault()},incrementMinute:function(a){var s=this.currentMinute+Number(this.stepMinute);this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s>59?s-60:s),a.preventDefault()},decrementMinute:function(a){var s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),a.preventDefault()},incrementSecond:function(a){var s=this.currentSecond+Number(this.stepSecond);this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s>59?s-60:s),a.preventDefault()},decrementSecond:function(a){var s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),a.preventDefault()},updateModelTime:function(){var a=this;this.timePickerChange=!0;var s=this.isComparable()?this.d_value:this.viewDate;this.isRangeSelection()&&(s=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(s=this.d_value[this.d_value.length-1]),s=s?new Date(s.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?s.setHours(this.pm?12:0):s.setHours(this.pm?this.currentHour+12:this.currentHour):s.setHours(this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.d_value[1]?s=[this.d_value[0],s]:s=[s,null]),this.isMultipleSelection()&&(s=[].concat(hv(this.d_value.slice(0,-1)),[s])),this.updateModel(s),this.$emit("date-select",s),setTimeout(function(){return a.timePickerChange=!1},0)},toggleAMPM:function(a){var s=this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,!this.pm);!s&&(this.maxDate||this.minDate)||(this.pm=!this.pm,this.updateModelTime(),a.preventDefault())},clearTimePickerTimer:function(){this.timePickerTimer&&clearInterval(this.timePickerTimer)},onMonthSelect:function(a,s){s.month;var t=s.index;this.view==="month"?this.onDateSelect(a,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.currentView="date",this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},onYearSelect:function(a,s){this.view==="year"?this.onDateSelect(a,{year:s.value,month:0,day:1,selectable:!0}):(this.currentYear=s.value,this.currentView="month",this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},updateCurrentMetaData:function(){var a=this.viewDate;this.currentMonth=a.getMonth(),this.currentYear=a.getFullYear(),(this.showTime||this.timeOnly)&&this.updateCurrentTimeMeta(a)},isValidSelection:function(a){var s=this;if(a==null)return!0;var t=!0;return this.isSingleSelection()?this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1)||(t=!1):a.every(function(c){return s.isSelectable(c.getDate(),c.getMonth(),c.getFullYear(),!1)})&&this.isRangeSelection()&&(t=a.length>1&&a[1]>=a[0]),t},parseValue:function(a){if(!a||a.trim().length===0)return null;var s;if(this.isSingleSelection())s=this.parseDateTime(a);else if(this.isMultipleSelection()){var t=a.split(",");s=[];var c=pv(t),m;try{for(c.s();!(m=c.n()).done;){var _=m.value;s.push(this.parseDateTime(_.trim()))}}catch(i){c.e(i)}finally{c.f()}}else if(this.isRangeSelection()){var l=a.split(" - ");s=[];for(var r=0;r<l.length;r++)s[r]=this.parseDateTime(l[r].trim())}return s},parseDateTime:function(a){var s,t=a.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,t[0],t[1]);else{var c=this.datePattern;this.showTime?(s=this.parseDate(t[0],c),this.populateTime(s,t[1],t[2])):s=this.parseDate(a,c)}return s},populateTime:function(a,s,t){if(this.hourFormat=="12"&&!t)throw"Invalid Time";this.pm=t===this.$primevue.config.locale.pm||t===this.$primevue.config.locale.pm.toLowerCase();var c=this.parseTime(s);a.setHours(c.hour),a.setMinutes(c.minute),a.setSeconds(c.second)},parseTime:function(a){var s=a.split(":"),t=this.showSeconds?3:2,c=/^[0-9][0-9]$/;if(s.length!==t||!s[0].match(c)||!s[1].match(c)||this.showSeconds&&!s[2].match(c))throw"Invalid time";var m=parseInt(s[0]),_=parseInt(s[1]),l=this.showSeconds?parseInt(s[2]):null;if(isNaN(m)||isNaN(_)||m>23||_>59||this.hourFormat=="12"&&m>12||this.showSeconds&&(isNaN(l)||l>59))throw"Invalid time";return this.hourFormat=="12"&&m!==12&&this.pm?m+=12:this.hourFormat=="12"&&m==12&&!this.pm&&(m=0),{hour:m,minute:_,second:l}},parseDate:function(a,s){if(s==null||a==null)throw"Invalid arguments";if(a=dg(a)==="object"?a.toString():a+"",a==="")return null;var t,c,m,_=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),r=-1,i=-1,d=-1,p=-1,v=!1,g,D=function(k){var w=t+1<s.length&&s.charAt(t+1)===k;return w&&t++,w},y=function(k){var w=D(k),T=k==="@"?14:k==="!"?20:k==="y"&&w?4:k==="o"?3:2,V=k==="y"?T:1,B=new RegExp("^\\d{"+V+","+T+"}"),O=a.substring(_).match(B);if(!O)throw"Missing number at position "+_;return _+=O[0].length,parseInt(O[0],10)},C=function(k,w,T){for(var V=-1,B=D(k)?T:w,O=[],L=0;L<B.length;L++)O.push([L,B[L]]);O.sort(function(I,S){return-(I[1].length-S[1].length)});for(var R=0;R<O.length;R++){var P=O[R][1];if(a.substr(_,P.length).toLowerCase()===P.toLowerCase()){V=O[R][0],_+=P.length;break}}if(V!==-1)return V+1;throw"Unknown name at position "+_},x=function(){if(a.charAt(_)!==s.charAt(t))throw"Unexpected literal at position "+_;_++};for(this.currentView==="month"&&(d=1),this.currentView==="year"&&(d=1,i=1),t=0;t<s.length;t++)if(v)s.charAt(t)==="'"&&!D("'")?v=!1:x();else switch(s.charAt(t)){case"d":d=y("d");break;case"D":C("D",this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":p=y("o");break;case"m":i=y("m");break;case"M":i=C("M",this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":r=y("y");break;case"@":g=new Date(y("@")),r=g.getFullYear(),i=g.getMonth()+1,d=g.getDate();break;case"!":g=new Date((y("!")-this.ticksTo1970)/1e4),r=g.getFullYear(),i=g.getMonth()+1,d=g.getDate();break;case"'":D("'")?x():v=!0;break;default:x()}if(_<a.length&&(m=a.substr(_),!/^\s+/.test(m)))throw"Extra/unparsed characters found in date: "+m;if(r===-1?r=new Date().getFullYear():r<100&&(r+=new Date().getFullYear()-new Date().getFullYear()%100+(r<=l?0:-100)),p>-1){i=1,d=p;do{if(c=this.getDaysCountInMonth(r,i-1),d<=c)break;i++,d-=c}while(!0)}if(g=this.daylightSavingAdjust(new Date(r,i-1,d)),g.getFullYear()!==r||g.getMonth()+1!==i||g.getDate()!==d)throw"Invalid date";return g},getWeekNumber:function(a){var s=new Date(a.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));var t=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((t-s.getTime())/864e5)/7)+1},onDateCellKeydown:function(a,s,t){var c=a.currentTarget,m=c.parentElement,_=wd(m);switch(a.code){case"ArrowDown":{c.tabIndex="-1";var l=m.parentElement.nextElementSibling;if(l){var r=wd(m.parentElement),i=Array.from(m.parentElement.parentElement.children),d=i.slice(r+1),p=d.find(function(Z){var ce=Z.children[_].children[0];return!Ql(ce,"data-p-disabled")});if(p){var v=p.children[_].children[0];v.tabIndex="0",v.focus()}else this.navigationState={backward:!1},this.navForward(a)}else this.navigationState={backward:!1},this.navForward(a);a.preventDefault();break}case"ArrowUp":{if(c.tabIndex="-1",a.altKey)this.overlayVisible=!1,this.focused=!0;else{var g=m.parentElement.previousElementSibling;if(g){var D=wd(m.parentElement),y=Array.from(m.parentElement.parentElement.children),C=y.slice(0,D).reverse(),x=C.find(function(Z){var ce=Z.children[_].children[0];return!Ql(ce,"data-p-disabled")});if(x){var E=x.children[_].children[0];E.tabIndex="0",E.focus()}else this.navigationState={backward:!0},this.navBackward(a)}else this.navigationState={backward:!0},this.navBackward(a)}a.preventDefault();break}case"ArrowLeft":{c.tabIndex="-1";var k=m.previousElementSibling;if(k){var w=Array.from(m.parentElement.children),T=w.slice(0,_).reverse(),V=T.find(function(Z){var ce=Z.children[0];return!Ql(ce,"data-p-disabled")});if(V){var B=V.children[0];B.tabIndex="0",B.focus()}else this.navigateToMonth(a,!0,t)}else this.navigateToMonth(a,!0,t);a.preventDefault();break}case"ArrowRight":{c.tabIndex="-1";var O=m.nextElementSibling;if(O){var L=Array.from(m.parentElement.children),R=L.slice(_+1),P=R.find(function(Z){var ce=Z.children[0];return!Ql(ce,"data-p-disabled")});if(P){var I=P.children[0];I.tabIndex="0",I.focus()}else this.navigateToMonth(a,!1,t)}else this.navigateToMonth(a,!1,t);a.preventDefault();break}case"Enter":case"NumpadEnter":case"Space":{this.onDateSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.inline||this.trapFocus(a);break}case"Home":{c.tabIndex="-1";var S=m.parentElement,F=S.children[0].children[0];Ql(F,"data-p-disabled")?this.navigateToMonth(a,!0,t):(F.tabIndex="0",F.focus()),a.preventDefault();break}case"End":{c.tabIndex="-1";var N=m.parentElement,U=N.children[N.children.length-1].children[0];Ql(U,"data-p-disabled")?this.navigateToMonth(a,!1,t):(U.tabIndex="0",U.focus()),a.preventDefault();break}case"PageUp":{c.tabIndex="-1",a.shiftKey?(this.navigationState={backward:!0},this.navBackward(a)):this.navigateToMonth(a,!0,t),a.preventDefault();break}case"PageDown":{c.tabIndex="-1",a.shiftKey?(this.navigationState={backward:!1},this.navForward(a)):this.navigateToMonth(a,!1,t),a.preventDefault();break}}},navigateToMonth:function(a,s,t){if(s)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this.navBackward(a);else{var c=this.overlay.children[t-1],m=ul(c,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),_=m[m.length-1];_.tabIndex="0",_.focus()}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(a);else{var l=this.overlay.children[t+1],r=qn(l,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');r.tabIndex="0",r.focus()}},onMonthCellKeydown:function(a,s){var t=a.currentTarget;switch(a.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var c=t.parentElement.children,m=wd(t),_=c[a.code==="ArrowDown"?m+3:m-3];_&&(_.tabIndex="0",_.focus()),a.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var l=t.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var r=t.nextElementSibling;r?(r.tabIndex="0",r.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case"PageUp":{if(a.shiftKey)return;this.navigationState={backward:!0},this.navBackward(a);break}case"PageDown":{if(a.shiftKey)return;this.navigationState={backward:!1},this.navForward(a);break}case"Enter":case"NumpadEnter":case"Space":{this.onMonthSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.trapFocus(a);break}}},onYearCellKeydown:function(a,s){var t=a.currentTarget;switch(a.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var c=t.parentElement.children,m=wd(t),_=c[a.code==="ArrowDown"?m+2:m-2];_&&(_.tabIndex="0",_.focus()),a.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var l=t.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var r=t.nextElementSibling;r?(r.tabIndex="0",r.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case"PageUp":{if(a.shiftKey)return;this.navigationState={backward:!0},this.navBackward(a);break}case"PageDown":{if(a.shiftKey)return;this.navigationState={backward:!1},this.navForward(a);break}case"Enter":case"NumpadEnter":case"Space":{this.onYearSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.trapFocus(a);break}}},updateFocus:function(){var a;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?this.previousButton.focus():this.nextButton.focus();else{if(this.navigationState.backward){var s;this.currentView==="month"?s=ul(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?s=ul(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):s=ul(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),s&&s.length>0&&(a=s[s.length-1])}else this.currentView==="month"?a=qn(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?a=qn(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):a=qn(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');a&&(a.tabIndex="0",a.focus())}this.navigationState=null}else this.initFocusableCell()},initFocusableCell:function(){var a;if(this.currentView==="month"){var s=ul(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]'),t=qn(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"][data-p-selected="true"]');s.forEach(function(l){return l.tabIndex=-1}),a=t||s[0]}else if(this.currentView==="year"){var c=ul(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]'),m=qn(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"][data-p-selected="true"]');c.forEach(function(l){return l.tabIndex=-1}),a=m||c[0]}else if(a=qn(this.overlay,'span[data-p-selected="true"]'),!a){var _=qn(this.overlay,'td[data-p-today="true"] span:not([data-p-disabled="true"]):not([data-p-ink="true"])');_?a=_:a=qn(this.overlay,'.p-datepicker-calendar td span:not([data-p-disabled="true"]):not([data-p-ink="true"])')}a&&(a.tabIndex="0",this.preventFocus=!1)},trapFocus:function(a){a.preventDefault();var s=Zy(this.overlay);if(s&&s.length>0)if(!document.activeElement)s[0].focus();else{var t=s.indexOf(document.activeElement);if(a.shiftKey)t===-1||t===0?s[s.length-1].focus():s[t-1].focus();else if(t===-1)if(this.timeOnly)s[0].focus();else{for(var c=null,m=0;m<s.length;m++)if(s[m].tagName==="SPAN"){c=m;break}s[c].focus()}else t===s.length-1?s[0].focus():s[t+1].focus()}},onContainerButtonKeydown:function(a){switch(a.code){case"Tab":this.trapFocus(a);break;case"Escape":this.overlayVisible=!1,a.preventDefault();break}this.$emit("keydown",a)},onInput:function(a){try{this.selectionStart=this.input.selectionStart,this.selectionEnd=this.input.selectionEnd;var s=this.parseValue(a.target.value);this.isValidSelection(s)&&(this.typeUpdate=!0,this.updateModel(s))}catch{}this.$emit("input",a)},onInputClick:function(){this.showOnFocus&&this.isEnabled()&&!this.overlayVisible&&(this.overlayVisible=!0)},onFocus:function(a){this.showOnFocus&&this.isEnabled()&&(this.overlayVisible=!0),this.focused=!0,this.$emit("focus",a)},onBlur:function(a){var s,t;this.$emit("blur",{originalEvent:a,value:a.target.value}),(s=(t=this.formField).onBlur)===null||s===void 0||s.call(t),this.focused=!1,a.target.value=this.formatValue(this.d_value)},onKeyDown:function(a){if(a.code==="ArrowDown"&&this.overlay)this.trapFocus(a);else if(a.code==="ArrowDown"&&!this.overlay)this.overlayVisible=!0;else if(a.code==="Escape")this.overlayVisible&&(this.overlayVisible=!1,a.preventDefault());else if(a.code==="Tab")this.overlay&&Zy(this.overlay).forEach(function(c){return c.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1);else if(a.code==="Enter"){var s;if(this.manualInput&&a.target.value!==null&&((s=a.target.value)===null||s===void 0?void 0:s.trim())!=="")try{var t=this.parseValue(a.target.value);this.isValidSelection(t)&&(this.overlayVisible=!1)}catch{}this.$emit("keydown",a)}},overlayRef:function(a){this.overlay=a},inputRef:function(a){this.input=a?a.$el:void 0},previousButtonRef:function(a){this.previousButton=a?a.$el:void 0},nextButtonRef:function(a){this.nextButton=a?a.$el:void 0},getMonthName:function(a){return this.$primevue.config.locale.monthNames[a]},getYear:function(a){return this.currentView==="month"?this.currentYear:a.year},onOverlayClick:function(a){a.stopPropagation(),this.inline||ohe.emit("overlay-click",{originalEvent:a,target:this.$el})},onOverlayKeyDown:function(a){switch(a.code){case"Escape":this.inline||(this.input.focus(),this.overlayVisible=!1);break}},onOverlayMouseUp:function(a){this.onOverlayClick(a)},createResponsiveStyle:function(){if(this.numberOfMonths>1&&this.responsiveOptions&&!this.isUnstyled){if(!this.responsiveStyleElement){var a;this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",Ew(this.responsiveStyleElement,"nonce",(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.csp)===null||a===void 0?void 0:a.nonce),document.body.appendChild(this.responsiveStyleElement)}var s="";if(this.responsiveOptions)for(var t=tR(),c=hv(this.responsiveOptions).filter(function(p){return!!(p.breakpoint&&p.numMonths)}).sort(function(p,v){return-1*t(p.breakpoint,v.breakpoint)}),m=0;m<c.length;m++){for(var _=c[m],l=_.breakpoint,r=_.numMonths,i=`
                            .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(r,`) .p-datepicker-next-button {
                                display: inline-flex;
                            }
                        `),d=r;d<this.numberOfMonths;d++)i+=`
                                .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(d+1,`) {
                                    display: none;
                                }
                            `);s+=`
                            @media screen and (max-width: `.concat(l,`) {
                                `).concat(i,`
                            }
                        `)}this.responsiveStyleElement.innerHTML=s}},destroyResponsiveStyleElement:function(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}},computed:{viewDate:function(){var a=this.d_value;if(a&&Array.isArray(a)&&(this.isRangeSelection()?a=this.inline?a[0]:a[1]||a[0]:this.isMultipleSelection()&&(a=a[a.length-1])),a&&typeof a!="string")return a;var s=new Date;return this.maxDate&&this.maxDate<s?this.maxDate:this.minDate&&this.minDate>s?this.minDate:s},inputFieldValue:function(){return this.formatValue(this.d_value)},months:function(){for(var a=[],s=0;s<this.numberOfMonths;s++){var t=this.currentMonth+s,c=this.currentYear;t>11&&(t=t%11-1,c=c+1);for(var m=[],_=this.getFirstDayOfMonthIndex(t,c),l=this.getDaysCountInMonth(t,c),r=this.getDaysCountInPrevMonth(t,c),i=1,d=new Date,p=[],v=Math.ceil((l+_)/7),g=0;g<v;g++){var D=[];if(g==0){for(var y=r-_+1;y<=r;y++){var C=this.getPreviousMonthAndYear(t,c);D.push({day:y,month:C.month,year:C.year,otherMonth:!0,today:this.isToday(d,y,C.month,C.year),selectable:this.isSelectable(y,C.month,C.year,!0)})}for(var x=7-D.length,E=0;E<x;E++)D.push({day:i,month:t,year:c,today:this.isToday(d,i,t,c),selectable:this.isSelectable(i,t,c,!1)}),i++}else for(var k=0;k<7;k++){if(i>l){var w=this.getNextMonthAndYear(t,c);D.push({day:i-l,month:w.month,year:w.year,otherMonth:!0,today:this.isToday(d,i-l,w.month,w.year),selectable:this.isSelectable(i-l,w.month,w.year,!0)})}else D.push({day:i,month:t,year:c,today:this.isToday(d,i,t,c),selectable:this.isSelectable(i,t,c,!1)});i++}this.showWeek&&p.push(this.getWeekNumber(new Date(D[0].year,D[0].month,D[0].day))),m.push(D)}a.push({month:t,year:c,dates:m,weekNumbers:p})}return a},weekDays:function(){for(var a=[],s=this.$primevue.config.locale.firstDayOfWeek,t=0;t<7;t++)a.push(this.$primevue.config.locale.dayNamesMin[s]),s=s==6?0:++s;return a},ticksTo1970:function(){return(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7},sundayIndex:function(){return this.$primevue.config.locale.firstDayOfWeek>0?7-this.$primevue.config.locale.firstDayOfWeek:0},datePattern:function(){return this.dateFormat||this.$primevue.config.locale.dateFormat},monthPickerValues:function(){for(var a=this,s=[],t=function(_){if(a.minDate){var l=a.minDate.getMonth(),r=a.minDate.getFullYear();if(a.currentYear<r||a.currentYear===r&&_<l)return!1}if(a.maxDate){var i=a.maxDate.getMonth(),d=a.maxDate.getFullYear();if(a.currentYear>d||a.currentYear===d&&_>i)return!1}return!0},c=0;c<=11;c++)s.push({value:this.$primevue.config.locale.monthNamesShort[c],selectable:t(c)});return s},yearPickerValues:function(){for(var a=this,s=[],t=this.currentYear-this.currentYear%10,c=function(l){return!(a.minDate&&a.minDate.getFullYear()>l||a.maxDate&&a.maxDate.getFullYear()<l)},m=0;m<10;m++)s.push({value:t+m,selectable:c(t+m)});return s},formattedCurrentHour:function(){return this.currentHour==0&&this.hourFormat=="12"?this.currentHour+12:this.currentHour<10?"0"+this.currentHour:this.currentHour},formattedCurrentMinute:function(){return this.currentMinute<10?"0"+this.currentMinute:this.currentMinute},formattedCurrentSecond:function(){return this.currentSecond<10?"0"+this.currentSecond:this.currentSecond},todayLabel:function(){return this.$primevue.config.locale.today},clearLabel:function(){return this.$primevue.config.locale.clear},weekHeaderLabel:function(){return this.$primevue.config.locale.weekHeader},monthNames:function(){return this.$primevue.config.locale.monthNames},switchViewButtonDisabled:function(){return this.numberOfMonths>1||this.disabled},panelId:function(){return this.d_id+"_panel"}},components:{InputText:B5,Button:Y5,Portal:U5,CalendarIcon:S5,ChevronLeftIcon:j5,ChevronRightIcon:O5,ChevronUpIcon:M5,ChevronDownIcon:T5},directives:{ripple:F5}},_he=["id"],mhe=["disabled","aria-label","aria-expanded","aria-controls"],fhe=["id","role","aria-modal","aria-label"],hhe=["disabled","aria-label"],phe=["disabled","aria-label"],vhe=["disabled","aria-label"],ghe=["disabled","aria-label"],bhe=["data-p-disabled"],yhe=["abbr"],khe=["data-p-disabled"],$he=["aria-label","data-p-today","data-p-other-month"],whe=["onClick","onKeydown","aria-selected","aria-disabled","data-p-disabled","data-p-selected"],Dhe=["onClick","onKeydown","data-p-disabled","data-p-selected"],Che=["onClick","onKeydown","data-p-disabled","data-p-selected"];function xhe(o,a,s,t,c,m){var _=de("InputText"),l=de("Button"),r=de("Portal"),i=Pg("ripple");return u(),f("span",$t({ref:"container",id:c.d_id,class:o.cx("root"),style:o.sx("root")},o.ptmi("root")),[o.inline?b("",!0):(u(),fe(_,{key:0,ref:m.inputRef,id:o.inputId,role:"combobox",class:rt([o.inputClass,o.cx("pcInputText")]),style:Rl(o.inputStyle),value:m.inputFieldValue,placeholder:o.placeholder,name:o.name,size:o.size,invalid:o.invalid,variant:o.variant,fluid:o.fluid,unstyled:o.unstyled,autocomplete:"off","aria-autocomplete":"none","aria-haspopup":"dialog","aria-expanded":c.overlayVisible,"aria-controls":m.panelId,"aria-labelledby":o.ariaLabelledby,"aria-label":o.ariaLabel,inputmode:"none",disabled:o.disabled,readonly:!o.manualInput||o.readonly,tabindex:0,onInput:m.onInput,onClick:m.onInputClick,onFocus:m.onFocus,onBlur:m.onBlur,onKeydown:m.onKeyDown,pt:o.ptm("pcInputText")},null,8,["id","class","style","value","placeholder","name","size","invalid","variant","fluid","unstyled","aria-expanded","aria-controls","aria-labelledby","aria-label","disabled","readonly","onInput","onClick","onFocus","onBlur","onKeydown","pt"])),o.showIcon&&o.iconDisplay==="button"&&!o.inline?jo(o.$slots,"dropdownbutton",{key:1,toggleCallback:m.onButtonClick},function(){return[e("button",$t({class:o.cx("dropdown"),disabled:o.disabled,onClick:a[0]||(a[0]=function(){return m.onButtonClick&&m.onButtonClick.apply(m,arguments)}),type:"button","aria-label":o.$primevue.config.locale.chooseDate,"aria-haspopup":"dialog","aria-expanded":c.overlayVisible,"aria-controls":m.panelId},o.ptm("dropdown")),[jo(o.$slots,"dropdownicon",{class:rt(o.icon)},function(){return[(u(),fe($a(o.icon?"span":"CalendarIcon"),$t({class:o.icon},o.ptm("dropdownIcon")),null,16,["class"]))]})],16,mhe)]}):o.showIcon&&o.iconDisplay==="input"&&!o.inline?(u(),f(W,{key:2},[o.$slots.inputicon||o.showIcon?(u(),f("span",$t({key:0,class:o.cx("inputIconContainer")},o.ptm("inputIconContainer")),[jo(o.$slots,"inputicon",{class:rt(o.cx("inputIcon")),clickCallback:m.onButtonClick},function(){return[(u(),fe($a(o.icon?"i":"CalendarIcon"),$t({class:[o.icon,o.cx("inputIcon")],onClick:m.onButtonClick},o.ptm("inputicon")),null,16,["class","onClick"]))]})],16)):b("",!0)],64)):b("",!0),Be(r,{appendTo:o.appendTo,disabled:o.inline},{default:Ko(function(){return[Be(Sk,$t({name:"p-connected-overlay",onEnter:a[58]||(a[58]=function(d){return m.onOverlayEnter(d)}),onAfterEnter:m.onOverlayEnterComplete,onAfterLeave:m.onOverlayAfterLeave,onLeave:m.onOverlayLeave},o.ptm("transition")),{default:Ko(function(){return[o.inline||c.overlayVisible?(u(),f("div",$t({key:0,ref:m.overlayRef,id:m.panelId,class:[o.cx("panel"),o.panelClass],style:o.panelStyle,role:o.inline?null:"dialog","aria-modal":o.inline?null:"true","aria-label":o.$primevue.config.locale.chooseDate,onClick:a[55]||(a[55]=function(){return m.onOverlayClick&&m.onOverlayClick.apply(m,arguments)}),onKeydown:a[56]||(a[56]=function(){return m.onOverlayKeyDown&&m.onOverlayKeyDown.apply(m,arguments)}),onMouseup:a[57]||(a[57]=function(){return m.onOverlayMouseUp&&m.onOverlayMouseUp.apply(m,arguments)})},o.ptm("panel")),[o.timeOnly?b("",!0):(u(),f(W,{key:0},[e("div",$t({class:o.cx("calendarContainer")},o.ptm("calendarContainer")),[(u(!0),f(W,null,X(m.months,function(d,p){return u(),f("div",$t({key:d.month+d.year,class:o.cx("calendar"),ref_for:!0},o.ptm("calendar")),[e("div",$t({class:o.cx("header"),ref_for:!0},o.ptm("header")),[jo(o.$slots,"header"),Y(Be(l,$t({ref_for:!0,ref:m.previousButtonRef,class:o.cx("pcPrevButton"),disabled:o.disabled,"aria-label":c.currentView==="year"?o.$primevue.config.locale.prevDecade:c.currentView==="month"?o.$primevue.config.locale.prevYear:o.$primevue.config.locale.prevMonth,unstyled:o.unstyled,onClick:m.onPrevButtonClick,onKeydown:m.onContainerButtonKeydown},o.navigatorButtonProps,{pt:o.ptm("pcPrevButton"),"data-pc-group-section":"navigator"}),{icon:Ko(function(v){return[jo(o.$slots,"previcon",{},function(){return[(u(),fe($a(o.prevIcon?"span":"ChevronLeftIcon"),$t({class:[o.prevIcon,v.class],ref_for:!0},o.ptm("pcPrevButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[mo,p===0]]),e("div",$t({class:o.cx("title"),ref_for:!0},o.ptm("title")),[o.$primevue.config.locale.showMonthAfterYear?(u(),f(W,{key:0},[c.currentView!=="year"?(u(),f("button",$t({key:0,type:"button",onClick:a[1]||(a[1]=function(){return m.switchToYearView&&m.switchToYearView.apply(m,arguments)}),onKeydown:a[2]||(a[2]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectYear"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseYear,ref_for:!0},o.ptm("selectYear"),{"data-pc-group-section":"view"}),n(m.getYear(d)),17,hhe)):b("",!0),c.currentView==="date"?(u(),f("button",$t({key:1,type:"button",onClick:a[3]||(a[3]=function(){return m.switchToMonthView&&m.switchToMonthView.apply(m,arguments)}),onKeydown:a[4]||(a[4]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectMonth"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseMonth,ref_for:!0},o.ptm("selectMonth"),{"data-pc-group-section":"view"}),n(m.getMonthName(d.month)),17,phe)):b("",!0)],64)):(u(),f(W,{key:1},[c.currentView==="date"?(u(),f("button",$t({key:0,type:"button",onClick:a[5]||(a[5]=function(){return m.switchToMonthView&&m.switchToMonthView.apply(m,arguments)}),onKeydown:a[6]||(a[6]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectMonth"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseMonth,ref_for:!0},o.ptm("selectMonth"),{"data-pc-group-section":"view"}),n(m.getMonthName(d.month)),17,vhe)):b("",!0),c.currentView!=="year"?(u(),f("button",$t({key:1,type:"button",onClick:a[7]||(a[7]=function(){return m.switchToYearView&&m.switchToYearView.apply(m,arguments)}),onKeydown:a[8]||(a[8]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectYear"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseYear,ref_for:!0},o.ptm("selectYear"),{"data-pc-group-section":"view"}),n(m.getYear(d)),17,ghe)):b("",!0)],64)),c.currentView==="year"?(u(),f("span",$t({key:2,class:o.cx("decade"),ref_for:!0},o.ptm("decade")),[jo(o.$slots,"decade",{years:m.yearPickerValues},function(){return[le(n(m.yearPickerValues[0].value)+" - "+n(m.yearPickerValues[m.yearPickerValues.length-1].value),1)]})],16)):b("",!0)],16),Y(Be(l,$t({ref_for:!0,ref:m.nextButtonRef,class:o.cx("pcNextButton"),disabled:o.disabled,"aria-label":c.currentView==="year"?o.$primevue.config.locale.nextDecade:c.currentView==="month"?o.$primevue.config.locale.nextYear:o.$primevue.config.locale.nextMonth,unstyled:o.unstyled,onClick:m.onNextButtonClick,onKeydown:m.onContainerButtonKeydown},o.navigatorButtonProps,{pt:o.ptm("pcNextButton"),"data-pc-group-section":"navigator"}),{icon:Ko(function(v){return[jo(o.$slots,"nexticon",{},function(){return[(u(),fe($a(o.nextIcon?"span":"ChevronRightIcon"),$t({class:[o.nextIcon,v.class],ref_for:!0},o.ptm("pcNextButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[mo,o.numberOfMonths===1?!0:p===o.numberOfMonths-1]])],16),c.currentView==="date"?(u(),f("table",$t({key:0,class:o.cx("dayView"),role:"grid",ref_for:!0},o.ptm("dayView")),[e("thead",$t({ref_for:!0},o.ptm("tableHeader")),[e("tr",$t({ref_for:!0},o.ptm("tableHeaderRow")),[o.showWeek?(u(),f("th",$t({key:0,scope:"col",class:o.cx("weekHeader"),ref_for:!0},o.ptm("weekHeader",{context:{disabled:o.showWeek}}),{"data-p-disabled":o.showWeek,"data-pc-group-section":"tableheadercell"}),[jo(o.$slots,"weekheaderlabel",{},function(){return[e("span",$t({ref_for:!0},o.ptm("weekHeaderLabel",{context:{disabled:o.showWeek}}),{"data-pc-group-section":"tableheadercelllabel"}),n(m.weekHeaderLabel),17)]})],16,bhe)):b("",!0),(u(!0),f(W,null,X(m.weekDays,function(v){return u(),f("th",$t({key:v,scope:"col",abbr:v,ref_for:!0},o.ptm("tableHeaderCell"),{"data-pc-group-section":"tableheadercell",class:o.cx("weekDayCell")}),[e("span",$t({class:o.cx("weekDay"),ref_for:!0},o.ptm("weekDay"),{"data-pc-group-section":"tableheadercelllabel"}),n(v),17)],16,yhe)}),128))],16)],16),e("tbody",$t({ref_for:!0},o.ptm("tableBody")),[(u(!0),f(W,null,X(d.dates,function(v,g){return u(),f("tr",$t({key:v[0].day+""+v[0].month,ref_for:!0},o.ptm("tableBodyRow")),[o.showWeek?(u(),f("td",$t({key:0,class:o.cx("weekNumber"),ref_for:!0},o.ptm("weekNumber"),{"data-pc-group-section":"tablebodycell"}),[e("span",$t({class:o.cx("weekLabelContainer"),ref_for:!0},o.ptm("weekLabelContainer",{context:{disabled:o.showWeek}}),{"data-p-disabled":o.showWeek,"data-pc-group-section":"tablebodycelllabel"}),[jo(o.$slots,"weeklabel",{weekNumber:d.weekNumbers[g]},function(){return[d.weekNumbers[g]<10?(u(),f("span",$t({key:0,style:{visibility:"hidden"},ref_for:!0},o.ptm("weekLabel")),"0",16)):b("",!0),le(" "+n(d.weekNumbers[g]),1)]})],16,khe)],16)):b("",!0),(u(!0),f(W,null,X(v,function(D){return u(),f("td",$t({key:D.day+""+D.month,"aria-label":D.day,class:o.cx("dayCell",{date:D}),ref_for:!0},o.ptm("dayCell",{context:{date:D,today:D.today,otherMonth:D.otherMonth,selected:m.isSelected(D),disabled:!D.selectable}}),{"data-p-today":D.today,"data-p-other-month":D.otherMonth,"data-pc-group-section":"tablebodycell"}),[o.showOtherMonths||!D.otherMonth?Y((u(),f("span",$t({key:0,class:o.cx("day",{date:D}),onClick:function(C){return m.onDateSelect(C,D)},draggable:"false",onKeydown:function(C){return m.onDateCellKeydown(C,D,p)},"aria-selected":m.isSelected(D),"aria-disabled":!D.selectable,ref_for:!0},o.ptm("day",{context:{date:D,today:D.today,otherMonth:D.otherMonth,selected:m.isSelected(D),disabled:!D.selectable}}),{"data-p-disabled":!D.selectable,"data-p-selected":m.isSelected(D),"data-pc-group-section":"tablebodycelllabel"}),[jo(o.$slots,"date",{date:D},function(){return[le(n(D.day),1)]})],16,whe)),[[i]]):b("",!0),m.isSelected(D)?(u(),f("div",$t({key:1,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenSelectedDay"),{"data-p-hidden-accessible":!0}),n(D.day),17)):b("",!0)],16,$he)}),128))],16)}),128))],16)],16)):b("",!0)],16)}),128))],16),c.currentView==="month"?(u(),f("div",$t({key:0,class:o.cx("monthView")},o.ptm("monthView")),[(u(!0),f(W,null,X(m.monthPickerValues,function(d,p){return Y((u(),f("span",$t({key:d,onClick:function(g){return m.onMonthSelect(g,{month:d,index:p})},onKeydown:function(g){return m.onMonthCellKeydown(g,{month:d,index:p})},class:o.cx("month",{month:d,index:p}),ref_for:!0},o.ptm("month",{context:{month:d,monthIndex:p,selected:m.isMonthSelected(p),disabled:!d.selectable}}),{"data-p-disabled":!d.selectable,"data-p-selected":m.isMonthSelected(p)}),[le(n(d.value)+" ",1),m.isMonthSelected(p)?(u(),f("div",$t({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenMonth"),{"data-p-hidden-accessible":!0}),n(d.value),17)):b("",!0)],16,Dhe)),[[i]])}),128))],16)):b("",!0),c.currentView==="year"?(u(),f("div",$t({key:1,class:o.cx("yearView")},o.ptm("yearView")),[(u(!0),f(W,null,X(m.yearPickerValues,function(d){return Y((u(),f("span",$t({key:d.value,onClick:function(v){return m.onYearSelect(v,d)},onKeydown:function(v){return m.onYearCellKeydown(v,d)},class:o.cx("year",{year:d}),ref_for:!0},o.ptm("year",{context:{year:d,selected:m.isYearSelected(d.value),disabled:!d.selectable}}),{"data-p-disabled":!d.selectable,"data-p-selected":m.isYearSelected(d.value)}),[le(n(d.value)+" ",1),m.isYearSelected(d.value)?(u(),f("div",$t({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenYear"),{"data-p-hidden-accessible":!0}),n(d.value),17)):b("",!0)],16,Che)),[[i]])}),128))],16)):b("",!0)],64)),(o.showTime||o.timeOnly)&&c.currentView==="date"?(u(),f("div",$t({key:1,class:o.cx("timePicker")},o.ptm("timePicker")),[e("div",$t({class:o.cx("hourPicker")},o.ptm("hourPicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextHour,unstyled:o.unstyled,onMousedown:a[9]||(a[9]=function(d){return m.onTimePickerElementMouseDown(d,0,1)}),onMouseup:a[10]||(a[10]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[12]||(a[12]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,1)},["enter"])),a[13]||(a[13]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,1)},["space"]))],onMouseleave:a[11]||(a[11]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[14]||(a[14]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[15]||(a[15]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),fe($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("hour"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentHour),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevHour,unstyled:o.unstyled,onMousedown:a[16]||(a[16]=function(d){return m.onTimePickerElementMouseDown(d,0,-1)}),onMouseup:a[17]||(a[17]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[19]||(a[19]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,-1)},["enter"])),a[20]||(a[20]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,-1)},["space"]))],onMouseleave:a[18]||(a[18]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[21]||(a[21]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[22]||(a[22]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),fe($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"])],16),e("div",$t(o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16),e("div",$t({class:o.cx("minutePicker")},o.ptm("minutePicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextMinute,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[23]||(a[23]=function(d){return m.onTimePickerElementMouseDown(d,1,1)}),onMouseup:a[24]||(a[24]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[26]||(a[26]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,1)},["enter"])),a[27]||(a[27]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,1)},["space"]))],onMouseleave:a[25]||(a[25]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[28]||(a[28]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[29]||(a[29]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),fe($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("minute"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentMinute),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevMinute,disabled:o.disabled,onMousedown:a[30]||(a[30]=function(d){return m.onTimePickerElementMouseDown(d,1,-1)}),onMouseup:a[31]||(a[31]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[33]||(a[33]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,-1)},["enter"])),a[34]||(a[34]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,-1)},["space"]))],onMouseleave:a[32]||(a[32]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[35]||(a[35]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[36]||(a[36]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),fe($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])],16),o.showSeconds?(u(),f("div",$t({key:0,class:o.cx("separatorContainer")},o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16)):b("",!0),o.showSeconds?(u(),f("div",$t({key:1,class:o.cx("secondPicker")},o.ptm("secondPicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextSecond,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[37]||(a[37]=function(d){return m.onTimePickerElementMouseDown(d,2,1)}),onMouseup:a[38]||(a[38]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[40]||(a[40]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,1)},["enter"])),a[41]||(a[41]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,1)},["space"]))],onMouseleave:a[39]||(a[39]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[42]||(a[42]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[43]||(a[43]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),fe($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("second"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentSecond),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevSecond,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[44]||(a[44]=function(d){return m.onTimePickerElementMouseDown(d,2,-1)}),onMouseup:a[45]||(a[45]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[47]||(a[47]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,-1)},["enter"])),a[48]||(a[48]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,-1)},["space"]))],onMouseleave:a[46]||(a[46]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[49]||(a[49]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[50]||(a[50]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),fe($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])],16)):b("",!0),o.hourFormat=="12"?(u(),f("div",$t({key:2,class:o.cx("separatorContainer")},o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16)):b("",!0),o.hourFormat=="12"?(u(),f("div",$t({key:3,class:o.cx("ampmPicker")},o.ptm("ampmPicker")),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.am,disabled:o.disabled,unstyled:o.unstyled,onClick:a[51]||(a[51]=function(d){return m.toggleAMPM(d)}),onKeydown:m.onContainerButtonKeydown},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{class:rt(o.cx("incrementIcon"))},function(){return[(u(),fe($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.cx("incrementIcon"),d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("ampm"),{"data-pc-group-section":"timepickerlabel"}),n(c.pm?o.$primevue.config.locale.pm:o.$primevue.config.locale.am),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.pm,disabled:o.disabled,onClick:a[52]||(a[52]=function(d){return m.toggleAMPM(d)}),onKeydown:m.onContainerButtonKeydown},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{class:rt(o.cx("decrementIcon"))},function(){return[(u(),fe($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.cx("decrementIcon"),d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])],16)):b("",!0)],16)):b("",!0),o.showButtonBar?(u(),f("div",$t({key:2,class:o.cx("buttonbar")},o.ptm("buttonbar")),[Be(l,$t({label:m.todayLabel,onClick:a[53]||(a[53]=function(d){return m.onTodayButtonClick(d)}),class:o.cx("pcTodayButton"),unstyled:o.unstyled,onKeydown:m.onContainerButtonKeydown},o.todayButtonProps,{pt:o.ptm("pcTodayButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"]),Be(l,$t({label:m.clearLabel,onClick:a[54]||(a[54]=function(d){return m.onClearButtonClick(d)}),class:o.cx("pcClearButton"),unstyled:o.unstyled,onKeydown:m.onContainerButtonKeydown},o.clearButtonProps,{pt:o.ptm("pcClearButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"])],16)):b("",!0),jo(o.$slots,"footer")],16,fhe)):b("",!0)]}),_:3},16,["onAfterEnter","onAfterLeave","onLeave"])]}),_:3},8,["appendTo","disabled"])],16,_he)}gi.render=xhe;const Lm="/build/assets/successful-request-DASXOrgO.png",Phe={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request","is_dashboard"],setup(o){const a=o.can_request,s=o.is_dashboard??!1,t=lt(),c=h([]),m=Je("baseURL"),_=h(null),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(H().format("DD MMM YYYY")),g=h(H().format("DD MMM YYYY")),D=h(new Date().toLocaleDateString("en-CA")),y=h(new Date().toLocaleDateString("en-CA")),C=h(1),x=h(0),E=h(1),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0),U=h(0),Z=h(0),ce=h(0),ae=h(0);h([]),h(0);const J=h(0),z=h(0);h(0);const ne=h(""),xe=h(!1),Fe=h(!1),he=h(0),ie=h(0),$e=h(0),we=h(0),se=h(!1),ge=h([]),be=h(!1),Me=h(""),ue=h(""),Oe=h(""),ze=h(""),Ye=h(""),ve=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),ee=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),oe=h(""),me=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(s?10:50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(new Date),Et=h(0);ot([Ot],async([je])=>{await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:je}}).then(ye=>{he.value=0,ie.value=0,$e.value=0,we.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount})})});const Dt=async()=>{Ze.value=$("#date_search").val(),Ze.value&&(me.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let je=$(".ti-search").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{buyer:at.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let je=$(".ti-refresh").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),at.value="",oe.value="",me.value="",Le.value="",Ze.value="",$("#date_search").val(""),await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-refresh"></i>')})},Kt=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+je+"/details").then(He=>{_.value=He.data,Et.value++,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+je+"/details").then(He=>{Ce.value=[],Ne.value=0,Ie.value=0,Ie.value=0,Ie.value=0,_.value=He.data,ae.value=_.value.due_date,w.value=0,_.value.invoice_items.forEach(pe=>{w.value+=pe.quantity*pe.price_per_quantity}),T.value=0,_.value.invoice_taxes.forEach(pe=>{T.value+=pe.value}),V.value=0,_.value.invoice_fees.forEach(pe=>{V.value+=pe.amount}),B.value=0,_.value.invoice_discounts.forEach(pe=>{pe.type=="percentage"?r.value+=pe.value/100*(w.value+T.value):r.value+=pe.value}),w.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount,O.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,S.value=H(_.value.due_date).diff(H(),"days")+1,L.value=_.value.vendor_configurations.eligibility,R.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,P.value=L.value/100*(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount),F.value=_.value.vendor_discount_details.total_roi,I.value=P.value*(F.value/100)*((H(_.value.due_date).diff(H(),"days")+1)/365),ve.value=_.value.program.discount_details[0].tax_on_discount,_e.value=ve.value/100*I.value,F.value>0&&_.value.vendor_discount_details.vendor_discount_bearing>0&&(I.value=_.value.vendor_discount_details.vendor_discount_bearing/F.value*I.value);let Nt=0,it=0,_t=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((pe,Re)=>{if(pe.type=="percentage")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*(pe.value/100*P.value*S.value);let vt=pe.vendor_bearing_discount/100*(pe.value/100*P.value*S.value);Nt+=pe.anchor_bearing_discount/100*(pe.value/100*P.value*S.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+pe.value+"%)"]),pe.taxes&&(_t+=pe.taxes/100*(pe.value/100*P.value)*S.value)}else{it+=pe.vendor_bearing_discount/100*(pe.value/100*P.value);let vt=pe.vendor_bearing_discount/100*(pe.value/100*P.value);Nt+=pe.anchor_bearing_discount/100*(pe.value/100*P.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+pe.value+"%)"]),pe.taxes&&(_t+=pe.taxes/100*(pe.value/100*P.value))}if(pe.type==="amount")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*pe.value*S.value;let vt=pe.vendor_bearing_discount/100*pe.value*S.value;Nt+=pe.anchor_bearing_discount/100*pe.value*S.value,pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+")"]),pe.taxes&&(_t+=pe.taxes/100*pe.value)}else{it+=pe.vendor_bearing_discount/100*pe.value;let vt=pe.vendor_bearing_discount/100*pe.value;Nt+=pe.anchor_bearing_discount/100*pe.value,pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+")"]),pe.taxes&&(_t+=pe.taxes/100*pe.value)}if(pe.type=="per amount")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value);let vt=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value);Nt+=pe.anchor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+" Per "+pe.per_amount+")"]),pe.taxes&&(_t+=pe.taxes/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value))}else{it+=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value);let vt=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value);Nt+=pe.anchor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+" Per "+pe.per_amount+")"]),pe.taxes&&(_t+=pe.taxes/100*(Math.round(P.value/pe.per_amount)*pe.value))}}),Ne.value+=it,Ie.value+=_t,_.value.discount_type=="Front Ended"?U.value=P.value-Ne.value-Ie.value-I.value-_e.value:U.value=P.value-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),Z.value=_.value.min_financing_days,ce.value=_.value.max_financing_days,i.value=H(_.value.due_date).subtract(ce.value,"days").format("DD MMM YYYY"),H(i.value)<H()&&(i.value=H().format("DD MMM YYYY")),v.value=i.value,S.value=H(_.value.due_date).diff(H(i.value),"days"),d.value=H(_.value.due_date).subtract(Z.value,"days").format("DD MMM YYYY");let tt=[function(pe){return wt.value.includes(pe.getDay())}];Vt.value=new Date(d.value),wt.value.forEach(pe=>{gt.value.push(pe)}),mt.value.forEach(pe=>{tt.push('"'+pe+'"'),ut.value.push(new Date(pe))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:i.value,maxDate:d.value,disable:tt},_.value.bank_details.forEach(pe=>{pe.account_number==_.value.credit_to?(ne.value=pe.id,se.value=!0):(ne.value="",se.value=!1)}),D.value=H().format("DD MMM YYYY"),Fe.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(je,ye,He)=>{ye!=""&&(Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,Jt.value=!0,A.post(m+"factoring/invoices/remittance/amount",{invoices:ge.value,date:y.value}).then(Nt=>{Se.value=Nt.data.total_amount,Ve.value=Nt.data.total_remittance_amount,Jt.value=!1}),g.value=H(ye).format("DD MMM YYYY"),y.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(ge.value.length<=0)return t.error("Select Payment Instructions"),!1;y.value=new Date().toLocaleDateString("en-CA"),g.value=new Date().toLocaleDateString("en-CA");let je=[function(ye){return wt.value.includes(ye.getDay())}];Vt.value=new Date(p.value),wt.value.forEach(ye=>{gt.value.push(ye)}),mt.value.forEach(ye=>{je.push('"'+ye+'"'),ut.value.push(new Date(ye))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:p.value,disable:je},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(m+"factoring/invoices/remittance/amount",{invoices:ge.value,date:y.value}).then(ye=>{Se.value=ye.data.total_amount,Ve.value=ye.data.total_remittance_amount,Jt.value=!1}),be.value.click()},Ge=je=>{let ye="";switch(je){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(je=>{ue.value=je.data.terms_and_conditions,Oe.value=je.data.noa,Ye.value=je.data.terms_text,ze.value=je.data.noa_text,c.value=je.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(ye=>{he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,ie.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,$e.value+=ye.eligible_for_finance,we.value+=ye.actual_remittance_amount}),p.value=H(je.data.highest_due_date).subtract(je.data.min_financing_days,"days").format("DD MMM YYYY"),je.data.holidays.forEach(ye=>{mt.value.push(ye.date_formatted)}),je.data.off_days&&je.data.off_days.forEach(ye=>{wt.value.push(ye)})}).catch(je=>{console.log(je)})},yt=(je,ye,He)=>{w.value=_.value.total,T.value=_.value.total_invoice_taxes,V.value=_.value.total_invoice_fees,Ne.value=0,Ie.value=0,Ce.value=[];let Nt=_.value.total_invoice_discount;w.value=w.value+T.value-Nt;let it=w.value-V.value;R.value=L.value/100*it,N.value=C.value/100*R.value,S.value=H(_.value.due_date).diff(H(ye),"days"),I.value=L.value/100*it*(F.value/100)*(H(_.value.due_date).diff(H(ye),"days")/365),_e.value=ve.value/100*I.value,_.value.vendor_discount_details.vendor_discount_bearing>0&&(I.value=_.value.vendor_discount_details.vendor_discount_bearing/F.value*I.value);let _t=0,tt=0,pe=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((Re,vt)=>{if(Re.type=="percentage")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value*S.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value*S.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value*S.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(pe+=Re.taxes/100*(Re.value/100*P.value)*S.value)}else{_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(pe+=Re.taxes/100*(Re.value/100*P.value))}if(Re.type==="amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*Re.value*S.value;let Rt=Re.vendor_bearing_discount/100*Re.value*S.value;tt+=Re.anchor_bearing_discount/100*Re.value*S.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(pe+=Re.taxes/100*Re.value)}else{_t+=Re.vendor_bearing_discount/100*Re.value;let Rt=Re.vendor_bearing_discount/100*Re.value;tt+=Re.anchor_bearing_discount/100*Re.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(pe+=Re.taxes/100*Re.value)}if(Re.type=="per amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(pe+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value))}else{_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(pe+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value))}}),Ne.value+=_t,Ie.value+=pe,_.value.program.discount_details[0].discount_type=="Front Ended"?U.value=L.value/100*it-Ne.value-Ie.value-I.value-_e.value:U.value=L.value/100*it-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),v.value=H(ye).format("DD MMM YYYY")},Ct=async()=>{if(ne.value==""){t.error("Select Payment Account"),xe.value=!0;return}se.value=!1,await A.post(m+"factoring/cash-planner/invoices/request/send",{invoice_id:_.value.id,payment_request_date:v.value,credit_to:ne.value}).then(je=>{t.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(je=>{console.log(je),se.value=!0,je.response.data&&je.response.data.message?t.error(je.response.data.message):t.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{se.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const je=new FormData;ge.value.forEach(ye=>{je.append("invoices[]",ye.id)}),je.append("payment_request_date",g.value),await A.post(m+"factoring/cash-planner/invoices/request/multiple/send",je).then(ye=>{t.success("Payment requests sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),ge.value=[],Se.value=0,Ve.value=0,nt()}).catch(ye=>{console.log(ye),se.value=!0,ye.response.data&&ye.response.data.message?t.error(ye.response.data.message):t.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(je,ye)=>(ye/je*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,is_dashboard:s,config:ke,config2:ee,moment:H,max_date:d,min_date:i,eligibility_amount:l,pi_amount:J,discount_amount:r,days_to_payment:E,total_remittance:k,processing_fee_amount:x,invoices:c,payment_date:v,request_payment_date:D,bulk_request_payment_date:y,credit_to:ne,taxes_amount:z,payment_account:xe,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ve,tax_on_discount_amount:_e,invoice_total_amount:w,invoice_taxes_amount:T,invoice_fees_amount:V,invoice_eligibility_percentage:L,invoice_eligibility_amount:R,invoice_eligibility_for_finance:P,invoice_discount_amount:I,invoice_days_to_payment:S,invoice_business_spread:F,invoice_processing_fee:N,invoice_min_financing_days:Z,invoice_due_date:ae,invoice_total_remmitance:U,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:Ge,total_invoice_amount:he,total_pi_amount:ie,total_eligible_amount:$e,total_actual_remittance:we,can_submit:se,selected_invoices:ge,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:Oe,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Pe,bulk_data_loading:Jt,buyer_search:at,invoice_number_search:oe,from_date_search:me,to_date_search:Le,per_page:Ot,formatNoa:je=>{let ye="";ze.value&&(ye=ze.value.body,ye=ye.replace("{date}",H(je.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",je.company.name),ye=ye.replace("{anchorName}",je.buyer.name),ye=ye.replace("{company}",je.company.name),ye=ye.replace("{anchorCompanyUniqueID}",je.buyer.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract}",""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorAccountName}",je.bank_details.length>0?je.bank_details[0].name_as_per_bank:""),ye=ye.replace("{anchorAccountNumber}",je.bank_details.length>0?je.bank_details[0].account_number:""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorBranch}",je.bank_details.length>0?je.bank_details[0].branch:""),ye=ye.replace("{anchorIFSCCode}",""),ye=ye.replace("{anchorAddress}",je.buyer.address+" "+je.buyer.postal_code+" "+je.buyer.city),ye=ye.replace("{penalnterestRate}",je.vendor_discount_details?je.vendor_discount_details.penal_discount_on_principle:""),ye=ye.replace("{sellerName}",je.company.name),ze.value.body=ye)},prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:pt,changePage:async je=>{await A.get(je,{params:{anchor:at.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{he.value=0,ie.value=0,$e.value=0,we.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount,ge.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:Ct,invoice_details:_,viewRequestDetails:Fe,getTaxPercentage:Tt,updateSelected:je=>{let ye=ge.value.findIndex(He=>He.id==je.id);if(ye==-1?ge.value.push(je):ge.value.splice(ye,1),ge.value.length==c.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,ge.value.length>0){let He=ge.value[0].due_date,Nt=ge.value[0].min_financing_days;ge.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),d.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?c.value.data.forEach(je=>{document.getElementById("invoice-"+je.id).checked=!0,ge.value.push(je)}):c.value.data.forEach(je=>{if(document.getElementById("invoice-"+je.id).checked==!0){document.getElementById("invoice-"+je.id).checked=!1;let ye;if(!ge.value.filter(function(Nt,it){ye=it,Nt.id==je.id}))return!1;ge.value.splice(ye,1)}})},acceptTerms:()=>{se.value=!se.value},filter:Dt,refresh:Ft,showInvoice:Kt,invoice_details_key:Et}}},Ehe={class:"card"},Ahe={key:0,class:"card-header"},Ihe={class:"card-body"},Rhe={key:0,class:"d-flex justify-content-between"},She={class:"d-flex flex-wrap gap-1"},The={class:""},jhe={for:"Buyer",class:"form-label"},Ohe={class:""},Mhe={for:"Invoice No.",class:"form-label"},Lhe={class:""},Nhe={class:"form-label",for:""},Fhe={class:"table-search-btn"},Yhe={class:"table-clear-btn"},Vhe={class:"d-flex mx-2",style:{height:"fit-content"}},Bhe={class:"table-responsive"},Uhe={class:"table invoices-table"},qhe={class:""},Hhe={key:0},zhe={key:1},Whe={key:2},Khe={class:"invoices-table-content"},Ghe={key:0},Qhe={colspan:"12",class:"text-center"},Zhe={class:"text-center"},Jhe={key:1},Xhe={colspan:"12",class:"text-center"},epe={class:"text-center"},tpe={key:0},ope={key:0,class:"form-check"},ape=["id","onChange"],npe={key:1},spe=["onClick"],lpe=["title"],ipe={class:""},rpe={class:"text-success text-nowrap"},dpe={class:""},cpe={class:"text-success text-nowrap"},upe={class:"text-success text-nowrap"},_pe={key:2,class:"text-success"},mpe=["onClick"],fpe=["id","data-bs-target"],hpe=["id","data-bs-target"],ppe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},vpe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},gpe={class:"modal-content"},bpe={class:"modal-body"},ype={class:"d-flex justify-content-center"},kpe=["id"],$pe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},wpe={class:"modal-content"},Dpe={class:"modal-header"},Cpe={class:"modal-title",id:"modalCenterTitle"},xpe={class:"modal-body"},Ppe={class:"row"},Epe={class:"col-6"},Ape={class:"border-bottom d-flex justify-content-between"},Ipe={for:"nameWithTitle",class:"form-label"},Rpe={class:"text-success"},Spe={class:"border-bottom d-flex justify-content-between"},Tpe={for:"nameWithTitle",class:"form-label"},jpe={class:"text-success"},Ope={class:"border-bottom d-flex justify-content-between"},Mpe={for:"nameWithTitle",class:"form-label"},Lpe={class:"text-success"},Npe={class:"col-6"},Fpe={class:"border-bottom d-flex justify-content-between"},Ype={for:"nameWithTitle",class:"form-label"},Vpe={key:0,class:""},Bpe={class:"border-bottom d-flex justify-content-between"},Upe={for:"nameWithTitle",class:"form-label"},qpe={key:0,class:""},Hpe={class:"border-bottom d-flex justify-content-between"},zpe={for:"nameWithTitle",class:"form-label"},Wpe={class:"text-success"},Kpe={class:"mt-1"},Gpe={class:"row"},Qpe={key:0,class:"col-6"},Zpe={class:"border-bottom d-flex justify-content-between"},Jpe={for:"nameWithTitle",class:"form-label"},Xpe={class:""},eve={class:"border-bottom d-flex justify-content-between"},tve={for:"nameWithTitle",class:"form-label"},ove={class:""},ave={class:"border-bottom d-flex justify-content-between"},nve={for:"nameWithTitle",class:"form-label"},sve={key:0,class:""},lve=["for"],ive={class:"text-success"},rve={class:"border-bottom d-flex justify-content-between"},dve={for:"nameWithTitle",class:"form-label"},cve={class:"text-success"},uve={class:"border-bottom d-flex justify-content-between"},_ve={for:"nameWithTitle",class:"form-label"},mve={class:"text-success"},fve={class:"border-bottom d-flex justify-content-between"},hve={for:"nameWithTitle",class:"form-label"},pve={class:"text-success"},vve={class:"border-bottom d-flex justify-content-between"},gve={for:"nameWithTitle",class:"form-label"},bve={class:"text-success"},yve={class:"text-success"},kve={key:1,class:"col-6"},$ve={class:"border-bottom d-flex justify-content-between"},wve={for:"nameWithTitle",class:"form-label"},Dve={class:""},Cve={class:"border-bottom d-flex justify-content-between"},xve={for:"nameWithTitle",class:"form-label"},Pve={class:""},Eve={class:"border-bottom d-flex justify-content-between"},Ave={for:"nameWithTitle",class:"form-label"},Ive={key:0,class:""},Rve=["for"],Sve={class:"text-success"},Tve={class:"border-bottom d-flex justify-content-between"},jve={for:"nameWithTitle",class:"form-label"},Ove={class:"text-success"},Mve={class:"border-bottom d-flex justify-content-between"},Lve={for:"nameWithTitle",class:"form-label"},Nve={class:"text-success"},Fve={class:"col-6"},Yve={class:"mt-1"},Vve={class:"row"},Bve={class:"col-12"},Uve={class:"border-bottom d-flex justify-content-between"},qve={for:"nameWithTitle",class:"form-label"},Hve={class:"",id:"payment_date"},zve={class:"border-bottom d-flex justify-content-between"},Wve={for:"nameWithTitle",class:"form-label"},Kve={class:"text-success"},Gve={class:"border-bottom d-flex justify-content-between"},Qve={for:"nameWithTitle",class:"form-label"},Zve={class:"text-success"},Jve={key:0,class:"border-bottom d-flex justify-content-between"},Xve={for:"nameWithTitle",class:"form-label"},ege={class:"text-success"},tge={key:1,class:"border-bottom d-flex justify-content-between"},oge={for:"nameWithTitle",class:"form-label"},age={class:"text-success"},nge={class:"border-bottom d-flex justify-content-between"},sge={for:"nameWithTitle",class:"form-label"},lge={value:""},ige=["value"],rge={class:"modal-footer"},dge={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},cge=["disabled","data-bs-target"],uge=["id"],_ge={class:"modal-dialog modal-lg",role:"document"},mge={class:"modal-content"},fge={class:"modal-header"},hge={class:"modal-title",id:"modalCenterTitle"},pge={class:"modal-body"},vge={key:0},gge={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},bge=["innerHTML"],yge={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},kge={key:3},$ge={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},wge=["innerHTML"],Dge=["href"],Cge={class:"modal-footer d-flex justify-content-between"},xge={class:"mt-4"},Pge=["href"],Ege={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},Age=["disabled"],Ige=["id"],Rge={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Sge={class:"modal-content"},Tge={class:"modal-header"},jge={class:"modal-title",id:"modalCenterTitle"},Oge={class:"d-flex gap-1"},Mge=["data-bs-target"],Lge=["href"],Nge={class:"modal-body"},Fge={class:"d-flex justify-content-between mb-4"},Yge={class:"mb-3"},Vge={class:"d-flex justify-content-between"},Bge={class:"fw-light my-auto"},Uge={class:"fw-bold mx-2 my-auto"},qge={class:"d-flex justify-content-between"},Hge={class:"fw-light my-auto"},zge={class:"fw-bold mx-2 my-auto"},Wge={class:"d-flex justify-content-between"},Kge={class:"fw-light my-auto"},Gge={class:"fw-bold mx-2 my-auto"},Qge={class:"d-flex justify-content-between"},Zge={class:"fw-light my-auto"},Jge={class:"fw-bold mx-2 my-auto"},Xge={class:"d-flex justify-content-between"},e1e={class:"fw-light my-auto"},t1e={class:"fw-bold mx-2 my-auto"},o1e={key:0,class:"d-flex justify-content-between"},a1e={class:"fw-light my-auto"},n1e={class:"fw-bold mx-2 my-auto"},s1e={key:1,class:"d-flex justify-content-between"},l1e={class:"fw-light my-auto"},i1e={class:"fw-bold mx-2 my-auto"},r1e={class:"mb-3"},d1e={key:0,class:"d-flex justify-content-between"},c1e={class:"my-auto fw-light"},u1e=["data-bs-target"],_1e={class:"d-flex justify-content-between"},m1e={class:"my-auto fw-light"},f1e={class:"fw-bold mx-2 my-auto"},h1e={class:"d-flex justify-content-between"},p1e={class:"my-auto fw-light"},v1e={class:"fw-bold mx-2 my-auto"},g1e={class:"d-flex justify-content-between"},b1e={class:"my-auto fw-light"},y1e={class:"fw-bold mx-2 my-auto"},k1e={class:"d-flex justify-content-between"},$1e={class:"my-auto fw-light"},w1e={class:"fw-bold mx-2 my-auto"},D1e={class:"d-flex justify-content-between"},C1e={class:"my-auto fw-light"},x1e={class:"fw-bold text-success mx-2 my-auto"},P1e={class:"d-flex justify-content-between"},E1e={class:"my-auto fw-light"},A1e={class:"fw-bold mx-2 my-auto"},I1e={class:"d-flex justify-content-between"},R1e={class:"my-auto fw-light"},S1e={class:"fw-bold mx-2 my-auto"},T1e={class:"table-responsive"},j1e={class:"table"},O1e={class:"bg-label-primary"},M1e={class:"px-2"},L1e={class:"d-flex justify-content-end"},N1e={class:"mx-2 my-auto"},F1e={class:"text-success my-auto"},Y1e={key:0,class:"px-2"},V1e={class:"mx-2 my-auto"},B1e={class:"text-success my-auto"},U1e={key:1,class:"px-2"},q1e={class:"d-flex justify-content-end"},H1e={class:"mx-2 my-auto"},z1e={class:"bg-label-secondary px-2"},W1e={class:"d-flex justify-content-end"},K1e={class:"mx-2 my-auto py-1"},G1e={class:"text-success my-auto py-1"},Q1e=["id"],Z1e={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},J1e={class:"modal-content"},X1e={class:"modal-header"},ebe={class:"modal-title",id:"modalCenterTitle"},tbe={class:"d-flex gap-1"},obe=["data-bs-target"],abe=["href"],nbe={class:"modal-body"},sbe={class:"d-flex justify-content-between mb-4"},lbe={class:"mb-3"},ibe={class:"d-flex justify-content-between"},rbe={class:"fw-light my-auto"},dbe={class:"fw-bold mx-2 my-auto"},cbe={class:"d-flex justify-content-between"},ube={class:"fw-light my-auto"},_be={class:"fw-bold mx-2 my-auto"},mbe={class:"d-flex justify-content-between"},fbe={class:"fw-light my-auto"},hbe={class:"fw-bold mx-2 my-auto"},pbe={class:"d-flex justify-content-between"},vbe={class:"fw-light my-auto"},gbe={class:"fw-bold mx-2 my-auto"},bbe={class:"d-flex justify-content-between"},ybe={class:"fw-light my-auto"},kbe={class:"fw-bold mx-2 my-auto"},$be={key:0,class:"d-flex justify-content-between"},wbe={class:"fw-light my-auto"},Dbe={class:"fw-bold mx-2 my-auto"},Cbe={key:1,class:"d-flex justify-content-between"},xbe={class:"fw-light my-auto"},Pbe={class:"fw-bold mx-2 my-auto"},Ebe={class:"mb-3"},Abe={key:0,class:"d-flex justify-content-between"},Ibe={class:"my-auto fw-light"},Rbe=["data-bs-target"],Sbe={class:"d-flex justify-content-between"},Tbe={class:"my-auto fw-light"},jbe={class:"fw-bold mx-2 my-auto"},Obe={class:"d-flex justify-content-between"},Mbe={class:"my-auto fw-light"},Lbe={class:"fw-bold mx-2 my-auto"},Nbe={class:"d-flex justify-content-between"},Fbe={class:"my-auto fw-light"},Ybe={class:"fw-bold mx-2 my-auto"},Vbe={class:"d-flex justify-content-between"},Bbe={class:"my-auto fw-light"},Ube={class:"fw-bold mx-2 my-auto"},qbe={class:"d-flex justify-content-between"},Hbe={class:"my-auto fw-light"},zbe={class:"fw-bold text-success mx-2 my-auto"},Wbe={class:"d-flex justify-content-between"},Kbe={class:"my-auto fw-light"},Gbe={class:"fw-bold mx-2 my-auto"},Qbe={class:"d-flex justify-content-between"},Zbe={class:"my-auto fw-light"},Jbe={class:"fw-bold mx-2 my-auto"},Xbe={class:"table-responsive"},eye={class:"table"},tye={class:"bg-label-primary"},oye={class:"px-2"},aye={class:"d-flex justify-content-end"},nye={class:"mx-2 my-auto"},sye={class:"text-success my-auto"},lye={key:0,class:"px-2"},iye={class:"mx-2 my-auto"},rye={class:"text-success my-auto"},dye={key:1,class:"px-2"},cye={class:"d-flex justify-content-end"},uye={class:"mx-2 my-auto"},_ye={key:2,class:"px-2"},mye={class:"mx-2 my-auto py-1"},fye={key:0,class:"text-success my-auto py-1"},hye={key:1,class:"text-success my-auto py-1"},pye={key:3,class:"px-2"},vye={class:"d-flex justify-content-end"},gye={class:"mx-2 my-auto py-1"},bye={class:"d-flex justify-content-end"},yye={class:"mx-2 my-auto py-1"},kye={class:"d-flex justify-content-end"},$ye={class:"mx-2 my-auto py-1"},wye={class:"bg-label-secondary px-2"},Dye={class:"d-flex justify-content-end"},Cye={class:"mx-2 my-auto py-1"},xye={class:"text-success my-auto py-1"},Pye={key:0,class:"text-nowrap"},Eye={class:"text-success"},Aye={class:"text-success"},Iye={class:"text-success"},Rye={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},Sye={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},Tye={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jye={class:"modal-content"},Oye={class:"modal-header"},Mye={class:"modal-title",id:"modalCenterTitle"},Lye={class:"modal-body"},Nye={class:"d-flex justify-content-between"},Fye={key:0},Yye={key:1,src:At,style:{width:"1.3rem"}},Vye={class:"d-flex justify-content-between my-1"},Bye={key:0},Uye={key:1,src:At,style:{width:"1.3rem"}},qye={for:"Request Date",class:"form-label"},Hye={class:"modal-footer"},zye={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Wye={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},Kye={class:"modal-dialog modal-lg",role:"document"},Gye={class:"modal-content"},Qye={class:"modal-header"},Zye={class:"modal-title",id:"modalCenterTitle"},Jye={class:"modal-body"},Xye={key:0},e0e={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},t0e=["innerHTML"],o0e={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},a0e={class:"modal-footer d-flex justify-content-between"},n0e={class:"mt-4"},s0e=["href"],l0e=["disabled"],i0e={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},r0e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},d0e={class:"modal-content"},c0e={class:"modal-header"},u0e={class:"modal-title",id:"modalCenterTitle"},_0e={class:"modal-body"},m0e={class:"fw-bold"},f0e={class:"modal-footer"},h0e={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function p0e(o,a,s,t,c,m){const _=de("pagination"),l=de("flat-pickr"),r=de("upload-attachment");return u(),f("div",Ehe,[t.is_dashboard?b("",!0):(u(),f("div",Ahe,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)])),e("div",Ihe,[t.is_dashboard?b("",!0):(u(),f("div",Rhe,[e("div",She,[e("div",The,[e("label",jhe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",Ohe,[e("label",Mhe,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Lhe,[e("label",Nhe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[17]||(a[17]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Fhe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Yhe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Vhe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])),!t.is_dashboard&&t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Bhe,[e("table",Uhe,[e("thead",null,[e("tr",qhe,[!t.is_dashboard&&t.can_request?(u(),f("th",Hhe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=i=>t.selectAll())},null,32)])):b("",!0),!t.is_dashboard&&t.can_request?(u(),f("th",zhe,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=i=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",Whe,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",Khe,[t.invoices.data?b("",!0):(u(),f("tr",Ghe,[e("td",Qhe,[e("span",Zhe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Jhe,[e("td",Xhe,[e("span",epe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.is_dashboard?b("",!0):(u(),f("td",tpe,[t.can_request&&i.payment_requests<=0?(u(),f("div",ope,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+i.id,onChange:d=>t.updateSelected(i)},null,40,ape)])):b("",!0)])),!t.is_dashboard&&t.can_request?(u(),f("td",npe)):b("",!0),e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:d=>t.showInvoice(i.id,"show-planner-pi-"+i.id)},n(i.invoice_number),9,spe),i.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:i.financing_request_window},null,8,lpe))]),e("td",ipe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",rpe,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1),e("td",dpe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",cpe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount).toFixed(2))),1)]),e("td",upe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",_pe,[i.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:d=>t.showModal(i.id,"show-request-financing-btn-"+i.id)},null,8,mpe)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+i.id},null,8,fpe),e("button",{class:"d-none",id:"show-request-financing-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+i.id},null,8,hpe),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ppe,[e("div",vpe,[e("div",gpe,[e("div",bpe,[e("div",ype,[e("span",null,n(o.$t("Loading"))+"...",1),a[21]||(a[21]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",$pe,[e("div",wpe,[e("div",Dpe,[e("h5",Cpe,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xpe,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",Ppe,[e("div",Epe,[e("div",Ape,[e("label",Ipe,n(o.$t("Invoice Amount")),1),e("h6",Rpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_details.total)),1)])]),e("div",Spe,[e("label",Tpe,n(o.$t("PI Amount"))+"(A)",1),e("h6",jpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)])]),e("div",Ope,[e("label",Mpe,n(o.$t("Eligible Amount")),1),e("h6",Lpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])])]),e("div",Npe,[e("div",Fpe,[e("label",Ype,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",Vpe,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",Bpe,[e("label",Upe,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",qpe,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",Hpe,[e("label",zpe,n(o.$t("Eligible For Finance")),1),e("h6",Wpe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",Kpe,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",Gpe,[t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",Qpe,[e("div",Zpe,[e("label",Jpe,n(o.$t("Early Payment Date")),1),e("h6",Xpe,n(t.payment_date),1)]),e("div",eve,[e("label",tve,n(o.$t("Days to Payment")),1),e("h6",ove,n(t.invoice_days_to_payment),1)]),e("div",ave,[e("label",nve,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",sve,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,lve),e("h6",ive,n(d[1]),1)]))),128)),e("div",rve,[e("label",dve,[le(n(o.$t("Total Fees"))+" ",1),a[23]||(a[23]=e("strong",null,"(C)",-1))]),e("h6",cve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",uve,[e("label",_ve,[le(n(o.$t("Tax On Fees "))+" ",1),a[24]||(a[24]=e("strong",null,"(D)",-1))]),e("h6",mve,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",fve,[e("label",hve,[le(n(o.$t("Discount Amount"))+" ",1),a[25]||(a[25]=e("strong",null,"(E)",-1))]),e("h6",pve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",vve,[e("label",gve,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",bve,n(t.tax_on_discount)+"%",1),a[26]||(a[26]=e("strong",null,"(F)",-1))]),e("h6",yve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])])):(u(),f("div",kve,[e("div",$ve,[e("label",wve,n(o.$t("Early Payment Date")),1),e("h6",Dve,n(t.payment_date),1)]),e("div",Cve,[e("label",xve,n(o.$t("Days to Payment")),1),e("h6",Pve,n(t.invoice_days_to_payment),1)]),e("div",Eve,[e("label",Ave,n(o.$t("Discount Charge")),1),t.invoice_details?(u(),f("h6",Ive,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,Rve),e("h6",Sve,n(d[1]),1)]))),128)),e("div",Tve,[e("label",jve,[le(n(o.$t("Total Fees"))+" ",1),a[27]||(a[27]=e("strong",null,"(C)",-1))]),e("h6",Ove,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",Mve,[e("label",Lve,[le(n(o.$t("Tax On Fees "))+" ",1),a[28]||(a[28]=e("strong",null,"(D)",-1))]),e("h6",Nve,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])])),e("div",Fve,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=d=>t.request_payment_date=d),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",Yve,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",Vve,[e("div",Bve,[e("div",Uve,[e("label",qve,n(o.$t("Early Payment Date")),1),e("h6",Hve,n(t.payment_date),1)]),e("div",zve,[e("label",Wve,n(o.$t("Eligible Amount")),1),e("h6",Kve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",Gve,[e("label",Qve,[le(n(o.$t("Request Amount"))+" ",1),a[29]||(a[29]=e("strong",null,"(B)",-1))]),e("h6",Zve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",Jve,[e("label",Xve,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[30]||(a[30]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",ege,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])):(u(),f("div",tge,[e("label",oge,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[31]||(a[31]=e("strong",null,"(B-C-D)",-1))]),e("h6",age,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])),e("div",nge,[e("label",sge,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[10]||(a[10]=d=>t.credit_to=d),onChange:a[11]||(a[11]=d=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",lge,n(o.$t("Select Payment Account")),1),(u(!0),f(W,null,X(t.invoice_details.bank_details,d=>(u(),f("option",{key:d.id,value:d.id},n(d.account_number)+" - ("+n(d.bank_name)+") ",9,ige))),128))],34)),[[re,t.credit_to]]):b("",!0)])])])]),e("div",rge,[e("button",dge,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+i.id,onClick:a[12]||(a[12]=d=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,cge)])])])],8,kpe)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+i.id,"aria-hidden":"true"},[e("div",_ge,[e("div",mge,[e("div",fge,[e("h5",hge,n(o.$t("Request Finance")),1),a[32]||(a[32]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",pge,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",vge,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",gge,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,bge)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",yge,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",kge,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",$ge,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,wge)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../factoring/cash-planner/invoices/"+i.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,Dge)):b("",!0)]),e("div",Cge,[e("small",xge,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,Pge)]),e("div",null,[e("button",Ege,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[13]||(a[13]=(...d)=>t.requestFinance&&t.requestFinance(...d)),disabled:!t.can_submit},n(o.$t("Submit")),9,Age)])])])])],8,uge)])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-invoice-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Rge,[e("div",Sge,[e("div",Tge,[e("h5",jge,n(o.$t("Invoice Details")),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Oge,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,Mge)]),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[34]||(a[34]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Lge)])]),e("div",Nge,[e("div",Fge,[e("div",Yge,[e("span",Vge,[e("h5",Bge,n(o.$t("Anchor"))+":",1),e("h6",Uge,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",qge,[e("h5",Hge,n(o.$t("Delivery Address"))+":",1),e("h6",zge,n(t.invoice_details.delivery_address),1)]),e("span",Wge,[e("h5",Kge,n(o.$t("Debit From"))+":",1),e("h6",Gge,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Qge,[e("h5",Zge,n(o.$t("Vendor"))+":",1),e("h6",Jge,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Xge,[e("h5",e1e,n(o.$t("Remarks"))+":",1),e("h6",t1e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",o1e,[e("h5",a1e,n(o.$t("Credit To"))+":",1),e("h6",n1e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",s1e,[e("h5",l1e,n(o.$t("Rejection Reason"))+":",1),e("h6",i1e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",r1e,[t.invoice_details.pi_number?(u(),f("span",d1e,[e("h5",c1e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,u1e)])):b("",!0),e("span",_1e,[e("h5",m1e,n(o.$t("Invoice No."))+":",1),e("h6",f1e,n(t.invoice_details.invoice_number),1)]),e("span",h1e,[e("h5",p1e,n(o.$t("PO No."))+":",1),e("h6",v1e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",g1e,[e("h5",b1e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",y1e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",k1e,[e("h5",$1e,n(o.$t("Invoice Date."))+":",1),e("h6",w1e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",D1e,[e("h5",C1e,n(o.$t("Amount"))+":",1),e("h6",x1e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",P1e,[e("h5",E1e,n(o.$t("Status."))+":",1),e("h6",A1e,n(t.invoice_details.approval_stage),1)]),e("span",I1e,[e("h5",R1e,n(o.$t("Due Date"))+":",1),e("h6",S1e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",T1e,[e("table",j1e,[e("thead",O1e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",M1e,[e("span",L1e,[e("h6",N1e,n(o.$t("Discount"))+":",1),e("h5",F1e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Y1e,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",V1e,n(d.name),1),e("h5",B1e,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",U1e,[e("span",q1e,[e("h6",H1e,n(o.$t("Tax")),1),a[36]||(a[36]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",z1e,[e("span",W1e,[e("h6",K1e,n(o.$t("Total")),1),e("h5",G1e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Ige)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"cash-planner-pi-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Z1e,[e("div",J1e,[e("div",X1e,[e("h5",ebe,n(o.$t("Invoice Details")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",tbe,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,obe)]),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[37]||(a[37]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,abe)])]),e("div",nbe,[e("div",sbe,[e("div",lbe,[e("span",ibe,[e("h5",rbe,n(o.$t("Anchor"))+":",1),e("h6",dbe,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",cbe,[e("h5",ube,n(o.$t("Delivery Address"))+":",1),e("h6",_be,n(t.invoice_details.delivery_address),1)]),e("span",mbe,[e("h5",fbe,n(o.$t("Debit From"))+":",1),e("h6",hbe,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",pbe,[e("h5",vbe,n(o.$t("Vendor"))+":",1),e("h6",gbe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",bbe,[e("h5",ybe,n(o.$t("Remarks"))+":",1),e("h6",kbe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",$be,[e("h5",wbe,n(o.$t("Credit To"))+":",1),e("h6",Dbe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Cbe,[e("h5",xbe,n(o.$t("Rejection Reason"))+":",1),e("h6",Pbe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Ebe,[t.invoice_details.pi_number?(u(),f("span",Abe,[e("h5",Ibe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Rbe)])):b("",!0),e("span",Sbe,[e("h5",Tbe,n(o.$t("PI No."))+":",1),e("h6",jbe,n(t.invoice_details.pi_number),1)]),e("span",Obe,[e("h5",Mbe,n(o.$t("PO No."))+":",1),e("h6",Lbe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Nbe,[e("h5",Fbe,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Ybe,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Vbe,[e("h5",Bbe,n(o.$t("Invoice Date."))+":",1),e("h6",Ube,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",qbe,[e("h5",Hbe,n(o.$t("Amount"))+":",1),e("h6",zbe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Wbe,[e("h5",Kbe,n(o.$t("Status."))+":",1),e("h6",Gbe,n(t.invoice_details.approval_stage),1)]),e("span",Qbe,[e("h5",Zbe,n(o.$t("Due Date"))+":",1),e("h6",Jbe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Xbe,[e("table",eye,[e("thead",tye,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])]),e("div",oye,[e("span",aye,[e("h6",nye,n(o.$t("Discount"))+":",1),e("h5",sye,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",lye,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",iye,n(d.name),1),e("h5",rye,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",dye,[e("span",cye,[e("h6",uye,n(o.$t("Tax")),1),a[39]||(a[39]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",_ye,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",mye,n(d.name),1),d.name!="Credit Note Amount"&&d.name!="Credit Note"&&d.name!="Credit Amount"?(u(),f("h5",fye," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",hye,n(d.amount),1))]))),128))])):(u(),f("div",pye,[e("span",vye,[e("h6",gye,n(o.$t("WHT Tax"))+":",1),a[40]||(a[40]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",bye,[e("h6",yye,n(o.$t("WHT VAT"))+":",1),a[41]||(a[41]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",kye,[e("h6",$ye,n(o.$t("Credit Note Amount"))+":",1),a[42]||(a[42]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",wye,[e("span",Dye,[e("h6",Cye,n(o.$t("Total")),1),e("h5",xye,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,Q1e)):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)]))),128))]),t.is_dashboard?b("",!0):(u(),f("tfoot",Pye,[e("tr",null,[a[43]||(a[43]=e("td",null,null,-1)),a[44]||(a[44]=e("td",null,null,-1)),a[45]||(a[45]=e("td",null,null,-1)),a[46]||(a[46]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Eye,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),a[47]||(a[47]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Aye,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Iye,n(new Intl.NumberFormat().format(t.total_actual_remittance.toFixed(2))),1)]),a[48]||(a[48]=e("td",null,null,-1)),a[49]||(a[49]=e("td",null,null,-1))])]))])]),e("button",Rye,null,512),e("div",Sye,[e("div",Tye,[e("div",jye,[e("div",Oye,[e("h5",Mye,n(o.$t("Request Finance")),1),a[50]||(a[50]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Lye,[e("div",Nye,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",Yye)):(u(),f("span",Fye,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",Vye,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",Uye)):(u(),f("span",Bye,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",qye,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[14]||(a[14]=i=>t.bulk_request_payment_date=i),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",Hye,[e("button",zye,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[15]||(a[15]=i=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",Wye,[e("div",Kye,[e("div",Gye,[e("div",Qye,[e("h5",Zye,n(o.$t("Request Finance")),1),a[51]||(a[51]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Jye,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",Xye,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",e0e,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,t0e)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",o0e,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",a0e,[e("small",n0e,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"factoring/cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,s0e)]),e("div",null,[a[52]||(a[52]=e("button",{type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[16]||(a[16]=(...i)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...i)),disabled:!t.can_submit},n(o.$t("Accept")),9,l0e)])])])])]),a[54]||(a[54]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",i0e,[e("div",r0e,[e("div",d0e,[e("div",c0e,[e("h5",u0e,n(o.$t("Request for Finance successful")),1)]),e("div",_0e,[a[53]||(a[53]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",m0e,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",f0e,[e("button",h0e,n(o.$t("Close")),1)])])])]),!t.is_dashboard&&t.invoices.meta?(u(),fe(_,{key:2,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const v0e=Ue(Phe,[["render",p0e]]),g0e={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=h(null),m=h(0),_=h(0),l=h(""),r=h(""),i=h(""),d=h(H().format("DD MMM YYYY")),p=h(H().format("DD MMM YYYY")),v=h(new Date().toLocaleDateString("en-CA")),g=h(new Date().toLocaleDateString("en-CA")),D=h(1),y=h(0),C=h(1),x=h(0),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0),U=h(0),Z=h(0);h([]),h(0);const ce=h(0),ae=h(0);h(0);const J=h(""),z=h(!1),ne=h(!1),xe=h(0),Fe=h(0),he=h(0),ie=h(0),$e=h(!1),we=h([]),se=h(!1),ge=h(""),be=h(""),Me=h(""),ue=h(""),Oe=h(""),ze=h(0),Ye=h(0),ve=h(0),_e=h(0),Se=h({inline:!0}),Ve=h({inline:!0}),ke=h([]),ee=h(0),Ce=h(0),Ne=h(""),Ie=h(""),oe=h(""),me=h(""),Le=h(""),Ze=h([]),at=h([]),mt=h(10),wt=h(!1),Ot=h([]),Jt=h([]),ut=h(null),gt=h(new Date),Vt=h(0);ot([mt],async([kt])=>{await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:kt}}).then(dt=>{xe.value=0,Fe.value=0,he.value=0,ie.value=0,s.value=dt.data.invoices,s.value.data.forEach(je=>{xe.value+=je.total+je.total_invoice_taxes-je.total_invoice_discount,Fe.value+=je.total+je.total_invoice_taxes-je.total_invoice_fees-je.total_invoice_discount,he.value+=je.eligible_for_finance,ie.value+=je.actual_remittance_amount})})});const pt=async()=>{me.value=$("#date_search").val(),me.value&&(Ie.value=H(me.value.split(" - ")[0]).format("YYYY-MM-DD"),oe.value=H(me.value.split(" - ")[1]).format("YYYY-MM-DD"));let kt=$(".ti-search").parent();kt.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{buyer:Le.value,invoice_number:Ne.value,from_date:Ie.value,to_date:oe.value,per_page:mt.value}}).then(dt=>{s.value=dt.data.invoices,xe.value=0,Fe.value=0,he.value=0,ie.value=0,s.value.data.forEach(je=>{xe.value+=je.total+je.total_invoice_taxes-je.total_invoice_discount,Fe.value+=je.total+je.total_invoice_taxes-je.total_invoice_fees-je.total_invoice_discount,he.value+=je.eligible_for_finance,ie.value+=je.actual_remittance_amount}),kt.html('<i class="ti ti-search"></i>')})},Et=async()=>{let kt=$(".ti-refresh").parent();kt.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ne.value="",Ie.value="",oe.value="",me.value="",$("#date_search").val(""),await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:mt.value}}).then(dt=>{s.value=dt.data.invoices,xe.value=0,Fe.value=0,he.value=0,ie.value=0,s.value.data.forEach(je=>{xe.value+=je.total+je.total_invoice_taxes-je.total_invoice_discount,Fe.value+=je.total+je.total_invoice_taxes-je.total_invoice_fees-je.total_invoice_discount,he.value+=je.eligible_for_finance,ie.value+=je.actual_remittance_amount}),kt.html('<i class="ti ti-refresh"></i>')})},Dt=async(kt,dt)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+kt+"/details").then(je=>{c.value=je.data,Vt.value++,bt(()=>{document.getElementById(dt).click()})}).catch(je=>{console.log(je)})},Ft=async(kt,dt)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+kt+"/details").then(je=>{ke.value=[],ee.value=0,Ce.value=0,Ce.value=0,Ce.value=0,c.value=je.data,Z.value=c.value.due_date,E.value=0,c.value.invoice_items.forEach(it=>{E.value+=it.quantity*it.price_per_quantity}),k.value=0,c.value.invoice_taxes.forEach(it=>{k.value+=it.value}),w.value=0,c.value.invoice_fees.forEach(it=>{w.value+=it.amount}),T.value=0,c.value.invoice_discounts.forEach(it=>{it.type=="percentage"?_.value+=it.value/100*(E.value+k.value):_.value+=it.value}),E.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_discount,V.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,P.value=H(c.value.due_date).diff(H(),"days")+1,B.value=c.value.vendor_configurations.eligibility,O.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,L.value=B.value/100*(c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount),I.value=c.value.vendor_discount_details.total_roi,R.value=B.value/100*O.value*(I.value/100)*((H(c.value.due_date).diff(H(),"days")+1)/365),R.value=c.value.vendor_discount_details.anchor_discount_bearing/I.value*R.value;let ye=0,He=0;c.value.vendor_fee_details.forEach((it,_t)=>{it.type=="percentage"&&(ye+=it.anchor_bearing_discount/100*(it.value/100*O.value),it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,it.value+"%"]),it.taxes&&(He+=it.taxes/100*(it.value/100*O.value))),it.type=="amount"&&(ye+=it.anchor_bearing_discount/100*it.value,it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,c.value.currency+" "+it.value]),it.taxes&&(He+=it.taxes/100*(it.anchor_bearing_discount/100*it.value))),it.type=="per amount"&&(ye+=it.anchor_bearing_discount/100*(Math.round(O.value/it.per_amount)*it.value),it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,it.value+" P.Am "+c.value.currency+" "+it.per_amount]),it.taxes&&(He+=it.taxes/100*(Math.round(O.value/it.per_amount)*it.value)))}),ee.value+=ye,Ce.value+=He,ze.value=c.value.program.discount_details[0].tax_on_discount,Ye.value=ze.value/100*R.value,F.value=O.value-ee.value-Ce.value-R.value-Ye.value,N.value=c.value.program.min_financing_days,U.value=c.value.max_financing_days,l.value=H(c.value.due_date).subtract(U.value,"days").format("DD MMM YYYY"),H(l.value)<H()&&(l.value=H().format("DD MMM YYYY")),r.value=H(c.value.due_date).subtract(N.value,"days").format("DD MMM YYYY");let Nt=[function(it){return at.value.includes(it.getDay())}];ut.value=new Date(r.value),at.value.forEach(it=>{Jt.value.push(it)}),Ze.value.forEach(it=>{Nt.push('"'+it+'"'),Ot.value.push(new Date(it))}),Se.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:l.value,maxDate:r.value,disable:Nt},c.value.bank_details.forEach(it=>{it.account_number==c.value.credit_to?(J.value=it.id,$e.value=!0):(J.value="",$e.value=!1)}),v.value=H().format("DD MMM YYYY"),ne.value=!0,bt(()=>{document.getElementById(dt).click()})}).catch(je=>{console.log(je)})},Kt=(kt,dt,je)=>{dt!=""&&(_e.value=0,ve.value=0,ee.value=0,Ce.value=0,Ye.value=0,wt.value=!0,A.post(t+"factoring/invoices/remittance/amount",{invoices:we.value,date:g.value}).then(ye=>{ve.value=ye.data.total_amount,_e.value=ye.data.total_remittance_amount,wt.value=!1}),p.value=H(dt).format("DD MMM YYYY"),g.value=H(dt).format("DD MMM YYYY"))},ro=()=>{if(we.value.length<=0)return a.error("Select Payment Instructions"),!1;g.value=new Date().toLocaleDateString("en-CA"),p.value=new Date().toLocaleDateString("en-CA");let kt=[function(dt){return at.value.includes(dt.getDay())}];ut.value=new Date(i.value),at.value.forEach(dt=>{Jt.value.push(dt)}),Ze.value.forEach(dt=>{kt.push('"'+dt+'"'),Ot.value.push(new Date(dt))}),Se.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:kt},_e.value=0,ve.value=0,ee.value=0,Ce.value=0,Ye.value=0,A.post(t+"factoring/invoices/remittance/amount",{invoices:we.value,date:g.value}).then(dt=>{ve.value=dt.data.total_amount,_e.value=dt.data.total_remittance_amount,wt.value=!1}),se.value.click()},Pe=kt=>{let dt="";switch(kt){case"created":dt="bg-label-primary";break;case"paid":dt="bg-label-success";break;case"failed":dt="bg-label-danger";break;default:dt="bg-label-primary";break}return dt},Te=async()=>{await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:mt.value}}).then(kt=>{be.value=kt.data.terms_and_conditions,Me.value=kt.data.noa,Oe.value=kt.data.terms_text,ue.value=kt.data.noa_text,s.value=kt.data.invoices,xe.value=0,Fe.value=0,he.value=0,ie.value=0,s.value.data.forEach(dt=>{xe.value+=dt.total+dt.total_invoice_taxes-dt.total_invoice_discount,Fe.value+=dt.total+dt.total_invoice_taxes-dt.total_invoice_fees-dt.total_invoice_discount,he.value+=dt.eligible_for_finance,ie.value+=dt.actual_remittance_amount}),i.value=H(kt.data.highest_due_date).subtract(kt.data.min_financing_days,"days").format("DD MMM YYYY"),kt.data.holidays.forEach(dt=>{Ze.value.push(dt.date_formatted)}),kt.data.off_days.forEach(dt=>{at.value.push(dt)})}).catch(kt=>{console.log(kt)})},Ge=(kt,dt,je)=>{E.value=c.value.total,k.value=c.value.total_invoice_taxes,w.value=c.value.total_invoice_fees;let ye=c.value.total_invoice_discount;E.value=E.value+k.value-ye;let He=E.value-w.value;O.value=B.value/100*He,S.value=D.value/100*O.value,P.value=H(c.value.due_date).diff(H(dt),"days"),R.value=B.value/100*He*(I.value/100)*(H(c.value.due_date).diff(H(dt),"days")/365),R.value=c.value.vendor_discount_details.vendor_discount_bearing/I.value*R.value,Ye.value=ze.value/100*R.value,F.value=O.value-ee.value-Ce.value-R.value-Ye.value,d.value=H(dt).format("DD MMM YYYY")},nt=async()=>{if(J.value==""){a.error("Select Payment Account"),z.value=!0;return}$e.value=!1,await A.post(t+"factoring/cash-planner/invoices/request/send",{invoice_id:c.value.id,payment_request_date:d.value,credit_to:J.value}).then(kt=>{a.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),Te()}).catch(kt=>{console.log(kt),$e.value=!0,kt.response.data&&kt.response.data.message?a.error(kt.response.data.message):a.error("An error. occurred. Refresh and try again.")})},yt=async()=>{$e.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const kt=new FormData;we.value.forEach(dt=>{kt.append("invoices[]",dt.id)}),kt.append("payment_request_date",p.value),await A.post(t+"factoring/cash-planner/invoices/request/multiple/send",kt).then(dt=>{a.success("Payment requests sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),we.value=[],ve.value=0,_e.value=0,Te()}).catch(dt=>{console.log(dt),$e.value=!0,dt.response.data&&dt.response.data.message?a.error(dt.response.data.message):a.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Ct=(kt,dt)=>(dt/kt*100).toFixed(2);return Qe(()=>{Te()}),{config:Se,config2:Ve,moment:H,max_date:r,min_date:l,eligibility_amount:m,pi_amount:ce,discount_amount:_,days_to_payment:C,total_remittance:x,processing_fee_amount:y,invoices:s,payment_date:d,request_payment_date:v,bulk_request_payment_date:g,credit_to:J,taxes_amount:ae,payment_account:z,vendor_fee_details:ke,total_fees:ee,total_tax_on_fees:Ce,tax_on_discount:ze,tax_on_discount_amount:Ye,invoice_total_amount:E,invoice_taxes_amount:k,invoice_fees_amount:w,invoice_eligibility_percentage:B,invoice_eligibility_amount:O,invoice_eligibility_for_finance:L,invoice_discount_amount:R,invoice_days_to_payment:P,invoice_business_spread:I,invoice_processing_fee:S,invoice_min_financing_days:N,invoice_due_date:Z,invoice_total_remmitance:F,bulk_invoice_remittance:_e,resolvePaymentRequestStatus:Pe,total_invoice_amount:xe,total_pi_amount:Fe,total_eligible_amount:he,total_actual_remittance:ie,can_submit:$e,selected_invoices:we,show_multiple_request_modal:se,show_terms_button:ge,terms_and_conditions_link:be,noa_text:ue,noa_link:Me,terms_text:Oe,selected_invoices_total_amount:ve,updateBulkDiscount:Kt,bulk_data_loading:wt,buyer_search:Le,invoice_number_search:Ne,from_date_search:Ie,to_date_search:oe,per_page:mt,formatNoa:kt=>{let dt=ue.value.body;dt=dt.replace("{date}",H(kt.invoice_date).format("Do MMM YYYY")),dt=dt.replace("{buyerName}",kt.buyer.name),dt=dt.replace("{anchorName}",kt.program.anchor.name),dt=dt.replace("{company}",kt.company.name),dt=dt.replace("{anchorCompanyUniqueID}",kt.program.anchor.unique_identification_number),dt=dt.replace("{time}",H().format("Do MMM YYYY")),dt=dt.replace("{agreementDate}",H().format("Do MMM YYYY")),dt=dt.replace("{contract},",""),dt=dt.replace("{anchorAccountName},",""),dt=dt.replace("{anchorAccountNumber},",""),dt=dt.replace("{anchorCustomerId},",""),dt=dt.replace("{anchorBranch},",""),dt=dt.replace("{anchorIFSCCode},",""),dt=dt.replace("{anchorAddress},",""),dt=dt.replace("{penalnterestRate},",""),dt=dt.replace("{sellerName}",kt.company.name),ue.value.body=dt},prime_disabled_dates:Ot,prime_disabled_days:Jt,prime_max_date:ut,prime_min_date:gt,changePage:async kt=>{await A.get(kt,{params:{anchor:Le.value,invoice_number:Ne.value,from_date:Ie.value,to_date:oe.value,per_page:mt.value}}).then(dt=>{xe.value=0,Fe.value=0,he.value=0,ie.value=0,s.value=dt.data.invoices,s.value.data.forEach(je=>{xe.value+=je.total+je.total_invoice_taxes-je.total_invoice_discount,Fe.value+=je.total+je.total_invoice_taxes-je.total_invoice_fees-je.total_invoice_discount,he.value+=je.eligible_for_finance,ie.value+=je.actual_remittance_amount,we.value.filter(He=>He.id==je.id).length>0&&bt(()=>{document.getElementById("invoice-"+je.id).checked=!0})})})},updateDiscount:Ge,showModal:Ft,showMultipleRequestModal:ro,requestFinanceForMultiple:yt,requestFinance:nt,invoice_details:c,viewRequestDetails:ne,getTaxPercentage:Ct,updateSelected:kt=>{let dt=we.value.findIndex(je=>je.id==kt.id);if(dt==-1?we.value.push(kt):we.value.splice(dt,1),we.value.length==s.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,we.value.length>0){let je=we.value[0].due_date,ye=we.value[0].min_financing_days;we.value.forEach(He=>{H(He.due_date).isBefore(je)&&(je=H(He.due_date)),He.min_financing_days<ye&&(ye=He.min_financing_days)}),r.value=H(je).subtract(ye,"days").format("DD MMM YYYY"),Se.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:[function(He){return He.getDay()===0||He.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?s.value.data.forEach(kt=>{document.getElementById("invoice-"+kt.id).checked=!0,we.value.push(kt)}):s.value.data.forEach(kt=>{if(document.getElementById("invoice-"+kt.id).checked==!0){document.getElementById("invoice-"+kt.id).checked=!1;let dt;if(!we.value.filter(function(ye,He){dt=He,ye.id==kt.id}))return!1;we.value.splice(dt,1)}})},acceptTerms:()=>{$e.value=!$e.value},filter:pt,refresh:Et,showInvoice:Dt,uploading_file_key:Vt}}},b0e={class:"card"},y0e={class:"card-header d-flex justify-content-between"},k0e={href:"factoring/planner",class:""},$0e={class:"card-body"},w0e={class:"table-responsive"},D0e={class:"table invoices-table"},C0e={class:""},x0e={class:"invoices-table-content"},P0e={key:0},E0e={colspan:"12",class:"text-center"},A0e={class:"text-center"},I0e={key:1},R0e={colspan:"12",class:"text-center"},S0e={class:"text-center"},T0e=["onClick"],j0e=["title"],O0e={class:""},M0e={class:"text-success text-nowrap"},L0e={class:""},N0e={class:"text-success text-nowrap"},F0e={class:"text-success text-nowrap"},Y0e={class:"text-success"},V0e=["onClick"],B0e=["id","data-bs-target"],U0e=["id","data-bs-target"],q0e={class:"modal fade",id:"dashboard-loading-modal",tabindex:"-1","aria-hidden":"true"},H0e={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},z0e={class:"modal-content"},W0e={class:"modal-body"},K0e={class:"d-flex justify-content-center"},G0e=["id"],Q0e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Z0e={class:"modal-content"},J0e={class:"modal-header"},X0e={class:"modal-title",id:"modalCenterTitle"},e2e={class:"modal-body"},t2e={class:"row"},o2e={class:"col-6"},a2e={class:"border-bottom d-flex justify-content-between"},n2e={for:"nameWithTitle",class:"form-label"},s2e={class:"text-success"},l2e={class:"border-bottom d-flex justify-content-between"},i2e={for:"nameWithTitle",class:"form-label"},r2e={class:"text-success"},d2e={class:"border-bottom d-flex justify-content-between"},c2e={for:"nameWithTitle",class:"form-label"},u2e={class:"text-success"},_2e={class:"col-6"},m2e={class:"border-bottom d-flex justify-content-between"},f2e={for:"nameWithTitle",class:"form-label"},h2e={key:0,class:""},p2e={class:"border-bottom d-flex justify-content-between"},v2e={for:"nameWithTitle",class:"form-label"},g2e={key:0,class:""},b2e={class:"border-bottom d-flex justify-content-between"},y2e={for:"nameWithTitle",class:"form-label"},k2e={class:"text-success"},$2e={class:"mt-1"},w2e={class:"row"},D2e={class:"col-6"},C2e={class:"border-bottom d-flex justify-content-between"},x2e={for:"nameWithTitle",class:"form-label"},P2e={class:""},E2e={class:"border-bottom d-flex justify-content-between"},A2e={for:"nameWithTitle",class:"form-label"},I2e={class:""},R2e={class:"border-bottom d-flex justify-content-between"},S2e={for:"nameWithTitle",class:"form-label"},T2e={key:0,class:""},j2e=["for"],O2e={class:"text-success"},M2e={class:"border-bottom d-flex justify-content-between"},L2e={for:"nameWithTitle",class:"form-label"},N2e={class:"text-success"},F2e={class:"border-bottom d-flex justify-content-between"},Y2e={for:"nameWithTitle",class:"form-label"},V2e={class:"text-success"},B2e={class:"border-bottom d-flex justify-content-between"},U2e={for:"nameWithTitle",class:"form-label"},q2e={class:"text-success"},H2e={class:"border-bottom d-flex justify-content-between"},z2e={for:"nameWithTitle",class:"form-label"},W2e={class:"text-success"},K2e={class:"text-success"},G2e={class:"col-6"},Q2e={class:"mt-1"},Z2e={class:"row"},J2e={class:"col-12"},X2e={class:"border-bottom d-flex justify-content-between"},eke={for:"nameWithTitle",class:"form-label"},tke={class:"",id:"payment_date"},oke={class:"border-bottom d-flex justify-content-between"},ake={for:"nameWithTitle",class:"form-label"},nke={class:"text-success"},ske={class:"border-bottom d-flex justify-content-between"},lke={for:"nameWithTitle",class:"form-label"},ike={class:"text-success"},rke={class:"border-bottom d-flex justify-content-between"},dke={for:"nameWithTitle",class:"form-label"},cke={class:"text-success"},uke={class:"border-bottom d-flex justify-content-between"},_ke={for:"nameWithTitle",class:"form-label"},mke={value:""},fke=["value"],hke={class:"modal-footer"},pke={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},vke=["disabled","data-bs-target"],gke=["id"],bke={class:"modal-dialog modal-lg",role:"document"},yke={class:"modal-content"},kke={class:"modal-header"},$ke={class:"modal-title",id:"modalCenterTitle"},wke={class:"modal-body"},Dke={key:0},Cke={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},xke=["innerHTML"],Pke={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},Eke={key:3},Ake={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},Ike=["innerHTML"],Rke=["href"],Ske={class:"modal-footer d-flex justify-content-between"},Tke={class:"mt-4"},jke=["href"],Oke={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},Mke=["disabled"],Lke=["id"],Nke={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Fke={class:"modal-content"},Yke={class:"modal-header"},Vke={class:"modal-title",id:"modalCenterTitle"},Bke={class:"d-flex gap-1"},Uke=["data-bs-target"],qke=["href"],Hke={class:"modal-body"},zke={class:"d-flex justify-content-between mb-4"},Wke={class:"mb-3"},Kke={class:"d-flex justify-content-between"},Gke={class:"fw-light my-auto"},Qke={class:"fw-bold mx-2 my-auto"},Zke={class:"d-flex justify-content-between"},Jke={class:"fw-light my-auto"},Xke={class:"fw-bold mx-2 my-auto"},e$e={class:"d-flex justify-content-between"},t$e={class:"fw-light my-auto"},o$e={class:"fw-bold mx-2 my-auto"},a$e={class:"d-flex justify-content-between"},n$e={class:"fw-light my-auto"},s$e={class:"fw-bold mx-2 my-auto"},l$e={class:"d-flex justify-content-between"},i$e={class:"fw-light my-auto"},r$e={class:"fw-bold mx-2 my-auto"},d$e={key:0,class:"d-flex justify-content-between"},c$e={class:"fw-light my-auto"},u$e={class:"fw-bold mx-2 my-auto"},_$e={key:1,class:"d-flex justify-content-between"},m$e={class:"fw-light my-auto"},f$e={class:"fw-bold mx-2 my-auto"},h$e={class:"mb-3"},p$e={key:0,class:"d-flex justify-content-between"},v$e={class:"my-auto fw-light"},g$e=["data-bs-target"],b$e={class:"d-flex justify-content-between"},y$e={class:"my-auto fw-light"},k$e={class:"fw-bold mx-2 my-auto"},$$e={class:"d-flex justify-content-between"},w$e={class:"my-auto fw-light"},D$e={class:"fw-bold mx-2 my-auto"},C$e={class:"d-flex justify-content-between"},x$e={class:"my-auto fw-light"},P$e={class:"fw-bold mx-2 my-auto"},E$e={class:"d-flex justify-content-between"},A$e={class:"my-auto fw-light"},I$e={class:"fw-bold mx-2 my-auto"},R$e={class:"d-flex justify-content-between"},S$e={class:"my-auto fw-light"},T$e={class:"fw-bold text-success mx-2 my-auto"},j$e={class:"d-flex justify-content-between"},O$e={class:"my-auto fw-light"},M$e={class:"fw-bold mx-2 my-auto"},L$e={class:"d-flex justify-content-between"},N$e={class:"my-auto fw-light"},F$e={class:"fw-bold mx-2 my-auto"},Y$e={class:"table-responsive"},V$e={class:"table"},B$e={class:"bg-label-primary"},U$e={class:"px-2"},q$e={class:"d-flex justify-content-end"},H$e={class:"mx-2 my-auto"},z$e={class:"text-success my-auto"},W$e={key:0,class:"px-2"},K$e={class:"mx-2 my-auto"},G$e={class:"text-success my-auto"},Q$e={key:1,class:"px-2"},Z$e={class:"d-flex justify-content-end"},J$e={class:"mx-2 my-auto"},X$e={class:"bg-label-secondary px-2"},ewe={class:"d-flex justify-content-end"},twe={class:"mx-2 my-auto py-1"},owe={class:"text-success my-auto py-1"},awe=["id"],nwe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},swe={class:"modal-content"},lwe={class:"modal-header"},iwe={class:"modal-title",id:"modalCenterTitle"},rwe={class:"d-flex gap-1"},dwe=["data-bs-target"],cwe=["href"],uwe={class:"modal-body"},_we={class:"d-flex justify-content-between mb-4"},mwe={class:"mb-3"},fwe={class:"d-flex justify-content-between"},hwe={class:"fw-light my-auto"},pwe={class:"fw-bold mx-2 my-auto"},vwe={class:"d-flex justify-content-between"},gwe={class:"fw-light my-auto"},bwe={class:"fw-bold mx-2 my-auto"},ywe={class:"d-flex justify-content-between"},kwe={class:"fw-light my-auto"},$we={class:"fw-bold mx-2 my-auto"},wwe={class:"d-flex justify-content-between"},Dwe={class:"fw-light my-auto"},Cwe={class:"fw-bold mx-2 my-auto"},xwe={class:"d-flex justify-content-between"},Pwe={class:"fw-light my-auto"},Ewe={class:"fw-bold mx-2 my-auto"},Awe={key:0,class:"d-flex justify-content-between"},Iwe={class:"fw-light my-auto"},Rwe={class:"fw-bold mx-2 my-auto"},Swe={key:1,class:"d-flex justify-content-between"},Twe={class:"fw-light my-auto"},jwe={class:"fw-bold mx-2 my-auto"},Owe={class:"mb-3"},Mwe={key:0,class:"d-flex justify-content-between"},Lwe={class:"my-auto fw-light"},Nwe=["data-bs-target"],Fwe={class:"d-flex justify-content-between"},Ywe={class:"my-auto fw-light"},Vwe={class:"fw-bold mx-2 my-auto"},Bwe={class:"d-flex justify-content-between"},Uwe={class:"my-auto fw-light"},qwe={class:"fw-bold mx-2 my-auto"},Hwe={class:"d-flex justify-content-between"},zwe={class:"my-auto fw-light"},Wwe={class:"fw-bold mx-2 my-auto"},Kwe={class:"d-flex justify-content-between"},Gwe={class:"my-auto fw-light"},Qwe={class:"fw-bold mx-2 my-auto"},Zwe={class:"d-flex justify-content-between"},Jwe={class:"my-auto fw-light"},Xwe={class:"fw-bold text-success mx-2 my-auto"},e5e={class:"d-flex justify-content-between"},t5e={class:"my-auto fw-light"},o5e={class:"fw-bold mx-2 my-auto"},a5e={class:"d-flex justify-content-between"},n5e={class:"my-auto fw-light"},s5e={class:"fw-bold mx-2 my-auto"},l5e={class:"table-responsive"},i5e={class:"table"},r5e={class:"bg-label-primary"},d5e={class:"px-2"},c5e={class:"d-flex justify-content-end"},u5e={class:"mx-2 my-auto"},_5e={class:"text-success my-auto"},m5e={key:0,class:"px-2"},f5e={class:"mx-2 my-auto"},h5e={class:"text-success my-auto"},p5e={key:1,class:"px-2"},v5e={class:"d-flex justify-content-end"},g5e={class:"mx-2 my-auto"},b5e={key:2,class:"px-2"},y5e={class:"mx-2 my-auto py-1"},k5e={key:0,class:"text-success my-auto py-1"},$5e={key:1,class:"text-success my-auto py-1"},w5e={key:3,class:"px-2"},D5e={class:"d-flex justify-content-end"},C5e={class:"mx-2 my-auto py-1"},x5e={class:"d-flex justify-content-end"},P5e={class:"mx-2 my-auto py-1"},E5e={class:"d-flex justify-content-end"},A5e={class:"mx-2 my-auto py-1"},I5e={class:"bg-label-secondary px-2"},R5e={class:"d-flex justify-content-end"},S5e={class:"mx-2 my-auto py-1"},T5e={class:"text-success my-auto py-1"},j5e={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},O5e={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},M5e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},L5e={class:"modal-content"},N5e={class:"modal-header"},F5e={class:"modal-title",id:"modalCenterTitle"},Y5e={class:"modal-body"},V5e={class:"d-flex justify-content-between"},B5e={key:0},U5e={key:1,src:At,style:{width:"1.3rem"}},q5e={class:"d-flex justify-content-between my-1"},H5e={key:0},z5e={key:1,src:At,style:{width:"1.3rem"}},W5e={for:"Request Date",class:"form-label"},K5e={class:"modal-footer"},G5e={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Q5e={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},Z5e={class:"modal-dialog modal-lg",role:"document"},J5e={class:"modal-content"},X5e={class:"modal-header"},eDe={class:"modal-title",id:"modalCenterTitle"},tDe={class:"modal-body"},oDe={key:0},aDe={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},nDe=["innerHTML"],sDe={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},lDe={class:"modal-footer d-flex justify-content-between"},iDe={class:"mt-4"},rDe=["href"],dDe=["disabled"],cDe={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},uDe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_De={class:"modal-content"},mDe={class:"modal-header"},fDe={class:"modal-title",id:"modalCenterTitle"},hDe={class:"modal-body"},pDe={class:"fw-bold"},vDe={class:"modal-footer"},gDe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function bDe(o,a,s,t,c,m){const _=de("flat-pickr"),l=de("upload-attachment");return u(),f("div",b0e,[e("div",y0e,[e("h6",null,n(o.$t("10 Payment Instructions eligible for Financing")),1),e("a",k0e,n(o.$t("View All")),1)]),e("div",$0e,[e("div",w0e,[e("table",D0e,[e("thead",null,[e("tr",C0e,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),e("th",null,n(o.$t("Pay Me Early")),1)])]),e("tbody",x0e,[t.invoices.data?b("",!0):(u(),f("tr",P0e,[e("td",E0e,[e("span",A0e,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",I0e,[e("td",R0e,[e("span",S0e,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,T0e),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,j0e))]),e("td",O0e,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",M0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1)]),e("td",L0e,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",N0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",F0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),e("td",Y0e,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,V0e)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,B0e),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,U0e),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#dashboard-loading-modal"},null,-1)),e("div",q0e,[e("div",H0e,[e("div",z0e,[e("div",W0e,[e("div",K0e,[e("span",null,n(o.$t("Loading"))+"...",1),a[8]||(a[8]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",Q0e,[e("div",Z0e,[e("div",J0e,[e("h5",X0e,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[9]||(a[9]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",e2e,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",t2e,[e("div",o2e,[e("div",a2e,[e("label",n2e,n(o.$t("Invoice Amount")),1),e("h6",s2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("div",l2e,[e("label",i2e,n(o.$t("PI Amount"))+"(A)",1),e("h6",r2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",d2e,[e("label",c2e,n(o.$t("Eligible Amount")),1),e("h6",u2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",_2e,[e("div",m2e,[e("label",f2e,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",h2e,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",p2e,[e("label",v2e,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",g2e,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",b2e,[e("label",y2e,n(o.$t("Eligible For Finance")),1),e("h6",k2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",$2e,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",w2e,[e("div",D2e,[e("div",C2e,[e("label",x2e,n(o.$t("Early Payment Date")),1),e("h6",P2e,n(t.payment_date),1)]),e("div",E2e,[e("label",A2e,n(o.$t("Days to Payment")),1),e("h6",I2e,n(t.invoice_days_to_payment),1)]),e("div",R2e,[e("label",S2e,n(o.$t("Annual Discount Rate"))+"(%)",1),t.invoice_details?(u(),f("h6",T2e,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,j2e),e("h6",O2e,n(i[1]),1)]))),128)),e("div",M2e,[e("label",L2e,[le(n(o.$t("Total Fees"))+" ",1),a[10]||(a[10]=e("strong",null,"(C)",-1))]),e("h6",N2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",F2e,[e("label",Y2e,[le(n(o.$t("Tax On Fees "))+" ",1),a[11]||(a[11]=e("strong",null,"(D)",-1))]),e("h6",V2e,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",B2e,[e("label",U2e,[le(n(o.$t("Discount Amount"))+" ",1),a[12]||(a[12]=e("strong",null,"(E)",-1))]),e("h6",q2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",H2e,[e("label",z2e,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",W2e,n(t.tax_on_discount)+"%",1),a[13]||(a[13]=e("strong",null,"(F)",-1))]),e("h6",K2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])]),e("div",G2e,[Be(_,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[0]||(a[0]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",Q2e,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",Z2e,[e("div",J2e,[e("div",X2e,[e("label",eke,n(o.$t("Early Payment Date")),1),e("h6",tke,n(t.payment_date),1)]),e("div",oke,[e("label",ake,n(o.$t("Eligible Amount")),1),e("h6",nke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",ske,[e("label",lke,[le(n(o.$t("Request Amount"))+" ",1),a[14]||(a[14]=e("strong",null,"(B)",-1))]),e("h6",ike,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",rke,[e("label",dke,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[15]||(a[15]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",cke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)]),e("div",uke,[e("label",_ke,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[1]||(a[1]=i=>t.credit_to=i),onChange:a[2]||(a[2]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",mke,n(o.$t("Select Payment Account")),1),(u(!0),f(W,null,X(t.invoice_details.bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,fke))),128))],34)),[[re,t.credit_to]]):b("",!0)])])])]),e("div",hke,[e("button",pke,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:a[3]||(a[3]=i=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,vke)])])])],8,G0e)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",bke,[e("div",yke,[e("div",kke,[e("h5",$ke,n(o.$t("Request Finance")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",wke,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",Dke,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",Cke,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,xke)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",Pke,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",Eke,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",Ake,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,Ike)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../factoring/cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,Rke)):b("",!0)]),e("div",Ske,[e("small",Tke,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,jke)]),e("div",null,[e("button",Oke,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[4]||(a[4]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,Mke)])])])])],8,gke)]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",Nke,[e("div",Fke,[e("div",Yke,[e("h5",Vke,n(o.$t("Invoice Details")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Bke,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,Uke),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,qke)])]),e("div",Hke,[e("div",zke,[e("div",Wke,[e("span",Kke,[e("h5",Gke,n(o.$t("Anchor"))+":",1),e("h6",Qke,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",Zke,[e("h5",Jke,n(o.$t("Delivery Address"))+":",1),e("h6",Xke,n(t.invoice_details.delivery_address),1)]),e("span",e$e,[e("h5",t$e,n(o.$t("Debit From"))+":",1),e("h6",o$e,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",a$e,[e("h5",n$e,n(o.$t("Vendor"))+":",1),e("h6",s$e,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",l$e,[e("h5",i$e,n(o.$t("Remarks"))+":",1),e("h6",r$e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",d$e,[e("h5",c$e,n(o.$t("Credit To"))+":",1),e("h6",u$e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",_$e,[e("h5",m$e,n(o.$t("Rejection Reason"))+":",1),e("h6",f$e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",h$e,[t.invoice_details.pi_number?(u(),f("span",p$e,[e("h5",v$e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,g$e)])):b("",!0),e("span",b$e,[e("h5",y$e,n(o.$t("Invoice No."))+":",1),e("h6",k$e,n(t.invoice_details.invoice_number),1)]),e("span",$$e,[e("h5",w$e,n(o.$t("PO No."))+":",1),e("h6",D$e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",C$e,[e("h5",x$e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",P$e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",E$e,[e("h5",A$e,n(o.$t("Invoice Date."))+":",1),e("h6",I$e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",R$e,[e("h5",S$e,n(o.$t("Amount"))+":",1),e("h6",T$e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",j$e,[e("h5",O$e,n(o.$t("Status."))+":",1),e("h6",M$e,n(t.invoice_details.approval_stage),1)]),e("span",L$e,[e("h5",N$e,n(o.$t("Due Date"))+":",1),e("h6",F$e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Y$e,[e("table",V$e,[e("thead",B$e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",U$e,[e("span",q$e,[e("h6",H$e,n(o.$t("Discount"))+":",1),e("h5",z$e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",W$e,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",K$e,n(i.name),1),e("h5",G$e,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",Q$e,[e("span",Z$e,[e("h6",J$e,n(o.$t("Tax")),1),a[21]||(a[21]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",X$e,[e("span",ewe,[e("h6",twe,n(o.$t("Total")),1),e("h5",owe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Lke)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",nwe,[e("div",swe,[e("div",lwe,[e("h5",iwe,n(o.$t("Invoice Details")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",rwe,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,dwe),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,cwe)])]),e("div",uwe,[e("div",_we,[e("div",mwe,[e("span",fwe,[e("h5",hwe,n(o.$t("Anchor"))+":",1),e("h6",pwe,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",vwe,[e("h5",gwe,n(o.$t("Delivery Address"))+":",1),e("h6",bwe,n(t.invoice_details.delivery_address),1)]),e("span",ywe,[e("h5",kwe,n(o.$t("Debit From"))+":",1),e("h6",$we,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",wwe,[e("h5",Dwe,n(o.$t("Vendor"))+":",1),e("h6",Cwe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",xwe,[e("h5",Pwe,n(o.$t("Remarks"))+":",1),e("h6",Ewe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Awe,[e("h5",Iwe,n(o.$t("Credit To"))+":",1),e("h6",Rwe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Swe,[e("h5",Twe,n(o.$t("Rejection Reason"))+":",1),e("h6",jwe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Owe,[t.invoice_details.pi_number?(u(),f("span",Mwe,[e("h5",Lwe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Nwe)])):b("",!0),e("span",Fwe,[e("h5",Ywe,n(o.$t("PI No."))+":",1),e("h6",Vwe,n(t.invoice_details.pi_number),1)]),e("span",Bwe,[e("h5",Uwe,n(o.$t("PO No."))+":",1),e("h6",qwe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Hwe,[e("h5",zwe,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Wwe,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Kwe,[e("h5",Gwe,n(o.$t("Invoice Date."))+":",1),e("h6",Qwe,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Zwe,[e("h5",Jwe,n(o.$t("Amount"))+":",1),e("h6",Xwe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",e5e,[e("h5",t5e,n(o.$t("Status."))+":",1),e("h6",o5e,n(t.invoice_details.approval_stage),1)]),e("span",a5e,[e("h5",n5e,n(o.$t("Due Date"))+":",1),e("h6",s5e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",l5e,[e("table",i5e,[e("thead",r5e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",d5e,[e("span",c5e,[e("h6",u5e,n(o.$t("Discount"))+":",1),e("h5",_5e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",m5e,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",f5e,n(i.name),1),e("h5",h5e,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",p5e,[e("span",v5e,[e("h6",g5e,n(o.$t("Tax")),1),a[25]||(a[25]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",b5e,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",y5e,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",k5e," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",$5e,n(i.amount),1))]))),128))])):(u(),f("div",w5e,[e("span",D5e,[e("h6",C5e,n(o.$t("WHT Tax"))+":",1),a[26]||(a[26]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",x5e,[e("h6",P5e,n(o.$t("WHT VAT"))+":",1),a[27]||(a[27]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",E5e,[e("h6",A5e,n(o.$t("Credit Note Amount"))+":",1),a[28]||(a[28]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",I5e,[e("span",R5e,[e("h6",S5e,n(o.$t("Total")),1),e("h5",T5e,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,awe)):b("",!0)]))),128))])])]),e("button",j5e,null,512),e("div",O5e,[e("div",M5e,[e("div",L5e,[e("div",N5e,[e("h5",F5e,n(o.$t("Request Finance")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Y5e,[e("div",V5e,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",U5e)):(u(),f("span",B5e,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",q5e,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",z5e)):(u(),f("span",H5e,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",W5e,n(o.$t("I want payment on"))+":",1),Be(_,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[5]||(a[5]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",K5e,[e("button",G5e,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[6]||(a[6]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",Q5e,[e("div",Z5e,[e("div",J5e,[e("div",X5e,[e("h5",eDe,n(o.$t("Request Finance")),1),a[30]||(a[30]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",tDe,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",oDe,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",aDe,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,nDe)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",sDe,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",lDe,[e("small",iDe,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,rDe)]),e("div",null,[a[31]||(a[31]=e("button",{type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[7]||(a[7]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,dDe)])])])])]),a[33]||(a[33]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",cDe,[e("div",uDe,[e("div",_De,[e("div",mDe,[e("h5",fDe,n(o.$t("Request for Finance successful")),1)]),e("div",hDe,[a[32]||(a[32]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",pDe,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",vDe,[e("button",gDe,n(o.$t("Close")),1)])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.uploading_file_key},null,8,["invoice-details"])):b("",!0)])])}const yDe=Ue(g0e,[["render",bDe]]),kDe={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl},setup(){lt();const o=h([]),a=h({}),s=h(0),t=h(0),c=h(new Date().toLocaleDateString("en-CA")),m=h(""),_=h(H().format("DD MMM YYYY")),l=new Date().toLocaleDateString("en-CA");h(1);const r=h(0),i=h(1),d=h(0),p=h(0),v=h(0),g=h(0);h(0),h(0);const D=h(0),y=h(0),C=h(0),x=h(0),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0);h([]),h(0);const O=h(0),L=h(0);h(0);const R=h(""),P=h(!1);h(!1),h(0),h(0),h(0),h(!1),h([]),h(!1),h("");const I=Je("baseURL"),S=h({inline:!0}),F=ce=>{let ae="";switch(ce){case"created":ae="bg-label-primary";break;case"paid":ae="bg-label-success";break;case"failed":ae="bg-label-danger";break;default:ae="bg-label-primary";break}return ae},N=async()=>{await A.get(I+"factoring/cash-planner/invoices/non-eligible/data").then(ce=>{o.value=ce.data.invoices}).catch(ce=>{console.log(ce)})},U=(ce,ae)=>(ae/ce*100).toFixed(2);return Qe(()=>{N()}),{config:S,moment:H,max_date:m,min_date:c,eligibility_amount:s,pi_amount:O,discount_amount:t,days_to_payment:i,total_remittance:d,processing_fee_amount:r,invoices:o,payment_date:_,request_payment_date:l,credit_to:R,taxes_amount:L,payment_account:P,invoice_total_amount:p,invoice_taxes_amount:v,invoice_fees_amount:g,invoice_eligibility_percentage:D,invoice_eligibility_amount:y,invoice_eligibility_for_finance:C,invoice_discount_amount:x,invoice_days_to_payment:E,invoice_business_spread:k,invoice_processing_fee:w,invoice_min_financing_days:V,invoice_due_date:B,invoice_total_remmitance:T,resolvePaymentRequestStatus:F,changePage:async ce=>{await A.get(ce).then(ae=>{o.value=ae.data.invoices})},invoice_details:a,getTaxPercentage:U}}},$De={class:"card"},wDe={class:"card-header"},DDe={class:"card-body"},CDe={class:"table-responsive"},xDe={class:"table"},PDe={class:""},EDe={class:"table-border-bottom-0"},ADe={key:0},IDe={colspan:"12",class:"text-center"},RDe={class:"text-center"},SDe={key:1},TDe={colspan:"12",class:"text-center"},jDe={class:"text-center"},ODe=["data-bs-target"],MDe={href:"javascript:;",class:"dropdown-item"},LDe={class:""},NDe={class:""},FDe={class:"text-success"},YDe={class:"text-success"},VDe=["id"],BDe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},UDe={class:"modal-content"},qDe={class:"modal-header"},HDe={class:"modal-title",id:"modalCenterTitle"},zDe={class:"d-flex"},WDe={key:0,class:"d-flex"},KDe=["href"],GDe=["href"],QDe={class:"modal-body"},ZDe={class:"d-flex justify-content-between mb-4"},JDe={class:"mb-3"},XDe={class:"d-flex justify-content-between"},e3e={class:"fw-light my-auto"},t3e={class:"fw-bold mx-2 my-auto"},o3e={class:"d-flex justify-content-between"},a3e={class:"fw-light my-auto"},n3e={class:"fw-bold mx-2 my-auto"},s3e={class:"d-flex justify-content-between"},l3e={class:"fw-light my-auto"},i3e={class:"fw-bold mx-2 my-auto"},r3e={class:"d-flex justify-content-between"},d3e={class:"fw-light my-auto"},c3e={class:"fw-bold mx-2 my-auto"},u3e={class:"d-flex justify-content-between"},_3e={class:"fw-light my-auto"},m3e={class:"fw-bold mx-2 my-auto"},f3e={key:0,class:"d-flex justify-content-between"},h3e={class:"fw-light my-auto"},p3e={class:"fw-bold mx-2 my-auto"},v3e={key:1,class:"d-flex justify-content-between"},g3e={class:"fw-light my-auto"},b3e={class:"fw-bold mx-2 my-auto"},y3e={class:"mb-3"},k3e={key:0,class:"d-flex justify-content-between"},$3e={class:"my-auto fw-light"},w3e=["data-bs-target"],D3e={class:"d-flex justify-content-between"},C3e={class:"my-auto fw-light"},x3e={class:"fw-bold mx-2 my-auto"},P3e={class:"d-flex justify-content-between"},E3e={class:"my-auto fw-light"},A3e={class:"fw-bold mx-2 my-auto"},I3e={class:"d-flex justify-content-between"},R3e={class:"my-auto fw-light"},S3e={class:"fw-bold mx-2 my-auto"},T3e={class:"d-flex justify-content-between"},j3e={class:"my-auto fw-light"},O3e={class:"fw-bold mx-2 my-auto"},M3e={class:"d-flex justify-content-between"},L3e={class:"my-auto fw-light"},N3e={class:"fw-bold text-success mx-2 my-auto"},F3e={class:"d-flex justify-content-between"},Y3e={class:"my-auto fw-light"},V3e={class:"fw-bold mx-2 my-auto"},B3e={class:"d-flex justify-content-between"},U3e={class:"my-auto fw-light"},q3e={class:"fw-bold mx-2 my-auto"},H3e={class:"table-responsive"},z3e={class:"table"},W3e={class:"bg-label-primary"},K3e={class:"px-2"},G3e={class:"d-flex justify-content-end"},Q3e={class:"mx-2 my-auto"},Z3e={class:"text-success my-auto"},J3e={key:0,class:"px-2"},X3e={class:"mx-2 my-auto"},eCe={class:"text-success my-auto"},tCe={key:1,class:"px-2"},oCe={class:"d-flex justify-content-end"},aCe={class:"mx-2 my-auto"},nCe={class:"bg-label-secondary px-2"},sCe={class:"d-flex justify-content-end"},lCe={class:"mx-2 my-auto py-1"},iCe={class:"text-success my-auto py-1"},rCe=["id"],dCe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},cCe={class:"modal-content"},uCe={class:"modal-header"},_Ce={class:"modal-title",id:"modalCenterTitle"},mCe={class:"d-flex"},fCe={key:0,class:"d-flex"},hCe=["href"],pCe=["href"],vCe={class:"modal-body"},gCe={class:"d-flex justify-content-between mb-4"},bCe={class:"mb-3"},yCe={class:"d-flex justify-content-between"},kCe={class:"fw-light my-auto"},$Ce={class:"fw-bold mx-2 my-auto"},wCe={class:"d-flex justify-content-between"},DCe={class:"fw-light my-auto"},CCe={class:"fw-bold mx-2 my-auto"},xCe={class:"d-flex justify-content-between"},PCe={class:"fw-light my-auto"},ECe={class:"fw-bold mx-2 my-auto"},ACe={class:"d-flex justify-content-between"},ICe={class:"fw-light my-auto"},RCe={class:"fw-bold mx-2 my-auto"},SCe={class:"d-flex justify-content-between"},TCe={class:"fw-light my-auto"},jCe={class:"fw-bold mx-2 my-auto"},OCe={key:0,class:"d-flex justify-content-between"},MCe={class:"fw-light my-auto"},LCe={class:"fw-bold mx-2 my-auto"},NCe={key:1,class:"d-flex justify-content-between"},FCe={class:"fw-light my-auto"},YCe={class:"fw-bold mx-2 my-auto"},VCe={class:"mb-3"},BCe={key:0,class:"d-flex justify-content-between"},UCe={class:"my-auto fw-light"},qCe=["data-bs-target"],HCe={class:"d-flex justify-content-between"},zCe={class:"my-auto fw-light"},WCe={class:"fw-bold mx-2 my-auto"},KCe={class:"d-flex justify-content-between"},GCe={class:"my-auto fw-light"},QCe={class:"fw-bold mx-2 my-auto"},ZCe={class:"d-flex justify-content-between"},JCe={class:"my-auto fw-light"},XCe={class:"fw-bold mx-2 my-auto"},exe={class:"d-flex justify-content-between"},txe={class:"my-auto fw-light"},oxe={class:"fw-bold mx-2 my-auto"},axe={class:"d-flex justify-content-between"},nxe={class:"my-auto fw-light"},sxe={class:"fw-bold text-success mx-2 my-auto"},lxe={class:"d-flex justify-content-between"},ixe={class:"my-auto fw-light"},rxe={class:"fw-bold mx-2 my-auto"},dxe={class:"d-flex justify-content-between"},cxe={class:"my-auto fw-light"},uxe={class:"fw-bold mx-2 my-auto"},_xe={class:"table-responsive"},mxe={class:"table"},fxe={class:"bg-label-primary"},hxe={class:"px-2"},pxe={class:"d-flex justify-content-end"},vxe={class:"mx-2 my-auto"},gxe={class:"text-success my-auto"},bxe={key:0,class:"px-2"},yxe={class:"mx-2 my-auto"},kxe={class:"text-success my-auto"},$xe={key:1,class:"px-2"},wxe={class:"d-flex justify-content-end"},Dxe={class:"mx-2 my-auto"},Cxe={key:2,class:"px-2"},xxe={class:"mx-2 my-auto py-1"},Pxe={key:0,class:"text-success my-auto py-1"},Exe={key:1,class:"text-success my-auto py-1"},Axe={key:3,class:"px-2"},Ixe={class:"d-flex justify-content-end"},Rxe={class:"mx-2 my-auto py-1"},Sxe={class:"d-flex justify-content-end"},Txe={class:"mx-2 my-auto py-1"},jxe={class:"d-flex justify-content-end"},Oxe={class:"mx-2 my-auto py-1"},Mxe={class:"bg-label-secondary px-2"},Lxe={class:"d-flex justify-content-end"},Nxe={class:"mx-2 my-auto py-1"},Fxe={class:"text-success my-auto py-1"};function Yxe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",$De,[e("div",wDe,[e("h6",null,n(o.$t("Payments Instructions Not Eligible for Financing")),1)]),e("div",DDe,[Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",CDe,[e("table",xDe,[e("thead",null,[e("tr",PDe,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),a[0]||(a[0]=e("th",null,null,-1))])]),e("tbody",EDe,[t.invoices.data?b("",!0):(u(),f("tr",ADe,[e("td",IDe,[e("span",RDe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",SDe,[e("td",TDe,[e("span",jDe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+l.id},[e("a",MDe,n(l.invoice_number),1)],8,ODe),e("td",LDe,n(l.anchor.name),1),e("td",NDe,n(t.moment(l.due_date).format("D MMM YYYY")),1),e("td",FDe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((l.total+l.total_taxes-l.total_fees-l.total_discount).toFixed(2))),1)]),e("td",YDe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.eligible_for_finance.toFixed(2))),1)]),e("td",null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",BDe,[e("div",UDe,[e("div",qDe,[e("h5",HDe,n(o.$t("Invoice Details")),1),a[3]||(a[3]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",zDe,[t.invoice_details&&t.invoice_details.media.length>0?(u(),f("div",WDe,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[1]||(a[1]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,KDe))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[2]||(a[2]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,GDe)])]),e("div",QDe,[e("div",ZDe,[e("div",JDe,[e("span",XDe,[e("h5",e3e,n(o.$t("Anchor"))+":",1),e("h6",t3e,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",o3e,[e("h5",a3e,n(o.$t("Delivery Address"))+":",1),e("h6",n3e,n(t.invoice_details.delivery_address),1)]),e("span",s3e,[e("h5",l3e,n(o.$t("Debit From"))+":",1),e("h6",i3e,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",r3e,[e("h5",d3e,n(o.$t("Vendor"))+":",1),e("h6",c3e,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",u3e,[e("h5",_3e,n(o.$t("Remarks"))+":",1),e("h6",m3e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",f3e,[e("h5",h3e,n(o.$t("Credit To"))+":",1),e("h6",p3e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",v3e,[e("h5",g3e,n(o.$t("Rejection Reason"))+":",1),e("h6",b3e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",y3e,[t.invoice_details.pi_number?(u(),f("span",k3e,[e("h5",$3e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,w3e)])):b("",!0),e("span",D3e,[e("h5",C3e,n(o.$t("Invoice No."))+":",1),e("h6",x3e,n(t.invoice_details.invoice_number),1)]),e("span",P3e,[e("h5",E3e,n(o.$t("PO No."))+":",1),e("h6",A3e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",I3e,[e("h5",R3e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",S3e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",T3e,[e("h5",j3e,n(o.$t("Invoice Date."))+":",1),e("h6",O3e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",M3e,[e("h5",L3e,n(o.$t("Amount"))+":",1),e("h6",N3e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",F3e,[e("h5",Y3e,n(o.$t("Status."))+":",1),e("h6",V3e,n(t.invoice_details.approval_stage),1)]),e("span",B3e,[e("h5",U3e,n(o.$t("Due Date"))+":",1),e("h6",q3e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",H3e,[e("table",z3e,[e("thead",W3e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",K3e,[e("span",G3e,[e("h6",Q3e,n(o.$t("Discount"))+":",1),e("h5",Z3e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",J3e,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",X3e,n(r.name),1),e("h5",eCe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",tCe,[e("span",oCe,[e("h6",aCe,n(o.$t("Tax")),1),a[4]||(a[4]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",nCe,[e("span",sCe,[e("h6",lCe,n(o.$t("Total")),1),e("h5",iCe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,VDe)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",dCe,[e("div",cCe,[e("div",uCe,[e("h5",_Ce,n(o.$t("Invoice Details")),1),a[7]||(a[7]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",mCe,[t.invoice_details&&t.invoice_details.media.length>0?(u(),f("div",fCe,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[5]||(a[5]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,hCe))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[6]||(a[6]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,pCe)])]),e("div",vCe,[e("div",gCe,[e("div",bCe,[e("span",yCe,[e("h5",kCe,n(o.$t("Anchor"))+":",1),e("h6",$Ce,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",wCe,[e("h5",DCe,n(o.$t("Delivery Address"))+":",1),e("h6",CCe,n(t.invoice_details.delivery_address),1)]),e("span",xCe,[e("h5",PCe,n(o.$t("Debit From"))+":",1),e("h6",ECe,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",ACe,[e("h5",ICe,n(o.$t("Vendor"))+":",1),e("h6",RCe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",SCe,[e("h5",TCe,n(o.$t("Remarks"))+":",1),e("h6",jCe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",OCe,[e("h5",MCe,n(o.$t("Credit To"))+":",1),e("h6",LCe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",NCe,[e("h5",FCe,n(o.$t("Rejection Reason"))+":",1),e("h6",YCe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",VCe,[t.invoice_details.pi_number?(u(),f("span",BCe,[e("h5",UCe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,qCe)])):b("",!0),e("span",HCe,[e("h5",zCe,n(o.$t("PI No."))+":",1),e("h6",WCe,n(t.invoice_details.pi_number),1)]),e("span",KCe,[e("h5",GCe,n(o.$t("PO No."))+":",1),e("h6",QCe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",ZCe,[e("h5",JCe,n(o.$t("Payment / OD Account No."))+":",1),e("h6",XCe,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",exe,[e("h5",txe,n(o.$t("Invoice Date."))+":",1),e("h6",oxe,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",axe,[e("h5",nxe,n(o.$t("Amount"))+":",1),e("h6",sxe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",lxe,[e("h5",ixe,n(o.$t("Status."))+":",1),e("h6",rxe,n(t.invoice_details.approval_stage),1)]),e("span",dxe,[e("h5",cxe,n(o.$t("Due Date"))+":",1),e("h6",uxe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",_xe,[e("table",mxe,[e("thead",fxe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])]),e("div",hxe,[e("span",pxe,[e("h6",vxe,n(o.$t("Discount"))+":",1),e("h5",gxe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",bxe,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",yxe,n(r.name),1),e("h5",kxe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",$xe,[e("span",wxe,[e("h6",Dxe,n(o.$t("Tax")),1),a[8]||(a[8]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",Cxe,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",xxe,n(r.name),1),r.name!="Credit Note Amount"&&r.name!="Credit Note"&&r.name!="Credit Amount"?(u(),f("h5",Pxe," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",Exe,n(r.amount),1))]))),128))])):(u(),f("div",Axe,[e("span",Ixe,[e("h6",Rxe,n(o.$t("WHT Tax"))+":",1),a[9]||(a[9]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",Sxe,[e("h6",Txe,n(o.$t("WHT VAT"))+":",1),a[10]||(a[10]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",jxe,[e("h6",Oxe,n(o.$t("Credit Note Amount"))+":",1),a[11]||(a[11]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",Mxe,[e("span",Lxe,[e("h6",Nxe,n(o.$t("Total")),1),e("h5",Fxe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,rCe)):b("",!0)])]))),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const Vxe=Ue(kDe,[["render",Yxe]]),Bxe={name:"FinanceRequests",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=lt(),c=h(""),m=h(""),_=h(""),l=h(50),r=h(""),i=async()=>{await A.get(o+"factoring/financing-requests/data",{params:{buyer:_.value,invoice_number:c.value,status:m.value,per_page:l.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)})};Qe(()=>{i()});const d=k=>{let w="";switch(k){case"Pending Maker":w="bg-label-primary";break;case"Pending Checker":w="bg-label-warning";break;case"Overdue":w="bg-label-danger";break;case"Created":w="bg-label-secondary";break;case"Pending":w="bg-label-secondary";break;case"Approved":w="bg-label-success";break;case"Paid":w="bg-label-success";break;case"Failed":w="bg-label-danger";break;case"Rejected":w="bg-label-danger";break;case"Past Due":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},p=(k,w)=>(w/k*100).toFixed(2),v=k=>{let w="";switch(k){case"pending":w="bg-label-primary";break;case"paid":w="bg-label-primary";break;case"closed":w="bg-label-success";break;case"denied":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},g=k=>{let w="";switch(k){case"created":w="bg-label-primary";break;case"approved":w="bg-label-success";break;case"paid":w="bg-label-success";break;case"failed":w="bg-label-danger";break;case"rejected":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},D=async k=>{await A.get(k+"&per_page="+l.value,{params:{buyer:_.value,invoice_number:c.value,status:m.value}}).then(w=>{a.value=w.data.finance_requests})};return ot([l],async([k])=>{await A.get(o+"factoring/financing-requests/data",{params:{per_page:k}}).then(w=>{a.value=w.data.finance_requests}).catch(w=>{console.log(w)})}),{moment:H,finance_requests:a,invoice_number_search:c,status_search:m,buyer_search:_,per_page:l,rejection_reason:r,getTaxPercentage:p,resolveRequestStatus:d,changePage:D,resolveFinancingStatus:v,resolvePaymentRequestStatus:g,filter:async()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/financing-requests/data",{params:{buyer:_.value,invoice_number:c.value,status:m.value,per_page:l.value}}).then(w=>{a.value=w.data.finance_requests}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let k=$(".ti-refresh").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",await A.get(o+"factoring/financing-requests/data",{params:{per_page:l.value}}).then(w=>{a.value=w.data.finance_requests}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-refresh"></i>')})},invoice_details:s,showInvoice:async(k,w)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+k+"/details").then(T=>{s.value=T.data,bt(()=>{document.getElementById(w).click()})}).catch(T=>{console.log(T)})},updateApprovalStatus:(k,w)=>{const T=new FormData;T.append("status",w),T.append("rejection_reason",r.value),A.post(o+"factoring/financing-requests/"+k+"/status/update",T).then(()=>{t.success("Request updated successfully"),w=="rejected"?document.getElementById("reject-request-close-btn-"+k).click():document.getElementById("approve-request-close-btn-"+k).click(),i()}).catch(V=>{console.log(V),t.error("An error occurred while updating the request")})}}}},Uxe={class:"card p-0"},qxe={class:"card-header d-flex justify-content-between"},Hxe={class:"d-flex flex-wrap gap-1"},zxe={class:""},Wxe={for:"buyer",class:"form-label"},Kxe={class:""},Gxe={for:"Invoice Number",class:"form-label"},Qxe={class:""},Zxe={for:"Status",class:"form-label"},Jxe={value:""},Xxe={value:"created"},ePe={value:"approved"},tPe={value:"paid"},oPe={value:"denied"},aPe={class:"table-search-btn"},nPe={class:"table-clear-btn"},sPe={class:"d-flex align-items-end"},lPe={style:{"margin-right":"10px"}},iPe={class:"card-body"},rPe={class:"table-responsive"},dPe={class:"table"},cPe={class:"text-nowrap"},uPe={class:"px-1"},_Pe={class:"table-border-bottom-0"},mPe={key:0},fPe={colspan:"12",class:"text-center"},hPe={class:"text-center"},pPe={key:1},vPe={colspan:"12",class:"text-center"},gPe={class:"text-center"},bPe=["data-bs-target"],yPe=["onClick"],kPe=["onClick"],$Pe={class:"text-success"},wPe=["data-bs-target"],DPe=["data-bs-target"],CPe=["id","data-bs-target"],xPe=["id","data-bs-target"],PPe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},EPe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},APe={class:"modal-content"},IPe={class:"modal-body"},RPe={class:"d-flex justify-content-center"},SPe=["id"],TPe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jPe={class:"modal-content"},OPe={class:"modal-header"},MPe={class:"modal-title",id:"modalCenterTitle"},LPe=["id"],NPe=["onSubmit"],FPe={class:"modal-body"},YPe={class:"modal-footer"},VPe={class:"btn btn-primary",type:"submit"},BPe=["id"],UPe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},qPe={class:"modal-content"},HPe={class:"modal-header"},zPe={class:"modal-title",id:"modalCenterTitle"},WPe=["id"],KPe=["onSubmit"],GPe={class:"modal-body"},QPe={class:"row mb-1"},ZPe={class:"form-group"},JPe={for:""},XPe={class:"modal-footer"},e4e={class:"btn btn-primary",type:"submit"},t4e=["id"],o4e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},a4e={class:"modal-content"},n4e={class:"modal-header"},s4e={class:"modal-title",id:"modalCenterTitle"},l4e={class:"modal-body"},i4e={class:"row mb-1"},r4e={class:"col-6 my-1"},d4e={class:"col-6"},c4e={class:"col-6 my-1"},u4e={class:"col-6"},_4e={class:"col-6 my-1"},m4e={class:"col-6"},f4e={class:"col-6 my-1"},h4e=["onClick"],p4e={class:"col-6 my-1"},v4e={class:"col-6 text-success"},g4e={class:"col-6 my-1"},b4e={class:"col-6"},y4e={class:"col-6 my-1"},k4e={class:"col-6 text-success"},$4e={class:"col-6 my-1"},w4e={class:"col-6 text-success"},D4e={class:"col-6 my-1"},C4e={class:"col-6"},x4e={class:"col-6 my-1"},P4e={class:"col-6"},E4e={class:"col-6 my-1"},A4e={class:"col-6"},I4e={class:"col-6 my-1"},R4e={class:"col-6"},S4e={class:"col-6 my-1"},T4e={class:"col-6"},j4e={key:0,class:"col-12"},O4e={key:0,class:"row"},M4e={key:0,class:"col-6 my-1 d-flex"},L4e={class:""},N4e={key:0,class:""},F4e={key:1,class:"col-6 text-success"},Y4e={key:1,class:"row"},V4e={key:0,class:"col-6 my-1 d-flex"},B4e={class:""},U4e={key:0,class:""},q4e={key:1,class:"col-6 text-success"},H4e={class:"col-6 my-1"},z4e={class:"col-6 text-success"},W4e={class:"col-6 my-1"},K4e={class:"col-6"},G4e={class:"modal-footer"},Q4e={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function Z4e(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Uxe,[e("div",qxe,[e("div",Hxe,[e("div",zxe,[e("label",Wxe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",Kxe,[e("label",Gxe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Qxe,[e("label",Zxe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",Jxe,n(o.$t("Status")),1),e("option",Xxe,n(o.$t("Created")),1),e("option",ePe,n(o.$t("Approved")),1),e("option",tPe,n(o.$t("Paid")),1),e("option",oPe,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",aPe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",nPe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",sPe,[e("div",lPe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])])])]),e("div",iPe,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",rPe,[e("table",dPe,[e("thead",null,[e("tr",cPe,[e("th",uPe,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",_Pe,[t.finance_requests.data?b("",!0):(u(),f("tr",mPe,[e("td",fPe,[e("span",hPe,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",pPe,[e("td",vPe,[e("span",gPe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,bPe),e("td",null,[e("span",null,n(i.buyer_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,yPe),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.pi_number),9,kPe),e("td",$Pe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[i.requires_company_approval?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus("Pending")])},n(o.$t("Pending")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,wPe)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,DPe)):b("",!0),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,CPe),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,xPe),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",PPe,[e("div",EPe,[e("div",APe,[e("div",IPe,[e("div",RPe,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",TPe,[e("div",jPe,[e("div",OPe,[e("h5",MPe,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,LPe)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",FPe,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",YPe,[e("button",VPe,n(o.$t("Submit")),1)])],40,NPe)])])],8,SPe),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",UPe,[e("div",qPe,[e("div",HPe,[e("h5",zPe,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,WPe)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",GPe,[e("div",QPe,[e("div",ZPe,[e("label",JPe,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[Q,t.rejection_reason]])])])]),e("div",XPe,[e("button",e4e,n(o.$t("Submit")),1)])],40,KPe)])])],8,BPe),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",o4e,[e("div",a4e,[e("div",n4e,[e("h5",s4e,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",l4e,[e("div",i4e,[e("div",r4e,n(o.$t("Anchor")),1),e("div",d4e,[e("span",null,n(i.anchor_name),1)]),e("div",c4e,n(o.$t("Program Name")),1),e("div",u4e,n(i.program_name),1),e("div",_4e,n(o.$t("Invoice / Unique Reference Number")),1),e("div",m4e,n(i.invoice_number),1),e("div",f4e,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,h4e),e("div",p4e,n(o.$t("PI Amount")),1),e("div",v4e,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",g4e,n(o.$t("Eligibility"))+" (%)",1),e("div",b4e,n(i.eligibility),1),e("div",y4e,n(o.$t("Eligible Payment Amount")),1),e("div",k4e,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",$4e,n(o.$t("Requested Payment Amount")),1),e("div",w4e,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",D4e,n(o.$t("Credit to Account No"))+".:",1),e("div",C4e,n(i.payment_accounts[0].account),1),e("div",x4e,n(o.$t("Request Date")),1),e("div",P4e,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",E4e,n(o.$t("Requested Disbursement Date")),1),e("div",A4e,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",I4e,n(o.$t("Due Date")),1),e("div",R4e,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",S4e,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",T4e,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",j4e,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("div",{key:d.id},[i.discount_charge_type=="Front Ended"?(u(),f("div",O4e,[d.type!="Vendor Account"?(u(),f("div",M4e,[e("div",L4e,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",N4e," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"?(u(),f("div",F4e,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)])):(u(),f("div",Y4e,[d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",V4e,[e("div",B4e,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",U4e," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",q4e,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)]))]))),128))])):b("",!0),e("div",H4e,n(o.$t("Net Disbursal Total")),1),e("div",z4e,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",W4e,n(o.$t("Status")),1),e("div",K4e,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",G4e,[e("button",Q4e,n(o.$t("Close")),1)])])])],8,t4e)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const J4e=Ue(Bxe,[["render",Z4e]]),X4e={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},eEe={class:"table"},tEe={class:"table-border"},oEe={class:""},aEe=["value"],nEe={class:""},sEe=["value"],lEe={class:""},iEe=["value"],rEe={class:""},dEe=["value"],cEe={class:""},uEe=["value"],_Ee={class:""},mEe=["value"];function fEe(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",eEe,[e("tbody",tEe,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",oEe,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,aEe)])]),e("td",null,[e("div",nEe,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,sEe)])]),e("td",null,[e("div",lEe,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,iEe)])]),e("td",null,[e("div",rEe,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,dEe)])]),e("td",null,[e("div",cEe,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,uEe)])]),e("td",null,[e("div",_Ee,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,mEe)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const hEe=Ue(X4e,[["render",fEe]]);var H5={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(o,a){(function(t,c){o.exports=c()})(typeof self<"u"?self:va,function(){return function(s){var t={};function c(m){if(t[m])return t[m].exports;var _=t[m]={i:m,l:!1,exports:{}};return s[m].call(_.exports,_,_.exports,c),_.l=!0,_.exports}return c.m=s,c.c=t,c.d=function(m,_,l){c.o(m,_)||Object.defineProperty(m,_,{configurable:!1,enumerable:!0,get:l})},c.n=function(m){var _=m&&m.__esModule?function(){return m.default}:function(){return m};return c.d(_,"a",_),_},c.o=function(m,_){return Object.prototype.hasOwnProperty.call(m,_)},c.p="",c(c.s=109)}([function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(17),_=c(18),l=c(19),r=c(45),i=c(46),d=c(47),p=c(48),v=c(49),g=c(12),D=c(32),y=c(33),C=c(31),x=c(1),E={Scope:x.Scope,create:x.create,find:x.find,query:x.query,register:x.register,Container:m.default,Format:_.default,Leaf:l.default,Embed:p.default,Scroll:r.default,Block:d.default,Inline:i.default,Text:v.default,Attributor:{Attribute:g.default,Class:D.default,Style:y.default,Store:C.default}};t.default=E},function(s,t,c){var m=this&&this.__extends||function(){var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,E){x.__proto__=E}||function(x,E){for(var k in E)E.hasOwnProperty(k)&&(x[k]=E[k])};return function(x,E){C(x,E);function k(){this.constructor=x}x.prototype=E===null?Object.create(E):(k.prototype=E.prototype,new k)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=function(C){m(x,C);function x(E){var k=this;return E="[Parchment] "+E,k=C.call(this,E)||this,k.message=E,k.name=k.constructor.name,k}return x}(Error);t.ParchmentError=_;var l={},r={},i={},d={};t.DATA_KEY="__blot";var p;(function(C){C[C.TYPE=3]="TYPE",C[C.LEVEL=12]="LEVEL",C[C.ATTRIBUTE=13]="ATTRIBUTE",C[C.BLOT=14]="BLOT",C[C.INLINE=7]="INLINE",C[C.BLOCK=11]="BLOCK",C[C.BLOCK_BLOT=10]="BLOCK_BLOT",C[C.INLINE_BLOT=6]="INLINE_BLOT",C[C.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",C[C.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",C[C.ANY=15]="ANY"})(p=t.Scope||(t.Scope={}));function v(C,x){var E=D(C);if(E==null)throw new _("Unable to create "+C+" blot");var k=E,w=C instanceof Node||C.nodeType===Node.TEXT_NODE?C:k.create(x);return new k(w,x)}t.create=v;function g(C,x){return x===void 0&&(x=!1),C==null?null:C[t.DATA_KEY]!=null?C[t.DATA_KEY].blot:x?g(C.parentNode,x):null}t.find=g;function D(C,x){x===void 0&&(x=p.ANY);var E;if(typeof C=="string")E=d[C]||l[C];else if(C instanceof Text||C.nodeType===Node.TEXT_NODE)E=d.text;else if(typeof C=="number")C&p.LEVEL&p.BLOCK?E=d.block:C&p.LEVEL&p.INLINE&&(E=d.inline);else if(C instanceof HTMLElement){var k=(C.getAttribute("class")||"").split(/\s+/);for(var w in k)if(E=r[k[w]],E)break;E=E||i[C.tagName]}return E==null?null:x&p.LEVEL&E.scope&&x&p.TYPE&E.scope?E:null}t.query=D;function y(){for(var C=[],x=0;x<arguments.length;x++)C[x]=arguments[x];if(C.length>1)return C.map(function(w){return y(w)});var E=C[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new _("Invalid definition");if(E.blotName==="abstract")throw new _("Cannot register abstract class");if(d[E.blotName||E.attrName]=E,typeof E.keyName=="string")l[E.keyName]=E;else if(E.className!=null&&(r[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(w){return w.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var k=Array.isArray(E.tagName)?E.tagName:[E.tagName];k.forEach(function(w){(i[w]==null||E.className==null)&&(i[w]=E)})}return E}t.register=y},function(s,t,c){var m=c(51),_=c(11),l=c(3),r=c(20),i="\0",d=function(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]};d.prototype.insert=function(p,v){var g={};return p.length===0?this:(g.insert=p,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(g.attributes=v),this.push(g))},d.prototype.delete=function(p){return p<=0?this:this.push({delete:p})},d.prototype.retain=function(p,v){if(p<=0)return this;var g={retain:p};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(g.attributes=v),this.push(g)},d.prototype.push=function(p){var v=this.ops.length,g=this.ops[v-1];if(p=l(!0,{},p),typeof g=="object"){if(typeof p.delete=="number"&&typeof g.delete=="number")return this.ops[v-1]={delete:g.delete+p.delete},this;if(typeof g.delete=="number"&&p.insert!=null&&(v-=1,g=this.ops[v-1],typeof g!="object"))return this.ops.unshift(p),this;if(_(p.attributes,g.attributes)){if(typeof p.insert=="string"&&typeof g.insert=="string")return this.ops[v-1]={insert:g.insert+p.insert},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof g.retain=="number")return this.ops[v-1]={retain:g.retain+p.retain},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this}}return v===this.ops.length?this.ops.push(p):this.ops.splice(v,0,p),this},d.prototype.chop=function(){var p=this.ops[this.ops.length-1];return p&&p.retain&&!p.attributes&&this.ops.pop(),this},d.prototype.filter=function(p){return this.ops.filter(p)},d.prototype.forEach=function(p){this.ops.forEach(p)},d.prototype.map=function(p){return this.ops.map(p)},d.prototype.partition=function(p){var v=[],g=[];return this.forEach(function(D){var y=p(D)?v:g;y.push(D)}),[v,g]},d.prototype.reduce=function(p,v){return this.ops.reduce(p,v)},d.prototype.changeLength=function(){return this.reduce(function(p,v){return v.insert?p+r.length(v):v.delete?p-v.delete:p},0)},d.prototype.length=function(){return this.reduce(function(p,v){return p+r.length(v)},0)},d.prototype.slice=function(p,v){p=p||0,typeof v!="number"&&(v=1/0);for(var g=[],D=r.iterator(this.ops),y=0;y<v&&D.hasNext();){var C;y<p?C=D.next(p-y):(C=D.next(v-y),g.push(C)),y+=r.length(C)}return new d(g)},d.prototype.compose=function(p){var v=r.iterator(this.ops),g=r.iterator(p.ops),D=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var C=y.retain;v.peekType()==="insert"&&v.peekLength()<=C;)C-=v.peekLength(),D.push(v.next());y.retain-C>0&&g.next(y.retain-C)}for(var x=new d(D);v.hasNext()||g.hasNext();)if(g.peekType()==="insert")x.push(g.next());else if(v.peekType()==="delete")x.push(v.next());else{var E=Math.min(v.peekLength(),g.peekLength()),k=v.next(E),w=g.next(E);if(typeof w.retain=="number"){var T={};typeof k.retain=="number"?T.retain=E:T.insert=k.insert;var V=r.attributes.compose(k.attributes,w.attributes,typeof k.retain=="number");if(V&&(T.attributes=V),x.push(T),!g.hasNext()&&_(x.ops[x.ops.length-1],T)){var B=new d(v.rest());return x.concat(B).chop()}}else typeof w.delete=="number"&&typeof k.retain=="number"&&x.push(w)}return x.chop()},d.prototype.concat=function(p){var v=new d(this.ops.slice());return p.ops.length>0&&(v.push(p.ops[0]),v.ops=v.ops.concat(p.ops.slice(1))),v},d.prototype.diff=function(p,v){if(this.ops===p.ops)return new d;var g=[this,p].map(function(E){return E.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:i;var w=E===p?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),D=new d,y=m(g[0],g[1],v),C=r.iterator(this.ops),x=r.iterator(p.ops);return y.forEach(function(E){for(var k=E[1].length;k>0;){var w=0;switch(E[0]){case m.INSERT:w=Math.min(x.peekLength(),k),D.push(x.next(w));break;case m.DELETE:w=Math.min(k,C.peekLength()),C.next(w),D.delete(w);break;case m.EQUAL:w=Math.min(C.peekLength(),x.peekLength(),k);var T=C.next(w),V=x.next(w);_(T.insert,V.insert)?D.retain(w,r.attributes.diff(T.attributes,V.attributes)):D.push(V).delete(w);break}k-=w}}),D.chop()},d.prototype.eachLine=function(p,v){v=v||`
`;for(var g=r.iterator(this.ops),D=new d,y=0;g.hasNext();){if(g.peekType()!=="insert")return;var C=g.peek(),x=r.length(C)-g.peekLength(),E=typeof C.insert=="string"?C.insert.indexOf(v,x)-x:-1;if(E<0)D.push(g.next());else if(E>0)D.push(g.next(E));else{if(p(D,g.next(1).attributes||{},y)===!1)return;y+=1,D=new d}}D.length()>0&&p(D,{},y)},d.prototype.transform=function(p,v){if(v=!!v,typeof p=="number")return this.transformPosition(p,v);for(var g=r.iterator(this.ops),D=r.iterator(p.ops),y=new d;g.hasNext()||D.hasNext();)if(g.peekType()==="insert"&&(v||D.peekType()!=="insert"))y.retain(r.length(g.next()));else if(D.peekType()==="insert")y.push(D.next());else{var C=Math.min(g.peekLength(),D.peekLength()),x=g.next(C),E=D.next(C);if(x.delete)continue;E.delete?y.push(E):y.retain(C,r.attributes.transform(x.attributes,E.attributes,v))}return y.chop()},d.prototype.transformPosition=function(p,v){v=!!v;for(var g=r.iterator(this.ops),D=0;g.hasNext()&&D<=p;){var y=g.peekLength(),C=g.peekType();if(g.next(),C==="delete"){p-=Math.min(y,p-D);continue}else C==="insert"&&(D<p||!v)&&(p+=y);D+=y}return p},s.exports=d},function(s,t){var c=Object.prototype.hasOwnProperty,m=Object.prototype.toString,_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=function(g){return typeof Array.isArray=="function"?Array.isArray(g):m.call(g)==="[object Array]"},i=function(g){if(!g||m.call(g)!=="[object Object]")return!1;var D=c.call(g,"constructor"),y=g.constructor&&g.constructor.prototype&&c.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!D&&!y)return!1;var C;for(C in g);return typeof C>"u"||c.call(g,C)},d=function(g,D){_&&D.name==="__proto__"?_(g,D.name,{enumerable:!0,configurable:!0,value:D.newValue,writable:!0}):g[D.name]=D.newValue},p=function(g,D){if(D==="__proto__")if(c.call(g,D)){if(l)return l(g,D).value}else return;return g[D]};s.exports=function v(){var g,D,y,C,x,E,k=arguments[0],w=1,T=arguments.length,V=!1;for(typeof k=="boolean"&&(V=k,k=arguments[1]||{},w=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});w<T;++w)if(g=arguments[w],g!=null)for(D in g)y=p(k,D),C=p(g,D),k!==C&&(V&&C&&(i(C)||(x=r(C)))?(x?(x=!1,E=y&&r(y)?y:[]):E=y&&i(y)?y:{},d(k,{name:D,newValue:v(V,E,C)})):typeof C<"u"&&d(k,{name:D,newValue:C}));return k}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var m=function(){function P(I,S){for(var F=0;F<S.length;F++){var N=S[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}return function(I,S,F){return S&&P(I.prototype,S),F&&P(I,F),I}}(),_=function P(I,S,F){I===null&&(I=Function.prototype);var N=Object.getOwnPropertyDescriptor(I,S);if(N===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:P(U,S,F)}else{if("value"in N)return N.value;var Z=N.get;return Z===void 0?void 0:Z.call(F)}},l=c(3),r=k(l),i=c(2),d=k(i),p=c(0),v=k(p),g=c(16),D=k(g),y=c(6),C=k(y),x=c(7),E=k(x);function k(P){return P&&P.__esModule?P:{default:P}}function w(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function T(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function V(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var B=1,O=function(P){V(I,P);function I(){return w(this,I),T(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return m(I,[{key:"attach",value:function(){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new v.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,N){var U=v.default.query(F,v.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,N)}},{key:"formatAt",value:function(F,N,U,Z){this.format(U,Z)}},{key:"insertAt",value:function(F,N,U){if(typeof N=="string"&&N.endsWith(`
`)){var Z=v.default.create(L.blotName);this.parent.insertBefore(Z,F===0?this:this.next),Z.insertAt(0,N.slice(0,-1))}else _(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,F,N,U)}}]),I}(v.default.Embed);O.scope=v.default.Scope.BLOCK_BLOT;var L=function(P){V(I,P);function I(S){w(this,I);var F=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,S));return F.cache={},F}return m(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(v.default.Leaf).reduce(function(F,N){return N.length()===0?F:F.insert(N.value(),R(N))},new d.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(F,N){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,F,N),this.cache={}}},{key:"formatAt",value:function(F,N,U,Z){N<=0||(v.default.query(U,v.default.Scope.BLOCK)?F+N===this.length()&&this.format(U,Z):_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,F,Math.min(N,this.length()-F-1),U,Z),this.cache={})}},{key:"insertAt",value:function(F,N,U){if(U!=null)return _(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,F,N,U);if(N.length!==0){var Z=N.split(`
`),ce=Z.shift();ce.length>0&&(F<this.length()-1||this.children.tail==null?_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),ce):this.children.tail.insertAt(this.children.tail.length(),ce),this.cache={});var ae=this;Z.reduce(function(J,z){return ae=ae.split(J,!0),ae.insertAt(0,z),z.length},F+ce.length)}}},{key:"insertBefore",value:function(F,N){var U=this.children.head;_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,F,N),U instanceof D.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+B),this.cache.length}},{key:"moveChildren",value:function(F,N){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,F,N),this.cache={}}},{key:"optimize",value:function(F){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return _(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N&&(F===0||F>=this.length()-B)){var U=this.clone();return F===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var Z=_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,F,N);return this.cache={},Z}}}]),I}(v.default.Block);L.blotName="block",L.tagName="P",L.defaultChild="break",L.allowedChildren=[C.default,v.default.Embed,E.default];function R(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(I=(0,r.default)(I,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?I:R(P.parent,I)}t.bubbleFormats=R,t.BlockEmbed=O,t.default=L},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},_=function(){function ae(J,z){var ne=[],xe=!0,Fe=!1,he=void 0;try{for(var ie=J[Symbol.iterator](),$e;!(xe=($e=ie.next()).done)&&(ne.push($e.value),!(z&&ne.length===z));xe=!0);}catch(we){Fe=!0,he=we}finally{try{!xe&&ie.return&&ie.return()}finally{if(Fe)throw he}}return ne}return function(J,z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return ae(J,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function ae(J,z){for(var ne=0;ne<z.length;ne++){var xe=z[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(J,xe.key,xe)}}return function(J,z,ne){return z&&ae(J.prototype,z),ne&&ae(J,ne),J}}();c(50);var r=c(2),i=R(r),d=c(14),p=R(d),v=c(8),g=R(v),D=c(9),y=R(D),C=c(0),x=R(C),E=c(15),k=R(E),w=c(3),T=R(w),V=c(10),B=R(V),O=c(34),L=R(O);function R(ae){return ae&&ae.__esModule?ae:{default:ae}}function P(ae,J,z){return J in ae?Object.defineProperty(ae,J,{value:z,enumerable:!0,configurable:!0,writable:!0}):ae[J]=z,ae}function I(ae,J){if(!(ae instanceof J))throw new TypeError("Cannot call a class as a function")}var S=(0,B.default)("quill"),F=function(){l(ae,null,[{key:"debug",value:function(z){z===!0&&(z="log"),B.default.level(z)}},{key:"find",value:function(z){return z.__quill||x.default.find(z)}},{key:"import",value:function(z){return this.imports[z]==null&&S.error("Cannot import "+z+". Are you sure it was registered?"),this.imports[z]}},{key:"register",value:function(z,ne){var xe=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof z!="string"){var he=z.attrName||z.blotName;typeof he=="string"?this.register("formats/"+he,z,ne):Object.keys(z).forEach(function(ie){xe.register(ie,z[ie],ne)})}else this.imports[z]!=null&&!Fe&&S.warn("Overwriting "+z+" with",ne),this.imports[z]=ne,(z.startsWith("blots/")||z.startsWith("formats/"))&&ne.blotName!=="abstract"?x.default.register(ne):z.startsWith("modules")&&typeof ne.register=="function"&&ne.register()}}]);function ae(J){var z=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,ae),this.options=N(J,ne),this.container=this.options.container,this.container==null)return S.error("Invalid Quill container",J);this.options.debug&&ae.debug(this.options.debug);var xe=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=x.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new p.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(he){he===g.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(he,ie){var $e=z.selection.lastRange,we=$e&&$e.length===0?$e.index:void 0;U.call(z,function(){return z.editor.update(null,ie,we)},he)});var Fe=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+xe+"<p><br></p></div>");this.setContents(Fe),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(ae,[{key:"addContainer",value:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof z=="string"){var xe=z;z=document.createElement("div"),z.classList.add(xe)}return this.container.insertBefore(z,ne),z}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(z,ne,xe){var Fe=this,he=Z(z,ne,xe),ie=_(he,4);return z=ie[0],ne=ie[1],xe=ie[3],U.call(this,function(){return Fe.editor.deleteText(z,ne)},xe,z,-1*ne)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(z),this.container.classList.toggle("ql-disabled",!z)}},{key:"focus",value:function(){var z=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=z,this.scrollIntoView()}},{key:"format",value:function(z,ne){var xe=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return U.call(this,function(){var he=xe.getSelection(!0),ie=new i.default;if(he==null)return ie;if(x.default.query(z,x.default.Scope.BLOCK))ie=xe.editor.formatLine(he.index,he.length,P({},z,ne));else{if(he.length===0)return xe.selection.format(z,ne),ie;ie=xe.editor.formatText(he.index,he.length,P({},z,ne))}return xe.setSelection(he,g.default.sources.SILENT),ie},Fe)}},{key:"formatLine",value:function(z,ne,xe,Fe,he){var ie=this,$e=void 0,we=Z(z,ne,xe,Fe,he),se=_(we,4);return z=se[0],ne=se[1],$e=se[2],he=se[3],U.call(this,function(){return ie.editor.formatLine(z,ne,$e)},he,z,0)}},{key:"formatText",value:function(z,ne,xe,Fe,he){var ie=this,$e=void 0,we=Z(z,ne,xe,Fe,he),se=_(we,4);return z=se[0],ne=se[1],$e=se[2],he=se[3],U.call(this,function(){return ie.editor.formatText(z,ne,$e)},he,z,0)}},{key:"getBounds",value:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xe=void 0;typeof z=="number"?xe=this.selection.getBounds(z,ne):xe=this.selection.getBounds(z.index,z.length);var Fe=this.container.getBoundingClientRect();return{bottom:xe.bottom-Fe.top,height:xe.height,left:xe.left-Fe.left,right:xe.right-Fe.left,top:xe.top-Fe.top,width:xe.width}}},{key:"getContents",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,xe=Z(z,ne),Fe=_(xe,2);return z=Fe[0],ne=Fe[1],this.editor.getContents(z,ne)}},{key:"getFormat",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof z=="number"?this.editor.getFormat(z,ne):this.editor.getFormat(z.index,z.length)}},{key:"getIndex",value:function(z){return z.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(z){return this.scroll.leaf(z)}},{key:"getLine",value:function(z){return this.scroll.line(z)}},{key:"getLines",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof z!="number"?this.scroll.lines(z.index,z.length):this.scroll.lines(z,ne)}},{key:"getModule",value:function(z){return this.theme.modules[z]}},{key:"getSelection",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,xe=Z(z,ne),Fe=_(xe,2);return z=Fe[0],ne=Fe[1],this.editor.getText(z,ne)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(z,ne,xe){var Fe=this,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ae.sources.API;return U.call(this,function(){return Fe.editor.insertEmbed(z,ne,xe)},he,z)}},{key:"insertText",value:function(z,ne,xe,Fe,he){var ie=this,$e=void 0,we=Z(z,0,xe,Fe,he),se=_(we,4);return z=se[0],$e=se[2],he=se[3],U.call(this,function(){return ie.editor.insertText(z,ne,$e)},he,z,ne.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(z,ne,xe){this.clipboard.dangerouslyPasteHTML(z,ne,xe)}},{key:"removeFormat",value:function(z,ne,xe){var Fe=this,he=Z(z,ne,xe),ie=_(he,4);return z=ie[0],ne=ie[1],xe=ie[3],U.call(this,function(){return Fe.editor.removeFormat(z,ne)},xe,z)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(z){var ne=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return U.call(this,function(){z=new i.default(z);var Fe=ne.getLength(),he=ne.editor.deleteText(0,Fe),ie=ne.editor.applyDelta(z),$e=ie.ops[ie.ops.length-1];$e!=null&&typeof $e.insert=="string"&&$e.insert[$e.insert.length-1]===`
`&&(ne.editor.deleteText(ne.getLength()-1,1),ie.delete(1));var we=he.compose(ie);return we},xe)}},{key:"setSelection",value:function(z,ne,xe){if(z==null)this.selection.setRange(null,ne||ae.sources.API);else{var Fe=Z(z,ne,xe),he=_(Fe,4);z=he[0],ne=he[1],xe=he[3],this.selection.setRange(new E.Range(z,ne),xe),xe!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,xe=new i.default().insert(z);return this.setContents(xe,ne)}},{key:"update",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,ne=this.scroll.update(z);return this.selection.update(z),ne}},{key:"updateContents",value:function(z){var ne=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return U.call(this,function(){return z=new i.default(z),ne.editor.applyDelta(z,xe)},xe,!0)}}]),ae}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=g.default.events,F.sources=g.default.sources,F.version="1.3.7",F.imports={delta:i.default,parchment:x.default,"core/module":y.default,"core/theme":L.default};function N(ae,J){if(J=(0,T.default)(!0,{container:ae,modules:{clipboard:!0,keyboard:!0,history:!0}},J),!J.theme||J.theme===F.DEFAULTS.theme)J.theme=L.default;else if(J.theme=F.import("themes/"+J.theme),J.theme==null)throw new Error("Invalid theme "+J.theme+". Did you register it?");var z=(0,T.default)(!0,{},J.theme.DEFAULTS);[z,J].forEach(function(Fe){Fe.modules=Fe.modules||{},Object.keys(Fe.modules).forEach(function(he){Fe.modules[he]===!0&&(Fe.modules[he]={})})});var ne=Object.keys(z.modules).concat(Object.keys(J.modules)),xe=ne.reduce(function(Fe,he){var ie=F.import("modules/"+he);return ie==null?S.error("Cannot load "+he+" module. Are you sure you registered it?"):Fe[he]=ie.DEFAULTS||{},Fe},{});return J.modules!=null&&J.modules.toolbar&&J.modules.toolbar.constructor!==Object&&(J.modules.toolbar={container:J.modules.toolbar}),J=(0,T.default)(!0,{},F.DEFAULTS,{modules:xe},z,J),["bounds","container","scrollingContainer"].forEach(function(Fe){typeof J[Fe]=="string"&&(J[Fe]=document.querySelector(J[Fe]))}),J.modules=Object.keys(J.modules).reduce(function(Fe,he){return J.modules[he]&&(Fe[he]=J.modules[he]),Fe},{}),J}function U(ae,J,z,ne){if(this.options.strict&&!this.isEnabled()&&J===g.default.sources.USER)return new i.default;var xe=z==null?null:this.getSelection(),Fe=this.editor.delta,he=ae();if(xe!=null&&(z===!0&&(z=xe.index),ne==null?xe=ce(xe,he,J):ne!==0&&(xe=ce(xe,z,ne,J)),this.setSelection(xe,g.default.sources.SILENT)),he.length()>0){var ie,$e=[g.default.events.TEXT_CHANGE,he,Fe,J];if((ie=this.emitter).emit.apply(ie,[g.default.events.EDITOR_CHANGE].concat($e)),J!==g.default.sources.SILENT){var we;(we=this.emitter).emit.apply(we,$e)}}return he}function Z(ae,J,z,ne,xe){var Fe={};return typeof ae.index=="number"&&typeof ae.length=="number"?typeof J!="number"?(xe=ne,ne=z,z=J,J=ae.length,ae=ae.index):(J=ae.length,ae=ae.index):typeof J!="number"&&(xe=ne,ne=z,z=J,J=0),(typeof z>"u"?"undefined":m(z))==="object"?(Fe=z,xe=ne):typeof z=="string"&&(ne!=null?Fe[z]=ne:xe=z),xe=xe||g.default.sources.API,[ae,J,Fe,xe]}function ce(ae,J,z,ne){if(ae==null)return null;var xe=void 0,Fe=void 0;if(J instanceof i.default){var he=[ae.index,ae.index+ae.length].map(function(se){return J.transformPosition(se,ne!==g.default.sources.USER)}),ie=_(he,2);xe=ie[0],Fe=ie[1]}else{var $e=[ae.index,ae.index+ae.length].map(function(se){return se<J||se===J&&ne===g.default.sources.USER?se:z>=0?se+z:Math.max(J,se+z)}),we=_($e,2);xe=we[0],Fe=we[1]}return new E.Range(xe,Fe-xe)}t.expandConfig=N,t.overload=Z,t.default=F},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function C(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&C(x.prototype,E),k&&C(x,k),x}}(),_=function C(x,E,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,E);if(w===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:C(T,E,k)}else{if("value"in w)return w.value;var V=w.get;return V===void 0?void 0:V.call(k)}},l=c(7),r=p(l),i=c(0),d=p(i);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function g(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function D(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}var y=function(C){D(x,C);function x(){return v(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"formatAt",value:function(k,w,T,V){if(x.compare(this.statics.blotName,T)<0&&d.default.query(T,d.default.Scope.BLOT)){var B=this.isolate(k,w);V&&B.wrap(T,V)}else _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,k,w,T,V)}},{key:"optimize",value:function(k){if(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,k),this.parent instanceof x&&x.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(k,w){var T=x.order.indexOf(k),V=x.order.indexOf(w);return T>=0||V>=0?T-V:k===w?0:k<w?-1:1}}]),x}(d.default.Inline);y.allowedChildren=[y,d.default.Embed,r.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default.Text);t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function E(k,w){for(var T=0;T<w.length;T++){var V=w[T];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}return function(k,w,T){return w&&E(k.prototype,w),T&&E(k,T),k}}(),_=function E(k,w,T){k===null&&(k=Function.prototype);var V=Object.getOwnPropertyDescriptor(k,w);if(V===void 0){var B=Object.getPrototypeOf(k);return B===null?void 0:E(B,w,T)}else{if("value"in V)return V.value;var O=V.get;return O===void 0?void 0:O.call(T)}},l=c(54),r=p(l),i=c(10),d=p(i);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function g(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function D(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var y=(0,d.default)("quill:events"),C=["selectionchange","mousedown","mouseup","click"];C.forEach(function(E){document.addEventListener(E,function(){for(var k=arguments.length,w=Array(k),T=0;T<k;T++)w[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(V){if(V.__quill&&V.__quill.emitter){var B;(B=V.__quill.emitter).handleDOM.apply(B,w)}})})});var x=function(E){D(k,E);function k(){v(this,k);var w=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return w.listeners={},w.on("error",y.error),w}return m(k,[{key:"emit",value:function(){y.log.apply(y,arguments),_(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var V=arguments.length,B=Array(V>1?V-1:0),O=1;O<V;O++)B[O-1]=arguments[O];(this.listeners[T.type]||[]).forEach(function(L){var R=L.node,P=L.handler;(T.target===R||R.contains(T.target))&&P.apply(void 0,[T].concat(B))})}},{key:"listenDOM",value:function(T,V,B){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:V,handler:B})}}]),k}(r.default);x.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},x.sources={API:"api",SILENT:"silent",USER:"user"},t.default=x},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});function m(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}var _=function l(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,l),this.quill=r,this.options=i};_.DEFAULTS={},t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=["error","warn","log","info"],_="warn";function l(i){if(m.indexOf(i)<=m.indexOf(_)){for(var d,p=arguments.length,v=Array(p>1?p-1:0),g=1;g<p;g++)v[g-1]=arguments[g];(d=console)[i].apply(d,v)}}function r(i){return m.reduce(function(d,p){return d[p]=l.bind(console,p,i),d},{})}l.level=r.level=function(i){_=i},t.default=r},function(s,t,c){var m=Array.prototype.slice,_=c(52),l=c(53),r=s.exports=function(v,g,D){return D||(D={}),v===g?!0:v instanceof Date&&g instanceof Date?v.getTime()===g.getTime():!v||!g||typeof v!="object"&&typeof g!="object"?D.strict?v===g:v==g:p(v,g,D)};function i(v){return v==null}function d(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function p(v,g,D){var y,C;if(i(v)||i(g)||v.prototype!==g.prototype)return!1;if(l(v))return l(g)?(v=m.call(v),g=m.call(g),r(v,g,D)):!1;if(d(v)){if(!d(g)||v.length!==g.length)return!1;for(y=0;y<v.length;y++)if(v[y]!==g[y])return!1;return!0}try{var x=_(v),E=_(g)}catch{return!1}if(x.length!=E.length)return!1;for(x.sort(),E.sort(),y=x.length-1;y>=0;y--)if(x[y]!=E[y])return!1;for(y=x.length-1;y>=0;y--)if(C=x[y],!r(v[C],g[C],D))return!1;return typeof v==typeof g}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(1),_=function(){function l(r,i,d){d===void 0&&(d={}),this.attrName=r,this.keyName=i;var p=m.Scope.TYPE&m.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&m.Scope.LEVEL|p:this.scope=m.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(r){return[].map.call(r.attributes,function(i){return i.name})},l.prototype.add=function(r,i){return this.canAdd(r,i)?(r.setAttribute(this.keyName,i),!0):!1},l.prototype.canAdd=function(r,i){var d=m.query(r,m.Scope.BLOT&(this.scope|m.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},l.prototype.remove=function(r){r.removeAttribute(this.keyName)},l.prototype.value=function(r){var i=r.getAttribute(this.keyName);return this.canAdd(r,i)&&i?i:""},l}();t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var m=function(){function O(L,R){var P=[],I=!0,S=!1,F=void 0;try{for(var N=L[Symbol.iterator](),U;!(I=(U=N.next()).done)&&(P.push(U.value),!(R&&P.length===R));I=!0);}catch(Z){S=!0,F=Z}finally{try{!I&&N.return&&N.return()}finally{if(S)throw F}}return P}return function(L,R){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return O(L,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function O(L,R){for(var P=0;P<R.length;P++){var I=R[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(L,I.key,I)}}return function(L,R,P){return R&&O(L.prototype,R),P&&O(L,P),L}}(),l=function O(L,R,P){L===null&&(L=Function.prototype);var I=Object.getOwnPropertyDescriptor(L,R);if(I===void 0){var S=Object.getPrototypeOf(L);return S===null?void 0:O(S,R,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},r=c(2),i=E(r),d=c(0),p=E(d),v=c(4),g=E(v),D=c(6),y=E(D),C=c(7),x=E(C);function E(O){return O&&O.__esModule?O:{default:O}}function k(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function w(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function T(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}var V=function(O){T(L,O);function L(){return k(this,L),w(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return L}(y.default);V.blotName="code",V.tagName="CODE";var B=function(O){T(L,O);function L(){return k(this,L),w(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return _(L,[{key:"delta",value:function(){var P=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(S,F){return S.insert(F).insert(`
`,P.formats())},new i.default)}},{key:"format",value:function(P,I){if(!(P===this.statics.blotName&&I)){var S=this.descendant(x.default,this.length()-1),F=m(S,1),N=F[0];N!=null&&N.deleteAt(N.length()-1,1),l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,P,I)}}},{key:"formatAt",value:function(P,I,S,F){if(I!==0&&!(p.default.query(S,p.default.Scope.BLOCK)==null||S===this.statics.blotName&&F===this.statics.formats(this.domNode))){var N=this.newlineIndex(P);if(!(N<0||N>=P+I)){var U=this.newlineIndex(P,!0)+1,Z=N-U+1,ce=this.isolate(U,Z),ae=ce.next;ce.format(S,F),ae instanceof L&&ae.formatAt(0,P-U+I-Z,S,F)}}}},{key:"insertAt",value:function(P,I,S){if(S==null){var F=this.descendant(x.default,P),N=m(F,2),U=N[0],Z=N[1];U.insertAt(Z,I)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var S=this.domNode.textContent.slice(P).indexOf(`
`);return S>-1?P+S:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,P);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(P),I.moveChildren(this),I.remove())}},{key:"replace",value:function(P){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var S=p.default.find(I);S==null?I.parentNode.removeChild(I):S instanceof p.default.Embed?S.remove():S.unwrap()})}}],[{key:"create",value:function(P){var I=l(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,P);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),L}(g.default);B.blotName="code-block",B.tagName="PRE",B.TAB="  ",t.Code=V,t.default=B},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},_=function(){function ae(J,z){var ne=[],xe=!0,Fe=!1,he=void 0;try{for(var ie=J[Symbol.iterator](),$e;!(xe=($e=ie.next()).done)&&(ne.push($e.value),!(z&&ne.length===z));xe=!0);}catch(we){Fe=!0,he=we}finally{try{!xe&&ie.return&&ie.return()}finally{if(Fe)throw he}}return ne}return function(J,z){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return ae(J,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function ae(J,z){for(var ne=0;ne<z.length;ne++){var xe=z[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(J,xe.key,xe)}}return function(J,z,ne){return z&&ae(J.prototype,z),ne&&ae(J,ne),J}}(),r=c(2),i=I(r),d=c(20),p=I(d),v=c(0),g=I(v),D=c(13),y=I(D),C=c(24),x=I(C),E=c(4),k=I(E),w=c(16),T=I(w),V=c(21),B=I(V),O=c(11),L=I(O),R=c(3),P=I(R);function I(ae){return ae&&ae.__esModule?ae:{default:ae}}function S(ae,J,z){return J in ae?Object.defineProperty(ae,J,{value:z,enumerable:!0,configurable:!0,writable:!0}):ae[J]=z,ae}function F(ae,J){if(!(ae instanceof J))throw new TypeError("Cannot call a class as a function")}var N=/^[ -~]*$/,U=function(){function ae(J){F(this,ae),this.scroll=J,this.delta=this.getDelta()}return l(ae,[{key:"applyDelta",value:function(z){var ne=this,xe=!1;this.scroll.update();var Fe=this.scroll.length();return this.scroll.batchStart(),z=ce(z),z.reduce(function(he,ie){var $e=ie.retain||ie.delete||ie.insert.length||1,we=ie.attributes||{};if(ie.insert!=null){if(typeof ie.insert=="string"){var se=ie.insert;se.endsWith(`
`)&&xe&&(xe=!1,se=se.slice(0,-1)),he>=Fe&&!se.endsWith(`
`)&&(xe=!0),ne.scroll.insertAt(he,se);var ge=ne.scroll.line(he),be=_(ge,2),Me=be[0],ue=be[1],Oe=(0,P.default)({},(0,E.bubbleFormats)(Me));if(Me instanceof k.default){var ze=Me.descendant(g.default.Leaf,ue),Ye=_(ze,1),ve=Ye[0];Oe=(0,P.default)(Oe,(0,E.bubbleFormats)(ve))}we=p.default.attributes.diff(Oe,we)||{}}else if(m(ie.insert)==="object"){var _e=Object.keys(ie.insert)[0];if(_e==null)return he;ne.scroll.insertAt(he,_e,ie.insert[_e])}Fe+=$e}return Object.keys(we).forEach(function(Se){ne.scroll.formatAt(he,$e,Se,we[Se])}),he+$e},0),z.reduce(function(he,ie){return typeof ie.delete=="number"?(ne.scroll.deleteAt(he,ie.delete),he):he+(ie.retain||ie.insert.length||1)},0),this.scroll.batchEnd(),this.update(z)}},{key:"deleteText",value:function(z,ne){return this.scroll.deleteAt(z,ne),this.update(new i.default().retain(z).delete(ne))}},{key:"formatLine",value:function(z,ne){var xe=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Fe).forEach(function(he){if(!(xe.scroll.whitelist!=null&&!xe.scroll.whitelist[he])){var ie=xe.scroll.lines(z,Math.max(ne,1)),$e=ne;ie.forEach(function(we){var se=we.length();if(!(we instanceof y.default))we.format(he,Fe[he]);else{var ge=z-we.offset(xe.scroll),be=we.newlineIndex(ge+$e)-ge+1;we.formatAt(ge,be,he,Fe[he])}$e-=se})}}),this.scroll.optimize(),this.update(new i.default().retain(z).retain(ne,(0,B.default)(Fe)))}},{key:"formatText",value:function(z,ne){var xe=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Fe).forEach(function(he){xe.scroll.formatAt(z,ne,he,Fe[he])}),this.update(new i.default().retain(z).retain(ne,(0,B.default)(Fe)))}},{key:"getContents",value:function(z,ne){return this.delta.slice(z,z+ne)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(z,ne){return z.concat(ne.delta())},new i.default)}},{key:"getFormat",value:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xe=[],Fe=[];ne===0?this.scroll.path(z).forEach(function(ie){var $e=_(ie,1),we=$e[0];we instanceof k.default?xe.push(we):we instanceof g.default.Leaf&&Fe.push(we)}):(xe=this.scroll.lines(z,ne),Fe=this.scroll.descendants(g.default.Leaf,z,ne));var he=[xe,Fe].map(function(ie){if(ie.length===0)return{};for(var $e=(0,E.bubbleFormats)(ie.shift());Object.keys($e).length>0;){var we=ie.shift();if(we==null)return $e;$e=Z((0,E.bubbleFormats)(we),$e)}return $e});return P.default.apply(P.default,he)}},{key:"getText",value:function(z,ne){return this.getContents(z,ne).filter(function(xe){return typeof xe.insert=="string"}).map(function(xe){return xe.insert}).join("")}},{key:"insertEmbed",value:function(z,ne,xe){return this.scroll.insertAt(z,ne,xe),this.update(new i.default().retain(z).insert(S({},ne,xe)))}},{key:"insertText",value:function(z,ne){var xe=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne=ne.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(z,ne),Object.keys(Fe).forEach(function(he){xe.scroll.formatAt(z,ne.length,he,Fe[he])}),this.update(new i.default().retain(z).insert(ne,(0,B.default)(Fe)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var z=this.scroll.children.head;return z.statics.blotName!==k.default.blotName||z.children.length>1?!1:z.children.head instanceof T.default}},{key:"removeFormat",value:function(z,ne){var xe=this.getText(z,ne),Fe=this.scroll.line(z+ne),he=_(Fe,2),ie=he[0],$e=he[1],we=0,se=new i.default;ie!=null&&(ie instanceof y.default?we=ie.newlineIndex($e)-$e+1:we=ie.length()-$e,se=ie.delta().slice($e,$e+we-1).insert(`
`));var ge=this.getContents(z,ne+we),be=ge.diff(new i.default().insert(xe).concat(se)),Me=new i.default().retain(z).concat(be);return this.applyDelta(Me)}},{key:"update",value:function(z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Fe=this.delta;if(ne.length===1&&ne[0].type==="characterData"&&ne[0].target.data.match(N)&&g.default.find(ne[0].target)){var he=g.default.find(ne[0].target),ie=(0,E.bubbleFormats)(he),$e=he.offset(this.scroll),we=ne[0].oldValue.replace(x.default.CONTENTS,""),se=new i.default().insert(we),ge=new i.default().insert(he.value()),be=new i.default().retain($e).concat(se.diff(ge,xe));z=be.reduce(function(Me,ue){return ue.insert?Me.insert(ue.insert,ie):Me.push(ue)},new i.default),this.delta=Fe.compose(z)}else this.delta=this.getDelta(),(!z||!(0,L.default)(Fe.compose(z),this.delta))&&(z=Fe.diff(this.delta,xe));return z}}]),ae}();function Z(ae,J){return Object.keys(J).reduce(function(z,ne){return ae[ne]==null||(J[ne]===ae[ne]?z[ne]=J[ne]:Array.isArray(J[ne])?J[ne].indexOf(ae[ne])<0&&(z[ne]=J[ne].concat([ae[ne]])):z[ne]=[J[ne],ae[ne]]),z},{})}function ce(ae){return ae.reduce(function(J,z){if(z.insert===1){var ne=(0,B.default)(z.attributes);return delete ne.image,J.insert({image:z.attributes.image},ne)}if(z.attributes!=null&&(z.attributes.list===!0||z.attributes.bullet===!0)&&(z=(0,B.default)(z),z.attributes.list?z.attributes.list="ordered":(z.attributes.list="bullet",delete z.attributes.bullet)),typeof z.insert=="string"){var xe=z.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return J.insert(xe,z.attributes)}return J.push(z)},new i.default)}t.default=U},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var m=function(){function O(L,R){var P=[],I=!0,S=!1,F=void 0;try{for(var N=L[Symbol.iterator](),U;!(I=(U=N.next()).done)&&(P.push(U.value),!(R&&P.length===R));I=!0);}catch(Z){S=!0,F=Z}finally{try{!I&&N.return&&N.return()}finally{if(S)throw F}}return P}return function(L,R){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return O(L,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function O(L,R){for(var P=0;P<R.length;P++){var I=R[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(L,I.key,I)}}return function(L,R,P){return R&&O(L.prototype,R),P&&O(L,P),L}}(),l=c(0),r=x(l),i=c(21),d=x(i),p=c(11),v=x(p),g=c(8),D=x(g),y=c(10),C=x(y);function x(O){return O&&O.__esModule?O:{default:O}}function E(O){if(Array.isArray(O)){for(var L=0,R=Array(O.length);L<O.length;L++)R[L]=O[L];return R}else return Array.from(O)}function k(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}var w=(0,C.default)("quill:selection"),T=function O(L){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,O),this.index=L,this.length=R},V=function(){function O(L,R){var P=this;k(this,O),this.emitter=R,this.scroll=L,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,D.default.sources.USER),1)}),this.emitter.on(D.default.events.EDITOR_CHANGE,function(I,S){I===D.default.events.TEXT_CHANGE&&S.length()>0&&P.update(D.default.sources.SILENT)}),this.emitter.on(D.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var I=P.getNativeRange();I!=null&&I.start.node!==P.cursor.textNode&&P.emitter.once(D.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(D.default.events.SCROLL_OPTIMIZE,function(I,S){if(S.range){var F=S.range,N=F.startNode,U=F.startOffset,Z=F.endNode,ce=F.endOffset;P.setNativeRange(N,U,Z,ce)}}),this.update(D.default.sources.SILENT)}return _(O,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var P=R.cursor.restore();if(!P)return;setTimeout(function(){R.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(D.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||r.default.query(R,r.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var S=r.default.find(I.start.node,!1);if(S==null)return;if(S instanceof r.default.Leaf){var F=S.split(I.start.offset);S.parent.insertBefore(this.cursor,F)}else S.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(R,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();R=Math.min(R,I-1),P=Math.min(R+P,I-1)-R;var S=void 0,F=this.scroll.leaf(R),N=m(F,2),U=N[0],Z=N[1];if(U==null)return null;var ce=U.position(Z,!0),ae=m(ce,2);S=ae[0],Z=ae[1];var J=document.createRange();if(P>0){J.setStart(S,Z);var z=this.scroll.leaf(R+P),ne=m(z,2);if(U=ne[0],Z=ne[1],U==null)return null;var xe=U.position(Z,!0),Fe=m(xe,2);return S=Fe[0],Z=Fe[1],J.setEnd(S,Z),J.getBoundingClientRect()}else{var he="left",ie=void 0;return S instanceof Text?(Z<S.data.length?(J.setStart(S,Z),J.setEnd(S,Z+1)):(J.setStart(S,Z-1),J.setEnd(S,Z),he="right"),ie=J.getBoundingClientRect()):(ie=U.domNode.getBoundingClientRect(),Z>0&&(he="right")),{bottom:ie.top+ie.height,height:ie.height,left:ie[he],right:ie[he],top:ie.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var P=R.getRangeAt(0);if(P==null)return null;var I=this.normalizeNative(P);return w.info("getNativeRange",I),I}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var P=this.normalizedToRange(R);return[P,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var P=this,I=[[R.start.node,R.start.offset]];R.native.collapsed||I.push([R.end.node,R.end.offset]);var S=I.map(function(U){var Z=m(U,2),ce=Z[0],ae=Z[1],J=r.default.find(ce,!0),z=J.offset(P.scroll);return ae===0?z:J instanceof r.default.Container?z+J.length():z+J.index(ce,ae)}),F=Math.min(Math.max.apply(Math,E(S)),this.scroll.length()-1),N=Math.min.apply(Math,[F].concat(E(S)));return new T(N,F-N)}},{key:"normalizeNative",value:function(R){if(!B(this.root,R.startContainer)||!R.collapsed&&!B(this.root,R.endContainer))return null;var P={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[P.start,P.end].forEach(function(I){for(var S=I.node,F=I.offset;!(S instanceof Text)&&S.childNodes.length>0;)if(S.childNodes.length>F)S=S.childNodes[F],F=0;else if(S.childNodes.length===F)S=S.lastChild,F=S instanceof Text?S.data.length:S.childNodes.length+1;else break;I.node=S,I.offset=F}),P}},{key:"rangeToNative",value:function(R){var P=this,I=R.collapsed?[R.index]:[R.index,R.index+R.length],S=[],F=this.scroll.length();return I.forEach(function(N,U){N=Math.min(F-1,N);var Z=void 0,ce=P.scroll.leaf(N),ae=m(ce,2),J=ae[0],z=ae[1],ne=J.position(z,U!==0),xe=m(ne,2);Z=xe[0],z=xe[1],S.push(Z,z)}),S.length<2&&(S=S.concat(S)),S}},{key:"scrollIntoView",value:function(R){var P=this.lastRange;if(P!=null){var I=this.getBounds(P.index,P.length);if(I!=null){var S=this.scroll.length()-1,F=this.scroll.line(Math.min(P.index,S)),N=m(F,1),U=N[0],Z=U;if(P.length>0){var ce=this.scroll.line(Math.min(P.index+P.length,S)),ae=m(ce,1);Z=ae[0]}if(!(U==null||Z==null)){var J=R.getBoundingClientRect();I.top<J.top?R.scrollTop-=J.top-I.top:I.bottom>J.bottom&&(R.scrollTop+=I.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(R,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",R,P,I,S),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||I.parentNode==null))){var N=document.getSelection();if(N!=null)if(R!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||F||R!==U.startContainer||P!==U.startOffset||I!==U.endContainer||S!==U.endOffset){R.tagName=="BR"&&(P=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),I.tagName=="BR"&&(S=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var Z=document.createRange();Z.setStart(R,P),Z.setEnd(I,S),N.removeAllRanges(),N.addRange(Z)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.default.sources.API;if(typeof P=="string"&&(I=P,P=!1),w.info("setRange",R),R!=null){var S=this.rangeToNative(R);this.setNativeRange.apply(this,E(S).concat([P]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D.default.sources.USER,P=this.lastRange,I=this.getRange(),S=m(I,2),F=S[0],N=S[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.default)(P,this.lastRange)){var U;!this.composing&&N!=null&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[D.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(P),R];if((U=this.emitter).emit.apply(U,[D.default.events.EDITOR_CHANGE].concat(Z)),R!==D.default.sources.SILENT){var ce;(ce=this.emitter).emit.apply(ce,Z)}}}}]),O}();function B(O,L){try{L.parentNode}catch{return!1}return L instanceof Text&&(L=L.parentNode),O.contains(L)}t.Range=T,t.default=V},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function D(y,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,C,x){return C&&D(y.prototype,C),x&&D(y,x),y}}(),_=function D(y,C,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,C);if(E===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:D(k,C,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},l=c(0),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,[{key:"insertInto",value:function(x,E){x.children.length===0?_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,x,E):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(r.default.Embed);g.blotName="break",g.tagName="BR",t.default=g},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var D in g)g.hasOwnProperty(D)&&(v[D]=g[D])};return function(v,g){p(v,g);function D(){this.constructor=v}v.prototype=g===null?Object.create(g):(D.prototype=g.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(44),l=c(30),r=c(1),i=function(p){m(v,p);function v(g){var D=p.call(this,g)||this;return D.build(),D}return v.prototype.appendChild=function(g){this.insertBefore(g)},v.prototype.attach=function(){p.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},v.prototype.build=function(){var g=this;this.children=new _.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(D){try{var y=d(D);g.insertBefore(y,g.children.head||void 0)}catch(C){if(C instanceof r.ParchmentError)return;throw C}})},v.prototype.deleteAt=function(g,D){if(g===0&&D===this.length())return this.remove();this.children.forEachAt(g,D,function(y,C,x){y.deleteAt(C,x)})},v.prototype.descendant=function(g,D){var y=this.children.find(D),C=y[0],x=y[1];return g.blotName==null&&g(C)||g.blotName!=null&&C instanceof g?[C,x]:C instanceof v?C.descendant(g,x):[null,-1]},v.prototype.descendants=function(g,D,y){D===void 0&&(D=0),y===void 0&&(y=Number.MAX_VALUE);var C=[],x=y;return this.children.forEachAt(D,y,function(E,k,w){(g.blotName==null&&g(E)||g.blotName!=null&&E instanceof g)&&C.push(E),E instanceof v&&(C=C.concat(E.descendants(g,k,x))),x-=w}),C},v.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),p.prototype.detach.call(this)},v.prototype.formatAt=function(g,D,y,C){this.children.forEachAt(g,D,function(x,E,k){x.formatAt(E,k,y,C)})},v.prototype.insertAt=function(g,D,y){var C=this.children.find(g),x=C[0],E=C[1];if(x)x.insertAt(E,D,y);else{var k=y==null?r.create("text",D):r.create(D,y);this.appendChild(k)}},v.prototype.insertBefore=function(g,D){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return g instanceof y}))throw new r.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,D)},v.prototype.length=function(){return this.children.reduce(function(g,D){return g+D.length()},0)},v.prototype.moveChildren=function(g,D){this.children.forEach(function(y){g.insertBefore(y,D)})},v.prototype.optimize=function(g){if(p.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var D=r.create(this.statics.defaultChild);this.appendChild(D),D.optimize(g)}else this.remove()},v.prototype.path=function(g,D){D===void 0&&(D=!1);var y=this.children.find(g,D),C=y[0],x=y[1],E=[[this,g]];return C instanceof v?E.concat(C.path(x,D)):(C!=null&&E.push([C,x]),E)},v.prototype.removeChild=function(g){this.children.remove(g)},v.prototype.replace=function(g){g instanceof v&&g.moveChildren(this),p.prototype.replace.call(this,g)},v.prototype.split=function(g,D){if(D===void 0&&(D=!1),!D){if(g===0)return this;if(g===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(g,this.length(),function(C,x,E){C=C.split(x,D),y.appendChild(C)}),y},v.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},v.prototype.update=function(g,D){var y=this,C=[],x=[];g.forEach(function(E){E.target===y.domNode&&E.type==="childList"&&(C.push.apply(C,E.addedNodes),x.push.apply(x,E.removedNodes))}),x.forEach(function(E){if(!(E.parentNode!=null&&E.tagName!=="IFRAME"&&document.body.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=r.find(E);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===y.domNode)&&k.detach()}}),C.filter(function(E){return E.parentNode==y.domNode}).sort(function(E,k){return E===k?0:E.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(E){var k=null;E.nextSibling!=null&&(k=r.find(E.nextSibling));var w=d(E);(w.next!=k||w.next==null)&&(w.parent!=null&&w.parent.removeChild(y),y.insertBefore(w,k||void 0))})},v}(l.default);function d(p){var v=r.find(p);if(v==null)try{v=r.create(p)}catch{v=r.create(r.Scope.INLINE),[].slice.call(p.childNodes).forEach(function(D){v.domNode.appendChild(D)}),p.parentNode&&p.parentNode.replaceChild(v.domNode,p),v.attach()}return v}t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var D in g)g.hasOwnProperty(D)&&(v[D]=g[D])};return function(v,g){p(v,g);function D(){this.constructor=v}v.prototype=g===null?Object.create(g):(D.prototype=g.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12),l=c(31),r=c(17),i=c(1),d=function(p){m(v,p);function v(g){var D=p.call(this,g)||this;return D.attributes=new l.default(D.domNode),D}return v.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},v.prototype.format=function(g,D){var y=i.query(g);y instanceof _.default?this.attributes.attribute(y,D):D&&y!=null&&(g!==this.statics.blotName||this.formats()[g]!==D)&&this.replaceWith(g,D)},v.prototype.formats=function(){var g=this.attributes.values(),D=this.statics.formats(this.domNode);return D!=null&&(g[this.statics.blotName]=D),g},v.prototype.replaceWith=function(g,D){var y=p.prototype.replaceWith.call(this,g,D);return this.attributes.copy(y),y},v.prototype.update=function(g,D){var y=this;p.prototype.update.call(this,g,D),g.some(function(C){return C.target===y.domNode&&C.type==="attributes"})&&this.attributes.build()},v.prototype.wrap=function(g,D){var y=p.prototype.wrap.call(this,g,D);return y instanceof v&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},v}(r.default);t.default=d},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(30),l=c(1),r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.value=function(p){return!0},d.prototype.index=function(p,v){return this.domNode===p||this.domNode.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(v,1):-1},d.prototype.position=function(p,v){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return p>0&&(g+=1),[this.parent.domNode,g]},d.prototype.value=function(){var p;return p={},p[this.statics.blotName]=this.statics.value(this.domNode)||!0,p},d.scope=l.Scope.INLINE_BLOT,d}(_.default);t.default=r},function(s,t,c){var m=c(11),_=c(3),l={attributes:{compose:function(i,d,p){typeof i!="object"&&(i={}),typeof d!="object"&&(d={});var v=_(!0,{},d);p||(v=Object.keys(v).reduce(function(D,y){return v[y]!=null&&(D[y]=v[y]),D},{}));for(var g in i)i[g]!==void 0&&d[g]===void 0&&(v[g]=i[g]);return Object.keys(v).length>0?v:void 0},diff:function(i,d){typeof i!="object"&&(i={}),typeof d!="object"&&(d={});var p=Object.keys(i).concat(Object.keys(d)).reduce(function(v,g){return m(i[g],d[g])||(v[g]=d[g]===void 0?null:d[g]),v},{});return Object.keys(p).length>0?p:void 0},transform:function(i,d,p){if(typeof i!="object")return d;if(typeof d=="object"){if(!p)return d;var v=Object.keys(d).reduce(function(g,D){return i[D]===void 0&&(g[D]=d[D]),g},{});return Object.keys(v).length>0?v:void 0}}},iterator:function(i){return new r(i)},length:function(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.insert=="string"?i.insert.length:1}};function r(i){this.ops=i,this.index=0,this.offset=0}r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var d=this.ops[this.index];if(d){var p=this.offset,v=l.length(d);if(i>=v-p?(i=v-p,this.index+=1,this.offset=0):this.offset+=i,typeof d.delete=="number")return{delete:i};var g={};return d.attributes&&(g.attributes=d.attributes),typeof d.retain=="number"?g.retain=i:typeof d.insert=="string"?g.insert=d.insert.substr(p,i):g.insert=d.insert,g}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,d=this.index,p=this.next(),v=this.ops.slice(this.index);return this.offset=i,this.index=d,[p].concat(v)}else return[]},s.exports=l},function(s,t){var c=function(){function m(y,C){return C!=null&&y instanceof C}var _;try{_=Map}catch{_=function(){}}var l;try{l=Set}catch{l=function(){}}var r;try{r=Promise}catch{r=function(){}}function i(y,C,x,E,k){typeof C=="object"&&(x=C.depth,E=C.prototype,k=C.includeNonEnumerable,C=C.circular);var w=[],T=[],V=typeof Buffer<"u";typeof C>"u"&&(C=!0),typeof x>"u"&&(x=1/0);function B(O,L){if(O===null)return null;if(L===0)return O;var R,P;if(typeof O!="object")return O;if(m(O,_))R=new _;else if(m(O,l))R=new l;else if(m(O,r))R=new r(function(J,z){O.then(function(ne){J(B(ne,L-1))},function(ne){z(B(ne,L-1))})});else if(i.__isArray(O))R=[];else if(i.__isRegExp(O))R=new RegExp(O.source,D(O)),O.lastIndex&&(R.lastIndex=O.lastIndex);else if(i.__isDate(O))R=new Date(O.getTime());else{if(V&&Buffer.isBuffer(O))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(O.length):R=new Buffer(O.length),O.copy(R),R;m(O,Error)?R=Object.create(O):typeof E>"u"?(P=Object.getPrototypeOf(O),R=Object.create(P)):(R=Object.create(E),P=E)}if(C){var I=w.indexOf(O);if(I!=-1)return T[I];w.push(O),T.push(R)}m(O,_)&&O.forEach(function(J,z){var ne=B(z,L-1),xe=B(J,L-1);R.set(ne,xe)}),m(O,l)&&O.forEach(function(J){var z=B(J,L-1);R.add(z)});for(var S in O){var F;P&&(F=Object.getOwnPropertyDescriptor(P,S)),!(F&&F.set==null)&&(R[S]=B(O[S],L-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(O),S=0;S<N.length;S++){var U=N[S],Z=Object.getOwnPropertyDescriptor(O,U);Z&&!Z.enumerable&&!k||(R[U]=B(O[U],L-1),Z.enumerable||Object.defineProperty(R,U,{enumerable:!1}))}if(k)for(var ce=Object.getOwnPropertyNames(O),S=0;S<ce.length;S++){var ae=ce[S],Z=Object.getOwnPropertyDescriptor(O,ae);Z&&Z.enumerable||(R[ae]=B(O[ae],L-1),Object.defineProperty(R,ae,{enumerable:!1}))}return R}return B(y,x)}i.clonePrototype=function(C){if(C===null)return null;var x=function(){};return x.prototype=C,new x};function d(y){return Object.prototype.toString.call(y)}i.__objToStr=d;function p(y){return typeof y=="object"&&d(y)==="[object Date]"}i.__isDate=p;function v(y){return typeof y=="object"&&d(y)==="[object Array]"}i.__isArray=v;function g(y){return typeof y=="object"&&d(y)==="[object RegExp]"}i.__isRegExp=g;function D(y){var C="";return y.global&&(C+="g"),y.ignoreCase&&(C+="i"),y.multiline&&(C+="m"),C}return i.__getRegExpFlags=D,i}();typeof s=="object"&&s.exports&&(s.exports=c)},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function R(P,I){var S=[],F=!0,N=!1,U=void 0;try{for(var Z=P[Symbol.iterator](),ce;!(F=(ce=Z.next()).done)&&(S.push(ce.value),!(I&&S.length===I));F=!0);}catch(ae){N=!0,U=ae}finally{try{!F&&Z.return&&Z.return()}finally{if(N)throw U}}return S}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function R(P,I){for(var S=0;S<I.length;S++){var F=I[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,I,S){return I&&R(P.prototype,I),S&&R(P,S),P}}(),l=function R(P,I,S){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,I);if(F===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:R(N,I,S)}else{if("value"in F)return F.value;var U=F.get;return U===void 0?void 0:U.call(S)}},r=c(0),i=w(r),d=c(8),p=w(d),v=c(4),g=w(v),D=c(16),y=w(D),C=c(13),x=w(C),E=c(25),k=w(E);function w(R){return R&&R.__esModule?R:{default:R}}function T(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function V(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function B(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}function O(R){return R instanceof g.default||R instanceof v.BlockEmbed}var L=function(R){B(P,R);function P(I,S){T(this,P);var F=V(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return F.emitter=S.emitter,Array.isArray(S.whitelist)&&(F.whitelist=S.whitelist.reduce(function(N,U){return N[U]=!0,N},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return _(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(S,F){var N=this.line(S),U=m(N,2),Z=U[0],ce=U[1],ae=this.line(S+F),J=m(ae,1),z=J[0];if(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,S,F),z!=null&&Z!==z&&ce>0){if(Z instanceof v.BlockEmbed||z instanceof v.BlockEmbed){this.optimize();return}if(Z instanceof x.default){var ne=Z.newlineIndex(Z.length(),!0);if(ne>-1&&(Z=Z.split(ne+1),Z===z)){this.optimize();return}}else if(z instanceof x.default){var xe=z.newlineIndex(0);xe>-1&&z.split(xe+1)}var Fe=z.children.head instanceof y.default?null:z.children.head;Z.moveChildren(z,Fe),Z.remove()}this.optimize()}},{key:"enable",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",S)}},{key:"formatAt",value:function(S,F,N,U){this.whitelist!=null&&!this.whitelist[N]||(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,S,F,N,U),this.optimize())}},{key:"insertAt",value:function(S,F,N){if(!(N!=null&&this.whitelist!=null&&!this.whitelist[F])){if(S>=this.length())if(N==null||i.default.query(F,i.default.Scope.BLOCK)==null){var U=i.default.create(this.statics.defaultChild);this.appendChild(U),N==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),U.insertAt(0,F,N)}else{var Z=i.default.create(F,N);this.appendChild(Z)}else l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,S,F,N);this.optimize()}}},{key:"insertBefore",value:function(S,F){if(S.statics.scope===i.default.Scope.INLINE_BLOT){var N=i.default.create(this.statics.defaultChild);N.appendChild(S),S=N}l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,S,F)}},{key:"leaf",value:function(S){return this.path(S).pop()||[null,-1]}},{key:"line",value:function(S){return S===this.length()?this.line(S-1):this.descendant(O,S)}},{key:"lines",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,N=function U(Z,ce,ae){var J=[],z=ae;return Z.children.forEachAt(ce,ae,function(ne,xe,Fe){O(ne)?J.push(ne):ne instanceof i.default.Container&&(J=J.concat(U(ne,xe,z))),z-=Fe}),J};return N(this,S,F)}},{key:"optimize",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S,F),S.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,S,F))}},{key:"path",value:function(S){return l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,S).slice(1)}},{key:"update",value:function(S){if(this.batch!==!0){var F=p.default.sources.USER;typeof S=="string"&&(F=S),Array.isArray(S)||(S=this.observer.takeRecords()),S.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,F,S),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,S.concat([])),S.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,F,S)}}}]),P}(i.default.Scroll);L.blotName="scroll",L.className="ql-editor",L.tagName="DIV",L.defaultChild="block",L.allowedChildren=[g.default,v.BlockEmbed,k.default],t.default=L},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},_=function(){function ie($e,we){var se=[],ge=!0,be=!1,Me=void 0;try{for(var ue=$e[Symbol.iterator](),Oe;!(ge=(Oe=ue.next()).done)&&(se.push(Oe.value),!(we&&se.length===we));ge=!0);}catch(ze){be=!0,Me=ze}finally{try{!ge&&ue.return&&ue.return()}finally{if(be)throw Me}}return se}return function($e,we){if(Array.isArray($e))return $e;if(Symbol.iterator in Object($e))return ie($e,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function ie($e,we){for(var se=0;se<we.length;se++){var ge=we[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty($e,ge.key,ge)}}return function($e,we,se){return we&&ie($e.prototype,we),se&&ie($e,se),$e}}(),r=c(21),i=R(r),d=c(11),p=R(d),v=c(3),g=R(v),D=c(2),y=R(D),C=c(20),x=R(C),E=c(0),k=R(E),w=c(5),T=R(w),V=c(10),B=R(V),O=c(9),L=R(O);function R(ie){return ie&&ie.__esModule?ie:{default:ie}}function P(ie,$e,we){return $e in ie?Object.defineProperty(ie,$e,{value:we,enumerable:!0,configurable:!0,writable:!0}):ie[$e]=we,ie}function I(ie,$e){if(!(ie instanceof $e))throw new TypeError("Cannot call a class as a function")}function S(ie,$e){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e&&(typeof $e=="object"||typeof $e=="function")?$e:ie}function F(ie,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);ie.prototype=Object.create($e&&$e.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,$e):ie.__proto__=$e)}var N=(0,B.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function(ie){F($e,ie),l($e,null,[{key:"match",value:function(se,ge){return ge=he(ge),["altKey","ctrlKey","metaKey","shiftKey"].some(function(be){return!!ge[be]!==se[be]&&ge[be]!==null})?!1:ge.key===(se.which||se.keyCode)}}]);function $e(we,se){I(this,$e);var ge=S(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,we,se));return ge.bindings={},Object.keys(ge.options.bindings).forEach(function(be){be==="list autofill"&&we.scroll.whitelist!=null&&!we.scroll.whitelist.list||ge.options.bindings[be]&&ge.addBinding(ge.options.bindings[be])}),ge.addBinding({key:$e.keys.ENTER,shiftKey:null},ne),ge.addBinding({key:$e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ge.addBinding({key:$e.keys.BACKSPACE},{collapsed:!0},ae),ge.addBinding({key:$e.keys.DELETE},{collapsed:!0},J)):(ge.addBinding({key:$e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ae),ge.addBinding({key:$e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},J)),ge.addBinding({key:$e.keys.BACKSPACE},{collapsed:!1},z),ge.addBinding({key:$e.keys.DELETE},{collapsed:!1},z),ge.addBinding({key:$e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ae),ge.listen(),ge}return l($e,[{key:"addBinding",value:function(se){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=he(se);if(Me==null||Me.key==null)return N.warn("Attempted to add invalid keyboard binding",Me);typeof ge=="function"&&(ge={handler:ge}),typeof be=="function"&&(be={handler:be}),Me=(0,g.default)(Me,ge,be),this.bindings[Me.key]=this.bindings[Me.key]||[],this.bindings[Me.key].push(Me)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(ge){if(!ge.defaultPrevented){var be=ge.which||ge.keyCode,Me=(se.bindings[be]||[]).filter(function(at){return $e.match(ge,at)});if(Me.length!==0){var ue=se.quill.getSelection();if(!(ue==null||!se.quill.hasFocus())){var Oe=se.quill.getLine(ue.index),ze=_(Oe,2),Ye=ze[0],ve=ze[1],_e=se.quill.getLeaf(ue.index),Se=_(_e,2),Ve=Se[0],ke=Se[1],ee=ue.length===0?[Ve,ke]:se.quill.getLeaf(ue.index+ue.length),Ce=_(ee,2),Ne=Ce[0],Ie=Ce[1],oe=Ve instanceof k.default.Text?Ve.value().slice(0,ke):"",me=Ne instanceof k.default.Text?Ne.value().slice(Ie):"",Le={collapsed:ue.length===0,empty:ue.length===0&&Ye.length()<=1,format:se.quill.getFormat(ue),offset:ve,prefix:oe,suffix:me},Ze=Me.some(function(at){if(at.collapsed!=null&&at.collapsed!==Le.collapsed||at.empty!=null&&at.empty!==Le.empty||at.offset!=null&&at.offset!==Le.offset)return!1;if(Array.isArray(at.format)){if(at.format.every(function(mt){return Le.format[mt]==null}))return!1}else if(m(at.format)==="object"&&!Object.keys(at.format).every(function(mt){return at.format[mt]===!0?Le.format[mt]!=null:at.format[mt]===!1?Le.format[mt]==null:(0,p.default)(at.format[mt],Le.format[mt])}))return!1;return at.prefix!=null&&!at.prefix.test(Le.prefix)||at.suffix!=null&&!at.suffix.test(Le.suffix)?!1:at.handler.call(se,ue,Le)!==!0});Ze&&ge.preventDefault()}}}})}}]),$e}(L.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:Fe("bold"),italic:Fe("italic"),underline:Fe("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function($e,we){if(we.collapsed&&we.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($e,we){if(we.collapsed&&we.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($e,we){we.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):we.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":xe(!0),"outdent code-block":xe(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($e){this.quill.deleteText($e.index-1,1,T.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function($e){this.quill.history.cutoff();var we=new y.default().retain($e.index).delete($e.length).insert("	");this.quill.updateContents(we,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($e.index+1,T.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($e,we){this.quill.format("list",!1,T.default.sources.USER),we.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($e){var we=this.quill.getLine($e.index),se=_(we,2),ge=se[0],be=se[1],Me=(0,g.default)({},ge.formats(),{list:"checked"}),ue=new y.default().retain($e.index).insert(`
`,Me).retain(ge.length()-be-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,T.default.sources.USER),this.quill.setSelection($e.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($e,we){var se=this.quill.getLine($e.index),ge=_(se,2),be=ge[0],Me=ge[1],ue=new y.default().retain($e.index).insert(`
`,we.format).retain(be.length()-Me-1).retain(1,{header:null});this.quill.updateContents(ue,T.default.sources.USER),this.quill.setSelection($e.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($e,we){var se=we.prefix.length,ge=this.quill.getLine($e.index),be=_(ge,2),Me=be[0],ue=be[1];if(ue>se)return!0;var Oe=void 0;switch(we.prefix.trim()){case"[]":case"[ ]":Oe="unchecked";break;case"[x]":Oe="checked";break;case"-":case"*":Oe="bullet";break;default:Oe="ordered"}this.quill.insertText($e.index," ",T.default.sources.USER),this.quill.history.cutoff();var ze=new y.default().retain($e.index-ue).delete(se+1).retain(Me.length()-2-ue).retain(1,{list:Oe});this.quill.updateContents(ze,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($e.index-se,T.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($e){var we=this.quill.getLine($e.index),se=_(we,2),ge=se[0],be=se[1],Me=new y.default().retain($e.index+ge.length()-be-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Me,T.default.sources.USER)}},"embed left":ce(Z.keys.LEFT,!1),"embed left shift":ce(Z.keys.LEFT,!0),"embed right":ce(Z.keys.RIGHT,!1),"embed right shift":ce(Z.keys.RIGHT,!0)}};function ce(ie,$e){var we,se=ie===Z.keys.LEFT?"prefix":"suffix";return we={key:ie,shiftKey:$e,altKey:null},P(we,se,/^$/),P(we,"handler",function(be){var Me=be.index;ie===Z.keys.RIGHT&&(Me+=be.length+1);var ue=this.quill.getLeaf(Me),Oe=_(ue,1),ze=Oe[0];return ze instanceof k.default.Embed?(ie===Z.keys.LEFT?$e?this.quill.setSelection(be.index-1,be.length+1,T.default.sources.USER):this.quill.setSelection(be.index-1,T.default.sources.USER):$e?this.quill.setSelection(be.index,be.length+1,T.default.sources.USER):this.quill.setSelection(be.index+be.length+1,T.default.sources.USER),!1):!0}),we}function ae(ie,$e){if(!(ie.index===0||this.quill.getLength()<=1)){var we=this.quill.getLine(ie.index),se=_(we,1),ge=se[0],be={};if($e.offset===0){var Me=this.quill.getLine(ie.index-1),ue=_(Me,1),Oe=ue[0];if(Oe!=null&&Oe.length()>1){var ze=ge.formats(),Ye=this.quill.getFormat(ie.index-1,1);be=x.default.attributes.diff(ze,Ye)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($e.prefix)?2:1;this.quill.deleteText(ie.index-ve,ve,T.default.sources.USER),Object.keys(be).length>0&&this.quill.formatLine(ie.index-ve,ve,be,T.default.sources.USER),this.quill.focus()}}function J(ie,$e){var we=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($e.suffix)?2:1;if(!(ie.index>=this.quill.getLength()-we)){var se={},ge=0,be=this.quill.getLine(ie.index),Me=_(be,1),ue=Me[0];if($e.offset>=ue.length()-1){var Oe=this.quill.getLine(ie.index+1),ze=_(Oe,1),Ye=ze[0];if(Ye){var ve=ue.formats(),_e=this.quill.getFormat(ie.index,1);se=x.default.attributes.diff(ve,_e)||{},ge=Ye.length()}}this.quill.deleteText(ie.index,we,T.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(ie.index+ge-1,we,se,T.default.sources.USER)}}function z(ie){var $e=this.quill.getLines(ie),we={};if($e.length>1){var se=$e[0].formats(),ge=$e[$e.length-1].formats();we=x.default.attributes.diff(ge,se)||{}}this.quill.deleteText(ie,T.default.sources.USER),Object.keys(we).length>0&&this.quill.formatLine(ie.index,1,we,T.default.sources.USER),this.quill.setSelection(ie.index,T.default.sources.SILENT),this.quill.focus()}function ne(ie,$e){var we=this;ie.length>0&&this.quill.scroll.deleteAt(ie.index,ie.length);var se=Object.keys($e.format).reduce(function(ge,be){return k.default.query(be,k.default.Scope.BLOCK)&&!Array.isArray($e.format[be])&&(ge[be]=$e.format[be]),ge},{});this.quill.insertText(ie.index,`
`,se,T.default.sources.USER),this.quill.setSelection(ie.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys($e.format).forEach(function(ge){se[ge]==null&&(Array.isArray($e.format[ge])||ge!=="link"&&we.quill.format(ge,$e.format[ge],T.default.sources.USER))})}function xe(ie){return{key:Z.keys.TAB,shiftKey:!ie,format:{"code-block":!0},handler:function(we){var se=k.default.query("code-block"),ge=we.index,be=we.length,Me=this.quill.scroll.descendant(se,ge),ue=_(Me,2),Oe=ue[0],ze=ue[1];if(Oe!=null){var Ye=this.quill.getIndex(Oe),ve=Oe.newlineIndex(ze,!0)+1,_e=Oe.newlineIndex(Ye+ze+be),Se=Oe.domNode.textContent.slice(ve,_e).split(`
`);ze=0,Se.forEach(function(Ve,ke){ie?(Oe.insertAt(ve+ze,se.TAB),ze+=se.TAB.length,ke===0?ge+=se.TAB.length:be+=se.TAB.length):Ve.startsWith(se.TAB)&&(Oe.deleteAt(ve+ze,se.TAB.length),ze-=se.TAB.length,ke===0?ge-=se.TAB.length:be-=se.TAB.length),ze+=Ve.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(ge,be,T.default.sources.SILENT)}}}}function Fe(ie){return{key:ie[0].toUpperCase(),shortKey:!0,handler:function(we,se){this.quill.format(ie,!se.format[ie],T.default.sources.USER)}}}function he(ie){if(typeof ie=="string"||typeof ie=="number")return he({key:ie});if((typeof ie>"u"?"undefined":m(ie))==="object"&&(ie=(0,i.default)(ie,!1)),typeof ie.key=="string")if(Z.keys[ie.key.toUpperCase()]!=null)ie.key=Z.keys[ie.key.toUpperCase()];else if(ie.key.length===1)ie.key=ie.key.toUpperCase().charCodeAt(0);else return null;return ie.shortKey&&(ie[U]=ie.shortKey,delete ie.shortKey),ie}t.default=Z,t.SHORTKEY=U},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function x(E,k){var w=[],T=!0,V=!1,B=void 0;try{for(var O=E[Symbol.iterator](),L;!(T=(L=O.next()).done)&&(w.push(L.value),!(k&&w.length===k));T=!0);}catch(R){V=!0,B=R}finally{try{!T&&O.return&&O.return()}finally{if(V)throw B}}return w}return function(E,k){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return x(E,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function x(E,k,w){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,k);if(T===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:x(V,k,w)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(w)}},l=function(){function x(E,k){for(var w=0;w<k.length;w++){var T=k[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,k,w){return k&&x(E.prototype,k),w&&x(E,w),E}}(),r=c(0),i=v(r),d=c(7),p=v(d);function v(x){return x&&x.__esModule?x:{default:x}}function g(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function D(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function y(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var C=function(x){y(E,x),l(E,null,[{key:"value",value:function(){}}]);function E(k,w){g(this,E);var T=D(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k));return T.selection=w,T.textNode=document.createTextNode(E.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return l(E,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,T){if(this._length!==0)return _(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,w,T);for(var V=this,B=0;V!=null&&V.statics.scope!==i.default.Scope.BLOCK_BLOT;)B+=V.offset(V.parent),V=V.parent;V!=null&&(this._length=E.CONTENTS.length,V.optimize(),V.formatAt(B,E.CONTENTS.length,w,T),this._length=0)}},{key:"index",value:function(w,T){return w===this.textNode?0:_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,w,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,T=this.selection.getNativeRange(),V=void 0,B=void 0,O=void 0;if(T!=null&&T.start.node===w&&T.end.node===w){var L=[w,T.start.offset,T.end.offset];V=L[0],B=L[1],O=L[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==E.CONTENTS){var R=this.textNode.data.split(E.CONTENTS).join("");this.next instanceof p.default?(V=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=E.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),B!=null){var P=[B,O].map(function(S){return Math.max(0,Math.min(V.data.length,S-1))}),I=m(P,2);return B=I[0],O=I[1],{startNode:V,startOffset:B,endNode:V,endOffset:O}}}}},{key:"update",value:function(w,T){var V=this;if(w.some(function(O){return O.type==="characterData"&&O.target===V.textNode})){var B=this.restore();B&&(T.range=B)}}},{key:"value",value:function(){return""}}]),E}(i.default.Embed);C.blotName="cursor",C.className="ql-cursor",C.tagName="span",C.CONTENTS="\uFEFF",t.default=C},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=i(m),l=c(4),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(_.default.Container);g.allowedChildren=[r.default,l.BlockEmbed,g],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var m=function(){function C(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&C(x.prototype,E),k&&C(x,k),x}}(),_=function C(x,E,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,E);if(w===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:C(T,E,k)}else{if("value"in w)return w.value;var V=w.get;return V===void 0?void 0:V.call(k)}},l=c(0),r=i(l);function i(C){return C&&C.__esModule?C:{default:C}}function d(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function p(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function v(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}var g=function(C){v(x,C);function x(){return d(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"value",value:function(k){var w=_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,k);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):w}}]),x}(r.default.Attributor.Style),D=new r.default.Attributor.Class("color","ql-color",{scope:r.default.Scope.INLINE}),y=new g("color","color",{scope:r.default.Scope.INLINE});t.ColorAttributor=g,t.ColorClass=D,t.ColorStyle=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var m=function(){function y(C,x){for(var E=0;E<x.length;E++){var k=x[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,x,E){return x&&y(C.prototype,x),E&&y(C,E),C}}(),_=function y(C,x,E){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,x);if(k===void 0){var w=Object.getPrototypeOf(C);return w===null?void 0:y(w,x,E)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(E)}},l=c(6),r=i(l);function i(y){return y&&y.__esModule?y:{default:y}}function d(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function p(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:y}function v(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}var g=function(y){v(C,y);function C(){return d(this,C),p(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"format",value:function(E,k){if(E!==this.statics.blotName||!k)return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,E,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(E){var k=_(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,E);return E=this.sanitize(E),k.setAttribute("href",E),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(E){return E.getAttribute("href")}},{key:"sanitize",value:function(E){return D(E,this.PROTOCOL_WHITELIST)?E:this.SANITIZED_URL}}]),C}(r.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function D(y,C){var x=document.createElement("a");x.href=y;var E=x.href.slice(0,x.href.indexOf(":"));return C.indexOf(E)>-1}t.default=g,t.sanitize=D},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},_=function(){function C(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&C(x.prototype,E),k&&C(x,k),x}}(),l=c(23),r=p(l),i=c(107),d=p(i);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}var g=0;function D(C,x){C.setAttribute(x,C.getAttribute(x)!=="true")}var y=function(){function C(x){var E=this;v(this,C),this.select=x,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){E.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case r.default.keys.ENTER:E.togglePicker();break;case r.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return _(C,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),D(this.label,"aria-expanded"),D(this.options,"aria-hidden")}},{key:"buildItem",value:function(E){var k=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),E.hasAttribute("value")&&w.setAttribute("data-value",E.getAttribute("value")),E.textContent&&w.setAttribute("data-label",E.textContent),w.addEventListener("click",function(){k.selectItem(w,!0)}),w.addEventListener("keydown",function(T){switch(T.keyCode){case r.default.keys.ENTER:k.selectItem(w,!0),T.preventDefault();break;case r.default.keys.ESCAPE:k.escape(),T.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var E=document.createElement("span");return E.classList.add("ql-picker-label"),E.innerHTML=d.default,E.tabIndex="0",E.setAttribute("role","button"),E.setAttribute("aria-expanded","false"),this.container.appendChild(E),E}},{key:"buildOptions",value:function(){var E=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(w){var T=E.buildItem(w);k.appendChild(T),w.selected===!0&&E.selectItem(T)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var E=this;[].slice.call(this.select.attributes).forEach(function(k){E.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var E=this;this.close(),setTimeout(function(){return E.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(E!==w&&(w!=null&&w.classList.remove("ql-selected"),E!=null&&(E.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(E.parentNode.children,E),E.hasAttribute("data-value")?this.label.setAttribute("data-value",E.getAttribute("data-value")):this.label.removeAttribute("data-value"),E.hasAttribute("data-label")?this.label.setAttribute("data-label",E.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":m(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var E=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];E=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var w=E!=null&&E!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),C}();t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=N(m),l=c(5),r=N(l),i=c(4),d=N(i),p=c(16),v=N(p),g=c(25),D=N(g),y=c(24),C=N(y),x=c(35),E=N(x),k=c(6),w=N(k),T=c(22),V=N(T),B=c(7),O=N(B),L=c(55),R=N(L),P=c(42),I=N(P),S=c(23),F=N(S);function N(U){return U&&U.__esModule?U:{default:U}}r.default.register({"blots/block":d.default,"blots/block/embed":i.BlockEmbed,"blots/break":v.default,"blots/container":D.default,"blots/cursor":C.default,"blots/embed":E.default,"blots/inline":w.default,"blots/scroll":V.default,"blots/text":O.default,"modules/clipboard":R.default,"modules/history":I.default,"modules/keyboard":F.default}),_.default.register(d.default,v.default,C.default,w.default,V.default,O.default),t.default=r.default},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(1),_=function(){function l(r){this.domNode=r,this.domNode[m.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(r){if(this.tagName==null)throw new m.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof r=="string"&&(r=r.toUpperCase(),parseInt(r).toString()===r&&(r=parseInt(r))),typeof r=="number"?i=document.createElement(this.tagName[r-1]):this.tagName.indexOf(r)>-1?i=document.createElement(r):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var r=this.domNode.cloneNode(!1);return m.create(r)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[m.DATA_KEY]},l.prototype.deleteAt=function(r,i){var d=this.isolate(r,i);d.remove()},l.prototype.formatAt=function(r,i,d,p){var v=this.isolate(r,i);if(m.query(d,m.Scope.BLOT)!=null&&p)v.wrap(d,p);else if(m.query(d,m.Scope.ATTRIBUTE)!=null){var g=m.create(this.statics.scope);v.wrap(g),g.format(d,p)}},l.prototype.insertAt=function(r,i,d){var p=d==null?m.create("text",i):m.create(i,d),v=this.split(r);this.parent.insertBefore(p,v)},l.prototype.insertInto=function(r,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var d=null;r.children.insertBefore(this,i),i!=null&&(d=i.domNode),(this.domNode.parentNode!=r.domNode||this.domNode.nextSibling!=d)&&r.domNode.insertBefore(this.domNode,d),this.parent=r,this.attach()},l.prototype.isolate=function(r,i){var d=this.split(r);return d.split(i),d},l.prototype.length=function(){return 1},l.prototype.offset=function(r){return r===void 0&&(r=this.parent),this.parent==null||this==r?0:this.parent.children.offset(this)+this.parent.offset(r)},l.prototype.optimize=function(r){this.domNode[m.DATA_KEY]!=null&&delete this.domNode[m.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(r){r.parent!=null&&(r.parent.insertBefore(this,r.next),r.remove())},l.prototype.replaceWith=function(r,i){var d=typeof r=="string"?m.create(r,i):r;return d.replace(this),d},l.prototype.split=function(r,i){return r===0?this:this.next},l.prototype.update=function(r,i){},l.prototype.wrap=function(r,i){var d=typeof r=="string"?m.create(r,i):r;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(12),_=c(32),l=c(33),r=c(1),i=function(){function d(p){this.attributes={},this.domNode=p,this.build()}return d.prototype.attribute=function(p,v){v?p.add(this.domNode,v)&&(p.value(this.domNode)!=null?this.attributes[p.attrName]=p:delete this.attributes[p.attrName]):(p.remove(this.domNode),delete this.attributes[p.attrName])},d.prototype.build=function(){var p=this;this.attributes={};var v=m.default.keys(this.domNode),g=_.default.keys(this.domNode),D=l.default.keys(this.domNode);v.concat(g).concat(D).forEach(function(y){var C=r.query(y,r.Scope.ATTRIBUTE);C instanceof m.default&&(p.attributes[C.attrName]=C)})},d.prototype.copy=function(p){var v=this;Object.keys(this.attributes).forEach(function(g){var D=v.attributes[g].value(v.domNode);p.format(g,D)})},d.prototype.move=function(p){var v=this;this.copy(p),Object.keys(this.attributes).forEach(function(g){v.attributes[g].remove(v.domNode)}),this.attributes={}},d.prototype.values=function(){var p=this;return Object.keys(this.attributes).reduce(function(v,g){return v[g]=p.attributes[g].value(p.domNode),v},{})},d}();t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12);function l(i,d){var p=i.getAttribute("class")||"";return p.split(/\s+/).filter(function(v){return v.indexOf(d+"-")===0})}var r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.keys=function(p){return(p.getAttribute("class")||"").split(/\s+/).map(function(v){return v.split("-").slice(0,-1).join("-")})},d.prototype.add=function(p,v){return this.canAdd(p,v)?(this.remove(p),p.classList.add(this.keyName+"-"+v),!0):!1},d.prototype.remove=function(p){var v=l(p,this.keyName);v.forEach(function(g){p.classList.remove(g)}),p.classList.length===0&&p.removeAttribute("class")},d.prototype.value=function(p){var v=l(p,this.keyName)[0]||"",g=v.slice(this.keyName.length+1);return this.canAdd(p,g)?g:""},d}(_.default);t.default=r},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12);function l(i){var d=i.split("-"),p=d.slice(1).map(function(v){return v[0].toUpperCase()+v.slice(1)}).join("");return d[0]+p}var r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.keys=function(p){return(p.getAttribute("style")||"").split(";").map(function(v){var g=v.split(":");return g[0].trim()})},d.prototype.add=function(p,v){return this.canAdd(p,v)?(p.style[l(this.keyName)]=v,!0):!1},d.prototype.remove=function(p){p.style[l(this.keyName)]="",p.getAttribute("style")||p.removeAttribute("style")},d.prototype.value=function(p){var v=p.style[l(this.keyName)];return this.canAdd(p,v)?v:""},d}(_.default);t.default=r},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function r(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&r(i.prototype,d),p&&r(i,p),i}}();function _(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var l=function(){function r(i,d){_(this,r),this.quill=i,this.options=d,this.modules={}}return m(r,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(p){d.modules[p]==null&&d.addModule(p)})}},{key:"addModule",value:function(d){var p=this.quill.constructor.import("modules/"+d);return this.modules[d]=new p(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),r}();l.DEFAULTS={modules:{}},l.themes={default:l},t.default=l},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function x(E,k){for(var w=0;w<k.length;w++){var T=k[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,k,w){return k&&x(E.prototype,k),w&&x(E,w),E}}(),_=function x(E,k,w){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,k);if(T===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:x(V,k,w)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(w)}},l=c(0),r=p(l),i=c(7),d=p(i);function p(x){return x&&x.__esModule?x:{default:x}}function v(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function g(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function D(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var y="\uFEFF",C=function(x){D(E,x);function E(k){v(this,E);var w=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(T){w.contentNode.appendChild(T)}),w.leftGuard=document.createTextNode(y),w.rightGuard=document.createTextNode(y),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return m(E,[{key:"index",value:function(w,T){return w===this.leftGuard?0:w===this.rightGuard?1:_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,w,T)}},{key:"restore",value:function(w){var T=void 0,V=void 0,B=w.data.split(y).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var O=this.prev.length();this.prev.insertAt(O,B),T={startNode:this.prev.domNode,startOffset:O+B.length}}else V=document.createTextNode(B),this.parent.insertBefore(r.default.create(V),this),T={startNode:V,startOffset:B.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,B),T={startNode:this.next.domNode,startOffset:B.length}):(V=document.createTextNode(B),this.parent.insertBefore(r.default.create(V),this.next),T={startNode:V,startOffset:B.length}));return w.data=y,T}},{key:"update",value:function(w,T){var V=this;w.forEach(function(B){if(B.type==="characterData"&&(B.target===V.leftGuard||B.target===V.rightGuard)){var O=V.restore(B.target);O&&(T.range=O)}})}}]),E}(r.default.Embed);t.default=C},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}var r={scope:_.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new _.default.Attributor.Attribute("align","align",r),d=new _.default.Attributor.Class("align","ql-align",r),p=new _.default.Attributor.Style("align","text-align",r);t.AlignAttribute=i,t.AlignClass=d,t.AlignStyle=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var m=c(0),_=r(m),l=c(26);function r(p){return p&&p.__esModule?p:{default:p}}var i=new _.default.Attributor.Class("background","ql-bg",{scope:_.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:_.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=d},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}var r={scope:_.default.Scope.BLOCK,whitelist:["rtl"]},i=new _.default.Attributor.Attribute("direction","dir",r),d=new _.default.Attributor.Class("direction","ql-direction",r),p=new _.default.Attributor.Style("direction","direction",r);t.DirectionAttribute=i,t.DirectionClass=d,t.DirectionStyle=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var m=function(){function x(E,k){for(var w=0;w<k.length;w++){var T=k[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,k,w){return k&&x(E.prototype,k),w&&x(E,w),E}}(),_=function x(E,k,w){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,k);if(T===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:x(V,k,w)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(w)}},l=c(0),r=i(l);function i(x){return x&&x.__esModule?x:{default:x}}function d(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function p(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function v(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var g={scope:r.default.Scope.INLINE,whitelist:["serif","monospace"]},D=new r.default.Attributor.Class("font","ql-font",g),y=function(x){v(E,x);function E(){return d(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return m(E,[{key:"value",value:function(w){return _(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),E}(r.default.Attributor.Style),C=new y("font","font-family",g);t.FontStyle=C,t.FontClass=D},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var m=c(0),_=l(m);function l(d){return d&&d.__esModule?d:{default:d}}var r=new _.default.Attributor.Class("size","ql-size",{scope:_.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new _.default.Attributor.Style("size","font-size",{scope:_.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=r,t.SizeStyle=i},function(s,t,c){s.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var m=function(){function k(w,T){for(var V=0;V<T.length;V++){var B=T[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(w,B.key,B)}}return function(w,T,V){return T&&k(w.prototype,T),V&&k(w,V),w}}(),_=c(0),l=v(_),r=c(5),i=v(r),d=c(9),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function g(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function D(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function y(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var C=function(k){y(w,k);function w(T,V){g(this,w);var B=D(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,V));return B.lastRecorded=0,B.ignoreChange=!1,B.clear(),B.quill.on(i.default.events.EDITOR_CHANGE,function(O,L,R,P){O!==i.default.events.TEXT_CHANGE||B.ignoreChange||(!B.options.userOnly||P===i.default.sources.USER?B.record(L,R):B.transform(L))}),B.quill.keyboard.addBinding({key:"Z",shortKey:!0},B.undo.bind(B)),B.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},B.redo.bind(B)),/Win/i.test(navigator.platform)&&B.quill.keyboard.addBinding({key:"Y",shortKey:!0},B.redo.bind(B)),B}return m(w,[{key:"change",value:function(V,B){if(this.stack[V].length!==0){var O=this.stack[V].pop();this.stack[B].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[V],i.default.sources.USER),this.ignoreChange=!1;var L=E(O[V]);this.quill.setSelection(L)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(V,B){if(V.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(B),L=Date.now();if(this.lastRecorded+this.options.delay>L&&this.stack.undo.length>0){var R=this.stack.undo.pop();O=O.compose(R.undo),V=R.redo.compose(V)}else this.lastRecorded=L;this.stack.undo.push({redo:V,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(V){this.stack.undo.forEach(function(B){B.undo=V.transform(B.undo,!0),B.redo=V.transform(B.redo,!0)}),this.stack.redo.forEach(function(B){B.undo=V.transform(B.undo,!0),B.redo=V.transform(B.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(p.default);C.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function x(k){var w=k.ops[k.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(T){return l.default.query(T,l.default.Scope.BLOCK)!=null}):!1}function E(k){var w=k.reduce(function(V,B){return V+=B.delete||0,V},0),T=k.length()-w;return x(k)&&(T-=1),T}t.default=C,t.getLastChangeIndex=E},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var m=function(){function ne(xe,Fe){for(var he=0;he<Fe.length;he++){var ie=Fe[he];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(xe,ie.key,ie)}}return function(xe,Fe,he){return Fe&&ne(xe.prototype,Fe),he&&ne(xe,he),xe}}(),_=function ne(xe,Fe,he){xe===null&&(xe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(xe,Fe);if(ie===void 0){var $e=Object.getPrototypeOf(xe);return $e===null?void 0:ne($e,Fe,he)}else{if("value"in ie)return ie.value;var we=ie.get;return we===void 0?void 0:we.call(he)}},l=c(3),r=L(l),i=c(2),d=L(i),p=c(8),v=L(p),g=c(23),D=L(g),y=c(34),C=L(y),x=c(59),E=L(x),k=c(60),w=L(k),T=c(28),V=L(T),B=c(61),O=L(B);function L(ne){return ne&&ne.__esModule?ne:{default:ne}}function R(ne,xe){if(!(ne instanceof xe))throw new TypeError("Cannot call a class as a function")}function P(ne,xe){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe&&(typeof xe=="object"||typeof xe=="function")?xe:ne}function I(ne,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xe);ne.prototype=Object.create(xe&&xe.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),xe&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,xe):ne.__proto__=xe)}var S=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],U=["1","2","3",!1],Z=["small",!1,"large","huge"],ce=function(ne){I(xe,ne);function xe(Fe,he){R(this,xe);var ie=P(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this,Fe,he)),$e=function we(se){if(!document.body.contains(Fe.root))return document.body.removeEventListener("click",we);ie.tooltip!=null&&!ie.tooltip.root.contains(se.target)&&document.activeElement!==ie.tooltip.textbox&&!ie.quill.hasFocus()&&ie.tooltip.hide(),ie.pickers!=null&&ie.pickers.forEach(function(ge){ge.container.contains(se.target)||ge.close()})};return Fe.emitter.listenDOM("click",document.body,$e),ie}return m(xe,[{key:"addModule",value:function(he){var ie=_(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"addModule",this).call(this,he);return he==="toolbar"&&this.extendToolbar(ie),ie}},{key:"buildButtons",value:function(he,ie){he.forEach(function($e){var we=$e.getAttribute("class")||"";we.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),ie[se]!=null))if(se==="direction")$e.innerHTML=ie[se][""]+ie[se].rtl;else if(typeof ie[se]=="string")$e.innerHTML=ie[se];else{var ge=$e.value||"";ge!=null&&ie[se][ge]&&($e.innerHTML=ie[se][ge])}})})}},{key:"buildPickers",value:function(he,ie){var $e=this;this.pickers=he.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&z(se,S),new w.default(se,ie.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var ge=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&z(se,F,ge==="background"?"#ffffff":"#000000"),new E.default(se,ie[ge])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?z(se,N):se.classList.contains("ql-header")?z(se,U):se.classList.contains("ql-size")&&z(se,Z)),new V.default(se)});var we=function(){$e.pickers.forEach(function(ge){ge.update()})};this.quill.on(v.default.events.EDITOR_CHANGE,we)}}]),xe}(C.default);ce.DEFAULTS=(0,r.default)(!0,{},C.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var xe=this,Fe=this.container.querySelector("input.ql-image[type=file]");Fe==null&&(Fe=document.createElement("input"),Fe.setAttribute("type","file"),Fe.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Fe.classList.add("ql-image"),Fe.addEventListener("change",function(){if(Fe.files!=null&&Fe.files[0]!=null){var he=new FileReader;he.onload=function(ie){var $e=xe.quill.getSelection(!0);xe.quill.updateContents(new d.default().retain($e.index).delete($e.length).insert({image:ie.target.result}),v.default.sources.USER),xe.quill.setSelection($e.index+1,v.default.sources.SILENT),Fe.value=""},he.readAsDataURL(Fe.files[0])}}),this.container.appendChild(Fe)),Fe.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ae=function(ne){I(xe,ne);function xe(Fe,he){R(this,xe);var ie=P(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this,Fe,he));return ie.textbox=ie.root.querySelector('input[type="text"]'),ie.listen(),ie}return m(xe,[{key:"listen",value:function(){var he=this;this.textbox.addEventListener("keydown",function(ie){D.default.match(ie,"enter")?(he.save(),ie.preventDefault()):D.default.match(ie,"escape")&&(he.cancel(),ie.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ie!=null?this.textbox.value=ie:he!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+he)||""),this.root.setAttribute("data-mode",he)}},{key:"restoreFocus",value:function(){var he=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=he}},{key:"save",value:function(){var he=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ie=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",he,v.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",he,v.default.sources.USER)),this.quill.root.scrollTop=ie;break}case"video":he=J(he);case"formula":{if(!he)break;var $e=this.quill.getSelection(!0);if($e!=null){var we=$e.index+$e.length;this.quill.insertEmbed(we,this.root.getAttribute("data-mode"),he,v.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(we+1," ",v.default.sources.USER),this.quill.setSelection(we+2,v.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),xe}(O.default);function J(ne){var xe=ne.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||ne.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return xe?(xe[1]||"https")+"://www.youtube.com/embed/"+xe[2]+"?showinfo=0":(xe=ne.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(xe[1]||"https")+"://player.vimeo.com/video/"+xe[2]+"/":ne}function z(ne,xe){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;xe.forEach(function(he){var ie=document.createElement("option");he===Fe?ie.setAttribute("selected","selected"):ie.setAttribute("value",he),ne.appendChild(ie)})}t.BaseTooltip=ae,t.default=ce},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function _(){this.head=this.tail=null,this.length=0}return _.prototype.append=function(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},_.prototype.contains=function(l){for(var r,i=this.iterator();r=i();)if(r===l)return!0;return!1},_.prototype.insertBefore=function(l,r){l&&(l.next=r,r!=null?(l.prev=r.prev,r.prev!=null&&(r.prev.next=l),r.prev=l,r===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},_.prototype.offset=function(l){for(var r=0,i=this.head;i!=null;){if(i===l)return r;r+=i.length(),i=i.next}return-1},_.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},_.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var r=l;return l!=null&&(l=l.next),r}},_.prototype.find=function(l,r){r===void 0&&(r=!1);for(var i,d=this.iterator();i=d();){var p=i.length();if(l<p||r&&l===p&&(i.next==null||i.next.length()!==0))return[i,l];l-=p}return[null,0]},_.prototype.forEach=function(l){for(var r,i=this.iterator();r=i();)l(r)},_.prototype.forEachAt=function(l,r,i){if(!(r<=0))for(var d=this.find(l),p=d[0],v=d[1],g,D=l-v,y=this.iterator(p);(g=y())&&D<l+r;){var C=g.length();l>D?i(g,l-D,Math.min(r,D+C-l)):i(g,0,Math.min(C,l+r-D)),D+=C}},_.prototype.map=function(l){return this.reduce(function(r,i){return r.push(l(i)),r},[])},_.prototype.reduce=function(l,r){for(var i,d=this.iterator();i=d();)r=l(r,i);return r},_}();t.default=m},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var D in g)g.hasOwnProperty(D)&&(v[D]=g[D])};return function(v,g){p(v,g);function D(){this.constructor=v}v.prototype=g===null?Object.create(g):(D.prototype=g.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(17),l=c(1),r={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=100,d=function(p){m(v,p);function v(g){var D=p.call(this,g)||this;return D.scroll=D,D.observer=new MutationObserver(function(y){D.update(y)}),D.observer.observe(D.domNode,r),D.attach(),D}return v.prototype.detach=function(){p.prototype.detach.call(this),this.observer.disconnect()},v.prototype.deleteAt=function(g,D){this.update(),g===0&&D===this.length()?this.children.forEach(function(y){y.remove()}):p.prototype.deleteAt.call(this,g,D)},v.prototype.formatAt=function(g,D,y,C){this.update(),p.prototype.formatAt.call(this,g,D,y,C)},v.prototype.insertAt=function(g,D,y){this.update(),p.prototype.insertAt.call(this,g,D,y)},v.prototype.optimize=function(g,D){var y=this;g===void 0&&(g=[]),D===void 0&&(D={}),p.prototype.optimize.call(this,D);for(var C=[].slice.call(this.observer.takeRecords());C.length>0;)g.push(C.pop());for(var x=function(T,V){V===void 0&&(V=!0),!(T==null||T===y)&&T.domNode.parentNode!=null&&(T.domNode[l.DATA_KEY].mutations==null&&(T.domNode[l.DATA_KEY].mutations=[]),V&&x(T.parent))},E=function(T){T.domNode[l.DATA_KEY]==null||T.domNode[l.DATA_KEY].mutations==null||(T instanceof _.default&&T.children.forEach(E),T.optimize(D))},k=g,w=0;k.length>0;w+=1){if(w>=i)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(T){var V=l.find(T.target,!0);V!=null&&(V.domNode===T.target&&(T.type==="childList"?(x(l.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(B){var O=l.find(B,!1);x(O,!1),O instanceof _.default&&O.children.forEach(function(L){x(L,!1)})})):T.type==="attributes"&&x(V.prev)),x(V))}),this.children.forEach(E),k=[].slice.call(this.observer.takeRecords()),C=k.slice();C.length>0;)g.push(C.pop())}},v.prototype.update=function(g,D){var y=this;D===void 0&&(D={}),g=g||this.observer.takeRecords(),g.map(function(C){var x=l.find(C.target,!0);return x==null?null:x.domNode[l.DATA_KEY].mutations==null?(x.domNode[l.DATA_KEY].mutations=[C],x):(x.domNode[l.DATA_KEY].mutations.push(C),null)}).forEach(function(C){C==null||C===y||C.domNode[l.DATA_KEY]==null||C.update(C.domNode[l.DATA_KEY].mutations||[],D)}),this.domNode[l.DATA_KEY].mutations!=null&&p.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,D),this.optimize(g,D)},v.blotName="scroll",v.defaultChild="block",v.scope=l.Scope.BLOCK_BLOT,v.tagName="DIV",v}(_.default);t.default=d},function(s,t,c){var m=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])};return function(p,v){d(p,v);function g(){this.constructor=p}p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(18),l=c(1);function r(d,p){if(Object.keys(d).length!==Object.keys(p).length)return!1;for(var v in d)if(d[v]!==p[v])return!1;return!0}var i=function(d){m(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.formats=function(v){if(v.tagName!==p.tagName)return d.formats.call(this,v)},p.prototype.format=function(v,g){var D=this;v===this.statics.blotName&&!g?(this.children.forEach(function(y){y instanceof _.default||(y=y.wrap(p.blotName,!0)),D.attributes.copy(y)}),this.unwrap()):d.prototype.format.call(this,v,g)},p.prototype.formatAt=function(v,g,D,y){if(this.formats()[D]!=null||l.query(D,l.Scope.ATTRIBUTE)){var C=this.isolate(v,g);C.format(D,y)}else d.prototype.formatAt.call(this,v,g,D,y)},p.prototype.optimize=function(v){d.prototype.optimize.call(this,v);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var D=this.next;D instanceof p&&D.prev===this&&r(g,D.formats())&&(D.moveChildren(this),D.remove())},p.blotName="inline",p.scope=l.Scope.INLINE_BLOT,p.tagName="SPAN",p}(_.default);t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(18),l=c(1),r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.formats=function(p){var v=l.query(d.blotName).tagName;if(p.tagName!==v)return i.formats.call(this,p)},d.prototype.format=function(p,v){l.query(p,l.Scope.BLOCK)!=null&&(p===this.statics.blotName&&!v?this.replaceWith(d.blotName):i.prototype.format.call(this,p,v))},d.prototype.formatAt=function(p,v,g,D){l.query(g,l.Scope.BLOCK)!=null?this.format(g,D):i.prototype.formatAt.call(this,p,v,g,D)},d.prototype.insertAt=function(p,v,g){if(g==null||l.query(v,l.Scope.INLINE)!=null)i.prototype.insertAt.call(this,p,v,g);else{var D=this.split(p),y=l.create(v,g);D.parent.insertBefore(y,D)}},d.prototype.update=function(p,v){navigator.userAgent.match(/Trident/)?this.build():i.prototype.update.call(this,p,v)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(_.default);t.default=r},function(s,t,c){var m=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])};return function(i,d){r(i,d);function p(){this.constructor=i}i.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(19),l=function(r){m(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.formats=function(d){},i.prototype.format=function(d,p){r.prototype.formatAt.call(this,0,this.length(),d,p)},i.prototype.formatAt=function(d,p,v,g){d===0&&p===this.length()?this.format(v,g):r.prototype.formatAt.call(this,d,p,v,g)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(_.default);t.default=l},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(19),l=c(1),r=function(i){m(d,i);function d(p){var v=i.call(this,p)||this;return v.text=v.statics.value(v.domNode),v}return d.create=function(p){return document.createTextNode(p)},d.value=function(p){var v=p.data;return v.normalize&&(v=v.normalize()),v},d.prototype.deleteAt=function(p,v){this.domNode.data=this.text=this.text.slice(0,p)+this.text.slice(p+v)},d.prototype.index=function(p,v){return this.domNode===p?v:-1},d.prototype.insertAt=function(p,v,g){g==null?(this.text=this.text.slice(0,p)+v+this.text.slice(p),this.domNode.data=this.text):i.prototype.insertAt.call(this,p,v,g)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(p){i.prototype.optimize.call(this,p),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(p,v){return[this.domNode,p]},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=l.create(this.domNode.splitText(p));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},d.prototype.update=function(p,v){var g=this;p.some(function(D){return D.type==="characterData"&&D.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(_.default);t.default=r},function(s,t,c){var m=document.createElement("div");if(m.classList.toggle("test-class",!1),m.classList.contains("test-class")){var _=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,r){return arguments.length>1&&!this.contains(l)==!r?r:_.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,r){return r=r||0,this.substr(r,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,r){var i=this.toString();(typeof r!="number"||!isFinite(r)||Math.floor(r)!==r||r>i.length)&&(r=i.length),r-=l.length;var d=i.indexOf(l,r);return d!==-1&&d===r}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("predicate must be a function");for(var i=Object(this),d=i.length>>>0,p=arguments[1],v,g=0;g<d;g++)if(v=i[g],r.call(p,v,g,i))return v}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,t){var c=-1,m=1,_=0;function l(w,T,V){if(w==T)return w?[[_,w]]:[];(V<0||w.length<V)&&(V=null);var B=p(w,T),O=w.substring(0,B);w=w.substring(B),T=T.substring(B),B=v(w,T);var L=w.substring(w.length-B);w=w.substring(0,w.length-B),T=T.substring(0,T.length-B);var R=r(w,T);return O&&R.unshift([_,O]),L&&R.push([_,L]),D(R),V!=null&&(R=x(R,V)),R=E(R),R}function r(w,T){var V;if(!w)return[[m,T]];if(!T)return[[c,w]];var B=w.length>T.length?w:T,O=w.length>T.length?T:w,L=B.indexOf(O);if(L!=-1)return V=[[m,B.substring(0,L)],[_,O],[m,B.substring(L+O.length)]],w.length>T.length&&(V[0][0]=V[2][0]=c),V;if(O.length==1)return[[c,w],[m,T]];var R=g(w,T);if(R){var P=R[0],I=R[1],S=R[2],F=R[3],N=R[4],U=l(P,S),Z=l(I,F);return U.concat([[_,N]],Z)}return i(w,T)}function i(w,T){for(var V=w.length,B=T.length,O=Math.ceil((V+B)/2),L=O,R=2*O,P=new Array(R),I=new Array(R),S=0;S<R;S++)P[S]=-1,I[S]=-1;P[L+1]=0,I[L+1]=0;for(var F=V-B,N=F%2!=0,U=0,Z=0,ce=0,ae=0,J=0;J<O;J++){for(var z=-J+U;z<=J-Z;z+=2){var ne=L+z,xe;z==-J||z!=J&&P[ne-1]<P[ne+1]?xe=P[ne+1]:xe=P[ne-1]+1;for(var Fe=xe-z;xe<V&&Fe<B&&w.charAt(xe)==T.charAt(Fe);)xe++,Fe++;if(P[ne]=xe,xe>V)Z+=2;else if(Fe>B)U+=2;else if(N){var he=L+F-z;if(he>=0&&he<R&&I[he]!=-1){var ie=V-I[he];if(xe>=ie)return d(w,T,xe,Fe)}}}for(var $e=-J+ce;$e<=J-ae;$e+=2){var he=L+$e,ie;$e==-J||$e!=J&&I[he-1]<I[he+1]?ie=I[he+1]:ie=I[he-1]+1;for(var we=ie-$e;ie<V&&we<B&&w.charAt(V-ie-1)==T.charAt(B-we-1);)ie++,we++;if(I[he]=ie,ie>V)ae+=2;else if(we>B)ce+=2;else if(!N){var ne=L+F-$e;if(ne>=0&&ne<R&&P[ne]!=-1){var xe=P[ne],Fe=L+xe-ne;if(ie=V-ie,xe>=ie)return d(w,T,xe,Fe)}}}}return[[c,w],[m,T]]}function d(w,T,V,B){var O=w.substring(0,V),L=T.substring(0,B),R=w.substring(V),P=T.substring(B),I=l(O,L),S=l(R,P);return I.concat(S)}function p(w,T){if(!w||!T||w.charAt(0)!=T.charAt(0))return 0;for(var V=0,B=Math.min(w.length,T.length),O=B,L=0;V<O;)w.substring(L,O)==T.substring(L,O)?(V=O,L=V):B=O,O=Math.floor((B-V)/2+V);return O}function v(w,T){if(!w||!T||w.charAt(w.length-1)!=T.charAt(T.length-1))return 0;for(var V=0,B=Math.min(w.length,T.length),O=B,L=0;V<O;)w.substring(w.length-O,w.length-L)==T.substring(T.length-O,T.length-L)?(V=O,L=V):B=O,O=Math.floor((B-V)/2+V);return O}function g(w,T){var V=w.length>T.length?w:T,B=w.length>T.length?T:w;if(V.length<4||B.length*2<V.length)return null;function O(Z,ce,ae){for(var J=Z.substring(ae,ae+Math.floor(Z.length/4)),z=-1,ne="",xe,Fe,he,ie;(z=ce.indexOf(J,z+1))!=-1;){var $e=p(Z.substring(ae),ce.substring(z)),we=v(Z.substring(0,ae),ce.substring(0,z));ne.length<we+$e&&(ne=ce.substring(z-we,z)+ce.substring(z,z+$e),xe=Z.substring(0,ae-we),Fe=Z.substring(ae+$e),he=ce.substring(0,z-we),ie=ce.substring(z+$e))}return ne.length*2>=Z.length?[xe,Fe,he,ie,ne]:null}var L=O(V,B,Math.ceil(V.length/4)),R=O(V,B,Math.ceil(V.length/2)),P;if(!L&&!R)return null;R?L?P=L[4].length>R[4].length?L:R:P=R:P=L;var I,S,F,N;w.length>T.length?(I=P[0],S=P[1],F=P[2],N=P[3]):(F=P[0],N=P[1],I=P[2],S=P[3]);var U=P[4];return[I,S,F,N,U]}function D(w){w.push([_,""]);for(var T=0,V=0,B=0,O="",L="",R;T<w.length;)switch(w[T][0]){case m:B++,L+=w[T][1],T++;break;case c:V++,O+=w[T][1],T++;break;case _:V+B>1?(V!==0&&B!==0&&(R=p(L,O),R!==0&&(T-V-B>0&&w[T-V-B-1][0]==_?w[T-V-B-1][1]+=L.substring(0,R):(w.splice(0,0,[_,L.substring(0,R)]),T++),L=L.substring(R),O=O.substring(R)),R=v(L,O),R!==0&&(w[T][1]=L.substring(L.length-R)+w[T][1],L=L.substring(0,L.length-R),O=O.substring(0,O.length-R))),V===0?w.splice(T-B,V+B,[m,L]):B===0?w.splice(T-V,V+B,[c,O]):w.splice(T-V-B,V+B,[c,O],[m,L]),T=T-V-B+(V?1:0)+(B?1:0)+1):T!==0&&w[T-1][0]==_?(w[T-1][1]+=w[T][1],w.splice(T,1)):T++,B=0,V=0,O="",L="";break}w[w.length-1][1]===""&&w.pop();var P=!1;for(T=1;T<w.length-1;)w[T-1][0]==_&&w[T+1][0]==_&&(w[T][1].substring(w[T][1].length-w[T-1][1].length)==w[T-1][1]?(w[T][1]=w[T-1][1]+w[T][1].substring(0,w[T][1].length-w[T-1][1].length),w[T+1][1]=w[T-1][1]+w[T+1][1],w.splice(T-1,1),P=!0):w[T][1].substring(0,w[T+1][1].length)==w[T+1][1]&&(w[T-1][1]+=w[T+1][1],w[T][1]=w[T][1].substring(w[T+1][1].length)+w[T+1][1],w.splice(T+1,1),P=!0)),T++;P&&D(w)}var y=l;y.INSERT=m,y.DELETE=c,y.EQUAL=_,s.exports=y;function C(w,T){if(T===0)return[_,w];for(var V=0,B=0;B<w.length;B++){var O=w[B];if(O[0]===c||O[0]===_){var L=V+O[1].length;if(T===L)return[B+1,w];if(T<L){w=w.slice();var R=T-V,P=[O[0],O[1].slice(0,R)],I=[O[0],O[1].slice(R)];return w.splice(B,1,P,I),[B+1,w]}else V=L}}throw new Error("cursor_pos is out of bounds!")}function x(w,T){var V=C(w,T),B=V[1],O=V[0],L=B[O],R=B[O+1];if(L==null)return w;if(L[0]!==_)return w;if(R!=null&&L[1]+R[1]===R[1]+L[1])return B.splice(O,2,R,L),k(B,O,2);if(R!=null&&R[1].indexOf(L[1])===0){B.splice(O,2,[R[0],L[1]],[0,L[1]]);var P=R[1].slice(L[1].length);return P.length>0&&B.splice(O+2,0,[R[0],P]),k(B,O,3)}else return w}function E(w){for(var T=!1,V=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},B=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},O=2;O<w.length;O+=1)w[O-2][0]===_&&B(w[O-2][1])&&w[O-1][0]===c&&V(w[O-1][1])&&w[O][0]===m&&V(w[O][1])&&(T=!0,w[O-1][1]=w[O-2][1].slice(-1)+w[O-1][1],w[O][1]=w[O-2][1].slice(-1)+w[O][1],w[O-2][1]=w[O-2][1].slice(0,-1));if(!T)return w;for(var L=[],O=0;O<w.length;O+=1)w[O][1].length>0&&L.push(w[O]);return L}function k(w,T,V){for(var B=T+V-1;B>=0&&B>=T-1;B--)if(B+1<w.length){var O=w[B],L=w[B+1];O[0]===L[1]&&w.splice(B,2,[O[0],O[1]+L[1]])}return w}},function(s,t){t=s.exports=typeof Object.keys=="function"?Object.keys:c,t.shim=c;function c(m){var _=[];for(var l in m)_.push(l);return _}},function(s,t){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";t=s.exports=c?m:_,t.supported=m;function m(l){return Object.prototype.toString.call(l)=="[object Arguments]"}t.unsupported=_;function _(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(s,t){var c=Object.prototype.hasOwnProperty,m="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(m=!1));function l(i,d,p){this.fn=i,this.context=d,this.once=p||!1}function r(){this._events=new _,this._eventsCount=0}r.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)c.call(p,v)&&d.push(m?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},r.prototype.listeners=function(d,p){var v=m?m+d:d,g=this._events[v];if(p)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var D=0,y=g.length,C=new Array(y);D<y;D++)C[D]=g[D].fn;return C},r.prototype.emit=function(d,p,v,g,D,y){var C=m?m+d:d;if(!this._events[C])return!1;var x=this._events[C],E=arguments.length,k,w;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,v),!0;case 4:return x.fn.call(x.context,p,v,g),!0;case 5:return x.fn.call(x.context,p,v,g,D),!0;case 6:return x.fn.call(x.context,p,v,g,D,y),!0}for(w=1,k=new Array(E-1);w<E;w++)k[w-1]=arguments[w];x.fn.apply(x.context,k)}else{var T=x.length,V;for(w=0;w<T;w++)switch(x[w].once&&this.removeListener(d,x[w].fn,void 0,!0),E){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,p);break;case 3:x[w].fn.call(x[w].context,p,v);break;case 4:x[w].fn.call(x[w].context,p,v,g);break;default:if(!k)for(V=1,k=new Array(E-1);V<E;V++)k[V-1]=arguments[V];x[w].fn.apply(x[w].context,k)}}return!0},r.prototype.on=function(d,p,v){var g=new l(p,v||this),D=m?m+d:d;return this._events[D]?this._events[D].fn?this._events[D]=[this._events[D],g]:this._events[D].push(g):(this._events[D]=g,this._eventsCount++),this},r.prototype.once=function(d,p,v){var g=new l(p,v||this,!0),D=m?m+d:d;return this._events[D]?this._events[D].fn?this._events[D]=[this._events[D],g]:this._events[D].push(g):(this._events[D]=g,this._eventsCount++),this},r.prototype.removeListener=function(d,p,v,g){var D=m?m+d:d;if(!this._events[D])return this;if(!p)return--this._eventsCount===0?this._events=new _:delete this._events[D],this;var y=this._events[D];if(y.fn)y.fn===p&&(!g||y.once)&&(!v||y.context===v)&&(--this._eventsCount===0?this._events=new _:delete this._events[D]);else{for(var C=0,x=[],E=y.length;C<E;C++)(y[C].fn!==p||g&&!y[C].once||v&&y[C].context!==v)&&x.push(y[C]);x.length?this._events[D]=x.length===1?x[0]:x:--this._eventsCount===0?this._events=new _:delete this._events[D]}return this},r.prototype.removeAllListeners=function(d){var p;return d?(p=m?m+d:d,this._events[p]&&(--this._eventsCount===0?this._events=new _:delete this._events[p])):(this._events=new _,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=m,r.EventEmitter=r,typeof s<"u"&&(s.exports=r)},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_=function(){function _e(Se,Ve){var ke=[],ee=!0,Ce=!1,Ne=void 0;try{for(var Ie=Se[Symbol.iterator](),oe;!(ee=(oe=Ie.next()).done)&&(ke.push(oe.value),!(Ve&&ke.length===Ve));ee=!0);}catch(me){Ce=!0,Ne=me}finally{try{!ee&&Ie.return&&Ie.return()}finally{if(Ce)throw Ne}}return ke}return function(Se,Ve){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return _e(Se,Ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function _e(Se,Ve){for(var ke=0;ke<Ve.length;ke++){var ee=Ve[ke];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Se,ee.key,ee)}}return function(Se,Ve,ke){return Ve&&_e(Se.prototype,Ve),ke&&_e(Se,ke),Se}}(),r=c(3),i=I(r),d=c(2),p=I(d),v=c(0),g=I(v),D=c(5),y=I(D),C=c(10),x=I(C),E=c(9),k=I(E),w=c(36),T=c(37),V=c(13),B=I(V),O=c(26),L=c(38),R=c(39),P=c(40);function I(_e){return _e&&_e.__esModule?_e:{default:_e}}function S(_e,Se,Ve){return Se in _e?Object.defineProperty(_e,Se,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):_e[Se]=Ve,_e}function F(_e,Se){if(!(_e instanceof Se))throw new TypeError("Cannot call a class as a function")}function N(_e,Se){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se&&(typeof Se=="object"||typeof Se=="function")?Se:_e}function U(_e,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Se);_e.prototype=Object.create(Se&&Se.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),Se&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,Se):_e.__proto__=Se)}var Z=(0,x.default)("quill:clipboard"),ce="__ql-matcher",ae=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,Oe],["br",be],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,ze],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ye],["li",ue],["b",we.bind(we,"bold")],["i",we.bind(we,"italic")],["style",Me]],J=[w.AlignAttribute,L.DirectionAttribute].reduce(function(_e,Se){return _e[Se.keyName]=Se,_e},{}),z=[w.AlignStyle,T.BackgroundStyle,O.ColorStyle,L.DirectionStyle,R.FontStyle,P.SizeStyle].reduce(function(_e,Se){return _e[Se.keyName]=Se,_e},{}),ne=function(_e){U(Se,_e);function Se(Ve,ke){F(this,Se);var ee=N(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,Ve,ke));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],ae.concat(ee.options.matchers).forEach(function(Ce){var Ne=_(Ce,2),Ie=Ne[0],oe=Ne[1];!ke.matchVisual&&oe===ze||ee.addMatcher(Ie,oe)}),ee}return l(Se,[{key:"addMatcher",value:function(ke,ee){this.matchers.push([ke,ee])}},{key:"convert",value:function(ke){if(typeof ke=="string")return this.container.innerHTML=ke.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[B.default.blotName]){var Ce=this.container.innerText;return this.container.innerHTML="",new p.default().insert(Ce,S({},B.default.blotName,ee[B.default.blotName]))}var Ne=this.prepareMatching(),Ie=_(Ne,2),oe=Ie[0],me=Ie[1],Le=$e(this.container,oe,me);return he(Le,`
`)&&Le.ops[Le.ops.length-1].attributes==null&&(Le=Le.compose(new p.default().retain(Le.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Le),this.container.innerHTML="",Le}},{key:"dangerouslyPasteHTML",value:function(ke,ee){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ke=="string")this.quill.setContents(this.convert(ke),ee),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ne=this.convert(ee);this.quill.updateContents(new p.default().retain(ke).concat(Ne),Ce),this.quill.setSelection(ke+Ne.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ke){var ee=this;if(!(ke.defaultPrevented||!this.quill.isEnabled())){var Ce=this.quill.getSelection(),Ne=new p.default().retain(Ce.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ne=Ne.concat(ee.convert()).delete(Ce.length),ee.quill.updateContents(Ne,y.default.sources.USER),ee.quill.setSelection(Ne.length()-Ce.length,y.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=Ie,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ke=this,ee=[],Ce=[];return this.matchers.forEach(function(Ne){var Ie=_(Ne,2),oe=Ie[0],me=Ie[1];switch(oe){case Node.TEXT_NODE:Ce.push(me);break;case Node.ELEMENT_NODE:ee.push(me);break;default:[].forEach.call(ke.container.querySelectorAll(oe),function(Le){Le[ce]=Le[ce]||[],Le[ce].push(me)});break}}),[ee,Ce]}}]),Se}(k.default);ne.DEFAULTS={matchers:[],matchVisual:!0};function xe(_e,Se,Ve){return(typeof Se>"u"?"undefined":m(Se))==="object"?Object.keys(Se).reduce(function(ke,ee){return xe(ke,ee,Se[ee])},_e):_e.reduce(function(ke,ee){return ee.attributes&&ee.attributes[Se]?ke.push(ee):ke.insert(ee.insert,(0,i.default)({},S({},Se,Ve),ee.attributes))},new p.default)}function Fe(_e){if(_e.nodeType!==Node.ELEMENT_NODE)return{};var Se="__ql-computed-style";return _e[Se]||(_e[Se]=window.getComputedStyle(_e))}function he(_e,Se){for(var Ve="",ke=_e.ops.length-1;ke>=0&&Ve.length<Se.length;--ke){var ee=_e.ops[ke];if(typeof ee.insert!="string")break;Ve=ee.insert+Ve}return Ve.slice(-1*Se.length)===Se}function ie(_e){if(_e.childNodes.length===0)return!1;var Se=Fe(_e);return["block","list-item"].indexOf(Se.display)>-1}function $e(_e,Se,Ve){return _e.nodeType===_e.TEXT_NODE?Ve.reduce(function(ke,ee){return ee(_e,ke)},new p.default):_e.nodeType===_e.ELEMENT_NODE?[].reduce.call(_e.childNodes||[],function(ke,ee){var Ce=$e(ee,Se,Ve);return ee.nodeType===_e.ELEMENT_NODE&&(Ce=Se.reduce(function(Ne,Ie){return Ie(ee,Ne)},Ce),Ce=(ee[ce]||[]).reduce(function(Ne,Ie){return Ie(ee,Ne)},Ce)),ke.concat(Ce)},new p.default):new p.default}function we(_e,Se,Ve){return xe(Ve,_e,!0)}function se(_e,Se){var Ve=g.default.Attributor.Attribute.keys(_e),ke=g.default.Attributor.Class.keys(_e),ee=g.default.Attributor.Style.keys(_e),Ce={};return Ve.concat(ke).concat(ee).forEach(function(Ne){var Ie=g.default.query(Ne,g.default.Scope.ATTRIBUTE);Ie!=null&&(Ce[Ie.attrName]=Ie.value(_e),Ce[Ie.attrName])||(Ie=J[Ne],Ie!=null&&(Ie.attrName===Ne||Ie.keyName===Ne)&&(Ce[Ie.attrName]=Ie.value(_e)||void 0),Ie=z[Ne],Ie!=null&&(Ie.attrName===Ne||Ie.keyName===Ne)&&(Ie=z[Ne],Ce[Ie.attrName]=Ie.value(_e)||void 0))}),Object.keys(Ce).length>0&&(Se=xe(Se,Ce)),Se}function ge(_e,Se){var Ve=g.default.query(_e);if(Ve==null)return Se;if(Ve.prototype instanceof g.default.Embed){var ke={},ee=Ve.value(_e);ee!=null&&(ke[Ve.blotName]=ee,Se=new p.default().insert(ke,Ve.formats(_e)))}else typeof Ve.formats=="function"&&(Se=xe(Se,Ve.blotName,Ve.formats(_e)));return Se}function be(_e,Se){return he(Se,`
`)||Se.insert(`
`),Se}function Me(){return new p.default}function ue(_e,Se){var Ve=g.default.query(_e);if(Ve==null||Ve.blotName!=="list-item"||!he(Se,`
`))return Se;for(var ke=-1,ee=_e.parentNode;!ee.classList.contains("ql-clipboard");)(g.default.query(ee)||{}).blotName==="list"&&(ke+=1),ee=ee.parentNode;return ke<=0?Se:Se.compose(new p.default().retain(Se.length()-1).retain(1,{indent:ke}))}function Oe(_e,Se){return he(Se,`
`)||(ie(_e)||Se.length()>0&&_e.nextSibling&&ie(_e.nextSibling))&&Se.insert(`
`),Se}function ze(_e,Se){if(ie(_e)&&_e.nextElementSibling!=null&&!he(Se,`

`)){var Ve=_e.offsetHeight+parseFloat(Fe(_e).marginTop)+parseFloat(Fe(_e).marginBottom);_e.nextElementSibling.offsetTop>_e.offsetTop+Ve*1.5&&Se.insert(`
`)}return Se}function Ye(_e,Se){var Ve={},ke=_e.style||{};return ke.fontStyle&&Fe(_e).fontStyle==="italic"&&(Ve.italic=!0),ke.fontWeight&&(Fe(_e).fontWeight.startsWith("bold")||parseInt(Fe(_e).fontWeight)>=700)&&(Ve.bold=!0),Object.keys(Ve).length>0&&(Se=xe(Se,Ve)),parseFloat(ke.textIndent||0)>0&&(Se=new p.default().insert("	").concat(Se)),Se}function ve(_e,Se){var Ve=_e.data;if(_e.parentNode.tagName==="O:P")return Se.insert(Ve.trim());if(Ve.trim().length===0&&_e.parentNode.classList.contains("ql-clipboard"))return Se;if(!Fe(_e.parentNode).whiteSpace.startsWith("pre")){var ke=function(Ce,Ne){return Ne=Ne.replace(/[^\u00a0]/g,""),Ne.length<1&&Ce?" ":Ne};Ve=Ve.replace(/\r\n/g," ").replace(/\n/g," "),Ve=Ve.replace(/\s\s+/g,ke.bind(ke,!0)),(_e.previousSibling==null&&ie(_e.parentNode)||_e.previousSibling!=null&&ie(_e.previousSibling))&&(Ve=Ve.replace(/^\s+/,ke.bind(ke,!1))),(_e.nextSibling==null&&ie(_e.parentNode)||_e.nextSibling!=null&&ie(_e.nextSibling))&&(Ve=Ve.replace(/\s+$/,ke.bind(ke,!1)))}return Se.insert(Ve)}t.default=ne,t.matchAttributor=se,t.matchBlot=ge,t.matchNewline=Oe,t.matchSpacing=ze,t.matchText=ve},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function D(y,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,C,x){return C&&D(y.prototype,C),x&&D(y,x),y}}(),_=function D(y,C,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,C);if(E===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:D(k,C,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},l=c(6),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,[{key:"optimize",value:function(x){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,x),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return _(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(r.default);g.blotName="bold",g.tagName=["STRONG","B"],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var m=function(){function P(I,S){var F=[],N=!0,U=!1,Z=void 0;try{for(var ce=I[Symbol.iterator](),ae;!(N=(ae=ce.next()).done)&&(F.push(ae.value),!(S&&F.length===S));N=!0);}catch(J){U=!0,Z=J}finally{try{!N&&ce.return&&ce.return()}finally{if(U)throw Z}}return F}return function(I,S){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return P(I,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function P(I,S){for(var F=0;F<S.length;F++){var N=S[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}return function(I,S,F){return S&&P(I.prototype,S),F&&P(I,F),I}}(),l=c(2),r=x(l),i=c(0),d=x(i),p=c(5),v=x(p),g=c(10),D=x(g),y=c(9),C=x(y);function x(P){return P&&P.__esModule?P:{default:P}}function E(P,I,S){return I in P?Object.defineProperty(P,I,{value:S,enumerable:!0,configurable:!0,writable:!0}):P[I]=S,P}function k(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function w(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function T(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var V=(0,D.default)("quill:toolbar"),B=function(P){T(I,P);function I(S,F){k(this,I);var N=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,S,F));if(Array.isArray(N.options.container)){var U=document.createElement("div");L(U,N.options.container),S.container.parentNode.insertBefore(U,S.container),N.container=U}else typeof N.options.container=="string"?N.container=document.querySelector(N.options.container):N.container=N.options.container;if(!(N.container instanceof HTMLElement)){var Z;return Z=V.error("Container required for toolbar",N.options),w(N,Z)}return N.container.classList.add("ql-toolbar"),N.controls=[],N.handlers={},Object.keys(N.options.handlers).forEach(function(ce){N.addHandler(ce,N.options.handlers[ce])}),[].forEach.call(N.container.querySelectorAll("button, select"),function(ce){N.attach(ce)}),N.quill.on(v.default.events.EDITOR_CHANGE,function(ce,ae){ce===v.default.events.SELECTION_CHANGE&&N.update(ae)}),N.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){var ce=N.quill.selection.getRange(),ae=m(ce,1),J=ae[0];N.update(J)}),N}return _(I,[{key:"addHandler",value:function(F,N){this.handlers[F]=N}},{key:"attach",value:function(F){var N=this,U=[].find.call(F.classList,function(ce){return ce.indexOf("ql-")===0});if(U){if(U=U.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){V.warn("ignoring attaching to disabled format",U,F);return}if(d.default.query(U)==null){V.warn("ignoring attaching to nonexistent format",U,F);return}}var Z=F.tagName==="SELECT"?"change":"click";F.addEventListener(Z,function(ce){var ae=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var J=F.options[F.selectedIndex];J.hasAttribute("selected")?ae=!1:ae=J.value||!1}else F.classList.contains("ql-active")?ae=!1:ae=F.value||!F.hasAttribute("value"),ce.preventDefault();N.quill.focus();var z=N.quill.selection.getRange(),ne=m(z,1),xe=ne[0];if(N.handlers[U]!=null)N.handlers[U].call(N,ae);else if(d.default.query(U).prototype instanceof d.default.Embed){if(ae=prompt("Enter "+U),!ae)return;N.quill.updateContents(new r.default().retain(xe.index).delete(xe.length).insert(E({},U,ae)),v.default.sources.USER)}else N.quill.format(U,ae,v.default.sources.USER);N.update(xe)}),this.controls.push([U,F])}}},{key:"update",value:function(F){var N=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(U){var Z=m(U,2),ce=Z[0],ae=Z[1];if(ae.tagName==="SELECT"){var J=void 0;if(F==null)J=null;else if(N[ce]==null)J=ae.querySelector("option[selected]");else if(!Array.isArray(N[ce])){var z=N[ce];typeof z=="string"&&(z=z.replace(/\"/g,'\\"')),J=ae.querySelector('option[value="'+z+'"]')}J==null?(ae.value="",ae.selectedIndex=-1):J.selected=!0}else if(F==null)ae.classList.remove("ql-active");else if(ae.hasAttribute("value")){var ne=N[ce]===ae.getAttribute("value")||N[ce]!=null&&N[ce].toString()===ae.getAttribute("value")||N[ce]==null&&!ae.getAttribute("value");ae.classList.toggle("ql-active",ne)}else ae.classList.toggle("ql-active",N[ce]!=null)})}}]),I}(C.default);B.DEFAULTS={};function O(P,I,S){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+I),S!=null&&(F.value=S),P.appendChild(F)}function L(P,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(S){var F=document.createElement("span");F.classList.add("ql-formats"),S.forEach(function(N){if(typeof N=="string")O(F,N);else{var U=Object.keys(N)[0],Z=N[U];Array.isArray(Z)?R(F,U,Z):O(F,U,Z)}}),P.appendChild(F)})}function R(P,I,S){var F=document.createElement("select");F.classList.add("ql-"+I),S.forEach(function(N){var U=document.createElement("option");N!==!1?U.setAttribute("value",N):U.setAttribute("selected","selected"),F.appendChild(U)}),P.appendChild(F)}B.DEFAULTS={container:null,handlers:{clean:function(){var I=this,S=this.quill.getSelection();if(S!=null)if(S.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(N){d.default.query(N,d.default.Scope.INLINE)!=null&&I.quill.format(N,!1)})}else this.quill.removeFormat(S,v.default.sources.USER)},direction:function(I){var S=this.quill.getFormat().align;I==="rtl"&&S==null?this.quill.format("align","right",v.default.sources.USER):!I&&S==="right"&&this.quill.format("align",!1,v.default.sources.USER),this.quill.format("direction",I,v.default.sources.USER)},indent:function(I){var S=this.quill.getSelection(),F=this.quill.getFormat(S),N=parseInt(F.indent||0);if(I==="+1"||I==="-1"){var U=I==="+1"?1:-1;F.direction==="rtl"&&(U*=-1),this.quill.format("indent",N+U,v.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,v.default.sources.USER)},list:function(I){var S=this.quill.getSelection(),F=this.quill.getFormat(S);I==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,v.default.sources.USER):this.quill.format("list","unchecked",v.default.sources.USER):this.quill.format("list",I,v.default.sources.USER)}}},t.default=B,t.addControls=L},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function D(y,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,C,x){return C&&D(y.prototype,C),x&&D(y,x),y}}(),_=function D(y,C,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,C);if(E===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:D(k,C,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},l=c(28),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(C,x){d(this,y);var E=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C));return E.label.innerHTML=x,E.container.classList.add("ql-color-picker"),[].slice.call(E.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),E}return m(y,[{key:"buildItem",value:function(x){var E=_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,x);return E.style.backgroundColor=x.getAttribute("value")||"",E}},{key:"selectItem",value:function(x,E){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,x,E);var k=this.label.querySelector(".ql-color-label"),w=x&&x.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=w:k.style.fill=w)}}]),y}(r.default);t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function D(y,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,C,x){return C&&D(y.prototype,C),x&&D(y,x),y}}(),_=function D(y,C,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,C);if(E===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:D(k,C,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},l=c(28),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(C,x){d(this,y);var E=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C));return E.container.classList.add("ql-icon-picker"),[].forEach.call(E.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=x[k.getAttribute("data-value")||""]}),E.defaultItem=E.container.querySelector(".ql-selected"),E.selectItem(E.defaultItem),E}return m(y,[{key:"selectItem",value:function(x,E){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,x,E),x=x||this.defaultItem,this.label.innerHTML=x.innerHTML}}]),y}(r.default);t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function r(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&r(i.prototype,d),p&&r(i,p),i}}();function _(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var l=function(){function r(i,d){var p=this;_(this,r),this.quill=i,this.boundsContainer=d||document.body,this.root=i.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){p.root.style.marginTop=-1*p.quill.root.scrollTop+"px"}),this.hide()}return m(r,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var p=d.left+d.width/2-this.root.offsetWidth/2,v=d.bottom+this.quill.root.scrollTop;this.root.style.left=p+"px",this.root.style.top=v+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),D=this.root.getBoundingClientRect(),y=0;if(D.right>g.right&&(y=g.right-D.right,this.root.style.left=p+y+"px"),D.left<g.left&&(y=g.left-D.left,this.root.style.left=p+y+"px"),D.bottom>g.bottom){var C=D.bottom-D.top,x=d.bottom-d.top+C;this.root.style.top=v-x+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),r}();t.default=l},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function R(P,I){var S=[],F=!0,N=!1,U=void 0;try{for(var Z=P[Symbol.iterator](),ce;!(F=(ce=Z.next()).done)&&(S.push(ce.value),!(I&&S.length===I));F=!0);}catch(ae){N=!0,U=ae}finally{try{!F&&Z.return&&Z.return()}finally{if(N)throw U}}return S}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return R(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function R(P,I,S){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,I);if(F===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:R(N,I,S)}else{if("value"in F)return F.value;var U=F.get;return U===void 0?void 0:U.call(S)}},l=function(){function R(P,I){for(var S=0;S<I.length;S++){var F=I[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,I,S){return I&&R(P.prototype,I),S&&R(P,S),P}}(),r=c(3),i=k(r),d=c(8),p=k(d),v=c(43),g=k(v),D=c(27),y=k(D),C=c(15),x=c(41),E=k(x);function k(R){return R&&R.__esModule?R:{default:R}}function w(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function T(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function V(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}var B=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(R){V(P,R);function P(I,S){w(this,P),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=B);var F=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,S));return F.quill.container.classList.add("ql-snow"),F}return l(P,[{key:"extendToolbar",value:function(S){S.container.classList.add("ql-snow"),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),E.default),this.tooltip=new L(this.quill,this.options.bounds),S.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,N){S.handlers.link.call(S,!N.format.link)})}}]),P}(g.default);O.DEFAULTS=(0,i.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var I=this.quill.getSelection();if(I==null||I.length==0)return;var S=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(S)&&S.indexOf("mailto:")!==0&&(S="mailto:"+S);var F=this.quill.theme.tooltip;F.edit("link",S)}else this.quill.format("link",!1)}}}}});var L=function(R){V(P,R);function P(I,S){w(this,P);var F=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,S));return F.preview=F.root.querySelector("a.ql-preview"),F}return l(P,[{key:"listen",value:function(){var S=this;_(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){S.root.classList.contains("ql-editing")?S.save():S.edit("link",S.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(S.linkRange!=null){var N=S.linkRange;S.restoreFocus(),S.quill.formatText(N,"link",!1,p.default.sources.USER),delete S.linkRange}F.preventDefault(),S.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(F,N,U){if(F!=null){if(F.length===0&&U===p.default.sources.USER){var Z=S.quill.scroll.descendant(y.default,F.index),ce=m(Z,2),ae=ce[0],J=ce[1];if(ae!=null){S.linkRange=new C.Range(F.index-J,ae.length());var z=y.default.formats(ae.domNode);S.preview.textContent=z,S.preview.setAttribute("href",z),S.show(),S.position(S.quill.getBounds(S.linkRange));return}}else delete S.linkRange;S.hide()}})}},{key:"show",value:function(){_(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(v.BaseTooltip);L.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=O},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(29),_=ee(m),l=c(36),r=c(38),i=c(64),d=c(65),p=ee(d),v=c(66),g=ee(v),D=c(67),y=ee(D),C=c(37),x=c(26),E=c(39),k=c(40),w=c(56),T=ee(w),V=c(68),B=ee(V),O=c(27),L=ee(O),R=c(69),P=ee(R),I=c(70),S=ee(I),F=c(71),N=ee(F),U=c(72),Z=ee(U),ce=c(73),ae=ee(ce),J=c(13),z=ee(J),ne=c(74),xe=ee(ne),Fe=c(75),he=ee(Fe),ie=c(57),$e=ee(ie),we=c(41),se=ee(we),ge=c(28),be=ee(ge),Me=c(59),ue=ee(Me),Oe=c(60),ze=ee(Oe),Ye=c(61),ve=ee(Ye),_e=c(108),Se=ee(_e),Ve=c(62),ke=ee(Ve);function ee(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}_.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":C.BackgroundClass,"attributors/class/color":x.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":E.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":C.BackgroundStyle,"attributors/style/color":x.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":E.FontStyle,"attributors/style/size":k.SizeStyle},!0),_.default.register({"formats/align":l.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":i.IndentClass,"formats/background":C.BackgroundStyle,"formats/color":x.ColorStyle,"formats/font":E.FontClass,"formats/size":k.SizeClass,"formats/blockquote":p.default,"formats/code-block":z.default,"formats/header":g.default,"formats/list":y.default,"formats/bold":T.default,"formats/code":J.Code,"formats/italic":B.default,"formats/link":L.default,"formats/script":P.default,"formats/strike":S.default,"formats/underline":N.default,"formats/image":Z.default,"formats/video":ae.default,"formats/list/item":D.ListItem,"modules/formula":xe.default,"modules/syntax":he.default,"modules/toolbar":$e.default,"themes/bubble":Se.default,"themes/snow":ke.default,"ui/icons":se.default,"ui/picker":be.default,"ui/icon-picker":ze.default,"ui/color-picker":ue.default,"ui/tooltip":ve.default},!0),t.default=_.default},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var m=function(){function y(C,x){for(var E=0;E<x.length;E++){var k=x[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,x,E){return x&&y(C.prototype,x),E&&y(C,E),C}}(),_=function y(C,x,E){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,x);if(k===void 0){var w=Object.getPrototypeOf(C);return w===null?void 0:y(w,x,E)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(E)}},l=c(0),r=i(l);function i(y){return y&&y.__esModule?y:{default:y}}function d(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function p(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:y}function v(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}var g=function(y){v(C,y);function C(){return d(this,C),p(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"add",value:function(E,k){if(k==="+1"||k==="-1"){var w=this.value(E)||0;k=k==="+1"?w+1:w-1}return k===0?(this.remove(E),!0):_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"add",this).call(this,E,k)}},{key:"canAdd",value:function(E,k){return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,E,k)||_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,E,parseInt(k))}},{key:"value",value:function(E){return parseInt(_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"value",this).call(this,E))||void 0}}]),C}(r.default.Attributor.Class),D=new g("indent","ql-indent",{scope:r.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=D},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(4),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="blockquote",p.tagName="blockquote",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function g(D,y){for(var C=0;C<y.length;C++){var x=y[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,y,C){return y&&g(D.prototype,y),C&&g(D,C),D}}(),_=c(4),l=r(_);function r(g){return g&&g.__esModule?g:{default:g}}function i(g,D){if(!(g instanceof D))throw new TypeError("Cannot call a class as a function")}function d(g,D){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:g}function p(g,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);g.prototype=Object.create(D&&D.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(g,D):g.__proto__=D)}var v=function(g){p(D,g);function D(){return i(this,D),d(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return m(D,null,[{key:"formats",value:function(C){return this.tagName.indexOf(C.tagName)+1}}]),D}(l.default);v.blotName="header",v.tagName=["H1","H2","H3","H4","H5","H6"],t.default=v},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var m=function(){function w(T,V){for(var B=0;B<V.length;B++){var O=V[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,V,B){return V&&w(T.prototype,V),B&&w(T,B),T}}(),_=function w(T,V,B){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,V);if(O===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:w(L,V,B)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(B)}},l=c(0),r=g(l),i=c(4),d=g(i),p=c(25),v=g(p);function g(w){return w&&w.__esModule?w:{default:w}}function D(w,T,V){return T in w?Object.defineProperty(w,T,{value:V,enumerable:!0,configurable:!0,writable:!0}):w[T]=V,w}function y(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function C(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function x(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var E=function(w){x(T,w);function T(){return y(this,T),C(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return m(T,[{key:"format",value:function(B,O){B===k.blotName&&!O?this.replaceWith(r.default.create(this.statics.scope)):_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,B,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(B,O){return this.parent.isolate(this.offset(this.parent),this.length()),B===this.parent.statics.blotName?(this.parent.replaceWith(B,O),this):(this.parent.unwrap(),_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,B,O))}}],[{key:"formats",value:function(B){return B.tagName===this.tagName?void 0:_(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,B)}}]),T}(d.default);E.blotName="list-item",E.tagName="LI";var k=function(w){x(T,w),m(T,null,[{key:"create",value:function(B){var O=B==="ordered"?"OL":"UL",L=_(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,O);return(B==="checked"||B==="unchecked")&&L.setAttribute("data-checked",B==="checked"),L}},{key:"formats",value:function(B){if(B.tagName==="OL")return"ordered";if(B.tagName==="UL")return B.hasAttribute("data-checked")?B.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(V){y(this,T);var B=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,V)),O=function(R){if(R.target.parentNode===V){var P=B.statics.formats(V),I=r.default.find(R.target);P==="checked"?I.format("list","unchecked"):P==="unchecked"&&I.format("list","checked")}};return V.addEventListener("touchstart",O),V.addEventListener("mousedown",O),B}return m(T,[{key:"format",value:function(B,O){this.children.length>0&&this.children.tail.format(B,O)}},{key:"formats",value:function(){return D({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(B,O){if(B instanceof E)_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,B,O);else{var L=O==null?this.length():O.offset(this),R=this.split(L);R.parent.insertBefore(B,R)}}},{key:"optimize",value:function(B){_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,B);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(B){if(B.statics.blotName!==this.statics.blotName){var O=r.default.create(this.statics.defaultChild);B.moveChildren(O),this.appendChild(O)}_(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,B)}}]),T}(v.default);k.blotName="list",k.scope=r.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[E],t.ListItem=E,t.default=k},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(56),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="italic",p.tagName=["EM","I"],t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function D(y,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,C,x){return C&&D(y.prototype,C),x&&D(y,x),y}}(),_=function D(y,C,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,C);if(E===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:D(k,C,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},l=c(6),r=i(l);function i(D){return D&&D.__esModule?D:{default:D}}function d(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function p(D,y){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:D}function v(D,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);D.prototype=Object.create(y&&y.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(D,y):D.__proto__=y)}var g=function(D){v(y,D);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,null,[{key:"create",value:function(x){return x==="super"?document.createElement("sup"):x==="sub"?document.createElement("sub"):_(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x)}},{key:"formats",value:function(x){if(x.tagName==="SUB")return"sub";if(x.tagName==="SUP")return"super"}}]),y}(r.default);g.blotName="script",g.tagName=["SUB","SUP"],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(6),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="strike",p.tagName="S",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(6),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="underline",p.tagName="U",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function C(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&C(x.prototype,E),k&&C(x,k),x}}(),_=function C(x,E,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,E);if(w===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:C(T,E,k)}else{if("value"in w)return w.value;var V=w.get;return V===void 0?void 0:V.call(k)}},l=c(0),r=d(l),i=c(27);function d(C){return C&&C.__esModule?C:{default:C}}function p(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function v(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function g(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}var D=["alt","height","width"],y=function(C){g(x,C);function x(){return p(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"format",value:function(k,w){D.indexOf(k)>-1?w?this.domNode.setAttribute(k,w):this.domNode.removeAttribute(k):_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,k,w)}}],[{key:"create",value:function(k){var w=_(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,k);return typeof k=="string"&&w.setAttribute("src",this.sanitize(k)),w}},{key:"formats",value:function(k){return D.reduce(function(w,T){return k.hasAttribute(T)&&(w[T]=k.getAttribute(T)),w},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,i.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),x}(r.default.Embed);y.blotName="image",y.tagName="IMG",t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function C(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&C(x.prototype,E),k&&C(x,k),x}}(),_=function C(x,E,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,E);if(w===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:C(T,E,k)}else{if("value"in w)return w.value;var V=w.get;return V===void 0?void 0:V.call(k)}},l=c(4),r=c(27),i=d(r);function d(C){return C&&C.__esModule?C:{default:C}}function p(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function v(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function g(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}var D=["height","width"],y=function(C){g(x,C);function x(){return p(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"format",value:function(k,w){D.indexOf(k)>-1?w?this.domNode.setAttribute(k,w):this.domNode.removeAttribute(k):_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,k,w)}}],[{key:"create",value:function(k){var w=_(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,k);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(k)),w}},{key:"formats",value:function(k){return D.reduce(function(w,T){return k.hasAttribute(T)&&(w[T]=k.getAttribute(T)),w},{})}},{key:"sanitize",value:function(k){return i.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),x}(l.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var m=function(){function k(w,T){for(var V=0;V<T.length;V++){var B=T[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(w,B.key,B)}}return function(w,T,V){return T&&k(w.prototype,T),V&&k(w,V),w}}(),_=function k(w,T,V){w===null&&(w=Function.prototype);var B=Object.getOwnPropertyDescriptor(w,T);if(B===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:k(O,T,V)}else{if("value"in B)return B.value;var L=B.get;return L===void 0?void 0:L.call(V)}},l=c(35),r=g(l),i=c(5),d=g(i),p=c(9),v=g(p);function g(k){return k&&k.__esModule?k:{default:k}}function D(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function y(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function C(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var x=function(k){C(w,k);function w(){return D(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return m(w,null,[{key:"create",value:function(V){var B=_(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,V);return typeof V=="string"&&(window.katex.render(V,B,{throwOnError:!1,errorColor:"#f00"}),B.setAttribute("data-value",V)),B}},{key:"value",value:function(V){return V.getAttribute("data-value")}}]),w}(r.default);x.blotName="formula",x.className="ql-formula",x.tagName="SPAN";var E=function(k){C(w,k),m(w,null,[{key:"register",value:function(){d.default.register(x,!0)}}]);function w(){D(this,w);var T=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return w}(v.default);t.FormulaBlot=x,t.default=E},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var m=function(){function V(B,O){for(var L=0;L<O.length;L++){var R=O[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(B,R.key,R)}}return function(B,O,L){return O&&V(B.prototype,O),L&&V(B,L),B}}(),_=function V(B,O,L){B===null&&(B=Function.prototype);var R=Object.getOwnPropertyDescriptor(B,O);if(R===void 0){var P=Object.getPrototypeOf(B);return P===null?void 0:V(P,O,L)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(L)}},l=c(0),r=y(l),i=c(5),d=y(i),p=c(9),v=y(p),g=c(13),D=y(g);function y(V){return V&&V.__esModule?V:{default:V}}function C(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function x(V,B){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:V}function E(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(V,B):V.__proto__=B)}var k=function(V){E(B,V);function B(){return C(this,B),x(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return m(B,[{key:"replaceWith",value:function(L){this.domNode.textContent=this.domNode.textContent,this.attach(),_(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"replaceWith",this).call(this,L)}},{key:"highlight",value:function(L){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=L(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),B}(D.default);k.className="ql-syntax";var w=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),T=function(V){E(B,V),m(B,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(k,!0)}}]);function B(O,L){C(this,B);var R=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,O,L));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return R.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){R.highlight(),P=null},R.options.interval)}),R.highlight(),R}return m(B,[{key:"highlight",value:function(){var L=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(P){P.highlight(L.options.highlight)}),this.quill.update(d.default.sources.SILENT),R!=null&&this.quill.setSelection(R,d.default.sources.SILENT)}}}]),B}(v.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(V){var B=window.hljs.highlightAuto(V);return B.value}}(),interval:1e3},t.CodeBlock=k,t.CodeToken=w,t.default=T},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,t){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,t){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,t){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,t){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var m=function B(O,L,R){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,L);if(P===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:B(I,L,R)}else{if("value"in P)return P.value;var S=P.get;return S===void 0?void 0:S.call(R)}},_=function(){function B(O,L){for(var R=0;R<L.length;R++){var P=L[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,L,R){return L&&B(O.prototype,L),R&&B(O,R),O}}(),l=c(3),r=C(l),i=c(8),d=C(i),p=c(43),v=C(p),g=c(15),D=c(41),y=C(D);function C(B){return B&&B.__esModule?B:{default:B}}function x(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function E(B,O){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:B}function k(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(B,O):B.__proto__=O)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(B){k(O,B);function O(L,R){x(this,O),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=w);var P=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,R));return P.quill.container.classList.add("ql-bubble"),P}return _(O,[{key:"extendToolbar",value:function(R){this.tooltip=new V(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),y.default)}}]),O}(v.default);T.DEFAULTS=(0,r.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var V=function(B){k(O,B);function O(L,R){x(this,O);var P=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,R));return P.quill.on(d.default.events.EDITOR_CHANGE,function(I,S,F,N){if(I===d.default.events.SELECTION_CHANGE)if(S!=null&&S.length>0&&N===d.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var U=P.quill.getLines(S.index,S.length);if(U.length===1)P.position(P.quill.getBounds(S));else{var Z=U[U.length-1],ce=P.quill.getIndex(Z),ae=Math.min(Z.length()-1,S.index+S.length-ce),J=P.quill.getBounds(new g.Range(ce,ae));P.position(J)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return _(O,[{key:"listen",value:function(){var R=this;m(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var P=R.quill.getSelection();P!=null&&R.position(R.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var P=m(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,R),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",P===0)return P;I.style.marginLeft=-1*P-I.offsetWidth/2+"px"}}]),O}(p.BaseTooltip);V.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=V,t.default=T},function(s,t,c){s.exports=c(63)}]).default})})(H5);var pEe=H5.exports;const vv=Bh(pEe);var fs=-1,Jn=1,Ja=0;function km(o,a,s,t){if(o===a)return o?[[Ja,o]]:[];if(s!=null){var c=kEe(o,a,s);if(c)return c}var m=O1(o,a),_=o.substring(0,m);o=o.substring(m),a=a.substring(m),m=M1(o,a);var l=o.substring(o.length-m);o=o.substring(0,o.length-m),a=a.substring(0,a.length-m);var r=vEe(o,a);return _&&r.unshift([Ja,_]),l&&r.push([Ja,l]),z5(r,t),r}function vEe(o,a){var s;if(!o)return[[Jn,a]];if(!a)return[[fs,o]];var t=o.length>a.length?o:a,c=o.length>a.length?a:o,m=t.indexOf(c);if(m!==-1)return s=[[Jn,t.substring(0,m)],[Ja,c],[Jn,t.substring(m+c.length)]],o.length>a.length&&(s[0][0]=s[2][0]=fs),s;if(c.length===1)return[[fs,o],[Jn,a]];var _=bEe(o,a);if(_){var l=_[0],r=_[1],i=_[2],d=_[3],p=_[4],v=km(l,i),g=km(r,d);return v.concat([[Ja,p]],g)}return gEe(o,a)}function gEe(o,a){for(var s=o.length,t=a.length,c=Math.ceil((s+t)/2),m=c,_=2*c,l=new Array(_),r=new Array(_),i=0;i<_;i++)l[i]=-1,r[i]=-1;l[m+1]=0,r[m+1]=0;for(var d=s-t,p=d%2!==0,v=0,g=0,D=0,y=0,C=0;C<c;C++){for(var x=-C+v;x<=C-g;x+=2){var E=m+x,k;x===-C||x!==C&&l[E-1]<l[E+1]?k=l[E+1]:k=l[E-1]+1;for(var w=k-x;k<s&&w<t&&o.charAt(k)===a.charAt(w);)k++,w++;if(l[E]=k,k>s)g+=2;else if(w>t)v+=2;else if(p){var T=m+d-x;if(T>=0&&T<_&&r[T]!==-1){var V=s-r[T];if(k>=V)return E0(o,a,k,w)}}}for(var B=-C+D;B<=C-y;B+=2){var T=m+B,V;B===-C||B!==C&&r[T-1]<r[T+1]?V=r[T+1]:V=r[T-1]+1;for(var O=V-B;V<s&&O<t&&o.charAt(s-V-1)===a.charAt(t-O-1);)V++,O++;if(r[T]=V,V>s)y+=2;else if(O>t)D+=2;else if(!p){var E=m+d-B;if(E>=0&&E<_&&l[E]!==-1){var k=l[E],w=m+k-E;if(V=s-V,k>=V)return E0(o,a,k,w)}}}}return[[fs,o],[Jn,a]]}function E0(o,a,s,t){var c=o.substring(0,s),m=a.substring(0,t),_=o.substring(s),l=a.substring(t),r=km(c,m),i=km(_,l);return r.concat(i)}function O1(o,a){if(!o||!a||o.charAt(0)!==a.charAt(0))return 0;for(var s=0,t=Math.min(o.length,a.length),c=t,m=0;s<c;)o.substring(m,c)==a.substring(m,c)?(s=c,m=s):t=c,c=Math.floor((t-s)/2+s);return W5(o.charCodeAt(c-1))&&c--,c}function M1(o,a){if(!o||!a||o.slice(-1)!==a.slice(-1))return 0;for(var s=0,t=Math.min(o.length,a.length),c=t,m=0;s<c;)o.substring(o.length-c,o.length-m)==a.substring(a.length-c,a.length-m)?(s=c,m=s):t=c,c=Math.floor((t-s)/2+s);return K5(o.charCodeAt(o.length-c))&&c--,c}function bEe(o,a){var s=o.length>a.length?o:a,t=o.length>a.length?a:o;if(s.length<4||t.length*2<s.length)return null;function c(g,D,y){for(var C=g.substring(y,y+Math.floor(g.length/4)),x=-1,E="",k,w,T,V;(x=D.indexOf(C,x+1))!==-1;){var B=O1(g.substring(y),D.substring(x)),O=M1(g.substring(0,y),D.substring(0,x));E.length<O+B&&(E=D.substring(x-O,x)+D.substring(x,x+B),k=g.substring(0,y-O),w=g.substring(y+B),T=D.substring(0,x-O),V=D.substring(x+B))}return E.length*2>=g.length?[k,w,T,V,E]:null}var m=c(s,t,Math.ceil(s.length/4)),_=c(s,t,Math.ceil(s.length/2)),l;if(!m&&!_)return null;_?m?l=m[4].length>_[4].length?m:_:l=_:l=m;var r,i,d,p;o.length>a.length?(r=l[0],i=l[1],d=l[2],p=l[3]):(d=l[0],p=l[1],r=l[2],i=l[3]);var v=l[4];return[r,i,d,p,v]}function z5(o,a){o.push([Ja,""]);for(var s=0,t=0,c=0,m="",_="",l;s<o.length;){if(s<o.length-1&&!o[s][1]){o.splice(s,1);continue}switch(o[s][0]){case Jn:c++,_+=o[s][1],s++;break;case fs:t++,m+=o[s][1],s++;break;case Ja:var r=s-c-t-1;if(a){if(r>=0&&Q5(o[r][1])){var i=o[r][1].slice(-1);if(o[r][1]=o[r][1].slice(0,-1),m=i+m,_=i+_,!o[r][1]){o.splice(r,1),s--;var d=r-1;o[d]&&o[d][0]===Jn&&(c++,_=o[d][1]+_,d--),o[d]&&o[d][0]===fs&&(t++,m=o[d][1]+m,d--),r=d}}if(G5(o[s][1])){var i=o[s][1].charAt(0);o[s][1]=o[s][1].slice(1),m+=i,_+=i}}if(s<o.length-1&&!o[s][1]){o.splice(s,1);break}if(m.length>0||_.length>0){m.length>0&&_.length>0&&(l=O1(_,m),l!==0&&(r>=0?o[r][1]+=_.substring(0,l):(o.splice(0,0,[Ja,_.substring(0,l)]),s++),_=_.substring(l),m=m.substring(l)),l=M1(_,m),l!==0&&(o[s][1]=_.substring(_.length-l)+o[s][1],_=_.substring(0,_.length-l),m=m.substring(0,m.length-l)));var p=c+t;m.length===0&&_.length===0?(o.splice(s-p,p),s=s-p):m.length===0?(o.splice(s-p,p,[Jn,_]),s=s-p+1):_.length===0?(o.splice(s-p,p,[fs,m]),s=s-p+1):(o.splice(s-p,p,[fs,m],[Jn,_]),s=s-p+2)}s!==0&&o[s-1][0]===Ja?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,c=0,t=0,m="",_="";break}}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]===Ja&&o[s+1][0]===Ja&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)===o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&z5(o,a)}function W5(o){return o>=55296&&o<=56319}function K5(o){return o>=56320&&o<=57343}function G5(o){return K5(o.charCodeAt(0))}function Q5(o){return W5(o.charCodeAt(o.length-1))}function yEe(o){for(var a=[],s=0;s<o.length;s++)o[s][1].length>0&&a.push(o[s]);return a}function gv(o,a,s,t){return Q5(o)||G5(t)?null:yEe([[Ja,o],[fs,a],[Jn,s],[Ja,t]])}function kEe(o,a,s){var t=typeof s=="number"?{index:s,length:0}:s.oldRange,c=typeof s=="number"?null:s.newRange,m=o.length,_=a.length;if(t.length===0&&(c===null||c.length===0)){var l=t.index,r=o.slice(0,l),i=o.slice(l),d=c?c.index:null;e:{var p=l+_-m;if(d!==null&&d!==p||p<0||p>_)break e;var v=a.slice(0,p),g=a.slice(p);if(g!==i)break e;var D=Math.min(l,p),y=r.slice(0,D),C=v.slice(0,D);if(y!==C)break e;var x=r.slice(D),E=v.slice(D);return gv(y,x,E,i)}e:{if(d!==null&&d!==l)break e;var k=l,v=a.slice(0,k),g=a.slice(k);if(v!==r)break e;var w=Math.min(m-k,_-k),T=i.slice(i.length-w),V=g.slice(g.length-w);if(T!==V)break e;var x=i.slice(0,i.length-w),E=g.slice(0,g.length-w);return gv(r,x,E,T)}}if(t.length>0&&c&&c.length===0)e:{var y=o.slice(0,t.index),T=o.slice(t.index+t.length),D=y.length,w=T.length;if(_<D+w)break e;var C=a.slice(0,D),V=a.slice(_-w);if(y!==C||T!==V)break e;var x=o.slice(D,m-w),E=a.slice(D,_-w);return gv(y,x,E,T)}return null}function dp(o,a,s){return km(o,a,s,!0)}dp.INSERT=Jn;dp.DELETE=fs;dp.EQUAL=Ja;var $Ee=dp,hh={exports:{}};hh.exports;(function(o,a){var s=200,t="__lodash_hash_undefined__",c=9007199254740991,m="[object Arguments]",_="[object Array]",l="[object Boolean]",r="[object Date]",i="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",D="[object Object]",y="[object Promise]",C="[object RegExp]",x="[object Set]",E="[object String]",k="[object Symbol]",w="[object WeakMap]",T="[object ArrayBuffer]",V="[object DataView]",B="[object Float32Array]",O="[object Float64Array]",L="[object Int8Array]",R="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",S="[object Uint8ClampedArray]",F="[object Uint16Array]",N="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,ce=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,J={};J[m]=J[_]=J[T]=J[V]=J[l]=J[r]=J[B]=J[O]=J[L]=J[R]=J[P]=J[v]=J[g]=J[D]=J[C]=J[x]=J[E]=J[k]=J[I]=J[S]=J[F]=J[N]=!0,J[i]=J[d]=J[w]=!1;var z=typeof va=="object"&&va&&va.Object===Object&&va,ne=typeof self=="object"&&self&&self.Object===Object&&self,xe=z||ne||Function("return this")(),Fe=a&&!a.nodeType&&a,he=Fe&&!0&&o&&!o.nodeType&&o,ie=he&&he.exports===Fe;function $e(G,Ae){return G.set(Ae[0],Ae[1]),G}function we(G,Ae){return G.add(Ae),G}function se(G,Ae){for(var qe=-1,ft=G?G.length:0;++qe<ft&&Ae(G[qe],qe,G)!==!1;);return G}function ge(G,Ae){for(var qe=-1,ft=Ae.length,to=G.length;++qe<ft;)G[to+qe]=Ae[qe];return G}function be(G,Ae,qe,ft){var to=-1,zt=G?G.length:0;for(ft&&zt&&(qe=G[++to]);++to<zt;)qe=Ae(qe,G[to],to,G);return qe}function Me(G,Ae){for(var qe=-1,ft=Array(G);++qe<G;)ft[qe]=Ae(qe);return ft}function ue(G,Ae){return G==null?void 0:G[Ae]}function Oe(G){var Ae=!1;if(G!=null&&typeof G.toString!="function")try{Ae=!!(G+"")}catch{}return Ae}function ze(G){var Ae=-1,qe=Array(G.size);return G.forEach(function(ft,to){qe[++Ae]=[to,ft]}),qe}function Ye(G,Ae){return function(qe){return G(Ae(qe))}}function ve(G){var Ae=-1,qe=Array(G.size);return G.forEach(function(ft){qe[++Ae]=ft}),qe}var _e=Array.prototype,Se=Function.prototype,Ve=Object.prototype,ke=xe["__core-js_shared__"],ee=function(){var G=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}(),Ce=Se.toString,Ne=Ve.hasOwnProperty,Ie=Ve.toString,oe=RegExp("^"+Ce.call(Ne).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=ie?xe.Buffer:void 0,Le=xe.Symbol,Ze=xe.Uint8Array,at=Ye(Object.getPrototypeOf,Object),mt=Object.create,wt=Ve.propertyIsEnumerable,Ot=_e.splice,Jt=Object.getOwnPropertySymbols,ut=me?me.isBuffer:void 0,gt=Ye(Object.keys,Object),Vt=nn(xe,"DataView"),pt=nn(xe,"Map"),Et=nn(xe,"Promise"),Dt=nn(xe,"Set"),Ft=nn(xe,"WeakMap"),Kt=nn(Object,"create"),ro=ha(Vt),Pe=ha(pt),Te=ha(Et),Ge=ha(Dt),nt=ha(Ft),yt=Le?Le.prototype:void 0,Ct=yt?yt.valueOf:void 0;function Ut(G){var Ae=-1,qe=G?G.length:0;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function Tt(){this.__data__=Kt?Kt(null):{}}function Gt(G){return this.has(G)&&delete this.__data__[G]}function ct(G){var Ae=this.__data__;if(Kt){var qe=Ae[G];return qe===t?void 0:qe}return Ne.call(Ae,G)?Ae[G]:void 0}function Ht(G){var Ae=this.__data__;return Kt?Ae[G]!==void 0:Ne.call(Ae,G)}function kt(G,Ae){var qe=this.__data__;return qe[G]=Kt&&Ae===void 0?t:Ae,this}Ut.prototype.clear=Tt,Ut.prototype.delete=Gt,Ut.prototype.get=ct,Ut.prototype.has=Ht,Ut.prototype.set=kt;function dt(G){var Ae=-1,qe=G?G.length:0;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function je(){this.__data__=[]}function ye(G){var Ae=this.__data__,qe=tl(Ae,G);if(qe<0)return!1;var ft=Ae.length-1;return qe==ft?Ae.pop():Ot.call(Ae,qe,1),!0}function He(G){var Ae=this.__data__,qe=tl(Ae,G);return qe<0?void 0:Ae[qe][1]}function Nt(G){return tl(this.__data__,G)>-1}function it(G,Ae){var qe=this.__data__,ft=tl(qe,G);return ft<0?qe.push([G,Ae]):qe[ft][1]=Ae,this}dt.prototype.clear=je,dt.prototype.delete=ye,dt.prototype.get=He,dt.prototype.has=Nt,dt.prototype.set=it;function _t(G){var Ae=-1,qe=G?G.length:0;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function tt(){this.__data__={hash:new Ut,map:new(pt||dt),string:new Ut}}function pe(G){return ba(this,G).delete(G)}function Re(G){return ba(this,G).get(G)}function vt(G){return ba(this,G).has(G)}function Rt(G,Ae){return ba(this,G).set(G,Ae),this}_t.prototype.clear=tt,_t.prototype.delete=pe,_t.prototype.get=Re,_t.prototype.has=vt,_t.prototype.set=Rt;function eo(G){this.__data__=new dt(G)}function jt(){this.__data__=new dt}function Mn(G){return this.__data__.delete(G)}function Mt(G){return this.__data__.get(G)}function ys(G){return this.__data__.has(G)}function ld(G,Ae){var qe=this.__data__;if(qe instanceof dt){var ft=qe.__data__;if(!pt||ft.length<s-1)return ft.push([G,Ae]),this;qe=this.__data__=new _t(ft)}return qe.set(G,Ae),this}eo.prototype.clear=jt,eo.prototype.delete=Mn,eo.prototype.get=Mt,eo.prototype.has=ys,eo.prototype.set=ld;function ks(G,Ae){var qe=Yl(G)||al(G)?Me(G.length,String):[],ft=qe.length,to=!!ft;for(var zt in G)(Ae||Ne.call(G,zt))&&!(to&&(zt=="length"||fd(zt,ft)))&&qe.push(zt);return qe}function Ol(G,Ae,qe){var ft=G[Ae];(!(Ne.call(G,Ae)&&Ci(ft,qe))||qe===void 0&&!(Ae in G))&&(G[Ae]=qe)}function tl(G,Ae){for(var qe=G.length;qe--;)if(Ci(G[qe][0],Ae))return qe;return-1}function yn(G,Ae){return G&&rs(Ae,Bl(Ae),G)}function Ml(G,Ae,qe,ft,to,zt,fo){var go;if(ft&&(go=zt?ft(G,to,zt,fo):ft(G)),go!==void 0)return go;if(!$n(G))return G;var Qo=Yl(G);if(Qo){if(go=_d(G),!Ae)return ws(G,go)}else{var Co=Nn(G),na=Co==d||Co==p;if(xi(G))return ol(G,Ae);if(Co==D||Co==m||na&&!zt){if(Oe(G))return zt?G:{};if(go=kn(na?{}:G),!Ae)return $i(G,yn(go,G))}else{if(!J[Co])return zt?G:{};go=md(G,Co,Ml,Ae)}}fo||(fo=new eo);var co=fo.get(G);if(co)return co;if(fo.set(G,go),!Qo)var Vo=qe?Ds(G):Bl(G);return se(Vo||G,function(Zo,sa){Vo&&(sa=Zo,Zo=G[sa]),Ol(go,sa,Ml(Zo,Ae,qe,ft,sa,G,fo))}),go}function id(G){return $n(G)?mt(G):{}}function rd(G,Ae,qe){var ft=Ae(G);return Yl(G)?ft:ge(ft,qe(G))}function dd(G){return Ie.call(G)}function bi(G){if(!$n(G)||Fl(G))return!1;var Ae=Vl(G)||Oe(G)?oe:ce;return Ae.test(ha(G))}function yi(G){if(!wi(G))return gt(G);var Ae=[];for(var qe in Object(G))Ne.call(G,qe)&&qe!="constructor"&&Ae.push(qe);return Ae}function ol(G,Ae){if(Ae)return G.slice();var qe=new G.constructor(G.length);return G.copy(qe),qe}function Ll(G){var Ae=new G.constructor(G.byteLength);return new Ze(Ae).set(new Ze(G)),Ae}function $s(G,Ae){var qe=Ae?Ll(G.buffer):G.buffer;return new G.constructor(qe,G.byteOffset,G.byteLength)}function Nl(G,Ae,qe){var ft=Ae?qe(ze(G),!0):ze(G);return be(ft,$e,new G.constructor)}function is(G){var Ae=new G.constructor(G.source,Z.exec(G));return Ae.lastIndex=G.lastIndex,Ae}function ki(G,Ae,qe){var ft=Ae?qe(ve(G),!0):ve(G);return be(ft,we,new G.constructor)}function cd(G){return Ct?Object(Ct.call(G)):{}}function ud(G,Ae){var qe=Ae?Ll(G.buffer):G.buffer;return new G.constructor(qe,G.byteOffset,G.length)}function ws(G,Ae){var qe=-1,ft=G.length;for(Ae||(Ae=Array(ft));++qe<ft;)Ae[qe]=G[qe];return Ae}function rs(G,Ae,qe,ft){qe||(qe={});for(var to=-1,zt=Ae.length;++to<zt;){var fo=Ae[to],go=ft?ft(qe[fo],G[fo],fo,qe,G):void 0;Ol(qe,fo,go===void 0?G[fo]:go)}return qe}function $i(G,Ae){return rs(G,Ln(G),Ae)}function Ds(G){return rd(G,Bl,Ln)}function ba(G,Ae){var qe=G.__data__;return hd(Ae)?qe[typeof Ae=="string"?"string":"hash"]:qe.map}function nn(G,Ae){var qe=ue(G,Ae);return bi(qe)?qe:void 0}var Ln=Jt?Ye(Jt,Object):vd,Nn=dd;(Vt&&Nn(new Vt(new ArrayBuffer(1)))!=V||pt&&Nn(new pt)!=v||Et&&Nn(Et.resolve())!=y||Dt&&Nn(new Dt)!=x||Ft&&Nn(new Ft)!=w)&&(Nn=function(G){var Ae=Ie.call(G),qe=Ae==D?G.constructor:void 0,ft=qe?ha(qe):void 0;if(ft)switch(ft){case ro:return V;case Pe:return v;case Te:return y;case Ge:return x;case nt:return w}return Ae});function _d(G){var Ae=G.length,qe=G.constructor(Ae);return Ae&&typeof G[0]=="string"&&Ne.call(G,"index")&&(qe.index=G.index,qe.input=G.input),qe}function kn(G){return typeof G.constructor=="function"&&!wi(G)?id(at(G)):{}}function md(G,Ae,qe,ft){var to=G.constructor;switch(Ae){case T:return Ll(G);case l:case r:return new to(+G);case V:return $s(G,ft);case B:case O:case L:case R:case P:case I:case S:case F:case N:return ud(G,ft);case v:return Nl(G,ft,qe);case g:case E:return new to(G);case C:return is(G);case x:return ki(G,ft,qe);case k:return cd(G)}}function fd(G,Ae){return Ae=Ae??c,!!Ae&&(typeof G=="number"||ae.test(G))&&G>-1&&G%1==0&&G<Ae}function hd(G){var Ae=typeof G;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?G!=="__proto__":G===null}function Fl(G){return!!ee&&ee in G}function wi(G){var Ae=G&&G.constructor,qe=typeof Ae=="function"&&Ae.prototype||Ve;return G===qe}function ha(G){if(G!=null){try{return Ce.call(G)}catch{}try{return G+""}catch{}}return""}function Di(G){return Ml(G,!0,!0)}function Ci(G,Ae){return G===Ae||G!==G&&Ae!==Ae}function al(G){return pd(G)&&Ne.call(G,"callee")&&(!wt.call(G,"callee")||Ie.call(G)==m)}var Yl=Array.isArray;function nl(G){return G!=null&&Pi(G.length)&&!Vl(G)}function pd(G){return Ei(G)&&nl(G)}var xi=ut||gd;function Vl(G){var Ae=$n(G)?Ie.call(G):"";return Ae==d||Ae==p}function Pi(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=c}function $n(G){var Ae=typeof G;return!!G&&(Ae=="object"||Ae=="function")}function Ei(G){return!!G&&typeof G=="object"}function Bl(G){return nl(G)?ks(G):yi(G)}function vd(){return[]}function gd(){return!1}o.exports=Di})(hh,hh.exports);var Z5=hh.exports,ph={exports:{}};ph.exports;(function(o,a){var s=200,t="__lodash_hash_undefined__",c=1,m=2,_=9007199254740991,l="[object Arguments]",r="[object Array]",i="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",v="[object Error]",g="[object Function]",D="[object GeneratorFunction]",y="[object Map]",C="[object Number]",x="[object Null]",E="[object Object]",k="[object Promise]",w="[object Proxy]",T="[object RegExp]",V="[object Set]",B="[object String]",O="[object Symbol]",L="[object Undefined]",R="[object WeakMap]",P="[object ArrayBuffer]",I="[object DataView]",S="[object Float32Array]",F="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",Z="[object Int32Array]",ce="[object Uint8Array]",ae="[object Uint8ClampedArray]",J="[object Uint16Array]",z="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,xe=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,he={};he[S]=he[F]=he[N]=he[U]=he[Z]=he[ce]=he[ae]=he[J]=he[z]=!0,he[l]=he[r]=he[P]=he[d]=he[I]=he[p]=he[v]=he[g]=he[y]=he[C]=he[E]=he[T]=he[V]=he[B]=he[R]=!1;var ie=typeof va=="object"&&va&&va.Object===Object&&va,$e=typeof self=="object"&&self&&self.Object===Object&&self,we=ie||$e||Function("return this")(),se=a&&!a.nodeType&&a,ge=se&&!0&&o&&!o.nodeType&&o,be=ge&&ge.exports===se,Me=be&&ie.process,ue=function(){try{return Me&&Me.binding&&Me.binding("util")}catch{}}(),Oe=ue&&ue.isTypedArray;function ze(G,Ae){for(var qe=-1,ft=G==null?0:G.length,to=0,zt=[];++qe<ft;){var fo=G[qe];Ae(fo,qe,G)&&(zt[to++]=fo)}return zt}function Ye(G,Ae){for(var qe=-1,ft=Ae.length,to=G.length;++qe<ft;)G[to+qe]=Ae[qe];return G}function ve(G,Ae){for(var qe=-1,ft=G==null?0:G.length;++qe<ft;)if(Ae(G[qe],qe,G))return!0;return!1}function _e(G,Ae){for(var qe=-1,ft=Array(G);++qe<G;)ft[qe]=Ae(qe);return ft}function Se(G){return function(Ae){return G(Ae)}}function Ve(G,Ae){return G.has(Ae)}function ke(G,Ae){return G==null?void 0:G[Ae]}function ee(G){var Ae=-1,qe=Array(G.size);return G.forEach(function(ft,to){qe[++Ae]=[to,ft]}),qe}function Ce(G,Ae){return function(qe){return G(Ae(qe))}}function Ne(G){var Ae=-1,qe=Array(G.size);return G.forEach(function(ft){qe[++Ae]=ft}),qe}var Ie=Array.prototype,oe=Function.prototype,me=Object.prototype,Le=we["__core-js_shared__"],Ze=oe.toString,at=me.hasOwnProperty,mt=function(){var G=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}(),wt=me.toString,Ot=RegExp("^"+Ze.call(at).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=be?we.Buffer:void 0,ut=we.Symbol,gt=we.Uint8Array,Vt=me.propertyIsEnumerable,pt=Ie.splice,Et=ut?ut.toStringTag:void 0,Dt=Object.getOwnPropertySymbols,Ft=Jt?Jt.isBuffer:void 0,Kt=Ce(Object.keys,Object),ro=Ln(we,"DataView"),Pe=Ln(we,"Map"),Te=Ln(we,"Promise"),Ge=Ln(we,"Set"),nt=Ln(we,"WeakMap"),yt=Ln(Object,"create"),Ct=ha(ro),Ut=ha(Pe),Tt=ha(Te),Gt=ha(Ge),ct=ha(nt),Ht=ut?ut.prototype:void 0,kt=Ht?Ht.valueOf:void 0;function dt(G){var Ae=-1,qe=G==null?0:G.length;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function je(){this.__data__=yt?yt(null):{},this.size=0}function ye(G){var Ae=this.has(G)&&delete this.__data__[G];return this.size-=Ae?1:0,Ae}function He(G){var Ae=this.__data__;if(yt){var qe=Ae[G];return qe===t?void 0:qe}return at.call(Ae,G)?Ae[G]:void 0}function Nt(G){var Ae=this.__data__;return yt?Ae[G]!==void 0:at.call(Ae,G)}function it(G,Ae){var qe=this.__data__;return this.size+=this.has(G)?0:1,qe[G]=yt&&Ae===void 0?t:Ae,this}dt.prototype.clear=je,dt.prototype.delete=ye,dt.prototype.get=He,dt.prototype.has=Nt,dt.prototype.set=it;function _t(G){var Ae=-1,qe=G==null?0:G.length;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function tt(){this.__data__=[],this.size=0}function pe(G){var Ae=this.__data__,qe=ol(Ae,G);if(qe<0)return!1;var ft=Ae.length-1;return qe==ft?Ae.pop():pt.call(Ae,qe,1),--this.size,!0}function Re(G){var Ae=this.__data__,qe=ol(Ae,G);return qe<0?void 0:Ae[qe][1]}function vt(G){return ol(this.__data__,G)>-1}function Rt(G,Ae){var qe=this.__data__,ft=ol(qe,G);return ft<0?(++this.size,qe.push([G,Ae])):qe[ft][1]=Ae,this}_t.prototype.clear=tt,_t.prototype.delete=pe,_t.prototype.get=Re,_t.prototype.has=vt,_t.prototype.set=Rt;function eo(G){var Ae=-1,qe=G==null?0:G.length;for(this.clear();++Ae<qe;){var ft=G[Ae];this.set(ft[0],ft[1])}}function jt(){this.size=0,this.__data__={hash:new dt,map:new(Pe||_t),string:new dt}}function Mn(G){var Ae=nn(this,G).delete(G);return this.size-=Ae?1:0,Ae}function Mt(G){return nn(this,G).get(G)}function ys(G){return nn(this,G).has(G)}function ld(G,Ae){var qe=nn(this,G),ft=qe.size;return qe.set(G,Ae),this.size+=qe.size==ft?0:1,this}eo.prototype.clear=jt,eo.prototype.delete=Mn,eo.prototype.get=Mt,eo.prototype.has=ys,eo.prototype.set=ld;function ks(G){var Ae=-1,qe=G==null?0:G.length;for(this.__data__=new eo;++Ae<qe;)this.add(G[Ae])}function Ol(G){return this.__data__.set(G,t),this}function tl(G){return this.__data__.has(G)}ks.prototype.add=ks.prototype.push=Ol,ks.prototype.has=tl;function yn(G){var Ae=this.__data__=new _t(G);this.size=Ae.size}function Ml(){this.__data__=new _t,this.size=0}function id(G){var Ae=this.__data__,qe=Ae.delete(G);return this.size=Ae.size,qe}function rd(G){return this.__data__.get(G)}function dd(G){return this.__data__.has(G)}function bi(G,Ae){var qe=this.__data__;if(qe instanceof _t){var ft=qe.__data__;if(!Pe||ft.length<s-1)return ft.push([G,Ae]),this.size=++qe.size,this;qe=this.__data__=new eo(ft)}return qe.set(G,Ae),this.size=qe.size,this}yn.prototype.clear=Ml,yn.prototype.delete=id,yn.prototype.get=rd,yn.prototype.has=dd,yn.prototype.set=bi;function yi(G,Ae){var qe=al(G),ft=!qe&&Ci(G),to=!qe&&!ft&&nl(G),zt=!qe&&!ft&&!to&&Ei(G),fo=qe||ft||to||zt,go=fo?_e(G.length,String):[],Qo=go.length;for(var Co in G)(Ae||at.call(G,Co))&&!(fo&&(Co=="length"||to&&(Co=="offset"||Co=="parent")||zt&&(Co=="buffer"||Co=="byteLength"||Co=="byteOffset")||md(Co,Qo)))&&go.push(Co);return go}function ol(G,Ae){for(var qe=G.length;qe--;)if(Di(G[qe][0],Ae))return qe;return-1}function Ll(G,Ae,qe){var ft=Ae(G);return al(G)?ft:Ye(ft,qe(G))}function $s(G){return G==null?G===void 0?L:x:Et&&Et in Object(G)?Nn(G):wi(G)}function Nl(G){return $n(G)&&$s(G)==l}function is(G,Ae,qe,ft,to){return G===Ae?!0:G==null||Ae==null||!$n(G)&&!$n(Ae)?G!==G&&Ae!==Ae:ki(G,Ae,qe,ft,is,to)}function ki(G,Ae,qe,ft,to,zt){var fo=al(G),go=al(Ae),Qo=fo?r:kn(G),Co=go?r:kn(Ae);Qo=Qo==l?E:Qo,Co=Co==l?E:Co;var na=Qo==E,co=Co==E,Vo=Qo==Co;if(Vo&&nl(G)){if(!nl(Ae))return!1;fo=!0,na=!1}if(Vo&&!na)return zt||(zt=new yn),fo||Ei(G)?rs(G,Ae,qe,ft,to,zt):$i(G,Ae,Qo,qe,ft,to,zt);if(!(qe&c)){var Zo=na&&at.call(G,"__wrapped__"),sa=co&&at.call(Ae,"__wrapped__");if(Zo||sa){var Fn=Zo?G.value():G,Yn=sa?Ae.value():Ae;return zt||(zt=new yn),to(Fn,Yn,qe,ft,zt)}}return Vo?(zt||(zt=new yn),Ds(G,Ae,qe,ft,to,zt)):!1}function cd(G){if(!Pi(G)||hd(G))return!1;var Ae=xi(G)?Ot:xe;return Ae.test(ha(G))}function ud(G){return $n(G)&&Vl(G.length)&&!!he[$s(G)]}function ws(G){if(!Fl(G))return Kt(G);var Ae=[];for(var qe in Object(G))at.call(G,qe)&&qe!="constructor"&&Ae.push(qe);return Ae}function rs(G,Ae,qe,ft,to,zt){var fo=qe&c,go=G.length,Qo=Ae.length;if(go!=Qo&&!(fo&&Qo>go))return!1;var Co=zt.get(G);if(Co&&zt.get(Ae))return Co==Ae;var na=-1,co=!0,Vo=qe&m?new ks:void 0;for(zt.set(G,Ae),zt.set(Ae,G);++na<go;){var Zo=G[na],sa=Ae[na];if(ft)var Fn=fo?ft(sa,Zo,na,Ae,G,zt):ft(Zo,sa,na,G,Ae,zt);if(Fn!==void 0){if(Fn)continue;co=!1;break}if(Vo){if(!ve(Ae,function(Yn,Cs){if(!Ve(Vo,Cs)&&(Zo===Yn||to(Zo,Yn,qe,ft,zt)))return Vo.push(Cs)})){co=!1;break}}else if(!(Zo===sa||to(Zo,sa,qe,ft,zt))){co=!1;break}}return zt.delete(G),zt.delete(Ae),co}function $i(G,Ae,qe,ft,to,zt,fo){switch(qe){case I:if(G.byteLength!=Ae.byteLength||G.byteOffset!=Ae.byteOffset)return!1;G=G.buffer,Ae=Ae.buffer;case P:return!(G.byteLength!=Ae.byteLength||!zt(new gt(G),new gt(Ae)));case d:case p:case C:return Di(+G,+Ae);case v:return G.name==Ae.name&&G.message==Ae.message;case T:case B:return G==Ae+"";case y:var go=ee;case V:var Qo=ft&c;if(go||(go=Ne),G.size!=Ae.size&&!Qo)return!1;var Co=fo.get(G);if(Co)return Co==Ae;ft|=m,fo.set(G,Ae);var na=rs(go(G),go(Ae),ft,to,zt,fo);return fo.delete(G),na;case O:if(kt)return kt.call(G)==kt.call(Ae)}return!1}function Ds(G,Ae,qe,ft,to,zt){var fo=qe&c,go=ba(G),Qo=go.length,Co=ba(Ae),na=Co.length;if(Qo!=na&&!fo)return!1;for(var co=Qo;co--;){var Vo=go[co];if(!(fo?Vo in Ae:at.call(Ae,Vo)))return!1}var Zo=zt.get(G);if(Zo&&zt.get(Ae))return Zo==Ae;var sa=!0;zt.set(G,Ae),zt.set(Ae,G);for(var Fn=fo;++co<Qo;){Vo=go[co];var Yn=G[Vo],Cs=Ae[Vo];if(ft)var Ul=fo?ft(Cs,Yn,Vo,Ae,G,zt):ft(Yn,Cs,Vo,G,Ae,zt);if(!(Ul===void 0?Yn===Cs||to(Yn,Cs,qe,ft,zt):Ul)){sa=!1;break}Fn||(Fn=Vo=="constructor")}if(sa&&!Fn){var sn=G.constructor,sl=Ae.constructor;sn!=sl&&"constructor"in G&&"constructor"in Ae&&!(typeof sn=="function"&&sn instanceof sn&&typeof sl=="function"&&sl instanceof sl)&&(sa=!1)}return zt.delete(G),zt.delete(Ae),sa}function ba(G){return Ll(G,Bl,_d)}function nn(G,Ae){var qe=G.__data__;return fd(Ae)?qe[typeof Ae=="string"?"string":"hash"]:qe.map}function Ln(G,Ae){var qe=ke(G,Ae);return cd(qe)?qe:void 0}function Nn(G){var Ae=at.call(G,Et),qe=G[Et];try{G[Et]=void 0;var ft=!0}catch{}var to=wt.call(G);return ft&&(Ae?G[Et]=qe:delete G[Et]),to}var _d=Dt?function(G){return G==null?[]:(G=Object(G),ze(Dt(G),function(Ae){return Vt.call(G,Ae)}))}:vd,kn=$s;(ro&&kn(new ro(new ArrayBuffer(1)))!=I||Pe&&kn(new Pe)!=y||Te&&kn(Te.resolve())!=k||Ge&&kn(new Ge)!=V||nt&&kn(new nt)!=R)&&(kn=function(G){var Ae=$s(G),qe=Ae==E?G.constructor:void 0,ft=qe?ha(qe):"";if(ft)switch(ft){case Ct:return I;case Ut:return y;case Tt:return k;case Gt:return V;case ct:return R}return Ae});function md(G,Ae){return Ae=Ae??_,!!Ae&&(typeof G=="number"||Fe.test(G))&&G>-1&&G%1==0&&G<Ae}function fd(G){var Ae=typeof G;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?G!=="__proto__":G===null}function hd(G){return!!mt&&mt in G}function Fl(G){var Ae=G&&G.constructor,qe=typeof Ae=="function"&&Ae.prototype||me;return G===qe}function wi(G){return wt.call(G)}function ha(G){if(G!=null){try{return Ze.call(G)}catch{}try{return G+""}catch{}}return""}function Di(G,Ae){return G===Ae||G!==G&&Ae!==Ae}var Ci=Nl(function(){return arguments}())?Nl:function(G){return $n(G)&&at.call(G,"callee")&&!Vt.call(G,"callee")},al=Array.isArray;function Yl(G){return G!=null&&Vl(G.length)&&!xi(G)}var nl=Ft||gd;function pd(G,Ae){return is(G,Ae)}function xi(G){if(!Pi(G))return!1;var Ae=$s(G);return Ae==g||Ae==D||Ae==i||Ae==w}function Vl(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=_}function Pi(G){var Ae=typeof G;return G!=null&&(Ae=="object"||Ae=="function")}function $n(G){return G!=null&&typeof G=="object"}var Ei=Oe?Se(Oe):ud;function Bl(G){return Yl(G)?yi(G):ws(G)}function vd(){return[]}function gd(){return!1}o.exports=pd})(ph,ph.exports);var J5=ph.exports,L1={},X5=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(L1,"__esModule",{value:!0});var wEe=X5(Z5),DEe=X5(J5),ug;(function(o){function a(m,_,l){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var r=wEe.default(_);l||(r=Object.keys(r).reduce(function(d,p){return r[p]!=null&&(d[p]=r[p]),d},{}));for(var i in m)m[i]!==void 0&&_[i]===void 0&&(r[i]=m[i]);return Object.keys(r).length>0?r:void 0}o.compose=a;function s(m,_){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var l=Object.keys(m).concat(Object.keys(_)).reduce(function(r,i){return DEe.default(m[i],_[i])||(r[i]=_[i]===void 0?null:_[i]),r},{});return Object.keys(l).length>0?l:void 0}o.diff=s;function t(m,_){m===void 0&&(m={}),_===void 0&&(_={}),m=m||{};var l=Object.keys(_).reduce(function(r,i){return _[i]!==m[i]&&m[i]!==void 0&&(r[i]=_[i]),r},{});return Object.keys(m).reduce(function(r,i){return m[i]!==_[i]&&_[i]===void 0&&(r[i]=null),r},l)}o.invert=t;function c(m,_,l){if(l===void 0&&(l=!1),typeof m!="object")return _;if(typeof _=="object"){if(!l)return _;var r=Object.keys(_).reduce(function(i,d){return m[d]===void 0&&(i[d]=_[d]),i},{});return Object.keys(r).length>0?r:void 0}}o.transform=c})(ug||(ug={}));L1.default=ug;var ff={},hf={},A0;function CEe(){if(A0)return hf;A0=1;var o=va&&va.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hf,"__esModule",{value:!0});var a=o(eD()),s=function(){function t(c){this.ops=c,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(c){c||(c=1/0);var m=this.ops[this.index];if(m){var _=this.offset,l=a.default.length(m);if(c>=l-_?(c=l-_,this.index+=1,this.offset=0):this.offset+=c,typeof m.delete=="number")return{delete:c};var r={};return m.attributes&&(r.attributes=m.attributes),typeof m.retain=="number"?r.retain=c:typeof m.insert=="string"?r.insert=m.insert.substr(_,c):r.insert=m.insert,r}else return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,m=this.index,_=this.next(),l=this.ops.slice(this.index);return this.offset=c,this.index=m,[_].concat(l)}else return[]},t}();return hf.default=s,hf}var I0;function eD(){if(I0)return ff;I0=1;var o=va&&va.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ff,"__esModule",{value:!0});var a=o(CEe()),s;return function(t){function c(_){return new a.default(_)}t.iterator=c;function m(_){return typeof _.delete=="number"?_.delete:typeof _.retain=="number"?_.retain:typeof _.insert=="string"?_.insert.length:1}t.length=m}(s||(s={})),ff.default=s,ff}var Nm=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},pf=Nm($Ee),xEe=Nm(Z5),bv=Nm(J5),Pd=Nm(L1),ya=Nm(eD()),PEe="\0",EEe=function(){function o(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}return o.prototype.insert=function(a,s){var t={};return typeof a=="string"&&a.length===0?this:(t.insert=a,s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(t.attributes=s),this.push(t))},o.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},o.prototype.retain=function(a,s){if(a<=0)return this;var t={retain:a};return s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(t.attributes=s),this.push(t)},o.prototype.push=function(a){var s=this.ops.length,t=this.ops[s-1];if(a=xEe.default(a),typeof t=="object"){if(typeof a.delete=="number"&&typeof t.delete=="number")return this.ops[s-1]={delete:t.delete+a.delete},this;if(typeof t.delete=="number"&&a.insert!=null&&(s-=1,t=this.ops[s-1],typeof t!="object"))return this.ops.unshift(a),this;if(bv.default(a.attributes,t.attributes)){if(typeof a.insert=="string"&&typeof t.insert=="string")return this.ops[s-1]={insert:t.insert+a.insert},typeof a.attributes=="object"&&(this.ops[s-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof t.retain=="number")return this.ops[s-1]={retain:t.retain+a.retain},typeof a.attributes=="object"&&(this.ops[s-1].attributes=a.attributes),this}}return s===this.ops.length?this.ops.push(a):this.ops.splice(s,0,a),this},o.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},o.prototype.filter=function(a){return this.ops.filter(a)},o.prototype.forEach=function(a){this.ops.forEach(a)},o.prototype.map=function(a){return this.ops.map(a)},o.prototype.partition=function(a){var s=[],t=[];return this.forEach(function(c){var m=a(c)?s:t;m.push(c)}),[s,t]},o.prototype.reduce=function(a,s){return this.ops.reduce(a,s)},o.prototype.changeLength=function(){return this.reduce(function(a,s){return s.insert?a+ya.default.length(s):s.delete?a-s.delete:a},0)},o.prototype.length=function(){return this.reduce(function(a,s){return a+ya.default.length(s)},0)},o.prototype.slice=function(a,s){a===void 0&&(a=0),s===void 0&&(s=1/0);for(var t=[],c=ya.default.iterator(this.ops),m=0;m<s&&c.hasNext();){var _=void 0;m<a?_=c.next(a-m):(_=c.next(s-m),t.push(_)),m+=ya.default.length(_)}return new o(t)},o.prototype.compose=function(a){var s=ya.default.iterator(this.ops),t=ya.default.iterator(a.ops),c=[],m=t.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;s.peekType()==="insert"&&s.peekLength()<=_;)_-=s.peekLength(),c.push(s.next());m.retain-_>0&&t.next(m.retain-_)}for(var l=new o(c);s.hasNext()||t.hasNext();)if(t.peekType()==="insert")l.push(t.next());else if(s.peekType()==="delete")l.push(s.next());else{var r=Math.min(s.peekLength(),t.peekLength()),i=s.next(r),d=t.next(r);if(typeof d.retain=="number"){var p={};typeof i.retain=="number"?p.retain=r:p.insert=i.insert;var v=Pd.default.compose(i.attributes,d.attributes,typeof i.retain=="number");if(v&&(p.attributes=v),l.push(p),!t.hasNext()&&bv.default(l.ops[l.ops.length-1],p)){var g=new o(s.rest());return l.concat(g).chop()}}else typeof d.delete=="number"&&typeof i.retain=="number"&&l.push(d)}return l.chop()},o.prototype.concat=function(a){var s=new o(this.ops.slice());return a.ops.length>0&&(s.push(a.ops[0]),s.ops=s.ops.concat(a.ops.slice(1))),s},o.prototype.diff=function(a,s){if(this.ops===a.ops)return new o;var t=[this,a].map(function(r){return r.map(function(i){if(i.insert!=null)return typeof i.insert=="string"?i.insert:PEe;var d=r===a?"on":"with";throw new Error("diff() called "+d+" non-document")}).join("")}),c=new o,m=pf.default(t[0],t[1],s),_=ya.default.iterator(this.ops),l=ya.default.iterator(a.ops);return m.forEach(function(r){for(var i=r[1].length;i>0;){var d=0;switch(r[0]){case pf.default.INSERT:d=Math.min(l.peekLength(),i),c.push(l.next(d));break;case pf.default.DELETE:d=Math.min(i,_.peekLength()),_.next(d),c.delete(d);break;case pf.default.EQUAL:d=Math.min(_.peekLength(),l.peekLength(),i);var p=_.next(d),v=l.next(d);bv.default(p.insert,v.insert)?c.retain(d,Pd.default.diff(p.attributes,v.attributes)):c.push(v).delete(d);break}i-=d}}),c.chop()},o.prototype.eachLine=function(a,s){s===void 0&&(s=`
`);for(var t=ya.default.iterator(this.ops),c=new o,m=0;t.hasNext();){if(t.peekType()!=="insert")return;var _=t.peek(),l=ya.default.length(_)-t.peekLength(),r=typeof _.insert=="string"?_.insert.indexOf(s,l)-l:-1;if(r<0)c.push(t.next());else if(r>0)c.push(t.next(r));else{if(a(c,t.next(1).attributes||{},m)===!1)return;m+=1,c=new o}}c.length()>0&&a(c,{},m)},o.prototype.invert=function(a){var s=new o;return this.reduce(function(t,c){if(c.insert)s.delete(ya.default.length(c));else{if(c.retain&&c.attributes==null)return s.retain(c.retain),t+c.retain;if(c.delete||c.retain&&c.attributes){var m=c.delete||c.retain,_=a.slice(t,t+m);return _.forEach(function(l){c.delete?s.push(l):c.retain&&c.attributes&&s.retain(ya.default.length(l),Pd.default.invert(c.attributes,l.attributes))}),t+m}}return t},0),s.chop()},o.prototype.transform=function(a,s){if(s===void 0&&(s=!1),s=!!s,typeof a=="number")return this.transformPosition(a,s);for(var t=a,c=ya.default.iterator(this.ops),m=ya.default.iterator(t.ops),_=new o;c.hasNext()||m.hasNext();)if(c.peekType()==="insert"&&(s||m.peekType()!=="insert"))_.retain(ya.default.length(c.next()));else if(m.peekType()==="insert")_.push(m.next());else{var l=Math.min(c.peekLength(),m.peekLength()),r=c.next(l),i=m.next(l);if(r.delete)continue;i.delete?_.push(i):_.retain(l,Pd.default.transform(r.attributes,i.attributes,s))}return _.chop()},o.prototype.transformPosition=function(a,s){s===void 0&&(s=!1),s=!!s;for(var t=ya.default.iterator(this.ops),c=0;t.hasNext()&&c<=a;){var m=t.peekLength(),_=t.peekType();if(t.next(),_==="delete"){a-=Math.min(m,a-c);continue}else _==="insert"&&(c<a||!s)&&(a+=m);c+=m}return a},o.Op=ya.default,o.AttributeMap=Pd.default,o}(),AEe=EEe;const IEe=Bh(AEe);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const R0={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},ls=Oa({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:o=>["delta","html","text"].includes(o)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:o=>["snow","bubble",""].includes(o)},toolbar:{type:[String,Array,Object],required:!1,validator:o=>typeof o=="string"&&o!==""?o.charAt(0)==="#"?!0:Object.keys(R0).indexOf(o)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(o,a)=>{Qe(()=>{m()}),td(()=>{s=null});let s,t;const c=h(),m=()=>{var P;if(c.value){if(t=_(),o.modules)if(Array.isArray(o.modules))for(const I of o.modules)vv.register(`modules/${I.name}`,I.module);else vv.register(`modules/${o.modules.name}`,o.modules.module);s=new vv(c.value,t),k(o.content),s.on("text-change",p),s.on("selection-change",g),s.on("editor-change",D),o.theme!=="bubble"&&c.value.classList.remove("ql-bubble"),o.theme!=="snow"&&c.value.classList.remove("ql-snow"),(P=s.getModule("toolbar"))===null||P===void 0||P.container.addEventListener("mousedown",I=>{I.preventDefault()}),a.emit("ready",s)}},_=()=>{const P={};if(o.theme!==""&&(P.theme=o.theme),o.readOnly&&(P.readOnly=o.readOnly),o.placeholder&&(P.placeholder=o.placeholder),o.toolbar&&o.toolbar!==""&&(P.modules={toolbar:(()=>{if(typeof o.toolbar=="object")return o.toolbar;if(typeof o.toolbar=="string")return o.toolbar.charAt(0)==="#"?o.toolbar:R0[o.toolbar]})()}),o.modules){const I=(()=>{var S,F;const N={};if(Array.isArray(o.modules))for(const U of o.modules)N[U.name]=(S=U.options)!==null&&S!==void 0?S:{};else N[o.modules.name]=(F=o.modules.options)!==null&&F!==void 0?F:{};return N})();P.modules=Object.assign({},P.modules,I)}return Object.assign({},o.globalOptions,o.options,P)},l=P=>typeof P=="object"&&P?P.slice():P,r=P=>Object.values(P.ops).some(I=>!I.retain||Object.keys(I).length!==1);let i;const d=P=>{if(typeof i==typeof P){if(P===i)return!0;if(typeof P=="object"&&P&&typeof i=="object"&&i)return!r(i.diff(P))}return!1},p=(P,I,S)=>{i=l(E()),d(o.content)||a.emit("update:content",i),a.emit("textChange",{delta:P,oldContents:I,source:S})},v=h(),g=(P,I,S)=>{v.value=!!(s!=null&&s.hasFocus()),a.emit("selectionChange",{range:P,oldRange:I,source:S})};ot(v,P=>{P?a.emit("focus",c):a.emit("blur",c)});const D=(...P)=>{P[0]==="text-change"&&a.emit("editorChange",{name:P[0],delta:P[1],oldContents:P[2],source:P[3]}),P[0]==="selection-change"&&a.emit("editorChange",{name:P[0],range:P[1],oldRange:P[2],source:P[3]})},y=()=>c.value,C=()=>{var P;return(P=s==null?void 0:s.getModule("toolbar"))===null||P===void 0?void 0:P.container},x=()=>{if(s)return s;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},E=(P,I)=>o.contentType==="html"?V():o.contentType==="text"?w(P,I):s==null?void 0:s.getContents(P,I),k=(P,I="api")=>{const S=P||(o.contentType==="delta"?new IEe:"");o.contentType==="html"?B(S):o.contentType==="text"?T(S,I):s==null||s.setContents(S,I),i=l(S)},w=(P,I)=>{var S;return(S=s==null?void 0:s.getText(P,I))!==null&&S!==void 0?S:""},T=(P,I="api")=>{s==null||s.setText(P,I)},V=()=>{var P;return(P=s==null?void 0:s.root.innerHTML)!==null&&P!==void 0?P:""},B=P=>{s&&(s.root.innerHTML=P)},O=(P,I="api")=>{const S=s==null?void 0:s.clipboard.convert(P);S&&(s==null||s.setContents(S,I))},L=()=>{s==null||s.focus()},R=()=>{bt(()=>{var P;!a.slots.toolbar&&s&&((P=s.getModule("toolbar"))===null||P===void 0||P.container.remove()),m()})};return ot(()=>o.content,P=>{if(!s||!P||d(P))return;const I=s.getSelection();I&&bt(()=>s==null?void 0:s.setSelection(I)),k(P)},{deep:!0}),ot(()=>o.enable,P=>{s&&s.enable(P)}),{editor:c,getEditor:y,getToolbar:C,getQuill:x,getContents:E,setContents:k,getHTML:V,setHTML:B,pasteHTML:O,focus:L,getText:w,setText:T,reinit:R}},render(){var o,a;return[(a=(o=this.$slots).toolbar)===null||a===void 0?void 0:a.call(o),En("div",{ref:"editor",...this.$attrs})]}}),REe={name:"PurchaseOrderSettings",props:["can_edit","can_approve_changes"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),D=()=>{A.get("purchase-order-settings").then(k=>{c.value=k.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=k.data.can_approve&&k.data.user_id!=c.value.proposed_update.user_id)}).catch(k=>{console.log(k)})};a.expose({getPurchaseOrderSettings:D});const y=()=>{const k=new FormData;k.append("maker_checker_creating_updating",r.value),k.append("auto_request_financing",i.value),k.append("company_logo",l.value),k.append("description",_.value),k.append("footer",m.value),A.post("purchase-order-settings/update",k).then(w=>{D(),l.value=null,t.success(w.data.message)}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})},C=k=>{k.preventDefault();let w=k.target.files||k.dataTransfer.files;w.length&&(l.value=w[0])},x=()=>{_.value=d.value.getHTML().toString()},E=k=>{A.get("purchase-order-settings/status/"+k+"/update").then(w=>{D(),l.value=null,t.success(w.data.message),document.getElementById("close-modal").click()}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([k,w,T,V,B])=>{k!=c.value.maker_checker_creating_updating||w!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||T?g.value=!0:g.value=!1}),{can_edit:s,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,can_approve:p,updateStatus:E,changeFile:C,changeDescription:x,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},SEe={class:"d-flex justify-content-between p-1"},TEe={class:"fw-bold py-3"},jEe={class:"fw-light px-3"},OEe={key:0,class:"my-auto px-2"},MEe={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},LEe={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},NEe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},FEe={class:"modal-content"},YEe={class:"modal-header"},VEe={class:"modal-title",id:"modalCenterTitle"},BEe={class:"modal-body"},UEe={key:0},qEe={key:0},HEe={key:1},zEe={key:1},WEe={key:0},KEe={key:1},GEe={key:2},QEe=["href"],ZEe={key:3},JEe=["innerHTML"],XEe={key:4},eAe={class:"modal-footer"},tAe={class:"row px-2 mb-2"},oAe={class:"col-md-4"},aAe={class:"row border rounded border-primary mx-2 py-2"},nAe={class:"col-md-9 d-flex flex-column"},sAe={class:"col-form-label"},lAe={class:"col-md-3 mt-2"},iAe={class:"form-check form-switch"},rAe={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},dAe=["checked"],cAe={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},uAe={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},_Ae={class:"btn btn-primary",type:"submit"},mAe={class:"fw-bold py-3 mb-2"},fAe={class:"fw-light px-3"},hAe={class:"row px-3 mb-2"},pAe={class:"col-md-6 border-bottom d-flex flex-column"},vAe={for:"html5-text-input",class:"col-form-label"},gAe={class:"col-md-6"},bAe={class:"row px-3 mb-2"},yAe={class:"col-md-6 d-flex flex-column"},kAe={for:"",class:"col-form-label"},$Ae={class:"col-md-6 mb-4"},wAe={class:"row px-3 mb-2 mt-4"},DAe={class:"col-md-6 d-flex flex-column"},CAe={for:"html5-text-input",class:"col-form-label"},xAe={class:"col-md-6"},PAe={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},EAe={class:"btn btn-primary",type:"submit"};function AAe(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",SEe,[e("h5",TEe,[e("span",jEe,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",OEe,[e("button",MEe,n(o.$t("View Proposed Changes")),1),e("div",LEe,[e("div",NEe,[e("div",FEe,[e("div",YEe,[e("h5",VEe,n(o.$t("Confirm Changes")),1),a[7]||(a[7]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",BEe,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",UEe,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",qEe,n(o.$t("Yes to No")),1)):(u(),f("span",HEe,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",zEe,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",WEe,n(o.$t("Yes to No")),1)):(u(),f("span",KEe,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",GEe,[le(n(o.$t("Changed Logo"))+" ",1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,QEe)])):b("",!0),i=="description"?(u(),f("div",ZEe,[le(n(o.$t("Change Description To"))+": ",1),a[8]||(a[8]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,JEe)])):b("",!0),i=="footer"?(u(),f("div",XEe,[le(n(o.$t("Change Footer To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",eAe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",tAe,[e("div",oAe,[e("div",aAe,[e("div",nAe,[e("label",sAe,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",lAe,[e("div",iAe,[e("label",rAe,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,dAe),[[Yo,t.maker_checker]]),e("label",cAe,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",uAe,[e("button",_Ae,n(o.$t("Submit")),1)])):b("",!0)],32),a[10]||(a[10]=e("hr",null,null,-1)),e("h5",mAe,[e("span",fAe,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",hAe,[e("div",pAe,[e("label",vAe,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",gAe,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[4]||(a[4]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",bAe,[e("div",yAe,[e("label",kAe,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",$Ae,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",wAe,[e("div",DAe,[e("label",CAe,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",xAe,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[5]||(a[5]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",PAe,[e("button",EAe,n(o.$t("Submit")),1)])):b("",!0)],32)])}const IAe=Ue(REe,[["render",AAe],["__scopeId","data-v-d0b5c524"]]),RAe={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(!1),l=h(!1),r=h(!1),i=()=>{A.get("invoice-settings").then(v=>{m.value=v.data.settings,_.value=m.value.maker_checker_creating_updating,m.value.proposed_update&&(l.value=v.data.can_approve&&v.data.user_id!=m.value.proposed_update.user_id)}).catch(v=>{console.log(v)})};a.expose({getInvoiceSettings:i});const d=()=>{const v=new FormData;v.append("maker_checker_creating_updating",_.value),A.post("invoice-settings/update",v).then(g=>{i(),c.success(g.data.message)}).catch(g=>{c.error(g.response.data.message)})};return ot([_],([v])=>{v!=m.value.maker_checker_creating_updating?r.value=!0:r.value=!1}),{can_edit:s,checker:t,can_approve:l,invoice_settings:m,maker_checker:_,updateStatus:v=>{A.get("invoice-settings/status/"+v+"/update").then(g=>{i(),c.success(g.data.message),document.getElementById("close-modal").click()}).catch(g=>{c.error(g.response.data.message)})},updateInvoiceSettings:d,can_submit_upper:r}}},SAe={class:"d-flex justify-content-between p-1"},TAe={class:"fw-bold py-3"},jAe={class:"fw-light px-3"},OAe={key:0,class:"my-auto px-2"},MAe={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},LAe={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},NAe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},FAe={class:"modal-content"},YAe={class:"modal-header"},VAe={class:"modal-title",id:"modalCenterTitle"},BAe={class:"modal-body"},UAe={key:0},qAe={key:0},HAe={key:1},zAe={class:"modal-footer"},WAe={class:"row px-2 mb-2"},KAe={class:"col-md-4"},GAe={class:"row border rounded border-primary mx-2 py-2"},QAe={class:"col-md-9 d-flex flex-column"},ZAe={class:"col-form-label"},JAe={class:"col-md-3 mt-2"},XAe={class:"form-check form-switch"},e6e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},t6e=["checked"],o6e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},a6e={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},n6e={class:"btn btn-primary",type:"submit"};function s6e(o,a,s,t,c,m){return u(),f("div",null,[e("div",SAe,[e("h5",TAe,[e("span",jAe,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",OAe,[e("button",MAe,n(o.$t("View Proposed Changes")),1),e("div",LAe,[e("div",NAe,[e("div",FAe,[e("div",YAe,[e("h5",VAe,n(o.$t("Confirm Changes")),1),a[4]||(a[4]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",BAe,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,_=>(u(),f("div",{key:_},[(u(!0),f(W,null,X(_,(l,r)=>(u(),f("div",{key:l},[r=="maker_checker_creating_updating"?(u(),f("div",UAe,[le(n(o.$t("Change Maker/Checker for Invoice Approval from"))+" ",1),t.maker_checker?(u(),f("span",qAe,n(o.$t("Yes to No")),1)):(u(),f("span",HAe,n(o.$t("No to Yes")),1))])):b("",!0)]))),128))]))),128))]),e("div",zAe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=_=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=_=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(..._),["prevent"])),method:"post"},[e("div",WAe,[e("div",KAe,[e("div",GAe,[e("div",QAe,[e("label",ZAe,n(o.$t("Invoice / Payment Instruction (PI) Approval")),1),e("small",null,n(o.$t("Request checker approval for approval of invoices")),1)]),e("div",JAe,[e("div",XAe,[e("label",e6e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=_=>t.maker_checker=_)},null,8,t6e),[[Yo,t.maker_checker]]),e("label",o6e,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",a6e,[e("button",n6e,n(o.$t("Submit")),1)])):b("",!0)],32)])}const l6e=Ue(RAe,[["render",s6e],["__scopeId","data-v-c887c75d"]]),i6e={name:"Settings",props:["can_edit","can_view","can_edit_vendor","has_proposed_updates","has_invoice_proposed_updates"],components:{BankAccounts:hEe,PurchaseOrderSettings:IAe,InvoiceSettings:l6e},setup(o){const a=o.can_edit,s=o.can_view,t=o.can_edit_vendor,c=o.has_proposed_updates,m=o.has_invoice_proposed_updates,_=h(null),l=h(null),r=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_view:s,can_edit_vendor:t,has_proposed_updates:c,has_invoice_proposed_updates:m,bank_accounts:_,purchase_order_settings:l,invoice_settings:r,switchTabs:d=>{switch(d){case"bank-accounts":_.value.getBankAccounts();break;case"purchase-order-settings":l.value.getPurchaseOrderSettings();break;case"invoice-settings":r.value.getInvoiceSettings();break}}}}},r6e={class:"nav-align-top mb-4"},d6e={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},c6e={class:"nav-item"},u6e={key:0,class:"nav-item"},_6e={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},m6e={key:1,class:"nav-item"},f6e={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},h6e={class:"tab-content"},p6e={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},v6e={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},g6e={key:1,class:"tab-pane fade",id:"navs-pills-invoice-settings",role:"tabpanel"};function b6e(o,a,s,t,c,m){const _=de("bank-accounts"),l=de("purchase-order-settings"),r=de("invoice-settings");return u(),f("div",r6e,[e("ul",d6e,[e("li",c6e,[e("button",{type:"button",onClick:a[0]||(a[0]=i=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.can_view==1?(u(),f("li",u6e,[e("button",{type:"button",onClick:a[1]||(a[1]=i=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Purchase Order Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",_6e)):b("",!0)])])):b("",!0),t.can_view==1?(u(),f("li",m6e,[e("button",{type:"button",onClick:a[2]||(a[2]=i=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-invoice-settings","aria-controls":"navs-pills-invoice-settings","aria-selected":"false"},[a[5]||(a[5]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_invoice_proposed_updates==1?(u(),f("i",f6e)):b("",!0)])])):b("",!0)]),e("div",h6e,[e("div",p6e,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",v6e,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0),t.can_view==1?(u(),f("div",g6e,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const y6e=Ue(i6e,[["render",b6e]]),k6e={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"factoring/purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let I="";switch(P){case"Pending Checker Approval":I="bg-label-warning";break;case"pending Maker":I="bg-label-primary";break;case"Pending Checker":I="bg-label-warning";break;case"Accepted":I="bg-label-success";break;case"Invoiced":I="bg-label-secondary";break;case"Rejected":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},k=async(P,I)=>{m.value=!1,await A.post(`${a}factoring/purchase-orders/status/update`,{purchase_order_id:P,status:I,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),x()}).catch(S=>{console.log(S),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{x()}),ot([c],([P])=>{A.get(a+"purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}),ot(v,P=>{g.value.length>0?(C.value=[],P=="approve"&&(g.value.forEach(I=>{C.value.push(s.value.data.filter(S=>S.id==I)[0])}),y.value.click()),P=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,exportReport:()=>{A.get(a+"purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/data?per_page="+c.value).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let I;if(!g.value.filter(function(F,N){I=N,F==P.id}))return!1;g.value.splice(I,1)}})},updateSelected:P=>{if(g.value.includes(P)){const I=g.value.indexOf(P);g.value.splice(I,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const I=new FormData;g.value.forEach(S=>{I.append("purchase_orders[]",S)}),P=="approve"&&I.append("status","accepted"),P=="reject"&&(I.append("status","rejected"),I.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",I).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(S=>{console.log(S),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}}}},$6e={class:""},w6e={class:"d-flex justify-content-between px-2 py-2"},D6e={class:"d-flex flex-wrap gap-1"},C6e={class:""},x6e={for:"Buyer",class:"form-label"},P6e={class:""},E6e={for:"PO No",class:"form-label"},A6e={class:""},I6e={class:"form-label",for:""},R6e={class:""},S6e={for:"Status",class:"form-label"},T6e={value:""},j6e={value:"pending"},O6e={value:"approved"},M6e={value:"invoiced"},L6e={value:"rejected"},N6e={class:""},F6e={for:"Bulk Actions",class:"form-label"},Y6e={value:""},V6e={value:"approve"},B6e={value:"reject"},U6e={class:"table-search-btn"},q6e={class:"table-clear-btn"},H6e={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},z6e={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},W6e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},K6e={class:"modal-content"},G6e={class:"modal-header"},Q6e={class:"modal-title",id:"modalCenterTitle"},Z6e={class:"modal-body"},J6e={class:"modal-footer"},X6e={class:"btn btn-primary",type:"submit"},eIe={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},tIe={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},oIe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},aIe={class:"modal-content"},nIe={class:"modal-header"},sIe={class:"modal-title",id:"modalCenterTitle"},lIe={class:"modal-body"},iIe={class:"row mb-1"},rIe={class:"form-group"},dIe={for:""},cIe={class:"modal-footer"},uIe={class:"btn btn-primary",type:"submit"},_Ie={class:"d-flex"},mIe={class:"mx-1"},fIe={class:"table-responsive"},hIe={class:"table dt-invoices"},pIe={class:"form-check"},vIe={key:0},gIe={colspan:"12",class:"text-center"},bIe={class:"text-center"},yIe={key:1},kIe={colspan:"12",class:"text-center"},$Ie={class:"text-center"},wIe={class:"form-check"},DIe=["id","onChange"],CIe=["data-bs-target"],xIe={class:"text-success"},PIe={class:"text-success"},EIe={class:""},AIe={class:""},IIe={class:""},RIe={class:"d-inline-block"},SIe={class:"dropdown-menu dropdown-menu-end m-0"},TIe=["onClick"],jIe={class:"dropdown-item badge bg-label-success"},OIe={key:1},MIe=["data-bs-target"],LIe={key:2,class:""},NIe=["href"],FIe={key:3,class:"dropdown-item badge bg-label-secondary"},YIe=["href"],VIe=["id"],BIe={class:"modal-dialog modal-md",role:"document"},UIe=["onSubmit"],qIe={class:"modal-content"},HIe={class:"modal-header"},zIe={class:"modal-title",id:"modalCenterTitle"},WIe={class:"modal-body"},KIe={class:"form-label"},GIe={class:"form-group"},QIe={class:"modal-footer"},ZIe={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},JIe=["disabled"],XIe=["id"],e8e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},t8e={class:"modal-content"},o8e={class:"modal-header"},a8e={class:"modal-title",id:"modalCenterTitle"},n8e={class:"d-flex"},s8e=["href"],l8e={class:"modal-body"},i8e={class:"d-flex justify-content-between"},r8e={class:"mb-3 w-25"},d8e={class:"d-flex justify-content-between"},c8e={class:"fw-light my-auto"},u8e={class:"fw-bold mx-2 my-auto"},_8e={class:"d-flex justify-content-between"},m8e={class:"fw-light my-auto"},f8e={class:"fw-bold mx-2 my-auto"},h8e={class:"d-flex justify-content-between"},p8e={class:"fw-light my-auto"},v8e={class:"fw-bold mx-2 my-auto"},g8e={class:"d-flex justify-content-between"},b8e={class:"fw-light my-auto"},y8e={key:0,class:"d-flex justify-content-between"},k8e={class:"fw-light my-auto"},$8e={class:"fw-bold mx-2 my-auto"},w8e={class:"mb-3"},D8e={class:"d-flex justify-content-between"},C8e={class:"my-auto fw-light"},x8e={class:"fw-bold mx-2 my-auto"},P8e={class:"d-flex justify-content-between"},E8e={class:"my-auto fw-light"},A8e={class:"fw-bold mx-2 my-auto"},I8e={class:"d-flex justify-content-between"},R8e={class:"my-auto fw-light"},S8e={class:"fw-bold mx-2 my-auto"},T8e={class:"d-flex justify-content-between"},j8e={class:"my-auto fw-light"},O8e={class:"fw-bold text-success mx-2 my-auto"},M8e={class:"table-responsive"},L8e={class:"table"},N8e={class:"bg-label-secondary px-2"},F8e={class:"d-flex justify-content-end"},Y8e={class:"mx-2 my-auto py-1"},V8e={class:"text-success my-auto py-1"};function B8e(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",$6e,[e("div",w6e,[e("div",D6e,[e("div",C6e,[e("label",x6e,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.anchor_search]])]),e("div",P6e,[e("label",E6e,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.po_search]])]),e("div",A6e,[e("label",I6e,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",R6e,[e("label",S6e,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",T6e,n(o.$t("Status")),1),e("option",j6e,n(o.$t("Pending")),1),e("option",O6e,n(o.$t("Accepted")),1),e("option",M6e,n(o.$t("Invoiced")),1),e("option",L6e,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",N6e,[e("label",F6e,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",Y6e,n(o.$t("Bulk Actions")),1),e("option",V6e,n(o.$t("Accept")),1),e("option",B6e,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",U6e,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",q6e,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",H6e,null,512),e("div",z6e,[e("div",W6e,[e("div",K6e,[e("div",G6e,[e("h5",Q6e,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Z6e,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",J6e,[e("button",X6e,n(o.$t("Submit")),1)])],32)])])]),e("button",eIe,null,512),e("div",tIe,[e("div",oIe,[e("div",aIe,[e("div",nIe,[e("h5",sIe,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",lIe,[e("div",iIe,[e("div",rIe,[e("label",dIe,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",cIe,[e("button",uIe,n(o.$t("Submit")),1)])],32)])])])]),e("div",_Ie,[e("div",mIe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",fIe,[e("table",hIe,[e("thead",null,[e("tr",null,[e("th",null,[e("div",pIe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",vIe,[e("td",gIe,[e("span",bIe,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",yIe,[e("td",kIe,[e("span",$Ie,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",wIe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,DIe)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,CIe),e("td",xIe,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",PIe,n(l.purchase_order_items.length),1),e("td",EIe,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",AIe,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",IIe,[e("div",RIe,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",SIe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",jIe,n(o.$t("Accept")),1)],8,TIe)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",OIe,[e("span",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,MIe)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",LIe,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,NIe)])):b("",!0),l.attachment?(u(),f("li",FIe,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,YIe)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",BIe,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",qIe,[e("div",HIe,[e("h5",zIe,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",WIe,[e("label",KIe,n(o.$t("Rejection Reason")),1),e("div",GIe,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",QIe,[e("button",ZIe,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,JIe)])])],40,UIe)])],8,VIe),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",e8e,[e("div",t8e,[e("div",o8e,[e("h5",a8e,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",n8e,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,s8e)):b("",!0)])]),e("div",l8e,[e("div",i8e,[e("div",r8e,[e("span",d8e,[e("h5",c8e,n(o.$t("Buyer"))+":",1),e("h6",u8e,n(l.anchor.name),1)]),e("span",_8e,[e("h5",m8e,n(o.$t("Delivery Address"))+":",1),e("h6",f8e,n(l.delivery_address),1)]),e("span",h8e,[e("h5",p8e,n(o.$t("Remarks"))+":",1),e("h6",v8e,n(l.remarks),1)]),e("span",g8e,[e("h5",b8e,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",y8e,[e("h5",k8e,n(o.$t("Rejection Reason"))+":",1),e("h6",$8e,n(l.rejection_reason),1)])):b("",!0)]),e("div",w8e,[e("span",D8e,[e("h5",C8e,n(o.$t("PO No"))+":",1),e("h6",x8e,n(l.purchase_order_number),1)]),e("span",P8e,[e("h5",E8e,n(o.$t("Start Date"))+":",1),e("h6",A8e,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",I8e,[e("h5",R8e,n(o.$t("End Date"))+":",1),e("h6",S8e,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",T8e,[e("h5",j8e,n(o.$t("PO Amount"))+":",1),e("h6",O8e,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",M8e,[e("table",L8e,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",N8e,[e("span",F8e,[e("h6",Y8e,n(o.$t("Total")),1),e("h5",V8e,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,XIe)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const U8e=Ue(k6e,[["render",B8e]]),q8e={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"factoring/purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let I="";switch(P){case"Pending Checker Approval":I="bg-label-warning";break;case"pending Maker":I="bg-label-primary";break;case"Pending Checker":I="bg-label-warning";break;case"Accepted":I="bg-label-success";break;case"Invoiced":I="bg-label-secondary";break;case"Rejected":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},k=async(P,I)=>{m.value=!1,await A.post(`${a}factoring/purchase-orders/status/update`,{purchase_order_id:P,status:I,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(S=>{console.log(S),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{x()}),ot([c],([P])=>{A.get(a+"purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}),ot(v,P=>{g.value.length>0?(C.value=[],P=="approve"&&(g.value.forEach(I=>{C.value.push(s.value.data.filter(S=>S.id==I)[0])}),y.value.click()),P=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,exportReport:()=>{A.get(a+"purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let I;if(!g.value.filter(function(F,N){I=N,F==P.id}))return!1;g.value.splice(I,1)}})},updateSelected:P=>{if(g.value.includes(P)){const I=g.value.indexOf(P);g.value.splice(I,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const I=new FormData;g.value.forEach(S=>{I.append("purchase_orders[]",S)}),P=="approve"&&I.append("status","accepted"),P=="reject"&&(I.append("status","rejected"),I.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",I).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(S=>{console.log(S),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}}}},H8e={class:""},z8e={class:"d-flex justify-content-between px-2 py-2"},W8e={class:"d-flex flex-wrap"},K8e={class:""},G8e={for:"Buyer",class:"form-label"},Q8e={class:"mx-1"},Z8e={for:"PO No",class:"form-label"},J8e={class:"mx-1"},X8e={class:"form-label",for:""},eRe={class:"mx-1"},tRe={for:"Status",class:"form-label"},oRe={value:""},aRe={value:"pending"},nRe={value:"approved"},sRe={value:"invoiced"},lRe={value:"rejected"},iRe={class:"mx-1"},rRe={for:"Bulk Actions",class:"form-label"},dRe={value:""},cRe={value:"approve"},uRe={value:"reject"},_Re={class:"my-auto"},mRe={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},fRe={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},hRe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},pRe={class:"modal-content"},vRe={class:"modal-header"},gRe={class:"modal-title",id:"modalCenterTitle"},bRe={class:"modal-body"},yRe={class:"modal-footer"},kRe={class:"btn btn-primary",type:"submit"},$Re={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},wRe={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},DRe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},CRe={class:"modal-content"},xRe={class:"modal-header"},PRe={class:"modal-title",id:"modalCenterTitle"},ERe={class:"modal-body"},ARe={class:"row mb-1"},IRe={class:"form-group"},RRe={for:""},SRe={class:"modal-footer"},TRe={class:"btn btn-primary",type:"submit"},jRe={class:"d-flex"},ORe={class:"mx-1"},MRe={class:"table-responsive"},LRe={class:"table dt-invoices"},NRe={class:"form-check"},FRe={key:0},YRe={colspan:"12",class:"text-center"},VRe={class:"text-center"},BRe={key:1},URe={colspan:"12",class:"text-center"},qRe={class:"text-center"},HRe={class:"form-check"},zRe=["id","onChange"],WRe=["data-bs-target"],KRe={class:"text-success"},GRe={class:"text-success"},QRe={class:""},ZRe={class:""},JRe={class:""},XRe={class:"d-inline-block"},eSe={class:"dropdown-menu dropdown-menu-end m-0"},tSe=["onClick"],oSe={class:"dropdown-item badge bg-label-success"},aSe={key:1},nSe=["data-bs-target"],sSe={key:2,class:""},lSe=["href"],iSe={key:3,class:"dropdown-item badge bg-label-secondary"},rSe=["href"],dSe=["id"],cSe={class:"modal-dialog modal-md",role:"document"},uSe=["onSubmit"],_Se={class:"modal-content"},mSe={class:"modal-header"},fSe={class:"modal-title",id:"modalCenterTitle"},hSe={class:"modal-body"},pSe={class:"form-label"},vSe={class:"form-group"},gSe={class:"modal-footer"},bSe={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},ySe=["disabled"],kSe=["id"],$Se={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},wSe={class:"modal-content"},DSe={class:"modal-header"},CSe={class:"modal-title",id:"modalCenterTitle"},xSe={class:"d-flex"},PSe=["href"],ESe={class:"modal-body"},ASe={class:"d-flex justify-content-between"},ISe={class:"mb-3 w-25"},RSe={class:"d-flex justify-content-between"},SSe={class:"fw-light my-auto"},TSe={class:"fw-bold mx-2 my-auto"},jSe={class:"d-flex justify-content-between"},OSe={class:"fw-light my-auto"},MSe={class:"fw-bold mx-2 my-auto"},LSe={class:"d-flex justify-content-between"},NSe={class:"fw-light my-auto"},FSe={class:"fw-bold mx-2 my-auto"},YSe={class:"d-flex justify-content-between"},VSe={class:"fw-light my-auto"},BSe={key:0,class:"d-flex justify-content-between"},USe={class:"fw-light my-auto"},qSe={class:"fw-bold mx-2 my-auto"},HSe={class:"mb-3"},zSe={class:"d-flex justify-content-between"},WSe={class:"my-auto fw-light"},KSe={class:"fw-bold mx-2 my-auto"},GSe={class:"d-flex justify-content-between"},QSe={class:"my-auto fw-light"},ZSe={class:"fw-bold mx-2 my-auto"},JSe={class:"d-flex justify-content-between"},XSe={class:"my-auto fw-light"},eTe={class:"fw-bold mx-2 my-auto"},tTe={class:"d-flex justify-content-between"},oTe={class:"my-auto fw-light"},aTe={class:"fw-bold text-success mx-2 my-auto"},nTe={class:"table-responsive"},sTe={class:"table"},lTe={class:"bg-label-secondary px-2"},iTe={class:"d-flex justify-content-end"},rTe={class:"mx-2 my-auto py-1"},dTe={class:"text-success my-auto py-1"};function cTe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",H8e,[e("div",z8e,[e("div",W8e,[e("div",K8e,[e("label",G8e,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.anchor_search]])]),e("div",Q8e,[e("label",Z8e,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.po_search]])]),e("div",J8e,[e("label",X8e,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",eRe,[e("label",tRe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",oRe,n(o.$t("Status")),1),e("option",aRe,n(o.$t("Pending")),1),e("option",nRe,n(o.$t("Accepted")),1),e("option",sRe,n(o.$t("Invoiced")),1),e("option",lRe,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",iRe,[e("label",rRe,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",dRe,n(o.$t("Bulk Actions")),1),e("option",cRe,n(o.$t("Accept")),1),e("option",uRe,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",_Re,[e("button",{class:"btn btn-primary btn-sm mx-1",title:"Download Excel",type:"button",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)])),e("button",{class:"btn btn-primary btn-sm",title:"Download PDF",type:"button",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",mRe,null,512),e("div",fRe,[e("div",hRe,[e("div",pRe,[e("div",vRe,[e("h5",gRe,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",bRe,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",yRe,[e("button",kRe,n(o.$t("Submit")),1)])],32)])])]),e("button",$Re,null,512),e("div",wRe,[e("div",DRe,[e("div",CRe,[e("div",xRe,[e("h5",PRe,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",ERe,[e("div",ARe,[e("div",IRe,[e("label",RRe,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",SRe,[e("button",TRe,n(o.$t("Submit")),1)])],32)])])])]),e("div",jRe,[e("div",ORe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",MRe,[e("table",LRe,[e("thead",null,[e("tr",null,[e("th",null,[e("div",NRe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",FRe,[e("td",YRe,[e("span",VRe,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",BRe,[e("td",URe,[e("span",qRe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",HRe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,zRe)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,WRe),e("td",KRe,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",GRe,n(l.purchase_order_items.length),1),e("td",QRe,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",ZRe,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",JRe,[e("div",XRe,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",eSe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",oSe,n(o.$t("Accept")),1)],8,tSe)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",aSe,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},"Reject",8,nSe)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",sSe,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},"Convert to Invoice",8,lSe)])):b("",!0),l.attachment?(u(),f("li",iSe,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,rSe)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",cSe,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",_Se,[e("div",mSe,[e("h5",fSe,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",hSe,[e("label",pSe,n(o.$t("Rejection Reason")),1),e("div",vSe,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",gSe,[e("button",bSe,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,ySe)])])],40,uSe)])],8,dSe),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",$Se,[e("div",wSe,[e("div",DSe,[e("h5",CSe,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",xSe,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,PSe)):b("",!0)])]),e("div",ESe,[e("div",ASe,[e("div",ISe,[e("span",RSe,[e("h5",SSe,n(o.$t("Buyer"))+":",1),e("h6",TSe,n(l.anchor.name),1)]),e("span",jSe,[e("h5",OSe,n(o.$t("Delivery Address"))+":",1),e("h6",MSe,n(l.delivery_address),1)]),e("span",LSe,[e("h5",NSe,n(o.$t("Remarks"))+":",1),e("h6",FSe,n(l.remarks),1)]),e("span",YSe,[e("h5",VSe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",BSe,[e("h5",USe,n(o.$t("Rejection Reason"))+":",1),e("h6",qSe,n(l.rejection_reason),1)])):b("",!0)]),e("div",HSe,[e("span",zSe,[e("h5",WSe,n(o.$t("PO No"))+":",1),e("h6",KSe,n(l.purchase_order_number),1)]),e("span",GSe,[e("h5",QSe,n(o.$t("Start Date"))+":",1),e("h6",ZSe,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",JSe,[e("h5",XSe,n(o.$t("End Date"))+":",1),e("h6",eTe,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",tTe,[e("h5",oTe,n(o.$t("PO Amount"))+":",1),e("h6",aTe,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",nTe,[e("table",sTe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",lTe,[e("span",iTe,[e("h6",rTe,n(o.$t("Total")),1),e("h5",dTe,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,kSe)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const uTe=Ue(q8e,[["render",cTe]]),_Te={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),D=async()=>{await A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value}}).then(O=>{s.value=O.data.invoices}).catch(O=>{console.log(O)})},y=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+O+"/details").then(R=>{v.value=R.data,g.value++,bt(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})};Qe(()=>{D()});const C=O=>{let L="";switch(O){case"created":L="bg-label-secondary";break;case"pending":L="bg-label-primary";break;case"submitted":L="bg-label-primary";break;case"approved":L="bg-label-success";break;case"disbursed":L="bg-label-success";break;case"denied":L="bg-label-danger";break;case"Rejected":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},x=O=>{let L="";switch(O){case"pending":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},E=(O,L)=>(L/O*100).toFixed(2);return ot([t],([O])=>{A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:O}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,buyer_search:_,from_date_search:l,to_date_search:r,status_search:i,financing_status_search:d,invoice_details:v,invoice_details_key:g,changePage:async O=>{await A.get(O,{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{s.value=L.data.invoices})},resolveFinancingStatus:x,resolveStatus:C,getTaxPercentage:E,exportReport:()=>{A.get(c+"factoring/reports/report/factoring-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},exportPdfReport:()=>{A.get(c+"reports/factoring-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},refresh:()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},showInvoice:y}}},mTe={class:"card p-1"},fTe={class:"d-flex justify-content-between"},hTe={class:"d-flex flex-wrap gap-1"},pTe={class:""},vTe={for:"Invoice No",class:"form-label"},gTe={class:""},bTe={for:"Invoice No",class:"form-label"},yTe={class:""},kTe={class:"form-label",for:""},$Te={class:""},wTe={for:"Status",class:"form-label"},DTe={value:""},CTe={value:"pending"},xTe={value:"pending_maker"},PTe={value:"pending_checker"},ETe={value:"approved"},ATe={value:"rejected"},ITe={value:"past_due"},RTe={value:"expired"},STe={class:""},TTe={for:"Financing Status",class:"form-label"},jTe={value:""},OTe={value:"pending"},MTe={value:"submitted"},LTe={value:"financed"},NTe={value:"disbursed"},FTe={value:"closed"},YTe={value:"rejected"},VTe={class:"table-search-btn"},BTe={class:"table-clear-btn"},UTe={class:"d-flex flex-wrap align-items-end"},qTe={class:"mx-1"},HTe={class:"table-responsive"},zTe={class:"table"},WTe={class:"table-border-bottom-0"},KTe={key:0},GTe={colspan:"12",class:"text-center"},QTe={class:"text-center"},ZTe={key:1},JTe={colspan:"12",class:"text-center"},XTe={class:"text-center"},eje=["onClick"],tje={class:"me-1"},oje={class:"text-success text-nowrap"},aje={key:0},nje={key:1},sje={key:0,class:"text-success text-nowrap"},lje={key:1},ije=["id","data-bs-target"],rje=["id","data-bs-target"],dje={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},cje={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},uje={class:"modal-content"},_je={class:"modal-body"},mje={class:"d-flex justify-content-center"};function fje(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",mTe,[e("div",fTe,[e("div",hTe,[e("div",pTe,[e("label",vTe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",gTe,[e("label",bTe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",yTe,[e("label",kTe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",$Te,[e("label",wTe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",DTe,n(o.$t("Status")),1),e("option",CTe,n(o.$t("Pending (Internal Approval)")),1),e("option",xTe,n(o.$t("Pending Maker")),1),e("option",PTe,n(o.$t("Pending Checker")),1),e("option",ETe,n(o.$t("Approved")),1),e("option",ATe,n(o.$t("Rejected")),1),e("option",ITe,n(o.$t("Overdue")),1),e("option",RTe,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",STe,[e("label",TTe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",jTe,n(o.$t("Finanicing Status")),1),e("option",OTe,n(o.$t("Pending")),1),e("option",MTe,n(o.$t("Submitted")),1),e("option",LTe,n(o.$t("Financed")),1),e("option",NTe,n(o.$t("Disbursed")),1),e("option",FTe,n(o.$t("Closed")),1),e("option",YTe,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",VTe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BTe,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),a[14]||(a[14]=e("div",{class:"my-auto"},null,-1))]),e("div",UTe,[e("div",qTe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i),style:{width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",HTe,[e("table",zTe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1),a[18]||(a[18]=e("th",null,null,-1))])]),e("tbody",WTe,[t.invoices.data?b("",!0):(u(),f("tr",KTe,[e("td",GTe,[e("span",QTe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",ZTe,[e("td",JTe,[e("span",XTe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,eje),e("td",null,[e("span",tje,n(i.buyer),1)]),e("td",oje,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",aje,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",nje,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.financing_status=="financed"||i.financing_status=="closed"?(u(),f("td",sje,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("td",lje,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,ije),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,rje),a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",dje,[e("div",cje,[e("div",uje,[e("div",_je,[e("div",mje,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const tD=Ue(_Te,[["render",fje]]),hje={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:g}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/factoring-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},pje={class:"card p-2"},vje={class:"d-flex justify-content-between"},gje={class:"d-flex flex-wrap"},bje={class:""},yje={for:"Program Code",class:"form-label"},kje={class:"mx-1"},$je={for:"Buyer",class:"form-label"},wje={class:"mx-1 table-search-btn"},Dje={class:"mx-1 table-clear-btn"},Cje={class:"d-flex align-items-end"},xje={class:"table-responsive"},Pje={class:"table"},Eje={class:"text-nowrap"},Aje={class:"table-border-bottom-0"},Ije={key:0},Rje={colspan:"12",class:"text-center"},Sje={class:"text-center"},Tje={key:1},jje={colspan:"12",class:"text-center"},Oje={class:"text-center"},Mje={class:""},Lje={class:"me-1"},Nje={class:"text-success"},Fje={class:"text-success"},Yje={class:"text-success"},Vje={class:"text-success"};function Bje(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",pje,[e("div",vje,[e("div",gje,[e("div",bje,[e("label",yje,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.loan_od_account_search]])]),e("div",kje,[e("label",$je,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.buyer_search]])]),e("div",wje,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Dje,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Cje,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",xje,[e("table",Pje,[e("thead",null,[e("tr",Eje,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",Aje,[t.programs.data?b("",!0):(u(),f("tr",Ije,[e("td",Rje,[e("span",Sje,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Tje,[e("td",jje,[e("span",Oje,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",Mje,n(l.payment_account_number),1),e("td",null,[e("span",Lje,n(l.buyer_name),1)]),e("td",Nje,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Fje,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Yje,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Vje,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oD=Ue(hje,[["render",Bje]]),Uje={name:"PaymentsReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(null),y=h(null),C=h(""),x=h(""),E=h(0),k=()=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(F=>{s.value=F.data.payments}).catch(F=>{console.log(F)})},w=async(F,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+F+"/details").then(U=>{D.value=U.data,E.value++,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})},T=async(F,N)=>{await A.get(c+"factoring/purchase-orders/"+F+"/show").then(U=>{y.value=U.data,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})};Qe(()=>{k()});const V=F=>{let N="";switch(F){case"created":N="bg-label-secondary";break;case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-primary";break;case"approved":N="bg-label-secondary";break;case"disbursed":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},B=F=>{let N="";switch(F){case"pending":N="bg-label-primary";break;case"financed":N="bg-label-success";break;case"closed":N="bg-label-secondary";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},O=(F,N)=>(N/F*100).toFixed(2);return ot(t,([F])=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:F,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)})}),{moment:H,payments:s,per_page:t,invoice_number_search:m,buyer_search:_,po_search:l,from_date_search:r,to_date_search:i,from_disbursement_date_search:d,to_disbursement_date_search:p,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,getTaxPercentage:O,changePage:async F=>{await A.get(F,{params:{per_page:t.value,buyer:_.value,invoice_number:m.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)})},exportPdfReport:()=>{A.get(c+"reports/factoring-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)})},filter:()=>{C.value=$("#date_search").val(),C.value&&(r.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#disbursement_date_search").val(),x.value&&(d.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let F=$(".ti-search").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},refresh:()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",C.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-refresh"></i>')})},invoice_details:D,purchase_order_details:y,showInvoice:w,showPurchaseOrder:T,show_invoice_key:E}}},qje={class:"card p-1"},Hje={class:"d-flex justify-content-between"},zje={class:"d-flex flex-wrap gap-1"},Wje={class:""},Kje={for:"Buyer",class:"form-label"},Gje={class:""},Qje={for:"Invoice No",class:"form-label"},Zje={class:""},Jje={for:"PO No",class:"form-label"},Xje={class:""},eOe={class:"form-label",for:""},tOe={class:""},oOe={class:"form-label",for:""},aOe={class:""},nOe={for:"Financing Status",class:"form-label"},sOe={value:""},lOe={value:"disbursed"},iOe={value:"closed"},rOe={class:"table-search-btn"},dOe={class:"table-clear-btn"},cOe={class:"d-flex align-items-end"},uOe={class:"table-responsive"},_Oe={class:"table"},mOe={class:""},fOe={class:"table-border-bottom-0"},hOe={key:0},pOe={colspan:"12",class:"text-center"},vOe={class:"text-center"},gOe={key:1},bOe={colspan:"12",class:"text-center"},yOe={class:"text-center"},kOe=["onClick"],$Oe={class:"text-success text-nowrap"},wOe={class:"text-success text-nowrap"},DOe={class:"text-success text-nowrap"},COe={class:"text-success text-nowrap"},xOe={class:"text-success text-nowrap"},POe={class:"text-success text-nowrap"},EOe=["id","data-bs-target"],AOe=["id","data-bs-target"],IOe=["id","data-bs-target"],ROe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},SOe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},TOe={class:"modal-content"},jOe={class:"modal-body"},OOe={class:"d-flex justify-content-center"},MOe=["id"],LOe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},NOe={class:"modal-content"},FOe={class:"modal-header"},YOe={class:"modal-title",id:"modalCenterTitle"},VOe={class:"d-flex"},BOe=["href"],UOe={class:"modal-body"},qOe={class:"d-flex justify-content-between"},HOe={class:"mb-3"},zOe={class:"d-flex justify-content-between"},WOe={class:"fw-light my-auto"},KOe={class:"fw-bold mx-2 my-auto"},GOe={class:"d-flex justify-content-between"},QOe={class:"fw-light my-auto"},ZOe={class:"fw-bold mx-2 my-auto"},JOe={class:"d-flex justify-content-between"},XOe={class:"fw-light my-auto"},eMe={class:"fw-bold mx-2 my-auto"},tMe={class:"d-flex justify-content-between"},oMe={class:"fw-light my-auto"},aMe={key:0,class:"d-flex justify-content-between"},nMe={class:"fw-light my-auto"},sMe={class:"fw-bold mx-2 my-auto"},lMe={class:"mb-3"},iMe={class:"d-flex justify-content-between"},rMe={class:"my-auto fw-light"},dMe={class:"fw-bold mx-2 my-auto"},cMe={class:"d-flex justify-content-between"},uMe={class:"my-auto fw-light"},_Me={class:"fw-bold mx-2 my-auto"},mMe={class:"d-flex justify-content-between"},fMe={class:"my-auto fw-light"},hMe={class:"fw-bold mx-2 my-auto"},pMe={class:"d-flex justify-content-between"},vMe={class:"my-auto fw-light"},gMe={class:"fw-bold text-success mx-2 my-auto"},bMe={class:"table-responsive"},yMe={class:"table"},kMe={class:"bg-label-secondary px-2"},$Me={class:"d-flex justify-content-end"},wMe={class:"mx-2 my-auto py-1"},DMe={class:"text-success my-auto py-1"};function CMe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",qje,[e("div",Hje,[e("div",zje,[e("div",Wje,[e("label",Kje,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.buyer_search]])]),e("div",Gje,[e("label",Qje,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Zje,[e("label",Jje,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[4]||(a[4]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",Xje,[e("label",eOe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",tOe,[e("label",oOe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",aOe,[e("label",nOe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.financing_status_search=i)},[e("option",sOe,n(o.$t("Financing Status")),1),e("option",lOe,n(o.$t("Disbursed")),1),e("option",iOe,n(o.$t("Closed")),1)],512),[[re,t.financing_status_search]])]),e("div",rOe,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",dOe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",cOe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[11]||(a[11]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.payments.meta?(u(),fe(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",uOe,[e("table",_Oe,[e("thead",null,[e("tr",mOe,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",fOe,[t.payments.data?b("",!0):(u(),f("tr",hOe,[e("td",pOe,[e("span",vOe,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",gOe,[e("td",bOe,[e("span",yOe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,kOe),e("td",null,n(i.buyer),1),e("td",$Oe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total_amount)),1)]),e("td",wOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",DOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",COe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.program_fees)),1)]),e("td",xOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1)]),e("td",POe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,EOe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,AOe),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,IOe),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ROe,[e("div",SOe,[e("div",TOe,[e("div",jOe,[e("div",OOe,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",LOe,[e("div",NOe,[e("div",FOe,[e("h5",YOe,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",VOe,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,BOe)):b("",!0)])]),e("div",UOe,[e("div",qOe,[e("div",HOe,[e("span",zOe,[e("h5",WOe,n(o.$t("Anchor"))+":",1),e("h6",KOe,n(t.purchase_order_details.anchor.name),1)]),e("span",GOe,[e("h5",QOe,n(o.$t("Delivery Address"))+":",1),e("h6",ZOe,n(t.purchase_order_details.delivery_address),1)]),e("span",JOe,[e("h5",XOe,n(o.$t("Remarks"))+":",1),e("h6",eMe,n(t.purchase_order_details.remarks),1)]),e("span",tMe,[e("h5",oMe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.status)])},n(t.purchase_order_details.status),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",aMe,[e("h5",nMe,n(o.$t("Rejection Reason"))+":",1),e("h6",sMe,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",lMe,[e("span",iMe,[e("h5",rMe,n(o.$t("PO No"))+":",1),e("h6",dMe,n(t.purchase_order_details.purchase_order_number),1)]),e("span",cMe,[e("h5",uMe,n(o.$t("Start Date"))+":",1),e("h6",_Me,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",mMe,[e("h5",fMe,n(o.$t("End Date"))+":",1),e("h6",hMe,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",pMe,[e("h5",vMe,n(o.$t("PO Amount"))+":",1),e("h6",gMe,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",bMe,[e("table",yMe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",kMe,[e("span",$Me,[e("h6",wMe,n(o.$t("Total")),1),e("h5",DMe,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,MOe)):b("",!0)])]))),128))])])]),t.payments.meta?(u(),fe(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const aD=Ue(Uje,[["render",CMe]]),xMe={name:"FactoringReports",components:{AllInvoicesReport:tD,ProgramReport:oD,PaymentsReport:aD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},PMe={class:"nav-align-top nav-tabs-shadow mb-4"},EMe={class:"nav nav-tabs",role:"tablist"},AMe={class:"nav-item"},IMe={class:"nav-item"},RMe={class:"nav-item"},SMe={class:"tab-content"},TMe={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},jMe={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},OMe={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function MMe(o,a,s,t,c,m){const _=de("all-invoices-report"),l=de("program-report"),r=de("payments-report");return u(),f("div",PMe,[e("ul",EMe,[e("li",AMe,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")]),e("li",IMe,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")]),e("li",RMe,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])]),e("div",SMe,[e("div",TMe,[Be(_,{ref:"invoices_report"},null,512)]),e("div",jMe,[Be(l,{ref:"programs_report"},null,512)]),e("div",OMe,[Be(r,{ref:"payments_report"},null,512)])])])}const LMe=Ue(xMe,[["render",MMe]]),NMe={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("settings/bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},FMe={class:"fw-bold py-3 mb-2"},YMe={class:"fw-light px-3"},VMe={class:"table"},BMe={class:"table-border-bottom-0"},UMe={class:""},qMe=["value"],HMe={class:""},zMe=["value"],WMe={class:""},KMe=["value"],GMe={class:""},QMe=["value"],ZMe={class:""},JMe=["value"],XMe={class:""},e9e=["value"];function t9e(o,a,s,t,c,m){return u(),f("div",null,[e("h5",FMe,[e("span",YMe,n(o.$t("Bank A/C Details")),1)]),e("table",VMe,[e("tbody",BMe,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",UMe,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,qMe)])]),e("td",null,[e("div",HMe,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,zMe)])]),e("td",null,[e("div",WMe,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,KMe)])]),e("td",null,[e("div",GMe,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,QMe)])]),e("td",null,[e("div",ZMe,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,JMe)])]),e("td",null,[e("div",XMe,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,e9e)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const o9e=Ue(NMe,[["render",t9e]]),a9e={name:"TaxDetails",props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(""),r=()=>{A.get("settings/taxes").then(p=>{c.value=p.data})};return a.expose({getTaxes:r}),{can_edit:s,taxes:c,tax_name:m,tax_number:_,tax_value:l,addTax:()=>{A.post("settings/taxes",{tax_name:m.value,tax_number:_.value,tax_value:l.value}).then(()=>{r(),t.success("Tax added successfully"),m.value="",_.value="",l.value=""}).catch(p=>{console.log(p),t.error("An error occurred while adding")})},deleteTax:p=>{A.delete(`settings/taxes/${p}`).then(()=>{r(),t.success("Tax deleted successfully")}).catch(v=>{console.log(v),t.error("An error occurred while deleting")})}}}},n9e={class:"py-3"},s9e={class:"table"},l9e={class:"table-border-bottom-0"},i9e={class:""},r9e=["value"],d9e={class:""},c9e=["value"],u9e={class:""},_9e=["value"],m9e={key:0},f9e=["onClick"],h9e={class:"table"},p9e={class:"table-border-bottom-0"},v9e={class:"text-nowrap"},g9e={class:""},b9e={class:""},y9e={class:""},k9e={class:"d-flex px-3"},$9e={key:0,class:"btn btn-primary",type:"submit"};function w9e(o,a,s,t,c,m){return u(),f("div",n9e,[e("table",s9e,[e("tbody",l9e,[(u(!0),f(W,null,X(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",i9e,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,r9e)])]),e("td",null,[e("div",d9e,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,c9e)])]),e("td",null,[e("div",u9e,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,_9e)])]),e("td",null,[t.can_edit==1?(u(),f("div",m9e,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,f9e)])):b("",!0)])]))),128))])]),a[4]||(a[4]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",h9e,[e("tbody",p9e,[e("tr",v9e,[e("td",null,[e("div",g9e,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[Q,t.tax_name]])])]),e("td",null,[e("div",b9e,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[Q,t.tax_number]])])]),e("td",null,[e("div",y9e,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[Q,t.tax_value]])])])])])]),e("div",k9e,[t.can_edit==1?(u(),f("button",$9e,n(o.$t("Add")),1)):b("",!0)])],32)])}const D9e=Ue(a9e,[["render",w9e]]),C9e={name:"InvoiceSettings",props:["can_edit","has_dealer_financing_programs"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(0),_=h(""),l=h(""),r=h(null),i=h(!1),d=h(!1),p=h(!1),v=h(!1),g=h(null),D=h(!1),y=h(!1),C=h(!1),x=()=>{A.get("settings/invoice-settings").then(V=>{c.value=V.data.settings,i.value=c.value.maker_checker_creating_updating,d.value=c.value.auto_request_financing,v.value=c.value.purchase_order_acceptance=="manual",m.value=c.value.default_payment_terms,l.value=c.value.description,_.value=c.value.footer,p.value=V.data.settings.request_financing_maker_checker,c.value.proposed_update&&(D.value=V.data.can_approve&&V.data.user_id!=c.value.proposed_update.user_id)}).catch(V=>{console.log(V)})};a.expose({getInvoiceSettings:x});const E=()=>{const V=new FormData;V.append("maker_checker_creating_updating",i.value),V.append("auto_request_financing",d.value),V.append("request_financing_maker_checker",p.value),V.append("purchase_order_acceptance",v.value),V.append("dealer_default_payment_terms",m.value),V.append("company_logo",r.value),V.append("description",l.value),V.append("footer",_.value),A.post("settings/invoice-settings/update",V).then(B=>{x(),r.value=null,t.success(B.data.message)}).catch(B=>{t.error(B.response.data.message)})},k=V=>{V.preventDefault();let B=V.target.files||V.dataTransfer.files;B.length&&(r.value=B[0])},w=()=>{l.value=g.value.getHTML().toString()},T=V=>{A.get("settings/invoice-settings/status/"+V+"/update").then(B=>{x(),r.value=null,t.success(B.data.message),document.getElementById("close-modal").click()}).catch(B=>{t.error(B.response.data.message)})};return ot([i,d,p,v,r,l,_],([V,B,O,L,R,P,I])=>{V!=c.value.maker_checker_creating_updating||O!=c.value.request_financing_maker_checker?y.value=!0:y.value=!1,(c.value.purchase_order_acceptance=="manual"&&!L||c.value.purchase_order_acceptance=="auto"&&L)&&(y.value=!0),I!=c.value.footer||P!=c.value.description||R?C.value=!0:C.value=!1}),{can_edit:s,can_approve:D,editor:g,invoice_settings:c,dealer_default_payment_terms:m,invoice_content:l,invoice_logo:r,invoice_footer:_,maker_checker:i,auto_request_financing:d,request_financing_maker_checker:p,purchase_order_acceptance:v,updateStatus:T,changeFile:k,changeDescription:w,updateInvoiceSettings:E,can_submit_lower:C,can_submit_upper:y}}},x9e={class:"d-flex justify-content-between p-1"},P9e={class:"fw-bold py-3"},E9e={class:"fw-light px-3"},A9e={key:0,class:"my-auto px-2"},I9e={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},R9e={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},S9e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},T9e={class:"modal-content"},j9e={class:"modal-header"},O9e={class:"modal-title",id:"modalCenterTitle"},M9e={class:"modal-body"},L9e={key:0},N9e={key:0},F9e={key:1},Y9e={key:1},V9e={key:0},B9e={key:1},U9e={key:2},q9e={key:0},H9e={key:1},z9e={key:3},W9e=["href"],K9e={key:4},G9e=["innerHTML"],Q9e={key:5},Z9e={class:"modal-footer"},J9e={class:"row px-2 mb-2"},X9e={class:"col-md-4"},e7e={class:"row border rounded border-primary mx-2 py-2"},t7e={class:"col-md-9 d-flex flex-column"},o7e={class:"col-form-label"},a7e={class:"col-md-3 mt-2"},n7e={class:"form-check form-switch"},s7e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},l7e=["checked"],i7e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},r7e={class:"col-md-4"},d7e={class:"row border rounded border-primary mx-2 py-2"},c7e={class:"col-md-9 d-flex flex-column"},u7e={class:"col-form-label"},_7e={class:"col-md-3 mt-2"},m7e={class:"form-check form-switch"},f7e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},h7e=["checked"],p7e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},v7e={class:"col-md-4"},g7e={class:"row border rounded border-primary mx-2 py-2"},b7e={class:"col-md-9 d-flex flex-column"},y7e={class:"col-form-label"},k7e={class:"col-md-3 mt-2"},$7e={class:"form-check form-switch"},w7e={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-95px"}},D7e=["checked"],C7e={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"40px"}},x7e={class:"col-md-4 mt-2"},P7e={class:"row border rounded border-primary mx-2 py-2"},E7e={class:"col-md-8 d-flex flex-column"},A7e={class:"col-form-label"},I7e={class:"col-md-4 mt-2"},R7e={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},S7e={class:"btn btn-primary",type:"submit"},T7e={class:"fw-bold py-3 mb-2"},j7e={class:"fw-light px-3"},O7e={class:"row px-3 mb-2"},M7e={class:"col-md-6 border-bottom d-flex flex-column"},L7e={for:"html5-text-input",class:"col-form-label"},N7e={class:"col-md-6"},F7e={class:"row px-3 mb-2"},Y7e={class:"col-md-6 d-flex flex-column"},V7e={for:"",class:"col-form-label"},B7e={class:"col-md-6 mb-4"},U7e={class:"row px-3 mb-2 mt-4"},q7e={class:"col-md-6 d-flex flex-column"},H7e={for:"html5-text-input",class:"col-form-label"},z7e={class:"col-md-6"},W7e={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},K7e={class:"btn btn-primary",type:"submit"};function G7e(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",x9e,[e("h5",P9e,[e("span",E9e,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",A9e,[e("button",I9e,n(o.$t("View Proposed Changes")),1),e("div",R9e,[e("div",S9e,[e("div",T9e,[e("div",j9e,[e("h5",O9e,n(o.$t("Confirm Changes")),1),a[10]||(a[10]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",M9e,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",L9e,[le(n(o.$t("Change Maker/Checker for Invoice Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",N9e,n(o.$t("Yes to No")),1)):(u(),f("span",F9e,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_financing_maker_checker"?(u(),f("div",Y9e,[le(n(o.$t("Change Maker/Checker for Request Financing from"))+" ",1),t.request_financing_maker_checker?(u(),f("span",V9e,n(o.$t("Yes to No")),1)):(u(),f("span",B9e,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",U9e,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",q9e,n(o.$t("Yes to No")),1)):(u(),f("span",H9e,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",z9e,[le(n(o.$t("Change Logo to "))+" ",1),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,W9e)])):b("",!0),i=="description"?(u(),f("div",K9e,[le(n(o.$t("Change Description To"))+": ",1),a[11]||(a[11]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,G9e)])):b("",!0),i=="footer"?(u(),f("div",Q9e,[le(n(o.$t("Change Footer To"))+": ",1),a[12]||(a[12]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",Z9e,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",J9e,[e("div",X9e,[e("div",e7e,[e("div",t7e,[e("label",o7e,n(o.$t("Invoice Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",a7e,[e("div",n7e,[e("label",s7e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,l7e),[[Yo,t.maker_checker]]),e("label",i7e,n(o.$t("Yes")),1)])])])]),e("div",r7e,[e("div",d7e,[e("div",c7e,[e("label",u7e,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request will go to Checker for authorization")),1)]),e("div",_7e,[e("div",m7e,[e("label",f7e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_financing_maker_checker,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_financing_maker_checker=l)},null,8,h7e),[[Yo,t.request_financing_maker_checker]]),e("label",p7e,n(o.$t("Yes")),1)])])])]),e("div",v7e,[e("div",g7e,[e("div",b7e,[e("label",y7e,n(o.$t("Purchase Order Acceptance")),1),e("small",null,n(o.$t("Automatically accept POs uploaded by buyers")),1)]),e("div",k7e,[e("div",$7e,[e("label",w7e,n(o.$t("Auto")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",style:{"margin-left":"-55px"},checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,D7e),[[Yo,t.purchase_order_acceptance]]),e("label",C7e,n(o.$t("Manual")),1)])])])]),e("div",x7e,[e("div",P7e,[e("div",E7e,[e("label",A7e,n(o.$t("Default Payment Terms")),1),a[13]||(a[13]=e("small",null,null,-1))]),e("div",I7e,[Y(e("input",{type:"number",class:"form-control",placeholder:"0","onUpdate:modelValue":a[5]||(a[5]=l=>t.dealer_default_payment_terms=l),disabled:""},null,512),[[Q,t.dealer_default_payment_terms]])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",R7e,[e("button",S7e,n(o.$t("Submit")),1)])):b("",!0)],32),a[14]||(a[14]=e("hr",null,null,-1)),e("h5",T7e,[e("span",j7e,n(o.$t("Invoice Settings")),1)]),e("form",{onSubmit:a[9]||(a[9]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",O7e,[e("div",M7e,[e("label",L7e,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",N7e,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[7]||(a[7]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",F7e,[e("div",Y7e,[e("label",V7e,n(o.$t("Invoice Description")),1),e("small",null,n(o.$t("Will be shown in invoice as description")),1)]),e("div",B7e,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",U7e,[e("div",q7e,[e("label",H7e,n(o.$t("Invoice Footer")),1),e("small",null,n(o.$t("Will be shown in invoice footer")),1)]),e("div",z7e,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[8]||(a[8]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",W7e,[e("button",K7e,n(o.$t("Submit")),1)])):b("",!0)],32)])}const Q7e=Ue(C9e,[["render",G7e],["__scopeId","data-v-ab5e0072"]]),Z7e={name:"ApprovalSettings",setup(o,a){const s=lt(),t=h([]),c=()=>{A.get("settings/anchors").then(_=>{t.value=_.data}).catch(_=>{console.log(_)})};return a.expose({getAnchors:c}),{programs:t,update:_=>{A.post("settings/anchors/update",{program_id:_}).then(()=>{c(),s.success("Updated successfully")}).catch(l=>{console.log(l),s.error("An error occurred")})}}}},J7e={class:"fw-bold py-3 mb-2 d-flex flex-column"},X7e={class:"fw-light px-3"},eLe={class:"px-3"},tLe={class:"col-md-4 d-flex flex-column"},oLe={for:"html5-text-input",class:"col-form-label"},aLe={class:"col-md-4"},nLe={class:"form-check form-switch mb-2"},sLe={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},lLe=["checked","onChange"],iLe={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"};function rLe(o,a,s,t,c,m){return u(),f("div",null,[e("h5",J7e,[e("span",X7e,n(o.$t("Discounting")),1),e("small",eLe,n(o.$t("Auto"))+" - "+n(o.$t("All anchor approved invoices will be sent to bank automatically")),1)]),(u(!0),f(W,null,X(t.programs,_=>(u(),f("div",{class:"row px-3 mb-2",key:_.id},[e("div",tLe,[e("label",oLe,n(_.buyer_name)+" ("+n(_.payment_account_number)+")",1)]),e("div",aLe,[e("div",nLe,[e("label",sLe,n(o.$t("Manual")),1),e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:_.auto_request_finance,onChange:l=>t.update(_.id)},null,40,lLe),e("label",iLe,n(o.$t("Auto")),1)])])]))),128))])}const dLe=Ue(Z7e,[["render",rLe],["__scopeId","data-v-8ee7a33e"]]),cLe={name:"Settings",props:["can_edit","can_edit_anchor","checker","has_proposed_updates","has_factoring_programs","has_dealer_financing_programs"],components:{BankAccounts:o9e,TaxDetails:D9e,InvoiceSettings:Q7e,ApprovalSettings:dLe},setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=o.has_factoring_programs,m=o.has_dealer_financing_programs,_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,bank_accounts:_,tax_details:r,invoice_settings:l,tax_details:r,approval_settings:i,has_proposed_updates:t,has_factoring_programs:c,has_dealer_financing_programs:m,switchTabs:p=>{switch(p){case"bank-accounts":_.value.getBankAccounts();break;case"invoice-settings":l.value.getInvoiceSettings();break;case"tax-details":r.value.getTaxes();break;case"approval-settings":i.value.getAnchors();break}}}}},uLe={class:"nav-align-top mb-4"},_Le={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},mLe={class:"nav-item"},fLe={key:0,class:"nav-item"},hLe={key:1,class:"nav-item"},pLe={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},vLe={key:2,class:"nav-item"},gLe={class:"tab-content"},bLe={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},yLe={key:0,class:"tab-pane fade",id:"navs-pills-configurations",role:"tabpanel"},kLe={key:1,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},$Le={key:2,class:"tab-pane fade",id:"navs-pills-tax-details",role:"tabpanel"};function wLe(o,a,s,t,c,m){const _=de("bank-accounts"),l=de("approval-settings"),r=de("invoice-settings"),i=de("tax-details");return u(),f("div",uLe,[e("ul",_Le,[e("li",mLe,[e("button",{type:"button",onClick:a[0]||(a[0]=d=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.has_factoring_programs==1&&t.can_edit_anchor==1?(u(),f("li",fLe,[e("button",{type:"button",onClick:a[1]||(a[1]=d=>t.switchTabs("approval-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-configurations","aria-controls":"navs-pills-configurations","aria-selected":"false"},a[5]||(a[5]=[e("i",{class:"tf-icons ti ti-clipboard-check ti-xs me-1"},null,-1),le(" Approval/Auto Financing Settings ")]))])):b("",!0),t.can_edit==1?(u(),f("li",hLe,[e("button",{type:"button",onClick:a[2]||(a[2]=d=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[6]||(a[6]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",pLe)):b("",!0)])])):b("",!0),t.can_edit==1?(u(),f("li",vLe,[e("button",{type:"button",onClick:a[3]||(a[3]=d=>t.switchTabs("tax-details")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-tax-details","aria-controls":"navs-pills-tax-details","aria-selected":"false"},[a[7]||(a[7]=e("i",{class:"tf-icons ti ti-settings ti-xs me-1"},null,-1)),le(" "+n(o.$t("Tax Details")),1)])])):b("",!0)]),e("div",gLe,[e("div",bLe,[Be(_,{ref:"bank_accounts"},null,512)]),t.has_factoring_programs==1&&t.can_edit_anchor==1?(u(),f("div",yLe,[t.can_edit_anchor==1?(u(),fe(l,{key:0,ref:"approval_settings"},null,512)):b("",!0)])):b("",!0),t.can_edit==1?(u(),f("div",kLe,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit,has_dealer_financing_programs:t.has_dealer_financing_programs},null,8,["can_edit","has_dealer_financing_programs"])])):b("",!0),t.can_edit==1?(u(),f("div",$Le,[Be(i,{ref:"tax_details",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const DLe=Ue(cLe,[["render",wLe]]),CLe={name:"Payments",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(null),r=h(50),i=async()=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(k=>{a.value=k.data})},d=k=>{let w="";switch(k){case"Created":w="bg-label-secondary";break;case"Pending Maker":w="bg-label-primary";break;case"Pending Checker":w="bg-label-warning";break;case"Submitted":w="bg-label-primary";break;case"Approved":w="bg-label-success";break;case"Disbursed":w="bg-label-success";break;case"Denied":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},p=k=>{let w="";switch(k){case"pending":w="bg-label-primary";break;case"financed":w="bg-label-success";break;case"closed":w="bg-label-secondary";break;case"denied":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},v=async(k,w)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+k+"/details").then(T=>{_.value=T.data,bt(()=>{document.getElementById(w).click()})}).catch(T=>{console.log(T)})},g=async(k,w)=>{await A.get(o+"purchase-orders/"+k+"/show").then(T=>{l.value=T.data,bt(()=>{document.getElementById(w).click()})}).catch(T=>{console.log(T)})},D=(k,w)=>(w/k*100).toFixed(2),y=()=>{A.get("factoring/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)})};Qe(()=>{i()});const C=async k=>{await A.get(k,{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(w=>{a.value=w.data})};return ot([r],async([k])=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:k}}).then(w=>{a.value=w.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:r,resolveStatus:d,resolveFinancingStatus:p,getTaxPercentage:D,exportInvoices:y,changePage:C,clearSearch:()=>{s.value="",t.value="",c.value="";let k=$(".ti-refresh").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(w=>{a.value=w.data,k.html('<i class="ti ti-search"></i>')})},filter:async()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(w=>{a.value=w.data,k.html('<i class="ti ti-search"></i>')})},invoice_details:_,purchase_order_details:l,showInvoice:v,showPurchaseOrder:g}}},xLe={class:"card"},PLe={class:"card-body"},ELe={class:"d-flex justify-content-between"},ALe={class:"d-flex flex-wrap gap-1"},ILe={class:""},RLe={for:"anchor",class:"form-label"},SLe={class:""},TLe={for:"invoice-number",class:"form-label"},jLe={class:""},OLe={for:"Pi Number",class:"form-label"},MLe={class:""},LLe={for:"Paid Date",class:"form-label"},NLe={class:"table-search-btn"},FLe={class:"table-clear-btn"},YLe={class:"d-flex mx-2",style:{height:"fit-content"}},VLe={class:"table-responsive"},BLe={class:"table"},ULe={key:0},qLe={colspan:"12",class:"text-center"},HLe={class:"text-center"},zLe={key:1},WLe={colspan:"12",class:"text-center"},KLe={class:"text-center"},GLe=["onClick"],QLe={href:"javascript:;",class:"dropdown-item"},ZLe={class:"text-success"},JLe={class:"text-primary"},XLe={class:""},eNe={class:"text-success"},tNe=["onClick"],oNe={class:"d-inline-block"},aNe=["id","data-bs-target"],nNe=["id","data-bs-target"],sNe=["id","data-bs-target"],lNe=["id","data-bs-target"],iNe=["id","data-bs-target"],rNe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},dNe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},cNe={class:"modal-content"},uNe={class:"modal-body"},_Ne={class:"d-flex justify-content-center"},mNe=["id"],fNe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},hNe={class:"modal-content"},pNe={class:"modal-header"},vNe={class:"modal-title",id:"modalCenterTitle"},gNe={class:"d-flex"},bNe=["href"],yNe={class:"modal-body"},kNe={class:"d-flex justify-content-between"},$Ne={class:"mb-3 w-50"},wNe={class:"d-flex justify-content-between"},DNe={class:"fw-light my-auto"},CNe={class:"fw-bold mx-2 my-auto"},xNe={class:"d-flex justify-content-between"},PNe={class:"fw-light my-auto"},ENe={class:"fw-bold mx-2 my-auto"},ANe={class:"d-flex justify-content-between"},INe={class:"fw-light my-auto"},RNe={class:"fw-bold mx-2 my-auto"},SNe={class:"d-flex justify-content-between"},TNe={class:"fw-light my-auto"},jNe={key:0,class:"d-flex justify-content-between"},ONe={class:"fw-light my-auto"},MNe={class:"fw-bold mx-2 my-auto"},LNe={class:"mb-3"},NNe={class:"d-flex justify-content-between"},FNe={class:"my-auto fw-light"},YNe={class:"fw-bold mx-2 my-auto"},VNe={class:"d-flex justify-content-between"},BNe={class:"my-auto fw-light"},UNe={class:"fw-bold mx-2 my-auto"},qNe={class:"d-flex justify-content-between"},HNe={class:"my-auto fw-light"},zNe={class:"fw-bold mx-2 my-auto"},WNe={class:"d-flex justify-content-between"},KNe={class:"my-auto fw-light"},GNe={class:"fw-bold text-success mx-2 my-auto"},QNe={class:"table-responsive"},ZNe={class:"table"},JNe={class:"bg-label-secondary px-2"},XNe={class:"d-flex justify-content-end"},eFe={class:"mx-2 my-auto py-1"},tFe={class:"text-success my-auto py-1"};function oFe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",xLe,[e("div",PLe,[e("div",ELe,[e("div",ALe,[e("div",ILe,[e("label",RLe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",SLe,[e("label",TLe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",jLe,[e("label",OLe,n(o.$t("PI No"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[5]||(a[5]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.pi_number_search]])]),e("div",MLe,[e("label",LLe,n(o.$t("Paid Date")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=i=>t.paid_date_search=i)},null,544),[[Q,t.paid_date_search]])]),e("div",NLe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",FLe,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",YLe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",VLe,[e("table",BLe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI No")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Paid Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",ULe,[e("td",qLe,[e("span",HLe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",zLe,[e("td",WLe,[e("span",KLe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.buyer),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",QLe,n(i.invoice_number),1)],8,GLe),e("td",ZLe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",JLe,n(i.pi_number),1),e("td",XLe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",eNe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("button",{class:"btn btn-sm btn-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,tNe),e("div",oNe,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,aNe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,nNe),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,sNe),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,lNe),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,iNe),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",rNe,[e("div",dNe,[e("div",cNe,[e("div",uNe,[e("div",_Ne,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",fNe,[e("div",hNe,[e("div",pNe,[e("h5",vNe,n(o.$t("Purchase Order")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",gNe,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,bNe)):b("",!0)])]),e("div",yNe,[e("div",kNe,[e("div",$Ne,[e("span",wNe,[e("h5",DNe,n(o.$t("Vendor"))+":",1),e("h6",CNe,n(t.purchase_order_details.company.name),1)]),e("span",xNe,[e("h5",PNe,n(o.$t("Delivery Address"))+":",1),e("h6",ENe,n(t.purchase_order_details.delivery_address),1)]),e("span",ANe,[e("h5",INe,n(o.$t("Remarks"))+":",1),e("h6",RNe,n(t.purchase_order_details.remarks),1)]),e("span",SNe,[e("h5",TNe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",jNe,[e("h5",ONe,n(o.$t("Rejection Reason"))+":",1),e("h6",MNe,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",LNe,[e("span",NNe,[e("h5",FNe,n(o.$t("PO No"))+":",1),e("h6",YNe,n(t.purchase_order_details.purchase_order_number),1)]),e("span",VNe,[e("h5",BNe,n(o.$t("Start Date"))+":",1),e("h6",UNe,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",qNe,[e("h5",HNe,n(o.$t("End Date"))+":",1),e("h6",zNe,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",WNe,[e("h5",KNe,n(o.$t("PO Amount"))+":",1),e("h6",GNe,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",QNe,[e("table",ZNe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",JNe,[e("span",XNe,[e("h6",eFe,n(o.$t("Total")),1),e("h5",tFe,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,mNe)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const aFe=Ue(CLe,[["render",oFe]]),nFe={name:"ExpiredInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),D=async()=>{await A.get(a+"factoring/invoices/expired/data?per_page="+g.value).then(B=>{s.value=B.data.invoices})},y=async(B,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+B+"/details").then(L=>{m.value=L.data,bt(()=>{document.getElementById(O).click()})}).catch(L=>{console.log(L)})},C=B=>{let O="";switch(B){case"Overdue":O="bg-label-secondary";break;case"Created":O="bg-label-secondary";break;case"Pending Maker":O="bg-label-warning";break;case"Pending Checker":O="bg-label-warning";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},x=B=>{let O="";switch(B){case"pending":O="bg-label-primary";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},E=async B=>{await A.get(a+"factoring/invoices/"+B.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),D()}).catch(O=>{console.log(O),o.error("An error occurred")})},k=(B,O)=>O/B*100;Qe(()=>{D()});const w=async()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",await A.get(a+"factoring/invoices/expired/data",{params:{per_page:g.value}}).then(O=>{s.value=O.data.invoices,B.html('<i class="ti ti-refresh"></i>')})},T=async()=>{let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:g.value}}).then(O=>{s.value=O.data.invoices,B.html('<i class="ti ti-search"></i>')})},V=async B=>{await A.get(B+"&per_page="+g.value,{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value}}).then(O=>{s.value=O.data.invoices})};return ot([g],async([B])=>{await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:B}}).then(O=>{s.value=O.data.invoices})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,buyer_search:i,invoice_number_search:d,status_search:p,finance_status_search:v,per_page:g,resolveStatus:C,resolveFinancingStatus:x,requestApproval:E,changePage:V,getTaxPercentage:k,showInvoice:y,filter:T,clearSearch:w}}},sFe={class:"card"},lFe={class:"card-body p-2"},iFe={class:"d-flex justify-content-between"},rFe={class:"d-flex flex-wrap gap-1"},dFe={class:""},cFe={for:"Vendor",class:"form-label"},uFe={class:""},_Fe={for:"Vendor",class:"form-label"},mFe={class:""},fFe={for:"Vendor",class:"form-label"},hFe={value:""},pFe={value:"pending"},vFe={value:"submitted"},gFe={value:"approved"},bFe={value:"denied"},yFe={class:""},kFe={for:"Vendor",class:"form-label"},$Fe={value:""},wFe={value:"pending"},DFe={value:"financed"},CFe={value:"closed"},xFe={value:"denied"},PFe={class:"table-search-btn"},EFe={class:"table-clear-btn"},AFe={class:"d-flex mx-2",style:{height:"fit-content"}},IFe={class:"table-responsive"},RFe={class:"table"},SFe={key:0},TFe={colspan:"12",class:"text-center"},jFe={class:"text-center"},OFe={key:1},MFe={colspan:"12",class:"text-center"},LFe={class:"text-center"},NFe={key:0},FFe={key:1},YFe=["onClick"],VFe={href:"javascript:;",class:"dropdown-item"},BFe={class:"text-success"},UFe={class:""},qFe={class:""},HFe={class:""},zFe={class:"text-success"},WFe={class:""},KFe={class:"d-inline-block"},GFe={class:"dropdown-menu dropdown-menu-end m-0"},QFe=["onClick"],ZFe={key:0},JFe=["href"],XFe={key:1},eYe=["href"],tYe=["id","data-bs-target"],oYe=["id","data-bs-target"],aYe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},nYe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},sYe={class:"modal-content"},lYe={class:"modal-body"},iYe={class:"d-flex justify-content-center"};function rYe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",sFe,[e("div",lFe,[e("div",iFe,[e("div",rFe,[e("div",dFe,[e("label",cFe,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.buyer_search]])]),e("div",uFe,[e("label",_Fe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",mFe,[e("label",fFe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",hFe,n(o.$t("Status")),1),e("option",pFe,n(o.$t("Pending")),1),e("option",vFe,n(o.$t("Submitted")),1),e("option",gFe,n(o.$t("Approved")),1),e("option",bFe,n(o.$t("Denied")),1)],512),[[re,t.status_search]])]),e("div",yFe,[e("label",kFe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.finance_status_search=i)},[e("option",$Fe,n(o.$t("Finance Status")),1),e("option",wFe,n(o.$t("Pending")),1),e("option",DFe,n(o.$t("Financed")),1),e("option",CFe,n(o.$t("Closed")),1),e("option",xFe,n(o.$t("Denied")),1)],512),[[re,t.finance_status_search]])]),e("div",PFe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",EFe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",AFe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",IFe,[e("table",RFe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amnt")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Disb Amnt")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",SFe,[e("td",TFe,[e("span",jFe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",OFe,[e("td",MFe,[e("span",LFe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[i.buyer?(u(),f("td",NFe,n(i.buyer),1)):(u(),f("td",FFe,n(i.company),1)),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",VFe,n(i.invoice_number),1)],8,YFe),e("td",BFe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",UFe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",qFe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",HFe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",zFe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",WFe,[e("div",KFe,[a[11]||(a[11]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",GFe,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,QFe)]),i.can_edit?(u(),f("li",ZFe,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,JFe)])):b("",!0),i.buyer?b("",!0):(u(),f("li",XFe,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,eYe)]))])])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,tYe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,oYe),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",aYe,[e("div",nYe,[e("div",sYe,[e("div",lYe,[e("div",iYe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const dYe=Ue(nFe,[["render",rYe]]),cYe={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"factoring/invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},uYe={class:"card p-2"},_Ye={class:"d-flex justify-content-between"},mYe={class:"d-flex flex-wrap gap-1"},fYe={class:""},hYe={for:"Invoice No",class:"form-label"},pYe={class:""},vYe={for:"From Date",class:"form-label"},gYe={class:""},bYe={for:"Status",class:"form-label"},yYe={value:""},kYe={value:"Successful"},$Ye={value:"Failed"},wYe={class:"mt-auto"},DYe={class:"mt-auto"},CYe={class:"d-flex gap-1 justify-content-end mt-auto"},xYe={class:"table-responsive p-2"},PYe={class:"table dt-invoices"},EYe={key:0},AYe={colspan:"12",class:"text-center"},IYe={class:"text-center"},RYe={key:1},SYe={colspan:"12",class:"text-center"},TYe={class:"text-center"},jYe={key:0,class:"badge bg-label-success me-1"},OYe={key:1,class:"badge bg-label-danger me-1"},MYe={class:""};function LYe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",uYe,[e("div",_Ye,[e("div",mYe,[e("div",fYe,[e("label",hYe,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[Q,t.invoice_number_search]])]),e("div",pYe,[e("label",vYe,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[Q,t.uploaded_date_search]])]),e("div",gYe,[e("label",bYe,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",yYe,n(o.$t("Select Status")),1),e("option",kYe,n(o.$t("Successful")),1),e("option",$Ye,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",wYe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",DYe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",CYe,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",xYe,[e("table",PYe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",EYe,[e("td",AYe,[e("span",IYe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",RYe,[e("td",SYe,[e("span",TYe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",jYe,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",OYe,n(l.status),1)):b("",!0)]),e("td",MYe,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const NYe=Ue(cYe,[["render",LYe]]),FYe={name:"DiscountSlab",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(1),l=h([]),r=h([]),i=h([]),d=h(50),p=()=>{A.get(a+"factoring/settings/slab-settings/data",{params:{per_page:d.value}}).then(x=>{s.value=x.data.slabs})};return Qe(()=>{p()}),{per_page:d,slabs:s,title:c,status:m,discount_percentages:l,from_days:r,to_days:i,slabs_count:_,addEarlyPaymentDiscountSlab:()=>{const x=new FormData;x.append("title",c.value),x.append("status",m.value),x.append("from_days",JSON.stringify(r.value)),x.append("to_days",JSON.stringify(i.value)),x.append("discount_percentages",JSON.stringify(l.value)),A.post(a+"factoring/settings/slab-settings/store",x).then(()=>{p(),o.success("Slab added successfully"),c.value="",m.value="",_.value=1,l.value=[],r.value=[],i.value=[],document.getElementById("close-upload-modal").click()}).catch(E=>{console.log(E),o.error("An error occurred while adding")})},updateEarlyPaymentDiscountSlab:()=>{const x=new FormData;x.append("slab_id",t.value),x.append("title",c.value),x.append("status",m.value),x.append("from_days",JSON.stringify(r.value)),x.append("to_days",JSON.stringify(i.value)),x.append("discount_percentages",JSON.stringify(l.value)),A.post(a+"factoring/settings/slab-settings/update",x).then(()=>{p(),document.getElementById("close-upload-modal-"+t.value).click(),o.success("Slab updated successfully"),c.value="",m.value="",_.value=1,l.value=[],r.value=[],i.value=[]}).catch(E=>{console.log(E),o.error("An error occurred while adding")})},addCount:()=>{_.value+=1},editSlab:x=>{t.value=x.id,c.value=x.title,m.value=x.status,_.value=1,l.value=[],r.value=[],i.value=[],x.discount_slabs.forEach(E=>{l.value.push(E.discount_percentage),r.value.push(E.from_day),i.value.push(E.to_day),_.value+=1})},changePage:async x=>{await A.get(x,{params:{per_page:d.value}}).then(E=>{s.value=E.data.slabs})}}}},YYe={class:"card p-2"},VYe={class:"d-flex justify-content-between"},BYe={class:"d-flex"},UYe={class:"mx-1"},qYe={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},HYe={class:"modal modal-center fade modal-lg",id:"addBranch",tabindex:"-1"},zYe={class:"modal-dialog"},WYe={class:"modal-header"},KYe={class:"modal-title",id:"modalTopTitle"},GYe={class:"modal-body my-1"},QYe={class:"row"},ZYe={class:"col-6"},JYe={class:"form-group"},XYe={for:"Title",class:"form-label"},eVe={class:"col-6"},tVe={class:"form-group my-1"},oVe={for:"Name",class:"form-label"},aVe={value:"inactive"},nVe={class:"d-flex justify-content-between"},sVe={class:"col-3 mt-1"},lVe={class:"form-group my-1"},iVe={for:"Name",class:"form-label"},rVe=["onUpdate:modelValue"],dVe={class:"col-3"},cVe={class:"form-group my-1"},uVe={for:"Name",class:"form-label"},_Ve=["onUpdate:modelValue"],mVe={class:"col-3"},fVe={class:"form-group my-1"},hVe={for:"Name",class:"form-label"},pVe=["onUpdate:modelValue"],vVe={key:0,class:"col-3 my-1"},gVe={class:"modal-footer"},bVe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},yVe={type:"submit",class:"btn btn-primary"},kVe={class:"table-responsive"},$Ve={class:"table"},wVe={class:""},DVe={class:"table-border-bottom-0"},CVe={class:"d-flex"},xVe={class:"mx-1"},PVe={class:"mx-1"},EVe={class:"flex"},AVe=["onClick","data-bs-target"],IVe=["id"],RVe={class:"modal-dialog"},SVe={class:"modal-header"},TVe={class:"modal-title",id:"modalTopTitle"},jVe=["id"],OVe={class:"modal-body my-1"},MVe={class:"row"},LVe={class:"col-6"},NVe={class:"form-group"},FVe={for:"Title",class:"form-label"},YVe={class:"col-6"},VVe={class:"form-group my-1"},BVe={for:"Name",class:"form-label"},UVe={value:"active"},qVe={value:"inactive"},HVe={class:"d-flex justify-content-between"},zVe={class:"col-3 mt-1"},WVe={class:"form-group my-1"},KVe={for:"Name",class:"form-label"},GVe=["onUpdate:modelValue"],QVe={class:"col-3"},ZVe={class:"form-group my-1"},JVe={for:"Name",class:"form-label"},XVe=["onUpdate:modelValue"],eBe={class:"col-3"},tBe={class:"form-group my-1"},oBe={for:"Name",class:"form-label"},aBe=["onUpdate:modelValue"],nBe={key:0,class:"col-3 my-1"},sBe={class:"modal-footer"},lBe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},iBe={type:"submit",class:"btn btn-primary"};function rBe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",YYe,[e("div",VYe,[a[17]||(a[17]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",BYe,[e("div",UYe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",qYe,n(o.$t("Create Early Payment Discount Slab")),1),e("div",HYe,[e("div",zYe,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addEarlyPaymentDiscountSlab&&t.addEarlyPaymentDiscountSlab(...l),["prevent"]))},[e("div",WYe,[e("h5",KYe,n(o.$t("Create Early Payment Discount Slab")),1),a[12]||(a[12]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",GYe,[e("div",QYe,[e("div",ZYe,[e("div",JYe,[e("label",XYe,[le(n(o.__("Title"))+" ",1),a[13]||(a[13]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=l=>t.title=l),autocomplete:"off"},null,512),[[Q,t.title]])])]),e("div",eVe,[e("div",tVe,[e("label",oVe,[le(n(o.__("Status"))+" ",1),a[14]||(a[14]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),required:""},[a[15]||(a[15]=e("option",{value:"active"},"Active",-1)),e("option",aVe,n(o.$t("Inactive")),1)],512),[[re,t.status]])])])]),a[16]||(a[16]=e("br",null,null,-1)),e("div",nVe,[e("h6",null,n(o.$t("Discount Slab")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[3]||(a[3]=(...l)=>t.addCount&&t.addCount(...l))},n(o.$t("Add Slab")),1)]),(u(!0),f(W,null,X(t.slabs_count,l=>(u(),f("div",{class:"row",key:l},[e("div",sVe,[e("div",lVe,[e("label",iVe,n(o.$t("From")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.from_days[l-1]=r,autocomplete:"off"},null,8,rVe),[[Q,t.from_days[l-1]]])])]),e("div",dVe,[e("div",cVe,[e("label",uVe,n(o.$t("To")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.to_days[l-1]=r,autocomplete:"off"},null,8,_Ve),[[Q,t.to_days[l-1]]])])]),e("div",mVe,[e("div",fVe,[e("label",hVe,n(o.$t("Discount Percentage")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.discount_percentages[l-1]=r,autocomplete:"off"},null,8,pVe),[[Q,t.discount_percentages[l-1]]])])]),t.slabs_count>1&&l-1>=1?(u(),f("div",vVe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[4]||(a[4]=r=>t.slabs_count-=1)},n(o.$t("Delete")),1)])):b("",!0)]))),128))]),e("div",gVe,[e("button",bVe,n(o.$t("Close")),1),e("button",yVe,n(o.$t("Submit")),1)])],32)])])])]),e("div",kVe,[e("table",$Ve,[e("thead",null,[e("tr",wVe,[e("th",null,n(o.$t("Title")),1),e("th",null,n(o.$t("Discount Slab")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",DVe,[(u(!0),f(W,null,X(t.slabs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.title),1),e("td",null,[e("div",CVe,[(u(!0),f(W,null,X(l.discount_slabs,r=>(u(),f("div",{key:r.id,class:"d-flex mx-1"},[e("span",null,n(r.from_day),1),a[18]||(a[18]=e("span",{class:"mx-1"},"to",-1)),e("span",xVe,n(r.to_day),1),a[19]||(a[19]=e("span",null,"-",-1)),e("span",PVe,n(r.discount_percentage),1),a[20]||(a[20]=e("span",{class:""},"%",-1)),a[21]||(a[21]=e("span",null,",",-1))]))),128))])]),e("td",EVe,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editSlab(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,AVe),e("div",{class:"modal modal-center fade modal-lg",id:"rate-"+l.id,tabindex:"-1"},[e("div",RVe,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.updateEarlyPaymentDiscountSlab&&t.updateEarlyPaymentDiscountSlab(...r),["prevent"]))},[e("div",SVe,[e("h5",TVe,n(o.$t("Edit Early Payment Discount Slab")),1),e("button",{type:"button",class:"btn-close",id:"close-upload-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,jVe)]),e("div",OVe,[e("div",MVe,[e("div",LVe,[e("div",NVe,[e("label",FVe,[le(n(o.$t("Title"))+" ",1),a[22]||(a[22]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.title=r),autocomplete:"off"},null,512),[[Q,t.title]])])]),e("div",YVe,[e("div",VVe,[e("label",BVe,[le(n(o.$t("Status"))+" ",1),a[23]||(a[23]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.status=r),required:""},[e("option",UVe,n(o.$t("Active")),1),e("option",qVe,n(o.$t("Inactive")),1)],512),[[re,t.status]])])])]),a[24]||(a[24]=e("br",null,null,-1)),e("div",HVe,[e("h6",null,n(o.$t("Discount Slab")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[8]||(a[8]=(...r)=>t.addCount&&t.addCount(...r))},n(o.$t("Add")),1)]),(u(!0),f(W,null,X(t.slabs_count,r=>(u(),f("div",{class:"row",key:r},[e("div",zVe,[e("div",WVe,[e("label",KVe,n(o.$t("From")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.from_days[r-1]=i,autocomplete:"off"},null,8,GVe),[[Q,t.from_days[r-1]]])])]),e("div",QVe,[e("div",ZVe,[e("label",JVe,n(o.__("To")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.to_days[r-1]=i,autocomplete:"off"},null,8,XVe),[[Q,t.to_days[r-1]]])])]),e("div",eBe,[e("div",tBe,[e("label",oBe,n(o.$t("Discount Percentage")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.discount_percentages[r-1]=i,autocomplete:"off"},null,8,aBe),[[Q,t.discount_percentages[r-1]]])])]),t.slabs_count>1&&r-1>=1?(u(),f("div",nBe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[9]||(a[9]=i=>t.slabs_count-=1)},n(o.$t("Delete")),1)])):b("",!0)]))),128))]),e("div",sBe,[e("button",lBe,n(o.$t("Close")),1),e("button",iBe,n(o.$t("Submit")),1)])],32)])],8,IVe)])]))),128))])])]),Be(_,{from:t.slabs.from,to:t.slabs.to,links:t.slabs.links,next_page:t.slabs.next_page_url,prev_page:t.slabs.prev_page_url,total_items:t.slabs.total,first_page_url:t.slabs.first_page_url,last_page_url:t.slabs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const dBe=Ue(FYe,[["render",rBe]]),cBe={name:"Dealers",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"factoring/invoices/dealers/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.data})};Qe(()=>{c()});const m=()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/dealers/data",{params:{vendors:s.value,per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-search"></i>')})},_=()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",A.get(o+"factoring/invoices/dealers/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-refresh"></i>')})};return ot([t],async([r])=>{await A.get(o+"factoring/invoices/dealers/data",{params:{vendors:s.value,per_page:r}}).then(i=>{a.value=i.data.data})}),{moment:H,vendors:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value}}).then(i=>{a.value=i.data.data})},per_page:t,vendors_search:s,filter:m,refresh:_}}},uBe={class:"card"},_Be={class:"card-body"},mBe={class:"d-flex justify-content-between"},fBe={class:"d-flex flex-wrap gap-1"},hBe={class:""},pBe={for:"Search",class:"form-label"},vBe={class:"mx-1 table-search-btn"},gBe={class:"mx-1 table-clear-btn"},bBe={class:"d-flex"},yBe={class:"table-responsive p-2"},kBe={class:"table"},$Be={key:0},wBe={colspan:"12",class:"text-center"},DBe={class:"text-center"},CBe={key:1},xBe={colspan:"12",class:"text-center"},PBe={class:"text-center"},EBe={key:0},ABe={key:1},IBe={class:""};function RBe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",uBe,[e("div",_Be,[e("div",mBe,[e("div",fBe,[e("div",hBe,[e("label",pBe,n(o.$t("Dealers/Buyers")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendors_search=l),placeholder:"Search Dealers/Buyers","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.vendors_search]])]),e("div",vBe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",gBe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",bBe,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])])]),t.vendors.meta?(u(),fe(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",yBe,[e("table",kBe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",$Be,[e("td",wBe,[e("span",DBe,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",CBe,[e("td",xBe,[e("span",PBe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[l.buyer_name?(u(),f("span",EBe,n(l.buyer_name),1)):(u(),f("span",ABe,n(l.company_name),1))]),e("td",IBe,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),fe(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const SBe=Ue(cBe,[["render",RBe]]),TBe={name:"PaidInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("overdue-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(null),x=h(null),E="../../../../../assets/img/spinner.svg",k=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(N=>{m.value=N.data}).catch(N=>{console.log(N)})},w=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+N+"/details").then(Z=>{C.value=Z.data,x.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},T=(N,U)=>(U/N*100).toFixed(2);Qe(()=>{k()});const V=N=>{let U="";if(N.days_past_due>0)U="bg-label-danger";else switch(N.status){case"pending":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},O=async()=>{D.value=$("#date_search").val(),D.value&&(d.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(v.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},L=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",_.value="",i.value="",d.value="",p.value="",D.value="",$("#date_search").val(""),v.value="",g.value="",$("#disbursement_date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=h(!1),P=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,financing_status:i,status:r,vendor:l,from_date:d,to_date:p,invoice_details:C,filter:O,refresh:L,resolveStatus:V,resolveFinancingStatus:B,exportReport:()=>{R.value=!0,A.get(s+"reports/report/overdue-invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Overdue_invoice_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{R.value=!1})},exportPdfReport:()=>{P.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{P.value=!1})},changePage:async N=>{await A.get(N,{params:{type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},showInvoice:w,getTaxPercentage:T,downloadingExcel:R,downloadingPdf:P,spinner:E,invoice_details_key:x}}},jBe={class:"card p-2"},OBe={class:"d-flex justify-content-between"},MBe={class:"d-flex flex-wrap gap-1"},LBe={class:"form-group"},NBe={for:"Invoice Number",class:"form-label"},FBe={class:"form-group"},YBe={for:"Vendor",class:"form-label"},VBe={class:""},BBe={class:"form-label",for:""},UBe={class:""},qBe={class:"form-label",for:""},HBe={class:"table-search-btn"},zBe={class:"table-clear-btn"},WBe={class:"d-flex align-items-end gap-1 mt-auto"},KBe={class:""},GBe={key:0,class:"d-flex"},QBe=["src"],ZBe={key:0,class:"d-flex"},JBe=["src"],XBe={class:"table-responsive"},eUe={class:"table"},tUe={class:""},oUe={class:"table-border-bottom-0"},aUe={key:0},nUe={colspan:"12",class:"text-center"},sUe={class:"text-center"},lUe={key:1},iUe={colspan:"12",class:"text-center"},rUe={class:"text-center"},dUe={class:""},cUe=["onClick"],uUe={class:"text-success"},_Ue={class:"text-success"},mUe=["id","data-bs-target"],fUe=["id","data-bs-target"],hUe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},pUe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},vUe={class:"modal-content"},gUe={class:"modal-body"},bUe={class:"d-flex justify-content-center"};function yUe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",jBe,[e("div",OBe,[e("div",MBe,[e("div",LBe,[e("label",NBe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",FBe,[e("label",YBe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=i=>t.vendor=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor]])]),e("div",VBe,[e("label",BBe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"overdue_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",UBe,[e("label",qBe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",HBe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zBe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",WBe,[e("div",KBe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,QBe)):(u(),f("span",GBe,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,JBe)):(u(),f("span",ZBe,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",XBe,[e("table",eUe,[e("thead",null,[e("tr",tUe,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Overdue Amount")),1),e("th",null,n(o.$t("DPD")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",oUe,[t.report.data?b("",!0):(u(),f("tr",aUe,[e("td",nUe,[e("span",sUe,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",lUe,[e("td",iUe,[e("span",rUe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",dUe,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,cUe),e("td",uUe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",_Ue,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.balance)),1)]),e("td",null,n(i.days_past_due),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,mUe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,fUe),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",hUe,[e("div",pUe,[e("div",vUe,[e("div",gUe,[e("div",bUe,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const kUe=Ue(TBe,[["render",yUe]]),$Ue={name:"AllInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h("closed-invoices"),t=h([]),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(0),d=h(0),p=h([]),v=h([]),g=h(0),D=h(0),y=h(50),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(""),V=h([]),B=h([]),O=h(""),L=h(""),R=h(""),P=h([]),I=h(""),S=h(""),F=h([]),N=h(!1),U=h(!0),Z=h(0),ce=async()=>{await A.get("report",{params:{type:s.value,per_page:y.value,vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(ee=>{t.value=ee.data})},ae=async(ee,Ce)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+ee+"/details").then(Ne=>{l.value=Ne.data,g.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),D.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),Z.value++,bt(()=>{document.getElementById(Ce).click()})}).catch(Ne=>{console.log(Ne)})},J=ee=>{g.value=new Intl.NumberFormat().format(ee.total+ee.total_invoice_taxes-ee.total_invoice_discount),D.value=new Intl.NumberFormat().format(ee.total+ee.total_invoice_taxes-ee.total_invoice_discount)},z=ee=>{$("#view-fees-"+ee.id).addClass("d-none"),$("#edit-fees-"+ee.id).removeClass("d-none")},ne=ee=>{let Ce="";switch(ee){case"Overdue":Ce="bg-label-danger";break;case"Created":Ce="bg-label-secondary";break;case"Pending Maker":Ce="bg-label-primary";break;case"Pending Checker":Ce="bg-label-danger";break;case"Submitted":Ce="bg-label-primary";break;case"Approved":Ce="bg-label-success";break;case"Disbursed":Ce="bg-label-success";break;case"Denied":Ce="bg-label-danger";break;case"Rejected":Ce="bg-label-danger";break;default:Ce="bg-label-primary";break}return Ce},xe=ee=>{let Ce="";switch(ee){case"pending":Ce="bg-label-primary";break;case"financed":Ce="bg-label-success";break;case"closed":Ce="bg-label-secondary";break;case"denied":Ce="bg-label-danger";break;default:Ce="bg-label-primary";break}return Ce},Fe=()=>{let ee=0,Ce=0,Ne=Object.keys(v.value);Object.values(v.value).forEach((oe,me)=>{Ne[me]=="Credit Note Amount"&&oe>0&&(Ce=oe),Ne[me]!="Credit Note Amount"&&(oe>0?ee+=oe:ee-=oe)}),ee>0&&(D.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-ee/100*g.value.replaceAll(",",""))),Ce>0&&(D.value=new Intl.NumberFormat().format(D.value.replaceAll(",","")-Ce)),Ce==0&&ee==0&&(D.value=new Intl.NumberFormat.format(g.value.replaceAll(",","")))},he=async ee=>{const Ce=new FormData;for(const Ne in v.value)Ne=="Credit Note Amount"&&Ce.append("taxes["+Ne+"]",v.value[Ne]),Ne!="Credit Note Amount"&&Ce.append("taxes["+Ne+"]",v.value[Ne]/100*g.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${ee.id}/approve`,Ce).then(()=>{ce(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+ee.id).click(),v.value=[]}).catch(Ne=>{if(Ne.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},ie=async ee=>{await A.get(`${a}invoices/${ee.id}/fees/approve`).then(()=>{ce(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+ee.id).click();for(const Ce in v.value)v.value[Ce]=""}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},$e=(ee,Ce)=>(Ce/ee*100).toFixed(2);Qe(()=>{ce(),$("#invoice-status-select").on("change",function(){var ee=$("#invoice-status-select").val();V.value=ee}),$("#financing-status-select").on("change",function(){var ee=$("#financing-status-select").val();B.value=ee})});const we=ee=>{if(I.value="",P.value.includes(ee)){const Ce=P.value.indexOf(ee);P.value.splice(Ce,1)}else P.value.push(ee);if(P.value.length>0){let Ce={},Ne={};const Ie=new FormData;Ie.append("invoices",P.value),A.post(a+"invoices/bulk/details",Ie).then(oe=>{F.value=[],oe.data.data.forEach(me=>{if(Ne[me.id]=[],me.invoice_fees.length>0){let Le=0;Ce={},me.invoice_fees.forEach(Ze=>{Ze.name!="Credit Note Amount"?Le=$e(me.total+me.total_invoice_taxes-me.total_invoice_discount,Ze.amount):Le=Ze.amount,Object.keys(Ce+"-"+me.id).filter(mt=>mt==Ze.name+"-"+me.id).length>0||(Ce[Ze.name+"-"+me.id]=Le)})}else Ce={},Object.keys(p.value).forEach(Le=>{Ce[Le+"-"+me.id]=0});Ne[me.id]=Ce}),F.value.push(Ne),N.value=!1})}},se=()=>{if(I.value="",P.value=[],N.value=!0,document.getElementById("select-all").checked?t.value.data.forEach(async ee=>{ee.status=="submitted"&&ee.user_can_approve&&!ee.user_has_approved&&(document.getElementById("data-select-"+ee.id).checked=!0,P.value.push(ee.id))}):(t.value.data.forEach(ee=>{if(ee.status=="submitted"&&ee.user_can_approve&&!ee.user_has_approved){document.getElementById("data-select-"+ee.id).checked=!1;let Ce;if(!P.value.filter(function(Ie,oe){Ce=oe,Ie==ee.id}))return!1;P.value.splice(Ce,1)}}),N.value=!1),P.value.length>0){let ee={},Ce={};const Ne=new FormData;Ne.append("invoices",P.value),A.post(a+"invoices/bulk/details",Ne).then(Ie=>{F.value=[],Ie.data.data.forEach(oe=>{if(Ce[oe.id]=[],oe.invoice_fees.length>0){let me=0;ee={},oe.invoice_fees.forEach(Le=>{Le.name!="Credit Note Amount"?me=$e(oe.total+oe.total_invoice_taxes-oe.total_invoice_discount,Le.amount):me=Le.amount,Object.keys(ee+"-"+oe.id).filter(at=>at==Le.name+"-"+oe.id).length>0||(ee[Le.name+"-"+oe.id]=me)})}else ee={},Object.keys(p.value).forEach(me=>{ee[me+"-"+oe.id]=0});Ce[oe.id]=ee}),F.value.push(Ce),N.value=!1})}},ge=ee=>{if(P.value.length<=0){o.error("Select invoices");return}};ot(I,ee=>{(ee=="approve"||ee=="reject")&&(P.value.length>0?(ee=="reject"&&document.getElementById("show-bulk-reject-modal").click(),ee=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const be=()=>{const ee=new FormData;P.value.forEach((Ce,Ne)=>{ee.append("invoice["+Ne+"]",Ce)}),ee.append("invoice_taxes",JSON.stringify(F.value)),ee.append("action",I.value),U.value=!1,A.post(a+"invoices/bulk/update/approve",ee).then(()=>{ce(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const Ce in v.value)v.value[Ce]="";P.value=[],F.value=[],I.value=""}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{U.value=!0})},Me=()=>{const ee=new FormData;ee.append("rejected_reason",S.value),P.value.forEach((Ce,Ne)=>{ee.append("invoice["+Ne+"]",Ce)}),ee.append("action",I.value),U.value=!1,A.post(a+"invoices/bulk/update/reject",ee).then(()=>{ce(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),P.value=[],F.value=[]}).catch(Ce=>{console.log(Ce),o.error("An error occurred")}).finally(()=>{U.value=!0,I.value=""})};return ot([y],async([ee])=>{await A.get("report",{params:{per_page:ee,type:s.value,vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(Ce=>{t.value=Ce.data.invoices})}),{moment:H,per_page:y,invoices:t,users:c,eligibility:m,eligibility_amount:_,business_spread:i,discount_amount:d,invoice_details:l,pi_amount:r,anchor_taxes:p,invoice_taxes:v,invoice_subtotal:g,invoice_total:D,vendor_search:C,invoice_number_search:x,status_search:V,financing_status_search:B,from_date_search:E,to_date_search:k,sort_by:R,bulk_action:I,reject_reason:S,selected_invoices:P,selected_invoices_taxes:F,invoice_fees_processing:N,can_bulk_approve:U,selectAll:se,calculatePayable:ee=>{let Ce=$("#pending-invoice-amount-"+ee).text().replaceAll(",",""),Ne=$("#pending-withholding-tax-"+ee).val(),Ie=$("#pending-withholding-vat-"+ee).val(),oe=$("#pending-credit-note-amount-"+ee).val(),me=Ne/100*Ce,Le=Ie/100*Ce,Ze=Ce-me-Le-oe;$("#pending-invoice-total-payable-"+ee).text(new Intl.NumberFormat().format(Ze))},updateSelected:we,bulkAction:ge,resolveStatus:ne,resolveFinancingStatus:xe,changePage:async ee=>{await A.get(ee,{params:{type:s.value,per_page:y.value,vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(Ce=>{t.value=Ce.data.invoices})},submitApproval:he,showApprovalModal:J,updateInvoiceTotal:Fe,getTaxPercentage:$e,clearSearch:()=>{let ee=$(".ti-refresh").parent();ee.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",x.value="",E.value="",k.value="",V.value=["pending_maker","pending_checker"],B.value=[],O.value="",R.value="",$("#date_search").val(""),w.value="",T.value="",$("#disbursement_date_search").val(""),A.get("report",{params:{type:s.value,per_page:y.value}}).then(Ce=>{t.value=Ce.data,ee.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{O.value=$("#date_search").val(),O.value&&(E.value=H(O.value.split(" - ")[0]).format("YYYY-MM-DD"),k.value=H(O.value.split(" - ")[1]).format("YYYY-MM-DD")),L.value=$("#disbursement_date_search").val(),L.value&&(w.value=H(L.value.split(" - ")[0]).format("YYYY-MM-DD"),T.value=H(L.value.split(" - ")[1]).format("YYYY-MM-DD"));let ee=$(".ti-search").parent();ee.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{type:s.value,per_page:y.value,vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(Ce=>{t.value=Ce.data,ee.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"reports/report/"+s.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(ee=>{const Ce=window.URL.createObjectURL(new Blob([ee.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Ne),Ne.click()}).catch(ee=>{console.log(ee)})},exportPdfReport:()=>{A.get(a+"reports/"+s.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:C.value,invoice_number:x.value,from_date:E.value,to_date:k.value,from_disbursement_date:w.value,to_disbursement_date:T.value,status:V.value,financing_status:B.value,sort_by:R.value}}).then(ee=>{const Ce=window.URL.createObjectURL(new Blob([ee.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Ne),Ne.click()}).catch(ee=>{console.log(ee)})},submitBulkApproval:be,submitBulkRejection:Me,submitRejection:ee=>{const Ce=new FormData;Ce.append("rejected_reason",S.value),Ce.append("action",I.value),A.post(a+"invoices/"+ee+"/reject",Ce).then(()=>{ce(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+ee).click(),I.value="",S.value=""}).catch(Ne=>{console.log(Ne),o.error("An error occurred")})},approveFees:ie,editBuyerFees:z,showInvoice:ae,userHasApproved:(ee,Ce)=>{let Ne=!1;return ee.approvals.forEach(Ie=>{Ce.id==Ie.user_id&&(Ne=!0)}),Ne},approvalDetails:(ee,Ce)=>{let Ne=null;return Ne=ee.approvals.filter(Ie=>Ie.user_id==Ce.id).length>0?ee.approvals.filter(Ie=>Ie.user_id==Ce.id)[0]:null,Ne},invoice_details_key:Z}}},wUe={class:"card p-0"},DUe={class:"card-body p-2"},CUe={class:"d-flex justify-content-between"},xUe={class:"d-flex flex-wrap gap-1"},PUe={class:""},EUe={for:"Vendor",class:"form-label"},AUe={class:""},IUe={for:"Invoice No",class:"form-label"},RUe={class:""},SUe={class:"form-label",for:""},TUe={class:""},jUe={class:"form-label",for:""},OUe={class:""},MUe={for:"Financing Status",class:"form-label"},LUe={value:""},NUe={value:"po_asc"},FUe={value:"po_desc"},YUe={value:"invoice_no_asc"},VUe={value:"invoice_no_desc"},BUe={value:"due_date_asc"},UUe={value:"due_date_desc"},qUe={value:"invoice_amount_asc"},HUe={value:"invoice_amount_desc"},zUe={value:"vendor_asc"},WUe={value:"vendor_desc"},KUe={class:"table-search-btn"},GUe={class:"table-clear-btn"},QUe={class:"d-flex justify-content-end gap-1 mt-auto"},ZUe={class:""},JUe={class:"table-responsive"},XUe={class:"table dt-invoices"},eqe={key:0},tqe={colspan:"12",class:"text-center"},oqe={class:"text-center"},aqe={key:1},nqe={colspan:"12",class:"text-center"},sqe={class:"text-center"},lqe=["onClick"],iqe={href:"javascript:;"},rqe={class:"text-success"},dqe={class:""},cqe={class:""},uqe={class:""},_qe={class:""},mqe={class:""},fqe={class:"d-inline-block"},hqe=["id","data-bs-target"],pqe=["id","data-bs-target"],vqe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},gqe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},bqe={class:"modal-content"},yqe={class:"modal-body"},kqe={class:"d-flex justify-content-center"},$qe={class:"dropdown-menu dropdown-menu-end"},wqe=["onClick"];function Dqe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",wUe,[e("div",DUe,[e("div",CUe,[e("div",xUe,[e("div",PUe,[e("label",EUe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",AUe,[e("label",IUe,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",RUe,[e("label",SUe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",TUe,[e("label",jUe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",OUe,[e("label",MUe,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.sort_by=i)},[e("option",LUe,n(o.$t("Sort By")),1),e("option",NUe,n(o.$t("PO No. (ASC)")),1),e("option",FUe,n(o.$t("PO No. (DESC)")),1),e("option",YUe,n(o.$t("Invoice No. (ASC)")),1),e("option",VUe,n(o.$t("Invoice No. (DESC)")),1),e("option",BUe,n(o.$t("Due Date. (ASC)")),1),e("option",UUe,n(o.$t("Due Date. (DESC)")),1),e("option",qUe,n(o.$t("Invoice Amount. (ASC)")),1),e("option",HUe,n(o.$t("Invoice Amount. (DESC)")),1),e("option",zUe,n(o.$t("Vendor. (ASC)")),1),e("option",WUe,n(o.$t("Vendor. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",KUe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",GUe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",QUe,[e("div",ZUe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",JUe,[e("table",XUe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Closure Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",eqe,[e("td",tqe,[e("span",oqe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",aqe,[e("td",nqe,[e("span",sqe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",iqe,n(i.invoice_number),1)],8,lqe),e("td",rqe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",dqe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",cqe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",uqe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",_qe,n(i.closure_date?t.moment(i.closure_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(i.closure_transaction_reference?i.closure_transaction_reference:"-"),1),e("td",mqe,[e("div",fqe,[a[18]||(a[18]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,hqe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,pqe),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",vqe,[e("div",gqe,[e("div",bqe,[e("div",yqe,[e("div",kqe,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",$qe,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,wqe)])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Cqe=Ue($Ue,[["render",Dqe]]),xqe={name:"FactoringOdAccounts",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(50),m=async()=>{await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(i=>{a.value=i.data.data})};ot([c],async([i])=>{await A.get(o+"dealer/invoices/od-accounts/data",{params:{per_page:i,payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data})});const _=async()=>{let i=$(".ti-search").parent();i.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data,i.html('<i class="ti ti-search"></i>')})},l=async()=>{let i=$(".ti-refresh").parent();i.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",t.value="",await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value).then(d=>{a.value=d.data.data,i.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{m()}),{reports:a,changePage:async i=>{await A.get(i+"&per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data})},payment_account_number_search:s,dealer_search:t,per_page:c,filter:_,refresh:l}}},Pqe={class:"card"},Eqe={class:"card-body"},Aqe={class:"d-flex justify-content-between"},Iqe={class:"d-flex flex-wrap gap-1"},Rqe={class:""},Sqe={for:"OD Account",class:"form-label"},Tqe={class:""},jqe={for:"Dealer",class:"form-label"},Oqe={class:"table-search-btn"},Mqe={class:"table-clear-btn"},Lqe={class:"d-flex justify-content-end"},Nqe={class:""},Fqe={class:"table-responsive"},Yqe={class:"table"},Vqe={class:""},Bqe={class:"table-border-bottom-0"},Uqe={key:0},qqe={colspan:"12",class:"text-center"},Hqe={class:"text-center"},zqe={key:1},Wqe={colspan:"12",class:"text-center"},Kqe={class:"text-center"},Gqe={class:"d-flex"},Qqe={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Dealer/Vendor has overdue invoices"},Zqe={class:"m_title"},Jqe={class:"text-success"},Xqe={class:"text-success"},eHe={class:"text-success"},tHe={class:"text-success"},oHe={key:0},aHe={key:1},nHe={class:"text-success"},sHe={class:"text-success"},lHe={class:"d-flex my-auto"},iHe=["href"];function rHe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Pqe,[e("div",Eqe,[e("div",Aqe,[e("div",Iqe,[e("div",Rqe,[e("label",Sqe,n(o.$t("Payment/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment/OD Account No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.payment_account_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.payment_account_number_search]])]),e("div",Tqe,[e("label",jqe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.dealer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.dealer_search]])]),e("div",Oqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Mqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Lqe,[e("div",Nqe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.reports.meta?(u(),fe(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Fqe,[e("table",Yqe,[e("thead",null,[e("tr",Vqe,[e("th",null,n(o.$t("Payment / OD Acc No")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Excess Credit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",Bqe,[t.reports.data?b("",!0):(u(),f("tr",Uqe,[e("td",qqe,[e("span",Hqe,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",zqe,[e("td",Wqe,[e("span",Kqe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",Gqe,[le(n(l.payment_account_number)+" ",1),l.overdue_days>0?(u(),f("i",Qqe)):b("",!0)])]),e("td",null,n(l.company_name),1),e("td",Zqe,n(l.status),1),e("td",Jqe,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Xqe,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",eHe,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",tHe,[l.paid_amount>l.sanctioned_limit?(u(),f("span",oHe,n(new Intl.NumberFormat().format(l.paid_amount-l.sanctioned_limit)),1)):(u(),f("span",aHe," 0 "))]),e("td",nHe,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",sHe,n(l.overdue_days),1),e("td",null,[e("div",lHe,[e("a",{href:"od-accounts/"+l.id+"/details"},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,iHe)])])]))),128))])])]),t.reports.meta?(u(),fe(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const dHe=Ue(xqe,[["render",rHe]]),cHe={name:"FactoringOdAccounts",components:{Pagination:oo},props:["program_vendor_configuration"],setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(d=>{s.value=d.data})};ot([m],async([d])=>{await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions",{params:{per_page:d,payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})});const l=async()=>{let d=$(".ti-search").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data,d.html('<i class="ti ti-search"></i>')})},r=async()=>{let d=$(".ti-refresh").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value).then(p=>{s.value=p.data,d.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),{reports:s,moment:H,changePage:async d=>{await A.get(d+"&per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})},payment_account_number_search:t,dealer_search:c,per_page:m,filter:l,refresh:r}}},uHe={class:"card"},_He={class:"card-body"},mHe={class:"d-flex justify-content-between"},fHe={class:"d-flex justify-content-end"},hHe={class:""},pHe={class:"table-responsive"},vHe={class:"table"},gHe={class:""},bHe={class:"table-border-bottom-0"},yHe={key:0},kHe={colspan:"12",class:"text-center"},$He={class:"text-center"},wHe={key:1},DHe={colspan:"12",class:"text-center"},CHe={class:"text-center"},xHe={key:0},PHe={key:0},EHe={key:1},AHe={key:1},IHe={key:2},RHe={key:3},SHe={key:4},THe={key:5};function jHe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",uHe,[e("div",_He,[e("div",mHe,[a[2]||(a[2]=e("div",null,null,-1)),e("div",fHe,[e("div",hHe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.reports.meta?(u(),fe(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pHe,[e("table",vHe,[e("thead",null,[e("tr",gHe,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",bHe,[t.reports.data?b("",!0):(u(),f("tr",yHe,[e("td",kHe,[e("span",$He,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",wHe,[e("td",DHe,[e("span",CHe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("td",null,[l.transaction_type=="Payment Disbursement"?(u(),f("div",xHe,[l.payment_request.program_type=="Dealer Financing"?(u(),f("div",PHe,[e("span",null,"Drawdown against "+n(l.payment_request.invoice_number),1)])):(u(),f("div",EHe,[e("span",null,"Disbursement for "+n(l.payment_request.invoice_number),1)]))])):b("",!0),l.transaction_type=="Accrual/Posted Interest"?(u(),f("span",AHe,"Discount Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Fees/Charges"?(u(),f("span",IHe,"Fees/Charges Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Repayment"?(u(),f("span",RHe,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Bank Invoice Payment"?(u(),f("span",SHe,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Overdue Account"?(u(),f("span",THe,"Penal Payment againt "+n(l.payment_request.invoice_number),1)):b("",!0)]),e("td",null,n(new Intl.NumberFormat().format(l.amount)),1),e("td",null,n(new Intl.NumberFormat().format(l.amount)),1),a[3]||(a[3]=e("td",null,"-",-1)),a[4]||(a[4]=e("td",null,"-",-1))]))),128))])])]),t.reports.meta?(u(),fe(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const OHe=Ue(cHe,[["render",jHe]]),MHe={name:"FinanceRequests",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=lt(),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(""),v=async()=>{await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(V=>{a.value=V.data.finance_requests}).catch(V=>{console.log(V)})};Qe(()=>{v()});const g=V=>{let B="";switch(V){case"Pending Maker":B="bg-label-primary";break;case"Pending Checker":B="bg-label-warning";break;case"Overdue":B="bg-label-danger";break;case"Created":B="bg-label-secondary";break;case"Pending":B="bg-label-secondary";break;case"Approved":B="bg-label-success";break;case"Paid":B="bg-label-success";break;case"Failed":B="bg-label-danger";break;case"Rejected":B="bg-label-danger";break;case"Past Due":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},D=(V,B)=>(B/V*100).toFixed(2),y=V=>{let B="";switch(V){case"pending":B="bg-label-primary";break;case"paid":B="bg-label-primary";break;case"closed":B="bg-label-success";break;case"denied":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},C=V=>{let B="";switch(V){case"created":B="bg-label-primary";break;case"approved":B="bg-label-success";break;case"paid":B="bg-label-success";break;case"failed":B="bg-label-danger";break;case"rejected":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},x=async V=>{await A.get(V+"&per_page="+d.value,{params:{dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests})};return ot([d],async([V])=>{await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{per_page:V,dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)})}),{moment:H,finance_requests:a,invoice_number_search:c,status_search:m,dealer_search:_,per_page:d,rejection_reason:p,getTaxPercentage:D,resolveRequestStatus:g,changePage:x,resolveFinancingStatus:y,resolvePaymentRequestStatus:C,filter:async()=>{l.value=$("#date_search").val(),l.value&&(r.value=H(l.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(l.value.split(" - ")[1]).format("YYYY-MM-DD"));let V=$(".ti-search").parent();V.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{dealer:_.value,invoice_number:c.value,status:m.value,per_page:d.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)}).finally(()=>{V.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let V=$(".ti-refresh").parent();V.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",r.value="",i.value="",l.value="",await A.get(o+"factoring/invoices/dealer/payment-instructions/data",{params:{per_page:d.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)}).finally(()=>{V.html('<i class="ti ti-refresh"></i>')})},invoice_details:s,showInvoice:async(V,B)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+V+"/details").then(O=>{s.value=O.data,bt(()=>{document.getElementById(B).click()})}).catch(O=>{console.log(O)})},updateApprovalStatus:(V,B)=>{const O=new FormData;O.append("status",B),O.append("rejection_reason",p.value),A.post(o+"dealer/payment-requests/"+V+"/status/update",O).then(()=>{t.success("Request updated successfully"),B=="rejected"?document.getElementById("reject-request-close-btn-"+V).click():document.getElementById("approve-request-close-btn-"+V).click(),v()}).catch(L=>{console.log(L),t.error("An error occurred while updating the request")})}}}},LHe={class:"card p-0"},NHe={class:"card-header d-flex justify-content-between"},FHe={class:"d-flex flex-wrap gap-1"},YHe={class:""},VHe={for:"buyer",class:"form-label"},BHe={class:""},UHe={for:"Invoice Number",class:"form-label"},qHe={class:""},HHe={class:"form-label",for:""},zHe={class:""},WHe={for:"Status",class:"form-label"},KHe={value:""},GHe={value:"created"},QHe={value:"approved"},ZHe={value:"paid"},JHe={value:"rejected"},XHe={class:"table-search-btn"},eze={class:"table-clear-btn"},tze={class:"d-flex align-items-end"},oze={style:{"margin-right":"10px"}},aze={class:"card-body"},nze={class:"table-responsive"},sze={class:"table"},lze={class:"text-nowrap"},ize={class:"px-1"},rze={class:"table-border-bottom-0"},dze={key:0},cze={colspan:"12",class:"text-center"},uze={class:"text-center"},_ze={key:1},mze={colspan:"12",class:"text-center"},fze={class:"text-center"},hze=["data-bs-target"],pze=["onClick"],vze=["onClick"],gze={class:"text-success"},bze=["id","data-bs-target"],yze=["id","data-bs-target"],kze={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},$ze={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},wze={class:"modal-content"},Dze={class:"modal-body"},Cze={class:"d-flex justify-content-center"},xze=["id"],Pze={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Eze={class:"modal-content"},Aze={class:"modal-header"},Ize={class:"modal-title",id:"modalCenterTitle"},Rze=["id"],Sze=["onSubmit"],Tze={class:"modal-body"},jze={class:"modal-footer"},Oze={class:"btn btn-primary",type:"submit"},Mze=["id"],Lze={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Nze={class:"modal-content"},Fze={class:"modal-header"},Yze={class:"modal-title",id:"modalCenterTitle"},Vze=["id"],Bze=["onSubmit"],Uze={class:"modal-body"},qze={class:"row mb-1"},Hze={class:"form-group"},zze={for:""},Wze={class:"modal-footer"},Kze={class:"btn btn-primary",type:"submit"},Gze=["id"],Qze={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Zze={class:"modal-content"},Jze={class:"modal-header"},Xze={class:"modal-title",id:"modalCenterTitle"},eWe={class:"d-flex"},tWe=["href"],oWe=["href"],aWe=["href"],nWe={key:0,class:"d-flex"},sWe=["href"],lWe={class:"modal-body"},iWe={class:"d-flex justify-content-between"},rWe={class:"mb-3"},dWe={class:"d-flex justify-content-between"},cWe={class:"fw-light my-auto"},uWe={class:"fw-bold mx-2 my-auto"},_We={class:"d-flex justify-content-between"},mWe={class:"fw-light my-auto"},fWe={class:"fw-bold mx-2 my-auto"},hWe={key:0,class:"d-flex justify-content-between"},pWe={class:"fw-light my-auto"},vWe={class:"fw-bold mx-2 my-auto"},gWe={key:1,class:"d-flex justify-content-between"},bWe={class:"fw-light my-auto"},yWe={class:"fw-bold mx-2 my-auto"},kWe={class:"mb-3"},$We={key:0,class:"d-flex justify-content-between"},wWe={class:"my-auto fw-light"},DWe=["data-bs-target"],CWe={key:1,class:"d-flex justify-content-between"},xWe={class:"my-auto fw-light"},PWe={class:"fw-bold mx-2 my-auto"},EWe={class:"d-flex justify-content-between"},AWe={class:"my-auto fw-light"},IWe={class:"fw-bold mx-2 my-auto"},RWe={class:"d-flex justify-content-between"},SWe={class:"my-auto fw-light"},TWe={class:"fw-bold text-success mx-2 my-auto"},jWe={class:"d-flex justify-content-between"},OWe={class:"my-auto fw-light"},MWe={class:"fw-bold mx-2 my-auto"},LWe={class:"table-responsive"},NWe={class:"table"},FWe={style:{background:"#f0f0f0"}},YWe={key:0,class:"px-2"},VWe={class:"d-flex justify-content-end"},BWe={class:"mx-2 my-auto"},UWe={class:"text-success my-auto"},qWe={key:1,class:"px-2"},HWe={class:"mx-2 my-auto"},zWe={class:"text-success my-auto"},WWe={class:"bg-label-secondary px-2"},KWe={class:"d-flex justify-content-end"},GWe={class:"mx-2 my-auto py-1"},QWe={class:"text-success my-auto py-1"},ZWe=["id"],JWe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},XWe={class:"modal-content"},eKe={class:"modal-header"},tKe={class:"modal-title",id:"modalCenterTitle"},oKe={class:"d-flex"},aKe=["href"],nKe=["href"],sKe={key:0,class:"d-flex"},lKe=["href"],iKe={class:"modal-body"},rKe={class:"d-flex justify-content-between"},dKe={class:"mb-3"},cKe={class:"d-flex justify-content-between"},uKe={class:"fw-light my-auto"},_Ke={class:"fw-bold mx-2 my-auto"},mKe={class:"d-flex justify-content-between"},fKe={class:"fw-light my-auto"},hKe={class:"fw-bold mx-2 my-auto"},pKe={key:0,class:"d-flex justify-content-between"},vKe={class:"fw-light my-auto"},gKe={class:"fw-bold mx-2 my-auto"},bKe={class:"mb-3"},yKe={key:0,class:"d-flex justify-content-between"},kKe={class:"my-auto fw-light"},$Ke={class:"fw-bold mx-2 my-auto"},wKe={class:"d-flex justify-content-between"},DKe={class:"my-auto fw-light"},CKe=["data-bs-target"],xKe={class:"d-flex justify-content-between"},PKe={class:"my-auto fw-light"},EKe={class:"fw-bold text-success mx-2 my-auto"},AKe={class:"d-flex justify-content-between"},IKe={class:"my-auto fw-light"},RKe={class:"fw-bold mx-2 my-auto"},SKe={class:"table-responsive"},TKe={class:"table"},jKe={style:{background:"#f0f0f0"}},OKe={key:0,class:"px-2"},MKe={class:"d-flex justify-content-end"},LKe={class:"mx-2 my-auto"},NKe={class:"text-success my-auto"},FKe={key:1,class:"px-2"},YKe={class:"mx-2 my-auto"},VKe={class:"text-success my-auto"},BKe={key:2,class:"px-2"},UKe={class:"mx-2 my-auto py-1"},qKe={key:0,class:"text-success my-auto py-1"},HKe={key:1,class:"text-success my-auto py-1"},zKe={class:"bg-label-secondary px-2"},WKe={class:"d-flex justify-content-end"},KKe={class:"mx-2 my-auto py-1"},GKe={class:"text-success my-auto py-1"},QKe=["id"],ZKe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},JKe={class:"modal-content"},XKe={class:"modal-header"},eGe={class:"modal-title",id:"modalCenterTitle"},tGe={class:"modal-body"},oGe={class:"row mb-1"},aGe={class:"col-6 my-1"},nGe={class:"col-6"},sGe={class:"col-6 my-1"},lGe={class:"col-6"},iGe={class:"col-6 my-1"},rGe={class:"col-6"},dGe={class:"col-6 my-1"},cGe=["onClick"],uGe={class:"col-6 my-1"},_Ge={class:"col-6 text-success"},mGe={class:"col-6 my-1"},fGe={class:"col-6"},hGe={class:"col-6 my-1"},pGe={class:"col-6 text-success"},vGe={class:"col-6 my-1"},gGe={class:"col-6 text-success"},bGe={class:"col-6 my-1"},yGe={class:"col-6"},kGe={class:"col-6 my-1"},$Ge={class:"col-6"},wGe={class:"col-6 my-1"},DGe={class:"col-6"},CGe={class:"col-6 my-1"},xGe={class:"col-6"},PGe={class:"col-6 my-1"},EGe={class:"col-6"},AGe={key:0,class:"col-12"},IGe={key:0,class:"col-6 my-1 m_title"},RGe={key:0,class:"m_title"},SGe={key:1,class:"col-6 text-success"},TGe={class:"col-6 my-1"},jGe={class:"col-6 text-success"},OGe={class:"col-6 my-1"},MGe={class:"col-6"},LGe={class:"modal-footer"},NGe={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function FGe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",LHe,[e("div",NHe,[e("div",FHe,[e("div",YHe,[e("label",VHe,n(o.$t("Dealer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.dealer_search=l),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.dealer_search]])]),e("div",BHe,[e("label",UHe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",qHe,[e("label",HHe,n(o.$t("Date"))+" ("+n(o.$t("Maturity Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",zHe,[e("label",WHe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",KHe,n(o.$t("Status")),1),e("option",GHe,n(o.$t("Created")),1),e("option",QHe,n(o.$t("Approved")),1),e("option",ZHe,n(o.$t("Paid")),1),e("option",JHe,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",XHe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",eze,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tze,[e("div",oze,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])])])]),e("div",aze,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",nze,[e("table",sze,[e("thead",null,[e("tr",lze,[e("th",ize,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("Status")),1),a[13]||(a[13]=e("th",null,null,-1))])]),e("tbody",rze,[t.finance_requests.data?b("",!0):(u(),f("tr",dze,[e("td",cze,[e("span",uze,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",_ze,[e("td",mze,[e("span",fze,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,l=>(u(),f("tr",{key:l.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+l.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(l.reference_number),9,hze),e("td",null,[e("span",null,n(l.company_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.invoice_id,"show-details-btn-"+l.invoice_id),style:{cursor:"pointer"}},n(l.invoice_number),9,pze),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.invoice_id,"show-pi-btn-"+l.invoice_id),style:{cursor:"pointer"}},n(l.pi_number),9,vze),e("td",gze,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.drawdown_amount)),1)]),e("td",null,n(t.moment(l.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[l.requires_company_approval?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus("Pending")])},n(o.$t("Pending")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(l.approval_stage)])},n(l.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.invoice_id},null,8,bze),e("button",{class:"d-none",id:"show-pi-btn-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.invoice_id},null,8,yze),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",kze,[e("div",$ze,[e("div",wze,[e("div",Dze,[e("div",Cze,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"approve-payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Pze,[e("div",Eze,[e("div",Aze,[e("h5",Ize,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Rze)]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"approved"),["prevent"]),method:"post"},[e("div",Tze,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",jze,[e("button",Oze,n(o.$t("Submit")),1)])],40,Sze)])])],8,xze),e("div",{class:"modal fade",id:"reject-payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Lze,[e("div",Nze,[e("div",Fze,[e("h5",Yze,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Vze)]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",Uze,[e("div",qze,[e("div",Hze,[e("label",zze,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.rejection_reason=r)},null,512),[[Q,t.rejection_reason]])])])]),e("div",Wze,[e("button",Kze,n(o.$t("Submit")),1)])],40,Bze)])])],8,Mze),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",Qze,[e("div",Zze,[e("div",Jze,[e("h5",Xze,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",eWe,[e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/"+t.invoice_details.id+"/edit",class:"btn btn-info btn-sm mx-1"},[a[15]||(a[15]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Edit")),1)],8,tWe)):b("",!0)]),e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/create/"+t.invoice_details.id,class:"btn btn-warning btn-sm mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)],8,oWe)):b("",!0)]),e("div",null,[e("a",{href:"../"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,aWe)]),t.invoice_details.media.length>0?(u(),f("div",nWe,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,sWe))),128))])):b("",!0)])]),e("div",lWe,[e("div",iWe,[e("div",rWe,[e("span",dWe,[e("h5",cWe,n(o.$t("Dealer"))+":",1),e("h6",uWe,n(t.invoice_details.company.name),1)]),e("span",_We,[e("h5",mWe,n(o.$t("Remarks"))+":",1),e("h6",fWe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",hWe,[e("h5",pWe,n(o.$t("Credit To"))+":",1),e("h6",vWe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",gWe,[e("h5",bWe,n(o.$t("Rejection Reason"))+":",1),e("h6",yWe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",kWe,[t.invoice_details.pi_number?(u(),f("span",$We,[e("h5",wWe,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,DWe)])):b("",!0),t.invoice_details.purchase_order?(u(),f("span",CWe,[e("h5",xWe,n(o.$t("PO No"))+":",1),e("h6",PWe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)])):b("",!0),e("span",EWe,[e("h5",AWe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",IWe,n(t.invoice_details.invoice_number),1)]),e("span",RWe,[e("h5",SWe,n(o.$t("Invoice Amount"))+":",1),e("h6",TWe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",jWe,[e("h5",OWe,n(o.$t("Invoice Due Date"))+":",1),e("h6",MWe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",LWe,[e("table",NWe,[e("thead",FWe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length>0?(u(),f("div",YWe,[e("span",VWe,[e("h6",BWe,n(o.$t("Total Invoice Discount")),1),e("h5",UWe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",qWe,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",HWe,n(r.name),1),e("h5",zWe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",WWe,[e("span",KWe,[e("h6",GWe,n(o.$t("Total")),1),e("h5",QWe,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Gze)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",JWe,[e("div",XWe,[e("div",eKe,[e("h5",tKe,n(o.$t("Payment Instruction")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",oKe,[e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/create/"+t.invoice_details.id,class:"btn btn-warning btn-sm mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)],8,aKe)):b("",!0)]),e("div",null,[e("a",{href:"../payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,nKe)]),t.invoice_details.media.length>0?(u(),f("div",sKe,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,lKe))),128))])):b("",!0)])]),e("div",iKe,[e("div",rKe,[e("div",dKe,[e("span",cKe,[e("h5",uKe,n(o.$t("Dealer"))+":",1),e("h6",_Ke,n(t.invoice_details.company.name),1)]),e("span",mKe,[e("h5",fKe,n(o.$t("Remarks"))+":",1),e("h6",hKe,n(t.invoice_details.remarks),1)]),t.invoice_details.rejected_reason?(u(),f("span",pKe,[e("h5",vKe,n(o.$t("Rejection Reason"))+":",1),e("h6",gKe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",bKe,[t.invoice_details.purchase_order?(u(),f("span",yKe,[e("h5",kKe,n(o.$t("PO No"))+":",1),e("h6",$Ke,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)])):b("",!0),e("span",wKe,[e("h5",DKe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,CKe)]),e("span",xKe,[e("h5",PKe,n(o.$t("Invoice Amount"))+":",1),e("h6",EKe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)]),e("span",AKe,[e("h5",IKe,n(o.$t("Invoice Due Date"))+":",1),e("h6",RKe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",SKe,[e("table",TKe,[e("thead",jKe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length>0?(u(),f("div",OKe,[e("span",MKe,[e("h6",LKe,n(o.$t("Total Invoice Discount")),1),e("h5",NKe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",FKe,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",YKe,n(r.name),1),e("h5",VKe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",BKe,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",UKe,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",qKe," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",HKe,n(r.amount),1))]))),128))])):b("",!0),e("div",zKe,[e("span",WKe,[e("h6",KKe,n(o.$t("Total")),1),e("h5",GKe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])],8,ZWe)):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",ZKe,[e("div",JKe,[e("div",XKe,[e("h5",eGe,n(o.$t("Payment Request")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",tGe,[e("div",oGe,[e("div",aGe,n(o.$t("Dealer")),1),e("div",nGe,[e("span",null,n(l.company_name),1)]),e("div",sGe,n(o.$t("Program Name")),1),e("div",lGe,n(l.program_name),1),e("div",iGe,n(o.$t("Invoice / Unique Reference Number")),1),e("div",rGe,n(l.invoice_number),1),e("div",dGe,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:r=>t.showInvoice(l.invoice_id,"show-pi-btn-"+l.invoice_id)},n(l.pi_number),9,cGe),e("div",uGe,n(o.$t("PI Amount")),1),e("div",_Ge,n(new Intl.NumberFormat().format(l.drawdown_amount)),1),e("div",mGe,n(o.$t("Eligibility"))+" (%)",1),e("div",fGe,n(l.eligibility),1),e("div",hGe,n(o.$t("Eligible Payment Amount")),1),e("div",pGe,n(new Intl.NumberFormat().format(l.eligible_for_finance)),1),e("div",vGe,n(o.$t("Requested Payment Amount")),1),e("div",gGe,n(new Intl.NumberFormat().format(l.eligible_for_finance)),1),e("div",bGe,n(o.$t("Credit to Account No"))+".:",1),e("div",yGe,n(l.payment_accounts[0].account),1),e("div",kGe,n(o.$t("Request Date")),1),e("div",$Ge,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("div",wGe,n(o.$t("Requested Disbursement Date")),1),e("div",DGe,n(t.moment(l.payment_request_date).format("DD MMM YYYY")),1),e("div",CGe,n(o.$t("Due Date")),1),e("div",xGe,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("div",PGe,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",EGe,n(l.total_roi),1),l.payment_accounts&&l.payment_accounts.length>0?(u(),f("div",AGe,[(u(!0),f(W,null,X(l.payment_accounts,r=>(u(),f("div",{class:"row",key:r.id},[r.type!="vendor_account"?(u(),f("div",IGe,[le(n(r.title?r.title:r.type.replaceAll("_"," "))+" ",1),r.description?(u(),f("span",RGe,"("+n(r.description)+")",1)):b("",!0)])):b("",!0),r.type!="vendor_account"?(u(),f("div",SGe,n(new Intl.NumberFormat().format(Number(r.amount).toFixed(2))),1)):b("",!0)]))),128))])):b("",!0),e("div",TGe,n(o.$t("Net Disbursal Total")),1),e("div",jGe,n(new Intl.NumberFormat().format(l.amount.toFixed(2))),1),e("div",OGe,n(o.$t("Status")),1),e("div",MGe,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(l.approval_stage)])},n(l.approval_stage),3)])])]),e("div",LGe,[e("button",NGe,n(o.$t("Close")),1)])])])],8,QKe)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const YGe=Ue(MHe,[["render",FGe]]),VGe={name:"DpdInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(""),_=h(null),l=async()=>{await A.get(o+"dealer/invoices/dealer/dpd-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,C)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(x=>{_.value=x.data,bt(()=>{document.getElementById(C).click()})}).catch(x=>{console.log(x)})},i=y=>{let C="";switch(y){case"Overdue":C="bg-label-danger";break;case"Created":C="bg-label-secondary";break;case"Pending Maker":C="bg-label-primary";break;case"Pending Checker":C="bg-label-warning";break;case"Submitted":C="bg-label-primary";break;case"Approved":C="bg-label-success";break;case"Disbursed":C="bg-label-success";break;case"Denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},d=y=>{let C="";switch(y){case"pending":C="bg-label-primary";break;case"submitted":C="bg-label-warning";break;case"financed":C="bg-label-success";break;case"closed":C="bg-label-secondary";break;case"denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},p=(y,C)=>C/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"dealer/invoices/dealer/dpd-invoices/data",{params:{invoice_number:t.value,dealer:c.value,range:m.value,per_page:y}}).then(C=>{a.value=C.data.invoices})}),{moment:H,per_page:s,invoice_number:t,dealer:c,range:m,invoices:a,invoice_details:_,showInvoice:r,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{invoice_number:t.value,dealer:c.value,per_page:s.value,range:m.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",A.get(o+"invoices/data",{params:{per_page:s.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,dealer:c.value,range:m.value}}).then(C=>{a.value=C.data.invoices})},getTaxPercentage:p}}},BGe={class:"card"},UGe={class:"card-body"},qGe={class:"d-flex justify-content-between"},HGe={class:"d-flex flex-wrap"},zGe={class:"mb-1"},WGe={for:"Search",class:"form-label"},KGe={class:"mx-1"},GGe={for:"Search",class:"form-label"},QGe={class:"mx-1"},ZGe={for:"DPD Rage",class:"form-label"},JGe={value:""},XGe={value:"1-30"},eQe={value:"31-60"},tQe={value:"61-90"},oQe={value:">90"},aQe={class:"mx-1 table-search-btn"},nQe={class:"mx-1 table-clear-btn"},sQe={class:"d-flex mx-2",style:{height:"fit-content"}},lQe={class:"table-responsive"},iQe={class:"table"},rQe={key:0},dQe={colspan:"12",class:"text-center"},cQe={class:"text-center"},uQe={key:1},_Qe={colspan:"12",class:"text-center"},mQe={class:"text-center"},fQe={class:"text-primary text-decoration-underline"},hQe=["onClick"],pQe={class:"text-success"},vQe={class:""},gQe={class:""},bQe={class:"text-success"},yQe={class:""},kQe=["id","data-bs-target"],$Qe=["id","data-bs-target"],wQe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},DQe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},CQe={class:"modal-content"},xQe={class:"modal-body"},PQe={class:"d-flex justify-content-center"};function EQe(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",BGe,[e("div",UGe,[e("div",qGe,[e("div",HGe,[e("div",zGe,[e("label",WGe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",KGe,[e("label",GGe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=i=>t.dealer=i),onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.dealer]])]),e("div",QGe,[e("label",ZGe,n(o.$t("DPD Range")),1),Y(e("select",{class:"form-select mx-1 form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.range=i)},[e("option",JGe,n(o.$t("Select Range")),1),e("option",XGe,"1 - 30 "+n(o.$t("Days")),1),e("option",eQe,"31 - 60 "+n(o.$t("Days")),1),e("option",tQe,"61 - 90 "+n(o.$t("Days")),1),e("option",oQe,"> 90 "+n(o.$t("Days")),1)],512),[[re,t.range]])]),e("div",aQe,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",nQe,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",sQe,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",lQe,[e("table",iQe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("DPD")),1),e("th",null,n(o.$t("Overdue Interest")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",rQe,[e("td",dQe,[e("span",cQe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",uQe,[e("td",_Qe,[e("span",mQe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.company),1),e("td",fQe,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,hQe)]),e("td",pQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",vQe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",gQe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",bQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("span",null,n(i.days_past_due),1)]),e("td",null,[e("span",yQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.overdue_amount)),1)])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,kQe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,$Qe),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",wQe,[e("div",DQe,[e("div",CQe,[e("div",xQe,[e("div",PQe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const AQe=Ue(VGe,[["render",EQe]]),IQe={name:"RejectedInvoices",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(""),_=h(null),l=async()=>{await A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,C)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(x=>{_.value=x.data,bt(()=>{document.getElementById(C).click()})}).catch(x=>{console.log(x)})},i=y=>{let C="";switch(y){case"Overdue":C="bg-label-danger";break;case"Created":C="bg-label-secondary";break;case"Pending Maker":C="bg-label-primary";break;case"Pending Checker":C="bg-label-warning";break;case"Submitted":C="bg-label-primary";break;case"Approved":C="bg-label-success";break;case"Disbursed":C="bg-label-success";break;case"Denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},d=y=>{let C="";switch(y){case"pending":C="bg-label-primary";break;case"financed":C="bg-label-success";break;case"closed":C="bg-label-secondary";break;case"denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},p=(y,C)=>C/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:y,invoice_number:t.value,dealer:c.value,range:m.value}}).then(C=>{a.value=C.data.invoices})}),{moment:H,per_page:s,invoice_number:t,dealer:c,range:m,invoices:a,invoice_details:_,resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,dealer:c.value,range:m.value}}).then(C=>{a.value=C.data.invoices})},getTaxPercentage:p,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{invoice_number:t.value,dealer:c.value,per_page:s.value,range:m.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:s.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},showInvoice:r}}},RQe={class:"card"},SQe={class:"card-body"},TQe={class:"d-flex justify-content-between"},jQe={class:"d-flex flex-wrap gap-1"},OQe={class:""},MQe={for:"Search",class:"form-label"},LQe={class:""},NQe={for:"Search",class:"form-label"},FQe={class:""},YQe={for:"DPD Rage",class:"form-label"},VQe={value:""},BQe={value:"1-30"},UQe={value:"31-60"},qQe={value:"61-90"},HQe={value:"more than 90"},zQe={class:"table-search-btn"},WQe={class:"table-clear-btn"},KQe={class:"d-flex mx-2",style:{height:"fit-content"}},GQe={class:"table-responsive"},QQe={class:"table"},ZQe={key:0},JQe={colspan:"12",class:"text-center"},XQe={class:"text-center"},eZe={key:1},tZe={colspan:"12",class:"text-center"},oZe={class:"text-center"},aZe={class:"text-primary text-decoration-underline"},nZe=["onClick"],sZe={class:"text-success"},lZe={class:""},iZe=["href"],rZe=["id","data-bs-target"],dZe=["id","data-bs-target"],cZe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},uZe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_Ze={class:"modal-content"},mZe={class:"modal-body"},fZe={class:"d-flex justify-content-center"},hZe=["id"],pZe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},vZe={class:"modal-content"},gZe={class:"modal-header"},bZe={class:"modal-title",id:"modalCenterTitle"},yZe={class:"d-flex"},kZe=["href"],$Ze=["href"],wZe={class:"modal-body"},DZe={class:"d-flex justify-content-between"},CZe={class:"mb-3"},xZe={class:"d-flex justify-content-between"},PZe={class:"fw-light my-auto"},EZe={class:"fw-bold mx-2 my-auto"},AZe={class:"mb-3"},IZe={class:"d-flex justify-content-between"},RZe={class:"my-auto fw-light"},SZe={class:"fw-bold mx-2 my-auto"},TZe={class:"d-flex justify-content-between"},jZe={class:"my-auto fw-light"},OZe={class:"fw-bold text-success mx-2 my-auto"},MZe={class:"d-flex justify-content-between"},LZe={class:"my-auto fw-light"},NZe={class:"fw-bold mx-2 my-auto"},FZe={class:"d-flex justify-content-between"},YZe={class:"my-auto fw-light"},VZe={class:"fw-bold mx-2 my-auto"},BZe={class:"d-flex justify-content-between"},UZe={class:"my-auto fw-light"},qZe={class:"fw-bold mx-2 my-auto"},HZe={class:"table-responsive"},zZe={key:0,class:"px-2"},WZe={class:"mx-2 my-auto py-1"},KZe={key:0,class:"text-success my-auto py-1"},GZe={key:1,class:"text-success my-auto py-1"},QZe={class:"bg-label-secondary px-2"},ZZe={class:"d-flex justify-content-end"},JZe={class:"mx-2 my-auto py-1"},XZe={class:"text-success my-auto py-1"},eJe={class:"modal-footer"},tJe=["onClick"];function oJe(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",RQe,[e("div",SQe,[e("div",TQe,[e("div",jQe,[e("div",OQe,[e("label",MQe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",LQe,[e("label",NQe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=l=>t.dealer=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.dealer]])]),e("div",FQe,[e("label",YQe,n(o.$t("DPD Range"))+" ("+n(o.$t("Due Date"))+")",1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.range=l)},[e("option",VQe,n(o.$t("Select Range")),1),e("option",BQe,"1 - 30 "+n(o.$t("Days")),1),e("option",UQe,"31 - 60 "+n(o.$t("Days")),1),e("option",qQe,"61 - 90 "+n(o.$t("Days")),1),e("option",HQe,"> 90 "+n(o.$t("Days")),1)],512),[[re,t.range]])]),e("div",zQe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",WQe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",KQe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",GQe,[e("table",QQe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Actions")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",ZQe,[e("td",JQe,[e("span",XQe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",eZe,[e("td",tZe,[e("span",oZe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,n(l.company),1),e("td",aZe,[e("a",{href:"javascript:;",onClick:r=>t.showInvoice(l.id,"show-details-btn-"+l.id)},n(l.invoice_number),9,nZe)]),e("td",sZe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",null,[e("span",lZe,n(t.moment(l.due_date).format("DD MMM YYYY")),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(l.financing_status)])},n(l.financing_status),3)]),e("td",null,[e("a",{href:"../drawdown/create/"+l.id,class:"btn btn-sm btn-primary"},n(o.$t("Re-Initiate")),9,iZe)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,rZe),e("button",{class:"d-none",id:"show-pi-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.id},null,8,dZe),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",cZe,[e("div",uZe,[e("div",_Ze,[e("div",mZe,[e("div",fZe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",pZe,[e("div",vZe,[e("div",gZe,[e("h5",bZe,n(o.$t("Invoice Details")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",yZe,[e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,kZe),t.invoice_details.attachment?(u(),f("a",{key:0,href:t.invoice_details.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[14]||(a[14]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,$Ze)):b("",!0)])]),e("div",wZe,[e("div",DZe,[e("div",CZe,[e("span",xZe,[e("h5",PZe,n(o.$t("Anchor"))+":",1),e("h6",EZe,n(t.invoice_details.program.anchor.name),1)])]),e("div",AZe,[e("span",IZe,[e("h5",RZe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",SZe,n(t.invoice_details.invoice_number),1)]),e("span",TZe,[e("h5",jZe,n(o.$t("Invoice Amount"))+":",1),e("h6",OZe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)]),e("span",MZe,[e("h5",LZe,n(o.$t("Invoice Date"))+":",1),e("h6",NZe,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",FZe,[e("h5",YZe,n(o.$t("Invoice Due Date"))+":",1),e("h6",VZe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)]),e("span",BZe,[e("h5",UZe,n(o.$t("Payment Date"))+":",1),e("h6",qZe,n(t.moment(t.invoice_details.payment_date).format("DD MMM YYYY")),1)])])]),e("div",HZe,[t.invoice_details.invoice_fees.length>0?(u(),f("div",zZe,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",WZe,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",KZe," ("+n(new Intl.NumberFormat().format(t.getTaxPercentage(t.invoice_details.invoice_total_amount,r.amount).toFixed(2)))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",GZe,n(r.amount),1))]))),128))])):b("",!0)]),e("div",QZe,[e("span",ZZe,[e("h6",JZe,n(o.$t("Total Drawdown Amount")),1),e("h5",XZe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])]),e("div",eJe,[t.invoice_details.status=="pending"?(u(),f("a",{key:0,href:"javascript:;",onClick:r=>o.requestApproval(l),class:"btn btn-primary"},n(o.$t("Submit for Approval")),9,tJe)):b("",!0)])])])],8,hZe)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const aJe=Ue(IQe,[["render",oJe]]),nJe={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"dealer/invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},sJe={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},lJe={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},iJe={class:"modal-dialog"},rJe={class:"modal-header"},dJe={class:"modal-title",id:"modalTopTitle"},cJe={class:"modal-body"},uJe={class:"form-group mt-2"},_Je={class:"py-1 text-danger d-none",id:"show-download-error"},mJe={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},fJe={class:"modal-footer"},hJe={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},pJe={href:"invoices/dealers",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},vJe=["disabled"];function gJe(o,a,s,t,c,m){return u(),f(W,null,[e("button",sJe,n(o.$t("Upload Invoices")),1),e("div",lJe,[e("div",iJe,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",rJe,[e("h5",dJe,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",cJe,[e("div",uJe,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",_Je,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",mJe,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",fJe,[e("a",hJe,n(o.$t("Download Sample")),1),e("a",pJe,n(o.$t("View Dealers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,vJe)])],32)])])],64)}const bJe=Ue(nJe,[["render",gJe]]),yJe={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),D=h([]),y=h([]),C=h(0),x=h(0),E=h(0),k=h(50),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h(""),R=h([]),P=h([]),I=h(""),S=h(""),F=h(""),N=h([]),U=h(""),Z=h(""),ce=h([]),ae=h(!1),J=h(!0),z=oe=>{document.getElementById("edit-fees-"+oe.id).classList.remove("d-none"),document.getElementById("view-fees-"+oe.id).classList.add("d-none")},ne=async()=>{await A.get(t+"dealer/invoices/data",{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{c.value=oe.data.invoices,g.value=oe.data.taxes,D.value=oe.data.users}).catch(oe=>{console.log(oe.message)})},xe=async(oe,me)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+oe+"/details").then(Le=>{l.value=Le.data,C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(me).click()})}).catch(Le=>{console.log(Le)})},Fe=async(oe,me)=>{await A.get(t+"dealer/purchase-orders/"+oe+"/show").then(Le=>{i.value=Le.data,bt(()=>{document.getElementById(me).click()})}).catch(Le=>{console.log(Le)})},he=(oe,me,Le)=>(Le/me*100).toFixed(2),ie=oe=>{let me="";switch(oe){case"Overdue":me="bg-label-danger";break;case"Created":me="bg-label-secondary";break;case"Pending Approval":me="bg-label-warning";break;case"Pending Maker":me="bg-label-primary";break;case"Pending Checker":me="bg-label-warning";break;case"Submitted":me="bg-label-primary";break;case"Approved":me="bg-label-success";break;case"Disbursed":me="bg-label-success";break;case"Denied":me="bg-label-danger";break;case"Rejected":me="bg-label-danger";break;default:me="bg-label-primary";break}return me},$e=oe=>{let me="";switch(oe){case"pending":me="bg-label-primary";break;case"submitted":me="bg-label-warning";break;case"financed":me="bg-label-success";break;case"closed":me="bg-label-secondary";break;case"denied":me="bg-label-danger";break;default:me="bg-label-primary";break}return me},we=()=>{let oe=0,me=0,Le=Object.keys(y.value);Object.values(y.value).forEach((at,mt)=>{Le[mt]=="Credit Note Amount"&&at>0&&(me=at),Le[mt]!="Credit Note Amount"&&(at>0?oe+=at:oe-=at)}),oe>0&&(x.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-oe/100*C.value.replaceAll(",",""))),me>0&&(x.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-me)),me==0&&oe==0&&(x.value=new Intl.NumberFormat.format(C.value.replaceAll(",","")))},se=async oe=>{const me=new FormData;for(const Le in y.value)Le=="Credit Note Amount"&&me.append("taxes["+Le+"]",y.value[Le]),Le!="Credit Note Amount"&&me.append("taxes["+Le+"]",y.value[Le]/100*C.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}dealer/invoices/${oe.id}/approve`,me).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+oe.id).click();for(const Le in y.value)y.value=[]}).catch(Le=>{if(console.log(Le),Le.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},ge=async oe=>{await A.get(`${t}dealer/invoices/${oe.id}/fees/approve`).then(()=>{ne(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+oe.id).click();for(const me in y.value)y.value[me]=""}).catch(me=>{if(console.log(me),me.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=async(oe,me)=>{const Le=new FormData;Le.append("status",me),Le.append("rejection_reason",U.value),await A.post(t+"dealer/invoices/"+oe.id+"/request/send",Le).then(()=>{s.success("Invoice updated successfully"),ne()}).catch(Ze=>{console.log(Ze),s.error("An error occurred")})},Me=()=>{if(N.value=[],ae.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async oe=>{oe.status=="submitted"&&oe.user_can_approve&&!oe.user_has_approved&&(document.getElementById("data-select-"+oe.id).checked=!0,N.value.push(oe.id))}):(c.value.data.forEach(oe=>{if(oe.status=="submitted"&&oe.user_can_approve&&!oe.user_has_approved){document.getElementById("data-select-"+oe.id).checked=!1;let me;if(!N.value.filter(function(Ze,at){me=at,Ze==oe.id}))return!1;N.value.splice(me,1)}}),ae.value=!1),N.value.length>0){let oe={},me={};const Le=new FormData;Le.append("invoices",N.value),A.post(t+"dealer/invoices/bulk/details?type=Factoring",Le).then(Ze=>{ce.value=[],Ze.data.data.forEach(at=>{if(me[at.id]=[],at.invoice_fees.length>0){let mt=0;oe={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(oe+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(oe[wt.name+"-"+at.id]=mt)})}else oe={},Object.keys(g.value).forEach(mt=>{oe[mt+"-"+at.id]=0});me[at.id]=oe}),ce.value.push(me),ae.value=!1})}},ue=oe=>{if(N.value.includes(oe)){const me=N.value.indexOf(oe);N.value.splice(me,1)}else N.value.push(oe);if(N.value.length>0){let me={},Le={};const Ze=new FormData;Ze.append("invoices",N.value),A.post(t+"dealer/invoices/bulk/details?type=Factoring",Ze).then(at=>{ce.value=[],at.data.data.forEach(mt=>{if(Le[mt.id]=[],mt.invoice_fees.length>0){let wt=0;me={},mt.invoice_fees.forEach(Ot=>{Ot.name!="Credit Note Amount"?wt=he(mt.invoice_number,mt.total+mt.total_invoice_taxes-mt.total_invoice_discount,Ot.amount):wt=Ot.amount,Object.keys(me+"-"+mt.id).filter(ut=>ut==Ot.name+"-"+mt.id).length>0||(me[Ot.name+"-"+mt.id]=wt)})}else me={},Object.keys(g.value).forEach(wt=>{me[wt+"-"+mt.id]=0});Le[mt.id]=me}),ce.value.push(Le),ae.value=!1})}},Oe=oe=>{if(N.value.length<=0){s.error("Select invoices");return}};ot(Z,oe=>{(oe=="approve"||oe=="reject")&&(N.value.length>0?(oe=="reject"&&document.getElementById("show-bulk-reject-modal").click(),oe=="approve"&&document.getElementById("show-bulk-approval-modal").click(),Z.value=""):s.error("Select Invoices"))});const ze=()=>{const oe=new FormData;N.value.forEach((me,Le)=>{oe.append("invoice["+Le+"]",me)}),oe.append("invoice_taxes",JSON.stringify(ce.value)),oe.append("action",Z.value),J.value=!1,A.post(t+"dealer/invoices/bulk/update/approve?type=Factoring",oe).then(me=>{ne(),s.success(me.data.message),document.getElementById("fees-close-modal").click();for(const Le in y.value)y.value[Le]="";N.value=[],ce.value=[]}).catch(me=>{if(console.log(me),me.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{Z.value="",J.value=!0})},Ye=()=>{const oe=new FormData;oe.append("rejected_reason",U.value),N.value.forEach((me,Le)=>{oe.append("invoice["+Le+"]",me)}),oe.append("action",Z.value),J.value=!1,A.post(t+"dealer/invoices/bulk/update/reject?type=Factoring",oe).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",N.value=[],ce.value=[]}).catch(me=>{console.log(me),s.error("An error occurred")}).finally(()=>{J.value=!0,Z.value=""})},ve=oe=>{const me=new FormData;me.append("rejected_reason",U.value),me.append("action",Z.value),A.post(t+"dealer/invoices/"+oe+"/reject",me).then(()=>{ne(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+oe).click(),Z.value="",U.value=""}).catch(Le=>{console.log(Le),s.error("An error occurred")})};return Qe(()=>{ne(),$("#invoice-status-select").on("change",function(){var oe=$("#invoice-status-select").val();R.value=oe}),$("#financing-status-select").on("change",function(){var oe=$("#financing-status-select").val();P.value=oe})}),ot([k],async([oe])=>{A.get(t+"dealer/invoices/data",{params:{per_page:oe,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices})}),{moment:H,per_page:k,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:D,invoice_taxes:y,invoice_subtotal:C,invoice_total:x,purchase_order_total:E,purchase_order_details:i,selected_invoices:N,selected_invoices_taxes:ce,buyer_search:w,invoice_number_search:T,status_search:R,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:O,to_invoice_date_search:L,sort_by:F,bulk_action:Z,invoice_fees_processing:ae,rejected_reason:U,can_bulk_approve:J,showInvoice:xe,calculatePayable:oe=>{let me=$("#invoice-amount-"+oe).text().replaceAll(",",""),Le=$("#withholding-tax-"+oe).val(),Ze=$("#withholding-vat-"+oe).val(),at=$("#credit-note-amount-"+oe).val(),mt=Le/100*me,wt=Ze/100*me,Ot=me-mt-wt-at;$("#invoice-total-payable-"+oe).text(new Intl.NumberFormat().format(Ot))},filter:async()=>{I.value=$("#date_search").val(),S.value=$("#invoice_date_search").val(),I.value&&(V.value=H(I.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(I.value.split(" - ")[1]).format("YYYY-MM-DD")),S.value&&(O.value=H(S.value.split(" - ")[0]).format("YYYY-MM-DD"),L.value=H(S.value.split(" - ")[1]).format("YYYY-MM-DD"));let oe=$(".ti-search").parent();oe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"dealer/invoices/data",{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices,g.value=me.data.taxes,oe.html('<i class="ti ti-search"></i>')})},updateSelected:ue,selectAll:Me,bulkAction:Oe,resolveStatus:ie,resolveFinancingStatus:$e,changePage:async oe=>{await A.get(oe,{params:{per_page:k.value,buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(me=>{c.value=me.data.invoices}).catch(me=>{console.log(me)})},submitApproval:se,submitBulkApproval:ze,submitBulkRejection:Ye,updateInvoiceTotal:we,getTaxPercentage:he,clearSearch:async()=>{let oe=$(".ti-refresh").parent();oe.html('<img src="../../../../../assets/img/spinner.svg" />'),w.value="",T.value="",V.value="",B.value="",R.value=[],P.value=[],I.value="",S.value="",F.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"dealer/invoices/data",{params:{per_page:k.value}}).then(me=>{c.value=me.data.invoices,g.value=me.data.taxes,oe.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{buyer:w.value,invoice_number:T.value,from_date:V.value,to_date:B.value,from_invoice_date:O.value,to_invoice_date:L.value,status:R.value,financing_status:P.value,sort_by:F.value}}).then(oe=>{const me=window.URL.createObjectURL(new Blob([oe.data])),Le=document.createElement("a");Le.href=me,Le.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(Le),Le.click()}).catch(oe=>{console.log(oe)})},submitRejection:ve,download:oe=>{A.get(t+"invoices/"+oe.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(me=>{const Le=window.URL.createObjectURL(new Blob([me.data])),Ze=document.createElement("a");Ze.href=Le,Ze.setAttribute("download",`Invoice_${oe.invoice_number}.pdf`),document.body.appendChild(Ze),Ze.click()}).catch(me=>{console.log(me)})},editFees:z,approveFees:ge,userHasApproved:(oe,me)=>{let Le=!1;return oe.approvals.forEach(Ze=>{me.id==Ze.user_id&&(Le=!0)}),Le},approvalDetails:(oe,me)=>{let Le=null;return Le=oe.approvals.filter(Ze=>Ze.user_id==me.id).length>0?oe.approvals.filter(Ze=>Ze.user_id==me.id)[0]:null,Le},showPurchaseOrder:Fe,requestApproval:be,invoice_details_key:r}}},kJe={class:"p-2"},$Je={class:"d-flex justify-content-between"},wJe={class:"d-flex flex-wrap gap-1"},DJe={class:""},CJe={for:"Vendor",class:"form-label"},xJe={class:""},PJe={for:"Invoice No",class:"form-label"},EJe={class:""},AJe={class:"form-label",for:""},IJe={class:""},RJe={class:"form-label",for:""},SJe={class:""},TJe={for:"Status",class:"form-label"},jJe={value:"pending_maker"},OJe={value:"pending_checker"},MJe={value:"approved"},LJe={value:"disbursed"},NJe={value:"rejected"},FJe={value:"past_due"},YJe={value:"expired"},VJe={class:""},BJe={for:"Financing Status",class:"form-label"},UJe={value:"pending"},qJe={value:"submitted"},HJe={value:"financed"},zJe={value:"closed"},WJe={class:""},KJe={for:"Financing Status",class:"form-label"},GJe={value:""},QJe={value:"po_asc"},ZJe={value:"po_desc"},JJe={value:"invoice_no_asc"},XJe={value:"invoice_no_desc"},eXe={value:"due_date_asc"},tXe={value:"due_date_desc"},oXe={value:"invoice_amount_asc"},aXe={value:"invoice_amount_desc"},nXe={value:"buyer_asc"},sXe={value:"buyer_desc"},lXe={class:""},iXe={for:"Bulk Actions",class:"form-label"},rXe={value:""},dXe={value:"approve"},cXe={value:"reject"},uXe={class:"table-search-btn"},_Xe={class:"table-clear-btn"},mXe={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},fXe={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},hXe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},pXe={class:"modal-content"},vXe={class:"modal-header"},gXe={class:"modal-title",id:"modalCenterTitle"},bXe={key:0,class:"text-center my-4"},yXe={class:"modal-body"},kXe={class:"table"},$Xe={key:0},wXe={key:0},DXe={key:1},CXe=["id"],xXe={key:2},PXe={key:0},EXe=["onUpdate:modelValue","id","onInput"],AXe={key:3},IXe={key:0},RXe=["onUpdate:modelValue","id","onInput"],SXe={key:4},TXe={key:0},jXe=["onUpdate:modelValue","id","onInput"],OXe={key:5},MXe={key:0},LXe=["id"],NXe={class:"modal-footer"},FXe=["disabled"],YXe={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},VXe={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},BXe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},UXe={class:"modal-content"},qXe={class:"modal-header"},HXe={class:"modal-title",id:"modalCenterTitle"},zXe={class:"modal-body"},WXe={for:"reason",class:"form-label"},KXe={class:"modal-footer"},GXe=["disabled"],QXe={class:"d-flex justify-content-end gap-1 mt-auto"},ZXe={class:"table-responsive p-1"},JXe={class:"table dt-invoices"},XXe={class:"px-1"},eet={class:"form-check"},tet={key:0},oet={colspan:"12",class:"text-center"},aet={class:"text-center"},net={key:1},set={colspan:"12",class:"text-center"},iet={class:"text-center"},ret={class:"px-1"},det={key:0,class:"form-check"},cet=["id","onChange"],uet={key:1},_et=["id","onChange"],met={key:0,class:"text-primary text-decoration-underline"},fet=["onClick"],het={key:1,class:"text-primary"},pet=["onClick"],vet={href:"javascript:;"},get={class:"text-success text-nowrap"},bet={class:""},yet={class:"text-success text-nowrap"},ket={class:""},$et={class:""},wet={class:""},Det={class:"text-success"},Cet={class:""},xet={class:"d-inline-block"},Pet=["id","data-bs-target"],Eet=["id","data-bs-target"],Aet=["id","data-bs-target"],Iet=["id","data-bs-target"],Ret=["id","data-bs-target"],Tet=["id","data-bs-target"],jet=["id","data-bs-target"],Oet=["id","data-bs-target"],Met={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Let={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Net={class:"modal-content"},Fet={class:"modal-body"},Yet={class:"d-flex justify-content-center"},Vet={class:"dropdown-menu dropdown-menu-end"},Bet={class:"mt-2"},Uet=["onClick"],qet={key:0,class:"mb-2"},Het=["href"],zet=["onClick"],Wet={class:"dropdown-item badge bg-label-success"},Ket={key:2,class:"mb-2"},Get=["onClick"],Qet=["onClick"],Zet={class:"dropdown-item badge bg-label-info"},Jet=["onClick"],Xet={class:"dropdown-item badge bg-label-warning"},ett={key:5},ttt=["onClick"],ott={key:6},att=["data-bs-target"],ntt=["id"],stt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ltt={class:"modal-content"},itt={class:"modal-header"},rtt={class:"modal-title",id:"modalCenterTitle"},dtt=["id"],ctt=["onSubmit"],utt={class:"modal-body"},_tt={for:"reason",class:"form-label"},mtt={class:"modal-footer"},ftt={class:"btn btn-danger",type:"submit"},htt=["id"],ptt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},vtt={class:"modal-content"},gtt={class:"modal-header"},btt={class:"modal-title",id:"modalCenterTitle"},ytt={class:"d-flex"},ktt=["href"],$tt=["href"],wtt={class:"modal-body"},Dtt={class:"d-flex justify-content-between"},Ctt={class:"mb-3 w-50"},xtt={class:"d-flex justify-content-between"},Ptt={class:"fw-light my-auto"},Ett={class:"fw-bold mx-2 my-auto"},Att={class:"d-flex justify-content-between"},Itt={class:"fw-light my-auto"},Rtt={class:"fw-bold mx-2 my-auto"},Stt={class:"d-flex justify-content-between"},Ttt={class:"fw-light my-auto"},jtt={class:"fw-bold mx-2 my-auto"},Ott={class:"d-flex justify-content-between"},Mtt={class:"fw-light my-auto"},Ltt={key:0,class:"d-flex justify-content-between"},Ntt={class:"fw-light my-auto"},Ftt={class:"fw-bold mx-2 my-auto"},Ytt={class:"mb-3"},Vtt={class:"d-flex justify-content-between"},Btt={class:"my-auto fw-light"},Utt={class:"fw-bold mx-2 my-auto"},qtt={class:"d-flex justify-content-between"},Htt={class:"my-auto fw-light"},ztt={class:"fw-bold mx-2 my-auto"},Wtt={class:"d-flex justify-content-between"},Ktt={class:"my-auto fw-light"},Gtt={class:"fw-bold mx-2 my-auto"},Qtt={class:"d-flex justify-content-between"},Ztt={class:"my-auto fw-light"},Jtt={class:"fw-bold text-success mx-2 my-auto"},Xtt={class:"table-responsive"},eot={class:"table"},tot={class:"bg-label-secondary px-2"},oot={class:"d-flex justify-content-end"},aot={class:"mx-2 my-auto py-1"},not={class:"text-success my-auto py-1"},sot=["id"],lot={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iot={class:"modal-content"},rot={class:"modal-header"},dot={class:"modal-title",id:"modalCenterTitle"},cot=["id"],uot=["id"],_ot={class:"modal-body"},mot={key:0},fot={class:"form-group"},hot={for:"Sub total",class:"form-label"},pot={class:"form-label"},vot=["value"],got=["value"],bot={class:"form-group"},yot={for:"Sub total",class:"form-label"},kot=["value"],$ot={key:1},wot={class:"d-flex justify-content-between"},Dot={class:"modal-footer"},Cot={class:"btn btn-primary",type:"submit"},xot=["id"],Pot={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Eot={class:"modal-content"},Aot={class:"modal-header"},Iot={class:"modal-title"},Rot=["id"],Sot=["id"],Tot={class:"modal-body"},jot={class:"form-group"},Oot={for:"Sub total",class:"form-label"},Mot={key:0},Lot={for:""},Not=["onUpdate:modelValue"],Fot={key:1},Yot={for:""},Vot=["onUpdate:modelValue"],Bot={class:"form-group"},Uot={for:"Sub total",class:"form-label"},qot={key:0,class:"mt-2"},Hot={class:"text-sm"},zot={class:"mx-2 my-auto py-1"},Wot={key:0,class:"text-success my-auto py-1"},Kot={key:1,class:"text-success my-auto py-1"},Got={class:"modal-footer"},Qot={class:"btn btn-primary",type:"submit"},Zot=["id"],Jot={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Xot={class:"modal-content"},eat={class:"modal-header"},tat={class:"modal-title",id:"modalCenterTitle"},oat={class:"modal-body"},aat={class:"table"},nat={class:""},sat=["id"],lat={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},iat={class:"modal-content"},rat={class:"modal-header"},dat={class:"modal-title",id:"modalCenterTitle"},cat={class:"modal-body"},uat={key:0,class:"d-flex"},_at={class:"text-success",style:{"font-weight":"800"}},mat={class:"text-danger",style:{"font-weight":"800"}},fat={key:0,class:"d-flex"},hat={class:"text-success",style:{"font-weight":"800"}},pat={key:1,class:""};function vat(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",kJe,[e("div",$Je,[e("div",wJe,[e("div",DJe,[e("label",CJe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",xJe,[e("label",PJe,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",EJe,[e("label",AJe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[24]||(a[24]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",IJe,[e("label",RJe,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",SJe,[e("label",TJe,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",jJe,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",OJe,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",MJe,n(o.$t("Approved")),1),e("option",LJe,n(o.$t("Disbursed")),1),e("option",NJe,n(o.$t("Rejected")),1),e("option",FJe,n(o.$t("Overdue")),1),e("option",YJe,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",VJe,[e("label",BJe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",UJe,n(o.$t("Pending")),1),e("option",qJe,n(o.$t("Submitted")),1),e("option",HJe,n(o.$t("Financed")),1),e("option",zJe,n(o.$t("Closed")),1)],512),[[re,t.financing_status_search]])]),e("div",WJe,[e("label",KJe,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",GJe,n(o.$t("Sort By")),1),e("option",QJe,n(o.$t("PO No. (ASC)")),1),e("option",ZJe,n(o.$t("PO No. (DESC)")),1),e("option",JJe,n(o.$t("Invoice No. (ASC)")),1),e("option",XJe,n(o.$t("Invoice No. (DESC)")),1),e("option",eXe,n(o.$t("Due Date. (ASC)")),1),e("option",tXe,n(o.$t("Due Date. (DESC)")),1),e("option",oXe,n(o.$t("Invoice Amount. (ASC)")),1),e("option",aXe,n(o.$t("Invoice Amount. (DESC)")),1),e("option",nXe,n(o.$t("Buyer. (ASC)")),1),e("option",sXe,n(o.$t("Buyer. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",lXe,[e("label",iXe,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",rXe,n(o.$t("Bulk Actions")),1),e("option",dXe,n(o.$t("Approve")),1),e("option",cXe,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",uXe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_Xe,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",mXe,n(o.$t("Approve")),1),e("div",fXe,[e("div",hXe,[e("div",pXe,[e("div",vXe,[e("h5",gXe,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",bXe,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",yXe,[e("table",kXe,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",$Xe,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",wXe,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",DXe,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,CXe)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",xXe,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",PXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,EXe),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",AXe,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",IXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,RXe),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",SXe,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",TXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,jXe),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",OXe,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",MXe,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,LXe)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",NXe,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,FXe)])],32)):b("",!0)])])]),e("button",YXe,n(o.$t("Reject")),1),e("div",VXe,[e("div",BXe,[e("div",UXe,[e("div",qXe,[e("h5",HXe,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",zXe,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",WXe,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",KXe,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,GXe)])],32)])])])]),e("div",QXe,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},a[31]||(a[31]=[e("i",{class:"ti ti-download ti-xs"},null,-1)]))])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",ZXe,[e("table",JXe,[e("thead",null,[e("tr",null,[e("th",XXe,[e("div",eet,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1),a[32]||(a[32]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",tet,[e("td",oet,[e("span",aet,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",net,[e("td",set,[e("span",iet,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",ret,[!i.buyer&&i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved?(u(),f("div",det,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,cet)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("div",uet,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,_et)])):b("",!0)]),e("td",null,n(i.buyer?i.buyer:i.company),1),i.purchase_order_number?(u(),f("td",met,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,fet)])):(u(),f("td",het,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",vet,n(i.invoice_number),1)],8,pet),e("td",get,[le(n(i.currency)+" ",1),e("span",bet,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",yet,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",ket,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",$et,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",wet,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Det,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",Cet,[e("div",xet,[a[34]||(a[34]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Pet),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Eet),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,Aet),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Iet),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,Ret),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,Tet),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,jet),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,Oet),a[35]||(a[35]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Met,[e("div",Let,[e("div",Net,[e("div",Fet,[e("div",Yet,[e("span",null,n(o.$t("Loading"))+"...",1),a[33]||(a[33]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Vet,[e("li",Bet,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,Uet)]),i.can_edit?(u(),f("li",qet,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,Het)])):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",Wet,n(o.$t("Approve")),1)],8,zet)):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",Ket,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,Get)])):b("",!0),i.buyer?b("",!0):(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",Zet,n(o.$t("Checker Approvals")),1)],8,Qet)),!i.buyer&&i.authorization_group?(u(),f("li",{key:4,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",Xet,n(o.$t("Authorization Matrix")),1)],8,Jet)):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",ett,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,ttt)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",ott,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,att)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",stt,[e("div",ltt,[e("div",itt,[e("h5",rtt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,dtt)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",utt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",_tt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",mtt,[e("button",ftt,n(o.$t("Confirm")),1)])],40,ctt)])])],8,ntt),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",ptt,[e("div",vtt,[e("div",gtt,[e("h5",btt,n(o.$t("Purchase Order")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",ytt,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[36]||(a[36]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,ktt)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[37]||(a[37]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,$tt)):b("",!0)])]),e("div",wtt,[e("div",Dtt,[e("div",Ctt,[e("span",xtt,[e("h5",Ptt,n(o.$t("Vendor"))+":",1),e("h6",Ett,n(t.purchase_order_details.company.name),1)]),e("span",Att,[e("h5",Itt,n(o.$t("Delivery Address"))+":",1),e("h6",Rtt,n(t.purchase_order_details.delivery_address),1)]),e("span",Stt,[e("h5",Ttt,n(o.$t("Remarks"))+":",1),e("h6",jtt,n(t.purchase_order_details.remarks),1)]),e("span",Ott,[e("h5",Mtt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",Ltt,[e("h5",Ntt,n(o.$t("Rejection Reason"))+":",1),e("h6",Ftt,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Ytt,[e("span",Vtt,[e("h5",Btt,n(o.$t("PO No"))+":",1),e("h6",Utt,n(t.purchase_order_details.purchase_order_number),1)]),e("span",qtt,[e("h5",Htt,n(o.$t("Start Date"))+":",1),e("h6",ztt,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",Wtt,[e("h5",Ktt,n(o.$t("End Date"))+":",1),e("h6",Gtt,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",Qtt,[e("h5",Ztt,n(o.$t("PO Amount"))+":",1),e("h6",Jtt,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",Xtt,[e("table",eot,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",tot,[e("span",oot,[e("h6",aot,n(o.$t("Total")),1),e("h5",not,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,htt)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",lot,[e("div",iot,[e("div",rot,[e("h5",dot,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,cot)]),e("form",{onSubmit:a[18]||(a[18]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"view-fees-"+t.invoice_details.id},[e("div",_ot,[t.invoice_details.invoice_fees.length>0?(u(),f("div",mot,[a[39]||(a[39]=e("div",{class:"d-flex justify-content-between"},[e("div")],-1)),e("div",fot,[e("label",hot,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",pot,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,vot)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,got))]))),128)),e("div",bot,[e("label",yot,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,kot)])])):(u(),f("div",$ot,[e("div",wot,[e("div",null,[e("span",null,n(o.$t("Fees not set for invoice "+t.invoice_details.invoice_number)),1)])])]))]),e("div",Dot,[e("button",Cot,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve Invoice")),1)])],40,uot)])])],8,sot)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Pot,[e("div",Eot,[e("div",Aot,[e("h5",Iot,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,Rot)]),e("form",{onSubmit:a[23]||(a[23]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",Tot,[e("div",jot,[e("label",Oot,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[19]||(a[19]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",Mot,[e("label",Lot,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,Not),[[Q,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",Fot,[e("label",Yot,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,Vot),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",Bot,[e("label",Uot,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[22]||(a[22]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",qot,[e("h5",Hot,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",zot,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",Wot," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",Kot,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",Got,[e("button",Qot,n(o.$t("Submit")),1)])],40,Sot)])])],8,xot)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Jot,[e("div",Xot,[e("div",eat,[e("h5",tat,n(o.$t("Checker Approval(s)")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",oat,[e("table",aat,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(i,d)?(u(),f(W,{key:0},[e("td",nat,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,Zot)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",lat,[e("div",iat,[e("div",rat,[e("h5",dat,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[41]||(a[41]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",cat,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(i,d.user)?(u(),f("div",uat,[e("span",_at,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[42]||(a[42]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",mat,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(i,d.user)?(u(),f("div",fat,[e("span",hat,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",pat,n(d.user.name),1))]))),128))])])])],8,sat)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const gat=Ue(yJe,[["render",vat]]),bat={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"dealer/purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let I="";switch(P){case"Pending Checker Approval":I="bg-label-warning";break;case"pending Maker":I="bg-label-primary";break;case"Pending Checker":I="bg-label-warning";break;case"Accepted":I="bg-label-success";break;case"Invoiced":I="bg-label-secondary";break;case"Rejected":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},k=async(P,I)=>{m.value=!1,await A.post(`${a}dealer/purchase-orders/status/update`,{purchase_order_id:P,status:I,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),x()}).catch(S=>{console.log(S),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{x()}),ot([c],([P])=>{A.get(a+"dealer/purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}),ot(v,P=>{g.value.length>0?(C.value=[],P=="approve"&&(g.value.forEach(I=>{C.value.push(s.value.data.filter(S=>S.id==I)[0])}),y.value.click()),P=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,exportReport:()=>{A.get(a+"dealer/purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Purchase_Orders_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"dealer/purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"dealer/purchase-orders/data?per_page="+c.value).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let I;if(!g.value.filter(function(F,N){I=N,F==P.id}))return!1;g.value.splice(I,1)}})},updateSelected:P=>{if(g.value.includes(P)){const I=g.value.indexOf(P);g.value.splice(I,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const I=new FormData;g.value.forEach(S=>{I.append("purchase_orders[]",S)}),P=="approve"&&I.append("status","accepted"),P=="reject"&&(I.append("status","rejected"),I.append("rejection_reason",t.value)),A.post(a+"dealer/purchase-orders/bulk/approve",I).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(S=>{console.log(S),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}}}},yat={class:""},kat={class:"d-flex justify-content-between"},$at={class:"d-flex flex-wrap gap-1"},wat={class:""},Dat={for:"Buyer",class:"form-label"},Cat={class:""},xat={for:"PO No",class:"form-label"},Pat={class:""},Eat={class:"form-label",for:""},Aat={class:""},Iat={for:"Status",class:"form-label"},Rat={value:""},Sat={value:"pending"},Tat={value:"approved"},jat={value:"invoiced"},Oat={value:"rejected"},Mat={class:""},Lat={for:"Bulk Actions",class:"form-label"},Nat={value:""},Fat={value:"approve"},Yat={value:"reject"},Vat={class:"table-search-btn"},Bat={class:"table-clear-btn"},Uat={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},qat={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Hat={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},zat={class:"modal-content"},Wat={class:"modal-header"},Kat={class:"modal-title",id:"modalCenterTitle"},Gat={class:"modal-body"},Qat={class:"modal-footer"},Zat={class:"btn btn-primary",type:"submit"},Jat={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},Xat={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},ent={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tnt={class:"modal-content"},ont={class:"modal-header"},ant={class:"modal-title",id:"modalCenterTitle"},nnt={class:"modal-body"},snt={class:"row mb-1"},lnt={class:"form-group"},int={for:""},rnt={class:"modal-footer"},dnt={class:"btn btn-primary",type:"submit"},cnt={class:"d-flex mt-auto"},unt={class:""},_nt={class:"table-responsive"},mnt={class:"table dt-invoices"},fnt={class:"form-check"},hnt={key:0},pnt={colspan:"12",class:"text-center"},vnt={class:"text-center"},gnt={key:1},bnt={colspan:"12",class:"text-center"},ynt={class:"text-center"},knt={class:"form-check"},$nt=["id","onChange"],wnt=["data-bs-target"],Dnt={class:"text-success"},Cnt={class:"text-success"},xnt={class:""},Pnt={class:""},Ent={class:""},Ant={class:"d-inline-block"},Int={class:"dropdown-menu dropdown-menu-end m-0"},Rnt=["onClick"],Snt={class:"dropdown-item badge bg-label-success"},Tnt={key:1},jnt=["data-bs-target"],Ont={key:2,class:""},Mnt=["href"],Lnt={key:3,class:"dropdown-item badge bg-label-secondary"},Nnt=["href"],Fnt=["id"],Ynt={class:"modal-dialog modal-md",role:"document"},Vnt=["onSubmit"],Bnt={class:"modal-content"},Unt={class:"modal-header"},qnt={class:"modal-title",id:"modalCenterTitle"},Hnt={class:"modal-body"},znt={class:"form-label"},Wnt={class:"form-group"},Knt={class:"modal-footer"},Gnt={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},Qnt=["disabled"],Znt=["id"],Jnt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Xnt={class:"modal-content"},est={class:"modal-header"},tst={class:"modal-title",id:"modalCenterTitle"},ost={class:"d-flex"},ast=["href"],nst={class:"modal-body"},sst={class:"d-flex justify-content-between"},lst={class:"mb-3 w-25"},ist={class:"d-flex justify-content-between"},rst={class:"fw-light my-auto"},dst={class:"fw-bold mx-2 my-auto"},cst={class:"d-flex justify-content-between"},ust={class:"fw-light my-auto"},_st={class:"fw-bold mx-2 my-auto"},mst={class:"d-flex justify-content-between"},fst={class:"fw-light my-auto"},hst={class:"fw-bold mx-2 my-auto"},pst={class:"d-flex justify-content-between"},vst={class:"fw-light my-auto"},gst={key:0,class:"d-flex justify-content-between"},bst={class:"fw-light my-auto"},yst={class:"fw-bold mx-2 my-auto"},kst={class:"mb-3"},$st={class:"d-flex justify-content-between"},wst={class:"my-auto fw-light"},Dst={class:"fw-bold mx-2 my-auto"},Cst={class:"d-flex justify-content-between"},xst={class:"my-auto fw-light"},Pst={class:"fw-bold mx-2 my-auto"},Est={class:"d-flex justify-content-between"},Ast={class:"my-auto fw-light"},Ist={class:"fw-bold mx-2 my-auto"},Rst={class:"d-flex justify-content-between"},Sst={class:"my-auto fw-light"},Tst={class:"fw-bold text-success mx-2 my-auto"},jst={class:"table-responsive"},Ost={class:"table"},Mst={class:"bg-label-secondary px-2"},Lst={class:"d-flex justify-content-end"},Nst={class:"mx-2 my-auto py-1"},Fst={class:"text-success my-auto py-1"};function Yst(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",yat,[e("div",kat,[e("div",$at,[e("div",wat,[e("label",Dat,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.anchor_search]])]),e("div",Cat,[e("label",xat,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.po_search]])]),e("div",Pat,[e("label",Eat,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Aat,[e("label",Iat,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",Rat,n(o.$t("Status")),1),e("option",Sat,n(o.$t("Pending")),1),e("option",Tat,n(o.$t("Accepted")),1),e("option",jat,n(o.$t("Invoiced")),1),e("option",Oat,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",Mat,[e("label",Lat,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",Nat,n(o.$t("Bulk Actions")),1),e("option",Fat,n(o.$t("Accept")),1),e("option",Yat,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",Vat,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Bat,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",Uat,null,512),e("div",qat,[e("div",Hat,[e("div",zat,[e("div",Wat,[e("h5",Kat,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Gat,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",Qat,[e("button",Zat,n(o.$t("Submit")),1)])],32)])])]),e("button",Jat,null,512),e("div",Xat,[e("div",ent,[e("div",tnt,[e("div",ont,[e("h5",ant,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",nnt,[e("div",snt,[e("div",lnt,[e("label",int,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",rnt,[e("button",dnt,n(o.$t("Submit")),1)])],32)])])])]),e("div",cnt,[e("div",unt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",_nt,[e("table",mnt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",fnt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",hnt,[e("td",pnt,[e("span",vnt,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",gnt,[e("td",bnt,[e("span",ynt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",knt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,$nt)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,wnt),e("td",Dnt,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",Cnt,n(l.purchase_order_items.length),1),e("td",xnt,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",Pnt,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",Ent,[e("div",Ant,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Int,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",Snt,n(o.$t("Accept")),1)],8,Rnt)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",Tnt,[e("span",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,jnt)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",Ont,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,Mnt)])):b("",!0),l.attachment?(u(),f("li",Lnt,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,Nnt)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Ynt,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",Bnt,[e("div",Unt,[e("h5",qnt,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Hnt,[e("label",znt,n(o.$t("Rejection Reason")),1),e("div",Wnt,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",Knt,[e("button",Gnt,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,Qnt)])])],40,Vnt)])],8,Fnt),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Jnt,[e("div",Xnt,[e("div",est,[e("h5",tst,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",ost,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,ast)):b("",!0)])]),e("div",nst,[e("div",sst,[e("div",lst,[e("span",ist,[e("h5",rst,n(o.$t("Buyer"))+":",1),e("h6",dst,n(l.anchor.name),1)]),e("span",cst,[e("h5",ust,n(o.$t("Delivery Address"))+":",1),e("h6",_st,n(l.delivery_address),1)]),e("span",mst,[e("h5",fst,n(o.$t("Remarks"))+":",1),e("h6",hst,n(l.remarks),1)]),e("span",pst,[e("h5",vst,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",gst,[e("h5",bst,n(o.$t("Rejection Reason"))+":",1),e("h6",yst,n(l.rejection_reason),1)])):b("",!0)]),e("div",kst,[e("span",$st,[e("h5",wst,n(o.$t("PO No"))+":",1),e("h6",Dst,n(l.purchase_order_number),1)]),e("span",Cst,[e("h5",xst,n(o.$t("Start Date"))+":",1),e("h6",Pst,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",Est,[e("h5",Ast,n(o.$t("End Date"))+":",1),e("h6",Ist,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",Rst,[e("h5",Sst,n(o.$t("PO Amount"))+":",1),e("h6",Tst,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",jst,[e("table",Ost,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",Mst,[e("span",Lst,[e("h6",Nst,n(o.$t("Total")),1),e("h5",Fst,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,Znt)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Vst=Ue(bat,[["render",Yst]]),Bst={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let I="";switch(P){case"Pending Checker Approval":I="bg-label-warning";break;case"pending Maker":I="bg-label-primary";break;case"Pending Checker":I="bg-label-warning";break;case"Accepted":I="bg-label-success";break;case"Invoiced":I="bg-label-secondary";break;case"Rejected":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},k=async(P,I)=>{m.value=!1,await A.post(`${a}dealer/purchase-orders/status/update`,{purchase_order_id:P,status:I,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(S=>{console.log(S),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{x()}),ot([c],([P])=>{A.get(a+"dealer/purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}),ot(v,P=>{g.value.length>0?(C.value=[],P=="approve"&&(g.value.forEach(I=>{C.value.push(s.value.data.filter(S=>S.id==I)[0])}),y.value.click()),P=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,exportReport:()=>{A.get(a+"dealer/purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Purchase_orders_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let I;if(!g.value.filter(function(F,N){I=N,F==P.id}))return!1;g.value.splice(I,1)}})},updateSelected:P=>{if(g.value.includes(P)){const I=g.value.indexOf(P);g.value.splice(I,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const I=new FormData;g.value.forEach(S=>{I.append("purchase_orders[]",S)}),P=="approve"&&I.append("status","accepted"),P=="reject"&&(I.append("status","rejected"),I.append("rejection_reason",t.value)),A.post(a+"dealer/purchase-orders/bulk/approve",I).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(S=>{console.log(S),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(I=>{s.value=I.data.purchase_orders}).catch(I=>{console.log(I)})}}}},Ust={class:""},qst={class:"d-flex justify-content-between"},Hst={class:"d-flex flex-wrap gap-1"},zst={class:""},Wst={for:"Buyer",class:"form-label"},Kst={class:""},Gst={for:"PO No",class:"form-label"},Qst={class:""},Zst={class:"form-label",for:""},Jst={class:""},Xst={for:"Status",class:"form-label"},elt={value:""},tlt={value:"pending"},olt={value:"approved"},alt={value:"invoiced"},nlt={value:"rejected"},slt={class:""},llt={for:"Bulk Actions",class:"form-label"},ilt={value:""},rlt={value:"approve"},dlt={value:"reject"},clt={class:"table-search-btn"},ult={class:"table-clear-btn"},_lt={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},mlt={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},flt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},hlt={class:"modal-content"},plt={class:"modal-header"},vlt={class:"modal-title",id:"modalCenterTitle"},glt={class:"modal-body"},blt={class:"modal-footer"},ylt={class:"btn btn-primary",type:"submit"},klt={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},$lt={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},wlt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Dlt={class:"modal-content"},Clt={class:"modal-header"},xlt={class:"modal-title",id:"modalCenterTitle"},Plt={class:"modal-body"},Elt={class:"row mb-1"},Alt={class:"form-group"},Ilt={for:""},Rlt={class:"modal-footer"},Slt={class:"btn btn-primary",type:"submit"},Tlt={class:"d-flex mt-auto"},jlt={class:""},Olt={class:"table-responsive"},Mlt={class:"table dt-invoices"},Llt={class:"form-check"},Nlt={key:0},Flt={colspan:"12",class:"text-center"},Ylt={class:"text-center"},Vlt={key:1},Blt={colspan:"12",class:"text-center"},Ult={class:"text-center"},qlt={class:"form-check"},Hlt=["id","onChange"],zlt=["data-bs-target"],Wlt={class:"text-success"},Klt={class:"text-success"},Glt={class:""},Qlt={class:""},Zlt={class:""},Jlt={class:"d-inline-block"},Xlt={class:"dropdown-menu dropdown-menu-end m-0"},eit=["onClick"],tit={class:"dropdown-item badge bg-label-success"},oit={key:1},ait=["data-bs-target"],nit={key:2,class:""},sit=["href"],lit={key:3,class:"dropdown-item badge bg-label-secondary"},iit=["href"],rit=["id"],dit={class:"modal-dialog modal-md",role:"document"},cit=["onSubmit"],uit={class:"modal-content"},_it={class:"modal-header"},mit={class:"modal-title",id:"modalCenterTitle"},fit={class:"modal-body"},hit={class:"form-label"},pit={class:"form-group"},vit={class:"modal-footer"},git={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},bit=["disabled"],yit=["id"],kit={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},$it={class:"modal-content"},wit={class:"modal-header"},Dit={class:"modal-title",id:"modalCenterTitle"},Cit={class:"d-flex"},xit=["href"],Pit={class:"modal-body"},Eit={class:"d-flex justify-content-between"},Ait={class:"mb-3 w-25"},Iit={class:"d-flex justify-content-between"},Rit={class:"fw-light my-auto"},Sit={class:"fw-bold mx-2 my-auto"},Tit={class:"d-flex justify-content-between"},jit={class:"fw-light my-auto"},Oit={class:"fw-bold mx-2 my-auto"},Mit={class:"d-flex justify-content-between"},Lit={class:"fw-light my-auto"},Nit={class:"fw-bold mx-2 my-auto"},Fit={class:"d-flex justify-content-between"},Yit={class:"fw-light my-auto"},Vit={key:0,class:"d-flex justify-content-between"},Bit={class:"fw-light my-auto"},Uit={class:"fw-bold mx-2 my-auto"},qit={class:"mb-3"},Hit={class:"d-flex justify-content-between"},zit={class:"my-auto fw-light"},Wit={class:"fw-bold mx-2 my-auto"},Kit={class:"d-flex justify-content-between"},Git={class:"my-auto fw-light"},Qit={class:"fw-bold mx-2 my-auto"},Zit={class:"d-flex justify-content-between"},Jit={class:"my-auto fw-light"},Xit={class:"fw-bold mx-2 my-auto"},ert={class:"d-flex justify-content-between"},trt={class:"my-auto fw-light"},ort={class:"fw-bold text-success mx-2 my-auto"},art={class:"table-responsive"},nrt={class:"table"},srt={class:"bg-label-secondary px-2"},lrt={class:"d-flex justify-content-end"},irt={class:"mx-2 my-auto py-1"},rrt={class:"text-success my-auto py-1"};function drt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Ust,[e("div",qst,[e("div",Hst,[e("div",zst,[e("label",Wst,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.anchor_search]])]),e("div",Kst,[e("label",Gst,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[Q,t.po_search]])]),e("div",Qst,[e("label",Zst,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",Jst,[e("label",Xst,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",elt,n(o.$t("Status")),1),e("option",tlt,n(o.$t("Pending")),1),e("option",olt,n(o.$t("Accepted")),1),e("option",alt,n(o.$t("Invoiced")),1),e("option",nlt,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",slt,[e("label",llt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",ilt,n(o.$t("Bulk Actions")),1),e("option",rlt,n(o.$t("Accept")),1),e("option",dlt,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",clt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ult,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",_lt,null,512),e("div",mlt,[e("div",flt,[e("div",hlt,[e("div",plt,[e("h5",vlt,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",glt,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",blt,[e("button",ylt,n(o.$t("Submit")),1)])],32)])])]),e("button",klt,null,512),e("div",$lt,[e("div",wlt,[e("div",Dlt,[e("div",Clt,[e("h5",xlt,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Plt,[e("div",Elt,[e("div",Alt,[e("label",Ilt,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",Rlt,[e("button",Slt,n(o.$t("Submit")),1)])],32)])])])]),e("div",Tlt,[e("div",jlt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Olt,[e("table",Mlt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",Llt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",Nlt,[e("td",Flt,[e("span",Ylt,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",Vlt,[e("td",Blt,[e("span",Ult,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",qlt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Hlt)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,zlt),e("td",Wlt,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",Klt,n(l.purchase_order_items.length),1),e("td",Glt,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",Qlt,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",Zlt,[e("div",Jlt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Xlt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",tit,n(o.$t("Accept")),1)],8,eit)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",oit,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},"Reject",8,ait)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",nit,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},"Convert to Invoice",8,sit)])):b("",!0),l.attachment?(u(),f("li",lit,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,iit)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",dit,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",uit,[e("div",_it,[e("h5",mit,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",fit,[e("label",hit,n(o.$t("Rejection Reason")),1),e("div",pit,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",vit,[e("button",git,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,bit)])])],40,cit)])],8,rit),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",kit,[e("div",$it,[e("div",wit,[e("h5",Dit,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Cit,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,xit)):b("",!0)])]),e("div",Pit,[e("div",Eit,[e("div",Ait,[e("span",Iit,[e("h5",Rit,n(o.$t("Buyer"))+":",1),e("h6",Sit,n(l.anchor.name),1)]),e("span",Tit,[e("h5",jit,n(o.$t("Delivery Address"))+":",1),e("h6",Oit,n(l.delivery_address),1)]),e("span",Mit,[e("h5",Lit,n(o.$t("Remarks"))+":",1),e("h6",Nit,n(l.remarks),1)]),e("span",Fit,[e("h5",Yit,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",Vit,[e("h5",Bit,n(o.$t("Rejection Reason"))+":",1),e("h6",Uit,n(l.rejection_reason),1)])):b("",!0)]),e("div",qit,[e("span",Hit,[e("h5",zit,n(o.$t("PO No"))+":",1),e("h6",Wit,n(l.purchase_order_number),1)]),e("span",Kit,[e("h5",Git,n(o.$t("Start Date"))+":",1),e("h6",Qit,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",Zit,[e("h5",Jit,n(o.$t("End Date"))+":",1),e("h6",Xit,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",ert,[e("h5",trt,n(o.$t("PO Amount"))+":",1),e("h6",ort,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",art,[e("table",nrt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",srt,[e("span",lrt,[e("h6",irt,n(o.$t("Total")),1),e("h5",rrt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,yit)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const crt=Ue(Bst,[["render",drt]]),urt={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),D=async()=>{await A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value}}).then(O=>{s.value=O.data.invoices}).catch(O=>{console.log(O)})},y=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+O+"/details").then(R=>{v.value=R.data,g.value++,bt(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})};Qe(()=>{D()});const C=O=>{let L="";switch(O){case"created":L="bg-label-secondary";break;case"pending":L="bg-label-primary";break;case"submitted":L="bg-label-primary";break;case"approved":L="bg-label-success";break;case"disbursed":L="bg-label-success";break;case"denied":L="bg-label-danger";break;case"Rejected":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},x=O=>{let L="";switch(O){case"pending":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},E=(O,L)=>(L/O*100).toFixed(2);return ot([t],([O])=>{A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:O}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,buyer_search:_,from_date_search:l,to_date_search:r,status_search:i,financing_status_search:d,invoice_details:v,invoice_details_key:g,changePage:async O=>{await A.get(O,{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{s.value=L.data.invoices})},resolveFinancingStatus:x,resolveStatus:C,getTaxPercentage:E,exportReport:()=>{A.get(c+"dealer/reports/report/factoring-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},exportPdfReport:()=>{A.get(c+"reports/dealer-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},refresh:()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},showInvoice:y}}},_rt={class:"card p-1"},mrt={class:"d-flex justify-content-between"},frt={class:"d-flex flex-wrap gap-1"},hrt={class:""},prt={for:"Invoice No",class:"form-label"},vrt={class:""},grt={for:"Invoice No",class:"form-label"},brt={class:""},yrt={class:"form-label",for:""},krt={class:""},$rt={for:"Status",class:"form-label"},wrt={value:""},Drt={value:"pending"},Crt={value:"pending_maker"},xrt={value:"pending_checker"},Prt={value:"approved"},Ert={value:"rejected"},Art={value:"past_due"},Irt={value:"expired"},Rrt={class:""},Srt={for:"Financing Status",class:"form-label"},Trt={value:""},jrt={value:"pending"},Ort={value:"submitted"},Mrt={value:"financed"},Lrt={value:"disbursed"},Nrt={value:"closed"},Frt={value:"rejected"},Yrt={class:"table-search-btn"},Vrt={class:"table-clear-btn"},Brt={class:"d-flex align-items-end mt-auto"},Urt={class:"mx-1"},qrt={class:"table-responsive"},Hrt={class:"table"},zrt={class:"table-border-bottom-0"},Wrt={key:0},Krt={colspan:"12",class:"text-center"},Grt={class:"text-center"},Qrt={key:1},Zrt={colspan:"12",class:"text-center"},Jrt={class:"text-center"},Xrt=["onClick"],edt={class:"me-1"},tdt={class:"text-success text-nowrap"},odt={key:0},adt={key:1},ndt=["id","data-bs-target"],sdt=["id","data-bs-target"],ldt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},idt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},rdt={class:"modal-content"},ddt={class:"modal-body"},cdt={class:"d-flex justify-content-center"};function udt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",_rt,[e("div",mrt,[e("div",frt,[e("div",hrt,[e("label",prt,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.buyer_search]])]),e("div",vrt,[e("label",grt,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",brt,[e("label",yrt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",krt,[e("label",$rt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",wrt,n(o.$t("Status")),1),e("option",Drt,n(o.$t("Pending (Internal Approval)")),1),e("option",Crt,n(o.$t("Pending Maker")),1),e("option",xrt,n(o.$t("Pending Checker")),1),e("option",Prt,n(o.$t("Approved")),1),e("option",Ert,n(o.$t("Rejected")),1),e("option",Art,n(o.$t("Overdue")),1),e("option",Irt,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",Rrt,[e("label",Srt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",Trt,n(o.$t("Finanicing Status")),1),e("option",jrt,n(o.$t("Pending")),1),e("option",Ort,n(o.$t("Submitted")),1),e("option",Mrt,n(o.$t("Financed")),1),e("option",Lrt,n(o.$t("Disbursed")),1),e("option",Nrt,n(o.$t("Closed")),1),e("option",Frt,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",Yrt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Vrt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),a[14]||(a[14]=e("div",{class:"my-auto"},null,-1))]),e("div",Brt,[e("div",Urt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i),style:{width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qrt,[e("table",Hrt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1)])]),e("tbody",zrt,[t.invoices.data?b("",!0):(u(),f("tr",Wrt,[e("td",Krt,[e("span",Grt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Qrt,[e("td",Zrt,[e("span",Jrt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Xrt),e("td",null,[e("span",edt,n(i.company),1)]),e("td",tdt,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",odt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",adt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,ndt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,sdt),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ldt,[e("div",idt,[e("div",rdt,[e("div",ddt,[e("div",cdt,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const nD=Ue(urt,[["render",udt]]),_dt={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:g}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/factoring-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},mdt={class:"card p-2"},fdt={class:"d-flex justify-content-between"},hdt={class:"d-flex flex-wrap"},pdt={class:""},vdt={for:"Program Code",class:"form-label"},gdt={class:"mx-1"},bdt={for:"Buyer",class:"form-label"},ydt={class:"mx-1 table-search-btn"},kdt={class:"mx-1 table-clear-btn"},$dt={class:"d-flex align-items-end"},wdt={class:"table-responsive"},Ddt={class:"table"},Cdt={class:"text-nowrap"},xdt={class:"table-border-bottom-0"},Pdt={key:0},Edt={colspan:"12",class:"text-center"},Adt={class:"text-center"},Idt={key:1},Rdt={colspan:"12",class:"text-center"},Sdt={class:"text-center"},Tdt={class:""},jdt={class:"me-1"},Odt={class:"text-success"},Mdt={class:"text-success"},Ldt={class:"text-success"},Ndt={class:"text-success"};function Fdt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",mdt,[e("div",fdt,[e("div",hdt,[e("div",pdt,[e("label",vdt,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.loan_od_account_search]])]),e("div",gdt,[e("label",bdt,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.buyer_search]])]),e("div",ydt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",kdt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",$dt,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",wdt,[e("table",Ddt,[e("thead",null,[e("tr",Cdt,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",xdt,[t.programs.data?b("",!0):(u(),f("tr",Pdt,[e("td",Edt,[e("span",Adt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Idt,[e("td",Rdt,[e("span",Sdt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",Tdt,n(l.payment_account_number),1),e("td",null,[e("span",jdt,n(l.buyer_name),1)]),e("td",Odt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Mdt,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Ldt,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Ndt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Ydt=Ue(_dt,[["render",Fdt]]),Vdt={name:"PaymentsReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(null),y=h(null),C=h(""),x=h(""),E=h(0),k=()=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(F=>{s.value=F.data.payments}).catch(F=>{console.log(F)})},w=async(F,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+F+"/details").then(U=>{D.value=U.data,E.value++,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})},T=async(F,N)=>{await A.get(c+"factoring/purchase-orders/"+F+"/show").then(U=>{y.value=U.data,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})};Qe(()=>{k()});const V=F=>{let N="";switch(F){case"created":N="bg-label-secondary";break;case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-primary";break;case"approved":N="bg-label-secondary";break;case"disbursed":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},B=F=>{let N="";switch(F){case"pending":N="bg-label-primary";break;case"financed":N="bg-label-success";break;case"closed":N="bg-label-secondary";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},O=(F,N)=>(N/F*100).toFixed(2);return ot(t,([F])=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:F,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)})}),{moment:H,payments:s,per_page:t,invoice_number_search:m,buyer_search:_,po_search:l,from_date_search:r,to_date_search:i,from_disbursement_date_search:d,to_disbursement_date_search:p,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,getTaxPercentage:O,changePage:async F=>{await A.get(F,{params:{per_page:t.value,buyer:_.value,invoice_number:m.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)})},exportPdfReport:()=>{A.get(c+"reports/factoring-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)})},filter:()=>{C.value=$("#date_search").val(),C.value&&(r.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#disbursement_date_search").val(),x.value&&(d.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let F=$(".ti-search").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},refresh:()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",C.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-refresh"></i>')})},invoice_details:D,purchase_order_details:y,showInvoice:w,showPurchaseOrder:T,show_invoice_key:E}}},Bdt={class:"card p-1"},Udt={class:"d-flex justify-content-between"},qdt={class:"d-flex flex-wrap gap-1"},Hdt={class:""},zdt={for:"Buyer",class:"form-label"},Wdt={class:""},Kdt={for:"Invoice No",class:"form-label"},Gdt={class:""},Qdt={for:"PO No",class:"form-label"},Zdt={class:""},Jdt={class:"form-label",for:""},Xdt={class:""},ect={class:"form-label",for:""},tct={class:""},oct={for:"Financing Status",class:"form-label"},act={value:""},nct={value:"disbursed"},sct={value:"closed"},lct={class:"table-search-btn"},ict={class:"table-clear-btn"},rct={class:"d-flex align-items-end"},dct={class:"table-responsive"},cct={class:"table"},uct={class:""},_ct={class:"table-border-bottom-0"},mct={key:0},fct={colspan:"12",class:"text-center"},hct={class:"text-center"},pct={key:1},vct={colspan:"12",class:"text-center"},gct={class:"text-center"},bct=["onClick"],yct={class:"text-success text-nowrap"},kct={class:"text-success text-nowrap"},$ct={class:"text-success text-nowrap"},wct={class:"text-success text-nowrap"},Dct={class:"text-success text-nowrap"},Cct={class:"text-success text-nowrap"},xct=["id","data-bs-target"],Pct=["id","data-bs-target"],Ect=["id","data-bs-target"],Act={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Ict={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Rct={class:"modal-content"},Sct={class:"modal-body"},Tct={class:"d-flex justify-content-center"},jct=["id"],Oct={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Mct={class:"modal-content"},Lct={class:"modal-header"},Nct={class:"modal-title",id:"modalCenterTitle"},Fct={class:"d-flex"},Yct=["href"],Vct={class:"modal-body"},Bct={class:"d-flex justify-content-between"},Uct={class:"mb-3"},qct={class:"d-flex justify-content-between"},Hct={class:"fw-light my-auto"},zct={class:"fw-bold mx-2 my-auto"},Wct={class:"d-flex justify-content-between"},Kct={class:"fw-light my-auto"},Gct={class:"fw-bold mx-2 my-auto"},Qct={class:"d-flex justify-content-between"},Zct={class:"fw-light my-auto"},Jct={class:"fw-bold mx-2 my-auto"},Xct={class:"d-flex justify-content-between"},eut={class:"fw-light my-auto"},tut={key:0,class:"d-flex justify-content-between"},out={class:"fw-light my-auto"},aut={class:"fw-bold mx-2 my-auto"},nut={class:"mb-3"},sut={class:"d-flex justify-content-between"},lut={class:"my-auto fw-light"},iut={class:"fw-bold mx-2 my-auto"},rut={class:"d-flex justify-content-between"},dut={class:"my-auto fw-light"},cut={class:"fw-bold mx-2 my-auto"},uut={class:"d-flex justify-content-between"},_ut={class:"my-auto fw-light"},mut={class:"fw-bold mx-2 my-auto"},fut={class:"d-flex justify-content-between"},hut={class:"my-auto fw-light"},put={class:"fw-bold text-success mx-2 my-auto"},vut={class:"table-responsive"},gut={class:"table"},but={class:"bg-label-secondary px-2"},yut={class:"d-flex justify-content-end"},kut={class:"mx-2 my-auto py-1"},$ut={class:"text-success my-auto py-1"};function wut(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Bdt,[e("div",Udt,[e("div",qdt,[e("div",Hdt,[e("label",zdt,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.buyer_search]])]),e("div",Wdt,[e("label",Kdt,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Gdt,[e("label",Qdt,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[4]||(a[4]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",Zdt,[e("label",Jdt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Xdt,[e("label",ect,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",tct,[e("label",oct,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.financing_status_search=i)},[e("option",act,n(o.$t("Financing Status")),1),e("option",nct,n(o.$t("Disbursed")),1),e("option",sct,n(o.$t("Closed")),1)],512),[[re,t.financing_status_search]])]),e("div",lct,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ict,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",rct,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[11]||(a[11]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.payments.meta?(u(),fe(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",dct,[e("table",cct,[e("thead",null,[e("tr",uct,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",_ct,[t.payments.data?b("",!0):(u(),f("tr",mct,[e("td",fct,[e("span",hct,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",pct,[e("td",vct,[e("span",gct,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,bct),e("td",null,n(i.buyer),1),e("td",yct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total_amount)),1)]),e("td",kct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",$ct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",wct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.program_fees)),1)]),e("td",Dct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1)]),e("td",Cct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,xct),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Pct),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,Ect),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Act,[e("div",Ict,[e("div",Rct,[e("div",Sct,[e("div",Tct,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",Oct,[e("div",Mct,[e("div",Lct,[e("h5",Nct,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Fct,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Yct)):b("",!0)])]),e("div",Vct,[e("div",Bct,[e("div",Uct,[e("span",qct,[e("h5",Hct,n(o.$t("Anchor"))+":",1),e("h6",zct,n(t.purchase_order_details.anchor.name),1)]),e("span",Wct,[e("h5",Kct,n(o.$t("Delivery Address"))+":",1),e("h6",Gct,n(t.purchase_order_details.delivery_address),1)]),e("span",Qct,[e("h5",Zct,n(o.$t("Remarks"))+":",1),e("h6",Jct,n(t.purchase_order_details.remarks),1)]),e("span",Xct,[e("h5",eut,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.status)])},n(t.purchase_order_details.status),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",tut,[e("h5",out,n(o.$t("Rejection Reason"))+":",1),e("h6",aut,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",nut,[e("span",sut,[e("h5",lut,n(o.$t("PO No"))+":",1),e("h6",iut,n(t.purchase_order_details.purchase_order_number),1)]),e("span",rut,[e("h5",dut,n(o.$t("Start Date"))+":",1),e("h6",cut,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",uut,[e("h5",_ut,n(o.$t("End Date"))+":",1),e("h6",mut,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",fut,[e("h5",hut,n(o.$t("PO Amount"))+":",1),e("h6",put,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",vut,[e("table",gut,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",but,[e("span",yut,[e("h6",kut,n(o.$t("Total")),1),e("h5",$ut,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,jct)):b("",!0)])]))),128))])])]),t.payments.meta?(u(),fe(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const sD=Ue(Vdt,[["render",wut]]),Dut={name:"FactoringReports",components:{AllInvoicesReport:nD,ProgramReport:Ydt,PaymentsReport:sD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},Cut={class:"nav-align-top nav-tabs-shadow mb-4"},xut={class:"nav nav-tabs",role:"tablist"},Put={class:"nav-item"},Eut={class:"nav-item"},Aut={class:"nav-item"},Iut={class:"tab-content"},Rut={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},Sut={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},Tut={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function jut(o,a,s,t,c,m){const _=de("all-invoices-report"),l=de("program-report"),r=de("payments-report");return u(),f("div",Cut,[e("ul",xut,[e("li",Put,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")]),e("li",Eut,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")]),e("li",Aut,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])]),e("div",Iut,[e("div",Rut,[Be(_,{ref:"invoices_report"},null,512)]),e("div",Sut,[Be(l,{ref:"programs_report"},null,512)]),e("div",Tut,[Be(r,{ref:"payments_report"},null,512)])])])}const Out=Ue(Dut,[["render",jut]]),Mut={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:g}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs})},exportReport:()=>{A.get(c+"dealer/reports/report/factoring-dealer-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Dealer_Programs_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/dealer-dealer-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Dealer_Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value}}).then(D=>{s.value=D.data.programs}).catch(D=>{console.log(D)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},Lut={class:"card p-2"},Nut={class:"d-flex justify-content-between"},Fut={class:"d-flex flex-wrap gap-1"},Yut={class:""},Vut={for:"Program Code",class:"form-label"},But={class:""},Uut={for:"Dealer",class:"form-label"},qut={class:"table-search-btn"},Hut={class:"table-clear-btn"},zut={class:"d-flex gap-1 align-items-end mt-auto"},Wut={class:"table-responsive"},Kut={class:"table"},Gut={class:"text-nowrap"},Qut={class:"table-border-bottom-0"},Zut={key:0},Jut={colspan:"12",class:"text-center"},Xut={class:"text-center"},e_t={key:1},t_t={colspan:"12",class:"text-center"},o_t={class:"text-center"},a_t={class:""},n_t={class:"me-1"},s_t={class:"text-success text-nowrap"},l_t={class:"text-success text-nowrap"},i_t={class:"text-success text-nowrap"},r_t={class:"text-success text-nowrap"};function d_t(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Lut,[e("div",Nut,[e("div",Fut,[e("div",Yut,[e("label",Vut,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.loan_od_account_search]])]),e("div",But,[e("label",Uut,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.buyer_search]])]),e("div",qut,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Hut,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",zut,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary",title:"Download Excel"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",title:"Download PDF"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Wut,[e("table",Kut,[e("thead",null,[e("tr",Gut,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",Qut,[t.programs.data?b("",!0):(u(),f("tr",Zut,[e("td",Jut,[e("span",Xut,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",e_t,[e("td",t_t,[e("span",o_t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",a_t,n(l.payment_account_number),1),e("td",null,[e("span",n_t,n(l.company_name),1)]),e("td",s_t,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",l_t,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",i_t,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",r_t,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const c_t=Ue(Mut,[["render",d_t]]),u_t={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},__t={class:"table"},m_t={class:"table-border"},f_t={class:""},h_t=["value"],p_t={class:""},v_t=["value"],g_t={class:""},b_t=["value"],y_t={class:""},k_t=["value"],$_t={class:""},w_t=["value"],D_t={class:""},C_t=["value"];function x_t(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",__t,[e("tbody",m_t,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",f_t,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,h_t)])]),e("td",null,[e("div",p_t,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,v_t)])]),e("td",null,[e("div",g_t,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,b_t)])]),e("td",null,[e("div",y_t,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,k_t)])]),e("td",null,[e("div",$_t,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,w_t)])]),e("td",null,[e("div",D_t,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,C_t)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const P_t=Ue(u_t,[["render",x_t]]),E_t={name:"PurchaseOrderSettings",props:["can_edit","can_approve_changes"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),D=()=>{A.get("purchase-order-settings").then(k=>{c.value=k.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=k.data.can_approve&&k.data.user_id!=c.value.proposed_update.user_id)}).catch(k=>{console.log(k)})};a.expose({getPurchaseOrderSettings:D});const y=()=>{const k=new FormData;k.append("maker_checker_creating_updating",r.value),k.append("auto_request_financing",i.value),k.append("company_logo",l.value),k.append("description",_.value),k.append("footer",m.value),A.post("purchase-order-settings/update",k).then(w=>{D(),l.value=null,t.success(w.data.message)}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})},C=k=>{k.preventDefault();let w=k.target.files||k.dataTransfer.files;w.length&&(l.value=w[0])},x=()=>{_.value=d.value.getHTML().toString()},E=k=>{A.get("purchase-order-settings/status/"+k+"/update").then(w=>{D(),l.value=null,t.success(w.data.message),document.getElementById("close-modal").click()}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([k,w,T,V,B])=>{k!=c.value.maker_checker_creating_updating||w!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||T?g.value=!0:g.value=!1}),{can_edit:s,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,can_approve:p,updateStatus:E,changeFile:C,changeDescription:x,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},A_t={class:"d-flex justify-content-between p-1"},I_t={class:"fw-bold py-3"},R_t={class:"fw-light px-3"},S_t={key:0,class:"my-auto px-2"},T_t={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},j_t={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},O_t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},M_t={class:"modal-content"},L_t={class:"modal-header"},N_t={class:"modal-title",id:"modalCenterTitle"},F_t={class:"modal-body"},Y_t={key:0},V_t={key:0},B_t={key:1},U_t={key:1},q_t={key:0},H_t={key:1},z_t={key:2},W_t=["href"],K_t={key:3},G_t=["innerHTML"],Q_t={key:4},Z_t={class:"modal-footer"},J_t={class:"row px-2 mb-2"},X_t={class:"col-md-4"},emt={class:"row border rounded border-primary mx-2 py-2"},tmt={class:"col-md-9 d-flex flex-column"},omt={class:"col-form-label"},amt={class:"col-md-3 mt-2"},nmt={class:"form-check form-switch"},smt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},lmt=["checked"],imt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},rmt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},dmt={class:"btn btn-primary",type:"submit"},cmt={class:"fw-bold py-3 mb-2"},umt={class:"fw-light px-3"},_mt={class:"row px-3 mb-2"},mmt={class:"col-md-6 border-bottom d-flex flex-column"},fmt={for:"html5-text-input",class:"col-form-label"},hmt={class:"col-md-6"},pmt={class:"row px-3 mb-2"},vmt={class:"col-md-6 d-flex flex-column"},gmt={for:"",class:"col-form-label"},bmt={class:"col-md-6 mb-4"},ymt={class:"row px-3 mb-2 mt-4"},kmt={class:"col-md-6 d-flex flex-column"},$mt={for:"html5-text-input",class:"col-form-label"},wmt={class:"col-md-6"},Dmt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Cmt={class:"btn btn-primary",type:"submit"};function xmt(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",A_t,[e("h5",I_t,[e("span",R_t,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",S_t,[e("button",T_t,n(o.$t("View Proposed Changes")),1),e("div",j_t,[e("div",O_t,[e("div",M_t,[e("div",L_t,[e("h5",N_t,n(o.$t("Confirm Changes")),1),a[7]||(a[7]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",F_t,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",Y_t,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",V_t,n(o.$t("Yes to No")),1)):(u(),f("span",B_t,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",U_t,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",q_t,n(o.$t("Yes to No")),1)):(u(),f("span",H_t,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",z_t,[le(n(o.$t("Changed Logo"))+" ",1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,W_t)])):b("",!0),i=="description"?(u(),f("div",K_t,[le(n(o.$t("Change Description To"))+": ",1),a[8]||(a[8]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,G_t)])):b("",!0),i=="footer"?(u(),f("div",Q_t,[le(n(o.$t("Change Footer To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",Z_t,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",J_t,[e("div",X_t,[e("div",emt,[e("div",tmt,[e("label",omt,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",amt,[e("div",nmt,[e("label",smt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,lmt),[[Yo,t.maker_checker]]),e("label",imt,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",rmt,[e("button",dmt,n(o.$t("Submit")),1)])):b("",!0)],32),a[10]||(a[10]=e("hr",null,null,-1)),e("h5",cmt,[e("span",umt,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",_mt,[e("div",mmt,[e("label",fmt,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",hmt,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[4]||(a[4]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",pmt,[e("div",vmt,[e("label",gmt,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",bmt,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",ymt,[e("div",kmt,[e("label",$mt,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",wmt,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[5]||(a[5]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",Dmt,[e("button",Cmt,n(o.$t("Submit")),1)])):b("",!0)],32)])}const Pmt=Ue(E_t,[["render",xmt],["__scopeId","data-v-967cd975"]]),Emt={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(!1),l=h(!1),r=h(!1),i=()=>{A.get("invoice-settings").then(v=>{m.value=v.data.settings,_.value=m.value.maker_checker_creating_updating,m.value.proposed_update&&(l.value=v.data.can_approve&&v.data.user_id!=m.value.proposed_update.user_id)}).catch(v=>{console.log(v)})};a.expose({getInvoiceSettings:i});const d=()=>{const v=new FormData;v.append("maker_checker_creating_updating",_.value),A.post("invoice-settings/update",v).then(g=>{i(),c.success(g.data.message)}).catch(g=>{c.error(g.response.data.message)})};return ot([_],([v])=>{v!=m.value.maker_checker_creating_updating?r.value=!0:r.value=!1}),{can_edit:s,checker:t,can_approve:l,invoice_settings:m,maker_checker:_,updateStatus:v=>{A.get("invoice-settings/status/"+v+"/update").then(g=>{i(),c.success(g.data.message),document.getElementById("close-modal").click()}).catch(g=>{c.error(g.response.data.message)})},updateInvoiceSettings:d,can_submit_upper:r}}},Amt={class:"d-flex justify-content-between p-1"},Imt={class:"fw-bold py-3"},Rmt={class:"fw-light px-3"},Smt={key:0,class:"my-auto px-2"},Tmt={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},jmt={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},Omt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Mmt={class:"modal-content"},Lmt={class:"modal-header"},Nmt={class:"modal-title",id:"modalCenterTitle"},Fmt={class:"modal-body"},Ymt={key:0},Vmt={key:0},Bmt={key:1},Umt={class:"modal-footer"},qmt={class:"row px-2 mb-2"},Hmt={class:"col-md-4"},zmt={class:"row border rounded border-primary mx-2 py-2"},Wmt={class:"col-md-9 d-flex flex-column"},Kmt={class:"col-form-label"},Gmt={class:"col-md-3 mt-2"},Qmt={class:"form-check form-switch"},Zmt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Jmt=["checked"],Xmt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},eft={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},tft={class:"btn btn-primary",type:"submit"};function oft(o,a,s,t,c,m){return u(),f("div",null,[e("div",Amt,[e("h5",Imt,[e("span",Rmt,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",Smt,[e("button",Tmt,n(o.$t("View Proposed Changes")),1),e("div",jmt,[e("div",Omt,[e("div",Mmt,[e("div",Lmt,[e("h5",Nmt,n(o.$t("Confirm Changes")),1),a[4]||(a[4]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Fmt,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,_=>(u(),f("div",{key:_},[(u(!0),f(W,null,X(_,(l,r)=>(u(),f("div",{key:l},[r=="maker_checker_creating_updating"?(u(),f("div",Ymt,[le(n(o.$t("Change Maker/Checker for Invoice Approval from"))+" ",1),t.maker_checker?(u(),f("span",Vmt,n(o.$t("Yes to No")),1)):(u(),f("span",Bmt,n(o.$t("No to Yes")),1))])):b("",!0)]))),128))]))),128))]),e("div",Umt,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=_=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=_=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(..._),["prevent"])),method:"post"},[e("div",qmt,[e("div",Hmt,[e("div",zmt,[e("div",Wmt,[e("label",Kmt,n(o.$t("Invoice / Payment Instruction (PI) Approval")),1),e("small",null,n(o.$t("Request checker approval for approval of invoices")),1)]),e("div",Gmt,[e("div",Qmt,[e("label",Zmt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=_=>t.maker_checker=_)},null,8,Jmt),[[Yo,t.maker_checker]]),e("label",Xmt,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",eft,[e("button",tft,n(o.$t("Submit")),1)])):b("",!0)],32)])}const aft=Ue(Emt,[["render",oft],["__scopeId","data-v-dbf5b7cb"]]),nft={name:"Settings",props:["can_edit","can_view","can_edit_vendor","has_proposed_updates","has_invoice_proposed_updates"],components:{BankAccounts:P_t,PurchaseOrderSettings:Pmt,InvoiceSettings:aft},setup(o){const a=o.can_edit,s=o.can_view,t=o.can_edit_vendor,c=o.has_proposed_updates,m=o.has_invoice_proposed_updates,_=h(null),l=h(null),r=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_view:s,can_edit_vendor:t,has_proposed_updates:c,has_invoice_proposed_updates:m,bank_accounts:_,purchase_order_settings:l,invoice_settings:r,switchTabs:d=>{switch(d){case"bank-accounts":_.value.getBankAccounts();break;case"purchase-order-settings":l.value.getPurchaseOrderSettings();break;case"invoice-settings":r.value.getInvoiceSettings();break}}}}},sft={class:"nav-align-top mb-4"},lft={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},ift={class:"nav-item"},rft={key:0,class:"nav-item"},dft={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},cft={key:1,class:"nav-item"},uft={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},_ft={class:"tab-content"},mft={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},fft={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},hft={key:1,class:"tab-pane fade",id:"navs-pills-invoice-settings",role:"tabpanel"};function pft(o,a,s,t,c,m){const _=de("bank-accounts"),l=de("purchase-order-settings"),r=de("invoice-settings");return u(),f("div",sft,[e("ul",lft,[e("li",ift,[e("button",{type:"button",onClick:a[0]||(a[0]=i=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.can_view==1?(u(),f("li",rft,[e("button",{type:"button",onClick:a[1]||(a[1]=i=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Purchase Order Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",dft)):b("",!0)])])):b("",!0),t.can_view==1?(u(),f("li",cft,[e("button",{type:"button",onClick:a[2]||(a[2]=i=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-invoice-settings","aria-controls":"navs-pills-invoice-settings","aria-selected":"false"},[a[5]||(a[5]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_invoice_proposed_updates==1?(u(),f("i",uft)):b("",!0)])])):b("",!0)]),e("div",_ft,[e("div",mft,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",fft,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0),t.can_view==1?(u(),f("div",hft,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const vft=Ue(nft,[["render",pft]]),gft={name:"Payments",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(null),r=h(50),i=async()=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(k=>{a.value=k.data})},d=k=>{let w="";switch(k){case"Created":w="bg-label-secondary";break;case"Pending Maker":w="bg-label-primary";break;case"Pending Checker":w="bg-label-warning";break;case"Submitted":w="bg-label-primary";break;case"Approved":w="bg-label-success";break;case"Disbursed":w="bg-label-success";break;case"Denied":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},p=k=>{let w="";switch(k){case"pending":w="bg-label-primary";break;case"financed":w="bg-label-success";break;case"closed":w="bg-label-secondary";break;case"denied":w="bg-label-danger";break;default:w="bg-label-primary";break}return w},v=async(k,w)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+k+"/details").then(T=>{_.value=T.data,bt(()=>{document.getElementById(w).click()})}).catch(T=>{console.log(T)})},g=async(k,w)=>{await A.get(o+"purchase-orders/"+k+"/show").then(T=>{l.value=T.data,bt(()=>{document.getElementById(w).click()})}).catch(T=>{console.log(T)})},D=(k,w)=>(w/k*100).toFixed(2),y=()=>{A.get("factoring/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)})};Qe(()=>{i()});const C=async k=>{await A.get(k,{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(w=>{a.value=w.data})};return ot([r],async([k])=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:k}}).then(w=>{a.value=w.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:r,resolveStatus:d,resolveFinancingStatus:p,getTaxPercentage:D,exportInvoices:y,changePage:C,clearSearch:()=>{s.value="",t.value="",c.value="";let k=$(".ti-refresh").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(w=>{a.value=w.data,k.html('<i class="ti ti-search"></i>')})},filter:async()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(w=>{a.value=w.data,k.html('<i class="ti ti-search"></i>')})},invoice_details:_,purchase_order_details:l,showInvoice:v,showPurchaseOrder:g}}},bft={class:"card"},yft={class:"card-body"},kft={class:"d-flex justify-content-between"},$ft={class:"d-flex flex-wrap gap-1"},wft={class:""},Dft={for:"anchor",class:"form-label"},Cft={class:""},xft={for:"invoice-number",class:"form-label"},Pft={class:""},Eft={for:"Pi Number",class:"form-label"},Aft={class:""},Ift={for:"Paid Date",class:"form-label"},Rft={class:"table-search-btn"},Sft={class:"table-clear-btn"},Tft={class:"d-flex mx-2",style:{height:"fit-content"}},jft={class:"table-responsive"},Oft={class:"table"},Mft={key:0},Lft={colspan:"12",class:"text-center"},Nft={class:"text-center"},Fft={key:1},Yft={colspan:"12",class:"text-center"},Vft={class:"text-center"},Bft=["onClick"],Uft={href:"javascript:;",class:"dropdown-item"},qft={class:"text-success text-nowrap"},Hft={class:"text-primary"},zft={class:""},Wft={class:"text-success text-nowrap"},Kft=["onClick"],Gft={class:"d-inline-block"},Qft=["id","data-bs-target"],Zft=["id","data-bs-target"],Jft=["id","data-bs-target"],Xft=["id","data-bs-target"],eht=["id","data-bs-target"],tht={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},oht={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},aht={class:"modal-content"},nht={class:"modal-body"},sht={class:"d-flex justify-content-center"},lht=["id"],iht={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},rht={class:"modal-content"},dht={class:"modal-header"},cht={class:"modal-title",id:"modalCenterTitle"},uht={class:"d-flex"},_ht=["href"],mht={class:"modal-body"},fht={class:"d-flex justify-content-between"},hht={class:"mb-3 w-50"},pht={class:"d-flex justify-content-between"},vht={class:"fw-light my-auto"},ght={class:"fw-bold mx-2 my-auto"},bht={class:"d-flex justify-content-between"},yht={class:"fw-light my-auto"},kht={class:"fw-bold mx-2 my-auto"},$ht={class:"d-flex justify-content-between"},wht={class:"fw-light my-auto"},Dht={class:"fw-bold mx-2 my-auto"},Cht={class:"d-flex justify-content-between"},xht={class:"fw-light my-auto"},Pht={key:0,class:"d-flex justify-content-between"},Eht={class:"fw-light my-auto"},Aht={class:"fw-bold mx-2 my-auto"},Iht={class:"mb-3"},Rht={class:"d-flex justify-content-between"},Sht={class:"my-auto fw-light"},Tht={class:"fw-bold mx-2 my-auto"},jht={class:"d-flex justify-content-between"},Oht={class:"my-auto fw-light"},Mht={class:"fw-bold mx-2 my-auto"},Lht={class:"d-flex justify-content-between"},Nht={class:"my-auto fw-light"},Fht={class:"fw-bold mx-2 my-auto"},Yht={class:"d-flex justify-content-between"},Vht={class:"my-auto fw-light"},Bht={class:"fw-bold text-success mx-2 my-auto"},Uht={class:"table-responsive"},qht={class:"table"},Hht={class:"bg-label-secondary px-2"},zht={class:"d-flex justify-content-end"},Wht={class:"mx-2 my-auto py-1"},Kht={class:"text-success my-auto py-1"};function Ght(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",bft,[e("div",yft,[e("div",kft,[e("div",$ft,[e("div",wft,[e("label",Dft,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Cft,[e("label",xft,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Pft,[e("label",Eft,n(o.$t("PI No"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[5]||(a[5]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.pi_number_search]])]),e("div",Aft,[e("label",Ift,n(o.$t("Paid Date")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=i=>t.paid_date_search=i)},null,544),[[Q,t.paid_date_search]])]),e("div",Rft,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Sft,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Tft,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jft,[e("table",Oft,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI No")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Paid Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Mft,[e("td",Lft,[e("span",Nft,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Fft,[e("td",Yft,[e("span",Vft,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.buyer),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Uft,n(i.invoice_number),1)],8,Bft),e("td",qft,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",Hft,n(i.pi_number),1),e("td",zft,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Wft,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("button",{class:"btn btn-sm btn-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,Kft),e("div",Gft,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Qft),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Zft),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Jft),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,Xft),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,eht),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",tht,[e("div",oht,[e("div",aht,[e("div",nht,[e("div",sht,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",iht,[e("div",rht,[e("div",dht,[e("h5",cht,n(o.$t("Purchase Order")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",uht,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,_ht)):b("",!0)])]),e("div",mht,[e("div",fht,[e("div",hht,[e("span",pht,[e("h5",vht,n(o.$t("Vendor"))+":",1),e("h6",ght,n(t.purchase_order_details.company.name),1)]),e("span",bht,[e("h5",yht,n(o.$t("Delivery Address"))+":",1),e("h6",kht,n(t.purchase_order_details.delivery_address),1)]),e("span",$ht,[e("h5",wht,n(o.$t("Remarks"))+":",1),e("h6",Dht,n(t.purchase_order_details.remarks),1)]),e("span",Cht,[e("h5",xht,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",Pht,[e("h5",Eht,n(o.$t("Rejection Reason"))+":",1),e("h6",Aht,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Iht,[e("span",Rht,[e("h5",Sht,n(o.$t("PO No"))+":",1),e("h6",Tht,n(t.purchase_order_details.purchase_order_number),1)]),e("span",jht,[e("h5",Oht,n(o.$t("Start Date"))+":",1),e("h6",Mht,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",Lht,[e("h5",Nht,n(o.$t("End Date"))+":",1),e("h6",Fht,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",Yht,[e("h5",Vht,n(o.$t("PO Amount"))+":",1),e("h6",Bht,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",Uht,[e("table",qht,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Hht,[e("span",zht,[e("h6",Wht,n(o.$t("Total")),1),e("h5",Kht,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,lht)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Qht=Ue(gft,[["render",Ght]]),Zht={name:"ExpiredInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),D=async()=>{await A.get(a+"factoring/invoices/expired/data?per_page="+g.value).then(B=>{s.value=B.data.invoices})},y=async(B,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+B+"/details").then(L=>{m.value=L.data,bt(()=>{document.getElementById(O).click()})}).catch(L=>{console.log(L)})},C=B=>{let O="";switch(B){case"Overdue":O="bg-label-secondary";break;case"Created":O="bg-label-secondary";break;case"Pending Maker":O="bg-label-warning";break;case"Pending Checker":O="bg-label-warning";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},x=B=>{let O="";switch(B){case"pending":O="bg-label-primary";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},E=async B=>{await A.get(a+"factoring/invoices/"+B.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),D()}).catch(O=>{console.log(O),o.error("An error occurred")})},k=(B,O)=>O/B*100;Qe(()=>{D()});const w=async()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",await A.get(a+"factoring/invoices/expired/data",{params:{per_page:g.value}}).then(O=>{s.value=O.data.invoices,B.html('<i class="ti ti-refresh"></i>')})},T=async()=>{let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:g.value}}).then(O=>{s.value=O.data.invoices,B.html('<i class="ti ti-search"></i>')})},V=async B=>{await A.get(B+"&per_page="+g.value,{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value}}).then(O=>{s.value=O.data.invoices})};return ot([g],async([B])=>{await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:B}}).then(O=>{s.value=O.data.invoices})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,buyer_search:i,invoice_number_search:d,status_search:p,finance_status_search:v,per_page:g,resolveStatus:C,resolveFinancingStatus:x,requestApproval:E,changePage:V,getTaxPercentage:k,showInvoice:y,filter:T,clearSearch:w}}},Jht={class:"card"},Xht={class:"card-body p-2"},ept={class:"d-flex justify-content-between"},tpt={class:"d-flex flex-wrap gap-1"},opt={class:""},apt={for:"Vendor",class:"form-label"},npt={class:""},spt={for:"Vendor",class:"form-label"},lpt={class:""},ipt={for:"Vendor",class:"form-label"},rpt={value:""},dpt={value:"pending"},cpt={value:"submitted"},upt={value:"approved"},_pt={value:"denied"},mpt={class:""},fpt={for:"Vendor",class:"form-label"},hpt={value:""},ppt={value:"pending"},vpt={value:"financed"},gpt={value:"closed"},bpt={value:"denied"},ypt={class:"table-search-btn"},kpt={class:"table-clear-btn"},$pt={class:"d-flex mx-2",style:{height:"fit-content"}},wpt={class:"table-responsive"},Dpt={class:"table"},Cpt={key:0},xpt={colspan:"12",class:"text-center"},Ppt={class:"text-center"},Ept={key:1},Apt={colspan:"12",class:"text-center"},Ipt={class:"text-center"},Rpt={key:0},Spt={key:1},Tpt=["onClick"],jpt={href:"javascript:;",class:"dropdown-item"},Opt={class:"text-success text-nowrap"},Mpt={class:""},Lpt={class:""},Npt={class:""},Fpt={class:"text-success"},Ypt={class:""},Vpt={class:"d-inline-block"},Bpt={class:"dropdown-menu dropdown-menu-end m-0"},Upt=["onClick"],qpt={key:0},Hpt=["href"],zpt={key:1},Wpt=["href"],Kpt=["id","data-bs-target"],Gpt=["id","data-bs-target"],Qpt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Zpt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Jpt={class:"modal-content"},Xpt={class:"modal-body"},evt={class:"d-flex justify-content-center"};function tvt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Jht,[e("div",Xht,[e("div",ept,[e("div",tpt,[e("div",opt,[e("label",apt,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.buyer_search]])]),e("div",npt,[e("label",spt,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",lpt,[e("label",ipt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",rpt,n(o.$t("Status")),1),e("option",dpt,n(o.$t("Pending")),1),e("option",cpt,n(o.$t("Submitted")),1),e("option",upt,n(o.$t("Approved")),1),e("option",_pt,n(o.$t("Denied")),1)],512),[[re,t.status_search]])]),e("div",mpt,[e("label",fpt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.finance_status_search=i)},[e("option",hpt,n(o.$t("Finance Status")),1),e("option",ppt,n(o.$t("Pending")),1),e("option",vpt,n(o.$t("Financed")),1),e("option",gpt,n(o.$t("Closed")),1),e("option",bpt,n(o.$t("Denied")),1)],512),[[re,t.finance_status_search]])]),e("div",ypt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",kpt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",$pt,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",wpt,[e("table",Dpt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amnt")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amnt")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Cpt,[e("td",xpt,[e("span",Ppt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Ept,[e("td",Apt,[e("span",Ipt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[i.buyer?(u(),f("td",Rpt,n(i.buyer),1)):(u(),f("td",Spt,n(i.company),1)),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",jpt,n(i.invoice_number),1)],8,Tpt),e("td",Opt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",Mpt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",Lpt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",Npt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Fpt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",Ypt,[e("div",Vpt,[a[11]||(a[11]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Bpt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,Upt)]),i.can_edit?(u(),f("li",qpt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,Hpt)])):b("",!0),i.buyer?b("",!0):(u(),f("li",zpt,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,Wpt)]))])])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Kpt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Gpt),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Qpt,[e("div",Zpt,[e("div",Jpt,[e("div",Xpt,[e("div",evt,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const ovt=Ue(Zht,[["render",tvt]]),avt={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"factoring/invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},nvt={class:"card p-2"},svt={class:"d-flex justify-content-between"},lvt={class:"d-flex flex-wrap gap-1"},ivt={class:""},rvt={for:"Invoice No",class:"form-label"},dvt={class:""},cvt={for:"From Date",class:"form-label"},uvt={class:""},_vt={for:"Status",class:"form-label"},mvt={value:""},fvt={value:"Successful"},hvt={value:"Failed"},pvt={class:"mt-auto"},vvt={class:"mt-auto"},gvt={class:"d-flex gap-1 justify-content-end mt-auto"},bvt={class:"table-responsive p-2"},yvt={class:"table dt-invoices"},kvt={key:0},$vt={colspan:"12",class:"text-center"},wvt={class:"text-center"},Dvt={key:1},Cvt={colspan:"12",class:"text-center"},xvt={class:"text-center"},Pvt={key:0,class:"badge bg-label-success me-1"},Evt={key:1,class:"badge bg-label-danger me-1"},Avt={class:""};function Ivt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",nvt,[e("div",svt,[e("div",lvt,[e("div",ivt,[e("label",rvt,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[Q,t.invoice_number_search]])]),e("div",dvt,[e("label",cvt,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[Q,t.uploaded_date_search]])]),e("div",uvt,[e("label",_vt,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",mvt,n(o.$t("Select Status")),1),e("option",fvt,n(o.$t("Successful")),1),e("option",hvt,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",pvt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",vvt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",gvt,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",bvt,[e("table",yvt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",kvt,[e("td",$vt,[e("span",wvt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Dvt,[e("td",Cvt,[e("span",xvt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Pvt,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Evt,n(l.status),1)):b("",!0)]),e("td",Avt,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Rvt=Ue(avt,[["render",Ivt]]),Svt={name:"FactoringOdAccounts",components:{Pagination:oo},props:["program_vendor_configuration"],setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(d=>{s.value=d.data})};ot([m],async([d])=>{await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions",{params:{per_page:d,payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})});const l=async()=>{let d=$(".ti-search").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data,d.html('<i class="ti ti-search"></i>')})},r=async()=>{let d=$(".ti-refresh").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value).then(p=>{s.value=p.data,d.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),{reports:s,moment:H,changePage:async d=>{await A.get(d+"&per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})},payment_account_number_search:t,dealer_search:c,per_page:m,filter:l,refresh:r}}},Tvt={class:"card"},jvt={class:"card-body"},Ovt={class:"d-flex justify-content-between"},Mvt={class:"d-flex justify-content-end"},Lvt={class:""},Nvt={class:"table-responsive"},Fvt={class:"table"},Yvt={class:""},Vvt={class:"table-border-bottom-0"},Bvt={key:0},Uvt={colspan:"12",class:"text-center"},qvt={class:"text-center"},Hvt={key:1},zvt={colspan:"12",class:"text-center"},Wvt={class:"text-center"},Kvt={key:0},Gvt={key:0},Qvt={key:1},Zvt={key:1},Jvt={key:2},Xvt={key:3},egt={key:4},tgt={key:5},ogt={class:"text-success text-nowrap"},agt={class:"text-success text-nowrap"};function ngt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Tvt,[e("div",jvt,[e("div",Ovt,[a[2]||(a[2]=e("div",null,null,-1)),e("div",Mvt,[e("div",Lvt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.reports.meta?(u(),fe(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Nvt,[e("table",Fvt,[e("thead",null,[e("tr",Yvt,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",Vvt,[t.reports.data?b("",!0):(u(),f("tr",Bvt,[e("td",Uvt,[e("span",qvt,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",Hvt,[e("td",zvt,[e("span",Wvt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("td",null,[l.transaction_type=="Payment Disbursement"?(u(),f("div",Kvt,[l.payment_request.program_type=="Dealer Financing"?(u(),f("div",Gvt,[e("span",null,"Drawdown against "+n(l.payment_request.invoice_number),1)])):(u(),f("div",Qvt,[e("span",null,"Disbursement for "+n(l.payment_request.invoice_number),1)]))])):b("",!0),l.transaction_type=="Accrual/Posted Interest"?(u(),f("span",Zvt,"Discount Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Fees/Charges"?(u(),f("span",Jvt,"Fees/Charges Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Repayment"?(u(),f("span",Xvt,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Bank Invoice Payment"?(u(),f("span",egt,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Overdue Account"?(u(),f("span",tgt,"Penal Payment againt "+n(l.payment_request.invoice_number),1)):b("",!0)]),e("td",ogt,n(new Intl.NumberFormat().format(l.amount)),1),e("td",agt,n(new Intl.NumberFormat().format(l.amount)),1),a[3]||(a[3]=e("td",null,"-",-1)),a[4]||(a[4]=e("td",null,"-",-1))]))),128))])])]),t.reports.meta?(u(),fe(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const sgt=Ue(Svt,[["render",ngt]]),lgt={name:"Dealers",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"dealer/invoices/dealers/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.data})};Qe(()=>{c()});const m=()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"dealer/invoices/dealers/data",{params:{vendors:s.value,per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-search"></i>')})},_=()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",A.get(o+"dealer/invoices/dealers/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-refresh"></i>')})};return ot([t],async([r])=>{await A.get(o+"dealer/invoices/dealers/data",{params:{vendors:s.value,per_page:r}}).then(i=>{a.value=i.data.data})}),{moment:H,vendors:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value}}).then(i=>{a.value=i.data.data})},per_page:t,vendors_search:s,filter:m,refresh:_}}},igt={class:"card"},rgt={class:"card-body"},dgt={class:"d-flex justify-content-between"},cgt={class:"d-flex flex-wrap gap-1"},ugt={class:""},_gt={for:"Search",class:"form-label"},mgt={class:"mx-1 table-search-btn"},fgt={class:"mx-1 table-clear-btn"},hgt={class:"d-flex"},pgt={class:"table-responsive p-2"},vgt={class:"table"},ggt={key:0},bgt={colspan:"12",class:"text-center"},ygt={class:"text-center"},kgt={key:1},$gt={colspan:"12",class:"text-center"},wgt={class:"text-center"},Dgt={key:0},Cgt={key:1},xgt={class:""};function Pgt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",igt,[e("div",rgt,[e("div",dgt,[e("div",cgt,[e("div",ugt,[e("label",_gt,n(o.$t("Dealers")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendors_search=l),placeholder:"Search Dealers/Buyers","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.vendors_search]])]),e("div",mgt,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",fgt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",hgt,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])])]),t.vendors.meta?(u(),fe(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pgt,[e("table",vgt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",ggt,[e("td",bgt,[e("span",ygt,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",kgt,[e("td",$gt,[e("span",wgt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[l.buyer_name?(u(),f("span",Dgt,n(l.buyer_name),1)):(u(),f("span",Cgt,n(l.company_name),1))]),e("td",xgt,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),fe(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Egt=Ue(lgt,[["render",Pgt]]),Wt="/anchor/",Rc=Ke({}),Sc=Ke({}),Tc=Ke({}),jc=Ke({}),Oc=Ke({}),Mc=Ke({}),Lc=Ke({}),Nc=Ke({}),Fc=Ke({}),Yc=Ke({}),Vc=Ke({}),Bc=Ke({}),Uc=Ke({}),qc=Ke({}),Hc=Ke({}),zc=Ke({}),Wc=Ke({}),Kc=Ke({});Rc.component("AnchorNotifications",gY);Sc.component("FactoringNotifications",OY);Nc.component("InvoicesUpload",Zie);Fc.component("UploadedInvoicesView",Bre);Tc.component("InvoicesView",jG);jc.component("Vendors",tQ);Oc.component("PurchaseOrdersComponent",fJ);Mc.component("AnchorReports",Eie);Lc.component("AnchorSettings",y6e);Yc.component("InvoiceAnalysisReport",y5);Vc.component("MaturingInvoicesReport",w5);Bc.component("AllInvoicesReport",k5);Uc.component("PaidInvoicesReport",D5);qc.component("OverdueInvoicesReport",kUe);Hc.component("VendorAnalysisReport",$5);zc.component("ClosedInvoicesReport",Cqe);Wc.component("Discountings",C5);Kc.component("PaymentInstructions",tY);var Agt=document.getElementById("anchor-notifications");Agt&&(Rc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Rc.use(Xe),Rc.provide("baseURL",Wt),Rc.mount("#anchor-notifications"));var Igt=document.getElementById("factoring-notifications");Igt&&(Sc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Sc.use(Xe),Sc.provide("baseURL",Wt),Sc.mount("#factoring-notifications"));var Rgt=document.getElementById("anchor_reports");Rgt&&(Mc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Mc.use(Xe),Mc.provide("baseURL",Wt),Mc.mount("#anchor_reports"));var Sgt=document.getElementById("invoices_upload");Sgt&&(Nc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nc.use(Xe),Nc.provide("baseURL",Wt),Nc.mount("#invoices_upload"));var Tgt=document.getElementById("invoices-view");Tgt&&(Tc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Tc.use(Xe),Tc.provide("baseURL",Wt),Tc.mount("#invoices-view"));var jgt=document.getElementById("uploaded-invoices-view");jgt&&(Fc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fc.use(Xe),Fc.provide("baseURL",Wt),Fc.mount("#uploaded-invoices-view"));var Ogt=document.getElementById("payment-instructions");Ogt&&(Kc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Kc.use(Xe),Kc.provide("baseURL",Wt),Kc.mount("#payment-instructions"));var Mgt=document.getElementById("vendors");Mgt&&(jc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),jc.use(Xe),jc.provide("baseURL",Wt),jc.mount("#vendors"));var Lgt=document.getElementById("purchase_orders");Lgt&&(Oc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Oc.use(Xe),Oc.provide("baseURL",Wt),Oc.mount("#purchase_orders"));var Ngt=document.getElementById("anchor-settings");Ngt&&(Lc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Lc.use(Xe),Lc.provide("baseURL",Wt),Lc.mount("#anchor-settings"));var Fgt=document.getElementById("invoice-analysis-report");Fgt&&(Yc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yc.use(Xe),Yc.provide("baseURL",Wt),Yc.mount("#invoice-analysis-report"));var Ygt=document.getElementById("maturing-invoices-report");Ygt&&(Vc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vc.use(Xe),Vc.provide("baseURL",Wt),Vc.mount("#maturing-invoices-report"));var Vgt=document.getElementById("paid-invoices-report");Vgt&&(Uc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Uc.use(Xe),Uc.provide("baseURL",Wt),Uc.mount("#paid-invoices-report"));var Bgt=document.getElementById("overdue-invoices-report");Bgt&&(qc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qc.use(Xe),qc.provide("baseURL",Wt),qc.mount("#overdue-invoices-report"));var Ugt=document.getElementById("closed-invoices-report");Ugt&&(zc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zc.use(Xe),zc.provide("baseURL",Wt),zc.mount("#closed-invoices-report"));var qgt=document.getElementById("all-invoices-report");qgt&&(Bc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bc.use(Xe),Bc.provide("baseURL",Wt),Bc.mount("#all-invoices-report"));var Hgt=document.getElementById("vendor-analysis-report");Hgt&&(Hc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hc.use(Xe),Hc.provide("baseURL",Wt),Hc.mount("#vendor-analysis-report"));var zgt=document.getElementById("discountings");zgt&&(Wc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wc.use(Xe),Wc.provide("baseURL",Wt),Wc.mount("#discountings"));const Gc=Ke({}),Qc=Ke({}),Zc=Ke({}),Dr=Ke({}),Cr=Ke({}),Jc=Ke({}),Xc=Ke({}),eu=Ke({}),tu=Ke({}),ou=Ke({}),au=Ke({}),nu=Ke({}),su=Ke({}),lu=Ke({}),iu=Ke({}),ru=Ke({}),du=Ke({}),cu=Ke({}),uu=Ke({}),_u=Ke({}),mu=Ke({}),fu=Ke({}),hu=Ke({}),pu=Ke({}),vu=Ke({}),gu=Ke({});du.component("DiscountSlab",dBe);var Wgt=document.getElementById("discount_slab");Wgt&&(du.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),du.use(Xe),du.provide("baseURL",Wt),du.mount("#discount_slab"));au.component("FactoringReports",LMe);var Kgt=document.getElementById("factoring_reports");Kgt&&(au.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),au.use(Xe),au.provide("baseURL",Wt),au.mount("#factoring_reports"));nu.component("FactoringAllInvoicesReport",tD);var Ggt=document.getElementById("factoring_all_invoices_report");Ggt&&(nu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nu.use(Xe),nu.provide("baseURL",Wt),nu.mount("#factoring_all_invoices_report"));su.component("FactoringProgramsReport",oD);var Qgt=document.getElementById("factoring_programs_report");Qgt&&(su.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),su.use(Xe),su.provide("baseURL",Wt),su.mount("#factoring_programs_report"));lu.component("FactoringDealerProgramsReport",c_t);var Zgt=document.getElementById("factoring_dealer_programs_report");Zgt&&(lu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lu.use(Xe),lu.provide("baseURL",Wt),lu.mount("#factoring_dealer_programs_report"));iu.component("FactoringPaymentsReport",aD);var Jgt=document.getElementById("factoring_payments_report");Jgt&&(iu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),iu.use(Xe),iu.provide("baseURL",Wt),iu.mount("#factoring_payments_report"));Gc.component("FactoringInvoicesComponent",bme);var Xgt=document.getElementById("factoring_invoices");Xgt&&(Gc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gc.use(Xe),Gc.provide("baseURL",Wt),Gc.mount("#factoring_invoices"));_u.component("Buyers",SBe);var e1t=document.getElementById("buyers");e1t&&(_u.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_u.use(Xe),_u.provide("baseURL",Wt),_u.mount("#buyers"));uu.component("Dealers",Egt);var t1t=document.getElementById("dealers");t1t&&(uu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),uu.use(Xe),uu.provide("baseURL",Wt),uu.mount("#dealers"));Qc.component("FactoringExpiredInvoicesComponent",dYe);var o1t=document.getElementById("factoring_expired_invoices");o1t&&(Qc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qc.use(Xe),Qc.provide("baseURL",Wt),Qc.mount("#factoring_expired_invoices"));mu.component("FactoringUploadedInvoices",NYe);var a1t=document.getElementById("factoring_uploaded_invoices");a1t&&(mu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mu.use(Xe),mu.provide("baseURL",Wt),mu.mount("#factoring_uploaded_invoices"));Zc.component("FactoringPaymentsComponent",aFe);var n1t=document.getElementById("factoring_payments");n1t&&(Zc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zc.use(Xe),Zc.provide("baseURL",Wt),Zc.mount("#factoring_payments"));Xc.component("FactoringCashPlannerPrograms",Ume);var s1t=document.getElementById("factoring-cash-planner-programs");s1t&&(Xc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xc.use(Xe),Xc.provide("baseURL",Wt),Xc.mount("#factoring-cash-planner-programs"));Dr.component("CashPlannerEligibleInvoicesComponent",v0e);var l1t=document.getElementById("eligible-invoices");l1t&&(Dr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Dr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Dr.use(Xe),Dr.provide("baseURL",Wt),Dr.mount("#eligible-invoices"));Cr.component("DashboardCashPlannerEligibleInvoicesComponent",yDe);var i1t=document.getElementById("dashboard-eligible-invoices");i1t&&(Cr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Cr.use(Xe),Cr.provide("baseURL",Wt),Cr.mount("#dashboard-eligible-invoices"));Jc.component("CashPlannerNonEligibleInvoicesComponent",Vxe);var r1t=document.getElementById("non-eligible-invoices");r1t&&(Jc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Jc.use(Xe),Jc.provide("baseURL",Wt),Jc.mount("#non-eligible-invoices"));eu.component("FinancingRequests",J4e);var d1t=document.getElementById("financing_requests");d1t&&(eu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),eu.use(Xe),eu.provide("baseURL",Wt),eu.mount("#financing_requests"));tu.component("FactoringPurchaseOrdersComponent",U8e);var c1t=document.getElementById("factoring_purchase_orders");c1t&&(tu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tu.use(Xe),tu.provide("baseURL",Wt),tu.mount("#factoring_purchase_orders"));ou.component("FactoringPendingPurchaseOrdersComponent",uTe);var u1t=document.getElementById("factoring_pending_purchase_orders");u1t&&(ou.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ou.use(Xe),ou.provide("baseURL",Wt),ou.mount("#factoring_pending_purchase_orders"));ru.component("FactoringSettings",DLe);var _1t=document.getElementById("factoring-settings");_1t&&(ru.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ru.use(Xe),ru.provide("baseURL",Wt),ru.mount("#factoring-settings"));cu.component("FactoringInvoicesUpload",mre);var m1t=document.getElementById("factoring-invoices-upload");m1t&&(cu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cu.use(Xe),cu.provide("baseURL",Wt),cu.mount("#factoring-invoices-upload"));fu.component("DealerAccounts",dHe);var f1t=document.getElementById("dealer-accounts");f1t&&(fu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fu.use(Xe),fu.provide("baseURL",Wt),fu.mount("#dealer-accounts"));hu.component("FactoringCbsTransactions",OHe);var h1t=document.getElementById("factoring-cbs-transactions");h1t&&(hu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hu.use(Xe),hu.provide("baseURL",Wt),hu.mount("#factoring-cbs-transactions"));pu.component("DealerPaymentRequests",YGe);var p1t=document.getElementById("dealer-payment-requests");p1t&&(pu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pu.use(Xe),pu.provide("baseURL",Wt),pu.mount("#dealer-payment-requests"));vu.component("DealerDpdInvoices",AQe);var v1t=document.getElementById("dealer-dpd-invoices");v1t&&(vu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vu.use(Xe),vu.provide("baseURL",Wt),vu.mount("#dealer-dpd-invoices"));gu.component("DealerRejectedInvoices",aJe);var g1t=document.getElementById("dealer-rejected-invoices");g1t&&(gu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gu.use(Xe),gu.provide("baseURL",Wt),gu.mount("#dealer-rejected-invoices"));const bu=Ke({}),yu=Ke({}),ku=Ke({});Ke({});Ke({});const $u=Ke({}),wu=Ke({}),Du=Ke({}),Cu=Ke({});Ke({});const xu=Ke({}),Pu=Ke({}),Eu=Ke({});Ke({});const Au=Ke({});Ke({});const Iu=Ke({});Ke({});Ke({});Ke({});Du.component("FactoringDealerReports",Out);var b1t=document.getElementById("factoring_dealer_reports");b1t&&(Du.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Du.use(Xe),Du.provide("baseURL",Wt),Du.mount("#factoring_dealer_reports"));Cu.component("FactoringDealerAllInvoicesReport",nD);var y1t=document.getElementById("factoring_dealer_all_invoices_report");y1t&&(Cu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cu.use(Xe),Cu.provide("baseURL",Wt),Cu.mount("#factoring_dealer_all_invoices_report"));xu.component("FactoringDealerPaymentsReport",sD);var k1t=document.getElementById("factoring_dealer_payments_report");k1t&&(xu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xu.use(Xe),xu.provide("baseURL",Wt),xu.mount("#factoring_dealer_payments_report"));bu.component("FactoringDealerInvoicesComponent",gat);var $1t=document.getElementById("factoring_dealer_invoices");$1t&&(bu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),bu.use(Xe),bu.provide("baseURL",Wt),bu.mount("#factoring_dealer_invoices"));yu.component("FactoringDealerExpiredInvoicesComponent",ovt);var w1t=document.getElementById("factoring_dealer_expired_invoices");w1t&&(yu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),yu.use(Xe),yu.provide("baseURL",Wt),yu.mount("#factoring_dealer_expired_invoices"));Au.component("FactoringDealerUploadedInvoices",Rvt);var D1t=document.getElementById("factoring_dealer_uploaded_invoices");D1t&&(Au.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Au.use(Xe),Au.provide("baseURL",Wt),Au.mount("#factoring_dealer_uploaded_invoices"));ku.component("FactoringDealerPaymentsComponent",Qht);var C1t=document.getElementById("factoring_dealer_payments");C1t&&(ku.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ku.use(Xe),ku.provide("baseURL",Wt),ku.mount("#factoring_dealer_payments"));$u.component("FactoringDealerPurchaseOrdersComponent",Vst);var x1t=document.getElementById("factoring_dealer_purchase_orders");x1t&&($u.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$u.use(Xe),$u.provide("baseURL",Wt),$u.mount("#factoring_dealer_purchase_orders"));wu.component("FactoringDealerPendingPurchaseOrdersComponent",crt);var P1t=document.getElementById("factoring_dealer_pending_purchase_orders");P1t&&(wu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),wu.use(Xe),wu.provide("baseURL",Wt),wu.mount("#factoring_dealer_pending_purchase_orders"));Pu.component("FactoringDealerSettings",vft);var E1t=document.getElementById("factoring-dealer-settings");E1t&&(Pu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Pu.use(Xe),Pu.provide("baseURL",Wt),Pu.mount("#factoring-dealer-settings"));Eu.component("FactoringDealerInvoicesUpload",bJe);var A1t=document.getElementById("factoring-dealer-invoices-upload");A1t&&(Eu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Eu.use(Xe),Eu.provide("baseURL",Wt),Eu.mount("#factoring-dealer-invoices-upload"));Iu.component("FactoringDealerCbsTransactions",sgt);var I1t=document.getElementById("factoring-dealer-cbs-transactions");I1t&&(Iu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Iu.use(Xe),Iu.provide("baseURL",Wt),Iu.mount("#factoring-dealer-cbs-transactions"));let S0=document.querySelector(".view-switcher");S0&&S0.addEventListener("change",function(o){o.preventDefault(),o.target.value=="factoring"?window.location.href="https://scf.amaniaccess.com/anchor/factoring":o.target.value=="dealer"?window.location.href="https://scf.amaniaccess.com/anchor/dealer":window.location.href="https://scf.amaniaccess.com/anchor/dashboard"});const R1t={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},S1t={"aria-label":"Page navigation",class:"mt-2 d-flex justify-content-between"},T1t={key:0,class:"d-flex my-auto text-primary"},j1t={class:"mx-1 fw-bold"},O1t={class:"mx-1 fw-bold"},M1t={class:"mx-1 fw-bold"},L1t={class:"pagination justify-content-end"},N1t={class:"page-item prev"},F1t=["onClick","innerHTML"],Y1t={class:"page-item next"};function V1t(o,a,s,t,c,m){return u(),f("nav",S1t,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",T1t,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",j1t,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",O1t,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",M1t,n(s.total_items),1)])):b("",!0)]),e("ul",L1t,[e("li",N1t,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(W,null,X(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,F1t)):b("",!0)],2))),128)),e("li",Y1t,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const Na=Ue(R1t,[["render",V1t]]),B1t={name:"Notifications",components:{Pagination:Na},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h(50),m=async()=>{await A.get(s+"notifications/view/data",{params:{per_page:c.value}}).then(i=>{t.value=i.data})},_=i=>{A.get(`${s}notifications/${i.id}/read`).then(()=>{m(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},l=()=>{A.get(s+"notifications/all/update/read").then(()=>{m(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{m()}),{moment:H,logs:t,per_page:c,markAsRead:_,markAllAsRead:l,changePage:async i=>{await A.get(i).then(d=>{t.value=d.data.data})}}}},U1t={class:"card p-2"},q1t={class:"table-responsive"},H1t={class:"table"},z1t={class:""},W1t={class:"table-border-bottom-0"},K1t={key:0},G1t={colspan:"12",class:"text-center"},Q1t={class:"text-center"},Z1t={key:1},J1t={colspan:"12",class:"text-center"},X1t={class:"text-center"},ebt={key:0},tbt={key:0},obt={key:1},abt={key:2},nbt={key:3},sbt={key:4},lbt={key:5},ibt={key:6},rbt={key:7},dbt={key:8},cbt={key:9},ubt={key:1},_bt={key:2},mbt=["onClick"];function fbt(o,a,s,t,c,m){return u(),f("div",U1t,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",q1t,[e("table",H1t,[e("thead",null,[e("tr",z1t,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",W1t,[t.logs?b("",!0):(u(),f("tr",K1t,[e("td",G1t,[e("span",Q1t,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",Z1t,[e("td",J1t,[e("span",X1t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",ebt,[_.type=="App\\Notifications\\PurchaseOrderCreated"?(u(),f("span",tbt,n("Purchase Order: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\PaymentRequestUpdated"?(u(),f("span",obt,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\FinanceRequestUpdated"?(u(),f("span",abt,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",nbt,n("Invoice Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",sbt,n("Invoice Creation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",lbt,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",ibt,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",rbt,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",dbt,n("Configurations: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUpdation"?(u(),f("span",cbt,n("Company Updated: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",ubt,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",_bt,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,mbt)])):b("",!0)]))),128))])])])])}const hbt=Ue(B1t,[["render",fbt]]),pbt={name:"AllInvoices",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},props:["can_replicate"],setup(o){const a=o.can_replicate,s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(null),i=h(0),d=h(0),p=h(0),v=h(""),g=h(""),D=h(""),y=h(""),C=h([]),x=h([]),E=h(""),k=h(""),w=h(""),T=h(0),V=h(50),B=async()=>{await A.get(t+"invoices/data?per_page="+V.value,{params:{anchor:v.value,invoice_number:g.value,from_date:D.value,to_date:y.value,status:C.value,financing_status:x.value,sort_by:k.value}}).then(ae=>{c.value=ae.data.invoices})};ot([V],async([ae])=>{await A.get(t+"invoices/data",{params:{per_page:ae,anchor:v.value,invoice_number:g.value,from_date:D.value,to_date:y.value,status:C.value,financing_status:x.value,sort_by:k.value}}).then(J=>{c.value=J.data.invoices})});const O=async(ae,J)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+ae+"/details").then(z=>{l.value=z.data,T.value++,bt(()=>{document.getElementById(J).click()})}).catch(z=>{console.log(z)})},L=async(ae,J)=>{await A.get(t+"purchase-orders/"+ae+"/show").then(z=>{r.value=z.data,bt(()=>{document.getElementById(J).click()})}).catch(z=>{console.log(z)})},R=ae=>{let J="";switch(ae){case"Overdue":J="bg-label-danger";break;case"Created":J="bg-label-secondary";break;case"Pending Maker":J="bg-label-primary";break;case"Pending Checker":J="bg-label-danger";break;case"Submitted":J="bg-label-primary";break;case"Approved":J="bg-label-success";break;case"Disbursed":J="bg-label-success";break;case"Denied":J="bg-label-danger";break;case"Rejected":J="bg-label-danger";break;case"Internal Reject":J="bg-label-danger";break;default:J="bg-label-primary";break}return J},P=ae=>{let J="";switch(ae){case"pending":J="bg-label-primary";break;case"submitted":J="bg-label-warning";break;case"financed":J="bg-label-success";break;case"closed":J="bg-label-secondary";break;case"denied":J="bg-label-danger";break;default:J="bg-label-primary";break}return J},I=async(ae,J)=>{const z=new FormData;z.append("status",J),z.append("rejection_reason",w.value),await A.post(t+"invoices/"+ae.id+"/request/send",z).then(()=>{s.success("Invoice updated successfully"),B()}).catch(ne=>{console.log(ne),s.error("An error occurred")})},S=(ae,J)=>(J/ae*100).toFixed(2),F=()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{anchor:v.value,invoice_number:g.value,from_date:D.value,to_date:y.value,status:C.value,financing_status:x.value,sort_by:k.value}}).then(ae=>{const J=window.URL.createObjectURL(new Blob([ae.data])),z=document.createElement("a");z.href=J,z.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(z),z.click()}).catch(ae=>{console.log(ae)})},N=ae=>{A.delete(t+"invoices/"+ae.id+"/delete").then(J=>{document.getElementById("close-delete-invoice-modal-"+ae.id).click(),s.success(J.data.message),B()}).catch(J=>{console.log(J),s.error(J.response.data.message)})};return Qe(()=>{B(),$("#invoices-status-select").on("change",function(){var ae=$("#invoices-status-select").val();C.value=ae}),$("#financing-status-select").on("change",function(){var ae=$("#financing-status-select").val();x.value=ae})}),{can_replicate:a,moment:H,invoices:c,eligibility:m,eligibility_amount:_,business_spread:d,discount_amount:p,invoice_details:l,pi_amount:i,anchor_search:v,invoice_number_search:g,from_date_search:D,to_date_search:y,status_search:C,financing_status_search:x,sort_by:k,per_page:V,rejected_reason:w,purchase_order_details:r,deleteInvoice:N,resolveStatus:R,resolveFinancingStatus:P,requestApproval:I,changePage:async ae=>{await A.get(ae,{params:{per_page:V.value,anchor:v.value,invoice_number:g.value,from_date:D.value,to_date:y.value,status:C.value,financing_status:x.value,sort_by:k.value}}).then(J=>{c.value=J.data.invoices})},getTaxPercentage:S,exportInvoices:F,clearSearch:async()=>{let ae=$(".ti-refresh").parent();ae.html('<img src="../../../../../assets/img/spinner.svg" />'),v.value="",g.value="",D.value="",y.value="",C.value="",x.value="",E.value="",k.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"invoices/data",{params:{per_page:V.value}}).then(J=>{c.value=J.data.invoices,ae.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{E.value=$("#date_search").val(),E.value&&(D.value=H(E.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(E.value.split(" - ")[1]).format("YYYY-MM-DD"));let ae=$(".ti-search").parent();ae.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/data",{params:{per_page:V.value,anchor:v.value,invoice_number:g.value,from_date:D.value,to_date:y.value,status:C.value,financing_status:x.value,sort_by:k.value}}).then(J=>{c.value=J.data.invoices,ae.html('<i class="ti ti-search"></i>')})},showInvoice:O,showPurchaseOrder:L,invoice_details_key:T}}},vbt={class:"p-0"},gbt={class:"d-flex justify-content-between p-0"},bbt={class:"d-flex flex-wrap gap-1"},ybt={class:""},kbt={for:"Anchor",class:"form-label"},$bt={class:""},wbt={for:"Invoice No",class:"form-label"},Dbt={class:""},Cbt={class:"form-label",for:""},xbt={class:""},Pbt={for:"Status",class:"form-label"},Ebt={value:"pending_maker"},Abt={value:"pending_checker"},Ibt={value:"approved"},Rbt={value:"rejected"},Sbt={value:"internal_reject"},Tbt={value:"past_due"},jbt={value:"expired"},Obt={class:""},Mbt={for:"Financing Status",class:"form-label"},Lbt={value:"pending"},Nbt={value:"submitted"},Fbt={value:"financed"},Ybt={value:"disbursed"},Vbt={value:"closed"},Bbt={value:"denied"},Ubt={class:""},qbt={for:"Financing Status",class:"form-label"},Hbt={value:""},zbt={value:"po_asc"},Wbt={value:"po_desc"},Kbt={value:"invoice_no_asc"},Gbt={value:"invoice_no_desc"},Qbt={value:"invoice_amount_asc"},Zbt={value:"invoice_amount_desc"},Jbt={value:"due_date_asc"},Xbt={value:"due_date_desc"},eyt={class:"table-search-btn"},tyt={class:"table-clear-btn"},oyt={class:"d-flex justify-content-end gap-1 mt-auto",style:{height:"fit-content"}},ayt={href:"invoices/create"},nyt={type:"button",class:"btn btn-primary text-nowrap"},syt={class:"table-responsive"},lyt={class:"table"},iyt={key:0},ryt={colspan:"12",class:"text-center"},dyt={class:"text-center"},cyt={key:1},uyt={colspan:"12",class:"text-center"},_yt={class:"text-center"},myt=["onClick"],fyt={href:"javascript:;",class:"dropdown-item"},hyt={key:0,class:"text-primary text-decoration-underline"},pyt=["onClick"],vyt={key:1},gyt={class:"text-success text-nowrap"},byt={key:0},yyt={key:1},kyt={class:""},$yt={class:""},wyt={class:""},Dyt={class:"text-success text-nowrap"},Cyt={class:""},xyt={class:"d-inline-block"},Pyt=["id","data-bs-target"],Eyt=["id","data-bs-target"],Ayt=["id","data-bs-target"],Iyt=["id","data-bs-target"],Ryt=["id","data-bs-target"],Syt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Tyt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},jyt={class:"modal-content"},Oyt={class:"modal-body"},Myt={class:"d-flex justify-content-center"},Lyt={class:"dropdown-menu dropdown-menu-end m-0"},Nyt=["onClick"],Fyt={key:0},Yyt=["href"],Vyt={key:1},Byt=["href"],Uyt={key:2},qyt=["onClick"],Hyt={key:3},zyt=["data-bs-target"],Wyt={key:4},Kyt=["data-bs-target"],Gyt=["id"],Qyt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Zyt={class:"modal-content"},Jyt={class:"modal-header"},Xyt={class:"modal-title",id:"modalCenterTitle"},e0t=["id"],t0t={class:"modal-body"},o0t={class:"d-flex justify-content-between"},a0t={class:"modal-footer"},n0t=["id"],s0t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},l0t={class:"modal-content"},i0t={class:"modal-header"},r0t={class:"modal-title",id:"modalCenterTitle"},d0t=["id"],c0t=["onSubmit"],u0t={class:"modal-body"},_0t={for:"reason",class:"form-label"},m0t={class:"modal-footer"},f0t={class:"btn btn-danger",type:"submit"},h0t=["id"],p0t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},v0t={class:"modal-content"},g0t={class:"modal-header"},b0t={class:"modal-title",id:"modalCenterTitle"},y0t={class:"d-flex"},k0t=["href"],$0t=["href"],w0t={class:"modal-body"},D0t={class:"d-flex justify-content-between"},C0t={class:"mb-3 w-50"},x0t={class:"d-flex justify-content-between"},P0t={class:"fw-light my-auto"},E0t={class:"fw-bold mx-2 my-auto"},A0t={class:"d-flex justify-content-between"},I0t={class:"fw-light my-auto"},R0t={class:"fw-bold mx-2 my-auto"},S0t={class:"d-flex justify-content-between"},T0t={class:"fw-light my-auto"},j0t={class:"fw-bold mx-2 my-auto"},O0t={class:"d-flex justify-content-between"},M0t={class:"fw-light my-auto"},L0t={key:0,class:"d-flex justify-content-between"},N0t={class:"fw-light my-auto"},F0t={class:"fw-bold mx-2 my-auto"},Y0t={class:"mb-3"},V0t={class:"d-flex justify-content-between"},B0t={class:"my-auto fw-light"},U0t={class:"fw-bold mx-2 my-auto"},q0t={class:"d-flex justify-content-between"},H0t={class:"my-auto fw-light"},z0t={class:"fw-bold mx-2 my-auto"},W0t={class:"d-flex justify-content-between"},K0t={class:"my-auto fw-light"},G0t={class:"fw-bold mx-2 my-auto"},Q0t={class:"d-flex justify-content-between"},Z0t={class:"my-auto fw-light"},J0t={class:"fw-bold text-success mx-2 my-auto"},X0t={class:"table-responsive"},e2t={class:"table"},t2t={class:"bg-label-secondary px-2"},o2t={class:"d-flex justify-content-end"},a2t={class:"mx-2 my-auto py-1"},n2t={class:"text-success my-auto py-1"};function s2t(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",vbt,[e("div",gbt,[e("div",bbt,[e("div",ybt,[e("label",kbt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",$bt,[e("label",wbt,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Dbt,[e("label",Cbt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",xbt,[e("label",Pbt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoices-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",Ebt,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",Abt,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",Ibt,n(o.$t("Approved")),1),e("option",Rbt,n(o.$t("Rejected")),1),e("option",Sbt,n(o.$t("Internal Rejected")),1),e("option",Tbt,n(o.$t("Overdue")),1),e("option",jbt,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",Obt,[e("label",Mbt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",Lbt,n(o.$t("Pending")),1),e("option",Nbt,n(o.$t("Submitted")),1),e("option",Fbt,n(o.$t("Financed")),1),e("option",Ybt,n(o.$t("Disbursed")),1),e("option",Vbt,n(o.$t("Closed")),1),e("option",Bbt,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",Ubt,[e("label",qbt,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",Hbt,n(o.$t("Sort By")),1),e("option",zbt,n(o.$t("PO No. (ASC)")),1),e("option",Wbt,n(o.$t("PO No. (DESC)")),1),e("option",Kbt,n(o.$t("Invoice No. (ASC)")),1),e("option",Gbt,n(o.$t("Invoice No. (DESC)")),1),e("option",Qbt,n(o.$t("Invoice Amount. (ASC)")),1),e("option",Zbt,n(o.$t("Invoice Amount. (DESC)")),1),e("option",Jbt,n(o.$t("Due Date. (ASC)")),1),e("option",Xbt,n(o.$t("Due Date. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",eyt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",tyt,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",oyt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("a",ayt,[e("button",nyt,[a[18]||(a[18]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Create Invoice")),1)])])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",syt,[e("table",lyt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PO"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",iyt,[e("td",ryt,[e("span",dyt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",cyt,[e("td",uyt,[e("span",_yt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",fyt,n(i.invoice_number),1)],8,myt),i.purchase_order_number?(u(),f("td",hyt,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,pyt)])):(u(),f("td",vyt,a[19]||(a[19]=[e("span",null,"-",-1)]))),e("td",gyt,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",byt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",yyt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",kyt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",$yt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",wyt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Dyt,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",Cyt,[e("div",xyt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Pyt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Eyt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Ayt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,Iyt),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,Ryt),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Syt,[e("div",Tyt,[e("div",jyt,[e("div",Oyt,[e("div",Myt,[e("span",null,n(o.$t("Loading"))+"...",1),a[20]||(a[20]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Lyt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,Nyt)]),i.can_edit?(u(),f("li",Fyt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,Yyt)])):b("",!0),i.can_replicate?(u(),f("li",Vyt,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,Byt)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",Uyt,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,qyt)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",Hyt,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,zyt)])):b("",!0),i.can_delete?(u(),f("li",Wyt,[e("button",{class:"dropdown-item btn btn-sm badge bg-label-warning","data-bs-toggle":"modal","data-bs-target":"#delete-invoice-"+i.id},n(o.$t("Delete")),9,Kyt)])):b("",!0)])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"delete-invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",Qyt,[e("div",Zyt,[e("div",Jyt,[e("h5",Xyt,n(o.$t("Delete Invoice")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"close-delete-invoice-modal-"+t.invoice_details.id,"aria-label":"Close"},null,8,e0t)]),e("div",t0t,[e("div",o0t,[e("h5",null,n(o.$t("Are you sure you want to delete the invoice"))+" "+n(t.invoice_details.invoice_number)+"? ",1)])]),e("div",a0t,[e("button",{onClick:a[11]||(a[11]=d=>t.deleteInvoice(t.invoice_details)),class:"btn btn-danger"},n(o.$t("Delete")),1)])])])],8,Gyt)):b("",!0),e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",s0t,[e("div",l0t,[e("div",i0t,[e("h5",r0t,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,d0t)]),e("form",{onSubmit:st(d=>t.requestApproval(i,"reject"),["prevent"])},[e("div",u0t,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoice"))+"?",1),e("label",_0t,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[12]||(a[12]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",m0t,[e("button",f0t,n(o.$t("Confirm")),1)])],40,c0t)])])],8,n0t),t.purchase_order_details?(u(),f("div",{key:3,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",p0t,[e("div",v0t,[e("div",g0t,[e("h5",b0t,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",y0t,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,k0t)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,$0t)):b("",!0)])]),e("div",w0t,[e("div",D0t,[e("div",C0t,[e("span",x0t,[e("h5",P0t,n(o.$t("Vendor"))+":",1),e("h6",E0t,n(t.purchase_order_details.company.name),1)]),e("span",A0t,[e("h5",I0t,n(o.$t("Delivery Address"))+":",1),e("h6",R0t,n(t.purchase_order_details.delivery_address),1)]),e("span",S0t,[e("h5",T0t,n(o.$t("Remarks"))+":",1),e("h6",j0t,n(t.purchase_order_details.remarks),1)]),e("span",O0t,[e("h5",M0t,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",L0t,[e("h5",N0t,n(o.$t("Rejection Reason"))+":",1),e("h6",F0t,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Y0t,[e("span",V0t,[e("h5",B0t,n(o.$t("PO No"))+":",1),e("h6",U0t,n(t.purchase_order_details.purchase_order_number),1)]),e("span",q0t,[e("h5",H0t,n(o.$t("Start Date"))+":",1),e("h6",z0t,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",W0t,[e("h5",K0t,n(o.$t("End Date"))+":",1),e("h6",G0t,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",Q0t,[e("h5",Z0t,n(o.$t("PO Amount"))+":",1),e("h6",J0t,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",X0t,[e("table",e2t,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",t2t,[e("span",o2t,[e("h6",a2t,n(o.$t("Total")),1),e("h5",n2t,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,h0t)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const l2t=Ue(pbt,[["render",s2t]]),i2t={name:"Payments",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(50),r=async()=>{await A.get(o+"invoices/payments/data",{params:{per_page:l.value}}).then(x=>{a.value=x.data})},i=x=>{let E="";switch(x){case"Created":E="bg-label-secondary";break;case"Pending Maker":E="bg-label-primary";break;case"Pending Checker":E="bg-label-warning";break;case"Submitted":E="bg-label-primary";break;case"Approved":E="bg-label-success";break;case"Disbursed":E="bg-label-success";break;case"Denied":E="bg-label-danger";break;default:E="bg-label-primary";break}return E},d=x=>{let E="";switch(x){case"pending":E="bg-label-primary";break;case"financed":E="bg-label-success";break;case"closed":E="bg-label-secondary";break;case"denied":E="bg-label-danger";break;default:E="bg-label-primary";break}return E},p=async(x,E)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+x+"/details").then(k=>{_.value=k.data,bt(()=>{document.getElementById(E).click()})}).catch(k=>{console.log(k)})},v=async(x,E)=>{await A.get(o+"purchase-orders/"+x+"/show").then(k=>{purchase_order_details.value=k.data,bt(()=>{document.getElementById(E).click()})}).catch(k=>{console.log(k)})},g=(x,E)=>(E/x*100).toFixed(2),D=()=>{A.get("/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)})};Qe(()=>{r()});const y=async x=>{await A.get(x,{params:{per_page:l.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(E=>{a.value=E.data})};return ot([s,t,c,m,l],async([x,E,k,w,T])=>{await A.get("invoices/payments/data",{params:{per_page:T,anchor:x,invoice_number:E,paid_date:k,pi_number:w}}).then(V=>{a.value=V.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:l,resolveStatus:i,resolveFinancingStatus:d,getTaxPercentage:g,exportInvoices:D,changePage:y,clearSearch:()=>{s.value="",t.value="",c.value=""},invoice_details:_,showInvoice:p,showPurchaseOrder:v}}},r2t={class:"card"},d2t={class:"card-body"},c2t={class:"d-flex justify-content-between"},u2t={class:"d-flex flex-wrap"},_2t={class:""},m2t={class:"mx-1"},f2t={class:"mx-1"},h2t={class:"mx-1"},p2t={class:"mx-1 table-clear-btn"},v2t={class:"d-flex mx-2",style:{height:"fit-content"}},g2t={class:"table-responsive"},b2t={class:"table"},y2t={key:0},k2t={colspan:"12",class:"text-center"},$2t={class:"text-center"},w2t={key:1},D2t={colspan:"12",class:"text-center"},C2t={class:"text-center"},x2t=["onClick"],P2t={href:"javascript:;",class:"dropdown-item"},E2t={class:"text-success"},A2t={class:"text-primary"},I2t={class:""},R2t={class:"text-success"},S2t={class:""},T2t={class:"d-inline-block"},j2t=["id","data-bs-target"],O2t=["id","data-bs-target"],M2t=["id","data-bs-target"],L2t={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},N2t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},F2t={class:"modal-content"},Y2t={class:"modal-body"},V2t={class:"d-flex justify-content-center"},B2t=["id"],U2t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},q2t={class:"modal-content"},H2t={class:"modal-header"},z2t={class:"modal-title",id:"modalCenterTitle"},W2t={class:"d-flex"},K2t=["href"],G2t=["href"],Q2t={class:"modal-body"},Z2t={class:"d-flex justify-content-between"},J2t={class:"mb-3 w-50"},X2t={class:"d-flex justify-content-between"},ekt={class:"fw-light my-auto"},tkt={class:"fw-bold mx-2 my-auto"},okt={class:"d-flex justify-content-between"},akt={class:"fw-light my-auto"},nkt={class:"fw-bold mx-2 my-auto"},skt={class:"d-flex justify-content-between"},lkt={class:"fw-light my-auto"},ikt={class:"fw-bold mx-2 my-auto"},rkt={class:"d-flex justify-content-between"},dkt={class:"fw-light my-auto"},ckt={key:0,class:"d-flex justify-content-between"},ukt={class:"fw-light my-auto"},_kt={class:"fw-bold mx-2 my-auto"},mkt={class:"mb-3"},fkt={class:"d-flex justify-content-between"},hkt={class:"my-auto fw-light"},pkt={class:"fw-bold mx-2 my-auto"},vkt={class:"d-flex justify-content-between"},gkt={class:"my-auto fw-light"},bkt={class:"fw-bold mx-2 my-auto"},ykt={class:"d-flex justify-content-between"},kkt={class:"my-auto fw-light"},$kt={class:"fw-bold mx-2 my-auto"},wkt={class:"d-flex justify-content-between"},Dkt={class:"my-auto fw-light"},Ckt={class:"fw-bold text-success mx-2 my-auto"},xkt={class:"table-responsive"},Pkt={class:"table"},Ekt={class:"bg-label-secondary px-2"},Akt={class:"d-flex justify-content-end"},Ikt={class:"mx-2 my-auto py-1"},Rkt={class:"text-success my-auto py-1"};function Skt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",r2t,[e("div",d2t,[e("div",c2t,[e("div",u2t,[e("div",_2t,[a[10]||(a[10]=e("label",{for:"anchor",class:"form-label"},"Anchor",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",m2t,[a[11]||(a[11]=e("label",{for:"invoice-number",class:"form-label"},"Invoice Number",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",f2t,[a[12]||(a[12]=e("label",{for:"Pi Number",class:"form-label"},"PI No.",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[4]||(a[4]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[Q,t.pi_number_search]])]),e("div",h2t,[a[13]||(a[13]=e("label",{for:"Paid Date",class:"form-label"},"Paid Date",-1)),Y(e("input",{class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=i=>t.paid_date_search=i),onKeyup:a[7]||(a[7]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[Q,t.paid_date_search]])]),e("div",p2t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",v2t,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i)},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",g2t,[e("table",b2t,[a[21]||(a[21]=e("thead",null,[e("tr",null,[e("th",null,"Anchor"),e("th",null,"Invoice No."),e("th",null,"Invoice Amount"),e("th",null,"PI No"),e("th",null,"Paid Date"),e("th",null,"Paid Amount"),e("th")])],-1)),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",y2t,[e("td",k2t,[e("span",$2t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",w2t,[e("td",D2t,[e("span",C2t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",P2t,n(i.invoice_number),1)],8,x2t),e("td",E2t,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1),e("td",A2t,n(i.pi_number),1),e("td",I2t,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",R2t,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",S2t,[e("div",T2t,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,j2t),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,O2t),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,M2t),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",L2t,[e("div",N2t,[e("div",F2t,[e("div",Y2t,[e("div",V2t,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])])]),e("td",null,[t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),o.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",U2t,[e("div",q2t,[e("div",H2t,[e("h5",z2t,n(o.$t("Purchase Order")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",W2t,[e("div",null,[e("a",{href:"purchase-orders/"+o.purchase_order.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,K2t)]),o.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[19]||(a[19]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,G2t)):b("",!0)])]),e("div",Q2t,[e("div",Z2t,[e("div",J2t,[e("span",X2t,[e("h5",ekt,n(o.$t("Vendor"))+":",1),e("h6",tkt,n(o.purchase_order_details.company.name),1)]),e("span",okt,[e("h5",akt,n(o.$t("Delivery Address"))+":",1),e("h6",nkt,n(o.purchase_order_details.delivery_address),1)]),e("span",skt,[e("h5",lkt,n(o.$t("Remarks"))+":",1),e("h6",ikt,n(o.purchase_order_details.remarks),1)]),e("span",rkt,[e("h5",dkt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(o.purchase_order_details.approval_stage)])},n(o.purchase_order_details.approval_stage),3)]),o.purchase_order_details.rejection_reason?(u(),f("span",ckt,[e("h5",ukt,n(o.$t("Rejection Reason"))+":",1),e("h6",_kt,n(o.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",mkt,[e("span",fkt,[e("h5",hkt,n(o.$t("PO No"))+":",1),e("h6",pkt,n(o.purchase_order_details.purchase_order_number),1)]),e("span",vkt,[e("h5",gkt,n(o.$t("Start Date"))+":",1),e("h6",bkt,n(t.moment(o.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",ykt,[e("h5",kkt,n(o.$t("End Date"))+":",1),e("h6",$kt,n(t.moment(o.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",wkt,[e("h5",Dkt,n(o.$t("PO Amount"))+":",1),e("h6",Ckt,n(o.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(o.purchase_order_details.total_amount)),1)])])]),e("div",xkt,[e("table",Pkt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(o.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Ekt,[e("span",Akt,[e("h6",Ikt,n(o.$t("Total")),1),e("h5",Rkt,n(new Intl.NumberFormat().format(o.purchase_order_details.total_amount)),1)])])])])])],8,B2t)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Tkt=Ue(i2t,[["render",Skt]]),jkt={name:"AllInvoices",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},props:["can_replicate"],setup(o){const a=o.can_replicate,s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(0),d=h(0),p=h(""),v=h(""),g=h(""),D=h(""),y=h([]),C=h([]),x=h(""),E=h(0),k=h(50),w=async()=>{await A.get(t+"invoices/pending/data?per_page="+k.value).then(N=>{c.value=N.data.pending_invoices})};ot([k],async([N])=>{await A.get(t+"invoices/data",{params:{per_page:N,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:D.value,status:y.value,financing_status:C.value}}).then(U=>{c.value=U.data.invoices})});const T=async(N,U)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+N+"/details").then(Z=>{l.value=Z.data,E.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},V=N=>{let U="";switch(N){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-danger";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Internal Reject":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},O=async(N,U)=>{const Z=new FormData;Z.append("status",U),Z.append("rejection_reason",x.value),await A.post("invoices/"+N.id+"/request/send",Z).then(()=>{s.success("Invoice updated successfully"),setTimeout(()=>{window.location.reload()},2e3)}).catch(ce=>{console.log(ce),s.error("An error occurred")})},L=(N,U)=>(U/N*100).toFixed(2),R=()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:D.value,status:y.value,financing_status:C.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)})},P=N=>{A.delete(t+"invoices/"+N.id+"/delete").then(U=>{document.getElementById("close-delete-invoice-modal-"+N.id).click(),s.success(U.data.message),w()}).catch(U=>{console.log(U),s.error(U.response.data.message)})};return Qe(()=>{w(),$("#pending-invoices-status-select").on("change",function(){var N=$("#pending-invoices-status-select").val();y.value=N}),$("#pending-financing-status-select").on("change",function(){var N=$("#pending-financing-status-select").val();C.value=N})}),{can_replicate:a,moment:H,invoices:c,eligibility:m,eligibility_amount:_,business_spread:i,discount_amount:d,invoice_details:l,pi_amount:r,anchor_search:p,invoice_number_search:v,from_date_search:g,to_date_search:D,status_search:y,financing_status_search:C,per_page:k,rejected_reason:x,deleteInvoice:P,resolveStatus:V,resolveFinancingStatus:B,requestApproval:O,changePage:async N=>{await A.get(N,{params:{per_page:k.value,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:D.value,status:y.value,financing_status:C.value}}).then(U=>{c.value=U.data.invoices})},getTaxPercentage:L,exportInvoices:R,clearSearch:async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),p.value="",v.value="",g.value="",D.value="",y.value="",C.value="",$("#pending-invoices-status-select").val(""),$("#pending-invoices-status-select").trigger("change"),$("#pending-financing-status-select").val(""),$("#pending-financing-status-select").trigger("change"),await A.get(t+"invoices/pending/data",{params:{per_page:k.value}}).then(U=>{c.value=U.data.pending_invoices,N.html('<i class="ti ti-search"></i>')})},filter:async()=>{let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/pending/data",{params:{per_page:k.value,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:D.value,status:y.value,financing_status:C.value}}).then(U=>{c.value=U.data.pending_invoices,N.html('<i class="ti ti-search"></i>')})},showInvoice:T,invoice_details_key:E}}},Okt={class:"p-0"},Mkt={class:"d-flex justify-content-between p-0"},Lkt={class:"d-flex flex-wrap gap-1"},Nkt={class:""},Fkt={for:"Anchor",class:"form-label"},Ykt={class:""},Vkt={for:"Invoice No",class:"form-label"},Bkt={class:""},Ukt={for:"From Date",class:"form-label"},qkt={class:""},Hkt={class:""},zkt={for:"Status",class:"form-label"},Wkt={value:"pending_maker"},Kkt={value:"pending_checker"},Gkt={value:"approved"},Qkt={value:"rejected"},Zkt={value:"past_due"},Jkt={class:"table-search-btn"},Xkt={class:"table-clear-btn"},e$t={class:"d-flex justicy-content-end gap-1 mt-auto",style:{height:"fit-content"}},t$t={href:"invoices/create"},o$t={type:"button",class:"btn btn-primary btn-md text-nowrap"},a$t={class:"table-responsive"},n$t={class:"table"},s$t={key:0},l$t={colspan:"12",class:"text-center"},i$t={class:"text-center"},r$t={key:1},d$t={colspan:"12",class:"text-center"},c$t={class:"text-center"},u$t=["onClick"],_$t={href:"javascript:;",class:"dropdown-item"},m$t={class:"text-success text-nowrap"},f$t={key:0},h$t={key:1},p$t={class:""},v$t={class:""},g$t={class:""},b$t={class:"text-success text-nowrap"},y$t={class:""},k$t={class:"d-inline-block"},$$t=["id","data-bs-target"],w$t=["id","data-bs-target"],D$t=["id","data-bs-target"],C$t=["id","data-bs-target"],x$t={class:"modal fade",id:"pending-loading-modal",tabindex:"-1","aria-hidden":"true"},P$t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},E$t={class:"modal-content"},A$t={class:"modal-body"},I$t={class:"d-flex justify-content-center"},R$t={class:"dropdown-menu dropdown-menu-end m-0"},S$t=["onClick"],T$t={key:0},j$t=["href"],O$t={key:1},M$t=["href"],L$t={key:2},N$t=["onClick"],F$t={key:3},Y$t=["data-bs-target"],V$t={key:4},B$t=["data-bs-target"],U$t=["id"],q$t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},H$t={class:"modal-content"},z$t={class:"modal-header"},W$t={class:"modal-title",id:"modalCenterTitle"},K$t=["id"],G$t={class:"modal-body"},Q$t={class:"d-flex justify-content-between"},Z$t={class:"modal-footer"},J$t=["id"],X$t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ewt={class:"modal-content"},twt={class:"modal-header"},owt={class:"modal-title",id:"modalCenterTitle"},awt=["id"],nwt=["onSubmit"],swt={class:"modal-body"},lwt={for:"reason",class:"form-label"},iwt={class:"modal-footer"},rwt={class:"btn btn-danger",type:"submit"};function dwt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Okt,[e("div",Mkt,[e("div",Lkt,[e("div",Nkt,[e("label",Fkt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Ykt,[e("label",Vkt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Bkt,[e("label",Ukt,n(o.$t("From Date")),1),Y(e("input",{class:"form-control form-search",type:"date","onUpdate:modelValue":a[4]||(a[4]=i=>t.from_date_search=i),onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.from_date_search]])]),e("div",qkt,[a[15]||(a[15]=e("label",{for:"To Date",class:"form-label"},n("To Date"),-1)),Y(e("input",{class:"form-control form-search",type:"date","onUpdate:modelValue":a[6]||(a[6]=i=>t.to_date_search=i),onKeyup:a[7]||(a[7]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.to_date_search]])]),e("div",Hkt,[e("label",zkt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"pending-invoices-status-select",multiple:"","onUpdate:modelValue":a[8]||(a[8]=i=>t.status_search=i)},[e("option",Wkt,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",Kkt,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",Gkt,n(o.$t("Approved")),1),e("option",Qkt,n(o.$t("Rejected")),1),e("option",Zkt,n(o.$t("Overdue")),1)],512),[[re,t.status_search]])]),e("div",Jkt,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.filter&&t.filter(...i))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Xkt,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",e$t,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("a",t$t,[e("button",o$t,[a[20]||(a[20]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Create Invoice")),1)])])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",a$t,[e("table",n$t,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PO"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Disb Amount")),1),e("th",null,n(o.$t("Actions")),1),a[21]||(a[21]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",s$t,[e("td",l$t,[e("span",i$t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",r$t,[e("td",d$t,[e("span",c$t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",_$t,n(i.invoice_number),1)],8,u$t),e("td",null,n(i.purchase_order_number?i.purchase_order_number:"-"),1),e("td",m$t,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",f$t,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",h$t,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",p$t,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",v$t,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",g$t,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",b$t,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",y$t,[e("div",k$t,[a[23]||(a[23]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,$$t),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,w$t),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,D$t),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,C$t),a[24]||(a[24]=e("button",{class:"d-none",id:"pending-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal"},null,-1)),e("div",x$t,[e("div",P$t,[e("div",E$t,[e("div",A$t,[e("div",I$t,[e("span",null,n(o.$t("Loading"))+"...",1),a[22]||(a[22]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",R$t,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,S$t)]),i.can_edit?(u(),f("li",T$t,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,j$t)])):b("",!0),i.can_replicate?(u(),f("li",O$t,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,M$t)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",L$t,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,N$t)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",F$t,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Y$t)])):b("",!0),i.can_delete?(u(),f("li",V$t,[e("button",{class:"dropdown-item btn btn-sm badge bg-label-warning","data-bs-toggle":"modal","data-bs-target":"#delete-invoice-"+i.id},n(o.$t("Delete")),9,B$t)])):b("",!0)])])]),e("td",null,[t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"delete-invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",q$t,[e("div",H$t,[e("div",z$t,[e("h5",W$t,n(o.$t("Delete Invoice")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"close-delete-invoice-modal-"+t.invoice_details.id,"aria-label":"Close"},null,8,K$t)]),e("div",G$t,[e("div",Q$t,[e("h5",null,n(o.$t("Are you sure you want to delete the invoice"))+" "+n(t.invoice_details.invoice_number)+"? ",1)])]),e("div",Z$t,[e("button",{onClick:a[13]||(a[13]=d=>t.deleteInvoice(t.invoice_details)),class:"btn btn-danger"},n(o.$t("Delete")),1)])])])],8,U$t)):b("",!0),e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",X$t,[e("div",ewt,[e("div",twt,[e("h5",owt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,awt)]),e("form",{onSubmit:st(d=>t.requestApproval(i,"reject"),["prevent"])},[e("div",swt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoice"))+"?",1),e("label",lwt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.rejected_reason]])]),e("div",iwt,[e("button",rwt,n(o.$t("Confirm")),1)])],40,nwt)])])],8,J$t)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const cwt=Ue(jkt,[["render",dwt]]),uwt={name:"CashPlannerPrograms",components:{Pagination:Na},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"cash-planner/programs",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.programs})},per_page:s}}},_wt={class:"card"},mwt={class:"card-header"},fwt={class:"card-title"},hwt={class:"card-body"},pwt={class:"table-responsive"},vwt={class:"table"},gwt={class:"text-nowrap"},bwt={class:"table-border-bottom-0"},ywt={key:0},kwt={colspan:"12",class:"text-center"},$wt={class:"text-center"},wwt={key:1},Dwt={colspan:"12",class:"text-center"},Cwt={class:"text-center"},xwt={class:"fw-medium"},Pwt={class:"text-success text-nowrap"},Ewt={class:"text-success text-nowrap"},Awt={class:"text-success text-nowrap"},Iwt={class:"text-success text-nowrap"},Rwt={class:""};function Swt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",_wt,[e("div",mwt,[e("h6",fwt,n(o.$t("Limit Details")),1)]),e("div",hwt,[t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pwt,[e("table",vwt,[e("thead",null,[e("tr",gwt,[e("th",null,n(o.$t("Payment/OD Account No.")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",bwt,[t.programs.data?b("",!0):(u(),f("tr",ywt,[e("td",kwt,[e("span",$wt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",wwt,[e("td",Dwt,[e("span",Cwt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,[e("span",xwt,n(l.anchor_name),1)]),e("td",Pwt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Ewt,n(l.utilized_amount<0?0:new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Awt,n(l.pipeline_amount<0?0:new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Iwt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",Rwt,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Twt=Ue(uwt,[["render",Swt]]),jwt={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl,DatePicker:gi},props:["can_request","is_dashboard"],setup(o){const a=o.can_request,s=o.is_dashboard??!1,t=lt(),c=h([]),m=Je("baseURL"),_=h(null),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(H().format("DD MMM YYYY")),g=h(H().format("DD MMM YYYY")),D=h(new Date().toLocaleDateString("en-CA")),y=h(new Date().toLocaleDateString("en-CA")),C=h(1),x=h(0),E=h(1),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0),U=h(0),Z=h(0),ce=h(0),ae=h(0);h([]),h(0);const J=h(0),z=h(0);h(0);const ne=h(""),xe=h(!1),Fe=h(!1),he=h(0),ie=h(0),$e=h(0),we=h(0),se=h(!1),ge=h([]),be=h(!1),Me=h(""),ue=h(""),Oe=h(""),ze=h(""),Ye=h(""),ve=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),ee=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),oe=h(""),me=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(s?10:50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(null),Et=h(new Date);ot([Ot],async([je])=>{await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:je}}).then(ye=>{he.value=0,ie.value=0,$e.value=0,we.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount})})});const Dt=async()=>{at.value=$("#date_search").val(),at.value&&(me.value=H(at.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(at.value.split(" - ")[1]).format("YYYY-MM-DD"));let je=$(".ti-search").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(m+"cash-planner/invoices/eligible/data",{params:{anchor:Ze.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let je=$(".ti-refresh").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),Ze.value="",oe.value="",me.value="",Le.value="",at.value="",$("#date_search").val(""),await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-refresh"></i>')})},Kt=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+je+"/details").then(He=>{_.value=He.data,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+je+"/details").then(He=>{Ce.value=[],Ne.value=0,Ie.value=0,_.value=He.data,ae.value=_.value.due_date,w.value=0,_.value.invoice_items.forEach(pe=>{w.value+=pe.quantity*pe.price_per_quantity}),T.value=0,_.value.invoice_taxes.forEach(pe=>{T.value+=pe.value}),V.value=0,_.value.invoice_fees.forEach(pe=>{V.value+=pe.amount}),B.value=0,_.value.invoice_discounts.forEach(pe=>{pe.type=="percentage"?r.value+=pe.value/100*(w.value+T.value):r.value+=pe.value}),w.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount,O.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,S.value=H(_.value.due_date).diff(H(),"days")+1,L.value=_.value.vendor_configurations.eligibility,R.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,P.value=L.value/100*(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount),F.value=_.value.vendor_discount_details.total_roi,I.value=L.value/100*R.value*(F.value/100)*((H(_.value.due_date).diff(H(),"days")+1)/365),ve.value=_.value.program.discount_details[0].tax_on_discount,_e.value=ve.value/100*I.value,F.value>0&&_.value.vendor_discount_details.vendor_discount_bearing>0&&(I.value=_.value.vendor_discount_details.vendor_discount_bearing/F.value*I.value);let Nt=0,it=0,_t=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((pe,Re)=>{if(pe.type=="percentage")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*(pe.value/100*P.value*S.value);let vt=pe.vendor_bearing_discount/100*(pe.value/100*P.value*S.value);Nt+=pe.anchor_bearing_discount/100*(pe.value/100*P.value*S.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+pe.value+"%)"]),pe.taxes&&(_t+=pe.taxes/100*(pe.value/100*P.value)*S.value)}else{it+=pe.vendor_bearing_discount/100*(pe.value/100*P.value);let vt=pe.vendor_bearing_discount/100*(pe.value/100*P.value);Nt+=pe.anchor_bearing_discount/100*(pe.value/100*P.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+pe.value+"%)"]),pe.taxes&&(_t+=pe.taxes/100*(pe.value/100*P.value))}if(pe.type==="amount")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*pe.value*S.value;let vt=pe.vendor_bearing_discount/100*pe.value*S.value;Nt+=pe.anchor_bearing_discount/100*pe.value*S.value,pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+")"]),pe.taxes&&(_t+=pe.taxes/100*pe.value)}else{it+=pe.vendor_bearing_discount/100*pe.value;let vt=pe.vendor_bearing_discount/100*pe.value;Nt+=pe.anchor_bearing_discount/100*pe.value,pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+")"]),pe.taxes&&(_t+=pe.taxes/100*pe.value)}if(pe.type=="per amount")if(pe.charge_type==="daily"){it+=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value);let vt=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value);Nt+=pe.anchor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+" Per "+pe.per_amount+")"]),pe.taxes&&(_t+=pe.taxes/100*(Math.round(P.value/pe.per_amount)*pe.value*S.value))}else{it+=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value);let vt=pe.vendor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value);Nt+=pe.anchor_bearing_discount/100*(Math.round(P.value/pe.per_amount)*pe.value),pe.vendor_bearing_discount>0&&Ce.value.push([pe.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+pe.value+" Per "+pe.per_amount+")"]),pe.taxes&&(_t+=pe.taxes/100*(Math.round(P.value/pe.per_amount)*pe.value))}}),Ne.value+=it,Ie.value+=_t,_.value.program.discount_details[0].discount_type==="Front Ended"?U.value=P.value-Ne.value-Ie.value-I.value-_e.value:U.value=P.value-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),Z.value=_.value.min_financing_days,ce.value=_.value.max_financing_days,i.value=H(_.value.due_date).subtract(ce.value,"days").format("DD MMM YYYY"),H(i.value)<H()&&(i.value=H().format("DD MMM YYYY")),v.value=i.value,S.value=H(_.value.due_date).diff(H(i.value),"days"),d.value=H(_.value.due_date).subtract(Z.value,"days").format("DD MMM YYYY");let tt=[function(pe){return wt.value.includes(pe.getDay())}];Vt.value=new Date(d.value),wt.value.forEach(pe=>{gt.value.push(pe)}),mt.value.forEach(pe=>{tt.push('"'+pe+'"'),ut.value.push(new Date(pe))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:i.value,maxDate:d.value,disable:tt},D.value=H().format("DD MMM YYYY"),_.value.vendor_bank_details.forEach(pe=>{pe.account_number==_.value.credit_to?(ne.value=pe.id,se.value=!0):(ne.value="",se.value=!1)}),Fe.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(je,ye,He)=>{ye!=""&&(Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,Jt.value=!0,A.post(m+"invoices/remittance/amount",{invoices:ge.value,date:y.value}).then(Nt=>{Se.value=Nt.data.total_amount,Ve.value=Nt.data.total_remittance_amount,Jt.value=!1}),g.value=H(ye).format("DD MMM YYYY"),y.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(ge.value.length<=0)return t.error("Select Payment Instructions"),!1;y.value=new Date().toLocaleDateString("en-CA");let je=[function(ye){return wt.value.includes(ye.getDay())}];pt.value=new Date(p.value),wt.value.forEach(ye=>{gt.value.push(ye)}),mt.value.forEach(ye=>{je.push('"'+ye+'"'),ut.value.push(new Date(ye))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:p.value,disable:je},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(m+"invoices/remittance/amount",{invoices:ge.value,date:y.value}).then(ye=>{Se.value=ye.data.total_amount,Ve.value=ye.data.total_remittance_amount,Jt.value=!1}),be.value.click()},Ge=je=>{let ye="";switch(je){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(je=>{ue.value=je.data.terms_and_conditions,Oe.value=je.data.noa,Ye.value=je.data.terms_text,ze.value=je.data.noa_text,c.value=je.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,c.value.data.forEach(ye=>{he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,ie.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,$e.value+=ye.eligible_for_finance,we.value+=ye.actual_remittance_amount}),p.value=H(je.data.highest_due_date).subtract(je.data.min_financing_days,"days").format("DD MMM YYYY"),je.data.holidays.forEach(ye=>{mt.value.push(ye.date_formatted)}),je.data.off_days&&je.data.off_days.forEach(ye=>{wt.value.push(ye)})}).catch(je=>{console.log(je)})},yt=(je,ye,He)=>{w.value=_.value.total,T.value=_.value.total_invoice_taxes,V.value=_.value.total_invoice_fees,Ne.value=0,Ie.value=0,Ce.value=[];let Nt=_.value.total_invoice_discount;w.value=w.value+T.value-Nt;let it=w.value-V.value;R.value=L.value/100*it,N.value=C.value/100*R.value,S.value=H(_.value.due_date).diff(H(ye),"days"),I.value=L.value/100*it*(F.value/100)*(H(_.value.due_date).diff(H(ye),"days")/365),_e.value=ve.value/100*I.value,_.value.vendor_discount_details.vendor_discount_bearing>0&&(I.value=_.value.vendor_discount_details.vendor_discount_bearing/F.value*I.value);let _t=0,tt=0,pe=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((Re,vt)=>{if(Re.type=="percentage")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value*S.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value*S.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value*S.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(pe+=Re.taxes/100*(Re.value/100*P.value)*S.value)}else{_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(pe+=Re.taxes/100*(Re.value/100*P.value))}if(Re.type==="amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*Re.value*S.value;let Rt=Re.vendor_bearing_discount/100*Re.value*S.value;tt+=Re.anchor_bearing_discount/100*Re.value*S.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(pe+=Re.taxes/100*Re.value)}else{_t+=Re.vendor_bearing_discount/100*Re.value;let Rt=Re.vendor_bearing_discount/100*Re.value;tt+=Re.anchor_bearing_discount/100*Re.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(pe+=Re.taxes/100*Re.value)}if(Re.type=="per amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(pe+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value*S.value))}else{_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(pe+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value))}}),Ne.value+=_t,Ie.value+=pe,_.value.program.discount_details[0].discount_type=="Front Ended"?U.value=L.value/100*it-Ne.value-Ie.value-I.value-_e.value:U.value=L.value/100*it-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),v.value=H(ye).format("DD MMM YYYY")},Ct=async()=>{if(ne.value==""){t.error("Select Payment Account"),xe.value=!0;return}se.value=!1,await A.post(m+"cash-planner/invoices/request/send",{invoice_id:_.value.id,payment_request_date:v.value,credit_to:ne.value}).then(je=>{t.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(je=>{console.log(je),se.value=!0,je.response.data&&je.response.data.message?t.error(je.response.data.message):t.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{se.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const je=new FormData;ge.value.forEach(ye=>{je.append("invoices[]",ye.id)}),je.append("payment_request_date",g.value),await A.post(m+"cash-planner/invoices/request/multiple/send",je).then(ye=>{t.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),document.getElementById("select-all").checked=!1,c.value.data.forEach(He=>{document.getElementById("invoice-"+He.id).checked=!1}),ge.value=[],Se.value=0,Ve.value=0,nt()}).catch(ye=>{console.log(ye),se.value=!0,ye.response.data&&ye.response.data.message?t.error(ye.response.data.message):t.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(je,ye)=>(ye/je*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,is_dashboard:s,config:ke,config2:ee,moment:H,max_date:d,min_date:i,eligibility_amount:l,pi_amount:J,discount_amount:r,days_to_payment:E,total_remittance:k,processing_fee_amount:x,invoices:c,payment_date:v,request_payment_date:D,bulk_request_payment_date:y,credit_to:ne,taxes_amount:z,payment_account:xe,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ve,tax_on_discount_amount:_e,invoice_total_amount:w,invoice_taxes_amount:T,invoice_fees_amount:V,invoice_eligibility_percentage:L,invoice_eligibility_amount:R,invoice_eligibility_for_finance:P,invoice_discount_amount:I,invoice_days_to_payment:S,invoice_business_spread:F,invoice_processing_fee:N,invoice_min_financing_days:Z,invoice_due_date:ae,invoice_total_remmitance:U,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:Ge,total_invoice_amount:he,total_pi_amount:ie,total_eligible_amount:$e,total_actual_remittance:we,can_submit:se,selected_invoices:ge,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:Oe,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Pe,bulk_data_loading:Jt,anchor_search:Ze,invoice_number_search:oe,from_date_search:me,to_date_search:Le,date_search:at,per_page:Ot,formatNoa:je=>{let ye="";ze.value&&(ye=ze.value.body,ye=ye.replace("{date}",H(je.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",""),ye=ye.replace("{anchorName}",je.program.anchor.name),ye=ye.replace("{company}",je.company.name),ye=ye.replace("{anchorCompanyUniqueID}",je.program.anchor.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract}",""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorAccountName}",je.bank_details.length>0?je.bank_details[0].name_as_per_bank:""),ye=ye.replace("{anchorAccountNumber}",je.bank_details.length>0?je.bank_details[0].account_number:""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorBranch}",je.bank_details.length>0?je.bank_details[0].branch:""),ye=ye.replace("{anchorIFSCCode}",""),ye=ye.replace("{anchorAddress}",je.program.anchor.address+" "+je.program.anchor.postal_code+" "+je.program.anchor.city),ye=ye.replace("{penalnterestRate}",je.vendor_discount_details?je.vendor_discount_details.penal_discount_on_principle:""),ye=ye.replace("{sellerName}",je.company.name),ze.value.body=ye)},prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:Et,prime_bulk_max_date:pt,changePage:async je=>{await A.get(je,{params:{anchor:Ze.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{he.value=0,ie.value=0,$e.value=0,we.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,ie.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,we.value+=He.actual_remittance_amount,ge.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:Ct,invoice_details:_,viewRequestDetails:Fe,getTaxPercentage:Tt,updateSelected:je=>{let ye=ge.value.findIndex(He=>He.id==je.id);if(ye==-1?ge.value.push(je):ge.value.splice(ye,1),ge.value.length==c.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,ge.value.length>0){let He=ge.value[0].due_date,Nt=ge.value[0].min_financing_days;ge.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),d.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),pt.value=new Date(d.value),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?c.value.data.forEach(je=>{document.getElementById("invoice-"+je.id).checked=!0,ge.value.push(je)}):c.value.data.forEach(je=>{if(document.getElementById("invoice-"+je.id).checked==!0){document.getElementById("invoice-"+je.id).checked=!1;let ye;if(!ge.value.filter(function(Nt,it){ye=it,Nt.id==je.id}))return!1;ge.value.splice(ye,1)}})},acceptTerms:()=>{se.value=!se.value},filter:Dt,refresh:Ft,showInvoice:Kt}}},Owt={class:"card"},Mwt={key:0,class:"card-header"},Lwt={class:"card-body"},Nwt={key:0,class:"d-flex justify-content-between"},Fwt={class:"d-flex flex-wrap gap-1"},Ywt={class:""},Vwt={for:"Anchor",class:"form-label"},Bwt={class:""},Uwt={for:"Invoice No.",class:"form-label"},qwt={class:""},Hwt={class:"form-label",for:""},zwt={class:"table-search-btn"},Wwt={class:"table-clear-btn"},Kwt={class:"d-flex mx-2",style:{height:"fit-content"}},Gwt={class:"table-responsive"},Qwt={class:"table invoices-table"},Zwt={class:""},Jwt={key:0},Xwt={key:1},e5t={key:2},t5t={class:"invoices-table-content"},o5t={key:0},a5t={colspan:"12",class:"text-center"},n5t={class:"text-center"},s5t={key:1},l5t={colspan:"12",class:"text-center"},i5t={class:"text-center"},r5t={key:0},d5t={key:0,class:"form-check"},c5t=["id","onChange"],u5t={key:1},_5t=["onClick"],m5t=["title"],f5t={class:""},h5t={class:"text-success text-nowrap"},p5t={class:""},v5t={class:"text-success text-nowrap"},g5t={class:"text-success text-nowrap"},b5t={key:2,class:"text-success"},y5t=["onClick"],k5t=["id","data-bs-target"],$5t=["id","data-bs-target"],w5t={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},D5t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},C5t={class:"modal-content"},x5t={class:"modal-body"},P5t={class:"d-flex justify-content-center"},E5t=["id"],A5t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},I5t={class:"modal-content"},R5t={class:"modal-header"},S5t={class:"modal-title",id:"modalCenterTitle"},T5t={class:"modal-body"},j5t={class:"row"},O5t={class:"col-6"},M5t={class:"border-bottom d-flex justify-content-between"},L5t={for:"nameWithTitle",class:"form-label"},N5t={class:"text-success"},F5t={class:"border-bottom d-flex justify-content-between"},Y5t={for:"nameWithTitle",class:"form-label"},V5t={class:"text-success"},B5t={class:"border-bottom d-flex justify-content-between"},U5t={for:"nameWithTitle",class:"form-label"},q5t={class:"text-success"},H5t={class:"col-6"},z5t={class:"border-bottom d-flex justify-content-between"},W5t={for:"nameWithTitle",class:"form-label"},K5t={key:0,class:""},G5t={class:"border-bottom d-flex justify-content-between"},Q5t={for:"nameWithTitle",class:"form-label"},Z5t={key:0,class:""},J5t={class:"border-bottom d-flex justify-content-between"},X5t={for:"nameWithTitle",class:"form-label"},eDt={class:"text-success"},tDt={class:"mt-1"},oDt={class:"row"},aDt={key:0,class:"col-6"},nDt={class:"border-bottom d-flex justify-content-between"},sDt={for:"nameWithTitle",class:"form-label"},lDt={class:""},iDt={class:"border-bottom d-flex justify-content-between"},rDt={for:"nameWithTitle",class:"form-label"},dDt={class:""},cDt={class:"border-bottom d-flex justify-content-between"},uDt={for:"nameWithTitle",class:"form-label"},_Dt={key:0,class:""},mDt=["for"],fDt={class:"text-success"},hDt={class:"border-bottom d-flex justify-content-between"},pDt={for:"nameWithTitle",class:"form-label"},vDt={class:"text-success"},gDt={class:"border-bottom d-flex justify-content-between"},bDt={for:"nameWithTitle",class:"form-label"},yDt={class:"text-success"},kDt={class:"border-bottom d-flex justify-content-between"},$Dt={for:"nameWithTitle",class:"form-label"},wDt={class:"text-success"},DDt={class:"border-bottom d-flex justify-content-between"},CDt={for:"nameWithTitle",class:"form-label"},xDt={class:"text-success"},PDt={class:"text-success"},EDt={key:1,class:"col-6"},ADt={class:"border-bottom d-flex justify-content-between"},IDt={for:"nameWithTitle",class:"form-label"},RDt={class:""},SDt={class:"border-bottom d-flex justify-content-between"},TDt={for:"nameWithTitle",class:"form-label"},jDt={class:""},ODt={class:"border-bottom d-flex justify-content-between"},MDt={for:"nameWithTitle",class:"form-label"},LDt={key:0,class:""},NDt=["for"],FDt={class:"text-success"},YDt={class:"border-bottom d-flex justify-content-between"},VDt={for:"nameWithTitle",class:"form-label"},BDt={class:"text-success"},UDt={class:"border-bottom d-flex justify-content-between"},qDt={for:"nameWithTitle",class:"form-label"},HDt={class:"text-success"},zDt={class:"col-6"},WDt={class:"mt-1"},KDt={class:"row"},GDt={class:"col-12"},QDt={class:"border-bottom d-flex justify-content-between"},ZDt={for:"nameWithTitle",class:"form-label"},JDt={class:"",id:"payment_date"},XDt={class:"border-bottom d-flex justify-content-between"},e3t={for:"nameWithTitle",class:"form-label"},t3t={class:"text-success"},o3t={class:"border-bottom d-flex justify-content-between"},a3t={for:"nameWithTitle",class:"form-label"},n3t={class:"text-success"},s3t={key:0,class:"border-bottom d-flex justify-content-between"},l3t={for:"nameWithTitle",class:"form-label"},i3t={class:"text-success"},r3t={key:1,class:"border-bottom d-flex justify-content-between"},d3t={for:"nameWithTitle",class:"form-label"},c3t={class:"text-success"},u3t={class:"border-bottom d-flex justify-content-between"},_3t={for:"nameWithTitle",class:"form-label"},m3t={value:""},f3t=["value"],h3t={class:"modal-footer"},p3t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},v3t=["disabled","data-bs-target"],g3t=["id"],b3t={class:"modal-dialog modal-lg",role:"document"},y3t={class:"modal-content"},k3t={class:"modal-header"},$3t={class:"modal-title",id:"modalCenterTitle"},w3t={class:"modal-body"},D3t={key:0},C3t={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},x3t=["innerHTML"],P3t={key:2,href:"../cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},E3t={key:3},A3t={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},I3t=["innerHTML"],R3t=["href"],S3t={class:"modal-footer d-flex justify-content-between"},T3t={class:"mt-4"},j3t=["href"],O3t={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},M3t=["disabled"],L3t=["id"],N3t={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},F3t={class:"modal-content"},Y3t={class:"modal-header"},V3t={class:"modal-title",id:"modalCenterTitle"},B3t={class:"d-flex"},U3t={key:0,class:"d-flex"},q3t=["href"],H3t=["href"],z3t={class:"modal-body"},W3t={class:"d-flex justify-content-between mb-4"},K3t={class:"mb-3"},G3t={class:"d-flex justify-content-between"},Q3t={class:"fw-light my-auto"},Z3t={class:"fw-bold mx-2 my-auto"},J3t={class:"d-flex justify-content-between"},X3t={class:"fw-light my-auto"},eCt={class:"fw-bold mx-2 my-auto"},tCt={class:"d-flex justify-content-between"},oCt={class:"fw-light my-auto"},aCt={class:"fw-bold mx-2 my-auto"},nCt={class:"d-flex justify-content-between"},sCt={class:"fw-light my-auto"},lCt={class:"fw-bold mx-2 my-auto"},iCt={class:"d-flex justify-content-between"},rCt={class:"fw-light my-auto"},dCt={class:"fw-bold mx-2 my-auto"},cCt={key:0,class:"d-flex justify-content-between"},uCt={class:"fw-light my-auto"},_Ct={class:"fw-bold mx-2 my-auto"},mCt={key:1,class:"d-flex justify-content-between"},fCt={class:"fw-light my-auto"},hCt={class:"fw-bold mx-2 my-auto"},pCt={class:"mb-3"},vCt={key:0,class:"d-flex justify-content-between"},gCt={class:"my-auto fw-light"},bCt=["data-bs-target"],yCt={class:"d-flex justify-content-between"},kCt={class:"my-auto fw-light"},$Ct={class:"fw-bold mx-2 my-auto"},wCt={class:"d-flex justify-content-between"},DCt={class:"my-auto fw-light"},CCt={class:"fw-bold mx-2 my-auto"},xCt={class:"d-flex justify-content-between"},PCt={class:"my-auto fw-light"},ECt={class:"fw-bold mx-2 my-auto"},ACt={class:"d-flex justify-content-between"},ICt={class:"my-auto fw-light"},RCt={class:"fw-bold mx-2 my-auto"},SCt={class:"d-flex justify-content-between"},TCt={class:"my-auto fw-light"},jCt={class:"fw-bold text-success mx-2 my-auto"},OCt={class:"d-flex justify-content-between"},MCt={class:"my-auto fw-light"},LCt={class:"fw-bold mx-2 my-auto"},NCt={class:"d-flex justify-content-between"},FCt={class:"my-auto fw-light"},YCt={class:"fw-bold mx-2 my-auto"},VCt={class:"table-responsive"},BCt={class:"table"},UCt={class:"bg-label-primary"},qCt={class:"px-2"},HCt={class:"d-flex justify-content-end"},zCt={class:"mx-2 my-auto"},WCt={class:"text-success my-auto"},KCt={key:0,class:"px-2"},GCt={class:"mx-2 my-auto"},QCt={class:"text-success my-auto"},ZCt={key:1,class:"px-2"},JCt={class:"d-flex justify-content-end"},XCt={class:"mx-2 my-auto"},ext={class:"bg-label-secondary px-2"},txt={class:"d-flex justify-content-end"},oxt={class:"mx-2 my-auto py-1"},axt={class:"text-success my-auto py-1"},nxt=["id"],sxt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},lxt={class:"modal-content"},ixt={class:"modal-header"},rxt={class:"modal-title",id:"modalCenterTitle"},dxt={class:"d-flex"},cxt={key:0,class:"d-flex"},uxt=["href"],_xt=["href"],mxt={class:"modal-body"},fxt={class:"d-flex justify-content-between mb-4"},hxt={class:"mb-3"},pxt={class:"d-flex justify-content-between"},vxt={class:"fw-light my-auto"},gxt={class:"fw-bold mx-2 my-auto"},bxt={class:"d-flex justify-content-between"},yxt={class:"fw-light my-auto"},kxt={class:"fw-bold mx-2 my-auto"},$xt={class:"d-flex justify-content-between"},wxt={class:"fw-light my-auto"},Dxt={class:"fw-bold mx-2 my-auto"},Cxt={class:"d-flex justify-content-between"},xxt={class:"fw-light my-auto"},Pxt={class:"fw-bold mx-2 my-auto"},Ext={class:"d-flex justify-content-between"},Axt={class:"fw-light my-auto"},Ixt={class:"fw-bold mx-2 my-auto"},Rxt={key:0,class:"d-flex justify-content-between"},Sxt={class:"fw-light my-auto"},Txt={class:"fw-bold mx-2 my-auto"},jxt={key:1,class:"d-flex justify-content-between"},Oxt={class:"fw-light my-auto"},Mxt={class:"fw-bold mx-2 my-auto"},Lxt={class:"mb-3"},Nxt={key:0,class:"d-flex justify-content-between"},Fxt={class:"my-auto fw-light"},Yxt=["data-bs-target"],Vxt={class:"d-flex justify-content-between"},Bxt={class:"my-auto fw-light"},Uxt={class:"fw-bold mx-2 my-auto"},qxt={class:"d-flex justify-content-between"},Hxt={class:"my-auto fw-light"},zxt={class:"fw-bold mx-2 my-auto"},Wxt={class:"d-flex justify-content-between"},Kxt={class:"my-auto fw-light"},Gxt={class:"fw-bold mx-2 my-auto"},Qxt={class:"d-flex justify-content-between"},Zxt={class:"my-auto fw-light"},Jxt={class:"fw-bold mx-2 my-auto"},Xxt={class:"d-flex justify-content-between"},ePt={class:"my-auto fw-light"},tPt={class:"fw-bold text-success mx-2 my-auto"},oPt={class:"d-flex justify-content-between"},aPt={class:"my-auto fw-light"},nPt={class:"fw-bold mx-2 my-auto"},sPt={class:"d-flex justify-content-between"},lPt={class:"my-auto fw-light"},iPt={class:"fw-bold mx-2 my-auto"},rPt={class:"table-responsive"},dPt={class:"table"},cPt={class:"bg-label-primary"},uPt={class:"px-2"},_Pt={class:"d-flex justify-content-end"},mPt={class:"mx-2 my-auto"},fPt={class:"text-success my-auto"},hPt={key:0,class:"px-2"},pPt={class:"mx-2 my-auto"},vPt={class:"text-success my-auto"},gPt={key:1,class:"px-2"},bPt={class:"d-flex justify-content-end"},yPt={class:"mx-2 my-auto"},kPt={key:2,class:"px-2"},$Pt={class:"mx-2 my-auto py-1"},wPt={key:0,class:"text-success my-auto py-1"},DPt={key:1,class:"text-success my-auto py-1"},CPt={key:3,class:"px-2"},xPt={class:"d-flex justify-content-end"},PPt={class:"mx-2 my-auto py-1"},EPt={class:"d-flex justify-content-end"},APt={class:"mx-2 my-auto py-1"},IPt={class:"d-flex justify-content-end"},RPt={class:"mx-2 my-auto py-1"},SPt={class:"bg-label-secondary px-2"},TPt={class:"d-flex justify-content-end"},jPt={class:"mx-2 my-auto py-1"},OPt={class:"text-success my-auto py-1"},MPt={key:0,class:"text-nowrap"},LPt={class:"text-success"},NPt={class:"text-success"},FPt={class:"text-success"},YPt={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},VPt={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},BPt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},UPt={class:"modal-content"},qPt={class:"modal-header"},HPt={class:"modal-title",id:"modalCenterTitle"},zPt={class:"modal-body"},WPt={class:"d-flex justify-content-between"},KPt={key:0},GPt={key:1,src:At,style:{width:"1.3rem"}},QPt={class:"d-flex justify-content-between my-1"},ZPt={key:0},JPt={key:1,src:At,style:{width:"1.3rem"}},XPt={for:"Request Date",class:"form-label"},e4t={class:"modal-footer"},t4t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},o4t={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},a4t={class:"modal-dialog modal-lg",role:"document"},n4t={class:"modal-content"},s4t={class:"modal-header"},l4t={class:"modal-title",id:"modalCenterTitle"},i4t={class:"modal-body"},r4t={key:0},d4t={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},c4t=["innerHTML"],u4t={key:2,href:"../cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},_4t={class:"modal-footer d-flex justify-content-between"},m4t={class:"mt-4"},f4t=["href"],h4t={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},p4t=["disabled"],v4t={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},g4t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},b4t={class:"modal-content"},y4t={class:"modal-header"},k4t={class:"modal-title",id:"modalCenterTitle"},$4t={class:"modal-body"},w4t={class:"fw-bold"},D4t={class:"modal-footer"},C4t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function x4t(o,a,s,t,c,m){const _=de("pagination"),l=de("flat-pickr");return u(),f("div",Owt,[t.is_dashboard?b("",!0):(u(),f("div",Mwt,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)])),e("div",Lwt,[t.is_dashboard?b("",!0):(u(),f("div",Nwt,[e("div",Fwt,[e("div",Ywt,[e("label",Vwt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Bwt,[e("label",Uwt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=r=>t.invoice_number_search=r),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",qwt,[e("label",Hwt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[17]||(a[17]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",zwt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wwt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Kwt,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r)},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])),!t.is_dashboard&&t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Gwt,[e("table",Qwt,[e("thead",null,[e("tr",Zwt,[!t.is_dashboard&&t.can_request?(u(),f("th",Jwt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=r=>t.selectAll())},null,32)])):b("",!0),!t.is_dashboard&&t.can_request?(u(),f("th",Xwt,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=r=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",e5t,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",t5t,[t.invoices.data?b("",!0):(u(),f("tr",o5t,[e("td",a5t,[e("span",n5t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",s5t,[e("td",l5t,[e("span",i5t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,r=>(u(),f("tr",{key:r.id},[t.is_dashboard?b("",!0):(u(),f("td",r5t,[t.can_request&&r.payment_requests<=0?(u(),f("div",d5t,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+r.id,onChange:i=>t.updateSelected(r)},null,40,c5t)])):b("",!0)])),!t.is_dashboard&&t.can_request?(u(),f("td",u5t)):b("",!0),e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,_5t),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,m5t))]),e("td",f5t,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",h5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1)]),e("td",p5t,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",v5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",g5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",b5t,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,y5t)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,k5t),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,$5t),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",w5t,[e("div",D5t,[e("div",C5t,[e("div",x5t,[e("div",P5t,[e("span",null,n(o.$t("Loading"))+"...",1),a[21]||(a[21]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",A5t,[e("div",I5t,[e("div",R5t,[e("h5",S5t,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",T5t,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",j5t,[e("div",O5t,[e("div",M5t,[e("label",L5t,n(o.$t("Invoice Amount")),1),e("h6",N5t,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_details.total)),1)])]),e("div",F5t,[e("label",Y5t,n(o.$t("PI Amount"))+"(A)",1),e("h6",V5t,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)])]),e("div",B5t,[e("label",U5t,n(o.$t("Eligible Amount")),1),e("h6",q5t,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])])]),e("div",H5t,[e("div",z5t,[e("label",W5t,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",K5t,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",G5t,[e("label",Q5t,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",Z5t,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",J5t,[e("label",X5t,n(o.$t("Eligible For Finance")),1),e("h6",eDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",tDt,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",oDt,[t.invoice_details.program.discount_details.length>0&&t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",aDt,[e("div",nDt,[e("label",sDt,n(o.$t("Early Payment Date")),1),e("h6",lDt,n(t.payment_date),1)]),e("div",iDt,[e("label",rDt,n(o.$t("Days to Payment")),1),e("h6",dDt,n(t.invoice_days_to_payment),1)]),e("div",cDt,[e("label",uDt,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",_Dt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,mDt),e("h6",fDt,n(i[1]),1)]))),128)),e("div",hDt,[e("label",pDt,[le(n(o.$t("Total Fees"))+" ",1),a[23]||(a[23]=e("strong",null,"(C)",-1))]),e("h6",vDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",gDt,[e("label",bDt,[le(n(o.$t("Tax On Fees "))+" ",1),a[24]||(a[24]=e("strong",null,"(D)",-1))]),e("h6",yDt,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",kDt,[e("label",$Dt,[le(n(o.$t("Discount Amount"))+" ",1),a[25]||(a[25]=e("strong",null,"(E)",-1))]),e("h6",wDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",DDt,[e("label",CDt,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",xDt,n(t.tax_on_discount)+"%",1),a[26]||(a[26]=e("strong",null,"(F)",-1))]),e("h6",PDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])])):(u(),f("div",EDt,[e("div",ADt,[e("label",IDt,n(o.$t("Early Payment Date")),1),e("h6",RDt,n(t.payment_date),1)]),e("div",SDt,[e("label",TDt,n(o.$t("Days to Payment")),1),e("h6",jDt,n(t.invoice_days_to_payment),1)]),e("div",ODt,[e("label",MDt,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",LDt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,NDt),e("h6",FDt,n(i[1]),1)]))),128)),e("div",YDt,[e("label",VDt,[le(n(o.$t("Total Fees"))+" ",1),a[27]||(a[27]=e("strong",null,"(C)",-1))]),e("h6",BDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",UDt,[e("label",qDt,[le(n(o.$t("Tax On Fees "))+" ",1),a[28]||(a[28]=e("strong",null,"(D)",-1))]),e("h6",HDt,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])])),e("div",zDt,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",WDt,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",KDt,[e("div",GDt,[e("div",QDt,[e("label",ZDt,n(o.$t("Early Payment Date")),1),e("h6",JDt,n(t.payment_date),1)]),e("div",XDt,[e("label",e3t,n(o.$t("Eligible Amount")),1),e("h6",t3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",o3t,[e("label",a3t,[le(n(o.$t("Request Amount"))+" ",1),a[29]||(a[29]=e("strong",null,"(B)",-1))]),e("h6",n3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",s3t,[e("label",l3t,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[30]||(a[30]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",i3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])):(u(),f("div",r3t,[e("label",d3t,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[31]||(a[31]=e("strong",null,"(B-C-D)",-1))]),e("h6",c3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])),e("div",u3t,[e("label",_3t,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[10]||(a[10]=i=>t.credit_to=i),onChange:a[11]||(a[11]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",m3t,n(o.$t("Select Payment Account")),1),(u(!0),f(W,null,X(t.invoice_details.vendor_bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,f3t))),128))],34)),[[re,t.credit_to]]):b("",!0)])])])]),e("div",h3t,[e("button",p3t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:a[12]||(a[12]=i=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,v3t)])])])],8,E5t)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",b3t,[e("div",y3t,[e("div",k3t,[e("h5",$3t,n(o.$t("Request Finance")),1),a[32]||(a[32]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",w3t,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",D3t,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",C3t,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,x3t)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",P3t,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",E3t,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",A3t,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,I3t)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,R3t)):b("",!0)]),e("div",S3t,[e("small",T3t,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,j3t)]),e("div",null,[e("button",O3t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[13]||(a[13]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,M3t)])])])])],8,g3t)])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",N3t,[e("div",F3t,[e("div",Y3t,[e("h5",V3t,n(o.$t("Invoice Details")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",B3t,[t.invoice_details.media.length>0?(u(),f("div",U3t,[(u(!0),f(W,null,X(t.invoice_details.media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[34]||(a[34]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,q3t))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[35]||(a[35]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,H3t)])]),e("div",z3t,[e("div",W3t,[e("div",K3t,[e("span",G3t,[e("h5",Q3t,n(o.$t("Anchor"))+":",1),e("h6",Z3t,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",J3t,[e("h5",X3t,n(o.$t("Delivery Address"))+":",1),e("h6",eCt,n(t.invoice_details.delivery_address),1)]),e("span",tCt,[e("h5",oCt,n(o.$t("Debit From"))+":",1),e("h6",aCt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",nCt,[e("h5",sCt,n(o.$t("Vendor"))+":",1),e("h6",lCt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",iCt,[e("h5",rCt,n(o.$t("Remarks"))+":",1),e("h6",dCt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",cCt,[e("h5",uCt,n(o.$t("Credit To"))+":",1),e("h6",_Ct,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",mCt,[e("h5",fCt,n(o.$t("Rejection Reason"))+":",1),e("h6",hCt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",pCt,[t.invoice_details.pi_number?(u(),f("span",vCt,[e("h5",gCt,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,bCt)])):b("",!0),e("span",yCt,[e("h5",kCt,n(o.$t("Invoice No."))+":",1),e("h6",$Ct,n(t.invoice_details.invoice_number),1)]),e("span",wCt,[e("h5",DCt,n(o.$t("PO No."))+":",1),e("h6",CCt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",xCt,[e("h5",PCt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",ECt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",ACt,[e("h5",ICt,n(o.$t("Invoice Date."))+":",1),e("h6",RCt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",SCt,[e("h5",TCt,n(o.$t("Amount"))+":",1),e("h6",jCt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",OCt,[e("h5",MCt,n(o.$t("Status."))+":",1),e("h6",LCt,n(t.invoice_details.approval_stage),1)]),e("span",NCt,[e("h5",FCt,n(o.$t("Due Date"))+":",1),e("h6",YCt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",VCt,[e("table",BCt,[e("thead",UCt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",qCt,[e("span",HCt,[e("h6",zCt,n(o.$t("Discount"))+":",1),e("h5",WCt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",KCt,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",GCt,n(i.name),1),e("h5",QCt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",ZCt,[e("span",JCt,[e("h6",XCt,n(o.$t("Tax")),1),a[37]||(a[37]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",ext,[e("span",txt,[e("h6",oxt,n(o.$t("Total")),1),e("h5",axt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,L3t)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",sxt,[e("div",lxt,[e("div",ixt,[e("h5",rxt,n(o.$t("Invoice Details")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",dxt,[t.invoice_details.media.length>0?(u(),f("div",cxt,[(u(!0),f(W,null,X(t.invoice_details.media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[38]||(a[38]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,uxt))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[39]||(a[39]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,_xt)])]),e("div",mxt,[e("div",fxt,[e("div",hxt,[e("span",pxt,[e("h5",vxt,n(o.$t("Anchor"))+":",1),e("h6",gxt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",bxt,[e("h5",yxt,n(o.$t("Delivery Address"))+":",1),e("h6",kxt,n(t.invoice_details.delivery_address),1)]),e("span",$xt,[e("h5",wxt,n(o.$t("Debit From"))+":",1),e("h6",Dxt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Cxt,[e("h5",xxt,n(o.$t("Vendor"))+":",1),e("h6",Pxt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Ext,[e("h5",Axt,n(o.$t("Remarks"))+":",1),e("h6",Ixt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Rxt,[e("h5",Sxt,n(o.$t("Credit To"))+":",1),e("h6",Txt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",jxt,[e("h5",Oxt,n(o.$t("Rejection Reason"))+":",1),e("h6",Mxt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Lxt,[t.invoice_details.pi_number?(u(),f("span",Nxt,[e("h5",Fxt,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Yxt)])):b("",!0),e("span",Vxt,[e("h5",Bxt,n(o.$t("PI No."))+":",1),e("h6",Uxt,n(t.invoice_details.pi_number),1)]),e("span",qxt,[e("h5",Hxt,n(o.$t("PO No."))+":",1),e("h6",zxt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Wxt,[e("h5",Kxt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Gxt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Qxt,[e("h5",Zxt,n(o.$t("Invoice Date."))+":",1),e("h6",Jxt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Xxt,[e("h5",ePt,n(o.$t("Amount"))+":",1),e("h6",tPt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",oPt,[e("h5",aPt,n(o.$t("Status."))+":",1),e("h6",nPt,n(t.invoice_details.approval_stage),1)]),e("span",sPt,[e("h5",lPt,n(o.$t("Due Date"))+":",1),e("h6",iPt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",rPt,[e("table",dPt,[e("thead",cPt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",uPt,[e("span",_Pt,[e("h6",mPt,n(o.$t("Discount"))+":",1),e("h5",fPt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",hPt,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",pPt,n(i.name),1),e("h5",vPt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",gPt,[e("span",bPt,[e("h6",yPt,n(o.$t("Tax")),1),a[41]||(a[41]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",kPt,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",$Pt,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",wPt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",DPt,n(i.amount),1))]))),128))])):(u(),f("div",CPt,[e("span",xPt,[e("h6",PPt,n(o.$t("WHT Tax"))+":",1),a[42]||(a[42]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",EPt,[e("h6",APt,n(o.$t("WHT VAT"))+":",1),a[43]||(a[43]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",IPt,[e("h6",RPt,n(o.$t("Credit Note Amount"))+":",1),a[44]||(a[44]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",SPt,[e("span",TPt,[e("h6",jPt,n(o.$t("Total")),1),e("h5",OPt,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,nxt)):b("",!0)]))),128))]),t.is_dashboard?b("",!0):(u(),f("tfoot",MPt,[e("tr",null,[a[45]||(a[45]=e("td",null,null,-1)),a[46]||(a[46]=e("td",null,null,-1)),a[47]||(a[47]=e("td",null,null,-1)),a[48]||(a[48]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",LPt,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),a[49]||(a[49]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",NPt,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",FPt,n(new Intl.NumberFormat().format(t.total_actual_remittance.toFixed(2))),1)]),a[50]||(a[50]=e("td",null,null,-1)),a[51]||(a[51]=e("td",null,null,-1))])]))])]),e("button",YPt,null,512),e("div",VPt,[e("div",BPt,[e("div",UPt,[e("div",qPt,[e("h5",HPt,n(o.$t("Request Finance")),1),a[52]||(a[52]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",zPt,[e("div",WPt,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",GPt)):(u(),f("span",KPt,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",QPt,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",JPt)):(u(),f("span",ZPt,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",XPt,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[14]||(a[14]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",e4t,[e("button",t4t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[15]||(a[15]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",o4t,[e("div",a4t,[e("div",n4t,[e("div",s4t,[e("h5",l4t,n(o.$t("Request Finance")),1),a[53]||(a[53]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",i4t,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",r4t,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",d4t,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,c4t)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",u4t,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",_4t,[e("small",m4t,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,f4t)]),e("div",null,[e("button",h4t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[16]||(a[16]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,p4t)])])])])]),a[55]||(a[55]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",v4t,[e("div",g4t,[e("div",b4t,[e("div",y4t,[e("h5",k4t,n(o.$t("Request for Finance successful")),1)]),e("div",$4t,[a[54]||(a[54]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",w4t,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",D4t,[e("button",C4t,n(o.$t("Close")),1)])])])]),!t.is_dashboard&&t.invoices.meta?(u(),fe(_,{key:2,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const P4t=Ue(jwt,[["render",x4t]]),E4t={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request"],setup(o){const a=o.can_request,s=lt(),t=h([]),c=Je("baseURL"),m=h(null),_=h(0),l=h(0),r=h(""),i=h(""),d=h(""),p=h(H().format("DD MMM YYYY")),v=h(H().format("DD MMM YYYY")),g=h(new Date().toLocaleDateString("en-CA")),D=h(new Date().toLocaleDateString("en-CA")),y=h(1),C=h(0),x=h(1),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0),U=h(0),Z=h(0),ce=h(0);h([]),h(0);const ae=h(0),J=h(0);h(0);const z=h(""),ne=h(!1),xe=h(!1),Fe=h(0),he=h(0),ie=h(0),$e=h(0),we=h(!1),se=h([]),ge=h(!1),be=h(""),Me=h(""),ue=h(""),Oe=h(""),ze=h(""),Ye=h(0),ve=h(0),_e=h(0),Se=h(0),Ve=h({inline:!0}),ke=h({inline:!0}),ee=h([]),Ce=h(0),Ne=h(0),Ie=h(""),oe=h(""),me=h(""),Le=h(""),Ze=h(""),at=h([]),mt=h([]),wt=h(10),Ot=h(!1),Jt=h([]),ut=h([]),gt=h(null),Vt=h(null),pt=h(new Date),Et=h(0);ot([wt],async([je])=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:je}}).then(ye=>{Fe.value=0,he.value=0,ie.value=0,$e.value=0,t.value=ye.data.invoices,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,ie.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount})})});const Dt=async()=>{Ze.value=$("#date_search").val(),Ze.value&&(oe.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),me.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let je=$(".ti-search").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+"cash-planner/invoices/eligible/data",{params:{anchor:Le.value,invoice_number:Ie.value,from_date:oe.value,to_date:me.value,per_page:wt.value}}).then(ye=>{t.value=ye.data.invoices,Fe.value=0,he.value=0,ie.value=0,$e.value=0,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,ie.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let je=$(".ti-refresh").parent();je.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ie.value="",oe.value="",me.value="",Ze.value="",$("#date_search").val(""),await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:wt.value}}).then(ye=>{t.value=ye.data.invoices,Fe.value=0,he.value=0,ie.value=0,$e.value=0,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,ie.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount}),je.html('<i class="ti ti-refresh"></i>')})},Kt=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+je+"/details").then(He=>{m.value=He.data,Et.value++,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(je,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+je+"/details").then(He=>{ee.value=[],Ce.value=0,Ne.value=0,m.value=He.data,ce.value=m.value.due_date,k.value=0,m.value.invoice_items.forEach(tt=>{k.value+=tt.quantity*tt.price_per_quantity}),w.value=0,m.value.invoice_taxes.forEach(tt=>{w.value+=tt.value}),T.value=0,m.value.invoice_fees.forEach(tt=>{T.value+=tt.amount}),V.value=0,m.value.invoice_discounts.forEach(tt=>{tt.type=="percentage"?l.value+=tt.value/100*(k.value+w.value):l.value+=tt.value}),k.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_discount,B.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,I.value=H(m.value.due_date).diff(H(),"days")+1,O.value=m.value.vendor_configurations.eligibility,L.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,R.value=O.value/100*(m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount),S.value=m.value.vendor_discount_details.total_roi,P.value=O.value/100*L.value*(S.value/100)*((H(m.value.due_date).diff(H(),"days")+1)/365),P.value=m.value.vendor_discount_details.vendor_discount_bearing/S.value*P.value;let Nt=0,it=0;m.value.vendor_fee_details.forEach((tt,pe)=>{tt.type=="percentage"&&(Nt+=tt.vendor_bearing_discount/100*(tt.value/100*L.value),tt.vendor_bearing_discount>0&&ee.value.push([tt.fee_name,tt.value+"%"]),tt.taxes&&(it+=tt.taxes/100*(tt.value/100*L.value))),tt.type=="amount"&&(Nt+=tt.vendor_bearing_discount/100*tt.value,tt.vendor_bearing_discount>0&&ee.value.push([tt.fee_name,m.value.currency+" "+tt.value]),tt.taxes&&(it+=tt.taxes/100*(tt.vendor_bearing_discount/100*tt.value))),tt.type=="per amount"&&(Nt+=tt.vendor_bearing_discount/100*(Math.round(L.value/tt.per_amount)*tt.value),tt.vendor_bearing_discount>0&&ee.value.push([tt.fee_name,tt.value+" P.A "+m.value.currency+" "+tt.per_amount]),tt.taxes&&(it+=tt.taxes/100*(Math.round(L.value/tt.per_amount)*tt.value)))}),Ce.value+=Nt,Ne.value+=it,Ye.value=m.value.program.discount_details[0].tax_on_discount,ve.value=Ye.value/100*P.value,N.value=L.value-Ce.value-Ne.value-P.value-ve.value,U.value=m.value.min_financing_days,Z.value=m.value.max_financing_days,r.value=H(m.value.due_date).subtract(Z.value,"days").format("DD MMM YYYY"),H(r.value)<H()&&(r.value=H().format("DD MMM YYYY")),i.value=H(m.value.due_date).subtract(U.value,"days").format("DD MMM YYYY");let _t=[function(tt){return mt.value.includes(tt.getDay())}];gt.value=new Date(i.value),mt.value.forEach(tt=>{ut.value.push(tt)}),at.value.forEach(tt=>{_t.push('"'+tt+'"'),Jt.value.push(new Date(tt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:r.value,maxDate:i.value,disable:_t},g.value=H().format("DD MMM YYYY"),m.value.vendor_bank_details.forEach(tt=>{tt.account_number==m.value.credit_to?(z.value=tt.id,we.value=!0):(z.value="",we.value=!1)}),xe.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(je,ye,He)=>{ye!=""&&(Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ve.value=0,Ot.value=!0,A.post(c+"invoices/remittance/amount",{invoices:se.value,date:D.value}).then(Nt=>{_e.value=Nt.data.total_amount,Se.value=Nt.data.total_remittance_amount,Ot.value=!1}),v.value=H(ye).format("DD MMM YYYY"),D.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(se.value.length<=0)return s.error("Select Payment Instructions"),!1;D.value=new Date().toLocaleDateString("en-CA");let je=[function(ye){return mt.value.includes(ye.getDay())}];Vt.value=new Date(d.value),mt.value.forEach(ye=>{ut.value.push(ye)}),at.value.forEach(ye=>{je.push('"'+ye+'"'),Jt.value.push(new Date(ye))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:je},Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ve.value=0,A.post(c+"invoices/remittance/amount",{invoices:se.value,date:D.value}).then(ye=>{_e.value=ye.data.total_amount,Se.value=ye.data.total_remittance_amount,Ot.value=!1}),ge.value.click()},Ge=je=>{let ye="";switch(je){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:wt.value}}).then(je=>{Me.value=je.data.terms_and_conditions,ue.value=je.data.noa,ze.value=je.data.terms_text,Oe.value=je.data.noa_text,t.value=je.data.invoices,Fe.value=0,he.value=0,ie.value=0,$e.value=0,t.value.data.forEach(ye=>{Fe.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,ie.value+=ye.eligible_for_finance,$e.value+=ye.actual_remittance_amount}),d.value=H(je.data.highest_due_date).subtract(je.data.min_financing_days,"days").format("DD MMM YYYY"),je.data.holidays.forEach(ye=>{at.value.push(ye.date_formatted)}),je.data.off_days.forEach(ye=>{mt.value.push(ye)})}).catch(je=>{console.log(je)})},yt=(je,ye,He)=>{k.value=m.value.total,w.value=m.value.total_invoice_taxes,T.value=m.value.total_invoice_fees;let Nt=m.value.total_invoice_discount;k.value=k.value+w.value-Nt;let it=k.value-T.value;L.value=O.value/100*it,F.value=y.value/100*L.value,I.value=H(m.value.due_date).diff(H(ye),"days"),P.value=O.value/100*it*(S.value/100)*(H(m.value.due_date).diff(H(ye),"days")/365),P.value=m.value.vendor_discount_details.vendor_discount_bearing/S.value*P.value,ve.value=Ye.value/100*P.value,N.value=L.value-Ce.value-Ne.value-P.value-ve.value,p.value=H(ye).format("DD MMM YYYY")},Ct=async()=>{if(z.value==""){s.error("Select Payment Account"),ne.value=!0;return}we.value=!1,await A.post(c+"cash-planner/invoices/request/send",{invoice_id:m.value.id,payment_request_date:p.value,credit_to:z.value}).then(je=>{s.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(je=>{console.log(je),we.value=!0,je.response.data&&je.response.data.message?s.error(je.response.data.message):s.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{we.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const je=new FormData;se.value.forEach(ye=>{je.append("invoices[]",ye.id)}),je.append("payment_request_date",v.value),await A.post(c+"cash-planner/invoices/request/multiple/send",je).then(ye=>{s.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),se.value=[],_e.value=0,Se.value=0,nt()}).catch(ye=>{console.log(ye),we.value=!0,ye.response.data&&ye.response.data.message?s.error(ye.response.data.message):s.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(je,ye)=>(ye/je*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,config:Ve,config2:ke,moment:H,max_date:i,min_date:r,eligibility_amount:_,pi_amount:ae,discount_amount:l,days_to_payment:x,total_remittance:E,processing_fee_amount:C,invoices:t,payment_date:p,request_payment_date:g,bulk_request_payment_date:D,credit_to:z,taxes_amount:J,payment_account:ne,vendor_fee_details:ee,total_fees:Ce,total_tax_on_fees:Ne,tax_on_discount:Ye,tax_on_discount_amount:ve,invoice_total_amount:k,invoice_taxes_amount:w,invoice_fees_amount:T,invoice_eligibility_percentage:O,invoice_eligibility_amount:L,invoice_eligibility_for_finance:R,invoice_discount_amount:P,invoice_days_to_payment:I,invoice_business_spread:S,invoice_processing_fee:F,invoice_min_financing_days:U,invoice_due_date:ce,invoice_total_remmitance:N,bulk_invoice_remittance:Se,resolvePaymentRequestStatus:Ge,total_invoice_amount:Fe,total_pi_amount:he,total_eligible_amount:ie,total_actual_remittance:$e,can_submit:we,selected_invoices:se,show_multiple_request_modal:ge,show_terms_button:be,terms_and_conditions_link:Me,noa_text:Oe,noa_link:ue,terms_text:ze,selected_invoices_total_amount:_e,updateBulkDiscount:Pe,bulk_data_loading:Ot,anchor_search:Le,invoice_number_search:Ie,from_date_search:oe,to_date_search:me,date_search:Ze,per_page:wt,formatNoa:je=>{let ye=Oe.value.body;ye=ye.replace("{date}",H(je.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",je.program.anchor.name),ye=ye.replace("{anchorName}",je.program.anchor.name),ye=ye.replace("{company}",je.company.name),ye=ye.replace("{anchorCompanyUniqueID}",je.program.anchor.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract},",""),ye=ye.replace("{anchorAccountName},",""),ye=ye.replace("{anchorAccountNumber},",""),ye=ye.replace("{anchorCustomerId},",""),ye=ye.replace("{anchorBranch},",""),ye=ye.replace("{anchorIFSCCode},",""),ye=ye.replace("{anchorAddress},",""),ye=ye.replace("{penalnterestRate},",""),ye=ye.replace("{sellerName}",je.company.name),Oe.value.body=ye},prime_disabled_dates:Jt,prime_disabled_days:ut,prime_max_date:gt,prime_min_date:pt,prime_bulk_max_date:Vt,changePage:async je=>{await A.get(je,{params:{anchor:Le.value,invoice_number:Ie.value,from_date:oe.value,to_date:me.value,per_page:wt.value}}).then(ye=>{Fe.value=0,he.value=0,ie.value=0,$e.value=0,t.value=ye.data.invoices,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,ie.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount,se.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:Ct,invoice_details:m,viewRequestDetails:xe,getTaxPercentage:Tt,updateSelected:je=>{let ye=se.value.findIndex(He=>He.id==je.id);if(ye==-1?se.value.push(je):se.value.splice(ye,1),se.value.length==t.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,se.value.length>0){let He=se.value[0].due_date,Nt=se.value[0].min_financing_days;se.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),i.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),Vt.value=new Date(i.value),Ve.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?t.value.data.forEach(je=>{document.getElementById("invoice-"+je.id).checked=!0,se.value.push(je)}):t.value.data.forEach(je=>{if(document.getElementById("invoice-"+je.id).checked==!0){document.getElementById("invoice-"+je.id).checked=!1;let ye;if(!se.value.filter(function(Nt,it){ye=it,Nt.id==je.id}))return!1;se.value.splice(ye,1)}})},acceptTerms:()=>{we.value=!we.value},filter:Dt,refresh:Ft,showInvoice:Kt,uploading_file_key:Et}}},A4t={class:"card"},I4t={class:"card-header d-flex justify-content-between"},R4t={href:"cash/planner",class:""},S4t={class:"card-body"},T4t={class:"table-responsive"},j4t={class:"table invoices-table"},O4t={class:""},M4t={key:0},L4t={class:"invoices-table-content"},N4t={key:0},F4t={colspan:"12",class:"text-center"},Y4t={class:"text-center"},V4t={key:1},B4t={colspan:"12",class:"text-center"},U4t={class:"text-center"},q4t=["onClick"],H4t=["title"],z4t={class:""},W4t={class:"text-success text-nowrap"},K4t={class:""},G4t={class:"text-success text-nowrap"},Q4t={class:"text-success text-nowrap"},Z4t={key:0,class:"text-success"},J4t=["onClick"],X4t=["id","data-bs-target"],eEt=["id","data-bs-target"],tEt={class:"modal fade",id:"dashboard-loading-modal",tabindex:"-1","aria-hidden":"true"},oEt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},aEt={class:"modal-content"},nEt={class:"modal-body"},sEt={class:"d-flex justify-content-center"},lEt=["id"],iEt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},rEt={class:"modal-content"},dEt={class:"modal-header"},cEt={class:"modal-title",id:"modalCenterTitle"},uEt={class:"modal-body"},_Et={class:"row"},mEt={class:"col-6"},fEt={class:"border-bottom d-flex justify-content-between"},hEt={for:"nameWithTitle",class:"form-label"},pEt={class:"text-success"},vEt={class:"border-bottom d-flex justify-content-between"},gEt={for:"nameWithTitle",class:"form-label"},bEt={class:"text-success"},yEt={class:"border-bottom d-flex justify-content-between"},kEt={for:"nameWithTitle",class:"form-label"},$Et={class:"text-success"},wEt={class:"col-6"},DEt={class:"border-bottom d-flex justify-content-between"},CEt={for:"nameWithTitle",class:"form-label"},xEt={key:0,class:""},PEt={class:"border-bottom d-flex justify-content-between"},EEt={for:"nameWithTitle",class:"form-label"},AEt={key:0,class:""},IEt={class:"border-bottom d-flex justify-content-between"},REt={for:"nameWithTitle",class:"form-label"},SEt={class:"text-success"},TEt={class:"mt-1"},jEt={class:"row"},OEt={class:"col-6"},MEt={class:"border-bottom d-flex justify-content-between"},LEt={for:"nameWithTitle",class:"form-label"},NEt={class:""},FEt={class:"border-bottom d-flex justify-content-between"},YEt={for:"nameWithTitle",class:"form-label"},VEt={class:""},BEt={class:"border-bottom d-flex justify-content-between"},UEt={for:"nameWithTitle",class:"form-label"},qEt={key:0,class:""},HEt=["for"],zEt={class:"text-success"},WEt={class:"border-bottom d-flex justify-content-between"},KEt={for:"nameWithTitle",class:"form-label"},GEt={class:"text-success"},QEt={class:"border-bottom d-flex justify-content-between"},ZEt={for:"nameWithTitle",class:"form-label"},JEt={class:"text-success"},XEt={class:"border-bottom d-flex justify-content-between"},eAt={for:"nameWithTitle",class:"form-label"},tAt={class:"text-success"},oAt={class:"border-bottom d-flex justify-content-between"},aAt={for:"nameWithTitle",class:"form-label"},nAt={class:"text-success"},sAt={class:"text-success"},lAt={class:"col-6"},iAt={class:"mt-1"},rAt={class:"row"},dAt={class:"col-12"},cAt={class:"border-bottom d-flex justify-content-between"},uAt={for:"nameWithTitle",class:"form-label"},_At={class:"",id:"payment_date"},mAt={class:"border-bottom d-flex justify-content-between"},fAt={for:"nameWithTitle",class:"form-label"},hAt={class:"text-success"},pAt={class:"border-bottom d-flex justify-content-between"},vAt={for:"nameWithTitle",class:"form-label"},gAt={class:"text-success"},bAt={class:"border-bottom d-flex justify-content-between"},yAt={for:"nameWithTitle",class:"form-label"},kAt={class:"text-success"},$At={class:"border-bottom d-flex justify-content-between"},wAt={for:"nameWithTitle",class:"form-label"},DAt={value:""},CAt=["value"],xAt={class:"modal-footer"},PAt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},EAt=["disabled","data-bs-target","onClick"],AAt=["id"],IAt={class:"modal-dialog modal-lg",role:"document"},RAt={class:"modal-content"},SAt={class:"modal-header"},TAt={class:"modal-title",id:"modalCenterTitle"},jAt={class:"modal-body"},OAt={key:0},MAt={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},LAt=["innerHTML"],NAt={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},FAt={key:3},YAt={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},VAt=["innerHTML"],BAt=["href"],UAt={class:"modal-footer d-flex justify-content-between"},qAt={class:"mt-4"},HAt=["href"],zAt={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},WAt=["disabled"],KAt=["id"],GAt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},QAt={class:"modal-content"},ZAt={class:"modal-header"},JAt={class:"modal-title",id:"modalCenterTitle"},XAt={class:"d-flex gap-1"},e6t=["data-bs-target"],t6t=["href"],o6t={class:"modal-body"},a6t={class:"d-flex justify-content-between mb-4"},n6t={class:"mb-3"},s6t={class:"d-flex justify-content-between"},l6t={class:"fw-light my-auto"},i6t={class:"fw-bold mx-2 my-auto"},r6t={class:"d-flex justify-content-between"},d6t={class:"fw-light my-auto"},c6t={class:"fw-bold mx-2 my-auto"},u6t={class:"d-flex justify-content-between"},_6t={class:"fw-light my-auto"},m6t={class:"fw-bold mx-2 my-auto"},f6t={class:"d-flex justify-content-between"},h6t={class:"fw-light my-auto"},p6t={class:"fw-bold mx-2 my-auto"},v6t={class:"d-flex justify-content-between"},g6t={class:"fw-light my-auto"},b6t={class:"fw-bold mx-2 my-auto"},y6t={key:0,class:"d-flex justify-content-between"},k6t={class:"fw-light my-auto"},$6t={class:"fw-bold mx-2 my-auto"},w6t={key:1,class:"d-flex justify-content-between"},D6t={class:"fw-light my-auto"},C6t={class:"fw-bold mx-2 my-auto"},x6t={class:"mb-3"},P6t={key:0,class:"d-flex justify-content-between"},E6t={class:"my-auto fw-light"},A6t=["data-bs-target"],I6t={class:"d-flex justify-content-between"},R6t={class:"my-auto fw-light"},S6t={class:"fw-bold mx-2 my-auto"},T6t={class:"d-flex justify-content-between"},j6t={class:"my-auto fw-light"},O6t={class:"fw-bold mx-2 my-auto"},M6t={class:"d-flex justify-content-between"},L6t={class:"my-auto fw-light"},N6t={class:"fw-bold mx-2 my-auto"},F6t={class:"d-flex justify-content-between"},Y6t={class:"my-auto fw-light"},V6t={class:"fw-bold mx-2 my-auto"},B6t={class:"d-flex justify-content-between"},U6t={class:"my-auto fw-light"},q6t={class:"fw-bold text-success mx-2 my-auto"},H6t={class:"d-flex justify-content-between"},z6t={class:"my-auto fw-light"},W6t={class:"fw-bold mx-2 my-auto"},K6t={class:"d-flex justify-content-between"},G6t={class:"my-auto fw-light"},Q6t={class:"fw-bold mx-2 my-auto"},Z6t={class:"table-responsive"},J6t={class:"table"},X6t={class:"bg-label-primary"},eIt={class:"px-2"},tIt={class:"d-flex justify-content-end"},oIt={class:"mx-2 my-auto"},aIt={class:"text-success my-auto"},nIt={key:0,class:"px-2"},sIt={class:"mx-2 my-auto"},lIt={class:"text-success my-auto"},iIt={key:1,class:"px-2"},rIt={class:"d-flex justify-content-end"},dIt={class:"mx-2 my-auto"},cIt={class:"bg-label-secondary px-2"},uIt={class:"d-flex justify-content-end"},_It={class:"mx-2 my-auto py-1"},mIt={class:"text-success my-auto py-1"},fIt=["id"],hIt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},pIt={class:"modal-content"},vIt={class:"modal-header"},gIt={class:"modal-title",id:"modalCenterTitle"},bIt={class:"d-flex gap-1"},yIt=["data-bs-target"],kIt=["href"],$It={class:"modal-body"},wIt={class:"d-flex justify-content-between mb-4"},DIt={class:"mb-3"},CIt={class:"d-flex justify-content-between"},xIt={class:"fw-light my-auto"},PIt={class:"fw-bold mx-2 my-auto"},EIt={class:"d-flex justify-content-between"},AIt={class:"fw-light my-auto"},IIt={class:"fw-bold mx-2 my-auto"},RIt={class:"d-flex justify-content-between"},SIt={class:"fw-light my-auto"},TIt={class:"fw-bold mx-2 my-auto"},jIt={class:"d-flex justify-content-between"},OIt={class:"fw-light my-auto"},MIt={class:"fw-bold mx-2 my-auto"},LIt={class:"d-flex justify-content-between"},NIt={class:"fw-light my-auto"},FIt={class:"fw-bold mx-2 my-auto"},YIt={key:0,class:"d-flex justify-content-between"},VIt={class:"fw-light my-auto"},BIt={class:"fw-bold mx-2 my-auto"},UIt={key:1,class:"d-flex justify-content-between"},qIt={class:"fw-light my-auto"},HIt={class:"fw-bold mx-2 my-auto"},zIt={class:"mb-3"},WIt={key:0,class:"d-flex justify-content-between"},KIt={class:"my-auto fw-light"},GIt=["data-bs-target"],QIt={class:"d-flex justify-content-between"},ZIt={class:"my-auto fw-light"},JIt={class:"fw-bold mx-2 my-auto"},XIt={class:"d-flex justify-content-between"},e8t={class:"my-auto fw-light"},t8t={class:"fw-bold mx-2 my-auto"},o8t={class:"d-flex justify-content-between"},a8t={class:"my-auto fw-light"},n8t={class:"fw-bold mx-2 my-auto"},s8t={class:"d-flex justify-content-between"},l8t={class:"my-auto fw-light"},i8t={class:"fw-bold mx-2 my-auto"},r8t={class:"d-flex justify-content-between"},d8t={class:"my-auto fw-light"},c8t={class:"fw-bold text-success mx-2 my-auto"},u8t={class:"d-flex justify-content-between"},_8t={class:"my-auto fw-light"},m8t={class:"fw-bold mx-2 my-auto"},f8t={class:"d-flex justify-content-between"},h8t={class:"my-auto fw-light"},p8t={class:"fw-bold mx-2 my-auto"},v8t={class:"table-responsive"},g8t={class:"table"},b8t={class:"bg-label-primary"},y8t={class:"px-2"},k8t={class:"d-flex justify-content-end"},$8t={class:"mx-2 my-auto"},w8t={class:"text-success my-auto"},D8t={key:0,class:"px-2"},C8t={class:"mx-2 my-auto"},x8t={class:"text-success my-auto"},P8t={key:1,class:"px-2"},E8t={class:"d-flex justify-content-end"},A8t={class:"mx-2 my-auto"},I8t={key:2,class:"px-2"},R8t={class:"mx-2 my-auto py-1"},S8t={key:0,class:"text-success my-auto py-1"},T8t={key:1,class:"text-success my-auto py-1"},j8t={key:3,class:"px-2"},O8t={class:"d-flex justify-content-end"},M8t={class:"mx-2 my-auto py-1"},L8t={class:"d-flex justify-content-end"},N8t={class:"mx-2 my-auto py-1"},F8t={class:"d-flex justify-content-end"},Y8t={class:"mx-2 my-auto py-1"},V8t={class:"bg-label-secondary px-2"},B8t={class:"d-flex justify-content-end"},U8t={class:"mx-2 my-auto py-1"},q8t={class:"text-success my-auto py-1"},H8t={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},z8t={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},W8t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},K8t={class:"modal-content"},G8t={class:"modal-header"},Q8t={class:"modal-title",id:"modalCenterTitle"},Z8t={class:"modal-body"},J8t={class:"d-flex justify-content-between"},X8t={key:0},eRt={key:1,src:At,style:{width:"1.3rem"}},tRt={class:"d-flex justify-content-between my-1"},oRt={key:0},aRt={key:1,src:At,style:{width:"1.3rem"}},nRt={for:"Request Date",class:"form-label"},sRt={class:"modal-footer"},lRt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},iRt={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},rRt={class:"modal-dialog modal-lg",role:"document"},dRt={class:"modal-content"},cRt={class:"modal-header"},uRt={class:"modal-title",id:"modalCenterTitle"},_Rt={class:"modal-body"},mRt={key:0},fRt={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},hRt=["innerHTML"],pRt={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},vRt={class:"modal-footer d-flex justify-content-between"},gRt={class:"mt-4"},bRt=["href"],yRt={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},kRt=["disabled"],$Rt={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},wRt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},DRt={class:"modal-content"},CRt={class:"modal-header"},xRt={class:"modal-title",id:"modalCenterTitle"},PRt={class:"modal-body"},ERt={class:"fw-bold"},ARt={class:"modal-footer"},IRt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function RRt(o,a,s,t,c,m){const _=de("flat-pickr"),l=de("upload-attachment");return u(),f("div",A4t,[e("div",I4t,[e("h6",null,n(o.$t("10 Payment Instructions eligible for Financing")),1),e("a",R4t,n(o.$t("View All")),1)]),e("div",S4t,[e("div",T4t,[e("table",j4t,[e("thead",null,[e("tr",O4t,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",M4t,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",L4t,[t.invoices.data?b("",!0):(u(),f("tr",N4t,[e("td",F4t,[e("span",Y4t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",V4t,[e("td",B4t,[e("span",U4t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,q4t),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,H4t))]),e("td",z4t,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",W4t,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1),e("td",K4t,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",G4t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",Q4t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",Z4t,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,J4t)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,X4t),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,eEt),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#dashboard-loading-modal"},null,-1)),e("div",tEt,[e("div",oEt,[e("div",aEt,[e("div",nEt,[e("div",sEt,[e("span",null,n(o.$t("Loading"))+"...",1),a[7]||(a[7]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",iEt,[e("div",rEt,[e("div",dEt,[e("h5",cEt,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[8]||(a[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",uEt,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",_Et,[e("div",mEt,[e("div",fEt,[e("label",hEt,n(o.$t("Invoice Amount")),1),e("h6",pEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("div",vEt,[e("label",gEt,n(o.$t("PI Amount"))+"(A)",1),e("h6",bEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",yEt,[e("label",kEt,n(o.$t("Eligible Amount")),1),e("h6",$Et,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",wEt,[e("div",DEt,[e("label",CEt,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",xEt,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",PEt,[e("label",EEt,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",AEt,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",IEt,[e("label",REt,n(o.$t("Eligible For Finance")),1),e("h6",SEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",TEt,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",jEt,[e("div",OEt,[e("div",MEt,[e("label",LEt,n(o.$t("Early Payment Date")),1),e("h6",NEt,n(t.payment_date),1)]),e("div",FEt,[e("label",YEt,n(o.$t("Days to Payment")),1),e("h6",VEt,n(t.invoice_days_to_payment),1)]),e("div",BEt,[e("label",UEt,n(o.$t("Annual Discount Rate"))+"(%)",1),t.invoice_details?(u(),f("h6",qEt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(W,null,X(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,HEt),e("h6",zEt,n(i[1]),1)]))),128)),e("div",WEt,[e("label",KEt,[le(n(o.$t("Total Fees"))+" ",1),a[9]||(a[9]=e("strong",null,"(C)",-1))]),e("h6",GEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",QEt,[e("label",ZEt,[le(n(o.$t("Tax On Fees "))+" ",1),a[10]||(a[10]=e("strong",null,"(D)",-1))]),e("h6",JEt,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",XEt,[e("label",eAt,[le(n(o.$t("Discount Amount"))+" ",1),a[11]||(a[11]=e("strong",null,"(E)",-1))]),e("h6",tAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",oAt,[e("label",aAt,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",nAt,n(t.tax_on_discount)+"%",1),a[12]||(a[12]=e("strong",null,"(F)",-1))]),e("h6",sAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])]),e("div",lAt,[Be(_,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[0]||(a[0]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",iAt,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",rAt,[e("div",dAt,[e("div",cAt,[e("label",uAt,n(o.$t("Early Payment Date")),1),e("h6",_At,n(t.payment_date),1)]),e("div",mAt,[e("label",fAt,n(o.$t("Eligible Amount")),1),e("h6",hAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",pAt,[e("label",vAt,[le(n(o.$t("Request Amount"))+" ",1),a[13]||(a[13]=e("strong",null,"(B)",-1))]),e("h6",gAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",bAt,[e("label",yAt,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[14]||(a[14]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",kAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)]),e("div",$At,[e("label",wAt,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[1]||(a[1]=i=>t.credit_to=i),onChange:a[2]||(a[2]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",DAt,n(o.$t("Select Payment Account")),1),(u(!0),f(W,null,X(t.invoice_details.vendor_bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,CAt))),128))],34)),[[re,t.credit_to]]):b("",!0)])])])]),e("div",xAt,[e("button",PAt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:i=>t.formatNoa(r)},n(t.can_submit?o.$t("Submit"):o.$t("Processing...")),9,EAt)])])])],8,lEt)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",IAt,[e("div",RAt,[e("div",SAt,[e("h5",TAt,n(o.$t("Request Finance")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",jAt,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",OAt,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",MAt,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,LAt)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",NAt,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",FAt,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",YAt,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,VAt)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,BAt)):b("",!0)]),e("div",UAt,[e("small",qAt,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,HAt)]),e("div",null,[e("button",zAt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[3]||(a[3]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,WAt)])])])])],8,AAt)])):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",GAt,[e("div",QAt,[e("div",ZAt,[e("h5",JAt,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",XAt,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[17]||(a[17]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,e6t),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,t6t)])]),e("div",o6t,[e("div",a6t,[e("div",n6t,[e("span",s6t,[e("h5",l6t,n(o.$t("Anchor"))+":",1),e("h6",i6t,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",r6t,[e("h5",d6t,n(o.$t("Delivery Address"))+":",1),e("h6",c6t,n(t.invoice_details.delivery_address),1)]),e("span",u6t,[e("h5",_6t,n(o.$t("Debit From"))+":",1),e("h6",m6t,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",f6t,[e("h5",h6t,n(o.$t("Vendor"))+":",1),e("h6",p6t,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",v6t,[e("h5",g6t,n(o.$t("Remarks"))+":",1),e("h6",b6t,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",y6t,[e("h5",k6t,n(o.$t("Credit To"))+":",1),e("h6",$6t,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",w6t,[e("h5",D6t,n(o.$t("Rejection Reason"))+":",1),e("h6",C6t,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",x6t,[t.invoice_details.pi_number?(u(),f("span",P6t,[e("h5",E6t,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,A6t)])):b("",!0),e("span",I6t,[e("h5",R6t,n(o.$t("Invoice No."))+":",1),e("h6",S6t,n(t.invoice_details.invoice_number),1)]),e("span",T6t,[e("h5",j6t,n(o.$t("PO No."))+":",1),e("h6",O6t,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",M6t,[e("h5",L6t,n(o.$t("Payment / OD Account No."))+":",1),e("h6",N6t,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",F6t,[e("h5",Y6t,n(o.$t("Invoice Date."))+":",1),e("h6",V6t,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",B6t,[e("h5",U6t,n(o.$t("Amount"))+":",1),e("h6",q6t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",H6t,[e("h5",z6t,n(o.$t("Status."))+":",1),e("h6",W6t,n(t.invoice_details.approval_stage),1)]),e("span",K6t,[e("h5",G6t,n(o.$t("Due Date"))+":",1),e("h6",Q6t,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Z6t,[e("table",J6t,[e("thead",X6t,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",eIt,[e("span",tIt,[e("h6",oIt,n(o.$t("Discount"))+":",1),e("h5",aIt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",nIt,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",sIt,n(i.name),1),e("h5",lIt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",iIt,[e("span",rIt,[e("h6",dIt,n(o.$t("Tax")),1),a[20]||(a[20]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",cIt,[e("span",uIt,[e("h6",_It,n(o.$t("Total")),1),e("h5",mIt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,KAt)):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",hIt,[e("div",pIt,[e("div",vIt,[e("h5",gIt,n(o.$t("Invoice Details")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",bIt,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[21]||(a[21]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,yIt),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[22]||(a[22]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,kIt)])]),e("div",$It,[e("div",wIt,[e("div",DIt,[e("span",CIt,[e("h5",xIt,n(o.$t("Anchor"))+":",1),e("h6",PIt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",EIt,[e("h5",AIt,n(o.$t("Delivery Address"))+":",1),e("h6",IIt,n(t.invoice_details.delivery_address),1)]),e("span",RIt,[e("h5",SIt,n(o.$t("Debit From"))+":",1),e("h6",TIt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",jIt,[e("h5",OIt,n(o.$t("Vendor"))+":",1),e("h6",MIt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",LIt,[e("h5",NIt,n(o.$t("Remarks"))+":",1),e("h6",FIt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",YIt,[e("h5",VIt,n(o.$t("Credit To"))+":",1),e("h6",BIt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",UIt,[e("h5",qIt,n(o.$t("Rejection Reason"))+":",1),e("h6",HIt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",zIt,[t.invoice_details.pi_number?(u(),f("span",WIt,[e("h5",KIt,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,GIt)])):b("",!0),e("span",QIt,[e("h5",ZIt,n(o.$t("PI No."))+":",1),e("h6",JIt,n(t.invoice_details.pi_number),1)]),e("span",XIt,[e("h5",e8t,n(o.$t("PO No."))+":",1),e("h6",t8t,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",o8t,[e("h5",a8t,n(o.$t("Payment / OD Account No."))+":",1),e("h6",n8t,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",s8t,[e("h5",l8t,n(o.$t("Invoice Date."))+":",1),e("h6",i8t,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",r8t,[e("h5",d8t,n(o.$t("Amount"))+":",1),e("h6",c8t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",u8t,[e("h5",_8t,n(o.$t("Status."))+":",1),e("h6",m8t,n(t.invoice_details.approval_stage),1)]),e("span",f8t,[e("h5",h8t,n(o.$t("Due Date"))+":",1),e("h6",p8t,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",v8t,[e("table",g8t,[e("thead",b8t,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",y8t,[e("span",k8t,[e("h6",$8t,n(o.$t("Discount"))+":",1),e("h5",w8t,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",D8t,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",C8t,n(i.name),1),e("h5",x8t,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",P8t,[e("span",E8t,[e("h6",A8t,n(o.$t("Tax")),1),a[24]||(a[24]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",I8t,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",R8t,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",S8t," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",T8t,n(i.amount),1))]))),128))])):(u(),f("div",j8t,[e("span",O8t,[e("h6",M8t,n(o.$t("WHT Tax"))+":",1),a[25]||(a[25]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",L8t,[e("h6",N8t,n(o.$t("WHT VAT"))+":",1),a[26]||(a[26]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",F8t,[e("h6",Y8t,n(o.$t("Credit Note Amount"))+":",1),a[27]||(a[27]=e("h5",{class:"text-success my-auto py-1"}," 0 ",-1))])])),e("div",V8t,[e("span",B8t,[e("h6",U8t,n(o.$t("Total")),1),e("h5",q8t,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,fIt)):b("",!0)]))),128))])])]),e("button",H8t,null,512),e("div",z8t,[e("div",W8t,[e("div",K8t,[e("div",G8t,[e("h5",Q8t,n(o.$t("Request Finance")),1),a[28]||(a[28]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Z8t,[e("div",J8t,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",eRt)):(u(),f("span",X8t,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",tRt,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",aRt)):(u(),f("span",oRt,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",nRt,n(o.$t("I want payment on"))+":",1),Be(_,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[4]||(a[4]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",sRt,[e("button",lRt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[5]||(a[5]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",iRt,[e("div",rRt,[e("div",dRt,[e("div",cRt,[e("h5",uRt,n(o.$t("Request Finance")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",_Rt,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",mRt,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",fRt,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,hRt)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",pRt,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",vRt,[e("small",gRt,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,bRt)]),e("div",null,[e("button",yRt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[6]||(a[6]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,kRt)])])])])]),a[31]||(a[31]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",$Rt,[e("div",wRt,[e("div",DRt,[e("div",CRt,[e("h5",xRt,n(o.$t("Request for Finance successful")),1)]),e("div",PRt,[a[30]||(a[30]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",ERt,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",ARt,[e("button",IRt,n(o.$t("Close")),1)])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.uploading_file_key},null,8,["invoice-details"])):b("",!0)])])}const SRt=Ue(E4t,[["render",RRt]]),TRt={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl},setup(){lt();const o=h([]),a=h(null),s=h(0),t=h(0),c=h(new Date().toLocaleDateString("en-CA")),m=h(""),_=h(H().format("DD MMM YYYY")),l=new Date().toLocaleDateString("en-CA");h(1);const r=h(0),i=h(1),d=h(0),p=h(0),v=h(0),g=h(0);h(0),h(0);const D=h(0),y=h(0),C=h(0),x=h(0),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0);h([]),h(0);const O=h(0),L=h(0);h(0);const R=h(""),P=h(!1);h(!1),h(0),h(0),h(0),h(!1),h([]),h(!1),h("");const I=Je("baseURL"),S=h({inline:!0}),F=async(ae,J)=>{document.getElementById("loading-modal-btn").click(),await A.get(I+"invoices/"+ae+"/details").then(z=>{a.value=z.data,bt(()=>{document.getElementById(J).click()})}).catch(z=>{console.log(z)})},N=ae=>{let J="";switch(ae){case"created":J="bg-label-primary";break;case"paid":J="bg-label-success";break;case"failed":J="bg-label-danger";break;default:J="bg-label-primary";break}return J},U=async()=>{await A.get(I+"cash-planner/invoices/non-eligible/data").then(ae=>{o.value=ae.data.invoices}).catch(ae=>{console.log(ae)})},Z=(ae,J)=>(J/ae*100).toFixed(2);return Qe(()=>{U()}),{config:S,moment:H,max_date:m,min_date:c,eligibility_amount:s,pi_amount:O,discount_amount:t,days_to_payment:i,total_remittance:d,processing_fee_amount:r,invoices:o,payment_date:_,request_payment_date:l,credit_to:R,taxes_amount:L,payment_account:P,invoice_total_amount:p,invoice_taxes_amount:v,invoice_fees_amount:g,invoice_eligibility_percentage:D,invoice_eligibility_amount:y,invoice_eligibility_for_finance:C,invoice_discount_amount:x,invoice_days_to_payment:E,invoice_business_spread:k,invoice_processing_fee:w,invoice_min_financing_days:V,invoice_due_date:B,invoice_total_remmitance:T,resolvePaymentRequestStatus:N,changePage:async ae=>{await A.get(ae).then(J=>{o.value=J.data.invoices})},invoice_details:a,getTaxPercentage:Z,invoice_details:a,showInvoice:F}}},jRt={class:"card"},ORt={class:"card-body"},MRt={class:"table-responsive"},LRt={class:"table"},NRt={class:""},FRt={class:"table-border-bottom-0"},YRt={key:0},VRt={colspan:"12",class:"text-center"},BRt={class:"text-center"},URt={key:1},qRt={colspan:"12",class:"text-center"},HRt={class:"text-center"},zRt=["onClick"],WRt={href:"javascript:;",class:"dropdown-item"},KRt={class:""},GRt={class:""},QRt={class:"text-success text-nowrap"},ZRt={class:"text-success text-nowrap"},JRt=["id","data-bs-target"],XRt=["id","data-bs-target"],eSt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},tSt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},oSt={class:"modal-content"},aSt={class:"modal-body"},nSt={class:"d-flex justify-content-center"},sSt=["id"],lSt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},iSt={class:"modal-content"},rSt={class:"modal-header"},dSt={class:"modal-title",id:"modalCenterTitle"},cSt={class:"d-flex"},uSt={key:0,class:"d-flex"},_St=["href"],mSt=["href"],fSt={class:"modal-body"},hSt={class:"d-flex justify-content-between mb-4"},pSt={class:"mb-3"},vSt={class:"d-flex justify-content-between"},gSt={class:"fw-light my-auto"},bSt={class:"fw-bold mx-2 my-auto"},ySt={class:"d-flex justify-content-between"},kSt={class:"fw-light my-auto"},$St={class:"fw-bold mx-2 my-auto"},wSt={class:"d-flex justify-content-between"},DSt={class:"fw-light my-auto"},CSt={class:"fw-bold mx-2 my-auto"},xSt={class:"d-flex justify-content-between"},PSt={class:"fw-light my-auto"},ESt={class:"fw-bold mx-2 my-auto"},ASt={class:"d-flex justify-content-between"},ISt={class:"fw-light my-auto"},RSt={class:"fw-bold mx-2 my-auto"},SSt={key:0,class:"d-flex justify-content-between"},TSt={class:"fw-light my-auto"},jSt={class:"fw-bold mx-2 my-auto"},OSt={key:1,class:"d-flex justify-content-between"},MSt={class:"fw-light my-auto"},LSt={class:"fw-bold mx-2 my-auto"},NSt={class:"mb-3"},FSt={key:0,class:"d-flex justify-content-between"},YSt={class:"my-auto fw-light"},VSt=["data-bs-target"],BSt={class:"d-flex justify-content-between"},USt={class:"my-auto fw-light"},qSt={class:"fw-bold mx-2 my-auto"},HSt={class:"d-flex justify-content-between"},zSt={class:"my-auto fw-light"},WSt={class:"fw-bold mx-2 my-auto"},KSt={class:"d-flex justify-content-between"},GSt={class:"my-auto fw-light"},QSt={class:"fw-bold mx-2 my-auto"},ZSt={class:"d-flex justify-content-between"},JSt={class:"my-auto fw-light"},XSt={class:"fw-bold mx-2 my-auto"},eTt={class:"d-flex justify-content-between"},tTt={class:"my-auto fw-light"},oTt={class:"fw-bold text-success mx-2 my-auto"},aTt={class:"d-flex justify-content-between"},nTt={class:"my-auto fw-light"},sTt={class:"fw-bold mx-2 my-auto"},lTt={class:"d-flex justify-content-between"},iTt={class:"my-auto fw-light"},rTt={class:"fw-bold mx-2 my-auto"},dTt={class:"table-responsive"},cTt={class:"table"},uTt={class:"bg-label-primary"},_Tt={class:"px-2"},mTt={class:"d-flex justify-content-end"},fTt={class:"mx-2 my-auto"},hTt={class:"text-success my-auto"},pTt={key:0,class:"px-2"},vTt={class:"mx-2 my-auto"},gTt={class:"text-success my-auto"},bTt={key:1,class:"px-2"},yTt={class:"d-flex justify-content-end"},kTt={class:"mx-2 my-auto"},$Tt={class:"bg-label-secondary px-2"},wTt={class:"d-flex justify-content-end"},DTt={class:"mx-2 my-auto py-1"},CTt={class:"text-success my-auto py-1"},xTt=["id"],PTt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},ETt={class:"modal-content"},ATt={class:"modal-header"},ITt={class:"modal-title",id:"modalCenterTitle"},RTt={class:"d-flex"},STt={key:0,class:"d-flex"},TTt=["href"],jTt=["href"],OTt={class:"modal-body"},MTt={class:"d-flex justify-content-between mb-4"},LTt={class:"mb-3"},NTt={class:"d-flex justify-content-between"},FTt={class:"fw-light my-auto"},YTt={class:"fw-bold mx-2 my-auto"},VTt={class:"d-flex justify-content-between"},BTt={class:"fw-light my-auto"},UTt={class:"fw-bold mx-2 my-auto"},qTt={class:"d-flex justify-content-between"},HTt={class:"fw-light my-auto"},zTt={class:"fw-bold mx-2 my-auto"},WTt={class:"d-flex justify-content-between"},KTt={class:"fw-light my-auto"},GTt={class:"fw-bold mx-2 my-auto"},QTt={class:"d-flex justify-content-between"},ZTt={class:"fw-light my-auto"},JTt={class:"fw-bold mx-2 my-auto"},XTt={key:0,class:"d-flex justify-content-between"},ejt={class:"fw-light my-auto"},tjt={class:"fw-bold mx-2 my-auto"},ojt={key:1,class:"d-flex justify-content-between"},ajt={class:"fw-light my-auto"},njt={class:"fw-bold mx-2 my-auto"},sjt={class:"mb-3"},ljt={key:0,class:"d-flex justify-content-between"},ijt={class:"my-auto fw-light"},rjt=["data-bs-target"],djt={class:"d-flex justify-content-between"},cjt={class:"my-auto fw-light"},ujt={class:"fw-bold mx-2 my-auto"},_jt={class:"d-flex justify-content-between"},mjt={class:"my-auto fw-light"},fjt={class:"fw-bold mx-2 my-auto"},hjt={class:"d-flex justify-content-between"},pjt={class:"my-auto fw-light"},vjt={class:"fw-bold mx-2 my-auto"},gjt={class:"d-flex justify-content-between"},bjt={class:"my-auto fw-light"},yjt={class:"fw-bold mx-2 my-auto"},kjt={class:"d-flex justify-content-between"},$jt={class:"my-auto fw-light"},wjt={class:"fw-bold text-success mx-2 my-auto"},Djt={class:"d-flex justify-content-between"},Cjt={class:"my-auto fw-light"},xjt={class:"fw-bold mx-2 my-auto"},Pjt={class:"d-flex justify-content-between"},Ejt={class:"my-auto fw-light"},Ajt={class:"fw-bold mx-2 my-auto"},Ijt={class:"table-responsive"},Rjt={class:"table"},Sjt={class:"bg-label-primary"},Tjt={class:"px-2"},jjt={class:"d-flex justify-content-end"},Ojt={class:"mx-2 my-auto"},Mjt={class:"text-success my-auto"},Ljt={key:0,class:"px-2"},Njt={class:"mx-2 my-auto"},Fjt={class:"text-success my-auto"},Yjt={key:1,class:"px-2"},Vjt={class:"d-flex justify-content-end"},Bjt={class:"mx-2 my-auto"},Ujt={key:2,class:"px-2"},qjt={class:"mx-2 my-auto py-1"},Hjt={key:0,class:"text-success my-auto py-1"},zjt={key:1,class:"text-success my-auto py-1"},Wjt={key:3,class:"px-2"},Kjt={class:"d-flex justify-content-end"},Gjt={class:"mx-2 my-auto py-1"},Qjt={class:"d-flex justify-content-end"},Zjt={class:"mx-2 my-auto py-1"},Jjt={class:"d-flex justify-content-end"},Xjt={class:"mx-2 my-auto py-1"},eOt={class:"bg-label-secondary px-2"},tOt={class:"d-flex justify-content-end"},oOt={class:"mx-2 my-auto py-1"},aOt={class:"text-success my-auto py-1"};function nOt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",jRt,[a[14]||(a[14]=e("div",{class:"card-header"},[e("h6",null,"Payments Instructions Not Eligible for Financing")],-1)),e("div",ORt,[t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",MRt,[e("table",LRt,[e("thead",null,[e("tr",NRt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),a[0]||(a[0]=e("th",null,null,-1))])]),e("tbody",FRt,[t.invoices.data?b("",!0):(u(),f("tr",YRt,[e("td",VRt,[e("span",BRt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",URt,[e("td",qRt,[e("span",HRt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary",onClick:r=>t.showInvoice(l.id,"show-planner-pi-"+l.id)},[e("a",WRt,n(l.invoice_number),1)],8,zRt),e("td",KRt,n(l.anchor),1),e("td",GRt,n(t.moment(l.due_date).format("D MMM YYYY")),1),e("td",QRt,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.invoice_total_amount.toFixed(2))),1),e("td",ZRt,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.eligible_for_finance.toFixed(2))),1),e("td",null,[e("button",{class:"d-none",id:"show-planner-pi-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+l.id},null,8,JRt),e("button",{class:"d-none",id:"show-request-financing-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+l.id},null,8,XRt),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",eSt,[e("div",tSt,[e("div",oSt,[e("div",aSt,[e("div",nSt,[e("span",null,n(o.$t("Loading"))+"...",1),a[1]||(a[1]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",lSt,[e("div",iSt,[e("div",rSt,[e("h5",dSt,n(o.$t("Invoice Details")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",cSt,[t.invoice_details.media.length>0?(u(),f("div",uSt,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[2]||(a[2]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,_St))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,mSt)])]),e("div",fSt,[e("div",hSt,[e("div",pSt,[e("span",vSt,[e("h5",gSt,n(o.$t("Anchor"))+":",1),e("h6",bSt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",ySt,[e("h5",kSt,n(o.$t("Delivery Address"))+":",1),e("h6",$St,n(t.invoice_details.delivery_address),1)]),e("span",wSt,[e("h5",DSt,n(o.$t("Debit From"))+":",1),e("h6",CSt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",xSt,[e("h5",PSt,n(o.$t("Vendor"))+":",1),e("h6",ESt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",ASt,[e("h5",ISt,n(o.$t("Remarks"))+":",1),e("h6",RSt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",SSt,[e("h5",TSt,n(o.$t("Credit To"))+":",1),e("h6",jSt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",OSt,[e("h5",MSt,n(o.$t("Rejection Reason"))+":",1),e("h6",LSt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",NSt,[t.invoice_details.pi_number?(u(),f("span",FSt,[e("h5",YSt,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,VSt)])):b("",!0),e("span",BSt,[e("h5",USt,n(o.$t("Invoice No."))+":",1),e("h6",qSt,n(t.invoice_details.invoice_number),1)]),e("span",HSt,[e("h5",zSt,n(o.$t("PO No."))+":",1),e("h6",WSt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",KSt,[e("h5",GSt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",QSt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",ZSt,[e("h5",JSt,n(o.$t("Invoice Date."))+":",1),e("h6",XSt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",eTt,[e("h5",tTt,n(o.$t("Amount"))+":",1),e("h6",oTt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",aTt,[e("h5",nTt,n(o.$t("Status."))+":",1),e("h6",sTt,n(t.invoice_details.approval_stage),1)]),e("span",lTt,[e("h5",iTt,n(o.$t("Due Date"))+":",1),e("h6",rTt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",dTt,[e("table",cTt,[e("thead",uTt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",_Tt,[e("span",mTt,[e("h6",fTt,n(o.$t("Discount"))+":",1),e("h5",hTt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",pTt,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",vTt,n(r.name),1),e("h5",gTt,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",bTt,[e("span",yTt,[e("h6",kTt,n(o.$t("Tax")),1),a[5]||(a[5]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",$Tt,[e("span",wTt,[e("h6",DTt,n(o.$t("Total")),1),e("h5",CTt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,sSt)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",PTt,[e("div",ETt,[e("div",ATt,[e("h5",ITt,n(o.$t("Invoice Details")),1),a[8]||(a[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",RTt,[t.invoice_details.media.length>0?(u(),f("div",STt,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[6]||(a[6]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,TTt))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[7]||(a[7]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,jTt)])]),e("div",OTt,[e("div",MTt,[e("div",LTt,[e("span",NTt,[e("h5",FTt,n(o.$t("Anchor"))+":",1),e("h6",YTt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",VTt,[e("h5",BTt,n(o.$t("Delivery Address"))+":",1),e("h6",UTt,n(t.invoice_details.delivery_address),1)]),e("span",qTt,[e("h5",HTt,n(o.$t("Debit From"))+":",1),e("h6",zTt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",WTt,[e("h5",KTt,n(o.$t("Vendor"))+":",1),e("h6",GTt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",QTt,[e("h5",ZTt,n(o.$t("Remarks"))+":",1),e("h6",JTt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",XTt,[e("h5",ejt,n(o.$t("Credit To"))+":",1),e("h6",tjt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",ojt,[e("h5",ajt,n(o.$t("Rejection Reason"))+":",1),e("h6",njt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",sjt,[t.invoice_details.pi_number?(u(),f("span",ljt,[e("h5",ijt,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,rjt)])):b("",!0),e("span",djt,[e("h5",cjt,n(o.$t("PI No."))+":",1),e("h6",ujt,n(t.invoice_details.pi_number),1)]),e("span",_jt,[e("h5",mjt,n(o.$t("PO No."))+":",1),e("h6",fjt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",hjt,[e("h5",pjt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",vjt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",gjt,[e("h5",bjt,n(o.$t("Invoice Date."))+":",1),e("h6",yjt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",kjt,[e("h5",$jt,n(o.$t("Amount"))+":",1),e("h6",wjt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Djt,[e("h5",Cjt,n(o.$t("Status."))+":",1),e("h6",xjt,n(t.invoice_details.approval_stage),1)]),e("span",Pjt,[e("h5",Ejt,n(o.$t("Due Date"))+":",1),e("h6",Ajt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Ijt,[e("table",Rjt,[e("thead",Sjt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])]),e("div",Tjt,[e("span",jjt,[e("h6",Ojt,n(o.$t("Discount"))+":",1),e("h5",Mjt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Ljt,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Njt,n(r.name),1),e("h5",Fjt,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",Yjt,[e("span",Vjt,[e("h6",Bjt,n(o.$t("Tax")),1),a[9]||(a[9]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",Ujt,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",qjt,n(r.name),1),r.name!="Credit Note Amount"&&r.name!="Credit Note"&&r.name!="Credit Amount"?(u(),f("h5",Hjt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",zjt,n(r.amount),1))]))),128))])):(u(),f("div",Wjt,[e("span",Kjt,[e("h6",Gjt,n(o.$t("WHT Tax"))+":",1),a[10]||(a[10]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",Qjt,[e("h6",Zjt,n(o.$t("WHT VAT"))+":",1),a[11]||(a[11]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",Jjt,[e("h6",Xjt,n(o.$t("Credit Note Amount"))+":",1),a[12]||(a[12]=e("h5",{class:"text-success my-auto py-1"}," 0 ",-1))])])),e("div",eOt,[e("span",tOt,[e("h6",oOt,n(o.$t("Total")),1),e("h5",aOt,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,xTt)):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const sOt=Ue(TRt,[["render",nOt]]),lOt={name:"FinanceRequests",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(0),t=h(null),c=h(0),m=h(0),_=h(0),l=lt(),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h(""),D=h(0),y=async()=>{await A.get(o+"finance-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(N=>{a.value=N.data.finance_requests}).catch(N=>{console.log(N)})};Qe(()=>{y()});const C=N=>{let U="";switch(N){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-danger";break;case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},x=N=>{let U=0;return N.forEach(Z=>{U+=Z.quantity*Z.price_per_quantity}),U},E=N=>{let U=0;return N.invoice_fees.length>0&&N.invoice_fees.forEach(Z=>{U+=Z.amount}),U},k=N=>{T(N),E(N),V(N)},w=N=>N.vendor_configurations.eligibility,T=N=>{let U=N.vendor_configurations.eligibility,Z=x(N.invoice_items),ce=0;N.invoice_fees.forEach(z=>{ce+=z.amount});let ae=0;N.invoice_taxes.forEach(z=>{ae+=z.value}),Z=Z+ae;let J=0;return N.invoice_discounts.forEach(z=>{z.type=="percentage"?J+=z.value/100*Z:J+=z.value}),Z=Z-J,s.value=U/100*(Z-ce),s.value.toFixed(2)},V=N=>{t.value=N,c.value=N.vendor_configurations.eligibility;let U=0;N.invoice_fees.forEach(z=>{U+=z.amount});let Z=0;N.invoice_taxes.forEach(z=>{Z+=z.value});let ce=x(N.invoice_items)+Z,ae=0;N.invoice_discounts.forEach(z=>{z.type=="percentage"?ae+=z.value/100*ce:ae+=z.value}),ce=ce-ae,t.value=N;let J=ce-U;return _.value=N.vendor_discount_details.total_roi,m.value=c.value/100*J*(N.vendor_discount_details.total_spread/100)*((H(N.due_date).diff(H(),"days")+1)/365),m.value.toFixed(2)},B=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+N+"/details").then(Z=>{t.value=Z.data,D.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},O=(N,U)=>(U/N*100).toFixed(2),L=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",await A.get(o+"finance-requests/data",{params:{per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=async()=>{let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"finance-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},P=async N=>{await A.get(N+"&per_page="+p.value,{params:{anchor:r.value,invoice:i.value,status:d.value}}).then(U=>{a.value=U.data.finance_requests})};return ot([p],async([N])=>{await A.get(o+"finance-requests/data",{params:{per_page:N}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})}),{moment:H,finance_requests:a,anchor_search:r,invoice_search:i,status_search:d,per_page:p,getTaxPercentage:O,invoice_details:t,resolveRequestStatus:C,changePage:P,showModal:k,clearSearch:L,filter:R,updateApprovalStatus:(N,U)=>{const Z=new FormData;Z.append("status",U),Z.append("rejection_reason",g.value),A.post(o+"finance-requests/"+N+"/status/update",Z).then(()=>{l.success("Request updated successfully"),U=="rejected"?document.getElementById("reject-request-close-btn-"+N).click():document.getElementById("approve-request-close-btn-"+N).click(),y()}).catch(()=>{l.error("An error occurred while updating the request")})},status:v,rejection_reason:g,showInvoice:B,getEligibility:w,getDiscountRate:N=>N.vendor_discount_details.total_roi,resolvePaymentRequestStatus:N=>{let U="";switch(N){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-warning";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},invoice_details_key:D}}},iOt={class:"card"},rOt={class:"card-header d-flex justify-content-between"},dOt={class:"d-flex flex-wrap gap-1"},cOt={class:""},uOt={for:"Anchor",class:"form-label"},_Ot={class:""},mOt={for:"Invoice No",class:"form-label"},fOt={class:""},hOt={for:"Status",class:"form-label"},pOt={value:""},vOt={value:"created"},gOt={value:"pending"},bOt={value:"approved"},yOt={value:"paid"},kOt={value:"denied"},$Ot={class:"table-search-btn"},wOt={class:"table-clear-btn"},DOt={class:"d-flex align-items-end"},COt={style:{"margin-right":"10px"}},xOt={class:"card-body"},POt={class:"table-responsive"},EOt={class:"table"},AOt={class:""},IOt={class:"table-border-bottom-0"},ROt={key:0},SOt={colspan:"12",class:"text-center"},TOt={class:"text-center"},jOt={key:1},OOt={colspan:"12",class:"text-center"},MOt={class:"text-center"},LOt=["data-bs-target"],NOt=["onClick"],FOt=["onClick"],YOt={class:"text-success text-nowrap"},VOt=["id","data-bs-target"],BOt=["id","data-bs-target"],UOt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},qOt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},HOt={class:"modal-content"},zOt={class:"modal-body"},WOt={class:"d-flex justify-content-center"},KOt=["data-bs-target"],GOt=["data-bs-target"],QOt=["id"],ZOt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},JOt={class:"modal-content"},XOt={class:"modal-header"},eMt={class:"modal-title",id:"modalCenterTitle"},tMt=["id"],oMt=["onSubmit"],aMt={class:"modal-body"},nMt={class:"modal-footer"},sMt={class:"btn btn-primary",type:"submit"},lMt=["id"],iMt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},rMt={class:"modal-content"},dMt={class:"modal-header"},cMt={class:"modal-title",id:"modalCenterTitle"},uMt=["id"],_Mt=["onSubmit"],mMt={class:"modal-body"},fMt={class:"row mb-1"},hMt={class:"form-group"},pMt={for:""},vMt={class:"modal-footer"},gMt={class:"btn btn-primary",type:"submit"},bMt=["id"],yMt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},kMt={class:"modal-content"},$Mt={class:"modal-header"},wMt={class:"modal-title",id:"modalCenterTitle"},DMt={class:"modal-body"},CMt={class:"row mb-1"},xMt={class:"col-6 my-1"},PMt={class:"col-6"},EMt={class:"col-6 my-1"},AMt={class:"col-6"},IMt={class:"col-6 my-1"},RMt={class:"col-6"},SMt={class:"col-6 my-1"},TMt=["onClick"],jMt={class:"col-6 my-1"},OMt={class:"col-6 text-success"},MMt={class:"col-6 my-1"},LMt={class:"col-6"},NMt={class:"col-6 my-1"},FMt={class:"col-6 text-success"},YMt={class:"col-6 my-1"},VMt={class:"col-6 text-success"},BMt={class:"col-6 my-1"},UMt={class:"col-6"},qMt={class:"col-6 my-1"},HMt={class:"col-6"},zMt={class:"col-6 my-1"},WMt={class:"col-6"},KMt={class:"col-6 my-1"},GMt={class:"col-6"},QMt={class:"col-6 my-1"},ZMt={class:"col-6"},JMt={key:0,class:"col-12"},XMt={key:0,class:"row"},e9t={class:"col-6 my-1 d-flex"},t9t={class:""},o9t={key:0,class:""},a9t={class:"col-6 text-success"},n9t={class:"col-6 my-1"},s9t={class:"col-6 text-success"},l9t={class:"col-6 my-1"},i9t={class:"col-6"},r9t={class:"modal-footer"},d9t={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function c9t(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",iOt,[e("div",rOt,[e("div",dOt,[e("div",cOt,[e("label",uOt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",_Ot,[e("label",mOt,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_search]])]),e("div",fOt,[e("label",hOt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",pOt,n(o.$t("Status")),1),e("option",vOt,n(o.$t("Created")),1),e("option",gOt,n(o.$t("Submitted")),1),e("option",bOt,n(o.$t("Approved")),1),e("option",yOt,n(o.$t("Paid")),1),e("option",kOt,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",$Ot,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",wOt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",DOt,[e("div",COt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),e("div",xOt,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",POt,[e("table",EOt,[e("thead",null,[e("tr",AOt,[e("th",null,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",IOt,[t.finance_requests.data?b("",!0):(u(),f("tr",ROt,[e("td",SOt,[e("span",TOt,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",jOt,[e("td",OOt,[e("span",MOt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline",style:{cursor:"pointer"}},n(i.reference_number),9,LOt),e("td",null,[e("span",null,n(i.anchor_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,NOt),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,FOt),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",YOt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[i.company_approvals.length>0?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.company_approvals[0].status)])},n(i.company_approvals[0].status),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,VOt),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,BOt),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",UOt,[e("div",qOt,[e("div",HOt,[e("div",zOt,[e("div",WOt,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,KOt)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,GOt)):b("",!0)]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",ZOt,[e("div",JOt,[e("div",XOt,[e("h5",eMt,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,tMt)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",aMt,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",nMt,[e("button",sMt,n(o.$t("Submit")),1)])],40,oMt)])])],8,QOt),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",iMt,[e("div",rMt,[e("div",dMt,[e("h5",cMt,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,uMt)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",mMt,[e("div",fMt,[e("div",hMt,[e("label",pMt,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[Q,t.rejection_reason]])])])]),e("div",vMt,[e("button",gMt,n(o.$t("Submit")),1)])],40,_Mt)])])],8,lMt),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",yMt,[e("div",kMt,[e("div",$Mt,[e("h5",wMt,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",DMt,[e("div",CMt,[e("div",xMt,n(o.$t("Anchor")),1),e("div",PMt,[e("span",null,n(i.anchor_name),1)]),e("div",EMt,n(o.$t("Program Name")),1),e("div",AMt,n(i.program_name),1),e("div",IMt,n(o.$t("Invoice / Unique Reference Number")),1),e("div",RMt,n(i.invoice_number),1),e("div",SMt,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,TMt),e("div",jMt,n(o.$t("PI Amount")),1),e("div",OMt,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",MMt,n(o.$t("Eligibility"))+" (%)",1),e("div",LMt,n(i.eligibility),1),e("div",NMt,n(o.$t("Eligible Payment Amount")),1),e("div",FMt,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",YMt,n(o.$t("Requested Payment Amount")),1),e("div",VMt,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",BMt,n(o.$t("Credit to Account No"))+".:",1),e("div",UMt,n(i.payment_accounts[0].account),1),e("div",qMt,n(o.$t("Request Date")),1),e("div",HMt,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",zMt,n(o.$t("Requested Disbursement Date")),1),e("div",WMt,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",KMt,n(o.$t("Due Date")),1),e("div",GMt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",QMt,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",ZMt,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",JMt,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",XMt,[e("div",e9t,[e("div",t9t,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",o9t," ("+n(d.description)+") ",1)):b("",!0)]),e("div",a9t,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",n9t,n(o.$t("Net Disbursal Total")),1),e("div",s9t,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",l9t,n(o.$t("Status")),1),e("div",i9t,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",r9t,[e("button",d9t,n(o.$t("Close")),1)])])])],8,bMt)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const u9t=Ue(lOt,[["render",c9t]]),_9t={name:"PurchaseOrders",components:{Pagination:Na},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"purchase-orders/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R.message)})},E=R=>{let P="";switch(R){case"Pending Checker Approval":P="bg-label-warning";break;case"pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Invoiced":P="bg-label-secondary";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},k=async(R,P)=>{m.value=!1,await A.post(`${a}purchase-orders/status/update`,{purchase_order_id:R,status:P,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(I=>{console.log(I),o.error("An error occurred")}).finally(()=>{m.value=!0})};Qe(()=>{x()}),ot([c],([R])=>{A.get(a+"purchase-orders/data?per_page="+R,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})});const w=()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},T=()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})};return ot(v,R=>{g.value.length>0?(C.value=[],R=="approve"&&(g.value.forEach(P=>{C.value.push(s.value.data.filter(I=>I.id==P)[0])}),y.value.click()),R=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,filter:w,refresh:T,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(R=>{R.user_can_approve&&!R.user_has_approved&&(document.getElementById("data-select-"+R.id).checked=!0,g.value.push(R.id))}):s.value.data.forEach(R=>{if(R.user_can_approve&&!R.user_has_approved){document.getElementById("data-select-"+R.id).checked=!1;let P;if(!g.value.filter(function(S,F){P=F,S==R.id}))return!1;g.value.splice(P,1)}})},updateSelected:R=>{if(g.value.includes(R)){const P=g.value.indexOf(R);g.value.splice(P,1)}else g.value.push(R)},submitBulkAction:R=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(I=>{P.append("purchase_orders[]",I)}),R=="approve"&&P.append("status","accepted"),R=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",P).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(I=>{console.log(I),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async R=>{await A.get(R+"&per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}}}},m9t={class:"d-flex justify-content-between px-2 py-2"},f9t={class:"d-flex flex-wrap"},h9t={class:""},p9t={for:"Buyer",class:"form-label"},v9t={class:"mx-1"},g9t={for:"PO No",class:"form-label"},b9t={class:"mx-1"},y9t={class:"form-label",for:""},k9t={class:"mx-1"},$9t={for:"Status",class:"form-label"},w9t={value:""},D9t={value:"pending"},C9t={value:"accepted"},x9t={value:"invoiced"},P9t={value:"rejected"},E9t={class:"mx-1"},A9t={for:"Bulk Actions",class:"form-label"},I9t={value:""},R9t={value:"approve"},S9t={value:"reject"},T9t={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},j9t={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},O9t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},M9t={class:"modal-content"},L9t={class:"modal-header"},N9t={class:"modal-title",id:"modalCenterTitle"},F9t={class:"modal-body"},Y9t={class:"modal-footer"},V9t={class:"btn btn-primary",type:"submit"},B9t={class:"mx-1 table-search-btn"},U9t={class:"mx-1 table-clear-btn"},q9t={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},H9t={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},z9t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},W9t={class:"modal-content"},K9t={class:"modal-header"},G9t={class:"modal-title",id:"modalCenterTitle"},Q9t={class:"modal-body"},Z9t={class:"row mb-1"},J9t={class:"form-group"},X9t={for:""},e7t={class:"modal-footer"},t7t={class:"btn btn-primary",type:"submit"},o7t={class:"d-flex"},a7t={class:"mx-1"},n7t={class:"table-responsive"},s7t={class:"table"},l7t={class:"form-check"},i7t={key:0},r7t={colspan:"12",class:"text-center"},d7t={class:"text-center"},c7t={key:1},u7t={colspan:"12",class:"text-center"},_7t={class:"text-center"},m7t={class:"form-check"},f7t=["id","onChange"],h7t=["data-bs-target"],p7t={class:"text-success text-nowrap"},v7t={class:"text-success text-nowrap"},g7t={class:""},b7t={class:""},y7t={class:""},k7t={class:"d-inline-block"},$7t={class:"dropdown-menu dropdown-menu-end m-0"},w7t=["onClick"],D7t={class:"dropdown-item badge bg-label-success"},C7t={key:1},x7t=["data-bs-target"],P7t={key:2,class:""},E7t=["href"],A7t={key:3,class:"dropdown-item badge bg-label-secondary"},I7t=["href"],R7t=["id"],S7t={class:"modal-dialog modal-md",role:"document"},T7t=["onSubmit"],j7t={class:"modal-content"},O7t={class:"modal-header"},M7t={class:"modal-title",id:"modalCenterTitle"},L7t={class:"modal-body"},N7t={class:"form-label"},F7t={class:"form-group"},Y7t={class:"modal-footer"},V7t={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},B7t=["disabled"],U7t=["id"],q7t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},H7t={class:"modal-content"},z7t={class:"modal-header"},W7t={class:"modal-title",id:"modalCenterTitle"},K7t={class:"d-flex"},G7t=["href"],Q7t=["href"],Z7t={class:"modal-body"},J7t={class:"d-flex justify-content-between"},X7t={class:"mb-3 w-25"},eLt={class:"d-flex justify-content-between"},tLt={class:"fw-light my-auto"},oLt={class:"fw-bold mx-2 my-auto"},aLt={class:"d-flex justify-content-between"},nLt={class:"fw-light my-auto"},sLt={class:"fw-bold mx-2 my-auto"},lLt={class:"d-flex justify-content-between"},iLt={class:"fw-light my-auto"},rLt={class:"fw-bold mx-2 my-auto"},dLt={class:"d-flex justify-content-between"},cLt={class:"fw-light my-auto"},uLt={key:0,class:"d-flex justify-content-between"},_Lt={class:"fw-light my-auto"},mLt={class:"fw-bold mx-2 my-auto"},fLt={class:"mb-3"},hLt={class:"d-flex justify-content-between"},pLt={class:"my-auto fw-light"},vLt={class:"fw-bold mx-2 my-auto"},gLt={class:"d-flex justify-content-between"},bLt={class:"my-auto fw-light"},yLt={class:"fw-bold mx-2 my-auto"},kLt={class:"d-flex justify-content-between"},$Lt={class:"my-auto fw-light"},wLt={class:"fw-bold mx-2 my-auto"},DLt={class:"d-flex justify-content-between"},CLt={class:"my-auto fw-light"},xLt={class:"fw-bold text-success mx-2 my-auto"},PLt={class:"table-responsive"},ELt={class:"table"},ALt={class:"bg-label-secondary px-2"},ILt={class:"d-flex justify-content-end"},RLt={class:"mx-2 my-auto py-1"},SLt={class:"text-success my-auto py-1"};function TLt(o,a,s,t,c,m){const _=de("pagination");return u(),f(W,null,[e("div",m9t,[e("div",f9t,[e("div",h9t,[e("label",p9t,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",v9t,[e("label",g9t,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.po_search]])]),e("div",b9t,[e("label",y9t,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",k9t,[e("label",$9t,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",w9t,n(o.$t("Status")),1),e("option",D9t,n(o.$t("Pending")),1),e("option",C9t,n(o.$t("Accepted")),1),e("option",x9t,n(o.$t("Invoiced")),1),e("option",P9t,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",E9t,[e("label",A9t,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",I9t,n(o.$t("Bulk Actions")),1),e("option",R9t,n(o.$t("Accept")),1),e("option",S9t,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",T9t,null,512),e("div",j9t,[e("div",O9t,[e("div",M9t,[e("div",L9t,[e("h5",N9t,n(o.$t("Accept Purchase Orders")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",F9t,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",Y9t,[e("button",V9t,n(o.$t("Submit")),1)])],32)])])]),e("div",B9t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",U9t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",q9t,null,512),e("div",H9t,[e("div",z9t,[e("div",W9t,[e("div",K9t,[e("h5",G9t,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Q9t,[e("div",Z9t,[e("div",J9t,[e("label",X9t,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",e7t,[e("button",t7t,n(o.$t("Submit")),1)])],32)])])])]),e("div",o7t,[e("div",a7t,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",n7t,[e("table",s7t,[e("thead",null,[e("tr",null,[e("th",null,[e("div",l7t,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",i7t,[e("td",r7t,[e("span",d7t,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",c7t,[e("td",u7t,[e("span",_7t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",m7t,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,f7t)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,h7t),e("td",p7t,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",v7t,n(l.purchase_order_items.length),1),e("td",g7t,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",b7t,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",y7t,[e("div",k7t,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",$7t,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",D7t,n(o.$t("Accept")),1)],8,w7t)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",C7t,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,x7t)])):b("",!0),l.can_flip&&l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",P7t,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,E7t)])):b("",!0),l.attachment?(u(),f("li",A7t,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,I7t)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",S7t,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",j7t,[e("div",O7t,[e("h5",M7t,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",L7t,[e("label",N7t,n(o.$t("Rejection Reason")),1),e("div",F7t,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",Y7t,[e("button",V7t,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,B7t)])])],40,T7t)])],8,R7t),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",q7t,[e("div",H7t,[e("div",z7t,[e("h5",W7t,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",K7t,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,G7t)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Q7t)):b("",!0)])]),e("div",Z7t,[e("div",J7t,[e("div",X7t,[e("span",eLt,[e("h5",tLt,n(o.$t("Buyer"))+":",1),e("h6",oLt,n(l.anchor.name),1)]),e("span",aLt,[e("h5",nLt,n(o.$t("Delivery Address"))+":",1),e("h6",sLt,n(l.delivery_address),1)]),e("span",lLt,[e("h5",iLt,n(o.$t("Remarks"))+":",1),e("h6",rLt,n(l.remarks),1)]),e("span",dLt,[e("h5",cLt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",uLt,[e("h5",_Lt,n(o.$t("Rejection Reason"))+":",1),e("h6",mLt,n(l.rejection_reason),1)])):b("",!0)]),e("div",fLt,[e("span",hLt,[e("h5",pLt,n(o.$t("PO No"))+":",1),e("h6",vLt,n(l.purchase_order_number),1)]),e("span",gLt,[e("h5",bLt,n(o.$t("Start Date"))+":",1),e("h6",yLt,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",kLt,[e("h5",$Lt,n(o.$t("End Date"))+":",1),e("h6",wLt,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",DLt,[e("h5",CLt,n(o.$t("PO Amount"))+":",1),e("h6",xLt," Ksh "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",PLt,[e("table",ELt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",ALt,[e("span",ILt,[e("h6",RLt,n(o.$t("Total")),1),e("h5",SLt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,U7t)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])],64)}const jLt=Ue(_9t,[["render",TLt]]),OLt={name:"PurchaseOrders",components:{Pagination:Na},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R.message)})},E=R=>{let P="";switch(R){case"Pending Checker Approval":P="bg-label-warning";break;case"pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Invoiced":P="bg-label-secondary";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},k=async(R,P)=>{m.value=!1,await A.post(`${a}purchase-orders/pending/status/update`,{purchase_order_id:R,status:P,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(I=>{console.log(I),o.error("An error occurred")}).finally(()=>{m.value=!0})};Qe(()=>{x()}),ot([c],([R])=>{A.get(a+"purchase-orders/pending/data?per_page="+R,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})});const w=()=>{p.value=$("#pending_date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},T=()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})};return ot(v,R=>{g.value.length>0?(C.value=[],R=="approve"&&(g.value.forEach(P=>{C.value.push(s.value.data.filter(I=>I.id==P)[0])}),y.value.click()),R=="reject"&&D.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:D,showApprovalModal:y,approvePurchaseOrders:C,filter:w,refresh:T,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(R=>{R.user_can_approve&&!R.user_has_approved&&(document.getElementById("data-select-"+R.id).checked=!0,g.value.push(R.id))}):s.value.data.forEach(R=>{if(R.user_can_approve&&!R.user_has_approved){document.getElementById("data-select-"+R.id).checked=!1;let P;if(!g.value.filter(function(S,F){P=F,S==R.id}))return!1;g.value.splice(P,1)}})},updateSelected:R=>{if(g.value.includes(R)){const P=g.value.indexOf(R);g.value.splice(P,1)}else g.value.push(R)},submitBulkAction:R=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(I=>{P.append("purchase_orders[]",I)}),R=="approve"&&P.append("status","accepted"),R=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",P).then(()=>{o.success("POs updated"),v.value="",t.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(I=>{console.log(I),o.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async R=>{await A.get(R+"&per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}}}},MLt={class:"d-flex justify-content-between px-2 py-2"},LLt={class:"d-flex flex-wrap"},NLt={class:""},FLt={for:"Buyer",class:"form-label"},YLt={class:"mx-1"},VLt={for:"PO No",class:"form-label"},BLt={class:"mx-1"},ULt={class:"form-label",for:""},qLt={class:"mx-1"},HLt={for:"Status",class:"form-label"},zLt={value:""},WLt={value:"pending"},KLt={value:"accepted"},GLt={value:"invoiced"},QLt={value:"rejected"},ZLt={class:"mx-1"},JLt={for:"Bulk Actions",class:"form-label"},XLt={value:""},eNt={value:"approve"},tNt={value:"reject"},oNt={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},aNt={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},nNt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},sNt={class:"modal-content"},lNt={class:"modal-header"},iNt={class:"modal-title",id:"modalCenterTitle"},rNt={class:"modal-body"},dNt={class:"modal-footer"},cNt={class:"btn btn-primary",type:"submit"},uNt={class:"mx-1 table-search-btn"},_Nt={class:"mx-1 table-clear-btn"},mNt={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},fNt={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},hNt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},pNt={class:"modal-content"},vNt={class:"modal-header"},gNt={class:"modal-title",id:"modalCenterTitle"},bNt={class:"modal-body"},yNt={class:"row mb-1"},kNt={class:"form-group"},$Nt={for:""},wNt={class:"modal-footer"},DNt={class:"btn btn-primary",type:"submit"},CNt={class:"d-flex"},xNt={class:"mx-1"},PNt={class:"table-responsive"},ENt={class:"table"},ANt={class:"form-check"},INt={key:0},RNt={colspan:"12",class:"text-center"},SNt={class:"text-center"},TNt={key:1},jNt={colspan:"12",class:"text-center"},ONt={class:"text-center"},MNt={class:"form-check"},LNt=["id","onChange"],NNt=["data-bs-target"],FNt={class:"text-success text-nowrap"},YNt={class:"text-success text-nowrap"},VNt={class:""},BNt={class:""},UNt={class:""},qNt={class:"d-inline-block"},HNt={class:"dropdown-menu dropdown-menu-end m-0"},zNt=["onClick"],WNt={class:"dropdown-item badge bg-label-success"},KNt={key:1},GNt=["data-bs-target"],QNt={key:2,class:""},ZNt=["href"],JNt={key:3,class:"dropdown-item badge bg-label-secondary"},XNt=["href"],eFt=["id"],tFt={class:"modal-dialog modal-md",role:"document"},oFt=["onSubmit"],aFt={class:"modal-content"},nFt={class:"modal-header"},sFt={class:"modal-title",id:"modalCenterTitle"},lFt={class:"modal-body"},iFt={class:"form-label"},rFt={class:"form-group"},dFt={class:"modal-footer"},cFt={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},uFt=["disabled"],_Ft=["id"],mFt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},fFt={class:"modal-content"},hFt={class:"modal-header"},pFt={class:"modal-title",id:"modalCenterTitle"},vFt={class:"d-flex"},gFt=["href"],bFt=["href"],yFt={class:"modal-body"},kFt={class:"d-flex justify-content-between"},$Ft={class:"mb-3 w-25"},wFt={class:"d-flex justify-content-between"},DFt={class:"fw-light my-auto"},CFt={class:"fw-bold mx-2 my-auto"},xFt={class:"d-flex justify-content-between"},PFt={class:"fw-light my-auto"},EFt={class:"fw-bold mx-2 my-auto"},AFt={class:"d-flex justify-content-between"},IFt={class:"fw-light my-auto"},RFt={class:"fw-bold mx-2 my-auto"},SFt={class:"d-flex justify-content-between"},TFt={class:"fw-light my-auto"},jFt={key:0,class:"d-flex justify-content-between"},OFt={class:"fw-light my-auto"},MFt={class:"fw-bold mx-2 my-auto"},LFt={class:"mb-3"},NFt={class:"d-flex justify-content-between"},FFt={class:"my-auto fw-light"},YFt={class:"fw-bold mx-2 my-auto"},VFt={class:"d-flex justify-content-between"},BFt={class:"my-auto fw-light"},UFt={class:"fw-bold mx-2 my-auto"},qFt={class:"d-flex justify-content-between"},HFt={class:"my-auto fw-light"},zFt={class:"fw-bold mx-2 my-auto"},WFt={class:"d-flex justify-content-between"},KFt={class:"my-auto fw-light"},GFt={class:"fw-bold text-success mx-2 my-auto"},QFt={class:"table-responsive"},ZFt={class:"table"},JFt={class:"bg-label-secondary px-2"},XFt={class:"d-flex justify-content-end"},eYt={class:"mx-2 my-auto py-1"},tYt={class:"text-success my-auto py-1"};function oYt(o,a,s,t,c,m){const _=de("pagination");return u(),f(W,null,[e("div",MLt,[e("div",LLt,[e("div",NLt,[e("label",FLt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",YLt,[e("label",VLt,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.po_search]])]),e("div",BLt,[e("label",ULt,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"pending_date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",qLt,[e("label",HLt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",zLt,n(o.$t("Status")),1),e("option",WLt,n(o.$t("Pending")),1),e("option",KLt,n(o.$t("Accepted")),1),e("option",GLt,n(o.$t("Invoiced")),1),e("option",QLt,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",ZLt,[e("label",JLt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",XLt,n(o.$t("Bulk Actions")),1),e("option",eNt,n(o.$t("Accept")),1),e("option",tNt,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",oNt,null,512),e("div",aNt,[e("div",nNt,[e("div",sNt,[e("div",lNt,[e("h5",iNt,n(o.$t("Accept Purchase Orders")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",rNt,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",dNt,[e("button",cNt,n(o.$t("Submit")),1)])],32)])])]),e("div",uNt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_Nt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",mNt,null,512),e("div",fNt,[e("div",hNt,[e("div",pNt,[e("div",vNt,[e("h5",gNt,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",bNt,[e("div",yNt,[e("div",kNt,[e("label",$Nt,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",wNt,[e("button",DNt,n(o.$t("Submit")),1)])],32)])])])]),e("div",CNt,[e("div",xNt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",PNt,[e("table",ENt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",ANt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",INt,[e("td",RNt,[e("span",SNt,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",TNt,[e("td",jNt,[e("span",ONt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",MNt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,LNt)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,NNt),e("td",FNt,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",YNt,n(l.purchase_order_items.length),1),e("td",VNt,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",BNt,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",UNt,[e("div",qNt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",HNt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",WNt,n(o.$t("Accept")),1)],8,zNt)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",KNt,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,GNt)])):b("",!0),l.can_flip&&l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",QNt,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,ZNt)])):b("",!0),l.attachment?(u(),f("li",JNt,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,XNt)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",tFt,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",aFt,[e("div",nFt,[e("h5",sFt,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",lFt,[e("label",iFt,n(o.$t("Rejection Reason")),1),e("div",rFt,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[Q,t.rejection_reason]])])]),e("div",dFt,[e("button",cFt,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,uFt)])])],40,oFt)])],8,eFt),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",mFt,[e("div",fFt,[e("div",hFt,[e("h5",pFt,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",vFt,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,gFt)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,bFt)):b("",!0)])]),e("div",yFt,[e("div",kFt,[e("div",$Ft,[e("span",wFt,[e("h5",DFt,n(o.$t("Buyer"))+":",1),e("h6",CFt,n(l.anchor.name),1)]),e("span",xFt,[e("h5",PFt,n(o.$t("Delivery Address"))+":",1),e("h6",EFt,n(l.delivery_address),1)]),e("span",AFt,[e("h5",IFt,n(o.$t("Remarks"))+":",1),e("h6",RFt,n(l.remarks),1)]),e("span",SFt,[e("h5",TFt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",jFt,[e("h5",OFt,n(o.$t("Rejection Reason"))+":",1),e("h6",MFt,n(l.rejection_reason),1)])):b("",!0)]),e("div",LFt,[e("span",NFt,[e("h5",FFt,n(o.$t("PO No"))+":",1),e("h6",YFt,n(l.purchase_order_number),1)]),e("span",VFt,[e("h5",BFt,n(o.$t("Start Date"))+":",1),e("h6",UFt,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",qFt,[e("h5",HFt,n(o.$t("End Date"))+":",1),e("h6",zFt,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",WFt,[e("h5",KFt,n(o.$t("PO Amount"))+":",1),e("h6",GFt," Ksh "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",QFt,[e("table",ZFt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",JFt,[e("span",XFt,[e("h6",eYt,n(o.$t("Total")),1),e("h5",tYt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,_Ft)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])],64)}const aYt=Ue(OLt,[["render",oYt]]),nYt={name:"AllInvoicesReport",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(0),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(0),y="../../../../../assets/img/spinner.svg",C=async()=>{await A.get(s+"reports/all-invoices-report",{params:{per_page:c.value}}).then(I=>{t.value=I.data.invoices}).catch(I=>{console.log(I)})},x=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+I+"/details").then(F=>{g.value=F.data,D.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};Qe(()=>{C()});const E=I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Maker":S="bg-label-primary";break;case"Pending Checker":S="bg-label-danger";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;case"Rejected":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},k=I=>{let S="";switch(I){case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-warning";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},w=(I,S)=>(S/I*100).toFixed(2);ot([c],([I])=>{A.get(s+"reports/all-invoices-report",{params:{per_page:I}}).then(S=>{t.value=S.data.invoices}).catch(S=>{console.log(S)})});const T=()=>{v.value=$("#date_search").val(),v.value&&(l.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/all-invoices-report",{params:{per_page:c.value,invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(S=>{t.value=S.data.invoices}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},V=()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value=0,l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#date_search").val(""),A.get(s+"reports/all-invoices-report",{params:{per_page:c.value}}).then(S=>{t.value=S.data.invoices}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},B=async I=>{await A.get(I,{params:{per_page:c.value,invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(S=>{t.value=S.data.invoices})},O=h(!1),L=h(!1);return{moment:H,invoice_number_search:m,amount_search:_,from_date_search:l,to_date_search:r,disbursement_date_search:i,status_search:d,financing_status_search:p,invoices:t,per_page:c,invoice_number_search:m,invoice_details:g,changePage:B,resolveFinancingStatus:k,resolveStatus:E,getTaxPercentage:w,exportReport:()=>{O.value=!0,A.get(s+"report/all-invoices-report/export",{responseType:"arraybuffer",method:"GET"}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{O.value=!1})},exportPdfReport:()=>{L.value=!0,A.get(s+"report/all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{L.value=!1})},filter:T,refresh:V,showInvoice:x,downloadingExcel:O,downloadingPdf:L,spinner:y,invoice_details_key:D}}},sYt={class:"card p-2"},lYt={class:"d-flex justify-content-between"},iYt={class:"d-flex flex-wrap gap-1"},rYt={class:""},dYt={for:"Invoice No",class:"form-label mx-1"},cYt={class:""},uYt={class:"form-label",for:""},_Yt={class:""},mYt={for:"Status",class:"form-label"},fYt={value:""},hYt={value:"pending"},pYt={value:"pending_maker"},vYt={value:"pending_checker"},gYt={value:"approved"},bYt={value:"rejected"},yYt={value:"past_due"},kYt={value:"expired"},$Yt={class:""},wYt={for:"Financing Status",class:"form-label"},DYt={value:""},CYt={value:"pending"},xYt={value:"submitted"},PYt={value:"financed"},EYt={value:"disbursed"},AYt={value:"closed"},IYt={value:"denied"},RYt={class:"table-search-btn"},SYt={class:"table-clear-btn"},TYt={class:"d-flex align-items-end"},jYt={class:"mx-1"},OYt={key:0,class:"d-flex"},MYt=["src"],LYt={key:0,class:"d-flex"},NYt=["src"],FYt={class:"table-responsive"},YYt={class:"table"},VYt={class:"text-nowrap"},BYt={class:"table-border-bottom-0"},UYt={key:0},qYt={colspan:"12",class:"text-center"},HYt={class:"text-center"},zYt={key:1},WYt={colspan:"12",class:"text-center"},KYt={class:"text-center"},GYt=["onClick"],QYt={class:"me-1"},ZYt={class:"text-success text-nowrap"},JYt={key:0},XYt={key:1},eVt={key:0,class:"text-success text-nowrap"},tVt={key:1},oVt=["id","data-bs-target"],aVt=["id","data-bs-target"],nVt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},sVt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},lVt={class:"modal-content"},iVt={class:"modal-body"},rVt={class:"d-flex justify-content-center"};function dVt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",sYt,[e("div",lYt,[e("div",iYt,[e("div",rYt,[e("label",dYt,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",cYt,[e("label",uYt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",_Yt,[e("label",mYt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",fYt,n(o.$t("Status")),1),e("option",hYt,n(o.$t("Pending (Internal Approval)")),1),e("option",pYt,n(o.$t("Pending Maker")),1),e("option",vYt,n(o.$t("Pending Checker")),1),e("option",gYt,n(o.$t("Approved")),1),e("option",bYt,n(o.$t("Rejected")),1),e("option",yYt,n(o.$t("Overdue")),1),e("option",kYt,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",$Yt,[e("label",wYt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.financing_status_search=i)},[e("option",DYt,n(o.$t("Status")),1),e("option",CYt,n(o.$t("Pending")),1),e("option",xYt,n(o.$t("Submitted")),1),e("option",PYt,n(o.$t("Financed")),1),e("option",EYt,n(o.$t("Disbursed")),1),e("option",AYt,n(o.$t("Closed")),1),e("option",IYt,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",RYt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",SYt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",TYt,[e("div",jYt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,MYt)):(u(),f("span",OYt,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,NYt)):(u(),f("span",LYt,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",FYt,[e("table",YYt,[e("thead",null,[e("tr",VYt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1)])]),e("tbody",BYt,[t.invoices.data?b("",!0):(u(),f("tr",UYt,[e("td",qYt,[e("span",HYt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",zYt,[e("td",WYt,[e("span",KYt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,GYt),e("td",null,[e("span",QYt,n(i.anchor),1)]),e("td",ZYt,[le(n(i.currency)+". ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",JYt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",XYt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[i.discount>0&&(i.status=="disbursed"||i.status=="closed")?(u(),f("span",eVt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("span",tVt,"-")),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,oVt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,aVt),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",nVt,[e("div",sVt,[e("div",lVt,[e("div",iVt,[e("div",rVt,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const lD=Ue(nYt,[["render",dVt]]),cVt={name:"ProgramReport",components:{Pagination:Na},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l="../../../../../assets/img/spinner.svg",r=()=>{A.get(s+"reports/programs-report",{params:{per_page:c.value}}).then(C=>{t.value=C.data.programs})};Qe(()=>{r()}),ot([c],([C])=>{A.get(s+"reports/programs-report",{params:{per_page:C}}).then(x=>{t.value=x.data.programs}).catch(x=>{console.log(x)})});const i=()=>{A.get(s+"reports/programs-report",{params:{per_page:c.value,program_code:m.value,anchor:_.value}}).then(C=>{t.value=C.data.programs}).catch(C=>{console.log(C)})},d=()=>{m.value="",_.value="",A.get(s+"reports/programs-report",{params:{per_page:c.value}}).then(C=>{t.value=C.data.programs}).catch(C=>{console.log(C)})},p=h(!1),v=h(!1);return{moment:H,program_code_search:m,program_anchor_search:_,programs:t,per_page:c,changePage:async C=>{await A.get(C).then(x=>{t.value=x.data.programs})},exportReport:()=>{p.value=!0,A.get(s+"report/programs-report/export",{responseType:"arraybuffer",method:"GET"}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{p.value=!1})},exportPdfReport:()=>{v.value=!0,A.get(s+"report/programs-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},filter:i,refresh:d,downloadingExcel:p,downloadingPdf:v,spinner:l}}},uVt={class:"card p-2"},_Vt={class:"d-flex justify-content-between"},mVt={class:"d-flex"},fVt={class:""},hVt={for:"Status",class:"form-label mx-1"},pVt={class:"mx-1"},vVt={for:"Status",class:"form-label mx-1"},gVt={class:"mx-1 table-search-btn"},bVt={class:"mx-1 table-clear-btn"},yVt={class:"d-flex align-items-end"},kVt={key:0,class:"d-flex"},$Vt=["src"],wVt={key:0,class:"d-flex"},DVt=["src"],CVt={class:"table-responsive"},xVt={class:"table"},PVt={class:"text-nowrap"},EVt={class:"table-border-bottom-0"},AVt={key:0},IVt={colspan:"12",class:"text-center"},RVt={class:"text-center"},SVt={key:1},TVt={colspan:"12",class:"text-center"},jVt={class:"text-center"},OVt={class:"me-1"},MVt={class:"text-success text-nowrap"},LVt={class:"text-success text-nowrap"},NVt={class:"text-success text-nowrap"},FVt={class:"text-success text-nowrap"};function YVt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",uVt,[e("div",_Vt,[e("div",mVt,[e("div",fVt,[e("label",hVt,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Program Code","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_code_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.program_code_search]])]),e("div",pVt,[e("label",vVt,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=l=>t.program_anchor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.program_anchor_search]])]),e("div",gVt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",bVt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",yVt,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,$Vt)):(u(),f("span",kVt,[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,DVt)):(u(),f("span",wVt,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",CVt,[e("table",xVt,[e("thead",null,[e("tr",PVt,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",EVt,[t.programs.data?b("",!0):(u(),f("tr",AVt,[e("td",IVt,[e("span",RVt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",SVt,[e("td",TVt,[e("span",jVt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",OVt,n(l.anchor_name),1)]),e("td",MVt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",LVt,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",NVt,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",FVt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const iD=Ue(cVt,[["render",YVt]]),VVt={name:"PaymentsReport",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=h(null),D=h(""),y=h(""),C="../../../../../assets/img/spinner.svg",x=h(0),E=()=>{A.get(s+"reports/payments-report",{params:{per_page:v.value}}).then(F=>{t.value=F.data.payments}).catch(F=>{console.log(F)})},k=async(F,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+F+"/details").then(U=>{g.value=U.data,x.value++,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})};Qe(()=>{E()});const w=F=>{let N="";switch(F){case"created":N="bg-label-secondary";break;case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-primary";break;case"approved":N="bg-label-secondary";break;case"disbursed":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},T=F=>{let N="";switch(F){case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-primary";break;case"financed":N="bg-label-success";break;case"closed":N="bg-label-secondary";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},V=(F,N)=>(N/F*100).toFixed(2),B=h(!1),O=h(!1),L=()=>{B.value=!0,A.get(s+"report/payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)}).finally(()=>{B.value=!1})},R=()=>{O.value=!0,A.get(s+"report/payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)}).finally(()=>{O.value=!1})};return ot([v],([F])=>{A.get(s+"reports/payments-report",{params:{per_page:F,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(N=>{t.value=N.data.payments}).catch(N=>{console.log(N)})}),{moment:H,payments:t,per_page:v,invoice_number_search:m,invoice_status_search:p,from_date_search:_,to_date_search:l,from_disbursement_date_search:r,to_disbursement_date_search:i,po_search:d,financing_status_search:c,resolveStatus:w,resolveFinancingStatus:T,getTaxPercentage:V,changePage:async F=>{await A.get(F,{params:{per_page:v.value,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(N=>{t.value=N.data.payments})},exportReport:L,exportPdfReport:R,filter:()=>{D.value=$("#date_search").val(),D.value&&(_.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let F=$(".ti-search").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/payments-report",{params:{per_page:v.value,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(N=>{t.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},refresh:()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",d.value="",p.value="",_.value="",l.value="",$("#date_search").val(""),r.value="",i.value="",$("#disbursement_date_search").val(""),A.get(s+"reports/payments-report",{params:{per_page:v.value}}).then(N=>{t.value=N.data.payments}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},invoice_details:g,showInvoice:k,downloadingExcel:B,downloadingPdf:O,spinner:C,show_invoice_key:x}}},BVt={class:"card p-2"},UVt={class:"d-flex justify-content-between"},qVt={class:"d-flex flex-wrap gap-1"},HVt={class:""},zVt={for:"Invoice No",class:"form-label"},WVt={class:""},KVt={for:"PO No",class:"form-label"},GVt={class:""},QVt={class:"form-label",for:""},ZVt={class:""},JVt={class:"form-label",for:""},XVt={class:""},eBt={for:"Financing Status",class:"form-label"},tBt={value:""},oBt={value:"disbursed"},aBt={value:"closed"},nBt={class:"table-search-btn"},sBt={class:"table-clear-btn"},lBt={class:"d-flex justify-content-end gap-1 mt-auto"},iBt={key:0,class:"d-flex"},rBt=["src"],dBt={key:0,class:"d-flex"},cBt=["src"],uBt={class:"table-responsive"},_Bt={class:"table"},mBt={class:""},fBt={class:"table-border-bottom-0"},hBt={key:0},pBt={colspan:"12",class:"text-center"},vBt={class:"text-center"},gBt={key:1},bBt={colspan:"12",class:"text-center"},yBt={class:"text-center"},kBt=["onClick"],$Bt={class:"text-success text-nowrap"},wBt={class:"text-success text-nowrap"},DBt={class:"text-success text-nowrap"},CBt={class:"text-success text-nowrap"},xBt={class:"text-success text-nowrap"},PBt={class:"text-success text-nowrap"},EBt=["id","data-bs-target"],ABt=["id","data-bs-target"],IBt=["id","data-bs-target"],RBt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},SBt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},TBt={class:"modal-content"},jBt={class:"modal-body"},OBt={class:"d-flex justify-content-center"};function MBt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",BVt,[e("div",UVt,[e("div",qVt,[e("div",HVt,[e("label",zVt,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",WVt,[e("label",KVt,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[2]||(a[2]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",GVt,[e("label",QVt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",ZVt,[e("label",JVt,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",XVt,[e("label",eBt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status_search=i)},[e("option",tBt,n(o.$t("Financing Status")),1),e("option",oBt,n(o.$t("Disbursed")),1),e("option",aBt,n(o.$t("Closed")),1)],512),[[re,t.financing_status_search]])]),e("div",nBt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",sBt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",lBt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,rBt)):(u(),f("span",iBt,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,cBt)):(u(),f("span",dBt,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.payments.meta?(u(),fe(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",uBt,[e("table",_Bt,[e("thead",null,[e("tr",mBt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",fBt,[t.payments.data?b("",!0):(u(),f("tr",hBt,[e("td",pBt,[e("span",vBt,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",gBt,[e("td",bBt,[e("span",yBt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,kBt),e("td",null,n(i.anchor),1),e("td",$Bt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total_amount)),1),e("td",wBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",DBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount)),1),e("td",CBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.program_fees)),1),e("td",xBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1),e("td",null,[e("span",PBt,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,EBt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,ABt),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,IBt),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",RBt,[e("div",SBt,[e("div",TBt,[e("div",jBt,[e("div",OBt,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.payments.meta?(u(),fe(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rD=Ue(VVt,[["render",MBt]]),LBt={name:"Reports",components:{AllInvoicesReport:lD,ProgramReport:iD,PaymentsReport:rD},props:["can_view_all_invoices","can_view_programs","can_view_payments"],setup(o){const a=o.can_view_all_invoices,s=o.can_view_programs,t=o.can_view_payments,c=h(null),m=h(null),_=h(null);return Qe(()=>{c.value.getReport()}),{can_view_all_invoices:a,can_view_programs:s,can_view_payments:t,invoices_report:c,programs_report:m,payments_report:_,switchTabs:r=>{switch(r){case"invoices_report":c.value.getReport();break;case"programs_report":m.value.getPrograms();break;case"payments_report":_.value.getRequests();break}}}}},NBt={class:"nav-align-top nav-tabs-shadow mb-4"},FBt={class:"nav nav-tabs",role:"tablist"},YBt={key:0,class:"nav-item"},VBt={key:1,class:"nav-item"},BBt={key:2,class:"nav-item"},UBt={class:"tab-content"},qBt={key:0,class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},HBt={key:1,class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},zBt={key:2,class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function WBt(o,a,s,t,c,m){const _=de("all-invoices-report"),l=de("program-report"),r=de("payments-report");return u(),f("div",NBt,[e("ul",FBt,[t.can_view_all_invoices==1?(u(),f("li",YBt,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")])):b("",!0),t.can_view_programs==1?(u(),f("li",VBt,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")])):b("",!0),t.can_view_payments==1?(u(),f("li",BBt,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])):b("",!0)]),e("div",UBt,[t.can_view_all_invoices==1?(u(),f("div",qBt,[Be(_,{ref:"invoices_report"},null,512)])):b("",!0),t.can_view_programs==1?(u(),f("div",HBt,[Be(l,{ref:"programs_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",zBt,[Be(r,{ref:"payments_report"},null,512)])):b("",!0)])])}const KBt=Ue(LBt,[["render",WBt]]),GBt={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("settings/bank-accounts-data").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},QBt={class:"table"},ZBt={class:"table-border-bottom-0"},JBt={class:""},XBt=["value"],eUt={class:""},tUt=["value"],oUt={class:""},aUt=["value"],nUt={class:""},sUt=["value"],lUt={class:""},iUt=["value"],rUt={class:""},dUt=["value"];function cUt(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",QBt,[e("tbody",ZBt,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",JBt,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,XBt)])]),e("td",null,[e("div",eUt,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,tUt)])]),e("td",null,[e("div",oUt,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,aUt)])]),e("td",null,[e("div",nUt,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,sUt)])]),e("td",null,[e("div",lUt,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,iUt)])]),e("td",null,[e("div",rUt,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,dUt)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const uUt=Ue(GBt,[["render",cUt]]),_Ut={name:"ApprovalSettings",setup(o,a){const s=lt(),t=h([]),c=()=>{A.get("settings/anchors").then(_=>{t.value=_.data}).catch(_=>{console.log(_)})};return a.expose({getAnchors:c}),{programs:t,update:_=>{A.post("settings/anchors/update",{program_id:_}).then(()=>{c(),s.success("Updated successfully")}).catch(l=>{console.log(l),s.error("An error occurred")})}}}},mUt={class:"fw-bold py-3 mb-2 d-flex flex-column"},fUt={class:"fw-light px-3"},hUt={class:"px-3"},pUt={class:"col-md-4 d-flex flex-column"},vUt={for:"html5-text-input",class:"col-form-label"},gUt={class:"col-md-4"},bUt={class:"form-check form-switch mb-2"},yUt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},kUt=["checked","onChange"],$Ut={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"};function wUt(o,a,s,t,c,m){return u(),f("div",null,[e("h5",mUt,[e("span",fUt,n(o.$t("Discounting")),1),e("small",hUt,n(o.$t("Auto"))+" - "+n(o.$t("All anchor approved invoices will be sent to bank automatically")),1)]),(u(!0),f(W,null,X(t.programs,_=>(u(),f("div",{class:"row px-3 mb-2",key:_.id},[e("div",pUt,[e("label",vUt,n(_.anchor.name)+" ("+n(_.vendor_configuration.payment_account_number)+")",1)]),e("div",gUt,[e("div",bUt,[e("label",yUt,n(o.$t("Manual")),1),e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:_.vendor_configuration.auto_request_finance,onChange:l=>t.update(_.id)},null,40,kUt),e("label",$Ut,n(o.$t("Auto")),1)])])]))),128))])}const DUt=Ue(_Ut,[["render",wUt],["__scopeId","data-v-14b1c40c"]]),CUt={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(""),l=h(""),r=h(null),i=h(!1),d=h(!1),p=h(!1),v=h(!1),g=h(null),D=h(!1),y=h(!1),C=h(!1),x=()=>{A.get("settings/invoice-settings").then(V=>{m.value=V.data.settings,i.value=m.value.maker_checker_creating_updating,d.value=m.value.auto_request_financing,p.value=m.value.purchase_order_acceptance=="manual",l.value=m.value.description,_.value=m.value.footer,v.value=V.data.settings.request_financing_maker_checker,m.value.proposed_update&&(D.value=V.data.can_approve&&V.data.user_id!=m.value.proposed_update.user_id)}).catch(V=>{console.log(V)})};a.expose({getInvoiceSettings:x});const E=()=>{const V=new FormData;V.append("maker_checker_creating_updating",i.value),V.append("request_financing_maker_checker",v.value),V.append("auto_request_financing",d.value),V.append("purchase_order_acceptance",p.value),V.append("company_logo",r.value),V.append("description",l.value),V.append("footer",_.value),A.post("settings/invoice-settings/update",V).then(B=>{x(),r.value=null,c.success(B.data.message)}).catch(B=>{c.error(B.response.data.message)})},k=V=>{V.preventDefault();let B=V.target.files||V.dataTransfer.files;B.length&&(r.value=B[0])},w=()=>{l.value=g.value.getHTML().toString()};return ot([i,v,p,r,l,_],([V,B,O,L,R,P])=>{V!=m.value.maker_checker_creating_updating||B!=m.value.request_financing_maker_checker?y.value=!0:y.value=!1,(m.value.purchase_order_acceptance=="manual"&&!O||m.value.purchase_order_acceptance=="auto"&&O)&&(y.value=!0),P!=m.value.footer||R!=m.value.description||L?C.value=!0:C.value=!1}),{can_edit:s,checker:t,editor:g,can_approve:D,invoice_settings:m,invoice_content:l,invoice_logo:r,invoice_footer:_,maker_checker:i,auto_request_financing:d,request_financing_maker_checker:v,purchase_order_acceptance:p,updateStatus:V=>{A.get("settings/invoice-settings/status/"+V+"/update").then(B=>{x(),r.value=null,c.success(B.data.message),document.getElementById("close-modal").click()}).catch(B=>{c.error(B.response.data.message)})},changeFile:k,changeDescription:w,updateInvoiceSettings:E,can_submit_lower:C,can_submit_upper:y}}},xUt={class:"d-flex justify-content-between p-1"},PUt={class:"fw-bold py-3"},EUt={class:"fw-light px-3"},AUt={key:0,class:"my-auto px-2"},IUt={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},RUt={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},SUt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TUt={class:"modal-content"},jUt={class:"modal-header"},OUt={class:"modal-title",id:"modalCenterTitle"},MUt={class:"modal-body"},LUt={key:0},NUt={key:0},FUt={key:1},YUt={key:1},VUt={key:0},BUt={key:1},UUt={key:2},qUt={key:0},HUt={key:1},zUt={key:3},WUt=["href"],KUt={key:4},GUt=["innerHTML"],QUt={key:5},ZUt={class:"modal-footer"},JUt={class:"row px-2 mb-2"},XUt={class:"col-md-4"},eqt={class:"row border rounded border-primary mx-2 py-2"},tqt={class:"col-md-9 d-flex flex-column"},oqt={class:"col-form-label"},aqt={class:"col-md-3 mt-2"},nqt={class:"form-check form-switch"},sqt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},lqt=["checked"],iqt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},rqt={class:"col-md-4"},dqt={class:"row border rounded border-primary mx-2 py-2"},cqt={class:"col-md-9 d-flex flex-column"},uqt={class:"col-form-label"},_qt={class:"col-md-3 mt-2"},mqt={class:"form-check form-switch"},fqt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},hqt=["checked"],pqt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},vqt={class:"col-md-4"},gqt={class:"row border rounded border-primary mx-2 py-2"},bqt={class:"col-md-9 d-flex flex-column"},yqt={class:"col-form-label"},kqt={class:"col-md-3 mt-2"},$qt={class:"form-check form-switch"},wqt={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-95px"}},Dqt=["checked"],Cqt={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"40px"}},xqt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Pqt={class:"btn btn-primary",type:"submit"},Eqt={class:"fw-bold py-3 mb-2"},Aqt={class:"fw-light px-3"},Iqt={class:"row px-3 mb-2"},Rqt={class:"col-md-6 border-bottom d-flex flex-column"},Sqt={for:"html5-text-input",class:"col-form-label"},Tqt={class:"col-md-6"},jqt={class:"row px-3 mb-2"},Oqt={class:"col-md-6 d-flex flex-column"},Mqt={for:"",class:"col-form-label"},Lqt={class:"col-md-6 mb-4"},Nqt={class:"row px-3 mb-2 mt-4"},Fqt={class:"col-md-6 d-flex flex-column"},Yqt={for:"html5-text-input",class:"col-form-label"},Vqt={class:"col-md-6"},Bqt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Uqt={class:"btn btn-primary",type:"submit"};function qqt(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",xUt,[e("h5",PUt,[e("span",EUt,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",AUt,[e("button",IUt,n(o.$t("View Proposed Changes")),1),e("div",RUt,[e("div",SUt,[e("div",TUt,[e("div",jUt,[e("h5",OUt,n(o.$t("Confirm Changes")),1),a[9]||(a[9]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",MUt,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",LUt,[le(n(o.$t("Change Maker/Checker for Invoice Creating/Updating from"))+" ",1),t.maker_checker?(u(),f("span",NUt,n(o.$t("Yes to No")),1)):(u(),f("span",FUt,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_financing_maker_checker"?(u(),f("div",YUt,[le(n(o.$t("Change Maker/Checker for Request Financing from"))+" ",1),t.request_financing_maker_checker?(u(),f("span",VUt,n(o.$t("Yes to No")),1)):(u(),f("span",BUt,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",UUt,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",qUt,n(o.$t("Yes to No")),1)):(u(),f("span",HUt,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",zUt,[le(n(o.$t("Change Logo to "))+" ",1),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},"View File",8,WUt)])):b("",!0),i=="description"?(u(),f("div",KUt,[le(n(o.$t("Change Description To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,GUt)])):b("",!0),i=="footer"?(u(),f("div",QUt,[le(n(o.$t("Change Footer To"))+": ",1),a[11]||(a[11]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",ZUt,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[5]||(a[5]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",JUt,[e("div",XUt,[e("div",eqt,[e("div",tqt,[e("label",oqt,n(o.$t("Invoice Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",aqt,[e("div",nqt,[e("label",sqt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,lqt),[[Yo,t.maker_checker]]),e("label",iqt,n(o.$t("Yes")),1)])])])]),e("div",rqt,[e("div",dqt,[e("div",cqt,[e("label",uqt,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request will go to Checker for authorization")),1)]),e("div",_qt,[e("div",mqt,[e("label",fqt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_financing_maker_checker,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_financing_maker_checker=l)},null,8,hqt),[[Yo,t.request_financing_maker_checker]]),e("label",pqt,n(o.$t("Yes")),1)])])])]),e("div",vqt,[e("div",gqt,[e("div",bqt,[e("label",yqt,n(o.$t("Purchase Order Acceptance")),1),e("small",null,n(o.$t("Automatically accept POs uploaded by anchors")),1)]),e("div",kqt,[e("div",$qt,[e("label",wqt,n(o.$t("Auto")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",style:{"margin-left":"-55px"},checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,Dqt),[[Yo,t.purchase_order_acceptance]]),e("label",Cqt,n(o.$t("Manual")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",xqt,[e("button",Pqt,n(o.$t("Submit")),1)])):b("",!0)],32),a[12]||(a[12]=e("hr",null,null,-1)),e("h5",Eqt,[e("span",Aqt,n(o.$t("Invoice Settings")),1)]),e("form",{onSubmit:a[8]||(a[8]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",Iqt,[e("div",Rqt,[e("label",Sqt,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",Tqt,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[6]||(a[6]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",jqt,[e("div",Oqt,[e("label",Mqt,n(o.$t("Invoice Description")),1),e("small",null,n(o.$t("Will be shown in invoice as description")),1)]),e("div",Lqt,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",Nqt,[e("div",Fqt,[e("label",Yqt,n(o.$t("Invoice Footer")),1),e("small",null,n(o.$t("Will be shown in invoice footer")),1)]),e("div",Vqt,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[7]||(a[7]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",Bqt,[e("button",Uqt,n(o.$t("Submit")),1)])):b("",!0)],32)])}const Hqt=Ue(CUt,[["render",qqt],["__scopeId","data-v-6b018552"]]),zqt={name:"TaxDetails",setup(o,a){const s=lt(),t=h([]),c=h(""),m=h(""),_=h(""),l=()=>{A.get("settings/taxes").then(d=>{t.value=d.data})};return a.expose({getTaxes:l}),{taxes:t,tax_name:c,tax_number:m,tax_value:_,addTax:()=>{A.post("settings/taxes",{tax_name:c.value,tax_number:m.value,tax_value:_.value}).then(()=>{l(),s.success("Tax added successfully"),c.value="",m.value="",_.value=""}).catch(d=>{console.log(d),s.error("An error occurred while adding")})},deleteTax:d=>{A.delete(`settings/taxes/${d}`).then(()=>{l(),s.success("Tax deleted successfully")}).catch(p=>{console.log(p),s.error("An error occurred while deleting")})}}}},Wqt={class:"py-3"},Kqt={class:"table"},Gqt={class:"table-border-bottom-0"},Qqt={class:""},Zqt=["value"],Jqt={class:""},Xqt=["value"],eHt={class:""},tHt=["value"],oHt=["onClick"],aHt={class:"table"},nHt={class:"table-border-bottom-0"},sHt={class:"text-nowrap"},lHt={class:""},iHt={class:""},rHt={class:""};function dHt(o,a,s,t,c,m){return u(),f("div",Wqt,[e("table",Kqt,[e("tbody",Gqt,[(u(!0),f(W,null,X(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",Qqt,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,Zqt)])]),e("td",null,[e("div",Jqt,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,Xqt)])]),e("td",null,[e("div",eHt,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,tHt)])]),e("td",null,[e("div",null,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,oHt)])])]))),128))])]),a[5]||(a[5]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",aHt,[e("tbody",nHt,[e("tr",sHt,[e("td",null,[e("div",lHt,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[Q,t.tax_name]])])]),e("td",null,[e("div",iHt,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[Q,t.tax_number]])])]),e("td",null,[e("div",rHt,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[Q,t.tax_value]])])])])])]),a[4]||(a[4]=e("div",{class:"d-flex px-3"},[e("button",{class:"btn btn-primary",type:"submit"}," Add ")],-1))],32)])}const cHt=Ue(zqt,[["render",dHt]]),uHt={name:"Settings",props:["can_edit","can_edit_anchor","checker","has_proposed_updates"],components:{BankAccounts:uUt,ApprovalSettings:DUt,InvoiceSettings:Hqt,TaxDetails:cHt},setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=h(null),m=h(null),_=h(null),l=h(null);return Qe(()=>{c.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,bank_accounts:c,approval_settings:m,invoice_settings:_,tax_details:l,switchTabs:i=>{switch(i){case"bank-accounts":c.value.getBankAccounts();break;case"approval-settings":m.value.getAnchors();break;case"invoice-settings":_.value.getInvoiceSettings();break;case"tax-details":l.value.getTaxes();break}},has_proposed_updates:t}}},_Ht={class:"nav-align-top mb-4"},mHt={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},fHt={class:"nav-item"},hHt={key:0,class:"nav-item"},pHt={key:1,class:"nav-item"},vHt={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},gHt={key:2,class:"nav-item"},bHt={class:"tab-content"},yHt={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},kHt={class:"tab-pane fade",id:"navs-pills-configurations",role:"tabpanel"},$Ht={class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},wHt={class:"tab-pane fade",id:"navs-pills-po-settings",role:"tabpanel"};function DHt(o,a,s,t,c,m){const _=de("bank-accounts"),l=de("approval-settings"),r=de("invoice-settings"),i=de("tax-details");return u(),f("div",_Ht,[e("ul",mHt,[e("li",fHt,[e("button",{type:"button",onClick:a[0]||(a[0]=d=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[4]||(a[4]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA)")]))]),t.can_edit_anchor==1?(u(),f("li",hHt,[e("button",{type:"button",onClick:a[1]||(a[1]=d=>t.switchTabs("approval-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-configurations","aria-controls":"navs-pills-configurations","aria-selected":"false"},a[5]||(a[5]=[e("i",{class:"tf-icons ti ti-clipboard-check ti-xs me-1"},null,-1),le(" Approval/Auto Financing Settings ")]))])):b("",!0),t.can_edit==1?(u(),f("li",pHt,[e("button",{type:"button",onClick:a[2]||(a[2]=d=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[6]||(a[6]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[7]||(a[7]=le(" Invoice Settings ")),t.has_proposed_updates==1?(u(),f("i",vHt)):b("",!0)])])):b("",!0),t.can_edit==1?(u(),f("li",gHt,[e("button",{type:"button",onClick:a[3]||(a[3]=d=>t.switchTabs("tax-details")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-po-settings","aria-controls":"navs-pills-po-settings","aria-selected":"false"},a[8]||(a[8]=[e("i",{class:"tf-icons ti ti-settings ti-xs me-1"},null,-1),le(" Tax Details")]))])):b("",!0)]),e("div",bHt,[e("div",yHt,[Be(_,{ref:"bank_accounts"},null,512)]),e("div",kHt,[t.can_edit_anchor==1?(u(),fe(l,{key:0,ref:"approval_settings"},null,512)):b("",!0)]),e("div",$Ht,[t.can_edit==1?(u(),fe(r,{key:0,ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])):b("",!0)]),e("div",wHt,[t.can_edit==1?(u(),fe(i,{key:0,ref:"tax_details",can_edit:t.can_edit},null,8,["can_edit"])):b("",!0)])])])}const CHt=Ue(uHt,[["render",DHt]]),xHt={name:"LoanAccounts",components:{Pagination:Na},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"invoices/accounts/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.accounts})};return Qe(()=>{t()}),{per_page:s,moment:H,accounts:a,changePage:async m=>{await A.get(m).then(_=>{a.value=_.data.accounts})}}}},PHt={class:"card"},EHt={class:"card-body"},AHt={class:"d-flex justify-content-between"},IHt={class:"d-flex"},RHt={class:"table-responsive p-2"},SHt={class:"table"},THt={key:0},jHt={colspan:"12",class:"text-center"},OHt={class:"text-center"},MHt={key:1},LHt={colspan:"12",class:"text-center"},NHt={class:"text-center"},FHt={class:""};function YHt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",PHt,[e("div",EHt,[e("div",AHt,[a[2]||(a[2]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",IHt,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.accounts.from,to:t.accounts.to,links:t.accounts.links,next_page:t.accounts.next_page_url,prev_page:t.accounts.prev_page_url,total_items:t.accounts.total,first_page_url:t.accounts.first_page_url,last_page_url:t.accounts.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",RHt,[e("table",SHt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("My Loan/OD Account")),1)])]),e("tbody",null,[t.accounts.data?b("",!0):(u(),f("tr",THt,[e("td",jHt,[e("span",OHt,n(o.$t("Loading Data"))+"...",1)])])),t.accounts.data&&t.accounts.data.length<=0?(u(),f("tr",MHt,[e("td",LHt,[e("span",NHt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.program.name),1),e("td",null,n(l.program.anchor.name),1),e("td",FHt,n(l.payment_account_number),1)]))),128))])])]),Be(_,{from:t.accounts.from,to:t.accounts.to,links:t.accounts.links,next_page:t.accounts.next_page_url,prev_page:t.accounts.prev_page_url,total_items:t.accounts.total,first_page_url:t.accounts.first_page_url,last_page_url:t.accounts.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const VHt=Ue(xHt,[["render",YHt]]),BHt={name:"InvoicesUpload",setup(){const o=Je("baseURL"),a=h(null),s=lt(),t=h(!0),c=h(!1),m=h(0);return{selected_file:m,can_submit:t,show_error_download_link:c,selectFile:r=>{r.preventDefault();let i=r.target.files||r.dataTransfer.files;i.length&&(a.value=i[0])},uploadInvoices:()=>{t.value=!1,$("#submit-invoices-btn").html("Uploading");const r=new FormData;r.append("invoices",a.value),A.post(o+"invoices/import",r).then(i=>{window.location.reload()}).catch(i=>{if(i.response.status==422){m.value++,s.error(i.response.data.message);return}i.response.data.uploaded>0&&s.success(i.response.data.uploaded+" uploaded."),i.response.data.total_rows-i.response.data.uploaded>0?(s.error(i.response.data.total_rows-i.response.data.uploaded+" failed to upload."),c.value=!0,m.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{t.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},UHt={class:""},qHt={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},HHt={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},zHt={class:"modal-dialog"},WHt={class:"modal-header"},KHt={class:"modal-title",id:"modalTopTitle"},GHt={class:"modal-body"},QHt={class:"form-group mt-2"},ZHt={class:"py-1 text-danger d-none",id:"show-download-error"},JHt={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},XHt={class:"modal-footer"},ezt={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},tzt={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},ozt={href:"invoices/accounts",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},azt=["disabled"];function nzt(o,a,s,t,c,m){return u(),f(W,null,[e("div",UHt,[e("button",qHt,n(o.$t("Upload Invoices")),1)]),e("div",HHt,[e("div",zHt,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",WHt,[e("h5",KHt,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",GHt,[e("div",QHt,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",ZHt,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",JHt,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",XHt,[e("a",ezt,n(o.$t("Download Sample")),1),e("a",tzt,n(o.$t("Download Sample")),1),e("a",ozt,n(o.$t("View Loan/OD Account")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,azt)])],32)])])],64)}const szt=Ue(BHt,[["render",nzt]]),lzt={name:"UploadedInvoices",components:{Pagination:Na},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},izt={class:"card p-2"},rzt={class:"d-flex justify-content-between"},dzt={class:"d-flex flex-wrap gap-1"},czt={class:""},uzt={for:"Invoice No",class:"form-label"},_zt={class:""},mzt={for:"From Date",class:"form-label"},fzt={class:""},hzt={for:"Status",class:"form-label"},pzt={value:""},vzt={value:"Successful"},gzt={value:"Failed"},bzt={class:"mt-auto"},yzt={class:"mt-auto"},kzt={class:"d-flex gap-1 justify-content-end mt-auto"},$zt={class:"table-responsive p-2"},wzt={class:"table dt-invoices"},Dzt={key:0},Czt={colspan:"12",class:"text-center"},xzt={class:"text-center"},Pzt={key:1},Ezt={colspan:"12",class:"text-center"},Azt={class:"text-center"},Izt={key:0,class:"badge bg-label-success me-1"},Rzt={key:1,class:"badge bg-label-danger me-1"},Szt={class:""};function Tzt(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",izt,[e("div",rzt,[e("div",dzt,[e("div",czt,[e("label",uzt,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",_zt,[e("label",mzt,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[Q,t.uploaded_date_search]])]),e("div",fzt,[e("label",hzt,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",pzt,n(o.$t("Select Status")),1),e("option",vzt,n(o.$t("Successful")),1),e("option",gzt,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",bzt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yzt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kzt,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",$zt,[e("table",wzt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Dzt,[e("td",Czt,[e("span",xzt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Pzt,[e("td",Ezt,[e("span",Azt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Izt,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Rzt,n(l.status),1)):b("",!0)]),e("td",Szt,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const jzt=Ue(lzt,[["render",Tzt]]),Ru=Ke({}),Su=Ke({}),Tu=Ke({}),ju=Ke({}),Ou=Ke({}),xr=Ke({}),Pr=Ke({}),Mu=Ke({}),Lu=Ke({}),Nu=Ke({}),Fu=Ke({}),Yu=Ke({}),Vu=Ke({}),Bu=Ke({}),Uu=Ke({}),qu=Ke({}),Hu=Ke({}),zu=Ke({}),Wu=Ke({}),ma="/vendor/";Ru.component("VendorNotifications",hbt);Su.component("VendorAllInvoicesComponent",l2t);Tu.component("VendorPaymentsComponent",Tkt);ju.component("VendorPendingInvoicesComponent",cwt);Ou.component("VendorCashPlannerProgramsComponent",Twt);xr.component("VendorCashPlannerEligibleInvoicesComponent",P4t);Pr.component("VendorDashboardCashPlannerEligibleInvoicesComponent",SRt);Mu.component("VendorCashPlannerNonEligibleInvoicesComponent",sOt);Lu.component("VendorFinanceRequestsComponent",u9t);Nu.component("VendorPurchaseOrdersComponent",jLt);Fu.component("VendorPendingPurchaseOrdersComponent",aYt);Yu.component("VendorReports",KBt);Vu.component("VendorAllInvoicesReport",lD);Uu.component("VendorProgramsReport",iD);Bu.component("VendorPaymentsReport",rD);qu.component("VendorSettings",CHt);Hu.component("VendorLoanAccounts",VHt);zu.component("VendorInvoicesUpload",szt);Wu.component("VendorUploadedInvoices",jzt);var Ozt=document.getElementById("vendor-notifications");Ozt&&(Ru.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ru.use(Xe),Ru.provide("baseURL",ma),Ru.mount("#vendor-notifications"));var Mzt=document.getElementById("vendor-all-invoices");Mzt&&(Su.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Su.use(Xe),Su.provide("baseURL",ma),Su.mount("#vendor-all-invoices"));var Lzt=document.getElementById("vendor-loan-accounts");Lzt&&(Hu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hu.use(Xe),Hu.provide("baseURL",ma),Hu.mount("#vendor-loan-accounts"));var Nzt=document.getElementById("vendor-invoices-upload");Nzt&&(zu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zu.use(Xe),zu.provide("baseURL",ma),zu.mount("#vendor-invoices-upload"));var Fzt=document.getElementById("vendor-uploaded-invoices");Fzt&&(Wu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wu.use(Xe),Wu.provide("baseURL",ma),Wu.mount("#vendor-uploaded-invoices"));var Yzt=document.getElementById("vendor-payments");Yzt&&(Tu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Tu.use(Xe),Tu.provide("baseURL",ma),Tu.mount("#vendor-payments"));var Vzt=document.getElementById("vendor-pending-invoices");Vzt&&(ju.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ju.use(Xe),ju.provide("baseURL",ma),ju.mount("#vendor-pending-invoices"));var Bzt=document.getElementById("vendor-cash-planner-programs");Bzt&&(Ou.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ou.use(Xe),Ou.provide("baseURL",ma),Ou.mount("#vendor-cash-planner-programs"));var Uzt=document.getElementById("vendor-dashboard-cash-planner-eligible-invoices");Uzt&&(Pr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Pr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Pr.use(Xe),Pr.provide("baseURL",ma),Pr.mount("#vendor-dashboard-cash-planner-eligible-invoices"));var qzt=document.getElementById("vendor-cash-planner-eligible-invoices");qzt&&(xr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),xr.use(Xe),xr.provide("baseURL",ma),xr.mount("#vendor-cash-planner-eligible-invoices"));var Hzt=document.getElementById("vendor-cash-planner-non-eligible-invoices");Hzt&&(Mu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Mu.use(Xe),Mu.provide("baseURL",ma),Mu.mount("#vendor-cash-planner-non-eligible-invoices"));var zzt=document.getElementById("vendor-finance-requests");zzt&&(Lu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Lu.use(Xe),Lu.provide("baseURL",ma),Lu.mount("#vendor-finance-requests"));var Wzt=document.getElementById("vendor-purchase-orders");Wzt&&(Nu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nu.use(Xe),Nu.provide("baseURL",ma),Nu.mount("#vendor-purchase-orders"));var Kzt=document.getElementById("vendor-pending-purchase-orders");Kzt&&(Fu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fu.use(Xe),Fu.provide("baseURL",ma),Fu.mount("#vendor-pending-purchase-orders"));var Gzt=document.getElementById("vendor-reports");Gzt&&(Yu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yu.use(Xe),Yu.provide("baseURL",ma),Yu.mount("#vendor-reports"));var Qzt=document.getElementById("vendor_all_invoices_report");Qzt&&(Vu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vu.use(Xe),Vu.provide("baseURL",ma),Vu.mount("#vendor_all_invoices_report"));var Zzt=document.getElementById("vendor_programs_report");Zzt&&(Uu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Uu.use(Xe),Uu.provide("baseURL",ma),Uu.mount("#vendor_programs_report"));var Jzt=document.getElementById("vendor_payments_report");Jzt&&(Bu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bu.use(Xe),Bu.provide("baseURL",ma),Bu.mount("#vendor_payments_report"));var Xzt=document.getElementById("vendor-settings");Xzt&&(qu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qu.use(Xe),qu.provide("baseURL",ma),qu.mount("#vendor-settings"));const eWt={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},tWt={"aria-label":"Page navigation",class:"mt-2"},oWt={key:0,class:"d-flex my-auto text-primary"},aWt={class:"mx-1 fw-bold"},nWt={class:"mx-1 fw-bold"},sWt={class:"mx-1 fw-bold"},lWt={class:"pagination justify-content-end"},iWt={class:"page-item prev"},rWt=["onClick","innerHTML"],dWt={class:"page-item next"};function cWt(o,a,s,t,c,m){return u(),f("nav",tWt,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",oWt,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",aWt,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",nWt,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",sWt,n(s.total_items),1)])):b("",!0)]),e("ul",lWt,[e("li",iWt,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(W,null,X(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,rWt)):b("",!0)],2))),128)),e("li",dWt,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const bn=Ue(eWt,[["render",cWt]]),uWt={name:"AllInvoices",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(0),m=h(0),_=h(null),l=h(0),r=h(0),i=h(0),d=h([]),p=h([]),v=h(0),g=h(0),D=h(50),y=h(""),C=h(""),x=h(""),E=h(""),k=h([]),w=h([]),T=h(""),V=h(""),B=h([]),O=h(""),L=h(""),R=h([]),P=h(!1),I=h(!0),S=h(0),F=async()=>{await A.get(a+"invoices/data",{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value,sort_by:V.value}}).then(ve=>{s.value=ve.data.invoices,d.value=ve.data.taxes,t.value=ve.data.users})},N=async(ve,_e)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+ve+"/details").then(Se=>{_.value=Se.data,v.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),g.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),S.value++,bt(()=>{document.getElementById(_e).click()})}).catch(Se=>{console.log(Se)})},U=ve=>{v.value=new Intl.NumberFormat().format(ve.total+ve.total_invoice_taxes-ve.total_invoice_discount),g.value=new Intl.NumberFormat().format(ve.total+ve.total_invoice_taxes-ve.total_invoice_discount)},Z=ve=>{$("#view-fees-"+ve.id).addClass("d-none"),$("#edit-fees-"+ve.id).removeClass("d-none")},ce=ve=>{let _e="";switch(ve){case"Overdue":_e="bg-label-danger";break;case"Created":_e="bg-label-secondary";break;case"Pending Maker":_e="bg-label-primary";break;case"Pending Checker":_e="bg-label-danger";break;case"Submitted":_e="bg-label-primary";break;case"Approved":_e="bg-label-success";break;case"Disbursed":_e="bg-label-success";break;case"Denied":_e="bg-label-danger";break;case"Rejected":_e="bg-label-danger";break;default:_e="bg-label-primary";break}return _e},ae=ve=>{let _e="";switch(ve){case"pending":_e="bg-label-primary";break;case"financed":_e="bg-label-success";break;case"closed":_e="bg-label-secondary";break;case"denied":_e="bg-label-danger";break;default:_e="bg-label-primary";break}return _e},J=()=>{let ve=0,_e=0,Se=Object.keys(p.value);Object.values(p.value).forEach((ke,ee)=>{Se[ee]=="Credit Note Amount"&&ke>0&&(_e=ke),Se[ee]!="Credit Note Amount"&&(ke>0?ve+=ke:ve-=ke)}),ve>0&&(g.value=new Intl.NumberFormat().format(v.value.replaceAll(",","")-ve/100*v.value.replaceAll(",",""))),_e>0&&(g.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-_e)),_e==0&&ve==0&&(g.value=new Intl.NumberFormat.format(v.value.replaceAll(",","")))},z=async ve=>{const _e=new FormData;for(const Se in p.value)Se=="Credit Note Amount"&&_e.append("taxes["+Se+"]",p.value[Se]),Se!="Credit Note Amount"&&_e.append("taxes["+Se+"]",p.value[Se]/100*v.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${ve.id}/approve`,_e).then(()=>{F(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+ve.id).click(),p.value=[]}).catch(Se=>{if(Se.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},ne=async ve=>{await A.get(`${a}invoices/${ve.id}/fees/approve`).then(()=>{F(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+ve.id).click();for(const _e in p.value)p.value[_e]=""}).catch(_e=>{if(console.log(_e),_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},xe=(ve,_e)=>(_e/ve*100).toFixed(2);Qe(()=>{F(),$("#invoice-status-select").on("change",function(){var ve=$("#invoice-status-select").val();k.value=ve}),$("#financing-status-select").on("change",function(){var ve=$("#financing-status-select").val();w.value=ve})});const Fe=ve=>{if(O.value="",B.value.includes(ve)){const _e=B.value.indexOf(ve);B.value.splice(_e,1)}else B.value.push(ve);if(B.value.length>0){let _e={},Se={};const Ve=new FormData;Ve.append("invoices",B.value),A.post(a+"invoices/bulk/details",Ve).then(ke=>{R.value=[],ke.data.data.forEach(ee=>{if(Se[ee.id]=[],ee.invoice_fees.length>0){let Ce=0;_e={},ee.invoice_fees.forEach(Ne=>{Ne.name!="Credit Note Amount"?Ce=xe(ee.total+ee.total_invoice_taxes-ee.total_invoice_discount,Ne.amount):Ce=Ne.amount,Object.keys(_e+"-"+ee.id).filter(oe=>oe==Ne.name+"-"+ee.id).length>0||(_e[Ne.name+"-"+ee.id]=Ce)})}else _e={},Object.keys(d.value).forEach(Ce=>{_e[Ce+"-"+ee.id]=0});Se[ee.id]=_e}),R.value.push(Se),P.value=!1})}},he=()=>{if(O.value="",B.value=[],P.value=!0,document.getElementById("select-all").checked?s.value.data.forEach(async ve=>{ve.status=="submitted"&&ve.user_can_approve&&!ve.user_has_approved&&(document.getElementById("data-select-"+ve.id).checked=!0,B.value.push(ve.id))}):(s.value.data.forEach(ve=>{if(ve.status=="submitted"&&ve.user_can_approve&&!ve.user_has_approved){document.getElementById("data-select-"+ve.id).checked=!1;let _e;if(!B.value.filter(function(Ve,ke){_e=ke,Ve==ve.id}))return!1;B.value.splice(_e,1)}}),P.value=!1),B.value.length>0){let ve={},_e={};const Se=new FormData;Se.append("invoices",B.value),A.post(a+"invoices/bulk/details",Se).then(Ve=>{R.value=[],Ve.data.data.forEach(ke=>{if(_e[ke.id]=[],ke.invoice_fees.length>0){let ee=0;ve={},ke.invoice_fees.forEach(Ce=>{Ce.name!="Credit Note Amount"?ee=xe(ke.total+ke.total_invoice_taxes-ke.total_invoice_discount,Ce.amount):ee=Ce.amount,Object.keys(ve+"-"+ke.id).filter(Ie=>Ie==Ce.name+"-"+ke.id).length>0||(ve[Ce.name+"-"+ke.id]=ee)})}else ve={},Object.keys(d.value).forEach(ee=>{ve[ee+"-"+ke.id]=0});_e[ke.id]=ve}),R.value.push(_e),P.value=!1})}},ie=ve=>{if(B.value.length<=0){o.error("Select invoices");return}};ot(O,ve=>{(ve=="approve"||ve=="reject")&&(B.value.length>0?(ve=="reject"&&document.getElementById("show-bulk-reject-modal").click(),ve=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const $e=()=>{const ve=new FormData;B.value.forEach((_e,Se)=>{ve.append("invoice["+Se+"]",_e)}),ve.append("invoice_taxes",JSON.stringify(R.value)),ve.append("action",O.value),I.value=!1,A.post(a+"invoices/bulk/update/approve",ve).then(()=>{F(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const _e in p.value)p.value[_e]="";B.value=[],R.value=[],O.value=""}).catch(_e=>{if(console.log(_e),_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{I.value=!0})},we=()=>{const ve=new FormData;ve.append("rejected_reason",L.value),B.value.forEach((_e,Se)=>{ve.append("invoice["+Se+"]",_e)}),ve.append("action",O.value),I.value=!1,A.post(a+"invoices/bulk/update/reject",ve).then(()=>{F(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),B.value=[],R.value=[]}).catch(_e=>{console.log(_e),o.error("An error occurred")}).finally(()=>{I.value=!0,O.value=""})};return ot([D],async([ve])=>{await A.get(a+"invoices/data",{params:{per_page:ve,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices})}),{moment:H,per_page:D,invoices:s,users:t,eligibility:c,eligibility_amount:m,business_spread:r,discount_amount:i,invoice_details:_,pi_amount:l,anchor_taxes:d,invoice_taxes:p,invoice_subtotal:v,invoice_total:g,vendor_search:y,invoice_number_search:C,status_search:k,financing_status_search:w,from_date_search:x,to_date_search:E,sort_by:V,bulk_action:O,reject_reason:L,selected_invoices:B,selected_invoices_taxes:R,invoice_fees_processing:P,can_bulk_approve:I,selectAll:he,calculatePayable:ve=>{let _e=$("#pending-invoice-amount-"+ve).text().replaceAll(",",""),Se=$("#pending-withholding-tax-"+ve).val(),Ve=$("#pending-withholding-vat-"+ve).val(),ke=$("#pending-credit-note-amount-"+ve).val(),ee=Se/100*_e,Ce=Ve/100*_e,Ne=_e-ee-Ce-ke;$("#pending-invoice-total-payable-"+ve).text(new Intl.NumberFormat().format(Ne))},updateSelected:Fe,bulkAction:ie,resolveStatus:ce,resolveFinancingStatus:ae,changePage:async ve=>{await A.get(ve,{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices})},submitApproval:z,showApprovalModal:U,updateInvoiceTotal:J,getTaxPercentage:xe,clearSearch:()=>{let ve=$(".ti-refresh").parent();ve.html('<img src="../../../../../assets/img/spinner.svg" />'),y.value="",C.value="",x.value="",E.value="",k.value=["pending_maker","pending_checker"],w.value=[],T.value="",V.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),A.get(a+"invoices/data",{params:{per_page:D.value}}).then(_e=>{s.value=_e.data.invoices,ve.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{T.value=$("#date_search").val(),T.value&&(x.value=H(T.value.split(" - ")[0]).format("YYYY-MM-DD"),E.value=H(T.value.split(" - ")[1]).format("YYYY-MM-DD"));let ve=$(".ti-search").parent();ve.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"invoices/data",{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices,ve.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value,sort_by:V.value}}).then(ve=>{const _e=window.URL.createObjectURL(new Blob([ve.data])),Se=document.createElement("a");Se.href=_e,Se.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Se),Se.click()}).catch(ve=>{console.log(ve)})},submitBulkApproval:$e,submitBulkRejection:we,submitRejection:ve=>{const _e=new FormData;_e.append("rejected_reason",L.value),_e.append("action",O.value),A.post(a+"invoices/"+ve+"/reject",_e).then(()=>{F(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+ve).click(),O.value="",L.value=""}).catch(Se=>{console.log(Se),o.error("An error occurred")})},approveFees:ne,editBuyerFees:Z,showInvoice:N,userHasApproved:(ve,_e)=>{let Se=!1;return ve.approvals.forEach(Ve=>{_e.id==Ve.user_id&&(Se=!0)}),Se},approvalDetails:(ve,_e)=>{let Se=null;return Se=ve.approvals.filter(Ve=>Ve.user_id==_e.id).length>0?ve.approvals.filter(Ve=>Ve.user_id==_e.id)[0]:null,Se},invoice_details_key:S}}},_Wt={class:"card p-0"},mWt={class:"card-body p-2"},fWt={class:"d-flex justify-content-between"},hWt={class:"d-flex flex-wrap gap-1"},pWt={class:""},vWt={for:"Vendor",class:"form-label"},gWt={class:""},bWt={for:"Invoice No",class:"form-label"},yWt={class:""},kWt={class:"form-label",for:""},$Wt={class:""},wWt={for:"Status",class:"form-label"},DWt={value:"pending_maker"},CWt={value:"pending_checker"},xWt={value:"approved"},PWt={value:"rejected"},EWt={value:"past_due"},AWt={value:"expired"},IWt={class:""},RWt={for:"Financing Status",class:"form-label"},SWt={value:"pending"},TWt={value:"financed"},jWt={value:"disbursed"},OWt={value:"closed"},MWt={value:"rejected"},LWt={class:""},NWt={for:"Financing Status",class:"form-label"},FWt={value:""},YWt={value:"po_asc"},VWt={value:"po_desc"},BWt={value:"invoice_no_asc"},UWt={value:"invoice_no_desc"},qWt={value:"due_date_asc"},HWt={value:"due_date_desc"},zWt={value:"invoice_amount_asc"},WWt={value:"invoice_amount_desc"},KWt={value:"vendor_asc"},GWt={value:"vendor_desc"},QWt={class:""},ZWt={for:"Bulk Actions",class:"form-label"},JWt={value:""},XWt={value:"approve"},eKt={value:"reject"},tKt={class:"table-search-btn"},oKt={class:"table-clear-btn"},aKt={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},nKt={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},sKt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},lKt={class:"modal-content"},iKt={class:"modal-header"},rKt={class:"modal-title",id:"modalCenterTitle"},dKt={key:0,class:"text-center my-4"},cKt={class:"modal-body"},uKt={class:"table"},_Kt={key:0},mKt={key:0},fKt={key:1},hKt=["id"],pKt={key:2},vKt={key:0},gKt=["onUpdate:modelValue","id","onInput"],bKt={key:3},yKt={key:0},kKt=["onUpdate:modelValue","id","onInput"],$Kt={key:4},wKt={key:0},DKt=["onUpdate:modelValue","id","onInput"],CKt={key:5},xKt={key:0},PKt=["id"],EKt={class:"modal-footer"},AKt=["disabled"],IKt={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},RKt={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},SKt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TKt={class:"modal-content"},jKt={class:"modal-header"},OKt={class:"modal-title",id:"modalCenterTitle"},MKt={class:"modal-body"},LKt={for:"reason",class:"form-label"},NKt={class:"modal-footer"},FKt=["disabled"],YKt={class:"d-flex justify-content-end gap-1 mt-auto"},VKt={class:""},BKt={class:"table-responsive"},UKt={class:"table dt-invoices"},qKt={class:"px-1"},HKt={class:"form-check"},zKt={key:0},WKt={colspan:"12",class:"text-center"},KKt={class:"text-center"},GKt={key:1},QKt={colspan:"12",class:"text-center"},ZKt={class:"text-center"},JKt={class:"px-1"},XKt={key:0,class:"form-check"},eGt=["id","onChange"],tGt=["onClick"],oGt={href:"javascript:;"},aGt={class:"text-success text-nowrap"},nGt={class:""},sGt={class:""},lGt={class:""},iGt={class:""},rGt={class:"d-inline-block"},dGt=["id","data-bs-target"],cGt=["id","data-bs-target"],uGt=["id","data-bs-target"],_Gt=["id","data-bs-target"],mGt=["id","data-bs-target"],fGt=["id","data-bs-target"],hGt=["id","data-bs-target"],pGt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},vGt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},gGt={class:"modal-content"},bGt={class:"modal-body"},yGt={class:"d-flex justify-content-center"},kGt={class:"dropdown-menu dropdown-menu-end"},$Gt=["onClick"],wGt={key:0},DGt=["href"],CGt=["onClick"],xGt={class:"dropdown-item badge bg-label-success"},PGt={key:2},EGt=["onClick"],AGt=["onClick"],IGt={class:"dropdown-item badge bg-label-info"},RGt=["onClick"],SGt={class:"dropdown-item badge bg-label-warning"},TGt=["id"],jGt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},OGt={class:"modal-content"},MGt={class:"modal-header"},LGt={class:"modal-title",id:"modalCenterTitle"},NGt=["id"],FGt={class:"modal-body"},YGt={for:"reason",class:"form-label"},VGt={class:"modal-footer"},BGt={class:"btn btn-danger",type:"submit"},UGt=["id"],qGt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},HGt={class:"modal-content"},zGt={class:"modal-header"},WGt={class:"modal-title",id:"modalCenterTitle"},KGt=["id"],GGt={class:"modal-body"},QGt={key:0},ZGt={class:"d-flex justify-content-between"},JGt=["id","data-bs-target"],XGt={class:"form-group"},eQt={for:"Sub total",class:"form-label"},tQt={class:"form-label"},oQt=["value"],aQt=["value"],nQt={class:"form-group"},sQt={for:"Sub total",class:"form-label"},lQt=["value"],iQt={key:1},rQt={class:"d-flex justify-content-between"},dQt=["id","data-bs-target"],cQt={class:"modal-footer"},uQt={class:"btn btn-primary",type:"submit"},_Qt=["id"],mQt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},fQt={class:"modal-content"},hQt={class:"modal-header"},pQt={class:"modal-title"},vQt=["id"],gQt=["id"],bQt={class:"modal-body"},yQt={class:"form-group"},kQt={for:"Sub total",class:"form-label"},$Qt={key:0},wQt={for:""},DQt=["onUpdate:modelValue"],CQt={key:1},xQt={for:""},PQt=["onUpdate:modelValue"],EQt={class:"form-group"},AQt={for:"Sub total",class:"form-label"},IQt={key:0,class:"mt-2"},RQt={class:"text-sm"},SQt={class:"mx-2 my-auto py-1"},TQt={key:0,class:"text-success my-auto py-1"},jQt={key:1,class:"text-success my-auto py-1"},OQt={class:"modal-footer"},MQt={class:"btn btn-primary",type:"submit"},LQt=["id"],NQt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},FQt={class:"modal-content"},YQt={class:"modal-header"},VQt={class:"modal-title",id:"modalCenterTitle"},BQt={class:"modal-body"},UQt={class:"table"},qQt={class:""},HQt=["id"],zQt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},WQt={class:"modal-content"},KQt={class:"modal-header"},GQt={class:"modal-title",id:"modalCenterTitle"},QQt={class:"modal-body"},ZQt={key:0,class:"d-flex"},JQt={class:"text-success",style:{"font-weight":"800"}},XQt={class:"text-danger",style:{"font-weight":"800"}},eZt={key:0,class:"d-flex"},tZt={class:"text-success",style:{"font-weight":"800"}},oZt={key:1,class:""};function aZt(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",_Wt,[e("div",mWt,[e("div",fWt,[e("div",hWt,[e("div",pWt,[e("label",vWt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",gWt,[e("label",bWt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",yWt,[e("label",kWt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",$Wt,[e("label",wWt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",DWt,n(o.$t("Pending"))+"("+n(o.$t("Maker"))+")",1),e("option",CWt,n(o.$t("Pending"))+"("+n(o.$t("Checker"))+")",1),e("option",xWt,n(o.$t("Approved")),1),e("option",PWt,n(o.$t("Rejected")),1),e("option",EWt,n(o.$t("Overdue")),1),e("option",AWt,n(o.$t("Expired")),1)],512),[[re,t.status_search]])]),e("div",IWt,[e("label",RWt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",SWt,n(o.$t("Pending")),1),e("option",TWt,n(o.$t("Financed")),1),e("option",jWt,n(o.$t("Disbursed")),1),e("option",OWt,n(o.$t("Closed")),1),e("option",MWt,n(o.$t("Rejected")),1)],512),[[re,t.financing_status_search]])]),e("div",LWt,[e("label",NWt,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",FWt,n(o.$t("Sort By")),1),e("option",YWt,n(o.$t("PO No. (ASC)")),1),e("option",VWt,n(o.$t("PO No. (DESC)")),1),e("option",BWt,n(o.$t("Invoice No. (ASC)")),1),e("option",UWt,n(o.$t("Invoice No. (DESC)")),1),e("option",qWt,n(o.$t("Due Date. (ASC)")),1),e("option",HWt,n(o.$t("Due Date. (DESC)")),1),e("option",zWt,n(o.$t("Invoice Amount. (ASC)")),1),e("option",WWt,n(o.$t("Invoice Amount. (DESC)")),1),e("option",KWt,n(o.$t("Vendor. (ASC)")),1),e("option",GWt,n(o.$t("Vendor. (DESC)")),1)],512),[[re,t.sort_by]])]),e("div",QWt,[e("label",ZWt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",JWt,n(o.$t("Bulk Actions")),1),e("option",XWt,n(o.$t("Approve")),1),e("option",eKt,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",tKt,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",oKt,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",aKt,n(o.$t("Approve")),1),e("div",nKt,[e("div",sKt,[e("div",lKt,[e("div",iKt,[e("h5",rKt,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",dKt,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",cKt,[e("table",uKt,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",_Kt,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",mKt,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",fKt,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,hKt)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",pKt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",vKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,gKt),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",bKt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",yKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,kKt),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",$Kt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",wKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,DKt),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",CKt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",xKt,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,PKt)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",EKt,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,AKt)])],32)):b("",!0)])])]),e("button",IKt,n(o.$t("Reject")),1),e("div",RKt,[e("div",SKt,[e("div",TKt,[e("div",jKt,[e("h5",OKt,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",MKt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",LKt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.reject_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.reject_reason]])]),e("div",NKt,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,FKt)])],32)])])])]),e("div",YKt,[e("div",VKt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[31]||(a[31]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",BKt,[e("table",UKt,[e("thead",null,[e("tr",null,[e("th",qKt,[e("div",HKt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",zKt,[e("td",WKt,[e("span",KKt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",GKt,[e("td",QKt,[e("span",ZKt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",JKt,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",XKt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,eGt)])):b("",!0)]),e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",oGt,n(i.invoice_number),1)],8,tGt),e("td",aGt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",nGt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",sGt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",lGt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",iGt,[e("div",rGt,[a[33]||(a[33]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,dGt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,cGt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,uGt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,_Gt),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,mGt),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,fGt),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,hGt),a[34]||(a[34]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",pGt,[e("div",vGt,[e("div",gGt,[e("div",bGt,[e("div",yGt,[e("span",null,n(o.$t("Loading"))+"...",1),a[32]||(a[32]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",kGt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,$Gt)]),i.can_edit?(u(),f("li",wGt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,DGt)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",xGt,n(o.$t("Approve")),1)],8,CGt)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",PGt,[e("a",{href:"#",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id),class:"dropdown-item badge bg-label-danger mb-1"},n(o.$t("Reject")),9,EGt)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",IGt,n(o.$t("Checker Approvals")),1)],8,AGt),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",SGt,n(o.$t("Authorization Matrix")),1)],8,RGt)):b("",!0)])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",jGt,[e("div",OGt,[e("div",MGt,[e("h5",LGt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,NGt)]),e("form",{onSubmit:a[17]||(a[17]=st(d=>t.submitRejection(t.invoice_details.id),["prevent"]))},[e("div",FGt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",YGt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.reject_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.reject_reason]])]),e("div",VGt,[e("button",BGt,n(o.$t("Confirm")),1)])],32)])])],8,TGt)):b("",!0),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",qGt,[e("div",HGt,[e("div",zGt,[e("h5",WGt,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,KGt)]),e("form",{onSubmit:a[19]||(a[19]=st(d=>t.approveFees(t.invoice_details),["prevent"]))},[e("div",GGt,[t.invoice_details.invoice_fees.length>0?(u(),f("div",QGt,[e("div",ZGt,[a[35]||(a[35]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Edit Fees")),9,JGt)]),e("div",XGt,[e("label",eQt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[18]||(a[18]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",tQt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,oQt)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,aQt))]))),128)),e("div",nQt,[e("label",sQt,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,lQt)])])):(u(),f("div",iQt,[e("div",rQt,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Click to add fees")),9,dQt)])]))]),e("div",cQt,[e("button",uQt,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],32)])])],8,UGt)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",mQt,[e("div",fQt,[e("div",hQt,[e("h5",pQt,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,vQt)]),e("form",{onSubmit:a[24]||(a[24]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",bQt,[e("div",yQt,[e("label",kQt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",$Qt,[e("label",wQt,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,DQt),[[Q,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",CQt,[e("label",xQt,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[22]||(a[22]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,PQt),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",EQt,[e("label",AQt,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[23]||(a[23]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",IQt,[e("h5",RQt,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",SQt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",TQt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",jQt,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",OQt,[e("button",MQt,n(o.$t("Submit")),1)])],40,gQt)])])],8,_Qt)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",NQt,[e("div",FQt,[e("div",YQt,[e("h5",VQt,n(o.$t("Checker Approval(s)")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",BQt,[e("table",UQt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(W,{key:0},[e("td",qQt,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,LQt)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",zQt,[e("div",WQt,[e("div",KQt,[e("h5",GQt,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",QQt,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",ZQt,[e("span",JQt,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[38]||(a[38]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",XQt,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",eZt,[e("span",tZt,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",oZt,n(d.user.name),1))]))),128))])])])],8,HQt)):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const nZt=Ue(uWt,[["render",aZt]]),sZt={name:"AllInvoices",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(0),m=h(0),_=h(null),l=h(0),r=h(0),i=h(0),d=h([]),p=h([]),v=h(0),g=h(0),D=h(50),y=h(""),C=h(""),x=h(""),E=h(""),k=h([]),w=h([]),T=h(""),V=h([]),B=h(""),O=h(""),L=h([]),R=h(!1),P=h(!0),I=h(0),S=async()=>{await A.get(a+"invoices/pending/data",{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value}}).then(Ye=>{s.value=Ye.data.invoices,d.value=Ye.data.taxes,t.value=Ye.data.users})},F=async(Ye,ve)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+Ye+"/details").then(_e=>{_.value=_e.data,v.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),g.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),I.value++,bt(()=>{document.getElementById(ve).click()})}).catch(_e=>{console.log(_e)})},N=Ye=>{v.value=new Intl.NumberFormat().format(Ye.total+Ye.total_invoice_taxes-Ye.total_invoice_discount),g.value=new Intl.NumberFormat().format(Ye.total+Ye.total_invoice_taxes-Ye.total_invoice_discount)},U=Ye=>{$("#view-fees-"+Ye.id).addClass("d-none"),$("#edit-fees-"+Ye.id).removeClass("d-none")},Z=Ye=>{let ve="";switch(Ye){case"Overdue":ve="bg-label-danger";break;case"Created":ve="bg-label-secondary";break;case"Pending Maker":ve="bg-label-primary";break;case"Pending Checker":ve="bg-label-danger";break;case"Submitted":ve="bg-label-primary";break;case"Approved":ve="bg-label-success";break;case"Disbursed":ve="bg-label-success";break;case"Denied":ve="bg-label-danger";break;case"Rejected":ve="bg-label-danger";break;default:ve="bg-label-primary";break}return ve},ce=Ye=>{let ve="";switch(Ye){case"pending":ve="bg-label-primary";break;case"financed":ve="bg-label-success";break;case"closed":ve="bg-label-secondary";break;case"denied":ve="bg-label-danger";break;default:ve="bg-label-primary";break}return ve},ae=()=>{let Ye=0,ve=0,_e=Object.keys(p.value);Object.values(p.value).forEach((Ve,ke)=>{_e[ke]=="Credit Note Amount"&&Ve>0&&(ve=Ve),_e[ke]!="Credit Note Amount"&&(Ve>0?Ye+=Ve:Ye-=Ve)}),Ye>0&&(g.value=new Intl.NumberFormat().format(v.value.replaceAll(",","")-Ye/100*v.value.replaceAll(",",""))),ve>0&&(g.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-ve)),ve==0&&Ye==0&&(g.value=new Intl.NumberFormat.format(v.value.replaceAll(",","")))},J=async Ye=>{const ve=new FormData;for(const _e in p.value)_e=="Credit Note Amount"&&ve.append("taxes["+_e+"]",p.value[_e]),_e!="Credit Note Amount"&&ve.append("taxes["+_e+"]",p.value[_e]/100*v.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${Ye.id}/approve`,ve).then(()=>{S(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+Ye.id).click(),p.value=[]}).catch(_e=>{if(_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},z=async Ye=>{await A.get(`${a}invoices/${Ye.id}/fees/approve`).then(()=>{S(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+Ye.id).click();for(const ve in p.value)p.value[ve]=""}).catch(ve=>{if(console.log(ve),ve.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},ne=(Ye,ve)=>(ve/Ye*100).toFixed(2);Qe(()=>{S(),$("#invoice-status-select").on("change",function(){var Ye=$("#invoice-status-select").val();k.value=Ye}),$("#financing-status-select").on("change",function(){var Ye=$("#financing-status-select").val();w.value=Ye})});const xe=Ye=>{if(B.value="",V.value.includes(Ye)){const ve=V.value.indexOf(Ye);V.value.splice(ve,1)}else V.value.push(Ye);if(V.value.length>0){let ve={},_e={};const Se=new FormData;Se.append("invoices",V.value),A.post(a+"invoices/bulk/details",Se).then(Ve=>{L.value=[],Ve.data.data.forEach(ke=>{if(_e[ke.id]=[],ke.invoice_fees.length>0){let ee=0;ve={},ke.invoice_fees.forEach(Ce=>{Ce.name!="Credit Note Amount"?ee=ne(ke.total+ke.total_invoice_taxes-ke.total_invoice_discount,Ce.amount):ee=Ce.amount,Object.keys(ve+"-"+ke.id).filter(Ie=>Ie==Ce.name+"-"+ke.id).length>0||(ve[Ce.name+"-"+ke.id]=ee)})}else ve={},Object.keys(d.value).forEach(ee=>{ve[ee+"-"+ke.id]=0});_e[ke.id]=ve}),L.value.push(_e),R.value=!1})}},Fe=()=>{if(B.value="",V.value=[],R.value=!0,document.getElementById("select-all").checked?s.value.data.forEach(async Ye=>{Ye.status=="submitted"&&Ye.user_can_approve&&!Ye.user_has_approved&&(document.getElementById("data-select-"+Ye.id).checked=!0,V.value.push(Ye.id))}):(s.value.data.forEach(Ye=>{if(Ye.status=="submitted"&&Ye.user_can_approve&&!Ye.user_has_approved){document.getElementById("data-select-"+Ye.id).checked=!1;let ve;if(!V.value.filter(function(Se,Ve){ve=Ve,Se==Ye.id}))return!1;V.value.splice(ve,1)}}),R.value=!1),V.value.length>0){let Ye={},ve={};const _e=new FormData;_e.append("invoices",V.value),A.post(a+"invoices/bulk/details",_e).then(Se=>{L.value=[],Se.data.data.forEach(Ve=>{if(ve[Ve.id]=[],Ve.invoice_fees.length>0){let ke=0;Ye={},Ve.invoice_fees.forEach(ee=>{ee.name!="Credit Note Amount"?ke=ne(Ve.total+Ve.total_invoice_taxes-Ve.total_invoice_discount,ee.amount):ke=ee.amount,Object.keys(Ye+"-"+Ve.id).filter(Ne=>Ne==ee.name+"-"+Ve.id).length>0||(Ye[ee.name+"-"+Ve.id]=ke)})}else Ye={},Object.keys(d.value).forEach(ke=>{Ye[ke+"-"+Ve.id]=0});ve[Ve.id]=Ye}),L.value.push(ve),R.value=!1})}},he=Ye=>{if(V.value.length<=0){o.error("Select invoices");return}};ot(B,Ye=>{(Ye=="approve"||Ye=="reject")&&(V.value.length>0?(Ye=="reject"&&document.getElementById("show-bulk-reject-modal").click(),Ye=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const ie=()=>{const Ye=new FormData;V.value.forEach((ve,_e)=>{Ye.append("invoice["+_e+"]",ve)}),Ye.append("invoice_taxes",JSON.stringify(L.value)),Ye.append("action",B.value),P.value=!1,A.post(a+"invoices/bulk/update/approve",Ye).then(()=>{S(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const ve in p.value)p.value[ve]="";V.value=[],L.value=[],B.value=""}).catch(ve=>{if(console.log(ve),ve.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{P.value=!0})},$e=()=>{const Ye=new FormData;Ye.append("rejected_reason",O.value),V.value.forEach((ve,_e)=>{Ye.append("invoice["+_e+"]",ve)}),Ye.append("action",B.value),P.value=!1,A.post(a+"invoices/bulk/update/reject",Ye).then(()=>{S(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),V.value=[],L.value=[]}).catch(ve=>{console.log(ve),o.error("An error occurred")}).finally(()=>{P.value=!0,B.value=""})};return ot([D],async([Ye])=>{await A.get(a+"invoices/pending/data",{params:{per_page:Ye,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value}}).then(ve=>{s.value=ve.data.invoices})}),{moment:H,per_page:D,invoices:s,users:t,eligibility:c,eligibility_amount:m,business_spread:r,discount_amount:i,invoice_details:_,pi_amount:l,anchor_taxes:d,invoice_taxes:p,invoice_subtotal:v,invoice_total:g,vendor_search:y,invoice_number_search:C,status_search:k,financing_status_search:w,from_date_search:x,to_date_search:E,bulk_action:B,reject_reason:O,selected_invoices:V,selected_invoices_taxes:L,invoice_fees_processing:R,can_bulk_approve:P,selectAll:Fe,calculatePayable:Ye=>{let ve=$("#pending-invoice-amount-"+Ye).text().replaceAll(",",""),_e=$("#pending-withholding-tax-"+Ye).val(),Se=$("#pending-withholding-vat-"+Ye).val(),Ve=$("#pending-credit-note-amount-"+Ye).val(),ke=_e/100*ve,ee=Se/100*ve,Ce=ve-ke-ee-Ve;$("#pending-invoice-total-payable-"+Ye).text(new Intl.NumberFormat().format(Ce))},updateSelected:xe,bulkAction:he,resolveStatus:Z,resolveFinancingStatus:ce,changePage:async Ye=>{await A.get(Ye,{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value}}).then(ve=>{s.value=ve.data.invoices})},submitApproval:J,showApprovalModal:N,updateInvoiceTotal:ae,getTaxPercentage:ne,clearSearch:()=>{let Ye=$(".ti-refresh").parent();Ye.html('<img src="../../../../../assets/img/spinner.svg" />'),y.value="",C.value="",x.value="",E.value="",k.value=["pending_maker","pending_checker"],w.value=[],T.value="",$("#date_search").val(""),A.get(a+"invoices/pending/data",{params:{per_page:D.value}}).then(ve=>{s.value=ve.data.invoices,Ye.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{T.value=$("#date_search").val(),T.value&&(x.value=H(T.value.split(" - ")[0]).format("YYYY-MM-DD"),E.value=H(T.value.split(" - ")[1]).format("YYYY-MM-DD"));let Ye=$(".ti-search").parent();Ye.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"invoices/pending/data",{params:{per_page:D.value,vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value}}).then(ve=>{s.value=ve.data.invoices,Ye.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:y.value,invoice_number:C.value,from_date:x.value,to_date:E.value,status:k.value,financing_status:w.value}}).then(Ye=>{const ve=window.URL.createObjectURL(new Blob([Ye.data])),_e=document.createElement("a");_e.href=ve,_e.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(_e),_e.click()}).catch(Ye=>{console.log(Ye)})},submitBulkApproval:ie,submitBulkRejection:$e,submitRejection:Ye=>{const ve=new FormData;ve.append("rejected_reason",O.value),ve.append("action",B.value),A.post(a+"invoices/"+Ye+"/reject",ve).then(()=>{S(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+Ye).click(),B.value="",O.value=""}).catch(_e=>{console.log(_e),o.error("An error occurred")})},approveFees:z,editBuyerFees:U,showInvoice:F,userHasApproved:(Ye,ve)=>{let _e=!1;return Ye.approvals.forEach(Se=>{ve.id==Se.user_id&&(_e=!0)}),_e},approvalDetails:(Ye,ve)=>{let _e=null;return _e=Ye.approvals.filter(Se=>Se.user_id==ve.id).length>0?Ye.approvals.filter(Se=>Se.user_id==ve.id)[0]:null,_e},invoice_details_key:I}}},lZt={class:"card p-0"},iZt={class:"card-body p-2"},rZt={class:"d-flex justify-content-between"},dZt={class:"d-flex flex-wrap gap-1"},cZt={class:""},uZt={for:"Vendor",class:"form-label"},_Zt={class:""},mZt={for:"Invoice No",class:"form-label"},fZt={class:""},hZt={class:"form-label",for:""},pZt={class:""},vZt={for:"Status",class:"form-label"},gZt={value:""},bZt={value:"pending_maker"},yZt={value:"pending_checker"},kZt={value:"approved"},$Zt={value:"rejected"},wZt={value:"past_due"},DZt={class:""},CZt={for:"Bulk Actions",class:"form-label"},xZt={value:""},PZt={value:"approve"},EZt={value:"reject"},AZt={class:"table-search-btn"},IZt={class:"table-clear-btn"},RZt={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},SZt={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},TZt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},jZt={class:"modal-content"},OZt={class:"modal-header"},MZt={class:"modal-title",id:"modalCenterTitle"},LZt={key:0,class:"text-center my-4"},NZt={class:"modal-body"},FZt={class:"table"},YZt={key:0},VZt={key:0},BZt={key:1},UZt=["id"],qZt={key:2},HZt={key:0},zZt=["onUpdate:modelValue","id","onInput"],WZt={key:3},KZt={key:0},GZt=["onUpdate:modelValue","id","onInput"],QZt={key:4},ZZt={key:0},JZt=["onUpdate:modelValue","id","onInput"],XZt={key:5},eJt={key:0},tJt=["id"],oJt={class:"modal-footer"},aJt=["disabled"],nJt={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},sJt={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},lJt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iJt={class:"modal-content"},rJt={class:"modal-header"},dJt={class:"modal-title",id:"modalCenterTitle"},cJt={class:"modal-body"},uJt={for:"reason",class:"form-label"},_Jt={class:"modal-footer"},mJt=["disabled"],fJt={class:"d-flex justify-content-end gap-1 mt-auto"},hJt={class:""},pJt={class:"table-responsive"},vJt={class:"table dt-invoices"},gJt={class:"px-1"},bJt={class:"form-check"},yJt={key:0},kJt={colspan:"12",class:"text-center"},$Jt={class:"text-center"},wJt={key:1},DJt={colspan:"12",class:"text-center"},CJt={class:"text-center"},xJt={class:"px-1"},PJt={key:0,class:"form-check"},EJt=["id","onChange"],AJt=["onClick"],IJt={href:"javascript:;"},RJt={class:"text-success text-nowrap"},SJt={class:""},TJt={class:""},jJt={class:""},OJt={class:"d-inline-block"},MJt=["id","data-bs-target"],LJt=["id","data-bs-target"],NJt=["id","data-bs-target"],FJt=["id","data-bs-target"],YJt=["id","data-bs-target"],VJt=["id","data-bs-target"],BJt=["id","data-bs-target"],UJt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},qJt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},HJt={class:"modal-content"},zJt={class:"modal-body"},WJt={class:"d-flex justify-content-center"},KJt={class:"dropdown-menu dropdown-menu-end"},GJt=["onClick"],QJt={key:0},ZJt=["href"],JJt=["onClick"],XJt={class:"dropdown-item badge bg-label-success"},eXt={key:2},tXt=["onClick"],oXt=["onClick"],aXt={class:"dropdown-item badge bg-label-info"},nXt=["onClick"],sXt={class:"dropdown-item badge bg-label-warning"},lXt=["id"],iXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},rXt={class:"modal-content"},dXt={class:"modal-header"},cXt={class:"modal-title",id:"modalCenterTitle"},uXt=["id"],_Xt={class:"modal-body"},mXt={for:"reason",class:"form-label"},fXt={class:"modal-footer"},hXt={class:"btn btn-danger",type:"submit"},pXt=["id"],vXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},gXt={class:"modal-content"},bXt={class:"modal-header"},yXt={class:"modal-title",id:"modalCenterTitle"},kXt=["id"],$Xt={class:"modal-body"},wXt={key:0},DXt={class:"d-flex justify-content-between"},CXt=["id","data-bs-target"],xXt={class:"form-group"},PXt={for:"Sub total",class:"form-label"},EXt={class:"form-label"},AXt=["value"],IXt=["value"],RXt={class:"form-group"},SXt={for:"Sub total",class:"form-label"},TXt=["value"],jXt={key:1},OXt={class:"d-flex justify-content-between"},MXt=["id","data-bs-target"],LXt={class:"modal-footer"},NXt={class:"btn btn-primary",type:"submit"},FXt=["id"],YXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},VXt={class:"modal-content"},BXt={class:"modal-header"},UXt={class:"modal-title"},qXt=["id"],HXt=["id"],zXt={class:"modal-body"},WXt={class:"form-group"},KXt={for:"Sub total",class:"form-label"},GXt={key:0},QXt={for:""},ZXt=["onUpdate:modelValue"],JXt={key:1},XXt={for:""},eeo=["onUpdate:modelValue"],teo={class:"form-group"},oeo={for:"Sub total",class:"form-label"},aeo={key:0,class:"mt-2"},neo={class:"text-sm"},seo={class:"mx-2 my-auto py-1"},leo={key:0,class:"text-success my-auto py-1"},ieo={key:1,class:"text-success my-auto py-1"},reo={class:"modal-footer"},deo={class:"btn btn-primary",type:"submit"},ceo=["id"],ueo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},_eo={class:"modal-content"},meo={class:"modal-header"},feo={class:"modal-title",id:"modalCenterTitle"},heo={class:"modal-body"},peo={class:"table"},veo={class:""},geo=["id"],beo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},yeo={class:"modal-content"},keo={class:"modal-header"},$eo={class:"modal-title",id:"modalCenterTitle"},weo={class:"modal-body"},Deo={key:0,class:"d-flex"},Ceo={class:"text-success",style:{"font-weight":"800"}},xeo={class:"text-danger",style:{"font-weight":"800"}},Peo={key:0,class:"d-flex"},Eeo={class:"text-success",style:{"font-weight":"800"}},Aeo={key:1,class:""};function Ieo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",lZt,[e("div",iZt,[e("div",rZt,[e("div",dZt,[e("div",cZt,[e("label",uZt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",_Zt,[e("label",mZt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",fZt,[e("label",hZt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[23]||(a[23]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",pZt,[e("label",vZt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",gZt,n(o.$t("Status")),1),e("option",bZt,n(o.$t("Pending"))+"("+n(o.$t("Maker"))+")",1),e("option",yZt,n(o.$t("Pending"))+"("+n(o.$t("Checker"))+")",1),e("option",kZt,n(o.$t("Approved")),1),e("option",$Zt,n(o.$t("Rejected")),1),e("option",wZt,n(o.$t("Overdue")),1)],512),[[re,t.status_search]])]),e("div",DZt,[e("label",CZt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.bulk_action=i)},[e("option",xZt,n(o.$t("Bulk Actions")),1),e("option",PZt,n(o.$t("Approve")),1),e("option",EZt,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",AZt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",IZt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[25]||(a[25]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",RZt,n(o.$t("Approve")),1),e("div",SZt,[e("div",TZt,[e("div",jZt,[e("div",OZt,[e("h5",MZt,n(o.$t("Confirm Approval")),1),a[26]||(a[26]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",LZt,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[8]||(a[8]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",NZt,[e("table",FZt,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",YZt,[(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",VZt,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",BZt,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,UZt)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",qZt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",HZt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding Tax-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,zZt),[[Q,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",WZt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",KZt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Withholding VAT-"+i.id]=D,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,GZt),[[Q,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",QZt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",ZZt,[Y(e("input",{class:"form-control","onUpdate:modelValue":D=>d[i.id]["Credit Note Amount-"+i.id]=D,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:D=>t.calculatePayable(i.id)},null,40,JZt),[[Q,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",XZt,[(u(!0),f(W,null,X(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",eJt,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,tJt)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",oJt,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,aJt)])],32)):b("",!0)])])]),e("button",nJt,n(o.$t("Reject")),1),e("div",sJt,[e("div",lJt,[e("div",iJt,[e("div",rJt,[e("h5",dJt,n(o.$t("Confirm Rejection")),1),a[27]||(a[27]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[10]||(a[10]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",cJt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",uJt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[9]||(a[9]=i=>t.reject_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.reject_reason]])]),e("div",_Jt,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,mJt)])],32)])])])]),e("div",fJt,[e("div",hJt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pJt,[e("table",vJt,[e("thead",null,[e("tr",null,[e("th",gJt,[e("div",bJt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[13]||(a[13]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",yJt,[e("td",kJt,[e("span",$Jt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",wJt,[e("td",DJt,[e("span",CJt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",xJt,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",PJt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,EJt)])):b("",!0)]),e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",IJt,n(i.invoice_number),1)],8,AJt),e("td",RJt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",SJt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",TJt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",jJt,[e("div",OJt,[a[31]||(a[31]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,MJt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,LJt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,NJt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,FJt),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,YJt),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,VJt),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,BJt),a[32]||(a[32]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",UJt,[e("div",qJt,[e("div",HJt,[e("div",zJt,[e("div",WJt,[e("span",null,n(o.$t("Loading"))+"...",1),a[30]||(a[30]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",KJt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,GJt)]),i.can_edit?(u(),f("li",QJt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,ZJt)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",XJt,n(o.$t("Approve")),1)],8,JJt)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",eXt,[e("a",{href:"#",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id),class:"dropdown-item badge bg-label-danger mb-1"},n(o.$t("Reject")),9,tXt)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",aXt,n(o.$t("Checker Approvals")),1)],8,oXt),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",sXt,n(o.$t("Authorization Matrix")),1)],8,nXt)):b("",!0)])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",iXt,[e("div",rXt,[e("div",dXt,[e("h5",cXt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,uXt)]),e("form",{onSubmit:a[15]||(a[15]=st(d=>t.submitRejection(t.invoice_details.id),["prevent"]))},[e("div",_Xt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",mXt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.reject_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[Q,t.reject_reason]])]),e("div",fXt,[e("button",hXt,n(o.$t("Confirm")),1)])],32)])])],8,lXt)):b("",!0),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",vXt,[e("div",gXt,[e("div",bXt,[e("h5",yXt,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,kXt)]),e("form",{onSubmit:a[17]||(a[17]=st(d=>t.approveFees(t.invoice_details),["prevent"]))},[e("div",$Xt,[t.invoice_details.invoice_fees.length>0?(u(),f("div",wXt,[e("div",DXt,[a[33]||(a[33]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Edit Fees")),9,CXt)]),e("div",xXt,[e("label",PXt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[16]||(a[16]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",EXt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,AXt)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,IXt))]))),128)),e("div",RXt,[e("label",SXt,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,TXt)])])):(u(),f("div",jXt,[e("div",OXt,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Click to add fees")),9,MXt)])]))]),e("div",LXt,[e("button",NXt,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],32)])])],8,pXt)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",YXt,[e("div",VXt,[e("div",BXt,[e("h5",UXt,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,qXt)]),e("form",{onSubmit:a[22]||(a[22]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",zXt,[e("div",WXt,[e("label",KXt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[18]||(a[18]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[Q,t.invoice_subtotal]])]),(u(!0),f(W,null,X(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",GXt,[e("label",QXt,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,ZXt),[[Q,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",JXt,[e("label",XXt,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,eeo),[[Q,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",teo,[e("label",oeo,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[21]||(a[21]=d=>t.invoice_total=d),readonly:""},null,512),[[Q,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",aeo,[e("h5",neo,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",seo,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",leo," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",ieo,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",reo,[e("button",deo,n(o.$t("Submit")),1)])],40,HXt)])])],8,FXt)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",ueo,[e("div",_eo,[e("div",meo,[e("h5",feo,n(o.$t("Checker Approval(s)")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",heo,[e("table",peo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(W,{key:0},[e("td",veo,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,ceo)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",beo,[e("div",yeo,[e("div",keo,[e("h5",$eo,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",weo,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Deo,[e("span",Ceo,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[36]||(a[36]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",xeo,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(W,null,X(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Peo,[e("span",Eeo,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",Aeo,n(d.user.name),1))]))),128))])])])],8,geo)):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Reo=Ue(sZt,[["render",Ieo]]),Seo={name:"Anchors",components:{Pagination:bn},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"invoices/anchors/data").then(r=>{a.value=r.data})};return Qe(()=>{c()}),{moment:H,vendors:a,filter:async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:t.value,vendor:s.value}}).then(r=>{a.value=r.data})},refresh:async()=>{s.value="",await A.get(o+"invoices/vendors/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data})},changePage:async r=>{await A.get(r).then(i=>{a.value=i.data})}}}},Teo={class:"card"},jeo={class:"card-body"},Oeo={class:"d-flex justify-content-between"},Meo={class:"d-flex flex-wrap gap-1"},Leo={class:""},Neo={for:"Anchor",class:"form-label"},Feo={class:"mx-1 table-search-btn"},Yeo={class:"mx-1 table-clear-btn"},Veo={class:"table-responsive p-2"},Beo={class:"table"},Ueo={key:0},qeo={colspan:"12",class:"text-center"},Heo={class:"text-center"},zeo={key:1},Weo={colspan:"12",class:"text-center"},Keo={class:"text-center"},Geo={class:""};function Qeo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Teo,[e("div",jeo,[e("div",Oeo,[e("div",Meo,[e("div",Leo,[e("label",Neo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>o.vendor_search=l),placeholder:"Search Anchors","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,o.vendor_search]])]),e("div",Feo,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[4]||(a[4]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Yeo,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),a[6]||(a[6]=ga('<div class="d-flex"><div><select class="form-select" id="exampleFormControlSelect1"><option value="10">10</option><option value="20">20</option><option value="50">50</option></select></div></div>',1))]),t.vendors.meta?(u(),fe(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Veo,[e("table",Beo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("My Payment OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",Ueo,[e("td",qeo,[e("span",Heo,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",zeo,[e("td",Weo,[e("span",Keo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.anchor_name),1),e("td",Geo,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),fe(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Zeo=Ue(Seo,[["render",Qeo]]),Jeo={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},Xeo={"aria-label":"Page navigation",class:"mt-2 d-flex justify-content-between"},eto={key:0,class:"d-flex my-auto text-primary"},tto={class:"mx-1 fw-bold"},oto={class:"mx-1 fw-bold"},ato={class:"mx-1 fw-bold"},nto={class:"pagination justify-content-end"},sto={class:"page-item prev"},lto=["onClick","innerHTML"],ito={class:"page-item next"};function rto(o,a,s,t,c,m){return u(),f("nav",Xeo,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",eto,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",tto,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",oto,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",ato,n(s.total_items),1)])):b("",!0)]),e("ul",nto,[e("li",sto,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(W,null,X(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,lto)):b("",!0)],2))),128)),e("li",ito,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const za=Ue(Jeo,[["render",rto]]),dto={name:"AllInvoices",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h([]),v=h([]),g=h(""),D=h(""),y=h(""),C=h(""),x=h(50),E=h(0),k=async()=>{await A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,from_date:D.value,to_date:y.value,per_page:x.value}}).then(S=>{s.value=S.data.invoices})},w=async(S,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+S+"/details").then(N=>{m.value=N.data,E.value++,bt(()=>{document.getElementById(F).click()})}).catch(N=>{console.log(N)})},T=S=>{let F="";switch(S){case"Overdue":F="bg-label-danger";break;case"Created":F="bg-label-secondary";break;case"Pending Maker":F="bg-label-primary";break;case"Pending Checker":F="bg-label-warning";break;case"Submitted":F="bg-label-primary";break;case"Approved":F="bg-label-success";break;case"Disbursed":F="bg-label-success";break;case"Denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},V=S=>{let F="";switch(S){case"pending":F="bg-label-primary";break;case"submitted":F="bg-label-warning";break;case"financed":F="bg-label-success";break;case"closed":F="bg-label-secondary";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},B=async S=>{await A.get(a+"invoices/"+S.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),k()}).catch(F=>{console.log(F),o.error("An error occurred")})},O=(S,F)=>F/S*100;ot([x],async([S])=>{await A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:S,from_date:D.value,to_date:y.value}}).then(F=>{s.value=F.data.invoices})});const L=()=>{C.value=$("#date_search").val(),C.value&&(D.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:x.value,from_date:D.value,to_date:y.value}}).then(F=>{s.value=F.data.invoices,S.html('<i class="ti ti-search"></i>')})},R=()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value=[],v.value=[],D.value="",y.value="",C.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),A.get(a+"invoices/data",{params:{per_page:x.value}}).then(F=>{s.value=F.data.invoices,S.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{k(),$("#invoice-status-select").on("change",function(){var S=$("#invoice-status-select").val();p.value=S}),$("#financing-status-select").on("change",function(){var S=$("#financing-status-select").val();v.value=S})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,per_page:x,anchor:i,invoice_number:d,status:p,financing_status:v,invoice_date:g,from_date_search:D,to_date_search:y,filter:L,refresh:R,resolveStatus:T,resolveFinancingStatus:V,requestApproval:B,changePage:async S=>{await A.get(S,{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:x.value,from_date:D.value,to_date:y.value}}).then(F=>{s.value=F.data.invoices})},getTaxPercentage:O,showInvoice:w,exportReport:()=>{let S=$(".ti-download").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value=$("#date_search").val(),C.value&&(D.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(a+"invoices/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:x.value,from_date:D.value,to_date:y.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-download"></i>')})}}}},cto={class:"card"},uto={class:"card-body"},_to={class:"d-flex justify-content-between"},mto={class:"d-flex flex-wrap gap-1"},fto={class:""},hto={for:"Anchor",class:"form-label"},pto={class:""},vto={for:"Invoice No",class:"form-label"},gto={class:""},bto={class:"form-label",for:""},yto={class:""},kto={for:"Status",class:"form-label"},$to={value:"approved"},wto={value:"past_due"},Dto={value:"expired"},Cto={value:"rejected"},xto={class:""},Pto={for:"Financing Status",class:"form-label"},Eto={value:"pending"},Ato={value:"submitted"},Ito={value:"financed"},Rto={value:"disbursed"},Sto={value:"closed"},Tto={value:"denied"},jto={class:""},Oto={for:"Financing Status",class:"form-label"},Mto={value:""},Lto={value:"po_asc"},Nto={value:"po_desc"},Fto={value:"invoice_no_asc"},Yto={value:"invoice_no_desc"},Vto={value:"due_date_asc"},Bto={value:"due_date_desc"},Uto={value:"invoice_amount_asc"},qto={value:"invoice_amount_desc"},Hto={class:"table-search-btn"},zto={class:"table-clear-btn"},Wto={class:"d-flex mx-2",style:{height:"fit-content"}},Kto={class:"table-responsive"},Gto={class:"table"},Qto={key:0},Zto={colspan:"12",class:"text-center"},Jto={class:"text-center"},Xto={key:1},eoo={colspan:"12",class:"text-center"},too={class:"text-center"},ooo={class:"text-primary text-decoration-underline"},aoo=["onClick"],noo={class:"text-success"},soo={class:"text-success"},loo={class:""},ioo={class:""},roo={class:""},doo={class:"text-success"},coo={class:""},uoo={class:"d-inline-block"},_oo=["id","data-bs-target"],moo=["id","data-bs-target"],foo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},hoo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},poo={class:"modal-content"},voo={class:"modal-body"},goo={class:"d-flex justify-content-center"},boo={class:"dropdown-menu dropdown-menu-end"},yoo=["onClick"],koo={key:0},$oo=["href"],woo={key:1},Doo=["onClick"];function Coo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",cto,[e("div",uto,[e("div",_to,[e("div",mto,[e("div",fto,[e("label",hto,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor=i),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor]])]),e("div",pto,[e("label",vto,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",gto,[e("label",bto,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",yto,[e("label",kto,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status=i)},[e("option",$to,n(o.$t("Approved")),1),e("option",wto,n(o.$t("Overdue")),1),e("option",Dto,n(o.$t("Expired")),1),e("option",Cto,n(o.$t("Rejected")),1)],512),[[re,t.status]])]),e("div",xto,[e("label",Pto,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status=i)},[e("option",Eto,n(o.$t("Pending")),1),e("option",Ato,n(o.$t("Submitted")),1),e("option",Ito,n(o.$t("Financed")),1),e("option",Rto,n(o.$t("Disbursed")),1),e("option",Sto,n(o.$t("Closed")),1),e("option",Tto,n(o.$t("Rejected")),1)],512),[[re,t.financing_status]])]),e("div",jto,[e("label",Oto,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>o.sort_by=i)},[e("option",Mto,n(o.$t("Sort By")),1),e("option",Lto,n(o.$t("PO No. (ASC)")),1),e("option",Nto,n(o.$t("PO No. (DESC)")),1),e("option",Fto,n(o.$t("Invoice No. (ASC)")),1),e("option",Yto,n(o.$t("Invoice No. (DESC)")),1),e("option",Vto,n(o.$t("Due Date. (ASC)")),1),e("option",Bto,n(o.$t("Due Date. (DESC)")),1),e("option",Uto,n(o.$t("Invoice Amount. (ASC)")),1),e("option",qto,n(o.$t("Invoice Amount. (DESC)")),1)],512),[[re,o.sort_by]])]),e("div",Hto,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zto,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wto,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i)},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),style:{height:"fit-content"},class:"btn btn-primary mx-1"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")]))])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Kto,[e("table",Gto,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Qto,[e("td",Zto,[e("span",Jto,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Xto,[e("td",eoo,[e("span",too,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",ooo,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,aoo)]),e("td",noo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",soo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount)),1),e("td",loo,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",ioo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",roo,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",doo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",coo,[e("div",uoo,[a[17]||(a[17]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,_oo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,moo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",foo,[e("div",hoo,[e("div",poo,[e("div",voo,[e("div",goo,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",boo,[e("li",null,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),class:"dropdown-item btn btn-sm btn-label-primary mt-1"},n(o.$t("Details")),9,yoo)]),i.status=="approved"&&i.payment_requests<=0&&i.eligible_for_financing?(u(),f("li",koo,[e("a",{href:"invoices/initiate-drawdown/"+i.id,class:"dropdown-item btn btn-sm btn-label-success mb-1"},n(o.$t("Request Finance")),9,$oo)])):b("",!0),i.status=="pending"||i.status=="created"?(u(),f("li",woo,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i),class:"dropdown-item mb-1"},n(o.$t("Request Approval")),9,Doo)])):b("",!0)])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const xoo=Ue(dto,[["render",Coo]]),Poo={name:"PurchaseOrders",components:{Pagination:bn},props:["can_create"],setup(o){o.can_edit;const a=lt(),s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=async()=>{await A.get(s+"purchase-orders/data?per_page="+p.value).then(R=>{t.value=R.data.purchase_orders}).catch(R=>{console.log(R.message)})},E=R=>{let P="";switch(R){case"Pending Checker Approval":P="bg-label-warning";break;case"Pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},k=async(R,P)=>{await A.post(`${s}purchase-orders/approve`,{purchase_order_id:R.id,status:P,rejection_reason:c.value}).then(()=>{a.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(I=>{console.log(I),a.error("An error occurred")})};return Qe(()=>{x()}),ot([p],([R])=>{A.get(s+"purchase-orders/data?per_page="+R,{params:{vendor:m.value,from_date:l.value,to_date:r.value,status:i.value,po_number:_.value}}).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}),ot(v,R=>{g.value.length>0?(C.value=[],R=="approve"&&(g.value.forEach(P=>{C.value.push(t.value.data.filter(I=>I.id==P)[0])}),y.value.click()),R=="reject"&&D.value.click()):a.error("Select POs")}),{moment:H,purchase_orders:t,rejection_reason:c,vendor_search:m,po_search:_,from_date:l,to_date:r,status_search:i,per_page:p,bulk_action:v,bulk_action:v,showRejectionModal:D,showApprovalModal:y,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?t.value.data.forEach(R=>{R.user_can_approve&&!R.user_has_approved&&(document.getElementById("data-select-"+R.id).checked=!0,g.value.push(R.id))}):t.value.data.forEach(R=>{if(R.user_can_approve&&!R.user_has_approved){document.getElementById("data-select-"+R.id).checked=!1;let P;if(!g.value.filter(function(S,F){P=F,S==R.id}))return!1;g.value.splice(P,1)}})},updateSelected:R=>{if(g.value.includes(R)){const P=g.value.indexOf(R);g.value.splice(P,1)}else g.value.push(R)},submitBulkAction:R=>{if(g.value.length<=0){a.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(I=>{P.append("purchase_orders[]",I)}),R=="approve"&&P.append("status","approved"),R=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",c.value)),A.post(s+"purchase-orders/bulk/approve",P).then(()=>{a.success("POs updated"),v.value="",c.value="",x(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(I=>{console.log(I),a.error("An error occurred")})},resolveStatus:E,submitApproval:k,changePage:async R=>{await A.get(R+"&per_page="+p.value).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(l.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"purchase-orders/data?per_page="+p.value,{params:{vendor:m.value,from_date:l.value,to_date:r.value,status:i.value,po_number:_.value}}).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},refresh:()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),A.get(s+"purchase-orders/data?per_page="+p.value).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})}}}},Eoo={class:"card"},Aoo={class:"card-body"},Ioo={class:"d-flex justify-content-between"},Roo={class:"d-flex flex-wrap gap-1"},Soo={class:""},Too={for:"PO Number",class:"form-label"},joo={class:""},Ooo={for:"PO Number",class:"form-label"},Moo={class:""},Loo={class:"form-label",for:""},Noo={class:""},Foo={for:"Status",class:"form-label"},Yoo={value:""},Voo={value:"pending"},Boo={value:"approved"},Uoo={value:"invoiced"},qoo={value:"rejected"},Hoo={key:0,class:""},zoo={for:"Bulk Actions",class:"form-label"},Woo={value:""},Koo={value:"approve"},Goo={value:"reject"},Qoo={class:"table-search-btn"},Zoo={class:"table-clear-btn"},Joo={key:1,class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Xoo={key:2,class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},eao={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tao={class:"modal-content"},oao={class:"modal-header"},aao={class:"modal-title",id:"modalCenterTitle"},nao={class:"modal-body"},sao={class:"modal-footer"},lao={class:"btn btn-primary",type:"submit"},iao={key:3,class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},rao={key:4,class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},dao={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},cao={class:"modal-content"},uao={class:"modal-header"},_ao={class:"modal-title",id:"modalCenterTitle"},mao={class:"modal-body"},fao={class:"row mb-1"},hao={class:"form-group"},pao={for:""},vao={class:"modal-footer"},gao={class:"btn btn-primary",type:"submit"},bao={class:"d-flex"},yao={class:"mx-1"},kao={class:"table-responsive p-2"},$ao={class:"table dt-invoices"},wao={class:"form-check"},Dao={key:0},Cao={colspan:"12",class:"text-center"},xao={class:"text-center"},Pao={key:1},Eao={colspan:"12",class:"text-center"},Aao={class:"text-center"},Iao={class:"form-check"},Rao=["id","onChange"],Sao=["data-bs-target"],Tao={class:"text-success text-nowrap"},jao={class:""},Oao={class:""},Mao={class:""},Lao={class:""},Nao={class:"d-inline-block"},Fao={class:"dropdown-menu dropdown-menu-end m-0"},Yao=["onClick"],Vao={class:"dropdown-item badge bg-label-success"},Bao={key:1},Uao=["href"],qao={class:"dropdown-item badge bg-label-secondary"},Hao=["id"],zao={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Wao={class:"modal-content"},Kao={class:"modal-header"},Gao={class:"modal-title",id:"modalCenterTitle"},Qao={class:"d-flex"},Zao=["href"],Jao=["href"],Xao={class:"modal-body"},eno={class:"d-flex justify-content-between"},tno={class:"mb-3"},ono={class:"d-flex justify-content-between"},ano={class:"fw-light my-auto"},nno={class:"fw-bold mx-2 my-auto"},sno={class:"d-flex justify-content-between"},lno={class:"fw-light my-auto"},ino={class:"fw-bold mx-2 my-auto"},rno={class:"d-flex justify-content-between"},dno={class:"fw-light my-auto"},cno={class:"fw-bold mx-2 my-auto"},uno={class:"d-flex justify-content-between"},_no={class:"fw-light my-auto"},mno={key:0,class:"d-flex justify-content-between"},fno={class:"fw-light my-auto"},hno={class:"fw-bold mx-2 my-auto"},pno={class:"mb-3"},vno={class:"d-flex justify-content-between"},gno={class:"my-auto fw-light"},bno={class:"fw-bold mx-2 my-auto"},yno={class:"d-flex justify-content-between"},kno={class:"my-auto fw-light"},$no={class:"fw-bold mx-2 my-auto"},wno={class:"d-flex justify-content-between"},Dno={class:"my-auto fw-light"},Cno={class:"fw-bold mx-2 my-auto"},xno={class:"d-flex justify-content-between"},Pno={class:"my-auto fw-light"},Eno={class:"fw-bold text-success mx-2 my-auto"},Ano={class:"table-responsive"},Ino={class:"table"},Rno={class:"bg-label-secondary px-2"},Sno={class:"d-flex justify-content-end"},Tno={class:"mx-2 my-auto py-1"},jno={class:"text-success my-auto py-1"};function Ono(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Eoo,[e("div",Aoo,[e("div",Ioo,[e("div",Roo,[e("div",Soo,[e("label",Too,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Search Anchor","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",joo,[e("label",Ooo,n(o.$t("PO Number")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"PO No","onUpdate:modelValue":a[2]||(a[2]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",Moo,[e("label",Loo,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Noo,[e("label",Foo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",Yoo,n(o.$t("Status")),1),e("option",Voo,n(o.$t("Pending")),1),e("option",Boo,n(o.$t("Approved")),1),e("option",Uoo,n(o.$t("Invoiced")),1),e("option",qoo,n(o.$t("Rejeccted")),1)],512),[[re,t.status_search]])]),o.can_edit==1?(u(),f("div",Hoo,[e("label",zoo,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",Woo,n(o.$t("Bulk Actions")),1),e("option",Koo,n(o.$t("Approve")),1),e("option",Goo,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])])):b("",!0),e("div",Qoo,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Zoo,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),o.can_edit==1?(u(),f("button",Joo,null,512)):b("",!0),o.can_ecit==1?(u(),f("div",Xoo,[e("div",eao,[e("div",tao,[e("div",oao,[e("h5",aao,n(o.$t("Approve POs")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",nao,[e("h5",null,n(o.$t("Are you sure you want to approve the selected purchase orders"))+"?",1)]),e("div",sao,[e("button",lao,n(o.$t("Submit")),1)])],32)])])])):b("",!0),o.can_edit==1?(u(),f("button",iao,null,512)):b("",!0),o.can_edit==1?(u(),f("div",rao,[e("div",dao,[e("div",cao,[e("div",uao,[e("h5",_ao,n(o.$t("Reject Selected Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",mao,[e("div",fao,[e("div",hao,[e("label",pao,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",vao,[e("button",gao,n(o.$t("Submit")),1)])],32)])])])):b("",!0)]),e("div",bao,[e("div",yao,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",kao,[e("table",$ao,[e("thead",null,[e("tr",null,[e("th",null,[e("div",wao,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[19]||(a[19]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",Dao,[e("td",Cao,[e("span",xao,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",Pao,[e("td",Eao,[e("span",Aao,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",Iao,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Rao)):b("",!0)])]),e("td",null,n(l.company.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,Sao),e("td",Tao,n(new Intl.NumberFormat().format(l.total)),1),e("td",jao,n(l.purchase_order_items.length),1),e("td",Oao,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",Mao,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge py-2 mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",Lao,[e("div",Nao,[a[20]||(a[20]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Fao,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,"data-bs-toggle":"modal",style:{cursor:"pointer"},onClick:r=>t.submitApproval(l,"approve")},[e("span",Vao,n(o.$t("Approve")),1)],8,Yao)):b("",!0),l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",Bao,[e("a",{href:"purchase-orders/"+l.id+"/reject",class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Uao)])):b("",!0),e("li",qao,n(o.$t("View Attachment")),1)])])]),e("td",null,[e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",zao,[e("div",Wao,[e("div",Kao,[e("h5",Gao,n(o.$t("Purchase Order")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Qao,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Zao)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Jao)):b("",!0)])]),e("div",Xao,[e("div",eno,[e("div",tno,[e("span",ono,[e("h5",ano,n(o.$t("Vendor"))+":",1),e("h6",nno,n(l.company.name),1)]),e("span",sno,[e("h5",lno,n(o.$t("Delivery Address"))+":",1),e("h6",ino,n(l.delivery_address),1)]),e("span",rno,[e("h5",dno,n(o.$t("Remarks"))+":",1),e("h6",cno,n(l.remarks),1)]),e("span",uno,[e("h5",_no,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",mno,[e("h5",fno,n(o.$t("Rejection Reason"))+":",1),e("h6",hno,n(l.rejection_reason),1)])):b("",!0)]),e("div",pno,[e("span",vno,[e("h5",gno,n(o.$t("PO No"))+":",1),e("h6",bno,n(l.purchase_order_number),1)]),e("span",yno,[e("h5",kno,n(o.$t("Start Date"))+":",1),e("h6",$no,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",wno,[e("h5",Dno,n(o.$t("End Date"))+":",1),e("h6",Cno,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",xno,[e("h5",Pno,n(o.$t("PO Amount"))+":",1),e("h6",Eno,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",Ano,[e("table",Ino,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",Rno,[e("span",Sno,[e("h6",Tno,n(o.$t("Total")),1),e("h5",jno,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,Hao)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const Mno=Ue(Poo,[["render",Ono]]),Lno={name:"InvoiceAnalysisReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=h("invoice-analysis"),i=h([]),d=h(null),p=h(""),v=h(0),g="../../../../../assets/img/spinner.svg",D=()=>{A.get(s+"reports/report",{params:{per_page:l.value,type:r.value}}).then(L=>{i.value=L.data}).catch(L=>{console.log(L)})},y=async(L,R)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+L+"/details").then(P=>{d.value=P.data,v.value++,bt(()=>{document.getElementById(R).click()})}).catch(P=>{console.log(P)})},C=(L,R)=>(R/L*100).toFixed(2);Qe(()=>{D()});const x=L=>{let R="";switch(L){case"pending":R="bg-label-primary";break;case"submitted":R="bg-label-warning";break;case"financed":R="bg-label-success";break;case"closed":R="bg-label-secondary";break;case"denied":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},E=()=>{p.value=$("#date_search").val(),p.value&&(c.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),m.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let L=$(".ti-search").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:l.value,type:r.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(R=>{i.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})};ot([l],([L])=>{A.get(s+"reports/report",{params:{per_page:L,type:r.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(R=>{i.value=R.data}).catch(R=>{console.log(R)})});const k=()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",A.get(s+"reports/report",{params:{per_page:l.value,type:r.value}}).then(R=>{i.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},w=async L=>{await A.get(L,{params:{type:r.value,per_page:l.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(R=>{invoices.value=R.data.invoices}).catch(R=>{console.log(R)})},T=h(!1),V=h(!1);return{moment:H,report:i,per_page:l,invoice_number_search:t,from_date:c,to_date:m,invoice_financing_status_search:_,resolveFinancingStatus:x,changePage:w,exportReport:()=>{T.value=!0,A.get(s+"reports/report/invoice-analysis/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{T.value=!1})},exportPdfReport:()=>{V.value=!0,A.get(s+"report/"+r.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Invoice_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{V.value=!1})},filter:E,refresh:k,getTaxPercentage:C,invoice_details:d,showInvoice:y,downloadingExcel:T,downloadingPdf:V,spinner:g,invoice_details_key:v}}},Nno={class:"card p-2"},Fno={class:"d-flex justify-content-between"},Yno={class:"d-flex"},Vno={class:"mb-1"},Bno={for:"Invoice Number",class:"form-label mx-1"},Uno={class:"mx-1"},qno={class:"form-label",for:""},Hno={class:"mx-1"},zno={for:"Financing Status",class:"form-label"},Wno={value:""},Kno={value:"pending"},Gno={value:"financed"},Qno={value:"disbursed"},Zno={value:"closed"},Jno={value:"rejected"},Xno={class:"mx-1 table-search-btn"},eso={class:"mx-1 table-clear-btn"},tso={class:"d-flex align-items-end"},oso={class:"mx-1"},aso={key:0,class:"d-flex"},nso=["src"],sso={key:0,class:"d-flex"},lso=["src"],iso={class:"table-responsive"},rso={class:"table"},dso={class:""},cso={class:"table-border-bottom-0"},uso={key:0},_so={colspan:"12",class:"text-center"},mso={class:"text-center"},fso={key:1},hso={colspan:"12",class:"text-center"},pso={class:"text-center"},vso=["onClick"],gso={class:""},bso={class:"text-success text-nowrap"},yso=["id","data-bs-target"],kso=["id","data-bs-target"],$so={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},wso={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Dso={class:"modal-content"},Cso={class:"modal-body"},xso={class:"d-flex justify-content-center"};function Pso(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Nno,[e("div",Fno,[e("div",Yno,[e("div",Vno,[e("label",Bno,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Uno,[e("label",qno,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[8]||(a[8]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Hno,[e("label",zno,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_financing_status_search=i)},[e("option",Wno,n(o.$t("Financing Status")),1),e("option",Kno,n(o.$t("Pending")),1),e("option",Gno,n(o.$t("Financed")),1),e("option",Qno,n(o.$t("Disbursed")),1),e("option",Zno,n(o.$t("Closed")),1),e("option",Jno,n(o.$t("Rejected")),1)],512),[[re,t.invoice_financing_status_search]])]),e("div",Xno,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",eso,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.refresh&&t.refresh(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tso,[e("div",oso,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[6]||(a[6]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,nso)):(u(),f("span",aso,[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,lso)):(u(),f("span",sso,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",iso,[e("table",rso,[e("thead",null,[e("tr",dso,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",cso,[t.report.data?b("",!0):(u(),f("tr",uso,[e("td",_so,[e("span",mso,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",fso,[e("td",hso,[e("span",pso,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,vso),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",gso,n(i.anchor),1),e("td",bso,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,yso),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,kso),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",$so,[e("div",wso,[e("div",Dso,[e("div",Cso,[e("div",xso,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const dD=Ue(Lno,[["render",Pso]]),Eso={name:"AllInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v="../../../../../assets/img/spinner.svg",g=h("all-invoices"),D=h([]),y=h(0),C=()=>{A.get(s+"reports/report",{params:{per_page:t.value,type:g.value}}).then(I=>{D.value=I.data}).catch(I=>{console.log(I)})},x=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+I+"/details").then(F=>{p.value=F.data,y.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})},E=(I,S)=>(S/I*100).toFixed(2);Qe(()=>{C()});const k=I=>{let S="";switch(I){case"pending":S="bg-label-primary";break;case"sent":S="bg-label-secondary";break;case"approved":S="bg-label-success";break;case"disbursed":S="bg-label-success";break;case"denied":S="bg-label-danger";break;case"Rejected":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},w=I=>{let S="";switch(I){case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-warning";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+"reports/report/all-invoices/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:c.value,invoice_date:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+"report/"+g.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:c.value,invoice_date:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!1})},L=()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:t.value,type:g.value,invoice_number:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(S=>{D.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})};return ot([t],([I])=>{A.get(s+"reports/report",{params:{per_page:I,type:g.value,invoice_number:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(S=>{D.value=S.data}).catch(S=>{console.log(S)})}),{moment:H,report:D,per_page:t,invoice_number_search:c,invoice_date_search:m,invoice_status_search:r,invoice_financing_status_search:i,resolveStatus:k,resolveFinancingStatus:w,changePage:async I=>{await A.get(I,{params:{type:g.value,per_page:t.value,invoice_number:c.value,invoice_date:m.value,due_date:invoice_due_date_search.value,status:r.value,financing_status:i.value}}).then(S=>{D.value=S.data}).catch(S=>{console.log(S)})},exportReport:B,exportPdfReport:O,filter:L,refresh:()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",_.value="",l.value="",i.value="",d.value="",$("#date_search").val(""),A.get(s+"reports/report",{params:{type:g.value,per_page:t.value}}).then(S=>{D.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},showInvoice:x,getTaxPercentage:E,invoice_details:p,downloadingExcel:T,downloadingPdf:V,spinner:v,invoice_details_key:y}}},Aso={class:"card p-2"},Iso={class:"d-flex justify-content-between"},Rso={class:"d-flex flex-wrap gap-1"},Sso={class:""},Tso={for:"Invoice No",class:"form-label"},jso={class:""},Oso={class:"form-label",for:""},Mso={class:""},Lso={for:"Status",class:"form-label"},Nso={value:""},Fso={value:"pending"},Yso={value:"approved"},Vso={value:"rejected"},Bso={value:"submitted"},Uso={value:"overdue"},qso={class:""},Hso={for:"Financing Status",class:"form-label"},zso={value:""},Wso={value:"pending"},Kso={value:"pending"},Gso={value:"financed"},Qso={value:"disbursed"},Zso={value:"closed"},Jso={value:"rejected"},Xso={class:"table-search-btn"},elo={class:"table-clear-btn"},tlo={class:"d-flex align-items-end"},olo={class:"mx-1"},alo={key:0,class:"d-flex"},nlo=["src"],slo={key:0,class:"d-flex"},llo=["src"],ilo={class:"table-responsive"},rlo={class:"table"},dlo={class:""},clo={class:"table-border-bottom-0"},ulo={key:0},_lo={colspan:"12",class:"text-center"},mlo={class:"text-center"},flo={key:1},hlo={colspan:"12",class:"text-center"},plo={class:"text-center"},vlo={class:"text-primary"},glo=["onClick"],blo={class:"text-success text-nowrap"},ylo={key:0},klo={key:1},$lo=["id","data-bs-target"],wlo=["id","data-bs-target"],Dlo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Clo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},xlo={class:"modal-content"},Plo={class:"modal-body"},Elo={class:"d-flex justify-content-center"};function Alo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Aso,[e("div",Iso,[e("div",Rso,[e("div",Sso,[e("label",Tso,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",jso,[e("label",Oso,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Mso,[e("label",Lso,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_status_search=i)},[e("option",Nso,n(o.$t("Status")),1),e("option",Fso,n(o.$t("Pending")),1),e("option",Yso,n(o.$t("Approved")),1),e("option",Vso,n(o.$t("Rejected")),1),e("option",Bso,n(o.$t("Submitted")),1),e("option",Uso,n(o.$t("Overdue")),1)],512),[[re,t.invoice_status_search]])]),e("div",qso,[e("label",Hso,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_financing_status_search=i)},[e("option",zso,n(o.$t("Financing Status")),1),e("option",Wso,n(o.$t("Pending")),1),e("option",Kso,n(o.$t("Submitted")),1),e("option",Gso,n(o.$t("Financed")),1),e("option",Qso,n(o.$t("Disbursed")),1),e("option",Zso,n(o.$t("Closed")),1),e("option",Jso,n(o.$t("Rejected")),1)],512),[[re,t.invoice_financing_status_search]])]),e("div",Xso,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",elo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tlo,[e("div",olo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,nlo)):(u(),f("span",alo,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,llo)):(u(),f("span",slo,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",ilo,[e("table",rlo,[e("thead",null,[e("tr",dlo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",clo,[t.report.data?b("",!0):(u(),f("tr",ulo,[e("td",_lo,[e("span",mlo,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",flo,[e("td",hlo,[e("span",plo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",vlo,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,glo),e("td",blo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.status)])},n(i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",ylo,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",klo,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,$lo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,wlo),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Dlo,[e("div",Clo,[e("div",xlo,[e("div",Plo,[e("div",Elo,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const cD=Ue(Eso,[["render",Alo]]),Ilo={name:"VendorAnalysisReport",components:{Pagination:bn},setup(o,a){const s=h(50),t=h("vendor-analysis"),c=h([]),m=h(""),_=()=>{A.get("report",{params:{per_page:s.value,type:t.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})};a.expose({getReport:_});const l=()=>{A.get("report",{params:{per_page:s.value,anchor:m.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})};return ot([s],([p])=>{A.get("report",{params:{per_page:p,type:t.value,anchor:m.value}}).then(v=>{c.value=v.data}).catch(v=>{console.log(v)})}),{moment:H,report:c,per_page:s,anchor_search:m,changePage:async p=>{await A.get(p,{params:{type:t.value,anchor:m.value}}).then(v=>{c.value=v.data}).catch(v=>{console.log(v)})},exportReport:()=>{A.get("report/vendor-analysis/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value}}).then(p=>{const v=window.URL.createObjectURL(new Blob([p.data])),g=document.createElement("a");g.href=v,g.setAttribute("download",`Anchors_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(g),g.click()}).catch(p=>{console.log(p)})},filter:l,refresh:()=>{m.value="",A.get("report",{params:{per_page:s.value,type:t.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})}}}},Rlo={class:"p-2"},Slo={class:"d-flex justify-content-between"},Tlo={class:"d-flex flex-wrap gap-1"},jlo={class:""},Olo={for:"Anchor",class:"form-label"},Mlo={class:"mx-1 table-search-btn"},Llo={class:"mx-1 table-clear-btn"},Nlo={class:"d-flex align-items-end"},Flo={class:"mx-1"},Ylo={class:"table-responsive"},Vlo={class:"table"},Blo={class:"text-nowrap"},Ulo={class:"table-border-bottom-0"},qlo={key:0},Hlo={colspan:"12",class:"text-center"},zlo={class:"text-center"},Wlo={key:1},Klo={colspan:"12",class:"text-center"},Glo={class:"text-center"},Qlo={class:"text-primary"},Zlo={class:"text-success"},Jlo={class:"text-success"},Xlo={class:"text-success"},eio={class:"text-success"};function tio(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Rlo,[e("div",Slo,[e("div",Tlo,[e("div",jlo,[e("label",Olo,n(o.$t("Anchor Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Mlo,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Llo,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Nlo,[e("div",Flo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},a[9]||(a[9]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")]))])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Ylo,[e("table",Vlo,[e("thead",null,[e("tr",Blo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Anchor Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1)])]),e("tbody",Ulo,[t.report.data?b("",!0):(u(),f("tr",qlo,[e("td",Hlo,[e("span",zlo,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Wlo,[e("td",Klo,[e("span",Glo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",Qlo,n(l.name),1)]),e("td",Zlo,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit)),1),e("td",Jlo,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Xlo,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit-l.utilized_amount)),1),e("td",eio,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.pipeline_amount)),1)]))),128))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const uD=Ue(Ilo,[["render",tio]]),oio={name:"MaturingInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("maturing-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h("");h("");const d=h(null),p=h(0),v="../../../../../assets/img/spinner.svg",g=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)})},D=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+O+"/details").then(R=>{d.value=R.data,invoice_subtotal.value=new Intl.NumberFormat().format(d.value.total+d.value.total_invoice_taxes-d.value.total_invoice_discount),invoice_total.value=new Intl.NumberFormat().format(d.value.total+d.value.total_invoice_taxes-d.value.total_invoice_discount),p.value++,nextTick(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})},y=(O,L)=>(L/O*100).toFixed(2);Qe(()=>{g()});const C=O=>{let L="";switch(O){case"pending":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},x=async()=>{await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,from_date:r.value,to_date:i.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)})},E=async()=>{l.value="",_.value="",r.value="",i.value="",await A.get("report",{params:{type:c.value,per_page:t.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)})},k=h(!1),w=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,vendor:l,from_date:r,to_date:i,resolveFinancingStatus:C,downloadReport:()=>{k.value=!0,A.get(s+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Maturing_payments_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{k.value=!1})},exportPdfReport:()=>{w.value=!0,A.get(s+"reports/report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`Maturing_payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{w.value=!1})},filter:x,refresh:E,changePage:async O=>{await A.get(O,{params:{type:c.value}}).then(L=>{invoices.value=L.data.invoices}).catch(L=>{console.log(L)})},invoice_details:d,getTaxPercentage:y,showInvoice:D,downloadingExcel:k,downloadingPdf:w,spinner:v,invoice_details_key:p}}},aio={class:"card p-2"},nio={class:"d-flex justify-content-between"},sio={class:"d-flex flex-wrap gap-1"},lio={class:"form-group"},iio={for:"Vendor",class:"form-label"},rio={class:"table-search-btn"},dio={class:"table-clear-btn"},cio={class:"d-flex justify-content-end flex-wrap gap-1 mt-auto"},uio={class:""},_io={key:0,class:"d-flex"},mio=["src"],fio={key:0,class:"d-flex"},hio=["src"],pio={class:"table-responsive"},vio={class:"table"},gio={class:""},bio={class:"table-border-bottom-0"},yio={key:0},kio={colspan:"12",class:"text-center"},$io={class:"text-center"},wio={key:1},Dio={colspan:"12",class:"text-center"},Cio={class:"text-center"},xio={class:"text-success text-nowrap"},Pio={class:"text-success text-nowrap"},Eio={class:"text-success text-nowrap"},Aio={class:"text-success text-nowrap"},Iio={class:"text-success text-nowrap"},Rio={class:"text-success text-nowrap"},Sio={class:"text-success text-nowrap"},Tio={class:"text-success text-nowrap"},jio={class:"text-success text-nowrap"},Oio={class:"text-success text-nowrap"};function Mio(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",aio,[e("div",nio,[e("div",sio,[e("div",lio,[e("label",iio,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor]])]),e("div",rio,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",dio,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",cio,[e("div",uio,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{width:"5rem"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.downloadReport&&t.downloadReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,mio)):(u(),f("span",_io,[a[10]||(a[10]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,hio)):(u(),f("span",fio,[a[11]||(a[11]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pio,[e("table",vio,[e("thead",null,[e("tr",gio,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Total Due")),1),e("th",null,n(o.$t("Due <0 Days")),1),e("th",null,n(o.$t("Due 1-7 Days")),1),e("th",null,n(o.$t("Due 8-14 Days")),1),e("th",null,n(o.$t("Due 15-21 Days")),1),e("th",null,n(o.$t("Due 22-30 Days")),1),e("th",null,n(o.$t("Due 31-45 Days")),1),e("th",null,n(o.$t("Due 46-60 Days")),1),e("th",null,n(o.$t("Due 61-75 Days")),1),e("th",null,n(o.$t("Due 76-90 Days")),1)])]),e("tbody",bio,[t.report.data?b("",!0):(u(),f("tr",yio,[e("td",kio,[e("span",$io,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",wio,[e("td",Dio,[e("span",Cio,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.anchor.name)+" ("+n(l.payment_account_number)+")",1),e("td",null,[e("span",xio,n(new Intl.NumberFormat().format(l.total_due)),1)]),e("td",null,[e("span",Pio,n(new Intl.NumberFormat().format(l.due_today)),1)]),e("td",null,[e("span",Eio,n(new Intl.NumberFormat().format(l.due_seven_days)),1)]),e("td",null,[e("span",Aio,n(new Intl.NumberFormat().format(l.due_fourteen_days)),1)]),e("td",null,[e("span",Iio,n(new Intl.NumberFormat().format(l.due_twenty_one_days)),1)]),e("td",null,[e("span",Rio,n(new Intl.NumberFormat().format(l.due_thirty_days)),1)]),e("td",null,[e("span",Sio,n(new Intl.NumberFormat().format(l.due_fourty_five_days)),1)]),e("td",null,[e("span",Tio,n(new Intl.NumberFormat().format(l.due_sixty_days)),1)]),e("td",null,[e("span",jio,n(new Intl.NumberFormat().format(l.due_seventy_five_days)),1)]),e("td",null,[e("span",Oio,n(new Intl.NumberFormat().format(l.due_ninety_days)),1)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const _D=Ue(oio,[["render",Mio]]),Lio={name:"PaidInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h(50),t=Je("baseURL"),c=h("paid-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(null),x=h(null),E="../../../../../assets/img/spinner.svg",k=()=>{A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(N=>{m.value=N.data}).catch(N=>{console.log(N)})},w=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+N+"/details").then(Z=>{C.value=Z.data,x.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},T=(N,U)=>(U/N*100).toFixed(2);Qe(()=>{k()});const V=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-warning";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},O=()=>{D.value=$("#date_search").val(),D.value&&(r.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(d.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})};ot([s],([N])=>{A.get(t+"reports/report",{params:{per_page:N,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})});const L=()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=async N=>{await A.get(N,{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},P=h(!1),I=h(!1);return{moment:H,report:m,per_page:s,invoice_number_search:l,anchor_search:_,from_date_search:r,to_date_search:i,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,changePage:R,filter:O,refresh:L,exportReport:()=>{P.value=!0,A.get(t+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,status:v.value,financing_status:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{P.value=!1})},exportPdfReport:()=>{I.value=!0,A.get(t+"report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,status:v.value,financing_status:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{I.value=!1})},invoice_details:C,showInvoice:w,getTaxPercentage:T,downloadingExcel:P,downloadingPdf:I,spinner:E,invoice_details_key:x}}},Nio={class:"card p-2"},Fio={class:"d-flex justify-content-between"},Yio={class:"d-flex flex-wrap gap-1"},Vio={class:""},Bio={for:"Vendor",class:"form-label"},Uio={class:""},qio={for:"Invoice No.",class:"form-label"},Hio={class:""},zio={class:"form-label",for:""},Wio={class:""},Kio={class:"form-label",for:""},Gio={class:""},Qio={for:"Financing Status",class:"form-label mx-1"},Zio={value:""},Jio={value:"disbursed"},Xio={value:"closed"},ero={value:"past_due"},tro={class:"table-search-btn"},oro={class:"table-clear-btn"},aro={class:"d-flex flex-wrap justify-content-end gap-1 mt-auto"},nro={class:""},sro={key:0,class:"d-flex"},lro=["src"],iro={key:0,class:"d-flex"},rro=["src"],dro={class:"table-responsive"},cro={class:"table"},uro={class:""},_ro={class:"table-border-bottom-0"},mro={key:0},fro={colspan:"12",class:"text-center"},hro={class:"text-center"},pro={key:1},vro={colspan:"12",class:"text-center"},gro={class:"text-center"},bro={class:"text-primary"},yro=["onClick"],kro={class:"text-success text-nowrap"},$ro={key:0},wro={key:1},Dro={key:2},Cro={key:3},xro=["id","data-bs-target"],Pro=["id","data-bs-target"],Ero={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Aro={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Iro={class:"modal-content"},Rro={class:"modal-body"},Sro={class:"d-flex justify-content-center"};function Tro(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Nio,[e("div",Fio,[e("div",Yio,[e("div",Vio,[e("label",Bio,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Uio,[e("label",qio,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No.","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",Hio,[e("label",zio,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Wio,[e("label",Kio,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",Gio,[e("label",Qio,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status_search=i)},[e("option",Zio,n(o.$t("Status")),1),e("option",Jio,n(o.$t("Disbursed")),1),e("option",Xio,n(o.$t("Closed")),1),e("option",ero,n(o.$t("Overdue")),1)],512),[[re,t.financing_status_search]])]),e("div",tro,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",oro,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",aro,[e("div",nro,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,lro)):(u(),f("span",sro,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,rro)):(u(),f("span",iro,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",dro,[e("table",cro,[e("thead",null,[e("tr",uro,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",_ro,[t.report.data?b("",!0):(u(),f("tr",mro,[e("td",fro,[e("span",hro,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",pro,[e("td",vro,[e("span",gro,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",bro,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,yro),e("td",kro,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.status)])},n(i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",$ro,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",wro,"-")),i.disbursement_date?(u(),f("td",Dro,n(i.transaction_ref),1)):(u(),f("td",Cro,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,xro),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Pro),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Ero,[e("div",Aro,[e("div",Iro,[e("div",Rro,[e("div",Sro,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const mD=Ue(Lio,[["render",Tro]]),jro={name:"Reports",components:{InvoiceAnalysisReport:dD,AllInvoicesReport:cD,VendorAnalysisReport:uD,MaturingInvoicesReport:_D,PaidInvoicesReport:mD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null),t=h(null),c=h(null);return Qe(()=>{o.value.getReport()}),{moment:H,invoice_analysis_report:o,vendor_analysis_report:a,all_invoices_report:s,maturing_invoices_report:t,paid_invoices_report:c,switchTabs:_=>{switch(_){case"invoice_analysis_report":o.value.getReport();break;case"all_invoices_report":s.value.getReport();break;case"vendor_analysis_report":a.value.getReport();break;case"maturing_invoices_report":t.value.getReport();break;case"paid_invoices_report":c.value.getReport();break}}}}},Oro={class:"nav-align-top nav-tabs-shadow"},Mro={class:"nav nav-tabs",role:"tablist"},Lro={class:"nav-item"},Nro={class:"nav-item"},Fro={class:"nav-item"},Yro={class:"nav-item"},Vro={class:"nav-item"},Bro={class:"tab-content"},Uro={class:"tab-pane fade show active",id:"navs-invoice-analysis",role:"tabpanel"},qro={class:"tab-pane fade",id:"navs-all-invoices-report",role:"tabpanel"},Hro={class:"tab-pane fade",id:"navs-vendor-analysis",role:"tabpanel"},zro={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"},Wro={class:"tab-pane fade",id:"navs-paid-invoices-report",role:"tabpanel"};function Kro(o,a,s,t,c,m){const _=de("invoice-analysis-report"),l=de("all-invoices-report"),r=de("vendor-analysis-report"),i=de("maturing-invoices-report"),d=de("paid-invoices-report");return u(),f("div",Oro,[e("ul",Mro,[e("li",Lro,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=p=>t.switchTabs("invoice_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-invoice-analysis","aria-controls":"navs-invoice-analysis","aria-selected":"true"},n(o.$t("Invoice Analysis")),1)]),e("li",Nro,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=p=>t.switchTabs("all_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},n(o.$t("All Invoices Report")),1)]),e("li",Fro,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=p=>t.switchTabs("vendor_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-vendor-analysis","aria-controls":"navs-vendor-analysis","aria-selected":"false"},n(o.$t("Anchor Analysis")),1)]),e("li",Yro,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[3]||(a[3]=p=>t.switchTabs("maturing_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},n(o.$t("Maturing Invoices Report")),1)]),e("li",Vro,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[4]||(a[4]=p=>t.switchTabs("paid_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-paid-invoices-report","aria-controls":"navs-paid-invoices-report","aria-selected":"false"},n(o.$t("Paid Invoices Report")),1)])]),e("div",Bro,[e("div",Uro,[Be(_,{ref:"invoice_analysis_report"},null,512)]),e("div",qro,[Be(l,{ref:"all_invoices_report"},null,512)]),e("div",Hro,[Be(r,{ref:"vendor_analysis_report"},null,512)]),e("div",zro,[Be(i,{ref:"maturing_invoices_report"},null,512)]),e("div",Wro,[Be(d,{ref:"paid_invoices_report"},null,512)])])])}const Gro=Ue(jro,[["render",Kro]]),Qro={name:"PaidInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h(50),t=Je("baseURL"),c=h("overdue-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(null),x=h(null),E="../../../../../assets/img/spinner.svg",k=()=>{A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(N=>{m.value=N.data}).catch(N=>{console.log(N)})},w=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+N+"/details").then(Z=>{C.value=Z.data,x.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},T=(N,U)=>(U/N*100).toFixed(2);Qe(()=>{k()});const V=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=N=>{let U="";switch(N){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-warning";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},O=()=>{D.value=$("#date_search").val(),D.value&&(r.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(d.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})};ot([s],([N])=>{A.get(t+"reports/report",{params:{per_page:N,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})});const L=()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",v.value="",g.value="",$("#date_search").val(""),d.value="",p.value="",$("#disbursement_date_search").val(""),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=async N=>{await A.get(N,{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},P=h(!1),I=h(!1);return{moment:H,report:m,per_page:s,invoice_number_search:l,anchor_search:_,from_date_search:r,to_date_search:i,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,changePage:R,filter:O,refresh:L,exportReport:()=>{P.value=!0,A.get(t+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{P.value=!1})},exportPdfReport:()=>{I.value=!0,A.get(t+"report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{I.value=!1})},invoice_details:C,showInvoice:w,getTaxPercentage:T,downloadingExcel:P,downloadingPdf:I,spinner:E,invoice_details_key:x}}},Zro={class:"card p-2"},Jro={class:"d-flex justify-content-between"},Xro={class:"d-flex flex-wrap gap-1"},edo={class:""},tdo={for:"Vendor",class:"form-label"},odo={class:""},ado={for:"Invoice No.",class:"form-label"},ndo={class:""},sdo={class:"form-label",for:""},ldo={class:""},ido={class:"form-label",for:""},rdo={class:"table-search-btn"},ddo={class:"table-clear-btn"},cdo={class:"d-flex flex-wrap justify-content-end gap-1 mt-auto"},udo={class:""},_do={key:0,class:"d-flex"},mdo=["src"],fdo={key:0,class:"d-flex"},hdo=["src"],pdo={class:"table-responsive"},vdo={class:"table"},gdo={class:""},bdo={class:"table-border-bottom-0"},ydo={key:0},kdo={colspan:"12",class:"text-center"},$do={class:"text-center"},wdo={key:1},Ddo={colspan:"12",class:"text-center"},Cdo={class:"text-center"},xdo={class:"text-primary"},Pdo=["onClick"],Edo={class:"text-success text-nowrap"},Ado={class:"text-success text-nowrap"},Ido=["id","data-bs-target"],Rdo=["id","data-bs-target"],Sdo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Tdo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},jdo={class:"modal-content"},Odo={class:"modal-body"},Mdo={class:"d-flex justify-content-center"};function Ldo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Zro,[e("div",Jro,[e("div",Xro,[e("div",edo,[e("label",tdo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",odo,[e("label",ado,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No.","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",ndo,[e("label",sdo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",ldo,[e("label",ido,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",rdo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ddo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",cdo,[e("div",udo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,mdo)):(u(),f("span",_do,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,hdo)):(u(),f("span",fdo,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pdo,[e("table",vdo,[e("thead",null,[e("tr",gdo,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Overdue Amount.")),1),e("th",null,n(o.$t("DPD.")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",bdo,[t.report.data?b("",!0):(u(),f("tr",ydo,[e("td",kdo,[e("span",$do,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",wdo,[e("td",Ddo,[e("span",Cdo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",xdo,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Pdo),e("td",Edo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",Ado,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.balance)),1),e("td",null,n(i.days_past_due),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Ido),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Rdo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Sdo,[e("div",Tdo,[e("div",jdo,[e("div",Odo,[e("div",Mdo,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Ndo=Ue(Qro,[["render",Ldo]]),Fdo={name:"InvoiceAnalysisReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h("closed-invoices"),v=h([]),g=h(null),D=h(""),y=h(""),C=h(0),x="../../../../../assets/img/spinner.svg",E=()=>{A.get(s+"reports/report",{params:{per_page:d.value,type:p.value}}).then(S=>{v.value=S.data}).catch(S=>{console.log(S)})},k=async(S,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+S+"/details").then(N=>{g.value=N.data,C.value++,bt(()=>{document.getElementById(F).click()})}).catch(N=>{console.log(N)})},w=(S,F)=>(F/S*100).toFixed(2);Qe(()=>{E()});const T=S=>{let F="";switch(S){case"pending":F="bg-label-primary";break;case"submitted":F="bg-label-warning";break;case"financed":F="bg-label-success";break;case"closed":F="bg-label-secondary";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},V=()=>{D.value=$("#date_search").val(),D.value&&(m.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),_.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:d.value,anchor:t.value,type:p.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})};ot([d],([S])=>{A.get(s+"reports/report",{params:{per_page:S,anchor:t.value,type:p.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)})});const B=()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",$("#date_search").val(""),i.value="",l.value="",r.value="",$("#disbursement_date_search").val(""),A.get(s+"reports/report",{params:{per_page:d.value,type:p.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},O=async S=>{await A.get(S,{params:{anchor:t.value,type:p.value,per_page:d.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(F=>{invoices.value=F.data.invoices}).catch(F=>{console.log(F)})},L=h(!1),R=h(!1);return{moment:H,report:v,per_page:d,anchor_search:t,invoice_number_search:c,from_date:m,to_date:_,invoice_financing_status_search:i,resolveFinancingStatus:T,changePage:O,exportReport:()=>{L.value=!0,A.get(s+"reports/report/"+p.value+"/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{L.value=!1})},exportPdfReport:()=>{R.value=!0,A.get(s+"report/"+p.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`Invoice_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{R.value=!1})},filter:V,refresh:B,getTaxPercentage:w,invoice_details:g,showInvoice:k,downloadingExcel:L,downloadingPdf:R,spinner:x,invoice_details_key:C}}},Ydo={class:"card p-2"},Vdo={class:"d-flex justify-content-between"},Bdo={class:"d-flex flex-wrap gap-1"},Udo={class:""},qdo={for:"Invoice Number",class:"form-label mx-1"},Hdo={class:""},zdo={for:"Invoice Number",class:"form-label mx-1"},Wdo={class:""},Kdo={class:"form-label",for:""},Gdo={class:""},Qdo={class:"form-label",for:""},Zdo={class:"table-search-btn"},Jdo={class:"table-clear-btn"},Xdo={class:"d-flex justify-content-end gap-1 mt-auto"},eco={class:""},tco={key:0,class:"d-flex"},oco=["src"],aco={key:0,class:"d-flex"},nco=["src"],sco={class:"table-responsive"},lco={class:"table"},ico={class:""},rco={class:"table-border-bottom-0"},dco={key:0},cco={colspan:"12",class:"text-center"},uco={class:"text-center"},_co={key:1},mco={colspan:"12",class:"text-center"},fco={class:"text-center"},hco={class:""},pco=["onClick"],vco={class:"text-success text-nowrap"},gco=["id","data-bs-target"],bco=["id","data-bs-target"],yco={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kco={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$co={class:"modal-content"},wco={class:"modal-body"},Dco={class:"d-flex justify-content-center"};function Cco(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Ydo,[e("div",Vdo,[e("div",Bdo,[e("div",Udo,[e("label",qdo,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Hdo,[e("label",zdo,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Wdo,[e("label",Kdo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Gdo,[e("label",Qdo,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",Zdo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Jdo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Xdo,[e("div",eco,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,oco)):(u(),f("span",tco,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,nco)):(u(),f("span",aco,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),fe(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",sco,[e("table",lco,[e("thead",null,[e("tr",ico,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Closure Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1)])]),e("tbody",rco,[t.report.data?b("",!0):(u(),f("tr",dco,[e("td",cco,[e("span",uco,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",_co,[e("td",mco,[e("span",fco,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",hco,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,pco),e("td",vco,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(i.closure_date?t.moment(i.closure_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",null,n(i.closure_transaction_reference?i.closure_transaction_reference:"-"),1),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,gco),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,bco),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yco,[e("div",kco,[e("div",$co,[e("div",wco,[e("div",Dco,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),fe(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const xco=Ue(Fdo,[["render",Cco]]),Pco={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},Eco={class:"fw-bold py-3 mb-2"},Aco={class:"fw-light px-3"},Ico={class:"table"},Rco={class:"table-border"},Sco={class:""},Tco=["value"],jco={class:""},Oco=["value"],Mco={class:""},Lco=["value"],Nco={class:""},Fco=["value"],Yco={class:""},Vco=["value"],Bco={class:""},Uco=["value"];function qco(o,a,s,t,c,m){return u(),f("div",null,[e("h5",Eco,[e("span",Aco,n(o.$t("Bank A/C Details")),1)]),e("table",Ico,[e("tbody",Rco,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",Sco,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,Tco)])]),e("td",null,[e("div",jco,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,Oco)])]),e("td",null,[e("div",Mco,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,Lco)])]),e("td",null,[e("div",Nco,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,Fco)])]),e("td",null,[e("div",Yco,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,Vco)])]),e("td",null,[e("div",Bco,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,Uco)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const Hco=Ue(Pco,[["render",qco]]),zco={name:"PurchaseOrderSettings",props:["can_edit"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),D=()=>{A.get("purchase-order-settings").then(k=>{c.value=k.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=k.data.can_approve&&k.data.user_id!=c.value.proposed_update.user_id)}).catch(k=>{console.log(k)})};a.expose({getPurchaseOrderSettings:D});const y=()=>{const k=new FormData;k.append("maker_checker_creating_updating",r.value),k.append("auto_request_financing",i.value),k.append("company_logo",l.value),k.append("description",_.value),k.append("footer",m.value),A.post("purchase-order-settings/update",k).then(w=>{D(),l.value=null,t.success(w.data.message)}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})},C=k=>{k.preventDefault();let w=k.target.files||k.dataTransfer.files;w.length&&(l.value=w[0])},x=()=>{_.value=d.value.getHTML().toString()},E=k=>{A.get("purchase-order-settings/status/"+k+"/update").then(w=>{D(),l.value=null,t.success(w.data.message),document.getElementById("close-modal").click()}).catch(w=>{console.log(w),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([k,w,T,V,B])=>{k!=c.value.maker_checker_creating_updating||w!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||T?g.value=!0:g.value=!1}),{can_edit:s,can_approve:p,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,updateStatus:E,changeFile:C,changeDescription:x,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},Wco={class:"d-flex justify-content-between p-1"},Kco={class:"fw-bold py-3"},Gco={class:"fw-light px-3"},Qco={key:0,class:"my-auto px-2"},Zco={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},Jco={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},Xco={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},euo={class:"modal-content"},tuo={class:"modal-header"},ouo={class:"modal-title",id:"modalCenterTitle"},auo={class:"modal-body"},nuo={key:0},suo={key:0},luo={key:1},iuo={key:1},ruo={key:0},duo={key:1},cuo={key:2},uuo={key:3},_uo=["innerHTML"],muo={key:4},fuo={class:"modal-footer"},huo={class:"row px-2 mb-2"},puo={class:"col-md-4"},vuo={class:"row border rounded border-primary mx-2 py-2"},guo={class:"col-md-9 d-flex flex-column"},buo={class:"col-form-label"},yuo={class:"col-md-3 mt-2"},kuo={class:"form-check form-switch"},$uo={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},wuo=["checked"],Duo={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Cuo={class:"col-md-4"},xuo={class:"row border rounded border-primary mx-2 py-2"},Puo={class:"col-md-9 d-flex flex-column"},Euo={class:"col-form-label"},Auo={class:"col-md-3 mt-2"},Iuo={class:"form-check form-switch"},Ruo=["checked"],Suo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Tuo={class:"btn btn-primary",type:"submit"},juo={class:"fw-bold py-3 mb-2"},Ouo={class:"fw-light px-3"},Muo={class:"row px-3 mb-2"},Luo={class:"col-md-6 border-bottom d-flex flex-column"},Nuo={for:"html5-text-input",class:"col-form-label"},Fuo={class:"col-md-6"},Yuo={class:"row px-3 mb-2"},Vuo={class:"col-md-6 d-flex flex-column"},Buo={for:"",class:"col-form-label"},Uuo={class:"col-md-6 mb-4"},quo={class:"row px-3 mb-2 mt-4"},Huo={class:"col-md-6 d-flex flex-column"},zuo={for:"html5-text-input",class:"col-form-label"},Wuo={class:"col-md-6"},Kuo={class:"d-flex my-2 mx-3 d-flex justify-content-end"},Guo={key:0,class:"btn btn-primary",type:"submit"};function Quo(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",Wco,[e("h5",Kco,[e("span",Gco,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",Qco,[e("button",Zco,n(o.$t("View Proposed Changes")),1),e("div",Jco,[e("div",Xco,[e("div",euo,[e("div",tuo,[e("h5",ouo,n(o.$t("Confirm Changes")),1),a[8]||(a[8]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",auo,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",nuo,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",suo,n(o.$t("Yes to No")),1)):(u(),f("span",luo,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",iuo,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",ruo,n(o.$t("Yes to No")),1)):(u(),f("span",duo,n(o.$t("No to Yes")),1))])):b("",!0),i=="company_logo"?(u(),f("div",cuo,n(o.$t("Change Logo")),1)):b("",!0),i=="description"?(u(),f("div",uuo,[le(n(o.$t("Change Description To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,_uo)])):b("",!0),i=="footer"?(u(),f("div",muo,[le(n(o.$t("Change Footer To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",fuo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[4]||(a[4]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",huo,[e("div",puo,[e("div",vuo,[e("div",guo,[e("label",buo,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",yuo,[e("div",kuo,[e("label",$uo,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,wuo),[[Yo,t.maker_checker]]),e("label",Duo,n(o.$t("Yes")),1)])])])]),e("div",Cuo,[e("div",xuo,[e("div",Puo,[e("label",Euo,n(o.$t("Auto Request Financing")),1),e("small",null,n(o.$t("Automatically request financing for approved invoices")),1)]),e("div",Auo,[e("div",Iuo,[a[11]||(a[11]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.auto_request_financing,"onUpdate:modelValue":a[3]||(a[3]=l=>t.auto_request_financing=l)},null,8,Ruo),[[Yo,t.auto_request_financing]]),a[12]||(a[12]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",Suo,[e("button",Tuo,n(o.$t("Submit")),1)])):b("",!0)],32),a[13]||(a[13]=e("hr",null,null,-1)),e("h5",juo,[e("span",Ouo,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[7]||(a[7]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",Muo,[e("div",Luo,[e("label",Nuo,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",Fuo,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[5]||(a[5]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",Yuo,[e("div",Vuo,[e("label",Buo,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",Uuo,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",quo,[e("div",Huo,[e("label",zuo,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",Wuo,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),e("div",Kuo,[t.can_submit_lower&&t.can_edit==1?(u(),f("button",Guo,n(o.$t("Submit")),1)):b("",!0)])],32)])}const Zuo=Ue(zco,[["render",Quo],["__scopeId","data-v-bf80e59b"]]),Juo={name:"Settings",components:{BuyerBankAccounts:Hco,BuyerPurchaseOrderSettings:Zuo},props:["can_edit","can_edit_anchor","can_view","has_proposed_updates"],setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=o.can_view,m=h(null),_=h(null);return Qe(()=>{m.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,can_view:c,bank_accounts:m,purchase_order_settings:_,has_proposed_updates:t,switchTabs:r=>{switch(r){case"bank-accounts":m.value.getBankAccounts();break;case"purchase-order-settings":_.value.getPurchaseOrderSettings();break}}}}},Xuo={class:"nav-align-top mb-4"},e_o={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},t_o={class:"nav-item"},o_o={key:0,class:"nav-item"},a_o={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},n_o={class:"tab-content"},s_o={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},l_o={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"};function i_o(o,a,s,t,c,m){const _=de("buyer-bank-accounts"),l=de("buyer-purchase-order-settings");return u(),f("div",Xuo,[e("ul",e_o,[e("li",t_o,[e("button",{type:"button",onClick:a[0]||(a[0]=r=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[2]||(a[2]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA)")]))]),t.can_view?(u(),f("li",o_o,[e("button",{type:"button",onClick:a[1]||(a[1]=r=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[4]||(a[4]=le(" Purchase Order Settings ")),t.has_proposed_updates==1?(u(),f("i",a_o)):b("",!0)])])):b("",!0)]),e("div",n_o,[e("div",s_o,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",l_o,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const r_o=Ue(Juo,[["render",i_o]]),d_o={name:"Notifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},c_o={class:"card p-2"},u_o={class:"table-responsive"},__o={class:"table"},m_o={class:""},f_o={class:"table-border-bottom-0"},h_o={key:0},p_o={colspan:"12",class:"text-center"},v_o={class:"text-center"},g_o={key:1},b_o={colspan:"12",class:"text-center"},y_o={class:"text-center"},k_o={key:0},$_o={key:0},w_o={key:1},D_o={key:2},C_o={key:3},x_o={key:4},P_o={key:5},E_o={key:1},A_o={key:2},I_o=["onClick"];function R_o(o,a,s,t,c,m){return u(),f("div",c_o,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",u_o,[e("table",__o,[e("thead",null,[e("tr",m_o,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",f_o,[t.logs?b("",!0):(u(),f("tr",h_o,[e("td",p_o,[e("span",v_o,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",g_o,[e("td",b_o,[e("span",y_o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",k_o,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",$_o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",w_o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",D_o,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",C_o,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",x_o,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",P_o,n("Configurations: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",E_o,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",A_o,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,I_o)])):b("",!0)]))),128))])])])])}const S_o=Ue(d_o,[["render",R_o]]),T_o={name:"InvoicesUpload",setup(o){const a=Je("baseURL"),s=h(null),t=lt(),c=h(!0),m=h(!1),_=h(0);return{selected_file:_,can_submit:c,show_error_download_link:m,selectFile:i=>{i.preventDefault();let d=i.target.files||i.dataTransfer.files;d.length&&(s.value=d[0])},uploadInvoices:()=>{c.value=!1,$("#submit-invoices-btn").html("Uploading");const i=new FormData;i.append("invoices",s.value),A.post(a+"invoices/import",i).then(d=>{window.location.reload()}).catch(d=>{if(d.response.status==422){_.value++,t.error(d.response.data.message);return}d.response.data.uploaded>0&&t.success(d.response.data.uploaded+" uploaded."),d.response.data.total_rows-d.response.data.uploaded>0?(t.error(d.response.data.total_rows-d.response.data.uploaded+" failed to upload."),m.value=!0,_.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{c.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},j_o={class:""},O_o={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},M_o={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},L_o={class:"modal-dialog"},N_o={class:"modal-header"},F_o={class:"modal-title",id:"modalTopTitle"},Y_o={class:"modal-body"},V_o={class:"form-group mt-2"},B_o={class:"py-1 text-danger d-none",id:"show-download-error"},U_o={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},q_o={class:"modal-footer"},H_o={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},z_o={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},W_o={href:"invoices/anchors",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},K_o=["disabled"];function G_o(o,a,s,t,c,m){return u(),f(W,null,[e("div",j_o,[e("button",O_o,n(o.$t("Upload Invoices")),1)]),e("div",M_o,[e("div",L_o,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",N_o,[e("h5",F_o,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Y_o,[e("div",V_o,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",B_o,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",U_o,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",q_o,[e("a",H_o,n(o.$t("Download Sample")),1),e("a",z_o,n(o.$t("Download Sample")),1),e("a",W_o,n(o.$t("View Anchors")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,K_o)])],32)])])],64)}const Q_o=Ue(T_o,[["render",G_o]]),Z_o={name:"UploadedInvoices",components:{Pagination:bn},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},J_o={class:"card p-2"},X_o={class:"d-flex justify-content-between"},emo={class:"d-flex flex-wrap"},tmo={class:"mx-1"},omo={for:"Invoice No",class:"form-label"},amo={class:"mx-1"},nmo={for:"From Date",class:"form-label"},smo={class:"mx-1"},lmo={for:"Status",class:"form-label"},imo={value:""},rmo={value:"Successful"},dmo={value:"Failed"},cmo={class:"mx-1 table-search-btn"},umo={class:"mx-1 table-clear-btn"},_mo={class:"d-flex"},mmo={class:"table-responsive p-2"},fmo={class:"table dt-invoices"},hmo={key:0},pmo={colspan:"12",class:"text-center"},vmo={class:"text-center"},gmo={key:1},bmo={colspan:"12",class:"text-center"},ymo={class:"text-center"},kmo={key:0,class:"badge bg-label-success me-1"},$mo={key:1,class:"badge bg-label-danger me-1"},wmo={class:""};function Dmo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",J_o,[e("div",X_o,[e("div",emo,[e("div",tmo,[e("label",omo,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",amo,[e("label",nmo,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[Q,t.uploaded_date_search]])]),e("div",smo,[e("label",lmo,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",imo,n(o.$t("Select Status")),1),e("option",rmo,n(o.$t("Successful")),1),e("option",dmo,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",cmo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",umo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_mo,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",mmo,[e("table",fmo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",hmo,[e("td",pmo,[e("span",vmo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",gmo,[e("td",bmo,[e("span",ymo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",kmo,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",$mo,n(l.status),1)):b("",!0)]),e("td",wmo,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Cmo=Ue(Z_o,[["render",Dmo]]),xmo={name:"FinanceRequests",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=h(""),c=h(""),m=h(""),_=h(50),l=h(""),r=h(""),i=h(0),d=async()=>{await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(E=>{a.value=E.data.finance_requests}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=E=>{let k="";switch(E){case"pending":k="bg-label-primary";break;case"submitted":k="bg-label-secondary";break;case"financed":k="bg-label-success";break;case"denied":k="bg-label-danger";break;case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-danger";break;case"Overdue":k="bg-label-danger";break;case"Created":k="bg-label-secondary";break;case"Pending":k="bg-label-secondary";break;case"Approved":k="bg-label-success";break;case"Paid":k="bg-label-success";break;case"Failed":k="bg-label-danger";break;case"Rejected":k="bg-label-danger";break;case"Past Due":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},v=async(E,k)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+E+"/details").then(w=>{s.value=w.data,i.value++,bt(()=>{document.getElementById(k).click()})}).catch(w=>{console.log(w)})},g=(E,k)=>(k/E*100).toFixed(2),D=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",await A.get(o+"payment-instructions/data",{params:{per_page:_.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},y=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},C=async E=>{await A.get(E+"&per_page="+_.value,{params:{anchor:t.value,invoice:c.value,status:m.value}}).then(k=>{a.value=k.data.finance_requests})};return ot([_],async([E])=>{await A.get(o+"payment-instructions/data",{params:{per_page:E,anchor:t.value,invoice:c.value,status:m.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)})}),{moment:H,finance_requests:a,anchor_search:t,invoice_search:c,status_search:m,per_page:_,getTaxPercentage:g,invoice_details:s,resolveRequestStatus:p,changePage:C,clearSearch:D,filter:y,status:l,rejection_reason:r,showInvoice:v,resolvePaymentRequestStatus:E=>{let k="";switch(E){case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-warning";break;case"Created":k="bg-label-secondary";break;case"Pending":k="bg-label-secondary";break;case"Approved":k="bg-label-success";break;case"Paid":k="bg-label-success";break;case"Failed":k="bg-label-danger";break;case"Rejected":k="bg-label-danger";break;case"Past Due":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},invoice_details_key:i}}},Pmo={class:"card"},Emo={class:"card-header d-flex justify-content-between"},Amo={class:"d-flex flex-wrap gap-1"},Imo={class:""},Rmo={for:"Vendor",class:"form-label"},Smo={class:""},Tmo={for:"Invoice No",class:"form-label"},jmo={class:""},Omo={for:"Status",class:"form-label"},Mmo={value:""},Lmo={value:"created"},Nmo={value:"pending"},Fmo={value:"approved"},Ymo={value:"paid"},Vmo={value:"rejected"},Bmo={class:"table-search-btn"},Umo={class:"table-clear-btn"},qmo={class:"d-flex flex-wrap gap-1 justify-content-end mt-auto"},Hmo={class:"card-body"},zmo={class:"table-responsive"},Wmo={class:"table"},Kmo={class:""},Gmo={class:"table-border-bottom-0"},Qmo={key:0},Zmo={colspan:"12",class:"text-center"},Jmo={class:"text-center"},Xmo={key:1},efo={colspan:"12",class:"text-center"},tfo={class:"text-center"},ofo=["onClick"],afo=["onClick"],nfo={class:"text-success text-nowrap"},sfo={class:"text-success text-nowrap"},lfo=["id","data-bs-target"],ifo=["id","data-bs-target"],rfo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},dfo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},cfo={class:"modal-content"},ufo={class:"modal-body"},_fo={class:"d-flex justify-content-center"};function mfo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Pmo,[e("div",Emo,[e("div",Amo,[e("div",Imo,[e("label",Rmo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",Smo,[e("label",Tmo,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_search]])]),e("div",jmo,[e("label",Omo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",Mmo,n(o.$t("Status")),1),e("option",Lmo,n(o.$t("Created")),1),e("option",Nmo,n(o.$t("Submitted")),1),e("option",Fmo,n(o.$t("Approved")),1),e("option",Ymo,n(o.$t("Paid")),1),e("option",Vmo,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",Bmo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Umo,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qmo,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),e("div",Hmo,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",zmo,[e("table",Wmo,[e("thead",null,[e("tr",Kmo,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",Gmo,[t.finance_requests.data?b("",!0):(u(),f("tr",Qmo,[e("td",Zmo,[e("span",Jmo,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",Xmo,[e("td",efo,[e("span",tfo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[e("span",null,n(i.anchor),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-pi-btn-"+i.id),style:{cursor:"pointer"}},n(i.pi_number),9,ofo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,afo),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",nfo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total)),1)]),e("td",sfo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,lfo),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,ifo),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",rfo,[e("div",dfo,[e("div",cfo,[e("div",ufo,[e("div",_fo,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const ffo=Ue(xmo,[["render",mfo]]),hfo={name:"FinanceRequests",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(0),t=h(null),c=h(0),m=h(0),_=h(0),l=lt(),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h(""),D=h(0),y=async()=>{await A.get(o+"planner/financing-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(N=>{a.value=N.data.finance_requests}).catch(N=>{console.log(N)})};Qe(()=>{y()});const C=N=>{let U="";switch(N){case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},x=N=>{let U=0;return N.forEach(Z=>{U+=Z.quantity*Z.price_per_quantity}),U},E=N=>{let U=0;return N.invoice_fees.length>0&&N.invoice_fees.forEach(Z=>{U+=Z.amount}),U},k=N=>{T(N),E(N),V(N)},w=N=>N.vendor_configurations.eligibility,T=N=>{let U=N.vendor_configurations.eligibility,Z=x(N.invoice_items),ce=0;N.invoice_fees.forEach(z=>{ce+=z.amount});let ae=0;N.invoice_taxes.forEach(z=>{ae+=z.value}),Z=Z+ae;let J=0;return N.invoice_discounts.forEach(z=>{z.type=="percentage"?J+=z.value/100*Z:J+=z.value}),Z=Z-J,s.value=U/100*(Z-ce),s.value.toFixed(2)},V=N=>{t.value=N,c.value=N.vendor_configurations.eligibility;let U=0;N.invoice_fees.forEach(z=>{U+=z.amount});let Z=0;N.invoice_taxes.forEach(z=>{Z+=z.value});let ce=x(N.invoice_items)+Z,ae=0;N.invoice_discounts.forEach(z=>{z.type=="percentage"?ae+=z.value/100*ce:ae+=z.value}),ce=ce-ae,t.value=N;let J=ce-U;return _.value=N.vendor_discount_details.total_roi,m.value=c.value/100*J*(N.vendor_discount_details.total_spread/100)*((H(N.due_date).diff(H(),"days")+1)/365),m.value.toFixed(2)},B=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+N+"/details").then(Z=>{t.value=Z.data,D.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})},O=(N,U)=>(U/N*100).toFixed(2),L=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",await A.get(o+"planner/financing-requests/data",{params:{per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},R=async()=>{let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"planner/financing-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},P=async N=>{await A.get(N,{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})};return ot([p],async([N])=>{await A.get(o+"planner/financing-requests/data",{params:{per_page:N}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})}),{moment:H,finance_requests:a,anchor_search:r,invoice_search:i,status_search:d,per_page:p,getTaxPercentage:O,invoice_details:t,resolveRequestStatus:C,changePage:P,showModal:k,clearSearch:L,filter:R,updateApprovalStatus:(N,U)=>{const Z=new FormData;Z.append("status",U),Z.append("rejection_reason",g.value),A.post(o+"planner/financing-requests/"+N+"/status/update",Z).then(()=>{l.success("Request updated successfully"),y(),U=="rejected"?document.getElementById("reject-request-close-btn-"+N).click():document.getElementById("approve-request-close-btn-"+N).click()})},status:v,rejection_reason:g,showInvoice:B,getEligibility:w,getDiscountRate:N=>N.vendor_discount_details.total_roi,resolvePaymentRequestStatus:N=>{let U="";switch(N){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-warning";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},invoice_details_key:D}}},pfo={class:"card"},vfo={class:"card-header d-flex justify-content-between"},gfo={class:"d-flex flex-wrap gap-1"},bfo={class:""},yfo={for:"Anchor",class:"form-label"},kfo={class:""},$fo={for:"Invoice No",class:"form-label"},wfo={class:""},Dfo={for:"Status",class:"form-label"},Cfo={value:""},xfo={value:"created"},Pfo={value:"pending"},Efo={value:"approved"},Afo={value:"paid"},Ifo={value:"rejected"},Rfo={class:"table-search-btn"},Sfo={class:"table-clear-btn"},Tfo={class:"d-flex align-items-end"},jfo={style:{"margin-right":"10px"}},Ofo={class:"card-body"},Mfo={class:"table-responsive"},Lfo={class:"table"},Nfo={class:""},Ffo={class:"table-border-bottom-0"},Yfo={key:0},Vfo={colspan:"12",class:"text-center"},Bfo={class:"text-center"},Ufo={key:1},qfo={colspan:"12",class:"text-center"},Hfo={class:"text-center"},zfo=["data-bs-target"],Wfo=["onClick"],Kfo=["onClick"],Gfo={class:"text-success"},Qfo=["id","data-bs-target"],Zfo=["id","data-bs-target"],Jfo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Xfo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},eho={class:"modal-content"},tho={class:"modal-body"},oho={class:"d-flex justify-content-center"},aho=["data-bs-target"],nho=["data-bs-target"],sho=["id"],lho={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iho={class:"modal-content"},rho={class:"modal-header"},dho={class:"modal-title",id:"modalCenterTitle"},cho=["id"],uho=["onSubmit"],_ho={class:"modal-body"},mho={class:"modal-footer"},fho={class:"btn btn-primary",type:"submit"},hho=["id"],pho={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},vho={class:"modal-content"},gho={class:"modal-header"},bho={class:"modal-title",id:"modalCenterTitle"},yho=["id"],kho=["onSubmit"],$ho={class:"modal-body"},who={class:"row mb-1"},Dho={class:"form-group"},Cho={for:""},xho={class:"modal-footer"},Pho={class:"btn btn-primary",type:"submit"},Eho=["id"],Aho={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Iho={class:"modal-content"},Rho={class:"modal-header"},Sho={class:"modal-title",id:"modalCenterTitle"},Tho={class:"modal-body"},jho={class:"row mb-1"},Oho={class:"col-6 my-1"},Mho={class:"col-6"},Lho={class:"col-6 my-1"},Nho={class:"col-6"},Fho={class:"col-6 my-1"},Yho={class:"col-6"},Vho={class:"col-6 my-1"},Bho=["onClick"],Uho={class:"col-6 my-1"},qho={class:"col-6 text-success"},Hho={class:"col-6 my-1"},zho={class:"col-6"},Who={class:"col-6 my-1"},Kho={class:"col-6 text-success"},Gho={class:"col-6 my-1"},Qho={class:"col-6 text-success"},Zho={class:"col-6 my-1"},Jho={class:"col-6"},Xho={class:"col-6 my-1"},epo={class:"col-6"},tpo={class:"col-6 my-1"},opo={class:"col-6"},apo={class:"col-6 my-1"},npo={class:"col-6"},spo={class:"col-6 my-1"},lpo={class:"col-6"},ipo={key:0,class:"col-12"},rpo={key:0,class:"row"},dpo={key:0,class:"col-6 my-1 d-flex"},cpo={class:""},upo={key:0,class:""},_po={key:1,class:"col-6 text-success"},mpo={key:1,class:"row"},fpo={key:0,class:"col-6 my-1 d-flex"},hpo={class:""},ppo={key:0,class:""},vpo={key:1,class:"col-6 text-success"},gpo={key:1,class:"col-12"},bpo={class:"col-6 my-1 m_title"},ypo={class:"col-6 text-success"},kpo={class:"col-6 my-1"},$po={class:"col-6 text-success"},wpo={class:"col-6 my-1"},Dpo={class:"col-6"},Cpo={class:"modal-footer"},xpo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function Ppo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",pfo,[e("div",vfo,[e("div",gfo,[e("div",bfo,[e("label",yfo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",kfo,[e("label",$fo,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_search]])]),e("div",wfo,[e("label",Dfo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",Cfo,n(o.$t("Status")),1),e("option",xfo,n(o.$t("Created")),1),e("option",Pfo,n(o.$t("Submitted")),1),e("option",Efo,n(o.$t("Approved")),1),e("option",Afo,n(o.$t("Paid")),1),e("option",Ifo,n(o.$t("Rejected")),1)],512),[[re,t.status_search]])]),e("div",Rfo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Sfo,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Tfo,[e("div",jfo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),e("div",Ofo,[t.finance_requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Mfo,[e("table",Lfo,[e("thead",null,[e("tr",Nfo,[e("th",null,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Request Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",Ffo,[t.finance_requests.data?b("",!0):(u(),f("tr",Yfo,[e("td",Vfo,[e("span",Bfo,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",Ufo,[e("td",qfo,[e("span",Hfo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,zfo),e("td",null,[e("span",null,n(i.anchor_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,Wfo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,Kfo),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",Gfo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[i.company_approvals.length>0?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.company_approvals[0].status)])},n(i.company_approvals[0].status),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,Qfo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,Zfo),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Jfo,[e("div",Xfo,[e("div",eho,[e("div",tho,[e("div",oho,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,aho)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,nho)):b("",!0)]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",lho,[e("div",iho,[e("div",rho,[e("h5",dho,n(o.$t("Update Company Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,cho)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",_ho,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",mho,[e("button",fho,n(o.$t("Submit")),1)])],40,uho)])])],8,sho),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",pho,[e("div",vho,[e("div",gho,[e("h5",bho,n(o.$t("Update Company Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,yho)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",$ho,[e("div",who,[e("div",Dho,[e("label",Cho,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[Q,t.rejection_reason]])])])]),e("div",xho,[e("button",Pho,n(o.$t("Submit")),1)])],40,kho)])])],8,hho),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Aho,[e("div",Iho,[e("div",Rho,[e("h5",Sho,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Tho,[e("div",jho,[e("div",Oho,n(o.$t("Anchor")),1),e("div",Mho,[e("span",null,n(i.anchor_name),1)]),e("div",Lho,n(o.$t("Program Name")),1),e("div",Nho,n(i.program_name),1),e("div",Fho,n(o.$t("Invoice / Unique Reference Number")),1),e("div",Yho,n(i.invoice_number),1),e("div",Vho,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,Bho),e("div",Uho,n(o.$t("PI Amount")),1),e("div",qho,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",Hho,n(o.$t("Eligibility"))+" (%)",1),e("div",zho,n(i.eligibility),1),e("div",Who,n(o.$t("Eligible Payment Amount")),1),e("div",Kho,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",Gho,n(o.$t("Requested Payment Amount")),1),e("div",Qho,n(new Intl.NumberFormat().format(i.drawdown_amount)),1),e("div",Zho,n(o.$t("Credit to Account No"))+".:",1),e("div",Jho,n(i.payment_accounts[0].account),1),e("div",Xho,n(o.$t("Request Date")),1),e("div",epo,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",tpo,n(o.$t("Requested Disbursement Date")),1),e("div",opo,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",apo,n(o.$t("Due Date")),1),e("div",npo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",spo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",lpo,n(i.discount_rate),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",ipo,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("div",{key:d.id},[i.discount_charge_type=="Front Ended"?(u(),f("div",rpo,[d.type!="Vendor Account"?(u(),f("div",dpo,[e("div",cpo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",upo," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"?(u(),f("div",_po,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)])):(u(),f("div",mpo,[d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",fpo,[e("div",hpo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",ppo," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",vpo,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)]))]))),128))])):b("",!0),i.fees&&i.fees.length>0?(u(),f("div",gpo,[(u(!0),f(W,null,X(i.fees,(d,p)=>(u(),f("div",{class:"row",key:p},[e("div",bpo,n(d.name.replaceAll("_"," ")),1),e("div",ypo,n(new Intl.NumberFormat().format(Number(d.value).toFixed(2))),1)]))),128))])):b("",!0),e("div",kpo,n(o.$t("Net Disbursal Total")),1),e("div",$po,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",wpo,n(o.$t("Status")),1),e("div",Dpo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",Cpo,[e("button",xpo,n(o.$t("Close")),1)])])])],8,Eho)])]))),128))])])]),t.finance_requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Epo=Ue(hfo,[["render",Ppo]]),Apo={name:"CashPlannerPrograms",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"planner/programs/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.pending_programs})}}}},Ipo={class:"card"},Rpo={class:"card-header"},Spo={class:"card-title"},Tpo={class:"card-body"},jpo={class:"table-responsive"},Opo={class:"table"},Mpo={class:"text-nowrap"},Lpo={class:"table-border-bottom-0"},Npo={key:0},Fpo={colspan:"12",class:"text-center"},Ypo={class:"text-center"},Vpo={key:1},Bpo={colspan:"12",class:"text-center"},Upo={class:"text-center"},qpo={class:"fw-medium"},Hpo={class:"text-success"},zpo={class:"text-success"},Wpo={class:"text-success"},Kpo={class:"text-success"},Gpo={class:""};function Qpo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Ipo,[e("div",Rpo,[e("h6",Spo,n(o.$t("Limit Details")),1)]),e("div",Tpo,[Be(_,{from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",jpo,[e("table",Opo,[e("thead",null,[e("tr",Mpo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",Lpo,[t.programs.data?b("",!0):(u(),f("tr",Npo,[e("td",Fpo,[e("span",Ypo,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Vpo,[e("td",Bpo,[e("span",Upo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",qpo,n(l.program.anchor.name),1)]),e("td",Hpo,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",zpo,n(new Intl.NumberFormat().format(l.utilized)),1),e("td",Wpo,n(new Intl.NumberFormat().format(l.pipeline)),1),e("td",Kpo,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized-l.pipeline)),1),e("td",Gpo,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),Be(_,{from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const Zpo=Ue(Apo,[["render",Qpo]]),Jpo={name:"EligibleInvoices",components:{Pagination:za,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request"],setup(o){const a=o.can_request,s=lt(),t=h([]),c=Je("baseURL"),m=h(null),_=h(0),l=h(0),r=h(new Date().toLocaleDateString("en-CA")),i=h(""),d=h(""),p=h(H().format("DD MMM YYYY")),v=h(H().format("DD MMM YYYY")),g=h(new Date().toLocaleDateString("en-CA")),D=h(new Date().toLocaleDateString("en-CA"));h(1);const y=h(0),C=h(1),x=h(0),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0),U=h(0);h([]),h(0);const Z=h(0),ce=h(0);h(0);const ae=h(""),J=h(!1),z=h(!1),ne=h(0),xe=h(""),Fe=h(""),he=h(0),ie=h(0),$e=h(0),we=h(0),se=h(!1),ge=h([]),be=h(!1),Me=h(""),ue=h(""),Oe=h(""),ze=h(""),Ye=h(""),ve=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),ee=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),oe=h(""),me=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(null),Et=h(new Date),Dt=h(0);ot([Ot],async([pe])=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:pe}}).then(Re=>{he.value=0,ie.value=0,$e.value=0,we.value=0,t.value=Re.data.invoices,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,ie.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance})})});const Ft=async()=>{at.value=$("#date_search").val(),at.value&&(me.value=H(at.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(at.value.split(" - ")[1]).format("YYYY-MM-DD"));let pe=$(".eligible-filter").parent();pe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+"cash-planner/invoices/eligible/data",{params:{anchor:Ze.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(Re=>{t.value=Re.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,ie.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance}),pe.html('<i class="ti ti-search eligible-filter"></i>')})},Kt=async()=>{let pe=$(".eligible-refresh").parent();pe.html('<img src="../../../../../assets/img/spinner.svg" />'),Ze.value="",oe.value="",me.value="",Le.value="",at.value="",$("#date_search").val(""),await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(Re=>{t.value=Re.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,ie.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance}),pe.html('<i class="ti ti-refresh eligible-refresh"></i>')})},ro=async(pe,Re)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+pe+"/details").then(vt=>{m.value=vt.data,Dt.value++,bt(()=>{document.getElementById(Re).click()})}).catch(vt=>{console.log(vt)})},Pe=async(pe,Re)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+pe+"/details").then(vt=>{Ce.value=[],Ne.value=0,Ie.value=0,m.value=vt.data,U.value=m.value.due_date,E.value=0,m.value.invoice_items.forEach(Mt=>{E.value+=Mt.quantity*Mt.price_per_quantity}),k.value=0,m.value.invoice_taxes.forEach(Mt=>{k.value+=Mt.value}),w.value=0,m.value.invoice_fees.forEach(Mt=>{w.value+=Mt.amount}),T.value=0,m.value.invoice_discounts.forEach(Mt=>{Mt.type=="percentage"?l.value+=Mt.value/100*(E.value+k.value):l.value+=Mt.value}),E.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_discount,V.value=m.value.vendor_configurations.eligibility/100*m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,P.value=H(m.value.due_date).diff(H(),"days")+1,B.value=m.value.vendor_configurations.eligibility,O.value=m.value.invoice_total_amount,L.value=B.value/100*m.value.invoice_total_amount,xe.value=tt(L.value.toFixed(2)),I.value=m.value.vendor_discount_details.total_roi;let Rt=0,eo=0;m.value.program.discount_details[0].fee_type=="Front Ended"&&m.value.vendor_fee_details.forEach((Mt,ys)=>{Mt.type=="percentage"&&(Rt+=Mt.value/100*L.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,Mt.value+"%"]),Mt.taxes&&(eo+=Mt.taxes/100*(Mt.value/100*L.value))),Mt.type=="amount"&&(Rt+=Mt.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,m.value.currency+" "+Mt.value]),Mt.taxes&&(eo+=Mt.taxes/100*Mt.value),console.log(eo)),Mt.type=="per amount"&&(Rt+=Math.round(L.value/Mt.per_amount)*Mt.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,Mt.value+" P.Am "+m.value.currency+" "+Mt.per_amount]),Mt.taxes&&(eo+=Mt.taxes/100*(Math.round(L.value/Mt.per_amount)*Mt.value)))}),Ne.value+=Rt,Ie.value+=eo,F.value=L.value-Ne.value-Ie.value,N.value=m.value.program.min_financing_days,Fe.value=tt(0);let jt=0;m.value.vendor_discount_details.forEach(Mt=>{Mt.to_day>jt&&(jt=Mt.to_day)}),i.value=H().add(jt,"days").format("DD MMM YYYY");let Mn=[function(Mt){return wt.value.includes(Mt.getDay())}];Vt.value=new Date(i.value),wt.value.forEach(Mt=>{gt.value.push(Mt)}),mt.value.forEach(Mt=>{Mn.push('"'+Mt+'"'),ut.value.push(new Date(Mt))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:Mn},g.value=H().add(jt,"days").format("DD MMM YYYY"),p.value=H().add(jt,"days").format("DD MMM YYYY"),z.value=!0,bt(()=>{document.getElementById(Re).click()})}).catch(vt=>{console.log(vt)})};ot(ne,pe=>{Fe.value=tt(pe.replaceAll(",","")),pe.replaceAll(",","")>0&&pe.replaceAll(",","")<=L.value?se.value=!0:se.value=!1});const Te=()=>{ne.value&&(ne.value=new Intl.NumberFormat().format(ne.value.replaceAll(",","")))},Ge=(pe,Re,vt)=>{Re!=""&&(v.value=H(Re).format("DD MMM YYYY"),D.value=H(Re).format("DD MMM YYYY"))},nt=()=>{if(ge.value.length<=0)return s.error("Select Payment Instructions"),!1;D.value=new Date().toLocaleDateString("en-CA");let pe=[function(Re){return wt.value.includes(Re.getDay())}];pt.value=new Date(d.value),wt.value.forEach(Re=>{gt.value.push(Re)}),mt.value.forEach(Re=>{pe.push('"'+Re+'"'),ut.value.push(new Date(Re))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:pe},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(c+"invoices/remittance/amount",{invoices:ge.value,date:D.value}).then(Re=>{Se.value=Re.data.total_amount,Jt.value=!1}),be.value.click()},yt=pe=>{let Re="";switch(pe){case"created":Re="bg-label-primary";break;case"paid":Re="bg-label-success";break;case"failed":Re="bg-label-danger";break;default:Re="bg-label-primary";break}return Re},Ct=async()=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(pe=>{ue.value=pe.data.terms_and_conditions,Oe.value=pe.data.noa,Ye.value=pe.data.terms_text,ze.value=pe.data.noa_text,t.value=pe.data.invoices,he.value=0,ie.value=0,$e.value=0,we.value=0,t.value.data.forEach(Re=>{he.value+=Re.total+Re.total_invoice_taxes-Re.total_invoice_discount,ie.value+=Re.total+Re.total_invoice_taxes-Re.total_invoice_fees-Re.total_invoice_discount,$e.value+=Re.eligible_for_finance,we.value+=Re.actual_remittance_amount}),d.value=H().add(pe.data.min_financing_days,"days").format("DD MMM YYYY"),pe.data.holidays&&pe.data.holidays.length>0&&pe.data.holidays.forEach(Re=>{mt.value.push(Re.date_formatted)}),pe.data.off_days&&pe.data.off_days.length>0&&pe.data.off_days.forEach(Re=>{wt.value.push(Re)})}).catch(pe=>{console.log(pe)})},Ut=(pe,Re,vt)=>{p.value=H(Re).format("DD MMM YYYY")},Tt=async()=>{se.value=!1,await A.post(c+"cash-planner/invoices/request/send",{invoice_id:m.value.id,payment_date:p.value,drawdown_amount:ne.value}).then(pe=>{s.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),Ct()}).catch(pe=>{console.log(pe),se.value=!0,pe.response.data&&pe.response.data.message?s.error(pe.response.data.message):s.error("An error. occurred. Refresh and try again.")})},Gt=async()=>{se.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const pe=new FormData;ge.value.forEach(Re=>{pe.append("invoices[]",Re.id)}),pe.append("payment_request_date",v.value),await A.post(c+"cash-planner/invoices/request/multiple/send",pe).then(Re=>{s.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),ge.value=[],Se.value=0,Ve.value=0,Ct()}).catch(Re=>{console.log(Re),se.value=!0,Re.response.data&&Re.response.data.message?s.error(Re.response.data.message):s.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},ct=(pe,Re)=>(Re/pe*100).toFixed(2);Qe(()=>{Ct()});const Ht=async pe=>{await A.get(pe,{params:{anchor:Ze.value,invoice_number:oe.value,from_date:me.value,to_date:Le.value,per_page:Ot.value}}).then(Re=>{he.value=0,ie.value=0,$e.value=0,we.value=0,t.value=Re.data.invoices,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,ie.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance,ge.value.filter(eo=>eo.id==vt.id).length>0&&bt(()=>{document.getElementById("invoice-"+vt.id).checked=!0})})})},kt=pe=>{let Re=ge.value.findIndex(vt=>vt.id==pe.id);if(Re==-1?ge.value.push(pe):ge.value.splice(Re,1),ge.value.length==t.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,ge.value.length>0){let vt=ge.value[0].due_date,Rt=ge.value[0].min_financing_days;ge.value.forEach(eo=>{H(eo.due_date).isBefore(vt)&&(vt=H(eo.due_date)),eo.min_financing_days<Rt&&(Rt=eo.min_financing_days)}),i.value=H(vt).subtract(Rt,"days").format("DD MMM YYYY"),pt.value=new Date(i.value),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:[function(eo){return eo.getDay()===0||eo.getDay()===6}]}}},dt=()=>{document.getElementById("select-all").checked?t.value.data.forEach(pe=>{document.getElementById("invoice-"+pe.id).checked=!0,ge.value.push(pe)}):t.value.data.forEach(pe=>{if(document.getElementById("invoice-"+pe.id).checked==!0){document.getElementById("invoice-"+pe.id).checked=!1;let Re;if(!ge.value.filter(function(Rt,eo){Re=eo,Rt.id==pe.id}))return!1;ge.value.splice(Re,1)}})},je=()=>{se.value=!se.value},ye=pe=>{let Re="";ze.value&&(Re=ze.value.body,Re=Re.replace("{date}",H(pe.invoice_date).format("Do MMM YYYY")),Re=Re.replace("{buyerName}",pe.program.anchor.name),Re=Re.replace("{anchorName}",pe.program.anchor.name),Re=Re.replace("{company}",pe.company.name),Re=Re.replace("{anchorCompanyUniqueID}",pe.program.anchor.unique_identification_number),Re=Re.replace("{time}",H().format("Do MMM YYYY")),Re=Re.replace("{agreementDate}",H().format("Do MMM YYYY")),Re=Re.replace("{contract},",""),Re=Re.replace("{anchorAccountName},",""),Re=Re.replace("{anchorAccountNumber},",""),Re=Re.replace("{anchorCustomerId},",""),Re=Re.replace("{anchorBranch},",""),Re=Re.replace("{anchorIFSCCode},",""),Re=Re.replace("{anchorAddress},",""),Re=Re.replace("{penalnterestRate},",""),Re=Re.replace("{sellerName}",pe.company.name),ze.value.body=Re)};var He=["","Thousand","Million","Billion","Trillion"],Nt=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],it=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],_t=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function tt(pe){if(pe=pe.toString(),pe=pe.replace(/[\, ]/g,""),pe!=parseFloat(pe))return"Not a Number";var Re=pe.indexOf(".");if(Re==-1&&(Re=pe.length),Re>15)return"Too Big";for(var vt=pe.split(""),Rt="",eo=0,jt=0;jt<Re;jt++)(Re-jt)%3==2?vt[jt]=="1"?(Rt+=it[Number(vt[jt+1])]+" ",jt++,eo=1):vt[jt]!=0&&(Rt+=_t[vt[jt]-2]+" ",eo=1):vt[jt]!=0&&(Rt+=Nt[vt[jt]]+" ",(Re-jt)%3==0&&(Rt+="Hundred "),eo=1),(Re-jt)%3==1&&(eo&&(Rt+=He[(Re-jt-1)/3]+" "),eo=0);if(Re!=pe.length){var Mn=pe.length;Rt+="point ";for(var jt=Re+1;jt<Mn;jt++)Rt+=Nt[vt[jt]]+" "}return Rt.replace(/\s+/g," ")}return{can_request:a,config:ke,config2:ee,moment:H,max_date:i,min_date:r,eligibility_amount:_,pi_amount:Z,discount_amount:l,days_to_payment:C,total_remittance:x,processing_fee_amount:y,invoices:t,payment_date:p,request_payment_date:g,bulk_request_payment_date:D,credit_to:ae,taxes_amount:ce,payment_account:J,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ve,tax_on_discount_amount:_e,invoice_total_amount:E,invoice_taxes_amount:k,invoice_fees_amount:w,invoice_eligibility_percentage:B,invoice_eligibility_amount:O,invoice_eligibility_for_finance:L,invoice_discount_amount:R,invoice_days_to_payment:P,invoice_business_spread:I,invoice_processing_fee:S,invoice_min_financing_days:N,invoice_due_date:U,invoice_total_remmitance:F,drawdown_amount:ne,invoice_amount_in_words:xe,drawdown_amount_in_words:Fe,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:yt,formatAmount:Te,total_invoice_amount:he,total_pi_amount:ie,total_eligible_amount:$e,total_actual_remittance:we,can_submit:se,selected_invoices:ge,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:Oe,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Ge,bulk_data_loading:Jt,anchor_search:Ze,invoice_number_search:oe,from_date_search:me,to_date_search:Le,date_search:at,per_page:Ot,formatNoa:ye,prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:Et,prime_bulk_max_date:pt,changePage:Ht,updateDiscount:Ut,showModal:Pe,showMultipleRequestModal:nt,requestFinanceForMultiple:Gt,requestFinance:Tt,invoice_details:m,viewRequestDetails:z,getTaxPercentage:ct,updateSelected:kt,selectAll:dt,acceptTerms:je,filter:Ft,refresh:Kt,showInvoice:ro,invoice_details_key:Dt}}},Xpo={class:"card"},evo={class:"card-header"},tvo={class:"card-body"},ovo={class:"d-flex justify-content-between"},avo={class:"d-flex flex-wrap gap-1"},nvo={class:""},svo={for:"Anchor",class:"form-label"},lvo={class:""},ivo={for:"Invoice No.",class:"form-label"},rvo={class:""},dvo={class:"form-label",for:""},cvo={class:"table-search-btn"},uvo={class:"table-clear-btn"},_vo={class:"d-flex flex-wrap justify-content-end gap-1",style:{height:"fit-content"}},mvo={class:"table-responsive"},fvo={class:"table invoices-table"},hvo={class:""},pvo={key:0},vvo={key:1},gvo={key:2},bvo={class:"invoices-table-content"},yvo={key:0},kvo={colspan:"12",class:"text-center"},$vo={class:"text-center"},wvo={key:1},Dvo={colspan:"12",class:"text-center"},Cvo={class:"text-center"},xvo={key:0,class:"form-check"},Pvo=["id","onChange"],Evo={key:0},Avo=["onClick"],Ivo={href:"javascript:;",class:""},Rvo={class:""},Svo={class:"text-success"},Tvo={class:""},jvo={class:"text-success"},Ovo={key:1,class:"text-success"},Mvo=["onClick"],Lvo=["id","data-bs-target"],Nvo=["id","data-bs-target"],Fvo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Yvo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Vvo={class:"modal-content"},Bvo={class:"modal-body"},Uvo={class:"d-flex justify-content-center"},qvo=["id"],Hvo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},zvo={class:"modal-content"},Wvo={class:"modal-header"},Kvo={class:"modal-title",id:"modalCenterTitle"},Gvo={class:"modal-body"},Qvo={class:"row"},Zvo={class:"col-6"},Jvo={class:"border-bottom d-flex justify-content-between"},Xvo={for:"nameWithTitle",class:"form-label"},ego={class:"text-success"},tgo={class:"border-bottom d-flex justify-content-between"},ogo={for:"nameWithTitle",class:"form-label"},ago={key:0,class:""},ngo={class:"border-bottom d-flex justify-content-between"},sgo={for:"nameWithTitle",class:"form-label"},lgo={class:"text-success"},igo={class:"col-6"},rgo={class:"border-bottom d-flex justify-content-between"},dgo={for:"nameWithTitle",class:"form-label"},cgo={class:"text-success"},ugo={class:"border-bottom d-flex justify-content-between"},_go={for:"nameWithTitle",class:"form-label"},mgo={class:"text-success"},fgo={class:"mt-1"},hgo={class:"row"},pgo={class:"col-12"},vgo={class:"border-bottom d-flex justify-content-between"},ggo={for:"nameWithTitle",class:"form-label"},bgo={class:""},ygo={class:"border-bottom d-flex justify-content-between"},kgo={for:"nameWithTitle",class:"form-label"},$go={class:"d-flex mx-1"},wgo={class:"mx-1"},Dgo=["for"],Cgo={class:"text-success"},xgo={class:"border-bottom d-flex justify-content-between"},Pgo={for:"nameWithTitle",class:"form-label"},Ego={class:"text-success"},Ago={class:"border-bottom d-flex justify-content-between"},Igo={for:"nameWithTitle",class:"form-label"},Rgo={class:"text-success"},Sgo={class:"col-12 mt-2"},Tgo={class:"w-50 mx-auto"},jgo={class:"mt-1"},Ogo={class:"row"},Mgo={class:"col-12"},Lgo={class:"border-bottom d-flex justify-content-between"},Ngo={for:"nameWithTitle",class:"form-label"},Fgo={class:"",id:"payment_date"},Ygo={class:"border-bottom d-flex justify-content-between"},Vgo={for:"nameWithTitle",class:"form-label"},Bgo={class:"text-success"},Ugo={class:"border-bottom d-flex justify-content-between"},qgo={for:"nameWithTitle",class:"form-label"},Hgo={class:""},zgo={class:"border-bottom d-flex justify-content-between form-group"},Wgo={for:"nameWithTitle",class:"form-label"},Kgo={class:"border-bottom d-flex justify-content-between form-group"},Ggo={for:"nameWithTitle",class:"form-label"},Qgo={class:"modal-footer"},Zgo={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Jgo=["disabled","data-bs-target"],Xgo=["id"],e1o={class:"modal-dialog modal-lg",role:"document"},t1o={class:"modal-content"},o1o={class:"modal-header"},a1o={class:"modal-title",id:"modalCenterTitle"},n1o={class:"modal-body"},s1o={key:0},l1o={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},i1o=["innerHTML"],r1o={key:2,href:"planner/invoices/terms/dealer_financing/download",target:"_blank"},d1o={key:3},c1o={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},u1o=["innerHTML"],_1o=["href"],m1o={class:"modal-footer d-flex justify-content-between"},f1o={class:"mt-4"},h1o=["href"],p1o={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},v1o=["disabled"],g1o=["id"],b1o={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},y1o={class:"modal-content"},k1o={class:"modal-header"},$1o={class:"modal-title",id:"modalCenterTitle"},w1o={class:"d-flex gap-1"},D1o=["data-bs-target"],C1o=["href"],x1o={class:"modal-body"},P1o={class:"d-flex justify-content-between mb-4"},E1o={class:"mb-3"},A1o={class:"d-flex justify-content-between"},I1o={class:"fw-light my-auto"},R1o={class:"fw-bold mx-2 my-auto"},S1o={class:"d-flex justify-content-between"},T1o={class:"fw-light my-auto"},j1o={class:"fw-bold mx-2 my-auto"},O1o={class:"d-flex justify-content-between"},M1o={class:"fw-light my-auto"},L1o={class:"fw-bold mx-2 my-auto"},N1o={class:"d-flex justify-content-between"},F1o={class:"fw-light my-auto"},Y1o={class:"fw-bold mx-2 my-auto"},V1o={class:"d-flex justify-content-between"},B1o={class:"fw-light my-auto"},U1o={class:"fw-bold mx-2 my-auto"},q1o={key:0,class:"d-flex justify-content-between"},H1o={class:"fw-light my-auto"},z1o={class:"fw-bold mx-2 my-auto"},W1o={key:1,class:"d-flex justify-content-between"},K1o={class:"fw-light my-auto"},G1o={class:"fw-bold mx-2 my-auto"},Q1o={class:"mb-3"},Z1o={key:0,class:"d-flex justify-content-between"},J1o={class:"my-auto fw-light"},X1o=["data-bs-target"],ebo={class:"d-flex justify-content-between"},tbo={class:"my-auto fw-light"},obo={class:"fw-bold mx-2 my-auto"},abo={class:"d-flex justify-content-between"},nbo={class:"my-auto fw-light"},sbo={class:"fw-bold mx-2 my-auto"},lbo={class:"d-flex justify-content-between"},ibo={class:"my-auto fw-light"},rbo={class:"fw-bold mx-2 my-auto"},dbo={class:"d-flex justify-content-between"},cbo={class:"my-auto fw-light"},ubo={class:"fw-bold mx-2 my-auto"},_bo={class:"d-flex justify-content-between"},mbo={class:"my-auto fw-light"},fbo={class:"fw-bold text-success mx-2 my-auto"},hbo={class:"d-flex justify-content-between"},pbo={class:"my-auto fw-light"},vbo={class:"fw-bold mx-2 my-auto"},gbo={class:"d-flex justify-content-between"},bbo={class:"my-auto fw-light"},ybo={class:"fw-bold mx-2 my-auto"},kbo={class:"table-responsive"},$bo={class:"table"},wbo={class:"bg-label-primary"},Dbo={class:"px-2"},Cbo={class:"d-flex justify-content-end"},xbo={class:"mx-2 my-auto"},Pbo={class:"text-success my-auto"},Ebo={key:0,class:"px-2"},Abo={class:"mx-2 my-auto"},Ibo={class:"text-success my-auto"},Rbo={key:1,class:"px-2"},Sbo={class:"d-flex justify-content-end"},Tbo={class:"mx-2 my-auto"},jbo={class:"bg-label-secondary px-2"},Obo={class:"d-flex justify-content-end"},Mbo={class:"mx-2 my-auto py-1"},Lbo={class:"text-success my-auto py-1"},Nbo=["id"],Fbo={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Ybo={class:"modal-content"},Vbo={class:"modal-header"},Bbo={class:"modal-title",id:"modalCenterTitle"},Ubo={class:"d-flex gap-1"},qbo=["data-bs-target"],Hbo=["href"],zbo={class:"modal-body"},Wbo={class:"d-flex justify-content-between mb-4"},Kbo={class:"mb-3"},Gbo={class:"d-flex justify-content-between"},Qbo={class:"fw-light my-auto"},Zbo={class:"fw-bold mx-2 my-auto"},Jbo={class:"d-flex justify-content-between"},Xbo={class:"fw-light my-auto"},eyo={class:"fw-bold mx-2 my-auto"},tyo={class:"d-flex justify-content-between"},oyo={class:"fw-light my-auto"},ayo={class:"fw-bold mx-2 my-auto"},nyo={class:"d-flex justify-content-between"},syo={class:"fw-light my-auto"},lyo={class:"fw-bold mx-2 my-auto"},iyo={class:"d-flex justify-content-between"},ryo={class:"fw-light my-auto"},dyo={class:"fw-bold mx-2 my-auto"},cyo={key:0,class:"d-flex justify-content-between"},uyo={class:"fw-light my-auto"},_yo={class:"fw-bold mx-2 my-auto"},myo={key:1,class:"d-flex justify-content-between"},fyo={class:"fw-light my-auto"},hyo={class:"fw-bold mx-2 my-auto"},pyo={class:"mb-3"},vyo={key:0,class:"d-flex justify-content-between"},gyo={class:"my-auto fw-light"},byo=["data-bs-target"],yyo={class:"d-flex justify-content-between"},kyo={class:"my-auto fw-light"},$yo={class:"fw-bold mx-2 my-auto"},wyo={class:"d-flex justify-content-between"},Dyo={class:"my-auto fw-light"},Cyo={class:"fw-bold mx-2 my-auto"},xyo={class:"d-flex justify-content-between"},Pyo={class:"my-auto fw-light"},Eyo={class:"fw-bold mx-2 my-auto"},Ayo={class:"d-flex justify-content-between"},Iyo={class:"my-auto fw-light"},Ryo={class:"fw-bold mx-2 my-auto"},Syo={class:"d-flex justify-content-between"},Tyo={class:"my-auto fw-light"},jyo={class:"fw-bold text-success mx-2 my-auto"},Oyo={class:"d-flex justify-content-between"},Myo={class:"my-auto fw-light"},Lyo={class:"fw-bold mx-2 my-auto"},Nyo={class:"d-flex justify-content-between"},Fyo={class:"my-auto fw-light"},Yyo={class:"fw-bold mx-2 my-auto"},Vyo={class:"table-responsive"},Byo={class:"table"},Uyo={class:"bg-label-primary"},qyo={class:"px-2"},Hyo={class:"d-flex justify-content-end"},zyo={class:"mx-2 my-auto"},Wyo={class:"text-success my-auto"},Kyo={key:0,class:"px-2"},Gyo={class:"mx-2 my-auto"},Qyo={class:"text-success my-auto"},Zyo={key:1,class:"px-2"},Jyo={class:"d-flex justify-content-end"},Xyo={class:"mx-2 my-auto"},e0o={key:2,class:"px-2"},t0o={class:"mx-2 my-auto py-1"},o0o={key:0,class:"text-success my-auto py-1"},a0o={key:1,class:"text-success my-auto py-1"},n0o={key:3,class:"px-2"},s0o={class:"d-flex justify-content-end"},l0o={class:"mx-2 my-auto py-1"},i0o={class:"d-flex justify-content-end"},r0o={class:"mx-2 my-auto py-1"},d0o={class:"d-flex justify-content-end"},c0o={class:"mx-2 my-auto py-1"},u0o={class:"bg-label-secondary px-2"},_0o={class:"d-flex justify-content-end"},m0o={class:"mx-2 my-auto py-1"},f0o={class:"text-success my-auto py-1"},h0o={class:"text-nowrap"},p0o={class:"text-success"},v0o={class:"text-success"},g0o={class:"text-success"},b0o={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},y0o={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},k0o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},$0o={class:"modal-content"},w0o={class:"modal-header"},D0o={class:"modal-title",id:"modalCenterTitle"},C0o={class:"modal-body"},x0o={class:"d-flex justify-content-between"},P0o={key:0},E0o={key:1,src:At,style:{width:"1.3rem"}},A0o={for:"Request Date",class:"form-label"},I0o={class:"modal-footer"},R0o={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},S0o={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},T0o={class:"modal-dialog modal-lg",role:"document"},j0o={class:"modal-content"},O0o={class:"modal-header"},M0o={class:"modal-title",id:"modalCenterTitle"},L0o={class:"modal-body"},N0o={key:0},F0o={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},Y0o=["innerHTML"],V0o={key:2,href:"planner/invoices/terms/dealer_financing/download",target:"_blank"},B0o={class:"modal-footer d-flex justify-content-between"},U0o={class:"mt-4"},q0o=["href"],H0o={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},z0o=["disabled"],W0o={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},K0o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},G0o={class:"modal-content"},Q0o={class:"modal-header"},Z0o={class:"modal-title",id:"modalCenterTitle"},J0o={class:"modal-body"},X0o={class:"fw-bold"},e2o={class:"modal-footer"},t2o={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function o2o(o,a,s,t,c,m){const _=de("pagination"),l=de("flat-pickr"),r=de("upload-attachment");return u(),f("div",Xpo,[e("div",evo,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)]),e("div",tvo,[e("div",ovo,[e("div",avo,[e("div",nvo,[e("label",svo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",lvo,[e("label",ivo,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",rvo,[e("label",dvo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[18]||(a[18]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",cvo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[19]||(a[19]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",uvo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[20]||(a[20]=[e("i",{class:"ti ti-refresh eligible-refresh"},null,-1)]))])]),e("div",_vo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",mvo,[e("table",fvo,[e("thead",null,[e("tr",hvo,[t.can_request?(u(),f("th",pvo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=i=>t.selectAll())},null,32)])):b("",!0),t.can_request?(u(),f("th",vvo,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=i=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Eligible Amount")),1),t.can_request?(u(),f("th",gvo,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",bvo,[t.invoices.data?b("",!0):(u(),f("tr",yvo,[e("td",kvo,[e("span",$vo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",wvo,[e("td",Dvo,[e("span",Cvo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[t.can_request&&i.payment_requests<=0?(u(),f("div",xvo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+i.id,onChange:d=>t.updateSelected(i)},null,40,Pvo)])):b("",!0)]),t.can_request?(u(),f("td",Evo)):b("",!0),e("td",{class:"text-decoration-underline text-primary",onClick:d=>t.showInvoice(i.id,"show-planner-pi-"+i.id)},[e("a",Ivo,n(i.invoice_number),1)],8,Avo),e("td",Rvo,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",Svo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",Tvo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",jvo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.eligible_for_finance.toFixed(2))),1)]),t.can_request?(u(),f("td",Ovo,[i.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:d=>t.showModal(i.id,"show-request-financing-btn-"+i.id)},null,8,Mvo)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+i.id},null,8,Lvo),e("button",{class:"d-none",id:"show-request-financing-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+i.id},null,8,Nvo),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Fvo,[e("div",Yvo,[e("div",Vvo,[e("div",Bvo,[e("div",Uvo,[e("span",null,n(o.$t("Loading"))+"...",1),a[22]||(a[22]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Hvo,[e("div",zvo,[e("div",Wvo,[e("h5",Kvo,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Gvo,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",Qvo,[e("div",Zvo,[e("div",Jvo,[e("label",Xvo,n(o.$t("Invoice Amount")),1),e("h6",ego,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",tgo,[e("label",ogo,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",ago,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",ngo,[e("label",sgo,n(o.$t("PI Amount")),1),e("h6",lgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",igo,[e("div",rgo,[e("label",dgo,n(o.$t("Eligible Amount")),1),e("h6",cgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)]),e("div",ugo,[e("label",_go,n(o.$t("Eligible For Finance")),1),e("h6",mgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",fgo,n(o.$t("Step 2"))+": "+n(o.$t("Select Payment Date")),1),e("div",hgo,[e("div",pgo,[e("div",vgo,[e("label",ggo,n(o.$t("Payment Date")),1),e("h6",bgo,n(t.payment_date),1)]),e("div",ygo,[e("label",kgo,n(o.$t("Discount Charge"))+"(%)",1),e("div",$go,[(u(!0),f(W,null,X(t.invoice_details.vendor_discount_details,d=>(u(),f("div",{key:d.id},[e("h6",wgo,n(d.from_day)+" - "+n(d.to_day)+" days: "+n(d.total_roi)+"% ",1)]))),128))])]),(u(!0),f(W,null,X(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,Dgo),e("h6",Cgo,n(d[1]),1)]))),128)),e("div",xgo,[e("label",Pgo,n(o.$t("Total Fees")),1),e("h6",Ego,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",Ago,[e("label",Igo,n(o.$t("Tax On Fees ")),1),e("h6",Rgo,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])]),e("div",Sgo,[e("div",Tgo,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=d=>t.request_payment_date=d),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])])]),e("h5",jgo,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",Ogo,[e("div",Mgo,[e("div",Lgo,[e("label",Ngo,n(o.$t("Payment Date")),1),e("h6",Fgo,n(t.payment_date),1)]),e("div",Ygo,[e("label",Vgo,n(o.$t("Eligible Amount")),1),e("h6",Bgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),e("div",Ugo,[e("label",qgo,n(o.$t("Eligible Amount in Words")),1),e("h6",Hgo,n(t.invoice_amount_in_words),1)]),e("div",zgo,[e("label",Wgo,n(o.$t("Request Amount"))+" ("+n(t.invoice_details.currency)+")",1),Y(e("input",{class:"form-control w-50 my-2",type:"text","onUpdate:modelValue":a[10]||(a[10]=d=>t.drawdown_amount=d),onBlur:a[11]||(a[11]=(...d)=>t.formatAmount&&t.formatAmount(...d))},null,544),[[Q,t.drawdown_amount]])]),e("div",Kgo,[e("label",Ggo,n(o.$t("Request Amount In Words")),1),Y(e("input",{class:"form-control w-50 my-2",type:"text","onUpdate:modelValue":a[12]||(a[12]=d=>t.drawdown_amount_in_words=d)},null,512),[[Q,t.drawdown_amount_in_words]])])])])]),e("div",Qgo,[e("button",Zgo,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+i.id,onClick:a[13]||(a[13]=d=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,Jgo)])])])],8,qvo)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+i.id,"aria-hidden":"true"},[e("div",e1o,[e("div",t1o,[e("div",o1o,[e("h5",a1o,n(o.$t("Request Finance")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",n1o,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",s1o,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",l1o,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,i1o)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",r1o,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",d1o,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",c1o,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,u1o)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"planner/invoices/"+i.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,_1o)):b("",!0)]),e("div",m1o,[e("small",f1o,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,h1o)]),e("div",null,[e("button",p1o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[14]||(a[14]=(...d)=>t.requestFinance&&t.requestFinance(...d)),disabled:!t.can_submit},n(o.$t("Submit")),9,v1o)])])])])],8,Xgo)])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cash-planner-invoice-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",b1o,[e("div",y1o,[e("div",k1o,[e("h5",$1o,n(o.$t("Invoice Details")),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",w1o,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,D1o)]),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[26]||(a[26]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,C1o)])]),e("div",x1o,[e("div",P1o,[e("div",E1o,[e("span",A1o,[e("h5",I1o,n(o.$t("Anchor"))+":",1),e("h6",R1o,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",S1o,[e("h5",T1o,n(o.$t("Delivery Address"))+":",1),e("h6",j1o,n(t.invoice_details.delivery_address),1)]),e("span",O1o,[e("h5",M1o,n(o.$t("Debit From"))+":",1),e("h6",L1o,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",N1o,[e("h5",F1o,n(o.$t("Vendor"))+":",1),e("h6",Y1o,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",V1o,[e("h5",B1o,n(o.$t("Remarks"))+":",1),e("h6",U1o,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",q1o,[e("h5",H1o,n(o.$t("Credit To"))+":",1),e("h6",z1o,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",W1o,[e("h5",K1o,n(o.$t("Rejection Reason"))+":",1),e("h6",G1o,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Q1o,[t.invoice_details.pi_number?(u(),f("span",Z1o,[e("h5",J1o,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,X1o)])):b("",!0),e("span",ebo,[e("h5",tbo,n(o.$t("Invoice No."))+":",1),e("h6",obo,n(t.invoice_details.invoice_number),1)]),e("span",abo,[e("h5",nbo,n(o.$t("PO No."))+":",1),e("h6",sbo,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",lbo,[e("h5",ibo,n(o.$t("Payment / OD Account No."))+":",1),e("h6",rbo,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",dbo,[e("h5",cbo,n(o.$t("Invoice Date."))+":",1),e("h6",ubo,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",_bo,[e("h5",mbo,n(o.$t("Amount"))+":",1),e("h6",fbo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",hbo,[e("h5",pbo,n(o.$t("Status."))+":",1),e("h6",vbo,n(t.invoice_details.approval_stage),1)]),e("span",gbo,[e("h5",bbo,n(o.$t("Due Date"))+":",1),e("h6",ybo,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",kbo,[e("table",$bo,[e("thead",wbo,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Dbo,[e("span",Cbo,[e("h6",xbo,n(o.$t("Discount"))+":",1),e("h5",Pbo,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Ebo,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",Abo,n(d.name),1),e("h5",Ibo,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",Rbo,[e("span",Sbo,[e("h6",Tbo,n(o.$t("Tax")),1),a[28]||(a[28]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",jbo,[e("span",Obo,[e("h6",Mbo,n(o.$t("Total")),1),e("h5",Lbo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,g1o)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-pi-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Fbo,[e("div",Ybo,[e("div",Vbo,[e("h5",Bbo,n(o.$t("Invoice Details")),1),a[30]||(a[30]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Ubo,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,qbo)]),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[29]||(a[29]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Hbo)])]),e("div",zbo,[e("div",Wbo,[e("div",Kbo,[e("span",Gbo,[e("h5",Qbo,n(o.$t("Anchor"))+":",1),e("h6",Zbo,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",Jbo,[e("h5",Xbo,n(o.$t("Delivery Address"))+":",1),e("h6",eyo,n(t.invoice_details.delivery_address),1)]),e("span",tyo,[e("h5",oyo,n(o.$t("Debit From"))+":",1),e("h6",ayo,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",nyo,[e("h5",syo,n(o.$t("Vendor"))+":",1),e("h6",lyo,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",iyo,[e("h5",ryo,n(o.$t("Remarks"))+":",1),e("h6",dyo,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",cyo,[e("h5",uyo,n(o.$t("Credit To"))+":",1),e("h6",_yo,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",myo,[e("h5",fyo,n(o.$t("Rejection Reason"))+":",1),e("h6",hyo,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",pyo,[t.invoice_details.pi_number?(u(),f("span",vyo,[e("h5",gyo,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,byo)])):b("",!0),e("span",yyo,[e("h5",kyo,n(o.$t("PI No."))+":",1),e("h6",$yo,n(t.invoice_details.pi_number),1)]),e("span",wyo,[e("h5",Dyo,n(o.$t("PO No."))+":",1),e("h6",Cyo,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",xyo,[e("h5",Pyo,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Eyo,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Ayo,[e("h5",Iyo,n(o.$t("Invoice Date."))+":",1),e("h6",Ryo,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Syo,[e("h5",Tyo,n(o.$t("Amount"))+":",1),e("h6",jyo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Oyo,[e("h5",Myo,n(o.$t("Status."))+":",1),e("h6",Lyo,n(t.invoice_details.approval_stage),1)]),e("span",Nyo,[e("h5",Fyo,n(o.$t("Due Date"))+":",1),e("h6",Yyo,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Vyo,[e("table",Byo,[e("thead",Uyo,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])]),e("div",qyo,[e("span",Hyo,[e("h6",zyo,n(o.$t("Discount"))+":",1),e("h5",Wyo,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Kyo,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",Gyo,n(d.name),1),e("h5",Qyo,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",Zyo,[e("span",Jyo,[e("h6",Xyo,n(o.$t("Tax")),1),a[31]||(a[31]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",e0o,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",t0o,n(d.name),1),d.name!="Credit Note Amount"&&d.name!="Credit Note"&&d.name!="Credit Amount"?(u(),f("h5",o0o," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",a0o,n(d.amount),1))]))),128))])):(u(),f("div",n0o,[e("span",s0o,[e("h6",l0o,n(o.$t("WHT Tax"))+":",1),a[32]||(a[32]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",i0o,[e("h6",r0o,n(o.$t("WHT VAT"))+":",1),a[33]||(a[33]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",d0o,[e("h6",c0o,n(o.$t("Credit Note Amount"))+":",1),a[34]||(a[34]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",u0o,[e("span",_0o,[e("h6",m0o,n(o.$t("Total")),1),e("h5",f0o,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,Nbo)):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)]))),128))]),e("tfoot",h0o,[e("tr",null,[a[35]||(a[35]=e("td",null,null,-1)),a[36]||(a[36]=e("td",null,null,-1)),a[37]||(a[37]=e("td",null,null,-1)),a[38]||(a[38]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",p0o,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",v0o,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",g0o,n(new Intl.NumberFormat().format(t.total_eligible_amount.toFixed(2))),1)]),a[39]||(a[39]=e("td",null,null,-1))])])])]),e("button",b0o,null,512),e("div",y0o,[e("div",k0o,[e("div",$0o,[e("div",w0o,[e("h5",D0o,n(o.$t("Request Finance")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",C0o,[e("div",x0o,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",E0o)):(u(),f("span",P0o,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("label",A0o,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[15]||(a[15]=i=>t.bulk_request_payment_date=i),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",I0o,[e("button",R0o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[16]||(a[16]=i=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",S0o,[e("div",T0o,[e("div",j0o,[e("div",O0o,[e("h5",M0o,n(o.$t("Request Finance")),1),a[41]||(a[41]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",L0o,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",N0o,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",F0o,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,Y0o)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",V0o,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",B0o,[e("small",U0o,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"planner/invoices/terms/dealer_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,q0o)]),e("div",null,[e("button",H0o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[17]||(a[17]=(...i)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...i)),disabled:!t.can_submit},n(o.$t("Accept")),9,z0o)])])])])]),a[43]||(a[43]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",W0o,[e("div",K0o,[e("div",G0o,[e("div",Q0o,[e("h5",Z0o,n(o.$t("Request for Finance successful")),1)]),e("div",J0o,[a[42]||(a[42]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",X0o,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",e2o,[e("button",t2o,n(o.$t("Close")),1)])])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const a2o=Ue(Jpo,[["render",o2o]]),n2o={name:"EligibleInvoices",components:{Pagination:za,flatPickr:jl,DatePicker:gi},setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=h(null),m=h(0),_=h(0),l=h(new Date().toLocaleDateString("en-CA")),r=h(""),i=h(""),d=h(H().format("DD MMM YYYY")),p=h(H().format("DD MMM YYYY")),v=h(new Date().toLocaleDateString("en-CA")),g=h(new Date().toLocaleDateString("en-CA"));h(1);const D=h(0),y=h(1),C=h(0),x=h(0),E=h(0),k=h(0),w=h(0),T=h(0),V=h(0),B=h(0),O=h(0),L=h(0),R=h(0),P=h(0),I=h(0),S=h(0),F=h(0),N=h(0);h([]),h(0);const U=h(0),Z=h(0);h(0);const ce=h(""),ae=h(!1),J=h(!1),z=h(0),ne=h(""),xe=h(""),Fe=h(0),he=h(0),ie=h(0),$e=h(0),we=h(!1),se=h([]),ge=h(!1),be=h(""),Me=h(""),ue=h(""),Oe=h(""),ze=h(""),Ye=h(0),ve=h(0),_e=h(0),Se=h(0),Ve=h({inline:!0}),ke=h({inline:!0}),ee=h([]),Ce=h(0),Ne=h(0),Ie=h(""),oe=h(""),me=h(""),Le=h(""),Ze=h(""),at=h([]),mt=h([]),wt=h(50),Ot=h(!1),Jt=h([]),ut=h([]),gt=h(null),Vt=h(null),pt=h(new Date);ot([wt],async([_t])=>{await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:_t}}).then(tt=>{Fe.value=0,he.value=0,ie.value=0,$e.value=0,s.value=tt.data.invoices})});const Et=async()=>{Ze.value=$("#non_eligible_date_search").val(),Ze.value&&(oe.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),me.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let _t=$(".non-eligible-filter").parent();_t.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{anchor:Le.value,invoice_number:Ie.value,from_date:oe.value,to_date:me.value,per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices,_t.html('<i class="ti ti-search non-eligible-filter"></i>')})},Dt=async()=>{let _t=$(".non-eligible-refresh").parent();_t.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ie.value="",oe.value="",me.value="",Ze.value="",$("#non_eligible_date_search").val(""),await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices,_t.html('<i class="ti ti-refresh non-eligible-refresh"></i>')})},Ft=async(_t,tt)=>{document.getElementById("pending-loading-modal-btn-"+_t).click(),await A.get(t+"invoices/"+_t+"/details").then(pe=>{c.value=pe.data,bt(()=>{document.getElementById("pending-close-loading-modal-btn-"+_t).click(),document.getElementById(tt).click()})}).catch(pe=>{console.log(pe)})},Kt=async(_t,tt)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+_t+"/details").then(pe=>{ee.value=[],Ce.value=0,Ne.value=0,c.value=pe.data,N.value=c.value.due_date,x.value=0,c.value.invoice_items.forEach(jt=>{x.value+=jt.quantity*jt.price_per_quantity}),E.value=0,c.value.invoice_taxes.forEach(jt=>{E.value+=jt.value}),k.value=0,c.value.invoice_fees.forEach(jt=>{k.value+=jt.amount}),w.value=0,c.value.invoice_discounts.forEach(jt=>{jt.type=="percentage"?_.value+=jt.value/100*(x.value+E.value):_.value+=jt.value}),x.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_discount,T.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,R.value=H(c.value.due_date).diff(H(),"days")+1,V.value=c.value.vendor_configurations.eligibility,B.value=c.value.invoice_total_amount,O.value=V.value/100*c.value.invoice_total_amount,ne.value=it(O.value.toFixed(2)),P.value=c.value.vendor_discount_details.total_roi;let Re=0,vt=0;c.value.vendor_fee_details.forEach((jt,Mn)=>{jt.type=="percentage"&&(Re+=jt.value/100*O.value,jt.vendor_bearing_discount>0&&ee.value.push([jt.fee_name,jt.value+"%"]),jt.taxes&&(vt+=jt.taxes/100*(jt.value/100*O.value))),jt.type=="amount"&&(Re+=jt.value,jt.vendor_bearing_discount>0&&ee.value.push([jt.fee_name,c.value.currency+" "+jt.value]),jt.taxes&&(vt+=jt.taxes/100*(jt.vendor_bearing_discount/100*jt.value))),jt.type=="per amount"&&(Re+=Math.round(O.value/jt.per_amount)*jt.value,jt.vendor_bearing_discount>0&&ee.value.push([jt.fee_name,jt.value+" P.Am "+c.value.currency+" "+jt.per_amount]),jt.taxes&&(vt+=jt.taxes/100*(Math.round(O.value/jt.per_amount)*jt.value)))}),Ce.value+=Re,Ne.value+=vt,S.value=O.value-Ce.value-Ne.value,F.value=c.value.program.min_financing_days,xe.value=it(0);let Rt=0;c.value.vendor_discount_details.forEach(jt=>{jt.to_day>Rt&&(Rt=jt.to_day)}),r.value=H().add(Rt,"days").format("DD MMM YYYY");let eo=[function(jt){return mt.value.includes(jt.getDay())}];gt.value=new Date(r.value),mt.value.forEach(jt=>{ut.value.push(jt)}),at.value.forEach(jt=>{eo.push('"'+jt+'"'),Jt.value.push(new Date(jt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:eo},v.value=H().add(Rt,"days").format("DD MMM YYYY"),d.value=H().add(Rt,"days").format("DD MMM YYYY"),J.value=!0,bt(()=>{document.getElementById(tt).click()})}).catch(pe=>{console.log(pe)})};ot(z,_t=>{xe.value=it(_t.replaceAll(",","")),_t.replaceAll(",","")>0&&_t.replaceAll(",","")<=O.value?we.value=!0:we.value=!1});const ro=()=>{z.value&&(z.value=new Intl.NumberFormat().format(z.value.replaceAll(",","")))},Pe=(_t,tt,pe)=>{tt!=""&&(p.value=H(tt).format("DD MMM YYYY"),g.value=H(tt).format("DD MMM YYYY"))},Te=()=>{if(se.value.length<=0)return a.error("Select Payment Instructions"),!1;g.value=new Date().toLocaleDateString("en-CA");let _t=[function(tt){return mt.value.includes(tt.getDay())}];Vt.value=new Date(i.value),mt.value.forEach(tt=>{ut.value.push(tt)}),at.value.forEach(tt=>{_t.push('"'+tt+'"'),Jt.value.push(new Date(tt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:_t},Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ve.value=0,A.post(t+"invoices/remittance/amount",{invoices:se.value,date:g.value}).then(tt=>{_e.value=tt.data.total_amount,Ot.value=!1}),ge.value.click()},Ge=_t=>{let tt="";switch(_t){case"created":tt="bg-label-primary";break;case"paid":tt="bg-label-success";break;case"failed":tt="bg-label-danger";break;default:tt="bg-label-primary";break}return tt},nt=async()=>{await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:wt.value}}).then(_t=>{s.value=_t.data.invoices}).catch(_t=>{console.log(_t)})},yt=(_t,tt,pe)=>{d.value=H(tt).format("DD MMM YYYY")},Ct=async()=>{we.value=!1,await A.post(t+"cash-planner/invoices/request/send",{invoice_id:c.value.id,payment_date:d.value,drawdown_amount:z.value}).then(_t=>{a.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(_t=>{console.log(_t),we.value=!0,_t.response.data&&_t.response.data.message?a.error(_t.response.data.message):a.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{we.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const _t=new FormData;se.value.forEach(tt=>{_t.append("invoices[]",tt.id)}),_t.append("payment_request_date",p.value),await A.post(t+"cash-planner/invoices/request/multiple/send",_t).then(tt=>{a.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),se.value=[],_e.value=0,Se.value=0,nt()}).catch(tt=>{console.log(tt),we.value=!0,tt.response.data&&tt.response.data.message?a.error(tt.response.data.message):a.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(_t,tt)=>(tt/_t*100).toFixed(2);Qe(()=>{nt()});const Gt=async _t=>{await A.get(_t,{params:{anchor:Le.value,invoice_number:Ie.value,from_date:oe.value,to_date:me.value,per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices})},ct=_t=>{let tt=se.value.findIndex(pe=>pe.id==_t.id);if(tt==-1?se.value.push(_t):se.value.splice(tt,1),se.value.length==s.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,se.value.length>0){let pe=se.value[0].due_date,Re=se.value[0].min_financing_days;se.value.forEach(vt=>{H(vt.due_date).isBefore(pe)&&(pe=H(vt.due_date)),vt.min_financing_days<Re&&(Re=vt.min_financing_days)}),r.value=H(pe).subtract(Re,"days").format("DD MMM YYYY"),Vt.value=new Date(r.value),Ve.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:[function(vt){return vt.getDay()===0||vt.getDay()===6}]}}},Ht=()=>{document.getElementById("select-all").checked?s.value.data.forEach(_t=>{document.getElementById("invoice-"+_t.id).checked=!0,se.value.push(_t)}):s.value.data.forEach(_t=>{if(document.getElementById("invoice-"+_t.id).checked==!0){document.getElementById("invoice-"+_t.id).checked=!1;let tt;if(!se.value.filter(function(Re,vt){tt=vt,Re.id==_t.id}))return!1;se.value.splice(tt,1)}})},kt=()=>{we.value=!we.value},dt=_t=>{let tt="";Oe.value&&(tt=Oe.value.body,tt=tt.replace("{date}",H(_t.invoice_date).format("Do MMM YYYY")),tt=tt.replace("{buyerName}",_t.program.anchor.name),tt=tt.replace("{anchorName}",_t.program.anchor.name),tt=tt.replace("{company}",_t.company.name),tt=tt.replace("{anchorCompanyUniqueID}",_t.program.anchor.unique_identification_number),tt=tt.replace("{time}",H().format("Do MMM YYYY")),tt=tt.replace("{agreementDate}",H().format("Do MMM YYYY")),tt=tt.replace("{contract},",""),tt=tt.replace("{anchorAccountName},",""),tt=tt.replace("{anchorAccountNumber},",""),tt=tt.replace("{anchorCustomerId},",""),tt=tt.replace("{anchorBranch},",""),tt=tt.replace("{anchorIFSCCode},",""),tt=tt.replace("{anchorAddress},",""),tt=tt.replace("{penalnterestRate},",""),tt=tt.replace("{sellerName}",_t.company.name),Oe.value.body=tt)};var je=["","Thousand","Million","Billion","Trillion"],ye=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],He=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],Nt=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function it(_t){if(_t=_t.toString(),_t=_t.replace(/[\, ]/g,""),_t!=parseFloat(_t))return"Not a Number";var tt=_t.indexOf(".");if(tt==-1&&(tt=_t.length),tt>15)return"Too Big";for(var pe=_t.split(""),Re="",vt=0,Rt=0;Rt<tt;Rt++)(tt-Rt)%3==2?pe[Rt]=="1"?(Re+=He[Number(pe[Rt+1])]+" ",Rt++,vt=1):pe[Rt]!=0&&(Re+=Nt[pe[Rt]-2]+" ",vt=1):pe[Rt]!=0&&(Re+=ye[pe[Rt]]+" ",(tt-Rt)%3==0&&(Re+="Hundred "),vt=1),(tt-Rt)%3==1&&(vt&&(Re+=je[(tt-Rt-1)/3]+" "),vt=0);if(tt!=_t.length){var eo=_t.length;Re+="point ";for(var Rt=tt+1;Rt<eo;Rt++)Re+=ye[pe[Rt]]+" "}return Re.replace(/\s+/g," ")}return{config:Ve,config2:ke,moment:H,max_date:r,min_date:l,eligibility_amount:m,pi_amount:U,discount_amount:_,days_to_payment:y,total_remittance:C,processing_fee_amount:D,invoices:s,payment_date:d,request_payment_date:v,bulk_request_payment_date:g,credit_to:ce,taxes_amount:Z,payment_account:ae,vendor_fee_details:ee,total_fees:Ce,total_tax_on_fees:Ne,tax_on_discount:Ye,tax_on_discount_amount:ve,invoice_total_amount:x,invoice_taxes_amount:E,invoice_fees_amount:k,invoice_eligibility_percentage:V,invoice_eligibility_amount:B,invoice_eligibility_for_finance:O,invoice_discount_amount:L,invoice_days_to_payment:R,invoice_business_spread:P,invoice_processing_fee:I,invoice_min_financing_days:F,invoice_due_date:N,invoice_total_remmitance:S,drawdown_amount:z,invoice_amount_in_words:ne,drawdown_amount_in_words:xe,bulk_invoice_remittance:Se,resolvePaymentRequestStatus:Ge,formatAmount:ro,total_invoice_amount:Fe,total_pi_amount:he,total_eligible_amount:ie,total_actual_remittance:$e,can_submit:we,selected_invoices:se,show_multiple_request_modal:ge,show_terms_button:be,terms_and_conditions_link:Me,noa_text:Oe,noa_link:ue,terms_text:ze,selected_invoices_total_amount:_e,updateBulkDiscount:Pe,bulk_data_loading:Ot,anchor_search:Le,invoice_number_search:Ie,from_date_search:oe,to_date_search:me,date_search:Ze,per_page:wt,formatNoa:dt,prime_disabled_dates:Jt,prime_disabled_days:ut,prime_max_date:gt,prime_min_date:pt,prime_bulk_max_date:Vt,changePage:Gt,updateDiscount:yt,showModal:Kt,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:Ct,invoice_details:c,viewRequestDetails:J,getTaxPercentage:Tt,updateSelected:ct,selectAll:Ht,acceptTerms:kt,filter:Et,refresh:Dt,showInvoice:Ft}}},s2o={class:"card"},l2o={class:"card-header"},i2o={class:"card-body"},r2o={class:"d-flex justify-content-between"},d2o={class:"d-flex flex-wrap"},c2o={class:"mb-1"},u2o={for:"Anchor",class:"form-label"},_2o={class:"mx-1"},m2o={for:"Invoice No.",class:"form-label"},f2o={class:"mx-1"},h2o={class:"form-label",for:""},p2o={class:"mx-1 my-auto"},v2o={class:"mx-1 my-auto"},g2o={class:"d-flex mx-2",style:{height:"fit-content"}},b2o={class:"table-responsive"},y2o={class:"table invoices-table"},k2o={class:""},$2o={class:"invoices-table-content"},w2o={key:0},D2o={colspan:"12",class:"text-center"},C2o={class:"text-center"},x2o={key:1},P2o={colspan:"12",class:"text-center"},E2o={class:"text-center"},A2o=["onClick"],I2o={href:"javascript:;",class:""},R2o={class:""},S2o={class:""},T2o={class:"text-success"},j2o={class:""},O2o=["id","data-bs-target"],M2o=["id","data-bs-target"],L2o=["id"],N2o={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},F2o={class:"modal-content"},Y2o={class:"modal-header"},V2o=["id"],B2o={class:"modal-body"},U2o={class:"d-flex justify-content-center"},q2o=["id"],H2o={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},z2o={class:"modal-content"},W2o={class:"modal-header"},K2o={class:"modal-title",id:"modalCenterTitle"},G2o={class:"d-flex"},Q2o={key:0,class:"d-flex"},Z2o=["href"],J2o=["href"],X2o={class:"modal-body"},eko={class:"d-flex justify-content-between mb-4"},tko={class:"mb-3"},oko={class:"d-flex justify-content-between"},ako={class:"fw-light my-auto"},nko={class:"fw-bold mx-2 my-auto"},sko={class:"d-flex justify-content-between"},lko={class:"fw-light my-auto"},iko={class:"fw-bold mx-2 my-auto"},rko={class:"d-flex justify-content-between"},dko={class:"fw-light my-auto"},cko={class:"fw-bold mx-2 my-auto"},uko={class:"d-flex justify-content-between"},_ko={class:"fw-light my-auto"},mko={class:"fw-bold mx-2 my-auto"},fko={class:"d-flex justify-content-between"},hko={class:"fw-light my-auto"},pko={class:"fw-bold mx-2 my-auto"},vko={key:0,class:"d-flex justify-content-between"},gko={class:"fw-light my-auto"},bko={class:"fw-bold mx-2 my-auto"},yko={key:1,class:"d-flex justify-content-between"},kko={class:"fw-light my-auto"},$ko={class:"fw-bold mx-2 my-auto"},wko={class:"mb-3"},Dko={key:0,class:"d-flex justify-content-between"},Cko={class:"my-auto fw-light"},xko=["data-bs-target"],Pko={class:"d-flex justify-content-between"},Eko={class:"my-auto fw-light"},Ako={class:"fw-bold mx-2 my-auto"},Iko={class:"d-flex justify-content-between"},Rko={class:"my-auto fw-light"},Sko={class:"fw-bold mx-2 my-auto"},Tko={class:"d-flex justify-content-between"},jko={class:"my-auto fw-light"},Oko={class:"fw-bold mx-2 my-auto"},Mko={class:"d-flex justify-content-between"},Lko={class:"my-auto fw-light"},Nko={class:"fw-bold mx-2 my-auto"},Fko={class:"d-flex justify-content-between"},Yko={class:"my-auto fw-light"},Vko={class:"fw-bold text-success mx-2 my-auto"},Bko={class:"d-flex justify-content-between"},Uko={class:"my-auto fw-light"},qko={class:"fw-bold mx-2 my-auto"},Hko={class:"d-flex justify-content-between"},zko={class:"my-auto fw-light"},Wko={class:"fw-bold mx-2 my-auto"},Kko={class:"table-responsive"},Gko={class:"table"},Qko={class:"bg-label-primary"},Zko={class:"px-2"},Jko={class:"d-flex justify-content-end"},Xko={class:"mx-2 my-auto"},e$o={class:"text-success my-auto"},t$o={key:0,class:"px-2"},o$o={class:"mx-2 my-auto"},a$o={class:"text-success my-auto"},n$o={key:1,class:"px-2"},s$o={class:"d-flex justify-content-end"},l$o={class:"mx-2 my-auto"},i$o={class:"bg-label-secondary px-2"},r$o={class:"d-flex justify-content-end"},d$o={class:"mx-2 my-auto py-1"},c$o={class:"text-success my-auto py-1"},u$o=["id"],_$o={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},m$o={class:"modal-content"},f$o={class:"modal-header"},h$o={class:"modal-title",id:"modalCenterTitle"},p$o={class:"d-flex"},v$o=["href"],g$o={class:"btn btn-info btn-sm mx-1"},b$o=["href"],y$o={class:"btn btn-warning btn-sm mx-1"},k$o=["href"],$$o=["href"],w$o={class:"modal-body"},D$o={class:"d-flex justify-content-between"},C$o={class:"mb-3"},x$o={class:"d-flex justify-content-between"},P$o={class:"fw-light my-auto"},E$o={class:"fw-bold mx-2 my-auto"},A$o={key:0,class:"d-flex justify-content-between"},I$o={class:"my-auto fw-light"},R$o={class:"fw-bold mx-2 my-auto"},S$o={class:"d-flex justify-content-between"},T$o={class:"fw-light my-auto"},j$o={class:"fw-bold mx-2 my-auto"},O$o={class:"mb-3"},M$o={class:"d-flex justify-content-between"},L$o={class:"my-auto fw-light"},N$o=["data-bs-target"],F$o={href:"javascript:;",class:""},Y$o={class:"d-flex justify-content-between"},V$o={class:"my-auto fw-light"},B$o={class:"fw-bold text-success mx-2 my-auto"},U$o={class:"d-flex justify-content-between"},q$o={class:"my-auto fw-light"},H$o={class:"fw-bold mx-2 my-auto"},z$o={class:"table-responsive"},W$o={class:"table"},K$o={style:{background:"#f0f0f0"}},G$o={key:0,class:"px-2"},Q$o={class:"d-flex justify-content-end"},Z$o={class:"mx-2 my-auto"},J$o={class:"text-success my-auto"},X$o={key:1,class:"px-2"},ewo={class:"mx-2 my-auto"},two={class:"text-success my-auto"},owo={key:2,class:"px-2"},awo={class:"mx-2 my-auto py-1"},nwo={key:0,class:"text-success my-auto py-1"},swo={key:1,class:"text-success my-auto py-1"},lwo={class:"bg-label-secondary px-2"},iwo={class:"d-flex justify-content-end"},rwo={class:"mx-2 my-auto py-1"},dwo={class:"text-success my-auto py-1"};function cwo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",s2o,[e("div",l2o,[e("h6",null,n(o.$t("Payment Instructions not eligible for Financing")),1)]),e("div",i2o,[e("div",r2o,[e("div",d2o,[e("div",c2o,[e("label",u2o,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",_2o,[e("label",m2o,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",f2o,[e("label",h2o,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[7]||(a[7]=e("input",{type:"text",id:"non_eligible_date_search",class:"form-control form-search",name:"non_eligible_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",p2o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search non-eligible-filter"},null,-1)]))]),e("div",v2o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh non-eligible-refresh"},null,-1)]))])]),e("div",g2o,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",b2o,[e("table",y2o,[e("thead",null,[e("tr",k2o,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",$2o,[t.invoices.data?b("",!0):(u(),f("tr",w2o,[e("td",D2o,[e("span",C2o,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",x2o,[e("td",P2o,[e("span",E2o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary",onClick:r=>t.showInvoice(l.id,"pending-show-planner-pi-"+l.id)},[e("a",I2o,n(l.invoice_number),1)],8,A2o),e("td",R2o,n(l.anchor),1),e("td",S2o,n(t.moment(l.invoice_date).format("DD MMM YYYY")),1),e("td",T2o,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.total+l.total_invoice_taxes-l.total_invoice_discount)),1)]),e("td",j2o,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[e("button",{class:"d-none",id:"pending-show-planner-pi-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pending-cash-planner-pi-"+l.id},null,8,O2o),e("button",{class:"d-none",id:"pending-loading-modal-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal-"+l.id},null,8,M2o),e("div",{class:"modal fade",id:"pending-loading-modal-"+l.id,tabindex:"-1"},[e("div",N2o,[e("div",F2o,[e("div",Y2o,[e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"pending-close-loading-modal-btn-"+l.id,"aria-label":"Close"},null,8,V2o)]),e("div",B2o,[e("div",U2o,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])],8,L2o)]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"pending-cash-planner-invoice-"+l.id,tabindex:"-1"},[e("div",H2o,[e("div",z2o,[e("div",W2o,[e("h5",K2o,n(o.$t("Invoice Details")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",G2o,[t.invoice_details.media.length>0?(u(),f("div",Q2o,[(u(!0),f(W,null,X(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[13]||(a[13]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,Z2o))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[14]||(a[14]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,J2o)])]),e("div",X2o,[e("div",eko,[e("div",tko,[e("span",oko,[e("h5",ako,n(o.$t("Anchor"))+":",1),e("h6",nko,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",sko,[e("h5",lko,n(o.$t("Delivery Address"))+":",1),e("h6",iko,n(t.invoice_details.delivery_address),1)]),e("span",rko,[e("h5",dko,n(o.$t("Debit From"))+":",1),e("h6",cko,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",uko,[e("h5",_ko,n(o.$t("Vendor"))+":",1),e("h6",mko,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",fko,[e("h5",hko,n(o.$t("Remarks"))+":",1),e("h6",pko,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",vko,[e("h5",gko,n(o.$t("Credit To"))+":",1),e("h6",bko,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",yko,[e("h5",kko,n(o.$t("Rejection Reason"))+":",1),e("h6",$ko,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",wko,[t.invoice_details.pi_number?(u(),f("span",Dko,[e("h5",Cko,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,xko)])):b("",!0),e("span",Pko,[e("h5",Eko,n(o.$t("Invoice No."))+":",1),e("h6",Ako,n(t.invoice_details.invoice_number),1)]),e("span",Iko,[e("h5",Rko,n(o.$t("PO No."))+":",1),e("h6",Sko,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Tko,[e("h5",jko,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Oko,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Mko,[e("h5",Lko,n(o.$t("Invoice Date."))+":",1),e("h6",Nko,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Fko,[e("h5",Yko,n(o.$t("Amount"))+":",1),e("h6",Vko,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Bko,[e("h5",Uko,n(o.$t("Status."))+":",1),e("h6",qko,n(t.invoice_details.approval_stage),1)]),e("span",Hko,[e("h5",zko,n(o.$t("Due Date"))+":",1),e("h6",Wko,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Kko,[e("table",Gko,[e("thead",Qko,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",Zko,[e("span",Jko,[e("h6",Xko,n(o.$t("Discount"))+":",1),e("h5",e$o,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",t$o,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",o$o,n(r.name),1),e("h5",a$o,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",n$o,[e("span",s$o,[e("h6",l$o,n(o.$t("Tax")),1),a[16]||(a[16]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",i$o,[e("span",r$o,[e("h6",d$o,n(o.$t("Total")),1),e("h5",c$o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,q2o)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pending-cash-planner-pi-"+l.id,tabindex:"-1"},[e("div",_$o,[e("div",m$o,[e("div",f$o,[e("h5",h$o,n(o.$t("PI Details")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",p$o,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/"+t.invoice_details.id+"/edit"},[e("button",g$o,[a[17]||(a[17]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Edit")),1)])],8,v$o)):b("",!0),t.invoice_details.can_edit?(u(),f("a",{key:1,href:"invoices/create/"+t.invoice_details.id},[e("button",y$o,[a[18]||(a[18]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)])],8,b$o)):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,k$o),t.invoice_details.attachment?(u(),f("a",{key:2,href:t.invoice_details.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,$$o)):b("",!0)])]),e("div",w$o,[e("div",D$o,[e("div",C$o,[e("span",x$o,[e("h5",P$o,n(o.$t("Anchor"))+":",1),e("h6",E$o,n(t.invoice_details.program.anchor.name),1)]),t.invoice_details.purchase_order?(u(),f("span",A$o,[e("h5",I$o,n(o.$t("Delivery Address"))+":",1),e("h6",R$o,n(t.invoice_details.purchase_order.delivery_address),1)])):b("",!0),e("span",S$o,[e("h5",T$o,n(o.$t("Remarks"))+":",1),e("h6",j$o,n(t.invoice_details.remarks),1)])]),e("div",O$o,[e("span",M$o,[e("h5",L$o,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"text-decoration-underline text-primary mx-2 my-auto","data-bs-toggle":"modal","data-bs-target":"#pending-cash-planner-invoice-"+t.invoice_details.id},[e("a",F$o,n(t.invoice_details.invoice_number),1)],8,N$o)]),e("span",Y$o,[e("h5",V$o,n(o.$t("Invoice Amount"))+":",1),e("h6",B$o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",U$o,[e("h5",q$o,n(o.$t("Invoice Due Date"))+":",1),e("h6",H$o,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",z$o,[e("table",W$o,[e("thead",K$o,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length?(u(),f("div",G$o,[e("span",Q$o,[e("h6",Z$o,n(o.$t("Total Invoice Discount")),1),e("h5",J$o,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",X$o,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",ewo,n(r.name),1),e("h5",two,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",owo,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",awo,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",nwo," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",swo,n(r.amount),1))]))),128))])):b("",!0),e("div",lwo,[e("span",iwo,[e("h6",rwo,n(o.$t("Total")),1),e("h5",dwo,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1)])])])])])],8,u$o)):b("",!0)]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const uwo=Ue(n2o,[["render",cwo]]),_wo={name:"AllInvoicesReport",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v=h(0),g=async()=>{await A.get(c+"reports/all-invoices-report",{params:{per_page:t.value}}).then(B=>{s.value=B.data.invoices}).catch(B=>{console.log(B)})},D=async(B,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+B+"/details").then(L=>{p.value=L.data,v.value++,bt(()=>{document.getElementById(O).click()})}).catch(L=>{console.log(L)})};Qe(()=>{g()});const y=B=>{let O="";switch(B){case"overdue":O="bg-label-secondary";break;case"created":O="bg-label-secondary";break;case"pending":O="bg-label-primary";break;case"submitted":O="bg-label-primary";break;case"approved":O="bg-label-success";break;case"disbursed":O="bg-label-success";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},C=B=>{let O="";switch(B){case"pending":O="bg-label-primary";break;case"submitted":O="bg-label-warning";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},x=(B,O)=>(O/B*100).toFixed(2);return ot([t],([B])=>{A.get(c+"reports/all-invoices-report",{params:{per_page:B,invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{s.value=O.data.invoices}).catch(O=>{console.log(O)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,invoice_status_search:r,invoice_financing_status_search:i,from_date_search:_,to_date_search:l,changePage:async B=>{await A.get(B,{params:{per_page:t.value,invoice_number:m.value,invoice_date:_.value,due_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{s.value=O.data.invoices})},resolveFinancingStatus:C,resolveStatus:y,getTaxPercentage:x,exportReport:()=>{A.get(c+"report/dealer-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(B=>{const O=window.URL.createObjectURL(new Blob([B.data])),L=document.createElement("a");L.href=O,L.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(L),L.click()}).catch(B=>{console.log(B)})},exportPdfReport:()=>{A.get(c+"report/dealer-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(B=>{const O=window.URL.createObjectURL(new Blob([B.data])),L=document.createElement("a");L.href=O,L.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(L),L.click()}).catch(B=>{console.log(B)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,from_date:_.value,to_date:l.value,financing_status:i.value}}).then(O=>{s.value=O.data.invoices}).catch(O=>{console.log(O)}).finally(()=>{B.html('<i class="ti ti-search"></i>')})},refresh:()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",i.value="",d.value="",$("#date_search").val(""),A.get(c+"reports/all-invoices-report",{params:{per_page:t.value}}).then(O=>{s.value=O.data.invoices}).catch(O=>{console.log(O)}).finally(()=>{B.html('<i class="ti ti-refresh"></i>')})},invoice_details:p,invoice_details_key:v,showInvoice:D}}},mwo={class:"card p-2"},fwo={class:"d-flex justify-content-between"},hwo={class:"d-flex flex-wrap gap-1"},pwo={class:""},vwo={for:"Invoice No.",class:"form-label"},gwo={class:""},bwo={class:"form-label",for:""},ywo={class:""},kwo={for:"Status",class:"form-label"},$wo={value:""},wwo={value:"pending"},Dwo={value:"approved"},Cwo={value:"rejected"},xwo={value:"past_due"},Pwo={value:"expired"},Ewo={class:""},Awo={for:"Financing Status",class:"form-label"},Iwo={value:""},Rwo={value:"pending"},Swo={value:"submitted"},Two={value:"financed"},jwo={value:"disbursed"},Owo={value:"closed"},Mwo={value:"denied"},Lwo={value:"rejected"},Nwo={class:"table-search-btn"},Fwo={class:"table-clear-btn"},Ywo={class:"d-flex align-items-end"},Vwo={class:"mx-2"},Bwo={class:"table-responsive"},Uwo={class:"table"},qwo={class:"text-nowrap"},Hwo={class:"table-border-bottom-0"},zwo={key:0},Wwo={colspan:"12",class:"text-center"},Kwo={class:"text-center"},Gwo={key:1},Qwo={colspan:"12",class:"text-center"},Zwo={class:"text-center"},Jwo=["onClick"],Xwo={class:"me-1"},e5o={class:"text-success"},t5o={key:0,class:"text-success"},o5o={key:1},a5o=["id","data-bs-target"],n5o=["id","data-bs-target"],s5o={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},l5o={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},i5o={class:"modal-content"},r5o={class:"modal-body"},d5o={class:"d-flex justify-content-center"};function c5o(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",mwo,[e("div",fwo,[e("div",hwo,[e("div",pwo,[e("label",vwo,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",gwo,[e("label",bwo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",ywo,[e("label",kwo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_status_search=i)},[e("option",$wo,n(o.$t("Status")),1),e("option",wwo,n(o.$t("Pending")),1),e("option",Dwo,n(o.$t("Approved")),1),e("option",Cwo,n(o.$t("Rejected")),1),e("option",xwo,n(o.$t("Overdue")),1),e("option",Pwo,n(o.$t("Expired")),1)],512),[[re,t.invoice_status_search]])]),e("div",Ewo,[e("label",Awo,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_financing_status_search=i)},[e("option",Iwo,n(o.$t("Financing Status")),1),e("option",Rwo,n(o.$t("Pending")),1),e("option",Swo,n(o.$t("Submitted")),1),e("option",Two,n(o.$t("Financed")),1),e("option",jwo,n(o.$t("Disbursed")),1),e("option",Owo,n(o.$t("Closed")),1),e("option",Mwo,n(o.$t("Denied")),1),e("option",Lwo,n(o.$t("Rejected")),1)],512),[[re,t.invoice_financing_status_search]])]),e("div",Nwo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Fwo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Ywo,[e("div",Vwo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},a[13]||(a[13]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Bwo,[e("table",Uwo,[e("thead",null,[e("tr",qwo,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",Hwo,[t.invoices.data?b("",!0):(u(),f("tr",zwo,[e("td",Wwo,[e("span",Kwo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Gwo,[e("td",Qwo,[e("span",Zwo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Jwo),e("td",null,[e("span",Xwo,n(i.anchor),1)]),e("td",e5o,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursed_amount>0?(u(),f("td",t5o,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("td",o5o,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,a5o),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,n5o),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",s5o,[e("div",l5o,[e("div",i5o,[e("div",r5o,[e("div",d5o,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const fD=Ue(_wo,[["render",c5o]]),u5o={name:"ProgramReport",components:{Pagination:za},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(50),l=()=>{A.get(s+"reports/programs-report",{params:{per_page:_.value}}).then(g=>{t.value=g.data.programs})};ot([_],([g])=>{A.get(s+"reports/programs-report",{params:{per_page:g,program_code:c.value,anchor:m.value}}).then(D=>{t.value=D.data.programs}).catch(D=>{console.log(D)})});const r=()=>{A.get(s+"reports/programs-report",{params:{per_page:_.value,program_code:c.value,anchor:m.value}}).then(g=>{report.value=g.data}).catch(g=>{console.log(g)})},i=()=>{c.value="",m.value="",A.get(s+"/programs-report",{params:{per_page:_.value}}).then(g=>{report.value=g.data}).catch(g=>{console.log(g)})},d=async g=>{await A.get(g,{params:{per_page:_.value,program_code:c.value,anchor:m.value}}).then(D=>{t.value=D.data.programs})},p=()=>{A.get(s+"report/dealer-programs-report/export",{responseType:"arraybuffer",method:"GET",params:{program_code:c.value,anchor:m.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},v=()=>{A.get(s+"report/dealer-programs-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{program_code:c.value,anchor:m.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})};return Qe(()=>{l()}),{moment:H,programs:t,per_page:_,program_code_search:c,anchor_search:m,changePage:d,exportReport:p,exportPdfReport:v,filter:r,refresh:i}}},_5o={class:"card p-2"},m5o={class:"d-flex justify-content-between"},f5o={class:"d-flex"},h5o={class:""},p5o={for:"Loan/OD Account",class:"form-label"},v5o={class:"mx-1"},g5o={for:"Anchor",class:"form-label"},b5o={class:"mx-1 table-search-btn"},y5o={class:"mx-1 table-clear-btn"},k5o={class:"d-flex align-items-end"},$5o={class:"table-responsive"},w5o={class:"table"},D5o={class:"text-nowrap"},C5o={class:"table-border-bottom-0"},x5o={key:0},P5o={colspan:"12",class:"text-center"},E5o={class:"text-center"},A5o={key:1},I5o={colspan:"12",class:"text-center"},R5o={class:"text-center"},S5o={class:"text-primary"},T5o={class:"me-1"},j5o={class:"text-success"},O5o={class:"text-success"},M5o={class:"text-success"},L5o={class:"text-success"};function N5o(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",_5o,[e("div",m5o,[e("div",f5o,[e("div",h5o,[e("label",p5o,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Loan/OD Account","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_code_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.program_code_search]])]),e("div",v5o,[e("label",g5o,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",b5o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",y5o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",k5o,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$5o,[e("table",w5o,[e("thead",null,[e("tr",D5o,[e("th",null,n(o.$t("Loan/OD Account")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",C5o,[t.programs.data?b("",!0):(u(),f("tr",x5o,[e("td",P5o,[e("span",E5o,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",A5o,[e("td",I5o,[e("span",R5o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",S5o,n(l.payment_account_number),1),e("td",null,[e("span",T5o,n(l.anchor_name),1)]),e("td",j5o,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",O5o,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",M5o,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",L5o,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const hD=Ue(u5o,[["render",N5o]]),F5o={name:"PaymentsReport",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=h(null),d=()=>{A.get(s+"reports/payments-report",{params:{per_page:r.value}}).then(w=>{t.value=w.data.payments}).catch(w=>{console.log(w)})},p=async(w,T)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+w+"/details").then(V=>{i.value=V.data,bt(()=>{document.getElementById(T).click()})}).catch(V=>{console.log(V)})};Qe(()=>{d()});const v=w=>{let T="";switch(w){case"created":T="bg-label-secondary";break;case"pending":T="bg-label-primary";break;case"submitted":T="bg-label-primary";break;case"approved":T="bg-label-secondary";break;case"disbursed":T="bg-label-success";break;case"denied":T="bg-label-danger";break;default:T="bg-label-primary";break}return T},g=w=>{let T="";switch(w){case"pending":T="bg-label-primary";break;case"submitted":T="bg-label-primary";break;case"financed":T="bg-label-success";break;case"closed":T="bg-label-secondary";break;case"denied":T="bg-label-danger";break;default:T="bg-label-primary";break}return T},D=(w,T)=>(T/w*100).toFixed(2),y=()=>{A.get(s+"report/dealer-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(w=>{const T=window.URL.createObjectURL(new Blob([w.data])),V=document.createElement("a");V.href=T,V.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(V),V.click()}).catch(w=>{console.log(w)})},C=()=>{A.get(s+"report/dealer-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(w=>{const T=window.URL.createObjectURL(new Blob([w.data])),V=document.createElement("a");V.href=T,V.setAttribute("download",`Dealer_Payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(V),V.click()}).catch(w=>{console.log(w)})};return ot([r],([w])=>{A.get(s+"reports/payments-report",{params:{per_page:w,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(T=>{t.value=T.data.payments}).catch(T=>{console.log(T)})}),{moment:H,payments:t,per_page:r,invoice_number_search:m,invoice_status_search:l,po_search:_,financing_status_search:c,resolveStatus:v,resolveFinancingStatus:g,getTaxPercentage:D,changePage:async w=>{await A.get(w,{params:{per_page:r.value,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(T=>{t.value=T.data.payments})},exportReport:y,exportPdfReport:C,filter:()=>{let w=$(".ti-search").parent();w.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/payments-report",{params:{per_page:r.value,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(T=>{report.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{w.html('<i class="ti ti-search"></i>')})},refresh:()=>{let w=$(".ti-refresh").parent();w.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",A.get(s+"reports/payments-report",{params:{per_page:r.value,type:type.value}}).then(T=>{report.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{w.html('<i class="ti ti-search"></i>')})},invoice_details:i,showInvoice:p}}},Y5o={class:"card p-2"},V5o={class:"d-flex justify-content-between"},B5o={class:"d-flex"},U5o={class:""},q5o={for:"Invoice No",class:"form-label"},H5o={class:"mx-1"},z5o={for:"PO No",class:"form-label"},W5o={class:"mx-1"},K5o={for:"Status",class:"form-label"},G5o={value:""},Q5o={value:"approved"},Z5o={value:"disbursed"},J5o={class:"mx-1"},X5o={for:"Financing Status",class:"form-label"},eDo={value:""},tDo={value:"financed"},oDo={value:"closed"},aDo={class:"mx-1 table-search-btn"},nDo={class:"mx-1 table-clear-btn"},sDo={class:"d-flex align-items-end"},lDo={class:"table-responsive"},iDo={class:"table"},rDo={class:""},dDo={class:"table-border-bottom-0"},cDo={key:0},uDo={colspan:"12",class:"text-center"},_Do={class:"text-center"},mDo={key:1},fDo={colspan:"12",class:"text-center"},hDo={class:"text-center"},pDo=["onClick"],vDo={class:"text-success"},gDo={class:"text-success"},bDo=["id","data-bs-target"],yDo=["id","data-bs-target"],kDo=["id","data-bs-target"],$Do={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},wDo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},DDo={class:"modal-content"},CDo={class:"modal-body"},xDo={class:"d-flex justify-content-center"};function PDo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",Y5o,[e("div",V5o,[e("div",B5o,[e("div",U5o,[e("label",q5o,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",H5o,[e("label",z5o,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[2]||(a[2]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[Q,t.po_search]])]),e("div",W5o,[e("label",K5o,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.invoice_status_search=i)},[e("option",G5o,n(o.$t("Invoice Status")),1),e("option",Q5o,n(o.$t("Approved")),1),e("option",Z5o,n(o.$t("Disbursed")),1)],512),[[re,t.invoice_status_search]])]),e("div",J5o,[e("label",X5o,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",eDo,n(o.$t("Financing Status")),1),e("option",tDo,n(o.$t("Financed")),1),e("option",oDo,n(o.$t("Closed")),1)],512),[[re,t.financing_status_search]])]),e("div",aDo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",nDo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",sDo,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.payments.meta?(u(),fe(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",lDo,[e("table",iDo,[e("thead",null,[e("tr",rDo,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Discount Value")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",dDo,[t.payments.data?b("",!0):(u(),f("tr",cDo,[e("td",uDo,[e("span",_Do,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",mDo,[e("td",fDo,[e("span",hDo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id)},n(i.invoice_number),9,pDo),e("td",null,n(i.anchor_name),1),e("td",vDo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",gDo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.invoice_status)])},n(i.invoice_status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.invoice_financing_status)])},n(i.invoice_financing_status),3)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,bDo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,yDo),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,kDo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",$Do,[e("div",wDo,[e("div",DDo,[e("div",CDo,[e("div",xDo,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.payments.meta?(u(),fe(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const pD=Ue(F5o,[["render",PDo]]),EDo={name:"FactoringReports",components:{AllInvoicesReport:fD,ProgramReport:hD,PaymentsReport:pD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},ADo={class:"nav-align-top nav-tabs-shadow mb-4"},IDo={class:"nav nav-tabs",role:"tablist"},RDo={class:"nav-item"},SDo={class:"nav-item"},TDo={class:"nav-item"},jDo={class:"tab-content"},ODo={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},MDo={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},LDo={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function NDo(o,a,s,t,c,m){const _=de("all-invoices-report"),l=de("program-report"),r=de("payments-report");return u(),f("div",ADo,[e("ul",IDo,[e("li",RDo,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},n(o.$t("All Invoices Report")),1)]),e("li",SDo,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"},n(o.$t("Program Report")),1)]),e("li",TDo,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},n(o.$t("Payments Report")),1)])]),e("div",jDo,[e("div",ODo,[Be(_,{ref:"invoices_report"},null,512)]),e("div",MDo,[Be(l,{ref:"programs_report"},null,512)]),e("div",LDo,[Be(r,{ref:"payments_report"},null,512)])])])}const FDo=Ue(EDo,[["render",NDo]]),YDo={name:"OdRepayments",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=()=>{A.get(o+"accounts/od-repayments/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.data}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,repayments:a,per_page:s,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.data})}}}},VDo={class:"card p-2"},BDo={class:"d-flex justify-content-between"},UDo={class:"d-flex justify-content-end"},qDo={class:"table-responsive"},HDo={class:"table"},zDo={class:""},WDo={class:"table-border-bottom-0"},KDo={key:0},GDo={colspan:"12",class:"text-center"},QDo={class:"text-center"},ZDo={key:1},JDo={colspan:"12",class:"text-center"},XDo={class:"text-center"},e3o={class:""},t3o={class:"text-success"};function o3o(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",VDo,[e("div",BDo,[a[2]||(a[2]=ga('<div class="d-flex"><div class=""><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="OD Account" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Initiated By" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Approved By" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input class="form-control form-search" type="date" value="2021-06-18" id="html5-date-input"></div></div>',1)),e("div",UDo,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.repayments.meta?(u(),fe(_,{key:0,from:t.repayments.meta.from,to:t.repayments.meta.to,links:t.repayments.meta.links,next_page:t.repayments.links.next,prev_page:t.repayments.links.prev,total_items:t.repayments.meta.total,first_page_url:t.repayments.links.first,last_page_url:t.repayments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qDo,[e("table",HDo,[e("thead",null,[e("tr",zDo,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Credit Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Initiated By")),1)])]),e("tbody",WDo,[t.repayments.data?b("",!0):(u(),f("tr",KDo,[e("td",GDo,[e("span",QDo,n(o.$t("Loading Data"))+"...",1)])])),t.repayments.data&&t.repayments.data.length<=0?(u(),f("tr",ZDo,[e("td",JDo,[e("span",XDo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.repayments.data,l=>(u(),f("tr",{key:l.id},[e("td",e3o,n(l.payment_account_number),1),e("td",null,n(t.moment(l.updated_at).format("DD MMM YYYY")),1),e("td",t3o,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1),a[3]||(a[3]=e("td",null,"CBS",-1))]))),128))])])]),t.repayments.meta?(u(),fe(_,{key:1,from:t.repayments.meta.from,to:t.repayments.meta.to,links:t.repayments.meta.links,next_page:t.repayments.links.next,prev_page:t.repayments.links.prev,total_items:t.repayments.meta.total,first_page_url:t.repayments.links.first,last_page_url:t.repayments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const a3o=Ue(YDo,[["render",o3o]]),n3o={name:"OdDetails",components:{Pagination:za},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(0),D=h(0),y=h(""),C=h(50),x=()=>{A.get(a+"accounts/od-details/data",{params:{per_page:C.value}}).then(R=>{s.value=R.data.invoices,t.value=R.data.currencies}).catch(R=>{console.log(R)})};Qe(()=>{x()});const E=async R=>{await A.get(R).then(P=>{s.value=P.data.invoices})},k=()=>{A.post(a+"accounts/od-details/credit-account",{credit_to_account:m.value,debit_from_account:c.value,program_id:_.value,amount:String(p.value).replaceAll(",",""),particulars:r.value,currency:i.value,credit_date:d.value,vendor_configuration_id:l.value}).then(()=>{o.success("Request to credit account sent successfully."),x(),document.getElementById("credit-account-request-close-modal-"+_.value).click(),m.value="",c.value="",_.value="",p.value="",r.value="",i.value="",d.value="",y.value=""}).catch(R=>{o.error(R.response.data.message)})},w=R=>{m.value=R.payment_account_number,_.value=R.program_id,l.value=R.id};ot(p,R=>{y.value=L(R.replaceAll(",",""))});var T=["","Thousand","Million","Billion","Trillion"],V=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],B=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],O=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function L(R){if(R=R.toString(),R=R.replace(/[\, ]/g,""),R!=parseFloat(R))return"Not a Number";var P=R.indexOf(".");if(P==-1&&(P=R.length),P>15)return"Too Big";for(var I=R.split(""),S="",F=0,N=0;N<P;N++)(P-N)%3==2?I[N]=="1"?(S+=B[Number(I[N+1])]+" ",N++,F=1):I[N]!=0&&(S+=O[I[N]-2]+" ",F=1):I[N]!=0&&(S+=V[I[N]]+" ",(P-N)%3==0&&(S+="Hundred "),F=1),(P-N)%3==1&&(F&&(S+=T[(P-N-1)/3]+" "),F=0);if(P!=R.length){var U=R.length;S+="point ";for(var N=P+1;N<U;N++)S+=V[I[N]]+" "}return S.replace(/\s+/g," ")}return{moment:H,od_accounts:s,currencies:t,per_page:C,debit_from:c,credit_to:m,particulars:r,currency:i,credit_date:d,amount:p,amount_in_words:y,initiate_cbs:v,total_outstanding:g,total_balance:D,selectOdAccount:w,creditAccount:k,changePage:E}}},s3o={class:"card p-2"},l3o={class:"d-flex justify-content-between"},i3o={class:"d-flex justify-content-end"},r3o={class:"table-responsive"},d3o={class:"table"},c3o={class:""},u3o={class:"table-border-bottom-0"},_3o={key:0},m3o={colspan:"12",class:"text-center"},f3o={class:"text-center"},h3o={key:1},p3o={colspan:"12",class:"text-center"},v3o={class:"text-center"},g3o={class:"m_title"},b3o={class:"text-success"},y3o={class:"text-success"},k3o={class:"text-success"},$3o={class:"text-success"},w3o={class:"text-success"},D3o={class:"d-flex"},C3o=["href"],x3o=["onClick","data-bs-target","title"],P3o=["id"],E3o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},A3o={class:"modal-header"},I3o={class:"modal-title",id:"modalTopTitle"},R3o=["id"],S3o={class:"modal-body"},T3o={class:"row mb-1"},j3o={class:"form-group"},O3o={for:"",class:"form-label"},M3o={class:"form-group"},L3o={for:"",class:"form-label"},N3o={value:""},F3o=["value"],Y3o={class:"form-group my-2"},V3o={class:"form-group"},B3o={for:"Status",class:"form-label"},U3o={value:""},q3o=["value"],H3o={class:"form-group"},z3o={for:"Amount",class:"form-label"},W3o={class:"form-group"},K3o={for:"nameWithTitle",class:"form-label"},G3o={class:""},Q3o={class:"form-group"},Z3o={for:"",class:"form-label"},J3o={class:"form-group"},X3o={for:"Particulars",class:"form-label"},eCo={class:"modal-footer"},tCo={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},oCo={type:"submit",class:"btn btn-primary"};function aCo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",s3o,[e("div",l3o,[a[9]||(a[9]=e("div",{class:"d-flex"},null,-1)),e("div",i3o,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),t.od_accounts.meta?(u(),fe(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",r3o,[e("table",d3o,[e("thead",null,[e("tr",c3o,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",u3o,[t.od_accounts.data?b("",!0):(u(),f("tr",_3o,[e("td",m3o,[e("span",f3o,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",h3o,[e("td",p3o,[e("span",v3o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,n(l.anchor_name),1),e("td",g3o,n(l.status),1),e("td",b3o,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",y3o,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",k3o,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",$3o,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",w3o,n(l.overdue_days),1),e("td",D3o,[e("a",{href:"od-accounts/"+l.id+"/od-details"},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,C3o),e("i",{class:"ti ti-circle-plus ti-sm text-danger mx-1",onClick:r=>t.selectOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#credit-od-account-"+l.id,style:{cursor:"pointer"},title:o.$t("Credit to OD Account")},null,8,x3o)]),e("td",null,[e("div",{class:"modal fade",id:"credit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",E3o,[e("form",{class:"modal-content",method:"POST",onSubmit:a[7]||(a[7]=st(r=>t.creditAccount(),["prevent"]))},[e("div",A3o,[e("h5",I3o,n(o.$t("Add Funds to OD Account")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"credit-account-request-close-modal-"+l.program_id,"aria-label":"Close"},null,8,R3o)]),e("div",S3o,[e("div",T3o,[e("div",j3o,[e("label",O3o,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.credit_to=r),readonly:""},null,512),[[Q,t.credit_to]])]),e("div",M3o,[e("label",L3o,n(o.$t("Debit From")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[2]||(a[2]=r=>t.debit_from=r)},[e("option",N3o,n(o.$t("Select")),1),(u(!0),f(W,null,X(l.vendor_bank_details,r=>(u(),f("option",{key:r.id,value:r.account_number},n(r.account_number),9,F3o))),128))],512),[[re,t.debit_from]])]),e("div",Y3o,[e("div",V3o,[e("label",B3o,n(o.$t("Currency")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[3]||(a[3]=r=>t.currency=r)},[e("option",U3o,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.currencies,r=>(u(),f("option",{key:r.id,value:r.code},n(r.code)+" ("+n(r.name)+") ",9,q3o))),128))],512),[[re,t.currency]])])]),e("div",H3o,[e("label",z3o,n(o.$t("Amount")),1),Y(e("input",{type:"text",min:"1",class:"form-control",step:".01",autocomplete:"off",id:"payment-amount","onUpdate:modelValue":a[4]||(a[4]=r=>t.amount=r)},null,512),[[Q,t.amount]])]),e("div",W3o,[e("label",K3o,n(o.$t("Amount in Words")),1),e("h6",G3o,n(t.amount_in_words),1)]),e("div",Q3o,[e("label",Z3o,n(o.$t("Credit Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[5]||(a[5]=r=>t.credit_date=r)},null,512),[[Q,t.credit_date]])]),e("div",J3o,[e("label",X3o,n(o.$t("Particulars")),1),Y(e("input",{type:"text",min:"1",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.particulars=r)},null,512),[[Q,t.particulars]])])])]),e("div",eCo,[e("button",tCo,n(o.$t("Close")),1),e("button",oCo,n(o.$t("Submit")),1)])],32)])],8,P3o)])]))),128))])])]),t.od_accounts.meta?(u(),fe(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const nCo=Ue(n3o,[["render",aCo]]),sCo={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("../settings/bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},lCo={class:"table"},iCo={class:"table-border-bottom-0"},rCo={class:""},dCo=["value"],cCo={class:""},uCo=["value"],_Co={class:""},mCo=["value"],fCo={class:""},hCo=["value"],pCo={class:""},vCo=["value"],gCo={class:""},bCo=["value"];function yCo(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",lCo,[e("tbody",iCo,[(u(!0),f(W,null,X(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",rCo,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,dCo)])]),e("td",null,[e("div",cCo,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,uCo)])]),e("td",null,[e("div",_Co,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,mCo)])]),e("td",null,[e("div",fCo,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,hCo)])]),e("td",null,[e("div",pCo,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,vCo)])]),e("td",null,[e("div",gCo,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,bCo)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const kCo=Ue(sCo,[["render",yCo]]),$Co={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(!1),p=h(null),v=h(!1),g=h(!1),D=h(!1),y=()=>{A.get("../settings/invoice-settings").then(w=>{c.value=w.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,d.value=c.value.purchase_order_acceptance=="manual",_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(v.value=w.data.can_approve&&w.data.user_id!=c.value.proposed_update.user_id)}).catch(w=>{console.log(w)})};a.expose({getInvoiceSettings:y});const C=()=>{const w=new FormData;w.append("maker_checker_creating_updating",r.value),w.append("auto_request_financing",i.value),w.append("purchase_order_acceptance",d.value),w.append("company_logo",l.value),w.append("description",_.value),w.append("footer",m.value),A.post("../settings/invoice-settings/update",w).then(T=>{y(),l.value=null,t.success(T.data.message)}).catch(T=>{console.log(T),t.error("An error occurred while updating invoice settings")})},x=w=>{w.preventDefault();let T=w.target.files||w.dataTransfer.files;T.length&&(l.value=T[0])},E=()=>{_.value=p.value.getHTML().toString()},k=w=>{A.get("../settings/invoice-settings/status/"+w+"/update").then(T=>{y(),l.value=null,t.success(T.data.message),document.getElementById("close-modal").click()}).catch(T=>{console.log(T),t.error("An error occurred while updating PO settings")})};return watch([r,i,d,l,_,m],([w,T,V,B,O,L])=>{w!=c.value.maker_checker_creating_updating||T!=c.value.auto_request_financing?g.value=!0:g.value=!1,(c.value.purchase_order_acceptance=="manual"&&!V||c.value.purchase_order_acceptance=="auto"&&V)&&(g.value=!0),L!=c.value.footer||O!=c.value.description||B?D.value=!0:D.value=!1}),{can_edit:s,can_approve:v,editor:p,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,purchase_order_acceptance:d,updateStatus:k,changeFile:x,changeDescription:E,updateInvoiceSettings:C,can_submit_lower:D,can_submit_upper:g}}},wCo={class:"d-flex justify-content-between p-1"},DCo={key:0,class:"my-auto px-2"},CCo={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},xCo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},PCo={class:"modal-content"},ECo={class:"modal-body"},ACo={key:0},ICo={key:0},RCo={key:1},SCo={key:1},TCo={key:0},jCo={key:1},OCo={key:2},MCo=["href"],LCo={key:3},NCo=["innerHTML"],FCo={key:4},YCo={class:"modal-footer"},VCo={class:"row px-2 mb-2"},BCo={class:"col-md-4"},UCo={class:"row border rounded border-primary mx-2 py-2"},qCo={class:"col-md-3 mt-2"},HCo={class:"form-check form-switch"},zCo=["checked"],WCo={class:"col-md-4"},KCo={class:"row border rounded border-primary mx-2 py-2"},GCo={class:"col-md-3 mt-2"},QCo={class:"form-check form-switch"},ZCo=["checked"],JCo={class:"col-md-4"},XCo={class:"row border rounded border-primary mx-2 py-2"},exo={class:"col-md-3 mt-2"},txo={class:"form-check form-switch"},oxo=["checked"],axo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},nxo={class:"row px-3 mb-2"},sxo={class:"col-md-6"},lxo={class:"row px-3 mb-2"},ixo={class:"col-md-6 mb-4"},rxo={class:"row px-3 mb-2 mt-4"},dxo={class:"col-md-6"},cxo={class:"d-flex my-2 mx-3 d-flex justify-content-end"},uxo={key:0,class:"btn btn-primary",type:"submit"};function _xo(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",wCo,[a[18]||(a[18]=e("h5",{class:"fw-bold py-3"},[e("span",{class:"fw-light px-3"},"Maker / Checker")],-1)),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",DCo,[a[17]||(a[17]=e("button",{class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"}," View Proposed Changes ",-1)),e("div",CCo,[e("div",xCo,[e("div",PCo,[a[16]||(a[16]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalCenterTitle"},"Confirm Changes"),e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",ECo,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",ACo,[a[9]||(a[9]=le(" Change Maker/Checker for Invoice Creating Updating from ")),t.maker_checker?(u(),f("span",ICo,"Yes to No")):(u(),f("span",RCo,"No to Yes"))])):b("",!0),i=="auto_request_financing"?(u(),f("div",SCo,[a[10]||(a[10]=le(" Change Auto Request Financing from ")),t.auto_request_financing?(u(),f("span",TCo,"Yes to No")):(u(),f("span",jCo,"No to Yes"))])):b("",!0),i=="logo"?(u(),f("div",OCo,[a[11]||(a[11]=e("span",null,"Change Logo to ",-1)),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},"View File",8,MCo)])):b("",!0),i=="description"?(u(),f("div",LCo,[a[12]||(a[12]=le(" Change Description To: ")),a[13]||(a[13]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,NCo)])):b("",!0),i=="footer"?(u(),f("div",FCo,[a[14]||(a[14]=le(" Change Footer To: ")),a[15]||(a[15]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",YCo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},"Reject"),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},"Approve")])])])])])):b("",!0)]),e("form",{onSubmit:a[5]||(a[5]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",VCo,[e("div",BCo,[e("div",UCo,[a[21]||(a[21]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Invoice Creation / Updation"),e("small",null,"Request checker approval for creating and updating invoices")],-1)),e("div",qCo,[e("div",HCo,[a[19]||(a[19]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,zCo),[[Yo,t.maker_checker]]),a[20]||(a[20]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])]),e("div",WCo,[e("div",KCo,[a[24]||(a[24]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Auto Request Financing"),e("small",null,"Automatically request financing for approved invoices")],-1)),e("div",GCo,[e("div",QCo,[a[22]||(a[22]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.auto_request_financing,"onUpdate:modelValue":a[3]||(a[3]=l=>t.auto_request_financing=l)},null,8,ZCo),[[Yo,t.auto_request_financing]]),a[23]||(a[23]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])]),e("div",JCo,[e("div",XCo,[a[27]||(a[27]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Purchase Order Acceptance"),e("small",null,"Automatically accept POs uploaded by buyers")],-1)),e("div",exo,[e("div",txo,[a[25]||(a[25]=e("label",{class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-85px"}},"Auto",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,oxo),[[Yo,t.purchase_order_acceptance]]),a[26]||(a[26]=e("label",{class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"51px"}},"Manual",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",axo,a[28]||(a[28]=[e("button",{class:"btn btn-primary",type:"submit"},"Submit",-1)]))):b("",!0)],32),a[32]||(a[32]=e("hr",null,null,-1)),a[33]||(a[33]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Invoice Settings")],-1)),e("form",{onSubmit:a[8]||(a[8]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",nxo,[a[29]||(a[29]=e("div",{class:"col-md-6 border-bottom d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Company Logo"),e("small",null,"Recommended size 160 x 80 pixels, image format PNG/JPG")],-1)),e("div",sxo,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[6]||(a[6]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",lxo,[a[30]||(a[30]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"",class:"col-form-label"},"Invoice Description"),e("small",null,"Will be shown in invoice as description")],-1)),e("div",ixo,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",rxo,[a[31]||(a[31]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Invoice Footer"),e("small",null,"Will be shown in invoice footer")],-1)),e("div",dxo,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[7]||(a[7]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),e("div",cxo,[t.can_submit_lower&&t.can_edit==1?(u(),f("button",uxo,"Submit")):b("",!0)])],32)])}const mxo=Ue($Co,[["render",_xo],["__scopeId","data-v-6521e7c6"]]),fxo={name:"PurchaseOrderSettings",props:["can_edit"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(!1),p=h(null),v=h(!1),g=h(!1),D=h(!1),y=()=>{A.get("../settings/purchase-order-settings").then(w=>{c.value=w.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.request_finance_add_repayment,d.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(v.value=w.data.can_approve&&w.data.user_id!=c.value.proposed_update.user_id)}).catch(w=>{console.log(w)})};a.expose({getPurchaseOrderSettings:y});const C=()=>{const w=new FormData;w.append("maker_checker_creating_updating",r.value),w.append("auto_request_financing",d.value),w.append("request_finance_add_repayment",i.value),w.append("company_logo",l.value),w.append("description",_.value),w.append("footer",m.value),A.post("../settings/purchase-order-settings/update",w).then(T=>{y(),l.value=null,t.success(T.data.message)}).catch(T=>{console.log(T),t.error("An error occurred while updating PO settings")})},x=w=>{w.preventDefault();let T=w.target.files||w.dataTransfer.files;T.length&&(l.value=T[0])},E=()=>{_.value=p.value.getHTML().toString()},k=w=>{A.get("../settings/purchase-order-settings/status/"+w+"/update").then(T=>{y(),l.value=null,t.success(T.data.message),document.getElementById("close-modal").click()}).catch(T=>{console.log(T),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([w,T,V,B,O])=>{w!=c.value.maker_checker_creating_updating||T!=c.value.request_finance_add_repayment?g.value=!0:g.value=!1,O!=c.value.footer||B!=c.value.description||V?D.value=!0:D.value=!1}),{can_edit:s,editor:p,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,request_finance_add_repayment:i,auto_request_financing:d,can_approve:v,updateStatus:k,changeFile:x,changeDescription:E,updateInvoiceSettings:C,can_submit_lower:D,can_submit_upper:g}}},hxo={class:"d-flex justify-content-between p-1"},pxo={key:0,class:"my-auto px-2"},vxo={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},gxo={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},bxo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},yxo={class:"modal-content"},kxo={class:"modal-header"},$xo={class:"modal-title",id:"modalCenterTitle"},wxo={class:"modal-body"},Dxo={key:0},Cxo={key:0},xxo={key:1},Pxo={key:1},Exo={key:0},Axo={key:1},Ixo={key:2},Rxo={key:0},Sxo={key:1},Txo={key:3},jxo=["href"],Oxo={key:4},Mxo=["innerHTML"],Lxo={key:5},Nxo={key:0,class:"modal-footer"},Fxo={class:"row px-2 mb-2"},Yxo={class:"col-md-4"},Vxo={class:"row border rounded border-primary mx-2 py-2"},Bxo={class:"col-md-9 d-flex flex-column"},Uxo={class:"col-form-label"},qxo={class:"col-md-3 mt-2"},Hxo={class:"form-check form-switch"},zxo={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Wxo=["checked"],Kxo={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Gxo={class:"col-md-4"},Qxo={class:"row border rounded border-primary mx-2 py-2"},Zxo={class:"col-md-9 d-flex flex-column"},Jxo={class:"col-form-label"},Xxo={class:"col-md-3 mt-2"},ePo={class:"form-check form-switch"},tPo=["checked"],oPo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},aPo={class:"btn btn-primary",type:"submit"},nPo={class:"fw-bold py-3 mb-2"},sPo={class:"fw-light px-3"},lPo={class:"row px-3 mb-2"},iPo={class:"col-md-6"},rPo={class:"row px-3 mb-2"},dPo={class:"col-md-6 mb-4"},cPo={class:"row px-3 mb-2 mt-4"},uPo={class:"col-md-6"},_Po={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"};function mPo(o,a,s,t,c,m){const _=de("QuillEditor");return u(),f("div",null,[e("div",hxo,[a[11]||(a[11]=e("h5",{class:"fw-bold py-3"},[e("span",{class:"fw-light px-3"},"Maker / Checker")],-1)),t.invoice_settings.proposed_update?(u(),f("div",pxo,[e("button",vxo,n(o.$t("View Proposed Changes")),1),e("div",gxo,[e("div",bxo,[e("div",yxo,[e("div",kxo,[e("h5",$xo,n(o.$t("Confirm Changes")),1),a[8]||(a[8]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",wxo,[(u(!0),f(W,null,X(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(W,null,X(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",Dxo,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",Cxo,n(o.$t("Yes to No")),1)):(u(),f("span",xxo,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",Pxo,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",Exo,n(o.$t("Yes to No")),1)):(u(),f("span",Axo,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_finance_add_repayment"?(u(),f("div",Ixo,[le(n(o.$t("Change Maker/Checker for Requesting Financing and Repayment from"))+" ",1),t.request_finance_add_repayment?(u(),f("span",Rxo,n(o.$t("Yes to No")),1)):(u(),f("span",Sxo,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",Txo,[e("span",null,n(o.$t("Change Logo to")),1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,jxo)])):b("",!0),i=="description"?(u(),f("div",Oxo,[le(n(o.$t("Change Description To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,Mxo)])):b("",!0),i=="footer"?(u(),f("div",Lxo,[le(n(o.$t("Change Footer To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),t.can_approve?(u(),f("div",Nxo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])):b("",!0)])])])])):b("",!0)]),e("form",{onSubmit:a[4]||(a[4]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",Fxo,[e("div",Yxo,[e("div",Vxo,[e("div",Bxo,[e("label",Uxo,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",qxo,[e("div",Hxo,[e("label",zxo,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,Wxo),[[Yo,t.maker_checker]]),e("label",Kxo,n(o.$t("Yes")),1)])])])]),e("div",Gxo,[e("div",Qxo,[e("div",Zxo,[e("label",Jxo,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request and repayment will go to Checker for authorization")),1)]),e("div",Xxo,[e("div",ePo,[a[12]||(a[12]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_finance_add_repayment,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_finance_add_repayment=l)},null,8,tPo),[[Yo,t.request_finance_add_repayment]]),a[13]||(a[13]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",oPo,[e("button",aPo,n(o.$t("Submit")),1)])):b("",!0)],32),a[18]||(a[18]=e("hr",null,null,-1)),e("h5",nPo,[e("span",sPo,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[7]||(a[7]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",lPo,[a[14]||(a[14]=e("div",{class:"col-md-6 border-bottom d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Company Logo"),e("small",null,"Recommended size 160 x 80 pixels, image format PNG/JPG")],-1)),e("div",iPo,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[5]||(a[5]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",rPo,[a[15]||(a[15]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"",class:"col-form-label"},"PO Description"),e("small",null,"Will be shown in PO as description")],-1)),e("div",dPo,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",cPo,[a[16]||(a[16]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"PO Footer"),e("small",null,"Will be shown in PO footer")],-1)),e("div",uPo,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.invoice_footer=l)},null,512),[[Q,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",_Po,a[17]||(a[17]=[e("button",{class:"btn btn-primary",type:"submit"},"Submit",-1)]))):b("",!0)],32)])}const fPo=Ue(fxo,[["render",mPo],["__scopeId","data-v-e34000c0"]]),hPo={name:"TaxDetails",props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(""),r=()=>{A.get("../settings/taxes").then(p=>{c.value=p.data})};return a.expose({getTaxes:r}),{can_edit:s,taxes:c,tax_name:m,tax_number:_,tax_value:l,addTax:()=>{A.post("settings/taxes",{tax_name:m.value,tax_number:_.value,tax_value:l.value}).then(()=>{r(),t.success("Tax added successfully"),m.value="",_.value="",l.value=""}).catch(p=>{console.log(p),t.error("An error occurred while adding")})},deleteTax:p=>{A.delete(`../settings/taxes/${p}`).then(()=>{r(),t.success("Tax deleted successfully")}).catch(v=>{console.log(v),t.error("An error occurred while deleting")})}}}},pPo={class:"py-3"},vPo={class:"table"},gPo={class:"table-border-bottom-0"},bPo={class:""},yPo=["value"],kPo={class:""},$Po=["value"],wPo={class:""},DPo=["value"],CPo={key:0},xPo=["onClick"],PPo={class:"table"},EPo={class:"table-border-bottom-0"},APo={class:"text-nowrap"},IPo={class:""},RPo={class:""},SPo={class:""},TPo={key:0,class:"d-flex px-3"};function jPo(o,a,s,t,c,m){return u(),f("div",pPo,[e("table",vPo,[e("tbody",gPo,[(u(!0),f(W,null,X(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",bPo,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,yPo)])]),e("td",null,[e("div",kPo,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,$Po)])]),e("td",null,[e("div",wPo,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,DPo)])]),e("td",null,[t.can_edit?(u(),f("div",CPo,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,xPo)])):b("",!0)])]))),128))])]),a[5]||(a[5]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",PPo,[e("tbody",EPo,[e("tr",APo,[e("td",null,[e("div",IPo,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[Q,t.tax_name]])])]),e("td",null,[e("div",RPo,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[Q,t.tax_number]])])]),e("td",null,[e("div",SPo,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[Q,t.tax_value]])])])])])]),t.can_edit?(u(),f("div",TPo,a[4]||(a[4]=[e("button",{class:"btn btn-primary",type:"submit"},"Add",-1)]))):b("",!0)],32)])}const OPo=Ue(hPo,[["render",jPo]]),MPo={name:"Settings",props:["can_edit","can_view","has_proposed_updates"],components:{BankAccounts:kCo,PurchaseOrderSettings:fPo,InvoiceSettings:mxo,TaxDetails:OPo},setup(o){const a=o.can_edit,s=o.can_view,t=o.has_proposed_updates,c=h(null),m=h(null),_=h(null),l=h(null);return Qe(()=>{c.value.getBankAccounts()}),{can_view:s,can_edit:a,bank_accounts:c,purchase_order_settings:m,invoice_settings:_,tax_details:l,has_proposed_updates:t,switchTabs:i=>{switch(i){case"bank-accounts":c.value.getBankAccounts();break;case"purchase-order-settings":m.value.getPurchaseOrderSettings();break;case"invoice-settings":_.value.getInvoiceSettings();break;case"tax-details":l.value.getTaxes();break}}}}},LPo={class:"nav-align-top mb-4"},NPo={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},FPo={class:"nav-item"},YPo={key:0,class:"nav-item"},VPo={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},BPo={class:"tab-content"},UPo={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},qPo={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"};function HPo(o,a,s,t,c,m){const _=de("bank-accounts"),l=de("purchase-order-settings");return u(),f("div",LPo,[e("ul",NPo,[e("li",FPo,[e("button",{type:"button",onClick:a[0]||(a[0]=r=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[2]||(a[2]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA) ")]))]),t.can_view==1?(u(),f("li",YPo,[e("button",{type:"button",onClick:a[1]||(a[1]=r=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[4]||(a[4]=le(" Purchase Order Settings ")),t.has_proposed_updates==1?(u(),f("i",VPo)):b("",!0)])])):b("",!0)]),e("div",BPo,[e("div",UPo,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",qPo,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const zPo=Ue(MPo,[["render",HPo]]),WPo={name:"DealerNotifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},KPo={class:"card p-2"},GPo={class:"table-responsive"},QPo={class:"table"},ZPo={class:""},JPo={class:"table-border-bottom-0"},XPo={key:0},e4o={colspan:"12",class:"text-center"},t4o={class:"text-center"},o4o={key:1},a4o={colspan:"12",class:"text-center"},n4o={class:"text-center"},s4o={key:0},l4o={key:0},i4o={key:1},r4o={key:2},d4o={key:3},c4o={key:4},u4o={key:5},_4o={key:1},m4o={key:2},f4o=["onClick"];function h4o(o,a,s,t,c,m){return u(),f("div",KPo,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",GPo,[e("table",QPo,[e("thead",null,[e("tr",ZPo,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",JPo,[t.logs?b("",!0):(u(),f("tr",XPo,[e("td",e4o,[e("span",t4o,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",o4o,[e("td",a4o,[e("span",n4o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",s4o,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",l4o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",i4o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",r4o,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",d4o,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",c4o,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",u4o,n("Configurations: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",_4o,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",m4o,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,f4o)])):b("",!0)]))),128))])])])])}const p4o=Ue(WPo,[["render",h4o]]),v4o={name:"OdAccountSummary",components:{Pagination:za},props:["od_account"],setup(o){const a=Je("baseURL"),s=h([]),t=h(50),c=()=>{A.get(a+"dealer/accounts/od-accounts/"+o.od_account+"/payments/data",{params:{per_page:t.value}}).then(_=>{s.value=_.data}).catch(_=>{console.log(_)})};return Qe(()=>{c()}),{moment:H,repayments:s,per_page:t,changePage:async _=>{await A.get(_).then(l=>{s.value=l.data.data})}}}},g4o={class:"card p-2"},b4o={class:"d-flex justify-content-between"},y4o={class:"d-flex"},k4o={class:"mx-1"},$4o={for:"",class:"form-label"},w4o={class:"d-flex justify-content-end"},D4o={class:"table-responsive"},C4o={class:"table"},x4o={class:""},P4o={class:"table-border-bottom-0"},E4o={key:0},A4o={colspan:"12",class:"text-center"},I4o={class:"text-center"},R4o={key:1},S4o={colspan:"12",class:"text-center"},T4o={class:"text-center"};function j4o(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",g4o,[e("div",b4o,[e("div",y4o,[e("div",k4o,[e("label",$4o,n(o.$t("Date")),1),a[1]||(a[1]=e("input",{class:"form-control form-search",type:"date",id:"html5-date-input"},null,-1))])]),e("div",w4o,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[2]||(a[2]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])]),Be(_,{from:t.repayments.from,to:t.repayments.to,links:t.repayments.links,next_page:t.repayments.next_page_url,prev_page:t.repayments.prev_page_url,total_items:t.repayments.total,first_page_url:t.repayments.first_page_url,last_page_url:t.repayments.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",D4o,[e("table",C4o,[e("thead",null,[e("tr",x4o,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Debit")),1),e("th",null,n(o.$t("Credit")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",P4o,[t.repayments.data?b("",!0):(u(),f("tr",E4o,[e("td",A4o,[e("span",I4o,n(o.$t("Loading Data"))+"...",1)])])),t.repayments.data&&t.repayments.data.length<=0?(u(),f("tr",R4o,[e("td",S4o,[e("span",T4o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.repayments.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(t.moment(l.transaction_created_date).format("Do MMM YYYY")),1)]),a[3]||(a[3]=e("td",null,"-",-1)),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(l.amount)),1)]),a[4]||(a[4]=e("td",null,[e("span",null,"-")],-1)),a[5]||(a[5]=e("td",null,[e("span",null,"-")],-1)),a[6]||(a[6]=e("td",null,"-",-1)),a[7]||(a[7]=e("td",null,"-",-1))]))),128))])])]),Be(_,{from:t.repayments.from,to:t.repayments.to,links:t.repayments.links,next_page:t.repayments.next_page_url,prev_page:t.repayments.prev_page_url,total_items:t.repayments.total,first_page_url:t.repayments.first_page_url,last_page_url:t.repayments.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const O4o=Ue(v4o,[["render",j4o]]),M4o={name:"DpdInvoices",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(null),_=h(0),l=async()=>{await A.get(o+"reports/dpd-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,C)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(x=>{m.value=x.data,_.value++,bt(()=>{document.getElementById(C).click()})}).catch(x=>{console.log(x)})},i=y=>{let C="";switch(y){case"Overdue":C="bg-label-danger";break;case"Created":C="bg-label-secondary";break;case"Pending Maker":C="bg-label-primary";break;case"Pending Checker":C="bg-label-warning";break;case"Submitted":C="bg-label-primary";break;case"Approved":C="bg-label-success";break;case"Disbursed":C="bg-label-success";break;case"Denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},d=y=>{let C="";switch(y){case"pending":C="bg-label-primary";break;case"submitted":C="bg-label-warning";break;case"financed":C="bg-label-success";break;case"closed":C="bg-label-secondary";break;case"denied":C="bg-label-danger";break;default:C="bg-label-primary";break}return C},p=(y,C)=>C/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"reports/dpd-invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:y}}).then(C=>{a.value=C.data.invoices})}),{moment:H,per_page:s,invoice_number:t,anchor:c,invoices:a,invoice_details:m,showInvoice:r,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:s.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",A.get(o+"invoices/data",{params:{per_page:s.value}}).then(C=>{a.value=C.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,anchor:c.value}}).then(C=>{a.value=C.data.invoices})},getTaxPercentage:p}}},L4o={class:"card"},N4o={class:"card-body"},F4o={class:"d-flex justify-content-between"},Y4o={class:"d-flex flex-wrap gap-1"},V4o={class:""},B4o={for:"Search",class:"form-label"},U4o={class:""},q4o={for:"Search",class:"form-label"},H4o={class:"d-none"},z4o={for:"DPD Rage",class:"form-label"},W4o={class:"form-select form-search"},K4o={value:""},G4o={value:"1-30"},Q4o={value:"31-60"},Z4o={value:"61-90"},J4o={value:">90"},X4o={class:"table-search-btn"},eEo={class:"table-clear-btn"},tEo={class:"d-flex mx-2",style:{height:"fit-content"}},oEo={class:"table-responsive"},aEo={class:"table"},nEo={key:0},sEo={colspan:"12",class:"text-center"},lEo={class:"text-center"},iEo={key:1},rEo={colspan:"12",class:"text-center"},dEo={class:"text-center"},cEo={class:"text-primary text-decoration-underline"},uEo=["onClick"],_Eo={class:"text-success"},mEo={class:""},fEo={class:""},hEo={class:"text-success"},pEo={class:""},vEo=["id","data-bs-target"],gEo=["id","data-bs-target"],bEo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},yEo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},kEo={class:"modal-content"},$Eo={class:"modal-body"},wEo={class:"d-flex justify-content-center"};function DEo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",L4o,[e("div",N4o,[e("div",F4o,[e("div",Y4o,[e("div",V4o,[e("label",B4o,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",U4o,[e("label",q4o,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=i=>t.anchor=i),onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor]])]),e("div",H4o,[e("label",z4o,n(o.$t("DPD Range")),1),e("select",W4o,[e("option",K4o,n(o.$t("Select Range")),1),e("option",G4o,"1 - 30 "+n(o.$t("Days")),1),e("option",Q4o,"31 - 60 "+n(o.$t("Days")),1),e("option",Z4o,"61 - 90 "+n(o.$t("Days")),1),e("option",J4o,"> 90 "+n(o.$t("Days")),1)])]),e("div",X4o,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",eEo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tEo,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",oEo,[e("table",aEo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("DPD")),1),e("th",null,n(o.$t("Overdue Interest")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",nEo,[e("td",sEo,[e("span",lEo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",iEo,[e("td",rEo,[e("span",dEo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",cEo,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,uEo)]),e("td",_Eo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",mEo,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",fEo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",hEo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("span",null,n(i.days_past_due),1)]),e("td",null,[e("span",pEo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.overdue_amount)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,vEo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,gEo),a[12]||(a[12]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",bEo,[e("div",yEo,[e("div",kEo,[e("div",$Eo,[e("div",wEo,[e("span",null,n(o.$t("Loading"))+"...",1),a[11]||(a[11]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const CEo=Ue(M4o,[["render",DEo]]),xEo={name:"RejectedInvoices",components:{Pagination:za,InvoiceDetails:Bt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(null),_=async()=>{await A.get(o+"reports/rejected-invoices/data",{params:{per_page:s.value}}).then(D=>{a.value=D.data.invoices})},l=async(D,y)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+D+"/details").then(C=>{m.value=C.data,bt(()=>{document.getElementById(y).click()})}).catch(C=>{console.log(C)})},r=D=>{let y="";switch(D){case"Overdue":y="bg-label-danger";break;case"Created":y="bg-label-secondary";break;case"Pending Maker":y="bg-label-primary";break;case"Pending Checker":y="bg-label-warning";break;case"Submitted":y="bg-label-primary";break;case"Approved":y="bg-label-success";break;case"Disbursed":y="bg-label-success";break;case"Denied":y="bg-label-danger";break;default:y="bg-label-primary";break}return y},i=D=>{let y="";switch(D){case"pending":y="bg-label-primary";break;case"financed":y="bg-label-success";break;case"closed":y="bg-label-secondary";break;case"denied":y="bg-label-danger";break;default:y="bg-label-primary";break}return y},d=(D,y)=>y/D*100;return Qe(()=>{_()}),ot([s],async([D])=>{await A.get(o+"reports/rejected-invoices/data",{params:{per_page:D,invoice_number:t.value,anchor:c.value}}).then(y=>{a.value=y.data.invoices})}),{moment:H,per_page:s,invoice_number:t,anchor:c,invoices:a,invoice_details:m,resolveStatus:r,resolveFinancingStatus:i,changePage:async D=>{await A.get(D,{params:{per_page:s.value,invoice_number:t.value,anchor:c.value}}).then(y=>{a.value=y.data.invoices})},getTaxPercentage:d,filter:()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"reports/rejected-invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:s.value}}).then(y=>{a.value=y.data.invoices,D.html('<i class="ti ti-search"></i>')})},refresh:()=>{let D=$(".ti-refresh").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",A.get(o+"reports/rejected-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices,D.html('<i class="ti ti-refresh"></i>')})},showInvoice:l}}},PEo={class:"card"},EEo={class:"card-body"},AEo={class:"d-flex justify-content-between"},IEo={class:"d-flex flex-wrap"},REo={class:"mb-1"},SEo={for:"Search",class:"form-label"},TEo={class:"mx-1"},jEo={for:"Search",class:"form-label"},OEo={class:"mx-1 d-none"},MEo={for:"DPD Rage",class:"form-label"},LEo={class:"form-select mx-1 form-search",id:"exampleFormControlSelect"},NEo={value:""},FEo={value:"1-30"},YEo={value:"31-60"},VEo={value:"61-90"},BEo={value:">90"},UEo={class:"mx-1 table-search-btn"},qEo={class:"mx-1 table-clear-btn"},HEo={class:"d-flex mx-2",style:{height:"fit-content"}},zEo={class:"table-responsive"},WEo={class:"table"},KEo={key:0},GEo={colspan:"12",class:"text-center"},QEo={class:"text-center"},ZEo={key:1},JEo={colspan:"12",class:"text-center"},XEo={class:"text-center"},eAo={class:"text-primary text-decoration-underline"},tAo=["onClick"],oAo={class:"text-success"},aAo=["href"],nAo=["id","data-bs-target"],sAo=["id","data-bs-target"],lAo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},iAo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},rAo={class:"modal-content"},dAo={class:"modal-body"},cAo={class:"d-flex justify-content-center"};function uAo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details");return u(),f("div",PEo,[e("div",EEo,[e("div",AEo,[e("div",IEo,[e("div",REo,[e("label",SEo,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=r=>t.invoice_number=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number]])]),e("div",TEo,[e("label",jEo,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor]])]),e("div",OEo,[e("label",MEo,n(o.$t("DPD Range")),1),e("select",LEo,[e("option",NEo,n(o.$t("Select Range")),1),e("option",FEo,"1 - 30 "+n(o.$t("Days")),1),e("option",YEo,"31 - 60 "+n(o.$t("Days")),1),e("option",VEo,"61 - 90 "+n(o.$t("Days")),1),e("option",BEo,"> 90 "+n(o.$t("Days")),1)])]),e("div",UEo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",qEo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",HEo,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])]),t.invoices.meta?(u(),fe(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",zEo,[e("table",WEo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",KEo,[e("td",GEo,[e("span",QEo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",ZEo,[e("td",JEo,[e("span",XEo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,r=>Y((u(),f("tr",{key:r.id},[e("td",null,n(r.anchor),1),e("td",eAo,[e("a",{href:"javascript:;",onClick:i=>t.showInvoice(r.id,"show-details-btn-"+r.id)},n(r.invoice_number),9,tAo)]),e("td",oAo,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(r.approval_stage)])},n(r.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(r.financing_status)])},n(r.financing_status),3)]),e("td",null,[e("a",{href:"initiate-drawdown/"+r.id,class:"btn btn-sm btn-primary"},n(o.$t("Re-Initiate")),9,aAo)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.id},null,8,nAo),e("button",{class:"d-none",id:"show-pi-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.id},null,8,sAo),a[12]||(a[12]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",lAo,[e("div",iAo,[e("div",rAo,[e("div",dAo,[e("div",cAo,[e("span",null,n(o.$t("Loading"))+"...",1),a[11]||(a[11]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),fe(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const _Ao=Ue(xEo,[["render",uAo]]),mAo={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},fAo={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},hAo={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},pAo={class:"modal-dialog"},vAo={class:"modal-header"},gAo={class:"modal-title",id:"modalTopTitle"},bAo={class:"modal-body"},yAo={class:"form-group mt-2"},kAo={class:"py-1 text-danger d-none",id:"show-download-error"},$Ao={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},wAo={class:"modal-footer"},DAo={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},CAo={href:"invoices/anchors",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},xAo=["disabled"];function PAo(o,a,s,t,c,m){return u(),f(W,null,[e("button",fAo,n(o.$t("Upload Invoices")),1),e("div",hAo,[e("div",pAo,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",vAo,[e("h5",gAo,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",bAo,[e("div",yAo,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",kAo,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",$Ao,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",wAo,[e("a",DAo,n(o.$t("Download Sample")),1),e("a",CAo,n(o.$t("View Anchors")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,xAo)])],32)])])],64)}const EAo=Ue(mAo,[["render",PAo]]),AAo={name:"Dealers",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h([]),t=h(50),c=()=>{A.get(o+"accounts/od-details/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.invoices}).catch(r=>{console.log(r)})};return Qe(()=>{c()}),ot([t],async([r])=>{await A.get(o+"accounts/od-details/data",{params:{anchor:s.value,per_page:r}}).then(i=>{a.value=i.data.invoices})}),{moment:H,od_accounts:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value,anchor:s.value}}).then(i=>{a.value=i.data.invoices})},per_page:t,anchors_search:s,filter:()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{anchor:s.value}}).then(i=>{a.value=i.data.invoices,r.html('<i class="ti ti-search"></i>')})},refresh:()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",$("#date_search").val(""),A.get(o+"invoices/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.invoices,r.html('<i class="ti ti-refresh"></i>')})}}}},IAo={class:"card"},RAo={class:"card-body"},SAo={class:"d-flex justify-content-between"},TAo={class:"d-flex flex-wrap gap-1"},jAo={class:""},OAo={for:"Search",class:"form-label"},MAo={class:"table-search-btn"},LAo={class:"table-clear-btn"},NAo={class:"d-flex"},FAo={class:"table-responsive p-2"},YAo={class:"table"},VAo={key:0},BAo={colspan:"12",class:"text-center"},UAo={class:"text-center"},qAo={key:1},HAo={colspan:"12",class:"text-center"},zAo={class:"text-center"},WAo={class:""};function KAo(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",IAo,[e("div",RAo,[e("div",SAo,[e("div",TAo,[e("div",jAo,[e("label",OAo,n(o.$t("Anchors")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.anchors_search=l),placeholder:"Search Anchors","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.anchors_search]])]),e("div",MAo,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",LAo,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",NAo,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])])]),t.od_accounts.meta?(u(),fe(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",FAo,[e("table",YAo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Unique Identification Number")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1),e("th",null,n(o.$t("Credit To")),1)])]),e("tbody",null,[t.od_accounts.data?b("",!0):(u(),f("tr",VAo,[e("td",BAo,[e("span",UAo,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",qAo,[e("td",HAo,[e("span",zAo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.anchor_name),1)]),e("td",null,[e("span",null,n(l.anchor_unique_identification_number),1)]),e("td",WAo,n(l.payment_account_number),1),e("td",null,[e("span",null,n(l.vendor_bank_details[0].account_number),1)])]))),128))])])]),t.od_accounts.meta?(u(),fe(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const GAo=Ue(AAo,[["render",KAo]]),QAo={name:"UploadedInvoices",components:{Pagination:za},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},ZAo={class:"card p-2"},JAo={class:"d-flex justify-content-between"},XAo={class:"d-flex flex-wrap"},e6o={class:"mx-1"},t6o={for:"Invoice No",class:"form-label"},o6o={class:"mx-1"},a6o={for:"From Date",class:"form-label"},n6o={class:"mx-1"},s6o={for:"Status",class:"form-label"},l6o={value:""},i6o={value:"Successful"},r6o={value:"Failed"},d6o={class:"mx-1 table-search-btn"},c6o={class:"mx-1 table-clear-btn"},u6o={class:"d-flex"},_6o={class:"table-responsive p-2"},m6o={class:"table dt-invoices"},f6o={key:0},h6o={colspan:"12",class:"text-center"},p6o={class:"text-center"},v6o={key:1},g6o={colspan:"12",class:"text-center"},b6o={class:"text-center"},y6o={key:0,class:"badge bg-label-success me-1"},k6o={key:1,class:"badge bg-label-danger me-1"},$6o={class:""};function w6o(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",ZAo,[e("div",JAo,[e("div",XAo,[e("div",e6o,[e("label",t6o,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[Q,t.invoice_number_search]])]),e("div",o6o,[e("label",a6o,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[Q,t.uploaded_date_search]])]),e("div",n6o,[e("label",s6o,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",l6o,n(o.$t("Select Status")),1),e("option",i6o,n(o.$t("Successful")),1),e("option",r6o,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",d6o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",c6o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",u6o,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",_6o,[e("table",m6o,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",f6o,[e("td",h6o,[e("span",p6o,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",v6o,[e("td",g6o,[e("span",b6o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",y6o,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",k6o,n(l.status),1)):b("",!0)]),e("td",$6o,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const D6o=Ue(QAo,[["render",w6o]]),Ku=Ke({}),Gu=Ke({}),Qu=Ke({}),Zu=Ke({}),Ju=Ke({}),Xu=Ke({}),e_=Ke({}),t_=Ke({}),o_=Ke({}),a_=Ke({}),n_=Ke({}),s_=Ke({}),l_=Ke({}),i_=Ke({}),r_=Ke({}),d_=Ke({}),c_=Ke({}),u_=Ke({}),__=Ke({}),m_=Ke({}),f_=Ke({}),h_=Ke({}),p_=Ke({}),v_=Ke({}),g_=Ke({}),b_=Ke({}),y_=Ke({}),k_=Ke({}),$_=Ke({}),w_=Ke({}),D_=Ke({}),C_=Ke({}),x_=Ke({}),P_=Ke({}),E_=Ke({}),A_=Ke({}),Ca="/buyer/";Ku.component("BuyerNotifications",S_o);Gu.component("BuyerAllInvoicesComponent",nZt);Qu.component("Anchors",Zeo);Xu.component("BuyerPendingInvoices",Reo);e_.component("BuyerPurchaseOrdersComponent",Mno);t_.component("BuyerReports",Gro);o_.component("BuyerInvoiceAnalysisReport",dD);a_.component("BuyerMaturingInvoicesReport",_D);n_.component("BuyerAllInvoicesReport",cD);s_.component("BuyerPaidInvoicesReport",mD);l_.component("BuyerOverdueInvoicesReport",Ndo);i_.component("BuyerVendorAnalysisReport",uD);r_.component("BuyerClosedInvoicesReport",xco);u_.component("BuyerSettings",r_o);Zu.component("BuyerInvoicesUpload",Q_o);Ju.component("BuyerUploadedInvoices",Cmo);__.component("BuyerPaymentInstructions",ffo);const fa="/dealer/";m_.component("DealerInvoices",xoo);w_.component("DealerReports",FDo);c_.component("OdDetails",nCo);d_.component("OdRepayments",a3o);g_.component("DealerSettings",zPo);b_.component("DealerNotifications",p4o);v_.component("FinanceRequests",Epo);f_.component("CashPlannerPrograms",Zpo);y_.component("OdAccountSummary",O4o);k_.component("DpdInvoices",CEo);$_.component("RejectedInvoices",_Ao);h_.component("DealerCashPlannerEligibleInvoices",a2o);p_.component("DealerCashPlannerNonEligibleInvoices",uwo);D_.component("DealerAllInvoicesReport",fD);C_.component("DealerProgramsReport",hD);x_.component("DealerPaymentsReport",pD);P_.component("DealerInvoicesUpload",EAo);E_.component("DealerAnchors",GAo);A_.component("DealerUploadedInvoices",D6o);var C6o=document.getElementById("anchors");C6o&&(Qu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qu.use(Xe),Qu.provide("baseURL",Ca),Qu.mount("#anchors"));var x6o=document.getElementById("buyer-reports");x6o&&(t_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),t_.use(Xe),t_.provide("baseURL",Ca),t_.mount("#buyer-reports"));var P6o=document.getElementById("buyer-payment-instructions");P6o&&(__.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),__.use(Xe),__.provide("baseURL",Ca),__.mount("#buyer-payment-instructions"));var E6o=document.getElementById("buyer-invoice-analysis-report");E6o&&(o_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),o_.use(Xe),o_.provide("baseURL",Ca),o_.mount("#buyer-invoice-analysis-report"));var A6o=document.getElementById("buyer-maturing-invoices-report");A6o&&(a_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),a_.use(Xe),a_.provide("baseURL",Ca),a_.mount("#buyer-maturing-invoices-report"));var I6o=document.getElementById("buyer-paid-invoices-report");I6o&&(s_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),s_.use(Xe),s_.provide("baseURL",Ca),s_.mount("#buyer-paid-invoices-report"));var R6o=document.getElementById("buyer-overdue-invoices-report");R6o&&(l_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),l_.use(Xe),l_.provide("baseURL",Ca),l_.mount("#buyer-overdue-invoices-report"));var S6o=document.getElementById("buyer-closed-invoices-report");S6o&&(r_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),r_.use(Xe),r_.provide("baseURL",Ca),r_.mount("#buyer-closed-invoices-report"));var T6o=document.getElementById("buyer-all-invoices-report");T6o&&(n_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),n_.use(Xe),n_.provide("baseURL",Ca),n_.mount("#buyer-all-invoices-report"));var j6o=document.getElementById("buyer-vendor-analysis-report");j6o&&(i_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),i_.use(Xe),i_.provide("baseURL",Ca),i_.mount("#buyer-vendor-analysis-report"));var O6o=document.getElementById("dealer_reports");O6o&&(w_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),w_.use(Xe),w_.provide("baseURL",fa),w_.mount("#dealer_reports"));var M6o=document.getElementById("od_repayments");M6o&&(d_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),d_.use(Xe),d_.provide("baseURL",fa),d_.mount("#od_repayments"));var L6o=document.getElementById("od_details");L6o&&(c_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),c_.use(Xe),c_.provide("baseURL",fa),c_.mount("#od_details"));var N6o=document.getElementById("od_account_summary");N6o&&(y_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),y_.use(Xe),y_.provide("baseURL",fa),y_.mount("#od_account_summary"));var F6o=document.getElementById("buyer-purchase-orders");F6o&&(e_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),e_.use(Xe),e_.provide("baseURL",Ca),e_.mount("#buyer-purchase-orders"));var Y6o=document.getElementById("buyer-all-invoices");Y6o&&(Gu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gu.use(Xe),Gu.provide("baseURL",Ca),Gu.mount("#buyer-all-invoices"));var V6o=document.getElementById("buyer-pending-invoices");V6o&&(Xu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xu.use(Xe),Xu.provide("baseURL",Ca),Xu.mount("#buyer-pending-invoices"));var B6o=document.getElementById("buyer-invoices-upload");B6o&&(Zu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zu.use(Xe),Zu.provide("baseURL",Ca),Zu.mount("#buyer-invoices-upload"));var U6o=document.getElementById("buyer-uploaded-invoices");U6o&&(Ju.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ju.use(Xe),Ju.provide("baseURL",Ca),Ju.mount("#buyer-uploaded-invoices"));var q6o=document.getElementById("dealer-invoices");q6o&&(m_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),m_.use(Xe),m_.provide("baseURL",fa),m_.mount("#dealer-invoices"));var H6o=document.getElementById("cash-planner-programs");H6o&&(f_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),f_.use(Xe),f_.provide("baseURL",fa),f_.mount("#cash-planner-programs"));var z6o=document.getElementById("dealer-cash-planner-eligible-invoices");z6o&&(h_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),h_.use(Xe),h_.provide("baseURL",fa),h_.mount("#dealer-cash-planner-eligible-invoices"));var W6o=document.getElementById("dealer-cash-planner-non-eligible-invoices");W6o&&(p_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),p_.use(Xe),p_.provide("baseURL",fa),p_.mount("#dealer-cash-planner-non-eligible-invoices"));var K6o=document.getElementById("finance-requests");K6o&&(v_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),v_.use(Xe),v_.provide("baseURL",fa),v_.mount("#finance-requests"));var G6o=document.getElementById("buyer-settings");G6o&&(u_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),u_.use(Xe),u_.provide("baseURL",Ca),u_.mount("#buyer-settings"));var Q6o=document.getElementById("dealer-settings");Q6o&&(g_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),g_.use(Xe),g_.provide("baseURL",fa),g_.mount("#dealer-settings"));var Z6o=document.getElementById("buyer-notifications");Z6o&&(Ku.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ku.use(Xe),Ku.provide("baseURL",Ca),Ku.mount("#buyer-notifications"));var J6o=document.getElementById("dealer-notifications");J6o&&(b_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),b_.use(Xe),b_.provide("baseURL",fa),b_.mount("#dealer-notifications"));var X6o=document.getElementById("dpd-invoices");X6o&&(k_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),k_.use(Xe),k_.provide("baseURL",fa),k_.mount("#dpd-invoices"));var eIo=document.getElementById("rejected-invoices");eIo&&($_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$_.use(Xe),$_.provide("baseURL",fa),$_.mount("#rejected-invoices"));var tIo=document.getElementById("dealer_all_invoices_report");tIo&&(D_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),D_.use(Xe),D_.provide("baseURL",fa),D_.mount("#dealer_all_invoices_report"));var oIo=document.getElementById("dealer_programs_report");oIo&&(C_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),C_.use(Xe),C_.provide("baseURL",fa),C_.mount("#dealer_programs_report"));var aIo=document.getElementById("dealer_payments_report");aIo&&(x_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),x_.use(Xe),x_.provide("baseURL",fa),x_.mount("#dealer_payments_report"));var nIo=document.getElementById("dealer-invoices-upload");nIo&&(P_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),P_.use(Xe),P_.provide("baseURL",fa),P_.mount("#dealer-invoices-upload"));var sIo=document.getElementById("dealer-anchors");sIo&&(E_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),E_.use(Xe),E_.provide("baseURL",fa),E_.mount("#dealer-anchors"));var lIo=document.getElementById("dealer-uploaded-invoices");lIo&&(A_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),A_.use(Xe),A_.provide("baseURL",fa),A_.mount("#dealer-uploaded-invoices"));let T0=document.querySelector(".mode-switcher");T0&&T0.addEventListener("change",function(o){o.preventDefault(),o.target.value=="dealer"?window.location.href="https://uat.yofinvoice.com/dealer/dashboard":window.location.href="https://uat.yofinvoice.com/buyer/dashboard"});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const iIo=()=>{},vh=Array.isArray;function j0(o,a){return(o.aliasOf||o)===(a.aliasOf||a)}function rIo(o,a){if(Object.keys(o).length!==Object.keys(a).length)return!1;for(const s in o)if(!dIo(o[s],a[s]))return!1;return!0}function dIo(o,a){return vh(o)?O0(o,a):vh(a)?O0(a,o):o===a}function O0(o,a){return vh(a)?o.length===a.length&&o.every((s,t)=>s===a[t]):o.length===1&&o[0]===a}var M0;(function(o){o.pop="pop",o.push="push"})(M0||(M0={}));var L0;(function(o){o.back="back",o.forward="forward",o.unknown=""})(L0||(L0={}));var N0;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(N0||(N0={}));const vD=Symbol(""),cIo=Symbol("");function F0(o){const a=Je(vD),s=Je(cIo),t=$o(()=>a.resolve(wl(o.to))),c=$o(()=>{const{matched:r}=t.value,{length:i}=r,d=r[i-1],p=s.matched;if(!d||!p.length)return-1;const v=p.findIndex(j0.bind(null,d));if(v>-1)return v;const g=Y0(r[i-2]);return i>1&&Y0(d)===g&&p[p.length-1].path!==g?p.findIndex(j0.bind(null,r[i-2])):v}),m=$o(()=>c.value>-1&&mIo(s.params,t.value.params)),_=$o(()=>c.value>-1&&c.value===s.matched.length-1&&rIo(s.params,t.value.params));function l(r={}){return _Io(r)?a[wl(o.replace)?"replace":"push"](wl(o.to)).catch(iIo):Promise.resolve()}return{route:t,href:$o(()=>t.value.href),isActive:m,isExactActive:_,navigate:l}}const uIo=Oa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:F0,setup(o,{slots:a}){const s=Rn(F0(o)),{options:t}=Je(vD),c=$o(()=>({[V0(o.activeClass,t.linkActiveClass,"router-link-active")]:s.isActive,[V0(o.exactActiveClass,t.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const m=a.default&&a.default(s);return o.custom?m:En("a",{"aria-current":s.isExactActive?o.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:c.value},m)}}}),el=uIo;function _Io(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const a=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return o.preventDefault&&o.preventDefault(),!0}}function mIo(o,a){for(const s in a){const t=a[s],c=o[s];if(typeof t=="string"){if(t!==c)return!1}else if(!vh(c)||c.length!==t.length||t.some((m,_)=>m!==c[_]))return!1}return!0}function Y0(o){return o?o.aliasOf?o.aliasOf.path:o.path:""}const V0=(o,a,s)=>o??a??s;/**
 * Vue 3 Carousel 0.13.0
 * (c) 2025
 * @license MIT
 */const gD=["viewport","carousel"],$m={"bottom-to-top":"btt","left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb"},bD=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],fIo={ariaGallery:"Gallery",ariaNavigateToPage:"Navigate to page {slideNumber}",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",iconArrowDown:"Arrow pointing downwards",iconArrowLeft:"Arrow pointing to the left",iconArrowRight:"Arrow pointing to the right",iconArrowUp:"Arrow pointing upwards",itemXofY:"Item {currentSlide} of {slidesCount}"};Object.values($m);const yD=["slide","fade"],kD=["center","start","end","center-even","center-odd"],la={autoplay:0,breakpointMode:gD[0],breakpoints:void 0,dir:bD[0],enabled:!0,gap:0,height:"auto",i18n:fIo,ignoreAnimations:!1,itemsToScroll:1,itemsToShow:1,modelValue:0,mouseDrag:!0,pauseAutoplayOnHover:!1,preventExcessiveDragging:!1,slideEffect:yD[0],snapAlign:kD[0],touchDrag:!0,transition:300,wrapAround:!1},gh=Symbol("carousel"),hIo=o=>{const a=z_([]),s=t=>{t!==void 0?a.slice(t).forEach((c,m)=>{var _;(_=c.exposed)===null||_===void 0||_.setIndex(t+m)}):a.forEach((c,m)=>{var _;(_=c.exposed)===null||_===void 0||_.setIndex(m)})};return{cleanup:()=>{a.splice(0,a.length)},getSlides:()=>a,registerSlide:(t,c)=>{if(!t||t.props.isClone)return;const m=c??a.length;a.splice(m,0,t),s(m),o("slide-registered",{slide:t,index:m})},unregisterSlide:t=>{const c=a.indexOf(t);c!==-1&&(o("slide-unregistered",{slide:t,index:c}),a.splice(c,1),s(c))}}};function pIo(o){return o.length===0?0:o.reduce((s,t)=>s+t,0)/o.length}function B0({slides:o,position:a,toShow:s}){const t=[],c=a==="before",m=c?-s:0,_=c?0:s;if(o.length<=0)return t;for(let l=m;l<_;l++){const i={index:c?l:l+o.length,isClone:!0,position:a,id:void 0,key:`clone-${a}-${l}`},d=o[(l%o.length+o.length)%o.length].vnode,p=ts(d,i);p.el=null,t.push(p)}return t}const vIo='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function U0(o){if(!o.el||!(o.el instanceof Element))return;const a=o.el.querySelectorAll(vIo);for(const s of a)s instanceof HTMLElement&&!s.hasAttribute("disabled")&&s.getAttribute("aria-hidden")!=="true"&&s.setAttribute("tabindex","-1")}function gIo(o,a){return Object.keys(o).filter(s=>!a.includes(s)).reduce((s,t)=>(s[t]=o[t],s),{})}function bIo(o){const{isVertical:a,isReversed:s,dragged:t,effectiveSlideSize:c}=o,m=a?t.y:t.x;if(m===0)return 0;const _=Math.round(m/c);return s?_:-_}function Os({val:o,max:a,min:s}){return a<s?o:Math.min(Math.max(o,isNaN(s)?o:s),isNaN(a)?o:a)}function yIo(o){const{transform:a}=window.getComputedStyle(o);return a.split(/[(,)]/).slice(1,-1).map(s=>parseFloat(s))}function kIo(o){let a=1,s=1;return o.forEach(t=>{const c=yIo(t);c.length===6&&(a/=c[0],s/=c[3])}),{widthMultiplier:a,heightMultiplier:s}}function $Io(o,a){switch(o){case"start":return 0;case"center":case"center-odd":return(a-1)/2;case"center-even":return(a-2)/2;case"end":return a-1;default:return 0}}function wIo(o,a,s){switch(o){case"start":return 0;case"center":case"center-odd":return(s-a)/2;case"center-even":return s/2-a;case"end":return s-a;default:return 0}}function q0({slideSize:o,viewportSize:a,align:s,itemsToShow:t}){return t!==void 0?$Io(s,t):o!==void 0&&a!==void 0?wIo(s,o,a):0}function DIo(o="",a={}){return Object.entries(a).reduce((s,[t,c])=>s.replace(`{${t}}`,String(c)),o)}function CIo({val:o,max:a,min:s=0}){const t=a-s+1;return((o-s)%t+t)%t+s}function yv(o,a=0){let s=!1,t=0,c=null;function m(..._){if(s)return;s=!0;const l=()=>{c=requestAnimationFrame(r=>{r-t>a?(t=r,o(..._),s=!1):l()})};l()}return m.cancel=()=>{c&&(cancelAnimationFrame(c),c=null,s=!1)},m}function vf(o,a="px"){if(!(o==null||o===""))return typeof o=="number"||parseFloat(o).toString()===o?`${o}${a}`:o}const xIo=Oa({name:"CarouselAria",setup(){const o=Je(gh);return o?()=>En("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},DIo(o.config.i18n.itemXofY,{currentSlide:o.currentSlide+1,slidesCount:o.slidesCount})):()=>""}}),PIo={autoplay:{default:la.autoplay,type:Number},breakpoints:{default:la.breakpoints,type:Object},breakpointMode:{default:la.breakpointMode,validator(o){return gD.includes(o)}},enabled:{default:la.enabled,type:Boolean},gap:{default:la.gap,type:Number},height:{default:la.height,type:[Number,String]},ignoreAnimations:{default:!1,type:[Array,Boolean,String]},itemsToScroll:{default:la.itemsToScroll,type:Number},itemsToShow:{default:la.itemsToShow,type:[Number,String]},i18n:{default:la.i18n,type:Object},modelValue:{default:void 0,type:Number},mouseDrag:{default:la.mouseDrag,type:Boolean},touchDrag:{default:la.touchDrag,type:Boolean},pauseAutoplayOnHover:{default:la.pauseAutoplayOnHover,type:Boolean},preventExcessiveDragging:{default:!1,type:Boolean,validator(o,a){return o&&a.wrapAround&&console.warn('[vue3-carousel warn]: "preventExcessiveDragging" cannot be used with wrapAround. The setting will be ignored.'),!0}},snapAlign:{default:la.snapAlign,validator(o){return kD.includes(o)}},slideEffect:{type:String,default:la.slideEffect,validator(o){return yD.includes(o)}},transition:{default:la.transition,type:Number},dir:{type:String,default:la.dir,validator(o,a){if(!bD.includes(o))return!1;const s=o in $m?$m[o]:o;return["ttb","btt"].includes(s)&&(!a.height||a.height==="auto")&&console.warn(`[vue3-carousel warn]: The dir "${o}" is not supported with height "auto".`),!0}},wrapAround:{default:la.wrapAround,type:Boolean}},EIo=Oa({name:"VueCarousel",props:PIo,emits:["before-init","drag","init","loop","slide-end","slide-registered","slide-start","slide-unregistered","update:modelValue"],setup(o,{slots:a,emit:s,expose:t}){var c;const m=hIo(s),_=m.getSlides(),l=$o(()=>_.length),r=h(null),i=h(null),d=h(0),p=$o(()=>Object.assign(Object.assign(Object.assign({},la),gIo(o,["breakpoints","modelValue"])),{i18n:Object.assign(Object.assign({},la.i18n),o.i18n)})),v=z_(Object.assign({},p.value)),g=h((c=o.modelValue)!==null&&c!==void 0?c:0),D=h(g.value);ot(g,pt=>D.value=pt);const y=h(0),C=$o(()=>Math.ceil((l.value-1)/2)),x=$o(()=>l.value-1),E=$o(()=>0);let k=null,w=null,T=null;const V=$o(()=>d.value+v.gap),B=$o(()=>{const pt=v.dir||"ltr";return pt in $m?$m[pt]:pt}),O=$o(()=>["rtl","btt"].includes(B.value)),L=$o(()=>["ttb","btt"].includes(B.value)),R=$o(()=>v.itemsToShow==="auto"),P=$o(()=>L.value?"height":"width");function I(){var pt;if(!he.value)return;const Et=(p.value.breakpointMode==="carousel"?(pt=r.value)===null||pt===void 0?void 0:pt.getBoundingClientRect().width:typeof window<"u"?window.innerWidth:0)||0,Dt=Object.keys(o.breakpoints||{}).map(Kt=>Number(Kt)).sort((Kt,ro)=>+ro-+Kt),Ft={};Dt.some(Kt=>Et>=Kt?(Object.assign(Ft,o.breakpoints[Kt]),Ft.i18n&&Object.assign(Ft.i18n,p.value.i18n,o.breakpoints[Kt].i18n),!0):!1),Object.assign(v,p.value,Ft)}const S=yv(()=>{I(),J(),ae()}),F=z_(new Set),N=h([]);function U({widthMultiplier:pt,heightMultiplier:Et}){N.value=_.map(Dt=>{var Ft;const Kt=(Ft=Dt.exposed)===null||Ft===void 0?void 0:Ft.getBoundingRect();return{width:Kt.width*pt,height:Kt.height*Et}})}const Z=h({width:0,height:0});function ce({widthMultiplier:pt,heightMultiplier:Et}){var Dt;const Ft=((Dt=i.value)===null||Dt===void 0?void 0:Dt.getBoundingClientRect())||{width:0,height:0};Z.value={width:Ft.width*pt,height:Ft.height*Et}}function ae(){if(!i.value)return;const pt=kIo(F);if(ce(pt),U(pt),R.value)d.value=pIo(N.value.map(Et=>Et[P.value]));else{const Et=Number(v.itemsToShow),Dt=(Et-1)*v.gap;d.value=(Z.value[P.value]-Dt)/Et}}function J(){!v.wrapAround&&l.value>0&&(g.value=Os({val:g.value,max:x.value,min:E.value})),R.value||(v.itemsToShow=Os({val:Number(v.itemsToShow),max:l.value,min:1}))}const z=$o(()=>typeof o.ignoreAnimations=="string"?o.ignoreAnimations.split(","):Array.isArray(o.ignoreAnimations)?o.ignoreAnimations:o.ignoreAnimations?!1:[]);j_(()=>J()),j_(()=>{ae()});let ne;const xe=pt=>{const Et=pt.target;if(!(!(Et!=null&&Et.contains(r.value))||Array.isArray(z.value)&&z.value.includes(pt.animationName))&&(F.add(Et),!ne)){const Dt=()=>{ne=requestAnimationFrame(()=>{ae(),Dt()})};Dt()}},Fe=pt=>{const Et=pt.target;Et&&F.delete(Et),ne&&F.size===0&&(cancelAnimationFrame(ne),ae())},he=h(!1);typeof document<"u"&&j_(()=>{he.value&&z.value!==!1?(document.addEventListener("animationstart",xe),document.addEventListener("animationend",Fe)):(document.removeEventListener("animationstart",xe),document.removeEventListener("animationend",Fe))}),Qe(()=>{he.value=!0,I(),Se(),r.value&&(T=new ResizeObserver(S),T.observe(r.value)),s("init")}),td(()=>{he.value=!1,m.cleanup(),w&&clearTimeout(w),ne&&cancelAnimationFrame(ne),k&&clearInterval(k),T&&(T.disconnect(),T=null),typeof document<"u"&&ze(),r.value&&(r.value.removeEventListener("transitionend",ae),r.value.removeEventListener("animationiteration",ae))});let ie=!1;const $e={x:0,y:0},we=Rn({x:0,y:0}),se=h(!1),ge=h(!1),be=()=>{se.value=!0},Me=()=>{se.value=!1},ue=yv(pt=>{if(!pt.ctrlKey)switch(pt.key){case"ArrowLeft":case"ArrowUp":L.value===pt.key.endsWith("Up")&&(O.value?Ne(!0):Ie(!0));break;case"ArrowRight":case"ArrowDown":L.value===pt.key.endsWith("Down")&&(O.value?Ie(!0):Ne(!0));break}},200),Oe=()=>{document.addEventListener("keydown",ue)},ze=()=>{document.removeEventListener("keydown",ue)};function Ye(pt){const Et=pt.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(Et)||ee.value||(ie=pt.type==="touchstart",!ie&&(pt.preventDefault(),pt.button!==0)))return;$e.x="touches"in pt?pt.touches[0].clientX:pt.clientX,$e.y="touches"in pt?pt.touches[0].clientY:pt.clientY;const Dt=ie?"touchmove":"mousemove",Ft=ie?"touchend":"mouseup";document.addEventListener(Dt,ve,{passive:!1}),document.addEventListener(Ft,_e,{passive:!0})}const ve=yv(pt=>{ge.value=!0;const Et="touches"in pt?pt.touches[0].clientX:pt.clientX,Dt="touches"in pt?pt.touches[0].clientY:pt.clientY;we.x=Et-$e.x,we.y=Dt-$e.y;const Ft=bIo({isVertical:L.value,isReversed:O.value,dragged:we,effectiveSlideSize:V.value});D.value=v.wrapAround?g.value+Ft:Os({val:g.value+Ft,max:x.value,min:E.value}),s("drag",{deltaX:we.x,deltaY:we.y})});function _e(){if(ve.cancel(),D.value!==g.value&&!ie){const Dt=Ft=>{Ft.preventDefault(),window.removeEventListener("click",Dt)};window.addEventListener("click",Dt)}Ce(D.value),we.x=0,we.y=0,ge.value=!1;const pt=ie?"touchmove":"mousemove",Et=ie?"touchend":"mouseup";document.removeEventListener(pt,ve),document.removeEventListener(Et,_e)}function Se(){!v.autoplay||v.autoplay<=0||(k=setInterval(()=>{v.pauseAutoplayOnHover&&se.value||Ne()},v.autoplay))}function Ve(){k&&(clearInterval(k),k=null)}function ke(){Ve(),Se()}const ee=h(!1);function Ce(pt,Et=!1){if(!Et&&ee.value)return;let Dt=pt,Ft=pt;y.value=g.value,v.wrapAround?Ft=CIo({val:Dt,max:x.value,min:E.value}):Dt=Os({val:Dt,max:x.value,min:E.value}),s("slide-start",{slidingToIndex:pt,currentSlideIndex:g.value,prevSlideIndex:y.value,slidesCount:l.value}),Ve(),ee.value=!0,g.value=Dt,Ft!==Dt&&me.pause(),s("update:modelValue",Ft),w=setTimeout(()=>{v.wrapAround&&Ft!==Dt&&(me.resume(),g.value=Ft,s("loop",{currentSlideIndex:g.value,slidingToIndex:pt})),s("slide-end",{currentSlideIndex:g.value,prevSlideIndex:y.value,slidesCount:l.value}),ee.value=!1,ke()},v.transition)}function Ne(pt=!1){Ce(g.value+v.itemsToScroll,pt)}function Ie(pt=!1){Ce(g.value-v.itemsToScroll,pt)}function oe(){I(),J(),ae(),ke()}ot(()=>[p.value,o.breakpoints],()=>I(),{deep:!0}),ot(()=>o.autoplay,()=>ke());const me=ot(()=>o.modelValue,pt=>{pt!==g.value&&Ce(Number(pt),!0)});s("before-init");const Le=$o(()=>{if(!v.wrapAround)return{before:0,after:0};if(R.value)return{before:_.length,after:_.length};const pt=Number(v.itemsToShow),Et=Math.ceil(pt+(v.itemsToScroll-1)),Dt=Et-D.value,Ft=Et-(l.value-(D.value+1));return{before:Math.max(0,Dt),after:Math.max(0,Ft)}}),Ze=$o(()=>Le.value.before?R.value?N.value.slice(-1*Le.value.before).reduce((pt,Et)=>pt+Et[P.value]+v.gap,0)*-1:Le.value.before*V.value*-1:0),at=$o(()=>{var pt;if(R.value){const Et=(g.value%_.length+_.length)%_.length;return q0({slideSize:(pt=N.value[Et])===null||pt===void 0?void 0:pt[P.value],viewportSize:Z.value[P.value],align:v.snapAlign})}return q0({align:v.snapAlign,itemsToShow:+v.itemsToShow})}),mt=$o(()=>{let pt=0;if(R.value){if(g.value<0?pt=N.value.slice(g.value).reduce((Et,Dt)=>Et+Dt[P.value]+v.gap,0)*-1:pt=N.value.slice(0,g.value).reduce((Et,Dt)=>Et+Dt[P.value]+v.gap,0),pt-=at.value,!v.wrapAround){const Et=N.value.reduce((Dt,Ft)=>Dt+Ft[P.value]+v.gap,0)-Z.value[P.value]-v.gap;pt=Os({val:pt,max:Et,min:0})}}else{let Et=g.value-at.value;v.wrapAround||(Et=Os({val:Et,max:l.value-+v.itemsToShow,min:0})),pt=Et*V.value}return pt*(O.value?1:-1)}),wt=$o(()=>{var pt,Et;if(!R.value){const Kt=g.value-at.value;return v.wrapAround?{min:Math.floor(Kt),max:Math.ceil(Kt+Number(v.itemsToShow)-1)}:{min:Math.floor(Os({val:Kt,max:l.value-Number(v.itemsToShow),min:0})),max:Math.ceil(Os({val:Kt+Number(v.itemsToShow)-1,max:l.value-1,min:0}))}}let Dt=0;{let Kt=0,ro=0-Le.value.before;const Pe=Math.abs(mt.value+Ze.value);for(;Kt<=Pe;){const Te=(ro%_.length+_.length)%_.length;Kt+=((pt=N.value[Te])===null||pt===void 0?void 0:pt[P.value])+v.gap,ro++}Dt=ro-1}let Ft=0;{let Kt=Dt,ro=0;for(Kt<0?ro=N.value.slice(0,Kt).reduce((Pe,Te)=>Pe+Te[P.value]+v.gap,0)-Math.abs(mt.value+Ze.value):ro=N.value.slice(0,Kt).reduce((Pe,Te)=>Pe+Te[P.value]+v.gap,0)-Math.abs(mt.value);ro<Z.value[P.value];){const Pe=(Kt%_.length+_.length)%_.length;ro+=((Et=N.value[Pe])===null||Et===void 0?void 0:Et[P.value])+v.gap,Kt++}Ft=Kt-1}return{min:Math.floor(Dt),max:Math.ceil(Ft)}}),Ot=$o(()=>{if(v.slideEffect==="fade")return;const pt=L.value?"Y":"X",Et=L.value?we.y:we.x;let Dt=mt.value+Et;if(!v.wrapAround&&v.preventExcessiveDragging){let Ft=0;R.value?Ft=N.value.reduce((Pe,Te)=>Pe+Te[P.value],0):Ft=(l.value-Number(v.itemsToShow))*V.value;const Kt=O.value?0:-1*Ft,ro=O.value?Ft:0;Dt=Os({val:Dt,min:Kt,max:ro})}return`translate${pt}(${Dt}px)`}),Jt=$o(()=>({"--vc-transition-duration":ee.value?vf(v.transition,"ms"):void 0,"--vc-slide-gap":vf(v.gap),"--vc-carousel-height":vf(v.height),"--vc-cloned-offset":vf(Ze.value)})),ut={slideTo:Ce,next:Ne,prev:Ie},gt=Rn({activeSlide:D,config:v,currentSlide:g,isSliding:ee,isVertical:L,maxSlide:x,minSlide:E,nav:ut,normalizedDir:B,slideRegistry:m,slideSize:d,slides:_,slidesCount:l,viewport:i,visibleRange:wt});Sh(gh,gt);const Vt=Rn({config:v,currentSlide:g,maxSlide:x,middleSlide:C,minSlide:E,slideSize:d,slidesCount:l});return t({data:Vt,nav:ut,next:Ne,prev:Ie,restartCarousel:oe,slideTo:Ce,updateBreakpointsConfig:I,updateSlideSize:ae,updateSlidesData:J}),()=>{var pt;const Et=a.default||a.slides,Dt=(Et==null?void 0:Et(Vt))||[],{before:Ft,after:Kt}=Le.value,ro=B0({slides:_,position:"before",toShow:Ft}),Pe=B0({slides:_,position:"after",toShow:Kt}),Te=[...ro,...Dt,...Pe];if(!v.enabled||!Te.length)return En("section",{ref:r,class:["carousel","is-disabled"]},Te);const Ge=((pt=a.addons)===null||pt===void 0?void 0:pt.call(a,Vt))||[],nt=En("ol",{class:"carousel__track",style:{transform:Ot.value},onMousedownCapture:v.mouseDrag?Ye:null,onTouchstartPassiveCapture:v.touchDrag?Ye:null},Te),yt=En("div",{class:"carousel__viewport",ref:i},nt);return En("section",{ref:r,class:["carousel",`is-${B.value}`,`is-effect-${v.slideEffect}`,{"is-vertical":L.value,"is-sliding":ee.value,"is-dragging":ge.value,"is-hover":se.value}],dir:B.value,style:Jt.value,"aria-label":v.i18n.ariaGallery,tabindex:"0",onFocus:Oe,onBlur:ze,onMouseenter:be,onMouseleave:Me},[yt,Ge,En(xIo)])}}});var H0;(function(o){o.arrowDown="arrowDown",o.arrowLeft="arrowLeft",o.arrowRight="arrowRight",o.arrowUp="arrowUp"})(H0||(H0={}));const AIo=Oa({name:"CarouselSlide",props:{id:{type:String,default:o=>o.isClone?void 0:O2()},index:{type:Number,default:void 0},isClone:{type:Boolean,default:!1},position:{type:String,default:void 0}},setup(o,{attrs:a,slots:s,expose:t}){const c=Je(gh);if(Sh(gh,void 0),!c)return()=>"";const m=h(o.index),_=D=>{m.value=D},l=Ha(),r=()=>{const D=l.vnode.el;return D?D.getBoundingClientRect():{width:0,height:0}};t({id:o.id,setIndex:_,getBoundingRect:r});const i=$o(()=>m.value===c.activeSlide),d=$o(()=>m.value===c.activeSlide-1),p=$o(()=>m.value===c.activeSlide+1),v=$o(()=>m.value>=c.visibleRange.min&&m.value<=c.visibleRange.max),g=$o(()=>{if(c.config.itemsToShow==="auto")return;const D=c.config.itemsToShow,y=c.config.gap>0&&D>1?`calc(${100/D}% - ${c.config.gap*(D-1)/D}px)`:`${100/D}%`;return c.isVertical?{height:y}:{width:y}});return c.slideRegistry.registerSlide(l,o.index),Cm(()=>{c.slideRegistry.unregisterSlide(l)}),o.isClone&&(Qe(()=>{U0(l.vnode)}),Dm(()=>{U0(l.vnode)})),()=>{var D,y;return c.config.enabled?En("li",{style:[a.style,Object.assign({},g.value)],class:{carousel__slide:!0,"carousel__slide--clone":o.isClone,"carousel__slide--visible":v.value,"carousel__slide--active":i.value,"carousel__slide--prev":d.value,"carousel__slide--next":p.value,"carousel__slide--sliding":c.isSliding},onFocusin:()=>{c.viewport&&(c.viewport.scrollLeft=0),c.nav.slideTo(m.value)},id:o.isClone?void 0:o.id,"aria-hidden":o.isClone||void 0},(y=s.default)===null||y===void 0?void 0:y.call(s,{currentIndex:m.value,isActive:i.value,isClone:o.isClone,isPrev:d.value,isNext:p.value,isSliding:c.isSliding,isVisible:v.value})):(D=s.default)===null||D===void 0?void 0:D.call(s)}}}),IIo={name:"Companies",props:["bank","can_view_vendor_financing_requests","can_view_dealer_financing_requests"],components:{RouterLink:el,Carousel:EIo,Slide:AIo},setup(o){const a=o.bank,s=Je("baseURL"),t=o.can_view_vendor_financing_requests=="1"?h(!0):h(!1),c=o.can_view_dealer_financing_requests=="1"?h(!0):h(!1),m={itemsToShow:1,wrapAround:!0,autoplay:1e4},_=h([]),l=()=>{A.get(s+o.bank+"/dashboard/data").then(r=>{_.value=r.data})};return Qe(()=>{l()}),{current_bank:a,carouselConfig:m,dashboard_data:_,can_view_dealer_financing_requests:c,can_view_vendor_financing_requests:t}}},RIo={key:0,class:"carousel__item p-0",id:"vendor-financing"},SIo={class:"row match-height"},TIo={class:"col-lg-3 col-sm-6 mb-4"},jIo={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},OIo={class:"card-body d-flex justify-content-between align-items-center"},MIo={class:"card-title mb-0"},LIo={class:"mb-0 me-2"},NIo={class:"text-success"},FIo={class:"mb-0 me-2"},YIo={class:"col-lg-3 col-sm-6 mb-4"},VIo=["href"],BIo={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},UIo={class:"card-body d-flex justify-content-between align-items-center"},qIo={class:"card-title mb-0"},HIo={class:"mb-0 me-2"},zIo={class:"mb-0 me-2"},WIo={class:"col-lg-3 col-sm-6 mb-4"},KIo={class:"card h-100 border border-warning",style:{"box-shadow":"none"}},GIo={class:"card-body d-flex justify-content-between align-items-center"},QIo={class:"card-title mb-0"},ZIo={class:"mb-0 me-2"},JIo={class:"mb-0 me-2"},XIo={class:"col-lg-3 col-sm-6 mb-4"},e8o=["href"],t8o={class:"card h-100 border border-danger",style:{"box-shadow":"none"}},o8o={class:"card-body d-flex justify-content-between align-items-center"},a8o={class:"card-title mb-0"},n8o={class:"mb-0 me-2"},s8o={class:"mb-0 me-2"},l8o={key:0,class:"carousel__item p-0",id:"factoring"},i8o={class:"row match-height"},r8o={class:"col-lg-3 col-sm-6 mb-4"},d8o={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},c8o={class:"card-body d-flex justify-content-between align-items-center"},u8o={class:"card-title mb-0"},_8o={class:"mb-0 me-2"},m8o={class:"text-success"},f8o={class:"mb-0 me-2"},h8o={class:"col-lg-3 col-sm-6 mb-4"},p8o=["href"],v8o={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},g8o={class:"card-body d-flex justify-content-between align-items-center"},b8o={class:"card-title mb-0"},y8o={class:"mb-0 me-2"},k8o={class:"mb-0 me-2"},$8o={class:"col-lg-3 col-sm-6 mb-4"},w8o={class:"card h-100 border border-waring",style:{"box-shadow":"none"}},D8o={class:"card-body d-flex justify-content-between align-items-center"},C8o={class:"card-title mb-0"},x8o={class:"mb-0 me-2"},P8o={class:"mb-0 me-2"},E8o={class:"col-lg-3 col-sm-6 mb-4"},A8o=["href"],I8o={class:"card h-100 border border-danger",style:{"box-shadow":"none"}},R8o={class:"card-body d-flex justify-content-between align-items-center"},S8o={class:"card-title mb-0"},T8o={class:"mb-0 me-2"},j8o={class:"mb-0 me-2"},O8o={key:0,class:"carousel__item p-0",id:"dealer-financing"},M8o={class:"row match-height"},L8o={class:"col-lg-3 col-sm-6 mb-4"},N8o={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},F8o={class:"card-body d-flex justify-content-between align-items-center"},Y8o={class:"card-title mb-0"},V8o={class:"mb-0 me-2"},B8o={class:"text-success"},U8o={class:"mb-0 me-2"},q8o={class:"col-lg-3 col-sm-6 mb-4"},H8o=["href"],z8o={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},W8o={class:"card-body d-flex justify-content-between align-items-center"},K8o={class:"card-title mb-0"},G8o={class:"mb-0 me-2"},Q8o={class:"mb-0 me-2"},Z8o={class:"col-lg-3 col-sm-6 mb-4"},J8o={class:"card h-100 border border-warning",style:{"box-shadow":"none"}},X8o={class:"card-body d-flex justify-content-between align-items-center"},eRo={class:"card-title mb-0"},tRo={class:"mb-0 me-2"},oRo={class:"mb-0 me-2"},aRo={class:"col-lg-3 col-sm-6 mb-4"},nRo=["href"],sRo={class:"card h-100 border border-info",style:{"box-shadow":"none"}},lRo={class:"card-body d-flex justify-content-between align-items-center"},iRo={class:"card-title mb-0"},rRo={class:"mb-0 me-2"},dRo={class:"mb-0 me-2"};function cRo(o,a,s,t,c,m){const _=de("Slide"),l=de("Carousel");return t.dashboard_data&&t.dashboard_data.has_data?(u(),fe(l,G0($t({key:0},t.carouselConfig)),{default:Ko(()=>[Be(_,null,{default:Ko(()=>[t.can_view_vendor_financing_requests?(u(),f("div",RIo,[e("div",SIo,[e("div",TIo,[e("div",jIo,[e("div",OIo,[e("div",MIo,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",LIo,[le(n(o.$t("Anchors"))+" ",1),e("span",NIo,"("+n(t.dashboard_data.vendor_financing_anchors_count)+")",1)]),e("h6",FIo,n(o.$t("Total Vendors"))+" - "+n(t.dashboard_data.vendors_count),1)]),a[0]||(a[0]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])]),e("div",YIo,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",BIo,[e("div",UIo,[e("div",qIo,[e("h6",null,n(o.$t("Maturing Payments")),1),e("h5",HIo,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_maturing_payments_count)),1),e("h6",zIo,n(o.$t("Vendor Financing")),1)]),a[1]||(a[1]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,VIo)]),e("div",WIo,[e("div",KIo,[e("div",GIo,[e("div",QIo,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",ZIo,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_payments_pending_approval_count)),1),e("h6",JIo,n(o.$t("Vendor Financing")),1)]),a[2]||(a[2]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",XIo,[e("a",{href:t.current_bank+"/requests/reverse-factoring?status_search=disbursed&period=mtd"},[e("div",t8o,[e("div",o8o,[e("div",a8o,[e("h6",null,n(o.$t("Disbursed Payments"))+" ("+n(o.$t("MTD"))+")",1),e("h5",n8o,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_disbursed_payments_count)),1),e("h6",s8o,n(o.$t("Vendor Financing")),1)]),a[3]||(a[3]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,e8o)])])])):b("",!0)]),_:1}),Be(_,null,{default:Ko(()=>[t.can_view_vendor_financing_requests?(u(),f("div",l8o,[e("div",i8o,[e("div",r8o,[e("div",d8o,[e("div",c8o,[e("div",u8o,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",_8o,[le(n(o.$t("Anchors"))+" ",1),e("span",m8o,"("+n(t.dashboard_data.factoring_anchors_count)+")",1)]),e("h6",f8o,n(o.$t("Total Buyers"))+" - "+n(t.dashboard_data.buyers_count),1)]),a[4]||(a[4]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",h8o,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",v8o,[e("div",g8o,[e("div",b8o,[e("h6",null,n(o.$t("Maturing Payments")),1),e("h5",y8o,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_maturing_payments_count)),1),e("h6",k8o,n(o.$t("Factoring")),1)]),a[5]||(a[5]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,p8o)]),e("div",$8o,[e("div",w8o,[e("div",D8o,[e("div",C8o,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",x8o,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_payments_pending_approval_count)),1),e("h6",P8o,n(o.$t("Factoring")),1)]),a[6]||(a[6]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",E8o,[e("a",{href:t.current_bank+"/requests/factoring?status_search=disbursed&period=mtd"},[e("div",I8o,[e("div",R8o,[e("div",S8o,[e("h6",null,n(o.$t("Disbursed Payments"))+" ("+n(o.$t("MTD"))+")",1),e("h5",T8o,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_disbursed_payments_count)),1),e("h6",j8o,n(o.$t("Factoring")),1)]),a[7]||(a[7]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,A8o)])])])):b("",!0)]),_:1}),Be(_,null,{default:Ko(()=>[t.can_view_dealer_financing_requests?(u(),f("div",O8o,[e("div",M8o,[e("div",L8o,[e("div",N8o,[e("div",F8o,[e("div",Y8o,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",V8o,[le(n(o.$t("Anchors"))+" ",1),e("span",B8o,"("+n(t.dashboard_data.dealer_financing_anchors_count)+")",1)]),e("h6",U8o,n(o.$t("Total Dealers"))+" - "+n(t.dashboard_data.dealers_count),1)]),a[8]||(a[8]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",q8o,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",z8o,[e("div",W8o,[e("div",K8o,[e("h6",null,n(o.$t("Maturing Payments")),1),e("h5",G8o,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_maturing_payments_count)),1),e("h6",Q8o,n(o.$t("Dealer Financing")),1)]),a[9]||(a[9]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,H8o)]),e("div",Z8o,[e("div",J8o,[e("div",X8o,[e("div",eRo,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",tRo,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_payments_pending_approval_count)),1),e("h6",oRo,n(o.$t("Dealer Financing")),1)]),a[10]||(a[10]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",aRo,[e("a",{href:t.current_bank+"/requests/dealer-financing?status_search=disbursed&period=mtd"},[e("div",sRo,[e("div",lRo,[e("div",iRo,[e("h6",null,n(o.$t("Disbursed Payments"))+"("+n(o.$t("MTD"))+")",1),e("h5",rRo,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_disbursed_payments_count)),1),e("h6",dRo,n(o.$t("Dealer Financing")),1)]),a[11]||(a[11]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,nRo)])])])):b("",!0)]),_:1})]),_:1},16)):b("",!0)}const uRo=Ue(IIo,[["render",cRo],["__scopeId","data-v-f915be12"]]),_Ro={name:"Notifications",props:["bank"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=async()=>{await A.get(s+o.bank+"/notifications/data").then(l=>{t.value=l.data})},m=l=>{A.get(s+o.bank+"/notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=l=>{A.get(s+o.bank+"/notifications/read/all").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:t,markAsRead:m,markAllAsRead:_}}},mRo={class:"card p-2"},fRo={class:"table-responsive"},hRo={class:"table"},pRo={class:""},vRo={class:"table-border-bottom-0"},gRo={key:0},bRo={colspan:"12",class:"text-center"},yRo={class:"text-center"},kRo={key:1},$Ro={colspan:"12",class:"text-center"},wRo={class:"text-center"},DRo={key:0},CRo={key:1},xRo={key:2},PRo={key:3},ERo={key:4},ARo={key:5},IRo={key:6},RRo={key:7},SRo={key:8},TRo={key:9},jRo={key:10},ORo={key:11},MRo={key:12},LRo={key:13},NRo={key:14},FRo={key:15},YRo={key:16},VRo={key:17},BRo=["onClick"];function URo(o,a,s,t,c,m){return u(),f("div",mRo,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",fRo,[e("table",hRo,[e("thead",null,[e("tr",pRo,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",vRo,[t.logs?b("",!0):(u(),f("tr",gRo,[e("td",bRo,[e("span",yRo,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",kRo,[e("td",$Ro,[e("span",wRo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\PaymentRequest"?(u(),f("span",DRo,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\PaymentRequestNotification"?(u(),f("span",CRo,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BankUserActivation"?(u(),f("span",xRo,n("Bank User Activation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BankUserMapping"?(u(),f("span",PRo,n("Bank User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BranchesUpdate"?(u(),f("span",ERo,n("Branches Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ChangesApproval"?(u(),f("span",ARo,n("Product Changes Approval: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyCreation"?(u(),f("span",IRo,n("Company Created: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUpdation"?(u(),f("span",RRo,n("Company Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUserMapping"?(u(),f("span",SRo,n("Company User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\FeesMasterUpdate"?(u(),f("span",TRo,n("Fees Master Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\HolidayListUpdate"?(u(),f("span",jRo,n("Holiday List Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProductConfigurationUpdation"?(u(),f("span",ORo,n("Product Config Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramCreation"?(u(),f("span",MRo,n("Program Created: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramExpiry"?(u(),f("span",LRo,n("Program Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramUpdation"?(u(),f("span",NRo,n("Program Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramUserMapping"?(u(),f("span",FRo,n("Program User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\TaxesUpdate"?(u(),f("span",YRo,n("Taxes Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramReview"?(u(),f("span",VRo,n("Program Review: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,BRo)])]))),128))])])])])}const qRo=Ue(_Ro,[["render",URo]]),HRo={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},zRo={"aria-label":"Page navigation",class:"mt-2 d-flex justify-content-between"},WRo={key:0,class:"d-flex my-auto text-primary"},KRo={class:"mx-1 fw-bold"},GRo={class:"mx-1 fw-bold"},QRo={class:"mx-1 fw-bold"},ZRo={class:"pagination justify-content-end"},JRo={class:"page-item prev"},XRo=["onClick","innerHTML"],eSo={class:"page-item next"};function tSo(o,a,s,t,c,m){return u(),f("nav",zRo,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",WRo,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",KRo,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",GRo,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",QRo,n(s.total_items),1)])):b("",!0)]),e("ul",ZRo,[e("li",JRo,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(W,null,X(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,XRo)):b("",!0)],2))),128)),e("li",eSo,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const St=Ue(HRo,[["render",tSo]]),oSo={name:"VendorFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),D=h([]),y=h(""),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h([]),O=h(5),L=h(null),R=h(null),P=h(!1),I=h(0),S=async()=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data?per_page="+O.value+"&type=dashboard").then(we=>{m.value=we.data.payment_requests,B.value=we.data.rejection_reasons}).catch(we=>{console.log(we)})};Qe(()=>{S()});const F=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(we=>{we.user_can_approve&&!we.user_has_approved&&(document.getElementById("payment-request-"+we.id).checked=!0,r.value.push(we.id))}):m.value.data.forEach(we=>{if(we.user_can_approve&&!we.user_has_approved&&document.getElementById("payment-request-"+we.id).checked==!0){document.getElementById("payment-request-"+we.id).checked=!1;let se;if(!r.value.filter(function(be,Me){se=Me,be==we.id}))return!1;r.value.splice(se,1)}})},N=we=>{if(r.value.includes(we)){const se=r.value.indexOf(we);r.value.splice(se,1)}else r.value.push(we)},U=we=>{if(r.value.length<=0){s.error("Select requests");return}const se=new FormData;we=="rejected"&&(r.value.forEach(ge=>{se.append("requests[]",ge)}),se.append("rejection_reason",l.value),se.append("custom_rejection_reason",V.value),se.append("status","rejected")),we=="approve"&&(r.value.forEach(ge=>{se.append("requests[]",ge)}),se.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",se).then(()=>{s.success("Financing Requests updated"),i.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(ge=>{console.log(ge),s.error("An error occurred")})};return ot(i,we=>{r.value.length>0?(we=="rejected"&&p.value.click(),D.value=[],g.value=0,we=="approve"&&(r.value.forEach(se=>{D.value.push(m.value.data.filter(ge=>ge.id==se)[0])}),D.value.forEach(se=>{g.value+=se.amount}),v.value.click())):s.error("Select Payment Requests")}),ot([O],async([we])=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:we}}).then(se=>{m.value=se.data.payment_requests}).catch(se=>{console.log(se)})}),{moment:H,bank_url:c,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:D,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:C,status_search:x,anchor_search:k,vendor_search:E,sort_by:w,request_date_search:T,rejection_reasons:B,customRequestRejectionReason:V,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:we=>{document.getElementById("rejection-reason-"+we).value=="other"?document.getElementById("custom-rejection-reason-"+we).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+we).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+we).value="")},per_page:O,filter:async()=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:O.value,invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,request_date:T.value}}).then(we=>{m.value=we.data.payment_requests})},refresh:async()=>{C.value="",x.value="",y.value="",C.value="",E.value="",k.value="",x.value="",w.value="",T.value="",await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:O.value}}).then(we=>{m.value=we.data.payment_requests})},selectAll:F,invoice_details:L,company_details:R,showCompany:async(we,se)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+we+"/details").then(ge=>{R.value=ge.data.company,bt(()=>{document.getElementById(se).click()})}).catch(ge=>{console.log(ge)})},resolvePaymentRequestStatus:we=>{let se="";switch(we){case"Pending Maker":se="bg-label-primary";break;case"Pending Checker":se="bg-label-warning";break;case"Created":se="bg-label-secondary";break;case"Pending":se="bg-label-secondary";break;case"Approved":se="bg-label-success";break;case"Paid":se="bg-label-success";break;case"Failed":se="bg-label-danger";break;case"Rejected":se="bg-label-danger";break;case"Past Due":se="bg-label-danger";break;default:se="bg-label-primary";break}return se},changePage:async we=>{await A.get(we+"&per_page="+O.value).then(se=>{m.value=se.data.payment_requests})},resolveFinancingStatus:we=>{let se="";switch(we){case"pending":se="bg-label-primary";break;case"paid":se="bg-label-primary";break;case"closed":se="bg-label-success";break;case"denied":se="bg-label-danger";break;default:se="bg-label-primary";break}return se},updateStatus:(we,se)=>{P.value=!0;const ge=new FormData;ge.append("payment_request_id",we.id),ge.append("status",se),ge.append("rejection_reason",l.value),ge.append("custom_rejection_reason",V.value),A.post(t+o.bank+"/requests/payment-requests/update",ge).then(()=>{s.success("Vendor Financing Request updated successfully"),S(),se=="approved"?document.getElementById("approve-payment-request-close-btn-"+we.id).click():document.getElementById("reject-payment-request-close-btn-"+we.id).click()}).catch(be=>{console.log(be),s.error("An error occurred")}).finally(()=>{P.value=!1})},getTaxPercentage:(we,se)=>(se/we*100).toFixed(2),updateSelected:N,submitBulkAction:U,showInvoice:async(we,se)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+we+"/details").then(ge=>{L.value=ge.data,I.value++,bt(()=>{document.getElementById(se).click()})}).catch(ge=>{console.log(ge)})},date_format:a,is_updating:P,invoice_details_key:I}}},aSo={class:"card p-1"},nSo={class:"d-flex justify-content-between"},sSo={class:"card-header px-1"},lSo=["href"],iSo={class:"table-responsive"},rSo={class:"table"},dSo={class:""},cSo={class:"px-1"},uSo={class:""},_So={class:"px-1"},mSo={class:"px-1"},fSo={class:"px-1"},hSo={class:"px-1"},pSo={class:"px-1"},vSo={class:"px-1"},gSo={class:"px-1"},bSo={class:"px-1"},ySo={class:"table-border-bottom-0"},kSo={key:0},$So={colspan:"12",class:"text-center"},wSo={class:"text-center"},DSo={key:1},CSo={colspan:"12",class:"text-center"},xSo={class:"text-center"},PSo=["onClick"],ESo=["onClick"],ASo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},ISo=["onClick"],RSo={key:1},SSo=["title"],TSo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},jSo=["onClick"],OSo={key:1},MSo={class:"px-1"},LSo={class:"px-1"},NSo={class:"text-success px-1"},FSo={class:"text-success px-1"},YSo={class:"px-1"},VSo={class:"px-1"},BSo={class:"d-flex"},USo={key:0},qSo=["data-bs-target"],HSo={key:1},zSo=["data-bs-target"],WSo={key:2},KSo=["title"],GSo={key:3},QSo=["title"],ZSo=["id","data-bs-target"],JSo=["id","data-bs-target"],XSo=["id","data-bs-target"],eTo=["id"],tTo=["id"],oTo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},aTo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},nTo={class:"modal-content"},sTo={class:"modal-body"},lTo={class:"d-flex justify-content-center"},iTo=["id"],rTo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},dTo={class:"modal-content"},cTo={class:"modal-header"},uTo={class:"modal-title",id:"modalCenterTitle"},_To={class:"d-flex gap-1"},mTo={key:0},fTo=["data-bs-target"],hTo={key:1,class:"mx-1"},pTo=["data-bs-target"],vTo=["data-bs-target"],gTo=["href"],bTo={class:"modal-body"},yTo={class:"row mb-1"},kTo={class:"col-6 my-1"},$To={class:"col-6"},wTo=["href"],DTo={class:"col-6 my-1"},CTo={class:"col-6"},xTo=["href"],PTo={class:"col-6 my-1"},ETo={class:"col-6"},ATo={class:"col-6 my-1"},ITo={class:"col-6"},RTo={class:"col-6 my-1"},STo=["onClick"],TTo={class:"col-6 my-1"},jTo={class:"col-6 text-success"},OTo={class:"col-6 my-1"},MTo={class:"col-6"},LTo={class:"col-6 my-1"},NTo={class:"col-6 text-success"},FTo={class:"col-6 my-1"},YTo={class:"col-6 text-success"},VTo={class:"col-6 my-1"},BTo={class:"col-6"},UTo={class:"col-6 my-1"},qTo={class:"col-6"},HTo={class:"col-6 my-1"},zTo={class:"col-6"},WTo={class:"col-6 my-1"},KTo={class:"col-6"},GTo={class:"col-6 my-1"},QTo={class:"col-6"},ZTo={key:0,class:"col-12"},JTo={key:0,class:"row"},XTo={class:"col-6 my-1 d-flex"},ejo={class:""},tjo={key:0,class:""},ojo={class:"col-6 text-success"},ajo={class:"col-6 my-1"},njo={class:"col-6 text-success"},sjo={class:"col-6 my-1"},ljo={class:"col-6"},ijo={key:1,class:"col-6"},rjo={key:2,class:"col-6 my-1"},djo={key:3,class:"col-6"},cjo={key:4,class:"col-6 my-1"},ujo={class:"modal-footer"},_jo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},mjo=["id"],fjo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},hjo={class:"modal-content"},pjo={class:"modal-header"},vjo={class:"modal-title",id:"modalCenterTitle"},gjo=["id"],bjo=["onSubmit"],yjo={class:"modal-body"},kjo={class:"modal-footer"},$jo=["disabled"],wjo=["id"],Djo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Cjo={class:"modal-content"},xjo={class:"modal-header"},Pjo={class:"modal-title",id:"modalCenterTitle"},Ejo=["id"],Ajo=["onSubmit"],Ijo={class:"modal-body"},Rjo={class:"row mb-1"},Sjo={class:"form-group"},Tjo={for:""},jjo=["id","onChange"],Ojo=["value"],Mjo={value:"other"},Ljo=["id"],Njo={class:"modal-footer"},Fjo=["disabled"],Yjo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},Vjo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Bjo={class:"modal-content"},Ujo={class:"modal-header"},qjo={class:"modal-title",id:"modalCenterTitle"},Hjo={class:"modal-body"},zjo={class:"row mb-1"},Wjo={class:"col-5 d-flex"},Kjo={class:""},Gjo={class:""},Qjo={class:"col-5 d-flex"},Zjo={class:""},Jjo={class:""},Xjo={class:"col-5 d-flex"},eOo={class:""},tOo={class:""},oOo={class:"col-5 d-flex"},aOo={class:""},nOo={class:""},sOo={class:"col-5 d-flex"},lOo={class:""},iOo={class:""},rOo={class:"col-5 d-flex"},dOo={class:""},cOo={class:""},uOo={class:"col-5 d-flex"},_Oo={class:""},mOo={class:""},fOo={class:"col-5 d-flex"},hOo={class:""},pOo={class:""},vOo={class:"col-5 d-flex"},gOo={class:""},bOo={class:""},yOo={class:"col-5 d-flex"},kOo={class:""},$Oo={class:""},wOo={class:"col-4"},DOo={class:"d-flex"},COo={class:""},xOo={class:""},POo={class:"col-4"},EOo={class:"d-flex"},AOo={class:""},IOo={class:""},ROo={class:"col-4"},SOo={class:"d-flex"},TOo={class:""},jOo={class:""},OOo={class:"modal-footer"},MOo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function LOo(o,a,s,t,c,m){const _=de("invoice-details"),l=de("payment-instruction"),r=de("upload-attachment");return u(),f("div",aSo,[e("div",nSo,[e("h5",sSo,n(o.$t("Latest Vendor Financing Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/reverse-factoring"},n(o.$t("View All")),9,lSo)]),e("div",iSo,[e("table",rSo,[e("thead",null,[e("tr",dSo,[e("th",cSo,n(o.$t("Payment Reference No"))+".",1),e("th",uSo,n(o.$t("Invoice No"))+".",1),e("th",_So,n(o.$t("Vendor")),1),e("th",mSo,n(o.$t("Anchor")),1),e("th",fSo,n(o.$t("Request Date")),1),e("th",hSo,n(o.$t("Due Date")),1),e("th",pSo,n(o.$t("PI Amount")),1),e("th",vSo,n(o.$t("Payment Amount")),1),e("th",gSo,n(o.$t("Status")),1),e("th",bSo,n(o.$t("Actions")),1)])]),e("tbody",ySo,[t.requests.data?b("",!0):(u(),f("tr",kSo,[e("td",$So,[e("span",wSo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",DSo,[e("td",CSo,[e("span",xSo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{onClick:d=>t.showInvoice(i.invoice_id,"show-payment-request-btn-"+i.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,PSo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,ESo),e("td",ASo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.company_id,"show-vendor-details-btn-"+i.company_id)},n(i.company_name),9,ISo)):(u(),f("span",RSo,n(i.company_name),1)),i.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+i.utilized_percentage_ratio+"% utilized"},null,8,SSo)):b("",!0)]),e("td",TSo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.anchor_id,"show-anchor-details-btn-"+i.anchor_id)},n(i.anchor_name),9,jSo)):(u(),f("span",OSo,n(i.anchor_name),1))]),e("td",MSo,n(t.moment(i.created_at).format(t.date_format)),1),e("td",LSo,n(t.moment(i.due_date).format(t.date_format)),1),e("td",NSo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_amount)),1),e("td",FSo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.amount)),1),e("td",YSo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",VSo,[e("div",BSo,[!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",USo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},null,8,qSo)])):b("",!0),!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",HSo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},null,8,zSo)])):b("",!0),(i.program_suspended||i.mapping_suspended)&&i.status!="rejected"?(u(),f("span",WSo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,KSo)])):b("",!0),i.status=="rejected"?(u(),f("span",GSo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:i.rejected_reason,style:{cursor:"pointer"}},null,8,QSo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+i.invoice_id},null,8,ZSo),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,JSo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,XSo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+i.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,eTo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,tTo),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",oTo,[e("div",aTo,[e("div",nTo,[e("div",sTo,[e("div",lTo,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+i.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",rTo,[e("div",dTo,[e("div",cTo,[e("h5",uTo,n(o.$t("Payment Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",_To,[i.user_can_approve&&!i.user_has_approved?(u(),f("span",mTo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},n(o.$t("Approve")),9,fTo)])):b("",!0),i.user_can_approve&&!i.user_has_approved?(u(),f("span",hTo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,pTo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+i.invoice_id},n(o.$t("Attachment")),9,vTo)]),e("div",null,[e("a",{href:t.bank_url+"/payment-request/"+i.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,gTo)])])]),e("div",bTo,[e("div",yTo,[e("div",kTo,n(o.$t("Vendor")),1),e("div",$To,[e("a",{href:t.bank_url+"/companies/"+i.company_id+"/details",class:"fw-bold my-auto"},n(i.company_name),9,wTo)]),e("div",DTo,n(o.$t("Anchor")),1),e("div",CTo,[e("a",{href:t.bank_url+"/companies/"+i.anchor_id+"/details",class:"fw-bold my-auto"},n(i.anchor_name),9,xTo)]),e("div",PTo,n(o.$t("Program Name")),1),e("div",ETo,n(i.program_name),1),e("div",ATo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",ITo,n(i.invoice_number),1),e("div",RTo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,STo),e("div",TTo,n(o.$t("PI Amount")),1),e("div",jTo,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",OTo,n(o.$t("Eligibility"))+" (%)",1),e("div",MTo,n(i.eligibility),1),e("div",LTo,n(o.$t("Eligible Payment Amount")),1),e("div",NTo,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",FTo,n(o.$t("Requested Payment Amount")),1),e("div",YTo,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",VTo,n(o.$t("Credit to Account No"))+".:",1),e("div",BTo,n(i.payment_accounts[0].account),1),e("div",UTo,n(o.$t("Request Date")),1),e("div",qTo,n(t.moment(i.created_at).format(t.date_format)),1),e("div",HTo,n(o.$t("Requested Disbursement Date")),1),e("div",zTo,n(t.moment(i.payment_request_date).isBefore(t.moment())&&i.status=="created"?t.moment().format(t.date_format):t.moment(i.payment_request_date).format(t.date_format)),1),e("div",WTo,n(o.$t("Due Date")),1),e("div",KTo,n(t.moment(i.due_date).format(t.date_format)),1),e("div",GTo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",QTo,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",ZTo,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",JTo,[e("div",XTo,[e("div",ejo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",tjo," ("+n(d.description)+") ",1)):b("",!0)]),e("div",ojo,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",ajo,n(o.$t("Net Disbursal Total")),1),e("div",njo,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",sjo,n(o.$t("Status")),1),e("div",ljo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),i.approvals.length>0?(u(),f("div",ijo,n(o.$t("Approved By")),1)):b("",!0),i.approvals.length>0?(u(),f("div",rjo,n(i.approvals[i.approvals.length-1].user.name),1)):b("",!0),i.rejected_by?(u(),f("div",djo,n(o.$t("Rejected By")),1)):b("",!0),i.rejected_by?(u(),f("div",cjo,n(i.rejected_by.name),1)):b("",!0)])]),e("div",ujo,[e("button",_jo,n(o.$t(" Close")),1)])])])],8,iTo),e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",fjo,[e("div",hjo,[e("div",pjo,[e("h5",vjo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,gjo)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"approved"),["prevent"]),method:"post"},[e("div",yjo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with the reference number, "))+" "+n(i.reference_number)+"? ",1)]),e("div",kjo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,$jo)])],40,bjo)])])],8,mjo),e("div",{class:"modal fade",id:"update-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Djo,[e("div",Cjo,[e("div",xjo,[e("h5",Pjo,n(o.$t("Reject Vendor Financing Request with reference number, "+i.reference_number)),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,Ejo)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",Ijo,[e("div",Rjo,[e("div",Sjo,[e("label",Tjo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+i.id,"onUpdate:modelValue":a[0]||(a[0]=d=>t.updateRequestRejectionReason=d),onChange:d=>t.updateSelectedRejectionReason(i.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,Ojo))),128)),e("option",Mjo,n(o.$t("Other")),1)],40,jjo),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+i.id,"onUpdate:modelValue":a[1]||(a[1]=d=>t.customRequestRejectionReason=d)},null,8,Ljo),[[Q,t.customRequestRejectionReason]])])])]),e("div",Njo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,Fjo)])],40,Ajo)])])],8,wjo),t.company_details?(u(),f("div",Yjo,[e("div",Vjo,[e("div",Bjo,[e("div",Ujo,[e("h5",qjo,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Hjo,[e("div",zjo,[e("div",Wjo,[e("div",Kjo,n(o.$t("Name"))+":",1),e("div",Gjo,n(t.company_details.name),1)]),e("div",Qjo,[e("div",Zjo,n(o.$t("KRA PIN"))+":",1),e("div",Jjo,n(t.company_details.kra_pin),1)]),e("div",Xjo,[e("div",eOo,n(o.$t("Unique Identification No."))+":",1),e("div",tOo,n(t.company_details.unique_identification_number),1)]),e("div",oOo,[e("div",aOo,n(o.$t("Business Identification No."))+":",1),e("div",nOo,n(t.company_details.business_identification_number),1)]),e("div",sOo,[e("div",lOo,n(o.$t("Type"))+":",1),e("div",iOo,n(t.company_details.organization_type),1)]),e("div",rOo,[e("div",dOo,n(o.$t("Branch Code"))+":",1),e("div",cOo,n(t.company_details.branch_code),1)]),e("div",uOo,[e("div",_Oo,n(o.$t("City"))+":",1),e("div",mOo,n(t.company_details.city),1)]),e("div",fOo,[e("div",hOo,n(o.$t("Postal Code"))+":",1),e("div",pOo,n(t.company_details.postal_code),1)]),e("div",vOo,[e("div",gOo,n(o.$t("Address"))+":",1),e("div",bOo,n(t.company_details.address),1)]),e("div",yOo,[e("div",kOo,n(o.$t("Customer Type"))+":",1),e("div",$Oo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",wOo,[e("div",DOo,[e("div",COo,n(o.$t("Name"))+":",1),e("div",xOo,n(d.name),1)])]),e("div",POo,[e("div",EOo,[e("div",AOo,n(o.$t("Email"))+":",1),e("div",IOo,n(d.email),1)])]),e("div",ROo,[e("div",SOo,[e("div",TOo,n(o.$t("Phone"))+":",1),e("div",jOo,n(d.phone_number),1)])])]))),128))]),e("div",OOo,[e("button",MOo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const NOo=Ue(oSo,[["render",LOo]]),FOo={name:"FactoringRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h(""),i=h([]),d=h(""),p=h(!1),v=h(null),g=h(null),D=h(0),y=h([]),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h([]),O=h(null),L=h(null),R=h(0),P=h(5),I=h(!1),S=async()=>{await A.get(t+o.bank+"/requests/factoring-requests/data?per_page="+P.value+"&type=dashboard").then(se=>{m.value=se.data.payment_requests,B.value=se.data.rejection_reasons}).catch(se=>{console.log(se)})},F=se=>{if(i.value.includes(se)){const ge=i.value.indexOf(se);i.value.splice(ge,1)}else i.value.push(se)},N=()=>{i.value=[],document.getElementById("select-all").checked?m.value.data.forEach(se=>{se.user_can_approve&&!se.user_has_approved&&(document.getElementById("payment-request-"+se.id).checked=!0,i.value.push(se.id))}):m.value.data.forEach(se=>{if(se.user_can_approve&&!se.user_has_approved&&document.getElementById("payment-request-"+se.id).checked==!0){document.getElementById("payment-request-"+se.id).checked=!1;let ge;if(!i.value.filter(function(Me,ue){ge=ue,Me==se.id}))return!1;i.value.splice(ge,1)}})},U=se=>{if(i.value.length<=0){s.error("Select requests");return}const ge=new FormData;se=="rejected"&&(i.value.forEach(be=>{ge.append("requests[]",be)}),ge.append("rejection_reason",l.value),ge.append("custom_rejection_reason",r.value),ge.append("status","rejected")),se=="approve"&&(i.value.forEach(be=>{ge.append("requests[]",be)}),ge.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",ge).then(()=>{s.success("Financing Requests updated"),d.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(be=>{console.log(be),s.error("An error occurred")})};ot(d,se=>{i.value.length>0?(se=="rejected"&&v.value.click(),y.value=[],D.value=0,se=="approve"&&(i.value.forEach(ge=>{y.value.push(m.value.data.filter(be=>be.id==ge)[0])}),y.value.forEach(ge=>{D.value+=ge.amount}),g.value.click())):s.error("Select Payment Requests")}),ot([P],async([se])=>{await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:se}}).then(ge=>{m.value=ge.data.payment_requests}).catch(ge=>{console.log(ge)})});const Z=async()=>{let se=$(".ti-search").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:P.value,invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,sort_by:T.value,request_date:V.value}}).then(ge=>{m.value=ge.data.payment_requests,se.html('<i class="ti ti-search"></i>')})},ce=async()=>{let se=$(".ti-refresh").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",E.value="",C.value="",x.value="",k.value="",w.value="",T.value="",V.value="",await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:P.value}}).then(ge=>{m.value=ge.data.payment_requests,se.html('<i class="ti ti-refresh"></i>')})},ae=()=>{A.get(t+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Factoring",invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,sort_by:T.value,request_date:V.value}}).then(se=>{const ge=window.URL.createObjectURL(new Blob([se.data])),be=document.createElement("a");be.href=ge,be.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(be),be.click()}).catch(se=>{console.log(se)})};return Qe(()=>{S()}),{moment:H,bank_url:c,requests:m,selected_requests:i,bulk_action:d,showBulkRejectionReasonModal:p,showRejectionModal:v,showApprovalModal:g,approveRequests:y,approveRequestsTotalAmount:D,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:C,invoice_number_search:x,status_search:E,anchor_search:w,vendor_search:k,sort_by:T,request_date_search:V,filter:Z,refresh:ce,rejection_reasons:B,customRequestRejectionReason:r,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:se=>{document.getElementById("rejection-reason-"+se).value=="other"?document.getElementById("custom-rejection-reason-"+se).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+se).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+se).value="")},per_page:P,selectAll:N,invoice_details:O,company_details:L,showCompany:async(se,ge)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+se+"/details").then(be=>{L.value=be.data.company,bt(()=>{document.getElementById(ge).click()})}).catch(be=>{console.log(be)})},resolvePaymentRequestStatus:se=>{let ge="";switch(se){case"Pending Maker":ge="bg-label-primary";break;case"Pending Checker":ge="bg-label-warning";break;case"Created":ge="bg-label-secondary";break;case"Pending":ge="bg-label-secondary";break;case"Approved":ge="bg-label-success";break;case"Paid":ge="bg-label-success";break;case"Failed":ge="bg-label-danger";break;case"Rejected":ge="bg-label-danger";break;case"Past Due":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},changePage:async se=>{await A.get(se+"&per_page="+P.value).then(ge=>{m.value=ge.data.payment_requests})},resolveFinancingStatus:se=>{let ge="";switch(se){case"pending":ge="bg-label-primary";break;case"financed":ge="bg-label-primary";break;case"closed":ge="bg-label-success";break;case"denied":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},updateStatus:(se,ge)=>{I.value=!0;const be=new FormData;be.append("payment_request_id",se.id),be.append("status",ge),be.append("rejection_reason",l.value),be.append("custom_rejection_reason",r.value),A.post(t+o.bank+"/requests/payment-requests/update",be).then(()=>{s.success("Factoring Request updated successfully"),S(),ge=="approved"?document.getElementById("approve-payment-request-close-btn-"+se.id).click():document.getElementById("reject-payment-request-close-btn-"+se.id).click()}).catch(Me=>{console.log(Me),s.error("An error occurred")}).finally(()=>{I.value=!1})},getTaxPercentage:(se,ge)=>ge/se*100,updateSelected:F,submitBulkAction:U,exportReport:ae,showInvoice:async(se,ge)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+se+"/details").then(be=>{O.value=be.data,R.value++,bt(()=>{document.getElementById(ge).click()})}).catch(be=>{console.log(be)})},date_format:a,is_updating:I,invoice_details_key:R}}},YOo={class:"card p-1"},VOo={class:"d-flex justify-content-between"},BOo={class:"card-header px-1"},UOo=["href"],qOo={class:"table-responsive"},HOo={class:"table"},zOo={class:""},WOo={class:"px-1"},KOo={class:""},GOo={class:"px-1"},QOo={class:"px-1"},ZOo={class:"px-1"},JOo={class:"px-1"},XOo={class:"px-1"},eMo={class:"px-1"},tMo={class:"px-1"},oMo={class:"px-1"},aMo={class:"table-border-bottom-0"},nMo={key:0},sMo={colspan:"12",class:"text-center"},lMo={class:"text-center"},iMo={key:1},rMo={colspan:"12",class:"text-center"},dMo={class:"text-center"},cMo=["onClick"],uMo=["onClick"],_Mo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},mMo=["onClick"],fMo={key:1},hMo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},pMo=["onClick"],vMo={key:1},gMo={class:"px-1"},bMo={class:"px-1"},yMo={class:"text-success"},kMo={class:"text-success"},$Mo={class:"px-1"},wMo={class:"px-1"},DMo={class:"d-flex"},CMo={key:0},xMo=["data-bs-target"],PMo={key:1},EMo=["data-bs-target"],AMo={key:2},IMo=["title"],RMo={key:3},SMo=["title"],TMo=["id","data-bs-target"],jMo=["id","data-bs-target"],OMo=["id","data-bs-target"],MMo=["id"],LMo=["id"],NMo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},FMo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},YMo={class:"modal-content"},VMo={class:"modal-body"},BMo={class:"d-flex justify-content-center"},UMo=["id"],qMo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},HMo={class:"modal-content"},zMo={class:"modal-header"},WMo={class:"modal-title",id:"modalCenterTitle"},KMo={class:"d-flex gap-1"},GMo={key:0},QMo=["data-bs-target"],ZMo={key:1,class:""},JMo=["data-bs-target"],XMo=["data-bs-target"],e9o=["href"],t9o={class:"modal-body"},o9o={class:"row mb-1"},a9o={class:"col-6 my-1"},n9o={class:"col-6"},s9o=["href"],l9o={class:"col-6 my-1"},i9o={class:"col-6"},r9o=["href"],d9o={class:"col-6 my-1"},c9o={class:"col-6"},u9o={class:"col-6 my-1"},_9o={class:"col-6"},m9o={class:"col-6 my-1"},f9o=["onClick"],h9o={class:"col-6 my-1"},p9o={class:"col-6 text-success"},v9o={class:"col-6 my-1"},g9o={class:"col-6"},b9o={class:"col-6 my-1"},y9o={class:"col-6 text-success"},k9o={class:"col-6 my-1"},$9o={class:"col-6 text-success"},w9o={class:"col-6 my-1"},D9o={class:"col-6"},C9o={class:"col-6 my-1"},x9o={class:"col-6"},P9o={class:"col-6 my-1"},E9o={class:"col-6"},A9o={class:"col-6 my-1"},I9o={class:"col-6"},R9o={class:"col-6 my-1"},S9o={class:"col-6"},T9o={key:0,class:"col-12"},j9o={key:0,class:"row"},O9o={class:"col-6 my-1 d-flex"},M9o={class:""},L9o={key:0,class:""},N9o={class:"col-6 text-success"},F9o={class:"col-6 my-1"},Y9o={class:"col-6 text-success"},V9o={class:"col-6 my-1"},B9o={class:"col-6"},U9o={key:1,class:"col-6"},q9o={key:2,class:"col-6 my-1"},H9o={key:3,class:"col-6"},z9o={key:4,class:"col-6 my-1"},W9o={class:"modal-footer"},K9o={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},G9o=["id"],Q9o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Z9o={class:"modal-content"},J9o={class:"modal-header"},X9o={class:"modal-title",id:"modalCenterTitle"},e7o=["id"],t7o=["onSubmit"],o7o={class:"modal-body"},a7o={class:"modal-footer"},n7o=["disabled"],s7o=["id"],l7o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},i7o={class:"modal-content"},r7o={class:"modal-header"},d7o={class:"modal-title",id:"modalCenterTitle"},c7o=["id"],u7o=["onSubmit"],_7o={class:"modal-body"},m7o={class:"row mb-1"},f7o={class:"form-group"},h7o={for:""},p7o=["id","onChange"],v7o=["value"],g7o={value:"other"},b7o=["id"],y7o={class:"modal-footer"},k7o=["disabled"],$7o={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},w7o={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},D7o={class:"modal-content"},C7o={class:"modal-header"},x7o={class:"modal-title",id:"modalCenterTitle"},P7o={class:"modal-body"},E7o={class:"row mb-1"},A7o={class:"col-5 d-flex"},I7o={class:""},R7o={class:""},S7o={class:"col-5 d-flex"},T7o={class:""},j7o={class:""},O7o={class:"col-5 d-flex"},M7o={class:""},L7o={class:""},N7o={class:"col-5 d-flex"},F7o={class:""},Y7o={class:""},V7o={class:"col-5 d-flex"},B7o={class:""},U7o={class:""},q7o={class:"col-5 d-flex"},H7o={class:""},z7o={class:""},W7o={class:"col-5 d-flex"},K7o={class:""},G7o={class:""},Q7o={class:"col-5 d-flex"},Z7o={class:""},J7o={class:""},X7o={class:"col-5 d-flex"},eLo={class:""},tLo={class:""},oLo={class:"col-5 d-flex"},aLo={class:""},nLo={class:""},sLo={class:"col-4"},lLo={class:"d-flex"},iLo={class:""},rLo={class:""},dLo={class:"col-4"},cLo={class:"d-flex"},uLo={class:""},_Lo={class:""},mLo={class:"col-4"},fLo={class:"d-flex"},hLo={class:""},pLo={class:""},vLo={class:"modal-footer"},gLo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function bLo(o,a,s,t,c,m){const _=de("invoice-details"),l=de("payment-instruction"),r=de("upload-attachment");return u(),f("div",YOo,[e("div",VOo,[e("h5",BOo,n(o.$t("Latest Factoring Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/factoring"},n(o.$t("View All")),9,UOo)]),e("div",qOo,[e("table",HOo,[e("thead",null,[e("tr",zOo,[e("th",WOo,n(o.$t("Payment Reference No"))+".",1),e("th",KOo,n(o.$t("Invoice No"))+".",1),e("th",GOo,n(o.$t("Vendor")),1),e("th",QOo,n(o.$t("Anchor")),1),e("th",ZOo,n(o.$t("Request Date")),1),e("th",JOo,n(o.$t("Due Date")),1),e("th",XOo,n(o.$t("PI Amount")),1),e("th",eMo,n(o.$t("Payment Amount")),1),e("th",tMo,n(o.$t("Status")),1),e("th",oMo,n(o.$t("Actions")),1)])]),e("tbody",aMo,[t.requests.data?b("",!0):(u(),f("tr",nMo,[e("td",sMo,[e("span",lMo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",iMo,[e("td",rMo,[e("span",dMo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{onClick:d=>t.showInvoice(i.invoice_id,"show-payment-request-btn-"+i.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,cMo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,uMo),e("td",_Mo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.buyer_id,"show-vendor-details-btn-"+i.buyer_id)},n(i.buyer_name),9,mMo)):(u(),f("span",fMo,n(i.buyer_name),1))]),e("td",hMo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.anchor_id,"show-anchor-details-btn-"+i.anchor_id)},n(i.anchor_name),9,pMo)):(u(),f("span",vMo,n(i.anchor_name),1))]),e("td",gMo,n(t.moment(i.created_at).format(t.date_format)),1),e("td",bMo,n(t.moment(i.due_date).format(t.date_format)),1),e("td",yMo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_amount)),1),e("td",kMo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.amount)),1),e("td",$Mo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",wMo,[e("div",DMo,[!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",CMo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},null,8,xMo)])):b("",!0),!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",PMo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},null,8,EMo)])):b("",!0),(i.program_suspended||i.mapping_suspended)&&i.status!="rejected"?(u(),f("span",AMo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,IMo)])):b("",!0),i.status=="rejected"?(u(),f("span",RMo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:i.rejected_reason,style:{cursor:"pointer"}},null,8,SMo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+i.invoice_id},null,8,TMo),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,jMo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,OMo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+i.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,MMo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.buyer_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,LMo),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",NMo,[e("div",FMo,[e("div",YMo,[e("div",VMo,[e("div",BMo,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+i.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",qMo,[e("div",HMo,[e("div",zMo,[e("h5",WMo,n(o.$t("Factoring Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",KMo,[i.user_can_approve&&!i.user_has_approved?(u(),f("span",GMo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},n(o.$t("Approve")),9,QMo)])):b("",!0),i.user_can_approve&&!i.user_has_approved?(u(),f("span",ZMo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,JMo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+i.invoice_id},n(o.$t("Attachment")),9,XMo)]),e("div",null,[e("a",{href:"../payment-request/"+i.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,e9o)])])]),e("div",t9o,[e("div",o9o,[e("div",a9o,n(o.$t("Buyer")),1),e("div",n9o,[e("a",{href:"../companies/"+i.buyer_id+"/details",class:"fw-bold my-auto"},n(i.buyer_name),9,s9o)]),e("div",l9o,n(o.$t("Anchor")),1),e("div",i9o,[e("a",{href:"../companies/"+i.anchor_id+"/details",class:"fw-bold my-auto"},n(i.anchor_name),9,r9o)]),e("div",d9o,n(o.$t("Program Name")),1),e("div",c9o,n(i.program_name),1),e("div",u9o,n(o.$t("Invoice / Unique Reference Number")),1),e("div",_9o,n(i.invoice_number),1),e("div",m9o,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,f9o),e("div",h9o,n(o.$t("PI Amount")),1),e("div",p9o,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",v9o,n(o.$t("Eligibility"))+" (%)",1),e("div",g9o,n(i.eligibility),1),e("div",b9o,n(o.$t("Eligible Payment Amount")),1),e("div",y9o,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",k9o,n(o.$t("Requested Payment Amount")),1),e("div",$9o,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",w9o,n(o.$t("Credit to Account No"))+".:",1),e("div",D9o,n(i.payment_accounts[0].account),1),e("div",C9o,n(o.$t("Request Date")),1),e("div",x9o,n(t.moment(i.created_at).format(t.date_format)),1),e("div",P9o,n(o.$t("Requested Disbursement Date")),1),e("div",E9o,n(t.moment(i.payment_request_date).isBefore(t.moment())&&i.status=="created"?t.moment().format(t.date_format):t.moment(i.payment_request_date).format(t.date_format)),1),e("div",A9o,n(o.$t("Due Date")),1),e("div",I9o,n(t.moment(i.due_date).format(t.date_format)),1),e("div",R9o,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",S9o,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",T9o,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",j9o,[e("div",O9o,[e("div",M9o,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",L9o," ("+n(d.description)+") ",1)):b("",!0)]),e("div",N9o,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",F9o,n(o.$t("Net Disbursal Total")),1),e("div",Y9o,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",V9o,n(o.$t("Status")),1),e("div",B9o,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),i.approvals.length>0?(u(),f("div",U9o,n(o.$t("Approved By")),1)):b("",!0),i.approvals.length>0?(u(),f("div",q9o,n(i.approvals[i.approvals.length-1].user.name),1)):b("",!0),i.rejected_by?(u(),f("div",H9o,n(o.$t("Rejected By")),1)):b("",!0),i.rejected_by?(u(),f("div",z9o,n(i.rejected_by.name),1)):b("",!0)])]),e("div",W9o,[e("button",K9o,n(o.$t(" Close")),1)])])])],8,UMo),e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Q9o,[e("div",Z9o,[e("div",J9o,[e("h5",X9o,n(o.$t("Approve Factoring Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,e7o)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"approved"),["prevent"]),method:"post"},[e("div",o7o,[e("h5",null,n(o.$t("Are you sure you want to approve the Factoring request with the reference number, "))+" "+n(i.reference_number)+"? ",1)]),e("div",a7o,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,n7o)])],40,t7o)])])],8,G9o),e("div",{class:"modal fade",id:"update-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",l7o,[e("div",i7o,[e("div",r7o,[e("h5",d7o,n(o.$t("Reject Factoring Request with the reference number, "))+" "+n(i.reference_number),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,c7o)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",_7o,[e("div",m7o,[e("div",f7o,[e("label",h7o,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+i.id,"onUpdate:modelValue":a[0]||(a[0]=d=>t.updateRequestRejectionReason=d),onChange:d=>t.updateSelectedRejectionReason(i.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,v7o))),128)),e("option",g7o,n(o.$t("Other")),1)],40,p7o),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+i.id,"onUpdate:modelValue":a[1]||(a[1]=d=>t.customRequestRejectionReason=d)},null,8,b7o),[[Q,t.customRequestRejectionReason]])])])]),e("div",y7o,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,k7o)])],40,u7o)])])],8,s7o),t.company_details?(u(),f("div",$7o,[e("div",w7o,[e("div",D7o,[e("div",C7o,[e("h5",x7o,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",P7o,[e("div",E7o,[e("div",A7o,[e("div",I7o,n(o.$t("Name"))+":",1),e("div",R7o,n(t.company_details.name),1)]),e("div",S7o,[e("div",T7o,n(o.$t("KRA PIN"))+":",1),e("div",j7o,n(t.company_details.kra_pin),1)]),e("div",O7o,[e("div",M7o,n(o.$t("Unique Identification No."))+":",1),e("div",L7o,n(t.company_details.unique_identification_number),1)]),e("div",N7o,[e("div",F7o,n(o.$t("Business Identification No."))+":",1),e("div",Y7o,n(t.company_details.business_identification_number),1)]),e("div",V7o,[e("div",B7o,n(o.$t("Type"))+":",1),e("div",U7o,n(t.company_details.organization_type),1)]),e("div",q7o,[e("div",H7o,n(o.$t("Branch Code"))+":",1),e("div",z7o,n(t.company_details.branch_code),1)]),e("div",W7o,[e("div",K7o,n(o.$t("City"))+":",1),e("div",G7o,n(t.company_details.city),1)]),e("div",Q7o,[e("div",Z7o,n(o.$t("Postal Code"))+":",1),e("div",J7o,n(t.company_details.postal_code),1)]),e("div",X7o,[e("div",eLo,n(o.$t("Address"))+":",1),e("div",tLo,n(t.company_details.address),1)]),e("div",oLo,[e("div",aLo,n(o.$t("Customer Type"))+":",1),e("div",nLo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",sLo,[e("div",lLo,[e("div",iLo,n(o.$t("Name"))+":",1),e("div",rLo,n(d.name),1)])]),e("div",dLo,[e("div",cLo,[e("div",uLo,n(o.$t("Email"))+":",1),e("div",_Lo,n(d.email),1)])]),e("div",mLo,[e("div",fLo,[e("div",hLo,n(o.$t("Phone"))+":",1),e("div",pLo,n(d.phone_number),1)])])]))),128))]),e("div",vLo,[e("button",gLo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const yLo=Ue(FOo,[["render",bLo]]),kLo={name:"DealerFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),D=h([]),y=h(""),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h([]),O=h(5),L=h(null),R=h(null),P=h(!1),I=h(0),S=async()=>{await A.get(t+o.bank+"/requests/dealer-financing-requests/data?per_page="+O.value+"&type=dashboard").then(se=>{m.value=se.data.payment_requests,B.value=se.data.rejection_reasons}).catch(se=>{console.log(se)})},F=se=>{if(r.value.includes(se)){const ge=r.value.indexOf(se);r.value.splice(ge,1)}else r.value.push(se)},N=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(se=>{se.user_can_approve&&!se.user_has_approved&&(document.getElementById("payment-request-"+se.id).checked=!0,r.value.push(se.id))}):m.value.data.forEach(se=>{if(se.user_can_approve&&!se.user_has_approved&&document.getElementById("payment-request-"+se.id).checked==!0){document.getElementById("payment-request-"+se.id).checked=!1;let ge;if(!r.value.filter(function(Me,ue){ge=ue,Me==se.id}))return!1;r.value.splice(ge,1)}})},U=se=>{if(r.value.length<=0){s.error("Select requests");return}const ge=new FormData;se=="rejected"&&(r.value.forEach(be=>{ge.append("requests[]",be)}),ge.append("rejection_reason",l.value),ge.append("custom_rejection_reason",V.value),ge.append("status","rejected")),se=="approve"&&(r.value.forEach(be=>{ge.append("requests[]",be)}),ge.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",ge).then(()=>{s.success("Financing Requests updated"),i.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(be=>{console.log(be),s.error("An error occurred")})};ot(i,se=>{r.value.length>0?(se=="rejected"&&p.value.click(),D.value=[],g.value=0,se=="approve"&&(r.value.forEach(ge=>{D.value.push(m.value.data.filter(be=>be.id==ge)[0])}),D.value.forEach(ge=>{g.value+=ge.amount}),v.value.click())):s.error("Select Payment Requests")}),ot([O],async([se])=>{await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:se}}).then(ge=>{m.value=ge.data.payment_requests}).catch(ge=>{console.log(ge)})});const Z=async()=>{let se=$(".ti-search").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:O.value,invoice_number:C.value,payment_reference_number:y.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,request_date:T.value}}).then(ge=>{m.value=ge.data.payment_requests,se.html('<i class="ti ti-search"></i>')})},ce=async()=>{let se=$(".ti-refresh").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",x.value="",y.value="",C.value="",E.value="",k.value="",x.value="",w.value="",T.value="",await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:O.value}}).then(ge=>{m.value=ge.data.payment_requests,se.html('<i class="ti ti-refresh"></i>')})},ae=()=>{A.get(t+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Dealer Financing",invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,request_date:T.value}}).then(se=>{const ge=window.URL.createObjectURL(new Blob([se.data])),be=document.createElement("a");be.href=ge,be.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(be),be.click()}).catch(se=>{console.log(se)})};return Qe(()=>{S()}),{moment:H,bank_url:c,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:D,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:C,status_search:x,anchor_search:k,vendor_search:E,sort_by:w,request_date_search:T,filter:Z,refresh:ce,rejection_reasons:B,customRequestRejectionReason:V,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:se=>{document.getElementById("rejection-reason-"+se).value=="other"?document.getElementById("custom-rejection-reason-"+se).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+se).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+se).value="")},per_page:O,invoice_details:L,company_details:R,showCompany:async(se,ge)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+se+"/details").then(be=>{R.value=be.data.company,bt(()=>{document.getElementById(ge).click()})}).catch(be=>{console.log(be)})},selectAll:N,resolvePaymentRequestStatus:se=>{let ge="";switch(se){case"Pending Maker":ge="bg-label-primary";break;case"Pending Checker":ge="bg-label-warning";break;case"Created":ge="bg-label-secondary";break;case"Pending":ge="bg-label-secondary";break;case"Approved":ge="bg-label-success";break;case"Paid":ge="bg-label-success";break;case"Failed":ge="bg-label-danger";break;case"Rejected":ge="bg-label-danger";break;case"Past Due":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},changePage:async se=>{await A.get(se,{params:{type:"Dealer Financing",invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,request_date:T.value}}).then(ge=>{m.value=ge.data.payment_requests})},resolveFinancingStatus:se=>{let ge="";switch(se){case"pending":ge="bg-label-primary";break;case"financed":ge="bg-label-primary";break;case"closed":ge="bg-label-success";break;case"denied":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},updateStatus:(se,ge)=>{P.value=!0;const be=new FormData;be.append("payment_request_id",se.id),be.append("status",ge),be.append("rejection_reason",l.value),be.append("custom_rejection_reason",V.value),A.post(t+o.bank+"/requests/payment-requests/update",be).then(()=>{s.success("Dealer Financing Request updated successfully"),S(),ge=="approved"?document.getElementById("approve-payment-request-close-btn-"+se.id).click():document.getElementById("reject-payment-request-close-btn-"+se.id).click()}).catch(Me=>{console.log(Me),s.error("An error occurred")}).finally(()=>{P.value=!1})},updateSelected:F,submitBulkAction:U,exportReport:ae,showInvoice:async(se,ge)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+se+"/details").then(be=>{L.value=be.data,I.value++,bt(()=>{document.getElementById(ge).click()})}).catch(be=>{console.log(be)})},getTaxPercentage:(se,ge)=>(ge/se*100).toFixed(2),date_format:a,is_updating:P,invoice_details_key:I}}},$Lo={class:"card p-1"},wLo={class:"d-flex justify-content-between"},DLo={class:"card-header px-1"},CLo=["href"],xLo={class:"table-responsive"},PLo={class:"table"},ELo={class:""},ALo={class:"px-1"},ILo={class:""},RLo={class:"px-1"},SLo={class:"px-1"},TLo={class:"px-1"},jLo={class:"px-1"},OLo={class:"px-1"},MLo={class:"px-1"},LLo={class:"px-1"},NLo={class:"px-1"},FLo={class:"table-border-bottom-0"},YLo={key:0},VLo={colspan:"12",class:"text-center"},BLo={class:"text-center"},ULo={key:1},qLo={colspan:"12",class:"text-center"},HLo={class:"text-center"},zLo=["onClick"],WLo=["onClick"],KLo={class:"text-primary text-decoration-underline px-2"},GLo=["onClick"],QLo={key:1},ZLo={class:"text-primary text-decoration-underline px-2"},JLo=["onClick"],XLo={key:1},eNo={class:"px-1"},tNo={class:"px-1"},oNo={class:"text-success px-1"},aNo={class:"text-success px-1"},nNo={class:"px-1"},sNo={class:"px-1"},lNo={class:"d-flex"},iNo={key:0},rNo=["data-bs-target"],dNo={key:1},cNo=["data-bs-target"],uNo={key:2},_No=["title"],mNo={key:3},fNo=["title"],hNo=["id","data-bs-target"],pNo=["id","data-bs-target"],vNo=["id","data-bs-target"],gNo=["id"],bNo=["id"],yNo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kNo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$No={class:"modal-content"},wNo={class:"modal-body"},DNo={class:"d-flex justify-content-center"},CNo=["id"],xNo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},PNo={class:"modal-content"},ENo={class:"modal-header"},ANo={class:"modal-title",id:"modalCenterTitle"},INo={class:"d-flex gap-1"},RNo={key:0},SNo=["data-bs-target"],TNo={key:1,class:""},jNo=["data-bs-target"],ONo=["data-bs-target"],MNo=["href"],LNo={class:"modal-body"},NNo={class:"row mb-1"},FNo={class:"col-6 my-1"},YNo={class:"col-6"},VNo=["href"],BNo={class:"col-6 my-1"},UNo={class:"col-6"},qNo={class:"col-6 my-1"},HNo={class:"col-6"},zNo=["href"],WNo={class:"col-6 my-1"},KNo={class:"col-6"},GNo={class:"col-6 my-1"},QNo={class:"col-6"},ZNo={class:"col-6 my-1"},JNo=["onClick"],XNo={class:"col-6 my-1"},eFo={class:"col-6 text-success"},tFo={class:"col-6 my-1"},oFo={class:"col-6"},aFo={class:"col-6 my-1"},nFo={class:"col-6 text-success"},sFo={class:"col-6 my-1"},lFo={class:"col-6 text-success"},iFo={class:"col-6 my-1"},rFo={class:"col-6"},dFo={class:"col-6 my-1"},cFo={class:"col-6"},uFo={class:"col-6 my-1"},_Fo={class:"col-6"},mFo={class:"col-6 my-1"},fFo={class:"col-6"},hFo={key:0,class:"col-12"},pFo={key:0,class:"row"},vFo={class:"col-6 my-1 d-flex"},gFo={class:""},bFo={key:0,class:""},yFo={class:"col-6 text-success"},kFo={class:"col-6 my-1"},$Fo={class:"col-6 text-success"},wFo={class:"col-6"},DFo={class:"col-6"},CFo={key:1,class:"col-6"},xFo={key:2,class:"col-6 my-1"},PFo={key:3,class:"col-6"},EFo={key:4,class:"col-6 my-1"},AFo={class:"modal-footer"},IFo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},RFo=["id"],SFo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TFo={class:"modal-content"},jFo={class:"modal-header"},OFo={class:"modal-title",id:"modalCenterTitle"},MFo=["id"],LFo=["onSubmit"],NFo={class:"modal-body"},FFo={class:"modal-footer"},YFo=["disabled"],VFo=["id"],BFo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},UFo={class:"modal-content"},qFo={class:"modal-header"},HFo={class:"modal-title",id:"modalCenterTitle"},zFo=["id"],WFo=["onSubmit"],KFo={class:"modal-body"},GFo={class:"row mb-1"},QFo={class:"form-group"},ZFo={for:""},JFo=["id","onChange"],XFo=["value"],eYo={value:"other"},tYo=["id"],oYo={class:"modal-footer"},aYo=["disabled"],nYo={key:2,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},sYo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lYo={class:"modal-content"},iYo={class:"modal-header"},rYo={class:"modal-title",id:"modalCenterTitle"},dYo={class:"modal-body"},cYo={class:"row mb-1"},uYo={class:"col-5 d-flex"},_Yo={class:""},mYo={class:""},fYo={class:"col-5 d-flex"},hYo={class:""},pYo={class:""},vYo={class:"col-5 d-flex"},gYo={class:""},bYo={class:""},yYo={class:"col-5 d-flex"},kYo={class:""},$Yo={class:""},wYo={class:"col-5 d-flex"},DYo={class:""},CYo={class:""},xYo={class:"col-5 d-flex"},PYo={class:""},EYo={class:""},AYo={class:"col-5 d-flex"},IYo={class:""},RYo={class:""},SYo={class:"col-5 d-flex"},TYo={class:""},jYo={class:""},OYo={class:"col-5 d-flex"},MYo={class:""},LYo={class:""},NYo={class:"col-5 d-flex"},FYo={class:""},YYo={class:""},VYo={class:"col-4"},BYo={class:"d-flex"},UYo={class:""},qYo={class:""},HYo={class:"col-4"},zYo={class:"d-flex"},WYo={class:""},KYo={class:""},GYo={class:"col-4"},QYo={class:"d-flex"},ZYo={class:""},JYo={class:""},XYo={class:"modal-footer"},eVo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function tVo(o,a,s,t,c,m){const _=de("invoice-details"),l=de("payment-instruction");return u(),f("div",$Lo,[e("div",wLo,[e("h5",DLo,n(o.$t("Latest Dealer Financing Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/dealer-financing"},n(o.$t("View All")),9,CLo)]),e("div",xLo,[e("table",PLo,[e("thead",null,[e("tr",ELo,[e("th",ALo,n(o.$t("Payment Reference No"))+".",1),e("th",ILo,n(o.$t("Invoice No"))+".",1),e("th",RLo,n(o.$t("Dealer")),1),e("th",SLo,n(o.$t("Anchor")),1),e("th",TLo,n(o.$t("Request Date")),1),e("th",jLo,n(o.$t("Due Date")),1),e("th",OLo,n(o.$t("PI Amount")),1),e("th",MLo,n(o.$t("Payment Amount")),1),e("th",LLo,n(o.$t("Status")),1),e("th",NLo,n(o.$t("Actions")),1)])]),e("tbody",FLo,[t.requests.data?b("",!0):(u(),f("tr",YLo,[e("td",VLo,[e("span",BLo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",ULo,[e("td",qLo,[e("span",HLo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,r=>(u(),f("tr",{key:r.id},[e("td",{onClick:i=>t.showInvoice(r.invoice_id,"show-payment-request-btn-"+r.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(r.reference_number),9,zLo),e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:i=>t.showInvoice(r.invoice_id,"show-details-btn-"+r.invoice_id)},n(r.invoice_number),9,WLo),e("td",KLo,[r.can_view_company?(u(),f("a",{key:0,href:"#",onClick:i=>t.showCompany(r.company_id,"show-vendor-details-btn-"+r.company_id)},n(r.company_name),9,GLo)):(u(),f("span",QLo,n(r.company_name),1))]),e("td",ZLo,[r.can_view_company?(u(),f("a",{key:0,href:"#",onClick:i=>t.showCompany(r.anchor_id,"show-anchor-details-btn-"+r.anchor_id)},n(r.anchor_name),9,JLo)):(u(),f("span",XLo,n(r.anchor_name),1))]),e("td",eNo,n(t.moment(r.created_at).format(t.date_format)),1),e("td",tNo,n(t.moment(r.due_date).format(t.date_format)),1),e("td",oNo,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.drawdown_amount)),1),e("td",aNo,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("td",nNo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(r.approval_stage)])},n(r.approval_stage),3)]),e("td",sNo,[e("div",lNo,[!r.program_suspended&&!r.mapping_suspended&&r.user_can_approve&&!r.user_has_approved?(u(),f("span",iNo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+r.id},null,8,rNo)])):b("",!0),!r.program_suspended&&!r.mapping_suspended&&r.user_can_approve&&!r.user_has_approved?(u(),f("span",dNo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+r.id,style:{cursor:"pointer"}},null,8,cNo)])):b("",!0),(r.program_suspended||r.mapping_suspended)&&r.status!="rejected"?(u(),f("span",uNo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,_No)])):b("",!0),r.status=="rejected"?(u(),f("span",mNo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:r.rejected_reason,style:{cursor:"pointer"}},null,8,fNo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+r.invoice_id},null,8,hNo),e("button",{class:"d-none",id:"show-details-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.invoice_id},null,8,pNo),e("button",{class:"d-none",id:"show-pi-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.invoice_id},null,8,vNo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+r.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,gNo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+r.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,bNo),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yNo,[e("div",kNo,[e("div",$No,[e("div",wNo,[e("div",DNo,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",xNo,[e("div",PNo,[e("div",ENo,[e("h5",ANo,n(o.$t("Payment Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",INo,[r.user_can_approve&&!r.user_has_approved?(u(),f("span",RNo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+r.id},n(o.$t("Approve")),9,SNo)])):b("",!0),r.user_can_approve&&!r.user_has_approved?(u(),f("span",TNo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+r.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,jNo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+r.invoice_id},n(o.$t("Attachment")),9,ONo)]),e("div",null,[e("a",{href:"../payment-request/"+r.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,MNo)])])]),e("div",LNo,[e("div",NNo,[e("div",FNo,n(o.$t("Dealer"))+":",1),e("div",YNo,[e("a",{href:"../companies/"+r.company_id+"/details",class:"fw-bold my-auto"},n(r.company_name),9,VNo)]),e("div",BNo,n(o.$t("OD Account No"))+":",1),e("div",UNo,n(r.payment_account_number),1),e("div",qNo,n(o.$t("Anchor"))+":",1),e("div",HNo,[e("a",{href:"../companies/"+r.anchor_id+"/details",class:"fw-bold my-auto"},n(r.anchor_name),9,zNo)]),e("div",WNo,n(o.$t("Program Name"))+":",1),e("div",KNo,n(r.program_name),1),e("div",GNo,n(o.$t("Invoice / Unique Reference Number"))+":",1),e("div",QNo,n(r.invoice_number),1),e("div",ZNo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:i=>t.showInvoice(r.invoice_id,"show-pi-btn-"+r.invoice_id)},n(r.pi_number),9,JNo),e("div",XNo,n(o.$t("Invoice Amount")),1),e("div",eFo,n(new Intl.NumberFormat().format(r.invoice_total_amount)),1),e("div",tFo,n(o.$t("Eligibility"))+" (%):",1),e("div",oFo,n(r.eligibility),1),e("div",aFo,n(o.$t("Eligible Drawdown Amount")),1),e("div",nFo,n(new Intl.NumberFormat().format(r.eligible_for_finance)),1),e("div",sFo,n(o.$t("Requested Drawdown Amount"))+":",1),e("div",lFo,n(new Intl.NumberFormat().format(r.drawdown_amount)),1),e("div",iFo,n(o.$t("Credit to Account No"))+".:",1),e("div",rFo,n(r.payment_accounts[0].account),1),e("div",dFo,n(o.$t("Request Date"))+":",1),e("div",cFo,n(t.moment(r.created_at).format(t.date_format)),1),e("div",uFo,n(o.$t("Requested Disbursement Date"))+":",1),e("div",_Fo,n(t.moment(r.payment_request_date).isBefore(t.moment())?t.moment().format(t.date_format):t.moment(r.payment_request_date).format(t.date_format)),1),e("div",mFo,n(o.$t("Discount Rate"))+" (%) ("+n("including Base Rate")+"):",1),e("div",fFo,n(r.discount_rate),1),r.payment_accounts&&r.payment_accounts.length>0?(u(),f("div",hFo,[(u(!0),f(W,null,X(r.payment_accounts,i=>(u(),f("div",{key:i.id},[i.can_show?(u(),f("div",pFo,[e("div",vFo,[e("div",gFo,n(i.title?i.title:i.type.replaceAll("_"," ")),1),i.description?(u(),f("div",bFo," ("+n(i.description)+") ",1)):b("",!0)]),e("div",yFo,n(new Intl.NumberFormat().format(Number(i.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",kFo,n(o.$t("Net Disbursal Total")),1),e("div",$Fo,n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("div",wFo,n(o.$t("Status")),1),e("div",DFo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(r.status)])},n(r.status),3)]),r.approvals.length>0?(u(),f("div",CFo,n(o.$t("Approved By")),1)):b("",!0),r.approvals.length>0?(u(),f("div",xFo,n(r.approvals[r.approvals.length-1].user.name),1)):b("",!0),r.rejected_by?(u(),f("div",PFo,n(o.$t("Rejected By")),1)):b("",!0),r.rejected_by?(u(),f("div",EFo,n(r.rejected_by.name),1)):b("",!0)])]),e("div",AFo,[e("button",IFo,n(o.$t("Close")),1)])])])],8,CNo),e("div",{class:"modal fade",id:"approve-payment-request-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",SFo,[e("div",TFo,[e("div",jFo,[e("h5",OFo,n(o.$t("Approve Dealer Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+r.id,"aria-label":"Close"},null,8,MFo)]),e("form",{onSubmit:st(i=>t.updateStatus(r,"approved"),["prevent"]),method:"post"},[e("div",NFo,[e("h5",null,n(o.$t("Are you sure you want to approve the Dealer Financing request with the reference number, "))+" "+n(r.reference_number)+"? ",1)]),e("div",FFo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,YFo)])],40,LFo)])])],8,RFo),e("div",{class:"modal fade",id:"update-payment-request-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",BFo,[e("div",UFo,[e("div",qFo,[e("h5",HFo,n(o.$t("Reject Dealer Financing Request with the reference number, "))+" "+n(r.reference_number),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+r.id,"aria-label":"Close"},null,8,zFo)]),e("form",{onSubmit:st(i=>t.updateStatus(r,"rejected"),["prevent"]),method:"post"},[e("div",KFo,[e("div",GFo,[e("div",QFo,[e("label",ZFo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+r.id,"onUpdate:modelValue":a[0]||(a[0]=i=>t.updateRequestRejectionReason=i),onChange:i=>t.updateSelectedRejectionReason(r.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,i=>(u(),f("option",{key:i.id,value:i.reason},n(i.reason),9,XFo))),128)),e("option",eYo,n(o.$t("Other")),1)],40,JFo),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+r.id,"onUpdate:modelValue":a[1]||(a[1]=i=>t.customRequestRejectionReason=i)},null,8,tYo),[[Q,t.customRequestRejectionReason]])])])]),e("div",oYo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aYo)])],40,WFo)])])],8,VFo),t.company_details?(u(),f("div",nYo,[e("div",sYo,[e("div",lYo,[e("div",iYo,[e("h5",rYo,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",dYo,[e("div",cYo,[e("div",uYo,[e("div",_Yo,n(o.$t("Name"))+":",1),e("div",mYo,n(t.company_details.name),1)]),e("div",fYo,[e("div",hYo,n(o.$t("KRA PIN"))+":",1),e("div",pYo,n(t.company_details.kra_pin),1)]),e("div",vYo,[e("div",gYo,n(o.$t("Unique Identification No."))+":",1),e("div",bYo,n(t.company_details.unique_identification_number),1)]),e("div",yYo,[e("div",kYo,n(o.$t("Business Identification No."))+":",1),e("div",$Yo,n(t.company_details.business_identification_number),1)]),e("div",wYo,[e("div",DYo,n(o.$t("Type"))+":",1),e("div",CYo,n(t.company_details.organization_type),1)]),e("div",xYo,[e("div",PYo,n(o.$t("Branch Code"))+":",1),e("div",EYo,n(t.company_details.branch_code),1)]),e("div",AYo,[e("div",IYo,n(o.$t("City"))+":",1),e("div",RYo,n(t.company_details.city),1)]),e("div",SYo,[e("div",TYo,n(o.$t("Postal Code"))+":",1),e("div",jYo,n(t.company_details.postal_code),1)]),e("div",OYo,[e("div",MYo,n(o.$t("Address"))+":",1),e("div",LYo,n(t.company_details.address),1)]),e("div",NYo,[e("div",FYo,n(o.$t("Customer Type"))+":",1),e("div",YYo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,i=>(u(),f("div",{class:"row my-1",key:i.id},[e("div",VYo,[e("div",BYo,[e("div",UYo,n(o.$t("Name"))+":",1),e("div",qYo,n(i.name),1)])]),e("div",HYo,[e("div",zYo,[e("div",WYo,n(o.$t("Email"))+":",1),e("div",KYo,n(i.email),1)])]),e("div",GYo,[e("div",QYo,[e("div",ZYo,n(o.$t("Phone"))+":",1),e("div",JYo,n(i.phone_number),1)])])]))),128))]),e("div",XYo,[e("button",eVo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const oVo=Ue(kLo,[["render",tVo]]),aVo={name:"VendorFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),D=h([]),y=h(""),C=h(""),x=h(["pending_maker","pending_checker"]),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h([]),R=h(null),P=h(0),I=h(!1),S=h(null),F=h(50),N=async()=>{await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:F.value,invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(be=>{m.value=be.data.payment_requests,L.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})};Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),x.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();x.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(T.value=H().startOf("month").format("YYYY-MM-DD"),V.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(T.value).format("MM/DD/YYYY")+" - "+H(V.value).format("MM/DD/YYYY"))),N()});const U=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,r.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!r.value.filter(function(Oe,ze){Me=ze,Oe==be.id}))return!1;r.value.splice(Me,1)}})},Z=be=>{if(r.value.includes(be)){const Me=r.value.indexOf(be);r.value.splice(Me,1)}else r.value.push(be)},ce=be=>{if(r.value.length<=0){t.error("Select requests");return}I.value=!0;const Me=new FormData;be=="rejected"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",O.value),Me.append("status","rejected")),be=="approve"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),i.value="",N(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),t.error("An error occurred")}).finally(()=>{I.value=!1})};return ot(i,be=>{r.value.length>0?(be=="rejected"&&p.value.click(),D.value=[],g.value=0,be=="approve"&&(r.value.forEach(Me=>{D.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),D.value.forEach(Me=>{g.value+=Me.amount}),v.value.click())):t.error("Select Payment Requests")}),ot([F],async([be])=>{await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:be,invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})}),{moment:H,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:D,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:C,status_search:x,anchor_search:k,vendor_search:E,sort_by:w,request_from_date_search:T,request_to_date_search:V,rejection_reasons:L,customRequestRejectionReason:O,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:F,is_updating:I,filter:async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),B.value=$("#date_search").val(),B.value&&(T.value=H(B.value.split(" - ")[0]).format("YYYY-MM-DD"),V.value=H(B.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:F.value,invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",y.value="",C.value="",E.value="",k.value="",x.value=["pending_maker","pending_checker"],$("#status-select").val(x.value).trigger("change"),w.value="",T.value="",V.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:F.value,status:x.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},selectAll:U,invoice_details:R,company_details:S,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{S.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:F.value,invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"paid":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{I.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",O.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Vendor Financing Request updated successfully"),N(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(Oe=>{console.log(Oe),t.error("An error occurred while updating the Vendror Financing Request")}).finally(()=>{I.value=!1})},getTaxPercentage:(be,Me)=>(Me/be*100).toFixed(2),updateSelected:Z,submitBulkAction:ce,exportReport:()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Vendor Financing Receivable",invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})},showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{R.value=ue.data,P.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},date_format:a,invoice_details_key:P}}},nVo={class:"card p-2"},sVo={class:"d-flex justify-content-between"},lVo={class:"d-flex flex-wrap gap-1"},iVo={class:""},rVo={for:"Sort by",class:"form-label"},dVo={class:""},cVo={for:"Sort by",class:"form-label"},uVo={class:""},_Vo={for:"Sort by",class:"form-label"},mVo={class:""},fVo={for:"Sort by",class:"form-label"},hVo={class:""},pVo={for:"Sort by",class:"form-label"},vVo={value:""},gVo={value:"pending_maker"},bVo={value:"pending_checker"},yVo={value:"approved"},kVo={value:"paid"},$Vo={value:"rejected"},wVo={value:"closed"},DVo={class:""},CVo={for:"Sort by",class:"form-label"},xVo={class:""},PVo={for:"Sort by",class:"form-label"},EVo={value:""},AVo={value:"invoice_no_asc"},IVo={value:"invoice_no_desc"},RVo={value:"pi_amount_asc"},SVo={value:"pi_amount_desc"},TVo={value:"vendor_asc"},jVo={value:"vendor_desc"},OVo={value:"anchor_asc"},MVo={value:"anchor_desc"},LVo={value:"request_date_asc"},NVo={value:"request_date_desc"},FVo={value:"payment_amount_asc"},YVo={value:"payment_amount_desc"},VVo={value:"due_date_asc"},BVo={value:"due_date_desc"},UVo={class:""},qVo={for:"Sort by",class:"form-label"},HVo={value:""},zVo={value:"approve"},WVo={value:"rejected"},KVo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},GVo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},QVo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ZVo={class:"modal-content"},JVo={class:"modal-header"},XVo={class:"modal-title",id:"modalCenterTitle"},eBo={class:"modal-body"},tBo={class:""},oBo={class:"modal-footer"},aBo=["disabled"],nBo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},sBo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},lBo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iBo={class:"modal-content"},rBo={class:"modal-header"},dBo={class:"modal-title",id:"modalCenterTitle"},cBo={class:"modal-body"},uBo={class:"row mb-1"},_Bo={class:"form-group"},mBo={for:""},fBo={value:"",selected:""},hBo=["value"],pBo={value:"other"},vBo={class:"modal-footer"},gBo=["disabled"],bBo={class:"table-search-btn"},yBo={class:"table-clear-btn"},kBo={class:"d-flex justify-content-end gap-1 mt-auto"},$Bo={class:"table-responsive"},wBo={class:"table"},DBo={class:""},CBo={class:"px-1"},xBo={class:"px-1"},PBo={class:""},EBo={class:"px-1"},ABo={class:"px-1"},IBo={class:"px-1"},RBo={class:"px-1"},SBo={class:"px-1"},TBo={class:"px-1"},jBo={class:"px-1"},OBo={class:"px-1"},MBo={class:"table-border-bottom-0"},LBo={key:0},NBo={colspan:"12",class:"text-center"},FBo={class:"text-center"},YBo={key:1},VBo={colspan:"12",class:"text-center"},BBo={class:"text-center"},UBo={class:"px-1"},qBo={key:0,class:"form-check"},HBo=["id","onChange"],zBo=["onClick"],WBo=["onClick"],KBo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},GBo=["onClick"],QBo={key:1},ZBo=["title"],JBo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},XBo=["onClick"],eUo={key:1},tUo={class:"px-1"},oUo={class:"px-1"},aUo={class:"text-success px-1"},nUo={class:"text-success px-1"},sUo={class:"px-1"},lUo={class:"px-1"},iUo={class:"d-flex"},rUo={key:0},dUo=["data-bs-target"],cUo={key:1},uUo=["data-bs-target"],_Uo={key:2},mUo=["title"],fUo={key:3},hUo=["title"],pUo=["id","data-bs-target"],vUo=["id","data-bs-target"],gUo=["id","data-bs-target"],bUo=["id"],yUo=["id"],kUo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},$Uo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},wUo={class:"modal-content"},DUo={class:"modal-body"},CUo={class:"d-flex justify-content-center"},xUo=["id"],PUo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},EUo={class:"modal-content"},AUo={class:"modal-header"},IUo={class:"modal-title",id:"modalCenterTitle"},RUo={class:"d-flex gap-1"},SUo={key:0},TUo=["data-bs-target"],jUo={key:1,class:""},OUo=["data-bs-target"],MUo=["data-bs-target"],LUo=["href"],NUo={class:"modal-body"},FUo={class:"row mb-1"},YUo={class:"col-6 my-1"},VUo={class:"col-6"},BUo=["href"],UUo={class:"col-6 my-1"},qUo={class:"col-6"},HUo=["href"],zUo={class:"col-6 my-1"},WUo={class:"col-6"},KUo={class:"col-6 my-1"},GUo={class:"col-6"},QUo={class:"col-6 my-1"},ZUo=["onClick"],JUo={class:"col-6 my-1"},XUo={class:"col-6 text-success"},eqo={class:"col-6 my-1"},tqo={class:"col-6"},oqo={class:"col-6 my-1"},aqo={class:"col-6 text-success"},nqo={class:"col-6 my-1"},sqo={class:"col-6 text-success"},lqo={class:"col-6 my-1"},iqo={class:"col-6"},rqo={class:"col-6 my-1"},dqo={class:"col-6"},cqo={class:"col-6 my-1"},uqo={class:"col-6"},_qo={class:"col-6 my-1"},mqo={class:"col-6"},fqo={class:"col-6"},hqo={key:0,class:"col-12"},pqo={key:0,class:"row"},vqo={class:"col-6 my-1 d-flex"},gqo={class:""},bqo={key:0,class:""},yqo={class:"col-6 text-success"},kqo={class:"col-6 my-1"},$qo={class:"col-6 text-success"},wqo={class:"col-6 my-1"},Dqo={class:"col-6"},Cqo={key:1,class:"col-6"},xqo={key:2,class:"col-6 my-1"},Pqo={key:3,class:"col-6"},Eqo={key:4,class:"col-6 my-1"},Aqo={class:"modal-footer"},Iqo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},Rqo=["id"],Sqo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Tqo={class:"modal-content"},jqo={class:"modal-header"},Oqo={class:"modal-title",id:"modalCenterTitle"},Mqo=["id"],Lqo=["onSubmit"],Nqo={class:"modal-body"},Fqo={class:"modal-footer"},Yqo=["disabled"],Vqo=["id"],Bqo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Uqo={class:"modal-content"},qqo={class:"modal-header"},Hqo={class:"modal-title",id:"modalCenterTitle"},zqo=["id"],Wqo=["onSubmit"],Kqo={class:"modal-body"},Gqo={class:"row mb-1"},Qqo={class:"form-group"},Zqo={for:""},Jqo=["id","onChange"],Xqo=["value"],eHo={value:"other"},tHo=["id"],oHo={class:"modal-footer"},aHo=["disabled"],nHo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},sHo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lHo={class:"modal-content"},iHo={class:"modal-header"},rHo={class:"modal-title",id:"modalCenterTitle"},dHo={class:"modal-body"},cHo={class:"row mb-1"},uHo={class:"col-5 d-flex"},_Ho={class:""},mHo={class:""},fHo={class:"col-5 d-flex"},hHo={class:""},pHo={class:""},vHo={class:"col-5 d-flex"},gHo={class:""},bHo={class:""},yHo={class:"col-5 d-flex"},kHo={class:""},$Ho={class:""},wHo={class:"col-5 d-flex"},DHo={class:""},CHo={class:""},xHo={class:"col-5 d-flex"},PHo={class:""},EHo={class:""},AHo={class:"col-5 d-flex"},IHo={class:""},RHo={class:""},SHo={class:"col-5 d-flex"},THo={class:""},jHo={class:""},OHo={class:"col-5 d-flex"},MHo={class:""},LHo={class:""},NHo={class:"col-5 d-flex"},FHo={class:""},YHo={class:""},VHo={class:"col-4"},BHo={class:"d-flex"},UHo={class:""},qHo={class:""},HHo={class:"col-4"},zHo={class:"d-flex"},WHo={class:""},KHo={class:""},GHo={class:"col-4"},QHo={class:"d-flex"},ZHo={class:""},JHo={class:""},XHo={class:"modal-footer"},ezo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function tzo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction"),i=de("upload-attachment");return u(),f("div",nVo,[e("div",sVo,[e("div",lVo,[e("div",iVo,[e("label",rVo,n(o.$t("Payment Ref No")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.payment_reference_number_search]])]),e("div",dVo,[e("label",cVo,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",uVo,[e("label",_Vo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",mVo,[e("label",fVo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",hVo,[e("label",pVo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d),onKeyup:a[9]||(a[9]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},[e("option",vVo,n(o.$t("Status")),1),e("option",gVo,n(o.$t("Pending (Maker)")),1),e("option",bVo,n(o.$t("Pending (Checker)")),1),e("option",yVo,n(o.$t("Approved")),1),e("option",kVo,n(o.$t("Disbursed")),1),e("option",$Vo,n(o.$t("Rejected")),1),e("option",wVo,n(o.$t("Closed")),1)],544),[[re,t.status_search]])]),e("div",DVo,[e("label",CVo,n(o.$t("Request Date")),1),a[25]||(a[25]=e("input",{class:"form-control form-search",type:"text",id:"date_search",name:"request_daterange"},null,-1))]),e("div",xVo,[e("label",PVo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d),onKeyup:a[11]||(a[11]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},[e("option",EVo,n(o.$t("Sort By")),1),e("option",AVo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",IVo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",RVo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",SVo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",TVo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",jVo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",OVo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",MVo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",LVo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",NVo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",FVo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",YVo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",VVo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",BVo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],544),[[re,t.sort_by]])]),e("div",UVo,[e("label",qVo,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[12]||(a[12]=d=>t.bulk_action=d)},[e("option",HVo,n(o.$t("Bulk Actions")),1),e("option",zVo,n(o.$t("Approve")),1),e("option",WVo,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",KVo,null,512),e("div",GVo,[e("div",QVo,[e("div",ZVo,[e("div",JVo,[e("h5",XVo,n(o.$t("Approve Payment Requests")),1),a[26]||(a[26]=e("button",{type:"button",id:"bulk-approve-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[13]||(a[13]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",eBo,[e("div",tBo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected vendor financing requests"))+"?",1)])]),e("div",oBo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aBo)])],32)])])]),e("button",nBo,null,512),e("div",sBo,[e("div",lBo,[e("div",iBo,[e("div",rBo,[e("h5",dBo,n(o.$t("Update Vendor Financing Request")),1),a[27]||(a[27]=e("button",{type:"button",id:"bulk-reject-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[17]||(a[17]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",cBo,[e("div",uBo,[e("div",_Bo,[e("label",mBo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=d=>t.updateRequestRejectionReason=d),onChange:a[15]||(a[15]=d=>t.bulkUpdateRejectionReason())},[e("option",fBo,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,hBo))),128)),e("option",pBo,n(o.$t("Other")),1)],544),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[16]||(a[16]=d=>t.customRequestRejectionReason=d)},null,512),[[Q,t.customRequestRejectionReason]])])])]),e("div",vBo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,gBo)])],32)])])]),e("div",bBo,[e("button",{class:"btn btn-primary btn-md",onClick:a[18]||(a[18]=(...d)=>t.filter&&t.filter(...d))},a[28]||(a[28]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yBo,[e("button",{class:"btn btn-primary btn-md",onClick:a[19]||(a[19]=(...d)=>t.refresh&&t.refresh(...d))},a[29]||(a[29]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kBo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[20]||(a[20]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[21]||(a[21]=d=>t.exportReport())},[a[31]||(a[31]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$Bo,[e("table",wBo,[e("thead",null,[e("tr",DBo,[e("th",CBo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[22]||(a[22]=d=>t.selectAll())},null,32)]),e("th",xBo,n(o.$t("Payment Reference No"))+".",1),e("th",PBo,n(o.$t("Invoice No"))+".",1),e("th",EBo,n(o.$t("Vendor")),1),e("th",ABo,n(o.$t("Anchor")),1),e("th",IBo,n(o.$t("Request Date")),1),e("th",RBo,n(o.$t("Due Date")),1),e("th",SBo,n(o.$t("PI Amount")),1),e("th",TBo,n(o.$t("Payment Amount")),1),e("th",jBo,n(o.$t("Status")),1),e("th",OBo,n(o.$t("Actions")),1)])]),e("tbody",MBo,[t.requests.data?b("",!0):(u(),f("tr",LBo,[e("td",NBo,[e("span",FBo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",YBo,[e("td",VBo,[e("span",BBo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",UBo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",qBo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,HBo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,zBo),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer"}},n(d.invoice_number),9,WBo),e("td",KBo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.company_id,"show-vendor-details-btn-"+d.company_id)},n(d.company_name),9,GBo)):(u(),f("span",QBo,n(d.company_name),1)),d.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+d.utilized_percentage_ratio+"% utilized"},null,8,ZBo)):b("",!0)]),e("td",JBo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,XBo)):(u(),f("span",eUo,n(d.anchor_name),1))]),e("td",tUo,n(t.moment(d.created_at).format(t.date_format)),1),e("td",oUo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",aUo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount)),1),e("td",nUo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("td",sUo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",lUo,[e("div",iUo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",rUo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,dUo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",cUo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,uUo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",_Uo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,mUo)])):b("",!0),d.status=="rejected"?(u(),f("span",fUo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,hUo)])):b("",!0)]),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,pUo),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,vUo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,gUo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,bUo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,yUo),a[38]||(a[38]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",kUo,[e("div",$Uo,[e("div",wUo,[e("div",DUo,[e("div",CUo,[e("span",null,n(o.$t("Loading"))+"...",1),a[32]||(a[32]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",PUo,[e("div",EUo,[e("div",AUo,[e("h5",IUo,n(o.$t("Payment Request")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",RUo,[d.user_can_approve&&!d.user_has_approved?(u(),f("div",SUo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,TUo)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("div",jUo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,OUo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,MUo)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[33]||(a[33]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,LUo)])])]),e("div",NUo,[e("div",FUo,[e("div",YUo,n(o.$t("Vendor")),1),e("div",VUo,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,BUo)]),e("div",UUo,n(o.$t("Anchor")),1),e("div",qUo,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,HUo)]),e("div",zUo,n(o.$t("Program Name")),1),e("div",WUo,n(d.program_name),1),e("div",KUo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",GUo,n(d.invoice_number),1),e("div",QUo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,ZUo),e("div",JUo,n(o.$t("PI Amount")),1),e("div",XUo,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",eqo,n(o.$t("Eligibility"))+" (%)",1),e("div",tqo,n(d.eligibility),1),e("div",oqo,n(o.$t("Eligible Payment Amount")),1),e("div",aqo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",nqo,n(o.$t("Requested Payment Amount")),1),e("div",sqo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",lqo,n(o.$t("Credit to Account No"))+".:",1),e("div",iqo,n(d.payment_accounts[0].account),1),e("div",rqo,n(o.$t("Request Date")),1),e("div",dqo,n(t.moment(d.created_at).format(t.date_format)),1),e("div",cqo,n(o.$t("Requested Disbursement Date")),1),e("div",uqo,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",_qo,n(o.$t("Due Date")),1),e("div",mqo,n(t.moment(d.due_date).format(t.date_format)),1),a[35]||(a[35]=e("div",{class:"col-6 my-1"},"Discount Rate (%) (including Base Rate)",-1)),e("div",fqo,n(d.total_roi),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",hqo,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",pqo,[e("div",vqo,[e("div",gqo,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",bqo," ("+n(p.description)+") ",1)):b("",!0)]),e("div",yqo,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",kqo,n(o.$t("Net Disbursal Total")),1),e("div",$qo,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",wqo,n(o.$t("Status")),1),e("div",Dqo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage),3)]),d.approvals.length>0?(u(),f("div",Cqo,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",xqo,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",Pqo,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",Eqo,n(d.rejected_by.name),1)):b("",!0)])]),e("div",Aqo,[e("button",Iqo,n(o.$t(" Close")),1)])])])],8,xUo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Sqo,[e("div",Tqo,[e("div",jqo,[e("h5",Oqo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,Mqo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",Nqo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",Fqo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,Yqo)])],40,Lqo)])])],8,Rqo),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Bqo,[e("div",Uqo,[e("div",qqo,[e("h5",Hqo,n(o.$t("Reject Vendor Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,zqo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",Kqo,[e("div",Gqo,[e("div",Qqo,[e("label",Zqo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[23]||(a[23]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,Xqo))),128)),e("option",eHo,n(o.$t("Other")),1)],40,Jqo),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[24]||(a[24]=p=>t.customRequestRejectionReason=p)},null,8,tHo),[[Q,t.customRequestRejectionReason]])])])]),e("div",oHo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aHo)])],40,Wqo)])])],8,Vqo),t.company_details?(u(),f("div",nHo,[e("div",sHo,[e("div",lHo,[e("div",iHo,[e("h5",rHo,n(o.$t("Company Details")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",dHo,[e("div",cHo,[e("div",uHo,[e("div",_Ho,n(o.$t("Name"))+":",1),e("div",mHo,n(t.company_details.name),1)]),e("div",fHo,[e("div",hHo,n(o.$t("KRA PIN"))+":",1),e("div",pHo,n(t.company_details.kra_pin),1)]),e("div",vHo,[e("div",gHo,n(o.$t("Unique Identification No."))+":",1),e("div",bHo,n(t.company_details.unique_identification_number),1)]),e("div",yHo,[e("div",kHo,n(o.$t("Business Identification No."))+":",1),e("div",$Ho,n(t.company_details.business_identification_number),1)]),e("div",wHo,[e("div",DHo,n(o.$t("Type"))+":",1),e("div",CHo,n(t.company_details.organization_type),1)]),e("div",xHo,[e("div",PHo,n(o.$t("Branch Code"))+":",1),e("div",EHo,n(t.company_details.branch_code),1)]),e("div",AHo,[e("div",IHo,n(o.$t("City"))+":",1),e("div",RHo,n(t.company_details.city),1)]),e("div",SHo,[e("div",THo,n(o.$t("Postal Code"))+":",1),e("div",jHo,n(t.company_details.postal_code),1)]),e("div",OHo,[e("div",MHo,n(o.$t("Address"))+":",1),e("div",LHo,n(t.company_details.address),1)]),e("div",NHo,[e("div",FHo,n(o.$t("Customer Type"))+":",1),e("div",YHo,n(t.company_details.customer_type),1)])]),a[37]||(a[37]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",VHo,[e("div",BHo,[e("div",UHo,n(o.$t("Name"))+":",1),e("div",qHo,n(p.name),1)])]),e("div",HHo,[e("div",zHo,[e("div",WHo,n(o.$t("Email"))+":",1),e("div",KHo,n(p.email),1)])]),e("div",GHo,[e("div",QHo,[e("div",ZHo,n(o.$t("Phone"))+":",1),e("div",JHo,n(p.phone_number),1)])])]))),128))]),e("div",XHo,[e("button",ezo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const ozo=Ue(aVo,[["render",tzo]]),azo={name:"FactoringRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h(""),i=h([]),d=h(""),p=h(!1),v=h(null),g=h(null),D=h(0),y=h([]),C=h(""),x=h(""),E=h(["pending_maker","pending_checker"]),k=h(""),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h([]),R=h(null),P=h(0),I=h(null),S=h(!1),F=h(50),N=async()=>{await A.get(c+o.bank+"/requests/factoring-requests/data?per_page="+F.value,{params:{per_page:F.value,invoice_number:x.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,status:E.value,sort_by:T.value,from_request_date:V.value,to_request_date:B.value}}).then(be=>{m.value=be.data.payment_requests,L.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})},U=be=>{if(i.value.includes(be)){const Me=i.value.indexOf(be);i.value.splice(Me,1)}else i.value.push(be)},Z=()=>{i.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,i.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!i.value.filter(function(Oe,ze){Me=ze,Oe==be.id}))return!1;i.value.splice(Me,1)}})},ce=be=>{if(i.value.length<=0){t.error("Select requests");return}S.value=!0;const Me=new FormData;be=="rejected"&&(i.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",r.value),Me.append("status","rejected")),be=="approve"&&(i.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),d.value="",N(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),t.error("An error occurred")}).finally(()=>{S.value=!1})};ot(d,be=>{i.value.length>0?(be=="rejected"&&v.value.click(),y.value=[],D.value=0,be=="approve"&&(i.value.forEach(Me=>{y.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),y.value.forEach(Me=>{D.value+=Me.amount}),g.value.click())):t.error("Select Payment Requests")}),ot([F],async([be])=>{await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:be,invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,status:E.value,sort_by:T.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})});const ae=async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),O.value=$("#date_search").val(),O.value&&(V.value=H(O.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(O.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:F.value,invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,status:E.value,sort_by:T.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},J=async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",C.value="",x.value="",k.value="",w.value="",E.value=["pending_maker","pending_checker"],$("#status-select").val(E.value).trigger("change"),T.value="",V.value="",B.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:F.value,status:E.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},z=()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Factoring",invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,status:E.value,sort_by:T.value,from_request_date:V.value,to_request_date:B.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})};return Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),E.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();E.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(V.value=H().startOf("month").format("YYYY-MM-DD"),B.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(V.value).format("MM/DD/YYYY")+" - "+H(B.value).format("MM/DD/YYYY"))),N()}),{moment:H,requests:m,selected_requests:i,bulk_action:d,showBulkRejectionReasonModal:p,showRejectionModal:v,showApprovalModal:g,approveRequests:y,approveRequestsTotalAmount:D,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:C,invoice_number_search:x,status_search:E,anchor_search:w,vendor_search:k,sort_by:T,request_from_date_search:V,request_to_date_search:B,filter:ae,refresh:J,rejection_reasons:L,customRequestRejectionReason:r,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:F,is_updating:S,selectAll:Z,invoice_details:R,company_details:I,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{I.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:F.value,invoice_number:x.value,status:E.value,payment_reference_number:C.value,invoice_number:x.value,vendor:k.value,anchor:w.value,status:E.value,sort_by:T.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"financed":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{S.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",r.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Factoring Request updated successfully"),N(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(Oe=>{console.log(Oe),t.error("An error occurred")}).finally(()=>{S.value=!1})},getTaxPercentage:(be,Me)=>Me/be*100,updateSelected:U,submitBulkAction:ce,exportReport:z,showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{R.value=ue.data,P.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},date_format:a,invoice_details_key:P}}},nzo={class:"card p-3"},szo={class:"d-flex justify-content-between"},lzo={class:"d-flex flex-wrap gap-1"},izo={class:""},rzo={for:"Payment Ref No",class:"form-label"},dzo={class:""},czo={for:"Invoice No",class:"form-label"},uzo={class:""},_zo={for:"Vendor",class:"form-label"},mzo={class:""},fzo={for:"Anchor",class:"form-label"},hzo={class:""},pzo={for:"Status",class:"form-label"},vzo={value:""},gzo={value:"pending_maker"},bzo={value:"pending_checker"},yzo={value:"approved"},kzo={value:"paid"},$zo={value:"rejected"},wzo={value:"closed"},Dzo={class:""},Czo={for:"Sort by",class:"form-label"},xzo={class:""},Pzo={for:"Sort by",class:"form-label"},Ezo={value:""},Azo={value:"invoice_no_asc"},Izo={value:"invoice_no_desc"},Rzo={value:"pi_amount_asc"},Szo={value:"pi_amount_desc"},Tzo={value:"vendor_asc"},jzo={value:"vendor_desc"},Ozo={value:"anchor_asc"},Mzo={value:"anchor_desc"},Lzo={value:"request_date_asc"},Nzo={value:"request_date_desc"},Fzo={value:"payment_amount_asc"},Yzo={value:"payment_amount_desc"},Vzo={value:"due_date_asc"},Bzo={value:"due_date_desc"},Uzo={class:""},qzo={for:"Bulk Action",class:"form-label"},Hzo={value:""},zzo={value:"approve"},Wzo={value:"rejected"},Kzo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Gzo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Qzo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Zzo={class:"modal-content"},Jzo={class:"modal-header"},Xzo={class:"modal-title",id:"modalCenterTitle"},eWo={class:"modal-body"},tWo={class:""},oWo={class:"modal-footer"},aWo=["disabled"],nWo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},sWo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},lWo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iWo={class:"modal-content"},rWo={class:"modal-header"},dWo={class:"modal-title",id:"modalCenterTitle"},cWo={class:"modal-body"},uWo={class:"row mb-1"},_Wo={class:"form-group"},mWo={for:""},fWo={value:"",selected:""},hWo=["value"],pWo={value:"other"},vWo={class:"modal-footer"},gWo=["disabled"],bWo={class:"table-search-btn"},yWo={class:"table-clear-btn"},kWo={class:"d-flex justify-content-end gap-1 mt-auto"},$Wo={class:"table-responsive"},wWo={class:"table"},DWo={class:""},CWo={class:"px-1"},xWo={class:"px-1"},PWo={class:""},EWo={class:"px-1"},AWo={class:"px-1"},IWo={class:"px-1"},RWo={class:"px-1"},SWo={class:"px-1"},TWo={class:"px-1"},jWo={class:"px-1"},OWo={class:"px-1"},MWo={class:"table-border-bottom-0"},LWo={key:0},NWo={colspan:"12",class:"text-center"},FWo={class:"text-center"},YWo={key:1},VWo={colspan:"12",class:"text-center"},BWo={class:"text-center"},UWo={class:"px-1"},qWo={key:0,class:"form-check"},HWo=["id","onChange"],zWo=["onClick"],WWo=["onClick"],KWo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},GWo=["onClick"],QWo={key:1},ZWo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},JWo=["onClick"],XWo={key:1},eKo={class:"px-1"},tKo={class:"px-1"},oKo={class:"text-success px-1"},aKo={class:"text-success px-1"},nKo={class:"px-1"},sKo={class:"px-1"},lKo={class:"d-flex"},iKo={key:0},rKo=["data-bs-target"],dKo={key:1},cKo=["data-bs-target"],uKo={key:2},_Ko=["title"],mKo={key:3},fKo=["title"],hKo=["id","data-bs-target"],pKo=["id","data-bs-target"],vKo=["id","data-bs-target"],gKo=["id"],bKo=["id"],yKo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kKo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$Ko={class:"modal-content"},wKo={class:"modal-body"},DKo={class:"d-flex justify-content-center"},CKo=["id"],xKo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},PKo={class:"modal-content"},EKo={class:"modal-header"},AKo={class:"modal-title",id:"modalCenterTitle"},IKo={class:"d-flex gap-1"},RKo={key:0},SKo=["data-bs-target"],TKo={key:1,class:""},jKo=["data-bs-target"],OKo=["data-bs-target"],MKo=["href"],LKo={class:"modal-body"},NKo={class:"row mb-1"},FKo={class:"col-6 my-1"},YKo={class:"col-6"},VKo=["href"],BKo={class:"col-6 my-1"},UKo={class:"col-6"},qKo=["href"],HKo={class:"col-6 my-1"},zKo={class:"col-6"},WKo={class:"col-6 my-1"},KKo={class:"col-6"},GKo={class:"col-6 my-1"},QKo=["onClick"],ZKo={class:"col-6 my-1"},JKo={class:"col-6 text-success"},XKo={class:"col-6 my-1"},eGo={class:"col-6"},tGo={class:"col-6 my-1"},oGo={class:"col-6 text-success"},aGo={class:"col-6 my-1"},nGo={class:"col-6 text-success"},sGo={class:"col-6 my-1"},lGo={class:"col-6"},iGo={class:"col-6 my-1"},rGo={class:"col-6"},dGo={class:"col-6 my-1"},cGo={class:"col-6"},uGo={class:"col-6 my-1"},_Go={class:"col-6"},mGo={class:"col-6 my-1"},fGo={class:"col-6"},hGo={key:0,class:"col-12"},pGo={key:0,class:"row"},vGo={class:"col-6 my-1 d-flex"},gGo={class:""},bGo={key:0,class:""},yGo={class:"col-6 text-success"},kGo={class:"col-6 my-1"},$Go={class:"col-6 text-success"},wGo={class:"col-6 my-1"},DGo={class:"col-6"},CGo={key:1,class:"col-6"},xGo={key:2,class:"col-6 my-1"},PGo={key:3,class:"col-6"},EGo={key:4,class:"col-6 my-1"},AGo={class:"modal-footer"},IGo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},RGo=["id"],SGo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TGo={class:"modal-content"},jGo={class:"modal-header"},OGo={class:"modal-title",id:"modalCenterTitle"},MGo=["id"],LGo=["onSubmit"],NGo={class:"modal-body"},FGo={class:"modal-footer"},YGo=["disabled"],VGo=["id"],BGo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},UGo={class:"modal-content"},qGo={class:"modal-header"},HGo={class:"modal-title",id:"modalCenterTitle"},zGo=["id"],WGo=["onSubmit"],KGo={class:"modal-body"},GGo={class:"row mb-1"},QGo={class:"form-group"},ZGo={for:""},JGo=["id","onChange"],XGo=["value"],eQo={value:"other"},tQo=["id"],oQo={class:"modal-footer"},aQo=["disabled"],nQo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},sQo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lQo={class:"modal-content"},iQo={class:"modal-header"},rQo={class:"modal-title",id:"modalCenterTitle"},dQo={class:"modal-body"},cQo={class:"row mb-1"},uQo={class:"col-5 d-flex"},_Qo={class:""},mQo={class:""},fQo={class:"col-5 d-flex"},hQo={class:""},pQo={class:""},vQo={class:"col-5 d-flex"},gQo={class:""},bQo={class:""},yQo={class:"col-5 d-flex"},kQo={class:""},$Qo={class:""},wQo={class:"col-5 d-flex"},DQo={class:""},CQo={class:""},xQo={class:"col-5 d-flex"},PQo={class:""},EQo={class:""},AQo={class:"col-5 d-flex"},IQo={class:""},RQo={class:""},SQo={class:"col-5 d-flex"},TQo={class:""},jQo={class:""},OQo={class:"col-5 d-flex"},MQo={class:""},LQo={class:""},NQo={class:"col-5 d-flex"},FQo={class:""},YQo={class:""},VQo={class:"col-4"},BQo={class:"d-flex"},UQo={class:""},qQo={class:""},HQo={class:"col-4"},zQo={class:"d-flex"},WQo={class:""},KQo={class:""},GQo={class:"col-4"},QQo={class:"d-flex"},ZQo={class:""},JQo={class:""},XQo={class:"modal-footer"},eZo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function tZo(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction"),i=de("upload-attachment");return u(),f("div",nzo,[e("div",szo,[e("div",lzo,[e("div",izo,[e("label",rzo,n(o.$t("Payment Ref No"))+".",1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp",autocomplete:"off"},null,544),[[Q,t.payment_reference_number_search]])]),e("div",dzo,[e("label",czo,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",uzo,[e("label",_zo,n(o.$t("Vendor"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",mzo,[e("label",fzo,n(o.$t("Anchor"))+".",1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",hzo,[e("label",pzo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",vzo,n(o.$t("Status")),1),e("option",gzo,n(o.$t("Pending (Maker)")),1),e("option",bzo,n(o.$t("Pending (Checker)")),1),e("option",yzo,n(o.$t("Approved")),1),e("option",kzo,n(o.$t("Disbursed")),1),e("option",$zo,n(o.$t("Rejected")),1),e("option",wzo,n(o.$t("Closed")),1)],512),[[re,t.status_search]])]),e("div",Dzo,[e("label",Czo,n(o.$t("Request Date")),1),a[23]||(a[23]=e("input",{class:"form-control form-search",type:"text",id:"date_search",name:"request_daterange"},null,-1))]),e("div",xzo,[e("label",Pzo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Ezo,n(o.$t("Sort By")),1),e("option",Azo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",Izo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",Rzo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",Szo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",Tzo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",jzo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",Ozo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",Mzo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",Lzo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",Nzo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",Fzo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",Yzo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",Vzo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",Bzo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],512),[[re,t.sort_by]])]),e("div",Uzo,[e("label",qzo,n(o.$t("Bulk Actions"))+".",1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.bulk_action=d)},[e("option",Hzo,n(o.$t("Bulk Actions")),1),e("option",zzo,n(o.$t("Approve")),1),e("option",Wzo,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",Kzo,null,512),e("div",Gzo,[e("div",Qzo,[e("div",Zzo,[e("div",Jzo,[e("h5",Xzo,n(o.$t("Approve Payment Requests")),1),a[24]||(a[24]=e("button",{type:"button",id:"bulk-approve-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[11]||(a[11]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",eWo,[e("div",tWo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected Factoring requests"))+"?",1)])]),e("div",oWo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aWo)])],32)])])]),e("button",nWo,null,512),e("div",sWo,[e("div",lWo,[e("div",iWo,[e("div",rWo,[e("h5",dWo,n(o.$t("Update Factoring Request")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close",id:"bulk-reject-close-btn","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[15]||(a[15]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",cWo,[e("div",uWo,[e("div",_Wo,[e("label",mWo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=d=>t.updateRequestRejectionReason=d),onChange:a[13]||(a[13]=d=>t.bulkUpdateRejectionReason())},[e("option",fWo,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,hWo))),128)),e("option",pWo,n(o.$t("Other")),1)],544),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[14]||(a[14]=d=>t.customRequestRejectionReason=d)},null,512),[[Q,t.customRequestRejectionReason]])])])]),e("div",vWo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,gWo)])],32)])])]),e("div",bWo,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...d)=>t.filter&&t.filter(...d))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yWo,[e("button",{class:"btn btn-primary btn-md",onClick:a[17]||(a[17]=(...d)=>t.refresh&&t.refresh(...d))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kWo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[18]||(a[18]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[19]||(a[19]=(...d)=>t.exportReport&&t.exportReport(...d))},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$Wo,[e("table",wWo,[e("thead",null,[e("tr",DWo,[e("th",CWo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[20]||(a[20]=d=>t.selectAll())},null,32)]),e("th",xWo,n(o.$t("Payment Reference No"))+".",1),e("th",PWo,n(o.$t("Invoice No"))+".",1),e("th",EWo,n(o.$t("Vendor")),1),e("th",AWo,n(o.$t("Anchor")),1),e("th",IWo,n(o.$t("Request Date")),1),e("th",RWo,n(o.$t("Due Date")),1),e("th",SWo,n(o.$t("PI Amount")),1),e("th",TWo,n(o.$t("Payment Amount")),1),e("th",jWo,n(o.$t("Status")),1),e("th",OWo,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",MWo,[t.requests.data?b("",!0):(u(),f("tr",LWo,[e("td",NWo,[e("span",FWo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",YWo,[e("td",VWo,[e("span",BWo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",UWo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",qWo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,HWo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,zWo),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer"}},n(d.invoice_number),9,WWo),e("td",KWo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.buyer_id,"show-vendor-details-btn-"+d.buyer_id)},n(d.buyer_name),9,GWo)):(u(),f("span",QWo,n(d.buyer_name),1))]),e("td",ZWo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,JWo)):(u(),f("span",XWo,n(d.anchor_name),1))]),e("td",eKo,n(t.moment(d.created_at).format(t.date_format)),1),e("td",tKo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",oKo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount)),1),e("td",aKo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount)),1),e("td",nKo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",sKo,[e("div",lKo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",iKo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,rKo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",dKo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,cKo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",uKo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,_Ko)])):b("",!0),d.status=="rejected"?(u(),f("span",mKo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,fKo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,hKo),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,pKo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,vKo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,gKo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.buyer_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,bKo),a[36]||(a[36]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yKo,[e("div",kKo,[e("div",$Ko,[e("div",wKo,[e("div",DKo,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",xKo,[e("div",PKo,[e("div",EKo,[e("h5",AKo,n(o.$t("Payment Request")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",IKo,[d.user_can_approve&&!d.user_has_approved?(u(),f("span",RKo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,SKo)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("span",TKo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,jKo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,OKo)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[32]||(a[32]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,MKo)])])]),e("div",LKo,[e("div",NKo,[e("div",FKo,n(o.$t("Buyer")),1),e("div",YKo,[e("a",{href:"../companies/"+d.buyer_id+"/details",class:"fw-bold my-auto"},n(d.buyer_name),9,VKo)]),e("div",BKo,n(o.$t("Anchor")),1),e("div",UKo,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,qKo)]),e("div",HKo,n(o.$t("Program Name")),1),e("div",zKo,n(d.program_name),1),e("div",WKo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",KKo,n(d.invoice_number),1),e("div",GKo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,QKo),e("div",ZKo,n(o.$t("PI Amount")),1),e("div",JKo,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",XKo,n(o.$t("Eligibility"))+" (%)",1),e("div",eGo,n(d.eligibility),1),e("div",tGo,n(o.$t("Eligible Payment Amount")),1),e("div",oGo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",aGo,n(o.$t("Requested Payment Amount")),1),e("div",nGo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",sGo,n(o.$t("Credit to Account No"))+".:",1),e("div",lGo,n(d.payment_accounts[0].account),1),e("div",iGo,n(o.$t("Request Date")),1),e("div",rGo,n(t.moment(d.created_at).format(t.date_format)),1),e("div",dGo,n(o.$t("Requested Disbursement Date")),1),e("div",cGo,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",uGo,n(o.$t("Due Date")),1),e("div",_Go,n(t.moment(d.due_date).format(t.date_format)),1),e("div",mGo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",fGo,n(d.total_roi),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",hGo,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",pGo,[e("div",vGo,[e("div",gGo,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",bGo," ("+n(p.description)+") ",1)):b("",!0)]),e("div",yGo,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",kGo,n(o.$t("Net Disbursal Total")),1),e("div",$Go,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",wGo,n(o.$t("Status")),1),e("div",DGo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage),3)]),d.approvals.length>0?(u(),f("div",CGo,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",xGo,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",PGo,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",EGo,n(d.rejected_by.name),1)):b("",!0)])]),e("div",AGo,[e("button",IGo,n(o.$t(" Close")),1)])])])],8,CKo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",SGo,[e("div",TGo,[e("div",jGo,[e("h5",OGo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,MGo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",NGo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",FGo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,YGo)])],40,LGo)])])],8,RGo),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",BGo,[e("div",UGo,[e("div",qGo,[e("h5",HGo,n(o.$t("Reject Vendor Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,zGo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",KGo,[e("div",GGo,[e("div",QGo,[e("label",ZGo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[21]||(a[21]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,XGo))),128)),e("option",eQo,n(o.$t("Other")),1)],40,JGo),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[22]||(a[22]=p=>t.customRequestRejectionReason=p)},null,8,tQo),[[Q,t.customRequestRejectionReason]])])])]),e("div",oQo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aQo)])],40,WGo)])])],8,VGo),t.company_details?(u(),f("div",nQo,[e("div",sQo,[e("div",lQo,[e("div",iQo,[e("h5",rQo,n(o.$t("Company Details")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",dQo,[e("div",cQo,[e("div",uQo,[e("div",_Qo,n(o.$t("Name"))+":",1),e("div",mQo,n(t.company_details.name),1)]),e("div",fQo,[e("div",hQo,n(o.$t("KRA PIN"))+":",1),e("div",pQo,n(t.company_details.kra_pin),1)]),e("div",vQo,[e("div",gQo,n(o.$t("Unique Identification No."))+":",1),e("div",bQo,n(t.company_details.unique_identification_number),1)]),e("div",yQo,[e("div",kQo,n(o.$t("Business Identification No."))+":",1),e("div",$Qo,n(t.company_details.business_identification_number),1)]),e("div",wQo,[e("div",DQo,n(o.$t("Type"))+":",1),e("div",CQo,n(t.company_details.organization_type),1)]),e("div",xQo,[e("div",PQo,n(o.$t("Branch Code"))+":",1),e("div",EQo,n(t.company_details.branch_code),1)]),e("div",AQo,[e("div",IQo,n(o.$t("City"))+":",1),e("div",RQo,n(t.company_details.city),1)]),e("div",SQo,[e("div",TQo,n(o.$t("Postal Code"))+":",1),e("div",jQo,n(t.company_details.postal_code),1)]),e("div",OQo,[e("div",MQo,n(o.$t("Address"))+":",1),e("div",LQo,n(t.company_details.address),1)]),e("div",NQo,[e("div",FQo,n(o.$t("Customer Type"))+":",1),e("div",YQo,n(t.company_details.customer_type),1)])]),a[35]||(a[35]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",VQo,[e("div",BQo,[e("div",UQo,n(o.$t("Name"))+":",1),e("div",qQo,n(p.name),1)])]),e("div",HQo,[e("div",zQo,[e("div",WQo,n(o.$t("Email"))+":",1),e("div",KQo,n(p.email),1)])]),e("div",GQo,[e("div",QQo,[e("div",ZQo,n(o.$t("Phone"))+":",1),e("div",JQo,n(p.phone_number),1)])])]))),128))]),e("div",XQo,[e("button",eZo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oZo=Ue(azo,[["render",tZo]]),aZo={name:"DealerFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),D=h([]),y=h(""),C=h(""),x=h(["pending_maker","pending_checker"]),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h([]),R=h(50),P=h(!1),I=h(null),S=h(null),F=h(0),N=async()=>{await A.get(c+o.bank+"/requests/dealer-financing-requests/data?per_page="+R.value,{params:{per_page:R.value,invoice_number:C.value,payment_reference_number:y.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(be=>{m.value=be.data.payment_requests,L.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})},U=be=>{if(r.value.includes(be)){const Me=r.value.indexOf(be);r.value.splice(Me,1)}else r.value.push(be)},Z=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,r.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!r.value.filter(function(Oe,ze){Me=ze,Oe==be.id}))return!1;r.value.splice(Me,1)}})},ce=be=>{if(r.value.length<=0){t.error("Select requests");return}P.value=!0;const Me=new FormData;be=="rejected"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",O.value),Me.append("status","rejected")),be=="approve"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),i.value="",N(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),t.error("An error occurred")}).finally(()=>{P.value=!1})},ae=(be,Me)=>Me/be*100;ot(i,be=>{r.value.length>0?(be=="rejected"&&p.value.click(),D.value=[],g.value=0,be=="approve"&&(r.value.forEach(Me=>{D.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),D.value.forEach(Me=>{g.value+=Me.amount}),v.value.click())):t.error("Select Payment Requests")}),ot([R],async([be])=>{await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:be,invoice_number:C.value,payment_reference_number:y.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})});const J=async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),B.value=$("#date_search").val(),B.value&&(T.value=H(B.value.split(" - ")[0]).format("YYYY-MM-DD"),V.value=H(B.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:R.value,invoice_number:C.value,payment_reference_number:y.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},z=async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",y.value="",C.value="",E.value="",k.value="",x.value=["pending_maker","pending_checker"],$("#status-select").val(x.value).trigger("change"),w.value="",T.value="",V.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:R.value,status:x.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},ne=()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Dealer Financing",invoice_number:C.value,status:x.value,payment_reference_number:y.value,invoice_number:C.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})};return Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),x.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();x.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(T.value=H().startOf("month").format("YYYY-MM-DD"),V.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(T.value).format("MM/DD/YYYY")+" - "+H(V.value).format("MM/DD/YYYY"))),N()}),{moment:H,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:D,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:C,status_search:x,anchor_search:k,vendor_search:E,sort_by:w,request_from_date_search:T,request_to_date_search:V,filter:J,refresh:z,rejection_reasons:L,customRequestRejectionReason:O,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:R,is_updating:P,invoice_details:I,company_details:S,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{S.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},selectAll:Z,resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:R.value,invoice_number:C.value,payment_reference_number:y.value,vendor:E.value,anchor:k.value,status:x.value,sort_by:w.value,from_request_date:T.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"financed":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{P.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",O.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Dealer Financing Request updated successfully."),N(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(Oe=>{console.log(Oe),t.error("An error occurred")}).finally(()=>{P.value=!1})},updateSelected:U,submitBulkAction:ce,exportReport:ne,showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{I.value=ue.data,F.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},getTaxPercentage:ae,date_format:a,invoice_details_key:F}}},nZo={class:"card p-3"},sZo={class:"d-flex justify-content-between"},lZo={class:"d-flex flex-wrap gap-1"},iZo={class:""},rZo={for:"Sort by",class:"form-label"},dZo={class:""},cZo={for:"Sort by",class:"form-label"},uZo={class:""},_Zo={for:"Sort by",class:"form-label"},mZo={class:""},fZo={for:"Sort by",class:"form-label"},hZo={class:""},pZo={for:"Sort by",class:"form-label"},vZo={value:""},gZo={value:"pending_maker"},bZo={value:"pending_checker"},yZo={value:"approved"},kZo={value:"paid"},$Zo={value:"rejected"},wZo={value:"closed"},DZo={class:""},CZo={for:"Sort by",class:"form-label"},xZo={class:""},PZo={for:"Sort by",class:"form-label"},EZo={value:""},AZo={value:"invoice_no_asc"},IZo={value:"invoice_no_desc"},RZo={value:"pi_amount_asc"},SZo={value:"pi_amount_desc"},TZo={value:"vendor_asc"},jZo={value:"vendor_desc"},OZo={value:"anchor_asc"},MZo={value:"anchor_desc"},LZo={value:"request_date_asc"},NZo={value:"request_date_desc"},FZo={value:"payment_amount_asc"},YZo={value:"payment_amount_desc"},VZo={value:"due_date_asc"},BZo={value:"due_date_desc"},UZo={class:""},qZo={for:"Sort by",class:"form-label"},HZo={value:""},zZo={value:"approve"},WZo={value:"rejected"},KZo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},GZo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},QZo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ZZo={class:"modal-content"},JZo={class:"modal-header"},XZo={class:"modal-title",id:"modalCenterTitle"},eJo={class:"modal-body"},tJo={class:""},oJo={class:"modal-footer"},aJo=["disabled"],nJo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},sJo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},lJo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},iJo={class:"modal-content"},rJo={class:"modal-header"},dJo={class:"modal-title",id:"modalCenterTitle"},cJo={class:"modal-body"},uJo={class:"row mb-1"},_Jo={class:"form-group"},mJo={for:""},fJo={value:"",selected:""},hJo=["value"],pJo={value:"other"},vJo={class:"modal-footer"},gJo=["disabled"],bJo={class:"table-search-btn"},yJo={class:"table-clear-btn"},kJo={class:"d-flex justify-content-end gap-1 mt-auto"},$Jo={class:"table-responsive"},wJo={class:"table"},DJo={class:""},CJo={class:"px-1"},xJo={class:"px-1"},PJo={class:""},EJo={class:"px-1"},AJo={class:"px-1"},IJo={class:"px-1"},RJo={class:"px-1"},SJo={class:"px-1"},TJo={class:"px-1"},jJo={class:"px-1"},OJo={class:"px-1"},MJo={class:"table-border-bottom-0"},LJo={key:0},NJo={colspan:"12",class:"text-center"},FJo={class:"text-center"},YJo={key:1},VJo={colspan:"12",class:"text-center"},BJo={class:"text-center"},UJo={class:"px-1"},qJo={key:0,class:"form-check"},HJo=["id","onChange"],zJo=["onClick"],WJo=["onClick"],KJo={class:"text-primary text-decoration-underline px-2"},GJo=["onClick"],QJo={key:1},ZJo={class:"text-primary text-decoration-underline px-2"},JJo=["onClick"],XJo={key:1},eXo={class:"px-1"},tXo={class:"px-1"},oXo={class:"text-success px-1"},aXo={class:"text-success px-1"},nXo={class:"px-1"},sXo={class:"px-1"},lXo={class:"d-flex"},iXo={key:0},rXo=["data-bs-target"],dXo={key:1},cXo=["data-bs-target"],uXo={key:2},_Xo=["title"],mXo={key:3},fXo=["title"],hXo=["id","data-bs-target"],pXo=["id","data-bs-target"],vXo=["id","data-bs-target"],gXo=["id"],bXo=["id"],yXo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kXo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$Xo={class:"modal-content"},wXo={class:"modal-body"},DXo={class:"d-flex justify-content-center"},CXo=["id"],xXo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},PXo={class:"modal-content"},EXo={class:"modal-header"},AXo={class:"modal-title",id:"modalCenterTitle"},IXo={class:"d-flex gap-1"},RXo={key:0},SXo=["data-bs-target"],TXo={key:1,class:""},jXo=["data-bs-target"],OXo=["data-bs-target"],MXo=["href"],LXo={class:"modal-body"},NXo={class:"row mb-1"},FXo={class:"col-6 my-1"},YXo={class:"col-6"},VXo=["href"],BXo={class:"col-6 my-1"},UXo={class:"col-6"},qXo={class:"col-6 my-1"},HXo={class:"col-6"},zXo=["href"],WXo={class:"col-6 my-1"},KXo={class:"col-6"},GXo={class:"col-6 my-1"},QXo={class:"col-6"},ZXo={class:"col-6 my-1"},JXo=["onClick"],XXo={class:"col-6 my-1"},eea={class:"col-6 text-success"},tea={class:"col-6 my-1"},oea={class:"col-6"},aea={class:"col-6 my-1"},nea={class:"col-6 text-success"},sea={class:"col-6 my-1"},lea={class:"col-6 text-success"},iea={class:"col-6 my-1"},rea={class:"col-6"},dea={class:"col-6 my-1"},cea={class:"col-6"},uea={class:"col-6 my-1"},_ea={class:"col-6"},mea={class:"col-6 my-1"},fea={class:"col-6"},hea={key:0,class:"col-12"},pea={key:0,class:"row"},vea={class:"col-6 my-1 d-flex"},gea={class:""},bea={key:0,class:""},yea={class:"col-6 text-success"},kea={class:"col-6 my-1"},$ea={class:"col-6 text-success"},wea={class:"col-6"},Dea={class:"col-6"},Cea={key:1,class:"col-6"},xea={key:2,class:"col-6 my-1"},Pea={key:3,class:"col-6"},Eea={key:4,class:"col-6 my-1"},Aea={class:"modal-footer"},Iea={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},Rea=["id"],Sea={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Tea={class:"modal-content"},jea={class:"modal-header"},Oea={class:"modal-title",id:"modalCenterTitle"},Mea=["id"],Lea=["onSubmit"],Nea={class:"modal-body"},Fea={class:"modal-footer"},Yea=["disabled"],Vea=["id"],Bea={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Uea={class:"modal-content"},qea={class:"modal-header"},Hea={class:"modal-title",id:"modalCenterTitle"},zea=["id"],Wea=["onSubmit"],Kea={class:"modal-body"},Gea={class:"row mb-1"},Qea={class:"form-group"},Zea={for:""},Jea=["id","onChange"],Xea=["value"],eta={value:"other"},tta=["id"],ota={class:"modal-footer"},ata=["disabled"],nta={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},sta={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lta={class:"modal-content"},ita={class:"modal-header"},rta={class:"modal-title",id:"modalCenterTitle"},dta={class:"modal-body"},cta={class:"row mb-1"},uta={class:"col-5 d-flex"},_ta={class:""},mta={class:""},fta={class:"col-5 d-flex"},hta={class:""},pta={class:""},vta={class:"col-5 d-flex"},gta={class:""},bta={class:""},yta={class:"col-5 d-flex"},kta={class:""},$ta={class:""},wta={class:"col-5 d-flex"},Dta={class:""},Cta={class:""},xta={class:"col-5 d-flex"},Pta={class:""},Eta={class:""},Ata={class:"col-5 d-flex"},Ita={class:""},Rta={class:""},Sta={class:"col-5 d-flex"},Tta={class:""},jta={class:""},Ota={class:"col-5 d-flex"},Mta={class:""},Lta={class:""},Nta={class:"col-5 d-flex"},Fta={class:""},Yta={class:""},Vta={class:"col-4"},Bta={class:"d-flex"},Uta={class:""},qta={class:""},Hta={class:"col-4"},zta={class:"d-flex"},Wta={class:""},Kta={class:""},Gta={class:"col-4"},Qta={class:"d-flex"},Zta={class:""},Jta={class:""},Xta={class:"modal-footer"},eoa={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function toa(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction"),i=de("upload-attachment");return u(),f("div",nZo,[e("div",sZo,[e("div",lZo,[e("div",iZo,[e("label",rZo,n(o.$t("Payment Ref No")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.payment_reference_number_search]])]),e("div",dZo,[e("label",cZo,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.invoice_number_search]])]),e("div",uZo,[e("label",_Zo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.vendor_search]])]),e("div",mZo,[e("label",fZo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",hZo,[e("label",pZo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",vZo,n(o.$t("Status")),1),e("option",gZo,n(o.$t("Pending (Maker)")),1),e("option",bZo,n(o.$t("Pending (Checker)")),1),e("option",yZo,n(o.$t("Approved")),1),e("option",kZo,n(o.$t("Disbursed")),1),e("option",$Zo,n(o.$t("Rejected")),1),e("option",wZo,n(o.$t("Closed")),1)],512),[[re,t.status_search]])]),e("div",DZo,[e("label",CZo,n(o.$t("Request Date")),1),a[23]||(a[23]=e("input",{class:"form-control form-search",type:"text",name:"request_daterange",id:"date_search"},null,-1))]),e("div",xZo,[e("label",PZo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",EZo,n(o.$t("Sort By")),1),e("option",AZo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",IZo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",RZo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",SZo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",TZo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",jZo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",OZo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",MZo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",LZo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",NZo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",FZo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",YZo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",VZo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",BZo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],512),[[re,t.sort_by]])]),e("div",UZo,[e("label",qZo,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.bulk_action=d)},[e("option",HZo,n(o.$t("Bulk Actions")),1),e("option",zZo,n(o.$t("Approve")),1),e("option",WZo,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",KZo,null,512),e("div",GZo,[e("div",QZo,[e("div",ZZo,[e("div",JZo,[e("h5",XZo,n(o.$t("Approve Dealer Financing Request(s)")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"bulk-approve-close-btn","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[11]||(a[11]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",eJo,[e("div",tJo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected Dealer Financing requests"))+"?",1)])]),e("div",oJo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,aJo)])],32)])])]),e("button",nJo,null,512),e("div",sJo,[e("div",lJo,[e("div",iJo,[e("div",rJo,[e("h5",dJo,n(o.$t("Reject Dealer Financing Request(s)")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close",id:"bulk-reject-close-btn","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[15]||(a[15]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",cJo,[e("div",uJo,[e("div",_Jo,[e("label",mJo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=d=>t.updateRequestRejectionReason=d),onChange:a[13]||(a[13]=d=>t.bulkUpdateRejectionReason())},[e("option",fJo,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,hJo))),128)),e("option",pJo,n(o.$t("Other")),1)],544),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[14]||(a[14]=d=>t.customRequestRejectionReason=d)},null,512),[[Q,t.customRequestRejectionReason]])])])]),e("div",vJo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,gJo)])],32)])])]),e("div",bJo,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...d)=>t.filter&&t.filter(...d))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yJo,[e("button",{class:"btn btn-primary btn-md",onClick:a[17]||(a[17]=(...d)=>t.refresh&&t.refresh(...d))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kJo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[18]||(a[18]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[19]||(a[19]=(...d)=>t.exportReport&&t.exportReport(...d))},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$Jo,[e("table",wJo,[e("thead",null,[e("tr",DJo,[e("th",CJo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[20]||(a[20]=d=>t.selectAll())},null,32)]),e("th",xJo,n(o.$t("Payment Reference No"))+".",1),e("th",PJo,n(o.$t("Invoice No"))+".",1),e("th",EJo,n(o.$t("Dealer")),1),e("th",AJo,n(o.$t("Anchor")),1),e("th",IJo,n(o.$t("Request Date")),1),e("th",RJo,n(o.$t("Due Date")),1),e("th",SJo,n(o.$t("PI Amount")),1),e("th",TJo,n(o.$t("Payment Amount")),1),e("th",jJo,n(o.$t("Status")),1),e("th",OJo,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",MJo,[t.requests.data?b("",!0):(u(),f("tr",LJo,[e("td",NJo,[e("span",FJo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",YJo,[e("td",VJo,[e("span",BJo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",UJo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",qJo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,HJo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,zJo),e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id)},n(d.invoice_number),9,WJo),e("td",KJo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.company_id,"show-vendor-details-btn-"+d.company_id)},n(d.company_name),9,GJo)):(u(),f("span",QJo,n(d.company_name),1))]),e("td",ZJo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,JJo)):(u(),f("span",XJo,n(d.anchor_name),1))]),e("td",eXo,n(t.moment(d.created_at).format(t.date_format)),1),e("td",tXo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",oXo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("td",aXo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("td",nXo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",sXo,[e("div",lXo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",iXo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,rXo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",dXo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,cXo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",uXo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,_Xo)])):b("",!0),d.status=="rejected"?(u(),f("span",mXo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,fXo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,hXo),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,pXo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,vXo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,gXo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,bXo),a[36]||(a[36]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yXo,[e("div",kXo,[e("div",$Xo,[e("div",wXo,[e("div",DXo,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",xXo,[e("div",PXo,[e("div",EXo,[e("h5",AXo,n(o.$t("Payment Request")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",IXo,[d.user_can_approve&&!d.user_has_approved?(u(),f("span",RXo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,SXo)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("span",TXo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,jXo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,OXo)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[32]||(a[32]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,MXo)])])]),e("div",LXo,[e("div",NXo,[e("div",FXo,n(o.$t("Dealer")),1),e("div",YXo,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,VXo)]),e("div",BXo,n(o.$t("OD Account No"))+":",1),e("div",UXo,n(d.payment_account_number),1),e("div",qXo,n(o.$t("Anchor")),1),e("div",HXo,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,zXo)]),e("div",WXo,n(o.$t("Program Name")),1),e("div",KXo,n(d.program_name),1),e("div",GXo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",QXo,n(d.invoice_number),1),e("div",ZXo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,JXo),e("div",XXo,n(o.$t("Invoice Amount")),1),e("div",eea,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",tea,n(o.$t("Eligibility"))+" (%)",1),e("div",oea,n(d.eligibility),1),e("div",aea,n(o.$t("Eligible Drawdown Amount")),1),e("div",nea,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",sea,n(o.$t("Requested Drawdown Amount")),1),e("div",lea,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("div",iea,n(o.$t("Credit to Account No"))+".:",1),e("div",rea,n(d.payment_accounts[0].account),1),e("div",dea,n(o.$t("Request Date")),1),e("div",cea,n(t.moment(d.created_at).format(t.date_format)),1),e("div",uea,n(o.$t("Requested Disbursement Date")),1),e("div",_ea,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",mea,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",fea,n(d.discount_rate),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",hea,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",pea,[e("div",vea,[e("div",gea,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",bea," ("+n(p.description)+") ",1)):b("",!0)]),e("div",yea,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",kea,n(o.$t("Net Disbursal Total")),1),e("div",$ea,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",wea,n(o.$t("Status")),1),e("div",Dea,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),d.approvals.length>0?(u(),f("div",Cea,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",xea,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",Pea,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",Eea,n(d.rejected_by.name),1)):b("",!0)])]),e("div",Aea,[e("button",Iea,n(o.$t("Close")),1)])])])],8,CXo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Sea,[e("div",Tea,[e("div",jea,[e("h5",Oea,n(o.$t("Approve Dealer Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,Mea)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",Nea,[e("h5",null,n(o.$t("Are you sure you want to approve the Dealer Financing request with the reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",Fea,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,Yea)])],40,Lea)])])],8,Rea),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Bea,[e("div",Uea,[e("div",qea,[e("h5",Hea,n(o.$t("Reject Dealer Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,zea)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",Kea,[e("div",Gea,[e("div",Qea,[e("label",Zea,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[21]||(a[21]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(W,null,X(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,Xea))),128)),e("option",eta,n(o.$t("Other")),1)],40,Jea),[[re,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[22]||(a[22]=p=>t.customRequestRejectionReason=p)},null,8,tta),[[Q,t.customRequestRejectionReason]])])])]),e("div",ota,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,ata)])],40,Wea)])])],8,Vea),t.company_details?(u(),f("div",nta,[e("div",sta,[e("div",lta,[e("div",ita,[e("h5",rta,n(o.$t("Company Details")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",dta,[e("div",cta,[e("div",uta,[e("div",_ta,n(o.$t("Name"))+":",1),e("div",mta,n(t.company_details.name),1)]),e("div",fta,[e("div",hta,n(o.$t("KRA PIN"))+":",1),e("div",pta,n(t.company_details.kra_pin),1)]),e("div",vta,[e("div",gta,n(o.$t("Unique Identification No."))+":",1),e("div",bta,n(t.company_details.unique_identification_number),1)]),e("div",yta,[e("div",kta,n(o.$t("Business Identification No."))+":",1),e("div",$ta,n(t.company_details.business_identification_number),1)]),e("div",wta,[e("div",Dta,n(o.$t("Type"))+":",1),e("div",Cta,n(t.company_details.organization_type),1)]),e("div",xta,[e("div",Pta,n(o.$t("Branch Code"))+":",1),e("div",Eta,n(t.company_details.branch_code),1)]),e("div",Ata,[e("div",Ita,n(o.$t("City"))+":",1),e("div",Rta,n(t.company_details.city),1)]),e("div",Sta,[e("div",Tta,n(o.$t("Postal Code"))+":",1),e("div",jta,n(t.company_details.postal_code),1)]),e("div",Ota,[e("div",Mta,n(o.$t("Address"))+":",1),e("div",Lta,n(t.company_details.address),1)]),e("div",Nta,[e("div",Fta,n(o.$t("Customer Type"))+":",1),e("div",Yta,n(t.company_details.customer_type),1)])]),a[35]||(a[35]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",Vta,[e("div",Bta,[e("div",Uta,n(o.$t("Name"))+":",1),e("div",qta,n(p.name),1)])]),e("div",Hta,[e("div",zta,[e("div",Wta,n(o.$t("Email"))+":",1),e("div",Kta,n(p.email),1)])]),e("div",Gta,[e("div",Qta,[e("div",Zta,n(o.$t("Phone"))+":",1),e("div",Jta,n(p.phone_number),1)])])]))),128))]),e("div",Xta,[e("button",eoa,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const ooa=Ue(aZo,[["render",toa]]),aoa={name:"Companies",props:["bank","can_create","can_manage_authorization_group","can_manage_authorization_matrix"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL"),s=o.can_create=="1"?h(!0):h(!1),t=o.can_manage_authorization_group=="1"?h(!0):h(!1),c=o.can_manage_authorization_matrix=="1"?h(!0):h(!1),m=lt(),_=h([]),l=h(""),r=h(""),i=h(""),d=h([]),p=h(""),v=h(""),g=h(""),D=h([]),y=h(50),C=h(""),x=h([]),E=h(null),k=h(null),w=h([]),T=h(""),V=async()=>{await A.get(a+o.bank+"/companies/data?per_page="+y.value).then(J=>{_.value=J.data.data.companies})},B=J=>{let z="";switch(J){case"pending":z="bg-label-primary";break;case"approved":z="bg-label-success";break;case"rejected":z="bg-label-danger";break;default:z="bg-label-primary";break}return z},O=J=>{let z="";switch(J){case"active":z="bg-label-primary";break;case"inactive":z="bg-label-secondary";break;default:z="bg-label-primary";break}return z};ot(T,J=>{w.value.length>0?(x.value=[],J=="approve"&&(w.value.forEach(z=>{x.value.push(_.value.data.filter(ne=>ne.id==z)[0])}),k.value.click()),J=="reject"&&E.value.click()):m.error("Select Programs")});const L=async()=>{let J=$(".ti-search").parent();J.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/companies/data",{params:{per_page:y.value,name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,type:g.value,program_role_type:D.value}}).then(z=>{_.value=z.data.data.companies,J.html('<i class="ti ti-search"></i>')})},R=async()=>{let J=$(".ti-refresh").parent();J.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",v.value="",p.value="",d.value=[],g.value="",D.value=[],await A.get(a+o.bank+"/companies/data",{params:{per_page:y.value}}).then(z=>{_.value=z.data.data.companies,J.html('<i class="ti ti-refresh"></i>')})},P=()=>{w.value=[],document.getElementById("select-all").checked?_.value.data.forEach(J=>{J.can_approve&&(document.getElementById("data-select-"+J.id).checked=!0,w.value.push(J.id))}):_.value.data.forEach(J=>{if(J.can_approve){document.getElementById("data-select-"+J.id).checked=!1;let z;if(!w.value.filter(function(xe,Fe){z=Fe,xe==J.id}))return!1;w.value.splice(z,1)}})},I=J=>{if(w.value.includes(J)){const z=w.value.indexOf(J);w.value.splice(z,1)}else w.value.push(J)},S=J=>{if(w.value.length<=0){m.error("Select companies");return}const z=new FormData;w.value.forEach(ne=>{z.append("companies[]",ne)}),J=="approve"&&z.append("status","approved"),J=="reject"&&(z.append("status","rejected"),z.append("rejection_reason",l.value)),A.post(a+o.bank+"/companies/bulk/approval-status/status/update",z).then(()=>{m.success("Companies updated"),T.value="",l.value="",V(),document.getElementById("approve-companies-close").click(),document.getElementById("reject-companies-close").click()}).catch(ne=>{console.log(ne),m.error("An error occurred")})},F=(J,z)=>{A.get(`companies/${J}/activity/status/update/${z}`).then(ne=>{V(),m.success(ne.data.message),document.getElementById("update-inactive-status-close"+J).click(),document.getElementById("update-active-status-close"+J).click()}).catch(ne=>{console.log(ne)})},N=(J,z)=>{A.post(`companies/${J}/status/update`,{status:z,rejection_reason:l.value}).then(()=>{m.success("Company status updated"),V()}).catch(ne=>{console.log(ne)})},U=J=>{A.get("companies/"+J.id+"/block-status/update").then(()=>{J.is_blocked?m.success("Company has been unblocked"):m.success("Company has been blocked"),setTimeout(()=>{window.location.reload()},3e3)})},Z=(J,z)=>{A.get("companies/"+J+"/updates/"+z+"/approve").then(()=>{z=="approve"?m.success("Company Changed have been applied"):m.success("Company changed have been discarded"),document.getElementById("changes-details-close-"+J).click(),V()})},ce=J=>{let z=[];return J.forEach(ne=>{z.push(ne.name)}),!!(z.length>0&&(z.includes("anchor")||z.includes("buyer")))};return Qe(()=>{V(),$("#company-type-select").on("change",function(){var J=$("#company-type-select").val();D.value=J}),$("#status-select").on("change",function(){var J=$("#status-select").val();d.value=J})}),ot([y],async([J])=>{await A.get(a+o.bank+"/companies/data",{params:{per_page:J,name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,program_role_type:D.value}}).then(z=>{_.value=z.data.data.companies}).catch(z=>{console.log(z)})}),{base_url:a,bank:r,companies:_,rejection_reason:l,can_create:s,can_manage_authorization_group:t,can_manage_authorization_matrix:c,name_search:i,status_search:d,branch_code:p,approval_status_search:v,type_search:g,company_type_search:D,per_page:y,updateRequestRejectionReason:C,showRejectionModal:E,showApprovalModal:k,selected_data:w,bulk_action:T,filter:L,refresh:R,selectAll:P,updateSelected:I,submitBulkAction:S,updateBlockStatus:U,resolveApprovalStatus:B,resolveStatus:O,updateActiveStatus:F,updateApprovalStatus:N,changePage:async J=>{await A.get(J+"&per_page="+y.value,{params:{name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,program_role_type:D.value}}).then(z=>{_.value=z.data.data.companies})},approveChange:Z,hasAnchorRole:ce}}},noa={class:"card p-2",id:"companies"},soa={class:"d-flex justify-content-between"},loa={class:"d-flex flex-wrap gap-1"},ioa={class:""},roa={for:"Company Name",class:"form-label"},doa=["placeholder"],coa={class:""},uoa={for:"Company Type",class:"form-label"},_oa={value:""},moa={value:"anchor"},foa={value:"vendor"},hoa={value:"dealer"},poa={value:"buyer"},voa={value:"unassigned"},goa={class:""},boa={for:"Approval Status",class:"form-label"},yoa={value:""},koa={value:"pending"},$oa={value:"approved"},woa={value:"rejected"},Doa={class:""},Coa={for:"Status",class:"form-label"},xoa={value:""},Poa={value:"active"},Eoa={value:"inactive"},Aoa={value:"blocked"},Ioa={value:"unblocked"},Roa={class:""},Soa={for:"Branch Code",class:"form-label"},Toa={class:""},joa={for:"Bulk Actions",class:"form-label"},Ooa={value:""},Moa={value:"approve"},Loa={value:"reject"},Noa={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Foa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Yoa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Voa={class:"modal-content"},Boa={class:"modal-header"},Uoa={class:"modal-title",id:"modalCenterTitle"},qoa={class:"modal-body"},Hoa={class:"modal-footer"},zoa={class:"btn btn-primary",type:"submit"},Woa={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},Koa={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},Goa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Qoa={class:"modal-content"},Zoa={class:"modal-header"},Joa={class:"modal-title",id:"modalCenterTitle"},Xoa={class:"modal-body"},eaa={class:"row mb-1"},taa={class:"form-group"},oaa={for:""},aaa={class:"modal-footer"},naa={class:"btn btn-primary",type:"submit"},saa={class:"table-search-btn"},laa={class:"table-clear-btn"},iaa={class:"d-flex justify-content-end gap-1 mt-auto"},raa={class:""},daa={key:0,class:""},caa={href:"companies/create"},uaa={type:"button",class:"btn btn-primary text-nowrap btn-md"},_aa={class:"table-responsive"},maa={class:"table"},faa={class:""},haa={class:"form-check"},paa={class:"table-border-bottom-0"},vaa={key:0},gaa={colspan:"12",class:"text-center"},baa={class:"text-center"},yaa={key:1},kaa={colspan:"12",class:"text-center"},$aa={class:"text-center"},waa={class:"form-check"},Daa=["id","onChange"],Caa={class:""},xaa={class:"text-primary text-decoration-underline"},Paa={key:0},Eaa=["href"],Aaa={key:1},Iaa={key:1},Raa=["href"],Saa={key:1},Taa={key:2,class:"tf-icons ti ti-info-circle ti-xs text-info",title:"Pending Company Changes awating approval"},jaa={key:3,class:"tf-icons ti ti-info-circle ti-xs text-info",title:"Pending Company User Changes awating approval"},Oaa={key:4,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:"Company Limit is almost depleted."},Maa={key:5,class:"tf-icons ti ti-info-circle ti-xs text-warning",title:"Company Creation/Updation Awaiting Approval."},Laa=["title"],Naa={key:0},Faa={class:"badge bg-label-primary me-1 m_title mx-1"},Yaa={key:1},Vaa={class:""},Baa={key:0},Uaa={key:1},qaa={class:"d-flex"},Haa={class:"d-flex gap-1"},zaa=["href"],Waa=["href"],Kaa={key:0,class:"ti ti-clock ti-sm text-primary",title:"Company Creation/Updation Awaiting approval",style:{cursor:"pointer","font-weight":"bolder"}},Gaa=["data-bs-target"],Qaa=["data-bs-target"],Zaa=["data-bs-target"],Jaa=["title"],Xaa=["href"],ena=["href"],tna=["onClick"],ona=["data-bs-target"],ana=["href"],nna={key:0,class:"ti ti-list-details ti-sm text-primary",title:"View Authorization Groups"},sna=["href"],lna={key:0,class:"ti ti-list-check ti-sm text-primary",title:"View Authorization Matrix"},ina=["data-bs-target"],rna=["data-bs-target"],dna=["id"],cna={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},una={class:"modal-content"},_na={class:"modal-header"},mna={class:"modal-title",id:"modalCenterTitle"},fna=["onSubmit"],hna={class:"modal-body"},pna={class:"row mb-1"},vna={class:"form-group"},gna={for:""},bna={class:"modal-footer"},yna={class:"btn btn-primary",type:"submit"},kna=["id"],$na={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},wna={class:"modal-content"},Dna={class:"modal-header"},Cna={class:"modal-title",id:"modalCenterTitle"},xna=["onSubmit"],Pna={class:"modal-body"},Ena={key:0,class:"text-wrap"},Ana={key:1,class:"text-wrap"},Ina={class:"modal-footer"},Rna={class:"btn btn-primary",type:"submit"},Sna=["id"],Tna={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jna={class:"modal-content"},Ona={class:"modal-header"},Mna={class:"modal-title",id:"modalCenterTitle"},Lna=["id"],Nna={class:"modal-body"},Fna={class:"row mb-1"},Yna={class:"text-wrap"},Vna={class:"modal-footer"},Bna=["onClick"],Una=["id"],qna={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Hna={class:"modal-content"},zna={class:"modal-header"},Wna={class:"modal-title",id:"modalCenterTitle"},Kna=["id"],Gna={class:"modal-body"},Qna={class:"row mb-1"},Zna={class:"text-wrap"},Jna={class:"modal-footer"},Xna=["onClick"],esa=["id"],tsa={class:"modal-dialog"},osa={class:"modal-content"},asa={class:"modal-header"},nsa=["id"],ssa={class:"modal-body"},lsa={class:"row"},isa={class:"col-6"},rsa={key:0,class:"m_title"},dsa={key:1,class:"m_title"},csa={class:"mt-2"},usa={key:0,class:"m_title"},_sa={key:0,class:"modal-footer"},msa=["onClick"],fsa=["onClick"];function hsa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",noa,[e("div",soa,[e("div",loa,[e("div",ioa,[e("label",roa,n(o.$t("Company Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,40,doa),[[Q,t.name_search]])]),e("div",coa,[e("label",uoa,n(o.$t("Company Type")),1),Y(e("select",{class:"form-select form-search select2",id:"company-type-select",multiple:"","onUpdate:modelValue":a[2]||(a[2]=l=>t.company_type_search=l)},[e("option",_oa,n(o.$t("Company Type")),1),e("option",moa,n(o.$t("Anchor")),1),e("option",foa,n(o.$t("Vendor")),1),e("option",hoa,n(o.$t("Dealer")),1),e("option",poa,n(o.$t("Buyer")),1),e("option",voa,n(o.$t("Unassigned")),1)],512),[[re,t.company_type_search]])]),e("div",goa,[e("label",boa,n(o.$t("Approval Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=l=>t.approval_status_search=l)},[e("option",yoa,n(o.$t("Approval Status")),1),e("option",koa,n(o.$t("Pending")),1),e("option",$oa,n(o.$t("Approved")),1),e("option",woa,n(o.$t("Rejected")),1)],512),[[re,t.approval_status_search]])]),e("div",Doa,[e("label",Coa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"status-select",multiple:""},[e("option",xoa,n(o.$t("Status")),1),e("option",Poa,n(o.$t("Active")),1),e("option",Eoa,n(o.$t("Inactive")),1),e("option",Aoa,n(o.$t("Blocked")),1),e("option",Ioa,n(o.$t("Unblocked")),1)],512),[[re,t.status_search]])]),e("div",Roa,[e("label",Soa,n(o.$t("Branch Code")),1),Y(e("input",{onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=l=>t.branch_code=l),id:"defaultFormControlInput",placeholder:"Branch Code","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.branch_code]])]),e("div",Toa,[e("label",joa,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=l=>t.bulk_action=l)},[e("option",Ooa,n(o.$t("Bulk Actions")),1),e("option",Moa,n(o.$t("Approve")),1),e("option",Loa,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",Noa,null,512),e("div",Foa,[e("div",Yoa,[e("div",Voa,[e("div",Boa,[e("h5",Uoa,n(o.$t("Approve Companies")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",qoa,[e("h5",null,n(o.$t("Are you sure you want to approve the selected companies"))+"?",1)]),e("div",Hoa,[e("button",zoa,n(o.$t("Submit")),1)])],32)])])]),e("button",Woa,null,512),e("div",Koa,[e("div",Goa,[e("div",Qoa,[e("div",Zoa,[e("h5",Joa,n(o.$t("Update Selected Companies")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Xoa,[e("div",eaa,[e("div",taa,[e("label",oaa,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",aaa,[e("button",naa,n(o.$t("Submit")),1)])],32)])])]),e("div",saa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...l)=>t.filter&&t.filter(...l))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",laa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...l)=>t.refresh&&t.refresh(...l))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",iaa,[e("div",raa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_create?(u(),f("div",daa,[e("a",caa,[e("button",uaa,[a[21]||(a[21]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Add Company")),1)])])])):b("",!0)])]),t.companies.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",_aa,[e("table",maa,[e("thead",null,[e("tr",faa,[e("th",null,[e("div",haa,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[14]||(a[14]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("ID")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Company Type")),1),e("th",null,n(o.$t("Organization Type")),1),e("th",null,n(o.$t("Approval Status")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Source")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",paa,[t.companies.data?b("",!0):(u(),f("tr",vaa,[e("td",gaa,[e("span",baa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",yaa,[e("td",kaa,[e("span",$aa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",waa,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Daa)):b("",!0)])]),e("td",Caa,[e("span",null,n(l.company_bank_id),1)]),e("td",xaa,[e("span",null,[l.proposed_update||l.approval_status==="pending"||l.user_changes?(u(),f("span",Paa,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,Eaa)):(u(),f("span",Aaa,n(l.name),1))])):(u(),f("span",Iaa,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,Raa)):(u(),f("span",Saa,n(l.name),1))])),l.proposed_update?(u(),f("i",Taa)):b("",!0),l.user_changes?(u(),f("i",jaa)):b("",!0),l.utilized>90?(u(),f("i",Oaa)):b("",!0),l.approval_status=="pending"?(u(),f("i",Maa)):b("",!0),l.approval_status=="rejected"?(u(),f("i",{key:6,class:"tf-icons ti ti-registered ti-xs text-danger",title:l.rejection_reason},null,8,Laa)):b("",!0)])]),l.roles.length>0?(u(),f("td",Naa,[(u(!0),f(W,null,X(l.roles,r=>(u(),f("div",{key:r.id},[e("span",Faa,n(r.name),1)]))),128))])):(u(),f("td",Yaa,a[22]||(a[22]=[e("span",null,"-",-1)]))),e("td",Vaa,[e("span",null,n(l.organization_type),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveApprovalStatus(l.approval_status)])},n(o.$t(l.approval_status)),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.status)])},n(o.$t(l.status)),3)]),e("td",null,[l.pipeline?(u(),f("span",Baa,"Bank/CRM Created")):(u(),f("span",Uaa,"YoFinvoice"))]),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",null,[e("div",qaa,[e("div",Haa,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},a[23]||(a[23]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"}},null,-1)]),8,zaa)):b("",!0),l.can_view?(u(),f("a",{key:1,href:"companies/"+l.id+"/details"},[l.approval_status=="pending"?(u(),f("i",Kaa)):b("",!0)],8,Waa)):b("",!0),l.proposed_update?(u(),f("i",{key:2,class:"ti ti-clock ti-sm text-primary",title:"Company has pending changes",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id},null,8,Gaa)):b("",!0),!l.proposed_update&&l.approval_status=="approved"&&l.status=="active"&&l.can_activate?(u(),f("i",{key:3,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},null,8,Qaa)):b("",!0),!l.proposed_update&&l.approval_status=="approved"&&l.status=="inactive"&&l.can_activate?(u(),f("i",{key:4,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-inactive-status-"+l.id},null,8,Zaa)):b("",!0),l.approval_status=="rejected"?(u(),f("i",{key:5,class:"ti ti-ban ti-sm text-danger",title:l.rejection_reason},null,8,Jaa)):b("",!0),!l.proposed_update&&l.approval_status=="rejected"&&l.can_edit_after_rejection?(u(),f("a",{key:6,href:"companies/"+l.id+"/edit",class:""},a[24]||(a[24]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit"},null,-1)]),8,Xaa)):b("",!0),!l.proposed_update&&l.approval_status=="approved"?(u(),f("a",{key:7,href:"companies/"+l.id+"/edit",class:""},a[25]||(a[25]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit"},null,-1)]),8,ena)):b("",!0),l.can_approve?(u(),f("i",{key:8,class:"ti ti-circle-check ti-sm text-success",style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.updateApprovalStatus(l.id,"approved"),title:"Approve Company"},null,8,tna)):b("",!0),l.can_approve?(u(),f("i",{key:9,class:"ti ti-square-x ti-sm text-danger",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#update-status-"+l.id,title:"Reject/Disapprove Company"},null,8,ona)):b("",!0),!l.proposed_update&&t.can_manage_authorization_group?(u(),f("a",{key:10,href:"companies/"+l.id+"/authorization-groups",class:""},[t.hasAnchorRole(l.roles)?(u(),f("i",nna)):b("",!0)],8,ana)):b("",!0),!l.proposed_update&&t.can_manage_authorization_matrix?(u(),f("a",{key:11,href:"companies/"+l.id+"/authorization-matrices",class:""},[t.hasAnchorRole(l.roles)?(u(),f("i",lna)):b("",!0)],8,sna)):b("",!0),l.approval_status=="approved"&&l.can_block&&!l.proposed_update&&!l.is_blocked?(u(),f("i",{key:12,class:"ti ti-hand-stop ti-sm text-success",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-block-status-"+l.id,title:"Block Company from making finance requests"},null,8,ina)):b("",!0),l.approval_status=="approved"&&l.can_block&&!l.proposed_update&&l.is_blocked?(u(),f("i",{key:13,class:"ti ti-hand-off ti-sm text-danger",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-block-status-"+l.id,title:"Unblock Company from making finance requests"},null,8,rna)):b("",!0)]),e("div",{class:"modal fade",id:"update-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",cna,[e("div",una,[e("div",_na,[e("h5",mna,n(o.$t("Update Company Status")),1),a[26]||(a[26]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",hna,[e("div",pna,[e("div",vna,[e("label",gna,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=r=>t.rejection_reason=r)},null,512),[[Q,t.rejection_reason]])])])]),e("div",bna,[e("button",yna,n(o.$t("Submit")),1)])],40,fna)])])],8,dna),e("div",{class:"modal fade",id:"update-block-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",$na,[e("div",wna,[e("div",Dna,[e("h5",Cna,n(o.$t("Update Company Status")),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateBlockStatus(l),["prevent"]),method:"post"},[e("div",Pna,[l.is_blocked?(u(),f("h4",Ana,n(o.$t("Are you sure you want to unblock the company"))+", "+n(l.name)+"? ",1)):(u(),f("h4",Ena,n(o.$t("Are you sure you want to block the company"))+", "+n(l.name)+" "+n(o.$t("from making finance requests"))+"? ",1))]),e("div",Ina,[e("button",Rna,n(o.$t("Submit")),1)])],40,xna)])])],8,kna),e("div",{class:"modal fade",id:"update-active-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Tna,[e("div",jna,[e("div",Ona,[e("h5",Mna,n(o.$t("Update Company Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-active-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Lna)]),e("div",Nna,[e("div",Fna,[e("h5",Yna,n(o.$t("Are you sure you want to update the status of"))+" "+n(l.name)+" "+n(o.$t("to inactive"))+"? ",1)])]),e("div",Vna,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id,"inactive")},n(o.$t("Confirm")),9,Bna)])])])],8,Sna),e("div",{class:"modal fade",id:"update-inactive-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",qna,[e("div",Hna,[e("div",zna,[e("h5",Wna,n(o.$t("Update Company Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-inactive-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Kna)]),e("div",Gna,[e("div",Qna,[e("h5",Zna,n(o.$t("Are you sure you want to update the status of"))+" "+n(l.name)+" "+n(o.$t("to active"))+"? ",1)])]),e("div",Jna,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id,"active")},n(o.$t("Confirm")),9,Xna)])])])],8,Una),l.update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"changes-details-"+l.id,tabindex:"-1"},[e("div",tsa,[e("div",osa,[e("div",asa,[e("h5",null,n(o.$t("Company Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"changes-details-close-"+l.id,"aria-label":"Close"},null,8,nsa)]),e("div",ssa,[e("div",lsa,[e("div",isa,[(u(!0),f(W,null,X(l.update.changes,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[i!="Relationship Manager"?(u(),f(W,{key:0},[e("h5",null,n(o.$t("Company Details")),1),(u(!0),f(W,null,X(r,(d,p)=>(u(),f("div",{class:"d-flex flex-column",key:p},[p=="gst_number"?(u(),f("span",rsa,"KRA PIN: "+n(d),1)):b("",!0),d!=""&&d!=null&&p!="gst_number"?(u(),f("span",dsa,n(p.replaceAll("_"," "))+": "+n(d),1)):b("",!0)]))),128))],64)):(u(),f(W,{key:1},[e("h5",csa,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(r,(d,p)=>(u(),f("div",{class:"d-flex flex-column",key:p},[(u(!0),f(W,null,X(d,(v,g)=>(u(),f("div",{class:"d-flex flex-column",key:v},[v!=""&&v!=null?(u(),f("span",usa,n(g.replaceAll("_"," "))+": "+n(v),1)):b("",!0)]))),128)),a[28]||(a[28]=e("hr",null,null,-1))]))),128))],64))]))),128))])])]),l.update&&l.update.can_approve?(u(),f("div",_sa,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveChange(l.id,"reject")},n(o.$t("Reject")),9,msa),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveChange(l.id,"approve")},n(o.$t("Approve")),9,fsa)])):b("",!0)])])],8,esa)):b("",!0)])])]))),128))])])]),t.companies.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const psa=Ue(aoa,[["render",hsa]]),vsa={name:"AuthorizationGroups",components:{Pagination:St},props:["bank","company"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h(50),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(!1),v=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/authorization-groups/data",{params:{per_page:m.value}}).then(x=>{t.value=x.data.authorization_groups,c.value=x.data.program_types}).catch(x=>{console.log(x)})},g=x=>{d.value=x.id,_.value=x.name,l.value=x.level,r.value=x.program_type_id,i.value=x.status,p.value=!0},D=()=>{A.post(s+o.bank+"/companies/"+o.company+"/authorization-groups/store",{name:_.value,level:l.value,program_type_id:r.value,status:i.value}).then(()=>{a.success("Group added successfully"),_.value="",r.value="",i.value="",l.value="",document.getElementById("close-create-modal").click(),v()}).catch(x=>{x.response.data&&x.response.data.message&&a.error(x.response.data.message),Object.keys(x.response.data).length>0&&Object.keys(x.response.data).forEach(E=>{a.error(x.response.data[E][0])}),x.response.data&&(!x.response.data.message||Object.keys(x.response.data).length<=0)&&a.error("An error occurred")})},y=()=>{A.post(s+o.bank+"/companies/"+o.company+"/authorization-groups/update",{group_id:d.value,name:_.value,level:l.value,program_type_id:r.value,status:i.value}).then(()=>{a.success("Group updated successfully"),d.value="",_.value="",l.value="",r.value="",i.value="",p.value=!1,document.getElementById("close-edit-modal-"+d.value).click(),v()}).catch(x=>{x.response.data&&x.response.data.message&&a.error(x.response.data.message),Object.keys(x.response.data).length>0&&Object.keys(x.response.data).forEach(E=>{a.error(x.response.data[E][0])}),x.response.data&&(!x.response.data.message||Object.keys(x.response.data).length<=0)&&a.error("An error occurred")})};return Qe(()=>{v()}),{per_page:m,rates:t,program_types:c,name:_,level:l,program_type_id:r,status:i,showEditModal:p,addNewBranch:D,updateBranch:y,editBranch:g,changePage:async x=>{await A.get(x,{params:{per_page:m.value}}).then(E=>{t.value=E.data})}}}},gsa={class:"card p-2"},bsa={class:"d-flex justify-content-between"},ysa={class:"d-flex"},ksa={class:""},$sa={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},wsa={class:"modal modal-top fade",id:"addBranch",tabindex:"-1"},Dsa={class:"modal-dialog"},Csa={class:"modal-header"},xsa={class:"modal-title",id:"modalTopTitle"},Psa={class:"modal-body my-1"},Esa={class:"form-group"},Asa={for:"Name",class:"form-label"},Isa={class:"form-group my-1"},Rsa={for:"Name",class:"form-label"},Ssa={class:"form-group my-1"},Tsa={for:"Name",class:"form-label"},jsa={value:""},Osa=["value"],Msa={class:"form-group my-1"},Lsa={for:"Name",class:"form-label"},Nsa={value:"active"},Fsa={value:"inactive"},Ysa={class:"modal-footer"},Vsa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Bsa={type:"submit",class:"btn btn-primary"},Usa={class:"table-responsive"},qsa={class:"table"},Hsa={class:""},zsa={class:"table-border-bottom-0"},Wsa={class:"m_title"},Ksa={class:"flex"},Gsa=["onClick","data-bs-target"],Qsa=["id"],Zsa={class:"modal-dialog"},Jsa={class:"modal-header"},Xsa={class:"modal-title",id:"modalTopTitle"},ela=["id"],tla={class:"modal-body my-1"},ola={class:"form-group"},ala={for:"Name",class:"form-label"},nla={class:"form-group my-1"},sla={for:"Name",class:"form-label"},lla={class:"form-group my-1"},ila={for:"Name",class:"form-label"},rla={value:""},dla=["value"],cla={class:"form-group my-1"},ula={for:"Name",class:"form-label"},_la={value:"active"},mla={value:"inactive"},fla={class:"modal-footer"},hla={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},pla={type:"submit",class:"btn btn-primary"};function vla(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",gsa,[e("div",bsa,[a[17]||(a[17]=ga('<div class="d-flex flex-wrap gap-1" data-v-0779afed><div class="" data-v-0779afed><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Base Rate Code" aria-describedby="defaultFormControlHelp" data-v-0779afed></div><div class="" data-v-0779afed><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Status" aria-describedby="defaultFormControlHelp" data-v-0779afed></div></div>',1)),e("div",ysa,[e("div",ksa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",$sa,n(o.$t("New Group")),1),e("div",wsa,[e("div",Dsa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",Csa,[e("h5",xsa,n(o.$t("Add New Group")),1),a[12]||(a[12]=e("button",{type:"button",class:"btn-close",id:"close-create-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Psa,[e("div",Esa,[e("label",Asa,[le(n(o.$t("Name"))+" ",1),a[13]||(a[13]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":a[1]||(a[1]=l=>t.name=l)},null,512),[[Q,t.name]])]),e("div",Isa,[e("label",Rsa,[le(n(o.$t("Level"))+" ",1),a[14]||(a[14]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",required:"",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.level=l)},null,512),[[Q,t.level]])]),e("div",Ssa,[e("label",Tsa,[le(n(o.$t("Product"))+" ",1),a[15]||(a[15]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=l=>t.program_type_id=l),required:""},[e("option",jsa,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.program_types,l=>(u(),f("option",{key:l.id,value:l.id},n(l.name),9,Osa))),128))],512),[[re,t.program_type_id]])]),e("div",Msa,[e("label",Lsa,[le(n(o.$t("Status"))+" ",1),a[16]||(a[16]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l),required:""},[e("option",Nsa,n(o.$t("Active")),1),e("option",Fsa,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",Ysa,[e("button",Vsa,n(o.$t("Close")),1),e("button",Bsa,n(o.$t("Submit")),1)])],32)])])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Usa,[e("table",qsa,[e("thead",null,[e("tr",Hsa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Level")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",zsa,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.name),1),e("td",null,n(l.level),1),e("td",null,n(l.program_type.name),1),e("td",null,[e("div",Wsa,n(l.status),1)]),e("td",Ksa,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,Gsa),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",Zsa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",Jsa,[e("h5",Xsa,n(o.$t("Edit Group")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,ela)]),e("div",tla,[e("div",ola,[e("label",ala,[le(n(o.$t("Name"))+" ",1),a[18]||(a[18]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",nla,[e("label",sla,[le(n(o.$t("Level"))+" ",1),a[19]||(a[19]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.level=r)},null,512),[[Q,t.level]])]),e("div",lla,[e("label",ila,[le(n(o.$t("Product"))+" ",1),a[20]||(a[20]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.program_type_id=r),required:""},[e("option",rla,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.program_types,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,dla))),128))],512),[[re,t.program_type_id]])]),e("div",cla,[e("label",ula,[le(n(o.$t("Status"))+" ",1),a[21]||(a[21]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.status=r),required:""},[e("option",_la,n(o.$t("Active")),1),e("option",mla,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",fla,[e("button",hla,n(o.$t("Close")),1),e("button",pla,n(o.$t("Submit")),1)])],32)])],8,Qsa)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const gla=Ue(vsa,[["render",vla],["__scopeId","data-v-0779afed"]]),bla={name:"AuthorizationMatrix",components:{Pagination:St},props:["bank","company"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h([]),_=h(50),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h([]),D=h([]),y=h([]),C=h(""),x=h(1),E=h(!1);ot(r,R=>{R?A.get(s+o.bank+"/companies/"+o.company+"/authorization-matrices/program-type/"+R).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}):m.value=[]});const k=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/authorization-matrices/data",{params:{per_page:_.value}}).then(R=>{t.value=R.data.authorization_matrices,c.value=R.data.program_types}).catch(R=>{console.log(R)})},w=R=>{C.value=R.id,l.value=R.name,r.value=R.program_type_id,i.value=R.status,d.value=R.min_pi_amount,p.value=R.max_pi_amount,x.value=0,R.rules.forEach(P=>{P.operator&&(g.value[x.value]=P.operator),D.value[x.value]=P.group_id,y.value[x.value]=P.min_approval,x.value+=1}),E.value=!0},T=()=>{const R=new FormData;R.append("name",l.value),R.append("program_type_id",r.value),R.append("status",i.value),R.append("min_pi_amount",d.value),R.append("max_pi_amount",p.value),R.append("groups",JSON.stringify(D.value)),R.append("rules_min_approvals",JSON.stringify(y.value)),R.append("rules_operators",JSON.stringify(g.value)),A.post(s+o.bank+"/companies/"+o.company+"/authorization-matrices/store",R).then(()=>{a.success("Rule added successfully"),l.value="",r.value="",i.value="",d.value="",p.value="",x.value=1,v.value=[],g.value=[],D.value=[],y.value=[],k(),document.getElementById("close-create-modal").click()}).catch(P=>{P.response.data&&P.response.data.message&&a.error(P.response.data.message),Object.keys(P.response.data).length>0&&Object.keys(P.response.data).forEach(I=>{a.error(P.response.data[I][0])}),P.response.data&&(!P.response.data.message||Object.keys(P.response.data).length<=0)&&a.error("An error occurred")})},V=()=>{const R=new FormData;R.append("matrix_id",C.value),R.append("name",l.value),R.append("program_type_id",r.value),R.append("status",i.value),R.append("min_pi_amount",d.value),R.append("max_pi_amount",p.value),R.append("groups",JSON.stringify(D.value)),R.append("rules_min_approvals",JSON.stringify(y.value)),R.append("rules_operators",JSON.stringify(g.value)),A.post(s+o.bank+"/companies/"+o.company+"/authorization-matrices/update",R).then(()=>{a.success("Rule updated successfully"),document.getElementById("close-edit-modal-"+C.value).click(),C.value="",l.value="",r.value="",i.value="",d.value="",p.value="",x.value=1,v.value=[],g.value=[],D.value=[],y.value=[],k()}).catch(P=>{P.response.data&&P.response.data.message&&a.error(P.response.data.message),Object.keys(P.response.data).length>0&&Object.keys(P.response.data).forEach(I=>{a.error(P.response.data[I][0])}),P.response.data&&(!P.response.data.message||Object.keys(P.response.data).length<=0)&&a.error("An error occurred")})},B=()=>{x.value+=1,g.value.length+=1,D.value.length+=1,y.value.length+=1},O=R=>{x.value-=1;let P=g.value.findIndex(F=>F==R);g.value.splice(P,-1),g.value.length-=1;let I=D.value.findIndex(F=>F==R);D.value.splice(I,-1),D.value.length-=1;let S=y.value.findIndex(F=>F==R);y.value.splice(S,-1),y.value.length-=1};return Qe(()=>{k(),g.value.length+=1,D.value.length+=1,y.value.length+=1}),{per_page:_,rates:t,program_types:c,authorization_groups:m,name:l,min_pi_amount:d,max_pi_amount:p,program_type_id:r,status:i,rules:v,rules_groups:D,rules_min_approval:y,rules_operators:g,main_rules_count:x,showEditModal:E,addNewBranch:T,updateBranch:V,editBranch:w,changePage:async R=>{await A.get(R,{params:{per_page:_.value}}).then(P=>{t.value=P.data})},addCount:B,deleteCount:O}}},yla={class:"card p-2"},kla={class:"d-flex justify-content-between"},$la={class:"d-flex"},wla={class:"mx-1"},Dla={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},Cla={class:"modal modal-center fade modal-lg",id:"addBranch",tabindex:"-1"},xla={class:"modal-dialog"},Pla={class:"modal-header"},Ela={class:"modal-title",id:"modalTopTitle"},Ala={class:"modal-body my-1"},Ila={class:"row"},Rla={class:"col-4"},Sla={class:"form-group my-1"},Tla={for:"Name",class:"form-label"},jla={value:""},Ola=["value"],Mla={class:"col-4"},Lla={class:"form-group"},Nla={for:"Name",class:"form-label"},Fla={class:"col-4"},Yla={class:"form-group my-1"},Vla={for:"Name",class:"form-label"},Bla={value:"active"},Ula={value:"inactive"},qla={class:"col-6"},Hla={class:"form-group my-1"},zla={for:"Name",class:"form-label"},Wla={class:"col-6"},Kla={class:"form-group my-1"},Gla={for:"Name",class:"form-label"},Qla={class:"d-flex justify-content-between"},Zla={key:0,class:"col-12 mt-1"},Jla={class:"form-group my-1"},Xla={for:"Name",class:"form-label"},eia=["onUpdate:modelValue"],tia={value:"and",selected:""},oia={value:"or"},aia={class:"col-6"},nia={class:"form-group my-1"},sia={for:"Name",class:"form-label"},lia=["onUpdate:modelValue"],iia=["value"],ria={class:"col-6"},dia={class:"form-group my-1"},cia={for:"Name",class:"form-label"},uia=["onUpdate:modelValue"],_ia={class:"modal-footer"},mia={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},fia={type:"submit",class:"btn btn-primary"},hia={class:"table-responsive"},pia={class:"table"},via={class:""},gia={class:"table-border-bottom-0"},bia={class:"flex"},yia=["onClick","data-bs-target"],kia=["id"],$ia={class:"modal-dialog"},wia={class:"modal-header"},Dia={class:"modal-title",id:"modalTopTitle"},Cia=["id"],xia={class:"modal-body my-1"},Pia={class:"row"},Eia={class:"col-4"},Aia={class:"form-group my-1"},Iia={for:"Name",class:"form-label"},Ria={value:""},Sia=["value"],Tia={class:"col-4"},jia={class:"form-group"},Oia={for:"Name",class:"form-label"},Mia={class:"col-4"},Lia={class:"form-group my-1"},Nia={for:"Name",class:"form-label"},Fia={value:"active"},Yia={value:"inactive"},Via={class:"col-6"},Bia={class:"form-group my-1"},Uia={for:"Name",class:"form-label"},qia={class:"col-6"},Hia={class:"form-group my-1"},zia={for:"Name",class:"form-label"},Wia={class:"d-flex justify-content-between"},Kia={key:0,class:"col-12 mt-1"},Gia={class:"form-group my-1"},Qia=["onUpdate:modelValue"],Zia={value:"and",selected:""},Jia={value:"or"},Xia={class:"col-6"},era={class:"form-group my-1"},tra={for:"Name",class:"form-label"},ora=["onUpdate:modelValue"],ara=["value"],nra={class:"col-6"},sra={class:"form-group my-1"},lra={for:"Name",class:"form-label"},ira=["onUpdate:modelValue"],rra={key:1,class:"col-12"},dra={class:"w-25"},cra=["onClick"],ura={class:"modal-footer"},_ra={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},mra={type:"submit",class:"btn btn-primary"};function fra(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",yla,[e("div",kla,[a[24]||(a[24]=ga('<div class="d-flex flex-wrap gap-1" data-v-ca31aaec><div class="" data-v-ca31aaec><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Base Rate Code" aria-describedby="defaultFormControlHelp" data-v-ca31aaec></div><div class="" data-v-ca31aaec><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Status" aria-describedby="defaultFormControlHelp" data-v-ca31aaec></div></div>',1)),e("div",$la,[e("div",wla,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",Dla,n(o.$t("New Rule")),1),e("div",Cla,[e("div",xla,[e("form",{class:"modal-content",method:"POST",onSubmit:a[7]||(a[7]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",Pla,[e("h5",Ela,n(o.$t("Add New Rule")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"close-create-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Ala,[e("div",Ila,[e("div",Rla,[e("div",Sla,[e("label",Tla,[le(n(o.$t("Product"))+" ",1),a[17]||(a[17]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_type_id=l),required:""},[e("option",jla,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.program_types,l=>(u(),f("option",{key:l.id,value:l.id},n(l.name),9,Ola))),128))],512),[[re,t.program_type_id]])])]),e("div",Mla,[e("div",Lla,[e("label",Nla,[le(n(o.$t("Name"))+" ",1),a[18]||(a[18]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.name=l),autocomplete:"off"},null,512),[[Q,t.name]])])]),e("div",Fla,[e("div",Yla,[e("label",Vla,[le(n(o.$t("Status"))+" ",1),a[19]||(a[19]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=l=>t.status=l),required:""},[e("option",Bla,n(o.$t("Active")),1),e("option",Ula,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",qla,[e("div",Hla,[e("label",zla,[le(n(o.$t("Minimum PI Amount"))+" ",1),a[20]||(a[20]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"number",min:"1",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.min_pi_amount=l),autocomplete:"off"},null,512),[[Q,t.min_pi_amount]])])]),e("div",Wla,[e("div",Kla,[e("label",Gla,[le(n(o.$t("Maximum PI Amount"))+" ",1),a[21]||(a[21]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"number",min:"1",id:"",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=l=>t.max_pi_amount=l),autocomplete:"off"},null,512),[[Q,t.max_pi_amount]])])])]),a[23]||(a[23]=e("br",null,null,-1)),e("div",Qla,[e("h6",null,n(o.$t("Rules")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[6]||(a[6]=(...l)=>t.addCount&&t.addCount(...l))},n(o.$t("Add Rule")),1)]),(u(!0),f(W,null,X(t.main_rules_count,l=>(u(),f("div",{class:"row",key:l},[l>1?(u(),f("div",Zla,[a[22]||(a[22]=e("hr",null,null,-1)),e("div",Jla,[e("label",Xla,n(o.$t("And/Or")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_operators[l-1]=r},[e("option",tia,n(o.$t("And")),1),e("option",oia,n(o.$t("Or")),1)],8,eia),[[re,t.rules_operators[l-1]]])])])):b("",!0),e("div",aia,[e("div",nia,[e("label",sia,n(o.$t("Group")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_groups[l-1]=r},[(u(!0),f(W,null,X(t.authorization_groups,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,iia))),128))],8,lia),[[re,t.rules_groups[l-1]]])])]),e("div",ria,[e("div",dia,[e("label",cia,n(o.$t("Minimum Approval")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_min_approval[l-1]=r,autocomplete:"off"},null,8,uia),[[Q,t.rules_min_approval[l-1]]])])])]))),128))]),e("div",_ia,[e("button",mia,n(o.$t("Close")),1),e("button",fia,n(o.$t("Submit")),1)])],32)])])])]),e("div",hia,[e("table",pia,[e("thead",null,[e("tr",via,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Min PI Amount")),1),e("th",null,n(o.$t("Max PI Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",gia,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.name),1),e("td",null,n(l.program_type.name),1),e("td",null,n(new Intl.NumberFormat().format(l.min_pi_amount)),1),e("td",null,n(new Intl.NumberFormat().format(l.max_pi_amount)),1),e("td",bia,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,yia),e("div",{class:"modal modal-center fade modal-lg",id:"rate-"+l.id,tabindex:"-1"},[e("div",$ia,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",wia,[e("h5",Dia,n(o.$t("Edit Rule")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Cia)]),e("div",xia,[e("div",Pia,[e("div",Eia,[e("div",Aia,[e("label",Iia,[le(n(o.$t("Product"))+" ",1),a[25]||(a[25]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.program_type_id=r),required:""},[e("option",Ria,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.program_types,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,Sia))),128))],512),[[re,t.program_type_id]])])]),e("div",Tia,[e("div",jia,[e("label",Oia,[le(n(o.$t("Name"))+" ",1),a[26]||(a[26]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.name=r)},null,512),[[Q,t.name]])])]),e("div",Mia,[e("div",Lia,[e("label",Nia,[le(n(o.$t("Status"))+" ",1),a[27]||(a[27]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.status=r),required:""},[e("option",Fia,n(o.$t("Active")),1),e("option",Yia,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",Via,[e("div",Bia,[e("label",Uia,[le(n(o.$t("Minimum PI Amount"))+" ",1),a[28]||(a[28]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.min_pi_amount=r)},null,512),[[Q,t.min_pi_amount]])])]),e("div",qia,[e("div",Hia,[e("label",zia,[le(n(o.$t("Maximum PI Amount"))+" ",1),a[29]||(a[29]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.max_pi_amount=r)},null,512),[[Q,t.max_pi_amount]])])])]),a[32]||(a[32]=e("br",null,null,-1)),e("div",Wia,[e("h6",null,n(o.$t("Rules")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[13]||(a[13]=(...r)=>t.addCount&&t.addCount(...r))},n(o.$t("Add Rule")),1)]),(u(!0),f(W,null,X(t.main_rules_count,r=>(u(),f("div",{class:"row",key:r},[r>1?(u(),f("div",Kia,[a[31]||(a[31]=e("hr",null,null,-1)),e("div",Gia,[a[30]||(a[30]=e("label",{for:"Name",class:"form-label"},"And/Or",-1)),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_operators[r-1]=i},[e("option",Zia,n(o.$t("And")),1),e("option",Jia,n(o.$t("Or")),1)],8,Qia),[[re,t.rules_operators[r-1]]])])])):b("",!0),e("div",Xia,[e("div",era,[e("label",tra,n(o.$t("Group")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_groups[r-1]=i},[(u(!0),f(W,null,X(t.authorization_groups,i=>(u(),f("option",{key:i.id,value:i.id},n(i.name),9,ara))),128))],8,ora),[[re,t.rules_groups[r-1]]])])]),e("div",nra,[e("div",sra,[e("label",lra,n(o.$t("Minimum Approval")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_min_approval[r-1]=i,autocomplete:"off"},null,8,ira),[[Q,t.rules_min_approval[r-1]]])])]),r>1?(u(),f("div",rra,[e("div",dra,[e("i",{class:"ti ti-trash text-danger",onClick:i=>t.deleteCount(r)},null,8,cra)])])):b("",!0)]))),128))]),e("div",ura,[e("button",_ra,n(o.$t("Close")),1),e("button",mra,n(o.$t("Submit")),1)])],32)])],8,kia)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const hra=Ue(bla,[["render",fra],["__scopeId","data-v-ca31aaec"]]),pra={name:"CompanyUsers",props:["bank","company","anchor"],components:{RouterLink:el,Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=o.anchor=="true"?h(!0):h(!1),l=h(10),r=h(""),i=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value,search:r.value}}).then(C=>{t.value=C.data.users})};Qe(()=>{m.value=o.company,i()});const d=async C=>{await A.get(C).then(x=>{t.value=x.data.users})},p=(C,x)=>{A.get(s+o.bank+"/companies/"+m.value+"/users/"+C+"/status/update/"+x).then(()=>{i(),a.success("User status updated")}).catch(E=>{console.log(E)})},v=C=>{A.post(s+o.bank+"/configurations/users/"+C+"/changes/approve",{status:"approved"}).then(x=>{a.success(x.data.message),document.getElementById("approve-change-"+C).click(),i()}).catch(x=>{a.error(x.response.data.message)})},g=C=>{A.post(s+o.bank+"/configurations/users/"+C+"/changes/approve",{status:"rejected"}).then(x=>{a.success(x.data.message),document.getElementById("reject-change-"+C).click(),i()}).catch(x=>{a.error(x.response.data.message)})},D=async()=>{let C=$(".ti-search").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value,search:r.value}}).then(x=>{t.value=x.data.users,C.html('<i class="ti ti-search"></i>')})},y=async()=>{let C=$(".ti-refresh").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value}}).then(x=>{t.value=x.data.users,C.html('<i class="ti ti-refresh"></i>')})};return ot([l],async([C])=>{await A.get(s+o.bank+"/requests/cbs-transactions/data",{params:{per_page:C,search:r.value}}).then(x=>{t.value=x.data.users}).catch(x=>{console.log(x)})}),{base_url:s,bank:c,company:m,is_anchor:_,users:t,per_page:l,changePage:d,updateActiveStatus:p,approveChanges:v,rejectChanges:g,search:r,filter:D,refresh:y}}},vra={class:"card p-1",id:"companies"},gra={class:"card-title px-2 my-1"},bra={class:"d-flex justify-content-between px-2"},yra={class:"d-flex flex-wrap gap-1"},kra={class:"mr-2"},$ra={for:"Search",class:"form-label"},wra={class:"table-search-btn"},Dra={class:"table-clear-btn"},Cra={class:"d-flex justify-content-end mt-auto"},xra={class:""},Pra={class:"table-responsive"},Era={class:"table"},Ara={class:""},Ira={key:0},Rra={key:1},Sra={class:"table-border-bottom-0"},Tra={key:0},jra={colspan:"12",class:"text-center"},Ora={class:"text-center"},Mra={key:1},Lra={colspan:"12",class:"text-center"},Nra={class:"text-center"},Fra={class:"d-flex"},Yra=["href"],Vra={key:0,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},Bra={key:1,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},Ura={class:""},qra={key:0,class:"d-flex"},Hra={key:1},zra={key:0},Wra={key:0},Kra={key:0},Gra={key:1},Qra={key:1},Zra={key:0},Jra={key:0},Xra={key:1},eda={class:"d-flex"},tda={key:0,class:"ti ti-clock ti-sm text-primary my-auto mx-2",title:"User Creation/Updation awaiting approval"},oda=["data-bs-target"],ada=["href"],nda=["data-bs-target"],sda=["data-bs-target"],lda=["onClick"],ida=["onClick"],rda=["onClick"],dda=["onClick"],cda=["id"],uda={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_da=["onSubmit"],mda={class:"modal-content"},fda={class:"modal-header"},hda={class:"modal-title",id:"modalCenterTitle"},pda=["id"],vda={key:0,class:"modal-body"},gda={key:0},bda={class:"m_title"},yda={key:1},kda={key:2},$da={key:3},wda={class:"modal-footer"},Dda={type:"submit",class:"btn btn-primary"},Cda=["id"],xda={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Pda=["onSubmit"],Eda={class:"modal-content"},Ada={class:"modal-header"},Ida={class:"modal-title",id:"modalCenterTitle"},Rda=["id"],Sda={key:0,class:"modal-body"},Tda={key:0},jda={class:"m_title"},Oda={key:1},Mda={key:2},Lda={key:3},Nda={class:"modal-footer"},Fda={type:"submit",class:"btn btn-primary"},Yda=["id"],Vda={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Bda={class:"modal-content"},Uda={class:"modal-header"},qda={class:"modal-title",id:"modalCenterTitle"},Hda={key:0,class:"modal-body"},zda={key:0},Wda={class:"m_title"},Kda={key:1},Gda={key:2},Qda={key:3};function Zda(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",vra,[e("div",gra,[e("h5",null,n(o.$t("Users")),1)]),e("div",bra,[e("div",yra,[e("div",kra,[e("label",$ra,n(o.$t("Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"User Name/User Email/Phone Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.search=l)},null,544),[[Q,t.search]])]),e("div",wra,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Dra,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Cra,[e("div",xra,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])])])]),e("div",Pra,[e("table",Era,[e("thead",null,[e("tr",Ara,[e("th",null,n(o.$t("User Name")),1),e("th",null,n(o.$t("User Email")),1),e("th",null,n(o.$t("User Phone Number")),1),e("th",null,n(o.$t("Role")),1),t.is_anchor?(u(),f("th",Ira,n(o.$t("VF Group")),1)):b("",!0),t.is_anchor?(u(),f("th",Rra,n(o.$t("DF Group")),1)):b("",!0),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Sra,[t.users.data?b("",!0):(u(),f("tr",Tra,[e("td",jra,[e("span",Ora,n(o.$t("Loading Data"))+"...",1)])])),t.users.data&&t.users.data.length<=0?(u(),f("tr",Mra,[e("td",Lra,[e("span",Nra,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.users.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",Fra,[e("a",{class:"text-primary text-decoration-underline",href:"../"+t.company+"/users/"+l.id+"/edit"},n(l.name),9,Yra),l.has_pending_config?(u(),f("i",Vra)):b("",!0),l.changes?(u(),f("i",Bra)):b("",!0)])]),e("td",Ura,n(l.email),1),e("td",null,[e("span",null,n(l.phone_number),1)]),e("td",null,[l.roles.length>0?(u(),f("div",qra,[(u(!0),f(W,null,X(l.roles,r=>(u(),f("span",{key:r.id,class:"btn btn-xs btn-label-warning mx-1"},n(r.name),1))),128))])):(u(),f("span",Hra,"-"))]),t.is_anchor?(u(),f("td",zra,[l.authorization_groups.length>0?(u(),f("div",Wra,[(u(!0),f(W,null,X(l.authorization_groups,r=>(u(),f("span",{key:r.id},[r.program_type.name=="Vendor Financing"?(u(),f("span",Kra,n(r.name),1)):b("",!0)]))),128))])):(u(),f("div",Gra,"-"))])):b("",!0),t.is_anchor?(u(),f("td",Qra,[l.authorization_groups.length>0?(u(),f("div",Zra,[(u(!0),f(W,null,X(l.authorization_groups,r=>(u(),f("span",{key:r.id},[r.program_type.name=="Dealer Financing"?(u(),f("span",Jra,n(r.name),1)):b("",!0)]))),128))])):(u(),f("div",Xra,"-"))])):b("",!0),e("td",null,[e("div",eda,[l.has_pending_config?(u(),f("i",tda)):b("",!0),l.changes?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary my-auto mx-2",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#user-change-"+l.id,title:"User Creation/Updation awaiting approval"},null,8,oda)):b("",!0),l.can_edit&&!l.has_pending_config&&!l.changes?(u(),f("a",{key:2,href:"users/"+l.id+"/edit",class:"",title:"Edit User Details"},a[8]||(a[8]=[e("i",{class:"ti ti-pencil text-warning"},null,-1)]),8,ada)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:3,href:"#",class:"",title:"Approve User Details Change","data-bs-toggle":"modal","data-bs-target":"#approve-user-change-"+l.id},a[9]||(a[9]=[e("i",{class:"ti ti-check text-success"},null,-1)]),8,nda)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:4,href:"#",class:"",title:"Reject User Details Change","data-bs-toggle":"modal","data-bs-target":"#reject-user-change-"+l.id},a[10]||(a[10]=[e("i",{class:"ti ti-circle-x text-danger mx-1"},null,-1)]),8,sda)):b("",!0),!l.is_current_user&&!l.has_pending_config&&!l.changes&&l.mapped_companies.length>0&&l.mapped_companies[0].pivot.active==1&&l.can_activate?(u(),f("i",{key:5,class:"ti ti-thumb-up ti-sm text-success my-auto mx-2",title:"Click to Suspend User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,lda)):b("",!0),!l.is_current_user&&!l.has_pending_config&&!l.changes&&l.mapped_companies.length>0&&l.mapped_companies[0].pivot.active==0&&l.can_activate?(u(),f("i",{key:6,class:"ti ti-thumb-down ti-sm text-danger my-auto mx-2",title:"Click to Activate User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,ida)):b("",!0),!l.is_current_user&&l.has_pending_config&&l.can_activate?(u(),f("i",{key:7,class:"ti ti-circle-check ti-sm text-success my-auto mx-2",title:"Click to Approve User Status Change",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,rda)):b("",!0),!l.is_current_user&&l.has_pending_config&&l.can_activate?(u(),f("i",{key:8,class:"ti ti-circle-x ti-sm text-danger my-auto mx-2",title:"Click to Reject User Status Change",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,dda)):b("",!0)]),l.changes?(u(),f("div",{key:0,class:"modal fade",id:"approve-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",uda,[e("form",{method:"post",onSubmit:st(r=>t.approveChanges(l.id),["prevent"])},[e("div",mda,[e("div",fda,[e("h5",hda,n(o.$t("Edit User")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"approve-change-"+l.id},null,8,pda)]),l.changes?(u(),f("div",vda,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",gda,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{key:d,class:"d-flex flex-col"},[e("div",bda,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",yda,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",kda,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",$da,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0),e("div",wda,[e("button",Dda,n(o.$t("Confirm")),1)])])],40,_da)])],8,cda)):b("",!0),l.changes?(u(),f("div",{key:1,class:"modal fade",id:"reject-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",xda,[e("form",{method:"post",onSubmit:st(r=>t.rejectChanges(l.id),["prevent"])},[e("div",Eda,[e("div",Ada,[e("h5",Ida,n(o.$t("Edit User")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"reject-change-"+l.id},null,8,Rda)]),l.changes?(u(),f("div",Sda,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",Tda,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",jda,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",Oda,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",Mda,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",Lda,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0),e("div",Nda,[e("button",Fda,n(o.$t("Confirm")),1)])])],40,Pda)])],8,Cda)):b("",!0),l.changes?(u(),f("div",{key:2,class:"modal fade",id:"user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Vda,[e("div",Bda,[e("div",Uda,[e("h5",qda,n(o.$t("User Changes")),1),a[11]||(a[11]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",Hda,[(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",zda,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",Wda,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",Kda,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",Gda,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",Qda,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0)])])],8,Yda)):b("",!0)])]))),128))])])]),Be(_,{class:"px-2",from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Jda=Ue(pra,[["render",Zda]]),Xda={name:"Uploaded Companies",props:["bank"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/companies/uploaded/data?per_page="+m.value).then(p=>{s.value=p.data})},l=p=>{let v="";switch(p){case"successful":v="bg-label-success";break;case"failed":v="bg-label-danger";break;default:v="bg-label-primary";break}return v},r=async()=>{let p=$(".ti-search").parent();p.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:m.value,search:c.value}}).then(v=>{s.value=v.data,p.html('<i class="ti ti-search"></i>')})},i=async()=>{let p=$(".ti-refresh").parent();p.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",approval_status_search.value="",branch_code.value="",status_search.value=[],type_search.value="",company_type_search.value=[],await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:m.value}}).then(v=>{s.value=v.data,p.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),ot([m],async([p])=>{await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:p,search:c.value}}).then(v=>{s.value=v.data}).catch(v=>{console.log(v)})}),{base_url:a,bank:t,companies:s,name_search:c,per_page:m,filter:r,refresh:i,resolveStatus:l,changePage:async p=>{await A.get(p+"&per_page="+m.value,{params:{search:c.value}}).then(v=>{s.value=v.data})}}}},eca={class:"card p-2",id:"companies"},tca={class:"d-flex justify-content-between"},oca={class:"d-flex flex-wrap"},aca={class:"mb-1 mx-1"},nca={for:"Company Name",class:"form-label"},sca=["placeholder"],lca={class:"mx-1 my-auto"},ica={class:"mx-1 my-auto"},rca={class:"d-flex justify-content-end"},dca={class:""},cca={class:"table-responsive"},uca={class:"table"},_ca={class:""},mca={class:"table-border-bottom-0"},fca={key:0},hca={colspan:"12",class:"text-center"},pca={class:"text-center"},vca={key:1},gca={colspan:"12",class:"text-center"},bca={class:"text-center"},yca={class:""},kca={class:""};function $ca(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",eca,[e("div",tca,[e("div",oca,[e("div",aca,[e("label",nca,n(o.$t("Company Name"))+"e",1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,40,sca),[[Q,t.name_search]])]),e("div",lca,[e("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ica,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",rca,[e("div",dca,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),a[8]||(a[8]=e("div",{class:"mx-1"},[e("button",{type:"button",class:"btn btn-primary btn-sm d-none",style:{height:"fit-content"}},[e("i",{class:"ti ti-download ti-xs"})])],-1))])]),t.companies?(u(),fe(_,{key:0,class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",cca,[e("table",uca,[e("thead",null,[e("tr",_ca,[e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Organization Type")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",mca,[t.companies.data?b("",!0):(u(),f("tr",fca,[e("td",hca,[e("span",pca,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",vca,[e("td",gca,[e("span",bca,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",yca,[e("span",null,n(l.name),1)]),e("td",kca,n(l.organization_type),1),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.status))},n(l.status),3)])]))),128))])])]),t.companies?(u(),fe(_,{key:1,class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const wca=Ue(Xda,[["render",$ca]]),Dca={name:"CompaniesUpload",props:["bank"],setup(o){const a=Je("baseURL"),s=h(null),t=lt(),c=h(!0),m=h(!1),_=h(0);return{bank:o.bank,selected_file:_,can_submit:c,show_error_download_link:m,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadCompanies:()=>{c.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("file",s.value),A.post(a+o.bank+"/companies/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){_.value++,t.error(p.response.data.message);return}p.response.data.uploaded>0&&t.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(t.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),m.value=!0,_.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{c.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},Cca={class:""},xca={"data-bs-toggle":"modal","data-bs-target":"#uploadCompanies",class:"btn btn-primary btn-sm"},Pca={class:"modal modal-top fade",id:"uploadCompanies",tabindex:"-1"},Eca={class:"modal-dialog"},Aca={class:"modal-header"},Ica={class:"modal-title",id:"modalTopTitle"},Rca={class:"modal-body"},Sca={class:"form-group mt-2"},Tca={class:"py-1 text-danger d-none",id:"show-download-error"},jca={key:0,href:"companies/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},Oca={class:"modal-footer"},Mca={href:"companies/template/download",id:"download-invoices",class:"btn btn-label-warning"},Lca=["disabled"];function Nca(o,a,s,t,c,m){return u(),f(W,null,[e("div",Cca,[e("button",xca,n(o.$t("Upload Companies")),1)]),e("div",Pca,[e("div",Eca,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadCompanies(),["prevent"]))},[e("div",Aca,[e("h5",Ica,n(o.$t("Upload Companies")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Rca,[e("div",Sca,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx,.csv",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",Tca,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",jca,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",Oca,[e("a",Mca,n(o.$t("Download Sample")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,Lca)])],32)])])],64)}const Fca=Ue(Dca,[["render",Nca]]),Yca={name:"Companies",props:["bank","can_create"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=o.can_create=="1"?h(!0):h(!1),c=h([]),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h([]),D=h(null),y=h(null),C=h([]),x=h(""),E=async()=>{await A.get(a+o.bank+"/companies/pending/data?per_page="+p.value).then(S=>{c.value=S.data.data.companies})},k=S=>{let F="";switch(S){case"pending":F="bg-label-primary";break;case"approved":F="bg-label-success";break;case"rejected":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},w=S=>{let F="";switch(S){case"active":F="bg-label-primary";break;case"inactive":F="bg-label-secondary";break;default:F="bg-label-primary";break}return F};ot([p],([S])=>{A.get(a+o.bank+"/companies/pending/data",{params:{per_page:S,name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(F=>{c.value=F.data.data.companies})});const T=()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+o.bank+"/companies/pending/data",{params:{per_page:p.value,name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(F=>{c.value=F.data.data.companies,S.html('<i class="ti ti-search"></i>')})},V=()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",d.value="",i.value="",r.value="",A.get(a+o.bank+"/companies/pending/data",{params:{per_page:p.value}}).then(F=>{c.value=F.data.data.companies,S.html('<i class="ti ti-refresh"></i>')})};ot(x,S=>{C.value.length>0?(g.value=[],S=="approve"&&(C.value.forEach(F=>{g.value.push(c.value.data.filter(N=>N.id==F)[0])}),y.value.click()),S=="reject"&&D.value.click()):s.error("Select Programs")});const B=()=>{C.value=[],document.getElementById("select-all").checked?c.value.data.forEach(S=>{S.can_approve&&(document.getElementById("data-select-"+S.id).checked=!0,C.value.push(S.id))}):c.value.data.forEach(S=>{if(S.can_approve){document.getElementById("data-select-"+S.id).checked=!1;let F;if(!C.value.filter(function(U,Z){F=Z,U==S.id}))return!1;C.value.splice(F,1)}})},O=S=>{if(C.value.includes(S)){const F=C.value.indexOf(S);C.value.splice(F,1)}else C.value.push(S)},L=S=>{if(C.value.length<=0){s.error("Select companies");return}const F=new FormData;C.value.forEach(N=>{F.append("companies[]",N)}),S=="approve"&&F.append("status","approved"),S=="reject"&&(F.append("status","rejected"),F.append("rejection_reason",m.value)),A.post(a+o.bank+"/companies/bulk/approval-status/status/update",F).then(()=>{s.success("Companies updated"),x.value="",m.value="",E(),document.getElementById("pending-approve-companies-close").click(),document.getElementById("pending-reject-companies-close").click()}).catch(N=>{console.log(N),s.error("An error occurred")})},R=(S,F)=>{A.get(`companies/${S}/activity/status/update/${F}`).then(()=>{E(),s.success("Company status updated")}).catch(N=>{console.log(N)})},P=(S,F)=>{A.post(`companies/${S}/status/update`,{status:F,rejection_reason:m.value}).then(()=>{E(),s.success("Company status updated"),setTimeout(()=>{window.location.reload()},3e3)}).catch(N=>{console.log(N)})};return Qe(()=>{E()}),{base_url:a,bank:_,companies:c,rejection_reason:m,can_create:t,name_search:l,status_search:r,branch_code:i,approval_status_search:d,per_page:p,filter:T,refresh:V,updateRequestRejectionReason:v,showRejectionModal:D,showApprovalModal:y,selected_data:C,bulk_action:x,selectAll:B,updateSelected:O,submitBulkAction:L,resolveApprovalStatus:k,resolveStatus:w,updateActiveStatus:R,updateApprovalStatus:P,changePage:async S=>{await A.get(S+"&per_page="+p.value,{params:{name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(F=>{c.value=F.data.data.companies})}}}},Vca={class:"card p-2",id:"companies"},Bca={class:"d-flex justify-content-between"},Uca={class:"d-flex flex-wrap gap-1"},qca={class:""},Hca={for:"Company Name",class:"form-label"},zca=["placeholder"],Wca={class:""},Kca={for:"Approval Status",class:"form-label"},Gca={value:""},Qca={value:"pending"},Zca={value:"approved"},Jca={value:"rejected"},Xca={class:""},eua={for:"Status",class:"form-label"},tua={value:""},oua={value:"active"},aua={value:"inactive"},nua={class:""},sua={for:"Branch Code",class:"form-label"},lua=["placeholder"],iua={class:""},rua={for:"Bulk Actions",class:"form-label"},dua={value:""},cua={value:"approve"},uua={value:"reject"},_ua={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},mua={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},fua={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},hua={class:"modal-content"},pua={class:"modal-header"},vua={class:"modal-title",id:"modalCenterTitle"},gua={class:"modal-body"},bua={class:"modal-footer"},yua={class:"btn btn-primary",type:"submit"},kua={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},$ua={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},wua={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Dua={class:"modal-content"},Cua={class:"modal-header"},xua={class:"modal-title",id:"modalCenterTitle"},Pua={class:"modal-body"},Eua={class:"row mb-1"},Aua={class:"form-group"},Iua={for:""},Rua={class:"modal-footer"},Sua={class:"btn btn-primary",type:"submit"},Tua={class:"table-search-btn"},jua={class:"table-clear-btn"},Oua={class:"d-flex justify-content-end gap-1 mt-auto"},Mua={class:""},Lua={key:0,class:""},Nua={href:"companies/create"},Fua={type:"button",class:"btn btn-primary btn-md text-nowrap"},Yua={class:"table-responsive"},Vua={class:"table"},Bua={class:""},Uua={class:"form-check"},qua={class:"table-border-bottom-0"},Hua={key:0},zua={colspan:"12",class:"text-center"},Wua={class:"text-center"},Kua={key:1},Gua={colspan:"12",class:"text-center"},Qua={class:"text-center"},Zua={class:"form-check"},Jua=["id","onChange"],Xua={class:"text-primary text-decoration-underline"},e_a=["href"],t_a={key:1},o_a={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},a_a={key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Company Creation/Updation Awaiting Approval."},n_a={class:""},s_a={key:0},l_a={key:1},i_a={class:"d-flex"},r_a=["onClick"],d_a=["onClick"],c_a=["onClick"],u_a=["data-bs-target"],__a=["id"],m_a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},f_a={class:"modal-content"},h_a={class:"modal-header"},p_a={class:"modal-title",id:"modalCenterTitle"},v_a=["onSubmit"],g_a={class:"modal-body"},b_a={class:"row mb-1"},y_a={class:"form-group"},k_a={for:""},$_a={class:"modal-footer"},w_a={class:"btn btn-primary",type:"submit"};function D_a(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",Vca,[e("div",Bca,[e("div",Uca,[e("div",qca,[e("label",Hca,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,8,zca),[[Q,t.name_search]])]),e("div",Wca,[e("label",Kca,n(o.$t("Approval Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.approval_status_search=l)},[e("option",Gca,n(o.$t("Approval Status")),1),e("option",Qca,n(o.$t("Pending")),1),e("option",Zca,n(o.$t("Approved")),1),e("option",Jca,n(o.$t("Rejected")),1)],512),[[re,t.approval_status_search]])]),e("div",Xca,[e("label",eua,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",tua,n(o.$t("Status")),1),e("option",oua,n(o.$t("Active")),1),e("option",aua,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",nua,[e("label",sua,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=l=>t.branch_code=l),id:"defaultFormControlInput",placeholder:o.$t("Branch Code"),"aria-describedby":"defaultFormControlHelp"},null,8,lua),[[Q,t.branch_code]])]),e("div",iua,[e("label",rua,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.bulk_action=l)},[e("option",dua,n(o.$t("Bulk Actions")),1),e("option",cua,n(o.$t("Approve")),1),e("option",uua,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",_ua,null,512),e("div",mua,[e("div",fua,[e("div",hua,[e("div",pua,[e("h5",vua,n(o.$t("Approve Companies")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"pending-approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[5]||(a[5]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",gua,[e("h5",null,n(o.$t("Are you sure you want to approve the selected companies"))+"?",1)]),e("div",bua,[e("button",yua,n(o.$t("Submit")),1)])],32)])])]),e("button",kua,null,512),e("div",$ua,[e("div",wua,[e("div",Dua,[e("div",Cua,[e("h5",xua,n(o.$t("Update Selected Companies")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"pending-reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Pua,[e("div",Eua,[e("div",Aua,[e("label",Iua,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.rejection_reason=l)},null,512),[[Q,t.rejection_reason]])])])]),e("div",Rua,[e("button",Sua,n(o.$t("Submit")),1)])],32)])])]),e("div",Tua,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",jua,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Oua,[e("div",Mua,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=l=>t.per_page=l),style:{height:"fit-content"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),a[19]||(a[19]=e("div",{class:""},[e("button",{type:"button",class:"btn btn-primary d-none",style:{height:"fit-content"}},[e("i",{class:"ti ti-download ti-sm"})])],-1)),t.can_create?(u(),f("div",Lua,[e("a",Nua,[e("button",Fua,[a[18]||(a[18]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Add Company")),1)])])])):b("",!0)])]),t.companies.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Yua,[e("table",Vua,[e("thead",null,[e("tr",Bua,[e("th",null,[e("div",Uua,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[11]||(a[11]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Company Type")),1),e("th",null,n(o.$t("Approval Status")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Source")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",qua,[t.companies.data?b("",!0):(u(),f("tr",Hua,[e("td",zua,[e("span",Wua,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",Kua,[e("td",Gua,[e("span",Qua,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",Zua,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Jua)):b("",!0)])]),e("td",Xua,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,e_a)):(u(),f("span",t_a,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",o_a)):b("",!0),l.approval_status=="pending"?(u(),f("i",a_a)):b("",!0)]),e("td",n_a,n(l.organization_type),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveApprovalStatus(l.approval_status)])},n(l.approval_status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.status)])},n(l.status),3)]),e("td",null,[l.pipeline?(u(),f("span",s_a,"Bank/CRM Created")):(u(),f("span",l_a,"YoFinvoice"))]),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",i_a,[l.approval_status=="approved"&&l.status=="active"&&l.can_activate?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,r_a)):b("",!0),l.approval_status=="approved"&&l.status=="inactive"&&l.can_activate?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,d_a)):b("",!0),l.can_approve?(u(),f("i",{key:2,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},onClick:r=>t.updateApprovalStatus(l.id,"approved"),title:"Approve Company"},null,8,c_a)):b("",!0),l.can_approve?(u(),f("i",{key:3,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-status-"+l.id,title:"Reject/Disapprove Company"},null,8,u_a)):b("",!0),e("div",{class:"modal fade",id:"update-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",m_a,[e("div",f_a,[e("div",h_a,[e("h5",p_a,n(o.$t("Update Company Status")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",g_a,[e("div",b_a,[e("div",y_a,[e("label",k_a,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.rejection_reason=r)},null,512),[[Q,t.rejection_reason]])])])]),e("div",$_a,[e("button",w_a,n(o.$t("Submit")),1)])],40,v_a)])])],8,__a)])]))),128))])])]),t.companies.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const C_a=Ue(Yca,[["render",D_a]]);$(function(){const o=$(".selectpicker"),a=$(".select2"),s=$(".select2-icons");if(o.length&&o.selectpicker(),a.length&&a.each(function(){var t=$(this);t.wrap('<div class="position-relative"></div>').select2({placeholder:"Select value",dropdownParent:t.parent()})}),s.length){let t=function(c){return c.id?"<i class='"+$(c.element).data("icon")+" me-2'></i>"+c.text:c.text};s.wrap('<div class="position-relative"></div>').select2({templateResult:t,templateSelection:t,escapeMarkup:function(c){return c}})}});const x_a={name:"PaymentRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o,a){const s=o.date_format,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h(50),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h([]),y=h(""),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(null),V=h(0),B=h(null),O=h(null),L=h(null),R=async()=>{await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,pi_number:i.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:D.value,sort_by:y.value,invoice_number:C.value,pay_date:x.value,transaction_type:E.value,product_type:k.value}}).then(ie=>{m.value=ie.data.payment_requests}).catch(ie=>{console.log(ie)})};return a.expose({getRequests:R}),Qe(()=>{$("#status-select").on("change",function(){var ie=$("#status-select").val();D.value=ie})}),{moment:H,requests:m,per_page:r,debit_from:d,company_name:p,from_date:v,to_date:g,status:D,sort_by:y,product_type_search:k,invoice_number_search:C,pay_date_search:x,transaction_type:E,pi_number_search:i,filter:async()=>{w.value=$("#date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD"));let ie=$(".ti-search").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,pi_number:i.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:D.value,sort_by:y.value,invoice_number:C.value,pay_date:x.value,transaction_type:E.value,product_type:k.value}}).then($e=>{m.value=$e.data.payment_requests,ie.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let ie=$(".ti-refresh").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",g.value="",D.value=[],y.value="",C.value="",x.value="",E.value="",k.value="",w.value="",$("#date_search").val(""),$("#status-select").val("").trigger("change"),await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,sort_by:y.value}}).then($e=>{m.value=$e.data.payment_requests,ie.html('<i class="ti ti-refresh"></i>')})},resolvePaymentRequestStatus:ie=>{let $e="";switch(ie){case"created":$e="bg-label-primary";break;case"approved":$e="bg-label-primary";break;case"paid":$e="bg-label-success";break;case"failed":$e="bg-label-danger";break;case"rejected":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},resolveStatus:ie=>{let $e="";switch(ie){case"pending":$e="bg-label-primary";break;case"sent":$e="bg-label-secondary";break;case"approved":$e="bg-label-success";break;case"denied":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},changePage:async ie=>{w.value=$("#date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(ie,{params:{per_page:r.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:D.value,sort_by:y.value,invoice_number:C.value,pay_date:x.value,transaction_type:E.value,product_type:k.value,pi_number:i.value}}).then($e=>{m.value=$e.data.payment_requests})},invoice_details:T,purchase_order_details:B,getTotalAmount:ie=>{let $e=0;return ie.forEach(we=>{$e+=we.quantity*we.price_per_quantity}),$e},getTaxesAmount:ie=>{let $e=0;return ie.forEach(we=>{$e+=we.value}),$e},getFeesAmount:ie=>{let $e=0;return ie.forEach(we=>{$e+=we.amount}),$e},resolveFinancingStatus:ie=>{let $e="";switch(ie){case"pending":$e="bg-label-primary";break;case"financed":$e="bg-label-primary";break;case"closed":$e="bg-label-success";break;case"denied":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},updateRequestStatus:_,updateRequestRejectionReason:l,updateStatus:(ie,$e)=>{const we=new FormData;we.append("payment_request_id",ie.id),we.append("status",$e),we.append("rejection_reason",l.value),A.post(c+o.bank+"/requests/payment-requests/update",we).then(()=>{t.success("Payment Request updated"),R()}).catch(se=>{console.log(se),t.error("An error occurred")})},getTaxPercentage:(ie,$e)=>Math.round($e/ie*100),exprotPaymentRequests:()=>{let ie=$(".ti-download").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),w.value=$("#date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/payment-requests/data/export",{responseType:"arraybuffer",method:"GET",params:{debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:D.value,sort_by:y.value,invoice_number:C.value,pay_date:x.value,transaction_type:E.value,product_type:k.value,pi_number:i.value}}).then($e=>{const we=window.URL.createObjectURL(new Blob([$e.data])),se=document.createElement("a");se.href=we,se.setAttribute("download",`Payment_requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(se),se.click()}).catch($e=>{$e.response.status==422?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{ie.html('<i class="ti ti-download"></i> Excel')})},showInvoice:async(ie,$e)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+ie+"/details").then(we=>{T.value=we.data,V.value++,bt(()=>{document.getElementById($e).click()})}).catch(we=>{console.log(we)})},showPurchaseOrder:async(ie,$e)=>{await A.get(c+o.bank+"/requests/invoices/purchase-order/"+ie+"/details").then(we=>{B.value=we.data,bt(()=>{document.getElementById($e).click()})}).catch(we=>{console.log(we)})},date_format:s,company_details:O,program_details:L,showCompany:async(ie,$e,we)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+ie+"/details/"+$e).then(se=>{O.value=se.data.company,L.value=se.data.program_vendor_configuration,bt(()=>{document.getElementById(we).click()})}).catch(se=>{console.log(se)})},invoice_details_key:V}}},P_a={class:""},E_a={class:"d-flex justify-content-between"},A_a={class:"d-flex justify-content-between"},I_a={class:"d-flex flex-wrap gap-1"},R_a={class:""},S_a={for:"Debit From",class:"form-label"},T_a={class:""},j_a={for:"Company Name",class:"form-label"},O_a={class:""},M_a={for:"Invoice No.",class:"form-label"},L_a={class:""},N_a={for:"PI Number",class:"form-label"},F_a={class:""},Y_a={class:"form-label",for:""},V_a={class:""},B_a={for:"Status",class:"form-label"},U_a={value:""},q_a={value:"approved"},H_a={value:"paid"},z_a={class:""},W_a={for:"Product Type",class:"form-label"},K_a={value:""},G_a={value:"vendor_financing_receivable"},Q_a={value:"factoring_with_recourse"},Z_a={value:"factoring_without_recourse"},J_a={value:"dealer_financing"},X_a={class:""},ema={for:"Sort by",class:"form-label"},tma={value:""},oma={value:"pi_no_asc"},ama={value:"pi_no_desc"},nma={value:"debit_from_asc"},sma={value:"debit_from_desc"},lma={value:"id_asc"},ima={value:"id_desc"},rma={value:"amount_asc"},dma={value:"amount_desc"},cma={class:"table-clear-btn"},uma={class:"d-flex justify-content-end gap-1 mt-auto"},_ma={class:""},mma={class:""},fma={class:"d-flex"},hma={class:"table-responsive"},pma={class:"table"},vma={class:"table-border-bottom-0"},gma={key:0},bma={colspan:"12",class:"text-center"},yma={class:"text-center"},kma={key:1},$ma={colspan:"12",class:"text-center"},wma={class:"text-center"},Dma=["data-bs-target"],Cma={class:"text-primary text-decoration-underline"},xma=["onClick"],Pma={key:1},Ema={class:""},Ama=["data-bs-target"],Ima={key:1},Rma={class:"text-success text-nowrap"},Sma=["onClick"],Tma={class:""},jma={class:""},Oma={key:0},Mma=["id","data-bs-target"],Lma=["id","data-bs-target"],Nma=["id"],Fma={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Yma={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Vma={class:"modal-content"},Bma={class:"modal-body"},Uma={class:"d-flex justify-content-center"},qma=["id"],Hma={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},zma={class:"modal-content"},Wma={class:"modal-header"},Kma={class:"modal-title",id:"modalCenterTitle"},Gma=["onSubmit"],Qma={class:"modal-body"},Zma={class:"row mb-1"},Jma={class:"form-group"},Xma={for:""},efa={class:"modal-footer"},tfa={class:"btn btn-primary",type:"submit"},ofa=["id"],afa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},nfa={class:"modal-content"},sfa={class:"modal-header"},lfa={class:"modal-title",id:"modalCenterTitle"},ifa={class:"modal-body"},rfa={class:"table-responsive"},dfa={class:"table"},cfa={key:0},ufa={key:1,class:"text-success"},_fa={key:2},mfa={key:0},ffa={key:0},hfa={key:1,class:"text-success"},pfa={key:2},vfa={key:0},gfa={key:1},bfa={key:2},yfa={key:3},kfa={key:4},$fa={key:5},wfa=["id"],Dfa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Cfa={class:"modal-content"},xfa={class:"modal-header"},Pfa={class:"modal-title",id:"modalCenterTitle"},Efa={class:"d-flex"},Afa=["href"],Ifa={class:"modal-body"},Rfa={class:"d-flex justify-content-between"},Sfa={class:"mb-3"},Tfa={class:"d-flex justify-content-between"},jfa={class:"fw-light my-auto"},Ofa={class:"fw-bold mx-2 my-auto"},Mfa={class:"d-flex justify-content-between"},Lfa={class:"fw-light my-auto"},Nfa={class:"fw-bold mx-2 my-auto"},Ffa={class:"d-flex justify-content-between"},Yfa={class:"fw-light my-auto"},Vfa={class:"fw-bold mx-2 my-auto"},Bfa={class:"d-flex justify-content-between"},Ufa={class:"fw-light my-auto"},qfa={key:0,class:"d-flex justify-content-between"},Hfa={class:"fw-light my-auto"},zfa={class:"fw-bold mx-2 my-auto"},Wfa={class:"mb-3"},Kfa={class:"d-flex justify-content-between"},Gfa={class:"my-auto fw-light"},Qfa={class:"fw-bold mx-2 my-auto"},Zfa={class:"d-flex justify-content-between"},Jfa={class:"my-auto fw-light"},Xfa={class:"fw-bold mx-2 my-auto"},eha={class:"d-flex justify-content-between"},tha={class:"my-auto fw-light"},oha={class:"fw-bold mx-2 my-auto"},aha={class:"d-flex justify-content-between"},nha={class:"my-auto fw-light"},sha={class:"fw-bold text-success mx-2 my-auto"},lha={class:"table-responsive"},iha={class:"table"},rha={class:"bg-label-secondary px-2"},dha={class:"d-flex justify-content-end"},cha={class:"mx-2 my-auto py-1"},uha={class:"text-success my-auto py-1"},_ha={key:5,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},mha={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},fha={class:"modal-content"},hha={class:"modal-header"},pha={class:"modal-title",id:"modalCenterTitle"},vha={class:"modal-body"},gha={class:"row mb-1"},bha={class:"col-5 d-flex"},yha={class:""},kha={class:""},$ha={class:"col-5 d-flex"},wha={class:""},Dha={class:""},Cha={class:"col-5 d-flex"},xha={class:""},Pha={class:""},Eha={class:"col-5 d-flex"},Aha={class:""},Iha={class:""},Rha={class:"col-5 d-flex"},Sha={class:""},Tha={class:""},jha={class:"col-5 d-flex"},Oha={class:""},Mha={class:""},Lha={class:"col-5 d-flex"},Nha={class:""},Fha={class:""},Yha={class:"col-5 d-flex"},Vha={class:""},Bha={class:""},Uha={class:"col-5 d-flex"},qha={class:""},Hha={class:""},zha={class:"col-5 d-flex"},Wha={class:""},Kha={class:""},Gha={class:"col-4"},Qha={class:"d-flex"},Zha={class:""},Jha={class:""},Xha={class:"col-4"},epa={class:"d-flex"},tpa={class:""},opa={class:""},apa={class:"col-4"},npa={class:"d-flex"},spa={class:""},lpa={class:""},ipa={class:"row"},rpa={class:"col-6"},dpa={class:"d-flex"},cpa={class:""},upa={class:""},_pa={class:"col-6"},mpa={class:"d-flex"},fpa={class:""},hpa={class:""},ppa={class:"col-6"},vpa={class:"d-flex"},gpa={class:""},bpa={class:""},ypa={class:"col-6"},kpa={class:"d-flex"},$pa={class:""},wpa={class:""},Dpa={class:"col-6"},Cpa={class:"d-flex"},xpa={class:""},Ppa={class:""},Epa={class:"col-6"},Apa={class:"d-flex"},Ipa={class:""},Rpa={class:""},Spa={class:"modal-footer"},Tpa={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function jpa(o,a,s,t,c,m){const _=de("pagination"),l=de("invoice-details"),r=de("payment-instruction");return u(),f("div",P_a,[e("div",E_a,[e("h5",null,n(o.$t("Payment Requests List"))+"(PR)",1)]),e("div",A_a,[e("form",{onSubmit:a[8]||(a[8]=st((...i)=>t.filter&&t.filter(...i),["prevent"]))},[e("div",I_a,[e("div",R_a,[e("label",S_a,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=i=>t.debit_from=i)},null,512),[[Q,t.debit_from]])]),e("div",T_a,[e("label",j_a,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=i=>t.company_name=i)},null,512),[[Q,t.company_name]])]),e("div",O_a,[e("label",M_a,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i)},null,512),[[Q,t.invoice_number_search]])]),e("div",L_a,[e("label",N_a,n(o.$t("PI Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[3]||(a[3]=i=>t.pi_number_search=i)},null,512),[[Q,t.pi_number_search]])]),e("div",F_a,[e("label",Y_a,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",V_a,[e("label",B_a,n(o.$t("Status")),1),Y(e("select",{class:"select2 form-select form-search",id:"status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status=i)},[e("option",U_a,n(o.$t("Status")),1),e("option",q_a,n(o.$t("Created")),1),e("option",H_a,n(o.$t("Paid")),1)],512),[[re,t.status]])]),e("div",z_a,[e("label",W_a,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.product_type_search=i)},[e("option",K_a,n(o.$t("Product Type")),1),e("option",G_a,n(o.$t("Vendor Financing Receivable")),1),e("option",Q_a,n(o.$t("Factoring With Recourse")),1),e("option",Z_a,n(o.$t("Factoring Without Recourse")),1),e("option",J_a,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",X_a,[e("label",ema,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",tma,n(o.$t("Sort By")),1),e("option",oma,n(o.$t("PI No"))+". ("+n(o.$t("Asc"))+")",1),e("option",ama,n(o.$t("PI No"))+". ("+n(o.$t("Desc"))+")",1),e("option",nma,n(o.$t("Debit From"))+" ("+n(o.$t("Asc"))+")",1),e("option",sma,n(o.$t("Debit From"))+". ("+n(o.$t("Desc"))+")",1),e("option",lma,n(o.$t("CBS Payment ID"))+" ("+n(o.$t("Asc"))+")",1),e("option",ima,n(o.$t("CBS Payment ID"))+" ("+n(o.$t("Desc"))+")",1),e("option",rma,n(o.$t("Amount"))+" ("+n(o.$t("Asc"))+")",1),e("option",dma,n(o.$t("Amount"))+" ("+n(o.$t("Desc"))+")",1)],512),[[re,t.sort_by]])]),a[14]||(a[14]=e("div",{class:"table-search-btn"},[e("button",{class:"btn btn-primary btn-md",type:"submit"},[e("i",{class:"ti ti-search"})])],-1)),e("div",cma,[e("button",{class:"btn btn-primary btn-md",type:"button",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])])],32),e("div",uma,[e("div",_ma,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",mma,[e("button",{type:"button",class:"btn btn-primary",onClick:a[10]||(a[10]=(...i)=>t.exprotPaymentRequests&&t.exprotPaymentRequests(...i)),style:{height:"fit-content"},title:"Download Excel"},[e("span",fma,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])])])]),t.requests.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",hma,[e("table",pma,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("PR ID")),1),e("th",null,n(o.$t("Debit From")),1),e("th",null,n(o.$t("Credit To")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Pay Date")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",vma,[t.requests.data?b("",!0):(u(),f("tr",gma,[e("td",bma,[e("span",yma,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",kma,[e("td",$ma,[e("span",wma,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.pr_id),1),e("td",null,n(i.debit_from_account),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+i.id,style:{cursor:"pointer"}},n(i.total_accounts)+" "+n(o.$t("Account"))+"(s) ",9,Dma),e("td",Cma,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.company_id,i.program_vendor_configuration_id,"show-vendor-details-btn-"+i.company_id)},n(i.company_name),9,xma)):(u(),f("span",Pma,n(i.company_name),1))]),e("td",null,n(i.program_type),1),e("td",Ema,n(i.invoice_number),1),i.purchase_order_number?(u(),f("td",{key:0,class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id,style:{cursor:"pointer"}},n(i.purchase_order_number),9,Ama)):(u(),f("td",Ima,"-")),e("td",Rma,n(new Intl.NumberFormat().format(i.payment_request_amount)),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.pi_number),9,Sma),e("td",Tma,n(t.moment(i.payment_request_date).format(t.date_format)),1),e("td",jma,[i.pay_date?(u(),f("span",Oma,n(t.moment(i.pay_date).format(t.date_format)),1)):b("",!0)]),e("td",null,[i.status=="approved"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.status)])},n("Created"),2)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.status)])},n(i.status),3)),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,Mma),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,Lma),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,Nma),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Fma,[e("div",Yma,[e("div",Vma,[e("div",Bma,[e("div",Uma,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Hma,[e("div",zma,[e("div",Wma,[e("h5",Kma,n(o.$t("Update Payment Request")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",Qma,[e("div",Zma,[e("div",Jma,[e("label",Xma,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=d=>t.updateRequestRejectionReason=d)},null,512),[[Q,t.updateRequestRejectionReason]])])])]),e("div",efa,[e("button",tfa,n(o.$t("Submit")),1)])],40,Gma)])])],8,qma),e("div",{class:"modal fade",id:"payment-accounts-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",afa,[e("div",nfa,[e("div",sfa,[e("h5",lfa,n(o.$t("Accounts")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",ifa,[e("div",rfa,[e("table",dfa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Description")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("tr",{key:d.id},[d.type=="Vendor Account"?(u(),f("td",cfa,n(d.account),1)):b("",!0),d.type=="Vendor Account"?(u(),f("td",ufa,n(new Intl.NumberFormat().format(d.amount)),1)):b("",!0),d.type=="Vendor Account"?(u(),f("td",_fa,[d.type=="Vendor Account"?(u(),f("span",mfa,n(o.$t("Vendor's/Seller's A/C")),1)):b("",!0)])):b("",!0)]))),128)),(u(!0),f(W,null,X(i.payment_accounts,d=>(u(),f("tr",{key:d.id},[d.can_show?(u(),f("td",ffa,n(d.account),1)):b("",!0),d.can_show?(u(),f("td",hfa,n(new Intl.NumberFormat().format(d.amount)),1)):b("",!0),d.can_show?(u(),f("td",pfa,[d.description?(u(),f("span",vfa,n(d.description),1)):d.type=="Discount"?(u(),f("span",gfa,n(o.$t("Bank Discount A/C")),1)):d.type=="Program Fees"?(u(),f("span",bfa,n(o.$t("Program Fees (Bank A/C)")),1)):d.type=="Program Fees Taxes"?(u(),f("span",yfa,n(o.$t("Program Fees Taxes (Bank A/C)")),1)):d.type=="Tax On Discount"?(u(),f("span",kfa,n(o.$t("Tax on Discount (Bank A/C)")),1)):d.type=="Tax On Fees"?(u(),f("span",$fa,n(o.$t("Tax on Fees (Bank A/C)")),1)):b("",!0)])):b("",!0)]))),128))])])])])])])],8,ofa),t.purchase_order_details?(u(),f("div",{key:4,class:"modal fade",id:"purchase-order-"+t.purchase_order_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",Dfa,[e("div",Cfa,[e("div",xfa,[e("h5",Pfa,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Efa,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Afa)):b("",!0)])]),e("div",Ifa,[e("div",Rfa,[e("div",Sfa,[e("span",Tfa,[e("h5",jfa,n(o.$t("Buyer"))+":",1),e("h6",Ofa,n(t.purchase_order_details.anchor.name),1)]),e("span",Mfa,[e("h5",Lfa,n(o.$t("Delivery Address"))+":",1),e("h6",Nfa,n(t.purchase_order_details.delivery_address),1)]),e("span",Ffa,[e("h5",Yfa,n(o.$t("Remarks"))+":",1),e("h6",Vfa,n(t.purchase_order_details.remarks),1)]),e("span",Bfa,[e("h5",Ufa,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",qfa,[e("h5",Hfa,n(o.$t("Rejection Reason"))+":",1),e("h6",zfa,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Wfa,[e("span",Kfa,[e("h5",Gfa,n(o.$t("PO No"))+":",1),e("h6",Qfa,n(t.purchase_order_details.purchase_order_number),1)]),e("span",Zfa,[e("h5",Jfa,n(o.$t("Start Date"))+":",1),e("h6",Xfa,n(t.moment(t.purchase_order_details.duration_from).format(t.date_format)),1)]),e("span",eha,[e("h5",tha,n(o.$t("End Date"))+":",1),e("h6",oha,n(t.moment(t.purchase_order_details.duration_to).format(t.date_format)),1)]),e("span",aha,[e("h5",nha,n(o.$t("PO Amount"))+":",1),e("h6",sha,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",lha,[e("table",iha,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",rha,[e("span",dha,[e("h6",cha,n(o.$t("Total")),1),e("h5",uha,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,wfa)):b("",!0),t.company_details?(u(),f("div",_ha,[e("div",mha,[e("div",fha,[e("div",hha,[e("h5",pha,n(o.$t("Company Details")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",vha,[e("div",gha,[e("div",bha,[e("div",yha,n(o.$t("Name"))+":",1),e("div",kha,n(t.company_details.name),1)]),e("div",$ha,[e("div",wha,n(o.$t("KRA PIN"))+":",1),e("div",Dha,n(t.company_details.kra_pin),1)]),e("div",Cha,[e("div",xha,n(o.$t("Unique Identification No."))+":",1),e("div",Pha,n(t.company_details.unique_identification_number),1)]),e("div",Eha,[e("div",Aha,n(o.$t("Business Identification No."))+":",1),e("div",Iha,n(t.company_details.business_identification_number),1)]),e("div",Rha,[e("div",Sha,n(o.$t("Type"))+":",1),e("div",Tha,n(t.company_details.organization_type),1)]),e("div",jha,[e("div",Oha,n(o.$t("Branch Code"))+":",1),e("div",Mha,n(t.company_details.branch_code),1)]),e("div",Lha,[e("div",Nha,n(o.$t("City"))+":",1),e("div",Fha,n(t.company_details.city),1)]),e("div",Yha,[e("div",Vha,n(o.$t("Postal Code"))+":",1),e("div",Bha,n(t.company_details.postal_code),1)]),e("div",Uha,[e("div",qha,n(o.$t("Address"))+":",1),e("div",Hha,n(t.company_details.address),1)]),e("div",zha,[e("div",Wha,n(o.$t("Customer Type"))+":",1),e("div",Kha,n(t.company_details.customer_type),1)])]),a[23]||(a[23]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(W,null,X(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",Gha,[e("div",Qha,[e("div",Zha,n(o.$t("Name"))+":",1),e("div",Jha,n(d.name),1)])]),e("div",Xha,[e("div",epa,[e("div",tpa,n(o.$t("Email"))+":",1),e("div",opa,n(d.email),1)])]),e("div",apa,[e("div",npa,[e("div",spa,n(o.$t("Phone"))+":",1),e("div",lpa,n(d.phone_number),1)])])]))),128)),a[24]||(a[24]=e("br",null,null,-1)),e("h5",null,n(o.$t("Program Details")),1),e("div",ipa,[e("div",rpa,[e("div",dpa,[e("div",cpa,n(o.$t("Program Name"))+":",1),e("div",upa,n(t.program_details.program.name),1)])]),e("div",_pa,[e("div",mpa,[e("div",fpa,n(o.$t("Program Type"))+":",1),e("div",hpa,n(t.program_details.program.program_type.name),1)])]),e("div",ppa,[e("div",vpa,[e("div",gpa,n(o.$t("Sanctioned Limit"))+":",1),e("div",bpa,n(new Intl.NumberFormat().format(t.program_details.sanctioned_limit)),1)])]),e("div",ypa,[e("div",kpa,[e("div",$pa,n(o.$t("Utilized Limit"))+":",1),e("div",wpa,n(new Intl.NumberFormat().format(t.program_details.utilized_amount)),1)])]),e("div",Dpa,[e("div",Cpa,[e("div",xpa,n(o.$t("Pipeline Limit"))+":",1),e("div",Ppa,n(new Intl.NumberFormat().format(t.program_details.pipeline_amount)),1)])]),e("div",Epa,[e("div",Apa,[e("div",Ipa,n(o.$t("Available Limit"))+":",1),e("div",Rpa,n(new Intl.NumberFormat().format(t.program_details.sanctioned_limit-(t.program_details.utilized_amount+t.program_details.pipeline_amount))),1)])])])]),e("div",Spa,[e("button",Tpa,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const $D=Ue(x_a,[["render",jpa]]),Opa={name:"PaymentReports"};function Mpa(o,a,s,t,c,m){return u(),f("div",null,a[0]||(a[0]=[ga('<div class="p-3 d-flex justify-content-between"><div class="d-flex flex-wrap"><div class=""><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="PR ID" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Debit From" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Company Name" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input class="form-control form-search" type="date" value="2021-06-18" id="html5-date-input"></div><div class="mx-2"><select class="form-select form-search" id="exampleFormControlSelect"><option value="">Status</option><option value="1">Pending</option><option value="2">Approved</option><option value="3">Denied</option></select></div><div class="mt-1"><select class="form-select form-search" id="exampleFormControlSelect"><option value="">Sort By</option><option value="1">Asc</option><option value="2">Desc</option></select></div></div><div class="d-flex"><div style="height:fit-content;"><select class="form-select" id="exampleFormControlSelect1"><option value="1">10</option><option value="2">20</option><option value="3">50</option></select></div><button type="button" class="btn btn-primary h-50" style="height:fit-content;"><i class="ti ti-download ti-sm"></i></button></div></div><div class="table-responsive"><table class="table"><thead><tr class=""><th><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></th><th>CBS Transaction ID</th><th>Pay Date</th><th>Payment Date</th><th>Transaction Type</th><th>Vendor</th><th>Debit From</th><th>Credit To</th><th>Amount</th><th>Transaction Ref</th><th>Invoice No</th></tr></thead><tbody class="table-border-bottom-0"><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr></tbody></table></div><nav aria-label="Page navigation" class="mt-2"><ul class="pagination justify-content-end"><li class="page-item prev"><a class="page-link" href="javascript:void(0);"><i class="ti ti-chevrons-left ti-xs"></i></a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li><li class="page-item active"><a class="page-link" href="javascript:void(0);">3</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">4</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">5</a></li><li class="page-item next"><a class="page-link" href="javascript:void(0);"><i class="ti ti-chevrons-right ti-xs"></i></a></li></ul></nav>',3)]))}const wD=Ue(Opa,[["render",Mpa]]),Lpa={props:["invoiceDetails"],setup(o,a){const s=lt(),t=o.invoiceDetails,c=h([]),m=h(!1),_=h(0);return{moment:H,invoice_details:t,selectFile:i=>{i.preventDefault(),c.value=i.target.files},uploadFile:async()=>{m.value=!0;const i=new FormData;i.append("id",o.invoiceDetails.id);let d=0;for(let p of c.value)i.append("files["+d+"]",p),d++;A.post("/invoice/attachment/upload",i).then(()=>{document.getElementById("close-upload-attachment-"+o.invoiceDetails.id).click(),s.success("Attachment added successfully"),_.value++}).catch(p=>{const v=Object.values(p.response.data)[0];s.error(v[0])}).finally(()=>{m.value=!1})},selected_file:c,uploading_file:m}}},Npa=["id"],Fpa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Ypa={class:"modal-content"},Vpa={class:"modal-header"},Bpa={class:"modal-title",id:"modalCenterTitle"},Upa=["id"],qpa={class:"modal-body"},Hpa={class:"table-responsive"},zpa={class:"table"},Wpa={class:"bg-label-primary"},Kpa={key:0},Gpa={key:0},Qpa=["href"],Zpa={for:"Add Attachements",class:"form-label"},Jpa=["disabled"],Xpa={key:0},eva={class:"mt-2 mb-1"};function tva(o,a,s,t,c,m){return u(),f("div",{class:"modal fade",tabindex:"-2","aria-hidden":"true",id:"cbs-add-attachment-"+t.invoice_details.id},[e("div",Fpa,[e("div",Ypa,[e("div",Vpa,[e("h5",Bpa,n(o.$t("Attachments for Invoice"))+": "+n(t.invoice_details.invoice_number),1),e("button",{type:"button",class:"btn-close",id:"close-upload-attachment-"+t.invoice_details.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Upa)]),e("div",qpa,[e("div",Hpa,[e("table",zpa,[e("thead",Wpa,[e("tr",null,[e("th",null,n(o.$t("Attached On")),1),e("th",null,n(o.$t("Attached By")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("File Name")),1),e("th",null,n(o.$t("View")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.media,(_,l)=>(u(),f("tr",{key:l},[e("td",null,n(t.moment(_.created_at).format("DD MMM YYY")),1),e("td",null,[_.custom_properties&&_.custom_properties.user_name?(u(),f("span",Kpa,n(_.custom_properties.user_name),1)):b("",!0)]),e("td",null,[_.custom_properties&&_.custom_properties.user_type?(u(),f("span",Gpa,n(_.custom_properties.user_type==="App\\Models\\Company"?"Company User":"Bank User"),1)):b("",!0)]),e("td",null,n(_.name),1),e("td",null,[e("a",{target:"_blank",href:_.original_url},a[2]||(a[2]=[e("i",{class:"ti ti-eye text-xs"},null,-1)]),8,Qpa)])]))),128))])])]),e("form",{onSubmit:a[1]||(a[1]=st((..._)=>t.uploadFile&&t.uploadFile(..._),["prevent"])),class:"d-flex gap-2 mt-4"},[e("div",null,[e("label",Zpa,n(o.$t("Select Attachments")),1),e("input",{type:"file",accept:".pdf",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",multiple:"multiple",class:"form-control"},null,32)]),e("button",{style:{height:"fit-content"},class:"btn btn-primary",type:"submit",disabled:t.uploading_file},n(t.uploading_file?o.$t("Processing..."):o.$t("Submit")),9,Jpa)],32),t.selected_file.length>0?(u(),f("div",Xpa,[e("h6",eva,n(o.$t("Selected Files")),1),(u(!0),f(W,null,X(t.selected_file,_=>(u(),f("span",{class:"d-flex flex-column gap-",key:_},n(_.name),1))),128))])):b("",!0)])])])],8,Npa)}const ova=Ue(Lpa,[["render",tva]]),ava={name:"CbsTransactions",components:{Pagination:St,CbsUploadAttachment:ova},props:["bank","can_update","can_upload","date_format"],setup(o,a){const s=o.date_format,t=lt(),c=Je("baseURL"),m=o.can_update,_=o.can_upload,l=h([]),r=h(null),i=h({}),d=h(!1),p=h(["Successful","Created","Failed","Permanently Failed"]),v=h(null),g=h(""),D=h(""),y=h(""),C=h(""),x=h(""),E=h(""),k=h(""),w=h(""),T=h(""),V=h(""),B=h(""),O=h(""),L=h(""),R=h(""),P=h(""),I=h([]),S=h(null),F=h(!0),N=h(!0),U=h(null),Z=h([]),ce=h(""),ae=h(""),J=h(""),z=h(""),ne=h([]),xe=h(""),Fe=h(""),he=h(""),ie=h(""),$e=h(""),we=h([]),se=h("desc"),ge=h(""),be=h(""),Me=h(null),ue=h(0),Oe=h(50),ze=h(0),Ye=async()=>{await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:Oe.value,cbs_id:ce.value,transaction_ref:z.value,invoice_number:ae.value,account:J.value,status:ne.value,product_type:xe.value,from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,sort_by:se.value}}).then(ut=>{l.value=ut.data.transactions}).catch(ut=>{console.log(ut)})},ve=async(ut,gt)=>{document.getElementById("cbs-loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+ut+"/details").then(Vt=>{Me.value=Vt.data,ze.value++,bt(()=>{document.getElementById(gt).click()})}).catch(Vt=>{console.log(Vt)})};return a.expose({getRequests:Ye}),Qe(()=>{$("#cbs-status-select").on("change",function(){var ut=$("#cbs-status-select").val();ne.value=ut}),$("#transaction-type-select").on("change",function(){var ut=$("#transaction-type-select").val();we.value=ut})}),ot([Oe],async([ut])=>{ge.value=$("#date_search").val(),ge.value&&(Fe.value=H(ge.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(ge.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:ut,cbs_id:ce.value,transaction_ref:z.value,transaction_type:we.value,invoice_number:ae.value,account:J.value,status:ne.value,product_type:xe.value,from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,sort_by:se.value}}).then(gt=>{l.value=gt.data.transactions}).catch(gt=>{console.log(gt)})}),{invoice_details:Me,moment:H,show_error_download_link:d,can_update:m,can_upload:_,transactions:l,cbs_transactions:r,cbsTransaction:v,updateCreditTo:D,updateDebitFrom:g,updateDebitFromAccountName:y,updateCreditToAccountName:C,updateNarration:x,updateStatus:E,cbs_transaction_statuses:p,addDebitFrom:k,addCreditTo:w,addDebitFromName:T,addCreditToName:V,addAmount:B,addStatus:O,addPayDate:L,addTransactionReference:R,addTransactionType:P,update_cbs_modal:i,can_submit:F,can_close:N,close_modal:U,cbs_id_search:ce,invoice_number_search:ae,account_search:J,transaction_ref_search:z,status_search:ne,from_date:Fe,to_date:he,from_transaction_date:ie,to_transaction_date:$e,sort_by:se,product_type_search:xe,transaction_type:we,per_page:Oe,selected_file:ue,filter:async()=>{ge.value=$("#cbs_date_search").val(),ge.value&&(Fe.value=H(ge.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(ge.value.split(" - ")[1]).format("YYYY-MM-DD")),be.value=$("#cbs_transaction_date_search").val(),be.value&&(ie.value=H(be.value.split(" - ")[0]).format("YYYY-MM-DD"),$e.value=H(be.value.split(" - ")[1]).format("YYYY-MM-DD"));let ut=$(".ti-search").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:Oe.value,cbs_id:ce.value,transaction_ref:z.value,invoice_number:ae.value,account:J.value,status:ne.value,product_type:xe.value,from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,sort_by:se.value,transaction_type:we.value}}).then(gt=>{l.value=gt.data.transactions,ut.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let ut=$(".ti-refresh").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),ce.value="",z.value="",ae.value="",J.value="",ne.value="",xe.value="",Fe.value="",he.value="",se.value="desc",we.value="",ge.value="",ie.value="",$e.value="",$("#cbs_date_search").val(""),$("#cbs_transaction_date_search").val(""),$("#cbs-status-select").val(""),$("#cbs-status-select").trigger("change"),$("#transaction-type-select").val(""),$("#transaction-type-select").trigger("change"),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:Oe.value,sort_by:se.value}}).then(gt=>{l.value=gt.data.transactions,ut.html('<i class="ti ti-refresh"></i>')})},submitTransactions:async()=>{if(N.value=!1,F.value=!1,I.value=[],r.value==null){t.error("Select File to upload");return}const ut=new FormData;ut.append("transactions",r.value),await A.post(c+o.bank+"/requests/payment-requests/transactions/import",ut).then(gt=>{gt.headers["content-type"]!=="application/json"?(d.value=!0,document.getElementById("file-upload").value="",t.error("Invalid Data. Download Error report and resolve Errors to upload.")):(document.getElementById("close-upload-modal").click(),t.success("File Uploaded Successfully"),Ye())}).catch(gt=>{if(console.log(gt),gt.response.status==422){ue.value++,t.error(gt.response.data.message);return}gt.response.data.uploaded>0&&t.success(gt.response.data.uploaded+" uploaded successfully."),gt.response.data.successful_rows>0&&t.info(gt.response.data.successful_rows+" were already successful."),gt.response.data.total_rows-(gt.response.data.uploaded+gt.response.data.successful_rows)>0?(t.error(gt.response.data.total_rows-(gt.response.data.uploaded+gt.response.data.successful_rows)+" failed to upload. View error report for details."),d.value=!0,document.getElementById("file-upload").value=""):(document.getElementById("close-upload-modal").click(),Ye())}).finally(()=>{N.value=!0,F.value=!0,ue.value++})},submitNewTransactions:()=>{F.value=!1,N.value=!1,A.post(c+o.bank+"/requests/cbs-transactions/create",{debit_from_account:k.value,credit_to_account:w.value,debit_from_account_name:T.value,credit_to_account_name:V.value,status:O.value,amount:B.value,pay_date:L.value,type:P.value,ref:R.value}).then(()=>{t.success("Transaction updated successfully"),k.value="",w.value="",T.value="",V.value="",O.value="",B.value="",L.value="",P.value="",R.value="",Ye()}).catch(ut=>{console.log(ut.data),t.error("An error occurred while updating the transaction")}).finally(()=>{F.value=!0,N.value=!0})},updateTransactionStatus:async()=>{F.value=!1,N.value=!1,await A.post(c+o.bank+"/requests/cbs-transactions/"+v.value.id+"/data/update",{debit_from_account:g.value,credit_to_account:D.value,debit_from_account_name:y.value,credit_to_account_name:C.value,status:E.value,transaction_ref:R.value,pay_date:L.value}).then(()=>{document.getElementById("close-modal-"+v.value.id).click(),t.success("Transaction updated successfully"),Ye(),g.value="",D.value="",y.value="",C.value="",E.value="",R.value="",L.value=""}).catch(ut=>{ut.response.status===422?Object.keys(ut.response.data).forEach(gt=>{t.error(ut.response.data[gt][0],{timeout:1e4})}):(t.error("Something went wrong."),console.log(ut))}).finally(()=>{F.value=!0,N.value=!0})},resolvePaymentRequestStatus:ut=>{let gt="";switch(ut.toLowerCase()){case"created":gt="bg-label-primary";break;case"successful":gt="bg-label-success";break;case"failed":gt="bg-label-danger";break;case"permanently failed":gt="bg-label-danger";break;default:gt="bg-label-primary";break}return gt},changePage:async ut=>{ge.value=$("#cbs_date_search").val(),ge.value&&(Fe.value=H(ge.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(ge.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(ut,{params:{per_page:Oe.value,cbs_id:ce.value,transaction_ref:z.value,invoice_number:ae.value,account:J.value,status:ne.value,product_type:xe.value,from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,sort_by:se.value,transaction_type:we.value}}).then(gt=>{l.value=gt.data.transactions})},updatedFile:ut=>{let gt=ut.target.files||ut.dataTransfer.files;gt.length&&(r.value=gt[0])},showEditModal:ut=>{v.value=ut,g.value=ut.debit_from_account,D.value=ut.credit_to_account,y.value=ut.debit_from_account_name,C.value=ut.credit_to_account_name,R.value=ut.transaction_reference,E.value=ut.status,ut.status=="Successful"&&(p.value=["Failed","Permanently Failed","Successful"]),(ut.status=="Failed"||ut.status=="Permanently Failed")&&(ut.status=="Failed"&&(p.value=["Failed","Permanently Failed","Successful"]),ut.status=="Permanently Failed"&&(p.value=["Permanently Failed"]))},getTotalAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.quantity*Vt.price_per_quantity}),gt},getTaxesAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.value}),gt},getFeesAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.amount}),gt},getTaxPercentage:(ut,gt)=>Math.round(gt/ut*100),downloadCbsTransactions:()=>{let ut=$(".filtered").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),ge.value=$("#cbs_date_search").val(),ge.value&&(Fe.value=H(ge.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(ge.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/cbs-transactions/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:ce.value,transaction_ref:z.value,invoice_number:ae.value,account:J.value,status:ne.value,product_type:xe.value,from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,sort_by:se.value,transaction_type:we.value,selected_transactions:Z.value}}).then(gt=>{const Vt=window.URL.createObjectURL(new Blob([gt.data])),pt=document.createElement("a");pt.href=Vt,pt.setAttribute("download",`CBS_Transactions_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(pt),pt.click()}).catch(gt=>{gt.response.status==400?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{ut.html('<i class="ti ti-download ti-xs px-1"></i> Excel')})},downloadCreatedCbsTransactions:()=>{let ut=$(".created").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),ge.value=$("#cbs_date_search").val(),ge.value&&(Fe.value=H(ge.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(ge.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/cbs-transactions/created/export",{responseType:"arraybuffer",method:"GET",params:{from_date:Fe.value,to_date:he.value,from_transaction_date:ie.value,to_transaction_date:$e.value,status:["Created"]}}).then(gt=>{const Vt=window.URL.createObjectURL(new Blob([gt.data])),pt=document.createElement("a");pt.href=Vt,pt.setAttribute("download",`CBS_Transactions_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(pt),pt.click()}).catch(gt=>{gt.response.status==400?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{ut.html("Download Transactions")})},updateSelected:ut=>{if(Z.value.includes(ut)){const gt=Z.value.indexOf(ut);Z.value.splice(gt,1)}else Z.value.push(ut)},selectAll:()=>{document.getElementById("select-all").checked?l.value.data.forEach(ut=>{document.getElementById("transaction-"+ut.id).checked=!0,Z.value.push(ut.id)}):l.value.data.forEach(ut=>{if(document.getElementById("transaction-"+ut.id).checked==!0){document.getElementById("transaction-"+ut.id).checked=!1;let gt;if(!Z.value.filter(function(pt,Et){gt=Et,pt==ut.id}))return!1;Z.value.splice(gt,1)}})},uploadErrors:I,fileUpload:S,showInvoice:ve,date_format:s,upload_attachment_key:ze}}},nva={class:""},sva={class:"d-flex justify-content-between"},lva={class:"d-flex gap-1 justify-content-end"},iva={key:0,type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},"data-bs-toggle":"modal","data-bs-target":"#uploadCbsTransactions"},rva={type:"button",class:"btn btn-primary d-none",style:{height:"fit-content"},"data-bs-toggle":"modal","data-bs-target":"#createCbsTransactions"},dva={class:"modal modal-top fade",id:"createCbsTransactions",tabindex:"-1"},cva={class:"modal-dialog"},uva={class:"modal-header"},_va={class:"modal-title",id:"modalTopTitle"},mva={class:"modal-body"},fva={class:"row mb-1"},hva={class:"form-group"},pva={for:"",class:"form-label"},vva={class:"form-group"},gva={for:"",class:"form-label"},bva={class:"form-group"},yva={for:"",class:"form-label"},kva={class:"form-group"},$va={for:"",class:"form-label"},wva={class:"form-group"},Dva={for:"Amount",class:"form-label"},Cva={class:"form-group"},xva={for:"",class:"form-label"},Pva={class:"form-group"},Eva={for:"",class:"form-label"},Ava={class:"form-group"},Iva={for:"Status",class:"form-label"},Rva={value:"Successful"},Sva={value:"Created"},Tva={value:"Failed"},jva={value:"Permanently Failed"},Ova={class:"form-group"},Mva={for:"Status",class:"form-label"},Lva={value:"Payment Disbursement"},Nva={value:"Fees/Charges"},Fva={value:"Discount Charge"},Yva={value:"Bank Invoice Payment"},Vva={value:"Repayment"},Bva={value:"Funds Transfer"},Uva={value:"OD Drawdown"},qva={class:"modal-footer"},Hva=["disabled"],zva=["disabled"],Wva={class:"modal modal-top fade",id:"uploadCbsTransactions",tabindex:"-1"},Kva={class:"modal-dialog"},Gva={class:"modal-header"},Qva={class:"modal-title",id:"modalTopTitle"},Zva={class:"modal-body"},Jva={class:"form-group"},Xva={key:0},ega={key:1,href:"cbs-transactions/error-report/export",class:"btn btn-danger btn-sm mt-2"},tga={class:"modal-footer"},oga=["disabled"],aga=["disabled"],nga={class:"d-flex justify-content-between"},sga={class:"d-flex flex-wrap gap-1"},lga={class:""},iga={for:"CBS ID",class:"form-label mx-1"},rga={class:""},dga={for:"Debit From",class:"form-label"},cga={class:""},uga={for:"Invoice Number",class:"form-label"},_ga={class:""},mga={for:"Status",class:"form-label"},fga={value:"Created"},hga={value:"Successful"},pga={value:"Permanently Failed"},vga={value:"Failed"},gga={class:""},bga={for:"Product Type",class:"form-label"},yga={value:"vendor_financing_receivable"},kga={value:"factoring_with_recourse"},$ga={value:"factoring_without_recourse"},wga={value:"dealer_financing"},Dga={class:""},Cga={class:"form-label",for:""},xga={class:""},Pga={class:"form-label",for:""},Ega={class:"form-group"},Aga={for:"Status",class:"form-label"},Iga={value:""},Rga={value:"Balance DF Invoice Payment"},Sga={value:"Bank Invoice Payment"},Tga={value:"Discount Charge"},jga={value:"Fees/Charges"},Oga={value:"Funds Transfer"},Mga={value:"OD Account Debit"},Lga={value:"OD Drawdown"},Nga={value:"Overdue Account"},Fga={value:"Payment Disbursement"},Yga={value:"Platform Charges"},Vga={value:"Repayment"},Bga={class:""},Uga={for:"Sort by",class:"form-label"},qga={value:""},Hga={value:"asc"},zga={value:"desc"},Wga={class:"table-clear-btn"},Kga={class:"d-flex justify-content-end mt-auto gap-1"},Gga={class:""},Qga={class:"d-flex gap-1"},Zga={class:"table-responsive"},Jga={class:"table"},Xga={class:""},e1a={class:"px-1"},t1a={class:"form-check"},o1a={class:""},a1a={class:""},n1a={class:""},s1a={class:""},l1a={class:""},i1a={class:""},r1a={class:""},d1a={class:""},c1a={class:""},u1a={class:""},_1a={class:"table-border-bottom-0"},m1a={key:0},f1a={colspan:"12",class:"text-center"},h1a={class:"text-center"},p1a={key:1},v1a={colspan:"12",class:"text-center"},g1a={class:"text-center"},b1a={class:"px-1"},y1a={class:"form-check"},k1a=["id","onChange"],$1a={class:""},w1a={class:"fw-medium"},D1a={class:""},C1a={class:""},x1a={class:"text-success text-nowrap"},P1a={style:{cursor:"pointer"}},E1a=["onClick"],A1a={key:1},I1a={key:0,class:""},R1a={key:1,class:""},S1a={key:2,class:""},T1a={key:3,class:""},j1a={class:"m_title"},O1a={class:""},M1a={class:""},L1a={class:"d-flex"},N1a=["data-bs-target"],F1a=["onClick","data-bs-target"],Y1a=["id","data-bs-target"],V1a=["id","data-bs-target"],B1a={class:"modal fade",id:"cbs-loading-modal",tabindex:"-1","aria-hidden":"true"},U1a={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},q1a={class:"modal-content"},H1a={class:"modal-body"},z1a={class:"d-flex justify-content-center"},W1a=["id"],K1a={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},G1a={class:"modal-content"},Q1a={class:"modal-header"},Z1a={class:"modal-title",id:"modalCenterTitle"},J1a={class:"modal-body"},X1a={class:"table-responsive"},eba={class:"table"},tba={style:{background:"#f0f0f0"}},oba=["id"],aba={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},nba={class:"modal-content"},sba={class:"modal-header"},lba={class:"modal-title",id:"modalCenterTitle"},iba=["id"],rba={class:"modal-body"},dba={class:"row mb-1"},cba={class:"col-md-6 col-sm-12 my-1"},uba={for:"",class:"form-label"},_ba={class:"col-md-6 col-sm-12 my-1"},mba={class:"col-md-6 col-sm-12 my-1"},fba={for:"",class:"form-label"},hba={class:"col-md-6 col-sm-12 my-1"},pba={class:"col-md-6 col-sm-12 my-1"},vba={for:"",class:"form-label"},gba={class:"col-md-6 col-sm-12 my-1"},bba={class:"col-md-6 col-sm-12 my-1"},yba={for:"",class:"form-label"},kba={class:"col-md-6 col-sm-12 my-1"},$ba={class:"col-md-6 col-sm-12 my-1"},wba={for:"",class:"form-label"},Dba={class:"col-md-6 col-sm-12 my-1"},Cba=["selected","value"],xba={key:0,class:"col-md-6 col-sm-12 my-1"},Pba={for:"",class:"form-label"},Eba={key:1,class:"col-md-6 col-sm-12 my-1"},Aba=["required"],Iba={key:2,class:"col-md-6 col-sm-12 my-1"},Rba={for:"",class:"form-label"},Sba={key:3,class:"col-md-6 col-sm-12 my-1"},Tba=["min","required"],jba={class:"col-md-6 col-sm-12 my-1"},Oba={for:"",class:"form-label"},Mba={class:"col-md-6 col-sm-12 my-1"},Lba=["value"],Nba={class:"col-md-6 col-sm-12 my-1"},Fba={for:"",class:"form-label"},Yba={class:"col-md-6 col-sm-12 my-1"},Vba=["value"],Bba={class:"modal-footer"},Uba=["disabled"],qba=["id"],Hba={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},zba={class:"modal-content"},Wba={class:"modal-header"},Kba={class:"modal-title",id:"modalCenterTitle"},Gba={class:"d-flex gap-1"},Qba=["data-bs-target"],Zba=["href"],Jba={class:"modal-body"},Xba={class:"d-flex justify-content-between mb-4"},eya={class:"mb-3"},tya={class:"d-flex justify-content-between"},oya={class:"fw-light my-auto"},aya={class:"fw-bold mx-2 my-auto"},nya={class:"d-flex justify-content-between"},sya={class:"fw-light my-auto"},lya={class:"fw-bold mx-2 my-auto"},iya={class:"d-flex justify-content-between"},rya={class:"fw-light my-auto"},dya={class:"fw-bold mx-2 my-auto"},cya={class:"d-flex justify-content-between"},uya={class:"fw-light my-auto"},_ya={class:"fw-bold mx-2 my-auto"},mya={class:"d-flex justify-content-between"},fya={class:"fw-light my-auto"},hya={class:"fw-bold mx-2 my-auto"},pya={key:0,class:"d-flex justify-content-between"},vya={class:"fw-light my-auto"},gya={class:"fw-bold mx-2 my-auto"},bya={key:1,class:"d-flex justify-content-between"},yya={class:"fw-light my-auto"},kya={class:"fw-bold mx-2 my-auto"},$ya={class:"mb-3"},wya={key:0,class:"d-flex justify-content-between"},Dya={class:"my-auto fw-light"},Cya=["data-bs-target"],xya={class:"d-flex justify-content-between"},Pya={class:"my-auto fw-light"},Eya={class:"fw-bold mx-2 my-auto"},Aya={class:"d-flex justify-content-between"},Iya={class:"my-auto fw-light"},Rya={class:"fw-bold mx-2 my-auto"},Sya={class:"d-flex justify-content-between"},Tya={class:"my-auto fw-light"},jya={class:"fw-bold mx-2 my-auto"},Oya={class:"d-flex justify-content-between"},Mya={class:"my-auto fw-light"},Lya={class:"fw-bold mx-2 my-auto"},Nya={class:"d-flex justify-content-between"},Fya={class:"my-auto fw-light"},Yya={class:"fw-bold text-success mx-2 my-auto"},Vya={class:"d-flex justify-content-between"},Bya={class:"my-auto fw-light"},Uya={class:"fw-bold mx-2 my-auto"},qya={class:"d-flex justify-content-between"},Hya={class:"my-auto fw-light"},zya={class:"fw-bold mx-2 my-auto"},Wya={class:"table-responsive"},Kya={class:"table"},Gya={class:"bg-label-primary"},Qya={class:"px-2"},Zya={class:"d-flex justify-content-end"},Jya={class:"mx-2 my-auto"},Xya={class:"text-success my-auto"},e0a={key:0,class:"px-2"},t0a={class:"mx-2 my-auto"},o0a={class:"text-success my-auto"},a0a={key:1,class:"px-2"},n0a={class:"d-flex justify-content-end"},s0a={class:"mx-2 my-auto"},l0a={class:"bg-label-secondary px-2"},i0a={class:"d-flex justify-content-end"},r0a={class:"mx-2 my-auto py-1"},d0a={class:"text-success my-auto py-1"},c0a=["id"],u0a={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},_0a={class:"modal-content"},m0a={class:"modal-header"},f0a={class:"modal-title",id:"modalCenterTitle"},h0a={class:"d-flex gap-1"},p0a=["data-bs-target"],v0a=["href"],g0a={class:"modal-body"},b0a={class:"d-flex justify-content-between mb-4"},y0a={class:"mb-3"},k0a={class:"d-flex justify-content-between"},$0a={class:"fw-light my-auto"},w0a={class:"fw-bold mx-2 my-auto"},D0a={class:"d-flex justify-content-between"},C0a={class:"fw-light my-auto"},x0a={class:"fw-bold mx-2 my-auto"},P0a={class:"d-flex justify-content-between"},E0a={class:"fw-light my-auto"},A0a={class:"fw-bold mx-2 my-auto"},I0a={class:"d-flex justify-content-between"},R0a={class:"fw-light my-auto"},S0a={class:"fw-bold mx-2 my-auto"},T0a={class:"d-flex justify-content-between"},j0a={class:"fw-light my-auto"},O0a={class:"fw-bold mx-2 my-auto"},M0a={key:0,class:"d-flex justify-content-between"},L0a={class:"fw-light my-auto"},N0a={class:"fw-bold mx-2 my-auto"},F0a={key:1,class:"d-flex justify-content-between"},Y0a={class:"fw-light my-auto"},V0a={class:"fw-bold mx-2 my-auto"},B0a={class:"mb-3"},U0a={key:0,class:"d-flex justify-content-between"},q0a={class:"my-auto fw-light"},H0a=["data-bs-target"],z0a={class:"d-flex justify-content-between"},W0a={class:"my-auto fw-light"},K0a={class:"fw-bold mx-2 my-auto"},G0a={class:"d-flex justify-content-between"},Q0a={class:"my-auto fw-light"},Z0a={class:"fw-bold mx-2 my-auto"},J0a={class:"d-flex justify-content-between"},X0a={class:"my-auto fw-light"},e2a={class:"fw-bold mx-2 my-auto"},t2a={class:"d-flex justify-content-between"},o2a={class:"my-auto fw-light"},a2a={class:"fw-bold mx-2 my-auto"},n2a={class:"d-flex justify-content-between"},s2a={class:"my-auto fw-light"},l2a={class:"fw-bold text-success mx-2 my-auto"},i2a={class:"d-flex justify-content-between"},r2a={class:"my-auto fw-light"},d2a={class:"fw-bold mx-2 my-auto"},c2a={class:"d-flex justify-content-between"},u2a={class:"my-auto fw-light"},_2a={class:"fw-bold mx-2 my-auto"},m2a={class:"table-responsive"},f2a={class:"table"},h2a={class:"bg-label-primary"},p2a={class:"px-2"},v2a={class:"d-flex justify-content-end"},g2a={class:"mx-2 my-auto"},b2a={class:"text-success my-auto"},y2a={key:0,class:"px-2"},k2a={class:"mx-2 my-auto"},$2a={class:"text-success my-auto"},w2a={key:1,class:"px-2"},D2a={class:"d-flex justify-content-end"},C2a={class:"mx-2 my-auto"},x2a={key:2,class:"px-2"},P2a={class:"mx-2 my-auto py-1"},E2a={key:0,class:"text-success my-auto py-1"},A2a={key:1,class:"text-success my-auto py-1"},I2a={key:3,class:"px-2"},R2a={class:"d-flex justify-content-end"},S2a={class:"mx-2 my-auto py-1"},T2a={class:"d-flex justify-content-end"},j2a={class:"mx-2 my-auto py-1"},O2a={class:"d-flex justify-content-end"},M2a={class:"mx-2 my-auto py-1"},L2a={class:"bg-label-secondary px-2"},N2a={class:"d-flex justify-content-end"},F2a={class:"mx-2 my-auto py-1"},Y2a={class:"text-success my-auto py-1"};function V2a(o,a,s,t,c,m){const _=de("pagination"),l=de("cbs-upload-attachment");return u(),f("div",nva,[e("div",sva,[e("h5",null,n(o.$t("CBS Transactions List")),1),e("div",lva,[e("button",{type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},onClick:a[0]||(a[0]=r=>t.downloadCreatedCbsTransactions()),title:"Download Created Transactions"},n(o.$t("Download Transctions")),1),t.can_upload?(u(),f("button",iva,n(o.$t("Upload Transactions")),1)):b("",!0),e("button",rva,n(o.$t("Initiate Transaction")),1),e("div",dva,[e("div",cva,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.submitNewTransactions&&t.submitNewTransactions(...r),["prevent"]))},[e("div",uva,[e("h5",_va,n(o.$t("New Transaction")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",mva,[e("div",fva,[e("div",hva,[e("label",pva,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.addCreditTo=r)},null,512),[[Q,t.addCreditTo]])]),e("div",vva,[e("label",gva,n(o.$t("Credit To Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.addCreditToName=r)},null,512),[[Q,t.addCreditToName]])]),e("div",bva,[e("label",yva,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.addDebitFrom=r)},null,512),[[Q,t.addDebitFrom]])]),e("div",kva,[e("label",$va,n(o.$t("Debit From Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=r=>t.addDebitFromName=r)},null,512),[[Q,t.addDebitFromName]])]),e("div",wva,[e("label",Dva,n(o.$t("Amount")),1),Y(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=r=>t.addAmount=r)},null,512),[[Q,t.addAmount]])]),e("div",Cva,[e("label",xva,n(o.$t("Transaction Reference")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.addTransactionReference=r)},null,512),[[Q,t.addTransactionReference]])]),e("div",Pva,[e("label",Eva,n(o.$t("Pay Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=r=>t.addPayDate=r)},null,512),[[Q,t.addPayDate]])]),e("div",Ava,[e("label",Iva,n(o.$t("Status")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[8]||(a[8]=r=>t.addStatus=r)},[e("option",Rva,n(o.$t("Successful")),1),e("option",Sva,n(o.$t("Created")),1),e("option",Tva,n(o.$t("Failed")),1),e("option",jva,n(o.$t("Permanently Failed")),1)],512),[[re,t.addStatus]])]),e("div",Ova,[e("label",Mva,n(o.$t("Transaction Type")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.addTransactionType=r)},[e("option",Lva,n(o.$t("Payment Disbursement")),1),e("option",Nva,n(o.$t("Fees/Charges")),1),e("option",Fva,n(o.$t("Discount Charge")),1),e("option",Yva,n(o.$t("Bank Invoice Payment")),1),e("option",Vva,n(o.$t("Repayment")),1),e("option",Bva,n(o.$t("Funds Transfer")),1),e("option",Uva,n(o.$t("OD Drawdown")),1)],512),[[re,t.addTransactionType]])])])]),e("div",qva,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_close},n(o.$t("Close")),9,Hva),e("button",{type:"submit",class:"btn btn-primary",disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing")),9,zva)])],32)])]),e("div",Wva,[e("div",Kva,[e("form",{class:"modal-content",method:"POST",onSubmit:a[12]||(a[12]=st((...r)=>t.submitTransactions&&t.submitTransactions(...r),["prevent"]))},[e("div",Gva,[e("h5",Qva,n(o.$t("Upload CBS Transactions")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Zva,[e("div",Jva,[(u(),f("input",{class:"form-control",id:"file-upload",name:"documents",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[11]||(a[11]=(...r)=>t.updatedFile&&t.updatedFile(...r)),key:t.selected_file},null,32))]),t.uploadErrors.length>0?(u(),f("div",Xva,[e("ul",null,[(u(!0),f(W,null,X(t.uploadErrors,r=>(u(),f("li",{key:r,class:"text-danger"},n(r),1))),128))])])):b("",!0),t.show_error_download_link?(u(),f("a",ega,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",tga,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_close},n(o.$t("Close")),9,oga),e("button",{type:"submit",class:"btn btn-primary",id:"upload-cbs-btn",disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing")),9,aga)])],32)])])])]),e("div",nga,[e("form",{onSubmit:a[21]||(a[21]=st((...r)=>t.filter&&t.filter(...r),["prevent"]))},[e("div",sga,[e("div",lga,[e("label",iga,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"CBS ID","onUpdate:modelValue":a[13]||(a[13]=r=>t.cbs_id_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.cbs_id_search]])]),e("div",rga,[e("label",dga,n(o.$t("Debit From/Credit To")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From/Credit To","onUpdate:modelValue":a[14]||(a[14]=r=>t.account_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.account_search]])]),e("div",cga,[e("label",uga,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[15]||(a[15]=r=>t.invoice_number_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",_ga,[e("label",mga,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"cbs-status-select","onUpdate:modelValue":a[16]||(a[16]=r=>t.status_search=r)},[e("option",fga,n(o.$t("Created")),1),e("option",hga,n(o.$t("Successful")),1),e("option",pga,n(o.$t("Permanently Failed")),1),e("option",vga,n(o.$t("Failed")),1)],512),[[re,t.status_search]])]),e("div",gga,[e("label",bga,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[17]||(a[17]=r=>t.product_type_search=r)},[e("option",yga,n(o.$t("Vendor Financing Receivable")),1),e("option",kga,n(o.$t("Factoring With Recourse")),1),e("option",$ga,n(o.$t("Factoring Without Recourse")),1),e("option",wga,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",Dga,[e("label",Cga,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[35]||(a[35]=e("input",{type:"text",id:"cbs_date_search",class:"form-control form-search",name:"cbs_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",xga,[e("label",Pga,n(o.$t("Date"))+" ("+n(o.$t("Transaction Date"))+")",1),a[36]||(a[36]=e("input",{type:"text",id:"cbs_transaction_date_search",class:"form-control form-search",name:"cbs_transaction_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Ega,[e("label",Aga,n(o.$t("Transaction Type")),1),Y(e("select",{class:"form-select select2",multiple:"",id:"transaction-type-select","onUpdate:modelValue":a[18]||(a[18]=r=>t.transaction_type=r)},[e("option",Iga,n(o.$t("Select Transaction Type")),1),e("option",Rga,n(o.$t("Balance DF Invoice Payment")),1),e("option",Sga,n(o.$t("Bank Invoice Payment")),1),e("option",Tga,n(o.$t("Discount Charge")),1),e("option",jga,n(o.$t("Fees/Charges")),1),e("option",Oga,n(o.$t("Funds Transfer")),1),e("option",Mga,n(o.$t("OD Account Debit")),1),e("option",Lga,n(o.$t("OD Drawdown")),1),e("option",Nga,n(o.$t("Overdue Account")),1),e("option",Fga,n(o.$t("Payment Disbursement")),1),e("option",Yga,n(o.$t("Platform Charges")),1),e("option",Vga,n(o.$t("Repayment")),1)],512),[[re,t.transaction_type]])]),e("div",Bga,[e("label",Uga,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[19]||(a[19]=r=>t.sort_by=r)},[e("option",qga,n(o.$t("Sort By")),1),e("option",Hga,n(o.$t("Ascending")),1),e("option",zga,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),a[38]||(a[38]=e("div",{class:"table-search-btn"},[e("button",{class:"btn btn-primary btn-md",type:"submit"},[e("i",{class:"ti ti-search"})])],-1)),e("div",Wga,[e("button",{class:"btn btn-primary btn-md",type:"button",onClick:a[20]||(a[20]=(...r)=>t.refresh&&t.refresh(...r))},a[37]||(a[37]=[e("i",{class:"ti ti-refresh"},null,-1)]))])])],32),e("div",Kga,[e("div",Gga,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[22]||(a[22]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[39]||(a[39]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Qga,[e("button",{type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},onClick:a[23]||(a[23]=r=>t.downloadCbsTransactions()),title:"Download Filtered Transactions"},[a[40]||(a[40]=e("i",{class:"ti ti-download ti-xs px-1 filtered"},null,-1)),le(" "+n(o.$t("Excel")),1)])])])]),t.transactions.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Zga,[e("table",Jga,[e("thead",null,[e("tr",Xga,[e("th",e1a,[e("div",t1a,[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"select-all",onChange:a[24]||(a[24]=r=>t.selectAll())},null,32)])]),e("th",o1a,n(o.$t("CBS ID")),1),e("th",a1a,n(o.$t("Debit From")),1),e("th",n1a,n(o.$t("Credit To")),1),e("th",s1a,n(o.$t("Amount")),1),e("th",l1a,n(o.$t("Invoice / Unique Ref No"))+".",1),e("th",i1a,n(o.$t("Pay Date")),1),e("th",r1a,n(o.$t("Transaction Date")),1),e("th",d1a,n(o.$t("Product Type")),1),e("th",c1a,n(o.$t("Transaction Type")),1),e("th",u1a,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[41]||(a[41]=e("th",null,null,-1))])]),e("tbody",_1a,[t.transactions.data?b("",!0):(u(),f("tr",m1a,[e("td",f1a,[e("span",h1a,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",p1a,[e("td",v1a,[e("span",g1a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.transactions.data,r=>(u(),f("tr",{key:r},[e("td",b1a,[e("div",y1a,[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"transaction-"+r.id,onChange:i=>t.updateSelected(r.id)},null,40,k1a)])]),e("td",$1a,[e("span",w1a,n(r.id),1)]),e("td",D1a,[e("span",null,n(r.debit_from_account),1)]),e("td",C1a,[e("span",null,n(r.credit_to_account),1)]),e("td",x1a,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.amount)),1),e("td",P1a,[r.payment_request&&r.payment_request.invoice_number?(u(),f("span",{key:0,class:"text-primary text-decoration-underline",onClick:i=>t.showInvoice(r.payment_request.invoice_id,"show-cbs-details-btn-"+r.payment_request.invoice_id)},n(r.payment_request.invoice_number),9,E1a)):(u(),f("span",A1a,"-"))]),r.pay_date?(u(),f("td",I1a,n(t.moment(r.pay_date).format(t.date_format)),1)):(u(),f("td",R1a,"-")),r.status=="Successful"?(u(),f("td",S1a,n(t.moment(r.transaction_date).format(t.date_format)),1)):(u(),f("td",T1a,"-")),e("td",j1a,n(r.product),1),e("td",O1a,n(r.transaction_type),1),e("td",M1a,[e("span",{class:rt(["badge me-1",t.resolvePaymentRequestStatus(r.status)])},n(r.status),3)]),e("td",null,[e("div",L1a,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+r.id,style:{cursor:"pointer"}},null,8,N1a),t.can_update&&r.status!="Successful"?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.showEditModal(r),"data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-"+r.id,style:{cursor:"pointer"}},null,8,F1a)):b("",!0)])]),e("td",null,[r.payment_request&&r.payment_request.invoice_number?(u(),f("button",{key:0,class:"d-none",id:"show-cbs-details-btn-"+r.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#cbs-invoice-"+r.payment_request.invoice_id},null,8,Y1a)):b("",!0),r.payment_request&&r.payment_request.invoice_number?(u(),f("button",{key:1,class:"d-none",id:"show-cbs-pi-btn-"+r.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#cbs-pi-"+r.payment_request.invoice_id},null,8,V1a)):b("",!0),a[61]||(a[61]=e("button",{class:"d-none",id:"cbs-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#cbs-loading-modal"},null,-1)),e("div",B1a,[e("div",U1a,[e("div",q1a,[e("div",H1a,[e("div",z1a,[e("span",null,n(o.$t("Loading"))+"...",1),a[42]||(a[42]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",K1a,[e("div",G1a,[e("div",Q1a,[e("h5",Z1a,n(o.$t("CBS Transaction")),1),a[43]||(a[43]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",J1a,[e("div",X1a,[e("table",eba,[e("thead",tba,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(r.transaction_date).format(t.date_format)),1),e("td",null,n(r.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(r.transaction_reference?r.transaction_reference:"-"),1),a[44]||(a[44]=e("td",null,"-",-1)),e("td",null,n(r.transaction_type),1)])])])])])])])],8,W1a),e("div",{class:"modal fade",id:"cbs-transactions-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",aba,[e("div",nba,[e("div",sba,[e("h5",lba,n(o.$t("Update CBS Transaction")),1),e("button",{id:"close-modal-"+r.id,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,iba)]),e("div",rba,[e("div",dba,[e("div",cba,[e("label",uba,[le(n(o.$t("Debit From"))+" ",1),a[45]||(a[45]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",_ba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=i=>t.updateDebitFrom=i)},null,512),[[Q,t.updateDebitFrom]])]),e("div",mba,[e("label",fba,n(o.$t("Debit From Account Name")),1)]),e("div",hba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[26]||(a[26]=i=>t.updateDebitFromAccountName=i)},null,512),[[Q,t.updateDebitFromAccountName]])]),e("div",pba,[e("label",vba,[le(n(o.$t("Credit To"))+" ",1),a[46]||(a[46]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",gba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[27]||(a[27]=i=>t.updateCreditTo=i)},null,512),[[Q,t.updateCreditTo]])]),e("div",bba,[e("label",yba,n(o.$t("Credit To Account Name")),1)]),e("div",kba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[28]||(a[28]=i=>t.updateCreditToAccountName=i)},null,512),[[Q,t.updateCreditToAccountName]])]),e("div",$ba,[e("label",wba,[le(n(o.$t("Status"))+" ",1),a[47]||(a[47]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",Dba,[Y(e("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":a[29]||(a[29]=i=>t.updateStatus=i)},[(u(!0),f(W,null,X(t.cbs_transaction_statuses,i=>(u(),f("option",{key:i,selected:r.status==i,value:i},n(i),9,Cba))),128))],512),[[re,t.updateStatus]])]),t.updateStatus=="Successful"?(u(),f("div",xba,[e("label",Pba,[le(n(o.$t("Transaction Ref"))+" ",1),a[48]||(a[48]=e("span",{class:"text-danger text-lg"},"*",-1))])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",Eba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[30]||(a[30]=i=>t.addTransactionReference=i),required:t.updateStatus==="Successful"},null,8,Aba),[[Q,t.addTransactionReference]])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",Iba,[e("label",Rba,[le(n(o.$t("Paid Date"))+" ",1),a[49]||(a[49]=e("span",{class:"text-danger text-lg"},"*",-1))])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",Sba,[Y(e("input",{type:"date",class:"form-control",min:r.payment_request?t.moment(r.payment_request.invoice_created_at).format("YYYY-MM-DD"):"","onUpdate:modelValue":a[31]||(a[31]=i=>t.addPayDate=i),required:t.updateStatus==="Successful"},null,8,Tba),[[Q,t.addPayDate]])])):b("",!0),e("div",jba,[e("label",Oba,n(o.$t("Transaction Type")),1)]),e("div",Mba,[e("input",{type:"text",value:r.transaction_type,class:"form-control",readonly:""},null,8,Lba)]),e("div",Nba,[e("label",Fba,n(o.$t("Product Type")),1)]),e("div",Yba,[e("input",{type:"text",value:r.product,class:"form-control",readonly:""},null,8,Vba)])])]),e("div",Bba,[e("button",{class:"btn btn-primary",onClick:a[32]||(a[32]=(...i)=>t.updateTransactionStatus&&t.updateTransactionStatus(...i)),disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing...")),9,Uba)])])])],8,oba),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cbs-invoice-"+r.payment_request.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",Hba,[e("div",zba,[e("div",Wba,[e("h5",Kba,n(o.$t("Invoice Details")),1),a[52]||(a[52]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Gba,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#cbs-add-attachment-"+t.invoice_details.id},[a[50]||(a[50]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,Qba)]),e("a",{href:"/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[51]||(a[51]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Zba)])]),e("div",Jba,[e("div",Xba,[e("div",eya,[e("span",tya,[e("h5",oya,n(o.$t("Anchor"))+":",1),e("h6",aya,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",nya,[e("h5",sya,n(o.$t("Delivery Address"))+":",1),e("h6",lya,n(t.invoice_details.delivery_address),1)]),e("span",iya,[e("h5",rya,n(o.$t("Debit From"))+":",1),e("h6",dya,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",cya,[e("h5",uya,n(o.$t("Vendor"))+":",1),e("h6",_ya,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",mya,[e("h5",fya,n(o.$t("Remarks"))+":",1),e("h6",hya,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",pya,[e("h5",vya,n(o.$t("Credit To"))+":",1),e("h6",gya,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",bya,[e("h5",yya,n(o.$t("Rejection Reason"))+":",1),e("h6",kya,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",$ya,[t.invoice_details.pi_number?(u(),f("span",wya,[e("h5",Dya,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cbs-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Cya)])):b("",!0),e("span",xya,[e("h5",Pya,n(o.$t("Invoice No."))+":",1),e("h6",Eya,n(t.invoice_details.invoice_number),1)]),e("span",Aya,[e("h5",Iya,n(o.$t("PO No."))+":",1),e("h6",Rya,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Sya,[e("h5",Tya,n(o.$t("Payment / OD Account No."))+":",1),e("h6",jya,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Oya,[e("h5",Mya,n(o.$t("Invoice Date."))+":",1),e("h6",Lya,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Nya,[e("h5",Fya,n(o.$t("Amount"))+":",1),e("h6",Yya,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Vya,[e("h5",Bya,n(o.$t("Status."))+":",1),e("h6",Uya,n(t.invoice_details.approval_stage),1)]),e("span",qya,[e("h5",Hya,n(o.$t("Due Date"))+":",1),e("h6",zya,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Wya,[e("table",Kya,[e("thead",Gya,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",Qya,[e("span",Zya,[e("h6",Jya,n(o.$t("Discount"))+":",1),e("h5",Xya,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",e0a,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",t0a,n(i.name),1),e("h5",o0a,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",a0a,[e("span",n0a,[e("h6",s0a,n(o.$t("Tax")),1),a[53]||(a[53]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",l0a,[e("span",i0a,[e("h6",r0a,n(o.$t("Total")),1),e("h5",d0a,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,qba)):b("",!0),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cbs-pi-"+r.payment_request.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",u0a,[e("div",_0a,[e("div",m0a,[e("h5",f0a,n(o.$t("Invoice Details")),1),a[56]||(a[56]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",h0a,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#cbs-add-attachment-"+t.invoice_details.id},[a[54]||(a[54]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,p0a)]),e("a",{href:"/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[55]||(a[55]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,v0a)])]),e("div",g0a,[e("div",b0a,[e("div",y0a,[e("span",k0a,[e("h5",$0a,n(o.$t("Anchor"))+":",1),e("h6",w0a,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",D0a,[e("h5",C0a,n(o.$t("Delivery Address"))+":",1),e("h6",x0a,n(t.invoice_details.delivery_address),1)]),e("span",P0a,[e("h5",E0a,n(o.$t("Debit From"))+":",1),e("h6",A0a,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",I0a,[e("h5",R0a,n(o.$t("Vendor"))+":",1),e("h6",S0a,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",T0a,[e("h5",j0a,n(o.$t("Remarks"))+":",1),e("h6",O0a,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",M0a,[e("h5",L0a,n(o.$t("Credit To"))+":",1),e("h6",N0a,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",F0a,[e("h5",Y0a,n(o.$t("Rejection Reason"))+":",1),e("h6",V0a,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",B0a,[t.invoice_details.pi_number?(u(),f("span",U0a,[e("h5",q0a,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cbs-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,H0a)])):b("",!0),e("span",z0a,[e("h5",W0a,n(o.$t("PI No."))+":",1),e("h6",K0a,n(t.invoice_details.pi_number),1)]),e("span",G0a,[e("h5",Q0a,n(o.$t("PO No."))+":",1),e("h6",Z0a,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",J0a,[e("h5",X0a,n(o.$t("Payment / OD Account No."))+":",1),e("h6",e2a,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",t2a,[e("h5",o2a,n(o.$t("Invoice Date."))+":",1),e("h6",a2a,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",n2a,[e("h5",s2a,n(o.$t("Amount"))+":",1),e("h6",l2a,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",i2a,[e("h5",r2a,n(o.$t("Status."))+":",1),e("h6",d2a,n(t.invoice_details.approval_stage),1)]),e("span",c2a,[e("h5",u2a,n(o.$t("Due Date"))+":",1),e("h6",_2a,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",m2a,[e("table",f2a,[e("thead",h2a,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",p2a,[e("span",v2a,[e("h6",g2a,n(o.$t("Discount"))+":",1),e("h5",b2a,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",y2a,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",k2a,n(i.name),1),e("h5",$2a,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",w2a,[e("span",D2a,[e("h6",C2a,n(o.$t("Tax")),1),a[57]||(a[57]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",x2a,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",P2a,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",E2a," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",A2a,n(i.amount),1))]))),128))])):(u(),f("div",I2a,[e("span",R2a,[e("h6",S2a,n(o.$t("WHT Tax"))+":",1),a[58]||(a[58]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",T2a,[e("h6",j2a,n(o.$t("WHT VAT"))+":",1),a[59]||(a[59]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",O2a,[e("h6",M2a,n(o.$t("Credit Note Amount"))+":",1),a[60]||(a[60]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",L2a,[e("span",N2a,[e("h6",F2a,n(o.$t("Total")),1),e("h5",Y2a,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,c0a)):b("",!0),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),fe(l,{invoiceDetails:t.invoice_details,key:t.upload_attachment_key},null,8,["invoiceDetails"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const DD=Ue(ava,[["render",V2a]]),B2a={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=h([]),c=o.can_add,m=h([]),_=h(null),l=h(null),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),D=h([]),y=h(["request_auto_finance","auto_debit_anchor_for_financed_invoices","auto_debit_anchor_for_non_financed_invoices","anchor_can_change_due_date","anchor_can_change_payment_term","mandatory_invoice_attachement"]),C=h(50),x=async()=>{await A.get("programs/data",{params:{per_page:C.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(Z=>{t.value=Z.data.data}).catch(Z=>{console.log(Z)})};Qe(()=>{x()});const E=()=>{v.value=[],document.getElementById("select-all").checked?t.value.data.forEach(Z=>{Z.can_activate&&Z.account_status=="suspended"&&(document.getElementById("data-select-"+Z.id).checked=!0,v.value.push(Z.id))}):t.value.data.forEach(Z=>{if(Z.can_activate&&Z.account_status=="suspended"){document.getElementById("data-select-"+Z.id).checked=!1;let ce;if(!v.value.filter(function(J,z){ce=z,J==Z.id}))return!1;v.value.splice(ce,1)}})},k=Z=>{if(v.value.includes(Z)){const ce=v.value.indexOf(Z);v.value.splice(ce,1)}else v.value.push(Z)},w=Z=>{if(v.value.length<=0){s.error("Select programs");return}const ce=new FormData;Z=="approve"&&(v.value.forEach(ae=>{ce.append("programs[]",ae)}),ce.append("status","active")),A.post(a+o.bank+"/programs/update/status",ce).then(()=>{s.success("Programs updated"),g.value="",x(),document.getElementById("approve-programs-close").click()}).catch(ae=>{console.log(ae),s.error("An error occurred")})},T=Z=>{A.delete(a+o.bank+"/programs/"+Z+"/delete").then(ce=>{s.success(ce.data.message),document.getElementById("delete-program-close-"+Z).click(),x()}).catch(ce=>{s.error(ce.response.data.message)})},V=Z=>{A.get(a+o.bank+"/programs/"+Z+"/delete/cancel").then(ce=>{s.success(ce.data.message),document.getElementById("delete-program-close-"+Z).click(),x()}).catch(ce=>{s.error(ce.response.data.message)})},B=Z=>{switch(Z){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},O=Z=>parseFloat(Z).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),L=(Z,ce)=>{if(ce=="active"&&H().isAfter(Z.limit_expiry_date)){s.error("Update the limit expiry date to activate program");return}A.get(`programs/${Z.id}/update/status/${ce}`).then(()=>{x(),s.success("Program status updated")}).catch(ae=>{s.error(ae.response.data.message),console.log(ae)})},R=(Z,ce)=>{A.get(`programs/${Z}/status/${ce}/update`).then(()=>{x(),s.success("Program approval status updated"),document.getElementById("update-approve-status-close"+Z).click(),document.getElementById("update-reject-status-close"+Z).click()}).catch(ae=>{s.error(ae.response.data.message),console.log(ae)})};return ot(g,Z=>{v.value.length>0?(m.value=[],Z=="approve"&&(v.value.forEach(ce=>{m.value.push(t.value.data.filter(ae=>ae.id==ce)[0])}),l.value.click())):s.error("Select Programs")}),{can_add:c,moment:H,programs:t,program_name_search:r,anchor_search:i,status_search:d,type_search:p,per_page:C,selected_data:v,selectAll:E,updateSelected:k,deleteProgram:T,submitBulkAction:w,filter:async()=>{let Z=$(".ti-search").parent();Z.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:C.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(ce=>{t.value=ce.data.data}).catch(ce=>{console.log(ce)}).finally(()=>{Z.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let Z=$(".ti-refresh").parent();Z.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",p.value="",await A.get("programs/data",{params:{per_page:C.value}}).then(ce=>{t.value=ce.data.data}).catch(ce=>{console.log(ce)}).finally(()=>{Z.html('<i class="ti ti-refresh"></i>')})},bulk_action:g,showRejectionModal:_,showApprovalModal:l,program_ids:D,boolean_columns:y,resolveProgramStatus:B,NumFormatter:O,updateActiveStatus:L,updateApprovalStatus:R,changePage:async Z=>{await A.get(Z,{params:{per_page:C.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(ce=>{t.value=ce.data.data})},approveChange:(Z,ce)=>{A.post("programs/"+Z+"/updates/"+ce+"/approve",{program_id:D.value}).then(()=>{ce=="approve"?s.success("Program changes have been applied"):s.success("Program changes have been discarded"),document.getElementById("changes-details-close-"+Z).click(),x()})},addVendorConfigurations:Z=>{D.value=[],Object.values(Z.vendor_configurations).forEach(ce=>{D.value.push(ce.id)})},cancelDeleteProgram:V,exportPrograms:()=>{A.get("programs/data/export",{responseType:"arraybuffer",method:"GET",params:{name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(Z=>{const ce=window.URL.createObjectURL(new Blob([Z.data])),ae=document.createElement("a");ae.href=ce,ae.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(ae),ae.click()}).catch(Z=>{console.log(Z)})}}}},U2a={class:"p-2 d-flex justify-content-between"},q2a={class:"d-flex flex-wrap gap-1"},H2a={class:""},z2a={for:"Name",class:"form-label"},W2a=["placeholder"],K2a={class:""},G2a={for:"Anchor",class:"form-label"},Q2a=["placeholder"],Z2a={class:""},J2a={for:"Status",class:"form-label"},X2a={value:""},eka={value:"pending"},tka={value:"active"},oka={value:"suspended"},aka={class:""},nka={for:"Program Type",class:"form-label"},ska={value:""},lka={value:"Vendor Financing"},ika={value:"Dealer Financing"},rka={class:""},dka={for:"Bulk Actions",class:"form-label"},cka={value:""},uka={value:"approve"},_ka={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},mka={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},fka={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},hka={class:"modal-content"},pka={class:"modal-header"},vka={class:"modal-title",id:"modalCenterTitle"},gka={class:"modal-body"},bka={class:"modal-footer"},yka={class:"btn btn-primary",type:"submit"},kka={class:"table-search-btn"},$ka={class:"table-clear-btn"},wka={class:"d-flex justify-content-end gap-1 mt-auto"},Dka={class:""},Cka={key:0,href:"programs/create",class:"btn btn-primary btn-md text-nowrap"},xka={class:"table-responsive"},Pka={class:"table"},Eka={class:""},Aka={class:"form-check"},Ika={class:"table-border-bottom-0"},Rka={key:0},Ska={colspan:"12",class:"text-center"},Tka={class:"text-center"},jka={key:1},Oka={colspan:"12",class:"text-center"},Mka={class:"text-center"},Lka={class:"form-check"},Nka=["id","onChange"],Fka={class:"text-primary"},Yka={class:"d-flex"},Vka={key:0},Bka=["href"],Uka={key:1},qka={key:1},Hka=["href"],zka={key:1},Wka=["title"],Kka=["title"],Gka=["title"],Qka=["title"],Zka={key:6,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Deletion Awaiting Approval"},Jka={class:"text-primary text-decoration-underline"},Xka=["href"],e$a={key:1},t$a={class:""},o$a={class:"text-success"},a$a={class:"text-success"},n$a={class:"text-success"},s$a={class:""},l$a={class:"d-flex gap-1"},i$a=["href","title"],r$a=["href","title"],d$a=["title","data-bs-target","onClick"],c$a=["title","data-bs-target","onClick"],u$a=["title","data-bs-target","onClick"],_$a={key:5,class:"d-flex"},m$a=["href","title"],f$a=["href","title"],h$a={key:6,class:"d-flex gap-1"},p$a=["href","title"],v$a=["title","onClick"],g$a=["title","onClick"],b$a=["title","data-bs-target"],y$a=["id"],k$a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},$$a={class:"modal-content"},w$a={class:"modal-header"},D$a={class:"modal-title",id:"modalCenterTitle"},C$a=["id"],x$a={class:"modal-body"},P$a={class:"row mb-1"},E$a={class:"text-wrap"},A$a={class:"modal-footer"},I$a=["onClick"],R$a=["data-bs-target"],S$a=["id"],T$a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},j$a={class:"modal-content"},O$a={class:"modal-header"},M$a={class:"modal-title",id:"modalCenterTitle"},L$a=["id"],N$a={class:"modal-body"},F$a={class:"row mb-1"},Y$a={class:"text-wrap"},V$a={class:"modal-footer"},B$a=["onClick"],U$a=["data-bs-target"],q$a=["id"],H$a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},z$a={class:"modal-content"},W$a={class:"modal-header"},K$a={class:"modal-title",id:"modalCenterTitle"},G$a=["id"],Q$a={class:"modal-body"},Z$a={class:"row mb-1"},J$a={class:"text-wrap"},X$a={class:"modal-footer"},ewa={class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal"},twa=["onClick"],owa=["onClick"],awa=["id"],nwa={class:"modal-dialog"},swa={class:"modal-content"},lwa={class:"modal-header"},iwa=["id"],rwa={class:"modal-body"},dwa={key:0},cwa={class:"mb-0"},uwa={key:0,class:"col-12"},_wa={class:"change_title"},mwa={class:"mx-2"},fwa={key:1,class:"col-12"},hwa={class:"change_title"},pwa={key:0,class:"mx-2"},vwa={key:1,class:"mx-2"},gwa={key:1},bwa={class:"mb-0"},ywa={class:"col-12"},kwa={class:"change_title"},$wa={class:"mx-2"},wwa={key:2},Dwa={class:"mb-0"},Cwa={key:0,class:"col-12"},xwa={class:"change_title"},Pwa={class:"mx-2"},Ewa={key:1,class:"col-12"},Awa={class:""},Iwa={key:3},Rwa={class:"mb-0"},Swa={class:"change_title"},Twa={class:"mx-2"},jwa={key:4},Owa={class:"mb-0"},Mwa={key:0,class:"col-6"},Lwa={key:0},Nwa={class:"change_title"},Fwa={key:1,class:"mx-2"},Ywa={key:1,class:"col-6"},Vwa={class:""},Bwa={key:5},Uwa={class:"mb-0"},qwa={class:"col-12"},Hwa={class:"form-check"},zwa=["value"],Wwa=["for"],Kwa={key:0,class:"modal-footer"},Gwa=["onClick"],Qwa=["onClick"],Zwa=["id"],Jwa={class:"modal-dialog"},Xwa={class:"modal-content"},e5a={class:"modal-header"},t5a=["id"],o5a={class:"modal-body"},a5a={class:"modal-footer"},n5a=["title","data-bs-target"],s5a=["data-bs-target"];function l5a(o,a,s,t,c,m){const _=de("pagination");return u(),f(W,null,[e("div",U2a,[e("div",q2a,[e("div",H2a,[e("label",z2a,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:o.$t("Program Name"),"aria-describedby":"defaultFormControlHelp"},null,40,W2a),[[Q,t.program_name_search]])]),e("div",K2a,[e("label",G2a,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.anchor_search=l),placeholder:o.$t("Anchor"),"aria-describedby":"defaultFormControlHelp"},null,40,Q2a),[[Q,t.anchor_search]])]),e("div",Z2a,[e("label",J2a,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",X2a,n(o.$t("Status")),1),e("option",eka,n(o.$t("Pending")),1),e("option",tka,n(o.$t("Active")),1),e("option",oka,n(o.$t("Suspended")),1)],512),[[re,t.status_search]])]),e("div",aka,[e("label",nka,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.type_search=l)},[e("option",ska,n(o.$t("Program Type")),1),e("option",lka,n(o.$t("Vendor Financing")),1),e("option",ika,n(o.$t("Dealer Financing")),1)],512),[[re,t.type_search]])]),e("div",rka,[e("label",dka,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[6]||(a[6]=l=>t.bulk_action=l)},[e("option",cka,n(o.$t("Bulk Actions")),1),e("option",uka,n(o.$t("Approve")),1)],512),[[re,t.bulk_action]])]),e("button",_ka,null,512),e("div",mka,[e("div",fka,[e("div",hka,[e("div",pka,[e("h5",vka,n(o.$t("Approve Programs")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"approve-programs-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",gka,[e("h5",null,n(o.$t("Are you sure you want to approve the selected programs?")),1)]),e("div",bka,[e("button",yka,n(o.$t("Submit")),1)])],32)])])]),e("div",kka,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$ka,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wka,[e("div",Dka,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=l=>t.per_page=l),style:{width:"5rem"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...l)=>t.exportPrograms&&t.exportPrograms(...l))},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs"},null,-1)),le(" "+n(o.$t("Excel")),1)]),t.can_add?(u(),f("a",Cka,n(o.$t("Add Program")),1)):b("",!0)])]),t.programs.meta?(u(),fe(_,{key:0,class:"px-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",xka,[e("table",Pka,[e("thead",null,[e("tr",Eka,[e("th",null,[e("div",Aka,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Ika,[t.programs.data?b("",!0):(u(),f("tr",Rka,[e("td",Ska,[e("span",Tka,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",jka,[e("td",Oka,[e("span",Mka,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("div",Lka,[l.can_approve&&(l.status==="pending"||l.status==="rejected")&&!l.proposed_update?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Nka)):b("",!0)])]),e("td",Fka,[e("div",Yka,[l.proposed_update||l.deleted_at||l.mapping_changes_count>0||l.status==="pending"?(u(),f("span",Vka,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,Bka)):(u(),f("span",Uka,n(l.name),1))])):(u(),f("span",qka,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,Hka)):(u(),f("span",zka,n(l.name),1))])),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-warning",title:o.$t("Program Limit is almost depleted")},null,8,Wka)):b("",!0),l.proposed_update?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,Kka)):b("",!0),l.mapping_changes_count>0?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Mapping Creation/Updation awating approval")},null,8,Gka)):b("",!0),l.status=="pending"?(u(),f("i",{key:5,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,Qka)):b("",!0),l.deleted_at?(u(),f("i",Zka)):b("",!0)])]),e("td",Jka,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,Xka)):(u(),f("span",e$a,n(l.anchor.name),1))]),e("td",t$a,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"DF"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",o$a,n(new Intl.NumberFormat().format(l.program_limit)),1),e("td",a$a,n(new Intl.NumberFormat().format(l.utilized.toFixed(2))),1),e("td",n$a,n(new Intl.NumberFormat().format(l.pipeline.toFixed(2))),1),e("td",s$a,[e("div",l$a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"",title:o.$t("View Program Details")},a[19]||(a[19]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,i$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"",title:o.$t("Edit Program")},a[20]||(a[20]=[e("i",{class:"ti ti-pencil ti-sm text-warning"},null,-1)]),8,r$a)):b("",!0),l.account_status=="suspended"&&l.status=="rejected"&&l.proposed_update&&l.can_view?(u(),f("i",{key:2,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,d$a)):b("",!0),l.account_status=="active"&&(l.status=="active"||l.proposed_update)&&l.can_view?(u(),f("i",{key:3,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,c$a)):b("",!0),l.account_status=="suspended"&&!l.proposed_update&&l.can_view?(u(),f("i",{key:4,class:"ti ti-clock ti-sm text-primary",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#new-program-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,u$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Vendor Financing"?(u(),f("div",_$a,[l.program_code.name=="Vendor Financing Receivable"?(u(),f("a",{key:0,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Vendors")},a[21]||(a[21]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,m$a)):(u(),f("a",{key:1,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Buyers")},a[22]||(a[22]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,f$a))])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Dealer Financing"?(u(),f("div",h$a,[e("a",{href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Dealers")},a[23]||(a[23]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,p$a)])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="active"&&l.utilized==0&&l.pipeline==0?(u(),f("i",{key:7,class:"ti ti-thumb-up ti-sm text-success my-auto",title:o.$t("Click to Suspend Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"suspended")},null,8,v$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="suspended"?(u(),f("i",{key:8,class:"ti ti-thumb-down ti-sm text-danger my-auto",title:o.$t("Click to Activate Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"active")},null,8,g$a)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:9,class:"ti ti-check ti-sm text-success my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#approve-program-"+l.id},null,8,b$a)):b("",!0),e("div",{class:"modal fade",id:"approve-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",k$a,[e("div",$$a,[e("div",w$a,[e("h5",D$a,n(o.$t("Approve Program")),1),e("button",{type:"button",class:"btn-close",id:"update-approve-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,C$a)]),e("div",x$a,[e("div",P$a,[e("h5",E$a,n(o.$t("Are you sure you want to approve the program?")),1)])]),e("div",A$a,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approved")},n(o.$t("Confirm")),9,I$a)])])])],8,y$a),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:10,class:"ti ti-circle-x ti-sm text-danger my-auto",title:"Click to Reject Program",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#reject-program-"+l.id},null,8,R$a)):b("",!0),e("div",{class:"modal fade",id:"reject-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",T$a,[e("div",j$a,[e("div",O$a,[e("h5",M$a,n(o.$t("Reject Program")),1),e("button",{type:"button",class:"btn-close",id:"update-reject-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,L$a)]),e("div",N$a,[e("div",F$a,[e("h5",Y$a,n(o.$t("Are you sure you want to reject the program"))+"?",1)])]),e("div",V$a,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"rejected")},n(o.$t("Confirm")),9,B$a)])])])],8,S$a),l.can_delete?(u(),f("i",{key:11,class:"ti ti-trash ti-sm text-danger my-auto",title:"Click to Delete Program",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#delete-program-"+l.id},null,8,U$a)):b("",!0),e("div",{class:"modal fade",id:"delete-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",H$a,[e("div",z$a,[e("div",W$a,[e("h5",K$a,n(o.$t("Delete Program")),1),e("button",{type:"button",class:"btn-close",id:"delete-program-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,G$a)]),e("div",Q$a,[e("div",Z$a,[e("h5",J$a,n(o.$t("Are you sure you want to delete the program? This action cannot be undone.")),1)])]),e("div",X$a,[e("button",ewa,n(o.$t("Cancel")),1),l.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>t.cancelDeleteProgram(l.id)},n(o.$t("Cancel Deletion")),9,twa)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>t.deleteProgram(l.id)},n(o.$t("Delete")),9,owa)])])])],8,q$a)]),l.proposed_update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"changes-details-"+l.id,tabindex:"-1"},[e("div",nwa,[e("div",swa,[e("div",lwa,[e("h5",null,n(o.$t("Program Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"changes-details-close-"+l.id,"aria-label":"Close"},null,8,iwa)]),e("div",rwa,[l.details_changes?(u(),f("div",dwa,[e("h4",cwa,n(o.$t("General Details")),1),(u(!0),f(W,null,X(Object.keys(l.details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[t.boolean_columns.includes(r)?b("",!0):(u(),f("div",uwa,[e("span",null,[e("strong",_wa,n(r.replaceAll("_"," "))+":",1)]),e("span",mwa,n(Object.values(l.details_changes)[i]),1)])),t.boolean_columns.includes(r)?(u(),f("div",fwa,[e("span",null,[e("strong",hwa,n(r.replaceAll("_"," "))+":",1)]),Object.values(l.details_changes)[i]==0?(u(),f("span",pwa,n(o.$t("From Yes to No")),1)):b("",!0),Object.values(l.details_changes)[i]==1?(u(),f("span",vwa,n(o.$t("From No to Yes")),1)):b("",!0)])):b("",!0)]))),128)),a[24]||(a[24]=e("hr",null,null,-1))])):b("",!0),l.discount_details_changes?(u(),f("div",gwa,[e("h4",bwa,n(o.$t("Discount Details")),1),(u(!0),f(W,null,X(Object.keys(l.discount_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",ywa,[e("span",null,[e("strong",kwa,n(r.replaceAll("_"," "))+":",1)]),e("span",$wa,n(Object.values(l.discount_details_changes)[i]),1)])]))),128)),a[25]||(a[25]=e("hr",null,null,-1))])):b("",!0),l.fees_details_changes?(u(),f("div",wwa,[e("h4",Dwa,n(o.$t("Fee Details")),1),(u(!0),f(W,null,X(l.fees_details_changes,r=>(u(),f(W,{key:r},[(u(!0),f(W,null,X(Object.keys(r),(i,d)=>(u(),f("div",{class:"row",key:i},[i!="deleted_at"?(u(),f("div",Cwa,[e("span",null,[e("strong",xwa,n(i.replaceAll("_"," "))+":",1)]),e("span",Pwa,n(Object.values(r)[d]),1)])):(u(),f("div",Ewa,[e("span",Awa,n(o.$t("Delete Fee")),1)]))]))),128))],64))),128)),a[26]||(a[26]=e("hr",null,null,-1))])):b("",!0),l.dealer_discount_details_rates?(u(),f("div",Iwa,[e("h4",Rwa,n(o.$t("Dealer Discount Rates")),1),(u(!0),f(W,null,X(l.dealer_discount_details_rates,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("div",{class:"col-12",key:d},[e("span",null,[e("strong",Swa,n(p.replaceAll("_"," "))+":",1)]),e("span",Twa,n(d),1)]))),128))]))),128)),a[27]||(a[27]=e("hr",null,null,-1))])):b("",!0),l.bank_details_changes?(u(),f("div",jwa,[e("h4",Owa,n(o.$t("Bank Details")),1),(u(!0),f(W,null,X(l.bank_details_changes,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("div",{class:"col-6",key:d},[p!="deleted_at"?(u(),f("div",Mwa,[p!="program_id"?(u(),f("span",Lwa,[e("strong",Nwa,n(p.replaceAll("_"," "))+":",1)])):b("",!0),p!="program_id"?(u(),f("span",Fwa,n(d),1)):b("",!0)])):(u(),f("div",Ywa,[e("span",Vwa,[e("strong",null,n(o.$t("Delete Bank Details")),1)])]))]))),128))]))),128)),a[28]||(a[28]=e("hr",null,null,-1))])):b("",!0),(l.fees_details_changes||l.discount_details_changes||l.dealer_discount_details_rates)&&l.vendor_configurations?(u(),f("div",Bwa,[e("h4",Uwa,n(o.$t("Select Mappings where changes will apply"))+":",1),(u(!0),f(W,null,X(Object.keys(l.vendor_configurations),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",qwa,[e("div",Hwa,[Y(e("input",{class:"form-check-input border-primary","onUpdate:modelValue":a[13]||(a[13]=d=>t.program_ids=d),type:"checkbox",value:Object.values(l.vendor_configurations)[i].id},null,8,zwa),[[Yo,t.program_ids]]),e("label",{for:Object.values(l.vendor_configurations)[i].id,class:"form-label"},n(Object.values(l.vendor_configurations)[i].buyer?Object.values(l.vendor_configurations)[i].buyer.name:Object.values(l.vendor_configurations)[i].company.name)+"("+n(Object.values(l.vendor_configurations)[i].payment_account_number)+")",9,Wwa)])])]))),128)),a[29]||(a[29]=e("hr",null,null,-1))])):b("",!0)]),l.can_approve_changes?(u(),f("div",Kwa,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveChange(l.id,"reject")},n(o.$t("Reject")),9,Gwa),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveChange(l.id,"approve")},n(o.$t("Approve")),9,Qwa)])):b("",!0)])])],8,awa)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"new-program-"+l.id,tabindex:"-1"},[e("div",Jwa,[e("div",Xwa,[e("div",e5a,[e("h5",null,n(o.$t("New Program")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"new-program-close-"+l.id,"aria-label":"Close"},null,8,t5a)]),e("div",o5a,[e("span",null,n(o.$t("New Program Awaiting Approval")),1)]),e("div",a5a,[l.can_approve&&!l.deleted_at&&(l.status=="pending"||l.status=="rejected")?(u(),f("button",{key:0,class:"btn btn-sm btn-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-program-"+l.id},n(o.$t("Approve")),9,n5a)):b("",!0),l.can_approve&&!l.deleted_at&&(l.status=="pending"||l.status=="rejected")?(u(),f("button",{key:1,class:"btn btn-sm btn-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-program-"+l.id},n(o.$t("Reject")),9,s5a)):b("",!0)])])])],8,Zwa)])]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,class:"px-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)],64)}const i5a=Ue(B2a,[["render",l5a],["__scopeId","data-v-8ee4aaa7"]]),r5a={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=h([]),c=o.can_add,m=h([]),_=h(null),l=h(null),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),D=h(50),y=async()=>{await A.get("programs/pending/data?per_page="+D.value).then(R=>{t.value=R.data.data}).catch(R=>{console.log(R)})};Qe(()=>{y()});const C=()=>{v.value=[],document.getElementById("select-all").checked?t.value.data.forEach(R=>{R.can_activate&&R.account_status=="suspended"&&(document.getElementById("data-select-"+R.id).checked=!0,v.value.push(R.id))}):t.value.data.forEach(R=>{if(R.can_activate&&R.account_status=="suspended"){document.getElementById("data-select-"+R.id).checked=!1;let P;if(!v.value.filter(function(S,F){P=F,S==R.id}))return!1;v.value.splice(P,1)}})},x=R=>{if(v.value.includes(R)){const P=v.value.indexOf(R);v.value.splice(P,1)}else v.value.push(R)},E=R=>{if(v.value.length<=0){s.error("Select programs");return}const P=new FormData;R=="approve"&&(v.value.forEach(I=>{P.append("programs[]",I)}),P.append("status","active")),A.post(a+o.bank+"/programs/update/status",P).then(()=>{s.success("Programs updated"),g.value="",y(),document.getElementById("approve-programs-close").click()}).catch(I=>{console.log(I),s.error("An error occurred")})},k=R=>{switch(R){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},w=R=>parseFloat(R).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),T=(R,P)=>{A.get(`programs/${R}/update/status/${P}`).then(()=>{y(),s.success("Program status updated")}).catch(I=>{console.log(I)})},V=(R,P)=>{A.get(`programs/${R}/status/${P}/update`).then(()=>{y(),s.success("Program approval status updated"),document.getElementById("pending-update-approve-status-close"+R).click(),document.getElementById("pending-update-reject-status-close"+R).click()}).catch(I=>{s.error(I.response.data.message),console.log(I)})};return ot([D],async([R])=>{await A.get("programs/data",{params:{per_page:R,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)})}),ot(g,R=>{v.value.length>0?(m.value=[],R=="approve"&&(v.value.forEach(P=>{m.value.push(t.value.data.filter(I=>I.id==P)[0])}),l.value.click())):s.error("Select Programs")}),{can_add:c,moment:H,programs:t,program_name_search:r,anchor_search:i,status_search:d,type_search:p,per_page:D,selected_data:v,filter:async()=>{let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:D.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",p.value="",await A.get("programs/data",{params:{per_page:D.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},selectAll:C,updateSelected:x,submitBulkAction:E,bulk_action:g,showRejectionModal:_,showApprovalModal:l,resolveProgramStatus:k,NumFormatter:w,updateActiveStatus:T,updateApprovalStatus:V,changePage:async R=>{await A.get(R,{params:{per_page:D.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data})}}}},d5a={class:"p-1"},c5a={class:"d-flex justify-content-between"},u5a={class:"d-flex flex-wrap gap-1"},_5a={class:""},m5a={for:"Name",class:"form-label"},f5a={class:""},h5a={for:"Name",class:"form-label"},p5a={class:""},v5a={for:"Name",class:"form-label"},g5a={value:""},b5a={value:"Vendor Financing"},y5a={value:"Dealer Financing"},k5a={class:""},$5a={for:"Name",class:"form-label"},w5a={value:""},D5a={value:"approve"},C5a={class:"table-search-btn"},x5a={class:"table-clear-btn"},P5a={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},E5a={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},A5a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},I5a={class:"modal-content"},R5a={class:"modal-header"},S5a={class:"modal-title",id:"modalCenterTitle"},T5a={class:"modal-body"},j5a={class:"modal-footer"},O5a={class:"btn btn-primary",type:"submit"},M5a={class:"d-flex justify-content-end gap-1 mt-auto"},L5a={class:""},N5a={class:"table-responsive"},F5a={class:"table"},Y5a={class:""},V5a={class:"form-check"},B5a={class:"table-border-bottom-0"},U5a={key:0},q5a={colspan:"12",class:"text-center"},H5a={class:"text-center"},z5a={key:1},W5a={colspan:"12",class:"text-center"},K5a={class:"text-center"},G5a={class:"form-check"},Q5a=["id","onChange"],Z5a={class:"text-primary"},J5a={class:"d-flex"},X5a=["href"],eDa={key:1},tDa=["title"],oDa=["title"],aDa=["title"],nDa={class:"text-primary text-decoration-underline"},sDa=["href"],lDa={key:1},iDa={class:""},rDa={class:"text-success"},dDa={class:"text-success"},cDa={class:""},uDa={class:"d-flex"},_Da=["title","data-bs-target","onClick"],mDa=["title","data-bs-target","onClick"],fDa=["href","title"],hDa=["href","title"],pDa={key:4,class:"d-flex"},vDa=["href","title"],gDa=["href","title"],bDa={key:5,class:"d-flex"},yDa=["href","title"],kDa=["title","onClick"],$Da=["title","onClick"],wDa=["title","data-bs-target"],DDa=["id"],CDa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},xDa={class:"modal-content"},PDa={class:"modal-header"},EDa={class:"modal-title",id:"modalCenterTitle"},ADa=["id"],IDa={class:"modal-body"},RDa={class:"row mb-1"},SDa={class:"text-wrap"},TDa={class:"modal-footer"},jDa=["onClick"],ODa=["data-bs-target"],MDa=["id"],LDa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},NDa={class:"modal-content"},FDa={class:"modal-header"},YDa={class:"modal-title",id:"modalCenterTitle"},VDa=["id"],BDa={class:"modal-body"},UDa={class:"row mb-1"},qDa={class:"text-wrap"},HDa={class:"modal-footer"},zDa=["onClick"],WDa=["data-bs-target"],KDa=["id"],GDa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},QDa={class:"modal-content"},ZDa={class:"modal-header"},JDa={class:"modal-title",id:"modalCenterTitle"},XDa=["id"],e3a={class:"modal-body"},t3a={class:"row mb-1"},o3a={class:"text-wrap"},a3a={class:"modal-footer"},n3a={class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal"},s3a=["onClick"],l3a=["onClick"],i3a=["id"],r3a={class:"modal-dialog"},d3a={class:"modal-content"},c3a={class:"modal-header"},u3a=["id"],_3a={class:"modal-body"},m3a={key:0},f3a={class:"mb-0"},h3a={key:0,class:"col-12"},p3a={class:"change_title"},v3a={class:"mx-2"},g3a={key:1,class:"col-12"},b3a={class:"change_title"},y3a={key:0,class:"mx-2"},k3a={key:1,class:"mx-2"},$3a={key:1},w3a={class:"mb-0"},D3a={class:"col-12"},C3a={class:"change_title"},x3a={class:"mx-2"},P3a={key:2},E3a={class:"mb-0"},A3a={key:0,class:"col-12"},I3a={class:"change_title"},R3a={class:"mx-2"},S3a={key:1,class:"col-12"},T3a={class:""},j3a={key:3},O3a={class:"mb-0"},M3a={class:"change_title"},L3a={class:"mx-2"},N3a={key:4},F3a={class:"mb-0"},Y3a={class:"col-12"},V3a={class:"change_title"},B3a={class:"mx-2"},U3a={key:5},q3a={class:"mb-0"},H3a={class:"col-12"},z3a={class:"form-check"},W3a=["value"],K3a=["for"],G3a={key:0,class:"modal-footer"},Q3a=["onClick"],Z3a=["onClick"],J3a=["id"],X3a={class:"modal-dialog"},eCa={class:"modal-content"},tCa={class:"modal-header"},oCa=["id"],aCa={class:"modal-body"},nCa={class:"modal-footer"},sCa=["title","data-bs-target"],lCa=["data-bs-target"];function iCa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",d5a,[e("div",c5a,[e("div",u5a,[e("div",_5a,[e("label",m5a,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.program_name_search]])]),e("div",f5a,[e("label",h5a,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.anchor_search]])]),e("div",p5a,[e("label",v5a,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=l=>t.type_search=l)},[e("option",g5a,n(o.$t("Program Type")),1),e("option",b5a,n(o.$t("Vendor Financing")),1),e("option",y5a,n(o.$t("Dealer Financing")),1)],512),[[re,t.type_search]])]),e("div",k5a,[e("label",$5a,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.bulk_action=l)},[e("option",w5a,n(o.$t("Bulk Actions")),1),e("option",D5a,n(o.$t("Approve")),1)],512),[[re,t.bulk_action]])]),e("div",C5a,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",x5a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",P5a,null,512),e("div",E5a,[e("div",A5a,[e("div",I5a,[e("div",R5a,[e("h5",S5a,n(o.$t("Approve Programs")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"approve-programs-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",T5a,[e("h5",null,n(o.$t("Are you sure you want to approve the selected programs"))+"?",1)]),e("div",j5a,[e("button",O5a,n(o.$t("Submit")),1)])],32)])])])]),e("div",M5a,[e("div",L5a,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])])])]),t.programs.meta?(u(),fe(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",N5a,[e("table",F5a,[e("thead",null,[e("tr",Y5a,[e("th",null,[e("div",V5a,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[9]||(a[9]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",B5a,[t.programs.data?b("",!0):(u(),f("tr",U5a,[e("td",q5a,[e("span",H5a,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",z5a,[e("td",W5a,[e("span",K5a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("div",G5a,[l.can_activate&&l.account_status=="suspended"?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Q5a)):b("",!0)])]),e("td",Z5a,[e("div",J5a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,X5a)):(u(),f("span",eDa,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Limit is almost depleted")},null,8,tDa)):b("",!0),l.proposed_update_count>0?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,oDa)):b("",!0),l.account_status=="pending"?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,aDa)):b("",!0)])]),e("td",nDa,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,sDa)):(u(),f("span",lDa,n(l.anchor.name),1))]),e("td",iDa,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",rDa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.program_limit)),1),e("td",dDa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",cDa,[e("div",uDa,[l.account_status=="active"&&(l.status=="active"||l.proposed_update)&&l.can_view?(u(),f("i",{key:0,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#pending-changes-details-"+l.id,style:{cursor:"pointer"},onClick:r=>o.addVendorConfigurations(l)},null,8,_Da)):b("",!0),l.account_status=="suspended"&&!l.proposed_update&&l.can_view?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#new-program-"+l.id,style:{cursor:"pointer"},onClick:r=>o.addVendorConfigurations(l)},null,8,mDa)):b("",!0),!l.proposed_update&&l.can_view?(u(),f("a",{key:2,href:"programs/"+l.id+"/details",class:"mx-1",title:o.$t("View Program Details")},a[15]||(a[15]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,fDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit?(u(),f("a",{key:3,href:"programs/"+l.id+"/edit",class:"mx-1",title:o.$t("Edit Program")},a[16]||(a[16]=[e("i",{class:"ti ti-pencil ti-sm text-warning"},null,-1)]),8,hDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Vendor Financing"?(u(),f("div",pDa,[l.program_code.name=="Vendor Financing Receivable"?(u(),f("a",{key:0,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Vendors")},a[17]||(a[17]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,vDa)):(u(),f("a",{key:1,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Buyers")},a[18]||(a[18]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,gDa))])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Dealer Financing"?(u(),f("div",bDa,[e("a",{href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Dealers")},a[19]||(a[19]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,yDa)])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="active"&&l.utilized==0&&l.pipeline==0?(u(),f("i",{key:6,class:"ti ti-thumb-up ti-sm text-success mx-1 my-auto",title:o.$t("Click to Suspend Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"suspended")},null,8,kDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="suspended"?(u(),f("i",{key:7,class:"ti ti-thumb-down ti-sm text-danger mx-1 my-auto",title:o.$t("Click to Activate Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"active")},null,8,$Da)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:8,class:"ti ti-check ti-sm text-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-approve-program-"+l.id},null,8,wDa)):b("",!0),e("div",{class:"modal fade",id:"pending-approve-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",CDa,[e("div",xDa,[e("div",PDa,[e("h5",EDa,n(o.$t("Approve Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-update-approve-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,ADa)]),e("div",IDa,[e("div",RDa,[e("h5",SDa,n(o.$t("Are you sure you want to approve the program?")),1)])]),e("div",TDa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approved")},n(o.$t("Confirm")),9,jDa)])])])],8,DDa),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:9,class:"ti ti-circle-x ti-sm text-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-reject-program-"+l.id},null,8,ODa)):b("",!0),e("div",{class:"modal fade",id:"pending-reject-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",LDa,[e("div",NDa,[e("div",FDa,[e("h5",YDa,n(o.$t("Reject Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-update-reject-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,VDa)]),e("div",BDa,[e("div",UDa,[e("h5",qDa,n(o.$t("Are you sure you want to reject the program"))+"?",1)])]),e("div",HDa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"rejected")},n(o.$t("Confirm")),9,zDa)])])])],8,MDa),l.can_delete?(u(),f("i",{key:10,class:"ti ti-trash ti-sm text-danger mx-1 my-auto",title:"Click to Delete Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-delete-program-"+l.id},null,8,WDa)):b("",!0),e("div",{class:"modal fade",id:"pending-delete-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",GDa,[e("div",QDa,[e("div",ZDa,[e("h5",JDa,n(o.$t("Delete Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-delete-program-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,XDa)]),e("div",e3a,[e("div",t3a,[e("h5",o3a,n(o.$t("Are you sure you want to delete the program? This action cannot be undone.")),1)])]),e("div",a3a,[e("button",n3a,n(o.$t("Cancel")),1),l.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>o.cancelDeleteProgram(l.id)},n(o.$t("Cancel Deletion")),9,s3a)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>o.deleteProgram(l.id)},n(o.$t("Delete")),9,l3a)])])])],8,KDa)]),l.proposed_update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"pending-changes-details-"+l.id,tabindex:"-1"},[e("div",r3a,[e("div",d3a,[e("div",c3a,[e("h5",null,n(o.$t("Program Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"pending-changes-details-close-"+l.id,"aria-label":"Close"},null,8,u3a)]),e("div",_3a,[l.details_changes?(u(),f("div",m3a,[e("h4",f3a,n(o.$t("General Details")),1),(u(!0),f(W,null,X(Object.keys(l.details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[o.boolean_columns.includes(r)?b("",!0):(u(),f("div",h3a,[e("span",null,[e("strong",p3a,n(r.replaceAll("_"," "))+":",1)]),e("span",v3a,n(Object.values(l.details_changes)[i]),1)])),o.boolean_columns.includes(r)?(u(),f("div",g3a,[e("span",null,[e("strong",b3a,n(r.replaceAll("_"," "))+":",1)]),Object.values(l.details_changes)[i]==0?(u(),f("span",y3a,n(o.$t("From Yes to No")),1)):b("",!0),Object.values(l.details_changes)[i]==1?(u(),f("span",k3a,n(o.$t("From No to Yes")),1)):b("",!0)])):b("",!0)]))),128)),a[20]||(a[20]=e("hr",null,null,-1))])):b("",!0),l.discount_details_changes?(u(),f("div",$3a,[e("h4",w3a,n(o.$t("Discount Details")),1),(u(!0),f(W,null,X(Object.keys(l.discount_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",D3a,[e("span",null,[e("strong",C3a,n(r.replaceAll("_"," "))+":",1)]),e("span",x3a,n(Object.values(l.discount_details_changes)[i]),1)])]))),128)),a[21]||(a[21]=e("hr",null,null,-1))])):b("",!0),l.fees_details_changes?(u(),f("div",P3a,[e("h4",E3a,n(o.$t("Fee Details")),1),(u(!0),f(W,null,X(l.fees_details_changes,r=>(u(),f(W,{key:r},[(u(!0),f(W,null,X(Object.keys(r),(i,d)=>(u(),f("div",{class:"row",key:i},[i!="deleted_at"?(u(),f("div",A3a,[e("span",null,[e("strong",I3a,n(i.replaceAll("_"," "))+":",1)]),e("span",R3a,n(Object.values(r)[d]),1)])):(u(),f("div",S3a,[e("span",T3a,n(o.$t("Delete Fee")),1)]))]))),128))],64))),128)),a[22]||(a[22]=e("hr",null,null,-1))])):b("",!0),l.dealer_discount_details_rates?(u(),f("div",j3a,[e("h4",O3a,n(o.$t("Dealer Discount Rates")),1),(u(!0),f(W,null,X(l.dealer_discount_details_rates,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("div",{class:"col-12",key:d},[e("span",null,[e("strong",M3a,n(p.replaceAll("_"," "))+":",1)]),e("span",L3a,n(d),1)]))),128))]))),128)),a[23]||(a[23]=e("hr",null,null,-1))])):b("",!0),l.bank_details_changes?(u(),f("div",N3a,[e("h4",F3a,n(o.$t("Bank Details")),1),(u(!0),f(W,null,X(Object.keys(l.bank_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",Y3a,[e("span",null,[e("strong",V3a,n(r.replaceAll("_"," "))+":",1)]),e("span",B3a,n(Object.values(l.bank_details_changes)[i]),1)])]))),128)),a[24]||(a[24]=e("hr",null,null,-1))])):b("",!0),(l.fees_details_changes||l.discount_details_changes||l.dealer_discount_details_rates)&&l.vendor_configurations?(u(),f("div",U3a,[e("h4",q3a,n(o.$t("Select Mappings where changes will apply"))+":",1),(u(!0),f(W,null,X(Object.keys(l.vendor_configurations),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",H3a,[e("div",z3a,[Y(e("input",{class:"form-check-input border-primary","onUpdate:modelValue":a[10]||(a[10]=d=>o.program_ids=d),type:"checkbox",value:Object.values(l.vendor_configurations)[i].id},null,8,W3a),[[Yo,o.program_ids]]),e("label",{for:Object.values(l.vendor_configurations)[i].id,class:"form-label"},n(Object.values(l.vendor_configurations)[i].buyer?Object.values(l.vendor_configurations)[i].buyer.name:Object.values(l.vendor_configurations)[i].company.name)+"("+n(Object.values(l.vendor_configurations)[i].payment_account_number)+")",9,K3a)])])]))),128)),a[25]||(a[25]=e("hr",null,null,-1))])):b("",!0)]),l.can_approve_changes?(u(),f("div",G3a,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>o.approveChange(l.id,"reject")},n(o.$t("Reject")),9,Q3a),e("button",{class:"btn btn-sm btn-primary",onClick:r=>o.approveChange(l.id,"approve")},n(o.$t("Approve")),9,Z3a)])):b("",!0)])])],8,i3a)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"new-program-"+l.id,tabindex:"-1"},[e("div",X3a,[e("div",eCa,[e("div",tCa,[e("h5",null,n(o.$t("New Program")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"new-program-close-"+l.id,"aria-label":"Close"},null,8,oCa)]),e("div",aCa,[e("span",null,n(o.$t("New Program Awaiting Approval")),1)]),e("div",nCa,[l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("button",{key:0,class:"btn btn-sm btn-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-approve-program-"+l.id},n(o.$t("Approve")),9,sCa)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("button",{key:1,class:"btn btn-sm btn-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-reject-program-"+l.id},n(o.$t("Reject")),9,lCa)):b("",!0)])])])],8,J3a)])]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rCa=Ue(r5a,[["render",iCa]]),dCa={name:"ManageVendors",props:["bank","program","type","can_edit_mapping","manage","date_format"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.date_format,s=o.can_edit_mapping,t=o.manage,c=o.program,m=o.type,_=Je("baseURL"),l=lt(),r=h([]),i=h(""),d=o.bank,p=h([]),v=h(""),g=h(null),D=h(null),y=h(""),C=h(50),x=async()=>{await A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:C.value,name:y.value}}).then(ce=>{r.value=ce.data})},E=ce=>{if(p.value.includes(ce)){const ae=p.value.indexOf(ce);p.value.splice(ae,1)}else p.value.push(ce)},k=()=>{document.getElementById("select-all").checked?r.value.data.forEach(ce=>{document.getElementById("company-"+ce.id)&&(document.getElementById("company-"+ce.id).checked=!0,p.value.push(ce.id))}):r.value.data.forEach(ce=>{if(document.getElementById("company-"+ce.id)){document.getElementById("company-"+ce.id).checked=!1;let ae;if(!p.value.filter(function(z,ne){ae=ne,z==ce.id}))return!1;p.value.splice(ae,1)}})},w=ce=>{let ae="";switch(ce){case"active":ae="bg-label-primary";break;case"inactive":ae="bg-label-danger";break;default:ae="bg-label-primary";break}return ae};ot([C],([ce])=>{A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:ce,name:y.value}}).then(ae=>{r.value=ae.data})});const T=()=>{let ce=$(".ti-search").parent();ce.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:C.value,name:y.value}}).then(ae=>{r.value=ae.data,ce.html('<i class="ti ti-search"></i>')})},V=()=>{y.value="";let ce=$(".ti-refresh").parent();ce.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:C.value}}).then(ae=>{r.value=ae.data,ce.html('<i class="ti ti-refresh"></i>')})};ot(v,ce=>{p.value.length>0?(ce=="inactive"&&g.value.click(),ce=="active"&&D.value.click()):l.error("Select Companies")});const B=ce=>{if(p.value.length<=0){l.error("Select companies");return}const ae=new FormData;p.value.forEach(J=>{ae.append("companies[]",J)}),ae.append("status",ce),ae.append("rejection_reason",i.value),A.post(_+o.bank+"/programs/"+o.program+"/mapping/approval/update",ae).then(()=>{x(),v.value="",i.value="",document.getElementById("select-all").checked=!1,ce=="approve"?document.getElementById("close-activate-modal").click():document.getElementById("close-deactiveate-modal").click(),p.value.forEach(J=>{document.getElementById("company-"+J).checked=!1}),l.success("Mapping status updated")}).catch(J=>{console.log(J),l.error("An error occurred")})},O=ce=>{if(p.value.length<=0){l.error("Select companies");return}const ae=new FormData;ce=="inactive"&&(p.value.forEach(J=>{ae.append("companies[]",J)}),ae.append("status","inactive")),ce=="active"&&(p.value.forEach(J=>{ae.append("companies[]",J)}),ae.append("status","active")),A.post(_+o.bank+"/programs/"+o.program+"/mapping/update",ae).then(()=>{x(),v.value="",document.getElementById("select-all").checked=!1,ce=="inactive"?document.getElementById("close-deactivate-modal").click():document.getElementById("close-activate-modal").click(),p.value.forEach(J=>{document.getElementById("company-"+J).checked=!1}),l.success("Mapping status updated")}).catch(J=>{console.log(J),l.error("An error occurred")})},L=ce=>{A.get(_+o.bank+"/programs/"+o.program+"/"+ce+"/mapping/update").then(()=>{x(),l.success("Mapping status updated"),document.getElementById("update-company-mapping-status-close-"+ce).click()}).catch(ae=>{l.error(ae.response.data.message),console.log(ae)})},R=ce=>{A.get(_+o.bank+"/programs/"+o.program+"/"+ce+"/mapping/block/status/update").then(ae=>{x(),l.success(ae.data.message),document.getElementById("update-block-"+ce).click()}).catch(ae=>{l.error(ae.response.data.message),console.log(ae)})},P=(ce,ae)=>{A.post(_+o.bank+"/programs/"+o.program+"/"+ce+"/mapping/approval/update",{status:ae,rejection_reason:i.value}).then(()=>{x(),i.value="",l.success("Mapping status updated successfully"),ae=="approve"?document.getElementById("approve-mapping-status-close-"+ce).click():document.getElementById("reject-mapping-status-close-"+ce).click()}).catch(J=>{console.log(J)})},I=(ce,ae,J)=>{A.get("mapping/company/"+ae+"/changes/approve/"+J).then(z=>{x(),l.success(z.data.message),document.getElementById("vendor-mapping-changes-details-close-"+ae).click()}).catch(z=>{console.log(z),l.error("An error occurred")})},S=ce=>{A.delete("mapping/"+ce+"/delete").then(ae=>{document.getElementById("delete-mapping-"+ce).click(),l.success(ae.data.message),x()}).catch(ae=>{l.error(ae.response.data.message)})},F=ce=>{A.get("mapping/"+ce+"/delete/cancel").then(ae=>{l.success(ae.data.message),document.getElementById("delete-mapping-"+ce).click(),x()}).catch(ae=>{l.error(ae.response.data.message)})},N=ce=>{let ae=[];return ce.forEach(J=>{ae.push(J.name)}),!!(ae.length>0&&ae.includes("anchor"))};return Qe(()=>{x()}),{base_url:_,bank:d,companies:r,moment:H,rejection_reason:i,can_edit_mapping:s,manage:t,program_id:c,vendors_type:m,name_search:y,per_page:C,filter:T,refresh:V,bulk_action:v,showRejectionModal:g,showApprovalModal:D,deleteMapping:S,selectAll:k,updateSelected:E,resolveStatus:w,updateActiveStatus:L,submitBulkAction:O,updateApprovalStatus:P,changePage:async ce=>{await A.get(ce+"&per_page="+C.value,{params:{name:y.value}}).then(ae=>{r.value=ae.data})},hasAnchorRole:N,approveConfigChange:I,cancelDeleteMapping:F,submitBulkApproval:B,date_format:a,updateBlockStatus:R,exportData:async()=>{await A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data/export",{responseType:"arraybuffer",method:"GET",params:{name:y.value}}).then(ce=>{const ae=window.URL.createObjectURL(new Blob([ce.data])),J=document.createElement("a");J.href=ae,J.setAttribute("download",`Mappings_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(J),J.click()}).catch(ce=>{console.log(ce)})}}}},cCa={class:"card p-2",id:"companies"},uCa={class:"d-flex justify-content-between"},_Ca={class:"d-flex flex-wrap gap-1"},mCa={class:"form-group"},fCa={for:"Name",class:"form-label"},hCa={class:"form-group"},pCa={for:"Bulk Actions",class:"form-label"},vCa={value:""},gCa={value:"active"},bCa={value:"inactive"},yCa={class:"table-search-btn"},kCa={class:"table-clear-btn"},$Ca={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},wCa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},DCa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},CCa={class:"modal-content"},xCa={class:"modal-header"},PCa={class:"modal-title",id:"modalCenterTitle"},ECa={class:"modal-body"},ACa={class:"modal-footer"},ICa={class:"btn btn-primary",type:"submit"},RCa={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},SCa={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},TCa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jCa={class:"modal-content"},OCa={class:"modal-header"},MCa={class:"modal-title",id:"modalCenterTitle"},LCa={class:"modal-body"},NCa={class:"modal-footer"},FCa={class:"btn btn-primary",type:"submit"},YCa={class:"d-flex justify-content-end mt-auto gap-1"},VCa={class:""},BCa={class:"table-responsive"},UCa={class:"table"},qCa={class:""},HCa={class:"px-1 py-auto"},zCa={class:"form-check"},WCa={key:0},KCa={class:"table-border-bottom-0"},GCa={key:0},QCa={colspan:"12",class:"text-center"},ZCa={class:"text-center"},JCa={key:1},XCa={colspan:"12",class:"text-center"},exa={class:"text-center"},txa={class:"px-1"},oxa={class:"form-check"},axa=["id","onChange"],nxa={class:"text-primary text-decoration-underline"},sxa=["href"],lxa={key:1},ixa={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},rxa=["title"],dxa={key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Mapping Creation/Updation Awaiting Approval"},cxa={key:5,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Mapping Deletion Awaiting Approval"},uxa=["title"],_xa=["data-bs-target"],mxa={class:""},fxa={class:""},hxa={class:""},pxa={class:""},vxa={key:0,class:""},gxa={class:"d-flex gap-1"},bxa=["data-bs-target"],yxa=["data-bs-target"],kxa=["data-bs-target"],$xa=["data-bs-target"],wxa=["data-bs-target"],Dxa=["title"],Cxa=["id"],xxa={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Pxa={class:"modal-content"},Exa={class:"modal-header"},Axa={class:"modal-title",id:"modalCenterTitle"},Ixa=["id"],Rxa={class:"modal-body"},Sxa={class:"table"},Txa=["data-bs-target"],jxa=["data-bs-target"],Oxa=["id"],Mxa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Lxa={class:"modal-content"},Nxa={class:"modal-header"},Fxa={class:"modal-title",id:"modalCenterTitle"},Yxa=["id"],Vxa={class:"modal-body"},Bxa={class:"row mb-1"},Uxa={class:"text-wrap"},qxa={class:"modal-footer"},Hxa=["onClick"],zxa=["id"],Wxa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Kxa={class:"modal-content"},Gxa={class:"modal-header"},Qxa={class:"modal-title",id:"modalCenterTitle"},Zxa=["id"],Jxa={class:"modal-body"},Xxa={class:"row mb-1"},ePa={class:"text-wrap"},tPa={class:"modal-footer"},oPa=["onClick"],aPa=["id"],nPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},sPa={class:"modal-content"},lPa={class:"modal-header"},iPa={key:0,class:"modal-title",id:"modalCenterTitle"},rPa={key:1,class:"modal-title",id:"modalCenterTitle"},dPa=["id"],cPa={class:"modal-body"},uPa={class:"row mb-1"},_Pa={key:0,class:"text-wrap"},mPa={key:1,class:"text-wrap"},fPa={class:"modal-footer"},hPa=["onClick"],pPa=["data-bs-target"],vPa=["id"],gPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bPa={class:"modal-content"},yPa={class:"modal-header"},kPa={class:"modal-title",id:"modalCenterTitle"},$Pa=["id"],wPa={class:"modal-body"},DPa={class:"mb-1"},CPa={class:"text-wrap"},xPa={class:"modal-footer"},PPa=["onClick"],EPa=["data-bs-target"],APa=["href"],IPa=["href"],RPa=["data-bs-target"],SPa=["id"],TPa={class:"modal-dialog"},jPa={class:"modal-content"},OPa={class:"modal-header"},MPa=["id"],LPa={class:"modal-body"},NPa={class:"row"},FPa={class:"col-6"},YPa={key:0,class:"m_title"},VPa={key:1,class:"m_title"},BPa={key:2,class:"m_title"},UPa={key:3,class:"m_title"},qPa={key:4,class:"m_title"},HPa={class:"col-6"},zPa={key:0,class:"m_title"},WPa={key:0},KPa={class:"col-6"},GPa={key:0},QPa={class:"col-6"},ZPa={key:0,class:"modal-footer"},JPa=["onClick"],XPa=["onClick"],e4a=["id"],t4a={class:"modal-dialog"},o4a={class:"modal-content"},a4a={class:"modal-header"},n4a={class:"modal-title",id:"modalTopTitle"},s4a={class:"modal-body"},l4a={class:"row"},i4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},r4a={class:"mr-2 fw-light"},d4a={class:"px-2 text-right"},c4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},u4a={class:"mr-2 fw-light"},_4a={class:"px-2 text-right"},m4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},f4a={class:"mr-2 fw-light"},h4a={class:"px-2 text-right"},p4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},v4a={class:"mr-2 fw-light"},g4a={class:"px-2 text-right"},b4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},y4a={class:"mr-2 fw-light"},k4a={class:"px-2 text-right"},$4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},w4a={class:"mr-2 fw-light"},D4a={class:"px-2 text-right"},C4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},x4a={class:"mr-2 fw-light"},P4a={class:"px-2 text-right"},E4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},A4a={class:"mr-2 fw-light"},I4a={class:"px-2 text-right"},R4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},S4a={class:"mr-2 fw-light"},T4a={class:"px-2 text-right"},j4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},O4a={class:"mr-2 fw-light"},M4a={class:"px-2 text-right"},L4a={key:0,class:"col-sm-4 text-align-center d-flex justify-content-between"},N4a={class:"mr-2 fw-light"},F4a={class:"px-2 text-right"},Y4a={class:""},V4a={class:""},B4a={class:"table-responsive"},U4a={class:"table"},q4a={key:0},H4a={key:1},z4a={key:2},W4a={key:3},K4a={key:4},G4a={class:"table-border-bottom-0 text-nowrap"},Q4a={key:0},Z4a={key:1},J4a={key:2},X4a={key:3},eEa={class:"py-1r"},tEa={class:""},oEa={class:"table-responsive"},aEa={class:"table"},nEa={key:0},sEa={key:1},lEa={key:2},iEa={key:3},rEa={class:"table-border-bottom-0 text-nowrap"},dEa={class:"m_title"},cEa={key:0},uEa={key:1},_Ea={key:2},mEa={key:0,title:"Daily"},fEa={key:1},hEa={key:0},pEa={class:"py-1r"},vEa={class:""},gEa={class:"table-responsive"},bEa={class:"table"},yEa={class:"table-border-bottom-0 text-nowrap"},kEa=["data-bs-target"],$Ea=["id"],wEa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},DEa={class:"modal-content"},CEa={class:"modal-header"},xEa={class:"modal-title",id:"modalCenterTitle"},PEa={class:"modal-body"},EEa={class:"row mb-1"},AEa={class:"text-wrap"},IEa={class:"modal-footer"},REa=["id"],SEa=["onClick"],TEa=["onClick"];function jEa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",cCa,[e("div",uCa,[e("div",_Ca,[e("div",mCa,[e("label",fCa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.name_search]])]),e("div",hCa,[e("label",pCa,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.bulk_action=l)},[e("option",vCa,n(o.$t("Bulk Actions")),1),e("option",gCa,n(o.$t("Approve")),1),e("option",bCa,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("div",yCa,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",kCa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",$Ca,null,512),e("div",wCa,[e("div",DCa,[e("div",CCa,[e("div",xCa,[e("h6",PCa,n(o.$t("Approve Mappings")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"close-activate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[4]||(a[4]=st(l=>t.submitBulkApproval("approve"),["prevent"]))},[e("div",ECa,[e("h4",null,n(o.$t("Are you sure you want to approve these companies in the program"))+"?",1)]),e("div",ACa,[e("button",ICa,n(o.$t("Confirm")),1)])],32)])])]),e("button",RCa,null,512),e("div",SCa,[e("div",TCa,[e("div",jCa,[e("div",OCa,[e("h6",MCa,n(o.$t("Reject Mappings")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"close-deactivate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkApproval("reject"),["prevent"]))},[e("div",LCa,[e("h4",null,n(o.$t("Are you sure you want to reject these mappings in the program"))+"?",1),Y(e("textarea",{name:"rejection_reason","onUpdate:modelValue":a[5]||(a[5]=l=>t.rejection_reason=l),class:"form-control",placeholder:"Enter Rejection Reason",rows:"5",id:""},null,512),[[Q,t.rejection_reason]])]),e("div",NCa,[e("button",FCa,n(o.$t("Confirm")),1)])],32)])])])]),e("div",YCa,[e("div",VCa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.exportData&&t.exportData(...l))},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",BCa,[e("table",UCa,[e("thead",null,[e("tr",qCa,[e("th",HCa,[e("div",zCa,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[9]||(a[9]=l=>t.selectAll())},null,32)])]),e("th",null,n(t.vendors_type=="buyers"?o.$t("Anchor"):o.$t("Vendor")),1),e("th",null,n(o.$t("Payment/OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Amount")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Status")),1),t.manage?(u(),f("th",WCa,n(o.$t("Actions")),1)):b("",!0)])]),e("tbody",KCa,[t.companies.data?b("",!0):(u(),f("tr",GCa,[e("td",QCa,[e("span",ZCa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",JCa,[e("td",XCa,[e("span",exa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",txa,[e("div",oxa,[l.vendor_configuration.can_approve&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"company-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,axa)):b("",!0)])]),e("td",nxa,[e("span",null,[l.can_view?(u(),f("a",{key:0,href:"../../companies/"+l.id+"/details"},n(l.name),9,sxa)):(u(),f("span",lxa,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",ixa)):b("",!0),l.utilized_percentage_ratio>90?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+l.utilized_percentage_ratio+"% utilized"},null,8,rxa)):b("",!0),l.changes?(u(),f("i",dxa)):b("",!0),l.vendor_configuration.deleted_at?(u(),f("i",cxa)):b("",!0),l.vendor_configuration.rejection_reason?(u(),f("i",{key:6,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Rejection Reason : "+l.vendor_configuration.rejection_reason},null,8,uxa)):b("",!0)])]),e("td",{class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id,style:{cursor:"pointer"}},[e("span",null,n(l.vendor_configuration.payment_account_number),1)],8,_xa),e("td",mxa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("td",fxa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.utilized_amount.toFixed(2))),1)]),e("td",hxa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.pipeline_amount.toFixed(2))),1)]),e("td",pxa,[e("span",null,n(new Intl.NumberFormat().format((l.vendor_configuration.sanctioned_limit-l.vendor_configuration.utilized_amount-l.vendor_configuration.pipeline_amount).toFixed(2))),1)]),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.vendor_configuration.status))},n(l.vendor_configuration.status),3)]),t.manage?(u(),f("td",vxa,[e("div",gxa,[!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit&&l.vendor_configuration.status=="active"&&l.vendor_configuration.utilized_amount==0&&l.vendor_configuration.pipeline_amount==0?(u(),f("a",{key:0,href:"#","data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},a[17]||(a[17]=[e("i",{class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company Mapping"},null,-1)]),8,bxa)):b("",!0),!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit&&l.vendor_configuration.status=="inactive"?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},a[18]||(a[18]=[e("i",{class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company Mapping"},null,-1)]),8,yxa)):b("",!0),!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:2,href:"#","data-bs-toggle":"modal","data-bs-target":"#pending-approval-mapping-"+l.id},a[19]||(a[19]=[e("i",{class:"ti ti-clock ti-sm text-primary",title:"Pending Approval"},null,-1)]),8,kxa)):b("",!0),l.vendor_configuration.can_approve&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:3,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-mapping-"+l.id},a[20]||(a[20]=[e("i",{class:"ti ti-check ti-sm text-success",title:"Click to Approve Mapping"},null,-1)]),8,$xa)):b("",!0),!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit?(u(),f("a",{key:4,href:"#","data-bs-toggle":"modal","data-bs-target":"#block-"+l.id},[e("i",{class:rt(l.vendor_configuration.is_blocked?"ti ti-hand-off ti-sm text-danger":"ti ti-hand-stop ti-sm text-success"),title:l.vendor_configuration.is_blocked?"Click to UNBLOCK company from creating invoice and making requests":"Click to BLOCK company from creating invoice and making requests"},null,10,Dxa)],8,wxa)):b("",!0),!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("div",{key:5,class:"modal fade",id:"pending-approval-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",xxa,[e("div",Pxa,[e("div",Exa,[e("h6",Axa,n(o.$t("Pending Approval")),1),e("button",{type:"button",class:"btn-close",id:"update-active-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Ixa)]),e("div",Rxa,[e("table",Sxa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approval Type")),1),e("th",null,n(o.$t("Proposed By")),1),e("th",null,n(o.$t("Date Created")),1),e("th",null,n(o.$t("Proposed Value(s)")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(o.$t("Create")),1),e("td",null,n(l.vendor_configuration.user.name),1),e("td",null,n(t.moment(l.vendor_configuration.created_at).format(t.date_format)),1),a[23]||(a[23]=e("th",null,"-",-1)),e("th",null,n(o.$t("Pending Approval")),1),e("th",null,[l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:0,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-mapping-"+l.id},a[21]||(a[21]=[e("i",{class:"ti ti-check ti-sm text-success",title:"Click to Approve Mapping"},null,-1)]),8,Txa)):b("",!0),l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-mapping-"+l.id},a[22]||(a[22]=[e("i",{class:"ti ti-circle-x ti-sm text-danger",title:"Click to Reject Mapping"},null,-1)]),8,jxa)):b("",!0)])])])])])])])],8,Cxa)):b("",!0),e("div",{class:"modal fade",id:"approve-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Mxa,[e("div",Lxa,[e("div",Nxa,[e("h6",Fxa,n(o.$t("Approve Mapping")),1),e("button",{type:"button",class:"btn-close",id:"approve-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Yxa)]),e("div",Vxa,[e("div",Bxa,[e("h6",Uxa,n(o.$t("Are you sure you want to approve the mapping?")),1)])]),e("div",qxa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approve")},n(o.$t("Confirm")),9,Hxa)])])])],8,Oxa),e("div",{class:"modal fade",id:"update-active-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Wxa,[e("div",Kxa,[e("div",Gxa,[e("h6",Qxa,n(o.$t("Update Mapping Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-company-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Zxa)]),e("div",Jxa,[e("div",Xxa,[e("h6",ePa,n(o.$t("Are you sure you want to activate/deactivate the mapping?")),1)])]),e("div",tPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id)},n(o.$t("Confirm")),9,oPa)])])])],8,zxa),e("div",{class:"modal fade",id:"block-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",nPa,[e("div",sPa,[e("div",lPa,[l.vendor_configuration.is_blocked?(u(),f("h6",rPa,n(o.$t("Unblock Company")),1)):(u(),f("h6",iPa,n(o.$t("Block Company")),1)),e("button",{type:"button",class:"btn-close",id:"update-block-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,dPa)]),e("div",cPa,[e("div",uPa,[l.vendor_configuration.is_blocked?(u(),f("h6",mPa,n(o.$t("Are you sure you want to UNBLOCK the company from creating invoices and requesting financing?")),1)):(u(),f("h6",_Pa,n(o.$t("Are you sure you want to BLOCK the company from creating invoices and requesting financing?")),1))])]),e("div",fPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateBlockStatus(l.id)},n(o.$t("Confirm")),9,hPa)])])])],8,aPa),l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:6,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-mapping-"+l.id},a[24]||(a[24]=[e("i",{class:"ti ti-circle-x ti-sm text-danger",title:"Click to Reject Mapping"},null,-1)]),8,pPa)):b("",!0),e("div",{class:"modal fade",id:"reject-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",gPa,[e("div",bPa,[e("div",yPa,[e("h6",kPa,n(o.$t("Reject Mapping")),1),e("button",{type:"button",class:"btn-close",id:"reject-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,$Pa)]),e("div",wPa,[e("div",DPa,[e("h6",CPa,n(o.$t("Are you sure you want to reject the mapping?")),1)]),Y(e("textarea",{name:"rejection_reason",class:"form-control",rows:"5",placeholder:"Enter Rejection Reason",required:"","onUpdate:modelValue":a[10]||(a[10]=r=>t.rejection_reason=r),id:""},null,512),[[Q,t.rejection_reason]])]),e("div",xPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"reject")},n(o.$t("Confirm")),9,PPa)])])])],8,vPa),e("span",{"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id},a[25]||(a[25]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"},title:"View Mapping Details"},null,-1)]),8,EPa),!l.vendor_configuration.rejected&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.changes&&t.can_edit_mapping?(u(),f("a",{key:7,href:t.vendors_type+"/"+l.id+"/map/edit"},a[26]||(a[26]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit Mapping"},null,-1)]),8,APa)):b("",!0),!l.vendor_configuration.rejected&&l.vendor_configuration.is_rejected?(u(),f("a",{key:8,href:t.vendors_type+"/"+l.id+"/map/edit"},a[27]||(a[27]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit Mapping"},null,-1)]),8,IPa)):b("",!0),l.changes?(u(),f("span",{key:9,"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-changes-details-"+l.id},a[28]||(a[28]=[e("i",{class:"ti ti-clock ti-sm text-warning",style:{cursor:"pointer"},title:"View Pending Mapping Changes Details"},null,-1)]),8,RPa)):b("",!0),l.changes?(u(),f("div",{key:10,class:"modal modal-top fade modal-xl",id:"vendor-mapping-changes-details-"+l.id,tabindex:"-1"},[e("div",TPa,[e("div",jPa,[e("div",OPa,[e("h6",null,n(o.$t("Mapping Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"vendor-mapping-changes-details-close-"+l.id,"aria-label":"Close"},null,8,MPa)]),e("div",LPa,[e("div",NPa,[e("div",FPa,[e("h6",null,n(o.$t("General Configuration")),1),(u(!0),f(W,null,X(l.changes.changes.vendor_configuration,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[i=="gst_number"?(u(),f("span",YPa,"KRA PIN: "+n(r),1)):b("",!0),i=="request_auto_finance"?(u(),f("span",VPa,n(o.$t("Request auto finance"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),i=="auto_approve_finance"?(u(),f("span",BPa,n(o.$t("Auto approve finance"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),i=="is_blocked"?(u(),f("span",UPa,n(o.$t("Block Company in Program"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),r!=""&&r!=null&&i!="gst_number"&&i!="request_auto_finance"&&i!="is_blocked"&&i!="auto_approve_finance"?(u(),f("span",qPa,n(i.replaceAll("_"," "))+": "+n(r),1)):b("",!0)]))),128))]),e("div",HPa,[e("h6",null,n(o.$t("Discount Details")),1),(u(!0),f(W,null,X(l.changes.changes.vendor_discount_details,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[typeof r=="string"&&r!=""&&r!=null?(u(),f("span",zPa,n(i.replaceAll("_"," "))+": "+n(r),1)):b("",!0),typeof r=="object"?(u(!0),f(W,{key:1},X(r,(d,p)=>(u(),f("span",{key:d,class:"m_title"},[p=="from_day"||p=="to_day"||p=="business_strategy_spread"||p=="credit_spread"||p=="total_roi"?(u(),f("span",WPa,n(p.replaceAll("_"," "))+": "+n(d),1)):b("",!0)]))),128)):b("",!0)]))),128))]),e("div",KPa,[e("h6",null,n(o.$t("Fees Details")),1),(u(!0),f(W,null,X(l.changes.changes.vendor_fee_details,r=>(u(),f("div",{class:"d-flex flex-column",key:r},[(u(!0),f(W,null,X(r,(i,d)=>(u(),f("div",{class:"m_title",key:i},[i!=""&&i!=null?(u(),f("span",GPa,n(d.replaceAll("_"," "))+": "+n(i),1)):b("",!0)]))),128))]))),128))]),e("div",QPa,[e("h6",null,n(o.$t("Bank Details")),1),(u(!0),f(W,null,X(l.changes.changes.vendor_bank_details,r=>(u(),f("div",{class:"d-flex flex-column",key:r},[(u(!0),f(W,null,X(r,(i,d)=>(u(),f("span",{class:"m_title",key:i},n(d.replaceAll("_"," "))+": "+n(i),1))),128))]))),128))])])]),l.changes.can_approve?(u(),f("div",ZPa,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveConfigChange(t.program_id,l.id,"reject")},n(o.$t("Reject")),9,JPa),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveConfigChange(t.program_id,l.id,"approve")},n(o.$t("Approve")),9,XPa)])):b("",!0)])])],8,SPa)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"vendor-mapping-details-"+l.id,tabindex:"-1"},[e("div",t4a,[e("div",o4a,[e("div",a4a,[e("h6",n4a,n(l.name)+" "+n(o.$t("Mapping details")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",s4a,[e("div",l4a,[e("div",i4a,[e("h6",r4a,n(o.$t("Sanctioned Limit"))+":",1),e("h6",d4a,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("div",c4a,[e("h6",u4a,n(o.$t("Drawing Power"))+":",1),e("h6",_4a,n(new Intl.NumberFormat().format(l.vendor_configuration.drawing_power)),1)]),e("div",m4a,[e("h6",f4a,n(o.$t("Eligibility"))+":",1),e("h6",h4a,n(l.vendor_configuration.eligibility)+"%",1)]),e("div",p4a,[e("h6",v4a,n(o.$t("Payment Account"))+":",1),e("h6",g4a,n(l.vendor_configuration.payment_account_number),1)]),e("div",b4a,[e("h6",y4a,n(o.$t("Limit Approval Date"))+":",1),e("h6",k4a,n(t.moment(l.vendor_configuration.limit_approved_date).format(t.date_format)),1)]),e("div",$4a,[e("h6",w4a,n(o.$t("Limit Expiry Date"))+":",1),e("h6",D4a,n(t.moment(l.vendor_configuration.limit_expiry_date).format(t.date_format)),1)]),e("div",C4a,[e("h6",x4a,n(o.$t("Limit Review Date"))+":",1),e("h6",P4a,n(t.moment(l.vendor_configuration.limit_review_date).format(t.date_format)),1)]),e("div",E4a,[e("h6",A4a,n(o.$t("Request Auto Finance"))+":",1),e("h6",I4a,n(l.vendor_configuration.request_auto_finance?"Yes":"No"),1)]),e("div",R4a,[e("h6",S4a,n(o.$t("Auto Approve Request"))+":",1),e("h6",T4a,n(l.vendor_configuration.auto_approve_finance?"Yes":"No"),1)]),e("div",j4a,[e("h6",O4a,n(o.$t("Auto Request Finance"))+":",1),e("h6",M4a,n(l.vendor_configuration.auto_request_finance?"Yes":"No"),1)]),l.vendor_discount_details&&l.vendor_discount_details.length>0?(u(),f("div",L4a,[e("h6",N4a,n(o.$t("Penal Discount on Principle"))+":",1),e("h6",F4a,n(l.vendor_discount_details[0].penal_discount_on_principle)+"% ",1)])):b("",!0)]),a[30]||(a[30]=e("hr",null,null,-1)),e("div",Y4a,[e("h6",null,n(o.$t("Discounts")),1)]),e("div",V4a,[e("div",B4a,[e("table",U4a,[e("thead",null,[e("tr",null,[t.vendors_type=="dealers"?(u(),f("th",q4a,n(o.$t("To Day")),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",H4a,n(o.$t("From Day")),1)):b("",!0),e("th",null,n(o.$t("Benchmark Rate")),1),e("th",null,n(o.$t("Business Strategy Spread")),1),e("th",null,n(o.$t("Credit Spread")),1),e("th",null,n(o.$t("Total Spread")),1),e("th",null,n(o.$t("Total ROI")),1),t.vendors_type=="vendors"?(u(),f("th",z4a,n(o.$t("Anchor Discount Bearing")),1)):b("",!0),t.vendors_type=="buyers"?(u(),f("th",W4a,n(o.$t("Buyer Discount Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",K4a,n(o.$t("Vendor Discount Bearing")),1)):b("",!0)])]),e("tbody",G4a,[(u(!0),f(W,null,X(l.vendor_discount_details,r=>(u(),f("tr",{key:r.id},[t.vendors_type=="dealers"?(u(),f("td",Q4a,n(r.from_day),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",Z4a,n(r.to_day),1)):b("",!0),e("td",null,n(r.benchmark_rate?r.benchmark_rate.toFixed(2):0)+"% ",1),e("td",null,n(r.business_strategy_spread?r.business_strategy_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.credit_spread?r.credit_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.total_spread?r.total_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.total_roi?r.total_roi.toFixed(2):0)+"%",1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",J4a,n(r.anchor_discount_bearing?r.anchor_discount_bearing.toFixed(2):0)+"% ",1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",X4a,n(r.vendor_discount_bearing?r.vendor_discount_bearing.toFixed(2):0)+"% ",1)):b("",!0)]))),128))])])])]),a[31]||(a[31]=e("hr",null,null,-1)),e("div",eEa,[e("h6",null,n(o.$t("Fees")),1)]),e("div",tEa,[e("div",oEa,[e("table",aEa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Value")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",nEa,n(o.$t("Vendor Bearing"))+"(%) ",1)):b("",!0),t.vendors_type=="vendors"?(u(),f("th",sEa,n(o.$t("Anchor Bearing"))+"(%)",1)):b("",!0),t.vendors_type=="buyers"?(u(),f("th",lEa,n(o.$t("Buyer Bearing"))+"(%)",1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",iEa,n(o.$t("Dealer Bearing"))+"(%)",1)):b("",!0),e("th",null,n(o.$t("Charge Type")),1),e("th",null,n(o.$t("Credit To")),1),e("th",null,n(o.$t("Taxes")),1)])]),e("tbody",rEa,[(u(!0),f(W,null,X(l.vendor_fee_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.fee_name),1),e("td",dEa,n(r.type),1),e("td",null,n(r.value),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",cEa,n(r.vendor_bearing_discount.toFixed(2)),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",uEa,n(r.anchor_bearing_discount.toFixed(2)),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",_Ea,n(r.dealer_bearing.toFixed(2)),1)):b("",!0),e("td",null,[r.charge_type==="daily"?(u(),f("span",mEa,n(o.$t("Per Day")),1)):(u(),f("span",fEa,n(r.charge_type),1))]),e("td",null,[e("span",null,n(r.account_number),1)]),e("td",null,[r.taxes?(u(),f("span",hEa,n(r.taxes)+"%",1)):b("",!0)])]))),128))])])])]),a[32]||(a[32]=e("hr",null,null,-1)),e("div",pEa,[e("h6",null,n(o.$t("Bank Accounts Details")),1)]),e("div",vEa,[e("div",gEa,[e("table",bEa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Bank")),1),e("th",null,n(o.$t("Swift Code")),1),e("th",null,n(o.$t("Branch")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Account Type")),1)])]),e("tbody",yEa,[(u(!0),f(W,null,X(l.vendor_bank_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name_as_per_bank),1),e("td",null,n(r.bank_name),1),e("td",null,n(r.swift_code),1),e("td",null,n(r.branch),1),e("td",null,n(r.account_number),1),e("td",null,n(r.account_type),1)]))),128))])])])])])])])],8,e4a),l.vendor_configuration.can_delete?(u(),f("a",{key:11,href:"#","data-bs-toggle":"modal","data-bs-target":"#delete-"+l.id},a[33]||(a[33]=[e("i",{class:"ti ti-trash ti-sm text-danger",title:"Delete Company Mapping"},null,-1)]),8,kEa)):b("",!0),e("div",{class:"modal fade",id:"delete-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",wEa,[e("div",DEa,[e("div",CEa,[e("h6",xEa,n(o.$t("Delete Mapping")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",PEa,[e("div",EEa,[e("h6",AEa,n(o.$t("Are you sure you want to delete the mapping with OD: "+l.vendor_configuration.payment_account_number))+"? ",1)])]),e("div",IEa,[e("button",{class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal",id:"delete-mapping-"+l.id},n(o.$t("Cancel")),9,REa),l.vendor_configuration.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>t.cancelDeleteMapping(l.id)},n(o.$t("Cancel Deletion")),9,SEa)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>t.deleteMapping(l.id,"approve")},n(o.$t("Delete")),9,TEa)])])])],8,$Ea)])])):b("",!0)]))),128))])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const OEa=Ue(dCa,[["render",jEa],["__scopeId","data-v-a3c5370e"]]),MEa={name:"Opportinities",props:["bank","can_create"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=h([]),t=o.can_create=="1"?h(!0):h(!1),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get("companies/opportunities/data").then(v=>{s.value=v.data.data.pending_companies})};ot([l],([v])=>{A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:v,name:c.value,deparment:m.value,product_type:_.value}}).then(g=>{s.value=g.data.data.pending_companies})});const i=()=>{let v=$(".ti-search").parent();v.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:l.value,name:c.value,deparment:m.value,product_type:_.value}}).then(g=>{s.value=g.data.data.pending_companies,v.html('<i class="ti ti-search"></i>')})},d=()=>{let v=$(".ti-refresh").parent();v.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:l.value}}).then(g=>{s.value=g.data.data.pending_companies,v.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{r()}),{companies:s,can_create:t,name_search:c,department_search:m,product_type_search:_,filter:i,refresh:d,per_page:l,changePage:async v=>{await A.get(v+"&per_page="+l.value).then(g=>{s.value=g.data.data.pending_companies})}}}},LEa={class:"card",id:"companies"},NEa={class:"p-2 d-flex justify-content-between"},FEa={class:"d-flex flex-wrap gap-1"},YEa={class:""},VEa={for:"Company Name",class:"form-label"},BEa=["placeholder"],UEa={class:""},qEa={for:"Product Type",class:"form-label"},HEa={value:""},zEa={value:"Vendor Financing"},WEa={value:"Dealer Financing"},KEa={class:"table-search-btn"},GEa={class:"table-clear-btn"},QEa={class:"d-flex justify-content-end mt-auto"},ZEa={class:""},JEa={class:"table-responsive"},XEa={class:"table"},eAa={class:""},tAa={class:"d-flex justify-content-center"},oAa={class:"table-border-bottom-0"},aAa={key:0},nAa={colspan:"12",class:"text-center"},sAa={class:"text-center"},lAa={key:1},iAa={colspan:"12",class:"text-center"},rAa={class:"text-center"},dAa={class:"text-primary text-decoration-underline"},cAa=["href"],uAa={key:1},_Aa={class:""},mAa={class:"me-1"},fAa={class:"me-1"},hAa={class:"d-flex justify-content-center"},pAa=["href"];function vAa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",LEa,[e("div",NEa,[e("div",FEa,[e("div",YEa,[e("label",VEa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,8,BEa),[[Q,t.name_search]])]),e("div",UEa,[e("label",qEa,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.product_type_search=l)},[e("option",HEa,n(o.$t("All")),1),e("option",zEa,n(o.$t("Vendor Financing")),1),e("option",WEa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",KEa,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",GEa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",QEa,[e("div",ZEa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",JEa,[e("table",XEa,[e("thead",null,[e("tr",eAa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Department")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Email")),1),e("th",tAa,n(o.$t("Actions")),1)])]),e("tbody",oAa,[t.companies.data?b("",!0):(u(),f("tr",aAa,[e("td",nAa,[e("span",sAa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",lAa,[e("td",iAa,[e("span",rAa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",dAa,[l.can_view?(u(),f("a",{key:0,href:"companies/pending/"+l.id+"/details"},n(l.company),9,cAa)):(u(),f("span",uAa,n(l.company),1))]),e("td",_Aa,n(l.department),1),e("td",null,[e("span",mAa,n(l.product),1)]),e("td",null,[e("span",fAa,n(l.email),1)]),e("td",hAa,[l.can_view?(u(),f("a",{key:0,href:"companies/pending/"+l.id+"/details"},a[8]||(a[8]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,pAa)):b("",!0)])]))),128))])])]),Be(_,{class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const gAa=Ue(MEa,[["render",vAa]]),bAa={name:"OdAccounts",props:["bank"],components:{Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]);h("");const c=h(""),m=h(""),_=h("OD Level"),l=h(""),r=h(""),i=h(""),d=h(""),p=h(0),v=h(0),g=h(null),D=h(""),y=h(null),C=["Refund"],x=["Fees"],E=h([]),k=h(""),w=h(""),T=h(""),V=h(50),B=h(!1),O=h(!0),L=async()=>{await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value,{params:{payment_account_number:k.value,anchor:w.value,dealer:T.value}}).then(z=>{t.value=z.data.programs,B.value=z.data.can_update})};ot([V],async([z])=>{await A.get(s+o.bank+"/companies/od-accounts/data",{params:{per_page:z,payment_account_number:k.value,anchor:w.value,dealer:T.value}}).then(ne=>{t.value=ne.data.programs})}),ot([_,l],([z,ne])=>{let xe=null;z=="Drawdown Level"?ne!=""&&t.value.data.forEach(Fe=>{Fe.invoices.forEach(he=>{he.id==ne&&(xe=he,p.value=Number(xe.balance).toLocaleString())})}):p.value=Number(y.value.utilized_amount).toLocaleString()}),ot([D],([z])=>{switch(z){case"Refund":A.get(s+o.bank+"/companies/od-accounts/"+g.value+"/Refund/accounts").then(ne=>{E.value=ne.data.accounts}).catch(ne=>{console.log(ne)});break;case"Fee":A.get(s+o.bank+"/companies/od-accounts/"+g.value+"/Fee/accounts").then(ne=>{E.value=ne.data.accounts}).catch(ne=>{console.log(ne)});break}}),ot(i,z=>{let ne=String(z).replaceAll(",",""),xe=String(p.value).replaceAll(",","");v.value=Number(xe-ne).toLocaleString(),i.value=Number(String(ne).replaceAll(/\D/g,"")).toLocaleString()});const R=async()=>{let z=$(".ti-search").parent();z.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value,{params:{payment_account_number:k.value,anchor:w.value,dealer:T.value}}).then(ne=>{t.value=ne.data.programs,B.value=ne.data.can_update,z.html('<i class="ti ti-search"></i>')})},P=async()=>{let z=$(".ti-refresh").parent();z.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value="",w.value="",T.value="",await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value).then(ne=>{t.value=ne.data.programs,B.value=ne.data.can_update,z.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{L()}),{od_accounts:t,changePage:async z=>{await A.get(z+"&per_page="+V.value).then(ne=>{t.value=ne.data.programs})},debit_from:c,credit_to:m,repayment_mode:_,repayment_against:l,credit_date:r,amount:i,initiate_cbs:d,total_outstanding:p,total_balance:v,debit_types:C,od_debit_type:D,credit_to_accounts:E,reversal_types:x,payment_account_number_search:k,anchor_search:w,dealer_search:T,per_page:V,can_update:B,can_credit_account:O,creditAccount:z=>{O.value=!1,A.post(s+o.bank+"/companies/od-accounts/credit-account",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),repayment_mode:_.value,initiate_cbs:d.value,invoice_id:l.value,credit_date:r.value}).then(()=>{a.success("Credit Account Request sent successfully"),document.getElementById("credit-od-account-close-btn-"+z).click(),L(),m.value="",c.value="",i.value=0,_.value="OD Level",d.value="",l.value="",r.value="",p.value=0,v.value=0}).catch(ne=>{let xe="";Object.values(ne.response.data).forEach(Fe=>{Fe.forEach((he,ie)=>{console.log(he),xe+=he+","})}),a.error(xe)}).finally(()=>{O.value=!0})},debitAccount:()=>{A.post(s+o.bank+"/companies/od-accounts/debit-account",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),initiate_cbs:d.value,credit_date:r.value}).then(()=>{a.success("Account debited successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(z=>{a.error(z.response.data.message),console.log(z)})},reversal:()=>{A.post(s+o.bank+"/companies/od-accounts/reversal",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),initiate_cbs:d.value,credit_date:r.value}).then(()=>{a.success("Reversal transaction added successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(z=>{a.error(z.response.data.message),console.log(z)})},selectOdAccount:z=>{y.value=z,m.value=z.payment_account_number,p.value=Number(z.utilized_amount).toLocaleString()},selectDebitOdAccount:z=>{g.value=z.id,c.value=z.payment_account_number},selectReverseOdAccount:z=>{c.value=z.vendor_bank_details[0].account_number,m.value=z.payment_account_number},getUtlizedLimit:z=>{let ne=0,xe=0;return ne=z.drawdown_amount,z.payments.forEach(Fe=>{xe+=Fe.amount}),ne-xe},getAvailableLimit:z=>{let ne=0,xe=0;return ne=z.drawdown_amount,z.payments.forEach(he=>{xe+=he.amount}),z.vendor_configuration.sanctioned_limit-(ne-xe)},filter:R,refresh:P}}},yAa={class:"card p-1",id:"companies"},kAa={class:"card-body"},$Aa={class:"d-flex justify-content-between"},wAa={class:"d-flex flex-wrap gap-1"},DAa={class:""},CAa={for:"OD Account",class:"form-label"},xAa={class:""},PAa={for:"Anchor",class:"form-label"},EAa={class:""},AAa={for:"Dealer",class:"form-label"},IAa={class:"table-search-btn"},RAa={class:"table-clear-btn"},SAa={class:"d-flex justify-content-end"},TAa={class:""},jAa={class:"table-responsive"},OAa={class:"table"},MAa={class:""},LAa={class:"table-border-bottom-0"},NAa={key:0},FAa={colspan:"12",class:"text-center"},YAa={class:"text-center"},VAa={key:1},BAa={colspan:"12",class:"text-center"},UAa={class:"text-center"},qAa={class:"m_title"},HAa={class:"text-success"},zAa={class:"text-success"},WAa={class:"text-success"},KAa={class:"text-success"},GAa={key:0},QAa={key:1},ZAa={class:"text-success"},JAa={class:"text-success"},XAa={class:"d-flex my-auto"},e6a=["href"],t6a=["onClick","data-bs-target"],o6a=["onClick","data-bs-target"],a6a=["onClick","data-bs-target"],n6a=["id"],s6a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},l6a={class:"modal-header"},i6a={class:"modal-title",id:"modalTopTitle"},r6a={class:"modal-body"},d6a={class:"row mb-1"},c6a={class:"form-group"},u6a={for:"",class:"form-label"},_6a={value:""},m6a=["value"],f6a={class:"form-group"},h6a={for:"",class:"form-label"},p6a={class:"form-group"},v6a={for:"",class:"form-label"},g6a=["value"],b6a={class:"form-group"},y6a={for:"Amount",class:"form-label d-flex"},k6a={class:"form-group"},$6a={for:"",class:"form-label d-flex"},w6a={class:"form-group"},D6a={for:"Status",class:"form-label"},C6a={value:"Yes"},x6a={value:"No"},P6a={class:"form-group"},E6a={for:"Amount",class:"form-label d-flex"},A6a={class:"modal-footer"},I6a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},R6a={type:"submit",class:"btn btn-primary"},S6a=["id"],T6a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},j6a={class:"modal-header"},O6a={class:"modal-title",id:"modalTopTitle"},M6a={class:"modal-body"},L6a={class:"row mb-1"},N6a={class:"form-group"},F6a={for:"",class:"form-label"},Y6a={value:""},V6a=["value"],B6a={class:"form-group"},U6a={for:"",class:"form-label"},q6a={value:""},H6a={class:"form-group"},z6a={for:"",class:"form-label"},W6a={class:"form-group"},K6a={for:"",class:"form-label"},G6a={class:"form-group"},Q6a={for:"Amount",class:"form-label d-flex"},Z6a={class:"form-group"},J6a={for:"",class:"form-label d-flex"},X6a={class:"form-group"},eIa={for:"Amount",class:"form-label d-flex"},tIa={class:"modal-footer"},oIa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},aIa={type:"submit",class:"btn btn-primary",disabled:""},nIa=["id"],sIa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},lIa=["onSubmit"],iIa={class:"modal-header"},rIa={class:"modal-title",id:"modalTopTitle"},dIa=["id"],cIa={class:"modal-body"},uIa={class:"row mb-1"},_Ia={class:"form-group"},mIa={for:"",class:"form-label"},fIa={class:"form-group"},hIa={for:"",class:"form-label"},pIa={value:""},vIa=["value"],gIa={class:"form-group my-2"},bIa={for:"Status",class:"form-label"},yIa={class:"d-flex"},kIa={class:"form-radio-group"},$Ia={for:"OD Level",class:"form-label"},wIa={class:"form-radio-group mx-4"},DIa={for:"Drawdown Level",class:"form-label"},CIa={key:0,class:"form-group"},xIa={for:"Status",class:"form-label"},PIa={value:""},EIa=["value"],AIa={class:"form-group"},IIa={for:"Amount",class:"form-label"},RIa={class:"form-group"},SIa={for:"Total Outstanding",class:"form-label"},TIa={class:"form-group"},jIa={for:"Total Outstanding",class:"form-label"},OIa={class:"form-group"},MIa={for:"",class:"form-label"},LIa={class:"form-group"},NIa={for:"Status",class:"form-label"},FIa={value:"Yes"},YIa={value:"No"},VIa={class:"modal-footer"},BIa=["disabled"],UIa=["disabled"];function qIa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",yAa,[e("div",kAa,[e("div",$Aa,[e("div",wAa,[e("div",DAa,[e("label",CAa,n(o.$t("Payment/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment/OD Account No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.payment_account_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.payment_account_number_search]])]),e("div",xAa,[e("label",PAa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",EAa,[e("label",AAa,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[4]||(a[4]=l=>t.dealer_search=l),onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.dealer_search]])]),e("div",IAa,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[33]||(a[33]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",RAa,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[34]||(a[34]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",SAa,[e("div",TAa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[35]||(a[35]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.od_accounts.meta?(u(),fe(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jAa,[e("table",OAa,[e("thead",null,[e("tr",MAa,[e("th",null,n(o.$t("Payment / OD Acc No")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Excess Credit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[36]||(a[36]=e("th",null,null,-1))])]),e("tbody",LAa,[t.od_accounts.data?b("",!0):(u(),f("tr",NAa,[e("td",FAa,[e("span",YAa,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",VAa,[e("td",BAa,[e("span",UAa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,n(l.anchor_name),1),e("td",null,n(l.company_name),1),e("td",qAa,n(l.status),1),e("td",HAa,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",zAa,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",WAa,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",KAa,[l.paid_amount>l.sanctioned_limit?(u(),f("span",GAa,n(new Intl.NumberFormat().format(l.paid_amount-l.sanctioned_limit)),1)):(u(),f("span",QAa," 0 "))]),e("td",ZAa,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",JAa,n(l.overdue_days),1),e("td",null,[e("div",XAa,[e("a",{href:"od-accounts/"+l.id+"/details"},a[37]||(a[37]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,e6a),t.can_update?(u(),f("i",{key:0,class:"ti ti-circle-plus ti-sm text-primary mx-1",onClick:r=>t.selectOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#credit-od-account-"+l.id,style:{cursor:"pointer"},title:"Credit to OD Account"},null,8,t6a)):b("",!0),t.can_update?(u(),f("i",{key:1,class:"ti ti-circle-minus ti-sm text-primary",onClick:r=>t.selectDebitOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#debit-od-account-"+l.id,style:{cursor:"pointer"},title:"Debit From OD Account"},null,8,o6a)):b("",!0),t.can_update?(u(),f("i",{key:2,class:"ti ti-rotate ti-sm text-primary",onClick:r=>t.selectReverseOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#reverse-od-account-"+l.id,style:{cursor:"pointer"},title:"Reversal"},null,8,a6a)):b("",!0)])]),e("td",null,[e("div",{class:"modal fade",id:"debit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",s6a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[15]||(a[15]=st(r=>t.debitAccount(),["prevent"]))},[e("div",l6a,[e("h5",i6a,n(o.$t("Add Debit to OD Account")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",r6a,[e("div",d6a,[e("div",c6a,[e("label",u6a,n(o.$t("Type")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.od_debit_type=r)},[e("option",_6a,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.debit_types,r=>(u(),f("option",{key:r,value:r},n(r),9,m6a))),128))],512),[[re,t.od_debit_type]])]),e("div",f6a,[e("label",h6a,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.debit_from=r),readonly:""},null,512),[[Q,t.debit_from]])]),e("div",p6a,[e("label",v6a,[le(n(o.$t("Credit To"))+" ",1),a[39]||(a[39]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[11]||(a[11]=r=>t.credit_to=r)},[a[40]||(a[40]=e("option",{value:""},"Select",-1)),(u(!0),f(W,null,X(t.credit_to_accounts,r=>(u(),f("option",{key:r,value:r},n(r),9,g6a))),128))],512),[[re,t.credit_to]])]),e("div",b6a,[e("label",y6a,[e("span",null,n(o.$t("Amount")),1),a[41]||(a[41]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[12]||(a[12]=r=>t.amount=r)},null,512),[[Q,t.amount]])]),e("div",k6a,[e("label",$6a,[e("span",null,n(o.$t("Effective Date")),1),a[42]||(a[42]=le()),a[43]||(a[43]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[13]||(a[13]=r=>t.credit_date=r)},null,512),[[Q,t.credit_date]])]),e("div",w6a,[e("label",D6a,n(o.$t("Initiate CBS")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[14]||(a[14]=r=>t.initiate_cbs=r)},[e("option",C6a,n(o.$t("Yes")),1),e("option",x6a,n(o.$t("No")),1)],512),[[re,t.initiate_cbs]])]),e("div",P6a,[e("label",E6a,[e("span",null,n(o.$t("Transaction Remark")),1),a[44]||(a[44]=e("span",{class:"text-danger"},"*",-1))]),a[45]||(a[45]=e("input",{type:"text",class:"form-control",id:"transaction-remark"},null,-1))])])]),e("div",A6a,[e("button",I6a,n(o.$t("Close")),1),e("button",R6a,n(o.$t("Submit")),1)])],32)])],8,n6a),e("div",{class:"modal fade",id:"reverse-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",T6a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[22]||(a[22]=st(r=>t.debitAccount(),["prevent"]))},[e("div",j6a,[e("h5",O6a,n(o.$t("Fees Reversal")),1),a[46]||(a[46]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",M6a,[e("div",L6a,[e("div",N6a,[e("label",F6a,[le(n(o.$t("Reversal Type"))+" ",1),a[47]||(a[47]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[16]||(a[16]=r=>t.od_debit_type=r)},[e("option",Y6a,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.reversal_types,r=>(u(),f("option",{key:r,value:r},n(r),9,V6a))),128))],512),[[re,t.od_debit_type]])]),e("div",B6a,[e("label",U6a,[le(n(o.$t("Entity to be reversed"))+" ",1),a[48]||(a[48]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[17]||(a[17]=r=>t.od_debit_type=r)},[e("option",q6a,n(o.$t("Select")),1)],512),[[re,t.od_debit_type]])]),e("div",H6a,[e("label",z6a,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[18]||(a[18]=r=>t.debit_from=r),readonly:""},null,512),[[Q,t.debit_from]])]),e("div",W6a,[e("label",K6a,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=r=>t.credit_to=r),readonly:""},null,512),[[Q,t.credit_to]])]),e("div",G6a,[e("label",Q6a,[e("span",null,n(o.$t("Amount")),1),a[49]||(a[49]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[20]||(a[20]=r=>t.amount=r)},null,512),[[Q,t.amount]])]),e("div",Z6a,[e("label",J6a,[e("span",null,n(o.$t("Credit Date")),1),a[50]||(a[50]=le()),a[51]||(a[51]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[21]||(a[21]=r=>t.credit_date=r)},null,512),[[Q,t.credit_date]])]),e("div",X6a,[e("label",eIa,[e("span",null,n(o.$t("Particulars")),1),a[52]||(a[52]=e("span",{class:"text-danger"},"*",-1))]),a[53]||(a[53]=e("input",{type:"text",class:"form-control",id:"transaction-remark"},null,-1))])])]),e("div",tIa,[e("button",oIa,n(o.$t("Close")),1),e("button",aIa,n(o.$t("Submit")),1)])],32)])],8,S6a),e("div",{class:"modal fade",id:"credit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",sIa,[e("form",{class:"modal-content",method:"POST",onSubmit:st(r=>t.creditAccount(l.id),["prevent"])},[e("div",iIa,[e("h5",rIa,n(o.$t("Add Funds to OD Account")),1),e("button",{type:"button",class:"btn-close",id:"credit-od-account-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,dIa)]),e("div",cIa,[e("div",uIa,[e("div",_Ia,[e("label",mIa,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=r=>t.credit_to=r),readonly:""},null,512),[[Q,t.credit_to]])]),e("div",fIa,[e("label",hIa,n(o.$t("Debit From")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[24]||(a[24]=r=>t.debit_from=r)},[e("option",pIa,n(o.$t("Select")),1),(u(!0),f(W,null,X(l.vendor_bank_details,r=>(u(),f("option",{key:r.id,value:r.account_number},n(r.account_number),9,vIa))),128))],512),[[re,t.debit_from]])]),e("div",gIa,[e("label",bIa,n(o.$t("Repayment Mode")),1),e("div",yIa,[e("div",kIa,[Y(e("input",{type:"radio",name:"repayment_mode",value:"OD Level",class:"mx-1",id:"od-level-radio","onUpdate:modelValue":a[25]||(a[25]=r=>t.repayment_mode=r)},null,512),[[X_,t.repayment_mode]]),e("label",$Ia,n(o.$t("OD Level")),1)]),e("div",wIa,[Y(e("input",{type:"radio",name:"repayment_mode",value:"Drawdown Level",id:"drawdown-level-radio",class:"form-radio-input mx-1","onUpdate:modelValue":a[26]||(a[26]=r=>t.repayment_mode=r)},null,512),[[X_,t.repayment_mode]]),e("label",DIa,n(o.$t("Drawdown Level")),1)])]),t.repayment_mode=="Drawdown Level"?(u(),f("div",CIa,[e("label",xIa,n(o.$t("Repayment Against")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[27]||(a[27]=r=>t.repayment_against=r)},[e("option",PIa,n(o.$t("Select")),1),(u(!0),f(W,null,X(l.invoices,r=>(u(),f("option",{key:r.id,value:r.id},n(r.invoice_number),9,EIa))),128))],512),[[re,t.repayment_against]])])):b("",!0)]),e("div",AIa,[e("label",IIa,n(o.$t("Amount")),1),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[28]||(a[28]=r=>t.amount=r)},null,512),[[Q,t.amount]])]),e("div",RIa,[e("label",SIa,n(o.$t("Total Outstanding")),1),Y(e("input",{type:"text",class:"form-control",readonly:"","onUpdate:modelValue":a[29]||(a[29]=r=>t.total_outstanding=r)},null,512),[[Q,t.total_outstanding]])]),e("div",TIa,[e("label",jIa,n(o.$t("Total Balance")),1),Y(e("input",{type:"text",class:"form-control",readonly:"","onUpdate:modelValue":a[30]||(a[30]=r=>t.total_balance=r)},null,512),[[Q,t.total_balance]])]),e("div",OIa,[e("label",MIa,n(o.$t("Credit Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[31]||(a[31]=r=>t.credit_date=r)},null,512),[[Q,t.credit_date]])]),e("div",LIa,[e("label",NIa,n(o.$t("Initiate CBS")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[32]||(a[32]=r=>t.initiate_cbs=r)},[e("option",FIa,n(o.$t("Yes")),1),e("option",YIa,n(o.$t("No")),1)],512),[[re,t.initiate_cbs]])])])]),e("div",VIa,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_credit_account},n(o.$t("Close")),9,BIa),e("button",{type:"submit",class:"btn btn-primary",disabled:!t.can_credit_account},n(t.can_credit_account?o.$t("Submit"):o.$t("Processing")),9,UIa)])],40,lIa)])],8,nIa)])]))),128))])])]),t.od_accounts.meta?(u(),fe(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const HIa=Ue(bAa,[["render",qIa]]),zIa={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){Je("baseURL");const a=lt(),s=h([]),t=o.can_add,c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{A.get("programs/exhausted/data?per_page="+r.value).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)})};Qe(()=>{i()});const d=C=>{switch(C){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},p=C=>parseFloat(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),v=(C,x)=>{A.get(`programs/${C}/update/status/${x}`).then(()=>{i(),a.success("Program status updated")}).catch(E=>{console.log(E)})};return ot([r],async([C])=>{await A.get("programs/exhausted/data",{params:{per_page:C,name:c.value,anchor:m.value,type:l.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)})}),{moment:H,can_add:t,programs:s,program_name_search:c,anchor_search:m,type_search:l,per_page:r,filter:async()=>{let C=$(".ti-search").parent();C.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)}).finally(()=>{C.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let C=$(".ti-refresh").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",await A.get("programs/data",{params:{per_page:r.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)}).finally(()=>{C.html('<i class="ti ti-refresh"></i>')})},resolveProgramStatus:d,NumFormatter:p,updateActiveStatus:v,changePage:async C=>{await A.get(C,{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(x=>{s.value=x.data.data})}}}},WIa={class:"p-2"},KIa={class:"d-flex justify-content-between"},GIa={class:"d-flex flex-wrap gap-1"},QIa={class:""},ZIa={for:"Name",class:"form-label"},JIa={class:""},XIa={for:"Name",class:"form-label"},e8a={class:""},t8a={for:"Name",class:"form-label"},o8a={value:""},a8a={value:"Vendor Financing"},n8a={value:"Dealer Financing"},s8a={class:"table-search-btn"},l8a={class:"table-clear-btn"},i8a={class:"d-flex flex-wrap gap-1 mt-auto"},r8a={class:""},d8a={class:"table-responsive"},c8a={class:"table"},u8a={class:""},_8a={class:"table-border-bottom-0"},m8a={key:0},f8a={colspan:"12",class:"text-center"},h8a={class:"text-center"},p8a={key:1},v8a={colspan:"12",class:"text-center"},g8a={class:"text-center"},b8a={class:"text-primary"},y8a=["href"],k8a={key:1},$8a={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted."},w8a={key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Program Changes awating approval"},D8a={key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Creation/Updation Awaiting Approval."},C8a={class:"text-primary text-decoration-underline"},x8a=["href"],P8a={key:1},E8a={class:""},A8a={class:"text-success"},I8a={class:"text-success"},R8a={class:""},S8a={class:"d-flex"},T8a=["href","title"],j8a=["href","title"];function O8a(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",WIa,[e("div",KIa,[e("div",GIa,[e("div",QIa,[e("label",ZIa,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.program_name_search]])]),e("div",JIa,[e("label",XIa,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",e8a,[e("label",t8a,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.type_search=l)},[e("option",o8a,n(o.$t("Program Type")),1),e("option",a8a,n(o.$t("Vendor Financing")),1),e("option",n8a,n(o.$t("Dealer Financing")),1)],512),[[re,t.type_search]])]),e("div",s8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",l8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",i8a,[e("div",r8a,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.programs.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",d8a,[e("table",c8a,[e("thead",null,[e("tr",u8a,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",_8a,[t.programs.data?b("",!0):(u(),f("tr",m8a,[e("td",f8a,[e("span",h8a,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",p8a,[e("td",v8a,[e("span",g8a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",b8a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,y8a)):(u(),f("span",k8a,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",$8a)):b("",!0),l.proposed_update>0?(u(),f("i",w8a)):b("",!0),l.account_status=="pending"?(u(),f("i",D8a)):b("",!0)]),e("td",C8a,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,x8a)):(u(),f("span",P8a,n(l.anchor.name),1))]),e("td",E8a,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",A8a,n(l.bank.default_currency)+" "+n(t.NumFormatter(l.program_limit)),1),e("td",I8a,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",R8a,[e("div",S8a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"badge bg-label-primary rounded-pill p-1 mx-1",title:o.$t("View Program Details")},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,T8a)):b("",!0),l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"badge bg-label-warning rounded-pill p-1 mx-1",title:o.$t("Edit Program")},a[12]||(a[12]=[e("i",{class:"ti ti-pencil ti-sm"},null,-1)]),8,j8a)):b("",!0)])])]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const M8a=Ue(zIa,[["render",O8a]]),L8a={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){Je("baseURL");const a=lt(),s=h([]),t=o.can_add,c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{A.get("programs/expired/data?per_page="+r.value).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)})};Qe(()=>{i()});const d=C=>{switch(C){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},p=C=>parseFloat(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),v=(C,x)=>{A.get(`programs/${C}/update/status/${x}`).then(()=>{i(),a.success("Program status updated")}).catch(E=>{console.log(E)})};return ot([r],async([C])=>{await A.get("programs/expired/data",{params:{per_page:C,name:c.value,anchor:m.value,type:l.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)})}),{moment:H,can_add:t,programs:s,program_name_search:c,anchor_search:m,type_search:l,per_page:r,filter:async()=>{let C=$(".ti-search").parent();C.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:r.value,name:c.value,anchor:m.value,type:l.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)}).finally(()=>{C.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let C=$(".ti-refresh").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",l.value="",await A.get("programs/data",{params:{per_page:r.value}}).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)}).finally(()=>{C.html('<i class="ti ti-refresh"></i>')})},resolveProgramStatus:d,NumFormatter:p,updateActiveStatus:v,changePage:async C=>{await A.get(C,{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(x=>{s.value=x.data.data})}}}},N8a={class:"p-2"},F8a={class:"d-flex justify-content-between"},Y8a={class:"d-flex flex-wrap gap-1"},V8a={class:""},B8a={for:"Name",class:"form-label"},U8a={class:""},q8a={for:"Name",class:"form-label"},H8a={class:""},z8a={for:"Name",class:"form-label"},W8a={value:""},K8a={value:"Vendor Financing"},G8a={value:"Dealer Financing"},Q8a={class:"table-search-btn"},Z8a={class:"table-clear-btn"},J8a={class:"d-flex gap-1 justify-content-end mt-auto"},X8a={class:""},eRa={class:"table-responsive"},tRa={class:"table"},oRa={class:""},aRa={class:"table-border-bottom-0"},nRa={key:0},sRa={colspan:"12",class:"text-center"},lRa={class:"text-center"},iRa={key:1},rRa={colspan:"12",class:"text-center"},dRa={class:"text-center"},cRa={class:"text-primary d-flex"},uRa=["href"],_Ra={key:1},mRa=["title"],fRa=["title"],hRa=["title"],pRa={class:"text-primary text-decoration-underline"},vRa=["href"],gRa={key:1},bRa={class:""},yRa={class:"text-success"},kRa={class:"text-success"},$Ra={class:""},wRa={class:"d-flex"},DRa=["href","title"],CRa=["href","title"];function xRa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",N8a,[e("div",F8a,[e("div",Y8a,[e("div",V8a,[e("label",B8a,n(o.$t("Program Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_name_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.program_name_search]])]),e("div",U8a,[e("label",q8a,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),placeholder:"Anchor",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.anchor_search]])]),e("div",H8a,[e("label",z8a,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.type_search=l)},[e("option",W8a,n(o.$t("Program Type")),1),e("option",K8a,n(o.$t("Vendor Financing")),1),e("option",G8a,n(o.$t("Dealer Financing")),1)],512),[[re,t.type_search]])]),e("div",Q8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Z8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",J8a,[e("div",X8a,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),t.programs.meta?(u(),fe(_,{key:0,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",eRa,[e("table",tRa,[e("thead",null,[e("tr",oRa,[a[11]||(a[11]=e("th",null,[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"})])],-1)),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",aRa,[t.programs.data?b("",!0):(u(),f("tr",nRa,[e("td",sRa,[e("span",lRa,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",iRa,[e("td",rRa,[e("span",dRa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[a[14]||(a[14]=e("td",null,[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"})])],-1)),e("td",cRa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,uRa)):(u(),f("span",_Ra,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Limit is almost depleted")},null,8,mRa)):b("",!0),l.proposed_update>0?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,fRa)):b("",!0),l.account_status=="pending"?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,hRa)):b("",!0)]),e("td",pRa,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,vRa)):(u(),f("span",gRa,n(l.anchor.name),1))]),e("td",bRa,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",yRa,n(l.bank.default_currency)+" "+n(t.NumFormatter(l.program_limit)),1),e("td",kRa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",$Ra,[e("div",wRa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"badge bg-label-primary rounded-pill p-1 mx-1",title:o.$t("View Program Details")},a[12]||(a[12]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,DRa)):b("",!0),l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"badge bg-label-warning rounded-pill p-1 mx-1",title:o.$t("Edit Program")},a[13]||(a[13]=[e("i",{class:"ti ti-pencil ti-sm"},null,-1)]),8,CRa)):b("",!0)])])]))),128))])])]),t.programs.meta?(u(),fe(_,{key:1,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const PRa=Ue(L8a,[["render",xRa]]),ERa={name:"DownloadButtons",props:["downloadingPdf","downloadingExcel"],data:()=>({spinner:"../../assets/img/spinner.svg"}),methods:{downloadReport(){this.$emit("download-report")},downloadPdf(){this.$emit("download-pdf")}}},ARa={class:"d-flex gap-1"},IRa={key:0,class:"d-flex"},RRa=["src"],SRa={key:0,class:"d-flex"},TRa=["src"];function jRa(o,a,s,t,c,m){return u(),f("div",ARa,[e("button",{type:"button",id:"download-excel",onClick:a[0]||(a[0]=(..._)=>m.downloadReport&&m.downloadReport(..._)),style:{height:"fit-content"},class:"btn btn-primary"},[s.downloadingExcel?(u(),f("img",{key:1,src:o.spinner,style:{width:"1rem"}},null,8,RRa)):(u(),f("span",IRa,[a[2]||(a[2]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",id:"download-pdf",onClick:a[1]||(a[1]=(..._)=>m.downloadPdf&&m.downloadPdf(..._)),style:{height:"fit-content"},class:"btn btn-primary"},[s.downloadingPdf?(u(),f("img",{key:1,src:o.spinner,style:{width:"1rem"}},null,8,TRa)):(u(),f("span",SRa,[a[3]||(a[3]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])}const no=Ue(ERa,[["render",jRa]]),ORa={name:"ActivityLogs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value}}).then(C=>{s.value=C.data.data})};return Qe(()=>{d()}),{moment:H,logs:s,per_page:i,user_type:t,user_role:c,description:m,start_date:_,end_date:l,filter:async()=>{let C=$(".ti-search").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value=$("#date_search").val(),r.value&&(_.value=H(r.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(r.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value,user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(x=>{s.value=x.data.data,C.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let C=$(".ti-refresh").parent();C.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value}}).then(x=>{s.value=x.data.data,C.html('<i class="ti ti-refresh"></i>')})},changePage:async C=>{await A.get(C,{params:{per_page:i.value,user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(x=>{s.value=x.data.data,parent.html('<i class="ti ti-refresh"></i>')})},downloadReport:()=>{A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"logs",user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`ActivityLogs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)})},downloadPdf:()=>{A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"logs",user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Activity_logs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)})}}}},MRa={class:"card p-3"},LRa={class:"d-flex justify-content-between"},NRa={class:"d-flex flex-wrap gap-1"},FRa={class:""},YRa={for:"",class:"form-label"},VRa={class:""},BRa={for:"",class:"form-label"},URa={value:""},qRa={value:""},HRa={value:"Bank"},zRa={value:"Anchor"},WRa={value:"Vendor"},KRa={value:"Dealer"},GRa={class:""},QRa={class:"form-label",for:""},ZRa={class:"table-search-btn"},JRa={class:"table-clear-btn"},XRa={class:"d-flex justify-content-end gap-1 mt-auto"},eSa={class:""},tSa={class:""},oSa={class:"table-responsive"},aSa={class:"table"},nSa={class:""},sSa={class:"table-border-bottom-0"},lSa={key:0},iSa={colspan:"12",class:"text-center"},rSa={class:"text-center"},dSa={key:1},cSa={colspan:"12",class:"text-center"},uSa={class:"text-center"},_Sa={key:0},mSa={key:0},fSa={key:1},hSa={key:0},pSa={class:"mx-1"},vSa={key:1},gSa={key:2},bSa={key:3},ySa={key:4},kSa={key:0},$Sa={key:1},wSa={style:{cursor:"pointer","max-width":"250px","overflow-x":"clip"}},DSa=["title"],CSa={key:1};function xSa(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",MRa,[e("div",LRa,[e("div",NRa,[e("div",FRa,[e("label",YRa,n(o.$t("Search by description")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Search Description","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=r=>t.description=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.description]])]),e("div",VRa,[e("label",BRa,n(o.$t("User Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.user_type=r)},[e("option",URa,n(o.$t("Select")),1),e("option",qRa,n(o.$t("All Users")),1),e("option",HRa,n(o.$t("Bank")),1),e("option",zRa,n(o.$t("Anchor")),1),e("option",WRa,n(o.$t("Vendor")),1),e("option",KRa,n(o.$t("Dealer")),1)],512),[[re,t.user_type]])]),e("div",GRa,[e("label",QRa,n(o.$t("Date")),1),a[6]||(a[6]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",ZRa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",JRa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",XRa,[e("div",eSa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[re,t.per_page]])]),e("div",tSa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf},null,8,["onDownloadReport","onDownloadPdf"])])])]),t.logs.meta?(u(),fe(l,{key:0,class:"mx-2",from:t.logs.meta.from,to:t.logs.meta.to,links:t.logs.meta.links,next_page:t.logs.links.next,prev_page:t.logs.links.prev,total_items:t.logs.meta.total,first_page_url:t.logs.links.first,last_page_url:t.logs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",oSa,[e("table",aSa,[e("thead",null,[e("tr",nSa,[e("th",null,n(o.$t("User")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("Description")),1),e("th",null,n(o.$t("IP")),1),e("th",null,n(o.$t("Device Info")),1),e("th",null,n(o.$t("Date & Time")),1)])]),e("tbody",sSa,[t.logs.data?b("",!0):(u(),f("tr",lSa,[e("td",iSa,[e("span",rSa,n(o.$t("Loading Data"))+"...",1)])])),t.logs.data&&t.logs.data.length<=0?(u(),f("tr",dSa,[e("td",cSa,[e("span",uSa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.logs.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[r.causer&&r.causer_type=="App\\Models\\User"?(u(),f("span",_Sa,n(r.causer.name),1)):b("",!0)]),e("td",null,[r.properties&&r.properties.user_type?(u(),f("span",mSa,n(r.properties.user_type),1)):(u(),f("span",fSa,"-"))]),e("td",null,[r.causer&&r.causer_type=="App\\Models\\User"?(u(),f("span",hSa,n(r.causer.name),1)):b("",!0),e("span",pSa,n(r.description),1),r.subject&&r.subject_type=="App\\Models\\Company"?(u(),f("span",vSa,n(", Company: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\Invoice"?(u(),f("span",gSa,n(", Invoice: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\CbsTransaction"?(u(),f("span",bSa,n(", CBS Transaction: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\PaymentRequest"?(u(),f("span",ySa,n(", Payment Request: "+r.subject),1)):b("",!0)]),e("td",null,[r.properties&&r.properties.ip?(u(),f("span",kSa,n(r.properties.ip),1)):(u(),f("span",$Sa,"-"))]),e("td",wSa,[r.properties&&r.properties.device_info?(u(),f("span",{key:0,title:r.properties.device_info},n(r.properties.device_info),9,DSa)):(u(),f("span",CSa,"-"))]),e("td",null,n(t.moment(r.created_at).format("DD MMM YYYY HH:mm A")),1)]))),128))])])]),t.logs.meta?(u(),fe(l,{key:1,class:"mx-2",from:t.logs.meta.from,to:t.logs.meta.to,links:t.logs.meta.links,next_page:t.logs.links.next,prev_page:t.logs.links.prev,total_items:t.logs.meta.total,first_page_url:t.logs.links.first,last_page_url:t.logs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const PSa=Ue(ORa,[["render",xSa]]),ESa={name:"CreditAccountRequests",components:{Pagination:St},props:["bank"],setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(""),_=h(""),l=h(50),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h("desc"),D=h(""),y=async()=>{await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value,sort_by:g.value}}).then(S=>{c.value=S.data.payment_requests}).catch(S=>{console.log(S)})};return a.expose({getRequests:y}),Qe(()=>{}),{moment:H,requests:c,per_page:l,debit_from:r,company_name:i,from_date:d,to_date:p,status:v,sort_by:g,filter:async()=>{D.value=$("#car_date_search").val(),D.value&&(d.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),console.log(D.value);let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value,debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(F=>{c.value=F.data.payment_requests,S.html('<i class="ti ti-search"></i>')})},refresh:async()=>{r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",D.value="",$("#car_date_search").val("");let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value}}).then(F=>{c.value=F.data.payment_requests,S.html('<i class="ti ti-refresh"></i>')})},resolvePaymentRequestStatus:S=>{let F="";switch(S){case"created":F="bg-label-primary";break;case"approved":F="bg-label-success";break;case"paid":F="bg-label-success";break;case"failed":F="bg-label-danger";break;case"rejected":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},resolveStatus:S=>{let F="";switch(S){case"pending":F="bg-label-primary";break;case"sent":F="bg-label-secondary";break;case"approved":F="bg-label-success";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},changePage:async S=>{await A.get(S,{params:{per_page:l.value,debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(F=>{c.value=F.data.payment_requests})},isPaid:S=>{let F="";return S.cbs_transactions.length>0&&S.cbs_transactions[0].pay_date!=null&&S.cbs_transactions[0].pay_date!=""?F=S.cbs_transactions[0].pay_date:F=!1,F},getTotalAmount:S=>{let F=0;return S.forEach(N=>{F+=N.quantity*N.price_per_quantity}),F},getTaxesAmount:S=>{let F=0;return S.forEach(N=>{F+=N.value}),F},getFeesAmount:S=>{let F=0;return S.forEach(N=>{F+=N.amount}),F},resolveFinancingStatus:S=>{let F="";switch(S){case"pending":F="bg-label-primary";break;case"financed":F="bg-label-primary";break;case"closed":F="bg-label-success";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},updateRequestStatus:m,updateRequestRejectionReason:_,updateStatus:(S,F)=>{const N=new FormData;N.append("payment_request_id",S.id),N.append("status",F),N.append("rejection_reason",_.value),A.post(t+o.bank+"/requests/credit-account-requests/update",N).then(()=>{s.success("Payment Request updated"),y()}).catch(U=>{console.log(U),s.error("An error occurred")})},getTaxPercentage:(S,F)=>Math.round(F/S*100),exprotPaymentRequests:()=>{A.get(t+o.bank+"/requests/credit-account-requests/data/export",{responseType:"arraybuffer",method:"GET",params:{debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`Credit_requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)})}}}},ASa={class:""},ISa={class:"d-flex justify-content-between"},RSa={class:"d-flex flex-wrap"},SSa={class:"mx-1"},TSa={for:"Debit From",class:"form-label"},jSa={class:"mx-1"},OSa={for:"Company Name",class:"form-label"},MSa={class:"mx-1"},LSa={class:"form-label",for:""},NSa={class:"mx-1 d-none"},FSa={for:"Status",class:"form-label"},YSa={value:""},VSa={value:"approved"},BSa={value:"paid"},USa={class:"mx-1"},qSa={for:"Sort by",class:"form-label"},HSa={value:""},zSa={value:"asc"},WSa={value:"desc"},KSa={class:"mx-1 my-auto"},GSa={class:"mx-1 my-auto"},QSa={class:"d-flex"},ZSa={class:"mx-1"},JSa={class:"mx-1"},XSa={class:"table-responsive"},eTa={class:"table"},tTa={class:""},oTa={class:"px-1"},aTa={class:"px-1"},nTa={class:"px-1"},sTa={class:"px-1"},lTa={class:"px-1"},iTa={class:"table-border-bottom-0"},rTa={key:0},dTa={colspan:"12",class:"text-center"},cTa={class:"text-center"},uTa={key:1},_Ta={colspan:"12",class:"text-center"},mTa={class:"text-center"},fTa=["data-bs-target"],hTa={class:"text-primary text-decoration-underline px-1"},pTa=["href"],vTa={class:"text-success px-1"},gTa={class:"px-1"},bTa={class:"px-1"},yTa={key:0},kTa=["id"],$Ta={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},wTa={class:"modal-content"},DTa={class:"modal-header"},CTa={class:"modal-title",id:"modalCenterTitle"},xTa={class:"modal-body"},PTa={class:"table-responsive"},ETa={class:"table"},ATa={class:"text-success"};function ITa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",ASa,[e("div",ISa,[e("div",RSa,[e("div",SSa,[e("label",TSa,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.debit_from=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.debit_from]])]),e("div",jSa,[e("label",OSa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.company_name=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[Q,t.company_name]])]),e("div",MSa,[e("label",LSa,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"car_date_search",class:"form-control form-search",name:"car_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",NSa,[e("label",FSa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l)},[e("option",YSa,n(o.$t("Status")),1),e("option",VSa,n(o.$t("Approved")),1),e("option",BSa,n(o.$t("Paid")),1)],512),[[re,t.status]])]),e("div",USa,[e("label",qSa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.sort_by=l)},[e("option",HSa,n(o.$t("Sort By")),1),e("option",zSa,n(o.$t("Ascending")),1),e("option",WSa,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",KSa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",GSa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",QSa,[e("div",ZSa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",JSa,[e("button",{type:"button",class:"btn btn-primary",onClick:a[9]||(a[9]=(...l)=>t.exprotPaymentRequests&&t.exprotPaymentRequests(...l)),style:{height:"fit-content"}},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-sm"},null,-1)]))])])]),Be(_,{from:t.requests.from,to:t.requests.to,links:t.requests.links,next_page:t.requests.next_page_url,prev_page:t.requests.prev_page_url,total_items:t.requests.total,first_page_url:t.requests.first_page_url,last_page_url:t.requests.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",XSa,[e("table",eTa,[e("thead",null,[e("tr",tTa,[e("th",null,n(o.$t("Debit From"))+".",1),e("th",null,n(o.$t("Credit To"))+".",1),e("th",oTa,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Code")),1),e("th",aTa,n(o.$t("Amount")),1),e("th",nTa,n(o.$t("Pay Date")),1),e("th",sTa,n(o.$t("Paid Date")),1),e("th",lTa,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",iTa,[t.requests.data?b("",!0):(u(),f("tr",rTa,[e("td",dTa,[e("span",cTa,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",uTa,[e("td",_Ta,[e("span",mTa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.program.bank_details[0].account_number),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+l.id,style:{cursor:"pointer"}},n(l.payment_accounts.length)+" "+n(o.$t("Account(s)")),9,fTa),e("td",hTa,[e("a",{href:"../companies/"+l.company.id+"/details"},n(l.company.name),9,pTa)]),e("td",null,n(l.program.program_type.name),1),e("td",vTa,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.amount)),1),e("td",gTa,n(t.moment(l.credit_date).format("DD MMM YYYY")),1),e("td",bTa,[t.isPaid(l)?(u(),f("span",yTa,n(t.moment(t.isPaid(l)).format("DD MMM YYYY")),1)):b("",!0)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title px-1",t.resolvePaymentRequestStatus(l.status)])},n(l.status),3)]),e("td",null,[e("div",{class:"modal fade",id:"payment-accounts-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",$Ta,[e("div",wTa,[e("div",DTa,[e("h5",CTa,n(o.$t("Accounts")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xTa,[e("div",PTa,[e("table",ETa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Amount")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(l.payment_accounts,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.account),1),e("td",ATa,n(new Intl.NumberFormat().format(r.amount)),1)]))),128))])])])])])])],8,kTa)])]))),128))])])]),Be(_,{from:t.requests.from,to:t.requests.to,links:t.requests.links,next_page:t.requests.next_page_url,prev_page:t.requests.prev_page_url,total_items:t.requests.total,first_page_url:t.requests.first_page_url,last_page_url:t.requests.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const RTa=Ue(ESa,[["render",ITa]]),STa={name:"Payments",components:{PaymentRequests:$D,PaymentReports:wD,CbsTransactions:DD,CreditAccountRequests:RTa},props:["bank","can_upload","can_update","can_view_cbs","can_view_payment_requests","date_format"],setup(o){const a=o.can_upload,s=o.can_update,t=o.can_view_cbs,c=o.can_view_payment_requests,m=o.date_format,_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{_.value.getRequests()}),{can_upload:a,can_update:s,can_view_cbs:t,can_view_payment_requests:c,payment_requests:_,payment_reports:l,credit_account_requests:r,cbs_transactions:i,date_format:m,switchTabs:p=>{switch(p){case"payment_requests":_.value.getRequests();break;case"payment_reports":l.value.getRequests();break;case"credit_account_requests":r.value.getRequests();break;case"cbs_transactions":i.value.getRequests();break}}}}},TTa={class:"nav-align-top nav-tabs-shadow mb-4"},jTa={class:"nav nav-tabs",role:"tablist"},OTa={key:0,class:"nav-item"},MTa={key:1,class:"nav-item"},LTa={class:"tab-content"},NTa={key:0,class:"tab-pane fade show active",id:"navs-all-invoices",role:"tabpanel"},FTa={key:1,class:"tab-pane fade show",id:"navs-cbs-transactions",role:"tabpanel"};function YTa(o,a,s,t,c,m){const _=de("payment-requests"),l=de("cbs-transactions");return u(),f("div",TTa,[e("ul",jTa,[t.can_view_payment_requests?(u(),f("li",OTa,[e("button",{type:"button",class:"nav-link active text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices","aria-controls":"navs-all-invoices","aria-selected":"true",onClick:a[0]||(a[0]=r=>t.switchTabs("payment_requests"))},n(o.$t("Payment Requests")),1)])):b("",!0),t.can_view_cbs?(u(),f("li",MTa,[e("button",{type:"button",class:"nav-link text-sm text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-cbs-transactions","aria-controls":"navs-cbs-transactions","aria-selected":"false",onClick:a[1]||(a[1]=r=>t.switchTabs("cbs_transactions"))},n(o.$t("CBS Transactions")),1)])):b("",!0)]),e("div",LTa,[t.can_view_payment_requests?(u(),f("div",NTa,[Be(_,{bank:s.bank,ref:"payment_requests",date_format:t.date_format},null,8,["bank","date_format"])])):b("",!0),t.can_view_cbs?(u(),f("div",FTa,[Be(l,{bank:s.bank,can_update:t.can_update,can_upload:t.can_upload,ref:"cbs_transactions",date_format:t.date_format},null,8,["bank","can_update","can_upload","date_format"])])):b("",!0)])])}const VTa=Ue(STa,[["render",YTa]]),BTa={name:"BaseRates",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(!0),g=h(""),D=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value}}).then(O=>{l.value=O.data}).catch(O=>{console.log(O)})},C=O=>{g.value=O.id,i.value=O.name,d.value=O.rate,p.value=O.effective_date,v.value=O.is_default,D.value=!0},x=()=>{A.post(s+o.bank+"/configurations/base-rates/store",{name:i.value,rate:d.value,effective_date:p.value,is_default:v.value}).then(O=>{a.success(O.data.message),i.value="",d.value="",p.value="",v.value=!1,y(),document.getElementById("close-add-modal").click()}).catch(O=>{console.log(O),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/base-rates/update",{base_rate_id:g.value,name:i.value,rate:d.value,effective_date:p.value,is_default:v.value}).then(O=>{a.success(O.data.message),g.value="",i.value="",d.value="",p.value="",v.value=!1,D.value=!1,y(),document.getElementById("close-edit-modal-"+g.value).click()}).catch(O=>{console.log(O),a.error("An error occurred")})},k=(O,L)=>{A.get(s+o.bank+`/configurations/base-rates/${O}/status/${L}/update`).then(()=>{y(),a.success("Status updated")}).catch(R=>{console.log(R)})},w=(O,L,R)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:O,id:L,status:R}).then(P=>{a.success(P.data.message),y(),document.getElementById("close-edited-rate-changes-"+L).click()}).catch(P=>{console.log(P),a.error("An error occurred")})};return Qe(()=>{y()}),ot(r,O=>{A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:O,name:m.value,status:_.value}}).then(L=>{l.value=L.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,rate:d,effective_date:p,is_default:v,showEditModal:D,addNewBaseRate:x,updateBaseRate:E,updateActiveStatus:k,editBaseRate:C,approveChange:w,changePage:async O=>{await A.get(O,{params:{per_page:r.value,name:m.value,status:_.value}}).then(L=>{l.value=L.data})},filter:()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(L=>{l.value=L.data}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},refresh:()=>{m.value="",_.value="";let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value}}).then(L=>{l.value=L.data}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},name_search:m,status_search:_}}},UTa={class:"card p-2"},qTa={class:"d-flex justify-content-between"},HTa={class:"d-flex flex-wrap gap-1"},zTa={class:""},WTa={for:"Name",class:"form-label"},KTa={class:""},GTa={for:"Status search",class:"form-label"},QTa={value:""},ZTa={value:"active"},JTa={value:"inactive"},XTa={class:"table-search-btn"},eja={class:"table-clear-btn"},tja={class:"d-flex justify-content-end gap-1 mt-auto"},oja={class:""},aja={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},nja={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},sja={class:"modal-dialog"},lja={class:"modal-header"},ija={class:"modal-title",id:"modalTopTitle"},rja={class:"modal-body my-1"},dja={class:"form-group"},cja={for:"Name",class:"form-label"},uja={class:"form-group my-1"},_ja={for:"Name",class:"form-label"},mja={class:"form-group my-1"},fja={for:"Name",class:"form-label"},hja={class:"form-group my-1"},pja={for:"default",class:"form-label"},vja={class:"d-flex text-nowrap"},gja={class:"form-check form-switch mb-2"},bja={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},yja={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},kja={class:"modal-footer"},$ja={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},wja={type:"submit",class:"btn btn-primary"},Dja={class:"table-responsive"},Cja={class:"table"},xja={class:""},Pja={class:"table-border-bottom-0"},Eja={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Base Rate creation/updation awating approval"},Aja={key:0,class:"badge bg-label-success"},Ija={key:1,class:"badge bg-label-danger"},Rja={class:"flex"},Sja=["onClick"],Tja=["onClick"],jja=["onClick","data-bs-target"],Oja=["id"],Mja={class:"modal-dialog"},Lja={class:"modal-header"},Nja={class:"modal-title",id:"modalTopTitle"},Fja=["id"],Yja={class:"modal-body my-1"},Vja={class:"form-group"},Bja={for:"Name",class:"form-label"},Uja={class:"form-group my-1"},qja={for:"Name",class:"form-label"},Hja={class:"form-group my-1"},zja={for:"Name",class:"form-label"},Wja={class:"form-group my-1"},Kja={for:"default",class:"form-label"},Gja={class:"d-flex text-nowrap"},Qja={class:"form-check form-switch mb-2"},Zja={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Jja={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Xja={class:"modal-footer"},eOa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},tOa={type:"submit",class:"btn btn-primary"},oOa=["data-bs-target"],aOa=["id"],nOa={class:"modal-dialog"},sOa={class:"modal-content"},lOa={class:"modal-header"},iOa={class:"modal-title",id:"modalTopTitle"},rOa=["id"],dOa={class:"modal-body my-1"},cOa={class:"col-sm-12 col-md-6 m_title"},uOa={class:"col-sm-12 col-md-6"},_Oa={class:"modal-footer"},mOa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},fOa=["onClick"],hOa=["onClick"];function pOa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",UTa,[e("div",qTa,[e("div",HTa,[e("div",zTa,[e("label",WTa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Base Rate Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[Q,t.name_search]])]),e("div",KTa,[e("label",GTa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",QTa,n(o.$t("Status")),1),e("option",ZTa,n(o.$t("Active")),1),e("option",JTa,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",XTa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",eja,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tja,[e("div",oja,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content"}},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",aja,n(o.$t("New Base Rate")),1)):b("",!0),e("div",nja,[e("div",sja,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",lja,[e("h5",ija,n(o.$t("Add New Base Rate")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rja,[e("div",dja,[e("label",cja,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[Q,t.name]])]),e("div",uja,[e("label",_ja,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.rate=l),step:".01"},null,512),[[Q,t.rate]])]),e("div",mja,[e("label",fja,n(o.$t("Effective From")),1),Y(e("input",{type:"date",name:"effective_date",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.effective_date=l)},null,512),[[Q,t.effective_date]])]),e("div",hja,[e("label",pja,n(o.$t("Default Rate")),1),e("div",vja,[e("div",gja,[e("label",bja,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[9]||(a[9]=l=>t.is_default=l)},null,512),[[Yo,t.is_default]]),e("label",yja,n(o.$t("Yes")),1)])])])]),e("div",kja,[e("button",$ja,n(o.$t("Close")),1),e("button",wja,n(o.$t("Submit")),1)])],32)])])])]),e("div",Dja,[e("table",Cja,[e("thead",null,[e("tr",xja,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Rate"))+" (%)",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Default")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Pja,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",Eja)):b("",!0)]),e("td",null,n(l.rate),1),e("td",null,[l.status=="Active"?(u(),f("span",Aja,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",Ija,n(l.status),1)):b("",!0)]),e("td",null,[e("span",null,n(l.is_default?"Yes":"No"),1)]),e("td",Rja,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,Sja)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,Tja)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,jja)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",Mja,[e("form",{class:"modal-content",method:"POST",onSubmit:a[15]||(a[15]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",Lja,[e("h5",Nja,n(o.$t("Edit Base Rate")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+o.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Fja)]),e("div",Yja,[e("div",Vja,[e("label",Bja,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",Uja,[e("label",qja,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",step:".01",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.rate=r)},null,512),[[Q,t.rate]])]),e("div",Hja,[e("label",zja,n(o.$t("Effective From")),1),Y(e("input",{type:"date",name:"effective_date",id:"",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.effective_date=r)},null,512),[[Q,t.effective_date]])]),e("div",Wja,[e("label",Kja,n(o.$t("Default Rate")),1),e("div",Gja,[e("div",Qja,[e("label",Zja,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[14]||(a[14]=r=>t.is_default=r)},null,512),[[Yo,t.is_default]]),e("label",Jja,n(o.$t("Yes")),1)])])])]),e("div",Xja,[e("button",eOa,n(o.$t("Close")),1),e("button",tOa,n(o.$t("Submit")),1)])],32)])],8,Oja),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,oOa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",nOa,[e("div",sOa,[e("div",lOa,[e("h5",iOa,n(o.$t("Proposed Base Rate Changes")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-edited-rate-changes-"+l.id},null,8,rOa)]),e("div",dOa,[(u(!0),f(W,null,X(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",cOa,n(i)+":",1),e("div",uOa,n(r),1)]))),128))]),e("div",_Oa,[e("button",mOa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankBaseRate",l.id,"reject")},n(o.$t("Reject")),9,fOa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankBaseRate",l.id,"approve")},n(o.$t("Approve")),9,hOa)])])])],8,aOa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const vOa=Ue(BTa,[["render",pOa],["__scopeId","data-v-c0b7ebf8"]]),gOa={name:"CompanyUsers",props:["bank"],components:{RouterLink:el,Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),D=h(""),y=h([]),C=h(""),x=h([]),E=h(""),k=h([]),w=h(""),T=h([]),V=h(""),B=h(""),O=h(""),L=h(50),R=async()=>{await A.get(s+o.bank+"/configurations/users/data",{params:{per_page:L.value}}).then(ce=>{t.value=ce.data.users,c.value=ce.data.roles})};return Qe(()=>{R()}),{base_url:s,per_page:L,bank:m,users:t,roles:c,name:_,email:l,phone_number:r,user_role:i,selected_role:d,receive_notifications:p,notification_channels:v,reporting_manager:g,record_visibility:D,record_visibilities:y,location_type:C,location_types:x,location:E,locations:k,applicable_product:w,applicable_products:T,search:V,role_search:B,status:O,filter:()=>{let ce=$(".ti-search").parent();ce.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/users/data",{params:{per_page:L.value,search:V.value,role:B.value,status:O.value}}).then(ae=>{t.value=ae.data.users}).finally(()=>{ce.html('<i class="ti ti-search"></i>')})},refresh:()=>{V.value="",B.value="",O.value="";let ce=$(".ti-refresh").parent();ce.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/users/data",{params:{per_page:L.value}}).then(ae=>{t.value=ae.data.users}).finally(()=>{ce.html('<i class="ti ti-refresh"></i>')})},approveChanges:ce=>{A.post(s+o.bank+"/configurations/users/"+ce+"/changes/approve",{status:"approved"}).then(ae=>{a.success(ae.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(ae=>{a.error(ae.response.data.message)})},rejectChanges:ce=>{A.post(s+o.bank+"/configurations/users/"+ce+"/changes/approve",{status:"rejected"}).then(ae=>{a.success(ae.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(ae=>{a.error(ae.response.data.message)})},updateUser:ce=>{A.post(s+o.bank+"/configurations/users/"+ce+"/update",{name:_.value,email:l.value,phone_number:r.value,role:i.value}).then(ae=>{a.success(ae.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(ae=>{a.error(ae.response.data.message)})},changePage:async ce=>{await A.get(ce,{params:{per_page:L.value}}).then(ae=>{t.value=ae.data.users})},updateActiveStatus:(ce,ae)=>{A.get(s+o.bank+"/configurations/users/"+ce+"/status/update/"+ae).then(J=>{R(),a.success(J.data.message)}).catch(J=>{console.log(J)})}}}},bOa={class:"p-2"},yOa={class:"d-flex justify-content-between"},kOa={class:"d-flex flex-wrap gap-1"},$Oa={class:""},wOa={class:"form-label"},DOa={class:""},COa={class:"form-label"},xOa={class:""},POa={class:"form-label"},EOa={value:""},AOa={value:"active"},IOa={value:"inactive"},ROa={class:"mt-auto"},SOa={class:"mt-auto"},TOa={class:"d-flex justify-content-end mt-auto"},jOa={class:""},OOa={class:"table-responsive"},MOa={class:"table"},LOa={class:""},NOa={class:"table-border-bottom-0"},FOa={key:0},YOa={colspan:"12",class:"text-center"},VOa={class:"text-center"},BOa={key:1},UOa={colspan:"12",class:"text-center"},qOa={class:"text-center"},HOa={class:""},zOa={key:0,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},WOa={key:1,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},KOa={class:""},GOa={class:"d-flex"},QOa={key:0,class:"ti ti-clock ti-sm text-primary my-auto mx-2",title:"User Creation/Updation awaiting approval"},ZOa=["data-bs-target"],JOa=["href"],XOa=["data-bs-target"],eMa=["data-bs-target"],tMa=["onClick"],oMa=["onClick"],aMa=["id"],nMa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},sMa=["onSubmit"],lMa={class:"modal-content"},iMa={class:"modal-header"},rMa={class:"modal-title",id:"modalCenterTitle"},dMa={class:"row g-3 p-3"},cMa={class:"col-sm-6"},uMa={class:"form-label",for:"name"},_Ma={class:"col-sm-6"},mMa={class:"form-label",for:"email"},fMa={class:"col-sm-6"},hMa={class:"form-label",for:"phone-number"},pMa={class:"col-sm-6"},vMa={class:"form-label",for:"role"},gMa={value:""},bMa=["value","selected"],yMa={class:"modal-footer"},kMa={type:"submit",class:"btn btn-primary"},$Ma=["id"],wMa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},DMa=["onSubmit"],CMa={class:"modal-content"},xMa={class:"modal-header"},PMa={class:"modal-title",id:"modalCenterTitle"},EMa={key:0,class:"modal-body"},AMa={key:0},IMa={class:"m_title"},RMa={key:1},SMa={class:"modal-footer"},TMa={type:"submit",class:"btn btn-primary"},jMa=["id"],OMa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},MMa=["onSubmit"],LMa={class:"modal-content"},NMa={class:"modal-header"},FMa={class:"modal-title",id:"modalCenterTitle"},YMa={key:0,class:"modal-body"},VMa={key:0},BMa={class:"m_title"},UMa={key:1},qMa={class:"modal-footer"},HMa={type:"submit",class:"btn btn-primary"},zMa=["id"],WMa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},KMa={class:"modal-content"},GMa={class:"modal-header"},QMa={class:"modal-title",id:"modalCenterTitle"},ZMa={key:0,class:"modal-body"},JMa={key:0},XMa={class:"m_title"},e9a={key:1};function t9a(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",bOa,[e("div",yOa,[e("div",kOa,[e("div",$Oa,[e("label",wOa,n(o.$t("User Name/Email/Phone Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.search=l),placeholder:"User Name/User Email/Phone Number","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.search]])]),e("div",DOa,[e("label",COa,n(o.$t("Roles")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.role_search=l),placeholder:"User Roles","aria-describedby":"defaultFormControlHelp"},null,544),[[Q,t.role_search]])]),e("div",xOa,[e("label",POa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l)},[e("option",EOa,n(o.$t("Status")),1),e("option",AOa,n(o.$t("Active")),1),e("option",IOa,n(o.$t("Inactive")),1)],512),[[re,t.status]])]),e("div",ROa,[e("button",{class:"btn btn-primary",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",SOa,[e("button",{class:"btn btn-primary",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",TOa,[e("div",jOa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",OOa,[e("table",MOa,[e("thead",null,[e("tr",LOa,[e("th",null,n(o.$t("User Name")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Phone Number")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",NOa,[t.users.data?b("",!0):(u(),f("tr",FOa,[e("td",YOa,[e("span",VOa,n(o.$t("Loading Data"))+"...",1)])])),t.users.data&&t.users.data.length<=0?(u(),f("tr",BOa,[e("td",UOa,[e("span",qOa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.users.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",HOa,[le(n(l.name)+" ",1),l.has_pending_config?(u(),f("i",zOa)):b("",!0),l.changes?(u(),f("i",WOa)):b("",!0)]),e("td",null,n(l.roles.length>0?l.roles[0].name:""),1),e("td",KOa,n(l.email),1),e("td",null,[e("span",null,n(l.phone_number),1)]),e("td",GOa,[l.has_pending_config?(u(),f("i",QOa)):b("",!0),l.changes?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary my-auto mx-2",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#user-change-"+l.id,title:"User Creation/Updation awaiting approval"},null,8,ZOa)):b("",!0),l.can_edit&&!l.has_pending_config&&!l.changes?(u(),f("a",{key:2,href:"users/"+l.id+"/edit",class:"",title:"Edit User Details"},a[15]||(a[15]=[e("i",{class:"ti ti-pencil text-warning"},null,-1)]),8,JOa)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:3,href:"#",class:"",title:"Approve User Details Change","data-bs-toggle":"modal","data-bs-target":"#approve-user-change-"+l.id},a[16]||(a[16]=[e("i",{class:"ti ti-check text-success"},null,-1)]),8,XOa)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:4,href:"#",class:"",title:"Reject User Details Change","data-bs-toggle":"modal","data-bs-target":"#reject-user-change-"+l.id},a[17]||(a[17]=[e("i",{class:"ti ti-circle-x text-danger mx-1"},null,-1)]),8,eMa)):b("",!0),!l.is_current_user&&!l.has_pending_config&&l.banks[0].pivot.active==1?(u(),f("i",{key:5,class:"ti ti-thumb-up ti-sm text-success my-auto mx-2",title:"Click to Suspend User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,tMa)):b("",!0),!l.is_current_user&&!l.has_pending_config&&l.banks[0].pivot.active==0?(u(),f("i",{key:6,class:"ti ti-thumb-down ti-sm text-danger my-auto mx-2",title:"Click to Activate User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,oMa)):b("",!0),e("div",{class:"modal fade",id:"update-user-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",nMa,[e("form",{method:"post",onSubmit:st(r=>t.updateUser(l.id),["prevent"])},[e("div",lMa,[e("div",iMa,[e("h5",rMa,n(o.$t("Edit User")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",dMa,[e("div",cMa,[e("label",uMa,n(o.$t("Name")),1),Y(e("input",{type:"text",id:"name",name:"name",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",_Ma,[e("label",mMa,n(o.$t("Email")),1),Y(e("input",{type:"email",id:"email",name:"email",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.email=r)},null,512),[[Q,t.email]])]),e("div",fMa,[e("label",hMa,n(o.$t("Phone Number")),1),Y(e("input",{type:"tel",id:"phone-number",class:"form-control",name:"phone_number",placeholder:"Enter Phone Number","onUpdate:modelValue":a[10]||(a[10]=r=>t.phone_number=r),maxlength:"12"},null,512),[[Q,t.phone_number]])]),e("div",pMa,[e("label",vMa,n(o.$t("Role")),1),Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=r=>t.user_role=r)},[e("option",gMa,n(o.$t("Select User's Role")),1),(u(!0),f(W,null,X(t.roles,r=>(u(),f("option",{key:r.id,value:r.id,selected:r.RoleName==t.selected_role},n(r.RoleName),9,bMa))),128))],512),[[re,t.user_role]])])]),e("div",yMa,[e("button",kMa,n(o.$t("Submit")),1)])])],40,sMa)])],8,aMa),e("div",{class:"modal fade",id:"approve-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",wMa,[e("form",{method:"post",onSubmit:st(r=>t.approveChanges(l.id),["prevent"])},[e("div",CMa,[e("div",xMa,[e("h5",PMa,n(o.$t("Edit User")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",EMa,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",AMa,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{key:d,class:"d-flex flex-col"},[e("span",IMa,n(p.replaceAll("_"," ")),1),le(": "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",RMa,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0),e("div",SMa,[e("button",TMa,n(o.$t("Confirm")),1)])])],40,DMa)])],8,$Ma),e("div",{class:"modal fade",id:"reject-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",OMa,[e("form",{method:"post",onSubmit:st(r=>t.rejectChanges(l.id),["prevent"])},[e("div",LMa,[e("div",NMa,[e("h5",FMa,n(o.$t("Edit User")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",YMa,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",VMa,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{key:d},[e("span",BMa,n(p),1),le(": "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",UMa,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0),e("div",qMa,[e("button",HMa,n(o.$t("Confirm")),1)])])],40,MMa)])],8,jMa),l.changes?(u(),f("div",{key:7,class:"modal fade",id:"user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",WMa,[e("div",KMa,[e("div",GMa,[e("h5",QMa,n(o.$t("User Changes")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",ZMa,[(u(!0),f(W,null,X(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",JMa,[(u(!0),f(W,null,X(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",XMa,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",e9a,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0)])])],8,zMa)):b("",!0)])]))),128))])])]),Be(_,{from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const o9a=Ue(gOa,[["render",t9a],["__scopeId","data-v-4fbce071"]]),a9a={name:"Taxes",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(!0),g=h(""),D=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(O=>{l.value=O.data}).catch(O=>{console.log(O)})},C=O=>{g.value=O.id,i.value=O.tax_name,d.value=O.value,p.value=O.account_no,v.value=O.is_default,D.value=!0},x=()=>{A.post(s+o.bank+"/configurations/tax-rates/store",{tax_name:i.value,value:d.value,account_no:p.value,is_default:v.value}).then(O=>{a.success(O.data.message),i.value="",d.value="",p.value="",v.value=!1,y(),document.getElementById("close-add-modal").click()}).catch(O=>{console.log(O),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/tax-rates/update",{tax_rate_id:g.value,tax_name:i.value,value:d.value,account_no:p.value,is_default:v.value}).then(O=>{a.success(O.data.message),g.value="",i.value="",d.value="",p.value="",v.value=!1,D.value=!1,y(),document.getElementById("close-edit-modal-"+g.value)}).catch(O=>{console.log(O),a.error("An error occurred")})},k=(O,L)=>{A.get(s+o.bank+`/configurations/tax-rates/${O}/status/${L}/update`).then(()=>{y(),a.success("Status updated")}).catch(R=>{console.log(R)})},w=(O,L,R)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:O,id:L,status:R}).then(P=>{a.success(P.data.message),y(),document.getElementById("close-changes-modal-"+L)}).catch(P=>{console.log(P),a.error("An error occurred")})};Qe(()=>{y()});const T=()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(L=>{l.value=L.data}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},V=()=>{m.value="",_.value="";let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value}}).then(L=>{l.value=L.data}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})};return ot(r,O=>{A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:O,name:m.value,status:_.value}}).then(L=>{l.value=L.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,rate:d,account_no:p,is_default:v,showEditModal:D,addNewBaseRate:x,updateBaseRate:E,updateActiveStatus:k,editBaseRate:C,approveChange:w,changePage:async O=>{await A.get(O,{params:{per_page:r.value,name:m.value,status:_.value}}).then(L=>{l.value=L.data})},filter:T,refresh:V,name_search:m,status_search:_}}},n9a={class:"card p-2"},s9a={class:"d-flex justify-content-between"},l9a={class:"d-flex flex-wrap gap-1"},i9a={class:""},r9a={for:"Name",class:"form-label"},d9a={class:""},c9a={for:"Status Search",class:"form-label"},u9a={value:""},_9a={value:"active"},m9a={value:"inactive"},f9a={class:"table-search-btn"},h9a={class:"table-clear-btn"},p9a={class:"d-flex justify-content-end gap-1 mt-auto"},v9a={class:""},g9a={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},b9a={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},y9a={class:"modal-dialog"},k9a={class:"modal-header"},$9a={class:"modal-title",id:"modalTopTitle"},w9a={class:"modal-body my-1"},D9a={class:"form-group"},C9a={for:"Name",class:"form-label"},x9a={class:"form-group my-1"},P9a={for:"Name",class:"form-label"},E9a={class:"form-group my-1"},A9a={for:"Name",class:"form-label"},I9a={class:"form-group my-1"},R9a={for:"default",class:"form-label"},S9a={class:"d-flex text-nowrap"},T9a={class:"form-check form-switch mb-2"},j9a={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},O9a={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},M9a={class:"modal-footer"},L9a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},N9a={type:"submit",class:"btn btn-primary"},F9a={class:"table-responsive"},Y9a={class:"table"},V9a={class:""},B9a={class:"table-border-bottom-0"},U9a={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Tax Rate creation/updation awating approval"},q9a={key:0,class:"badge bg-label-success"},H9a={key:1,class:"badge bg-label-danger"},z9a={class:"flex"},W9a=["onClick"],K9a=["onClick"],G9a=["onClick","data-bs-target"],Q9a=["id"],Z9a={class:"modal-dialog"},J9a={class:"modal-header"},X9a={class:"modal-title",id:"modalTopTitle"},e7a=["id"],t7a={class:"modal-body my-1"},o7a={class:"form-group"},a7a={for:"Name",class:"form-label"},n7a={class:"form-group my-1"},s7a={for:"Name",class:"form-label"},l7a={class:"form-group my-1"},i7a={for:"Name",class:"form-label"},r7a={class:"form-group my-1"},d7a={for:"default",class:"form-label"},c7a={class:"d-flex text-nowrap"},u7a={class:"form-check form-switch mb-2"},_7a={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},m7a={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},f7a={class:"modal-footer"},h7a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},p7a={type:"submit",class:"btn btn-primary"},v7a=["data-bs-target"],g7a=["id"],b7a={class:"modal-dialog"},y7a={class:"modal-content"},k7a={class:"modal-header"},$7a={class:"modal-title",id:"modalTopTitle"},w7a=["id"],D7a={class:"modal-body my-1"},C7a={class:"col-sm-12 col-md-6 m_title"},x7a={class:"col-sm-12 col-md-6"},P7a={class:"modal-footer"},E7a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},A7a=["onClick"],I7a=["onClick"];function R7a(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",n9a,[e("div",s9a,[e("div",l9a,[e("div",i9a,[e("label",r9a,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l)},null,512),[[Q,t.name_search]])]),e("div",d9a,[e("label",c9a,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[1]||(a[1]=l=>t.status_search=l)},[e("option",u9a,n(o.$t("Status")),1),e("option",_9a,n(o.$t("Active")),1),e("option",m9a,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",f9a,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",h9a,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",p9a,[e("div",v9a,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",g9a,n(o.$t("New Tax Rate")),1)):b("",!0),e("div",b9a,[e("div",y9a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",k9a,[e("h5",$9a,n(o.$t("Add New Tax Rate")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",w9a,[e("div",D9a,[e("label",C9a,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=l=>t.name=l),required:""},null,512),[[Q,t.name]])]),e("div",x9a,[e("label",P9a,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.rate=l),step:".01",required:""},null,512),[[Q,t.rate]])]),e("div",E9a,[e("label",A9a,n(o.$t("Account No")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.account_no=l),required:""},null,512),[[Q,t.account_no]])]),e("div",I9a,[e("label",R9a,n(o.$t("Default Rate")),1),e("div",S9a,[e("div",T9a,[e("label",j9a,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[8]||(a[8]=l=>t.is_default=l)},null,512),[[Yo,t.is_default]]),e("label",O9a,n(o.$t("Yes")),1)])])])]),e("div",M9a,[e("button",L9a,n(o.$t("Close")),1),e("button",N9a,n(o.$t("Submit")),1)])],32)])])])]),e("div",F9a,[e("table",Y9a,[e("thead",null,[e("tr",V9a,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Rate"))+" (%)",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Default")),1),e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",B9a,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.tax_name)+" ",1),l.change||l.proposed_update?(u(),f("i",U9a)):b("",!0)]),e("td",null,n(l.value),1),e("td",null,[l.status=="Active"?(u(),f("span",q9a,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",H9a,n(l.status),1)):b("",!0)]),e("td",null,[e("span",null,n(l.is_default?"Yes":"No"),1)]),e("td",null,n(l.account_no),1),e("td",z9a,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,W9a)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,K9a)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,G9a)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",Z9a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",J9a,[e("h5",X9a,n(o.$t("Edit Tax Rate")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,e7a)]),e("div",t7a,[e("div",o7a,[e("label",a7a,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.name=r),required:""},null,512),[[Q,t.name]])]),e("div",n7a,[e("label",s7a,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.rate=r),step:".01",required:""},null,512),[[Q,t.rate]])]),e("div",l7a,[e("label",i7a,n(o.$t("Account No")),1),Y(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.account_no=r),required:""},null,512),[[Q,t.account_no]])]),e("div",r7a,[e("label",d7a,n(o.$t("Default Rate")),1),e("div",c7a,[e("div",u7a,[e("label",_7a,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[13]||(a[13]=r=>t.is_default=r)},null,512),[[Yo,t.is_default]]),e("label",m7a,n(o.$t("Yes")),1)])])])]),e("div",f7a,[e("button",h7a,n(o.$t("Close")),1),e("button",p7a,n(o.$t("Submit")),1)])],32)])],8,Q9a),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,v7a)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",b7a,[e("div",y7a,[e("div",k7a,[e("h5",$7a,n(o.$t("Proposed Holiday Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,w7a)]),e("div",D7a,[(u(!0),f(W,null,X(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",C7a,n(i)+":",1),e("div",x7a,n(r),1)]))),128))]),e("div",P7a,[e("button",E7a,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankTaxRate",l.id,"reject")},n(o.$t("Reject")),9,A7a),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankTaxRate",l.id,"approve")},n(o.$t("Approve")),9,I7a)])])])],8,g7a)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const S7a=Ue(a9a,[["render",R7a],["__scopeId","data-v-6e8d67cb"]]),T7a={name:"Holidays",components:{Pagination:St},props:["bank","can_update","can_upload","date_format"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=o.date_format,_=h([]),l=h(50),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(""),D=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})};ot(l,P=>{A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:P,name:d.value,status:p.value}}).then(I=>{_.value=I.data})});const C=async()=>{await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value,name:d.value,status:p.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})},x=async()=>{d.value="",p.value="",await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})},E=()=>{A.get(s+o.bank+"/configurations/holidays/sample/download",{responseType:"arraybuffer",method:"GET"}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download","Holidays.csv"),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)})},k=P=>{P.preventDefault();let I=P.target.files||P.dataTransfer.files;I.length&&(v.value=I[0])},w=()=>{const P=new FormData;P.append("holidays",v.value),A.post(s+o.bank+"/configurations/holidays/import",P).then(I=>{a.success("Holidays uploaded successfully"),y()}).catch(I=>{I.response.data.uploaded>0&&a.success(I.response.data.uploaded+" uploaded."),I.response.data.total_rows-I.response.data.uploaded>0&&(a.error(I.response.data.total_rows-I.response.data.uploaded+" failed to upload."),a.error("An error occurred")),v.value=null,document.getElementById("close-bulk-upload-modal").click()}).finally(()=>{y()})},T=P=>{g.value=P.id,r.value=P.name,i.value=P.date,D.value=!0},V=()=>{A.post(s+o.bank+"/configurations/holidays/store",{name:r.value,date:i.value}).then(P=>{a.success(P.data.message),r.value="",i.value="",setTimeout(()=>{window.location.reload()},4e3)}).catch(P=>{console.log(P),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/holidays/update",{edit_id:g.value,name:r.value,date:i.value}).then(P=>{a.success(P.data.message),g.value="",r.value="",i.value="",D.value=!1,setTimeout(()=>{window.location.reload()},3e3)}).catch(P=>{console.log(P),a.error("An error occurred")})},O=(P,I)=>{A.get(s+o.bank+`/configurations/holiday/${P}/status/${I}/update`).then(()=>{y(),a.success("Status updated")}).catch(S=>{console.log(S)})},L=(P,I,S)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:P,id:I,status:S}).then(F=>{a.success(F.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(F=>{console.log(F),a.error("An error occurred")})};return Qe(()=>{y()}),{per_page:l,can_upload:c,can_update:t,rates:_,name:r,date:i,showEditModal:D,name_search:d,status_search:p,filter:C,refresh:x,addNewBaseRate:V,updateBaseRate:B,editBaseRate:T,updateActiveStatus:O,approveChange:L,changePage:async P=>{await A.get(P,{params:{per_page:l.value}}).then(I=>{_.value=I.data})},downloadSample:E,changeFile:k,uploadHolidays:w,moment:H,date_format:m}}},j7a={class:"card p-2"},O7a={class:"d-flex justify-content-between"},M7a={class:"d-flex flex-wrap gap-1"},L7a={class:""},N7a={for:"Name",class:"form-label"},F7a=["placeholder"],Y7a={class:""},V7a={for:"Status",class:"form-label"},B7a={value:""},U7a={value:"active"},q7a={value:"inactive"},H7a={class:"table-search-btn"},z7a={class:"table-clear-btn"},W7a={class:"d-flex justify-content-end gap-1 mt-auto"},K7a={class:""},G7a={class:""},Q7a={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},Z7a={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},J7a={class:"modal-dialog"},X7a={class:"modal-header"},eLa={class:"modal-title",id:"modalTopTitle"},tLa={class:"modal-body my-1"},oLa={class:"form-group"},aLa={for:"Name",class:"form-label"},nLa={class:"form-group my-1"},sLa={for:"Name",class:"form-label"},lLa={class:"modal-footer"},iLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},rLa={type:"submit",class:"btn btn-primary"},dLa={key:0,type:"button",class:"btn btn-primary btn-md text-nowrap","data-bs-toggle":"modal","data-bs-target":"#uploadHolidays"},cLa={class:"modal modal-top fade",id:"uploadHolidays",tabindex:"-1"},uLa={class:"modal-dialog"},_La={class:"modal-header"},mLa={class:"modal-title",id:"modalTopTitle"},fLa={class:"modal-body my-1"},hLa={class:"form-group"},pLa={for:"Name",class:"form-label"},vLa={class:"modal-footer"},gLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},bLa={type:"submit",class:"btn btn-primary"},yLa={class:"table-responsive"},kLa={class:"table"},$La={class:""},wLa={class:"table-border-bottom-0"},DLa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Holiday creation/updation awating approval"},CLa={key:0,class:"badge bg-label-success"},xLa={key:1,class:"badge bg-label-danger"},PLa={class:"flex"},ELa=["onClick"],ALa=["onClick"],ILa=["onClick","data-bs-target"],RLa=["id"],SLa={class:"modal-dialog"},TLa={class:"modal-header"},jLa={class:"modal-title",id:"modalTopTitle"},OLa={class:"modal-body my-1"},MLa={class:"form-group"},LLa={for:"Name",class:"form-label"},NLa={class:"form-group my-1"},FLa={for:"Name",class:"form-label"},YLa={class:"modal-footer"},VLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},BLa={type:"submit",class:"btn btn-primary"},ULa=["data-bs-target"],qLa=["id"],HLa={class:"modal-dialog"},zLa={class:"modal-content"},WLa={class:"modal-header"},KLa={class:"modal-title",id:"modalTopTitle"},GLa={class:"modal-body my-1"},QLa={class:"col-sm-12 col-md-6 m_title"},ZLa={class:"col-sm-12 col-md-6"},JLa={class:"modal-footer"},XLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},eNa=["onClick"],tNa=["onClick"];function oNa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",j7a,[e("div",O7a,[e("div",M7a,[e("div",L7a,[e("label",N7a,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:o.$t("Name"),"aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,40,F7a),[[Q,t.name_search]])]),e("div",Y7a,[e("label",V7a,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",B7a,n(o.$t("Status")),1),e("option",U7a,n(o.$t("Active")),1),e("option",q7a,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",H7a,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",z7a,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",W7a,[e("div",K7a,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",G7a,[t.can_upload?(u(),f("button",Q7a,n(o.$t("Add New Holiday")),1)):b("",!0)]),e("div",Z7a,[e("div",J7a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[8]||(a[8]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",X7a,[e("h5",eLa,n(o.$t("Add New Holiday")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",tLa,[e("div",oLa,[e("label",aLa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[Q,t.name]])]),e("div",nLa,[e("label",sLa,n(o.$t("Date")),1),Y(e("input",{type:"date",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.date=l)},null,512),[[Q,t.date]])])]),e("div",lLa,[e("button",iLa,n(o.$t("Close")),1),e("button",rLa,n(o.$t("Submit")),1)])],32)])]),e("div",null,[t.can_upload?(u(),f("button",dLa,n(o.$t("Bulk Upload")),1)):b("",!0)]),e("div",cLa,[e("div",uLa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[11]||(a[11]=st((...l)=>t.uploadHolidays&&t.uploadHolidays(...l),["prevent"]))},[e("div",_La,[e("h5",mLa,n(o.$t("Upload Holidays")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"close-bulk-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",fLa,[e("div",hLa,[e("label",pLa,n(o.$t("Select File")),1),e("input",{type:"file",accept:".xlsx,.csv",id:"",class:"form-control",onChange:a[9]||(a[9]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",vLa,[e("button",{class:"btn btn-warning",onClick:a[10]||(a[10]=(...l)=>t.downloadSample&&t.downloadSample(...l))},n(o.$t("Download Sample")),1),e("button",gLa,n(o.$t("Close")),1),e("button",bLa,n(o.$t("Upload")),1)])],32)])])])]),e("div",yLa,[e("table",kLa,[e("thead",null,[e("tr",$La,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",wLa,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",DLa)):b("",!0)]),e("td",null,n(t.moment(l.date).format(t.date_format)),1),e("td",null,[l.status=="Active"?(u(),f("span",CLa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",xLa,n(l.status),1)):b("",!0)]),e("td",PLa,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Holiday",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,ELa)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Holiday",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,ALa)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,ILa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",SLa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",TLa,[e("h5",jLa,n(o.$t("Edit Holiday")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",OLa,[e("div",MLa,[e("label",LLa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",NLa,[e("label",FLa,n(o.$t("Date")),1),Y(e("input",{type:"date",min:"0",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.date=r)},null,512),[[Q,t.date]])])]),e("div",YLa,[e("button",VLa,n(o.$t("Close")),1),e("button",BLa,n(o.$t("Submit")),1)])],32)])],8,RLa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,ULa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",HLa,[e("div",zLa,[e("div",WLa,[e("h5",KLa,n(o.$t("Proposed Holiday Changes")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close",id:"close-changes-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",GLa,[(u(!0),f(W,null,X(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",QLa,n(i)+":",1),e("div",ZLa,n(r),1)]))),128))]),e("div",JLa,[e("button",XLa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankHoliday",l.id,"reject")},n(o.$t("Reject")),9,eNa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankHoliday",l.id,"approve")},n(o.$t("Approve")),9,tNa)])])])],8,qLa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const aNa=Ue(T7a,[["render",oNa],["__scopeId","data-v-9c776401"]]),nNa={name:"Branches",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(!1),x=async()=>{await A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value}}).then(L=>{l.value=L.data}).catch(L=>{console.log(L)})},E=L=>{y.value=L.id,i.value=L.name,d.value=L.code,p.value=L.location,v.value=L.status=="Active"?"active":"inactive",D.value=L.address,g.value=L.address,C.value=!0},k=()=>{A.post(s+o.bank+"/configurations/branches/store",{name:i.value,code:d.value,location:p.value,city:g.value,address:D.value,status:v.value}).then(L=>{a.success(L.data.message),i.value="",d.value="",p.value="",D.value="",g.value="",v.value="active",x(),document.getElementById("close-add-modal").click()}).catch(L=>{console.log(L),a.error("An error occurred")})},w=()=>{A.post(s+o.bank+"/configurations/branches/update",{branch_id:y.value,name:i.value,code:d.value,location:p.value,city:g.value,address:D.value,status:v.value}).then(L=>{a.success(L.data.message),y.value="",i.value="",d.value="",p.value="",g.value="",D.value="",v.value="active",C.value=!1,x(),document.getElementById("clode-edit-modal-"+y.value)}).catch(L=>{console.log(L),a.error("An error occurred")})},T=(L,R,P)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:L,id:R,status:P}).then(I=>{a.success(I.data.message),x()}).catch(I=>{console.log(I),a.error("An error occurred")})};return Qe(()=>{x()}),ot(r,L=>{A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:L,name:m.value,status:_.value}}).then(R=>{l.value=R.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,code:d,location:p,address:D,city:g,status:v,showEditModal:C,addNewBranch:k,updateBranch:w,editBranch:E,approveChange:T,changePage:async L=>{await A.get(L,{params:{per_page:r.value}}).then(R=>{l.value=R.data})},filter:()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(R=>{l.value=R.data}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},refresh:()=>{m.value="",_.value="";let L=$(".ti-refresh").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value}}).then(R=>{l.value=R.data}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},name_search:m,status_search:_}}},sNa={class:"card p-2"},lNa={class:"d-flex justify-content-between"},iNa={class:"d-flex flex-wrap gap-1"},rNa={class:""},dNa={for:"Name Search",class:"form-label"},cNa={class:""},uNa={for:"Status Search",class:"form-label"},_Na={value:""},mNa={value:"active"},fNa={value:"inactive"},hNa={class:"table-search-btn"},pNa={class:"table-clear-btn"},vNa={class:"d-flex justify-content-end gap-1 mt-auto"},gNa={class:""},bNa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},yNa={class:"modal modal-top fade",id:"addBranch",tabindex:"-1"},kNa={class:"modal-dialog"},$Na={class:"modal-header"},wNa={class:"modal-title",id:"modalTopTitle"},DNa={class:"modal-body my-1"},CNa={class:"form-group"},xNa={for:"Name",class:"form-label"},PNa={class:"form-group my-1"},ENa={for:"Name",class:"form-label"},ANa={class:"form-group my-1"},INa={for:"Name",class:"form-label"},RNa={class:"form-group my-1"},SNa={for:"Name",class:"form-label"},TNa={class:"form-group my-1"},jNa={for:"Name",class:"form-label"},ONa={class:"modal-footer"},MNa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},LNa={type:"submit",class:"btn btn-primary"},NNa={class:"table-responsive"},FNa={class:"table"},YNa={class:""},VNa={class:"table-border-bottom-0"},BNa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Tax Rate creation/updation awating approval"},UNa={key:0,class:"badge bg-label-success"},qNa={key:1,class:"badge bg-label-danger"},HNa={class:"flex"},zNa=["onClick","data-bs-target"],WNa=["id"],KNa={class:"modal-dialog"},GNa={class:"modal-header"},QNa={class:"modal-title",id:"modalTopTitle"},ZNa=["id"],JNa={class:"modal-body my-1"},XNa={class:"form-group"},eFa={for:"Name",class:"form-label"},tFa={class:"form-group my-1"},oFa={for:"Name",class:"form-label"},aFa={class:"form-group my-1"},nFa={for:"Name",class:"form-label"},sFa={class:"form-group my-1"},lFa={for:"Name",class:"form-label"},iFa={class:"form-group my-1"},rFa={for:"Name",class:"form-label"},dFa={class:"form-group my-1"},cFa={for:"Name",class:"form-label"},uFa={value:"active"},_Fa={value:"inactive"},mFa={class:"modal-footer"},fFa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},hFa={type:"submit",class:"btn btn-primary"},pFa=["data-bs-target"],vFa=["id"],gFa={class:"modal-dialog"},bFa={class:"modal-content"},yFa={class:"modal-header"},kFa={class:"modal-title",id:"modalTopTitle"},$Fa=["id"],wFa={class:"modal-body my-1"},DFa={class:"col-sm-12 col-md-6 m_title"},CFa={class:"col-sm-12 col-md-6"},xFa={class:"modal-footer"},PFa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},EFa=["onClick"],AFa=["onClick"];function IFa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",sNa,[e("div",lNa,[e("div",iNa,[e("div",rNa,[e("label",dNa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search Branch Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[Q,t.name_search]])]),e("div",cNa,[e("label",uNa,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",_Na,n(o.$t("Status")),1),e("option",mNa,n(o.$t("Active")),1),e("option",fNa,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",hNa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[19]||(a[19]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",pNa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[20]||(a[20]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",vNa,[e("div",gNa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content"}},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",bNa,n(o.$t("New Branch")),1)):b("",!0),e("div",yNa,[e("div",kNa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[11]||(a[11]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",$Na,[e("h5",wNa,n(o.$t("Add New Branch")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",DNa,[e("div",CNa,[e("label",xNa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[Q,t.name]])]),e("div",PNa,[e("label",ENa,n(o.$t("Code")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.code=l)},null,512),[[Q,t.code]])]),e("div",ANa,[e("label",INa,n(o.$t("Location")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.location=l)},null,512),[[Q,t.location]])]),e("div",RNa,[e("label",SNa,n(o.$t("City")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.city=l)},null,512),[[Q,t.city]])]),e("div",TNa,[e("label",jNa,n(o.$t("Address")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=l=>t.address=l)},null,512),[[Q,t.address]])])]),e("div",ONa,[e("button",MNa,n(o.$t("Close")),1),e("button",LNa,n(o.$t("Submit")),1)])],32)])])])]),e("div",NNa,[e("table",FNa,[e("thead",null,[e("tr",YNa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Location")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",VNa,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.propsed_update?(u(),f("i",BNa)):b("",!0)]),e("td",null,n(l.code),1),e("td",null,n(l.location),1),e("td",null,[l.status=="Active"?(u(),f("span",UNa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",qNa,n(l.status),1)):b("",!0)]),e("td",HNa,[!l.change&&!l.propsed_update&&t.can_update?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,zNa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",KNa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[18]||(a[18]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",GNa,[e("h5",QNa,n(o.$t("Edit Holiday")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,ZNa)]),e("div",JNa,[e("div",XNa,[e("label",eFa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",tFa,[e("label",oFa,n(o.$t("Code")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.code=r)},null,512),[[Q,t.code]])]),e("div",aFa,[e("label",nFa,n(o.$t("Location")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=r=>t.location=r)},null,512),[[Q,t.location]])]),e("div",sFa,[e("label",lFa,n(o.$t("City")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=r=>t.city=r)},null,512),[[Q,t.city]])]),e("div",iFa,[e("label",rFa,n(o.$t("Address")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=r=>t.address=r)},null,512),[[Q,t.address]])]),e("div",dFa,[e("label",cFa,n(o.$t("Status")),1),Y(e("select",{name:"status",id:"",class:"form-control my-1","onUpdate:modelValue":a[17]||(a[17]=r=>t.status=r)},[e("option",uFa,n(o.$t("Active")),1),e("option",_Fa,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",mFa,[e("button",fFa,n(o.$t("Close")),1),e("button",hFa,n(o.$t("Submit")),1)])],32)])],8,WNa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:1,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,pFa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:2,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",gFa,[e("div",bFa,[e("div",yFa,[e("h5",kFa,n(o.$t("Proposed Holiday Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,$Fa)]),e("div",wFa,[(u(!0),f(W,null,X(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",DFa,n(i)+":",1),e("div",CFa,n(r),1)]))),128))]),e("div",xFa,[e("button",PFa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankBranch",l.id,"reject")},n(o.$t("Reject")),9,EFa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankBranch",l.id,"approve")},n(o.$t("Approve")),9,AFa)])])])],8,vFa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const RFa=Ue(nNa,[["render",IFa],["__scopeId","data-v-dab87e91"]]),SFa={name:"FeesMaster",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(""),x=h(""),E=h(""),k=h(""),w=h("active"),T=h(""),V=h(!1),B=async()=>{await A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(N=>{r.value=N.data}).catch(N=>{console.log(N)})},O=N=>{T.value=N.id,d.value=N.name,p.value=N.account_number,v.value=N.fees_account_branch_specific?"yes":"no",g.value=N.discount_bearing?"yes":"no",D.value=N.tax_name,y.value=N.tax_percent,C.value=N.tax_account_number,x.value=N.tax_account_branch_specific?"yes":"no",E.value=N.service_code,k.value=N.sac,w.value=N.status=="Active"?"active":"inactive",V.value=!0},L=()=>{A.post(s+o.bank+"/configurations/fees-master/store",{name:d.value,account_number:p.value,fees_account_branch_specific:v.value,discount_bearing:g.value,tax_name:D.value,tax_percent:y.value,tax_account_number:C.value,tax_account_branch_specific:x.value,service_code:E.value,sac:k.value,status:w.value}).then(N=>{a.success(N.data.message),d.value="",p.value="",v.value="",g.value="",D.value="",y.value="",C.value="",x.value="",E.value="",k.value="",w.value="",B(),document.getElementById("close-add-modal").click()}).catch(N=>{console.log(N),a.error("An error occurred")})},R=()=>{A.post(s+o.bank+"/configurations/fees-master/update",{fees_master_id:T.value,name:d.value,account_number:p.value,fees_account_branch_specific:v.value,discount_bearing:g.value,tax_name:D.value,tax_percent:y.value,tax_account_number:C.value,tax_account_branch_specific:x.value,service_code:E.value,sac:k.value,status:w.value}).then(N=>{a.success(N.data.message),T.value="",d.value="",p.value="",v.value="",g.value="",D.value="",y.value="",C.value="",x.value="",E.value="",k.value="",w.value="",V.value=!1,document.getElementById("close-edit-modal-"+T.value).click(),B()}).catch(N=>{console.log(N),a.error("An error occurred")})},P=(N,U,Z)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:N,id:U,status:Z}).then(ce=>{a.success(ce.data.message),B()}).catch(ce=>{console.log(ce),a.error("An error occurred")})};Qe(()=>{B()});const I=()=>{let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},S=()=>{m.value="",_.value="",p.value="";let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value}}).then(U=>{r.value=U.data}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})};return ot(i,N=>{A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:N,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,account_number:p,fees_account_branch_specific:v,discount_bearing:g,tax_name:D,tax_percent:y,tax_account_number:C,tax_account_branch_specific:x,service_code:E,sac:k,status:w,showEditModal:V,addNewBaseRate:L,updateBaseRate:R,editBaseRate:O,approveChange:P,changePage:async N=>{await A.get(N,{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data})},filter:I,refresh:S,name_search:m,status_search:_,account_number_search:l}}},TFa={class:"card p-2"},jFa={class:"d-flex justify-content-between"},OFa={class:"d-flex flex-wrap gap-1"},MFa={class:""},LFa={for:"Name Search",class:"form-label"},NFa={class:""},FFa={for:"Account Number",class:"form-label"},YFa={class:""},VFa={for:"Status",class:"form-label"},BFa={value:""},UFa={value:"active"},qFa={value:"inactive"},HFa={class:"table-search-btn"},zFa={class:"table-clear-btn"},WFa={class:"d-flex justify-content-end gap-1 mt-auto"},KFa={class:""},GFa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},QFa={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},ZFa={class:"modal-dialog modal-lg"},JFa={class:"modal-header"},XFa={class:"modal-title",id:"modalTopTitle"},eYa={class:"modal-body my-1"},tYa={class:"row"},oYa={class:"col-sm-12 col-md-6 form-group"},aYa={for:"Name",class:"form-label"},nYa={class:"col-sm-12 col-md-6 form-group my-1"},sYa={for:"Name",class:"form-label"},lYa={class:"col-sm-12 col-md-6 form-group my-1"},iYa={for:"Name",class:"form-label"},rYa={value:"yes"},dYa={value:"no"},cYa={class:"col-sm-12 col-md-6 form-group my-1"},uYa={for:"Name",class:"form-label"},_Ya={value:"yes"},mYa={value:"no"},fYa={class:"col-sm-12 col-md-6 form-group my-1"},hYa={for:"Name",class:"form-label"},pYa={class:"col-sm-12 col-md-6 form-group my-1"},vYa={for:"Name",class:"form-label"},gYa={class:"col-sm-12 col-md-6 form-group my-1"},bYa={for:"Name",class:"form-label"},yYa={class:"col-sm-12 col-md-6 form-group my-1"},kYa={for:"Name",class:"form-label"},$Ya={value:"yes"},wYa={value:"no"},DYa={class:"col-sm-12 col-md-6 form-group my-1"},CYa={for:"Name",class:"form-label"},xYa={class:"col-sm-12 col-md-6 form-group my-1"},PYa={for:"Name",class:"form-label"},EYa={class:"modal-footer"},AYa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},IYa={type:"submit",class:"btn btn-primary"},RYa={class:"table-responsive"},SYa={class:"table"},TYa={class:""},jYa={class:"table-border-bottom-0"},OYa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Fee creation/updation awating approval"},MYa={key:0,class:"badge bg-label-success"},LYa={key:1,class:"badge bg-label-danger"},NYa={class:"flex"},FYa=["onClick","data-bs-target"],YYa=["id"],VYa={class:"modal-dialog modal-lg"},BYa={class:"modal-header"},UYa={class:"modal-title",id:"modalTopTitle"},qYa=["id"],HYa={class:"modal-body my-1"},zYa={class:"row"},WYa={class:"col-sm-12 col-md-6 form-group"},KYa={for:"Name",class:"form-label"},GYa={class:"col-sm-12 col-md-6 form-group my-1"},QYa={for:"Name",class:"form-label"},ZYa={class:"col-sm-12 col-md-6 form-group my-1"},JYa={for:"Name",class:"form-label"},XYa={value:"yes"},eVa={value:"no"},tVa={class:"col-sm-12 col-md-6 form-group my-1"},oVa={for:"Name",class:"form-label"},aVa={value:"yes"},nVa={value:"no"},sVa={class:"col-sm-12 col-md-6 form-group my-1"},lVa={for:"Name",class:"form-label"},iVa={class:"col-sm-12 col-md-6 form-group my-1"},rVa={for:"Name",class:"form-label"},dVa={class:"col-sm-12 col-md-6 form-group my-1"},cVa={for:"Name",class:"form-label"},uVa={class:"col-sm-12 col-md-6 form-group my-1"},_Va={for:"Name",class:"form-label"},mVa={value:"yes"},fVa={value:"no"},hVa={class:"col-sm-12 col-md-6 form-group my-1"},pVa={for:"Name",class:"form-label"},vVa={class:"col-sm-12 col-md-6 form-group my-1"},gVa={for:"Name",class:"form-label"},bVa={class:"col-sm-12 col-md-6 form-group my-1"},yVa={for:"Name",class:"form-label"},kVa={value:"active"},$Va={value:"inactive"},wVa={class:"modal-footer"},DVa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},CVa={type:"submit",class:"btn btn-primary"},xVa=["data-bs-target"],PVa=["id"],EVa={class:"modal-dialog"},AVa={class:"modal-content"},IVa={class:"modal-header"},RVa={class:"modal-title",id:"modalTopTitle"},SVa={class:"modal-body my-1"},TVa={class:"col-sm-12 col-md-6 m_title"},jVa={class:"col-sm-12 col-md-6"},OVa={class:"modal-footer"},MVa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},LVa=["onClick"],NVa=["onClick"];function FVa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",TFa,[e("div",jFa,[e("div",OFa,[e("div",MFa,[e("label",LFa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[Q,t.name_search]])]),e("div",NFa,[e("label",FFa,n(o.$t("Account Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Account Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[3]||(a[3]=l=>t.account_number_search=l)},null,544),[[Q,t.account_number_search]])]),e("div",YFa,[e("label",VFa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",BFa,n(o.$t("Search by Status")),1),e("option",UFa,n(o.$t("Active")),1),e("option",qFa,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",HFa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[31]||(a[31]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zFa,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[32]||(a[32]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",WFa,[e("div",KFa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[33]||(a[33]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",GFa,n(o.$t("Add Fee")),1)):b("",!0),e("div",QFa,[e("div",ZFa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[18]||(a[18]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",JFa,[e("h5",XFa,n(o.$t("Add New Fee")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",eYa,[e("div",tYa,[e("div",oYa,[e("label",aYa,[le(n(o.$t("Name"))+" ",1),a[35]||(a[35]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.name=l),required:""},null,512),[[Q,t.name]])]),e("div",nYa,[e("label",sYa,[le(n(o.$t("Account Number"))+" ",1),a[36]||(a[36]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.account_number=l),required:""},null,512),[[Q,t.account_number]])]),e("div",lYa,[e("label",iYa,[le(n(o.$t("Fee Account Branch Specific"))+" ",1),a[37]||(a[37]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=l=>t.fees_account_branch_specific=l),required:""},[e("option",rYa,n(o.$t("Yes")),1),e("option",dYa,n(o.$t("No")),1)],512),[[re,t.fees_account_branch_specific]])]),e("div",cYa,[e("label",uYa,[le(n(o.$t("Discount Bearing"))+" ",1),a[38]||(a[38]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=l=>t.discount_bearing=l),required:""},[e("option",_Ya,n(o.$t("Yes")),1),e("option",mYa,n(o.$t("No")),1)],512),[[re,t.discount_bearing]])]),e("div",fYa,[e("label",hYa,n(o.$t("Tax Name")),1),Y(e("input",{type:"text",min:"0",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=l=>t.tax_name=l)},null,512),[[Q,t.tax_name]])]),e("div",pYa,[e("label",vYa,n(o.$t("Tax Percent")),1),Y(e("input",{type:"number",step:".01",max:"100",min:"0",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=l=>t.tax_percent=l)},null,512),[[Q,t.tax_percent]])]),e("div",gYa,[e("label",bYa,n(o.$t("Tax Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=l=>t.tax_account_number=l)},null,512),[[Q,t.tax_account_number]])]),e("div",yYa,[e("label",kYa,n(o.$t("Tax Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=l=>t.tax_account_branch_specific=l)},[e("option",$Ya,n(o.$t("Yes")),1),e("option",wYa,n(o.$t("No")),1)],512),[[re,t.tax_account_branch_specific]])]),e("div",DYa,[e("label",CYa,n(o.$t("Service Code")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=l=>t.service_code=l)},null,512),[[Q,t.service_code]])]),e("div",xYa,[e("label",PYa,n(o.$t("SAC")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[17]||(a[17]=l=>t.sac=l)},null,512),[[Q,t.sac]])])])]),e("div",EYa,[e("button",AYa,n(o.$t("Close")),1),e("button",IYa,n(o.$t("Submit")),1)])],32)])])])]),e("div",RYa,[e("table",SYa,[e("thead",null,[e("tr",TYa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Fee A/C Branch Specific")),1),e("th",null,n(o.$t("Discount Bearing")),1),e("th",null,n(o.$t("Tax Name")),1),e("th",null,n(o.$t("Tax Percent")),1),e("th",null,n(o.$t("Tax Account Number")),1),e("th",null,n(o.$t("Tax A/C Branch Specific")),1),e("th",null,n(o.$t("Service Code")),1),e("th",null,n(o.$t("SAC")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",jYa,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",OYa)):b("",!0)]),e("td",null,n(l.account_number),1),e("td",null,n(l.fee_account_branch_specific?"Yes":"No"),1),e("td",null,n(l.discount_bearing?"Yes":"No"),1),e("td",null,n(l.tax_name),1),e("td",null,n(l.tax_percent),1),e("td",null,n(l.tax_account_number),1),e("td",null,n(l.tax_account_branch_specific?"Yes":"No"),1),e("td",null,n(l.service_code),1),e("td",null,n(l.sac),1),e("td",null,[l.status=="Active"?(u(),f("span",MYa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",LYa,n(l.status),1)):b("",!0)]),e("td",NYa,[!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,FYa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",VYa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[30]||(a[30]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",BYa,[e("h5",UYa,n(o.$t("Edit Fee")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,qYa)]),e("div",HYa,[e("div",zYa,[e("div",WYa,[e("label",KYa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=r=>t.name=r),required:""},null,512),[[Q,t.name]])]),e("div",GYa,[e("label",QYa,n(o.$t("Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=r=>t.account_number=r),required:""},null,512),[[Q,t.account_number]])]),e("div",ZYa,[e("label",JYa,n(o.$t("Fee Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=r=>t.fees_account_branch_specific=r),required:""},[e("option",XYa,n(o.$t("Yes")),1),e("option",eVa,n(o.$t("No")),1)],512),[[re,t.fees_account_branch_specific]])]),e("div",tVa,[e("label",oVa,n(o.$t("Discount Bearing")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=r=>t.discount_bearing=r),required:""},[e("option",aVa,n(o.$t("Yes")),1),e("option",nVa,n(o.$t("No")),1)],512),[[re,t.discount_bearing]])]),e("div",sVa,[e("label",lVa,n(o.$t("Tax Name")),1),Y(e("input",{type:"text",min:"0",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=r=>t.tax_name=r)},null,512),[[Q,t.tax_name]])]),e("div",iVa,[e("label",rVa,n(o.$t("Tax Percent")),1),Y(e("input",{type:"number",step:".01",max:"100",min:"0",class:"form-control","onUpdate:modelValue":a[24]||(a[24]=r=>t.tax_percent=r)},null,512),[[Q,t.tax_percent]])]),e("div",dVa,[e("label",cVa,n(o.$t("Tax Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=r=>t.tax_account_number=r)},null,512),[[Q,t.tax_account_number]])]),e("div",uVa,[e("label",_Va,n(o.$t("Tax Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[26]||(a[26]=r=>t.tax_account_branch_specific=r)},[e("option",mVa,n(o.$t("Yes")),1),e("option",fVa,n(o.$t("No")),1)],512),[[re,t.tax_account_branch_specific]])]),e("div",hVa,[e("label",pVa,n(o.$t("Service Code")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[27]||(a[27]=r=>t.service_code=r)},null,512),[[Q,t.service_code]])]),e("div",vVa,[e("label",gVa,n(o.$t("SAC")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[28]||(a[28]=r=>t.sac=r)},null,512),[[Q,t.sac]])]),e("div",bVa,[e("label",yVa,n(o.$t("Status")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[29]||(a[29]=r=>t.status=r)},[e("option",kVa,n(o.$t("Active")),1),e("option",$Va,n(o.$t("Inactive")),1)],512),[[re,t.status]])])])]),e("div",wVa,[e("button",DVa,n(o.$t("Close")),1),e("button",CVa,n(o.$t("Submit")),1)])],32)])],8,YYa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:1,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,xVa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:2,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",EVa,[e("div",AVa,[e("div",IVa,[e("h5",RVa,n(o.$t("Proposed Holiday Changes")),1),a[39]||(a[39]=e("button",{type:"button",class:"btn-close",id:"close-changes-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",SVa,[(u(!0),f(W,null,X(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",TVa,n(i)+":",1),e("div",jVa,n(r),1)]))),128))]),e("div",OVa,[e("button",MVa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankFeesMaster",l.id,"reject")},n(o.$t("Reject")),9,LVa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankFeesMaster",l.id,"approve")},n(o.$t("Approve")),9,NVa)])])])],8,PVa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const YVa=Ue(SFa,[["render",FVa],["__scopeId","data-v-4412117a"]]),VVa={name:"Branches",components:{Pagination:St},props:["bank","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_upload,c=h([]),m=h([]),_=h(50),l=h([]),r=h([]),i=h(""),d=h(""),p=h(""),v=h(""),g=h(!1),D=async()=>{await A.get(s+o.bank+"/configurations/conversion-rates/data",{params:{per_page:_.value}}).then(T=>{c.value=T.data.data,m.value=T.data.currencies}).catch(T=>{console.log(T)})},y=T=>{v.value=T.id,i.value=T.from_currency,l.value=m.value,m.value.forEach(V=>{V.code!=i.value&&r.value.push(V)}),d.value=T.to_currency,p.value=T.rate,g.value=!0},C=()=>{l.value=m.value};ot([i],([T])=>{r.value=[],m.value.forEach(V=>{V.code!=T&&r.value.push(V)})});const x=()=>{A.post(s+o.bank+"/configurations/conversion-rates/store",{from_currency:i.value,to_currency:d.value,rate:p.value}).then(T=>{a.success(T.data.message),i.value="",d.value="",p.value="",setTimeout(()=>{window.location.reload()},4e3)}).catch(T=>{console.log(T),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/conversion-rates/"+v.value+"/update",{from_currency:i.value,to_currency:d.value,rate:p.value}).then(T=>{a.success(T.data.message),v.value="",i.value="",d.value="",p.value="",g.value=!1,setTimeout(()=>{window.location.reload()},4e3)}).catch(T=>{console.log(T),a.error("An error occurred")})},k=(T,V,B)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:T,id:V,status:B}).then(O=>{a.success(O.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(O=>{console.log(O),a.error("An error occurred")})};return Qe(()=>{D()}),{per_page:_,can_upload:t,all_currencies:m,rates:c,from_currency:i,from_currency_options:l,to_currency:d,to_currency_options:r,rate:p,showEditModal:g,addNewRate:C,addNewBranch:x,updateBranch:E,editBranch:y,approveChange:k,changePage:async T=>{await A.get(T,{params:{per_page:_.value}}).then(V=>{c.value=V.data})}}}},BVa={class:"card p-2"},UVa={class:"d-flex justify-content-between"},qVa={class:"d-flex"},HVa={class:"mx-1"},zVa={class:"modal modal-top fade",id:"addRate",tabindex:"-1"},WVa={class:"modal-dialog"},KVa={class:"modal-body my-1"},GVa={class:"form-group"},QVa=["value"],ZVa={class:"form-group my-1"},JVa=["value"],XVa={class:"form-group my-1"},eBa={class:"table-responsive"},tBa={class:"table"},oBa={class:"table-border-bottom-0"},aBa={class:"flex"},nBa=["onClick","data-bs-target"],sBa=["id"],lBa={class:"modal-dialog"},iBa={class:"modal-body my-1"},rBa={class:"form-group"},dBa=["selected","value"],cBa={class:"form-group my-1"},uBa=["selected","value"],_Ba={class:"form-group my-1"};function mBa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",BVa,[e("div",UVa,[a[18]||(a[18]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",qVa,[e("div",HVa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",{key:0,type:"button",class:"btn btn-primary text-nowrap d-none","data-bs-toggle":"modal","data-bs-target":"#addRate",onClick:a[1]||(a[1]=(...l)=>t.addNewRate&&t.addNewRate(...l))}," New Rate ")):b("",!0),e("div",zVa,[e("div",WVa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[a[16]||(a[16]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalTopTitle"},"Add Conversion Rate"),e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",KVa,[e("div",GVa,[a[12]||(a[12]=e("label",{for:"Name",class:"form-label"},"From Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[2]||(a[2]=l=>t.from_currency=l),id:"",class:"form-control"},[a[11]||(a[11]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(W,null,X(t.from_currency_options,l=>(u(),f("option",{key:l.id,value:l.code},n(l.name),9,QVa))),128))],512),[[re,t.from_currency]])]),e("div",ZVa,[a[14]||(a[14]=e("label",{for:"Name",class:"form-label"},"To Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[3]||(a[3]=l=>t.to_currency=l),id:"",class:"form-control"},[a[13]||(a[13]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(W,null,X(t.to_currency_options,l=>(u(),f("option",{key:l.id,value:l.code},n(l.name),9,JVa))),128))],512),[[re,t.to_currency]])]),e("div",XVa,[a[15]||(a[15]=e("label",{for:"Name",class:"form-label"},"Rate",-1)),Y(e("input",{type:"number",step:".01",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.rate=l)},null,512),[[Q,t.rate]])])]),a[17]||(a[17]=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},"Close"),e("button",{type:"submit",class:"btn btn-primary"},"Submit")],-1))],32)])])])]),e("div",eBa,[e("table",tBa,[a[26]||(a[26]=e("thead",null,[e("tr",{class:""},[e("th",null,"From Currency"),e("th",null,"To Currency"),e("th",null,"Rate"),e("th",null,"Actions")])],-1)),e("tbody",oBa,[(u(!0),f(W,null,X(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.from_currency),1),e("td",null,n(l.to_currency),1),e("td",null,n(l.rate),1),e("td",aBa,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,nBa),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",lBa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[a[24]||(a[24]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalTopTitle"},"Edit Conversion Rate"),e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",iBa,[e("div",rBa,[a[20]||(a[20]=e("label",{for:"Name",class:"form-label"},"From Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_currency=r),id:"",class:"form-control",disabled:""},[a[19]||(a[19]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(W,null,X(t.from_currency_options,r=>(u(),f("option",{selected:r.code==t.from_currency,key:r.id,value:r.code},n(r.name),9,dBa))),128))],512),[[re,t.from_currency]])]),e("div",cBa,[a[22]||(a[22]=e("label",{for:"Name",class:"form-label"},"To Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[7]||(a[7]=r=>t.to_currency=r),id:"",class:"form-control",disabled:""},[a[21]||(a[21]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(W,null,X(t.to_currency_options,r=>(u(),f("option",{selected:r.code==t.to_currency,key:r.id,value:r.code},n(r.name),9,uBa))),128))],512),[[re,t.to_currency]])]),e("div",_Ba,[a[23]||(a[23]=e("label",{for:"Name",class:"form-label"},"Rate",-1)),Y(e("input",{type:"number",step:".01",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.rate=r)},null,512),[[Q,t.rate]])])]),a[25]||(a[25]=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},"Close"),e("button",{type:"submit",class:"btn btn-primary"},"Submit")],-1))],32)])],8,sBa)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const fBa=Ue(VVa,[["render",mBa],["__scopeId","data-v-6e1e6464"]]),hBa={name:"BaseRates",components:{Pagination:St,QuillEditor:ls},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),D=h(null),y=h(null),C=h(""),x=h(!1),E=()=>{g.value=y.value.getHTML().toString()},k=()=>{g.value=D.value.getHTML().toString()},w=async()=>{await A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(S=>{r.value=S.data}).catch(S=>{console.log(S)})},T=S=>{C.value=S.id,d.value=S.name,p.value=S.product_type,v.value=S.status=="Active"?"active":"inactive",g.value=S.body,x.value=!0},V=()=>{A.post(s+o.bank+"/configurations/noa-templates/store",{name:d.value,product_type:p.value,status:v.value,body:g.value}).then(()=>{a.success("NOA Template added successfully"),d.value="",g.value="",v.value="",p.value=!1,w(),document.getElementById("close-add-modal").click()}).catch(S=>{console.log(S),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/noa-templates/update",{id:C.value,name:d.value,status:v.value,product_type:p.value,body:g.value}).then(S=>{a.success(S.data.message),C.value="",d.value="",v.value="",g.value="",p.value=!1,x.value=!1,w(),document.getElementById("close-edit-modal-"+C.value).click()}).catch(S=>{console.log(S),a.error("An error occurred")})},O=(S,F)=>{A.get(s+o.bank+`/configurations/noa-templates/${S}/status/${F}/update`).then(()=>{w(),a.success("Status updated")}).catch(N=>{console.log(N)})},L=(S,F,N)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:S,id:F,status:N}).then(U=>{a.success(U.data.message),w(),document.getElementById("close-changes-modal-"+F).click()}).catch(U=>{console.log(U),a.error("An error occurred")})};Qe(()=>{w()});const R=()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(F=>{r.value=F.data}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},P=()=>{m.value="",_.value="",l.value="";let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value}}).then(F=>{r.value=F.data}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})};return ot(i,S=>{A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:S,name:m.value,status:_.value}}).then(F=>{r.value=F.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,editor:D,create_editor:y,status:v,product_type:p,body:g,showEditModal:x,addNewBaseRate:V,updateBaseRate:B,updateActiveStatus:O,editBaseRate:T,changePage:async S=>{await A.get(S,{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(F=>{r.value=F.data})},changeDescription:E,approveChange:L,editDescription:k,filter:R,refresh:P,name_search:m,status_search:_,product_type_search:l}}},pBa={class:"card p-2"},vBa={class:"d-flex justify-content-between"},gBa={class:"d-flex flex-wrap gap-1"},bBa={class:""},yBa={for:"Name Search",class:"form-label"},kBa={class:""},$Ba={for:"Status Search",class:"form-label"},wBa={value:""},DBa={value:"active"},CBa={value:"inactive"},xBa={class:""},PBa={for:"Product Type Search",class:"form-label"},EBa={value:""},ABa={value:"vendor_financing"},IBa={value:"factoring"},RBa={value:"dealer_financing"},SBa={class:"table-search-btn"},TBa={class:"table-clear-btn"},jBa={class:"d-flex justify-content-end gap-1 mt-auto"},OBa={class:""},MBa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},LBa={class:"modal modal-top fade modal-lg",id:"addBaseRate",tabindex:"-1"},NBa={class:"modal-dialog"},FBa={class:"modal-header"},YBa={class:"modal-title",id:"modalTopTitle"},VBa={class:"modal-body my-1"},BBa={class:"form-group"},UBa={for:"Name",class:"form-label"},qBa={class:"mb-4"},HBa={for:"Body",class:"form-label"},zBa={class:"form-group my-1"},WBa={for:"Name",class:"form-label"},KBa={value:"vendor_financing"},GBa={value:"factoring"},QBa={value:"dealer_financing"},ZBa={class:"text-h6 mt-4"},JBa={class:"modal-footer"},XBa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},eUa={type:"submit",class:"btn btn-primary"},tUa={class:"table-responsive"},oUa={class:"table"},aUa={class:""},nUa={class:"table-border-bottom-0"},sUa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"NOA creation/updation awating approval"},lUa={class:"m_title"},iUa={key:0,class:"badge bg-label-success"},rUa={key:1,class:"badge bg-label-danger"},dUa={class:"flex"},cUa=["onClick"],uUa=["onClick"],_Ua=["onClick","data-bs-target"],mUa=["id"],fUa={class:"modal-dialog"},hUa={class:"modal-header"},pUa={class:"modal-title",id:"modalTopTitle"},vUa=["id"],gUa={class:"modal-body my-1"},bUa={class:"form-group"},yUa={for:"Name",class:"form-label"},kUa={class:"mb-4"},$Ua={for:"Body",class:"form-label"},wUa={class:"form-group my-1"},DUa={for:"Name",class:"form-label"},CUa={value:"vendor_financing"},xUa={value:"factoring"},PUa={value:"dealer_financing"},EUa={class:"form-group my-1"},AUa={for:"Name",class:"form-label"},IUa={value:"active"},RUa={value:"inactive"},SUa={class:"text-h6 mt-4"},TUa={class:"modal-footer"},jUa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},OUa={type:"submit",class:"btn btn-primary"},MUa=["data-bs-target"],LUa=["id"],NUa={class:"modal-dialog"},FUa={class:"modal-content"},YUa={class:"modal-header"},VUa={class:"modal-title",id:"modalTopTitle"},BUa=["id"],UUa={class:"modal-body my-1"},qUa={class:"col-sm-12 col-md-6 m_title"},HUa={class:"col-sm-12 col-md-6"},zUa={class:"modal-footer"},WUa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},KUa=["onClick"],GUa=["onClick"];function QUa(o,a,s,t,c,m){const _=de("QuillEditor"),l=de("pagination");return u(),f("div",pBa,[e("div",vBa,[e("div",gBa,[e("div",bBa,[e("label",yBa,n(o.$t("Name Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=r=>t.name_search=r)},null,544),[[Q,t.name_search]])]),e("div",kBa,[e("label",$Ba,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.status_search=r)},[e("option",wBa,n(o.$t("Status")),1),e("option",DBa,n(o.$t("Active")),1),e("option",CBa,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",xBa,[e("label",PBa,n(o.$t("Product Type Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.product_type_search=r)},[e("option",EBa,n(o.$t("Product Type")),1),e("option",ABa,n(o.$t("Vendor Financing Receivable")),1),e("option",IBa,n(o.$t("Factoring")),1),e("option",RBa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",SBa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",TBa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",jBa,[e("div",OBa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",MBa,n(o.$t("New NOA Template")),1)):b("",!0),e("div",LBa,[e("div",NBa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.addNewBaseRate&&t.addNewBaseRate(...r),["prevent"]))},[e("div",FBa,[e("h5",YBa,n(o.$t("Add New NOA Template")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",VBa,[e("div",BBa,[e("label",UBa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",qBa,[e("label",HBa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref:"create_editor",onEditorChange:t.changeDescription},null,8,["onEditorChange"])]),e("div",zBa,[e("label",WBa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[8]||(a[8]=r=>t.product_type=r),id:"",class:"form-select"},[e("option",KBa,n(o.$t("Vendor Financing")),1),e("option",GBa,n(o.$t("Factoring")),1),e("option",QBa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])]),e("h6",ZBa,[le(n(o.$t("Variables"))+" ",1),a[18]||(a[18]=e("i",{class:"tf-icons ti ti-info-circle ti-xs text-primary",title:"These can be added in the body within parenthesis. e.g. {date} or {buyerName}"},null,-1))]),a[19]||(a[19]=e("div",{class:"text-wrap"}," date,buyerName,anchorName,company,anchorCompanyUniqueID,time,agreementDate,contract,anchorAccountName,anchorAccountNumber,anchorCustomerId,anchorBranch,anchorIFSCCode,anchorAddress,penalInterestRate,sellerName ",-1))]),e("div",JBa,[e("button",XBa,n(o.$t("Close")),1),e("button",eUa,n(o.$t("Submit")),1)])],32)])])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",tUa,[e("table",oUa,[e("thead",null,[e("tr",aUa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",nUa,[(u(!0),f(W,null,X(t.rates.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[le(n(r.name)+" ",1),r.change||r.proposed_update?(u(),f("i",sUa)):b("",!0)]),e("td",null,[e("span",lUa,n(r.product_type.replaceAll("_"," ")),1)]),e("td",null,[r.status=="Active"?(u(),f("span",iUa,n(r.status),1)):b("",!0),r.status=="Inactive"?(u(),f("span",rUa,n(r.status),1)):b("",!0)]),e("td",dUa,[!r.change&&r.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"inactive")},null,8,cUa)):b("",!0),!r.change&&r.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"active")},null,8,uUa)):b("",!0),!r.change&&!r.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.editBaseRate(r),"data-bs-toggle":"modal","data-bs-target":"#rate-"+r.id,style:{cursor:"pointer"}},null,8,_Ua)):b("",!0),e("div",{class:"modal modal-top fade modal-lg",id:"rate-"+r.id,tabindex:"-1"},[e("div",fUa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[13]||(a[13]=st((...i)=>t.updateBaseRate&&t.updateBaseRate(...i),["prevent"]))},[e("div",hUa,[e("h5",pUa,n(o.$t("Edit NOA Template")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,vUa)]),e("div",gUa,[e("div",bUa,[e("label",yUa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=i=>t.name=i)},null,512),[[Q,t.name]])]),e("div",kUa,[e("label",$Ua,n(o.$t("Body")),1),Be(_,{theme:"snow",ref_for:!0,ref:"editor",onEditorChange:t.editDescription},null,8,["onEditorChange"])]),e("div",wUa,[e("label",DUa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[11]||(a[11]=i=>t.product_type=i),id:"",class:"form-select"},[e("option",CUa,n(o.$t("Vendor Financing")),1),e("option",xUa,n(o.$t("Factoring")),1),e("option",PUa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])]),e("div",EUa,[e("label",AUa,n(o.$t("Status")),1),Y(e("select",{name:"","onUpdate:modelValue":a[12]||(a[12]=i=>t.status=i),id:"",class:"form-select"},[e("option",IUa,n(o.$t("Active")),1),e("option",RUa,n(o.$t("Inactive")),1)],512),[[re,t.status]])]),e("h6",SUa,[le(n(o.$t("Variables"))+" ",1),a[20]||(a[20]=e("i",{class:"tf-icons ti ti-info-circle ti-xs text-primary",title:"These can be added in the body within parenthesis. e.g. {date} or {buyerName}"},null,-1))]),a[21]||(a[21]=e("div",{class:"text-wrap"}," date,buyerName,anchorName,company,anchorCompanyUniqueID,time,agreementDate,contract,anchorAccountName,anchorAccountNumber,anchorCustomerId,anchorBranch,anchorIFSCCode,anchorAddress,penalInterestRate,sellerName ",-1))]),e("div",TUa,[e("button",jUa,n(o.$t("Close")),1),e("button",OUa,n(o.$t("Submit")),1)])],32)])],8,mUa),r.proposed_update&&r.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+r.id,style:{cursor:"pointer"}},null,8,MUa)):b("",!0),r.proposed_update&&r.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+r.id,tabindex:"-1"},[e("div",NUa,[e("div",FUa,[e("div",YUa,[e("h5",VUa,n(o.$t("Proposed Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,BUa)]),e("div",UUa,[(u(!0),f(W,null,X(r.proposed_update.changes,(i,d)=>(u(),f("div",{key:d,class:"row"},[e("div",qUa,n(d)+":",1),e("div",HUa,n(i),1)]))),128))]),e("div",zUa,[e("button",WUa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:i=>t.approveChange("App\\Models\\NoaTemplate",r.id,"reject")},n(o.$t("Reject")),9,KUa),e("button",{type:"submit",class:"btn btn-primary",onClick:i=>t.approveChange("App\\Models\\NoaTemplate",r.id,"approve")},n(o.$t("Approve")),9,GUa)])])])],8,LUa)):b("",!0)])]))),128))])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const ZUa=Ue(hBa,[["render",QUa],["__scopeId","data-v-4fe9e081"]]),JUa={name:"BaseRates",components:{Pagination:St,QuillEditor:ls},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),D=h(null),y=h(null),C=h(""),x=h(!1),E=()=>{g.value=y.value.getHTML().toString()},k=()=>{g.value=D.value.getHTML().toString()},w=async()=>{await A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(S=>{r.value=S.data}).catch(S=>{console.log(S)})},T=S=>{C.value=S.id,d.value=S.name,p.value=S.product_type,v.value=S.status=="Active"?"active":"inactive",g.value=S.body,x.value=!0},V=()=>{A.post(s+o.bank+"/configurations/terms-and-conditions/store",{name:d.value,product_type:p.value,status:v.value,body:g.value}).then(()=>{a.success("Terms and Conditions added successfully"),d.value="",g.value="",v.value="",p.value=!1,w(),document.getElementById("close-add-modal").click()}).catch(S=>{console.log(S),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/terms-and-conditions/update",{id:C.value,name:d.value,status:v.value,product_type:p.value,body:g.value}).then(S=>{a.success(S.data.message),C.value="",d.value="",v.value="",g.value="",p.value=!1,x.value=!1,w(),document.getElementById("close-edit-modal-"+C.value).click()}).catch(S=>{console.log(S),a.error("An error occurred")})},O=(S,F)=>{A.get(s+o.bank+`/configurations/terms-and-conditions/${S}/status/${F}/update`).then(N=>{w(),a.success(N.data.message)}).catch(N=>{console.log(N.response.data.message)})},L=(S,F,N)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:S,id:F,status:N}).then(U=>{a.success(U.data.message),w(),document.getElementById("close-changes-modal-"+F).click()}).catch(U=>{console.log(U),a.error("An error occurred")})};Qe(()=>{w()});const R=()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(F=>{r.value=F.data}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},P=()=>{m.value="",_.value="",l.value="";let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value}}).then(F=>{r.value=F.data}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})};return ot(i,S=>{A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:S,name:m.value,status:_.value}}).then(F=>{r.value=F.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,editor:D,create_editor:y,status:v,product_type:p,body:g,showEditModal:x,addNewBaseRate:V,updateBaseRate:B,updateActiveStatus:O,editBaseRate:T,changePage:async S=>{await A.get(S,{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(F=>{r.value=F.data})},changeDescription:E,approveChange:L,editDescription:k,filter:R,refresh:P,name_search:m,status_search:_,product_type_search:l}}},XUa={class:"card p-2"},eqa={class:"d-flex justify-content-between"},tqa={class:"d-flex flex-wrap gap-1"},oqa={class:""},aqa={for:"Name Search",class:"form-label"},nqa={class:""},sqa={for:"Status Search",class:"form-label"},lqa={value:""},iqa={value:"active"},rqa={value:"inactive"},dqa={class:""},cqa={for:"Product Type Search",class:"form-label"},uqa={value:""},_qa={value:"vendor_financing"},mqa={value:"factoring"},fqa={value:"dealer_financing"},hqa={class:"table-search-btn"},pqa={class:"table-clear-btn"},vqa={class:"d-flex justify-content-end gap-1 mt-auto"},gqa={class:""},bqa={key:0,type:"button",class:"btn btn-primary text-nowrap btn-md","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},yqa={class:"modal modal-top fade modal-lg",id:"addBaseRate",tabindex:"-1"},kqa={class:"modal-dialog"},$qa={class:"modal-header"},wqa={class:"modal-title",id:"modalTopTitle"},Dqa={class:"modal-body my-1"},Cqa={class:"form-group"},xqa={for:"Name",class:"form-label"},Pqa={class:"mb-4"},Eqa={for:"Body",class:"form-label"},Aqa={class:"form-group my-1"},Iqa={for:"Name",class:"form-label"},Rqa={value:"vendor_financing"},Sqa={value:"factoring"},Tqa={value:"dealer_financing"},jqa={class:"modal-footer"},Oqa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Mqa={type:"submit",class:"btn btn-primary"},Lqa={class:"table-responsive"},Nqa={class:"table"},Fqa={class:""},Yqa={class:"table-border-bottom-0"},Vqa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Terms and Conditions creation/updation awating approval"},Bqa={class:"m_title"},Uqa={key:0,class:"badge bg-label-success"},qqa={key:1,class:"badge bg-label-danger"},Hqa={class:"flex"},zqa=["onClick"],Wqa=["onClick"],Kqa=["onClick","data-bs-target"],Gqa=["id"],Qqa={class:"modal-dialog"},Zqa={class:"modal-header"},Jqa={class:"modal-title",id:"modalTopTitle"},Xqa=["id"],eHa={class:"modal-body my-1"},tHa={class:"form-group"},oHa={for:"Name",class:"form-label"},aHa={class:"mb-4"},nHa={for:"Body",class:"form-label"},sHa={class:"form-group my-1"},lHa={for:"Name",class:"form-label"},iHa={value:"vendor_financing"},rHa={value:"factoring"},dHa={value:"dealer_financing"},cHa={class:"form-group my-1"},uHa={for:"Name",class:"form-label"},_Ha={value:"active"},mHa={value:"inactive"},fHa={class:"modal-footer"},hHa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},pHa={type:"submit",class:"btn btn-primary"},vHa=["data-bs-target"],gHa=["id"],bHa={class:"modal-dialog"},yHa={class:"modal-content"},kHa={class:"modal-header"},$Ha={class:"modal-title",id:"modalTopTitle"},wHa=["id"],DHa={class:"modal-body my-1"},CHa={class:"m_title"},xHa={class:"mx-2"},PHa={class:"modal-footer"},EHa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},AHa=["onClick"],IHa=["onClick"];function RHa(o,a,s,t,c,m){const _=de("QuillEditor"),l=de("pagination");return u(),f("div",XUa,[e("div",eqa,[e("div",tqa,[e("div",oqa,[e("label",aqa,n(o.$t("Name Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=r=>t.name_search=r)},null,544),[[Q,t.name_search]])]),e("div",nqa,[e("label",sqa,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.status_search=r)},[e("option",lqa,n(o.$t("Status")),1),e("option",iqa,n(o.$t("Active")),1),e("option",rqa,n(o.$t("Inactive")),1)],512),[[re,t.status_search]])]),e("div",dqa,[e("label",cqa,n(o.$t("Product Type Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.product_type_search=r)},[e("option",uqa,n(o.$t("Product Type")),1),e("option",_qa,n(o.$t("Vendor Financing Receivable")),1),e("option",mqa,n(o.$t("Factoring")),1),e("option",fqa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",hqa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",pqa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",vqa,[e("div",gqa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),t.can_upload?(u(),f("button",bqa,n(o.$t("New Terms and Conditions")),1)):b("",!0),e("div",yqa,[e("div",kqa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.addNewBaseRate&&t.addNewBaseRate(...r),["prevent"]))},[e("div",$qa,[e("h5",wqa,n(o.$t("Add New Terms and Conditions")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Dqa,[e("div",Cqa,[e("label",xqa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.name=r)},null,512),[[Q,t.name]])]),e("div",Pqa,[e("label",Eqa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref:"create_editor",onEditorChange:t.changeDescription},null,8,["onEditorChange"])]),e("div",Aqa,[e("label",Iqa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[8]||(a[8]=r=>t.product_type=r),id:"",class:"form-select"},[e("option",Rqa,n(o.$t("Vendor Financing")),1),e("option",Sqa,n(o.$t("Factoring")),1),e("option",Tqa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])])]),e("div",jqa,[e("button",Oqa,n(o.$t("Close")),1),e("button",Mqa,n(o.$t("Submit")),1)])],32)])])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Lqa,[e("table",Nqa,[e("thead",null,[e("tr",Fqa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Yqa,[(u(!0),f(W,null,X(t.rates.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[le(n(r.name)+" ",1),r.change||r.proposed_update?(u(),f("i",Vqa)):b("",!0)]),e("td",null,[e("span",Bqa,n(r.product_type.replaceAll("_"," ")),1)]),e("td",null,[r.status=="Active"?(u(),f("span",Uqa,n(r.status),1)):b("",!0),r.status=="Inactive"?(u(),f("span",qqa,n(r.status),1)):b("",!0)]),e("td",Hqa,[!r.change&&r.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"inactive")},null,8,zqa)):b("",!0),!r.change&&r.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"active")},null,8,Wqa)):b("",!0),!r.change&&!r.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.editBaseRate(r),"data-bs-toggle":"modal","data-bs-target":"#rate-"+r.id,style:{cursor:"pointer"}},null,8,Kqa)):b("",!0),e("div",{class:"modal modal-top fade modal-lg",id:"rate-"+r.id,tabindex:"-1"},[e("div",Qqa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[13]||(a[13]=st((...i)=>t.updateBaseRate&&t.updateBaseRate(...i),["prevent"]))},[e("div",Zqa,[e("h5",Jqa,n(o.$t("Edit Terms and Conditions")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Xqa)]),e("div",eHa,[e("div",tHa,[e("label",oHa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=i=>t.name=i)},null,512),[[Q,t.name]])]),e("div",aHa,[e("label",nHa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref_for:!0,ref:"editor",onEditorChange:t.editDescription},null,8,["onEditorChange"])]),e("div",sHa,[e("label",lHa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[11]||(a[11]=i=>t.product_type=i),id:"",class:"form-select"},[e("option",iHa,n(o.$t("Vendor Financing")),1),e("option",rHa,n(o.$t("Factoring")),1),e("option",dHa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])]),e("div",cHa,[e("label",uHa,n(o.$t("Status")),1),Y(e("select",{name:"","onUpdate:modelValue":a[12]||(a[12]=i=>t.status=i),id:"",class:"form-select"},[e("option",_Ha,n(o.$t("Active")),1),e("option",mHa,n(o.$t("Inactive")),1)],512),[[re,t.status]])])]),e("div",fHa,[e("button",hHa,n(o.$t("Close")),1),e("button",pHa,n(o.$t("Submit")),1)])],32)])],8,Gqa),r.proposed_update&&r.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+r.id,style:{cursor:"pointer"}},null,8,vHa)):b("",!0),r.proposed_update&&r.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+r.id,tabindex:"-1"},[e("div",bHa,[e("div",yHa,[e("div",kHa,[e("h5",$Ha,n(o.$t("Proposed Terms and Conditions Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,wHa)]),e("div",DHa,[(u(!0),f(W,null,X(r.proposed_update.changes,(i,d)=>(u(),f("div",{key:d,class:"d-flex"},[e("div",CHa,n(d)+":",1),e("div",xHa,n(i),1)]))),128))]),e("div",PHa,[e("button",EHa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:i=>t.approveChange("App\\Models\\TermsConditionsConfig",r.id,"reject")},n(o.$t("Reject")),9,AHa),e("button",{type:"submit",class:"btn btn-primary",onClick:i=>t.approveChange("App\\Models\\TermsConditionsConfig",r.id,"approve")},n(o.$t("Approve")),9,IHa)])])])],8,gHa)):b("",!0)])]))),128))])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const SHa=Ue(JUa,[["render",RHa],["__scopeId","data-v-ac26f22f"]]);function THa(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var CD={exports:{}};(function(o,a){(function(s,t){o.exports=t()})(va,function(){var s;function t(){return s.apply(null,arguments)}function c(j){s=j}function m(j){return j instanceof Array||Object.prototype.toString.call(j)==="[object Array]"}function _(j){return j!=null&&Object.prototype.toString.call(j)==="[object Object]"}function l(j,q){return Object.prototype.hasOwnProperty.call(j,q)}function r(j){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(j).length===0;var q;for(q in j)if(l(j,q))return!1;return!0}function i(j){return j===void 0}function d(j){return typeof j=="number"||Object.prototype.toString.call(j)==="[object Number]"}function p(j){return j instanceof Date||Object.prototype.toString.call(j)==="[object Date]"}function v(j,q){var K=[],te,De=j.length;for(te=0;te<De;++te)K.push(q(j[te],te));return K}function g(j,q){for(var K in q)l(q,K)&&(j[K]=q[K]);return l(q,"toString")&&(j.toString=q.toString),l(q,"valueOf")&&(j.valueOf=q.valueOf),j}function D(j,q,K,te){return V1(j,q,K,te,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function C(j){return j._pf==null&&(j._pf=y()),j._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(j){var q=Object(this),K=q.length>>>0,te;for(te=0;te<K;te++)if(te in q&&j.call(this,q[te],te,q))return!0;return!1};function E(j){if(j._isValid==null){var q=C(j),K=x.call(q.parsedDateParts,function(De){return De!=null}),te=!isNaN(j._d.getTime())&&q.overflow<0&&!q.empty&&!q.invalidEra&&!q.invalidMonth&&!q.invalidWeekday&&!q.weekdayMismatch&&!q.nullInput&&!q.invalidFormat&&!q.userInvalidated&&(!q.meridiem||q.meridiem&&K);if(j._strict&&(te=te&&q.charsLeftOver===0&&q.unusedTokens.length===0&&q.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(j))j._isValid=te;else return te}return j._isValid}function k(j){var q=D(NaN);return j!=null?g(C(q),j):C(q).userInvalidated=!0,q}var w=t.momentProperties=[],T=!1;function V(j,q){var K,te,De,We=w.length;if(i(q._isAMomentObject)||(j._isAMomentObject=q._isAMomentObject),i(q._i)||(j._i=q._i),i(q._f)||(j._f=q._f),i(q._l)||(j._l=q._l),i(q._strict)||(j._strict=q._strict),i(q._tzm)||(j._tzm=q._tzm),i(q._isUTC)||(j._isUTC=q._isUTC),i(q._offset)||(j._offset=q._offset),i(q._pf)||(j._pf=C(q)),i(q._locale)||(j._locale=q._locale),We>0)for(K=0;K<We;K++)te=w[K],De=q[te],i(De)||(j[te]=De);return j}function B(j){V(this,j),this._d=new Date(j._d!=null?j._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,t.updateOffset(this),T=!1)}function O(j){return j instanceof B||j!=null&&j._isAMomentObject!=null}function L(j){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+j)}function R(j,q){var K=!0;return g(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,j),K){var te=[],De,We,ht,Qt=arguments.length;for(We=0;We<Qt;We++){if(De="",typeof arguments[We]=="object"){De+=`
[`+We+"] ";for(ht in arguments[0])l(arguments[0],ht)&&(De+=ht+": "+arguments[0][ht]+", ");De=De.slice(0,-2)}else De=arguments[We];te.push(De)}L(j+`
Arguments: `+Array.prototype.slice.call(te).join("")+`
`+new Error().stack),K=!1}return q.apply(this,arguments)},q)}var P={};function I(j,q){t.deprecationHandler!=null&&t.deprecationHandler(j,q),P[j]||(L(q),P[j]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function S(j){return typeof Function<"u"&&j instanceof Function||Object.prototype.toString.call(j)==="[object Function]"}function F(j){var q,K;for(K in j)l(j,K)&&(q=j[K],S(q)?this[K]=q:this["_"+K]=q);this._config=j,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(j,q){var K=g({},j),te;for(te in q)l(q,te)&&(_(j[te])&&_(q[te])?(K[te]={},g(K[te],j[te]),g(K[te],q[te])):q[te]!=null?K[te]=q[te]:delete K[te]);for(te in j)l(j,te)&&!l(q,te)&&_(j[te])&&(K[te]=g({},K[te]));return K}function U(j){j!=null&&this.set(j)}var Z;Object.keys?Z=Object.keys:Z=function(j){var q,K=[];for(q in j)l(j,q)&&K.push(q);return K};var ce={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ae(j,q,K){var te=this._calendar[j]||this._calendar.sameElse;return S(te)?te.call(q,K):te}function J(j,q,K){var te=""+Math.abs(j),De=q-te.length,We=j>=0;return(We?K?"+":"":"-")+Math.pow(10,Math.max(0,De)).toString().substr(1)+te}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xe={},Fe={};function he(j,q,K,te){var De=te;typeof te=="string"&&(De=function(){return this[te]()}),j&&(Fe[j]=De),q&&(Fe[q[0]]=function(){return J(De.apply(this,arguments),q[1],q[2])}),K&&(Fe[K]=function(){return this.localeData().ordinal(De.apply(this,arguments),j)})}function ie(j){return j.match(/\[[\s\S]/)?j.replace(/^\[|\]$/g,""):j.replace(/\\/g,"")}function $e(j){var q=j.match(z),K,te;for(K=0,te=q.length;K<te;K++)Fe[q[K]]?q[K]=Fe[q[K]]:q[K]=ie(q[K]);return function(De){var We="",ht;for(ht=0;ht<te;ht++)We+=S(q[ht])?q[ht].call(De,j):q[ht];return We}}function we(j,q){return j.isValid()?(q=se(q,j.localeData()),xe[q]=xe[q]||$e(q),xe[q](j)):j.localeData().invalidDate()}function se(j,q){var K=5;function te(De){return q.longDateFormat(De)||De}for(ne.lastIndex=0;K>=0&&ne.test(j);)j=j.replace(ne,te),ne.lastIndex=0,K-=1;return j}var ge={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(j){var q=this._longDateFormat[j],K=this._longDateFormat[j.toUpperCase()];return q||!K?q:(this._longDateFormat[j]=K.match(z).map(function(te){return te==="MMMM"||te==="MM"||te==="DD"||te==="dddd"?te.slice(1):te}).join(""),this._longDateFormat[j])}var Me="Invalid date";function ue(){return this._invalidDate}var Oe="%d",ze=/\d{1,2}/;function Ye(j){return this._ordinal.replace("%d",j)}var ve={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _e(j,q,K,te){var De=this._relativeTime[K];return S(De)?De(j,q,K,te):De.replace(/%d/i,j)}function Se(j,q){var K=this._relativeTime[j>0?"future":"past"];return S(K)?K(q):K.replace(/%s/i,q)}var Ve={};function ke(j,q){var K=j.toLowerCase();Ve[K]=Ve[K+"s"]=Ve[q]=j}function ee(j){return typeof j=="string"?Ve[j]||Ve[j.toLowerCase()]:void 0}function Ce(j){var q={},K,te;for(te in j)l(j,te)&&(K=ee(te),K&&(q[K]=j[te]));return q}var Ne={};function Ie(j,q){Ne[j]=q}function oe(j){var q=[],K;for(K in j)l(j,K)&&q.push({unit:K,priority:Ne[K]});return q.sort(function(te,De){return te.priority-De.priority}),q}function me(j){return j%4===0&&j%100!==0||j%400===0}function Le(j){return j<0?Math.ceil(j)||0:Math.floor(j)}function Ze(j){var q=+j,K=0;return q!==0&&isFinite(q)&&(K=Le(q)),K}function at(j,q){return function(K){return K!=null?(wt(this,j,K),t.updateOffset(this,q),this):mt(this,j)}}function mt(j,q){return j.isValid()?j._d["get"+(j._isUTC?"UTC":"")+q]():NaN}function wt(j,q,K){j.isValid()&&!isNaN(K)&&(q==="FullYear"&&me(j.year())&&j.month()===1&&j.date()===29?(K=Ze(K),j._d["set"+(j._isUTC?"UTC":"")+q](K,j.month(),ys(K,j.month()))):j._d["set"+(j._isUTC?"UTC":"")+q](K))}function Ot(j){return j=ee(j),S(this[j])?this[j]():this}function Jt(j,q){if(typeof j=="object"){j=Ce(j);var K=oe(j),te,De=K.length;for(te=0;te<De;te++)this[K[te].unit](j[K[te].unit])}else if(j=ee(j),S(this[j]))return this[j](q);return this}var ut=/\d/,gt=/\d\d/,Vt=/\d{3}/,pt=/\d{4}/,Et=/[+-]?\d{6}/,Dt=/\d\d?/,Ft=/\d\d\d\d?/,Kt=/\d\d\d\d\d\d?/,ro=/\d{1,3}/,Pe=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ge=/\d+/,nt=/[+-]?\d+/,yt=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[+-]?\d+(\.\d{1,3})?/,Tt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Gt;Gt={};function ct(j,q,K){Gt[j]=S(q)?q:function(te,De){return te&&K?K:q}}function Ht(j,q){return l(Gt,j)?Gt[j](q._strict,q._locale):new RegExp(kt(j))}function kt(j){return dt(j.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(q,K,te,De,We){return K||te||De||We}))}function dt(j){return j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var je={};function ye(j,q){var K,te=q,De;for(typeof j=="string"&&(j=[j]),d(q)&&(te=function(We,ht){ht[q]=Ze(We)}),De=j.length,K=0;K<De;K++)je[j[K]]=te}function He(j,q){ye(j,function(K,te,De,We){De._w=De._w||{},q(K,De._w,De,We)})}function Nt(j,q,K){q!=null&&l(je,j)&&je[j](q,K._a,K,j)}var it=0,_t=1,tt=2,pe=3,Re=4,vt=5,Rt=6,eo=7,jt=8;function Mn(j,q){return(j%q+q)%q}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(j){var q;for(q=0;q<this.length;++q)if(this[q]===j)return q;return-1};function ys(j,q){if(isNaN(j)||isNaN(q))return NaN;var K=Mn(q,12);return j+=(q-K)/12,K===1?me(j)?29:28:31-K%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1}),he("MMM",0,0,function(j){return this.localeData().monthsShort(this,j)}),he("MMMM",0,0,function(j){return this.localeData().months(this,j)}),ke("month","M"),Ie("month",8),ct("M",Dt),ct("MM",Dt,gt),ct("MMM",function(j,q){return q.monthsShortRegex(j)}),ct("MMMM",function(j,q){return q.monthsRegex(j)}),ye(["M","MM"],function(j,q){q[_t]=Ze(j)-1}),ye(["MMM","MMMM"],function(j,q,K,te){var De=K._locale.monthsParse(j,te,K._strict);De!=null?q[_t]=De:C(K).invalidMonth=j});var ld="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ks="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ol=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tl=Tt,yn=Tt;function Ml(j,q){return j?m(this._months)?this._months[j.month()]:this._months[(this._months.isFormat||Ol).test(q)?"format":"standalone"][j.month()]:m(this._months)?this._months:this._months.standalone}function id(j,q){return j?m(this._monthsShort)?this._monthsShort[j.month()]:this._monthsShort[Ol.test(q)?"format":"standalone"][j.month()]:m(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function rd(j,q,K){var te,De,We,ht=j.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],te=0;te<12;++te)We=D([2e3,te]),this._shortMonthsParse[te]=this.monthsShort(We,"").toLocaleLowerCase(),this._longMonthsParse[te]=this.months(We,"").toLocaleLowerCase();return K?q==="MMM"?(De=Mt.call(this._shortMonthsParse,ht),De!==-1?De:null):(De=Mt.call(this._longMonthsParse,ht),De!==-1?De:null):q==="MMM"?(De=Mt.call(this._shortMonthsParse,ht),De!==-1?De:(De=Mt.call(this._longMonthsParse,ht),De!==-1?De:null)):(De=Mt.call(this._longMonthsParse,ht),De!==-1?De:(De=Mt.call(this._shortMonthsParse,ht),De!==-1?De:null))}function dd(j,q,K){var te,De,We;if(this._monthsParseExact)return rd.call(this,j,q,K);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),te=0;te<12;te++){if(De=D([2e3,te]),K&&!this._longMonthsParse[te]&&(this._longMonthsParse[te]=new RegExp("^"+this.months(De,"").replace(".","")+"$","i"),this._shortMonthsParse[te]=new RegExp("^"+this.monthsShort(De,"").replace(".","")+"$","i")),!K&&!this._monthsParse[te]&&(We="^"+this.months(De,"")+"|^"+this.monthsShort(De,""),this._monthsParse[te]=new RegExp(We.replace(".",""),"i")),K&&q==="MMMM"&&this._longMonthsParse[te].test(j))return te;if(K&&q==="MMM"&&this._shortMonthsParse[te].test(j))return te;if(!K&&this._monthsParse[te].test(j))return te}}function bi(j,q){var K;if(!j.isValid())return j;if(typeof q=="string"){if(/^\d+$/.test(q))q=Ze(q);else if(q=j.localeData().monthsParse(q),!d(q))return j}return K=Math.min(j.date(),ys(j.year(),q)),j._d["set"+(j._isUTC?"UTC":"")+"Month"](q,K),j}function yi(j){return j!=null?(bi(this,j),t.updateOffset(this,!0),this):mt(this,"Month")}function ol(){return ys(this.year(),this.month())}function Ll(j){return this._monthsParseExact?(l(this,"_monthsRegex")||Nl.call(this),j?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=tl),this._monthsShortStrictRegex&&j?this._monthsShortStrictRegex:this._monthsShortRegex)}function $s(j){return this._monthsParseExact?(l(this,"_monthsRegex")||Nl.call(this),j?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=yn),this._monthsStrictRegex&&j?this._monthsStrictRegex:this._monthsRegex)}function Nl(){function j(ht,Qt){return Qt.length-ht.length}var q=[],K=[],te=[],De,We;for(De=0;De<12;De++)We=D([2e3,De]),q.push(this.monthsShort(We,"")),K.push(this.months(We,"")),te.push(this.months(We,"")),te.push(this.monthsShort(We,""));for(q.sort(j),K.sort(j),te.sort(j),De=0;De<12;De++)q[De]=dt(q[De]),K[De]=dt(K[De]);for(De=0;De<24;De++)te[De]=dt(te[De]);this._monthsRegex=new RegExp("^("+te.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+q.join("|")+")","i")}he("Y",0,0,function(){var j=this.year();return j<=9999?J(j,4):"+"+j}),he(0,["YY",2],0,function(){return this.year()%100}),he(0,["YYYY",4],0,"year"),he(0,["YYYYY",5],0,"year"),he(0,["YYYYYY",6,!0],0,"year"),ke("year","y"),Ie("year",1),ct("Y",nt),ct("YY",Dt,gt),ct("YYYY",Pe,pt),ct("YYYYY",Te,Et),ct("YYYYYY",Te,Et),ye(["YYYYY","YYYYYY"],it),ye("YYYY",function(j,q){q[it]=j.length===2?t.parseTwoDigitYear(j):Ze(j)}),ye("YY",function(j,q){q[it]=t.parseTwoDigitYear(j)}),ye("Y",function(j,q){q[it]=parseInt(j,10)});function is(j){return me(j)?366:365}t.parseTwoDigitYear=function(j){return Ze(j)+(Ze(j)>68?1900:2e3)};var ki=at("FullYear",!0);function cd(){return me(this.year())}function ud(j,q,K,te,De,We,ht){var Qt;return j<100&&j>=0?(Qt=new Date(j+400,q,K,te,De,We,ht),isFinite(Qt.getFullYear())&&Qt.setFullYear(j)):Qt=new Date(j,q,K,te,De,We,ht),Qt}function ws(j){var q,K;return j<100&&j>=0?(K=Array.prototype.slice.call(arguments),K[0]=j+400,q=new Date(Date.UTC.apply(null,K)),isFinite(q.getUTCFullYear())&&q.setUTCFullYear(j)):q=new Date(Date.UTC.apply(null,arguments)),q}function rs(j,q,K){var te=7+q-K,De=(7+ws(j,0,te).getUTCDay()-q)%7;return-De+te-1}function $i(j,q,K,te,De){var We=(7+K-te)%7,ht=rs(j,te,De),Qt=1+7*(q-1)+We+ht,io,To;return Qt<=0?(io=j-1,To=is(io)+Qt):Qt>is(j)?(io=j+1,To=Qt-is(j)):(io=j,To=Qt),{year:io,dayOfYear:To}}function Ds(j,q,K){var te=rs(j.year(),q,K),De=Math.floor((j.dayOfYear()-te-1)/7)+1,We,ht;return De<1?(ht=j.year()-1,We=De+ba(ht,q,K)):De>ba(j.year(),q,K)?(We=De-ba(j.year(),q,K),ht=j.year()+1):(ht=j.year(),We=De),{week:We,year:ht}}function ba(j,q,K){var te=rs(j,q,K),De=rs(j+1,q,K);return(is(j)-te+De)/7}he("w",["ww",2],"wo","week"),he("W",["WW",2],"Wo","isoWeek"),ke("week","w"),ke("isoWeek","W"),Ie("week",5),Ie("isoWeek",5),ct("w",Dt),ct("ww",Dt,gt),ct("W",Dt),ct("WW",Dt,gt),He(["w","ww","W","WW"],function(j,q,K,te){q[te.substr(0,1)]=Ze(j)});function nn(j){return Ds(j,this._week.dow,this._week.doy).week}var Ln={dow:0,doy:6};function Nn(){return this._week.dow}function _d(){return this._week.doy}function kn(j){var q=this.localeData().week(this);return j==null?q:this.add((j-q)*7,"d")}function md(j){var q=Ds(this,1,4).week;return j==null?q:this.add((j-q)*7,"d")}he("d",0,"do","day"),he("dd",0,0,function(j){return this.localeData().weekdaysMin(this,j)}),he("ddd",0,0,function(j){return this.localeData().weekdaysShort(this,j)}),he("dddd",0,0,function(j){return this.localeData().weekdays(this,j)}),he("e",0,0,"weekday"),he("E",0,0,"isoWeekday"),ke("day","d"),ke("weekday","e"),ke("isoWeekday","E"),Ie("day",11),Ie("weekday",11),Ie("isoWeekday",11),ct("d",Dt),ct("e",Dt),ct("E",Dt),ct("dd",function(j,q){return q.weekdaysMinRegex(j)}),ct("ddd",function(j,q){return q.weekdaysShortRegex(j)}),ct("dddd",function(j,q){return q.weekdaysRegex(j)}),He(["dd","ddd","dddd"],function(j,q,K,te){var De=K._locale.weekdaysParse(j,te,K._strict);De!=null?q.d=De:C(K).invalidWeekday=j}),He(["d","e","E"],function(j,q,K,te){q[te]=Ze(j)});function fd(j,q){return typeof j!="string"?j:isNaN(j)?(j=q.weekdaysParse(j),typeof j=="number"?j:null):parseInt(j,10)}function hd(j,q){return typeof j=="string"?q.weekdaysParse(j)%7||7:isNaN(j)?null:j}function Fl(j,q){return j.slice(q,7).concat(j.slice(0,q))}var wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ha="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ci=Tt,al=Tt,Yl=Tt;function nl(j,q){var K=m(this._weekdays)?this._weekdays:this._weekdays[j&&j!==!0&&this._weekdays.isFormat.test(q)?"format":"standalone"];return j===!0?Fl(K,this._week.dow):j?K[j.day()]:K}function pd(j){return j===!0?Fl(this._weekdaysShort,this._week.dow):j?this._weekdaysShort[j.day()]:this._weekdaysShort}function xi(j){return j===!0?Fl(this._weekdaysMin,this._week.dow):j?this._weekdaysMin[j.day()]:this._weekdaysMin}function Vl(j,q,K){var te,De,We,ht=j.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],te=0;te<7;++te)We=D([2e3,1]).day(te),this._minWeekdaysParse[te]=this.weekdaysMin(We,"").toLocaleLowerCase(),this._shortWeekdaysParse[te]=this.weekdaysShort(We,"").toLocaleLowerCase(),this._weekdaysParse[te]=this.weekdays(We,"").toLocaleLowerCase();return K?q==="dddd"?(De=Mt.call(this._weekdaysParse,ht),De!==-1?De:null):q==="ddd"?(De=Mt.call(this._shortWeekdaysParse,ht),De!==-1?De:null):(De=Mt.call(this._minWeekdaysParse,ht),De!==-1?De:null):q==="dddd"?(De=Mt.call(this._weekdaysParse,ht),De!==-1||(De=Mt.call(this._shortWeekdaysParse,ht),De!==-1)?De:(De=Mt.call(this._minWeekdaysParse,ht),De!==-1?De:null)):q==="ddd"?(De=Mt.call(this._shortWeekdaysParse,ht),De!==-1||(De=Mt.call(this._weekdaysParse,ht),De!==-1)?De:(De=Mt.call(this._minWeekdaysParse,ht),De!==-1?De:null)):(De=Mt.call(this._minWeekdaysParse,ht),De!==-1||(De=Mt.call(this._weekdaysParse,ht),De!==-1)?De:(De=Mt.call(this._shortWeekdaysParse,ht),De!==-1?De:null))}function Pi(j,q,K){var te,De,We;if(this._weekdaysParseExact)return Vl.call(this,j,q,K);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),te=0;te<7;te++){if(De=D([2e3,1]).day(te),K&&!this._fullWeekdaysParse[te]&&(this._fullWeekdaysParse[te]=new RegExp("^"+this.weekdays(De,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[te]=new RegExp("^"+this.weekdaysShort(De,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[te]=new RegExp("^"+this.weekdaysMin(De,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[te]||(We="^"+this.weekdays(De,"")+"|^"+this.weekdaysShort(De,"")+"|^"+this.weekdaysMin(De,""),this._weekdaysParse[te]=new RegExp(We.replace(".",""),"i")),K&&q==="dddd"&&this._fullWeekdaysParse[te].test(j))return te;if(K&&q==="ddd"&&this._shortWeekdaysParse[te].test(j))return te;if(K&&q==="dd"&&this._minWeekdaysParse[te].test(j))return te;if(!K&&this._weekdaysParse[te].test(j))return te}}function $n(j){if(!this.isValid())return j!=null?this:NaN;var q=this._isUTC?this._d.getUTCDay():this._d.getDay();return j!=null?(j=fd(j,this.localeData()),this.add(j-q,"d")):q}function Ei(j){if(!this.isValid())return j!=null?this:NaN;var q=(this.day()+7-this.localeData()._week.dow)%7;return j==null?q:this.add(j-q,"d")}function Bl(j){if(!this.isValid())return j!=null?this:NaN;if(j!=null){var q=hd(j,this.localeData());return this.day(this.day()%7?q:q-7)}else return this.day()||7}function vd(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ci),this._weekdaysStrictRegex&&j?this._weekdaysStrictRegex:this._weekdaysRegex)}function gd(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=al),this._weekdaysShortStrictRegex&&j?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function G(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yl),this._weekdaysMinStrictRegex&&j?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ae(){function j(Fa,Is){return Is.length-Fa.length}var q=[],K=[],te=[],De=[],We,ht,Qt,io,To;for(We=0;We<7;We++)ht=D([2e3,1]).day(We),Qt=dt(this.weekdaysMin(ht,"")),io=dt(this.weekdaysShort(ht,"")),To=dt(this.weekdays(ht,"")),q.push(Qt),K.push(io),te.push(To),De.push(Qt),De.push(io),De.push(To);q.sort(j),K.sort(j),te.sort(j),De.sort(j),this._weekdaysRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+te.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+q.join("|")+")","i")}function qe(){return this.hours()%12||12}function ft(){return this.hours()||24}he("H",["HH",2],0,"hour"),he("h",["hh",2],0,qe),he("k",["kk",2],0,ft),he("hmm",0,0,function(){return""+qe.apply(this)+J(this.minutes(),2)}),he("hmmss",0,0,function(){return""+qe.apply(this)+J(this.minutes(),2)+J(this.seconds(),2)}),he("Hmm",0,0,function(){return""+this.hours()+J(this.minutes(),2)}),he("Hmmss",0,0,function(){return""+this.hours()+J(this.minutes(),2)+J(this.seconds(),2)});function to(j,q){he(j,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),q)})}to("a",!0),to("A",!1),ke("hour","h"),Ie("hour",13);function zt(j,q){return q._meridiemParse}ct("a",zt),ct("A",zt),ct("H",Dt),ct("h",Dt),ct("k",Dt),ct("HH",Dt,gt),ct("hh",Dt,gt),ct("kk",Dt,gt),ct("hmm",Ft),ct("hmmss",Kt),ct("Hmm",Ft),ct("Hmmss",Kt),ye(["H","HH"],pe),ye(["k","kk"],function(j,q,K){var te=Ze(j);q[pe]=te===24?0:te}),ye(["a","A"],function(j,q,K){K._isPm=K._locale.isPM(j),K._meridiem=j}),ye(["h","hh"],function(j,q,K){q[pe]=Ze(j),C(K).bigHour=!0}),ye("hmm",function(j,q,K){var te=j.length-2;q[pe]=Ze(j.substr(0,te)),q[Re]=Ze(j.substr(te)),C(K).bigHour=!0}),ye("hmmss",function(j,q,K){var te=j.length-4,De=j.length-2;q[pe]=Ze(j.substr(0,te)),q[Re]=Ze(j.substr(te,2)),q[vt]=Ze(j.substr(De)),C(K).bigHour=!0}),ye("Hmm",function(j,q,K){var te=j.length-2;q[pe]=Ze(j.substr(0,te)),q[Re]=Ze(j.substr(te))}),ye("Hmmss",function(j,q,K){var te=j.length-4,De=j.length-2;q[pe]=Ze(j.substr(0,te)),q[Re]=Ze(j.substr(te,2)),q[vt]=Ze(j.substr(De))});function fo(j){return(j+"").toLowerCase().charAt(0)==="p"}var go=/[ap]\.?m?\.?/i,Qo=at("Hours",!0);function Co(j,q,K){return j>11?K?"pm":"PM":K?"am":"AM"}var na={calendar:ce,longDateFormat:ge,invalidDate:Me,ordinal:Oe,dayOfMonthOrdinalParse:ze,relativeTime:ve,months:ld,monthsShort:ks,week:Ln,weekdays:wi,weekdaysMin:Di,weekdaysShort:ha,meridiemParse:go},co={},Vo={},Zo;function sa(j,q){var K,te=Math.min(j.length,q.length);for(K=0;K<te;K+=1)if(j[K]!==q[K])return K;return te}function Fn(j){return j&&j.toLowerCase().replace("_","-")}function Yn(j){for(var q=0,K,te,De,We;q<j.length;){for(We=Fn(j[q]).split("-"),K=We.length,te=Fn(j[q+1]),te=te?te.split("-"):null;K>0;){if(De=Ul(We.slice(0,K).join("-")),De)return De;if(te&&te.length>=K&&sa(We,te)>=K-1)break;K--}q++}return Zo}function Cs(j){return j.match("^[^/\\\\]*$")!=null}function Ul(j){var q=null,K;if(co[j]===void 0&&o&&o.exports&&Cs(j))try{q=Zo._abbr,K=THa,K("./locale/"+j),sn(q)}catch{co[j]=null}return co[j]}function sn(j,q){var K;return j&&(i(q)?K=xs(j):K=sl(j,q),K?Zo=K:typeof console<"u"&&console.warn&&console.warn("Locale "+j+" not found. Did you forget to load it?")),Zo._abbr}function sl(j,q){if(q!==null){var K,te=na;if(q.abbr=j,co[j]!=null)I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),te=co[j]._config;else if(q.parentLocale!=null)if(co[q.parentLocale]!=null)te=co[q.parentLocale]._config;else if(K=Ul(q.parentLocale),K!=null)te=K._config;else return Vo[q.parentLocale]||(Vo[q.parentLocale]=[]),Vo[q.parentLocale].push({name:j,config:q}),null;return co[j]=new U(N(te,q)),Vo[j]&&Vo[j].forEach(function(De){sl(De.name,De.config)}),sn(j),co[j]}else return delete co[j],null}function xD(j,q){if(q!=null){var K,te,De=na;co[j]!=null&&co[j].parentLocale!=null?co[j].set(N(co[j]._config,q)):(te=Ul(j),te!=null&&(De=te._config),q=N(De,q),te==null&&(q.abbr=j),K=new U(q),K.parentLocale=co[j],co[j]=K),sn(j)}else co[j]!=null&&(co[j].parentLocale!=null?(co[j]=co[j].parentLocale,j===sn()&&sn(j)):co[j]!=null&&delete co[j]);return co[j]}function xs(j){var q;if(j&&j._locale&&j._locale._abbr&&(j=j._locale._abbr),!j)return Zo;if(!m(j)){if(q=Ul(j),q)return q;j=[j]}return Yn(j)}function PD(){return Z(co)}function cp(j){var q,K=j._a;return K&&C(j).overflow===-2&&(q=K[_t]<0||K[_t]>11?_t:K[tt]<1||K[tt]>ys(K[it],K[_t])?tt:K[pe]<0||K[pe]>24||K[pe]===24&&(K[Re]!==0||K[vt]!==0||K[Rt]!==0)?pe:K[Re]<0||K[Re]>59?Re:K[vt]<0||K[vt]>59?vt:K[Rt]<0||K[Rt]>999?Rt:-1,C(j)._overflowDayOfYear&&(q<it||q>tt)&&(q=tt),C(j)._overflowWeeks&&q===-1&&(q=eo),C(j)._overflowWeekday&&q===-1&&(q=jt),C(j).overflow=q),j}var ED=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ID=/Z|[+-]\d\d(?::?\d\d)?/,Fm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],up=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RD=/^\/?Date\((-?\d+)/i,SD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,TD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function N1(j){var q,K,te=j._i,De=ED.exec(te)||AD.exec(te),We,ht,Qt,io,To=Fm.length,Fa=up.length;if(De){for(C(j).iso=!0,q=0,K=To;q<K;q++)if(Fm[q][1].exec(De[1])){ht=Fm[q][0],We=Fm[q][2]!==!1;break}if(ht==null){j._isValid=!1;return}if(De[3]){for(q=0,K=Fa;q<K;q++)if(up[q][1].exec(De[3])){Qt=(De[2]||" ")+up[q][0];break}if(Qt==null){j._isValid=!1;return}}if(!We&&Qt!=null){j._isValid=!1;return}if(De[4])if(ID.exec(De[4]))io="Z";else{j._isValid=!1;return}j._f=ht+(Qt||"")+(io||""),mp(j)}else j._isValid=!1}function jD(j,q,K,te,De,We){var ht=[OD(j),ks.indexOf(q),parseInt(K,10),parseInt(te,10),parseInt(De,10)];return We&&ht.push(parseInt(We,10)),ht}function OD(j){var q=parseInt(j,10);return q<=49?2e3+q:q<=999?1900+q:q}function MD(j){return j.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function LD(j,q,K){if(j){var te=ha.indexOf(j),De=new Date(q[0],q[1],q[2]).getDay();if(te!==De)return C(K).weekdayMismatch=!0,K._isValid=!1,!1}return!0}function ND(j,q,K){if(j)return TD[j];if(q)return 0;var te=parseInt(K,10),De=te%100,We=(te-De)/100;return We*60+De}function F1(j){var q=SD.exec(MD(j._i)),K;if(q){if(K=jD(q[4],q[3],q[2],q[5],q[6],q[7]),!LD(q[1],K,j))return;j._a=K,j._tzm=ND(q[8],q[9],q[10]),j._d=ws.apply(null,j._a),j._d.setUTCMinutes(j._d.getUTCMinutes()-j._tzm),C(j).rfc2822=!0}else j._isValid=!1}function FD(j){var q=RD.exec(j._i);if(q!==null){j._d=new Date(+q[1]);return}if(N1(j),j._isValid===!1)delete j._isValid;else return;if(F1(j),j._isValid===!1)delete j._isValid;else return;j._strict?j._isValid=!1:t.createFromInputFallback(j)}t.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(j){j._d=new Date(j._i+(j._useUTC?" UTC":""))});function Ai(j,q,K){return j??q??K}function YD(j){var q=new Date(t.now());return j._useUTC?[q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()]:[q.getFullYear(),q.getMonth(),q.getDate()]}function _p(j){var q,K,te=[],De,We,ht;if(!j._d){for(De=YD(j),j._w&&j._a[tt]==null&&j._a[_t]==null&&VD(j),j._dayOfYear!=null&&(ht=Ai(j._a[it],De[it]),(j._dayOfYear>is(ht)||j._dayOfYear===0)&&(C(j)._overflowDayOfYear=!0),K=ws(ht,0,j._dayOfYear),j._a[_t]=K.getUTCMonth(),j._a[tt]=K.getUTCDate()),q=0;q<3&&j._a[q]==null;++q)j._a[q]=te[q]=De[q];for(;q<7;q++)j._a[q]=te[q]=j._a[q]==null?q===2?1:0:j._a[q];j._a[pe]===24&&j._a[Re]===0&&j._a[vt]===0&&j._a[Rt]===0&&(j._nextDay=!0,j._a[pe]=0),j._d=(j._useUTC?ws:ud).apply(null,te),We=j._useUTC?j._d.getUTCDay():j._d.getDay(),j._tzm!=null&&j._d.setUTCMinutes(j._d.getUTCMinutes()-j._tzm),j._nextDay&&(j._a[pe]=24),j._w&&typeof j._w.d<"u"&&j._w.d!==We&&(C(j).weekdayMismatch=!0)}}function VD(j){var q,K,te,De,We,ht,Qt,io,To;q=j._w,q.GG!=null||q.W!=null||q.E!=null?(We=1,ht=4,K=Ai(q.GG,j._a[it],Ds(Bo(),1,4).year),te=Ai(q.W,1),De=Ai(q.E,1),(De<1||De>7)&&(io=!0)):(We=j._locale._week.dow,ht=j._locale._week.doy,To=Ds(Bo(),We,ht),K=Ai(q.gg,j._a[it],To.year),te=Ai(q.w,To.week),q.d!=null?(De=q.d,(De<0||De>6)&&(io=!0)):q.e!=null?(De=q.e+We,(q.e<0||q.e>6)&&(io=!0)):De=We),te<1||te>ba(K,We,ht)?C(j)._overflowWeeks=!0:io!=null?C(j)._overflowWeekday=!0:(Qt=$i(K,te,De,We,ht),j._a[it]=Qt.year,j._dayOfYear=Qt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function mp(j){if(j._f===t.ISO_8601){N1(j);return}if(j._f===t.RFC_2822){F1(j);return}j._a=[],C(j).empty=!0;var q=""+j._i,K,te,De,We,ht,Qt=q.length,io=0,To,Fa;for(De=se(j._f,j._locale).match(z)||[],Fa=De.length,K=0;K<Fa;K++)We=De[K],te=(q.match(Ht(We,j))||[])[0],te&&(ht=q.substr(0,q.indexOf(te)),ht.length>0&&C(j).unusedInput.push(ht),q=q.slice(q.indexOf(te)+te.length),io+=te.length),Fe[We]?(te?C(j).empty=!1:C(j).unusedTokens.push(We),Nt(We,te,j)):j._strict&&!te&&C(j).unusedTokens.push(We);C(j).charsLeftOver=Qt-io,q.length>0&&C(j).unusedInput.push(q),j._a[pe]<=12&&C(j).bigHour===!0&&j._a[pe]>0&&(C(j).bigHour=void 0),C(j).parsedDateParts=j._a.slice(0),C(j).meridiem=j._meridiem,j._a[pe]=BD(j._locale,j._a[pe],j._meridiem),To=C(j).era,To!==null&&(j._a[it]=j._locale.erasConvertYear(To,j._a[it])),_p(j),cp(j)}function BD(j,q,K){var te;return K==null?q:j.meridiemHour!=null?j.meridiemHour(q,K):(j.isPM!=null&&(te=j.isPM(K),te&&q<12&&(q+=12),!te&&q===12&&(q=0)),q)}function UD(j){var q,K,te,De,We,ht,Qt=!1,io=j._f.length;if(io===0){C(j).invalidFormat=!0,j._d=new Date(NaN);return}for(De=0;De<io;De++)We=0,ht=!1,q=V({},j),j._useUTC!=null&&(q._useUTC=j._useUTC),q._f=j._f[De],mp(q),E(q)&&(ht=!0),We+=C(q).charsLeftOver,We+=C(q).unusedTokens.length*10,C(q).score=We,Qt?We<te&&(te=We,K=q):(te==null||We<te||ht)&&(te=We,K=q,ht&&(Qt=!0));g(j,K||q)}function qD(j){if(!j._d){var q=Ce(j._i),K=q.day===void 0?q.date:q.day;j._a=v([q.year,q.month,K,q.hour,q.minute,q.second,q.millisecond],function(te){return te&&parseInt(te,10)}),_p(j)}}function HD(j){var q=new B(cp(Y1(j)));return q._nextDay&&(q.add(1,"d"),q._nextDay=void 0),q}function Y1(j){var q=j._i,K=j._f;return j._locale=j._locale||xs(j._l),q===null||K===void 0&&q===""?k({nullInput:!0}):(typeof q=="string"&&(j._i=q=j._locale.preparse(q)),O(q)?new B(cp(q)):(p(q)?j._d=q:m(K)?UD(j):K?mp(j):zD(j),E(j)||(j._d=null),j))}function zD(j){var q=j._i;i(q)?j._d=new Date(t.now()):p(q)?j._d=new Date(q.valueOf()):typeof q=="string"?FD(j):m(q)?(j._a=v(q.slice(0),function(K){return parseInt(K,10)}),_p(j)):_(q)?qD(j):d(q)?j._d=new Date(q):t.createFromInputFallback(j)}function V1(j,q,K,te,De){var We={};return(q===!0||q===!1)&&(te=q,q=void 0),(K===!0||K===!1)&&(te=K,K=void 0),(_(j)&&r(j)||m(j)&&j.length===0)&&(j=void 0),We._isAMomentObject=!0,We._useUTC=We._isUTC=De,We._l=K,We._i=j,We._f=q,We._strict=te,HD(We)}function Bo(j,q,K,te){return V1(j,q,K,te,!1)}var WD=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var j=Bo.apply(null,arguments);return this.isValid()&&j.isValid()?j<this?this:j:k()}),KD=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var j=Bo.apply(null,arguments);return this.isValid()&&j.isValid()?j>this?this:j:k()});function B1(j,q){var K,te;if(q.length===1&&m(q[0])&&(q=q[0]),!q.length)return Bo();for(K=q[0],te=1;te<q.length;++te)(!q[te].isValid()||q[te][j](K))&&(K=q[te]);return K}function GD(){var j=[].slice.call(arguments,0);return B1("isBefore",j)}function QD(){var j=[].slice.call(arguments,0);return B1("isAfter",j)}var ZD=function(){return Date.now?Date.now():+new Date},bd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JD(j){var q,K=!1,te,De=bd.length;for(q in j)if(l(j,q)&&!(Mt.call(bd,q)!==-1&&(j[q]==null||!isNaN(j[q]))))return!1;for(te=0;te<De;++te)if(j[bd[te]]){if(K)return!1;parseFloat(j[bd[te]])!==Ze(j[bd[te]])&&(K=!0)}return!0}function XD(){return this._isValid}function e3(){return Vn(NaN)}function Ym(j){var q=Ce(j),K=q.year||0,te=q.quarter||0,De=q.month||0,We=q.week||q.isoWeek||0,ht=q.day||0,Qt=q.hour||0,io=q.minute||0,To=q.second||0,Fa=q.millisecond||0;this._isValid=JD(q),this._milliseconds=+Fa+To*1e3+io*6e4+Qt*1e3*60*60,this._days=+ht+We*7,this._months=+De+te*3+K*12,this._data={},this._locale=xs(),this._bubble()}function Vm(j){return j instanceof Ym}function fp(j){return j<0?Math.round(-1*j)*-1:Math.round(j)}function t3(j,q,K){var te=Math.min(j.length,q.length),De=Math.abs(j.length-q.length),We=0,ht;for(ht=0;ht<te;ht++)(K&&j[ht]!==q[ht]||!K&&Ze(j[ht])!==Ze(q[ht]))&&We++;return We+De}function U1(j,q){he(j,0,0,function(){var K=this.utcOffset(),te="+";return K<0&&(K=-K,te="-"),te+J(~~(K/60),2)+q+J(~~K%60,2)})}U1("Z",":"),U1("ZZ",""),ct("Z",Ct),ct("ZZ",Ct),ye(["Z","ZZ"],function(j,q,K){K._useUTC=!0,K._tzm=hp(Ct,j)});var o3=/([\+\-]|\d\d)/gi;function hp(j,q){var K=(q||"").match(j),te,De,We;return K===null?null:(te=K[K.length-1]||[],De=(te+"").match(o3)||["-",0,0],We=+(De[1]*60)+Ze(De[2]),We===0?0:De[0]==="+"?We:-We)}function pp(j,q){var K,te;return q._isUTC?(K=q.clone(),te=(O(j)||p(j)?j.valueOf():Bo(j).valueOf())-K.valueOf(),K._d.setTime(K._d.valueOf()+te),t.updateOffset(K,!1),K):Bo(j).local()}function vp(j){return-Math.round(j._d.getTimezoneOffset())}t.updateOffset=function(){};function a3(j,q,K){var te=this._offset||0,De;if(!this.isValid())return j!=null?this:NaN;if(j!=null){if(typeof j=="string"){if(j=hp(Ct,j),j===null)return this}else Math.abs(j)<16&&!K&&(j=j*60);return!this._isUTC&&q&&(De=vp(this)),this._offset=j,this._isUTC=!0,De!=null&&this.add(De,"m"),te!==j&&(!q||this._changeInProgress?W1(this,Vn(j-te,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?te:vp(this)}function n3(j,q){return j!=null?(typeof j!="string"&&(j=-j),this.utcOffset(j,q),this):-this.utcOffset()}function s3(j){return this.utcOffset(0,j)}function l3(j){return this._isUTC&&(this.utcOffset(0,j),this._isUTC=!1,j&&this.subtract(vp(this),"m")),this}function i3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var j=hp(yt,this._i);j!=null?this.utcOffset(j):this.utcOffset(0,!0)}return this}function r3(j){return this.isValid()?(j=j?Bo(j).utcOffset():0,(this.utcOffset()-j)%60===0):!1}function d3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function c3(){if(!i(this._isDSTShifted))return this._isDSTShifted;var j={},q;return V(j,this),j=Y1(j),j._a?(q=j._isUTC?D(j._a):Bo(j._a),this._isDSTShifted=this.isValid()&&t3(j._a,q.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function u3(){return this.isValid()?!this._isUTC:!1}function _3(){return this.isValid()?this._isUTC:!1}function q1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var m3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,f3=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vn(j,q){var K=j,te=null,De,We,ht;return Vm(j)?K={ms:j._milliseconds,d:j._days,M:j._months}:d(j)||!isNaN(+j)?(K={},q?K[q]=+j:K.milliseconds=+j):(te=m3.exec(j))?(De=te[1]==="-"?-1:1,K={y:0,d:Ze(te[tt])*De,h:Ze(te[pe])*De,m:Ze(te[Re])*De,s:Ze(te[vt])*De,ms:Ze(fp(te[Rt]*1e3))*De}):(te=f3.exec(j))?(De=te[1]==="-"?-1:1,K={y:ql(te[2],De),M:ql(te[3],De),w:ql(te[4],De),d:ql(te[5],De),h:ql(te[6],De),m:ql(te[7],De),s:ql(te[8],De)}):K==null?K={}:typeof K=="object"&&("from"in K||"to"in K)&&(ht=h3(Bo(K.from),Bo(K.to)),K={},K.ms=ht.milliseconds,K.M=ht.months),We=new Ym(K),Vm(j)&&l(j,"_locale")&&(We._locale=j._locale),Vm(j)&&l(j,"_isValid")&&(We._isValid=j._isValid),We}Vn.fn=Ym.prototype,Vn.invalid=e3;function ql(j,q){var K=j&&parseFloat(j.replace(",","."));return(isNaN(K)?0:K)*q}function H1(j,q){var K={};return K.months=q.month()-j.month()+(q.year()-j.year())*12,j.clone().add(K.months,"M").isAfter(q)&&--K.months,K.milliseconds=+q-+j.clone().add(K.months,"M"),K}function h3(j,q){var K;return j.isValid()&&q.isValid()?(q=pp(q,j),j.isBefore(q)?K=H1(j,q):(K=H1(q,j),K.milliseconds=-K.milliseconds,K.months=-K.months),K):{milliseconds:0,months:0}}function z1(j,q){return function(K,te){var De,We;return te!==null&&!isNaN(+te)&&(I(q,"moment()."+q+"(period, number) is deprecated. Please use moment()."+q+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),We=K,K=te,te=We),De=Vn(K,te),W1(this,De,j),this}}function W1(j,q,K,te){var De=q._milliseconds,We=fp(q._days),ht=fp(q._months);j.isValid()&&(te=te??!0,ht&&bi(j,mt(j,"Month")+ht*K),We&&wt(j,"Date",mt(j,"Date")+We*K),De&&j._d.setTime(j._d.valueOf()+De*K),te&&t.updateOffset(j,We||ht))}var p3=z1(1,"add"),v3=z1(-1,"subtract");function K1(j){return typeof j=="string"||j instanceof String}function g3(j){return O(j)||p(j)||K1(j)||d(j)||y3(j)||b3(j)||j===null||j===void 0}function b3(j){var q=_(j)&&!r(j),K=!1,te=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],De,We,ht=te.length;for(De=0;De<ht;De+=1)We=te[De],K=K||l(j,We);return q&&K}function y3(j){var q=m(j),K=!1;return q&&(K=j.filter(function(te){return!d(te)&&K1(j)}).length===0),q&&K}function k3(j){var q=_(j)&&!r(j),K=!1,te=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],De,We;for(De=0;De<te.length;De+=1)We=te[De],K=K||l(j,We);return q&&K}function $3(j,q){var K=j.diff(q,"days",!0);return K<-6?"sameElse":K<-1?"lastWeek":K<0?"lastDay":K<1?"sameDay":K<2?"nextDay":K<7?"nextWeek":"sameElse"}function w3(j,q){arguments.length===1&&(arguments[0]?g3(arguments[0])?(j=arguments[0],q=void 0):k3(arguments[0])&&(q=arguments[0],j=void 0):(j=void 0,q=void 0));var K=j||Bo(),te=pp(K,this).startOf("day"),De=t.calendarFormat(this,te)||"sameElse",We=q&&(S(q[De])?q[De].call(this,K):q[De]);return this.format(We||this.localeData().calendar(De,this,Bo(K)))}function D3(){return new B(this)}function C3(j,q){var K=O(j)?j:Bo(j);return this.isValid()&&K.isValid()?(q=ee(q)||"millisecond",q==="millisecond"?this.valueOf()>K.valueOf():K.valueOf()<this.clone().startOf(q).valueOf()):!1}function x3(j,q){var K=O(j)?j:Bo(j);return this.isValid()&&K.isValid()?(q=ee(q)||"millisecond",q==="millisecond"?this.valueOf()<K.valueOf():this.clone().endOf(q).valueOf()<K.valueOf()):!1}function P3(j,q,K,te){var De=O(j)?j:Bo(j),We=O(q)?q:Bo(q);return this.isValid()&&De.isValid()&&We.isValid()?(te=te||"()",(te[0]==="("?this.isAfter(De,K):!this.isBefore(De,K))&&(te[1]===")"?this.isBefore(We,K):!this.isAfter(We,K))):!1}function E3(j,q){var K=O(j)?j:Bo(j),te;return this.isValid()&&K.isValid()?(q=ee(q)||"millisecond",q==="millisecond"?this.valueOf()===K.valueOf():(te=K.valueOf(),this.clone().startOf(q).valueOf()<=te&&te<=this.clone().endOf(q).valueOf())):!1}function A3(j,q){return this.isSame(j,q)||this.isAfter(j,q)}function I3(j,q){return this.isSame(j,q)||this.isBefore(j,q)}function R3(j,q,K){var te,De,We;if(!this.isValid())return NaN;if(te=pp(j,this),!te.isValid())return NaN;switch(De=(te.utcOffset()-this.utcOffset())*6e4,q=ee(q),q){case"year":We=Bm(this,te)/12;break;case"month":We=Bm(this,te);break;case"quarter":We=Bm(this,te)/3;break;case"second":We=(this-te)/1e3;break;case"minute":We=(this-te)/6e4;break;case"hour":We=(this-te)/36e5;break;case"day":We=(this-te-De)/864e5;break;case"week":We=(this-te-De)/6048e5;break;default:We=this-te}return K?We:Le(We)}function Bm(j,q){if(j.date()<q.date())return-Bm(q,j);var K=(q.year()-j.year())*12+(q.month()-j.month()),te=j.clone().add(K,"months"),De,We;return q-te<0?(De=j.clone().add(K-1,"months"),We=(q-te)/(te-De)):(De=j.clone().add(K+1,"months"),We=(q-te)/(De-te)),-(K+We)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function S3(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function T3(j){if(!this.isValid())return null;var q=j!==!0,K=q?this.clone().utc():this;return K.year()<0||K.year()>9999?we(K,q?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?q?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",we(K,"Z")):we(K,q?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function j3(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var j="moment",q="",K,te,De,We;return this.isLocal()||(j=this.utcOffset()===0?"moment.utc":"moment.parseZone",q="Z"),K="["+j+'("]',te=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",De="-MM-DD[T]HH:mm:ss.SSS",We=q+'[")]',this.format(K+te+De+We)}function O3(j){j||(j=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var q=we(this,j);return this.localeData().postformat(q)}function M3(j,q){return this.isValid()&&(O(j)&&j.isValid()||Bo(j).isValid())?Vn({to:this,from:j}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()}function L3(j){return this.from(Bo(),j)}function N3(j,q){return this.isValid()&&(O(j)&&j.isValid()||Bo(j).isValid())?Vn({from:this,to:j}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()}function F3(j){return this.to(Bo(),j)}function G1(j){var q;return j===void 0?this._locale._abbr:(q=xs(j),q!=null&&(this._locale=q),this)}var Q1=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(j){return j===void 0?this.localeData():this.locale(j)});function Z1(){return this._locale}var Um=1e3,Ii=60*Um,qm=60*Ii,J1=(365*400+97)*24*qm;function Ri(j,q){return(j%q+q)%q}function X1(j,q,K){return j<100&&j>=0?new Date(j+400,q,K)-J1:new Date(j,q,K).valueOf()}function eb(j,q,K){return j<100&&j>=0?Date.UTC(j+400,q,K)-J1:Date.UTC(j,q,K)}function Y3(j){var q,K;if(j=ee(j),j===void 0||j==="millisecond"||!this.isValid())return this;switch(K=this._isUTC?eb:X1,j){case"year":q=K(this.year(),0,1);break;case"quarter":q=K(this.year(),this.month()-this.month()%3,1);break;case"month":q=K(this.year(),this.month(),1);break;case"week":q=K(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":q=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":q=K(this.year(),this.month(),this.date());break;case"hour":q=this._d.valueOf(),q-=Ri(q+(this._isUTC?0:this.utcOffset()*Ii),qm);break;case"minute":q=this._d.valueOf(),q-=Ri(q,Ii);break;case"second":q=this._d.valueOf(),q-=Ri(q,Um);break}return this._d.setTime(q),t.updateOffset(this,!0),this}function V3(j){var q,K;if(j=ee(j),j===void 0||j==="millisecond"||!this.isValid())return this;switch(K=this._isUTC?eb:X1,j){case"year":q=K(this.year()+1,0,1)-1;break;case"quarter":q=K(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":q=K(this.year(),this.month()+1,1)-1;break;case"week":q=K(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":q=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":q=K(this.year(),this.month(),this.date()+1)-1;break;case"hour":q=this._d.valueOf(),q+=qm-Ri(q+(this._isUTC?0:this.utcOffset()*Ii),qm)-1;break;case"minute":q=this._d.valueOf(),q+=Ii-Ri(q,Ii)-1;break;case"second":q=this._d.valueOf(),q+=Um-Ri(q,Um)-1;break}return this._d.setTime(q),t.updateOffset(this,!0),this}function B3(){return this._d.valueOf()-(this._offset||0)*6e4}function U3(){return Math.floor(this.valueOf()/1e3)}function q3(){return new Date(this.valueOf())}function H3(){var j=this;return[j.year(),j.month(),j.date(),j.hour(),j.minute(),j.second(),j.millisecond()]}function z3(){var j=this;return{years:j.year(),months:j.month(),date:j.date(),hours:j.hours(),minutes:j.minutes(),seconds:j.seconds(),milliseconds:j.milliseconds()}}function W3(){return this.isValid()?this.toISOString():null}function K3(){return E(this)}function G3(){return g({},C(this))}function Q3(){return C(this).overflow}function Z3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr"),he("NN",0,0,"eraAbbr"),he("NNN",0,0,"eraAbbr"),he("NNNN",0,0,"eraName"),he("NNNNN",0,0,"eraNarrow"),he("y",["y",1],"yo","eraYear"),he("y",["yy",2],0,"eraYear"),he("y",["yyy",3],0,"eraYear"),he("y",["yyyy",4],0,"eraYear"),ct("N",gp),ct("NN",gp),ct("NNN",gp),ct("NNNN",rC),ct("NNNNN",dC),ye(["N","NN","NNN","NNNN","NNNNN"],function(j,q,K,te){var De=K._locale.erasParse(j,te,K._strict);De?C(K).era=De:C(K).invalidEra=j}),ct("y",Ge),ct("yy",Ge),ct("yyy",Ge),ct("yyyy",Ge),ct("yo",cC),ye(["y","yy","yyy","yyyy"],it),ye(["yo"],function(j,q,K,te){var De;K._locale._eraYearOrdinalRegex&&(De=j.match(K._locale._eraYearOrdinalRegex)),K._locale.eraYearOrdinalParse?q[it]=K._locale.eraYearOrdinalParse(j,De):q[it]=parseInt(j,10)});function J3(j,q){var K,te,De,We=this._eras||xs("en")._eras;for(K=0,te=We.length;K<te;++K){switch(typeof We[K].since){case"string":De=t(We[K].since).startOf("day"),We[K].since=De.valueOf();break}switch(typeof We[K].until){case"undefined":We[K].until=1/0;break;case"string":De=t(We[K].until).startOf("day").valueOf(),We[K].until=De.valueOf();break}}return We}function X3(j,q,K){var te,De,We=this.eras(),ht,Qt,io;for(j=j.toUpperCase(),te=0,De=We.length;te<De;++te)if(ht=We[te].name.toUpperCase(),Qt=We[te].abbr.toUpperCase(),io=We[te].narrow.toUpperCase(),K)switch(q){case"N":case"NN":case"NNN":if(Qt===j)return We[te];break;case"NNNN":if(ht===j)return We[te];break;case"NNNNN":if(io===j)return We[te];break}else if([ht,Qt,io].indexOf(j)>=0)return We[te]}function eC(j,q){var K=j.since<=j.until?1:-1;return q===void 0?t(j.since).year():t(j.since).year()+(q-j.offset)*K}function tC(){var j,q,K,te=this.localeData().eras();for(j=0,q=te.length;j<q;++j)if(K=this.clone().startOf("day").valueOf(),te[j].since<=K&&K<=te[j].until||te[j].until<=K&&K<=te[j].since)return te[j].name;return""}function oC(){var j,q,K,te=this.localeData().eras();for(j=0,q=te.length;j<q;++j)if(K=this.clone().startOf("day").valueOf(),te[j].since<=K&&K<=te[j].until||te[j].until<=K&&K<=te[j].since)return te[j].narrow;return""}function aC(){var j,q,K,te=this.localeData().eras();for(j=0,q=te.length;j<q;++j)if(K=this.clone().startOf("day").valueOf(),te[j].since<=K&&K<=te[j].until||te[j].until<=K&&K<=te[j].since)return te[j].abbr;return""}function nC(){var j,q,K,te,De=this.localeData().eras();for(j=0,q=De.length;j<q;++j)if(K=De[j].since<=De[j].until?1:-1,te=this.clone().startOf("day").valueOf(),De[j].since<=te&&te<=De[j].until||De[j].until<=te&&te<=De[j].since)return(this.year()-t(De[j].since).year())*K+De[j].offset;return this.year()}function sC(j){return l(this,"_erasNameRegex")||bp.call(this),j?this._erasNameRegex:this._erasRegex}function lC(j){return l(this,"_erasAbbrRegex")||bp.call(this),j?this._erasAbbrRegex:this._erasRegex}function iC(j){return l(this,"_erasNarrowRegex")||bp.call(this),j?this._erasNarrowRegex:this._erasRegex}function gp(j,q){return q.erasAbbrRegex(j)}function rC(j,q){return q.erasNameRegex(j)}function dC(j,q){return q.erasNarrowRegex(j)}function cC(j,q){return q._eraYearOrdinalRegex||Ge}function bp(){var j=[],q=[],K=[],te=[],De,We,ht=this.eras();for(De=0,We=ht.length;De<We;++De)q.push(dt(ht[De].name)),j.push(dt(ht[De].abbr)),K.push(dt(ht[De].narrow)),te.push(dt(ht[De].name)),te.push(dt(ht[De].abbr)),te.push(dt(ht[De].narrow));this._erasRegex=new RegExp("^("+te.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+q.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+j.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+K.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100}),he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hm(j,q){he(0,[j,j.length],0,q)}Hm("gggg","weekYear"),Hm("ggggg","weekYear"),Hm("GGGG","isoWeekYear"),Hm("GGGGG","isoWeekYear"),ke("weekYear","gg"),ke("isoWeekYear","GG"),Ie("weekYear",1),Ie("isoWeekYear",1),ct("G",nt),ct("g",nt),ct("GG",Dt,gt),ct("gg",Dt,gt),ct("GGGG",Pe,pt),ct("gggg",Pe,pt),ct("GGGGG",Te,Et),ct("ggggg",Te,Et),He(["gggg","ggggg","GGGG","GGGGG"],function(j,q,K,te){q[te.substr(0,2)]=Ze(j)}),He(["gg","GG"],function(j,q,K,te){q[te]=t.parseTwoDigitYear(j)});function uC(j){return tb.call(this,j,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _C(j){return tb.call(this,j,this.isoWeek(),this.isoWeekday(),1,4)}function mC(){return ba(this.year(),1,4)}function fC(){return ba(this.isoWeekYear(),1,4)}function hC(){var j=this.localeData()._week;return ba(this.year(),j.dow,j.doy)}function pC(){var j=this.localeData()._week;return ba(this.weekYear(),j.dow,j.doy)}function tb(j,q,K,te,De){var We;return j==null?Ds(this,te,De).year:(We=ba(j,te,De),q>We&&(q=We),vC.call(this,j,q,K,te,De))}function vC(j,q,K,te,De){var We=$i(j,q,K,te,De),ht=ws(We.year,0,We.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}he("Q",0,"Qo","quarter"),ke("quarter","Q"),Ie("quarter",7),ct("Q",ut),ye("Q",function(j,q){q[_t]=(Ze(j)-1)*3});function gC(j){return j==null?Math.ceil((this.month()+1)/3):this.month((j-1)*3+this.month()%3)}he("D",["DD",2],"Do","date"),ke("date","D"),Ie("date",9),ct("D",Dt),ct("DD",Dt,gt),ct("Do",function(j,q){return j?q._dayOfMonthOrdinalParse||q._ordinalParse:q._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],tt),ye("Do",function(j,q){q[tt]=Ze(j.match(Dt)[0])});var ob=at("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear"),ke("dayOfYear","DDD"),Ie("dayOfYear",4),ct("DDD",ro),ct("DDDD",Vt),ye(["DDD","DDDD"],function(j,q,K){K._dayOfYear=Ze(j)});function bC(j){var q=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return j==null?q:this.add(j-q,"d")}he("m",["mm",2],0,"minute"),ke("minute","m"),Ie("minute",14),ct("m",Dt),ct("mm",Dt,gt),ye(["m","mm"],Re);var yC=at("Minutes",!1);he("s",["ss",2],0,"second"),ke("second","s"),Ie("second",15),ct("s",Dt),ct("ss",Dt,gt),ye(["s","ss"],vt);var kC=at("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)}),he(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),he(0,["SSS",3],0,"millisecond"),he(0,["SSSS",4],0,function(){return this.millisecond()*10}),he(0,["SSSSS",5],0,function(){return this.millisecond()*100}),he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ke("millisecond","ms"),Ie("millisecond",16),ct("S",ro,ut),ct("SS",ro,gt),ct("SSS",ro,Vt);var ll,ab;for(ll="SSSS";ll.length<=9;ll+="S")ct(ll,Ge);function $C(j,q){q[Rt]=Ze(("0."+j)*1e3)}for(ll="S";ll.length<=9;ll+="S")ye(ll,$C);ab=at("Milliseconds",!1),he("z",0,0,"zoneAbbr"),he("zz",0,0,"zoneName");function wC(){return this._isUTC?"UTC":""}function DC(){return this._isUTC?"Coordinated Universal Time":""}var xt=B.prototype;xt.add=p3,xt.calendar=w3,xt.clone=D3,xt.diff=R3,xt.endOf=V3,xt.format=O3,xt.from=M3,xt.fromNow=L3,xt.to=N3,xt.toNow=F3,xt.get=Ot,xt.invalidAt=Q3,xt.isAfter=C3,xt.isBefore=x3,xt.isBetween=P3,xt.isSame=E3,xt.isSameOrAfter=A3,xt.isSameOrBefore=I3,xt.isValid=K3,xt.lang=Q1,xt.locale=G1,xt.localeData=Z1,xt.max=KD,xt.min=WD,xt.parsingFlags=G3,xt.set=Jt,xt.startOf=Y3,xt.subtract=v3,xt.toArray=H3,xt.toObject=z3,xt.toDate=q3,xt.toISOString=T3,xt.inspect=j3,typeof Symbol<"u"&&Symbol.for!=null&&(xt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),xt.toJSON=W3,xt.toString=S3,xt.unix=U3,xt.valueOf=B3,xt.creationData=Z3,xt.eraName=tC,xt.eraNarrow=oC,xt.eraAbbr=aC,xt.eraYear=nC,xt.year=ki,xt.isLeapYear=cd,xt.weekYear=uC,xt.isoWeekYear=_C,xt.quarter=xt.quarters=gC,xt.month=yi,xt.daysInMonth=ol,xt.week=xt.weeks=kn,xt.isoWeek=xt.isoWeeks=md,xt.weeksInYear=hC,xt.weeksInWeekYear=pC,xt.isoWeeksInYear=mC,xt.isoWeeksInISOWeekYear=fC,xt.date=ob,xt.day=xt.days=$n,xt.weekday=Ei,xt.isoWeekday=Bl,xt.dayOfYear=bC,xt.hour=xt.hours=Qo,xt.minute=xt.minutes=yC,xt.second=xt.seconds=kC,xt.millisecond=xt.milliseconds=ab,xt.utcOffset=a3,xt.utc=s3,xt.local=l3,xt.parseZone=i3,xt.hasAlignedHourOffset=r3,xt.isDST=d3,xt.isLocal=u3,xt.isUtcOffset=_3,xt.isUtc=q1,xt.isUTC=q1,xt.zoneAbbr=wC,xt.zoneName=DC,xt.dates=R("dates accessor is deprecated. Use date instead.",ob),xt.months=R("months accessor is deprecated. Use month instead",yi),xt.years=R("years accessor is deprecated. Use year instead",ki),xt.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",n3),xt.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",c3);function CC(j){return Bo(j*1e3)}function xC(){return Bo.apply(null,arguments).parseZone()}function nb(j){return j}var xo=U.prototype;xo.calendar=ae,xo.longDateFormat=be,xo.invalidDate=ue,xo.ordinal=Ye,xo.preparse=nb,xo.postformat=nb,xo.relativeTime=_e,xo.pastFuture=Se,xo.set=F,xo.eras=J3,xo.erasParse=X3,xo.erasConvertYear=eC,xo.erasAbbrRegex=lC,xo.erasNameRegex=sC,xo.erasNarrowRegex=iC,xo.months=Ml,xo.monthsShort=id,xo.monthsParse=dd,xo.monthsRegex=$s,xo.monthsShortRegex=Ll,xo.week=nn,xo.firstDayOfYear=_d,xo.firstDayOfWeek=Nn,xo.weekdays=nl,xo.weekdaysMin=xi,xo.weekdaysShort=pd,xo.weekdaysParse=Pi,xo.weekdaysRegex=vd,xo.weekdaysShortRegex=gd,xo.weekdaysMinRegex=G,xo.isPM=fo,xo.meridiem=Co;function zm(j,q,K,te){var De=xs(),We=D().set(te,q);return De[K](We,j)}function sb(j,q,K){if(d(j)&&(q=j,j=void 0),j=j||"",q!=null)return zm(j,q,K,"month");var te,De=[];for(te=0;te<12;te++)De[te]=zm(j,te,K,"month");return De}function yp(j,q,K,te){typeof j=="boolean"?(d(q)&&(K=q,q=void 0),q=q||""):(q=j,K=q,j=!1,d(q)&&(K=q,q=void 0),q=q||"");var De=xs(),We=j?De._week.dow:0,ht,Qt=[];if(K!=null)return zm(q,(K+We)%7,te,"day");for(ht=0;ht<7;ht++)Qt[ht]=zm(q,(ht+We)%7,te,"day");return Qt}function PC(j,q){return sb(j,q,"months")}function EC(j,q){return sb(j,q,"monthsShort")}function AC(j,q,K){return yp(j,q,K,"weekdays")}function IC(j,q,K){return yp(j,q,K,"weekdaysShort")}function RC(j,q,K){return yp(j,q,K,"weekdaysMin")}sn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(j){var q=j%10,K=Ze(j%100/10)===1?"th":q===1?"st":q===2?"nd":q===3?"rd":"th";return j+K}}),t.lang=R("moment.lang is deprecated. Use moment.locale instead.",sn),t.langData=R("moment.langData is deprecated. Use moment.localeData instead.",xs);var Ps=Math.abs;function SC(){var j=this._data;return this._milliseconds=Ps(this._milliseconds),this._days=Ps(this._days),this._months=Ps(this._months),j.milliseconds=Ps(j.milliseconds),j.seconds=Ps(j.seconds),j.minutes=Ps(j.minutes),j.hours=Ps(j.hours),j.months=Ps(j.months),j.years=Ps(j.years),this}function lb(j,q,K,te){var De=Vn(q,K);return j._milliseconds+=te*De._milliseconds,j._days+=te*De._days,j._months+=te*De._months,j._bubble()}function TC(j,q){return lb(this,j,q,1)}function jC(j,q){return lb(this,j,q,-1)}function ib(j){return j<0?Math.floor(j):Math.ceil(j)}function OC(){var j=this._milliseconds,q=this._days,K=this._months,te=this._data,De,We,ht,Qt,io;return j>=0&&q>=0&&K>=0||j<=0&&q<=0&&K<=0||(j+=ib(kp(K)+q)*864e5,q=0,K=0),te.milliseconds=j%1e3,De=Le(j/1e3),te.seconds=De%60,We=Le(De/60),te.minutes=We%60,ht=Le(We/60),te.hours=ht%24,q+=Le(ht/24),io=Le(rb(q)),K+=io,q-=ib(kp(io)),Qt=Le(K/12),K%=12,te.days=q,te.months=K,te.years=Qt,this}function rb(j){return j*4800/146097}function kp(j){return j*146097/4800}function MC(j){if(!this.isValid())return NaN;var q,K,te=this._milliseconds;if(j=ee(j),j==="month"||j==="quarter"||j==="year")switch(q=this._days+te/864e5,K=this._months+rb(q),j){case"month":return K;case"quarter":return K/3;case"year":return K/12}else switch(q=this._days+Math.round(kp(this._months)),j){case"week":return q/7+te/6048e5;case"day":return q+te/864e5;case"hour":return q*24+te/36e5;case"minute":return q*1440+te/6e4;case"second":return q*86400+te/1e3;case"millisecond":return Math.floor(q*864e5)+te;default:throw new Error("Unknown unit "+j)}}function LC(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ze(this._months/12)*31536e6:NaN}function Es(j){return function(){return this.as(j)}}var NC=Es("ms"),FC=Es("s"),YC=Es("m"),VC=Es("h"),BC=Es("d"),UC=Es("w"),qC=Es("M"),HC=Es("Q"),zC=Es("y");function WC(){return Vn(this)}function KC(j){return j=ee(j),this.isValid()?this[j+"s"]():NaN}function Hl(j){return function(){return this.isValid()?this._data[j]:NaN}}var GC=Hl("milliseconds"),QC=Hl("seconds"),ZC=Hl("minutes"),JC=Hl("hours"),XC=Hl("days"),ex=Hl("months"),tx=Hl("years");function ox(){return Le(this.days()/7)}var As=Math.round,Si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ax(j,q,K,te,De){return De.relativeTime(q||1,!!K,j,te)}function nx(j,q,K,te){var De=Vn(j).abs(),We=As(De.as("s")),ht=As(De.as("m")),Qt=As(De.as("h")),io=As(De.as("d")),To=As(De.as("M")),Fa=As(De.as("w")),Is=As(De.as("y")),il=We<=K.ss&&["s",We]||We<K.s&&["ss",We]||ht<=1&&["m"]||ht<K.m&&["mm",ht]||Qt<=1&&["h"]||Qt<K.h&&["hh",Qt]||io<=1&&["d"]||io<K.d&&["dd",io];return K.w!=null&&(il=il||Fa<=1&&["w"]||Fa<K.w&&["ww",Fa]),il=il||To<=1&&["M"]||To<K.M&&["MM",To]||Is<=1&&["y"]||["yy",Is],il[2]=q,il[3]=+j>0,il[4]=te,ax.apply(null,il)}function sx(j){return j===void 0?As:typeof j=="function"?(As=j,!0):!1}function lx(j,q){return Si[j]===void 0?!1:q===void 0?Si[j]:(Si[j]=q,j==="s"&&(Si.ss=q-1),!0)}function ix(j,q){if(!this.isValid())return this.localeData().invalidDate();var K=!1,te=Si,De,We;return typeof j=="object"&&(q=j,j=!1),typeof j=="boolean"&&(K=j),typeof q=="object"&&(te=Object.assign({},Si,q),q.s!=null&&q.ss==null&&(te.ss=q.s-1)),De=this.localeData(),We=nx(this,!K,te,De),K&&(We=De.pastFuture(+this,We)),De.postformat(We)}var $p=Math.abs;function Ti(j){return(j>0)-(j<0)||+j}function Wm(){if(!this.isValid())return this.localeData().invalidDate();var j=$p(this._milliseconds)/1e3,q=$p(this._days),K=$p(this._months),te,De,We,ht,Qt=this.asSeconds(),io,To,Fa,Is;return Qt?(te=Le(j/60),De=Le(te/60),j%=60,te%=60,We=Le(K/12),K%=12,ht=j?j.toFixed(3).replace(/\.?0+$/,""):"",io=Qt<0?"-":"",To=Ti(this._months)!==Ti(Qt)?"-":"",Fa=Ti(this._days)!==Ti(Qt)?"-":"",Is=Ti(this._milliseconds)!==Ti(Qt)?"-":"",io+"P"+(We?To+We+"Y":"")+(K?To+K+"M":"")+(q?Fa+q+"D":"")+(De||te||j?"T":"")+(De?Is+De+"H":"")+(te?Is+te+"M":"")+(j?Is+ht+"S":"")):"P0D"}var yo=Ym.prototype;yo.isValid=XD,yo.abs=SC,yo.add=TC,yo.subtract=jC,yo.as=MC,yo.asMilliseconds=NC,yo.asSeconds=FC,yo.asMinutes=YC,yo.asHours=VC,yo.asDays=BC,yo.asWeeks=UC,yo.asMonths=qC,yo.asQuarters=HC,yo.asYears=zC,yo.valueOf=LC,yo._bubble=OC,yo.clone=WC,yo.get=KC,yo.milliseconds=GC,yo.seconds=QC,yo.minutes=ZC,yo.hours=JC,yo.days=XC,yo.weeks=ox,yo.months=ex,yo.years=tx,yo.humanize=ix,yo.toISOString=Wm,yo.toString=Wm,yo.toJSON=Wm,yo.locale=G1,yo.localeData=Z1,yo.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wm),yo.lang=Q1,he("X",0,0,"unix"),he("x",0,0,"valueOf"),ct("x",nt),ct("X",Ut),ye("X",function(j,q,K){K._d=new Date(parseFloat(j)*1e3)}),ye("x",function(j,q,K){K._d=new Date(Ze(j))});//! moment.js
return t.version="2.29.4",c(Bo),t.fn=xt,t.min=GD,t.max=QD,t.now=ZD,t.utc=D,t.unix=CC,t.months=PC,t.isDate=p,t.locale=sn,t.invalid=k,t.duration=Vn,t.isMoment=O,t.weekdays=AC,t.parseZone=xC,t.localeData=xs,t.isDuration=Vm,t.monthsShort=EC,t.weekdaysMin=RC,t.defineLocale=sl,t.updateLocale=xD,t.locales=PD,t.weekdaysShort=IC,t.normalizeUnits=ee,t.relativeTimeRounding=sx,t.relativeTimeThreshold=lx,t.calendarFormat=$3,t.prototype=xt,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})})(CD);var jHa=CD.exports;const OHa=Bh(jHa),MHa={name:"PendingConfigurations",props:["bank","date_format"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.date_format,s=Je("baseURL"),t=lt(),c=h([]),m=h(""),_=h(50),l=h(""),r=h([]),i=h(null),d=h(null),p=h([]),v=h(""),g=()=>{A.get(s+o.bank+"/configurations/pending/data",{params:{per_page:_.value}}).then(k=>{c.value=k.data.data})};ot(v,k=>{p.value.length>0?(r.value=[],k=="approve"&&(p.value.forEach(w=>{r.value.push(c.value.data.filter(T=>T.id==w)[0])}),d.value.click()),k=="reject"&&i.value.click()):t.error("Select Configurations")});const D=()=>{p.value=[],document.getElementById("select-all").checked?c.value.data.forEach(k=>{k.can_approve&&(document.getElementById("data-select-"+k.id).checked=!0,p.value.push(k.id))}):c.value.data.forEach(k=>{if(k.can_approve){document.getElementById("data-select-"+k.id).checked=!1;let w;if(!p.value.filter(function(V,B){w=B,V==k.id}))return!1;p.value.splice(w,1)}})},y=k=>{if(p.value.includes(k)){const w=p.value.indexOf(k);p.value.splice(w,1)}else p.value.push(k)},C=k=>{if(p.value.length<=0){t.error("Select configurations");return}const w=new FormData;p.value.forEach(T=>{w.append("configurations[]",T)}),k=="approve"&&w.append("status","approve"),k=="reject"&&w.append("status","reject"),A.post(s+o.bank+"/configurations/pending/bulk/update",w).then(()=>{t.success("Configurations updated"),v.value="",g(),document.getElementById("approve-companies-close").click(),document.getElementById("reject-companies-close").click()}).catch(T=>{console.log(T),t.error("Something went wrong")})},x=(k,w)=>{A.get(s+o.bank+"/configurations/config/"+k+"/status/update/"+w).then(()=>{g(),t.success("Configuration status updated"),document.getElementById("approve-config-close-btn-"+k).click(),document.getElementById("reject-config-close-btn-"+k).click(),document.getElementById("select-all").checked=!1}).catch(T=>{console.log(T)})};return Qe(()=>{g()}),{moment:OHa,base_url:s,bank:m,proposed_configs:c,per_page:_,updateRequestRejectionReason:l,showRejectionModal:i,showApprovalModal:d,selected_data:p,bulk_action:v,selectAll:D,updateSelected:y,submitBulkAction:C,updateConfig:x,changePage:async k=>{await A.get(k+"&per_page="+_.value).then(w=>{c.value=w.data.data})},date_format:a}}},LHa={class:"card p-2",id:"companies"},NHa={class:"d-flex justify-content-between"},FHa={class:"w-75 row"},YHa={class:"col-3"},VHa={value:""},BHa={value:"approve"},UHa={value:"reject"},qHa={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},HHa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},zHa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},WHa={class:"modal-content"},KHa={class:"modal-header"},GHa={class:"modal-title",id:"modalCenterTitle"},QHa={class:"modal-body"},ZHa={class:"modal-footer"},JHa={class:"btn btn-primary",type:"submit"},XHa={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},eza={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},tza={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},oza={class:"modal-content"},aza={class:"modal-header"},nza={class:"modal-title",id:"modalCenterTitle"},sza={class:"modal-body"},lza={class:"modal-footer"},iza={class:"btn btn-primary",type:"submit"},rza={class:"d-flex justify-content-end"},dza={class:""},cza={class:"table-responsive"},uza={class:"table"},_za={class:""},mza={class:""},fza={class:"form-check"},hza={class:"table-border-bottom-0"},pza={key:0},vza={colspan:"12",class:"text-center"},gza={class:"text-center"},bza={key:1},yza={colspan:"12",class:"text-center"},kza={class:"text-center"},$za={class:"form-check"},wza=["id","onChange"],Dza={class:""},Cza={key:0},xza=["innerHTML"],Pza={class:""},Eza={class:""},Aza={class:"d-flex"},Iza={key:0,class:"badge bg-label-warning p-2"},Rza=["data-bs-target"],Sza=["data-bs-target"],Tza=["id"],jza={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Oza={class:"modal-content"},Mza={class:"modal-header"},Lza={class:"modal-title",id:"modalCenterTitle"},Nza=["id"],Fza=["onSubmit"],Yza={class:"modal-body"},Vza={class:"modal-footer"},Bza={class:"btn btn-primary",type:"submit"},Uza=["id"],qza={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Hza={class:"modal-content"},zza={class:"modal-header"},Wza={class:"modal-title",id:"modalCenterTitle"},Kza=["id"],Gza=["onSubmit"],Qza={class:"modal-body"},Zza={class:"modal-footer"},Jza={class:"btn btn-primary",type:"submit"};function Xza(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",LHa,[e("div",NHa,[e("div",FHa,[e("div",YHa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[0]||(a[0]=l=>t.bulk_action=l)},[e("option",VHa,n(o.$t("Bulk Actions")),1),e("option",BHa,n(o.$t("Approve")),1),e("option",UHa,n(o.$t("Reject")),1)],512),[[re,t.bulk_action]])]),e("button",qHa,null,512),e("div",HHa,[e("div",zHa,[e("div",WHa,[e("div",KHa,[e("h5",GHa,n(o.$t("Approve Configurations")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close",id:"approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[1]||(a[1]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",QHa,[e("h5",null,n(o.$t("Are you sure you want to approve the selected configurations?")),1)]),e("div",ZHa,[e("button",JHa,n(o.$t("Submit")),1)])],32)])])]),e("button",XHa,null,512),e("div",eza,[e("div",tza,[e("div",oza,[e("div",aza,[e("h5",nza,n(o.$t("Reject Selected Configurations")),1),a[6]||(a[6]=e("button",{type:"button",class:"btn-close",id:"reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[2]||(a[2]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",sza,[e("h5",null,n(o.$t("Are you sure you want to reject the selected configurations?")),1)]),e("div",lza,[e("button",iza,n(o.$t("Submit")),1)])],32)])])])]),e("div",rza,[e("div",dza,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=l=>t.per_page=l)},a[7]||(a[7]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[re,t.per_page]])])])]),Be(_,{from:t.proposed_configs.from,to:t.proposed_configs.to,links:t.proposed_configs.links,next_page:t.proposed_configs.next_page_url,prev_page:t.proposed_configs.prev_page_url,total_items:t.proposed_configs.total,first_page_url:t.proposed_configs.first_page_url,last_page_url:t.proposed_configs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",cza,[e("table",uza,[e("thead",null,[e("tr",_za,[e("th",mza,[e("div",fza,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[4]||(a[4]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Date Created")),1),e("th",null,n(o.$t("Proposed By")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",hza,[t.proposed_configs.data?b("",!0):(u(),f("tr",pza,[e("td",vza,[e("span",gza,n(o.$t("Loading Data"))+"...",1)])])),t.proposed_configs.data&&t.proposed_configs.data.length<=0?(u(),f("tr",bza,[e("td",yza,[e("span",kza,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.proposed_configs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",$za,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,wza)):b("",!0)])]),e("td",null,[e("div",Dza,[l.field!="logo"&&l.field!="favicon"?(u(),f("p",Cza,n(l.description),1)):(u(),f("p",{key:1,innerHTML:l.description},null,8,xza))])]),e("td",null,[e("div",Pza,n(t.moment(l.created_at).format(t.date_format)),1)]),e("td",null,[e("div",Eza,n(l.user.name),1)]),e("td",null,[e("div",Aza,[l.can_approve?b("",!0):(u(),f("span",Iza,n(o.$t("Awaiting Checker Approval")),1)),l.can_approve?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-config-"+l.id},a[8]||(a[8]=[e("i",{class:"ti ti-circle-check ti-sm text-primary",title:"Approve"},null,-1)]),8,Rza)):b("",!0),l.can_approve?(u(),f("a",{key:2,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-config-"+l.id},a[9]||(a[9]=[e("i",{class:"ti ti-circle-dot ti-sm mx-1 text-danger",title:"Reject"},null,-1)]),8,Sza)):b("",!0),e("div",{class:"modal fade",id:"approve-config-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",jza,[e("div",Oza,[e("div",Mza,[e("h5",Lza,n(o.$t("Approve Configuration Change")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-config-close-btn-"+l.id,"aria-label":"Close"},null,8,Nza)]),e("form",{onSubmit:st(r=>t.updateConfig(l.id,"approve"),["prevent"]),method:"post"},[e("div",Yza,[e("h5",null,n(o.$t("Are you sure you want to approve the configuration change?")),1)]),e("div",Vza,[e("button",Bza,n(o.$t("Approve")),1)])],40,Fza)])])],8,Tza),e("div",{class:"modal fade",id:"reject-config-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",qza,[e("div",Hza,[e("div",zza,[e("h5",Wza,n(o.$t("Reject Configuration Change")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-config-close-btn-"+l.id,"aria-label":"Close"},null,8,Kza)]),e("form",{onSubmit:st(r=>t.updateConfig(l.id,"reject"),["prevent"]),method:"post"},[e("div",Qza,[e("h5",null,n(o.$t("Are you sure you want to reject the configuration change?")),1)]),e("div",Zza,[e("button",Jza,n(o.$t("Reject")),1)])],40,Gza)])])],8,Uza)])])]))),128))])])]),Be(_,{from:t.proposed_configs.from,to:t.proposed_configs.to,links:t.proposed_configs.links,next_page:t.proposed_configs.next_page_url,prev_page:t.proposed_configs.prev_page_url,total_items:t.proposed_configs.total,first_page_url:t.proposed_configs.first_page_url,last_page_url:t.proposed_configs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const eWa=Ue(MHa,[["render",Xza]]),tWa={name:"UploadedInvoices",components:{Pagination:St},props:["bank"],setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(D=>{t.value=D.data.invoices}).catch(D=>{console.log(D)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+o.bank+"/requests/uploaded/data/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const D=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=D,y.setAttribute("download",`Uploaded_Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},oWa={class:"card p-2"},aWa={class:"d-flex justify-content-between"},nWa={class:"d-flex flex-wrap"},sWa={class:"mx-1"},lWa={for:"Invoice No",class:"form-label"},iWa={class:"mx-1"},rWa={for:"From Date",class:"form-label"},dWa={class:"mx-1"},cWa={for:"Status",class:"form-label"},uWa={value:""},_Wa={value:"Successful"},mWa={value:"Failed"},fWa={class:"mx-1 table-search-btn"},hWa={class:"mx-1 table-clear-btn"},pWa={class:"d-flex"},vWa={class:"table-responsive p-2"},gWa={class:"table dt-invoices"},bWa={key:0},yWa={colspan:"12",class:"text-center"},kWa={class:"text-center"},$Wa={key:1},wWa={colspan:"12",class:"text-center"},DWa={class:"text-center"},CWa={key:0,class:"badge bg-label-success me-1"},xWa={key:1,class:"badge bg-label-danger me-1"},PWa={class:""};function EWa(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",oWa,[e("div",aWa,[e("div",nWa,[e("div",sWa,[e("label",lWa,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.invoice_number_search]])]),e("div",iWa,[e("label",rWa,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[Q,t.uploaded_date_search]])]),e("div",dWa,[e("label",cWa,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",uWa,n(o.$t("Select Status")),1),e("option",_Wa,n(o.$t("Successful")),1),e("option",mWa,n(o.$t("Failed")),1)],512),[[re,t.status]])]),e("div",fWa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",hWa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",pWa,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",vWa,[e("table",gWa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",bWa,[e("td",yWa,[e("span",kWa,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",$Wa,[e("td",wWa,[e("span",DWa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.upload_status=="Successful"?(u(),f("span",CWa,n(l.status),1)):b("",!0),l.upload_status=="Failed"?(u(),f("span",xWa,n(l.status),1)):b("",!0)]),e("td",PWa,n(l.description),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const AWa=Ue(tWa,[["render",EWa]]),IWa={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(!1),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(50),C=h(null),x=h(0),E=async()=>{c.value=!0,await A.get(s+o.bank+"/reports/data?type=all-payments-report&per_page="+y.value).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{c.value=!1})},k=async(S,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(N=>{C.value=N.data,x.value++,bt(()=>{document.getElementById(F).click()})}).catch(N=>{console.log(N)})},w=async()=>{D.value=$("#payment_date_search").val(),D.value&&(d.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"all-payments-report",per_page:y.value,anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:g.value,sort_by:v.value,payment_date:i.value,from_payment_date:d.value,to_payment_date:p.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},T=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",g.value="",v.value="",i.value="",r.value="",d.value="",p.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"all-payments-report",per_page:y.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{E()});const V=async S=>{await A.get(S,{params:{type:"all-payments-report",per_page:y.value,anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:g.value,sort_by:v.value,payment_date:i.value,from_payment_date:d.value,to_payment_date:p.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})},B=h(!1),O=h(!1);return{moment:H,anchor:m,vendor:_,invoice_no:l,pi_number:r,payment_date:i,sort_by:v,status:g,per_page:y,report_data:t,is_loading:c,invoice_details:C,filter:w,refresh:T,changePage:V,downloadReport:()=>{B.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"all-payments-report",anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:g.value,sort_by:v.value,payment_date:i.value,from_payment_date:d.value,to_payment_date:p.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{B.value=!1})},downloadPdf:()=>{O.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"all-payments-report",anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:g.value,sort_by:v.value,payment_date:i.value,from_payment_date:d.value,to_payment_date:p.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{O.value=!1})},getTaxPercentage:(S,F,N)=>(N/F*100).toFixed(2),resolveStatus:S=>{let F="";switch(S){case"Overdue":F="bg-label-danger";break;case"Created":F="bg-label-secondary";break;case"Pending Approval":F="bg-label-warning";break;case"Pending Maker":F="bg-label-warning";break;case"Pending Checker":F="bg-label-warning";break;case"Submitted":F="bg-label-primary";break;case"Approved":F="bg-label-success";break;case"Disbursed":F="bg-label-success";break;case"Denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},showInvoice:k,date_format:a,downloadingExcel:B,downloadingPdf:O,invoice_details_key:x}}},RWa={class:"card p-2",id:"companies"},SWa={class:"d-flex justify-content-between"},TWa={class:"d-flex flex-wrap gap-1"},jWa={class:""},OWa={for:"Invoice No",class:"form-label"},MWa={class:""},LWa={for:"PI Number",class:"form-label"},NWa={class:""},FWa={for:"Anchor",class:"form-label"},YWa={class:""},VWa={for:"Vendor",class:"form-label"},BWa={class:""},UWa={for:"Payment Date",class:"form-label"},qWa={class:""},HWa={for:"Status",class:"form-label"},zWa={value:""},WWa={value:"Successful"},KWa={value:"Created"},GWa={class:""},QWa={for:"Sort By",class:"form-label"},ZWa={value:""},JWa={value:"invoice_no_asc"},XWa={value:"invoice_no_desc"},eKa={value:"payment_amount_asc"},tKa={value:"payment_amount_desc"},oKa={value:"anchor_asc"},aKa={value:"anchor_desc"},nKa={value:"vendor_asc"},sKa={value:"vendor_desc"},lKa={class:"table-search-btn"},iKa={class:"table-clear-btn"},rKa={class:"d-flex gap-1 justify-content-end mt-auto"},dKa={class:""},cKa={class:""},uKa={class:"table-responsive"},_Ka={class:"table"},mKa={class:""},fKa={key:0},hKa={colspan:"12",class:"text-center"},pKa={class:"text-center"},vKa={key:1},gKa={colspan:"12",class:"text-center"},bKa={class:"text-center"},yKa=["onClick"],kKa=["href"],$Ka=["href"],wKa=["href"],DKa={class:"text-success"},CKa={class:"badge bg-label-success m_title"},xKa=["id","data-bs-target"],PKa=["id","data-bs-target"],EKa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},AKa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},IKa={class:"modal-content"},RKa={class:"modal-body"},SKa={class:"d-flex justify-content-center"};function TKa(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",RWa,[e("div",SWa,[e("div",TWa,[e("div",jWa,[e("label",OWa,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_no=d),id:"defaultFormControlInput",placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_no]])]),e("div",MWa,[e("label",LWa,n(o.$t("PI Number")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.pi_number=d),id:"defaultFormControlInput",placeholder:"PI Number","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.pi_number]])]),e("div",NWa,[e("label",FWa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[4]||(a[4]=d=>t.anchor=d),id:"defaultFormControlInput",placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",YWa,[e("label",VWa,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.vendor=d),id:"defaultFormControlInput",placeholder:"Vendor","aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",BWa,[e("label",UWa,n(o.$t("Payment Date")),1),a[13]||(a[13]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"all-payments-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",qWa,[e("label",HWa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.status=d)},[e("option",zWa,n(o.$t("Status")),1),e("option",WWa,n(o.$t("Successful")),1),e("option",KWa,n(o.$t("Created")),1)],512),[[re,t.status]])]),e("div",GWa,[e("label",QWa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",ZWa,n(o.$t("Sort By")),1),e("option",JWa,n(o.$t("Invoice No"))+" ("+n(o.$t("Asc"))+")",1),e("option",XWa,n(o.$t("Invoice Number"))+" ("+n(o.$t("Desc"))+")",1),e("option",eKa,n(o.$t("Payment Amount"))+" ("+n(o.$t("Asc"))+")",1),e("option",tKa,n(o.$t("Payment Amount"))+" ("+n(o.$t("Desc"))+")",1),e("option",oKa,n(o.$t("Anchor"))+" ("+n(o.$t("Asc"))+")",1),e("option",aKa,n(o.$t("Anchor"))+" ("+n(o.$t("Desc"))+")",1),e("option",nKa,n(o.$t("Vendor"))+" ("+n(o.$t("Asc"))+")",1),e("option",sKa,n(o.$t("Vendor"))+" ("+n(o.$t("Desc"))+")",1)],512),[[re,t.sort_by]])]),e("div",lKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",iKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",rKa,[e("div",dKa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",cKa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",uKa,[e("table",_Ka,[e("thead",null,[e("tr",mKa,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Eligibility")),1),e("th",null,n(o.$t("Status")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",fKa,[e("td",hKa,[e("span",pKa,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",vKa,[e("td",gKa,[e("span",bKa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer"}},n(d.payment_request.invoice_number),9,yKa),e("td",null,[d.payment_request.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.payment_request.buyer_id+"/details"},n(d.payment_request.buyer_name),9,kKa)):(u(),f("a",{key:1,href:"../companies/"+d.payment_request.company_id+"/details"},n(d.payment_request.company_name),9,$Ka))]),e("td",null,[e("a",{href:"../companies/"+d.payment_request.anchor_id+"/details"},n(d.payment_request.anchor_name),9,wKa)]),e("td",null,n(t.moment(d.payment_request.invoice_disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.payment_request.invoice_due_date).format(t.date_format)),1),e("td",DKa,n(new Intl.NumberFormat().format(d.payment_request.amount)),1),e("td",null,n(d.payment_request.eligibility)+"%",1),e("td",null,[e("span",CKa,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,xKa),e("button",{class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,PKa),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",EKa,[e("div",AKa,[e("div",IKa,[e("div",RKa,[e("div",SKa,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const jKa=Ue(IWa,[["render",TKa]]),OKa={name:"InactiveUsers",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=Je("axios"),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h([]),g=async()=>{await t.get(s+o.bank+"/reports/data?type=inactive-users-report&per_page="+p.value).then(T=>{v.value=T.data}).catch(T=>{console.log(T)})};ot([p],async([T])=>{await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",search:c.value,per_page:T,sort_by:l.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)})});const D=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",per_page:p.value,search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},y=async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",per_page:p.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},C=h(!1),x=h(!1),E=()=>{C.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),t.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"inactive-users-report",search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`Inactive_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{C.value=!1})},k=()=>{x.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),t.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"inactive-users-report",search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`Inactive_users_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{x.value=!1})};return Qe(()=>{g()}),{moment:H,date_format:a,search:c,email:m,company:_,per_page:p,report_data:v,sort_by:l,from_date:r,to_date:i,filter:D,refresh:y,changePage:async T=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await t.get(T,{params:{type:"inactive-users-report",per_page:p.value,search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)})},downloadReport:E,downloadPdf:k,downloadingExcel:C,downloadingPdf:x}}},MKa={class:"card p-2",id:"companies"},LKa={class:"d-flex justify-content-between"},NKa={class:"d-flex flex-wrap gap-1"},FKa={class:""},YKa={for:"Search User",class:"form-label"},VKa={class:""},BKa={for:"Search User",class:"form-label"},UKa={class:""},qKa={for:"Search User",class:"form-label"},HKa={class:""},zKa={class:"form-label",for:""},WKa={class:""},KKa={for:"Status",class:"form-label"},GKa={value:""},QKa={value:"ASC"},ZKa={value:"DESC"},JKa={class:"table-search-btn"},XKa={class:"table-clear-btn"},eGa={class:"d-flex justify-content-end gap-1 mt-auto"},tGa={class:""},oGa={class:""},aGa={class:"table-responsive"},nGa={class:"table"},sGa={class:""},lGa={key:0},iGa={colspan:"12",class:"text-center"},rGa={class:"text-center"},dGa={key:1},cGa={colspan:"12",class:"text-center"},uGa={class:"text-center"},_Ga={key:1};function mGa(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",MKa,[e("div",LKa,[e("div",NKa,[e("div",FKa,[e("label",YKa,n(o.$t("Search User")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.search=r),id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.search]])]),e("div",VKa,[e("label",BKa,n(o.$t("Email")),1),Y(e("input",{type:"email",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.email=r),id:"defaultFormControlInput",placeholder:"Email","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.email]])]),e("div",UKa,[e("label",qKa,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=r=>t.company=r),id:"defaultFormControlInput",placeholder:"Company","aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.company]])]),e("div",HKa,[e("label",zKa,n(o.$t("Date"))+" ("+n(o.$t("Last Login"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"inactive-users-lastlogin-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",WKa,[e("label",KKa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",GKa,n(o.$t("Sort By")),1),e("option",QKa,n(o.$t("Ascending")),1),e("option",ZKa,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",JKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",XKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",eGa,[e("div",tGa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",oGa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",aGa,[e("table",nGa,[e("thead",null,[e("tr",sGa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("Last Login")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",lGa,[e("td",iGa,[e("span",rGa,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",dGa,[e("td",cGa,[e("span",uGa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name),1),e("td",null,n(r.roles.length>0?r.roles[0].name:"-"),1),e("td",null,n(r.email),1),e("td",null,[r.companies.length>0?(u(!0),f(W,{key:0},X(r.companies,i=>(u(),f("span",{key:i.id,class:"mx-1"},n(i.name),1))),128)):(u(),f("span",_Ga,"-"))]),e("td",null,n(t.moment(r.last_login).format(t.date_format)),1)]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const fGa=Ue(OKa,[["render",mGa]]),hGa={name:"CbsTransactions",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(null),_=h(0),l=h(["Successful","Created","Failed","Permanently Failed"]),r=h(null),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h([]),x=h(""),E=h(""),k=h(""),w=h(50),T=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"payments-report"}}).then(J=>{t.value=J.data}).catch(J=>{console.log(J)})},V=async(J,z)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+J+"/details").then(ne=>{m.value=ne.data,_.value++,bt(()=>{document.getElementById(z).click()})}).catch(ne=>{console.log(ne)})};Qe(()=>{$("#transaction-type-select").on("change",function(){var J=$("#transaction-type-select").val();C.value=J})}),ot([w],async([J])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:J,cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,vendor:v.value,account:p.value,status:D.value,product_type:y.value,from_date:E.value,to_date:k.value,transaction_type:C.value,from_date:E.value,to_date:k.value,type:"payments-report"}}).then(z=>{t.value=z.data}).catch(z=>{console.log(z)})});const B=async()=>{let J=$(".ti-search").parent();J.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,vendor:v.value,account:p.value,status:D.value,product_type:y.value,type:"payments-report",sort_by:x.value,transaction_type:C.value,from_date:E.value,to_date:k.value}}).then(z=>{t.value=z.data}).catch(z=>{console.log(z)}).finally(()=>{J.html('<i class="ti ti-search"></i>')})},O=async()=>{let J=$(".ti-refresh").parent();J.html('<img src="../../../../../../assets/img/spinner.svg" />'),i.value="",g.value="",d.value="",p.value="",D.value="",y.value="",x.value="",C.value=[],E.value="",k.value="",v.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"payments-report",per_page:w.value}}).then(z=>{t.value=z.data}).catch(z=>{console.log(z)}).finally(()=>{J.html('<i class="ti ti-refresh"></i>')})},L=h(!1),R=h(!1),P=()=>{L.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:D.value,product_type:y.value,type:"payments-report",sort_by:x.value,transaction_type:C.value,from_date:E.value,to_date:k.value,vendor:v.value}}).then(J=>{const z=window.URL.createObjectURL(new Blob([J.data])),ne=document.createElement("a");ne.href=z,ne.setAttribute("download",`Payments_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ne),ne.click()}).catch(J=>{console.log(J)}).finally(()=>{L.value=!1})},I=()=>{R.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:D.value,product_type:y.value,type:"payments-report",sort_by:x.value,transaction_type:C.value,from_date:E.value,to_date:k.value,vendor:v.value}}).then(J=>{const z=window.URL.createObjectURL(new Blob([J.data])),ne=document.createElement("a");ne.href=z,ne.setAttribute("download",`Payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(ne),ne.click()}).catch(J=>{console.log(J)}).finally(()=>{R.value=!1})},S=(J,z)=>z/J*100,F=J=>{let z=0;return J.forEach(ne=>{z+=ne.quantity*ne.price_per_quantity}),z},N=J=>{let z=0;return J.forEach(ne=>{z+=ne.value}),z},U=J=>{let z=0;return J.forEach(ne=>{z+=ne.amount}),z};return Qe(()=>{T()}),{moment:H,transactions:t,cbs_transactions:c,cbsTransaction:r,invoice_details:m,cbs_transaction_statuses:l,cbs_id_search:i,invoice_number_search:d,account_search:p,transaction_ref_search:g,status_search:D,product_type_search:y,per_page:w,sort_by:x,from_date:E,to_date:k,transaction_type:C,vendor_search:v,filter:B,refresh:O,resolvePaymentRequestStatus:J=>{let z="";switch(J.toLowerCase()){case"created":z="bg-label-primary";break;case"successful":z="bg-label-success";break;case"failed":z="bg-label-danger";break;case"permanently failed":z="bg-label-danger";break;default:z="bg-label-primary";break}return z},changePage:async J=>{await A.get(J,{params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:D.value,product_type:y.value,type:"payments-report",sort_by:x.value,transaction_type:C.value,from_date:E.value,to_date:k.value,vendor:v.value,per_page:w.value}}).then(z=>{t.value=z.data})},getTotalAmount:F,getTaxesAmount:N,getFeesAmount:U,getTaxPercentage:S,downloadReport:P,downloadPdf:I,resolveStatus:J=>{let z="";switch(J){case"Overdue":z="bg-label-danger";break;case"Created":z="bg-label-secondary";break;case"Pending Approval":z="bg-label-warning";break;case"Pending Maker":z="bg-label-warning";break;case"Pending Checker":z="bg-label-warning";break;case"Submitted":z="bg-label-primary";break;case"Approved":z="bg-label-success";break;case"Disbursed":z="bg-label-success";break;case"Denied":z="bg-label-danger";break;default:z="bg-label-primary";break}return z},showInvoice:V,date_format:a,downloadingExcel:L,downloadingPdf:R}}},pGa={class:"card p-2"},vGa={class:"card-body p-0"},gGa={class:"d-flex justify-content-between"},bGa={class:"d-flex flex-wrap gap-1"},yGa={class:"d-none"},kGa={for:"CBS ID",class:"form-label"},$Ga={class:""},wGa={for:"Account",class:"form-label"},DGa={class:""},CGa={for:"Vendor",class:"form-label"},xGa={class:""},PGa={for:"Invoice Number",class:"form-label"},EGa={class:"form-group"},AGa={for:"Status",class:"form-label"},IGa={value:""},RGa={value:"Platform Charges"},SGa={value:"Discount Charge"},TGa={value:"OD Drawdown"},jGa={value:"Fees/Charges"},OGa={value:"Repayment"},MGa={value:"Payment Disbursement"},LGa={value:"Balance DF Invoice Payment"},NGa={value:"Bank Invoice Payment"},FGa={value:"OD Account Debit"},YGa={value:"Overdue Account"},VGa={value:"Funds Transfer"},BGa={class:""},UGa={for:"Status",class:"form-label"},qGa={value:""},HGa={value:"ASC"},zGa={value:"DESC"},WGa={class:""},KGa={for:"Product Type",class:"form-label"},GGa={value:""},QGa={value:"vendor financing"},ZGa={value:"dealer financing"},JGa={class:""},XGa={for:"From",class:"form-label"},eQa={class:""},tQa={for:"To",class:"form-label"},oQa={class:"table-search-btn"},aQa={class:"table-clear-btn"},nQa={class:"d-flex gap-1 justify-content-end mt-auto"},sQa={class:""},lQa={class:""},iQa={class:"table-responsive"},rQa={class:"table"},dQa={class:""},cQa={class:"px-1"},uQa={class:""},_Qa={class:""},mQa={class:""},fQa={class:""},hQa={class:""},pQa={class:""},vQa={class:""},gQa={class:""},bQa={class:""},yQa={class:""},kQa={class:""},$Qa={class:"table-border-bottom-0"},wQa={key:0},DQa={colspan:"12",class:"text-center"},CQa={class:"text-center"},xQa={key:1},PQa={colspan:"12",class:"text-center"},EQa={class:"text-center"},AQa={class:"px-1"},IQa={class:""},RQa={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},SQa={class:""},TQa={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},jQa={class:"text-success"},OQa=["onClick"],MQa={key:1},LQa={class:""},NQa={key:2,class:""},FQa={key:3,class:""},YQa={class:""},VQa={class:""},BQa={class:"m_title"},UQa={class:""},qQa={class:""},HQa={class:"d-none"},zQa={class:"d-flex"},WQa=["data-bs-target"],KQa=["id","data-bs-target"],GQa=["id","data-bs-target"],QQa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},ZQa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},JQa={class:"modal-content"},XQa={class:"modal-body"},eZa={class:"d-flex justify-content-center"},tZa=["id"],oZa={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},aZa={class:"modal-content"},nZa={class:"modal-header"},sZa={class:"modal-title",id:"modalCenterTitle"},lZa={class:"modal-body"},iZa={class:"table-responsive"},rZa={class:"table"},dZa={style:{background:"#f0f0f0"}};function cZa(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",pGa,[e("div",vGa,[e("div",gGa,[e("div",bGa,[e("div",yGa,[e("label",kGa,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"CBS/PR ID","onUpdate:modelValue":a[0]||(a[0]=d=>t.cbs_id_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.cbs_id_search]])]),e("div",$Ga,[e("label",wGa,n(o.$t("Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From/Credit To","onUpdate:modelValue":a[2]||(a[2]=d=>t.account_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.account_search]])]),e("div",DGa,[e("label",CGa,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",xGa,[e("label",PGa,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[6]||(a[6]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",EGa,[e("label",AGa,n(o.$t("Transaction Type")),1),Y(e("select",{class:"form-select select2",multiple:"",id:"transaction-type-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.transaction_type=d)},[e("option",IGa,n(o.$t("Select Transaction Type")),1),e("option",RGa,n(o.$t("Platform Charges")),1),e("option",SGa,n(o.$t("Discount Charge")),1),e("option",TGa,n(o.$t("OD Drawdown")),1),e("option",jGa,n(o.$t("Fees/Charges")),1),e("option",OGa,n(o.$t("Repayment")),1),e("option",MGa,n(o.$t("Payment Disbursement")),1),e("option",LGa,n(o.$t("Balance DF Invoice Payment")),1),e("option",NGa,n(o.$t("Bank Invoice Payment")),1),e("option",FGa,n(o.$t("OD Account Debit")),1),e("option",YGa,n(o.$t("Overdue Account")),1),e("option",VGa,n(o.$t("Funds Transfer")),1)],512),[[re,t.transaction_type]])]),e("div",BGa,[e("label",UGa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",qGa,n(o.$t("Sort By")),1),e("option",HGa,n(o.$t("Ascending")),1),e("option",zGa,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",WGa,[e("label",KGa,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.product_type_search=d)},[e("option",GGa,n(o.$t("Product Type")),1),e("option",QGa,n(o.$t("Vendor Financing")),1),e("option",ZGa,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",JGa,[e("label",XGa,n(o.$t("From"))+" ("+n(o.$t("Transaction Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[11]||(a[11]=d=>t.from_date=d),onKeyup:a[12]||(a[12]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.from_date]])]),e("div",eQa,[e("label",tQa,n(o.$t("To"))+" ("+n(o.$t("Transaction Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[13]||(a[13]=d=>t.to_date=d),onKeyup:a[14]||(a[14]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.to_date]])]),e("div",oQa,[e("button",{class:"btn btn-primary btn-md",onClick:a[15]||(a[15]=(...d)=>t.filter&&t.filter(...d))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",aQa,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...d)=>t.refresh&&t.refresh(...d))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",nQa,[e("div",sQa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[17]||(a[17]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),e("div",lQa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.transactions.meta?(u(),fe(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",iQa,[e("table",rQa,[e("thead",null,[e("tr",dQa,[e("th",cQa,n(o.$t("CBS ID")),1),e("th",uQa,n(o.$t("Debit From")),1),e("th",_Qa,n(o.$t("Credit To")),1),e("th",mQa,n(o.$t("Amount")),1),e("th",fQa,n(o.$t("Invoice / Unique Ref No")),1),e("th",hQa,n(o.$t("Vendor")),1),e("th",pQa,n(o.$t("Pay Date")),1),e("th",vQa,n(o.$t("Transaction Date")),1),e("th",gQa,n(o.$t("Transaction Ref")),1),e("th",bQa,n(o.$t("Product Type")),1),e("th",yQa,n(o.$t("Payment Service")),1),e("th",kQa,n(o.$t("Status")),1),a[21]||(a[21]=e("th",null,null,-1))])]),e("tbody",$Qa,[t.transactions.data?b("",!0):(u(),f("tr",wQa,[e("td",DQa,[e("span",CQa,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",xQa,[e("td",PQa,[e("span",EQa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",AQa,[e("span",null,n(d.cbs_id),1)]),e("td",IQa,[e("span",RQa,n(d.debit_from_account),1)]),e("td",SQa,[e("span",TQa,n(d.credit_to_account),1)]),e("td",jQa,n(d.payment_request?d.payment_request.invoice_currency:"")+" "+n(new Intl.NumberFormat().format(d.amount)),1),d.payment_request?(u(),f("td",{key:0,class:"text-primary text-decoration-underline text-wrap",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer"}},n(d.payment_request.invoice_number),9,OQa)):(u(),f("td",MQa,"-")),e("td",LQa,n(d.payment_request?d.payment_request.company_name:""),1),d.pay_date?(u(),f("td",NQa,n(t.moment(d.pay_date).format(t.date_format)),1)):(u(),f("td",FQa,"-")),e("td",YQa,n(t.moment(d.transaction_created_date).format(t.date_format)),1),e("td",VQa,n(d.transaction_reference),1),e("td",BQa,n(d.product),1),e("td",UQa,n(d.transaction_type),1),e("td",qQa,[e("span",{class:rt(["badge me-1",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),e("td",HQa,[e("div",zQa,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+d.id,style:{cursor:"pointer"}},null,8,WQa)])]),e("td",null,[d.payment_request?(u(),f("button",{key:0,class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,KQa)):b("",!0),d.payment_request?(u(),f("button",{key:1,class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,GQa)):b("",!0),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",QQa,[e("div",ZQa,[e("div",JQa,[e("div",XQa,[e("div",eZa,[e("span",null,n(o.$t("Loading"))+"...",1),a[22]||(a[22]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",oZa,[e("div",aZa,[e("div",nZa,[e("h5",sZa,n(o.$t("CBS Transaction")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",lZa,[e("div",iZa,[e("table",rZa,[e("thead",dZa,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(d.transaction_date).format(t.date_format)),1),e("td",null,n(d.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(d.transaction_reference?d.transaction_reference:"-"),1),a[24]||(a[24]=e("td",null,"-",-1)),e("td",null,n(d.transaction_type),1)])])])])])])])],8,tZa),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),fe(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const uZa=Ue(hGa,[["render",cZa]]),_Za={name:"DrawdownDetails",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=h(null),D=h(0),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"drawdown-details-report"}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})},C=async(F,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+F+"/details").then(U=>{g.value=U.data,D.value++,bt(()=>{document.getElementById(N).click()})}).catch(U=>{console.log(U)})};ot([v],async([F])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:F,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,type:"drawdown-details-report",sort_by:p.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})});const x=async()=>{let F=$(".ti-search").parent();F.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,type:"drawdown-details-report",sort_by:p.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},E=async()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",l.value="",r.value="",_.value="",d.value="",i.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"drawdown-details-report",per_page:v.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{F.html('<i class="ti ti-refresh"></i>')})},k=h(!1),w=h(!1),T=()=>{k.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,type:"drawdown-details-report",sort_by:p.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`DF_drawdown_details_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)}).finally(()=>{k.value=!1})},V=()=>{w.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,type:"drawdown-details-report",sort_by:p.value}}).then(F=>{const N=window.URL.createObjectURL(new Blob([F.data])),U=document.createElement("a");U.href=N,U.setAttribute("download",`DF_drawdown_details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(F=>{console.log(F)}).finally(()=>{w.value=!1})};return Qe(()=>{y()}),{moment:H,requests:t,payment_reference_number_search:c,invoice_number_search:m,status_search:_,anchor_search:r,vendor_search:l,dpd:d,payment_request_date:i,sort_by:p,per_page:v,invoice_details:g,showInvoice:C,filter:x,refresh:E,resolvePaymentRequestStatus:F=>{let N="";switch(F){case"created":N="bg-label-primary";break;case"pending approval":N="bg-label-secondary";break;case"approved":N="bg-label-success";break;case"paid":N="bg-label-success";break;case"failed":N="bg-label-danger";break;case"rejected":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},changePage:async F=>{await A.get(F,{params:{type:"drawdown-details-report",per_page:v.value,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,sort_by:p.value}}).then(N=>{t.value=N.data.payment_requests})},resolveFinancingStatus:F=>{let N="";switch(F){case"pending":N="bg-label-primary";break;case"financed":N="bg-label-primary";break;case"closed":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},getEligibility:F=>F.invoice.vendor_configurations.eligibility,getDiscountRate:F=>F.invoice.vendor_discount_details.total_roi,downloadReport:T,downloadPdf:V,getTaxPercentage:(F,N,U)=>(U/N*100).toFixed(2),resolveStatus:F=>{let N="";switch(F){case"Overdue":N="bg-label-danger";break;case"Created":N="bg-label-secondary";break;case"Pending Approval":N="bg-label-warning";break;case"Pending Maker":N="bg-label-warning";break;case"Pending Checker":N="bg-label-warning";break;case"Submitted":N="bg-label-primary";break;case"Approved":N="bg-label-success";break;case"Disbursed":N="bg-label-success";break;case"Denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},date_format:a,downloadingExcel:k,downloadingPdf:w,invoice_details_key:D}}},mZa={class:"card p-3"},fZa={class:"d-flex justify-content-between"},hZa={class:"d-flex flex-wrap gap-1"},pZa={class:""},vZa={for:"Invoice Number",class:"form-label"},gZa={class:""},bZa={for:"Vendor",class:"form-label"},yZa={class:""},kZa={for:"Anchor",class:"form-label"},$Za={class:""},wZa={for:"Drawdown Date",class:"form-label"},DZa={class:""},CZa={class:"form-label"},xZa={value:""},PZa={value:"1-30"},EZa={value:"31-60"},AZa={value:">60"},IZa={class:""},RZa={for:"Status",class:"form-label"},SZa={value:""},TZa={value:"submitted"},jZa={value:"pending"},OZa={value:"approved"},MZa={value:"disbursed"},LZa={value:"rejected"},NZa={value:"closed"},FZa={class:""},YZa={for:"Status",class:"form-label"},VZa={value:""},BZa={value:"ASC"},UZa={value:"DESC"},qZa={class:"table-search-btn"},HZa={class:"table-clear-btn"},zZa={class:"d-flex justify-content-end gap-1 mt-auto"},WZa={class:"table-responsive"},KZa={class:"table"},GZa={class:""},QZa={class:""},ZZa={class:"px-2"},JZa={class:"px-2"},XZa={class:"px-1"},eJa={class:"px-1"},tJa={class:"px-1"},oJa={class:"px-1"},aJa={class:"px-1"},nJa={class:"px-1"},sJa={class:"table-border-bottom-0"},lJa={key:0},iJa={colspan:"12",class:"text-center"},rJa={class:"text-center"},dJa={key:1},cJa={colspan:"12",class:"text-center"},uJa={class:"text-center"},_Ja=["onClick"],mJa={class:"text-primary text-decoration-underline"},fJa=["href"],hJa={class:"text-primary text-decoration-underline"},pJa=["href"],vJa={class:"px-1"},gJa={class:"text-success"},bJa={class:"text-success"},yJa={class:"text-success"},kJa={class:"text-success"},$Ja={class:"px-1"},wJa=["id","data-bs-target"],DJa=["id","data-bs-target"],CJa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},xJa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},PJa={class:"modal-content"},EJa={class:"modal-body"},AJa={class:"d-flex justify-content-center"},IJa=["id"],RJa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},SJa={class:"modal-content"},TJa={class:"modal-header"},jJa={class:"modal-title",id:"modalCenterTitle"},OJa={class:"modal-body"},MJa={class:"row mb-1"},LJa={class:"col-6 my-1"},NJa={class:"col-6"},FJa=["href"],YJa={class:"col-6 my-1"},VJa={class:"col-6"},BJa={class:"col-6 my-1"},UJa={class:"col-6"},qJa=["href"],HJa={class:"col-6 my-1"},zJa={class:"col-6"},WJa={class:"col-6 my-1"},KJa={class:"col-6"},GJa={class:"col-6 my-1"},QJa=["onClick"],ZJa={class:"col-6 my-1"},JJa={class:"col-6 text-success"},XJa={class:"col-6 my-1"},eXa={class:"col-6"},tXa={class:"col-6 my-1"},oXa={class:"col-6 text-success"},aXa={class:"col-6 my-1"},nXa={class:"col-6 text-success"},sXa={class:"col-6 my-1"},lXa={class:"col-6"},iXa={class:"col-6 my-1"},rXa={class:"col-6"},dXa={class:"col-6 my-1"},cXa={class:"col-6"},uXa={class:"col-6 my-1"},_Xa={class:"col-6"},mXa={key:0,class:"col-12"},fXa={key:0,class:"col-6 my-1 m_title"},hXa={key:0,class:"m_title"},pXa={key:1,class:"col-6 text-success"},vXa={class:"col-6 my-1"},gXa={class:"col-6 text-success"},bXa={class:"col-6"},yXa={class:"col-6"},kXa={class:"modal-footer"},$Xa={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},wXa=["id"],DXa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},CXa={class:"modal-content"},xXa={class:"modal-header"},PXa={class:"modal-title",id:"modalCenterTitle"},EXa={class:"modal-body"},AXa={class:"table-responsive"},IXa={class:"table"};function RXa(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",mZa,[e("div",fZa,[e("div",hZa,[e("div",pZa,[e("label",vZa,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",gZa,[e("label",bZa,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",yZa,[e("label",kZa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",$Za,[e("label",wZa,n(o.$t("Drawdown Date")),1),Y(e("input",{type:"date",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[6]||(a[6]=d=>t.payment_request_date=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.payment_request_date]])]),e("div",DZa,[e("label",CZa,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.dpd=d)},[e("option",xZa,n(o.$t("DPD Days")),1),e("option",PZa,"1-30 "+n(o.$t("Days")),1),e("option",EZa,"31-60 "+n(o.$t("Days")),1),e("option",AZa,"> 60 "+n(o.$t("Days")),1)],512),[[re,t.dpd]])]),e("div",IZa,[e("label",RZa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.status_search=d)},[e("option",SZa,n(o.$t("Status")),1),e("option",TZa,n(o.$t("Submitted")),1),e("option",jZa,n(o.$t("Pending")),1),e("option",OZa,n(o.$t("Approved")),1),e("option",MZa,n(o.$t("Dibsursed")),1),e("option",LZa,n(o.$t("Rejected")),1),e("option",NZa,n(o.$t("Closed")),1)],512),[[re,t.status_search]])]),e("div",FZa,[e("label",YZa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",VZa,n(o.$t("Sort By")),1),e("option",BZa,n(o.$t("Ascending")),1),e("option",UZa,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",qZa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",HZa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",zZa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.requests.meta?(u(),fe(l,{key:0,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",WZa,[e("table",KZa,[e("thead",null,[e("tr",GZa,[e("th",QZa,n(o.$t("Invoice No"))+".",1),e("th",ZZa,n(o.$t("Anchor")),1),e("th",JZa,n(o.$t("Dealer")),1),e("th",XZa,n(o.$t("Drawdown Date")),1),e("th",eJa,n(o.$t("Drawdown Amount")),1),e("th",tJa,n(o.$t("Principle Balance")),1),e("th",oJa,n(o.$t("Total Outstanding")),1),e("th",aJa,n(o.$t("Principle DPD")),1),e("th",nJa,n(o.$t("Status")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",sJa,[t.requests.data?b("",!0):(u(),f("tr",lJa,[e("td",iJa,[e("span",rJa,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",dJa,[e("td",cJa,[e("span",uJa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,d=>(u(),f("tr",{key:d.id,class:"text-nowrap"},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id)},n(d.invoice_number),9,_Ja),e("td",mJa,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor_name),9,fJa)]),e("td",hJa,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company_name),9,pJa)]),e("td",vJa,n(t.moment(d.payment_request_date).format(t.date_format)),1),e("td",gJa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount)),1),e("td",bJa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount-d.invoice_paid_amount)),1),e("td",yJa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_balance)),1),e("td",kJa,n(new Intl.NumberFormat().format(d.invoice_days_past_due)),1),e("td",$Ja,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,wJa),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,DJa),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",CJa,[e("div",xJa,[e("div",PJa,[e("div",EJa,[e("div",AJa,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",RJa,[e("div",SJa,[e("div",TJa,[e("h5",jJa,n(o.$t("Payment Request")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),a[20]||(a[20]=e("div",{class:"d-flex"},null,-1))]),e("div",OJa,[e("div",MJa,[e("div",LJa,n(o.$t("Dealer")),1),e("div",NJa,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,FJa)]),e("div",YJa,n(o.$t("OD Account No"))+":",1),e("div",VJa,n(d.payment_account_number),1),e("div",BJa,n(o.$t("Anchor")),1),e("div",UJa,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,qJa)]),e("div",HJa,n(o.$t("Program Name")),1),e("div",zJa,n(d.program_name),1),e("div",WJa,n(o.$t("Invoice / Unique Reference Number")),1),e("div",KJa,n(d.invoice_number),1),e("div",GJa,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,QJa),e("div",ZJa,n(o.$t("Invoice Amount")),1),e("div",JJa,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",XJa,n(o.$t("Eligibility"))+" (%)",1),e("div",eXa,n(d.eligibility),1),e("div",tXa,n(o.$t("Eligible Drawdown Amount")),1),e("div",oXa,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",aXa,n(o.$t("Requested Drawdown Amount")),1),e("div",nXa,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("div",sXa,n(o.$t("Credit to Account No"))+".:",1),e("div",lXa,n(d.payment_accounts[0].account),1),e("div",iXa,n(o.$t("Request Date")),1),e("div",rXa,n(t.moment(d.created_at).format(t.date_format)),1),e("div",dXa,n(o.$t("Requested Disbursement Date")),1),e("div",cXa,n(t.moment(d.payment_request_date).format(t.date_format)),1),e("div",uXa,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",_Xa,n(d.discount_rate),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",mXa,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("div",{class:"row",key:p.id},[p.type!="vendor_account"?(u(),f("div",fXa,[le(n(p.title?p.title:p.type.replaceAll("_"," "))+" ",1),p.description?(u(),f("span",hXa,"("+n(p.description)+")",1)):b("",!0)])):b("",!0),p.type!="vendor_account"?(u(),f("div",pXa,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)):b("",!0)]))),128))])):b("",!0),e("div",vXa,n(o.$t("Net Disbursal Total")),1),e("div",gXa,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",bXa,n(o.$t("Status")),1),e("div",yXa,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)])])]),e("div",kXa,[e("button",$Xa,n(o.$t("Close")),1)])])])],8,IJa),e("div",{class:"modal fade",id:"payment-accounts-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",DXa,[e("div",CXa,[e("div",xXa,[e("h5",PXa,n(o.$t("Accounts")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",EXa,[e("div",AXa,[e("table",IXa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Invoice")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("tr",{key:p.id},[e("td",null,n(p.account),1),e("td",null,n(p.invoice_number),1)]))),128))])])])])])])],8,wXa)])]))),128))])])]),t.requests.meta?(u(),fe(l,{key:1,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const SXa=Ue(_Za,[["render",RXa]]),TXa={name:"RejectedPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})},D=async(L,R)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+L+"/details").then(P=>{v.value=P.data,bt(()=>{document.getElementById(R).click()})}).catch(P=>{console.log(P)})};ot(c,async([L])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:L,sort_by:i.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})});const y=async()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value,anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},C=async()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},x=h(!1),E=h(!1),k=()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Rejected_loans_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{x.value=!1})},w=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(L=>{const R=window.URL.createObjectURL(new Blob([L.data])),P=document.createElement("a");P.href=R,P.setAttribute("download",`Rejected_loans_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(P),P.click()}).catch(L=>{console.log(L)}).finally(()=>{E.value=!1})};return Qe(()=>{g()}),{moment:H,requests:t,per_page:c,anchor_search:m,vendor_search:_,payment_reference_number_search:l,invoice_number_search:r,sort_by:i,from_date:d,to_date:p,invoice_details:v,filter:y,refresh:C,resolvePaymentRequestStatus:L=>{let R="";switch(L){case"created":R="bg-label-primary";break;case"approved":R="bg-label-success";break;case"paid":R="bg-label-success";break;case"failed":R="bg-label-danger";break;case"rejected":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},changePage:async L=>{await A.get(L,{params:{per_page:c.value,type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(R=>{t.value=R.data})},downloadReport:k,downloadPdf:w,getTaxPercentage:(L,R,P)=>(P/R*100).toFixed(2),resolveStatus:L=>{let R="";switch(L){case"Overdue":R="bg-label-danger";break;case"Created":R="bg-label-secondary";break;case"Pending Approval":R="bg-label-warning";break;case"Pending Maker":R="bg-label-warning";break;case"Pending Checker":R="bg-label-warning";break;case"Submitted":R="bg-label-primary";break;case"Approved":R="bg-label-success";break;case"Disbursed":R="bg-label-success";break;case"Denied":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},showInvoice:D,date_format:a,downloadingExcel:x,downloadingPdf:E}}},jXa={class:"card p-3"},OXa={class:"d-flex justify-content-between"},MXa={class:"d-flex flex-wrap gap-1"},LXa={class:""},NXa={for:"Invoice Number",class:"form-label"},FXa={class:""},YXa={for:"Vendor",class:"form-label"},VXa={class:""},BXa={for:"Anchor",class:"form-label"},UXa={class:""},qXa={for:"From",class:"form-label"},HXa={class:""},zXa={for:"To",class:"form-label"},WXa={class:""},KXa={for:"Status",class:"form-label"},GXa={value:""},QXa={value:"ASC"},ZXa={value:"DESC"},JXa={class:"table-search-btn"},XXa={class:"table-clear-btn"},een={class:"d-flex gap-1 justify-content-end mt-auto"},ten={class:""},oen={class:"table-responsive"},aen={class:"table"},nen={class:""},sen={class:"table-border-bottom-0"},len={key:0},ien={colspan:"12",class:"text-center"},ren={class:"text-center"},den={key:1},cen={colspan:"12",class:"text-center"},uen={class:"text-center"},_en={class:"text-primary text-decoration-underline px-2"},men=["href"],fen=["href"],hen={class:"text-primary text-decoration-underline px-2"},pen=["href"],ven={class:"px-1"},gen={class:"px-1"},ben=["onClick"],yen={class:"text-success"},ken={class:"text-success"},$en=["id","data-bs-target"],wen=["id","data-bs-target"],Den={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Cen={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},xen={class:"modal-content"},Pen={class:"modal-body"},Een={class:"d-flex justify-content-center"},Aen=["id"],Ien={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Ren={class:"modal-content"},Sen={class:"modal-header"},Ten={class:"modal-title",id:"modalCenterTitle"},jen={class:"d-flex"},Oen={key:0,class:"d-flex"},Men=["href"],Len=["href"],Nen={class:"modal-body"},Fen={class:"d-flex justify-content-between"},Yen={class:"mb-3"},Ven={class:"d-flex justify-content-between"},Ben={class:"fw-light my-auto"},Uen={class:"fw-bold mx-2 my-auto"},qen={key:0,class:"d-flex justify-content-between"},Hen={class:"fw-light my-auto"},zen={class:"fw-bold mx-2 my-auto"},Wen={class:"mb-3"},Ken={key:0,class:"d-flex justify-content-between"},Gen={class:"my-auto fw-light"},Qen=["data-bs-target"],Zen={class:"d-flex justify-content-between"},Jen={class:"my-auto fw-light"},Xen={class:"fw-bold mx-2 my-auto"},etn={class:"d-flex justify-content-between"},ttn={class:"my-auto fw-light"},otn={class:"fw-bold text-success mx-2 my-auto"},atn={class:"d-flex justify-content-between"},ntn={class:"my-auto fw-light"},stn={class:"fw-bold mx-2 my-auto"},ltn={key:0,class:"table-responsive"},itn={class:"table"},rtn={key:1,class:"px-2"},dtn={class:"d-flex justify-content-end"},ctn={class:"mx-2 my-auto"},utn={class:"text-success my-auto"},_tn={key:2,class:"px-2"},mtn={class:"mx-2 my-auto"},ftn={class:"text-success my-auto"},htn={class:"bg-label-secondary px-2"},ptn={class:"d-flex justify-content-end"},vtn={class:"mx-2 my-auto py-1"},gtn={class:"text-success my-auto py-1"},btn=["id"],ytn={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ktn={class:"modal-content"},$tn={class:"modal-header"},wtn={class:"modal-title",id:"modalCenterTitle"},Dtn={class:"d-flex"},Ctn={key:0,class:"d-flex"},xtn=["href"],Ptn=["href"],Etn={class:"modal-body"},Atn={class:"d-flex justify-content-between"},Itn={class:"mb-3"},Rtn={class:"d-flex justify-content-between"},Stn={class:"fw-light my-auto"},Ttn={class:"fw-bold mx-2 my-auto"},jtn={class:"d-flex justify-content-between"},Otn={class:"fw-light my-auto"},Mtn={class:"fw-bold mx-2 my-auto"},Ltn={class:"d-flex justify-content-between"},Ntn={class:"fw-light my-auto"},Ftn={key:0,class:"d-flex justify-content-between"},Ytn={class:"fw-light my-auto"},Vtn={class:"fw-bold mx-2 my-auto"},Btn={class:"mb-3"},Utn={class:"d-flex justify-content-between"},qtn={class:"my-auto fw-light"},Htn=["data-bs-target"],ztn={class:"d-flex justify-content-between"},Wtn={class:"my-auto fw-light"},Ktn={class:"fw-bold text-success mx-2 my-auto"},Gtn={class:"d-flex justify-content-between"},Qtn={class:"my-auto fw-light"},Ztn={class:"fw-bold mx-2 my-auto"},Jtn={class:"table-responsive"},Xtn={class:"table"},eon={style:{background:"#f0f0f0"}},ton={key:0,class:"px-2"},oon={class:"d-flex justify-content-end"},aon={class:"mx-2 my-auto"},non={class:"text-success my-auto"},son={key:1,class:"px-2"},lon={class:"mx-2 my-auto"},ion={class:"text-success my-auto"},ron={key:2,class:"px-2"},don={class:"mx-2 my-auto py-1"},con={key:0,class:"text-success my-auto py-1"},uon={key:1,class:"text-success my-auto py-1"},_on={class:"bg-label-secondary px-2"},mon={class:"d-flex justify-content-end"},fon={class:"mx-2 my-auto py-1"},hon={class:"text-success my-auto py-1"};function pon(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",jXa,[e("div",OXa,[e("div",MXa,[e("div",LXa,[e("label",NXa,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[0]||(a[0]=r=>t.invoice_number_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",FXa,[e("label",YXa,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.vendor_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",VXa,[e("label",BXa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=r=>t.anchor_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",UXa,[e("label",qXa,n(o.$t("From"))+" ("+n(o.$t("Rejection Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.from_date]])]),e("div",HXa,[e("label",zXa,n(o.$t("From"))+" ("+n(o.$t("Rejection Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.to_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.to_date]])]),e("div",WXa,[e("label",KXa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",GXa,n(o.$t("Sort By")),1),e("option",QXa,n(o.$t("Ascending")),1),e("option",ZXa,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",JXa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",XXa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",een,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]]),e("div",ten,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.requests.meta?(u(),fe(l,{key:0,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",oen,[e("table",aen,[e("thead",null,[e("tr",nen,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Request Date")),1),e("th",null,n(o.$t("Rejection Date")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Rejected By")),1),e("th",null,n(o.$t("Rejection Reason")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",sen,[t.requests.data?b("",!0):(u(),f("tr",len,[e("td",ien,[e("span",ren,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",den,[e("td",cen,[e("span",uen,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.requests.data,r=>(u(),f("tr",{key:r.id,class:"text-nowrap"},[e("td",_en,[r.buyer_id?(u(),f("a",{key:0,href:"../companies/"+r.buyer_id+"/details"},n(r.buyer_name),9,men)):(u(),f("a",{key:1,href:"../companies/"+r.anchor_id+"/details"},n(r.anchor_name),9,fen))]),e("td",hen,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,pen)]),e("td",ven,n(t.moment(r.payment_request_date).format(t.date_format)),1),e("td",gen,n(t.moment(r.updated_at).format(t.date_format)),1),e("td",{class:"text-primary text-decoration-underline px-1",onClick:i=>t.showInvoice(r.invoice_id,"show-pi-btn-"+r.invoice_id),style:{cursor:"pointer","max-width":"50px","overflow-x":"clip"}},n(r.pi_number),9,ben),e("td",yen,n(r.invoice_currency)+" "+n(new Intl.NumberFormat().format(r.invoice_amount)),1),e("td",ken,n(r.invoice_currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("td",null,n(r.rejected_by?r.rejected_by.name:""),1),e("td",null,n(r.rejected_reason),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.invoice_id},null,8,$en),e("button",{class:"d-none",id:"show-pi-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.invoice_id},null,8,wen),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Den,[e("div",Cen,[e("div",xen,[e("div",Pen,[e("div",Een,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",Ien,[e("div",Ren,[e("div",Sen,[e("h5",Ten,n(o.$t("Invoice Details")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",jen,[t.invoice_details.invoice_media.length>0?(u(),f("div",Oen,[(u(!0),f(W,null,X(t.invoice_details.invoice_media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[19]||(a[19]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,Men))),128))])):b("",!0),e("a",{href:"../requests/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[20]||(a[20]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Len)])]),e("div",Nen,[e("div",Fen,[e("div",Yen,[e("span",Ven,[e("h5",Ben,n(o.$t("Vendor"))+":",1),e("h6",Uen,n(t.invoice_details.company.name),1)]),t.invoice_details.rejected_reason?(u(),f("span",qen,[e("h5",Hen,n(o.$t("Rejection Reason"))+":",1),e("h6",zen,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Wen,[t.invoice_details.pi_number?(u(),f("span",Ken,[e("h5",Gen,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Qen)])):b("",!0),e("span",Zen,[e("h5",Jen,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",Xen,n(t.invoice_details.invoice_number),1)]),e("span",etn,[e("h5",ttn,n(o.$t("Invoice Amount"))+":",1),e("h6",otn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",atn,[e("h5",ntn,n(o.$t("Invoice Due Date"))+":",1),e("h6",stn,n(t.moment(t.invoice_details.due_date).format(t.date_format)),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",ltn,[e("table",itn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length?(u(),f("div",rtn,[e("span",dtn,[e("h6",ctn,n(o.$t("Total Invoice Discount")),1),e("h5",utn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",_tn,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",mtn,n(i.name),1),e("h5",ftn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):b("",!0),e("div",htn,[e("span",ptn,[e("h6",vtn,n(o.$t("Total")),1),e("h5",gtn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Aen)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",ytn,[e("div",ktn,[e("div",$tn,[e("h5",wtn,n(o.$t("Payment Instruction")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Dtn,[t.invoice_details.invoice_media.length>0?(u(),f("div",Ctn,[(u(!0),f(W,null,X(t.invoice_details.invoice_media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,xtn))),128))])):b("",!0),e("a",{href:"../requests/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Ptn)])]),e("div",Etn,[e("div",Atn,[e("div",Itn,[e("span",Rtn,[e("h5",Stn,n(o.$t("Anchor"))+":",1),e("h6",Ttn,n(t.invoice_details.program.anchor.name),1)]),e("span",jtn,[e("h5",Otn,n(o.$t("Remarks"))+":",1),e("h6",Mtn,n(t.invoice_details.remarks),1)]),e("span",Ltn,[e("h5",Ntn,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(t.invoice_details.status)])},n(t.invoice_details.status),3)]),t.invoice_details.rejection_reason?(u(),f("span",Ftn,[e("h5",Ytn,n(o.$t("Rejection Reason"))+":",1),e("h6",Vtn,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Btn,[e("span",Utn,[e("h5",qtn,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Htn)]),e("span",ztn,[e("h5",Wtn,n(o.$t("Invoice Amount"))+":",1),e("h6",Ktn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Gtn,[e("h5",Qtn,n(o.$t("Invoice Due Date"))+":",1),e("h6",Ztn,n(t.moment(t.invoice_details.due_date).format(t.date_format)),1)])])]),e("div",Jtn,[e("table",Xtn,[e("thead",eon,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(W,null,X(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),t.invoice_details.invoice_discounts.length?(u(),f("div",ton,[e("span",oon,[e("h6",aon,n(o.$t("Total Invoice Discount")),1),e("h5",non,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",son,[(u(!0),f(W,null,X(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",lon,n(i.name),1),e("h5",ion,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",ron,[(u(!0),f(W,null,X(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",don,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",con," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",uon,n(i.amount),1))]))),128))])):b("",!0),e("div",_on,[e("span",mon,[e("h6",fon,n(o.$t("Total")),1),e("h5",hon,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,btn)):b("",!0)])]))),128))])])]),t.requests.meta?(u(),fe(l,{key:1,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const von=Ue(TXa,[["render",pon]]),gon={name:"LoansPendingApproval",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(null),v=h(0),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"loans-pending-approval-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},D=async(R,P)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(I=>{p.value=I.data,v.value++,bt(()=>{document.getElementById(P).click()})}).catch(I=>{console.log(I)})};ot([d],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:R,requested_payment_date:r.value,invoice_number:l.value,anchor:m.value,type:"loans-pending-approval-report",sort_by:i.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})});const y=async()=>{let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,anchor:m.value,vendor:_.value,invoice_number:l.value,requested_payment_date:r.value,type:"loans-pending-approval-report",sort_by:i.value}}).then(P=>{report_data.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},C=async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"loans-pending-approval-report",per_page:d.value}}).then(P=>{report_data.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},x=h(!1),E=h(!1),k=()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,requested_payment_date:r.value,account:_.value,type:"loans-pending-approval-report",sort_by:i.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Loans_pending_approval_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{x.value=!1})},w=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,requested_payment_date:r.value,account:_.value,type:"loans-pending-approval-report",sort_by:i.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Loans_pending_approval_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{E.value=!1})},T=R=>{let P=0;return R.forEach(I=>{P+=I.quantity*I.price_per_quantity}),P},V=R=>{let P=0;return R.forEach(I=>{P+=I.value}),P};return Qe(()=>{g()}),{moment:H,transactions:t,cbs_transactions:c,anchor_search:m,invoice_number_search:l,requested_payment_date:r,vendor_search:_,sort_by:i,per_page:d,invoice_details:p,changePage:async R=>{await A.get(R,{params:{type:"loans-pending-approval-report"}}).then(P=>{t.value=P.data})},filter:y,refresh:C,getTotalAmount:T,getTaxesAmount:V,downloadReport:k,downloadPdf:w,getTaxPercentage:(R,P,I)=>(I/P*100).toFixed(2),resolveStatus:R=>{let P="";switch(R){case"Overdue":P="bg-label-danger";break;case"Created":P="bg-label-secondary";break;case"Pending Approval":P="bg-label-warning";break;case"Pending Maker":P="bg-label-warning";break;case"Pending Checker":P="bg-label-warning";break;case"Submitted":P="bg-label-primary";break;case"Approved":P="bg-label-success";break;case"Disbursed":P="bg-label-success";break;case"Denied":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},showInvoice:D,date_format:a,downloadingExcel:x,downloadingPdf:E,invoice_details_key:v}}},bon={class:"card p-2"},yon={class:"card-body p-0"},kon={class:"d-flex justify-content-between"},$on={class:"d-flex flex-wrap gap-1"},won={class:""},Don={for:"Anchor",class:"form-label"},Con={class:""},xon={for:"Vendor",class:"form-label"},Pon={class:""},Eon={for:"Invoice Number",class:"form-label"},Aon={class:""},Ion={for:"Invoice Number",class:"form-label"},Ron={class:""},Son={for:"Status",class:"form-label"},Ton={value:""},jon={value:"ASC"},Oon={value:"DESC"},Mon={class:"table-search-btn"},Lon={class:"table-clear-btn"},Non={class:"d-flex justify-content-end gap-1 mt-auto"},Fon={class:""},Yon={class:"table-responsive"},Von={class:"table"},Bon={class:""},Uon={class:"px-1"},qon={class:"px-1"},Hon={class:"px-1"},zon={class:"px-1"},Won={class:""},Kon={class:"px-1"},Gon={class:"px-1"},Qon={class:"px-1"},Zon={class:"table-border-bottom-0"},Jon={key:0},Xon={colspan:"12",class:"text-center"},ean={class:"text-center"},tan={key:1},oan={colspan:"12",class:"text-center"},aan={class:"text-center"},nan=["onClick"],san={class:"px-1"},lan=["href"],ian=["href"],ran={class:"px-1"},dan=["href"],can={class:"px-1"},uan={key:0,class:""},_an={key:1,class:""},man={class:"text-success px-1"},fan={class:"text-success px-1"},han={class:"px-1"},pan=["id","data-bs-target"],van=["id","data-bs-target"],gan={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},ban={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},yan={class:"modal-content"},kan={class:"modal-body"},$an={class:"d-flex justify-content-center"};function wan(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",bon,[e("div",yon,[e("div",kon,[e("div",$on,[e("div",won,[e("label",Don,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",Con,[e("label",xon,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",Pon,[e("label",Eon,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[4]||(a[4]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Aon,[e("label",Ion,n(o.$t("Requested Payment Date")),1),Y(e("input",{type:"date",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[6]||(a[6]=d=>t.requested_payment_date=d),"aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.requested_payment_date]])]),e("div",Ron,[e("label",Son,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",Ton,n(o.$t("Sort By")),1),e("option",jon,n(o.$t("Ascending")),1),e("option",Oon,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Mon,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Lon,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Non,[e("div",Fon,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.transactions.meta?(u(),fe(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Yon,[e("table",Von,[e("thead",null,[e("tr",Bon,[e("th",Uon,n(o.$t("Invoice No"))+".",1),e("th",qon,n(o.$t("Anchor")),1),e("th",Hon,n(o.$t("Vendor")),1),e("th",zon,n(o.$t("Request Date")),1),e("th",Won,n(o.$t("Requested Disbursement Date")),1),e("th",Kon,n(o.$t("PI Amount")),1),e("th",Gon,n(o.$t("Requested Payment Amount")),1),e("th",Qon,n(o.$t("Due Date")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",Zon,[t.transactions.data?b("",!0):(u(),f("tr",Jon,[e("td",Xon,[e("span",ean,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",tan,[e("td",oan,[e("span",aan,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",{class:"text-primary text-decoration-underline px-1",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer","max-width":"220px","overflow-x":"clip"}},n(d.invoice_number),9,nan),e("td",san,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details",class:"text-primary text-decoration-underline"},n(d.buyer_name),9,lan)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(d.anchor_name),9,ian))]),e("td",ran,[e("a",{href:"../companies/"+d.company_id+"/details",class:"text-primary text-decoration-underline"},n(d.company_name),9,dan)]),e("td",can,n(t.moment(d.created_date).format(t.date_format)),1),d.payment_request_date?(u(),f("td",uan,n(t.moment(d.payment_request_date).format(t.date_format)),1)):(u(),f("td",_an,"-")),e("td",man,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",fan,n(new Intl.NumberFormat().format(d.amount)),1),e("td",han,n(t.moment(d.invoice_due_date).format(t.date_format)),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,pan),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,van),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",gan,[e("div",ban,[e("div",yan,[e("div",kan,[e("div",$an,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),fe(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Dan=Ue(gon,[["render",wan]]),Can={name:"LoansPendingApproval",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(""),_=h(""),l=h(""),r=h("Vendor Financing"),i=h(""),d=h(""),p=h(50),v=h(null),g=h(0),D=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:p.value,product_type:r.value,type:"loans-pending-disbursal-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},y=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+I+"/details").then(F=>{v.value=F.data,g.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};ot([p],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:I,anchor_search:m.value,transaction_ref:transaction_ref_search.value,invoice_number:l.value,account:_.value,status:status_search.value,product_type:product_type_search.value,type:"loans-pending-disbursal-report",sort_by:d.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const C=async()=>{let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:p.value,anchor_search:m.value,invoice_number:l.value,vendor:_.value,product_type:r.value,requested_disbursement_date:i.value,type:"loans-pending-disbursal-report",sort_by:d.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},x=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",l.value="",_.value="",i.value="",r.value="Vendor Financing",d.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"loans-pending-disbursal-report",product_type:r.value,per_page:p.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},E=h(!1),k=h(!1),w=()=>{E.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,vendor:_.value,product_type:r.value,requested_disbursement_date:i.value,type:"loans-pending-disbursal-report",sort_by:d.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Loans_pending_disbursal_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{E.value=!1})},T=()=>{k.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,vendor:_.value,product_type:r.value,requested_disbursement_date:i.value,type:"loans-pending-disbursal-report",sort_by:d.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Loans_pending_disbursal_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{k.value=!1})},V=I=>{let S=0;return I.forEach(F=>{S+=F.quantity*F.price_per_quantity}),S},B=I=>{let S=0;return I.forEach(F=>{S+=F.value}),S},O=I=>{let S=0;return I.forEach(F=>{S+=F.amount}),S};return Qe(()=>{D()}),{moment:H,transactions:t,cbs_transactions:c,anchor_search:m,invoice_number_search:l,vendor_search:_,requested_disbursement_date:i,product_type:r,per_page:p,sort_by:d,invoice_details:v,changePage:async I=>{await A.get(I,{params:{type:"loans-pending-disbursal-report",sort_by:d.value}}).then(S=>{t.value=S.data})},filter:C,refresh:x,getTotalAmount:V,getTaxesAmount:B,getFeesAmount:O,downloadReport:w,downloadPdf:T,getTaxPercentage:(I,S,F)=>(F/S*100).toFixed(2),resolveStatus:I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},showInvoice:y,date_format:a,downloadingExcel:E,downloadingPdf:k,invoice_details_key:g}}},xan={class:"card p-2"},Pan={class:"card-body p-0"},Ean={class:"d-flex justify-content-between"},Aan={class:"d-flex flex-wrap gap-1"},Ian={class:""},Ran={for:"Product Type",class:"form-label"},San={value:"Vendor Financing"},Tan={value:"Dealer Financing"},jan={class:""},Oan={for:"Anchor",class:"form-label"},Man={class:""},Lan={for:"Vendor",class:"form-label"},Nan={class:""},Fan={for:"Invoice Number",class:"form-label"},Yan={class:""},Van={for:"Invoice Number",class:"form-label"},Ban={class:""},Uan={for:"Status",class:"form-label"},qan={value:""},Han={value:"ASC"},zan={value:"DESC"},Wan={class:"table-search-btn"},Kan={class:"table-clear-btn"},Gan={class:"d-flex justify-content-end gap-1 mt-auto"},Qan={class:""},Zan={class:"table-responsive"},Jan={class:"table"},Xan={class:""},enn={class:"px-1"},tnn={class:"px-1"},onn={class:"px-1"},ann={class:"px-1"},nnn={class:"px-1"},snn={class:""},lnn={class:"px-1"},inn={class:"px-1"},rnn={class:"table-border-bottom-0"},dnn={key:0},cnn={colspan:"12",class:"text-center"},unn={class:"text-center"},_nn={key:1},mnn={colspan:"12",class:"text-center"},fnn={class:"text-center"},hnn=["onClick"],pnn={class:"px-1"},vnn=["href"],gnn=["href"],bnn={class:"px-1"},ynn=["href"],knn={class:"px-1"},$nn={key:0,class:""},wnn={key:1,class:""},Dnn=["data-bs-target"],Cnn=["id","data-bs-target"],xnn=["id","data-bs-target"],Pnn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Enn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Ann={class:"modal-content"},Inn={class:"modal-body"},Rnn={class:"d-flex justify-content-center"},Snn=["id"],Tnn={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jnn={class:"modal-content"},Onn={class:"modal-body"},Mnn={class:"table-responsive"},Lnn={class:"table"},Nnn={class:"text-success"},Fnn={key:0},Ynn={key:1},Vnn={key:2},Bnn={key:3},Unn={key:4};function qnn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",xan,[e("div",Pan,[e("div",Ean,[e("div",Aan,[e("div",Ian,[e("label",Ran,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=d=>t.product_type=d),style:{height:"fit-content"}},[e("option",San,n(o.$t("Vendor Financing")),1),e("option",Tan,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])]),e("div",jan,[e("label",Oan,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",Man,[e("label",Lan,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",Nan,[e("label",Fan,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[5]||(a[5]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Yan,[e("label",Van,n(o.$t("Requested Disbursement Date")),1),Y(e("input",{type:"date",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[7]||(a[7]=d=>t.requested_disbursement_date=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[8]||(a[8]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.requested_disbursement_date]])]),e("div",Ban,[e("label",Uan,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",qan,n(o.$t("Sort By")),1),e("option",Han,n(o.$t("Ascending")),1),e("option",zan,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Wan,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Kan,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Gan,[e("div",Qan,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.transactions.meta?(u(),fe(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Zan,[e("table",Jan,[e("thead",null,[e("tr",Xan,[e("th",enn,n(o.$t("System ID"))+".",1),e("th",tnn,n(o.$t("Invoice No"))+".",1),e("th",onn,n(o.$t("Anchor")),1),e("th",ann,n(o.$t("Vendor")),1),e("th",nnn,n(o.$t("Request Date")),1),e("th",snn,n(o.$t("Requested Disbursement Date")),1),e("th",lnn,n(o.$t("Debit From")),1),e("th",inn,n(o.$t("Credit To")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",rnn,[t.transactions.data?b("",!0):(u(),f("tr",dnn,[e("td",cnn,[e("span",unn,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",_nn,[e("td",mnn,[e("span",fnn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline px-1",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer","max-width":"220px","overflow-x":"clip"}},n(d.invoice_number),9,hnn),e("td",pnn,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details",class:"text-primary text-decoration-underline"},n(d.buyer_name),9,vnn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(d.anchor_name),9,gnn))]),e("td",bnn,[e("a",{href:"../companies/"+d.company_id+"/details",class:"text-primary text-decoration-underline"},n(d.company_name),9,ynn)]),e("td",knn,n(t.moment(d.transaction_created_date).format(t.date_format)),1),d.payment_request_date?(u(),f("td",$nn,n(t.moment(d.payment_request_date).format(t.date_format)),1)):(u(),f("td",wnn,"-")),e("td",null,n(d.cbs_transactions.length>0?d.cbs_transactions[0].debit_from_account:"-"),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+d.id,style:{cursor:"pointer"}},n(d.payment_accounts.length)+" Account(s) ",9,Dnn),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,Cnn),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,xnn),a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Pnn,[e("div",Enn,[e("div",Ann,[e("div",Inn,[e("div",Rnn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-accounts-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Tnn,[e("div",jnn,[a[19]||(a[19]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalCenterTitle"},"Accounts"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Onn,[e("div",Mnn,[e("table",Lnn,[a[18]||(a[18]=e("thead",null,[e("tr",null,[e("th",null,"Account"),e("th",null,"Amount"),e("th",null,"Description")])],-1)),e("tbody",null,[(u(!0),f(W,null,X(d.payment_accounts,p=>(u(),f("tr",{key:p.id},[e("td",null,n(p.account),1),e("td",Nnn,n(new Intl.NumberFormat().format(p.amount)),1),e("td",null,[p.type=="vendor_account"?(u(),f("span",Fnn,"Vendor's/Seller's A/C")):b("",!0),p.type=="discount"?(u(),f("span",Ynn,"Bank Discount A/C")):b("",!0),p.type=="program_fees"?(u(),f("span",Vnn,"Program Fees (Bank A/C)")):b("",!0),p.type=="program_fees_taxes"?(u(),f("span",Bnn,"Program Fees Taxes (Bank A/C)")):b("",!0),p.type=="tax_on_discount"?(u(),f("span",Unn,"Tax on Discount (Bank A/C)")):b("",!0)])]))),128))])])])])])])],8,Snn)])]))),128))])])]),t.transactions.meta?(u(),fe(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Hnn=Ue(Can,[["render",qnn]]),znn={name:"InactiveUsers",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){const a=Je("baseURL"),s=Je("axios"),t=h(""),c=h("bank"),m=h(""),_=h(""),l=h(""),r=h(50),i=h([]),d=async()=>{await s.get(a+o.bank+"/reports/data",{params:{per_page:r.value,user_type:c.value,type:"user-maintenance-history-report"}}).then(E=>{i.value=E.data}).catch(E=>{console.log(E)})};ot([r],async([E])=>{await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:E,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(k=>{i.value=k.data}).catch(k=>{console.log(k)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:r.value,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(k=>{i.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="bank",_.value="",l.value="",m.value="",await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:r.value,user_type:c.value}}).then(k=>{i.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),D=h(!1),y=()=>{g.value=!0,s.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"user-maintenance-history-report",search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`User_maintenance_history_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},C=()=>{D.value=!0,s.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"user-maintenance-history-report",search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`User_maintenance_history_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{D.value=!1})};return Qe(()=>{d()}),{moment:H,search:t,company_search:m,status:l,user_type:c,last_login:_,per_page:r,report_data:i,filter:p,refresh:v,changePage:async E=>{await s.get(E,{params:{type:"user-maintenance-history-report",per_page:r.value,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(k=>{i.value=k.data}).catch(k=>{console.log(k)})},downloadReport:y,downloadPdf:C,downloadingExcel:g,downloadingPdf:D}}},Wnn={class:"card p-2",id:"companies"},Knn={class:"d-flex justify-content-between"},Gnn={class:"d-flex flex-wrap gap-1"},Qnn={class:""},Znn={for:"User Type",class:"form-label"},Jnn={value:"bank"},Xnn={value:"company"},esn={class:""},tsn={for:"Company",class:"form-label"},osn={class:""},asn={for:"Search",class:"form-label"},nsn={class:""},ssn={for:"Last Login",class:"form-label"},lsn={class:""},isn={for:"Status",class:"form-label"},rsn={value:""},dsn={value:"active"},csn={value:"inactive"},usn={class:"table-search-btn"},_sn={class:"table-clear-btn"},msn={class:"d-flex gap-1 justify-content-end mt-auto"},fsn={class:""},hsn={class:""},psn={class:"table-responsive"},vsn={class:"table"},gsn={class:""},bsn={key:0},ysn={colspan:"12",class:"text-center"},ksn={class:"text-center"},$sn={key:1},wsn={colspan:"12",class:"text-center"},Dsn={class:"text-center"};function Csn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Wnn,[e("div",Knn,[e("div",Gnn,[e("div",Qnn,[e("label",Znn,n(o.$t("User Type")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.user_type=r)},[e("option",Jnn,n(o.$t("Bank")),1),e("option",Xnn,n(o.$t("Company")),1)],512),[[re,t.user_type]])]),e("div",esn,[e("label",tsn,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.company_search=r),id:"defaultFormControlInput",placeholder:"Company","aria-describedby":"defaultFormControlHelp",onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.company_search]])]),e("div",osn,[e("label",asn,n(o.$t("Search")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.search=r),id:"defaultFormControlInput",placeholder:"Name/Email/Phone Number","aria-describedby":"defaultFormControlHelp",onKeyup:a[4]||(a[4]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.search]])]),e("div",nsn,[e("label",ssn,n(o.$t("Last Login")),1),Y(e("input",{type:"date",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=r=>t.last_login=r),id:"defaultFormControlInput","aria-describedby":"defaultFormControlHelp",onKeyup:a[6]||(a[6]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.last_login]])]),e("div",lsn,[e("label",isn,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=r=>t.status=r)},[e("option",rsn,n(o.$t("All")),1),e("option",dsn,n(o.$t("Active")),1),e("option",csn,n(o.$t("Inactive")),1)],512),[[re,t.status]])]),e("div",usn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_sn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",msn,[e("div",fsn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",hsn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",psn,[e("table",vsn,[e("thead",null,[e("tr",gsn,[e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Phone Number")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Last Updated At")),1),e("th",null,n(o.$t("Last Login")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",bsn,[e("td",ysn,[e("span",ksn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",$sn,[e("td",wsn,[e("span",Dsn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id,class:"text-nowrap"},[e("td",null,n(r.company?"Company":"Bank"),1),e("td",null,n(r.company?r.company.name:"-"),1),e("td",null,n(r.user.name),1),e("td",null,n(r.user.email),1),e("td",null,n(r.user.phone_number),1),e("td",null,n(r.active?"Active":"Inactive"),1),e("td",null,n(t.moment(r.user.updated_at).format("DD MMM YYYY")),1),e("td",null,n(t.moment(r.user.last_login).format("DD MMM YYYY")),1)]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const xsn=Ue(znn,[["render",Csn]]),Psn={name:"CbsTransactions",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank"],setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(["Successful","Created","Failed","Permanently Failed"]);h("");const _=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),D=h(null),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report",product_type:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},C=async(P,I)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+P+"/details").then(S=>{D.value=S.data,bt(()=>{document.getElementById(I).click()})}).catch(S=>{console.log(S)})};a.expose({getRequests:y}),Qe(()=>{y()}),ot([g],async([P])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:P,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})});const x=async()=>{let P=$(".ti-search").parent();P.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},E=async()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../../assets/img/spinner.svg" />'),i.value="",r.value="",_.value="",l.value="",d.value="",p.value="",v.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},k=(P,I)=>I/P*100,w=P=>{let I="";switch(P.toLowerCase()){case"created":I="bg-label-primary";break;case"successful":I="bg-label-success";break;case"failed":I="bg-label-danger";break;case"permanently failed":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},T=h(!1),V=h(!1);return{moment:H,transactions:t,cbs_transactions:c,cbs_transaction_statuses:m,status_search:i,anchor_search:l,vendor_search:r,failed_date:d,invoice_number_search:_,product_type_search:p,per_page:g,sort_by:v,invoice_details:D,showInvoice:C,filter:x,refresh:E,resolvePaymentRequestStatus:w,changePage:async P=>{await A.get(P,{params:{per_page:g.value,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(I=>{t.value=I.data.transactions})},getTaxPercentage:k,downloadReport:()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Final_rtr_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)}).finally(()=>{T.value=!1})},downloadPdf:()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(P=>{const I=window.URL.createObjectURL(new Blob([P.data])),S=document.createElement("a");S.href=I,S.setAttribute("download",`Final_rtr_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(S),S.click()}).catch(P=>{console.log(P)}).finally(()=>{V.value=!1})},resolveStatus:P=>{let I="";switch(P){case"Overdue":I="bg-label-danger";break;case"Created":I="bg-label-secondary";break;case"Pending Approval":I="bg-label-warning";break;case"Pending Maker":I="bg-label-warning";break;case"Pending Checker":I="bg-label-warning";break;case"Submitted":I="bg-label-primary";break;case"Approved":I="bg-label-success";break;case"Disbursed":I="bg-label-success";break;case"Denied":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},downloadingExcel:T,downloadingPdf:V}}},Esn={class:"card p-2"},Asn={class:"card-body p-0"},Isn={class:"d-flex justify-content-between"},Rsn={class:"d-flex flex-wrap gap-1"},Ssn={class:""},Tsn={for:"Anchor",class:"form-label"},jsn={class:""},Osn={for:"Vendor",class:"form-label"},Msn={class:""},Lsn={for:"Invoice No",class:"form-label"},Nsn={class:""},Fsn={for:"Failed Date",class:"form-label"},Ysn={class:""},Vsn={for:"Product Type",class:"form-label"},Bsn={value:""},Usn={value:"Vendor Financing"},qsn={value:"Dealer Financing"},Hsn={class:""},zsn={for:"Status",class:"form-label"},Wsn={value:""},Ksn={value:"ASC"},Gsn={value:"DESC"},Qsn={class:"table-search-btn"},Zsn={class:"table-clear-btn"},Jsn={class:"d-flex justify-content-end gap-1 mt-auto"},Xsn={class:""},eln={class:""},tln={class:"table-responsive"},oln={class:"table"},aln={class:""},nln={class:"px-1"},sln={class:"px-1"},lln={class:"px-1"},iln={class:"px-1"},rln={class:"px-1"},dln={class:"px-1"},cln={class:"px-1"},uln={class:"px-1"},_ln={class:"px-1"},mln={class:"px-1"},fln={class:"table-border-bottom-0"},hln={key:0},pln={colspan:"12",class:"text-center"},vln={class:"text-center"},gln={key:1},bln={colspan:"12",class:"text-center"},yln={class:"text-center"},kln={class:"px-1"},$ln={class:"fw-medium"},wln={key:0,class:"px-1"},Dln={key:1},Cln={key:2,class:"px-1"},xln={key:3},Pln=["onClick"],Eln={key:5},Aln={class:"px-1"},Iln={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},Rln={class:"px-1"},Sln={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},Tln={class:"text-success px-1"},jln={class:"px-1"},Oln={key:6,class:"px-1"},Mln={key:7,class:"px-1"},Lln={class:"m_title px-1"},Nln={class:"d-flex"},Fln=["data-bs-target"],Yln={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Vln={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Bln={class:"modal-content"},Uln={class:"modal-body"},qln={class:"d-flex justify-content-center"},Hln=["id"],zln={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Wln={class:"modal-content"},Kln={class:"modal-header"},Gln={class:"modal-title",id:"modalCenterTitle"},Qln={class:"modal-body"},Zln={class:"table-responsive"},Jln={class:"table"},Xln={style:{background:"#f0f0f0"}},ein=["id","data-bs-target"],tin=["id","data-bs-target"];function oin(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",Esn,[e("div",Asn,[e("div",Isn,[e("div",Rsn,[e("div",Ssn,[e("label",Tsn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",jsn,[e("label",Osn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",Msn,[e("label",Lsn,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[4]||(a[4]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number_search]])]),e("div",Nsn,[e("label",Fsn,n(o.$t("Failed Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=d=>t.failed_date=d),onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.failed_date]])]),e("div",Ysn,[e("label",Vsn,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=d=>t.product_type_search=d)},[e("option",Bsn,n(o.$t("Product Type")),1),e("option",Usn,n(o.$t("Vendor Financing")),1),e("option",qsn,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type_search]])]),e("div",Hsn,[e("label",zsn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Wsn,n(o.$t("Sort By")),1),e("option",Ksn,n(o.$t("Ascending")),1),e("option",Gsn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Qsn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Zsn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Jsn,[e("div",Xsn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),e("div",eln,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.transactions.meta?(u(),fe(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",tln,[e("table",oln,[e("thead",null,[e("tr",aln,[e("th",nln,n(o.$t("CBS ID")),1),e("th",sln,n(o.$t("Anchor")),1),e("th",lln,n(o.$t("Vendor")),1),e("th",iln,n(o.$t("Invoice / Unique Ref No")),1),e("th",rln,n(o.$t("Debit From")),1),e("th",dln,n(o.$t("Credit To")),1),e("th",cln,n(o.$t("Amount")),1),e("th",uln,n(o.$t("Payment Date")),1),e("th",_ln,n(o.$t("Transaction Failed Date")),1),e("th",mln,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Actions")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",fln,[t.transactions.data?b("",!0):(u(),f("tr",hln,[e("td",pln,[e("span",vln,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",gln,[e("td",bln,[e("span",yln,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",kln,[e("span",$ln,n(d.cbs_id),1)]),d.payment_request?(u(),f("td",wln,n(d.payment_request.buyer_name?d.payment_request.buyer_name:d.payment_request.anchor_name),1)):(u(),f("td",Dln,"-")),d.payment_request?(u(),f("td",Cln,n(d.payment_request.company_name),1)):(u(),f("td",xln,"-")),d.payment_request?(u(),f("td",{key:4,class:"text-primary text-decoration-underline px-1",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer","max-width":"220px","overflow-x":"clip"}},n(d.payment_request.invoice_number),9,Pln)):(u(),f("td",Eln,"-")),e("td",Aln,[e("span",Iln,n(d.debit_from_account),1)]),e("td",Rln,[e("span",Sln,n(d.credit_to_account),1)]),e("td",Tln,n(new Intl.NumberFormat().format(d.amount)),1),e("td",jln,n(t.moment(d.transaction_created_date).format("DD MMM YYYY")),1),d.pay_date?(u(),f("td",Oln,n(t.moment(d.pay_date).format("DD MMM YYYY")),1)):(u(),f("td",Mln,"-")),e("td",Lln,n(d.product),1),e("td",null,[e("div",Nln,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+d.id,style:{cursor:"pointer"}},null,8,Fln)])]),e("td",null,[a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Yln,[e("div",Vln,[e("div",Bln,[e("div",Uln,[e("div",qln,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",zln,[e("div",Wln,[e("div",Kln,[e("h5",Gln,n(o.$t("CBS Transaction")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Qln,[e("div",Zln,[e("table",Jln,[e("thead",Xln,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(d.transaction_date).format("DD MMM YYYY")),1),e("td",null,n(d.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(d.transaction_reference?d.transaction_reference:"-"),1),a[19]||(a[19]=e("td",null,"-",-1)),e("td",null,n(d.transaction_type),1)])])])])])])])],8,Hln),d.payment_request?(u(),f("button",{key:0,class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,ein)):b("",!0),d.payment_request?(u(),f("button",{key:1,class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,tin)):b("",!0),t.invoice_details?(u(),fe(r,{key:2,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{key:3,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),fe(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const ain=Ue(Psn,[["render",oin]]),nin={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(""),x=h(null),E=h(0),k=h(50),w=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:k.value,type:"maturing-payments-report"}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},T=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(Z=>{x.value=Z.data,E.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})};ot([k],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:N,anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,from_payment_date:i.value,to_payment_date:d.value,payment_date:v.value,maturing_in:p.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#payment_date_search").val(),C.value&&(i.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:k.value,anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},B=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",v.value="",p.value="",g.value="",D.value="",y.value="",$("#due_date_search").val(""),$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:k.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},O=h(!1),L=h(!1),R=()=>{O.value=!0,y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#payment_date_search").val(),C.value&&(i.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,from_payment_date:i.value,to_payment_date:d.value,payment_date:v.value,maturing_in:p.value,dpd:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Maturing_payment_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{O.value=!1})},P=()=>{L.value=!0,y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#payment_date_search").val(),C.value&&(i.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`Maturing_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{L.value=!1})};return Qe(()=>{w()}),{moment:H,anchor:c,vendor:m,product_type:_,from_date:l,to_date:r,payment_date:v,maturing_in:p,dpd:g,sort_by:D,due_date_search:y,per_page:k,report_data:t,invoice_details:x,filter:V,refresh:B,changePage:async N=>{y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#payment_date_search").val(),C.value&&(i.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(N,{params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:D.value,per_page:k.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:R,downloadPdf:P,getTaxPercentage:(N,U,Z)=>(Z/U*100).toFixed(2),resolveStatus:N=>{let U="";switch(N){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},showInvoice:T,date_format:a,downloadingExcel:O,downloadingPdf:L,invoice_details_key:E}}},sin={class:"card p-2",id:"companies"},lin={class:"d-flex justify-content-between"},iin={class:"d-flex flex-wrap gap-1"},rin={class:""},din={class:"form-label"},cin={class:""},uin={class:"form-label"},_in={class:""},min={class:"form-label"},fin={class:""},hin={class:"form-label"},pin={class:""},vin={class:"form-label"},gin={value:""},bin={value:"2"},yin={value:"5"},kin={value:"7"},$in={value:"15"},win={value:"30"},Din={value:"60"},Cin={value:"90"},xin={value:"more than 90"},Pin={class:""},Ein={class:"form-label"},Ain={value:""},Iin={value:"0"},Rin={value:"0"},Sin={value:"5"},Tin={value:"10"},jin={value:"30"},Oin={class:""},Min={class:"form-label"},Lin={value:""},Nin={value:"1"},Fin={value:"2"},Yin={class:""},Vin={for:"Status",class:"form-label"},Bin={value:""},Uin={value:"ASC"},qin={value:"DESC"},Hin={class:"table-search-btn"},zin={class:"table-clear-btn"},Win={class:"d-flex justify-content-end gap-1 mt-auto"},Kin={class:""},Gin={class:""},Qin={class:"table-responsive"},Zin={class:"table"},Jin={class:""},Xin={class:"text-nowrap"},ern={key:0},trn={colspan:"12",class:"text-center"},orn={class:"text-center"},arn={key:1},nrn={colspan:"12",class:"text-center"},srn={class:"text-center"},lrn=["onClick"],irn=["href"],rrn=["href"],drn=["href"],crn={class:"text-success"},urn={class:"text-success"},_rn={class:"text-success"},mrn=["id","data-bs-target"],frn=["id","data-bs-target"],hrn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},prn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},vrn={class:"modal-content"},grn={class:"modal-body"},brn={class:"d-flex justify-content-center"};function yrn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",sin,[e("div",lin,[e("div",iin,[e("div",rin,[e("label",din,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor=d),placeholder:"Anchor",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",cin,[e("label",uin,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),placeholder:"Vendor",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",_in,[e("label",min,n(o.$t("Payment Date")),1),e("input",{class:"form-control form-search",type:"text",id:"payment_date_search",name:"maturing-report-payment-daterange",onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",fin,[e("label",hin,n(o.$t("Due Date")),1),e("input",{class:"form-control form-search",type:"text",id:"due_date_search",name:"maturing-report-due-daterange",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",pin,[e("label",vin,n(o.$t("Maturing In")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.maturing_in=d)},[e("option",gin,n(o.$t("Maturing In")),1),e("option",bin,"2 "+n(o.$t("Days")),1),e("option",yin,"5 "+n(o.$t("Days")),1),e("option",kin,"7 "+n(o.$t("Days")),1),e("option",$in,"15 "+n(o.$t("Days")),1),e("option",win,"30 "+n(o.$t("Days")),1),e("option",Din,"60 "+n(o.$t("Days")),1),e("option",Cin,"90 "+n(o.$t("Days")),1),e("option",xin,n(o.$t("Greater than"))+" 90 "+n(o.$t("Days")),1)],512),[[re,t.maturing_in]])]),e("div",Pin,[e("label",Ein,n(o.$t("DPD")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.dpd=d)},[e("option",Ain,n(o.$t("Select")),1),e("option",Iin,n(o.$t("Due Today")),1),e("option",Rin,"> 0 "+n(o.$t("Days")),1),e("option",Sin,"> 5 "+n(o.$t("Days")),1),e("option",Tin,"> 10 "+n(o.$t("Days")),1),e("option",jin,"> 30 "+n(o.$t("Days")),1)],512),[[re,t.dpd]])]),e("div",Oin,[e("label",Min,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=d=>t.product_type=d)},[e("option",Lin,n(o.$t("Product Type")),1),e("option",Nin,n(o.$t("Vendor Financing")),1),e("option",Fin,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_type]])]),e("div",Yin,[e("label",Vin,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Bin,n(o.$t("Sort By")),1),e("option",Uin,n(o.$t("Ascending")),1),e("option",qin,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Hin,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zin,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Win,[e("div",Kin,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Gin,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Qin,[e("table",Zin,[e("thead",null,[e("tr",Jin,[e("th",null,n(o.$t("Payment Reference No.")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Total Outstanding")),1),e("th",null,n(o.$t("Due Date")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",Xin,[t.report_data.data?b("",!0):(u(),f("tr",ern,[e("td",trn,[e("span",orn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",arn,[e("td",nrn,[e("span",srn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.transaction_ref),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,lrn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,irn)):(u(),f("a",{key:1,href:"../companies/"+d.company_id+"/details"},n(d.company),9,rrn))]),e("td",null,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,drn)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",crn,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",urn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",_rn,n(new Intl.NumberFormat().format(d.invoice_total_amount-d.paid_amount)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,mrn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,frn),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",hrn,[e("div",prn,[e("div",vrn,[e("div",grn,[e("div",brn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const krn=Ue(nin,[["render",yrn]]),$rn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),D=h(50),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"maturity-extended-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},C=async(R,P)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(I=>{v.value=I.data,g.value++,bt(()=>{document.getElementById(P).click()})}).catch(I=>{console.log(I)})};ot([D],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"maturity-extended-report",per_page:R,anchor:c.value,vendor:m.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})}),Qe(()=>{y()});const x=async()=>{let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"maturity-extended-report",per_page:D.value,anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},E=async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"maturity-extended-report"}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},k=h(!1),w=h(!1);return{moment:H,anchor:c,vendor:m,product_type:_,sort_by:l,from_changed_date:d,from_original_date:r,to_changed_date:p,to_original_date:i,per_page:D,report_data:t,invoice_details:v,filter:x,refresh:E,downloadPdf:()=>{w.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturity-extended-report",anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Maturity_extended_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{w.value=!1})},downloadReport:()=>{k.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturity-extended-report",anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`Maturity_extended_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{k.value=!1})},changePage:async R=>{await A.get(R,{params:{type:"maturity-extended-report",per_page:D.value,sort_by:l.value,anchor:c.value,vendor:m.value,product_type:_.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},getTaxPercentage:(R,P,I)=>(I/P*100).toFixed(2),resolveStatus:R=>{let P="";switch(R){case"Overdue":P="bg-label-danger";break;case"Created":P="bg-label-secondary";break;case"Pending Approval":P="bg-label-warning";break;case"Pending Maker":P="bg-label-warning";break;case"Pending Checker":P="bg-label-warning";break;case"Submitted":P="bg-label-primary";break;case"Approved":P="bg-label-success";break;case"Disbursed":P="bg-label-success";break;case"Denied":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},showInvoice:C,date_format:a,downloadingExcel:k,downloadingPdf:w,invoice_details_key:g}}},wrn={class:"card p-2",id:"companies"},Drn={class:"d-flex justify-content-between"},Crn={class:"d-flex flex-wrap gap-1"},xrn={class:""},Prn={for:"Anchor",class:"form-label"},Ern={class:""},Arn={for:"Vendor",class:"form-label"},Irn={class:""},Rrn={for:"Product Code",class:"form-label"},Srn={value:""},Trn={class:""},jrn={for:"From",class:"form-label"},Orn={class:""},Mrn={for:"To",class:"form-label"},Lrn={class:""},Nrn={for:"From",class:"form-label"},Frn={class:""},Yrn={for:"To",class:"form-label"},Vrn={class:""},Brn={for:"Status",class:"form-label"},Urn={value:""},qrn={value:"ASC"},Hrn={value:"DESC"},zrn={class:"table-search-btn"},Wrn={class:"table-clear-btn"},Krn={class:"d-flex justify-content-end gap-1 mt-auto"},Grn={class:""},Qrn={class:""},Zrn={class:"table-responsive"},Jrn={class:"table"},Xrn={class:""},edn={key:0},tdn={colspan:"12",class:"text-center"},odn={class:"text-center"},adn={key:1},ndn={colspan:"12",class:"text-center"},sdn={class:"text-center"},ldn=["onClick"],idn=["href"],rdn=["href"],ddn=["href"],cdn=["id","data-bs-target"],udn=["id","data-bs-target"],_dn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},mdn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},fdn={class:"modal-content"},hdn={class:"modal-body"},pdn={class:"d-flex justify-content-center"};function vdn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",wrn,[e("div",Drn,[e("div",Crn,[e("div",xrn,[e("label",Prn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor=d),placeholder:"Anchor",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",Ern,[e("label",Arn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),placeholder:"Vendor",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",Irn,[e("label",Rrn,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=d=>t.product_type=d),style:{height:"fit-content"}},[e("option",Srn,n(o.$t("Product Type")),1),a[17]||(a[17]=e("option",{value:"VFR"},"VFR",-1)),a[18]||(a[18]=e("option",{value:"FR"},"FR",-1)),a[19]||(a[19]=e("option",{value:"FWR"},"FWR",-1))],512),[[re,t.product_type]])]),e("div",Trn,[e("label",jrn,n(o.$t("From"))+" ("+n(o.$t("Original Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[5]||(a[5]=d=>t.from_original_date=d),onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.from_original_date]])]),e("div",Orn,[e("label",Mrn,n(o.$t("To"))+" ("+n(o.$t("Original Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[7]||(a[7]=d=>t.to_original_date=d),onKeyup:a[8]||(a[8]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.to_original_date]])]),e("div",Lrn,[e("label",Nrn,n(o.$t("From"))+" ("+n(o.$t("Changed Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[9]||(a[9]=d=>t.from_changed_date=d),onKeyup:a[10]||(a[10]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.from_changed_date]])]),e("div",Frn,[e("label",Yrn,n(o.$t("To"))+" ("+n(o.$t("Changed Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[11]||(a[11]=d=>t.to_changed_date=d),onKeyup:a[12]||(a[12]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.to_changed_date]])]),e("div",Vrn,[e("label",Brn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.sort_by=d)},[e("option",Urn,n(o.$t("Sort By")),1),e("option",qrn,n(o.$t("Ascending")),1),e("option",Hrn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",zrn,[e("button",{class:"btn btn-primary btn-md",onClick:a[14]||(a[14]=(...d)=>t.filter&&t.filter(...d))},a[20]||(a[20]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wrn,[e("button",{class:"btn btn-primary btn-md",onClick:a[15]||(a[15]=(...d)=>t.refresh&&t.refresh(...d))},a[21]||(a[21]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Krn,[e("div",Grn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[16]||(a[16]=d=>t.per_page=d),style:{height:"fit-content"}},a[22]||(a[22]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Qrn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Zrn,[e("table",Jrn,[e("thead",null,[e("tr",Xrn,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Vendor Financing Payment Account No. (CBS)")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Original Date")),1),e("th",null,n(o.$t("Changed Due Date")),1),e("th",null,n(o.$t("Product Code")),1),a[23]||(a[23]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",edn,[e("td",tdn,[e("span",odn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",adn,[e("td",ndn,[e("span",sdn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",null,n(d.payment_account_number),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,ldn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,idn)]),e("td",null,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,rdn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,ddn))]),e("td",null,n(t.moment(d.old_due_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,n(d.program_type),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,cdn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,udn),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",_dn,[e("div",mdn,[e("div",fdn,[e("div",hdn,[e("div",pdn,[e("span",null,n(o.$t("Loading"))+"...",1),a[24]||(a[24]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const gdn=Ue($rn,[["render",vdn]]),bdn={name:"AllPayments",components:{Pagination:St},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},ydn={class:"card p-2",id:"companies"},kdn={class:"d-flex justify-content-between"},$dn={class:"d-flex"},wdn={class:"mb-2"},Ddn={class:"mx-1"},Cdn={class:"d-flex justify-content-end"},xdn={class:""},Pdn={class:"mx-2"};function Edn(o,a,s,t,c,m){return u(),f("div",ydn,[e("div",kdn,[e("div",$dn,[e("div",wdn,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.anchor=_),placeholder:"Payment / OD Account No."},null,512),[[Q,t.anchor]])]),e("div",Ddn,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.vendor=_),placeholder:"Anchor"},null,512),[[Q,t.vendor]])]),a[5]||(a[5]=ga('<div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><button class="btn btn-primary"><i class="ti ti-refresh ti-sm"></i></button></div>',3))]),e("div",Cdn,[e("div",xdn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=_=>t.per_page=_),style:{height:"fit-content"}},a[6]||(a[6]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[re,t.per_page]])]),e("div",Pdn,[e("button",{type:"button",class:"btn btn-primary",title:"Download Excel",onClick:a[3]||(a[3]=(..._)=>o.downloadReport&&o.downloadReport(..._)),style:{height:"fit-content"}},a[7]||(a[7]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)])),e("button",{type:"button",class:"btn btn-primary mx-1",title:"Doanload PDF",onClick:a[4]||(a[4]=(..._)=>o.downloadPdf&&o.downloadPdf(..._)),style:{height:"fit-content"}},a[8]||(a[8]=[e("i",{class:"ti ti-file-text ti-xs"},null,-1)]))])])]),a[9]||(a[9]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment / OD Account No</th><th>Dealer</th><th>Anchor</th><th>PF Processing Fees</th><th>Debit (Ksh)</th><th>Balance (Ksh)</th><th>Date</th><th>OD Expiry Date</th></tr></thead><tbody></tbody></table></div>',1))])}const Adn=Ue(bdn,[["render",Edn]]),Idn={name:"AllPayments",components:{Pagination:St},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},Rdn={class:"card p-2",id:"companies"},Sdn={class:"d-flex justify-content-between"},Tdn={class:"d-flex justify-content-end"},jdn={class:""},Odn={class:"mx-2"};function Mdn(o,a,s,t,c,m){return u(),f("div",Rdn,[e("div",Sdn,[a[6]||(a[6]=ga('<div class="d-flex"><div class="mb-2"><input type="text" class="form-control" placeholder="Payment/OD Account"></div><div class="mx-1"><input type="text" class="form-control" placeholder="Dealer"></div><div class="mx-1"><input type="text" class="form-control" placeholder="Anchor"></div><div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><button class="btn btn-primary"><i class="ti ti-refresh ti-sm"></i></button></div></div>',1)),e("div",Tdn,[e("div",jdn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=_=>t.per_page=_),style:{height:"fit-content"}},a[3]||(a[3]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[re,t.per_page]])]),e("div",Odn,[e("button",{type:"button",class:"btn btn-primary",title:"Download Excel",onClick:a[1]||(a[1]=(..._)=>o.downloadReport&&o.downloadReport(..._)),style:{height:"fit-content"}},a[4]||(a[4]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)])),e("button",{type:"button",class:"btn btn-primary mx-1",title:"Doanload PDF",onClick:a[2]||(a[2]=(..._)=>o.downloadPdf&&o.downloadPdf(..._)),style:{height:"fit-content"}},a[5]||(a[5]=[e("i",{class:"ti ti-file-text ti-xs"},null,-1)]))])])]),a[7]||(a[7]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment/OD Account</th><th>Anchor</th><th>Dealer</th><th>Cash Collateral (Ksh)</th><th>PF Entry (Ksh)</th><th>Total Debit (Ksh)</th><th>Balance (Ksh)</th><th>OD Expiry Date</th></tr></thead><tbody></tbody></table></div>',1))])}const Ldn=Ue(Idn,[["render",Mdn]]),Ndn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},Fdn={class:"card p-2",id:"companies"},Ydn={class:"d-flex justify-content-between"},Vdn={class:"d-flex flex-wrap gap-1 justify-content-end"},Bdn={class:""},Udn={class:"mx-2"};function qdn(o,a,s,t,c,m){const _=de("download-buttons");return u(),f("div",Fdn,[e("div",Ydn,[a[2]||(a[2]=ga('<div class="d-flex flex-wrap gap-1"><div class=""><label for="Account No" class="form-label">Account No.</label><input type="text" class="form-control" placeholder="Account No"></div><div class=""><label for="Date" class="form-label">Date</label><input class="form-control" type="date" id="html5-date-input"></div><div class="table-search-btn"><button class="btn btn-primary btn-md"><i class="ti ti-search"></i></button></div><div class="table-clear-btn"><button class="btn btn-primary btn-md"><i class="ti ti-refresh"></i></button></div></div>',1)),e("div",Vdn,[e("div",Bdn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Udn,[Be(_,{onDownloadReport:o.downloadReport,onDownloadPdf:o.downloadPdf,"downloading-excel":o.downloadingExcel,"downloading-pdf":o.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),a[3]||(a[3]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment/OD Account No.</th><th>OD Expiry Date</th><th>Sanctioned Limit</th><th>Utilized Limit</th><th>CBS Sanction Limit</th><th>CBS Limit Utilized</th><th>Difference Sanction Limit</th><th>Type</th><th>Created At</th></tr></thead><tbody></tbody></table></div>',1))])}const Hdn=Ue(Ndn,[["render",qdn]]),zdn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:r.value,type:"users-and-roles-report"}}).then(x=>{s.value=x.data}).catch(x=>{console.log(x)})},d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"users-and-roles-report",per_page:r.value,user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(x=>{s.value=x.data}).catch(x=>{console.log(x)})},p=async()=>{t.value="",m.value="",_.value="",c.value="",l.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"users-and-roles-report",per_page:r}}).then(x=>{s.value=x.data}).catch(x=>{console.log(x)})},v=h(!1),g=h(!1),D=()=>{v.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"users-and-roles-report",user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`Users_and_roles_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},y=()=>{g.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"users-and-roles-report",user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`User_and_roles_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{g.value=!1})};return Qe(()=>{i()}),{moment:H,user_type:t,company:c,status:m,search:_,sort_by:l,filter:d,refresh:p,per_page:r,report_data:s,changePage:async x=>{await A.get(x,{params:{type:"users-and-roles-report",per_page:r.value,sort_by:l.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},downloadReport:D,downloadPdf:y,downloadingExcel:v,downloadingPdf:g}}},Wdn={class:"card p-2",id:"companies"},Kdn={class:"d-flex justify-content-between"},Gdn={class:"d-flex flex-wrap gap-1"},Qdn={class:""},Zdn={for:"User Type",class:"form-label"},Jdn={value:""},Xdn={value:"bank"},ecn={value:"company"},tcn={class:""},ocn={for:"Company",class:"form-label"},acn={class:""},ncn={for:"Search",class:"form-label"},scn={class:""},lcn={class:"form-label"},icn={value:""},rcn={value:"active"},dcn={value:"inactive"},ccn={class:""},ucn={for:"Status",class:"form-label"},_cn={value:""},mcn={value:"ASC"},fcn={value:"DESC"},hcn={class:"table-search-btn"},pcn={class:"table-clear-btn"},vcn={class:"d-flex gap-1 justify-content-end mt-auto"},gcn={class:""},bcn={class:""},ycn={class:"table-responsive"},kcn={class:"table"},$cn={class:""},wcn={key:0},Dcn={colspan:"12",class:"text-center"},Ccn={class:"text-center"},xcn={key:1},Pcn={colspan:"12",class:"text-center"},Ecn={class:"text-center"},Acn={key:0},Icn={key:1},Rcn=["href"],Scn={key:0,class:"badge bg-label-success m_title"},Tcn={key:1,class:"badge bg-label-danger m_title"};function jcn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Wdn,[e("div",Kdn,[e("div",Gdn,[e("div",Qdn,[e("label",Zdn,n(o.$t("User Type")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.user_type=r)},[e("option",Jdn,n(o.$t("Select User Type")),1),e("option",Xdn,n(o.$t("Bank Users")),1),e("option",ecn,n(o.$t("Company Users")),1)],512),[[re,t.user_type]])]),e("div",tcn,[e("label",ocn,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Company","onUpdate:modelValue":a[1]||(a[1]=r=>t.company=r),onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.company]])]),e("div",acn,[e("label",ncn,n(o.$t("Search")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"User/Email/Mobile","onUpdate:modelValue":a[3]||(a[3]=r=>t.search=r),onKeyup:a[4]||(a[4]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.search]])]),e("div",scn,[e("label",lcn,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.status=r)},[e("option",icn,n(o.$t("Status")),1),e("option",rcn,n(o.$t("Active")),1),e("option",dcn,n(o.$t("Inactive")),1)],512),[[re,t.status]])]),e("div",ccn,[e("label",ucn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",_cn,n(o.$t("Sort By")),1),e("option",mcn,n(o.$t("Ascending")),1),e("option",fcn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",hcn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",pcn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",vcn,[e("div",gcn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",bcn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),e("div",ycn,[e("table",kcn,[e("thead",null,[e("tr",$cn,[e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("User")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Last Login")),1),e("th",null,n(o.$t("Last Login IP")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",wcn,[e("td",Dcn,[e("span",Ccn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",xcn,[e("td",Pcn,[e("span",Ecn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[r.companies.length>0?(u(),f("span",Acn,n(o.$t("Company")),1)):(u(),f("span",Icn,n(o.$t("Bank")),1))]),e("td",null,[r.companies.length>0?(u(!0),f(W,{key:0},X(r.companies,i=>(u(),f("span",{key:i.id},[e("a",{href:"../companies/"+i.id+"/details"},n(i.name+", "),9,Rcn)]))),128)):b("",!0)]),e("td",null,n(r.name),1),e("td",null,n(r.email),1),e("td",null,[(u(!0),f(W,null,X(r.roles,i=>(u(),f("span",{key:i.id,class:"btn btn-xs btn-label-warning mx-1"},n(i.name),1))),128))]),e("td",null,[r.is_active?(u(),f("span",Scn,n(o.$t("Active")),1)):(u(),f("span",Tcn,n(o.$t("Inactive")),1))]),e("td",null,n(r.last_login?t.moment(r.last_login).format("DD MMM YYYY"):"-"),1),e("td",null,n(r.activity&&r.activity.properties?r.activity.properties.ip:"-"),1),a[13]||(a[13]=e("td",null,null,-1))]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Ocn=Ue(zdn,[["render",jcn]]),Mcn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(["Auto Loan Reject Cron","Discount Charge Posting","Program Limit Expiry","Loan Overdue Remainder","Loan Repayment Remainder","Invoice Repayment",'DF: Block Company as per "Limit Overdue Date"',"DF Discount Charge Accrual","IF Discount Charge Accrual"]),r=h(50),i=async()=>{await A.get(s+o.bank+"/reports/data?type=cron-logs&per_page="+r.value).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})};ot([r],async([x])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:x,name:c.value,date:m.value,sort_by:_.value}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)})});const d=async()=>{let x=$(".ti-search").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:r.value,name:c.value,date:m.value,sort_by:_.value}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)}).finally(()=>{x.html('<i class="ti ti-search"></i>')})},p=async()=>{c.value="",m.value="",_.value="";let x=$(".ti-refresh").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:r.value}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)}).finally(()=>{x.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{i()});const v=async x=>{await A.get(x,{params:{type:"cron-logs",per_page:r.value,name:c.value,date:m.value,sort_by:_.value}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)})},g=h(!1),D=h(!1);return{moment:H,cron_name:c,date:m,sort_by:_,cron_log_types:l,per_page:r,report_data:t,filter:d,refresh:p,changePage:v,downloadReport:()=>{g.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"cron-logs",name:c.value,date:m.value,sort_by:_.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`Cron_logs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{g.value=!1})},downloadPdf:()=>{D.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"cron-logs",name:c.value,date:m.value,sort_by:_.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`Cron_logs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{D.value=!1})},date_format:a,downloadingExcel:g,downloadingPdf:D}}},Lcn={class:"card p-2",id:"companies"},Ncn={class:"d-flex justify-content-between"},Fcn={class:"d-flex flex-wrap gap-1"},Ycn={class:""},Vcn={for:"Cron Name",class:"form-label"},Bcn={value:""},Ucn=["value"],qcn={class:""},Hcn={for:"Date",class:"form-label"},zcn={class:""},Wcn={for:"Status",class:"form-label"},Kcn={value:""},Gcn={value:"ASC"},Qcn={value:"DESC"},Zcn={class:"table-search-btn"},Jcn={class:"table-clear-btn"},Xcn={class:"d-flex gap-1 justify-content-end mt-auto"},eun={class:""},tun={class:""},oun={class:"table-responsive"},aun={class:"table"},nun={class:""},sun={key:0},lun={colspan:"12",class:"text-center"},iun={class:"text-center"},run={key:1},dun={colspan:"12",class:"text-center"},cun={class:"text-center"},uun={key:0},_un={key:0};function mun(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Lcn,[e("div",Ncn,[e("div",Fcn,[e("div",Ycn,[e("label",Vcn,n(o.$t("Cron Name")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.cron_name=r)},[e("option",Bcn,n(o.$t("Select")),1),(u(!0),f(W,null,X(t.cron_log_types,r=>(u(),f("option",{key:r,value:r},n(r),9,Ucn))),128))],512),[[re,t.cron_name]])]),e("div",qcn,[e("label",Hcn,n(o.$t("Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=r=>t.date=r),id:"defaultFormControlInput",placeholder:"Date","aria-describedby":"defaultFormControlHelp",onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.date]])]),e("div",zcn,[e("label",Wcn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.sort_by=r)},[e("option",Kcn,n(o.$t("Sort By")),1),e("option",Gcn,n(o.$t("Ascending")),1),e("option",Qcn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Zcn,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Jcn,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Xcn,[e("div",eun,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",tun,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",oun,[e("table",aun,[e("thead",null,[e("tr",nun,[e("th",null,n(o.$t("Cron Name")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Start Time")),1),e("th",null,n(o.$t("End Time")),1),e("th",null,n(o.$t("Time Taken")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",sun,[e("td",lun,[e("span",iun,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",run,[e("td",dun,[e("span",cun,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name),1),e("td",null,n(t.moment(r.created_at).format(t.date_format)),1),e("td",null,n(r.status),1),e("td",null,n(t.moment(r.start_time).format(t.date_format+" HH:mm:ss")),1),e("td",null,[r.end_time?(u(),f("span",uun,n(t.moment(r.end_time).format(t.date_format+" HH:mm:ss")),1)):b("",!0)]),e("td",null,[r.start_time&&r.end_time?(u(),f("span",_un,n(t.moment(r.start_time).diff(r.end_time,"minutes")),1)):b("",!0)])]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const fun=Ue(Mcn,[["render",mun]]),hun={name:"VendorReport",props:["bank","program","type"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.program,s=o.type,t=Je("baseURL"),c=lt(),m=h([]),_=h(""),l=o.bank,r=h([]),i=h(""),d=h(null),p=h(null),v=h(""),g=h(50),D=async()=>{await A.get(t+o.bank+"/reports/"+o.program+"/vendors/data?per_page="+g.value).then(B=>{m.value=B.data})},y=B=>{if(r.value.includes(B)){const O=r.value.indexOf(B);r.value.splice(O,1)}else r.value.push(B)},C=()=>{document.getElementById("select-all").checked?m.value.data.forEach(B=>{document.getElementById("company-"+B.id).checked=!0,r.value.push(B.id)}):m.value.data.forEach(B=>{if(document.getElementById("company-"+B.id).checked==!0){document.getElementById("company-"+B.id).checked=!1;let O;if(!r.value.filter(function(R,P){O=P,R==B.id}))return!1;r.value.splice(O,1)}})},x=B=>{let O="";switch(B){case"active":O="bg-label-success";break;case"inactive":O="bg-label-danger";break;default:O="bg-label-primary";break}return O};ot([v,g],([B,O])=>{A.get(t+o.bank+"/reports/"+o.program+"/vendors/data",{params:{per_page:O,name:B}}).then(L=>{m.value=L.data})}),ot(i,B=>{r.value.length>0?(B=="inactive"&&d.value.click(),B=="active"&&p.value.click()):c.error("Select Companies")});const E=B=>{if(r.value.length<=0){c.error("Select companies");return}const O=new FormData;B=="inactive"&&(r.value.forEach(L=>{O.append("companies[]",L)}),O.append("status","inactive")),B=="active"&&(r.value.forEach(L=>{O.append("companies[]",L)}),O.append("status","active")),A.post(t+o.bank+"/programs/"+o.program+"/mapping/update",O).then(()=>{D(),i.value="",document.getElementById("select-all").checked=!1,B=="inactive"?document.getElementById("close-deactivate-modal").click():document.getElementById("close-activate-modal").click(),r.value.forEach(L=>{document.getElementById("company-"+L).checked=!1}),c.success("Mapping status updated")}).catch(L=>{console.log(L),c.error("An error occurred")})},k=B=>{A.get(t+o.bank+"/programs/"+o.program+"/"+B+"/mapping/update").then(()=>{D(),c.success("Mapping status updated")}).catch(O=>{console.log(O)})},w=(B,O)=>{A.post(`companies/${B}/status/update`,{status:O,rejection_reason:_.value}).then(()=>{D(),c.success("Company status updated"),setTimeout(()=>{window.location.reload()},3e3)}).catch(L=>{console.log(L)})},T=B=>{let O=[];return B.forEach(L=>{O.push(L.name)}),!!(O.length>0&&O.includes("anchor"))};return Qe(()=>{D()}),{base_url:t,bank:l,companies:m,moment:H,rejection_reason:_,program_id:a,vendors_type:s,name_search:v,per_page:g,bulk_action:i,showRejectionModal:d,showApprovalModal:p,selectAll:C,updateSelected:y,resolveStatus:x,updateActiveStatus:k,submitBulkAction:E,updateApprovalStatus:w,changePage:async B=>{await A.get(B+"&per_page="+g.value,{params:{name:v.value}}).then(O=>{m.value=O.data})},hasAnchorRole:T}}},pun={class:"card p-2",id:"companies"},vun={class:"d-flex justify-content-between"},gun={class:"w-75 row"},bun={class:"col-3"},yun={class:"col-3"},kun={value:""},$un={value:"active"},wun={value:"inactive"},Dun={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Cun={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},xun={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Pun={class:"modal-content"},Eun={class:"modal-header"},Aun={class:"modal-title",id:"modalCenterTitle"},Iun={class:"modal-body"},Run={class:"modal-footer"},Sun={class:"btn btn-primary",type:"submit"},Tun={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},jun={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},Oun={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Mun={class:"modal-content"},Lun={class:"modal-header"},Nun={class:"modal-title",id:"modalCenterTitle"},Fun={class:"modal-body"},Yun={class:"modal-footer"},Vun={class:"btn btn-primary",type:"submit"},Bun={class:"d-flex justify-content-end mt-auto gap-1"},Uun={class:""},qun={class:"table-responsive"},Hun={class:"table"},zun={class:""},Wun={class:"px-1 py-auto"},Kun={class:"form-check"},Gun={class:"table-border-bottom-0"},Qun={class:"px-1"},Zun={class:"form-check"},Jun=["id","onChange"],Xun={class:"text-primary text-decoration-underline"},e_n=["href"],t_n={key:1},o_n={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},a_n=["title"],n_n={class:""},s_n={class:""},l_n={class:""},i_n={class:""},r_n={class:""},d_n={class:"d-flex"},c_n=["data-bs-target"],u_n=["id"],__n={class:"modal-dialog"},m_n={class:"modal-content"},f_n={class:"modal-header"},h_n={class:"modal-title",id:"modalTopTitle"},p_n={class:"modal-body"},v_n={class:"row"},g_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},b_n={class:"mr-2 fw-light"},y_n={class:"px-2 text-right"},k_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},$_n={class:"mr-2 fw-light"},w_n={class:"px-2 text-right"},D_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},C_n={class:"mr-2 fw-light"},x_n={class:"px-2 text-right"},P_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},E_n={class:"mr-2 fw-light"},A_n={class:"px-2 text-right"},I_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},R_n={class:"mr-2 fw-light"},S_n={class:"px-2 text-right"},T_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},j_n={class:"mr-2 fw-light"},O_n={class:"px-2 text-right"},M_n={class:"col-sm-4 text-align-center d-flex justify-content-between"},L_n={class:"mr-2 fw-light"},N_n={class:"px-2 text-right"},F_n={class:""},Y_n={class:""},V_n={class:"table-responsive"},B_n={class:"table"},U_n={key:0},q_n={key:1},H_n={class:"table-border-bottom-0 text-nowrap"},z_n={key:0},W_n={key:1},K_n={class:"py-1r"},G_n={class:""},Q_n={class:"table-responsive"},Z_n={class:"table"},J_n={key:0},X_n={key:1},emn={key:2},tmn={class:"table-border-bottom-0 text-nowrap"},omn={class:"m_title"},amn={key:0},nmn={key:1},smn={key:2},lmn={class:"py-1r"},imn={class:""},rmn={class:"table-responsive"},dmn={class:"table"},cmn={class:"table-border-bottom-0 text-nowrap"};function umn(o,a,s,t,c,m){const _=de("pagination");return u(),f("div",pun,[e("div",vun,[e("div",gun,[e("div",bun,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp"},null,512),[[Q,t.name_search]])]),e("div",yun,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.bulk_action=l)},[e("option",kun,n(o.$t("Bulk Actions")),1),e("option",$un,n(o.$t("Activate")),1),e("option",wun,n(o.$t("Deactivate")),1)],512),[[re,t.bulk_action]])]),e("button",Dun,null,512),e("div",Cun,[e("div",xun,[e("div",Pun,[e("div",Eun,[e("h5",Aun,n(o.$t("Update Statuses to Active")),1),a[6]||(a[6]=e("button",{type:"button",class:"btn-close",id:"close-activate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[2]||(a[2]=st(l=>t.submitBulkAction("active"),["prevent"]))},[e("div",Iun,[e("h4",null,n(o.$t("Are you sure you want to activate these companies in the program"))+"?",1)]),e("div",Run,[e("button",Sun,n(o.$t("Confirm")),1)])],32)])])]),e("button",Tun,null,512),e("div",jun,[e("div",Oun,[e("div",Mun,[e("div",Lun,[e("h5",Nun,n(o.$t("Update Statuses to Inactive")),1),a[7]||(a[7]=e("button",{type:"button",class:"btn-close",id:"close-deactivate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[3]||(a[3]=st(l=>t.submitBulkAction("inactive"),["prevent"]))},[e("div",Fun,[e("h4",null,n(o.$t("Are you sure you want to deactivate these companies in the program"))+"?",1)]),e("div",Yun,[e("button",Vun,n(o.$t("Confirm")),1)])],32)])])])]),e("div",Bun,[e("div",Uun,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])])])]),e("div",qun,[e("table",Hun,[e("thead",null,[e("tr",zun,[e("th",Wun,[e("div",Kun,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[5]||(a[5]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Payment/OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Amount")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Gun,[(u(!0),f(W,null,X(t.companies.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",Qun,[e("div",Zun,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"company-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Jun)])]),e("td",Xun,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,e_n)):(u(),f("span",t_n,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",o_n)):b("",!0),l.utilized_percentage_ratio>90?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+l.utilized_percentage_ratio+"% utilized"},null,8,a_n)):b("",!0)]),e("td",n_n,n(l.vendor_configuration.payment_account_number),1),e("td",s_n,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1),e("td",l_n,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",i_n,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",r_n,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit-l.utilized_amount)),1),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.vendor_configuration.status))},n(l.vendor_configuration.status),3)]),e("td",d_n,[e("span",{"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id},a[9]||(a[9]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"},title:"View Mapping Details"},null,-1)]),8,c_n),e("div",{class:"modal modal-top fade modal-xl",id:"vendor-mapping-details-"+l.id,tabindex:"-1"},[e("div",__n,[e("div",m_n,[e("div",f_n,[e("h5",h_n,n(l.name)+" "+n(o.$t("Mapping details")),1),a[10]||(a[10]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",p_n,[e("div",v_n,[e("div",g_n,[e("h6",b_n,n(o.$t("Sanctioned Limit"))+":",1),e("h5",y_n,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("div",k_n,[e("h6",$_n,n(o.$t("Eligibility"))+":",1),e("h5",w_n,n(l.vendor_configuration.eligibility)+"%",1)]),e("div",D_n,[e("h6",C_n,n(o.$t("Payment Account"))+":",1),e("h5",x_n,n(l.vendor_configuration.payment_account_number),1)]),e("div",P_n,[e("h6",E_n,n(o.$t("Limit Approval Date"))+":",1),e("h5",A_n,n(t.moment(l.vendor_configuration.limit_approved_date).format("Do MMM YYYY")),1)]),e("div",I_n,[e("h6",R_n,n(o.$t("Limit Expiry Date"))+":",1),e("h5",S_n,n(t.moment(l.vendor_configuration.limit_expiry_date).format("Do MMM YYYY")),1)]),e("div",T_n,[e("h6",j_n,n(o.$t("Limit Review Date"))+":",1),e("h5",O_n,n(t.moment(l.vendor_configuration.limit_review_date).format("Do MMM YYYY")),1)]),e("div",M_n,[e("h6",L_n,n(o.$t("Request Auto Finance"))+":",1),e("h5",N_n,n(l.vendor_configuration.request_auto_finance?"Yes":"No"),1)])]),a[11]||(a[11]=e("hr",null,null,-1)),e("div",F_n,[e("h5",null,n(o.$t("Discounts")),1)]),e("div",Y_n,[e("div",V_n,[e("table",B_n,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Benchmark Rate")),1),e("th",null,n(o.$t("Business Strategy Spread")),1),e("th",null,n(o.$t("Credit Spread")),1),e("th",null,n(o.$t("Total Spread")),1),e("th",null,n(o.$t("Total ROI")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",U_n,n(o.$t("Anchor Discount Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",q_n,n(o.$t("Vendor Discount Bearing")),1)):b("",!0)])]),e("tbody",H_n,[(u(!0),f(W,null,X(l.vendor_discount_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.benchmark_rate)+"%",1),e("td",null,n(r.business_strategy_spread)+"%",1),e("td",null,n(r.credit_spread)+"%",1),e("td",null,n(r.total_spread)+"%",1),e("td",null,n(r.total_roi)+"%",1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",z_n,n(r.vendor_discount_bearing)+"% ",1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",W_n,n(r.anchor_discount_bearing)+"% ",1)):b("",!0)]))),128))])])])]),a[12]||(a[12]=e("hr",null,null,-1)),e("div",K_n,[e("h5",null,n(o.$t("Fees")),1)]),e("div",G_n,[e("div",Q_n,[e("table",Z_n,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Value")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",J_n,n(o.$t("Vendor Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",X_n,n(o.$t("Anchor Bearing")),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",emn,n(o.$t("Dealer Bearing")),1)):b("",!0)])]),e("tbody",tmn,[(u(!0),f(W,null,X(l.vendor_fee_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.fee_name),1),e("td",omn,n(r.type),1),e("td",null,n(r.value),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",amn,n(r.vendor_bearing_discount),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",nmn,n(r.anchor_bearing_discount),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",smn,n(r.dealer_bearing),1)):b("",!0)]))),128))])])])]),a[13]||(a[13]=e("hr",null,null,-1)),e("div",lmn,[e("h5",null,n(o.$t("Bank Accounts Details")),1)]),e("div",imn,[e("div",rmn,[e("table",dmn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Bank")),1),e("th",null,n(o.$t("Swift Code")),1),e("th",null,n(o.$t("Branch")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Account Type")),1)])]),e("tbody",cmn,[(u(!0),f(W,null,X(l.vendor_bank_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name_as_per_bank),1),e("td",null,n(r.bank_name),1),e("td",null,n(r.swift_code),1),e("td",null,n(r.branch),1),e("td",null,n(r.account_number),1),e("td",null,n(r.account_type),1)]))),128))])])])])])])])],8,u_n)])]))),128))])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const _mn=Ue(hun,[["render",umn]]),mmn={name:"Programs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h("");h("");const _=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"dealer-financing-programs-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{r()});const i=E=>{switch(E){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},d=E=>parseFloat(E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),p=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},v=async()=>{t.value="",c.value="",m.value="",_.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"dealer-financing-programs-report",per_page:l.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},g=h(!1),D=h(!1);return{moment:H,programs:s,program_name_search:t,anchor_search:c,status_search:m,sort_by:_,per_page:l,filter:p,refresh:v,resolveProgramStatus:i,NumFormatter:d,changePage:async E=>{await A.get(E,{params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(k=>{s.value=k.data})},downloadReport:()=>{g.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`DF_programs_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},downloadPdf:()=>{D.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`Dealer_financing_programs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{D.value=!1})},downloadingExcel:g,downloadingPdf:D}}},fmn={class:"card p-2"},hmn={class:"d-flex justify-content-between"},pmn={class:"d-flex flex-wrap gap-1"},vmn={class:""},gmn={for:"Program",class:"form-label"},bmn={class:""},ymn={for:"Anchor",class:"form-label"},kmn={class:""},$mn={for:"",class:"form-label"},wmn={value:""},Dmn={value:"pending"},Cmn={value:"active"},xmn={value:"suspended"},Pmn={class:""},Emn={for:"Status",class:"form-label"},Amn={value:""},Imn={value:"ASC"},Rmn={value:"DESC"},Smn={class:"table-search-btn"},Tmn={class:"table-clear-btn"},jmn={class:"d-flex justify-content-end gap-1 mt-auto"},Omn={class:""},Mmn={class:"table-responsive"},Lmn={class:"table"},Nmn={class:""},Fmn={class:"table-border-bottom-0"},Ymn={key:0},Vmn={colspan:"12",class:"text-center"},Bmn={class:"text-center"},Umn={key:1},qmn={colspan:"12",class:"text-center"},Hmn={class:"text-center"},zmn=["href"],Wmn={class:"text-primary text-decoration-underline"},Kmn=["href"],Gmn={class:"text-success"},Qmn={class:"text-success"},Zmn={class:"text-success"};function Jmn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",fmn,[e("div",hmn,[e("div",pmn,[e("div",vmn,[e("label",gmn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name_search=r),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_name_search]])]),e("div",bmn,[e("label",ymn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",kmn,[e("label",$mn,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=r=>t.status_search=r)},[e("option",wmn,n(o.$t("Status")),1),e("option",Dmn,n(o.$t("Pending")),1),e("option",Cmn,n(o.$t("Active")),1),e("option",xmn,n(o.$t("Suspended")),1)],512),[[re,t.status_search]])]),e("div",Pmn,[e("label",Emn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",Amn,n(o.$t("Sort By")),1),e("option",Imn,n(o.$t("Ascending")),1),e("option",Rmn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Smn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Tmn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",jmn,[e("div",Omn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",Mmn,[e("table",Lmn,[e("thead",null,[e("tr",Nmn,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Tenor & Rates")),1),e("th",null,n(o.$t("Base Rate Consideration")),1),e("th",null,n(o.$t("Total Mapped Dealers")),1)])]),e("tbody",Fmn,[t.programs.data?b("",!0):(u(),f("tr",Ymn,[e("td",Vmn,[e("span",Bmn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Umn,[e("td",qmn,[e("span",Hmn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"programs/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,zmn)]),e("td",Wmn,[e("a",{href:"companies/"+r.anchor.id+"/details"},n(r.anchor.name),9,Kmn)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(r.account_status)])},n(r.account_status),3)]),e("td",Gmn,n(r.bank.default_currency)+" "+n(t.NumFormatter(r.program_limit)),1),e("td",Qmn,n(r.bank.default_currency)+" "+n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",Zmn,n(r.bank.default_currency)+" "+n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",null,[(u(!0),f(W,null,X(r.dealer_discount_rates,i=>(u(),f("span",{key:i.id,class:"mx-1"},n(i.from_day)+" - "+n(i.to_day)+" : "+n(i.total_roi)+", ",1))),128))]),e("td",null,n(r.discount_details[0].benchmark_rate)+"%",1),e("td",null,n(r.dealers_count),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Xmn=Ue(mmn,[["render",Jmn]]),efn={name:"AnchorwiseDealerReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]);h("");const c=h("");h(""),h("");const m=h(""),_=h(50),l=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})};Qe(()=>{l()});const r=x=>{switch(x){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},i=x=>parseFloat(x).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),d=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-anchorwise-dealer-report",per_page:_.value,anchor:c.value,sort_by:m.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},p=async()=>{c.value="",m.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-anchorwise-dealer-report",per_page:_.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},v=h(!1),g=h(!1);return{moment:H,programs:t,anchor_search:c,per_page:_,filter:d,refresh:p,resolveProgramStatus:r,NumFormatter:i,changePage:async x=>{await A.get(x,{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(E=>{t.value=E.data})},downloadReport:()=>{v.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:c.value,type:"df-anchorwise-dealer-report"}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`DF_anchorwise_dealer_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},downloadPdf:()=>{g.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:c.value,type:"df-anchorwise-dealer-report"}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`DF_anchorwise_dealer_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{g.value=!1})},date_format:a,downloadingExcel:v,downloadingPdf:g}}},tfn={class:"card p-2"},ofn={class:"d-flex justify-content-between"},afn={class:"d-flex flex-wrap gap-1"},nfn={class:""},sfn={for:"Anchor",class:"form-label"},lfn={class:""},ifn={for:"Status",class:"form-label"},rfn={value:""},dfn={value:"ASC"},cfn={value:"DESC"},ufn={class:"table-search-btn"},_fn={class:"table-clear-btn"},mfn={class:"d-flex justify-content-end gap-1 mt-auto"},ffn={style:{height:"fit-content"},class:"mx-1"},hfn={class:"table-responsive"},pfn={class:"table"},vfn={class:""},gfn={class:"text-center"},bfn={class:"text-center"},yfn={class:"text-center"},kfn={class:"text-center"},$fn={class:"text-center"},wfn={class:"table-border-bottom-0"},Dfn={key:0},Cfn={colspan:"12",class:"text-center"},xfn={class:"text-center"},Pfn={key:1},Efn={colspan:"12",class:"text-center"},Afn={class:"text-center"},Ifn=["href"],Rfn={class:"text-center"},Sfn={class:"text-center"},Tfn={class:"text-center"},jfn={class:"text-center"},Ofn={class:"text-center"},Mfn=["href"];function Lfn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",tfn,[e("div",ofn,[e("div",afn,[e("div",nfn,[e("label",sfn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",lfn,[e("label",ifn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>o.sort_by=r)},[e("option",rfn,n(o.$t("Sort By")),1),e("option",dfn,n(o.$t("Ascending")),1),e("option",cfn,n(o.$t("Descending")),1)],512),[[re,o.sort_by]])]),e("div",ufn,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_fn,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",mfn,[e("div",ffn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",hfn,[e("table",pfn,[e("thead",null,[e("tr",vfn,[e("th",null,n(o.$t("Anchor"))+" ("+n(o.$t("Program"))+")",1),e("th",gfn,n(o.$t("Total Dealers")),1),e("th",bfn,n(o.$t("Active Dealers")),1),e("th",yfn,n(o.$t("Passive Dealers")),1),e("th",kfn,n(o.$t("Percentage of Active Dealers")),1),e("th",$fn,n(o.$t("Actions")),1)])]),e("tbody",wfn,[t.programs.data?b("",!0):(u(),f("tr",Dfn,[e("td",Cfn,[e("span",xfn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Pfn,[e("td",Efn,[e("span",Afn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.anchor.name),9,Ifn),le(" ("+n(r.name)+") ",1)]),e("td",Rfn,n(r.dealers),1),e("td",Sfn,n(r.active_dealers),1),e("td",Tfn,n(r.passive_dealers),1),e("td",jfn,n(r.active_dealers_percent.toFixed(2)),1),e("td",Ofn,[e("a",{href:"../reports/"+r.id+"/vendors",class:"badge bg-label-danger rounded-pill p-1",title:"Manage Dealers"},a[9]||(a[9]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,Mfn)])]))),128))])])]),Be(l,{class:"mx-2",from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Nfn=Ue(efn,[["render",Lfn]]),Ffn={name:"CashCollateralReport",props:["bank"],components:{Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h("");h("");const _=h(50);Qe(()=>{});const l=d=>{switch(d){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},r=d=>parseFloat(d).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});return ot([t,c,m,_],async([d,p,v,g])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:g,anchor:p,type:"df-anchorwise-dealer-report"}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)})}),{moment:H,programs:s,anchor_search:c,per_page:_,resolveProgramStatus:l,NumFormatter:r,changePage:async d=>{await A.get(d,{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(p=>{s.value=p.data})}}}},Yfn={class:"card p-2"},Vfn={class:"d-flex justify-content-between"},Bfn={class:"d-flex flex-wrap gap-1"},Ufn={class:""},qfn={class:"mx-1"},Hfn={class:"mx-1"},zfn={class:"mx-1 table-search-btn"},Wfn={class:"mx-1 table-clear-btn"},Kfn={class:"d-flex flex-wrap justify-content-end gap-1"};function Gfn(o,a,s,t,c,m){return u(),f("div",Yfn,[e("div",Vfn,[e("div",Bfn,[e("div",Ufn,[a[7]||(a[7]=e("label",{for:"Payment/OD Account",class:"form-label"},"Payment/OD Account",-1)),e("input",{type:"text",class:"form-control form-search",placeholder:"Payment/OD Account No.",onKeyup:a[0]||(a[0]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,32)]),e("div",qfn,[a[8]||(a[8]=e("label",{for:"Anchor",class:"form-label"},"Anchor",-1)),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=_=>t.anchor_search=_),placeholder:"Anchor",onKeyup:a[2]||(a[2]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",Hfn,[a[9]||(a[9]=e("label",{for:"OD Transaction Date",class:"form-label"},"Transactions date",-1)),e("input",{type:"date",class:"form-control form-search",placeholder:"OD Transaction Date",id:"html5-date-input",onKeyup:a[3]||(a[3]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,32)]),e("div",zfn,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(..._)=>o.filter&&o.filter(..._))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wfn,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(..._)=>o.refresh&&o.refresh(..._))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Kfn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=_=>t.per_page=_)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),a[13]||(a[13]=e("button",{type:"button",class:"btn btn-primary py-2"},[e("i",{class:"ti ti-download ti-sm"})],-1))])]),a[14]||(a[14]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment / OD Account No.</th><th>Anchor</th><th>Dealer</th><th>Cash Collateral</th><th>Debit</th><th>Credit</th><th>Balance</th><th>OD Transaction Date</th><th>OD Expiry</th></tr></thead><tbody class="table-border-bottom-0"></tbody></table></div>',1))])}const Qfn=Ue(Ffn,[["render",Gfn]]),Zfn={name:"DfDealerClassificationReport",props:["bank"],components:{Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"df-dealer-classification-report"}}).then(C=>{s.value=C.data}).catch(C=>{console.log(C)})};Qe(()=>{r()});const i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"df-dealer-classification-report",per_page:l.value,dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},d=async()=>{t.value="",c.value="",_.value="",m.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-dealer-classification-report",per_page:l.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},p=h(!1),v=h(!1);return{moment:H,dealers:s,dealer_search:t,unique_id:c,branch_code:_,rm:m,per_page:l,refresh:d,filter:i,changePage:async C=>{await A.get(C,{params:{per_page:l.value,type:"df-dealer-classification-report"}}).then(x=>{s.value=x.data})},downloadReport:()=>{p.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"df-dealer-classification-report"}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{p.value=!1})},downloadPdf:()=>{v.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"df-dealer-classification-report"}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},downloadingExcel:p,downloadingPdf:v}}},Jfn={class:"card p-2"},Xfn={class:"d-flex justify-content-between"},ehn={class:"d-flex flex-wrap gap-1"},thn={class:""},ohn={for:"Dealer",class:"form-label"},ahn={class:""},nhn={for:"RM",class:"form-label"},shn={class:""},lhn={for:"Unique Identification Number",class:"form-label"},ihn={class:""},rhn={for:"Branch Code",class:"form-label"},dhn={class:"table-search-btn"},chn={class:"table-clear-btn"},uhn={class:"d-flex justify-content-end gap-1 mt-auto"},_hn={class:"table-responsive"},mhn={class:"table"},fhn={class:""},hhn={class:"table-border-bottom-0"},phn={key:0},vhn={colspan:"12",class:"text-center"},ghn={class:"text-center"},bhn={key:1},yhn={colspan:"12",class:"text-center"},khn={class:"text-center"},$hn=["href"],whn={class:"text-success"},Dhn={class:"text-success"};function Chn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Jfn,[e("div",Xfn,[e("div",ehn,[e("div",thn,[e("label",ohn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.dealer_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer_search]])]),e("div",ahn,[e("label",nhn,n(o.$t("RM")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"RM","onUpdate:modelValue":a[2]||(a[2]=r=>t.rm=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.rm]])]),e("div",shn,[e("label",lhn,n(o.$t("Unique ID Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Unique Identification No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.unique_id=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.unique_id]])]),e("div",ihn,[e("label",rhn,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Branch Code","onUpdate:modelValue":a[6]||(a[6]=r=>t.branch_code=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.branch_code]])]),e("div",dhn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",chn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",uhn,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",_hn,[e("table",mhn,[e("thead",null,[e("tr",fhn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Limit Utilized")),1),e("th",null,n(o.$t("DPD Days")),1),e("th",null,n(o.$t("RM")),1)])]),e("tbody",hhn,[t.dealers.data?b("",!0):(u(),f("tr",phn,[e("td",vhn,[e("span",ghn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",bhn,[e("td",yhn,[e("span",khn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,$hn)]),e("td",null,n(r.branch_code),1),e("td",whn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format("DD MMM YYYY")),1),e("td",Dhn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.utilized_limit)),1),e("td",null,n(r.dpd_days),1),e("td",null,n(r.relationship_managers.length>0?r.relationship_managers[0].name:""),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const xhn=Ue(Zfn,[["render",Chn]]),Phn={name:"DfDealerClassificationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"df-program-mapping-report"}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})};Qe(()=>{g()}),ot([v],async([T])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:T,anchor:m.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,type:"df-program-mapping-report"}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})});const D=async()=>{let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},y=async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"df-program-mapping-report"}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},C=h(!1),x=h(!1);return{moment:H,dealers:t,anchor_search:m,program_name_search:c,dealer_search:_,sort_by:l,od_expiry_date_from:r,od_expiry_date_to:i,limit_expiry_date_from:d,limit_expiry_date_to:p,per_page:v,filter:D,refresh:y,changePage:async T=>{await A.get(T,{params:{per_page:v.value,anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data})},downloadReport:()=>{C.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`DF_program_mapping_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{C.value=!1})},downloadPdf:()=>{x.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{x.value=!1})},date_format:a,downloadingExcel:C,downloadingPdf:x}}},Ehn={class:"card p-2"},Ahn={class:"d-flex justify-content-between"},Ihn={class:"d-flex flex-wrap gap-1"},Rhn={class:""},Shn={for:"Dealer",class:"form-label"},Thn={class:""},jhn={for:"Anchor",class:"form-label"},Ohn={class:""},Mhn={for:"Program",class:"form-label"},Lhn={class:""},Nhn={for:"Invoice Ref",class:"form-label"},Fhn={class:""},Yhn={for:"Invoice Ref",class:"form-label"},Vhn={class:""},Bhn={for:"Invoice Ref",class:"form-label"},Uhn={class:""},qhn={for:"Invoice Ref",class:"form-label"},Hhn={class:""},zhn={for:"Status",class:"form-label"},Whn={value:""},Khn={value:"ASC"},Ghn={value:"DESC"},Qhn={class:"table-search-btn"},Zhn={class:"table-clear-btn"},Jhn={class:"d-flex justify-content-end gap-1 mt-auto"},Xhn={class:"table-responsive"},epn={class:"table"},tpn={class:""},opn={class:"text-nowrap"},apn={key:0},npn={colspan:"12",class:"text-center"},spn={class:"text-center"},lpn={key:1},ipn={colspan:"12",class:"text-center"},rpn={class:"text-center"},dpn=["href"],cpn=["href"],upn=["href"],_pn={class:"text-success"};function mpn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Ehn,[e("div",Ahn,[e("div",Ihn,[e("div",Rhn,[e("label",Shn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.dealer_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer_search]])]),e("div",Thn,[e("label",jhn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",Ohn,[e("label",Mhn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program","onUpdate:modelValue":a[4]||(a[4]=r=>t.program_name_search=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_name_search]])]),e("div",Lhn,[e("label",Nhn,n(o.$t("From"))+" ("+n(o.$t("OD Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.od_expiry_date_from=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_expiry_date_from]])]),e("div",Fhn,[e("label",Yhn,n(o.$t("To"))+" ("+n(o.$t("OD Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.od_expiry_date_to=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_expiry_date_to]])]),e("div",Vhn,[e("label",Bhn,n(o.$t("From"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[10]||(a[10]=r=>t.limit_expiry_date_from=r),onKeyup:a[11]||(a[11]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.limit_expiry_date_from]])]),e("div",Uhn,[e("label",qhn,n(o.$t("To"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[12]||(a[12]=r=>t.limit_expiry_date_to=r),onKeyup:a[13]||(a[13]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.limit_expiry_date_to]])]),e("div",Hhn,[e("label",zhn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[14]||(a[14]=r=>t.sort_by=r)},[e("option",Whn,n(o.$t("Sort By")),1),e("option",Khn,n(o.$t("Ascending")),1),e("option",Ghn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Qhn,[e("button",{class:"btn btn-primary btn-md",onClick:a[15]||(a[15]=(...r)=>t.filter&&t.filter(...r))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Zhn,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...r)=>t.refresh&&t.refresh(...r))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Jhn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[17]||(a[17]=r=>t.per_page=r),style:{width:"5rem",height:"fit-content"}},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",Xhn,[e("table",epn,[e("thead",null,[e("tr",tpn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Program")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("OD Expiry Date")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Tenor & Rates"))+" (%)",1),e("th",null,n(o.$t("Base Rate Consideration")),1)])]),e("tbody",opn,[t.dealers.data?b("",!0):(u(),f("tr",apn,[e("td",npn,[e("span",spn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",lpn,[e("td",ipn,[e("span",rpn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company.id+"/details",class:"text-primary text-decoration-underline"},n(r.company.name),9,dpn)]),e("td",null,[e("a",{href:"../programs/"+r.program.id+"/details",class:"text-primary text-decoration-underline"},n(r.program.name),9,cpn)]),e("td",null,[e("a",{href:"../companies/"+r.program.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.program.anchor.name),9,upn)]),e("td",null,n(r.payment_account_number),1),e("td",_pn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format(t.date_format)),1),e("td",null,n(t.moment(r.program.limit_expiry_date).format(t.date_format)),1),e("td",null,n(r.discount[0].from_day)+" - "+n(r.discount[0].to_day)+" Days = "+n(r.discount[0].total_roi),1),e("td",null,n(r.discount[0].benchmark_title!=null?r.discount[0].benchmark_title+" ("+r.discount[0].benchmark_rate+"%)":""),1),a[21]||(a[21]=e("td",null,null,-1))]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const fpn=Ue(Phn,[["render",mpn]]),hpn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-od-ledger-report"}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})},v=async()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-od-ledger-report",per_page:d.value,od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(w=>{t.value=w.data}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},g=async()=>{let k=$(".ti-refresh").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",i.value="",r.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-od-ledger-report",per_page:d.value}}).then(w=>{t.value=w.data}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{p()});const D=async k=>{await A.get(k,{params:{type:"df-od-ledger-report",per_page:d.value,sort_by:i.value}}).then(w=>{t.value=w.data}).catch(w=>{console.log(w)})},y=h(!1),C=h(!1);return{moment:H,od_account:c,dealer:m,invoice_number:_,date:l,overdue_date:r,sort_by:i,per_page:d,report_data:t,filter:v,refresh:g,changePage:D,downloadPdf:()=>{C.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-od-ledger-report",od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`DF_od_ledger_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)}).finally(()=>{C.value=!1})},downloadReport:()=>{y.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-od-ledger-report",od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`DF_OD_ledger_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)}).finally(()=>{y.value=!1})},date_format:a}}},ppn={class:"card p-2",id:"companies"},vpn={class:"d-flex justify-content-between"},gpn={class:"d-flex flex-wrap gap-1"},bpn={class:""},ypn={for:"OD Account",class:"form-label"},kpn={class:""},$pn={for:"Dealer",class:"form-label"},wpn={class:""},Dpn={for:"Invoice Ref",class:"form-label"},Cpn={class:""},xpn={for:"Date",class:"form-label"},Ppn={class:""},Epn={for:"Overdue Date",class:"form-label"},Apn={class:""},Ipn={for:"Status",class:"form-label"},Rpn={value:""},Spn={value:"ASC"},Tpn={value:"DESC"},jpn={class:"table-search-btn"},Opn={class:"table-clear-btn"},Mpn={class:"d-flex justify-content-end gap-1 mt-auto"},Lpn={class:""},Npn={class:""},Fpn={class:"table-responsive"},Ypn={class:"table"},Vpn={class:""},Bpn={key:0},Upn={colspan:"12",class:"text-center"},qpn={class:"text-center"},Hpn={key:1},zpn={colspan:"12",class:"text-center"},Wpn={class:"text-center"},Kpn={class:""},Gpn={class:""},Qpn={class:"text-success"},Zpn={class:"text-success"},Jpn={class:"text-success"};function Xpn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",ppn,[e("div",vpn,[e("div",gpn,[e("div",bpn,[e("label",ypn,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_account]])]),e("div",kpn,[e("label",$pn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer]])]),e("div",wpn,[e("label",Dpn,n(o.$t("Invoice Ref No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice / Unique Ref No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.invoice_number=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",Cpn,[e("label",xpn,n(o.$t("Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=r=>t.date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.date]])]),e("div",Ppn,[e("label",Epn,n(o.$t("Overdue Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[8]||(a[8]=r=>t.overdue_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.overdue_date]])]),e("div",Apn,[e("label",Ipn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",Rpn,n(o.$t("Sort By")),1),e("option",Spn,n(o.$t("Ascending")),1),e("option",Tpn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",jpn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Opn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mpn,[e("div",Lpn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Npn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":o.downloadingExcel,"downloading-pdf":o.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Fpn,[e("table",Ypn,[e("thead",null,[e("tr",Vpn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Transaction Type")),1),e("th",null,n(o.$t("Debit")),1),e("th",null,n(o.$t("Credit")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount")),1),e("th",null,n(o.$t("Penal Discount")),1),e("th",null,n(o.$t("Overdue Date")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Bpn,[e("td",Upn,[e("span",qpn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Hpn,[e("td",zpn,[e("span",Wpn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(r.payment_request.company_name),1),e("td",null,n(r.payment_request.invoice_number),1),e("td",null,n(t.moment(r.created_at).format(t.date_format)),1),e("td",null,n(r.transaction_type),1),e("td",Kpn,n(r.debit_from_account),1),e("td",Gpn,n(r.credit_to_account),1),e("td",Qpn,n(r.payment_request?new Intl.NumberFormat().format(r.payment_request.invoice_disbursed_amount):"0"),1),e("td",Zpn,n(r.payment_request.discount),1),e("td",Jpn,n(r.payment_request.invoice_overdue),1),e("td",null,n(r.payment_request?t.moment(r.payment_request.invoice_due_date).format(t.date_format):"-"),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const evn=Ue(hpn,[["render",Xpn]]),tvn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(null),D=h(0),y=h(""),C=h(50),x=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:C.value,type:"df-fees-and-interest-sharing-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})};ot([C],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:R,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})});const E=async()=>{y.value=$("#payment_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:C.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},k=async()=>{_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:C.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},w=async(R,P)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(I=>{g.value=I.data,D.value++,nextTick(()=>{document.getElementById(P).click()})}).catch(I=>{console.log(I)})},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`DF_fees_and_interest_sharing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const P=window.URL.createObjectURL(new Blob([R.data])),I=document.createElement("a");I.href=P,I.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!1})};return Qe(()=>{x()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,per_page:C,report_data:t,invoice_details:g,showInvoice:w,filter:E,refresh:k,changePage:async R=>{await A.get(R,{params:{type:"df-fees-and-interest-sharing-report",per_page:C.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},downloadReport:B,downloadPdf:O,date_format:a,downloadingExcel:T,downloadingPdf:V,invoice_details_key:D}}},ovn={class:"card p-2",id:"companies"},avn={class:"d-flex justify-content-between"},nvn={class:"d-flex flex-wrap gap-1"},svn={class:""},lvn={for:"Invoice Number",class:"form-label"},ivn={class:""},rvn={for:"Vendor",class:"form-label"},dvn={class:""},cvn={for:"Disbursement Date",class:"form-label"},uvn={class:""},_vn={for:"Status",class:"form-label"},mvn={value:""},fvn={value:"disbursed"},hvn={value:"closed"},pvn={class:""},vvn={for:"Status",class:"form-label"},gvn={value:""},bvn={value:"ASC"},yvn={value:"DESC"},kvn={class:"table-search-btn"},$vn={class:"table-clear-btn"},wvn={class:"d-flex justify-content-end gap-1 mt-auto"},Dvn={class:""},Cvn={class:""},xvn={class:"table-responsive"},Pvn={class:"table"},Evn={class:""},Avn={key:0},Ivn={colspan:"12",class:"text-center"},Rvn={class:"text-center"},Svn={key:1},Tvn={colspan:"12",class:"text-center"},jvn={class:"text-center"},Ovn=["href"],Mvn=["onClick"],Lvn={class:"text-success"},Nvn={class:"text-success"},Fvn={class:"text-success"},Yvn={class:"text-success"},Vvn={class:"text-success"},Bvn={class:"badge bg-label-success m_title"},Uvn=["id","data-bs-target"],qvn=["id","data-bs-target"],Hvn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},zvn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Wvn={class:"modal-content"},Kvn={class:"modal-body"},Gvn={class:"d-flex justify-content-center"};function Qvn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("invoice-details"),r=de("payment-instruction"),i=de("pagination");return u(),f("div",ovn,[e("div",avn,[e("div",nvn,[e("div",svn,[e("label",lvn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",ivn,[e("label",rvn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",dvn,[e("label",cvn,n(o.$t("Payment Date")),1),a[9]||(a[9]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"df-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",uvn,[e("label",_vn,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=d=>t.status=d)},[e("option",mvn,n(o.$t("Status")),1),e("option",fvn,n(o.$t("Overdue")),1),e("option",hvn,n(o.$t("Closed")),1)],512),[[re,t.status]])]),e("div",pvn,[e("label",vvn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=d=>o.sort_by=d)},[e("option",gvn,n(o.$t("Sort By")),1),e("option",bvn,n(o.$t("Ascending")),1),e("option",yvn,n(o.$t("Descending")),1)],512),[[re,o.sort_by]])]),e("div",kvn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...d)=>t.filter&&t.filter(...d))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$vn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.refresh&&t.refresh(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wvn,[e("div",Dvn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.per_page=d),style:{height:"fit-content"}},a[12]||(a[12]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[re,t.per_page]])]),e("div",Cvn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),e("div",xvn,[e("table",Pvn,[e("thead",null,[e("tr",Evn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Drawdown Date")),1),e("th",null,n(o.$t("Drawdown Amount")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Anchor's Discount Share")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Anchor's Fees Share")),1),e("th",null,n(o.$t("Status")),1),a[13]||(a[13]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Avn,[e("td",Ivn,[e("span",Rvn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Svn,[e("td",Tvn,[e("span",jvn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[e("a",{href:"../companies/"+d.company.id+"/details"},n(d.company.name),9,Ovn)]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,Mvn),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",Lvn,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("td",Nvn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",Fvn,n(new Intl.NumberFormat().format(d.anchor_bearing_discount_amount)),1),e("td",Yvn,n(new Intl.NumberFormat().format(d.fees)),1),e("td",Vvn,n(new Intl.NumberFormat().format(d.anchor_fee_bearing_amount)),1),e("td",null,[e("span",Bvn,n(d.financing_status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,Uvn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,qvn),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Hvn,[e("div",zvn,[e("div",Wvn,[e("div",Kvn,[e("div",Gvn,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),Be(i,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Zvn=Ue(tvn,[["render",Qvn]]),Jvn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(50),y=h(null),C=h(0),x=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"df-income-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},E=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+I+"/details").then(F=>{y.value=F.data,C.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};ot([D],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:I,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const k=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},w=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:D.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`DF_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`DF_income_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!1})};return Qe(()=>{x()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,sort_by:v,per_page:D,report_data:t,invoice_details:y,filter:k,refresh:w,changePage:async I=>{await A.get(I,{params:{type:"df-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},downloadReport:B,downloadPdf:O,getTaxPercentage:(I,S,F)=>(F/S*100).toFixed(2),resolveStatus:I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},showInvoice:E,date_format:a,downloadingExcel:T,downloadingPdf:V,invoice_details_key:C}}},Xvn={class:"card p-2",id:"companies"},egn={class:"d-flex justify-content-between"},tgn={class:"d-flex flex-wrap gap-1"},ogn={class:""},agn={for:"Invoice Number",class:"form-label"},ngn={class:""},sgn={for:"Anchor",class:"form-label"},lgn={class:""},ign={for:"Vendor",class:"form-label"},rgn={class:""},dgn={for:"Disbursement Date",class:"form-label"},cgn={class:""},ugn={for:"Status",class:"form-label"},_gn={value:""},mgn={value:"disbursed"},fgn={value:"past_due"},hgn={value:"closed"},pgn={class:""},vgn={for:"Status",class:"form-label"},ggn={value:""},bgn={value:"ASC"},ygn={value:"DESC"},kgn={class:"table-search-btn"},$gn={class:"table-clear-btn"},wgn={class:"d-flex justify-content-end gap-1 mt-auto"},Dgn={class:""},Cgn={class:""},xgn={class:"table-responsive"},Pgn={class:"table"},Egn={class:""},Agn={key:0},Ign={colspan:"12",class:"text-center"},Rgn={class:"text-center"},Sgn={key:1},Tgn={colspan:"12",class:"text-center"},jgn={class:"text-center"},Ogn=["href"],Mgn=["href"],Lgn=["onClick"],Ngn={class:"text-success"},Fgn={class:"text-success"},Ygn={class:"text-success"},Vgn={class:"text-success"},Bgn={class:"text-success"},Ugn={key:0,class:"badge bg-label-danger m_title"},qgn={key:1,class:"badge bg-label-success m_title"},Hgn=["id","data-bs-target"],zgn=["id","data-bs-target"],Wgn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Kgn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Ggn={class:"modal-content"},Qgn={class:"modal-body"},Zgn={class:"d-flex justify-content-center"};function Jgn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",Xvn,[e("div",egn,[e("div",tgn,[e("div",ogn,[e("label",agn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",ngn,[e("label",sgn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",lgn,[e("label",ign,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",rgn,[e("label",dgn,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"df-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",cgn,[e("label",ugn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.status=d)},[e("option",_gn,n(o.$t("Status")),1),e("option",mgn,n(o.$t("Disbursed")),1),e("option",fgn,n(o.$t("Overdue")),1),e("option",hgn,n(o.$t("Closed")),1)],512),[[re,t.status]])]),e("div",pgn,[e("label",vgn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",ggn,n(o.$t("Sort By")),1),e("option",bgn,n(o.$t("Ascending")),1),e("option",ygn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",kgn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$gn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wgn,[e("div",Dgn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Cgn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",xgn,[e("table",Pgn,[e("thead",null,[e("tr",Egn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Drawdown Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal Discount")),1),e("th",null,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Agn,[e("td",Ign,[e("span",Rgn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Sgn,[e("td",Tgn,[e("span",jgn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,Ogn)]),e("td",null,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,Mgn)]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,Lgn),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",Ngn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",Fgn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",Ygn,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",Vgn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",Bgn,n(new Intl.NumberFormat().format(d.overdue)),1),e("td",null,[d.financing_status=="financed"&&t.moment().isAfter(d.due_date)?(u(),f("span",Ugn,"Overdue")):(u(),f("span",qgn,n(d.financing_status),1))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,Hgn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,zgn),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Wgn,[e("div",Kgn,[e("div",Ggn,[e("div",Qgn,[e("div",Zgn,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Xgn=Ue(Jvn,[["render",Jgn]]),e1n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:i.value,type:"df-monthly-utilization-and-outstanding-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value!=""&&(_.value=m.value.split("-")[1],l.value=m.value.split("-")[0]),await A.get(a+o.bank+"/reports/data",{params:{type:"df-monthly-utilization-and-outstanding-report",per_page:i.value,od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-monthly-utilization-and-outstanding-report",per_page:i.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=async E=>{await A.get(E,{params:{type:"maturing-payments-report",per_page:i.value,od_account:t.value,dealer:c.value,month:m.value,sort_by:r.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)})},D=h(!1),y=h(!1);return{moment:H,od_account:t,dealer:c,month:m,sort_by:r,per_page:i,report_data:s,changePage:g,filter:p,refresh:v,downloadReport:()=>{D.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-monthly-utilization-and-outstanding-report",od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`DF_monthly_utilization_and_outstanding_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{D.value=!1})},downloadPdf:()=>{y.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-monthly-utilization-and-outstanding-report",od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`DF_monthly_utilization_and_outstanding_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{y.value=!1})},downloadingExcel:D,downloadingPdf:y}}},t1n={class:"card p-2",id:"companies"},o1n={class:"d-flex justify-content-between"},a1n={class:"d-flex flex-wrap gap-1"},n1n={class:""},s1n={for:"Status",class:"form-label"},l1n={class:""},i1n={for:"Status",class:"form-label"},r1n={class:""},d1n={for:"Status",class:"form-label"},c1n={class:""},u1n={for:"Status",class:"form-label"},_1n={value:""},m1n={value:"ASC"},f1n={value:"DESC"},h1n={class:"table-search-btn"},p1n={class:"table-clear-btn"},v1n={class:"d-flex justify-content-end gap-1 mt-auto"},g1n={class:""},b1n={class:""},y1n={class:"table-responsive"},k1n={class:"table"},$1n={class:""},w1n={key:0},D1n={colspan:"12",class:"text-center"},C1n={class:"text-center"},x1n={key:1},P1n={colspan:"12",class:"text-center"},E1n={class:"text-center"},A1n={class:"text-success"},I1n={class:"text-success"},R1n={class:""},S1n={class:"text-success"},T1n={class:""},j1n={class:"text-success"};function O1n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",t1n,[e("div",o1n,[e("div",a1n,[e("div",n1n,[e("label",s1n,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_account]])]),e("div",l1n,[e("label",i1n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer]])]),e("div",r1n,[e("label",d1n,n(o.$t("Month")),1),Y(e("input",{type:"month",class:"form-control form-search",placeholder:"Month","onUpdate:modelValue":a[4]||(a[4]=r=>t.month=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.month]])]),e("div",c1n,[e("label",u1n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",_1n,n(o.$t("Sort By")),1),e("option",m1n,n(o.$t("Ascending")),1),e("option",f1n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",h1n,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",p1n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",v1n,[e("div",g1n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",b1n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",y1n,[e("table",k1n,[e("thead",null,[e("tr",$1n,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Month")),1),e("th",null,n(o.$t("Total OD Limit")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Principle Outstanding")),1),e("th",null,n(o.$t("Interest Outstanding"))+" ("+n(o.$t("Posted"))+")",1),e("th",null,n(o.$t("Principle DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Principle DPD Amount")),1),e("th",null,n(o.$t("Interest DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Interest DPD Amount")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",w1n,[e("td",D1n,[e("span",C1n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",x1n,[e("td",P1n,[e("span",E1n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(t.moment(r.created_at).format("MMM YYYY")),1),e("td",A1n,n(new Intl.NumberFormat().format(r.payment_request.sanctioned_limit)),1),e("td",null,n(r.payment_request.utilized_percentage_ratio),1),e("td",I1n,n(new Intl.NumberFormat().format(r.payment_request.invoice_disbursed_amount)),1),a[13]||(a[13]=e("td",{class:"text-success"},"-",-1)),e("td",R1n,n(new Intl.NumberFormat().format(r.payment_request.invoice_days_past_due)),1),e("td",S1n,n(new Intl.NumberFormat().format(r.payment_request.invoice_overdue_amount)),1),e("td",T1n,n(new Intl.NumberFormat().format(r.payment_request.invoice_days_past_due)),1),e("td",j1n,n(new Intl.NumberFormat().format(r.payment_request.invoice_overdue_amount)),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const M1n=Ue(e1n,[["render",O1n]]),L1n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:p.value,type:"df-overdue-report"}}).then(w=>{t.value=w.data}).catch(w=>{console.log(w)})},g=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let w=$(".ti-search").parent();w.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-report",per_page:p.value,od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{w.html('<i class="ti ti-search"></i>')})},D=async()=>{let w=$(".ti-refresh").parent();w.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-report",per_page:p.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{w.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{v()});const y=h(!1),C=h(!1);return{moment:H,od_account:c,anchor:m,dealer:_,sort_by:l,from_date:r,to_date:i,per_page:p,report_data:t,filter:g,refresh:D,changePage:async w=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(w,{params:{type:"maturing-payments-report",per_page:p.value,od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})},downloadReport:()=>{y.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-report",od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(w=>{const T=window.URL.createObjectURL(new Blob([w.data])),V=document.createElement("a");V.href=T,V.setAttribute("download",`DF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(V),V.click()}).catch(w=>{console.log(w)}).finally(()=>{y.value=!1})},downloadPdf:()=>{C.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-report",od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(w=>{const T=window.URL.createObjectURL(new Blob([w.data])),V=document.createElement("a");V.href=T,V.setAttribute("download",`DF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(V),V.click()}).catch(w=>{console.log(w)}).finally(()=>{C.value=!1})},date_format:a,downloadingExcel:y,downloadingPdf:C}}},N1n={class:"card p-2",id:"companies"},F1n={class:"d-flex justify-content-between"},Y1n={class:"d-flex flex-wrap gap-1"},V1n={class:""},B1n={for:"OD Account",class:"form-label"},U1n={class:""},q1n={for:"Dealer",class:"form-label"},H1n={class:""},z1n={for:"Anchor",class:"form-label"},W1n={class:""},K1n={class:"form-label",for:""},G1n={class:""},Q1n={for:"Status",class:"form-label"},Z1n={value:""},J1n={value:"ASC"},X1n={value:"DESC"},ebn={class:"table-search-btn"},tbn={class:"table-clear-btn"},obn={class:"d-flex justify-content-end gap-1 mt-auto"},abn={class:""},nbn={class:""},sbn={class:"table-responsive"},lbn={class:"table"},ibn={class:""},rbn={key:0},dbn={colspan:"12",class:"text-center"},cbn={class:"text-center"},ubn={key:1},_bn={colspan:"12",class:"text-center"},mbn={class:"text-center"},fbn={class:""},hbn={class:""},pbn={class:"text-success"},vbn={class:""},gbn={class:"text-success"},bbn={class:""},ybn={class:"text-success"};function kbn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",N1n,[e("div",F1n,[e("div",Y1n,[e("div",V1n,[e("label",B1n,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_account]])]),e("div",U1n,[e("label",q1n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer]])]),e("div",H1n,[e("label",z1n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=r=>t.anchor=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",W1n,[e("label",K1n,n(o.$t("Date"))+" ("+n(o.$t("Drawdown Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"df-overdue-disbursement-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",G1n,[e("label",Q1n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",Z1n,n(o.$t("Sort By")),1),e("option",J1n,n(o.$t("Ascending")),1),e("option",X1n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",ebn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",tbn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",obn,[e("div",abn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",nbn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",sbn,[e("table",lbn,[e("thead",null,[e("tr",ibn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Drawdown Date")),1),e("th",null,n(o.$t("Overdue Principal")),1),e("th",null,n(o.$t("Principal DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Overdue Interest")),1),e("th",null,n(o.$t("Interest DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Total Penal Interest")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",rbn,[e("td",dbn,[e("span",cbn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",ubn,[e("td",_bn,[e("span",mbn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,n(r.payment_account_number),1),e("td",null,n(r.company),1),e("td",null,n(r.anchor),1),e("td",fbn,n(r.invoice_number),1),e("td",hbn,n(t.moment(r.disbursement_date).format(t.date_format)),1),e("td",pbn,n(new Intl.NumberFormat().format(r.disbursed_amount)),1),e("td",vbn,n(r.days_past_due),1),e("td",gbn,n(new Intl.NumberFormat().format(r.overdue_amount)),1),e("td",bbn,n(r.days_past_due),1),e("td",ybn,n(new Intl.NumberFormat().format(r.overdue_amount)),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const $bn=Ue(L1n,[["render",kbn]]),wbn={name:"DFPotentialFinancingReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(null),v=h(0),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-potential-financing-report"}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},D=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+O+"/details").then(R=>{p.value=R.data,v.value++,bt(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})};ot([d],async([O])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:O,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})});const y=async()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},C=async()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:d.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},x=h(!1),E=h(!1),k=()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`VF_potential_financing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{x.value=!1})},w=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`VF_potential_financing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{E.value=!1})};return Qe(()=>{g()}),{moment:H,anchor:c,vendor:m,invoice_number:_,invoice_date:l,due_date:r,sort_by:i,per_page:d,report_data:t,invoice_details:p,showInvoice:D,filter:y,refresh:C,changePage:async O=>{await A.get(O,{params:{type:"df-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})},downloadReport:k,downloadPdf:w,getTaxPercentage:(O,L,R)=>(R/L*100).toFixed(2),resolveStatus:O=>{let L="";switch(O){case"Overdue":L="bg-label-danger";break;case"Created":L="bg-label-secondary";break;case"Pending Approval":L="bg-label-warning";break;case"Pending Maker":L="bg-label-warning";break;case"Pending Checker":L="bg-label-warning";break;case"Submitted":L="bg-label-primary";break;case"Approved":L="bg-label-success";break;case"Disbursed":L="bg-label-success";break;case"Denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},date_format:a,downloadingExcel:x,downloadingPdf:E,invoice_details_key:v}}},Dbn={class:"card p-2",id:"companies"},Cbn={class:"d-flex justify-content-between"},xbn={class:"d-flex flex-wrap gap-1"},Pbn={class:""},Ebn={for:"Invoice Number",class:"form-label"},Abn={class:""},Ibn={for:"Anchor",class:"form-label"},Rbn={class:""},Sbn={for:"Vendor",class:"form-label"},Tbn={class:""},jbn={for:"Invoice Date",class:"form-label"},Obn={class:""},Mbn={for:"Due Date",class:"form-label"},Lbn={class:""},Nbn={for:"Status",class:"form-label"},Fbn={value:""},Ybn={value:"ASC"},Vbn={value:"DESC"},Bbn={class:"table-search-btn"},Ubn={class:"table-clear-btn"},qbn={class:"d-flex justify-content-end gap-1 mt-auto"},Hbn={class:""},zbn={class:""},Wbn={class:"table-responsive"},Kbn={class:"table"},Gbn={class:""},Qbn={key:0},Zbn={colspan:"12",class:"text-center"},Jbn={class:"text-center"},Xbn={key:1},eyn={colspan:"12",class:"text-center"},tyn={class:"text-center"},oyn=["onClick"],ayn=["href"],nyn=["href"],syn=["href"],lyn={class:"text-success"},iyn={class:""},ryn={class:""},dyn=["id","data-bs-target"],cyn=["id","data-bs-target"],uyn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},_yn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},myn={class:"modal-content"},fyn={class:"modal-body"},hyn={class:"d-flex justify-content-center"};function pyn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",Dbn,[e("div",Cbn,[e("div",xbn,[e("div",Pbn,[e("label",Ebn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",Abn,[e("label",Ibn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",Rbn,[e("label",Sbn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",Tbn,[e("label",jbn,n(o.$t("Invoice Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.invoice_date=d),onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_date]])]),e("div",Obn,[e("label",Mbn,n(o.$t("Due Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=d=>t.due_date=d),onKeyup:a[9]||(a[9]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.due_date]])]),e("div",Lbn,[e("label",Nbn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",Fbn,n(o.$t("Sort By")),1),e("option",Ybn,n(o.$t("Ascending")),1),e("option",Vbn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Bbn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ubn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qbn,[e("div",Hbn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",zbn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Wbn,[e("table",Kbn,[e("thead",null,[e("tr",Gbn,[e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Net Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Qbn,[e("td",Zbn,[e("span",Jbn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Xbn,[e("td",eyn,[e("span",tyn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,oyn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,ayn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,nyn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,syn)]),e("td",lyn,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",null,[e("span",iyn,n(t.moment(d.invoice_date).format(t.date_format)),1)]),e("td",null,[e("span",ryn,n(t.moment(d.due_date).format(t.date_format)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,dyn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,cyn),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",uyn,[e("div",_yn,[e("div",myn,[e("div",fyn,[e("div",hyn,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const vyn=Ue(wbn,[["render",pyn]]),gyn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(""),C=h(""),x=h(50),E=h(null),k=h(0),w=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:x.value,type:"df-overdue-invoices-report"}}).then(N=>{t.value=N.data,console.log(t.value)}).catch(N=>{console.log(N)})},T=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(Z=>{E.value=Z.data,k.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})};ot([x],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:N,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{y.value=$("#payment_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#due_date_search").val(),C.value&&(d.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:x.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},B=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",D.value="",$("#payment_date_search").val(""),$("#due_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:x.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},O=h(!1),L=h(!1),R=()=>{O.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`DF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{O.value=!1})},P=()=>{L.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`DF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{L.value=!1})};return Qe(()=>{w()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:v,status:g,sort_by:D,per_page:x,report_data:t,invoice_details:E,showInvoice:T,filter:V,refresh:B,changePage:async N=>{await A.get(N,{params:{type:"df-overdue-invoices-report",per_page:x.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:R,downloadPdf:P,getTaxPercentage:(N,U,Z)=>(Z/U*100).toFixed(2),resolveStatus:N=>{let U="";switch(N){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},date_format:a,downloadingExcel:O,downloadingPdf:L,invoice_details_key:k}}},byn={class:"card p-2",id:"companies"},yyn={class:"d-flex justify-content-between"},kyn={class:"d-flex flex-wrap gap-1"},$yn={class:""},wyn={for:"Invoice Number",class:"form-label"},Dyn={class:""},Cyn={for:"Anchor",class:"form-label"},xyn={class:""},Pyn={for:"Vendor",class:"form-label"},Eyn={class:""},Ayn={for:"Payment Date",class:"form-label"},Iyn={class:""},Ryn={for:"Due Date",class:"form-label"},Syn={class:""},Tyn={for:"DPD Days",class:"form-label"},jyn={value:""},Oyn={value:"1-5"},Myn={value:"6-10"},Lyn={value:"10"},Nyn={class:""},Fyn={for:"Status",class:"form-label"},Yyn={value:""},Vyn={value:"ASC"},Byn={value:"DESC"},Uyn={class:"table-search-btn"},qyn={class:"table-clear-btn"},Hyn={class:"d-flex justify-content-end gap-1 mt-auto"},zyn={class:""},Wyn={class:""},Kyn={class:"table-responsive"},Gyn={class:"table"},Qyn={class:""},Zyn={key:0},Jyn={colspan:"12",class:"text-center"},Xyn={class:"text-center"},e0n={key:1},t0n={colspan:"12",class:"text-center"},o0n={class:"text-center"},a0n=["onClick"],n0n=["href"],s0n=["href"],l0n=["href"],i0n={class:"text-success"},r0n={class:"text-success"},d0n={class:"badge bg-label-success m_title"},c0n=["id","data-bs-target"],u0n=["id","data-bs-target"],_0n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},m0n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},f0n={class:"modal-content"},h0n={class:"modal-body"},p0n={class:"d-flex justify-content-center"};function v0n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",byn,[e("div",yyn,[e("div",kyn,[e("div",$yn,[e("label",wyn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",Dyn,[e("label",Cyn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",xyn,[e("label",Pyn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",Eyn,[e("label",Ayn,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-overdue-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Iyn,[e("label",Ryn,n(o.$t("Due Date")),1),a[12]||(a[12]=e("input",{type:"text",id:"due_date_search",class:"form-control form-search",name:"vf-overdue-report-due-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Syn,[e("label",Tyn,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.dpd=d)},[e("option",jyn,n(o.$t("DPD")),1),e("option",Oyn,"1 - 5 "+n(o.$t("Days")),1),e("option",Myn,"6 - 10 "+n(o.$t("Days")),1),e("option",Lyn,"More than 10 "+n(o.$t("Days")),1)],512),[[re,t.dpd]])]),e("div",Nyn,[e("label",Fyn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",Yyn,n(o.$t("Sort By")),1),e("option",Vyn,n(o.$t("Ascending")),1),e("option",Byn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Uyn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",qyn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Hyn,[e("div",zyn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Wyn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Kyn,[e("table",Gyn,[e("thead",null,[e("tr",Qyn,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Outstanding Amount")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Status")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Zyn,[e("td",Jyn,[e("span",Xyn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",e0n,[e("td",t0n,[e("span",o0n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,a0n),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,n0n)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,s0n))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,l0n)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",i0n,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",r0n,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,n(d.days_past_due),1),e("td",null,[e("span",d0n,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,c0n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,u0n),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",_0n,[e("div",m0n,[e("div",f0n,[e("div",h0n,[e("div",p0n,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const g0n=Ue(gyn,[["render",v0n]]),b0n={name:"DistributorLimitUtilizationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]);h("");const t=h("");h(""),h("");const c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"distributor-limit-utilization-report"}}).then(v=>{s.value=v.data}).catch(v=>{console.log(v)})};return Qe(()=>{_()}),{moment:H,dealers:s,anchor_search:t,sort_by:c,per_page:m,filter:async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{report_data.value=v.data}).catch(v=>{console.log(v)})},refresh:async()=>{t.value="",c.value="",await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"distributor-limit-utilization-report"}}).then(v=>{report_data.value=v.data}).catch(v=>{console.log(v)})},changePage:async v=>{await A.get(v,{params:{per_page:m.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(g=>{s.value=g.data})},downloadReport:()=>{A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{const g=window.URL.createObjectURL(new Blob([v.data])),D=document.createElement("a");D.href=g,D.setAttribute("download",`Distributor_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(D),D.click()}).catch(v=>{console.log(v)})},downloadPdf:()=>{A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{const g=window.URL.createObjectURL(new Blob([v.data])),D=document.createElement("a");D.href=g,D.setAttribute("download",`Distributor_limit_utilization_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(D),D.click()}).catch(v=>{console.log(v)})}}}},y0n={class:"card p-2"},k0n={class:"d-flex justify-content-between"},$0n={class:"d-flex flex-wrap"},w0n={class:"mx-1"},D0n={class:"mx-1 table-search-btn"},C0n={class:"mx-1 table-clear-btn"},x0n={class:"d-flex justify-content-end"},P0n={class:"table-responsive"},E0n={class:"table"},A0n={class:"table-border-bottom-0"},I0n={key:0},R0n={key:1},S0n=["href"],T0n={class:"text-success"},j0n={class:"text-success"},O0n={class:"text-success"},M0n={class:"text-success"},L0n={class:"text-success"};function N0n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",y0n,[e("div",k0n,[e("div",$0n,[a[8]||(a[8]=e("div",{class:""},[e("label",{for:"Organization Name",class:"form-label"},"Organization Name"),e("input",{type:"text",class:"form-control",placeholder:"Organization Name"})],-1)),e("div",w0n,[a[5]||(a[5]=e("label",{for:"Status",class:"form-label"},"Sort By",-1)),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.sort_by=r)},a[4]||(a[4]=[e("option",{value:""},"Sort By",-1),e("option",{value:"ASC"},"Ascending",-1),e("option",{value:"DESC"},"Descending",-1)]),512),[[re,t.sort_by]])]),e("div",D0n,[e("button",{class:"btn btn-primary btn-sm",onClick:a[1]||(a[1]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",C0n,[e("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",x0n,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">50</option>',5)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf},null,8,["onDownloadReport","onDownloadPdf"])])]),e("div",P0n,[e("table",E0n,[a[13]||(a[13]=e("thead",null,[e("tr",{class:""},[e("th",null,"Organization Name"),e("th",null,"Sanctioned Limit"),e("th",null,"Utilized Amount"),e("th",null,"Pipeline Requests"),e("th",null,"Available Limit"),e("th",null,"Limit Utilized"),e("th",null,"Product")])],-1)),e("tbody",A0n,[t.dealers.data?b("",!0):(u(),f("tr",I0n,a[10]||(a[10]=[e("td",{colspan:"12",class:"text-center"},[e("span",{class:"text-center"},"Loading Data...")],-1)]))),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",R0n,a[11]||(a[11]=[e("td",{colspan:"12",class:"text-center"},[e("span",{class:"text-center"},"No Data Available...")],-1)]))):b("",!0),(u(!0),f(W,null,X(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,S0n)]),e("td",T0n,n(new Intl.NumberFormat().format(r.top_level_borrower_limit)),1),e("td",j0n,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",O0n,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",M0n,n(new Intl.NumberFormat().format(r.available_amount)),1),e("td",L0n,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),a[12]||(a[12]=e("td",null,"Dealer Financing",-1))]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const F0n=Ue(b0n,[["render",N0n]]),Y0n={name:"VfFundingLimitUtilizationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"df-funding-limit-utilization-report"}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})};Qe(()=>{r()});const i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,company_name:c.value,company_type:m.value,sort_by:_.value,type:"df-funding-limit-utilization-report"}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-funding-limit-utilization-report",per_page:l.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},p=h(!1),v=h(!1);return{moment:H,report_data:t,anchor_search:c,type_search:m,sort_by:_,per_page:l,filter:i,refresh:d,changePage:async C=>{await A.get(C,{params:{per_page:l.value,company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(x=>{t.value=x.data})},downloadReport:()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`DF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{p.value=!1})},downloadPdf:()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`DF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},date_format:a,downloadingExcel:p,downloadingPdf:v}}},V0n={class:"card p-2"},B0n={class:"d-flex justify-content-between"},U0n={class:"d-flex flex-wrap gap-1"},q0n={class:""},H0n={for:"Organization Name",class:"form-label"},z0n={class:""},W0n={for:"Status",class:"form-label"},K0n={value:""},G0n={value:"ASC"},Q0n={value:"DESC"},Z0n={class:"table-search-btn"},J0n={class:"table-clear-btn"},X0n={class:"d-flex justify-content-end gap-1 mt-auto"},e2n={class:"table-responsive"},t2n={class:"table"},o2n={class:""},a2n={class:"text-nowrap"},n2n={key:0},s2n={colspan:"12",class:"text-center"},l2n={class:"text-center"},i2n={key:1},r2n={colspan:"12",class:"text-center"},d2n={class:"text-center"},c2n=["href"],u2n={class:"text-success"},_2n={class:"text-success"},m2n={class:"text-success"},f2n={class:"text-success"},h2n={class:"text-success"},p2n=["href"],v2n=["href"];function g2n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",V0n,[e("div",B0n,[e("div",U0n,[e("div",q0n,[e("label",H0n,n(o.$t("Organization Name")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Organization Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",z0n,[e("label",W0n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",K0n,n(o.$t("Sort By")),1),e("option",G0n,n(o.$t("Ascending")),1),e("option",Q0n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Z0n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",J0n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",X0n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.report_data.meta?(u(),fe(l,{key:0,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",e2n,[e("table",t2n,[e("thead",null,[e("tr",o2n,[e("th",null,n(o.$t("Organization Name")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Current Exposure")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",a2n,[t.report_data.data?b("",!0):(u(),f("tr",n2n,[e("td",s2n,[e("span",l2n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",i2n,[e("td",r2n,[e("span",d2n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.company_name),9,c2n)]),e("td",u2n,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",_2n,n(new Intl.NumberFormat().format(r.available_amount.toFixed(2))),1),e("td",m2n,n(new Intl.NumberFormat().format(r.utilized_amount.toFixed(2))),1),e("td",f2n,n(new Intl.NumberFormat().format(r.pipeline_amount.toFixed(2))),1),e("td",h2n,n(new Intl.NumberFormat().format(r.utilized_percentage.toFixed(2))),1),e("td",null,[r.buyer_id?(u(),f("a",{key:0,href:"../reports/limit-utilization/"+r.program_id+"/"+r.buyer_id},a[9]||(a[9]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,p2n)):(u(),f("a",{key:1,href:"../reports/limit-utilization/"+r.program_id+"/"+r.company_id},a[10]||(a[10]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,v2n))])]))),128))])])]),Be(l,{class:"mx-2",from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const b2n=Ue(Y0n,[["render",g2n]]),y2n={name:"DfCollectionReport",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-collection-report"}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)})},v=async()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{type:"df-collection-report",per_page:d.value,od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(w=>{s.value=w.data}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},g=async()=>{let k=$(".ti-refresh").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-collection-report",per_page:d.value}}).then(w=>{s.value=w.data}).catch(w=>{console.log(w)}).finally(()=>{k.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{p()});const D=async k=>{await A.get(k,{params:{type:"df-collection-report",per_page:d.value,od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(w=>{s.value=w.data}).catch(w=>{console.log(w)})},y=h(!1),C=h(!1);return{moment:H,od_account:t,dealer:c,invoice_number:m,from_date:_,to_date:l,overdue_date:r,sort_by:i,per_page:d,report_data:s,filter:v,refresh:g,changePage:D,downloadPdf:()=>{C.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-collection-report",od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`DF_collection_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)}).finally(()=>{C.value=!1})},downloadReport:()=>{y.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-collection-report",od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{const w=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=w,T.setAttribute("download",`DF_collection_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(T),T.click()}).catch(k=>{console.log(k)}).finally(()=>{y.value=!1})},downloadingExcel:y,downloadingPdf:C}}},k2n={class:"card p-2",id:"companies"},$2n={class:"d-flex justify-content-between"},w2n={class:"d-flex flex-wrap gap-1"},D2n={class:""},C2n={for:"OD Account",class:"form-label"},x2n={class:""},P2n={for:"Dealer",class:"form-label"},E2n={class:""},A2n={for:"Invoice Ref",class:"form-label"},I2n={class:""},R2n={for:"Invoice Ref",class:"form-label"},S2n={class:""},T2n={for:"Invoice Ref",class:"form-label"},j2n={class:""},O2n={for:"Status",class:"form-label"},M2n={value:""},L2n={value:"ASC"},N2n={value:"DESC"},F2n={class:"table-search-btn"},Y2n={class:"table-clear-btn"},V2n={class:"d-flex justify-content-end gap-1 mt-auto"},B2n={class:""},U2n={class:""},q2n={class:"table-responsive"},H2n={class:"table"},z2n={class:""},W2n={key:0},K2n={colspan:"12",class:"text-center"},G2n={class:"text-center"},Q2n={key:1},Z2n={colspan:"12",class:"text-center"},J2n={class:"text-center"},X2n={class:"text-success"};function ekn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",k2n,[e("div",$2n,[e("div",w2n,[e("div",D2n,[e("label",C2n,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.od_account]])]),e("div",x2n,[e("label",P2n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.dealer]])]),e("div",E2n,[e("label",A2n,n(o.$t("Invoice Ref No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice / Unique Ref No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.invoice_number=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",I2n,[e("label",R2n,n(o.$t("From"))+" ("+n(o.$t("Paid Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.from_date]])]),e("div",S2n,[e("label",T2n,n(o.$t("To"))+" ("+n(o.$t("Paid Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.to_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.to_date]])]),e("div",j2n,[e("label",O2n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",M2n,n(o.$t("Sort By")),1),e("option",L2n,n(o.$t("Ascending")),1),e("option",N2n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",F2n,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Y2n,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",V2n,[e("div",B2n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",U2n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",q2n,[e("table",H2n,[e("thead",null,[e("tr",z2n,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Account")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",W2n,[e("td",K2n,[e("span",G2n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Q2n,[e("td",Z2n,[e("span",J2n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(r.payment_request.company_name),1),e("td",null,n(r.payment_request.invoice_number),1),e("td",null,n(t.moment(r.pay_date).format("Do MMM YYYY")),1),e("td",null,n(r.transaction_reference),1),e("td",X2n,n(new Intl.NumberFormat().format(r.amount)),1),e("td",null,n(r.credit_to_account),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const tkn=Ue(y2n,[["render",ekn]]),okn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:i.value,type:"df-repayment-details-report"}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)})};ot([i],async([E])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:E,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:i.value,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",r.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:i.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),D=h(!1),y=()=>{g.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`DF_Repayment_Details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},C=()=>{D.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`DF_Repayment_Details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{D.value=!1})};return Qe(()=>{d()}),{moment:H,program_name:m,cbs_id:c,date:_,set_off_type:l,sort_by:r,per_page:i,report_data:t,filter:p,refresh:v,changePage:async E=>{await A.get(E,{params:{type:"df-repayment-details-report",per_page:i.value,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})},downloadPdf:C,downloadReport:y,date_format:a,downloadingExcel:g,downloadingPdf:D}}},akn={class:"card p-2",id:"companies"},nkn={class:"d-flex justify-content-between"},skn={class:"d-flex flex-wrap gap-1"},lkn={class:""},ikn={for:"Program",class:"form-label"},rkn={class:""},dkn={for:"CBS ID",class:"form-label"},ckn={class:""},ukn={for:"Date",class:"form-label"},_kn={class:""},mkn={for:"Set Off Type",class:"form-label"},fkn={value:""},hkn={value:"Penal Interest"},pkn={value:"Principal"},vkn={value:"Interest"},gkn={class:""},bkn={for:"Status",class:"form-label"},ykn={value:""},kkn={value:"ASC"},$kn={value:"DESC"},wkn={class:"table-search-btn"},Dkn={class:"table-clear-btn"},Ckn={class:"d-flex justify-content-end gap-1 mt-auto"},xkn={class:""},Pkn={class:""},Ekn={class:"table-responsive"},Akn={class:"table"},Ikn={class:""},Rkn={key:0},Skn={colspan:"12",class:"text-center"},Tkn={class:"text-center"},jkn={key:1},Okn={colspan:"12",class:"text-center"},Mkn={class:"text-center"},Lkn={key:0},Nkn={key:1},Fkn={key:2},Ykn={key:0},Vkn={key:1},Bkn={key:2};function Ukn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",akn,[e("div",nkn,[e("div",skn,[e("div",lkn,[e("label",ikn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_name]])]),e("div",rkn,[e("label",dkn,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"CBS ID","onUpdate:modelValue":a[2]||(a[2]=r=>t.cbs_id=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.cbs_id]])]),e("div",ckn,[e("label",ukn,n(o.$t("Date")),1),Y(e("input",{type:"date",class:"form-control form-search",placeholder:"Date","onUpdate:modelValue":a[4]||(a[4]=r=>t.date=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.date]])]),e("div",_kn,[e("label",mkn,n(o.$t("Set Off Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.set_off_type=r)},[e("option",fkn,n(o.$t("Set off type")),1),e("option",hkn,n(o.$t("Penal Interest")),1),e("option",pkn,n(o.$t("Principal")),1),e("option",vkn,n(o.$t("Interest")),1)],512),[[re,t.set_off_type]])]),e("div",gkn,[e("label",bkn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=r=>t.sort_by=r)},[e("option",ykn,n(o.$t("Sort By")),1),e("option",kkn,n(o.$t("Ascending")),1),e("option",$kn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",wkn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Dkn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Ckn,[e("div",xkn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",Pkn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Ekn,[e("table",Akn,[e("thead",null,[e("tr",Ikn,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("CBS ID")),1),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Total Repayment Amount")),1),e("th",null,n(o.$t("Set off Amount")),1),e("th",null,n(o.$t("Balance Amount")),1),e("th",null,n(o.$t("Set off particulars")),1),e("th",null,n(o.$t("Set off type")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Rkn,[e("td",Skn,[e("span",Tkn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",jkn,[e("td",Okn,[e("span",Mkn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("span",null,n(t.moment(r.transaction_created_date).format(t.date_format)),1)]),e("td",null,[e("span",null,n(r.cbs_id),1)]),e("td",null,[e("span",null,n(r.payment_request.program_name),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.drawdown_amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_balance)),1)]),e("td",null,[r.transaction_type=="Overdue Account"?(u(),f("span",Lkn,n(o.$t("Penal Interest for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type=="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",Nkn,n(o.$t("Principle for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type=="Fees/Charges"||r.transaction_type=="Accrual/Posted Interest"?(u(),f("span",Fkn,n(o.$t("Interest for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0)]),e("td",null,[r.transaction_type=="Overdue Account"?(u(),f("span",Ykn,n(o.$t("Penal Interest")),1)):b("",!0),r.transaction_type=="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",Vkn,n(o.$t("Principle")),1)):b("",!0),r.transaction_type=="Fees/Charges"||r.transaction_type=="Accrual/Posted Interest"?(u(),f("span",Bkn,n(o.$t("Interest")),1)):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const qkn=Ue(okn,[["render",Ukn]]),Hkn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"dealers-daily-outstanding-balance-report"}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value,date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},p=h(!1),v=h(!1),g=()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"dealers-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Dealers_daily_outstanding_balance_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{p.value=!1})},D=()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"dealers-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Dealers_daily_outstanding_balance_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})};return Qe(()=>{r()}),{moment:H,date:c,vendor:m,sort_by:_,per_page:l,report_data:t,filter:i,refresh:d,changePage:async C=>{await A.get(C,{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value,sort_by:_.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},downloadReport:g,downloadPdf:D,date_format:a,downloadingExcel:p,downloadingPdf:v}}},zkn={class:"card p-2",id:"companies"},Wkn={class:"d-flex justify-content-between"},Kkn={class:"d-flex flex-wrap gap-1"},Gkn={class:""},Qkn={for:"Vendor",class:"form-label"},Zkn={class:""},Jkn={for:"Status",class:"form-label"},Xkn={value:""},e$n={value:"ASC"},t$n={value:"DESC"},o$n={class:"table-search-btn"},a$n={class:"table-clear-btn"},n$n={class:"d-flex justify-content-end gap-1 mt-auto"},s$n={class:""},l$n={class:""},i$n={class:"table-responsive"},r$n={class:"table"},d$n={class:""},c$n={key:0},u$n={colspan:"12",class:"text-center"},_$n={class:"text-center"},m$n={key:1},f$n={colspan:"12",class:"text-center"},h$n={class:"text-center"},p$n=["href"],v$n={class:"text-success"},g$n={class:"text-success"},b$n={class:"text-success"},y$n={class:"text-success"},k$n={class:"text-success"};function $$n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",zkn,[e("div",Wkn,[e("div",Kkn,[e("div",Gkn,[e("label",Qkn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor=r),placeholder:"Dealer",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",Zkn,[e("label",Jkn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",Xkn,n(o.$t("Sort By")),1),e("option",e$n,n(o.$t("Ascending")),1),e("option",t$n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",o$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",a$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",n$n,[e("div",s$n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",l$n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",i$n,[e("table",r$n,[e("thead",null,[e("tr",d$n,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Outstanding Balance")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Limit Utilized"))+"(%)",1),e("th",null,n(o.$t("Available Limit")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",c$n,[e("td",u$n,[e("span",_$n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",m$n,[e("td",f$n,[e("span",h$n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(t.moment().format(t.date_format)),1),e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,p$n)]),e("td",v$n,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",g$n,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",b$n,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",y$n,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),e("td",k$n,n(new Intl.NumberFormat().format(r.sanctioned_limit-(r.utilized_amount+r.pipeline_amount))),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const w$n=Ue(Hkn,[["render",$$n]]),D$n={name:"Programs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"vendor-financing-programs-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{r()});const i=E=>{switch(E){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},d=E=>parseFloat(E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});ot([l],async([E])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:E,name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{type:"vendor-financing-programs-report",per_page:l.value,name:t.value,anchor:c.value,status:m.value,sort_by:_.value}}).then(k=>{report_data.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vendor-financing-programs-report",per_page:l.value}}).then(k=>{report_data.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),D=h(!1);return{moment:H,programs:s,program_name_search:t,anchor_search:c,status_search:m,sort_by:_,per_page:l,filter:p,refresh:v,resolveProgramStatus:i,NumFormatter:d,changePage:async E=>{await A.get(E,{params:{per_page:l.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(k=>{s.value=k.data})},downloadReport:()=>{g.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`VF_program_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},downloadPdf:()=>{D.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(E=>{const k=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",`VF_programs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(E=>{console.log(E)}).finally(()=>{D.value=!1})},downloadingExcel:g,downloadingPdf:D}}},C$n={class:"card p-2"},x$n={class:"d-flex justify-content-between"},P$n={class:"d-flex flex-wrap gap-1"},E$n={class:""},A$n={for:"Program",class:"form-label"},I$n={class:""},R$n={for:"Anchor",class:"form-label"},S$n={class:""},T$n={for:"Anchor",class:"form-label"},j$n={value:""},O$n={value:"pending"},M$n={value:"active"},L$n={value:"suspended"},N$n={class:""},F$n={for:"Status",class:"form-label"},Y$n={value:""},V$n={value:"ASC"},B$n={value:"DESC"},U$n={class:"table-search-btn"},q$n={class:"table-clear-btn"},H$n={class:"d-flex justify-content-end gap-1 mt-auto"},z$n={class:""},W$n={class:"table-responsive"},K$n={class:"table"},G$n={class:""},Q$n={class:"table-border-bottom-0"},Z$n={key:0},J$n={colspan:"12",class:"text-center"},X$n={class:"text-center"},ewn={key:1},twn={colspan:"12",class:"text-center"},own={class:"text-center"},awn=["href"],nwn={class:"text-primary text-decoration-underline"},swn=["href"],lwn={class:"text-success"},iwn={class:"text-success"},rwn={class:"text-success"},dwn={class:"text-success"},cwn={key:0},uwn={key:1},_wn={key:0},mwn={key:1};function fwn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",C$n,[e("div",x$n,[e("div",P$n,[e("div",E$n,[e("label",A$n,n(o.$t("Program Name")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name_search=r),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_name_search]])]),e("div",I$n,[e("label",R$n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",S$n,[e("label",T$n,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=r=>t.status_search=r)},[e("option",j$n,n(o.$t("Status")),1),e("option",O$n,n(o.$t("Pending")),1),e("option",M$n,n(o.$t("Active")),1),e("option",L$n,n(o.$t("Suspended")),1)],512),[[re,t.status_search]])]),e("div",N$n,[e("label",F$n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",Y$n,n(o.$t("Sort By")),1),e("option",V$n,n(o.$t("Ascending")),1),e("option",B$n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",U$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",q$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",H$n,[e("div",z$n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.programs.meta?(u(),fe(l,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",W$n,[e("table",K$n,[e("thead",null,[e("tr",G$n,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Base Rate Consideration")),1),e("th",null,n(o.$t("Anchor Discount Bearing")),1),e("th",null,n(o.$t("Eligibility")),1),e("th",null,n(o.$t("Total Mapped Vendors")),1)])]),e("tbody",Q$n,[t.programs.data?b("",!0):(u(),f("tr",Z$n,[e("td",J$n,[e("span",X$n,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",ewn,[e("td",twn,[e("span",own,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"programs/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,awn)]),e("td",nwn,[e("a",{href:"companies/"+r.anchor.id+"/details"},n(r.anchor.name),9,swn)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(r.account_status)])},n(r.account_status),3)]),e("td",lwn,n(t.NumFormatter(r.program_limit)),1),e("td",iwn,n(new Intl.NumberFormat().format(r.utilized)),1),e("td",rwn,n(new Intl.NumberFormat().format(r.pipeline)),1),e("td",dwn,n(new Intl.NumberFormat().format(r.program_limit-r.utilized+r.pipeline)),1),e("td",null,[r.discount_details.length?(u(),f("span",cwn,n(r.discount_details[0].benchmark_rate)+"% ",1)):(u(),f("span",uwn,"-"))]),e("td",null,[r.discount_details.length?(u(),f("span",_wn,n(r.discount_details[0].anchor_discount_bearing)+"% ",1)):(u(),f("span",mwn,"-"))]),e("td",null,n(r.eligibility)+"%",1),e("td",null,n(r.vendors_count),1)]))),128))])])]),t.programs.meta?(u(),fe(l,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const hwn=Ue(D$n,[["render",fwn]]),pwn={name:"AnchorwiseDealerReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]);h("");const t=h("");h(""),h("");const c=h(50),m=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)})};Qe(()=>{m()});const _=y=>{switch(y){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},l=y=>parseFloat(y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{report_data.value=y.data}).catch(y=>{console.log(y)})},i=async()=>{t.value="",await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{report_data.value=y.data}).catch(y=>{console.log(y)})},d=h(!1),p=h(!1);return{moment:H,programs:s,anchor_search:t,per_page:c,filter:r,refresh:i,resolveProgramStatus:_,NumFormatter:l,changePage:async y=>{await A.get(y,{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(C=>{s.value=C.data})},downloadReport:()=>{d.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{const C=window.URL.createObjectURL(new Blob([y.data])),x=document.createElement("a");x.href=C,x.setAttribute("download",`VF_anchorwise_vendor_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(x),x.click()}).catch(y=>{console.log(y)}).finally(()=>{d.value=!1})},downloadPdf:()=>{p.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{const C=window.URL.createObjectURL(new Blob([y.data])),x=document.createElement("a");x.href=C,x.setAttribute("download",`VF_anchorwise_vendor_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(x),x.click()}).catch(y=>{console.log(y)}).finally(()=>{p.value=!1})},downloadingExcel:d,downloadingPdf:p}}},vwn={class:"card p-2"},gwn={class:"d-flex justify-content-between"},bwn={class:"d-flex flex-wrap gap-1"},ywn={class:""},kwn={for:"Anchor",class:"form-label"},$wn={class:"table-search-btn"},wwn={class:"table-clear-btn"},Dwn={class:"d-flex justify-content-end gap-1 mt-auto"},Cwn={class:""},xwn={class:"table-responsive"},Pwn={class:"table"},Ewn={class:""},Awn={class:"text-center"},Iwn={class:"text-center"},Rwn={class:"text-center"},Swn={class:"text-center"},Twn={class:"table-border-bottom-0"},jwn={key:0},Own={colspan:"12",class:"text-center"},Mwn={class:"text-center"},Lwn={key:1},Nwn={colspan:"12",class:"text-center"},Fwn={class:"text-center"},Ywn=["href"],Vwn={class:"text-center"},Bwn={class:"text-center"},Uwn={class:"text-center"},qwn={class:"text-center"},Hwn={class:"text-center"},zwn=["href"];function Wwn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",vwn,[e("div",gwn,[e("div",bwn,[e("div",ywn,[e("label",kwn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",$wn,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...r)=>t.filter&&t.filter(...r))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",wwn,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.refresh&&t.refresh(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Dwn,[e("div",Cwn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=r=>t.per_page=r),style:{height:"fit-content"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",xwn,[e("table",Pwn,[e("thead",null,[e("tr",Ewn,[e("th",null,n(o.$t("Anchor"))+" ("+n(o.$t("Program"))+")",1),e("th",Awn,n(o.$t("Mapped Companies")),1),e("th",Iwn,n(o.$t("Active Mapped Companies")),1),e("th",Rwn,n(o.$t("Passive Mapped Companies")),1),e("th",Swn,n(o.$t("Active Mapped Companies(%)")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Twn,[t.programs.data?b("",!0):(u(),f("tr",jwn,[e("td",Own,[e("span",Mwn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Lwn,[e("td",Nwn,[e("span",Fwn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.anchor.name),9,Ywn),le(" ("+n(r.name)+") ",1)]),e("td",Vwn,n(r.vendors),1),e("td",Bwn,n(r.active_vendors),1),e("td",Uwn,n(r.passive_vendors),1),e("td",qwn,n(r.active_vendors_percent.toFixed(2)),1),e("td",Hwn,[e("a",{href:"../reports/"+r.id+"/vendors",class:"badge bg-label-danger rounded-pill p-1",title:"Manage Dealers"},a[8]||(a[8]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,zwn)])]))),128))])])]),Be(l,{class:"mx-2",from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Kwn=Ue(pwn,[["render",Wwn]]),Gwn={name:"DfDealerClassificationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:r.value,type:"vf-vendor-classification-report"}}).then(x=>{s.value=x.data}).catch(x=>{console.log(x)})};Qe(()=>{i()});const d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"vf-vendor-classification-report",per_page:r.value,vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,sort_by:l.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},p=async()=>{t.value="",c.value="",_.value="",m.value="",l.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vf-vendor-classification-report",per_page:r.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},v=h(!1),g=h(!1);return{moment:H,dealers:s,vendor_search:t,unique_id:c,branch_code:_,rm:m,sort_by:l,per_page:r,refresh:p,filter:d,changePage:async x=>{await A.get(x,{params:{per_page:r.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(E=>{s.value=E.data})},downloadReport:()=>{v.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},downloadPdf:()=>{g.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(x=>{const E=window.URL.createObjectURL(new Blob([x.data])),k=document.createElement("a");k.href=E,k.setAttribute("download",`VF_vendor_classification_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(x=>{console.log(x)}).finally(()=>{g.value=!1})},downloadingExcel:v,downloadingPdf:g}}},Qwn={class:"card p-2"},Zwn={class:"d-flex justify-content-between"},Jwn={class:"d-flex flex-wrap gap-1"},Xwn={class:""},e5n={for:"Dealer",class:"form-label"},t5n={class:""},o5n={for:"RM",class:"form-label"},a5n={class:""},n5n={for:"Unique Identification Number",class:"form-label"},s5n={class:""},l5n={for:"Branch Code",class:"form-label"},i5n={class:""},r5n={for:"Status",class:"form-label"},d5n={value:""},c5n={value:"ASC"},u5n={value:"DESC"},_5n={class:"table-search-btn"},m5n={class:"table-clear-btn"},f5n={class:"d-flex justify-content-end gap-1 mt-auto"},h5n={class:"table-responsive"},p5n={class:"table"},v5n={class:""},g5n={class:"table-border-bottom-0"},b5n={key:0},y5n={colspan:"12",class:"text-center"},k5n={class:"text-center"},$5n={key:1},w5n={colspan:"12",class:"text-center"},D5n={class:"text-center"},C5n=["href"],x5n={class:"text-success"},P5n={class:"text-success"};function E5n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",Qwn,[e("div",Zwn,[e("div",Jwn,[e("div",Xwn,[e("label",e5n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",t5n,[e("label",o5n,n(o.$t("RM")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"RM","onUpdate:modelValue":a[2]||(a[2]=r=>t.rm=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.rm]])]),e("div",a5n,[e("label",n5n,n(o.$t("Unique ID Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Unique Identification No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.unique_id=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.unique_id]])]),e("div",s5n,[e("label",l5n,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Branch Code","onUpdate:modelValue":a[6]||(a[6]=r=>t.branch_code=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.branch_code]])]),e("div",i5n,[e("label",r5n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.sort_by=r)},[e("option",d5n,n(o.$t("Sort By")),1),e("option",c5n,n(o.$t("Ascending")),1),e("option",u5n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",_5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.filter&&t.filter(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",m5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...r)=>t.refresh&&t.refresh(...r))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",f5n,[Y(e("select",{class:"form-select mx-1","onUpdate:modelValue":a[11]||(a[11]=r=>t.per_page=r),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",h5n,[e("table",p5n,[e("thead",null,[e("tr",v5n,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Limit Utilized")),1),e("th",null,n(o.$t("DPD Days")),1),e("th",null,n(o.$t("RM")),1)])]),e("tbody",g5n,[t.dealers.data?b("",!0):(u(),f("tr",b5n,[e("td",y5n,[e("span",k5n,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",$5n,[e("td",w5n,[e("span",D5n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,C5n)]),e("td",null,n(r.branch_code),1),e("td",x5n,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format("DD MMM YYYY")),1),e("td",P5n,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.utilized_limit)),1),e("td",null,n(r.dpd_days),1),e("td",null,n(r.relationship_managers.length>0?r.relationship_managers[0].name:""),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const A5n=Ue(Gwn,[["render",E5n]]),I5n={name:"DfDealerClassificationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"vf-program-mapping-report"}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})};Qe(()=>{g()}),ot([v],async([T])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:T,anchor:m.value,type:"vf-program-mapping-report",sort_by:l.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})});const D=async()=>{let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{anchor:m.value,vendor:_.value,program:c.value,per_page:v.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},y=async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",c.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"vf-program-mapping-report"}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},C=h(!1),x=h(!1);return{moment:H,dealers:t,anchor_search:m,vendor_search:_,program_search:c,sort_by:l,od_expiry_date_from:r,od_expiry_date_to:i,limit_expiry_date_from:d,limit_expiry_date_to:p,filter:D,refresh:y,per_page:v,changePage:async T=>{await A.get(T,{params:{per_page:v.value,anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data})},downloadReport:()=>{C.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_program_mapping_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{C.value=!1})},downloadPdf:()=>{x.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_program_mapping_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{x.value=!1})},date_format:a,downloadingExcel:C,downloadingPdf:x}}},R5n={class:"card p-2"},S5n={class:"d-flex justify-content-between"},T5n={class:"d-flex flex-wrap gap-1"},j5n={class:""},O5n={for:"Vendor",class:"form-label"},M5n={class:""},L5n={for:"Anchor",class:"form-label"},N5n={class:""},F5n={for:"Program",class:"form-label"},Y5n={class:""},V5n={for:"Invoice Ref",class:"form-label"},B5n={class:""},U5n={for:"Invoice Ref",class:"form-label"},q5n={class:""},H5n={for:"Status",class:"form-label"},z5n={value:""},W5n={value:"ASC"},K5n={value:"DESC"},G5n={class:"table-search-btn"},Q5n={class:"table-clear-btn"},Z5n={class:"d-flex justify-contend-end gap-1 mt-auto"},J5n={class:"table-responsive"},X5n={class:"table"},eDn={class:""},tDn={class:"text-nowrap"},oDn={key:0},aDn={colspan:"12",class:"text-center"},nDn={class:"text-center"},sDn={key:1},lDn={colspan:"12",class:"text-center"},iDn={class:"text-center"},rDn=["href"],dDn=["href"],cDn=["href"],uDn={class:"text-success"},_Dn={class:"text-success"},mDn={class:"text-success"},fDn={class:"text-success"};function hDn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",R5n,[e("div",S5n,[e("div",T5n,[e("div",j5n,[e("label",O5n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.vendor_search]])]),e("div",M5n,[e("label",L5n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",N5n,[e("label",F5n,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program","onUpdate:modelValue":a[4]||(a[4]=r=>t.program_search=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_search]])]),e("div",Y5n,[e("label",V5n,n(o.$t("From"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.limit_expiry_date_from=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.limit_expiry_date_from]])]),e("div",B5n,[e("label",U5n,n(o.$t("To"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.limit_expiry_date_to=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.limit_expiry_date_to]])]),e("div",q5n,[e("label",H5n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",z5n,n(o.$t("Sort By")),1),e("option",W5n,n(o.$t("Ascending")),1),e("option",K5n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",G5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Q5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Z5n,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{width:"5rem",height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",J5n,[e("table",X5n,[e("thead",null,[e("tr",eDn,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Program")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Margin Rate"))+" (%)",1),e("th",null,n(o.$t("Base Rate Consideration")),1)])]),e("tbody",tDn,[t.dealers.data?b("",!0):(u(),f("tr",oDn,[e("td",aDn,[e("span",nDn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",sDn,[e("td",lDn,[e("span",iDn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.buyer_id?r.anchor_id:r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.buyer_name?r.anchor_name:r.company_name),9,rDn)]),e("td",null,[e("a",{href:"../programs/"+r.program_id+"/details",class:"text-primary text-decoration-underline"},n(r.program_name),9,dDn)]),e("td",null,[e("a",{href:"../companies/"+r.buyer_id?r.buyer_id:r.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(r.buyer_name?r.buyer_name:r.anchor_name),9,cDn)]),e("td",null,n(r.payment_account_number),1),e("td",uDn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",_Dn,n(new Intl.NumberFormat().format(r.sanctioned_limit-r.utilized_amount-r.pipeline_amount)),1),e("td",mDn,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",fDn,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",null,n(t.moment(r.expiry_date).format(t.date_format)),1),e("td",null,n(r.total_roi),1),e("td",null,n(r.benchmark_title!=null?r.benchmark_rate+" ("+r.benchmark_rate+"%)":"0%"),1),a[17]||(a[17]=e("td",null,null,-1))]))),128))])])]),t.dealers.meta?(u(),fe(l,{key:0,class:"mx-2",from:t.dealers.meta.from,to:t.dealers.meta.to,links:t.dealers.meta.links,next_page:t.dealers.links.next,prev_page:t.dealers.links.prev,total_items:t.dealers.meta.total,first_page_url:t.dealers.links.first,last_page_url:t.dealers.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const pDn=Ue(I5n,[["render",hDn]]),vDn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"vendors-daily-outstanding-balance-report"}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value,date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},p=h(!1),v=h(!1),g=()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vendors-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Vendor_daily_outstanding_balance_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{p.value=!1})},D=()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vendors-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(C=>{const x=window.URL.createObjectURL(new Blob([C.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`Vendors_daily_outstanding_balance_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})};return Qe(()=>{r()}),{moment:H,date:c,vendor:m,sort_by:_,per_page:l,report_data:t,filter:i,refresh:d,changePage:async C=>{await A.get(C,{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value,sort_by:_.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},downloadReport:g,downloadPdf:D,date_format:a,downloadingExcel:p,downloadingPdf:v}}},gDn={class:"card p-2",id:"companies"},bDn={class:"d-flex justify-content-between"},yDn={class:"d-flex flex-wrap gap-1"},kDn={class:""},$Dn={for:"Vendor",class:"form-label"},wDn={class:""},DDn={for:"Status",class:"form-label"},CDn={value:""},xDn={value:"ASC"},PDn={value:"DESC"},EDn={class:"table-search-btn"},ADn={class:"table-clear-btn"},IDn={class:"d-flex gap-1 justify-content-end mt-auto"},RDn={class:""},SDn={class:""},TDn={class:"table-responsive"},jDn={class:"table"},ODn={class:""},MDn={key:0},LDn={colspan:"12",class:"text-center"},NDn={class:"text-center"},FDn={key:1},YDn={colspan:"12",class:"text-center"},VDn={class:"text-center"},BDn={key:0,class:"d-flex gap-1"},UDn=["href"],qDn={key:1,class:"d-flex gap-1"},HDn=["href"],zDn={class:"text-success"},WDn={class:"text-success"},KDn={class:"text-success"},GDn={class:"text-success"},QDn={class:"text-success"};function ZDn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",gDn,[e("div",bDn,[e("div",yDn,[e("div",kDn,[e("label",$Dn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor=r),placeholder:"Vendor",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",wDn,[e("label",DDn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",CDn,n(o.$t("Sort By")),1),e("option",xDn,n(o.$t("Ascending")),1),e("option",PDn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",EDn,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ADn,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",IDn,[e("div",RDn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",SDn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",TDn,[e("table",jDn,[e("thead",null,[e("tr",ODn,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Outstanding Balance")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Limit Utilized"))+"(%)",1),e("th",null,n(o.$t("Available Limit")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",MDn,[e("td",LDn,[e("span",NDn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",FDn,[e("td",YDn,[e("span",VDn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(t.moment().format(t.date_format)),1),e("td",null,[r.buyer_id?(u(),f("span",BDn,[e("a",{href:"../companies/"+r.buyer_id+"/details"},n(r.buyer_name),9,UDn),e("span",null,"("+n(r.payment_account_number)+")",1)])):(u(),f("span",qDn,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,HDn),e("span",null,"("+n(r.payment_account_number)+")",1)]))]),e("td",zDn,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",WDn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",KDn,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",GDn,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),e("td",QDn,n(new Intl.NumberFormat().format(r.sanctioned_limit-(r.utilized_amount+r.pipeline_amount))),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const JDn=Ue(vDn,[["render",ZDn]]),XDn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(50),C=h(null),x=h(0),E=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:y.value,type:"if-payment-details-report"}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},k=async(S,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(N=>{C.value=N.data,x.value++,bt(()=>{document.getElementById(F).click()})}).catch(N=>{console.log(N)})},w=async()=>{D.value=$("#payment_date_search").val(),D.value&&(v.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"if-payment-details-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},T=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",D.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"if-payment-details-report",per_page:y.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},V=h(!1),B=h(!1),O=()=>{D.value=$("#payment_date_search").val(),D.value&&(v.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),V.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`IF_payment_details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{V.value=!1})},L=()=>{D.value=$("#payment_date_search").val(),D.value&&(v.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),B.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(S=>{const F=window.URL.createObjectURL(new Blob([S.data])),N=document.createElement("a");N.href=F,N.setAttribute("download",`IF_payment_details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(S=>{console.log(S)}).finally(()=>{B.value=!1})};return Qe(()=>{E()}),{moment:H,anchor:c,vendor:m,invoice_number:_,disbursement_date:l,dpd:r,status_search:i,product_search:d,sort_by:p,per_page:y,report_data:t,invoice_details:C,filter:w,refresh:T,changePage:async S=>{D.value=$("#payment_date_search").val(),D.value&&(v.value=H(D.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(D.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(S,{params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})},downloadReport:O,downloadPdf:L,getTaxPercentage:(S,F,N)=>(N/F*100).toFixed(2),resolveStatus:S=>{let F="";switch(S){case"Overdue":F="bg-label-danger";break;case"Created":F="bg-label-secondary";break;case"Pending Approval":F="bg-label-warning";break;case"Pending Maker":F="bg-label-warning";break;case"Pending Checker":F="bg-label-warning";break;case"Submitted":F="bg-label-primary";break;case"Approved":F="bg-label-success";break;case"Disbursed":F="bg-label-success";break;case"Denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},showInvoice:k,date_format:a,downloadingExcel:V,downloadingPdf:B,invoice_details_key:x}}},e3n={class:"card p-2",id:"companies"},t3n={class:"d-flex justify-content-between"},o3n={class:"d-flex flex-wrap gap-1"},a3n={class:""},n3n={for:"Invoice Number",class:"form-label"},s3n={class:""},l3n={for:"Anchor",class:"form-label"},i3n={class:""},r3n={for:"Vendor",class:"form-label"},d3n={class:""},c3n={for:"Payment Date",class:"form-label"},u3n={class:""},_3n={for:"DPD Days",class:"form-label"},m3n={value:""},f3n={value:"0"},h3n={value:"1-5"},p3n={value:"6-10"},v3n={value:"10"},g3n={class:""},b3n={for:"Status",class:"form-label"},y3n={value:""},k3n={value:"disbursed"},$3n={value:"closed"},w3n={class:""},D3n={for:"Product Type",class:"form-label"},C3n={value:""},x3n={value:"Vendor Financing"},P3n={value:"Dealer Financing"},E3n={class:""},A3n={for:"Status",class:"form-label"},I3n={value:""},R3n={value:"ASC"},S3n={value:"DESC"},T3n={class:"table-search-btn"},j3n={class:"table-clear-btn"},O3n={class:"d-flex justify-content-end gap-1 mt-auto"},M3n={class:""},L3n={class:""},N3n={class:"table-responsive"},F3n={class:"table"},Y3n={class:""},V3n={key:0},B3n={colspan:"12",class:"text-center"},U3n={class:"text-center"},q3n={key:1},H3n={colspan:"12",class:"text-center"},z3n={class:"text-center"},W3n=["onClick"],K3n=["href"],G3n=["href"],Q3n=["href"],Z3n={class:"text-success"},J3n={class:"badge bg-label-success m_title"},X3n=["href"],eCn=["id","data-bs-target"],tCn=["id","data-bs-target"],oCn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},aCn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},nCn={class:"modal-content"},sCn={class:"modal-body"},lCn={class:"d-flex justify-content-center"};function iCn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",e3n,[e("div",t3n,[e("div",o3n,[e("div",a3n,[e("label",n3n,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",s3n,[e("label",l3n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",i3n,[e("label",r3n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",d3n,[e("label",c3n,n(o.$t("Payment Date")),1),e("input",{class:"form-control form-search",type:"text",id:"payment_date_search",name:"if-payment-details-report-payment-daterange",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",u3n,[e("label",_3n,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.dpd=d)},[e("option",m3n,n(o.$t("DPD")),1),e("option",f3n,n(o.$t("Less than 0 and 0 Days")),1),e("option",h3n,"1 - 5 "+n(o.$t("Days")),1),e("option",p3n,"6 - 10 "+n(o.$t("Days")),1),e("option",v3n,n(o.$t("More than 10 Days")),1)],512),[[re,t.dpd]])]),e("div",g3n,[e("label",b3n,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",y3n,n(o.$t("Status")),1),e("option",k3n,n(o.$t("Disbursed")),1),e("option",$3n,n(o.$t("Closed")),1)],512),[[re,t.status_search]])]),e("div",w3n,[e("label",D3n,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.product_search=d)},[e("option",C3n,n(o.$t("Product Type")),1),e("option",x3n,n(o.$t("Vendor Financing")),1),e("option",P3n,n(o.$t("Dealer Financing")),1)],512),[[re,t.product_search]])]),e("div",E3n,[e("label",A3n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",I3n,n(o.$t("Sort By")),1),e("option",R3n,n(o.$t("Ascending")),1),e("option",S3n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",T3n,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",j3n,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",O3n,[e("div",M3n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",L3n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",N3n,[e("table",F3n,[e("thead",null,[e("tr",Y3n,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Total Outstanding")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Action")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",V3n,[e("td",B3n,[e("span",U3n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",q3n,[e("td",H3n,[e("span",z3n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,W3n),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,K3n)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,G3n))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,Q3n)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,n(d.days_past_due),1),e("td",Z3n,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,[e("span",J3n,n(d.status),1)]),e("td",null,[e("a",{href:"../reports/"+d.id+"/payment-details",target:"_blank",class:"text-info"},a[18]||(a[18]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,X3n)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,eCn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,tCn),a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",oCn,[e("div",aCn,[e("div",nCn,[e("div",sCn,[e("div",lCn,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rCn=Ue(XDn,[["render",iCn]]),dCn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(50),y=h(null),C=h(0),x=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"vf-fees-and-interest-sharing-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},E=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+I+"/details").then(F=>{y.value=F.data,C.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};ot([D],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:I,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const k=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},w=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:D.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`VF_fees_charges_and_interest_sharing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!1,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`VF_fees_and_interest_sharing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!1})};return Qe(()=>{x()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,sort_by:v,status:p,per_page:D,report_data:t,invoice_details:y,showInvoice:E,filter:k,refresh:w,changePage:async I=>{await A.get(I,{params:{type:"vf-fees-and-interest-sharing-report",per_page:D.value,sort_by:v.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},downloadReport:B,downloadPdf:O,getTaxPercentage:(I,S,F)=>(F/S*100).toFixed(2),resolveStatus:I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},date_format:a,invoice_details_key:C}}},cCn={class:"card p-2",id:"companies"},uCn={class:"d-flex justify-content-between"},_Cn={class:"d-flex flex-wrap gap-1"},mCn={class:""},fCn={for:"Invoice Number",class:"form-label"},hCn={class:""},pCn={for:"Vendor",class:"form-label"},vCn={class:""},gCn={for:"Disbursement Date",class:"form-label"},bCn={class:""},yCn={for:"Status",class:"form-label"},kCn={value:""},$Cn={value:"financed"},wCn={value:"closed"},DCn={class:""},CCn={for:"Status",class:"form-label"},xCn={value:""},PCn={value:"ASC"},ECn={value:"DESC"},ACn={class:"table-search-btn"},ICn={class:"table-clear-btn"},RCn={class:"d-flex gap-1 justify-content-end mt-auto"},SCn={class:""},TCn={class:""},jCn={class:"table-responsive"},OCn={class:"table"},MCn={class:""},LCn={key:0},NCn={colspan:"12",class:"text-center"},FCn={class:"text-center"},YCn={key:1},VCn={colspan:"12",class:"text-center"},BCn={class:"text-center"},UCn=["href"],qCn=["href"],HCn=["onClick"],zCn={class:"text-success"},WCn={class:"text-success"},KCn={class:"text-success"},GCn={class:"text-success"},QCn={class:"text-success"},ZCn={class:"badge bg-label-success m_title"},JCn=["id","data-bs-target"],XCn=["id","data-bs-target"],exn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},txn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},oxn={class:"modal-content"},axn={class:"modal-body"},nxn={class:"d-flex justify-content-center"};function sxn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",cCn,[e("div",uCn,[e("div",_Cn,[e("div",mCn,[e("label",fCn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",hCn,[e("label",pCn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",vCn,[e("label",gCn,n(o.$t("Payment Date")),1),a[9]||(a[9]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-fees-and-interest-sharing-report-payment-daterange",placeholder:"Select Dates"},null,-1))]),e("div",bCn,[e("label",yCn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=d=>t.status=d)},[e("option",kCn,n(o.$t("Status")),1),e("option",$Cn,n(o.$t("Financed")),1),e("option",wCn,n(o.$t("Closed")),1)],512),[[re,t.status]])]),e("div",DCn,[e("label",CCn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=d=>t.sort_by=d)},[e("option",xCn,n(o.$t("Sort By")),1),e("option",PCn,n(o.$t("Ascending")),1),e("option",ECn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",ACn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...d)=>t.filter&&t.filter(...d))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ICn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.refresh&&t.refresh(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",RCn,[e("div",SCn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.per_page=d),style:{height:"fit-content"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",TCn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":o.downloadingExcel,"downloading-pdf":o.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jCn,[e("table",OCn,[e("thead",null,[e("tr",MCn,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Anchor's Discount Share")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Anchor's Fees Share")),1),e("th",null,n(o.$t("Status")),1),a[13]||(a[13]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",LCn,[e("td",NCn,[e("span",FCn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",YCn,[e("td",VCn,[e("span",BCn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,UCn)):(u(),f("a",{key:1,href:"../companies/"+d.company_id+"/details"},n(d.company),9,qCn))]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,HCn),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",zCn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",WCn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",KCn,n(new Intl.NumberFormat().format(d.anchor_discount_bearing_amount)),1),e("td",GCn,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",QCn,n(new Intl.NumberFormat().format(d.anchor_fee_bearing_amount)),1),e("td",null,[e("span",ZCn,n(d.financing_status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,JCn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,XCn),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",exn,[e("div",txn,[e("div",oxn,[e("div",axn,[e("div",nxn,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const lxn=Ue(dCn,[["render",sxn]]),ixn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(50),y=h(null),C=h(0),x=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"vf-income-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},E=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+I+"/details").then(F=>{y.value=F.data,C.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};ot([D],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:I,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const k=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},w=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:D.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`VF_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`VF_income_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!1})};return Qe(()=>{x()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,sort_by:v,per_page:D,report_data:t,invoice_details:y,filter:k,refresh:w,changePage:async I=>{await A.get(I,{params:{type:"vf-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},downloadReport:B,downloadPdf:O,getTaxPercentage:(I,S,F)=>(F/S*100).toFixed(2),resolveStatus:I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},showInvoice:E,date_format:a,downloadingExcel:T,downloadingPdf:V,invoice_details_key:C}}},rxn={class:"card p-2",id:"companies"},dxn={class:"d-flex justify-content-between"},cxn={class:"d-flex flex-wrap gap-1"},uxn={class:""},_xn={for:"Invoice Number",class:"form-label"},mxn={class:""},fxn={for:"Anchor",class:"form-label"},hxn={class:""},pxn={for:"Vendor",class:"form-label"},vxn={class:""},gxn={for:"Disbursement Date",class:"form-label"},bxn={class:""},yxn={for:"Status",class:"form-label"},kxn={value:""},$xn={value:"disbursed"},wxn={value:"past_due"},Dxn={value:"closed"},Cxn={class:""},xxn={for:"Status",class:"form-label"},Pxn={value:""},Exn={value:"ASC"},Axn={value:"DESC"},Ixn={class:"table-search-btn"},Rxn={class:"table-clear-btn"},Sxn={class:"d-flex gap-1 justify-content-end mt-auto"},Txn={class:""},jxn={class:""},Oxn={class:"table-responsive"},Mxn={class:"table"},Lxn={class:""},Nxn={key:0},Fxn={colspan:"12",class:"text-center"},Yxn={class:"text-center"},Vxn={key:1},Bxn={colspan:"12",class:"text-center"},Uxn={class:"text-center"},qxn=["onClick"],Hxn=["href"],zxn=["href"],Wxn=["href"],Kxn={class:"text-success"},Gxn={class:"text-success"},Qxn={class:""},Zxn={class:"text-success"},Jxn={class:"text-success"},Xxn={class:"text-success"},ePn=["id","data-bs-target"],tPn=["id","data-bs-target"],oPn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},aPn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},nPn={class:"modal-content"},sPn={class:"modal-body"},lPn={class:"d-flex justify-content-center"};function iPn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",rxn,[e("div",dxn,[e("div",cxn,[e("div",uxn,[e("label",_xn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",mxn,[e("label",fxn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",hxn,[e("label",pxn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",vxn,[e("label",gxn,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",bxn,[e("label",yxn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.status=d)},[e("option",kxn,n(o.$t("Status")),1),e("option",$xn,n(o.$t("Disbursed")),1),e("option",wxn,n(o.$t("Overdue")),1),e("option",Dxn,n(o.$t("Closed")),1)],512),[[re,t.status]])]),e("div",Cxn,[e("label",xxn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",Pxn,n(o.$t("Sort By")),1),e("option",Exn,n(o.$t("Ascending")),1),e("option",Axn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",Ixn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Rxn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Sxn,[e("div",Txn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",jxn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Oxn,[e("table",Mxn,[e("thead",null,[e("tr",Lxn,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount Rate"))+"(%)",1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal")),1),e("th",null,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Nxn,[e("td",Fxn,[e("span",Yxn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Vxn,[e("td",Bxn,[e("span",Uxn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,qxn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,Hxn)]),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,zxn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,Wxn))]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",Kxn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",Gxn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",Qxn,n(d.discount_rate),1),e("td",Zxn,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",Jxn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",Xxn,n(new Intl.NumberFormat().format(d.overdue_amount)),1),e("td",null,[e("span",{class:rt("badge m_title "+t.resolveStatus(d.approval_stage))},n(d.approval_stage),3)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,ePn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,tPn),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",oPn,[e("div",aPn,[e("div",nPn,[e("div",sPn,[e("div",lPn,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rPn=Ue(ixn,[["render",iPn]]),dPn={name:"FactoringIncomeReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(50),y=h(null),C=h(0),x=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"factoring-income-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},E=async(I,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+I+"/details").then(F=>{y.value=F.data,C.value++,bt(()=>{document.getElementById(S).click()})}).catch(F=>{console.log(F)})};ot([D],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:I,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const k=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},w=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:D.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},T=h(!1),V=h(!1),B=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"factoring-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Factoring_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{T.value=!1})},O=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(I=>{const S=window.URL.createObjectURL(new Blob([I.data])),F=document.createElement("a");F.href=S,F.setAttribute("download",`Factoring_income_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(I=>{console.log(I)}).finally(()=>{V.value=!1})};return Qe(()=>{x()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,from_payment_date_search:r,to_payment_date_search:i,dpd:d,status:p,sort_by:v,per_page:D,report_data:t,invoice_details:y,filter:k,refresh:w,changePage:async I=>{await A.get(I,{params:{type:"vf-income-report",per_page:D.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},downloadReport:B,downloadPdf:O,getTaxPercentage:(I,S,F)=>(F/S*100).toFixed(2),resolveStatus:I=>{let S="";switch(I){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},showInvoice:E,date_format:a,downloadingExcel:T,downloadingPdf:V}}},cPn={class:"card p-2",id:"companies"},uPn={class:"d-flex justify-content-between"},_Pn={class:"d-flex flex-wrap gap-1"},mPn={class:""},fPn={for:"Invoice Number",class:"form-label"},hPn={class:""},pPn={for:"Anchor",class:"form-label"},vPn={class:""},gPn={for:"Vendor",class:"form-label"},bPn={class:""},yPn={for:"Disbursement Date",class:"form-label"},kPn={class:""},$Pn={for:"Status",class:"form-label"},wPn={class:"form-select form-search",id:"exampleFormControlSelect1"},DPn={value:""},CPn={value:"disbursed"},xPn={value:"past_due"},PPn={value:"closed"},EPn={class:""},APn={for:"Status",class:"form-label"},IPn={value:""},RPn={value:"ASC"},SPn={value:"DESC"},TPn={class:"table-search-btn"},jPn={class:"table-clear-btn"},OPn={class:"d-flex justify-content-end gap-1 mt-auto"},MPn={class:""},LPn={class:""},NPn={class:"table-responsive"},FPn={class:"table"},YPn={class:""},VPn={key:0},BPn={colspan:"12",class:"text-center"},UPn={class:"text-center"},qPn={key:1},HPn={colspan:"12",class:"text-center"},zPn={class:"text-center"},WPn=["onClick"],KPn=["href"],GPn=["href"],QPn=["href"],ZPn={class:"text-success"},JPn={class:"text-success"},XPn={class:""},e4n={class:"text-success"},t4n={class:"text-success"},o4n={class:"text-success"},a4n={key:0,class:"badge bg-label-danger m_title"},n4n={key:1,class:"badge bg-label-success m_title"},s4n=["id","data-bs-target"],l4n=["id","data-bs-target"],i4n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},r4n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},d4n={class:"modal-content"},c4n={class:"modal-body"},u4n={class:"d-flex justify-content-center"};function _4n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",cPn,[e("div",uPn,[e("div",_Pn,[e("div",mPn,[e("label",fPn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",hPn,[e("label",pPn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",vPn,[e("label",gPn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",bPn,[e("label",yPn,n(o.$t("Payment Date")),1),a[10]||(a[10]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"factoring-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",kPn,[e("label",$Pn,n(o.$t("Status")),1),e("select",wPn,[e("option",DPn,n(o.$t("Status")),1),e("option",CPn,n(o.$t("Disbursed")),1),e("option",xPn,n(o.$t("Overdue")),1),e("option",PPn,n(o.$t("Closed")),1)])]),e("div",EPn,[e("label",APn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.sort_by=d)},[e("option",IPn,n(o.$t("Sort By")),1),e("option",RPn,n(o.$t("Ascending")),1),e("option",SPn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",TPn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.filter&&t.filter(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",jPn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.refresh&&t.refresh(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",OPn,[e("div",MPn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",LPn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",NPn,[e("table",FPn,[e("thead",null,[e("tr",YPn,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount Rate"))+"(%)",1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal Discount")),1),e("th",null,n(o.$t("Status")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",VPn,[e("td",BPn,[e("span",UPn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",qPn,[e("td",HPn,[e("span",zPn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,WPn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,KPn)]),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,GPn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,QPn))]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",ZPn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",JPn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",XPn,n(d.discount_rate),1),e("td",e4n,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",t4n,n(new Intl.NumberFormat().format(d.discount)),1),e("td",o4n,n(new Intl.NumberFormat().format(d.overdue_amount)),1),e("td",null,[d.financing_status=="financed"&&t.moment().isAfter(d.due_date)?(u(),f("span",a4n,"Overdue")):(u(),f("span",n4n,n(d.financing_status),1))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,s4n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,l4n),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",i4n,[e("div",r4n,[e("div",d4n,[e("div",c4n,[e("div",u4n,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const m4n=Ue(dPn,[["render",_4n]]),f4n={name:"VFPotentialFinancingReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(null),v=h(0),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"vf-potential-financing-report"}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},D=async(O,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+O+"/details").then(R=>{p.value=R.data,v.value++,bt(()=>{document.getElementById(L).click()})}).catch(R=>{console.log(R)})};ot([d],async([O])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:O,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})});const y=async()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},C=async()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:d.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},x=h(!1),E=h(!1),k=()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`VF_potential_financing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{x.value=!1})},w=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(O=>{const L=window.URL.createObjectURL(new Blob([O.data])),R=document.createElement("a");R.href=L,R.setAttribute("download",`VF_potential_financing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(O=>{console.log(O)}).finally(()=>{E.value=!1})};return Qe(()=>{g()}),{moment:H,anchor:c,vendor:m,invoice_number:_,invoice_date:l,due_date:r,sort_by:i,per_page:d,report_data:t,invoice_details:p,showInvoice:D,filter:y,refresh:C,changePage:async O=>{await A.get(O,{params:{type:"vf-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})},downloadReport:k,downloadPdf:w,getTaxPercentage:(O,L,R)=>(R/L*100).toFixed(2),resolveStatus:O=>{let L="";switch(O){case"Overdue":L="bg-label-danger";break;case"Created":L="bg-label-secondary";break;case"Pending Approval":L="bg-label-warning";break;case"Pending Maker":L="bg-label-warning";break;case"Pending Checker":L="bg-label-warning";break;case"Submitted":L="bg-label-primary";break;case"Approved":L="bg-label-success";break;case"Disbursed":L="bg-label-success";break;case"Denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},date_format:a,downloadingExcel:x,downloadingPdf:E,invoice_details_key:v}}},h4n={class:"card p-2",id:"companies"},p4n={class:"d-flex justify-content-between"},v4n={class:"d-flex flex-wrap gap-1"},g4n={class:""},b4n={for:"Invoice Number",class:"form-label"},y4n={class:""},k4n={for:"Anchor",class:"form-label"},$4n={class:""},w4n={for:"Vendor",class:"form-label"},D4n={class:""},C4n={for:"Invoice Date",class:"form-label"},x4n={class:""},P4n={for:"Due Date",class:"form-label"},E4n={class:""},A4n={for:"Status",class:"form-label"},I4n={value:""},R4n={value:"ASC"},S4n={value:"DESC"},T4n={class:"table-search-btn"},j4n={class:"table-clear-btn"},O4n={class:"d-flex justify-content-end gap-1 mt-auto"},M4n={class:""},L4n={class:""},N4n={class:"table-responsive"},F4n={class:"table"},Y4n={class:""},V4n={key:0},B4n={colspan:"12",class:"text-center"},U4n={class:"text-center"},q4n={key:1},H4n={colspan:"12",class:"text-center"},z4n={class:"text-center"},W4n=["onClick"],K4n=["href"],G4n=["href"],Q4n=["href"],Z4n={class:"text-success"},J4n={class:""},X4n={class:""},eEn=["id","data-bs-target"],tEn=["id","data-bs-target"],oEn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},aEn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},nEn={class:"modal-content"},sEn={class:"modal-body"},lEn={class:"d-flex justify-content-center"};function iEn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",h4n,[e("div",p4n,[e("div",v4n,[e("div",g4n,[e("label",b4n,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",y4n,[e("label",k4n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",$4n,[e("label",w4n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",D4n,[e("label",C4n,n(o.$t("Invoice Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.invoice_date=d),onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_date]])]),e("div",x4n,[e("label",P4n,n(o.$t("Due Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=d=>t.due_date=d),onKeyup:a[9]||(a[9]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.due_date]])]),e("div",E4n,[e("label",A4n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",I4n,n(o.$t("Sort By")),1),e("option",R4n,n(o.$t("Ascending")),1),e("option",S4n,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",T4n,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",j4n,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",O4n,[e("div",M4n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",L4n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",N4n,[e("table",F4n,[e("thead",null,[e("tr",Y4n,[e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Net Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",V4n,[e("td",B4n,[e("span",U4n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",q4n,[e("td",H4n,[e("span",z4n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,W4n),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,K4n)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,G4n))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,Q4n)]),e("td",Z4n,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",null,[e("span",J4n,n(t.moment(d.invoice_date).format(t.date_format)),1)]),e("td",null,[e("span",X4n,n(t.moment(d.due_date).format(t.date_format)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,eEn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,tEn),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",oEn,[e("div",aEn,[e("div",nEn,[e("div",sEn,[e("div",lEn,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rEn=Ue(f4n,[["render",iEn]]),dEn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"vf-repayment-details-report"}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})};ot([v],async([T])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:T,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})});const D=async()=>{p.value=$("#transaction_date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:v.value,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},y=async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",r.value="",d.value="",i.value="",$("#transaction_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:v.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},C=h(!1),x=h(!1),E=()=>{C.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_Repayment_details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{C.value=!1})},k=()=>{x.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(T=>{const V=window.URL.createObjectURL(new Blob([T.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_Repayment_details_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(T=>{console.log(T)}).finally(()=>{x.value=!1})};return Qe(()=>{g()}),{moment:H,program_name:m,cbs_id:c,date:_,set_off_type:i,sort_by:d,per_page:v,report_data:t,filter:D,refresh:y,changePage:async T=>{await A.get(T,{params:{type:"vf-repayment-details-report",per_page:v.value,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})},downloadPdf:k,downloadReport:E,date_format:a,downloadingExcel:C,downloadingPdf:x}}},cEn={class:"card p-2",id:"companies"},uEn={class:"d-flex justify-content-between"},_En={class:"d-flex flex-wrap gap-1"},mEn={class:""},fEn={for:"Program",class:"form-label"},hEn={class:""},pEn={for:"CBS ID",class:"form-label"},vEn={class:""},gEn={for:"Date",class:"form-label"},bEn={class:""},yEn={for:"Set Off Type",class:"form-label"},kEn={value:""},$En={value:"Overdue Account"},wEn={value:"Bank Invoice Payment"},DEn={value:"Discount Charge"},CEn={value:"Fees/Charges"},xEn={class:""},PEn={for:"Status",class:"form-label"},EEn={value:""},AEn={value:"ASC"},IEn={value:"DESC"},REn={class:"table-search-btn"},SEn={class:"table-clear-btn"},TEn={class:"d-flex gap-1 justify-content-end mt-auto"},jEn={class:""},OEn={class:""},MEn={class:"table-responsive"},LEn={class:"table"},NEn={class:""},FEn={key:0},YEn={colspan:"12",class:"text-center"},VEn={class:"text-center"},BEn={key:1},UEn={colspan:"12",class:"text-center"},qEn={class:"text-center"},HEn={key:0},zEn={key:1},WEn={key:2},KEn={key:3},GEn={key:0},QEn={key:1},ZEn={key:2},JEn={key:3};function XEn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",cEn,[e("div",uEn,[e("div",_En,[e("div",mEn,[e("label",fEn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.program_name]])]),e("div",hEn,[e("label",pEn,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"CBS ID","onUpdate:modelValue":a[2]||(a[2]=r=>t.cbs_id=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.cbs_id]])]),e("div",vEn,[e("label",gEn,n(o.$t("Date")),1),a[9]||(a[9]=e("input",{type:"text",id:"transaction_date_search",class:"form-control form-search",name:"vf-repayment-details-report-transaction-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",bEn,[e("label",yEn,n(o.$t("Set Off Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=r=>t.set_off_type=r)},[e("option",kEn,n(o.$t("Set off type")),1),e("option",$En,n(o.$t("Penal Interest")),1),e("option",wEn,n(o.$t("Principal")),1),e("option",DEn,n(o.$t("Discount Charge")),1),e("option",CEn,n(o.$t("Fee Charge")),1)],512),[[re,t.set_off_type]])]),e("div",xEn,[e("label",PEn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",EEn,n(o.$t("Sort By")),1),e("option",AEn,n(o.$t("Ascending")),1),e("option",IEn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",REn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",SEn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",TEn,[e("div",jEn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",OEn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",MEn,[e("table",LEn,[e("thead",null,[e("tr",NEn,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("CBS ID")),1),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Total Repayment Amount")),1),e("th",null,n(o.$t("Set off Amount")),1),e("th",null,n(o.$t("Balance Amount")),1),e("th",null,n(o.$t("Set off particulars")),1),e("th",null,n(o.$t("Set off type")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",FEn,[e("td",YEn,[e("span",VEn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",BEn,[e("td",UEn,[e("span",qEn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("span",null,n(t.moment(r.transaction_created_date).format(t.date_format)),1)]),e("td",null,[e("span",null,n(r.cbs_id),1)]),e("td",null,[e("span",null,n(r.payment_request.program_name),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_balance)),1)]),e("td",null,[r.transaction_type==="Overdue Account"?(u(),f("span",HEn,n(o.$t("Penal Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Bank Invoice Payment"||r.transaction_type==="Repayment"?(u(),f("span",zEn,n(o.$t("Principle for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Discount Charge"||r.transaction_type==="Accrual/Posted Interest"?(u(),f("span",WEn,n(o.$t("Discount Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Fees/Charges"?(u(),f("span",KEn,n(o.$t("Fee Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0)]),e("td",null,[r.transaction_type==="Overdue Account"?(u(),f("span",GEn,n(o.$t("Penal Charge")),1)):b("",!0),r.transaction_type==="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",QEn,n(o.$t("Principle")),1)):b("",!0),r.transaction_type==="Discount Charge"||r.transaction_type==="Accrual/Posted Interest"?(u(),f("span",ZEn,n(o.$t("Discount Charge")),1)):b("",!0),r.transaction_type==="Fees/Charges"?(u(),f("span",JEn,n(o.$t("Fee Charge")),1)):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const eAn=Ue(dEn,[["render",XEn]]),tAn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),D=h(""),y=h(50),C=h(""),x=h(""),E=h(null),k=h(0),w=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:y.value,type:"vf-overdue-invoices-report"}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},T=async(N,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(Z=>{E.value=Z.data,k.value++,bt(()=>{document.getElementById(U).click()})}).catch(Z=>{console.log(Z)})};ot([y],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:N,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{C.value=$("#payment_date_search").val(),C.value&&(r.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#due_date_search").val(),x.value&&(d.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},B=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",D.value="",$("#payment_date_search").val(""),$("#due_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:y.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},O=h(!1),L=h(!1),R=()=>{O.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`VF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{O.value=!1})},P=()=>{L.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(N=>{const U=window.URL.createObjectURL(new Blob([N.data])),Z=document.createElement("a");Z.href=U,Z.setAttribute("download",`VF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Z),Z.click()}).catch(N=>{console.log(N)}).finally(()=>{L.value=!1})};return Qe(()=>{w()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:v,status:g,sort_by:D,per_page:y,report_data:t,invoice_details:E,showInvoice:T,filter:V,refresh:B,changePage:async N=>{await A.get(N,{params:{type:"vf-overdue-invoices-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:R,downloadPdf:P,getTaxPercentage:(N,U,Z)=>(Z/U*100).toFixed(2),resolveStatus:N=>{let U="";switch(N){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},date_format:a,downloadingExcel:O,downloadingPdf:L,invoice_details_key:k}}},oAn={class:"card p-2",id:"companies"},aAn={class:"d-flex justify-content-between"},nAn={class:"d-flex flex-wrap gap-1"},sAn={class:""},lAn={for:"Invoice Number",class:"form-label"},iAn={class:""},rAn={for:"Anchor",class:"form-label"},dAn={class:""},cAn={for:"Vendor",class:"form-label"},uAn={class:""},_An={for:"Payment Date",class:"form-label"},mAn={class:""},fAn={for:"Due Date",class:"form-label"},hAn={class:""},pAn={for:"DPD Days",class:"form-label"},vAn={value:""},gAn={value:"1-5"},bAn={value:"6-10"},yAn={value:"10"},kAn={class:""},$An={for:"Status",class:"form-label"},wAn={value:""},DAn={value:"ASC"},CAn={value:"DESC"},xAn={class:"table-search-btn"},PAn={class:"table-clear-btn"},EAn={class:"d-flex gap-1 justify-content-end mt-auto"},AAn={class:""},IAn={class:""},RAn={class:"table-responsive"},SAn={class:"table"},TAn={class:""},jAn={key:0},OAn={colspan:"12",class:"text-center"},MAn={class:"text-center"},LAn={key:1},NAn={colspan:"12",class:"text-center"},FAn={class:"text-center"},YAn=["onClick"],VAn=["href"],BAn=["href"],UAn=["href"],qAn={class:"text-success"},HAn={class:"text-success"},zAn={class:"badge bg-label-success m_title"},WAn=["id","data-bs-target"],KAn=["id","data-bs-target"],GAn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},QAn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},ZAn={class:"modal-content"},JAn={class:"modal-body"},XAn={class:"d-flex justify-content-center"};function e6n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination"),r=de("invoice-details"),i=de("payment-instruction");return u(),f("div",oAn,[e("div",aAn,[e("div",nAn,[e("div",sAn,[e("label",lAn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.invoice_number]])]),e("div",iAn,[e("label",rAn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.anchor]])]),e("div",dAn,[e("label",cAn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[Q,t.vendor]])]),e("div",uAn,[e("label",_An,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-overdue-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",mAn,[e("label",fAn,n(o.$t("Due Date")),1),a[12]||(a[12]=e("input",{type:"text",id:"due_date_search",class:"form-control form-search",name:"vf-overdue-report-due-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",hAn,[e("label",pAn,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.dpd=d)},[e("option",vAn,n(o.$t("DPD")),1),e("option",gAn,"1 - 5 "+n(o.$t("Days")),1),e("option",bAn,"6 - 10 "+n(o.$t("Days")),1),e("option",yAn,"More than 10 "+n(o.$t("Days")),1)],512),[[re,t.dpd]])]),e("div",kAn,[e("label",$An,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",wAn,n(o.$t("Sort By")),1),e("option",DAn,n(o.$t("Ascending")),1),e("option",CAn,n(o.$t("Descending")),1)],512),[[re,t.sort_by]])]),e("div",xAn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",PAn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",EAn,[e("div",AAn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",IAn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",RAn,[e("table",SAn,[e("thead",null,[e("tr",TAn,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Outstanding Amount")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Status")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",jAn,[e("td",OAn,[e("span",MAn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",LAn,[e("td",NAn,[e("span",FAn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,YAn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,VAn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,BAn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,UAn)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",qAn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",HAn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,n(d.days_past_due),1),e("td",null,[e("span",zAn,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,WAn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,KAn),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",GAn,[e("div",QAn,[e("div",ZAn,[e("div",JAn,[e("div",XAn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),fe(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),fe(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const t6n=Ue(tAn,[["render",e6n]]),o6n={name:"VfFundingLimitUtilizationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"vf-funding-limit-utilization-report"}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)})};Qe(()=>{_()}),ot([m],async([D])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:D,company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)})});const l=async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)}).finally(()=>{D.html('<i class="ti ti-search"></i>')})},r=async()=>{let D=$(".ti-refresh").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vf-funding-limit-utilization-report",per_page:m.value}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)}).finally(()=>{D.html('<i class="ti ti-refresh"></i>')})},i=h(!1),d=h(!1);return{moment:H,report_data:s,anchor_search:t,type_search:c,per_page:m,filter:l,refresh:r,changePage:async D=>{await A.get(D,{params:{per_page:m.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data})},downloadReport:()=>{i.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(D=>{const y=window.URL.createObjectURL(new Blob([D.data])),C=document.createElement("a");C.href=y,C.setAttribute("download",`VF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(C),C.click()}).catch(D=>{console.log(D)}).finally(()=>{i.value=!1})},downloadPdf:()=>{d.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-funding-limit-utilization-report",company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(D=>{const y=window.URL.createObjectURL(new Blob([D.data])),C=document.createElement("a");C.href=y,C.setAttribute("download",`VF_funding_limit_utilization_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(C),C.click()}).catch(D=>{console.log(D)}).finally(()=>{d.value=!1})},downloadingExcel:i,downloadingPdf:d}}},a6n={class:"card p-2"},n6n={class:"d-flex justify-content-between"},s6n={class:"d-flex flex-wrap gap-1"},l6n={class:"d-none"},i6n={for:"Organization Name",class:"form-label"},r6n={value:""},d6n={value:"vendor"},c6n={value:"anchor"},u6n={class:""},_6n={for:"Organization Name",class:"form-label"},m6n={class:"table-search-btn"},f6n={class:"table-clear-btn"},h6n={class:"d-flex justify-content-end gap-1 mt-auto",style:{height:"fit-content"}},p6n={class:"table-responsive"},v6n={class:"table"},g6n={class:""},b6n={class:"text-nowrap"},y6n={key:0},k6n={colspan:"12",class:"text-center"},$6n={class:"text-center"},w6n={key:1},D6n={colspan:"12",class:"text-center"},C6n={class:"text-center"},x6n=["href"],P6n={class:"text-success"},E6n={class:"text-success"},A6n={class:"text-success"},I6n={class:"text-success"},R6n={class:"text-success"},S6n=["href"],T6n=["href"];function j6n(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",a6n,[e("div",n6n,[e("div",s6n,[e("div",l6n,[e("label",i6n,n(o.$t("Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[0]||(a[0]=r=>t.type_search=r),id:"",class:"form-control"},[e("option",r6n,n(o.$t("Select Company Type")),1),e("option",d6n,n(o.$t("Vendor")),1),e("option",c6n,n(o.$t("Anchor")),1)],512),[[re,t.type_search]])]),e("div",u6n,[e("label",_6n,n(o.$t("Organization Name")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Organization Name","onUpdate:modelValue":a[1]||(a[1]=r=>t.anchor_search=r),onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.anchor_search]])]),e("div",m6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",f6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",h6n,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[re,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.report_data.meta?(u(),fe(l,{key:0,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",p6n,[e("table",v6n,[e("thead",null,[e("tr",g6n,[e("th",null,n(o.$t("Organization Name")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Current Exposure")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",b6n,[t.report_data.data?b("",!0):(u(),f("tr",y6n,[e("td",k6n,[e("span",$6n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",w6n,[e("td",D6n,[e("span",C6n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.company_name),9,x6n)]),e("td",P6n,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",E6n,n(new Intl.NumberFormat().format(r.available_amount.toFixed(2))),1),e("td",A6n,n(new Intl.NumberFormat().format(r.utilized_amount.toFixed(2))),1),e("td",I6n,n(new Intl.NumberFormat().format(r.pipeline_amount.toFixed(2))),1),e("td",R6n,n(new Intl.NumberFormat().format(r.utilized_percentage.toFixed(2))),1),e("td",null,[r.buyer_id?(u(),f("a",{key:0,href:"../reports/limit-utilization/"+r.program_id+"/"+r.buyer_id},a[9]||(a[9]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,S6n)):(u(),f("a",{key:1,href:"../reports/limit-utilization/"+r.program_id+"/"+r.company_id},a[10]||(a[10]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,T6n))])]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const O6n=Ue(o6n,[["render",j6n]]),M6n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(50),l=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:_.value,type:"bank-gls-report"}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})};ot([_],async([y])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:y,account_name:c.value,account_number:m.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})});const r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:_.value,account_name:c.value,account_number:m.value}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})},i=async()=>{c.value="",m.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:_.value}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})},d=h(!1),p=h(!1),v=()=>{d.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"bank-gls-report",account_name:c.value,account_number:m.value}}).then(y=>{const C=window.URL.createObjectURL(new Blob([y.data])),x=document.createElement("a");x.href=C,x.setAttribute("download",`Bank_GLs_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(x),x.click()}).catch(y=>{console.log(y)}).finally(()=>{d.value=!1})},g=()=>{p.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"bank-gls-report",account_name:c.value,account_number:m.value}}).then(y=>{const C=window.URL.createObjectURL(new Blob([y.data])),x=document.createElement("a");x.href=C,x.setAttribute("download",`Bank_GLs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(x),x.click()}).catch(y=>{console.log(y)}).finally(()=>{p.value=!1})};return Qe(()=>{l()}),{moment:H,account_name:c,account_number:m,per_page:_,report_data:t,filter:r,refresh:i,changePage:async y=>{await A.get(y,{params:{type:"bank-gls-report",per_page:_.value,account_name:c.value,account_number:m.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},downloadReport:v,downloadPdf:g,date_format:a,downloadingExcel:d,downloadingPdf:p}}},L6n={class:"card p-2"},N6n={class:"d-flex justify-content-between"},F6n={class:"d-flex flex-wrap gap-1"},Y6n={class:""},V6n={for:"Account Name",class:"form-label"},B6n={class:""},U6n={for:"Account Number",class:"form-label"},q6n={class:"table-search-btn"},H6n={class:"table-clear-btn"},z6n={class:"d-flex justify-content-end gap-1 mt-auto"},W6n={class:""},K6n={class:""},G6n={class:"table-responsive"},Q6n={class:"table"},Z6n={class:""},J6n={key:0},X6n={colspan:"12",class:"text-center"},eIn={class:"text-center"},tIn={key:1},oIn={colspan:"12",class:"text-center"},aIn={class:"text-center"},nIn={class:""},sIn={class:""},lIn={class:"text-success"},iIn={class:""};function rIn(o,a,s,t,c,m){const _=de("download-buttons"),l=de("pagination");return u(),f("div",L6n,[e("div",N6n,[e("div",F6n,[e("div",Y6n,[e("label",V6n,n(o.$t("Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.account_name=r),placeholder:"Account Name",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.account_name]])]),e("div",B6n,[e("label",U6n,n(o.$t("Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.account_number=r),placeholder:"Account Number",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[Q,t.account_number]])]),e("div",q6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",H6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",z6n,[e("div",W6n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[re,t.per_page]])]),e("div",K6n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),fe(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",G6n,[e("table",Q6n,[e("thead",null,[e("tr",Z6n,[e("th",null,n(o.$t("Account Name")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Balance")),1),e("th",null,n(o.$t("Created At")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",J6n,[e("td",X6n,[e("span",eIn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",tIn,[e("td",oIn,[e("span",aIn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(W,null,X(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",nIn,n(r.account_name),1),e("td",sIn,n(r.account_number),1),e("td",lIn,n(new Intl.NumberFormat().format(r.balance)),1),e("td",iIn,n(t.moment(r.created_at).format(t.date_format)),1)]))),128))])])]),t.report_data.meta?(u(),fe(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const dIn=Ue(M6n,[["render",rIn]]),Ed=Ke({}),Ad=Ke({}),Id=Ke({}),Rd=Ke({}),Sd=Ke({}),Td=Ke({}),jd=Ke({}),Od=Ke({}),Md=Ke({}),Ld=Ke({}),Nd=Ke({}),Fd=Ke({}),Yd=Ke({}),Vd=Ke({}),Bd=Ke({}),Ud=Ke({}),qd=Ke({}),Hd=Ke({}),zd=Ke({}),Wd=Ke({}),Kd=Ke({}),Gd=Ke({}),Qd=Ke({}),Zd=Ke({}),Jd=Ke({}),Xd=Ke({}),ec=Ke({}),tc=Ke({}),oc=Ke({}),ac=Ke({}),nc=Ke({}),sc=Ke({}),lc=Ke({}),ic=Ke({}),rc=Ke({}),dc=Ke({}),cc=Ke({}),uc=Ke({}),It="/";var cIn=document.getElementById("dashboard-cards");cIn&&(Ed.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ed.use(Xe),Ed.provide("baseURL",It),Ed.component("DashboardCards",uRo),Ed.mount("#dashboard-cards"));var uIn=document.getElementById("notifications");uIn&&(Ad.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ad.use(Xe),Ad.provide("baseURL",It),Ad.component("Notifications",qRo),Ad.mount("#notifications"));var _In=document.getElementById("payments");_In&&(uc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),uc.use(Xe),uc.provide("baseURL",It),uc.component("Payments",VTa),uc.mount("#payments"));var mIn=document.getElementById("authorization-groups");mIn&&(ic.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ic.use(Xe),ic.provide("baseURL",It),ic.component("AuthorizationGroups",gla),ic.mount("#authorization-groups"));var fIn=document.getElementById("authorization-matrix");fIn&&(rc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),rc.use(Xe),rc.provide("baseURL",It),rc.component("AuthorizationMatrix",hra),rc.mount("#authorization-matrix"));var hIn=document.getElementById("noa-templates");hIn&&(sc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),sc.use(Xe),sc.provide("baseURL",It),sc.component("NoaTemplates",ZUa),sc.mount("#noa-templates"));var pIn=document.getElementById("terms-and-conditions");pIn&&(lc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lc.use(Xe),lc.provide("baseURL",It),lc.component("TermsAndConditions",SHa),lc.mount("#terms-and-conditions"));var vIn=document.getElementById("fees-master");vIn&&(ac.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ac.use(Xe),ac.provide("baseURL",It),ac.component("FeesMaster",YVa),ac.mount("#fees-master"));var gIn=document.getElementById("branches");gIn&&(oc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),oc.use(Xe),oc.provide("baseURL",It),oc.component("Branches",RFa),oc.mount("#branches"));var bIn=document.getElementById("convertion_rates");bIn&&(nc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nc.use(Xe),nc.provide("baseURL",It),nc.component("ConvertionRates",fBa),nc.mount("#convertion_rates"));var yIn=document.getElementById("bank-users");yIn&&(Xd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xd.use(Xe),Xd.provide("baseURL",It),Xd.component("BankUsers",o9a),Xd.mount("#bank-users"));var kIn=document.getElementById("base_rates");kIn&&(Jd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Jd.use(Xe),Jd.provide("baseURL",It),Jd.component("BaseRates",vOa),Jd.mount("#base_rates"));var $In=document.getElementById("tax_rates");$In&&(ec.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ec.use(Xe),ec.provide("baseURL",It),ec.component("TaxRates",S7a),ec.mount("#tax_rates"));var wIn=document.getElementById("holidays");wIn&&(tc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tc.use(Xe),tc.provide("baseURL",It),tc.component("Holidays",aNa),tc.mount("#holidays"));var DIn=document.getElementById("companies");DIn&&(Id.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Id.use(Xe),Id.provide("baseURL",It),Id.component("CompaniesComponent",psa),Id.mount("#companies"));var CIn=document.getElementById("uploaded-companies");CIn&&(Rd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Rd.use(Xe),Rd.provide("baseURL",It),Rd.component("UploadedCompanies",wca),Rd.mount("#uploaded-companies"));var xIn=document.getElementById("upload-companies");xIn&&(Sd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Sd.use(Xe),Sd.provide("baseURL",It),Sd.component("UploadCompanies",Fca),Sd.mount("#upload-companies"));var PIn=document.getElementById("company-users");PIn&&(Td.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Td.use(Xe),Td.provide("baseURL",It),Td.component("CompanyUsersComponent",Jda),Td.mount("#company-users"));var EIn=document.getElementById("pending-approval");EIn&&(Fd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fd.use(Xe),Fd.provide("baseURL",It),Fd.component("PendingApprovalComponent",C_a),Fd.mount("#pending-approval"));var AIn=document.getElementById("opportunities");AIn&&(Ud.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ud.use(Xe),Ud.provide("baseURL",It),Ud.component("OpportunitiesComponent",gAa),Ud.mount("#opportunities"));var IIn=document.getElementById("payment-requests");IIn&&(Yd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yd.use(Xe),Yd.provide("baseURL",It),Yd.component("PaymentRequests",$D),Yd.mount("#payment-requests"));var RIn=document.getElementById("uploaded-payment-requests");RIn&&(cc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cc.use(Xe),cc.provide("baseURL",It),cc.component("UploadedPaymentRequests",AWa),cc.mount("#uploaded-payment-requests"));var SIn=document.getElementById("payment-reports");SIn&&(Vd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vd.use(Xe),Vd.provide("baseURL",It),Vd.component("PaymentReports",wD),Vd.mount("#payment-reports"));var TIn=document.getElementById("cbs-transactions");TIn&&(Bd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bd.use(Xe),Bd.provide("baseURL",It),Bd.component("CbsTransactions",DD),Bd.mount("#cbs-transactions"));var jIn=document.getElementById("programs");jIn&&(jd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),jd.use(Xe),jd.provide("baseURL",It),jd.component("Programs",i5a),jd.mount("#programs"));var OIn=document.getElementById("pending-programs");OIn&&(Od.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Od.use(Xe),Od.provide("baseURL",It),Od.component("PendingPrograms",rCa),Od.mount("#pending-programs"));var MIn=document.getElementById("manage-vendors");MIn&&(Md.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Md.use(Xe),Md.provide("baseURL",It),Md.component("ManageVendors",OEa),Md.mount("#manage-vendors"));var LIn=document.getElementById("exhausted-programs");LIn&&(Ld.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ld.use(Xe),Ld.provide("baseURL",It),Ld.component("ExhaustedPrograms",M8a),Ld.mount("#exhausted-programs"));var NIn=document.getElementById("expired-programs");NIn&&(Nd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nd.use(Xe),Nd.provide("baseURL",It),Nd.component("ExpiredPrograms",PRa),Nd.mount("#expired-programs"));var FIn=document.getElementById("vendor-financing");FIn&&(qd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qd.use(Xe),qd.provide("baseURL",It),qd.component("VendorFinancing",ozo),qd.mount("#vendor-financing"));var YIn=document.getElementById("factoring-requests");YIn&&(Hd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hd.use(Xe),Hd.provide("baseURL",It),Hd.component("FactoringRequests",oZo),Hd.mount("#factoring-requests"));var VIn=document.getElementById("dealer-financing");VIn&&(zd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zd.use(Xe),zd.provide("baseURL",It),zd.component("DealerFinancing",ooa),zd.mount("#dealer-financing"));var BIn=document.getElementById("dashboard-vendor-financing");BIn&&(Wd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wd.use(Xe),Wd.provide("baseURL",It),Wd.component("DashboardVendorFinancing",NOo),Wd.mount("#dashboard-vendor-financing"));var UIn=document.getElementById("dashboard-factoring-requests");UIn&&(Kd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Kd.use(Xe),Kd.provide("baseURL",It),Kd.component("DashboardFactoringRequests",yLo),Kd.mount("#dashboard-factoring-requests"));var qIn=document.getElementById("dashboard-dealer-financing");qIn&&(Gd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gd.use(Xe),Gd.provide("baseURL",It),Gd.component("DashboardDealerFinancing",oVo),Gd.mount("#dashboard-dealer-financing"));var HIn=document.getElementById("pending-configurations");HIn&&(dc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),dc.use(Xe),dc.provide("baseURL",It),dc.component("PendingConfigurations",eWa),dc.mount("#pending-configurations"));var zIn=document.getElementById("od-accounts");zIn&&(Qd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qd.use(Xe),Qd.provide("baseURL",It),Qd.component("OdAccounts",HIa),Qd.mount("#od-accounts"));var WIn=document.getElementById("activity-logs");WIn&&(Zd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zd.use(Xe),Zd.provide("baseURL",It),Zd.component("ActivityLogs",PSa),Zd.mount("#activity-logs"));const _c=Ke({}),mc=Ke({}),Vi=Ke({}),Bi=Ke({}),Ui=Ke({}),qi=Ke({}),Hi=Ke({}),zi=Ke({}),Wi=Ke({}),fc=Ke({}),hc=Ke({}),pc=Ke({}),vc=Ke({}),gc=Ke({}),bc=Ke({}),yc=Ke({}),kc=Ke({}),$c=Ke({}),Ki=Ke({}),Gi=Ke({}),Qi=Ke({}),Zi=Ke({}),Ji=Ke({}),Xi=Ke({}),er=Ke({}),tr=Ke({}),or=Ke({}),ar=Ke({}),nr=Ke({}),gf=Ke({}),wc=Ke({}),Dc=Ke({}),sr=Ke({}),lr=Ke({}),ir=Ke({}),rr=Ke({}),dr=Ke({}),cr=Ke({}),ur=Ke({}),_r=Ke({}),mr=Ke({}),fr=Ke({}),hr=Ke({}),pr=Ke({}),vr=Ke({}),Cc=Ke({}),xc=Ke({}),gr=Ke({});var KIn=document.getElementById("df-funding-limit-utilization-report");KIn&&(Dc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Dc.use(Xe),Dc.provide("baseURL",It),Dc.component("DfFundingLimitUtilizationReport",b2n),Dc.mount("#df-funding-limit-utilization-report"));var GIn=document.getElementById("vf-funding-limit-utilization-report");GIn&&(xc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xc.use(Xe),xc.provide("baseURL",It),xc.component("VfFundingLimitUtilizationReport",O6n),xc.mount("#vf-funding-limit-utilization-report"));var QIn=document.getElementById("df-overdue-invoices-report");QIn&&(gf.use(Xe),gf.provide("baseURL",It),gf.component("DfOverdueInvoicesReport",g0n),gf.mount("#df-overdue-invoices-report"));var ZIn=document.getElementById("vf-overdue-invoices-report");ZIn&&(Cc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cc.use(Xe),Cc.provide("baseURL",It),Cc.component("VfOverdueInvoicesReport",t6n),Cc.mount("#vf-overdue-invoices-report"));var JIn=document.getElementById("distributor-limit-utilization-report");JIn&&(wc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),wc.use(Xe),wc.provide("baseURL",It),wc.component("DistributorLimitUtilizationReport",F0n),wc.mount("#distributor-limit-utilization-report"));var XIn=document.getElementById("if-payment-details-report");XIn&&(bc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),bc.use(Xe),bc.provide("baseURL",It),bc.component("IfPaymentDetailsReport",rCn),bc.mount("#if-payment-details-report"));var e8n=document.getElementById("users-and-roles-report");e8n&&(kc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),kc.use(Xe),kc.provide("baseURL",It),kc.component("UsersAndRolesReport",Ocn),kc.mount("#users-and-roles-report"));var t8n=document.getElementById("reconciliation-report");t8n&&(yc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),yc.use(Xe),yc.provide("baseURL",It),yc.component("ReconciliationReport",Hdn),yc.mount("#reconciliation-report"));var o8n=document.getElementById("cron-logs");o8n&&(mc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mc.use(Xe),mc.provide("baseURL",It),mc.component("CronLogs",fun),mc.mount("#cron-logs"));var a8n=document.getElementById("pf-report");a8n&&(vc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vc.use(Xe),vc.provide("baseURL",It),vc.component("PfReport",Adn),vc.mount("#pf-report"));var n8n=document.getElementById("pf-and-cc-report");n8n&&(gc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gc.use(Xe),gc.provide("baseURL",It),gc.component("PfAndCcReport",Ldn),gc.mount("#pf-and-cc-report"));var s8n=document.getElementById("maturing-payments-report");s8n&&(hc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hc.use(Xe),hc.provide("baseURL",It),hc.component("MaturingPaymentsReport",krn),hc.mount("#maturing-payments-report"));var l8n=document.getElementById("maturity-extended-report");l8n&&(pc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pc.use(Xe),pc.provide("baseURL",It),pc.component("MaturityExtendedReport",gdn),pc.mount("#maturity-extended-report"));var i8n=document.getElementById("final-rtr-report");i8n&&(fc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fc.use(Xe),fc.provide("baseURL",It),fc.component("FinalRtrReport",ain),fc.mount("#final-rtr-report"));var r8n=document.getElementById("all-payments-report");r8n&&(_c.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_c.use(Xe),_c.provide("baseURL",It),_c.component("AllPaymentsReport",jKa),_c.mount("#all-payments-report"));var d8n=document.getElementById("inactive-users-report");d8n&&(Vi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vi.use(Xe),Vi.provide("baseURL",It),Vi.provide("axios",A),Vi.component("InactiveUsersReport",fGa),Vi.mount("#inactive-users-report"));var c8n=document.getElementById("payments-report");c8n&&(Bi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bi.use(Xe),Bi.provide("baseURL",It),Bi.provide("axios",A),Bi.component("PaymentsReport",uZa),Bi.mount("#payments-report"));var u8n=document.getElementById("payments-pending-approval-report");u8n&&(Hi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hi.use(Xe),Hi.provide("baseURL",It),Hi.provide("axios",A),Hi.component("PaymentsPendingApprovalReport",Dan),Hi.mount("#payments-pending-approval-report"));var _8n=document.getElementById("payments-pending-disbursal-report");_8n&&(zi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zi.use(Xe),zi.provide("baseURL",It),zi.provide("axios",A),zi.component("PaymentsPendingDisbursalReport",Hnn),zi.mount("#payments-pending-disbursal-report"));var m8n=document.getElementById("user-maintenance-history-report");m8n&&(Wi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wi.use(Xe),Wi.provide("baseURL",It),Wi.provide("axios",A),Wi.component("UserMaintenanceHistoryReport",xsn),Wi.mount("#user-maintenance-history-report"));var f8n=document.getElementById("drawdown-details-report");f8n&&(Ui.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ui.use(Xe),Ui.provide("baseURL",It),Ui.provide("axios",A),Ui.component("DrawdownDetailsReport",SXa),Ui.mount("#drawdown-details-report"));var h8n=document.getElementById("dealer-financing-programs-report");h8n&&(Ki.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ki.use(Xe),Ki.provide("baseURL",It),Ki.provide("axios",A),Ki.component("DealerFinancingProgramsReport",Xmn),Ki.mount("#dealer-financing-programs-report"));var p8n=document.getElementById("rejected-payments-report");p8n&&(qi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qi.use(Xe),qi.provide("baseURL",It),qi.provide("axios",A),qi.component("RejectedPaymentsReport",von),qi.mount("#rejected-payments-report"));var v8n=document.getElementById("df-anchorwise-dealer-report");v8n&&(Gi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gi.use(Xe),Gi.provide("baseURL",It),Gi.provide("axios",A),Gi.component("DfAnchorwiseDealerReport",Nfn),Gi.mount("#df-anchorwise-dealer-report"));var g8n=document.getElementById("df-monthly-utilization-and-outstanding-report");g8n&&(or.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),or.use(Xe),or.provide("baseURL",It),or.provide("axios",A),or.component("DfMonthlyUtilizationAndOutstandingReport",M1n),or.mount("#df-monthly-utilization-and-outstanding-report"));var b8n=document.getElementById("df-potential-financing-report");b8n&&(nr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nr.use(Xe),nr.provide("baseURL",It),nr.provide("axios",A),nr.component("DfPotentialFinancingReport",vyn),nr.mount("#df-potential-financing-report"));var y8n=document.getElementById("df-overdue-report");y8n&&(ar.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ar.use(Xe),ar.provide("baseURL",It),ar.provide("axios",A),ar.component("DfOverdueReport",$bn),ar.mount("#df-overdue-report"));var k8n=document.getElementById("df-income-report");k8n&&(tr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tr.use(Xe),tr.provide("baseURL",It),tr.provide("axios",A),tr.component("DfIncomeReport",Xgn),tr.mount("#df-income-report"));var $8n=document.getElementById("df-od-ledger-report");$8n&&(Xi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xi.use(Xe),Xi.provide("baseURL",It),Xi.provide("axios",A),Xi.component("DfOdLedgerReport",evn),Xi.mount("#df-od-ledger-report"));var w8n=document.getElementById("df-fees-and-interest-sharing-report");w8n&&(er.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),er.use(Xe),er.provide("baseURL",It),er.provide("axios",A),er.component("DfFeesAndInterestSharingReport",Zvn),er.mount("#df-fees-and-interest-sharing-report"));var D8n=document.getElementById("df-cash-collateral-report");D8n&&(Qi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qi.use(Xe),Qi.provide("baseURL",It),Qi.provide("axios",A),Qi.component("DfCashCollateralReport",Qfn),Qi.mount("#df-cash-collateral-report"));var C8n=document.getElementById("df-dealer-classification-report");C8n&&(Zi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zi.use(Xe),Zi.provide("baseURL",It),Zi.provide("axios",A),Zi.component("DfDealerClassificationReport",xhn),Zi.mount("#df-dealer-classification-report"));var x8n=document.getElementById("df-program-mapping-report");x8n&&(Ji.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ji.use(Xe),Ji.provide("baseURL",It),Ji.provide("axios",A),Ji.component("DfProgramMappingReport",fpn),Ji.mount("#df-program-mapping-report"));var P8n=document.getElementById("df-collection-report");P8n&&(sr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),sr.use(Xe),sr.provide("baseURL",It),sr.provide("axios",A),sr.component("DfCollectionReport",tkn),sr.mount("#df-collection-report"));var E8n=document.getElementById("df-repayment-details-report");E8n&&(lr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lr.use(Xe),lr.provide("baseURL",It),lr.provide("axios",A),lr.component("DfRepaymentDetailsReport",qkn),lr.mount("#df-repayment-details-report"));var A8n=document.getElementById("vendor-financing-programs-report");A8n&&(rr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),rr.use(Xe),rr.provide("baseURL",It),rr.provide("axios",A),rr.component("VendorFinancingProgramsReport",hwn),rr.mount("#vendor-financing-programs-report"));var I8n=document.getElementById("vf-anchorwise-vendor-report");I8n&&(dr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),dr.use(Xe),dr.provide("baseURL",It),dr.provide("axios",A),dr.component("VfAnchorwiseVendorReport",Kwn),dr.mount("#vf-anchorwise-vendor-report"));var R8n=document.getElementById("vf-vendor-classification-report");R8n&&(cr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cr.use(Xe),cr.provide("baseURL",It),cr.provide("axios",A),cr.component("VfVendorClassificationReport",A5n),cr.mount("#vf-vendor-classification-report"));var S8n=document.getElementById("vf-program-mapping-report");S8n&&(ur.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ur.use(Xe),ur.provide("baseURL",It),ur.provide("axios",A),ur.component("VfProgramMappingReport",pDn),ur.mount("#vf-program-mapping-report"));var T8n=document.getElementById("vendor-daily-outstanding-balance");T8n&&(_r.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_r.use(Xe),_r.provide("baseURL",It),_r.provide("axios",A),_r.component("VendorDailyOutstandingBalance",JDn),_r.mount("#vendor-daily-outstanding-balance"));var j8n=document.getElementById("dealers-daily-outstanding-balance");j8n&&(ir.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ir.use(Xe),ir.provide("baseURL",It),ir.provide("axios",A),ir.component("DealersDailyOutstandingBalance",w$n),ir.mount("#dealers-daily-outstanding-balance"));var O8n=document.getElementById("vf-fees-and-interest-sharing-report");O8n&&(mr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mr.use(Xe),mr.provide("baseURL",It),mr.provide("axios",A),mr.component("VfFeesAndInterestSharingReport",lxn),mr.mount("#vf-fees-and-interest-sharing-report"));var M8n=document.getElementById("vf-income-report");M8n&&(fr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fr.use(Xe),fr.provide("baseURL",It),fr.provide("axios",A),fr.component("VfIncomeReport",rPn),fr.mount("#vf-income-report"));var L8n=document.getElementById("factoring-income-report");L8n&&(hr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hr.use(Xe),hr.provide("baseURL",It),hr.provide("axios",A),hr.component("FactoringIncomeReport",m4n),hr.mount("#factoring-income-report"));var N8n=document.getElementById("vf-potential-financing-report");N8n&&(pr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pr.use(Xe),pr.provide("baseURL",It),pr.provide("axios",A),pr.component("VfPotentialFinancingReport",rEn),pr.mount("#vf-potential-financing-report"));var F8n=document.getElementById("vf-repayment-details-report");F8n&&(vr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vr.use(Xe),vr.provide("baseURL",It),vr.provide("axios",A),vr.component("VfRepaymentDetailsReport",eAn),vr.mount("#vf-repayment-details-report"));var Y8n=document.getElementById("vendors-report");Y8n&&($c.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$c.use(Xe),$c.provide("baseURL",It),$c.component("VendorsReport",_mn),$c.mount("#vendors-report"));var V8n=document.getElementById("bank-gls-report");V8n&&(gr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gr.use(Xe),gr.provide("baseURL",It),gr.provide("axios",A),gr.component("BankGlsReport",dIn),gr.mount("#bank-gls-report"))});export default B8n();
