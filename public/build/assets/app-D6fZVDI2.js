function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var rC=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);import"https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js";var oSn=rC((lSn,jf)=>{const dC="modulepreload",cC=function(o){return"/build/"+o},db={},M=function(a,s,t){let c=Promise.resolve();if(s&&s.length>0){const m=document.getElementsByTagName("link");c=Promise.all(s.map(_=>{if(_=cC(_),_ in db)return;db[_]=!0;const l=_.endsWith(".css"),r=l?'[rel="stylesheet"]':"";if(!!t)for(let p=m.length-1;p>=0;p--){const v=m[p];if(v.href===_&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${r}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":dC,l||(d.as="script",d.crossOrigin=""),d.href=_,document.head.appendChild(d),l)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${_}`)))})}))}return c.then(()=>a()).catch(m=>{const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=m,window.dispatchEvent(_),!_.defaultPrevented)throw m})};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pn(o){const a=Object.create(null);for(const s of o.split(","))a[s]=1;return s=>s in a}const po={},Sr=[],wa=()=>{},Pc=()=>!1,ui=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&(o.charCodeAt(2)>122||o.charCodeAt(2)<97),_g=o=>o.startsWith("onUpdate:"),vo=Object.assign,mg=(o,a)=>{const s=o.indexOf(a);s>-1&&o.splice(s,1)},uC=Object.prototype.hasOwnProperty,Io=(o,a)=>uC.call(o,a),Lt=Array.isArray,Tr=o=>Xr(o)==="[object Map]",_i=o=>Xr(o)==="[object Set]",cb=o=>Xr(o)==="[object Date]",_C=o=>Xr(o)==="[object RegExp]",Xt=o=>typeof o=="function",ao=o=>typeof o=="string",on=o=>typeof o=="symbol",So=o=>o!==null&&typeof o=="object",fg=o=>(So(o)||Xt(o))&&Xt(o.then)&&Xt(o.catch),z0=Object.prototype.toString,Xr=o=>z0.call(o),mC=o=>Xr(o).slice(8,-1),bh=o=>Xr(o)==="[object Object]",hg=o=>ao(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,kl=pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fC=pn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),yh=o=>{const a=Object.create(null);return s=>a[s]||(a[s]=o(s))},hC=/-(\w)/g,Uo=yh(o=>o.replace(hC,(a,s)=>s?s.toUpperCase():"")),pC=/\B([A-Z])/g,Xa=yh(o=>o.replace(pC,"-$1").toLowerCase()),mi=yh(o=>o.charAt(0).toUpperCase()+o.slice(1)),jr=yh(o=>o?`on${mi(o)}`:""),Ua=(o,a)=>!Object.is(o,a),Or=(o,...a)=>{for(let s=0;s<o.length;s++)o[s](...a)},W0=(o,a,s,t=!1)=>{Object.defineProperty(o,a,{configurable:!0,enumerable:!1,writable:t,value:s})},Of=o=>{const a=parseFloat(o);return isNaN(a)?o:a},Mf=o=>{const a=ao(o)?Number(o):NaN;return isNaN(a)?o:a};let ub;const kh=()=>ub||(ub=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vC(o,a){return o+JSON.stringify(a,(s,t)=>typeof t=="function"?t.toString():t)}const gC="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",bC=pn(gC);function Rl(o){if(Lt(o)){const a={};for(let s=0;s<o.length;s++){const t=o[s],c=ao(t)?K0(t):Rl(t);if(c)for(const m in c)a[m]=c[m]}return a}else if(ao(o)||So(o))return o}const yC=/;(?![^(]*\))/g,kC=/:([^]+)/,$C=/\/\*[^]*?\*\//g;function K0(o){const a={};return o.replace($C,"").split(yC).forEach(s=>{if(s){const t=s.split(kC);t.length>1&&(a[t[0].trim()]=t[1].trim())}}),a}function rt(o){let a="";if(ao(o))a=o;else if(Lt(o))for(let s=0;s<o.length;s++){const t=rt(o[s]);t&&(a+=t+" ")}else if(So(o))for(const s in o)o[s]&&(a+=s+" ");return a.trim()}function G0(o){if(!o)return null;let{class:a,style:s}=o;return a&&!ao(a)&&(o.class=rt(a)),s&&(o.style=Rl(s)),o}const wC="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",DC="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",xC="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",CC="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",PC=pn(wC),EC=pn(DC),AC=pn(xC),IC=pn(CC),RC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SC=pn(RC);function Q0(o){return!!o||o===""}function TC(o,a){if(o.length!==a.length)return!1;let s=!0;for(let t=0;s&&t<o.length;t++)s=El(o[t],a[t]);return s}function El(o,a){if(o===a)return!0;let s=cb(o),t=cb(a);if(s||t)return s&&t?o.getTime()===a.getTime():!1;if(s=on(o),t=on(a),s||t)return o===a;if(s=Lt(o),t=Lt(a),s||t)return s&&t?TC(o,a):!1;if(s=So(o),t=So(a),s||t){if(!s||!t)return!1;const c=Object.keys(o).length,m=Object.keys(a).length;if(c!==m)return!1;for(const _ in o){const l=o.hasOwnProperty(_),r=a.hasOwnProperty(_);if(l&&!r||!l&&r||!El(o[_],a[_]))return!1}}return String(o)===String(a)}function $h(o,a){return o.findIndex(s=>El(s,a))}const Z0=o=>!!(o&&o.__v_isRef===!0),n=o=>ao(o)?o:o==null?"":Lt(o)||So(o)&&(o.toString===z0||!Xt(o.toString))?Z0(o)?n(o.value):JSON.stringify(o,J0,2):String(o),J0=(o,a)=>Z0(a)?J0(o,a.value):Tr(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((s,[t,c],m)=>(s[wp(t,m)+" =>"]=c,s),{})}:_i(a)?{[`Set(${a.size})`]:[...a.values()].map(s=>wp(s))}:on(a)?wp(a):So(a)&&!Lt(a)&&!bh(a)?String(a):a,wp=(o,a="")=>{var s;return on(o)?`Symbol(${(s=o.description)!=null?s:a})`:o};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ba;class pg{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ba,!a&&Ba&&(this.index=(Ba.scopes||(Ba.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let a,s;if(this.scopes)for(a=0,s=this.scopes.length;a<s;a++)this.scopes[a].pause();for(a=0,s=this.effects.length;a<s;a++)this.effects[a].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let a,s;if(this.scopes)for(a=0,s=this.scopes.length;a<s;a++)this.scopes[a].resume();for(a=0,s=this.effects.length;a<s;a++)this.effects[a].resume()}}run(a){if(this._active){const s=Ba;try{return Ba=this,a()}finally{Ba=s}}}on(){Ba=this}off(){Ba=this.parent}stop(a){if(this._active){this._active=!1;let s,t;for(s=0,t=this.effects.length;s<t;s++)this.effects[s].stop();for(this.effects.length=0,s=0,t=this.cleanups.length;s<t;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,t=this.scopes.length;s<t;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!a){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function jC(o){return new pg(o)}function X0(){return Ba}function OC(o,a=!1){Ba&&Ba.cleanups.push(o)}let No;const Dp=new WeakSet;class U_{constructor(a){this.fn=a,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ba&&Ba.active&&Ba.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dp.has(this)&&(Dp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||t2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_b(this),o2(this);const a=No,s=Xn;No=this,Xn=!0;try{return this.fn()}finally{a2(this),No=a,Xn=s,this.flags&=-3}}stop(){if(this.flags&1){for(let a=this.deps;a;a=a.nextDep)bg(a);this.deps=this.depsTail=void 0,_b(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kv(this)&&this.run()}get dirty(){return kv(this)}}let e2=0,I_,R_;function t2(o,a=!1){if(o.flags|=8,a){o.next=R_,R_=o;return}o.next=I_,I_=o}function vg(){e2++}function gg(){if(--e2>0)return;if(R_){let a=R_;for(R_=void 0;a;){const s=a.next;a.next=void 0,a.flags&=-9,a=s}}let o;for(;I_;){let a=I_;for(I_=void 0;a;){const s=a.next;if(a.next=void 0,a.flags&=-9,a.flags&1)try{a.trigger()}catch(t){o||(o=t)}a=s}}if(o)throw o}function o2(o){for(let a=o.deps;a;a=a.nextDep)a.version=-1,a.prevActiveLink=a.dep.activeLink,a.dep.activeLink=a}function a2(o){let a,s=o.depsTail,t=s;for(;t;){const c=t.prevDep;t.version===-1?(t===s&&(s=c),bg(t),MC(t)):a=t,t.dep.activeLink=t.prevActiveLink,t.prevActiveLink=void 0,t=c}o.deps=a,o.depsTail=s}function kv(o){for(let a=o.deps;a;a=a.nextDep)if(a.dep.version!==a.version||a.dep.computed&&(n2(a.dep.computed)||a.dep.version!==a.version))return!0;return!!o._dirty}function n2(o){if(o.flags&4&&!(o.flags&16)||(o.flags&=-17,o.globalVersion===q_))return;o.globalVersion=q_;const a=o.dep;if(o.flags|=2,a.version>0&&!o.isSSR&&o.deps&&!kv(o)){o.flags&=-3;return}const s=No,t=Xn;No=o,Xn=!0;try{o2(o);const c=o.fn(o._value);(a.version===0||Ua(c,o._value))&&(o._value=c,a.version++)}catch(c){throw a.version++,c}finally{No=s,Xn=t,a2(o),o.flags&=-3}}function bg(o,a=!1){const{dep:s,prevSub:t,nextSub:c}=o;if(t&&(t.nextSub=c,o.prevSub=void 0),c&&(c.prevSub=t,o.nextSub=void 0),s.subs===o&&(s.subs=t,!t&&s.computed)){s.computed.flags&=-5;for(let m=s.computed.deps;m;m=m.nextDep)bg(m,!0)}!a&&!--s.sc&&s.map&&s.map.delete(s.key)}function MC(o){const{prevDep:a,nextDep:s}=o;a&&(a.nextDep=s,o.prevDep=void 0),s&&(s.prevDep=a,o.nextDep=void 0)}function LC(o,a){o.effect instanceof U_&&(o=o.effect.fn);const s=new U_(o);a&&vo(s,a);try{s.run()}catch(c){throw s.stop(),c}const t=s.run.bind(s);return t.effect=s,t}function NC(o){o.effect.stop()}let Xn=!0;const s2=[];function Sl(){s2.push(Xn),Xn=!1}function Tl(){const o=s2.pop();Xn=o===void 0?!0:o}function _b(o){const{cleanup:a}=o;if(o.cleanup=void 0,a){const s=No;No=void 0;try{a()}finally{No=s}}}let q_=0;class FC{constructor(a,s){this.sub=a,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wh{constructor(a){this.computed=a,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(a){if(!No||!Xn||No===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==No)s=this.activeLink=new FC(No,this),No.deps?(s.prevDep=No.depsTail,No.depsTail.nextDep=s,No.depsTail=s):No.deps=No.depsTail=s,l2(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const t=s.nextDep;t.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=t),s.prevDep=No.depsTail,s.nextDep=void 0,No.depsTail.nextDep=s,No.depsTail=s,No.deps===s&&(No.deps=t)}return s}trigger(a){this.version++,q_++,this.notify(a)}notify(a){vg();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{gg()}}}function l2(o){if(o.dep.sc++,o.sub.flags&4){const a=o.dep.computed;if(a&&!o.dep.subs){a.flags|=20;for(let t=a.deps;t;t=t.nextDep)l2(t)}const s=o.dep.subs;s!==o&&(o.prevSub=s,s&&(s.nextSub=o)),o.dep.subs=o}}const Lf=new WeakMap,oi=Symbol(""),$v=Symbol(""),H_=Symbol("");function Ia(o,a,s){if(Xn&&No){let t=Lf.get(o);t||Lf.set(o,t=new Map);let c=t.get(s);c||(t.set(s,c=new wh),c.map=t,c.key=s),c.track()}}function Fs(o,a,s,t,c,m){const _=Lf.get(o);if(!_){q_++;return}const l=r=>{r&&r.trigger()};if(vg(),a==="clear")_.forEach(l);else{const r=Lt(o),i=r&&hg(s);if(r&&s==="length"){const d=Number(t);_.forEach((p,v)=>{(v==="length"||v===H_||!on(v)&&v>=d)&&l(p)})}else switch((s!==void 0||_.has(void 0))&&l(_.get(s)),i&&l(_.get(H_)),a){case"add":r?i&&l(_.get("length")):(l(_.get(oi)),Tr(o)&&l(_.get($v)));break;case"delete":r||(l(_.get(oi)),Tr(o)&&l(_.get($v)));break;case"set":Tr(o)&&l(_.get(oi));break}}gg()}function YC(o,a){const s=Lf.get(o);return s&&s.get(a)}function ji(o){const a=bo(o);return a===o?a:(Ia(a,"iterate",H_),hn(o)?a:a.map(Ra))}function Dh(o){return Ia(o=bo(o),"iterate",H_),o}const VC={__proto__:null,[Symbol.iterator](){return xp(this,Symbol.iterator,Ra)},concat(...o){return ji(this).concat(...o.map(a=>Lt(a)?ji(a):a))},entries(){return xp(this,"entries",o=>(o[1]=Ra(o[1]),o))},every(o,a){return Rs(this,"every",o,a,void 0,arguments)},filter(o,a){return Rs(this,"filter",o,a,s=>s.map(Ra),arguments)},find(o,a){return Rs(this,"find",o,a,Ra,arguments)},findIndex(o,a){return Rs(this,"findIndex",o,a,void 0,arguments)},findLast(o,a){return Rs(this,"findLast",o,a,Ra,arguments)},findLastIndex(o,a){return Rs(this,"findLastIndex",o,a,void 0,arguments)},forEach(o,a){return Rs(this,"forEach",o,a,void 0,arguments)},includes(...o){return Cp(this,"includes",o)},indexOf(...o){return Cp(this,"indexOf",o)},join(o){return ji(this).join(o)},lastIndexOf(...o){return Cp(this,"lastIndexOf",o)},map(o,a){return Rs(this,"map",o,a,void 0,arguments)},pop(){return yd(this,"pop")},push(...o){return yd(this,"push",o)},reduce(o,...a){return mb(this,"reduce",o,a)},reduceRight(o,...a){return mb(this,"reduceRight",o,a)},shift(){return yd(this,"shift")},some(o,a){return Rs(this,"some",o,a,void 0,arguments)},splice(...o){return yd(this,"splice",o)},toReversed(){return ji(this).toReversed()},toSorted(o){return ji(this).toSorted(o)},toSpliced(...o){return ji(this).toSpliced(...o)},unshift(...o){return yd(this,"unshift",o)},values(){return xp(this,"values",Ra)}};function xp(o,a,s){const t=Dh(o),c=t[a]();return t!==o&&!hn(o)&&(c._next=c.next,c.next=()=>{const m=c._next();return m.value&&(m.value=s(m.value)),m}),c}const BC=Array.prototype;function Rs(o,a,s,t,c,m){const _=Dh(o),l=_!==o&&!hn(o),r=_[a];if(r!==BC[a]){const p=r.apply(o,m);return l?Ra(p):p}let i=s;_!==o&&(l?i=function(p,v){return s.call(this,Ra(p),v,o)}:s.length>2&&(i=function(p,v){return s.call(this,p,v,o)}));const d=r.call(_,i,t);return l&&c?c(d):d}function mb(o,a,s,t){const c=Dh(o);let m=s;return c!==o&&(hn(o)?s.length>3&&(m=function(_,l,r){return s.call(this,_,l,r,o)}):m=function(_,l,r){return s.call(this,_,Ra(l),r,o)}),c[a](m,...t)}function Cp(o,a,s){const t=bo(o);Ia(t,"iterate",H_);const c=t[a](...s);return(c===-1||c===!1)&&Eh(s[0])?(s[0]=bo(s[0]),t[a](...s)):c}function yd(o,a,s=[]){Sl(),vg();const t=bo(o)[a].apply(o,s);return gg(),Tl(),t}const UC=pn("__proto__,__v_isRef,__isVue"),i2=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(on));function qC(o){on(o)||(o=String(o));const a=bo(this);return Ia(a,"has",o),a.hasOwnProperty(o)}class r2{constructor(a=!1,s=!1){this._isReadonly=a,this._isShallow=s}get(a,s,t){if(s==="__v_skip")return a.__v_skip;const c=this._isReadonly,m=this._isShallow;if(s==="__v_isReactive")return!c;if(s==="__v_isReadonly")return c;if(s==="__v_isShallow")return m;if(s==="__v_raw")return t===(c?m?f2:m2:m?_2:u2).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(t)?a:void 0;const _=Lt(a);if(!c){let r;if(_&&(r=VC[s]))return r;if(s==="hasOwnProperty")return qC}const l=Reflect.get(a,s,_a(a)?a:t);return(on(s)?i2.has(s):UC(s))||(c||Ia(a,"get",s),m)?l:_a(l)?_&&hg(s)?l:l.value:So(l)?c?Ch(l):Rn(l):l}}class d2 extends r2{constructor(a=!1){super(!1,a)}set(a,s,t,c){let m=a[s];if(!this._isShallow){const r=Al(m);if(!hn(t)&&!Al(t)&&(m=bo(m),t=bo(t)),!Lt(a)&&_a(m)&&!_a(t))return r?!1:(m.value=t,!0)}const _=Lt(a)&&hg(s)?Number(s)<a.length:Io(a,s),l=Reflect.set(a,s,t,_a(a)?a:c);return a===bo(c)&&(_?Ua(t,m)&&Fs(a,"set",s,t):Fs(a,"add",s,t)),l}deleteProperty(a,s){const t=Io(a,s);a[s];const c=Reflect.deleteProperty(a,s);return c&&t&&Fs(a,"delete",s,void 0),c}has(a,s){const t=Reflect.has(a,s);return(!on(s)||!i2.has(s))&&Ia(a,"has",s),t}ownKeys(a){return Ia(a,"iterate",Lt(a)?"length":oi),Reflect.ownKeys(a)}}class c2 extends r2{constructor(a=!1){super(!0,a)}set(a,s){return!0}deleteProperty(a,s){return!0}}const HC=new d2,zC=new c2,WC=new d2(!0),KC=new c2(!0),wv=o=>o,Km=o=>Reflect.getPrototypeOf(o);function GC(o,a,s){return function(...t){const c=this.__v_raw,m=bo(c),_=Tr(m),l=o==="entries"||o===Symbol.iterator&&_,r=o==="keys"&&_,i=c[o](...t),d=s?wv:a?Dv:Ra;return!a&&Ia(m,"iterate",r?$v:oi),{next(){const{value:p,done:v}=i.next();return v?{value:p,done:v}:{value:l?[d(p[0]),d(p[1])]:d(p),done:v}},[Symbol.iterator](){return this}}}}function Gm(o){return function(...a){return o==="delete"?!1:o==="clear"?void 0:this}}function QC(o,a){const s={get(c){const m=this.__v_raw,_=bo(m),l=bo(c);o||(Ua(c,l)&&Ia(_,"get",c),Ia(_,"get",l));const{has:r}=Km(_),i=a?wv:o?Dv:Ra;if(r.call(_,c))return i(m.get(c));if(r.call(_,l))return i(m.get(l));m!==_&&m.get(c)},get size(){const c=this.__v_raw;return!o&&Ia(bo(c),"iterate",oi),Reflect.get(c,"size",c)},has(c){const m=this.__v_raw,_=bo(m),l=bo(c);return o||(Ua(c,l)&&Ia(_,"has",c),Ia(_,"has",l)),c===l?m.has(c):m.has(c)||m.has(l)},forEach(c,m){const _=this,l=_.__v_raw,r=bo(l),i=a?wv:o?Dv:Ra;return!o&&Ia(r,"iterate",oi),l.forEach((d,p)=>c.call(m,i(d),i(p),_))}};return vo(s,o?{add:Gm("add"),set:Gm("set"),delete:Gm("delete"),clear:Gm("clear")}:{add(c){!a&&!hn(c)&&!Al(c)&&(c=bo(c));const m=bo(this);return Km(m).has.call(m,c)||(m.add(c),Fs(m,"add",c,c)),this},set(c,m){!a&&!hn(m)&&!Al(m)&&(m=bo(m));const _=bo(this),{has:l,get:r}=Km(_);let i=l.call(_,c);i||(c=bo(c),i=l.call(_,c));const d=r.call(_,c);return _.set(c,m),i?Ua(m,d)&&Fs(_,"set",c,m):Fs(_,"add",c,m),this},delete(c){const m=bo(this),{has:_,get:l}=Km(m);let r=_.call(m,c);r||(c=bo(c),r=_.call(m,c)),l&&l.call(m,c);const i=m.delete(c);return r&&Fs(m,"delete",c,void 0),i},clear(){const c=bo(this),m=c.size!==0,_=c.clear();return m&&Fs(c,"clear",void 0,void 0),_}}),["keys","values","entries",Symbol.iterator].forEach(c=>{s[c]=GC(c,o,a)}),s}function xh(o,a){const s=QC(o,a);return(t,c,m)=>c==="__v_isReactive"?!o:c==="__v_isReadonly"?o:c==="__v_raw"?t:Reflect.get(Io(s,c)&&c in t?s:t,c,m)}const ZC={get:xh(!1,!1)},JC={get:xh(!1,!0)},XC={get:xh(!0,!1)},eP={get:xh(!0,!0)},u2=new WeakMap,_2=new WeakMap,m2=new WeakMap,f2=new WeakMap;function tP(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oP(o){return o.__v_skip||!Object.isExtensible(o)?0:tP(mC(o))}function Rn(o){return Al(o)?o:Ph(o,!1,HC,ZC,u2)}function z_(o){return Ph(o,!1,WC,JC,_2)}function Ch(o){return Ph(o,!0,zC,XC,m2)}function aP(o){return Ph(o,!0,KC,eP,f2)}function Ph(o,a,s,t,c){if(!So(o)||o.__v_raw&&!(a&&o.__v_isReactive))return o;const m=c.get(o);if(m)return m;const _=oP(o);if(_===0)return o;const l=new Proxy(o,_===2?t:s);return c.set(o,l),l}function $l(o){return Al(o)?$l(o.__v_raw):!!(o&&o.__v_isReactive)}function Al(o){return!!(o&&o.__v_isReadonly)}function hn(o){return!!(o&&o.__v_isShallow)}function Eh(o){return o?!!o.__v_raw:!1}function bo(o){const a=o&&o.__v_raw;return a?bo(a):o}function h2(o){return!Io(o,"__v_skip")&&Object.isExtensible(o)&&W0(o,"__v_skip",!0),o}const Ra=o=>So(o)?Rn(o):o,Dv=o=>So(o)?Ch(o):o;function _a(o){return o?o.__v_isRef===!0:!1}function h(o){return v2(o,!1)}function p2(o){return v2(o,!0)}function v2(o,a){return _a(o)?o:new nP(o,a)}class nP{constructor(a,s){this.dep=new wh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?a:bo(a),this._value=s?a:Ra(a),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(a){const s=this._rawValue,t=this.__v_isShallow||hn(a)||Al(a);a=t?a:bo(a),Ua(a,s)&&(this._rawValue=a,this._value=t?a:Ra(a),this.dep.trigger())}}function sP(o){o.dep&&o.dep.trigger()}function wl(o){return _a(o)?o.value:o}function lP(o){return Xt(o)?o():wl(o)}const iP={get:(o,a,s)=>a==="__v_raw"?o:wl(Reflect.get(o,a,s)),set:(o,a,s,t)=>{const c=o[a];return _a(c)&&!_a(s)?(c.value=s,!0):Reflect.set(o,a,s,t)}};function yg(o){return $l(o)?o:new Proxy(o,iP)}class rP{constructor(a){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new wh,{get:t,set:c}=a(s.track.bind(s),s.trigger.bind(s));this._get=t,this._set=c}get value(){return this._value=this._get()}set value(a){this._set(a)}}function g2(o){return new rP(o)}function dP(o){const a=Lt(o)?new Array(o.length):{};for(const s in o)a[s]=b2(o,s);return a}class cP{constructor(a,s,t){this._object=a,this._key=s,this._defaultValue=t,this.__v_isRef=!0,this._value=void 0}get value(){const a=this._object[this._key];return this._value=a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}get dep(){return YC(bo(this._object),this._key)}}class uP{constructor(a){this._getter=a,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _P(o,a,s){return _a(o)?o:Xt(o)?new uP(o):So(o)&&arguments.length>1?b2(o,a,s):h(o)}function b2(o,a,s){const t=o[a];return _a(t)?t:new cP(o,a,s)}class mP{constructor(a,s,t){this.fn=a,this.setter=s,this._value=void 0,this.dep=new wh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=q_-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=t}notify(){if(this.flags|=16,!(this.flags&8)&&No!==this)return t2(this,!0),!0}get value(){const a=this.dep.track();return n2(this),a&&(a.version=this.dep.version),this._value}set value(a){this.setter&&this.setter(a)}}function fP(o,a,s=!1){let t,c;return Xt(o)?t=o:(t=o.get,c=o.set),new mP(t,c,s)}const hP={GET:"get",HAS:"has",ITERATE:"iterate"},pP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Qm={},Nf=new WeakMap;let _l;function vP(){return _l}function y2(o,a=!1,s=_l){if(s){let t=Nf.get(s);t||Nf.set(s,t=[]),t.push(o)}}function gP(o,a,s=po){const{immediate:t,deep:c,once:m,scheduler:_,augmentJob:l,call:r}=s,i=k=>c?k:hn(k)||c===!1||c===0?Ys(k,1):Ys(k);let d,p,v,g,w=!1,y=!1;if(_a(o)?(p=()=>o.value,w=hn(o)):$l(o)?(p=()=>i(o),w=!0):Lt(o)?(y=!0,w=o.some(k=>$l(k)||hn(k)),p=()=>o.map(k=>{if(_a(k))return k.value;if($l(k))return i(k);if(Xt(k))return r?r(k,2):k()})):Xt(o)?a?p=r?()=>r(o,2):o:p=()=>{if(v){Sl();try{v()}finally{Tl()}}const k=_l;_l=d;try{return r?r(o,3,[g]):o(g)}finally{_l=k}}:p=wa,a&&c){const k=p,I=c===!0?1/0:c;p=()=>Ys(k(),I)}const x=X0(),C=()=>{d.stop(),x&&x.active&&mg(x.effects,d)};if(m&&a){const k=a;a=(...I)=>{k(...I),C()}}let E=y?new Array(o.length).fill(Qm):Qm;const D=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(a){const I=d.run();if(c||w||(y?I.some((V,B)=>Ua(V,E[B])):Ua(I,E))){v&&v();const V=_l;_l=d;try{const B=[I,E===Qm?void 0:y&&E[0]===Qm?[]:E,g];r?r(a,3,B):a(...B),E=I}finally{_l=V}}}else d.run()};return l&&l(D),d=new U_(p),d.scheduler=_?()=>_(D,!1):D,g=k=>y2(k,!1,d),v=d.onStop=()=>{const k=Nf.get(d);if(k){if(r)r(k,4);else for(const I of k)I();Nf.delete(d)}},a?t?D(!0):E=d.run():_?_(D.bind(null,!0),!0):d.run(),C.pause=d.pause.bind(d),C.resume=d.resume.bind(d),C.stop=C,C}function Ys(o,a=1/0,s){if(a<=0||!So(o)||o.__v_skip||(s=s||new Set,s.has(o)))return o;if(s.add(o),a--,_a(o))Ys(o.value,a,s);else if(Lt(o))for(let t=0;t<o.length;t++)Ys(o[t],a,s);else if(_i(o)||Tr(o))o.forEach(t=>{Ys(t,a,s)});else if(bh(o)){for(const t in o)Ys(o[t],a,s);for(const t of Object.getOwnPropertySymbols(o))Object.prototype.propertyIsEnumerable.call(o,t)&&Ys(o[t],a,s)}return o}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const k2=[];function bP(o){k2.push(o)}function yP(){k2.pop()}function kP(o,a){}const $P={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},wP={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ed(o,a,s,t){try{return t?o(...t):o()}catch(c){fi(c,a,s)}}function Tn(o,a,s,t){if(Xt(o)){const c=ed(o,a,s,t);return c&&fg(c)&&c.catch(m=>{fi(m,a,s)}),c}if(Lt(o)){const c=[];for(let m=0;m<o.length;m++)c.push(Tn(o[m],a,s,t));return c}}function fi(o,a,s,t=!0){const c=a?a.vnode:null,{errorHandler:m,throwUnhandledErrorInProduction:_}=a&&a.appContext.config||po;if(a){let l=a.parent;const r=a.proxy,i=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](o,r,i)===!1)return}l=l.parent}if(m){Sl(),ed(m,null,10,[o,r,i]),Tl();return}}DP(o,s,c,t,_)}function DP(o,a,s,t=!0,c=!1){if(c)throw o;console.error(o)}const qa=[];let us=-1;const Mr=[];let ml=null,br=0;const $2=Promise.resolve();let Ff=null;function bt(o){const a=Ff||$2;return o?a.then(this?o.bind(this):o):a}function xP(o){let a=us+1,s=qa.length;for(;a<s;){const t=a+s>>>1,c=qa[t],m=K_(c);m<o||m===o&&c.flags&2?a=t+1:s=t}return a}function kg(o){if(!(o.flags&1)){const a=K_(o),s=qa[qa.length-1];!s||!(o.flags&2)&&a>=K_(s)?qa.push(o):qa.splice(xP(a),0,o),o.flags|=1,w2()}}function w2(){Ff||(Ff=$2.then(D2))}function W_(o){Lt(o)?Mr.push(...o):ml&&o.id===-1?ml.splice(br+1,0,o):o.flags&1||(Mr.push(o),o.flags|=1),w2()}function fb(o,a,s=us+1){for(;s<qa.length;s++){const t=qa[s];if(t&&t.flags&2){if(o&&t.id!==o.uid)continue;qa.splice(s,1),s--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function Yf(o){if(Mr.length){const a=[...new Set(Mr)].sort((s,t)=>K_(s)-K_(t));if(Mr.length=0,ml){ml.push(...a);return}for(ml=a,br=0;br<ml.length;br++){const s=ml[br];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ml=null,br=0}}const K_=o=>o.id==null?o.flags&2?-1:1/0:o.id;function D2(o){try{for(us=0;us<qa.length;us++){const a=qa[us];a&&!(a.flags&8)&&(a.flags&4&&(a.flags&=-2),ed(a,a.i,a.i?15:14),a.flags&4||(a.flags&=-2))}}finally{for(;us<qa.length;us++){const a=qa[us];a&&(a.flags&=-2)}us=-1,qa.length=0,Yf(),Ff=null,(qa.length||Mr.length)&&D2()}}let yr,Zm=[];function x2(o,a){var s,t;yr=o,yr?(yr.enabled=!0,Zm.forEach(({event:c,args:m})=>yr.emit(c,...m)),Zm=[]):typeof window<"u"&&window.HTMLElement&&!((t=(s=window.navigator)==null?void 0:s.userAgent)!=null&&t.includes("jsdom"))?((a.__VUE_DEVTOOLS_HOOK_REPLAY__=a.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(m=>{x2(m,a)}),setTimeout(()=>{yr||(a.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Zm=[])},3e3)):Zm=[]}let ca=null,Ah=null;function G_(o){const a=ca;return ca=o,Ah=o&&o.type.__scopeId||null,a}function CP(o){Ah=o}function PP(){Ah=null}const EP=o=>Ko;function Ko(o,a=ca,s){if(!a||o._n)return o;const t=(...c)=>{t._d&&Sv(-1);const m=G_(a);let _;try{_=o(...c)}finally{G_(m),t._d&&Sv(1)}return _};return t._n=!0,t._c=!0,t._d=!0,t}function Y(o,a){if(ca===null)return o;const s=Pm(ca),t=o.dirs||(o.dirs=[]);for(let c=0;c<a.length;c++){let[m,_,l,r=po]=a[c];m&&(Xt(m)&&(m={mounted:m,updated:m}),m.deep&&Ys(_),t.push({dir:m,instance:s,value:_,oldValue:void 0,arg:l,modifiers:r}))}return o}function _s(o,a,s,t){const c=o.dirs,m=a&&a.dirs;for(let _=0;_<c.length;_++){const l=c[_];m&&(l.oldValue=m[_].value);let r=l.dir[t];r&&(Sl(),Tn(r,s,8,[o.el,l,o,a]),Tl())}}const C2=Symbol("_vte"),P2=o=>o.__isTeleport,S_=o=>o&&(o.disabled||o.disabled===""),hb=o=>o&&(o.defer||o.defer===""),pb=o=>typeof SVGElement<"u"&&o instanceof SVGElement,vb=o=>typeof MathMLElement=="function"&&o instanceof MathMLElement,xv=(o,a)=>{const s=o&&o.to;return ao(s)?a?a(s):null:s},E2={name:"Teleport",__isTeleport:!0,process(o,a,s,t,c,m,_,l,r,i){const{mc:d,pc:p,pbc:v,o:{insert:g,querySelector:w,createText:y,createComment:x}}=i,C=S_(a.props);let{shapeFlag:E,children:D,dynamicChildren:k}=a;if(o==null){const I=a.el=y(""),V=a.anchor=y("");g(I,s,t),g(V,s,t);const B=(F,T)=>{E&16&&(c&&c.isCE&&(c.ce._teleportTarget=F),d(D,F,T,c,m,_,l,r))},L=()=>{const F=a.target=xv(a.props,w),T=I2(F,a,y,g);F&&(_!=="svg"&&pb(F)?_="svg":_!=="mathml"&&vb(F)&&(_="mathml"),C||(B(F,T),bf(a,!1)))};C&&(B(s,V),bf(a,!0)),hb(a.props)?ia(()=>{L(),a.el.__isMounted=!0},m):L()}else{if(hb(a.props)&&!o.el.__isMounted){ia(()=>{E2.process(o,a,s,t,c,m,_,l,r,i),delete o.el.__isMounted},m);return}a.el=o.el,a.targetStart=o.targetStart;const I=a.anchor=o.anchor,V=a.target=o.target,B=a.targetAnchor=o.targetAnchor,L=S_(o.props),F=L?s:V,T=L?I:B;if(_==="svg"||pb(V)?_="svg":(_==="mathml"||vb(V))&&(_="mathml"),k?(v(o.dynamicChildren,k,F,c,m,_,l),Sg(o,a,!0)):r||p(o,a,F,T,c,m,_,l,!1),C)L?a.props&&o.props&&a.props.to!==o.props.to&&(a.props.to=o.props.to):Jm(a,s,I,i,1);else if((a.props&&a.props.to)!==(o.props&&o.props.to)){const P=a.target=xv(a.props,w);P&&Jm(a,P,null,i,0)}else L&&Jm(a,V,B,i,1);bf(a,C)}},remove(o,a,s,{um:t,o:{remove:c}},m){const{shapeFlag:_,children:l,anchor:r,targetStart:i,targetAnchor:d,target:p,props:v}=o;if(p&&(c(i),c(d)),m&&c(r),_&16){const g=m||!S_(v);for(let w=0;w<l.length;w++){const y=l[w];t(y,a,s,g,!!y.dynamicChildren)}}},move:Jm,hydrate:AP};function Jm(o,a,s,{o:{insert:t},m:c},m=2){m===0&&t(o.targetAnchor,a,s);const{el:_,anchor:l,shapeFlag:r,children:i,props:d}=o,p=m===2;if(p&&t(_,a,s),(!p||S_(d))&&r&16)for(let v=0;v<i.length;v++)c(i[v],a,s,2);p&&t(l,a,s)}function AP(o,a,s,t,c,m,{o:{nextSibling:_,parentNode:l,querySelector:r,insert:i,createText:d}},p){const v=a.target=xv(a.props,r);if(v){const g=S_(a.props),w=v._lpa||v.firstChild;if(a.shapeFlag&16)if(g)a.anchor=p(_(o),a,l(o),s,t,c,m),a.targetStart=w,a.targetAnchor=w&&_(w);else{a.anchor=_(o);let y=w;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")a.targetStart=y;else if(y.data==="teleport anchor"){a.targetAnchor=y,v._lpa=a.targetAnchor&&_(a.targetAnchor);break}}y=_(y)}a.targetAnchor||I2(v,a,d,i),p(w&&_(w),a,v,s,t,c,m)}bf(a,g)}return a.anchor&&_(a.anchor)}const A2=E2;function bf(o,a){const s=o.ctx;if(s&&s.ut){let t,c;for(a?(t=o.el,c=o.anchor):(t=o.targetStart,c=o.targetAnchor);t&&t!==c;)t.nodeType===1&&t.setAttribute("data-v-owner",s.uid),t=t.nextSibling;s.ut()}}function I2(o,a,s,t){const c=a.targetStart=s(""),m=a.targetAnchor=s("");return c[C2]=m,o&&(t(c,o),t(m,o)),m}const fl=Symbol("_leaveCb"),Xm=Symbol("_enterCb");function $g(){const o={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qe(()=>{o.isMounted=!0}),td(()=>{o.isUnmounting=!0}),o}const wn=[Function,Array],wg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wn,onEnter:wn,onAfterEnter:wn,onEnterCancelled:wn,onBeforeLeave:wn,onLeave:wn,onAfterLeave:wn,onLeaveCancelled:wn,onBeforeAppear:wn,onAppear:wn,onAfterAppear:wn,onAppearCancelled:wn},R2=o=>{const a=o.subTree;return a.component?R2(a.component):a},IP={name:"BaseTransition",props:wg,setup(o,{slots:a}){const s=Ha(),t=$g();return()=>{const c=a.default&&Ih(a.default(),!0);if(!c||!c.length)return;const m=S2(c),_=bo(o),{mode:l}=_;if(t.isLeaving)return Pp(m);const r=gb(m);if(!r)return Pp(m);let i=Ur(r,_,t,s,p=>i=p);r.type!==aa&&Ks(r,i);let d=s.subTree&&gb(s.subTree);if(d&&d.type!==aa&&!Gn(r,d)&&R2(s).type!==aa){let p=Ur(d,_,t,s);if(Ks(d,p),l==="out-in"&&r.type!==aa)return t.isLeaving=!0,p.afterLeave=()=>{t.isLeaving=!1,s.job.flags&8||s.update(),delete p.afterLeave,d=void 0},Pp(m);l==="in-out"&&r.type!==aa?p.delayLeave=(v,g,w)=>{const y=j2(t,d);y[String(d.key)]=d,v[fl]=()=>{g(),v[fl]=void 0,delete i.delayedLeave,d=void 0},i.delayedLeave=()=>{w(),delete i.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return m}}};function S2(o){let a=o[0];if(o.length>1){for(const s of o)if(s.type!==aa){a=s;break}}return a}const T2=IP;function j2(o,a){const{leavingVNodes:s}=o;let t=s.get(a.type);return t||(t=Object.create(null),s.set(a.type,t)),t}function Ur(o,a,s,t,c){const{appear:m,mode:_,persisted:l=!1,onBeforeEnter:r,onEnter:i,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:v,onLeave:g,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:x,onAppear:C,onAfterAppear:E,onAppearCancelled:D}=a,k=String(o.key),I=j2(s,o),V=(F,T)=>{F&&Tn(F,t,9,T)},B=(F,T)=>{const P=T[1];V(F,T),Lt(F)?F.every(R=>R.length<=1)&&P():F.length<=1&&P()},L={mode:_,persisted:l,beforeEnter(F){let T=r;if(!s.isMounted)if(m)T=x||r;else return;F[fl]&&F[fl](!0);const P=I[k];P&&Gn(o,P)&&P.el[fl]&&P.el[fl](),V(T,[F])},enter(F){let T=i,P=d,R=p;if(!s.isMounted)if(m)T=C||i,P=E||d,R=D||p;else return;let O=!1;const N=F[Xm]=S=>{O||(O=!0,S?V(R,[F]):V(P,[F]),L.delayedLeave&&L.delayedLeave(),F[Xm]=void 0)};T?B(T,[F,N]):N()},leave(F,T){const P=String(o.key);if(F[Xm]&&F[Xm](!0),s.isUnmounting)return T();V(v,[F]);let R=!1;const O=F[fl]=N=>{R||(R=!0,T(),N?V(y,[F]):V(w,[F]),F[fl]=void 0,I[P]===o&&delete I[P])};I[P]=o,g?B(g,[F,O]):O()},clone(F){const T=Ur(F,a,s,t,c);return c&&c(T),T}};return L}function Pp(o){if(wm(o))return o=ts(o),o.children=null,o}function gb(o){if(!wm(o))return P2(o.type)&&o.children?S2(o.children):o;const{shapeFlag:a,children:s}=o;if(s){if(a&16)return s[0];if(a&32&&Xt(s.default))return s.default()}}function Ks(o,a){o.shapeFlag&6&&o.component?(o.transition=a,Ks(o.component.subTree,a)):o.shapeFlag&128?(o.ssContent.transition=a.clone(o.ssContent),o.ssFallback.transition=a.clone(o.ssFallback)):o.transition=a}function Ih(o,a=!1,s){let t=[],c=0;for(let m=0;m<o.length;m++){let _=o[m];const l=s==null?_.key:String(s)+String(_.key!=null?_.key:m);_.type===G?(_.patchFlag&128&&c++,t=t.concat(Ih(_.children,a,l))):(a||_.type!==aa)&&t.push(l!=null?ts(_,{key:l}):_)}if(c>1)for(let m=0;m<t.length;m++)t[m].patchFlag=-2;return t}/*! #__NO_SIDE_EFFECTS__ */function Oa(o,a){return Xt(o)?vo({name:o.name},a,{setup:o}):o}function O2(){const o=Ha();return o?(o.appContext.config.idPrefix||"v")+"-"+o.ids[0]+o.ids[1]++:""}function Dg(o){o.ids=[o.ids[0]+o.ids[2]+++"-",0,0]}function RP(o){const a=Ha(),s=p2(null);if(a){const c=a.refs===po?a.refs={}:a.refs;Object.defineProperty(c,o,{enumerable:!0,get:()=>s.value,set:m=>s.value=m})}return s}function Q_(o,a,s,t,c=!1){if(Lt(o)){o.forEach((w,y)=>Q_(w,a&&(Lt(a)?a[y]:a),s,t,c));return}if(Dl(t)&&!c){t.shapeFlag&512&&t.type.__asyncResolved&&t.component.subTree.component&&Q_(o,a,s,t.component.subTree);return}const m=t.shapeFlag&4?Pm(t.component):t.el,_=c?null:m,{i:l,r}=o,i=a&&a.r,d=l.refs===po?l.refs={}:l.refs,p=l.setupState,v=bo(p),g=p===po?()=>!1:w=>Io(v,w);if(i!=null&&i!==r&&(ao(i)?(d[i]=null,g(i)&&(p[i]=null)):_a(i)&&(i.value=null)),Xt(r))ed(r,l,12,[_,d]);else{const w=ao(r),y=_a(r);if(w||y){const x=()=>{if(o.f){const C=w?g(r)?p[r]:d[r]:r.value;c?Lt(C)&&mg(C,m):Lt(C)?C.includes(m)||C.push(m):w?(d[r]=[m],g(r)&&(p[r]=d[r])):(r.value=[m],o.k&&(d[o.k]=r.value))}else w?(d[r]=_,g(r)&&(p[r]=_)):y&&(r.value=_,o.k&&(d[o.k]=_))};_?(x.id=-1,ia(x,s)):x()}}}let bb=!1;const Oi=()=>{bb||(console.error("Hydration completed but contains mismatches."),bb=!0)},SP=o=>o.namespaceURI.includes("svg")&&o.tagName!=="foreignObject",TP=o=>o.namespaceURI.includes("MathML"),ef=o=>{if(o.nodeType===1){if(SP(o))return"svg";if(TP(o))return"mathml"}},Er=o=>o.nodeType===8;function jP(o){const{mt:a,p:s,o:{patchProp:t,createText:c,nextSibling:m,parentNode:_,remove:l,insert:r,createComment:i}}=o,d=(D,k)=>{if(!k.hasChildNodes()){s(null,D,k),Yf(),k._vnode=D;return}p(k.firstChild,D,null,null,null),Yf(),k._vnode=D},p=(D,k,I,V,B,L=!1)=>{L=L||!!k.dynamicChildren;const F=Er(D)&&D.data==="[",T=()=>y(D,k,I,V,B,F),{type:P,ref:R,shapeFlag:O,patchFlag:N}=k;let S=D.nodeType;k.el=D,N===-2&&(L=!1,k.dynamicChildren=null);let U=null;switch(P){case xl:S!==3?k.children===""?(r(k.el=c(""),_(D),D),U=D):U=T():(D.data!==k.children&&(Oi(),D.data=k.children),U=m(D));break;case aa:E(D)?(U=m(D),C(k.el=D.content.firstChild,D,I)):S!==8||F?U=T():U=m(D);break;case ni:if(F&&(D=m(D),S=D.nodeType),S===1||S===3){U=D;const W=!k.children.length;for(let oe=0;oe<k.staticCount;oe++)W&&(k.children+=U.nodeType===1?U.outerHTML:U.data),oe===k.staticCount-1&&(k.anchor=U),U=m(U);return F?m(U):U}else T();break;case G:F?U=w(D,k,I,V,B,L):U=T();break;default:if(O&1)(S!==1||k.type.toLowerCase()!==D.tagName.toLowerCase())&&!E(D)?U=T():U=v(D,k,I,V,B,L);else if(O&6){k.slotScopeIds=B;const W=_(D);if(F?U=x(D):Er(D)&&D.data==="teleport start"?U=x(D,D.data,"teleport end"):U=m(D),a(k,W,null,I,V,ef(W),L),Dl(k)&&!k.type.__asyncResolved){let oe;F?(oe=Be(G),oe.anchor=U?U.previousSibling:W.lastChild):oe=D.nodeType===3?le(""):Be("div"),oe.el=D,k.component.subTree=oe}}else O&64?S!==8?U=T():U=k.type.hydrate(D,k,I,V,B,L,o,g):O&128&&(U=k.type.hydrate(D,k,I,V,ef(_(D)),B,L,o,p))}return R!=null&&Q_(R,null,V,k),U},v=(D,k,I,V,B,L)=>{L=L||!!k.dynamicChildren;const{type:F,props:T,patchFlag:P,shapeFlag:R,dirs:O,transition:N}=k,S=F==="input"||F==="option";if(S||P!==-1){O&&_s(k,null,I,"created");let U=!1;if(E(D)){U=ik(null,N)&&I&&I.vnode.props&&I.vnode.props.appear;const oe=D.content.firstChild;U&&N.beforeEnter(oe),C(oe,D,I),k.el=D=oe}if(R&16&&!(T&&(T.innerHTML||T.textContent))){let oe=g(D.firstChild,k,D,I,V,B,L);for(;oe;){tf(D,1)||Oi();const J=oe;oe=oe.nextSibling,l(J)}}else if(R&8){let oe=k.children;oe[0]===`
`&&(D.tagName==="PRE"||D.tagName==="TEXTAREA")&&(oe=oe.slice(1)),D.textContent!==oe&&(tf(D,0)||Oi(),D.textContent=k.children)}if(T){if(S||!L||P&48){const oe=D.tagName.includes("-");for(const J in T)(S&&(J.endsWith("value")||J==="indeterminate")||ui(J)&&!kl(J)||J[0]==="."||oe)&&t(D,J,null,T[J],void 0,I)}else if(T.onClick)t(D,"onClick",null,T.onClick,void 0,I);else if(P&4&&$l(T.style))for(const oe in T.style)T.style[oe]}let W;(W=T&&T.onVnodeBeforeMount)&&Ga(W,I,k),O&&_s(k,null,I,"beforeMount"),((W=T&&T.onVnodeMounted)||O||U)&&pk(()=>{W&&Ga(W,I,k),U&&N.enter(D),O&&_s(k,null,I,"mounted")},V)}return D.nextSibling},g=(D,k,I,V,B,L,F)=>{F=F||!!k.dynamicChildren;const T=k.children,P=T.length;for(let R=0;R<P;R++){const O=F?T[R]:T[R]=Za(T[R]),N=O.type===xl;D?(N&&!F&&R+1<P&&Za(T[R+1]).type===xl&&(r(c(D.data.slice(O.children.length)),I,m(D)),D.data=O.children),D=p(D,O,V,B,L,F)):N&&!O.children?r(O.el=c(""),I):(tf(I,1)||Oi(),s(null,O,I,null,V,B,ef(I),L))}return D},w=(D,k,I,V,B,L)=>{const{slotScopeIds:F}=k;F&&(B=B?B.concat(F):F);const T=_(D),P=g(m(D),k,T,I,V,B,L);return P&&Er(P)&&P.data==="]"?m(k.anchor=P):(Oi(),r(k.anchor=i("]"),T,P),P)},y=(D,k,I,V,B,L)=>{if(tf(D.parentElement,1)||Oi(),k.el=null,L){const P=x(D);for(;;){const R=m(D);if(R&&R!==P)l(R);else break}}const F=m(D),T=_(D);return l(D),s(null,k,T,F,I,V,ef(T),B),I&&(I.vnode.el=k.el,jh(I,k.el)),F},x=(D,k="[",I="]")=>{let V=0;for(;D;)if(D=m(D),D&&Er(D)&&(D.data===k&&V++,D.data===I)){if(V===0)return m(D);V--}return D},C=(D,k,I)=>{const V=k.parentNode;V&&V.replaceChild(D,k);let B=I;for(;B;)B.vnode.el===k&&(B.vnode.el=B.subTree.el=D),B=B.parent},E=D=>D.nodeType===1&&D.tagName==="TEMPLATE";return[d,p]}const yb="data-allow-mismatch",OP={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function tf(o,a){if(a===0||a===1)for(;o&&!o.hasAttribute(yb);)o=o.parentElement;const s=o&&o.getAttribute(yb);if(s==null)return!1;if(s==="")return!0;{const t=s.split(",");return a===0&&t.includes("children")?!0:s.split(",").includes(OP[a])}}const MP=kh().requestIdleCallback||(o=>setTimeout(o,1)),LP=kh().cancelIdleCallback||(o=>clearTimeout(o)),NP=(o=1e4)=>a=>{const s=MP(a,{timeout:o});return()=>LP(s)};function FP(o){const{top:a,left:s,bottom:t,right:c}=o.getBoundingClientRect(),{innerHeight:m,innerWidth:_}=window;return(a>0&&a<m||t>0&&t<m)&&(s>0&&s<_||c>0&&c<_)}const YP=o=>(a,s)=>{const t=new IntersectionObserver(c=>{for(const m of c)if(m.isIntersecting){t.disconnect(),a();break}},o);return s(c=>{if(c instanceof Element){if(FP(c))return a(),t.disconnect(),!1;t.observe(c)}}),()=>t.disconnect()},VP=o=>a=>{if(o){const s=matchMedia(o);if(s.matches)a();else return s.addEventListener("change",a,{once:!0}),()=>s.removeEventListener("change",a)}},BP=(o=[])=>(a,s)=>{ao(o)&&(o=[o]);let t=!1;const c=_=>{t||(t=!0,m(),a(),_.target.dispatchEvent(new _.constructor(_.type,_)))},m=()=>{s(_=>{for(const l of o)_.removeEventListener(l,c)})};return s(_=>{for(const l of o)_.addEventListener(l,c,{once:!0})}),m};function UP(o,a){if(Er(o)&&o.data==="["){let s=1,t=o.nextSibling;for(;t;){if(t.nodeType===1){if(a(t)===!1)break}else if(Er(t))if(t.data==="]"){if(--s===0)break}else t.data==="["&&s++;t=t.nextSibling}}else a(o)}const Dl=o=>!!o.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qP(o){Xt(o)&&(o={loader:o});const{loader:a,loadingComponent:s,errorComponent:t,delay:c=200,hydrate:m,timeout:_,suspensible:l=!0,onError:r}=o;let i=null,d,p=0;const v=()=>(p++,i=null,g()),g=()=>{let w;return i||(w=i=a().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),r)return new Promise((x,C)=>{r(y,()=>x(v()),()=>C(y),p+1)});throw y}).then(y=>w!==i&&i?i:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),d=y,y)))};return Oa({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(w,y,x){const C=m?()=>{const E=m(x,D=>UP(w,D));E&&(y.bum||(y.bum=[])).push(E)}:x;d?C():g().then(()=>!y.isUnmounted&&C())},get __asyncResolved(){return d},setup(){const w=da;if(Dg(w),d)return()=>Ep(d,w);const y=D=>{i=null,fi(D,w,13,!t)};if(l&&w.suspense||qr)return g().then(D=>()=>Ep(D,w)).catch(D=>(y(D),()=>t?Be(t,{error:D}):null));const x=h(!1),C=h(),E=h(!!c);return c&&setTimeout(()=>{E.value=!1},c),_!=null&&setTimeout(()=>{if(!x.value&&!C.value){const D=new Error(`Async component timed out after ${_}ms.`);y(D),C.value=D}},_),g().then(()=>{x.value=!0,w.parent&&wm(w.parent.vnode)&&w.parent.update()}).catch(D=>{y(D),C.value=D}),()=>{if(x.value&&d)return Ep(d,w);if(C.value&&t)return Be(t,{error:C.value});if(s&&!E.value)return Be(s)}}})}function Ep(o,a){const{ref:s,props:t,children:c,ce:m}=a.vnode,_=Be(o,t,c);return _.ref=s,_.ce=m,delete a.vnode.ce,_}const wm=o=>o.type.__isKeepAlive,HP={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(o,{slots:a}){const s=Ha(),t=s.ctx;if(!t.renderer)return()=>{const E=a.default&&a.default();return E&&E.length===1?E[0]:E};const c=new Map,m=new Set;let _=null;const l=s.suspense,{renderer:{p:r,m:i,um:d,o:{createElement:p}}}=t,v=p("div");t.activate=(E,D,k,I,V)=>{const B=E.component;i(E,D,k,0,l),r(B.vnode,E,D,k,B,l,I,E.slotScopeIds,V),ia(()=>{B.isDeactivated=!1,B.a&&Or(B.a);const L=E.props&&E.props.onVnodeMounted;L&&Ga(L,B.parent,E)},l)},t.deactivate=E=>{const D=E.component;Bf(D.m),Bf(D.a),i(E,v,null,1,l),ia(()=>{D.da&&Or(D.da);const k=E.props&&E.props.onVnodeUnmounted;k&&Ga(k,D.parent,E),D.isDeactivated=!0},l)};function g(E){Ap(E),d(E,s,l,!0)}function w(E){c.forEach((D,k)=>{const I=Lv(D.type);I&&!E(I)&&y(k)})}function y(E){const D=c.get(E);D&&(!_||!Gn(D,_))?g(D):_&&Ap(_),c.delete(E),m.delete(E)}ot(()=>[o.include,o.exclude],([E,D])=>{E&&w(k=>Ec(E,k)),D&&w(k=>!Ec(D,k))},{flush:"post",deep:!0});let x=null;const C=()=>{x!=null&&(Uf(s.subTree.type)?ia(()=>{c.set(x,of(s.subTree))},s.subTree.suspense):c.set(x,of(s.subTree)))};return Qe(C),Dm(C),td(()=>{c.forEach(E=>{const{subTree:D,suspense:k}=s,I=of(D);if(E.type===I.type&&E.key===I.key){Ap(I);const V=I.component.da;V&&ia(V,k);return}g(E)})}),()=>{if(x=null,!a.default)return _=null;const E=a.default(),D=E[0];if(E.length>1)return _=null,E;if(!Gs(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return _=null,D;let k=of(D);if(k.type===aa)return _=null,k;const I=k.type,V=Lv(Dl(k)?k.type.__asyncResolved||{}:I),{include:B,exclude:L,max:F}=o;if(B&&(!V||!Ec(B,V))||L&&V&&Ec(L,V))return k.shapeFlag&=-257,_=k,D;const T=k.key==null?I:k.key,P=c.get(T);return k.el&&(k=ts(k),D.shapeFlag&128&&(D.ssContent=k)),x=T,P?(k.el=P.el,k.component=P.component,k.transition&&Ks(k,k.transition),k.shapeFlag|=512,m.delete(T),m.add(T)):(m.add(T),F&&m.size>parseInt(F,10)&&y(m.values().next().value)),k.shapeFlag|=256,_=k,Uf(D.type)?D:k}}},zP=HP;function Ec(o,a){return Lt(o)?o.some(s=>Ec(s,a)):ao(o)?o.split(",").includes(a):_C(o)?(o.lastIndex=0,o.test(a)):!1}function M2(o,a){N2(o,"a",a)}function L2(o,a){N2(o,"da",a)}function N2(o,a,s=da){const t=o.__wdc||(o.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return o()});if(Rh(a,t,s),s){let c=s.parent;for(;c&&c.parent;)wm(c.parent.vnode)&&WP(t,a,s,c),c=c.parent}}function WP(o,a,s,t){const c=Rh(a,o,t,!0);xm(()=>{mg(t[a],c)},s)}function Ap(o){o.shapeFlag&=-257,o.shapeFlag&=-513}function of(o){return o.shapeFlag&128?o.ssContent:o}function Rh(o,a,s=da,t=!1){if(s){const c=s[o]||(s[o]=[]),m=a.__weh||(a.__weh=(..._)=>{Sl();const l=di(s),r=Tn(a,s,o,_);return l(),Tl(),r});return t?c.unshift(m):c.push(m),m}}const Zs=o=>(a,s=da)=>{(!qr||o==="sp")&&Rh(o,(...t)=>a(...t),s)},F2=Zs("bm"),Qe=Zs("m"),xg=Zs("bu"),Dm=Zs("u"),td=Zs("bum"),xm=Zs("um"),Y2=Zs("sp"),V2=Zs("rtg"),B2=Zs("rtc");function U2(o,a=da){Rh("ec",o,a)}const Cg="components",KP="directives";function ce(o,a){return Eg(Cg,o,!0,a)||o}const q2=Symbol.for("v-ndc");function $a(o){return ao(o)?Eg(Cg,o,!1)||o:o||q2}function Pg(o){return Eg(KP,o)}function Eg(o,a,s=!0,t=!1){const c=ca||da;if(c){const m=c.type;if(o===Cg){const l=Lv(m,!1);if(l&&(l===a||l===Uo(a)||l===mi(Uo(a))))return m}const _=kb(c[o]||m[o],a)||kb(c.appContext[o],a);return!_&&t?m:_}}function kb(o,a){return o&&(o[a]||o[Uo(a)]||o[mi(Uo(a))])}function ee(o,a,s,t){let c;const m=s&&s[t],_=Lt(o);if(_||ao(o)){const l=_&&$l(o);let r=!1;l&&(r=!hn(o),o=Dh(o)),c=new Array(o.length);for(let i=0,d=o.length;i<d;i++)c[i]=a(r?Ra(o[i]):o[i],i,void 0,m&&m[i])}else if(typeof o=="number"){c=new Array(o);for(let l=0;l<o;l++)c[l]=a(l+1,l,void 0,m&&m[l])}else if(So(o))if(o[Symbol.iterator])c=Array.from(o,(l,r)=>a(l,r,void 0,m&&m[r]));else{const l=Object.keys(o);c=new Array(l.length);for(let r=0,i=l.length;r<i;r++){const d=l[r];c[r]=a(o[d],d,r,m&&m[r])}}else c=[];return s&&(s[t]=c),c}function GP(o,a){for(let s=0;s<a.length;s++){const t=a[s];if(Lt(t))for(let c=0;c<t.length;c++)o[t[c].name]=t[c].fn;else t&&(o[t.name]=t.key?(...c)=>{const m=t.fn(...c);return m&&(m.key=t.key),m}:t.fn)}return o}function jo(o,a,s={},t,c){if(ca.ce||ca.parent&&Dl(ca.parent)&&ca.parent.ce)return a!=="default"&&(s.name=a),u(),me(G,null,[Be("slot",s,t&&t())],64);let m=o[a];m&&m._c&&(m._d=!1),u();const _=m&&Ag(m(s)),l=s.key||_&&_.key,r=me(G,{key:(l&&!on(l)?l:`_${a}`)+(!_&&t?"_fb":"")},_||(t?t():[]),_&&o._===1?64:-2);return!c&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),m&&m._c&&(m._d=!0),r}function Ag(o){return o.some(a=>Gs(a)?!(a.type===aa||a.type===G&&!Ag(a.children)):!0)?o:null}function H2(o,a){const s={};for(const t in o)s[a&&/[A-Z]/.test(t)?`on:${t}`:jr(t)]=o[t];return s}const Cv=o=>o?$k(o)?Pm(o):Cv(o.parent):null,T_=vo(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>Cv(o.parent),$root:o=>Cv(o.root),$host:o=>o.ce,$emit:o=>o.emit,$options:o=>Ig(o),$forceUpdate:o=>o.f||(o.f=()=>{kg(o.update)}),$nextTick:o=>o.n||(o.n=bt.bind(o.proxy)),$watch:o=>C4.bind(o)}),Ip=(o,a)=>o!==po&&!o.__isScriptSetup&&Io(o,a),Pv={get({_:o},a){if(a==="__v_skip")return!0;const{ctx:s,setupState:t,data:c,props:m,accessCache:_,type:l,appContext:r}=o;let i;if(a[0]!=="$"){const g=_[a];if(g!==void 0)switch(g){case 1:return t[a];case 2:return c[a];case 4:return s[a];case 3:return m[a]}else{if(Ip(t,a))return _[a]=1,t[a];if(c!==po&&Io(c,a))return _[a]=2,c[a];if((i=o.propsOptions[0])&&Io(i,a))return _[a]=3,m[a];if(s!==po&&Io(s,a))return _[a]=4,s[a];Ev&&(_[a]=0)}}const d=T_[a];let p,v;if(d)return a==="$attrs"&&Ia(o.attrs,"get",""),d(o);if((p=l.__cssModules)&&(p=p[a]))return p;if(s!==po&&Io(s,a))return _[a]=4,s[a];if(v=r.config.globalProperties,Io(v,a))return v[a]},set({_:o},a,s){const{data:t,setupState:c,ctx:m}=o;return Ip(c,a)?(c[a]=s,!0):t!==po&&Io(t,a)?(t[a]=s,!0):Io(o.props,a)||a[0]==="$"&&a.slice(1)in o?!1:(m[a]=s,!0)},has({_:{data:o,setupState:a,accessCache:s,ctx:t,appContext:c,propsOptions:m}},_){let l;return!!s[_]||o!==po&&Io(o,_)||Ip(a,_)||(l=m[0])&&Io(l,_)||Io(t,_)||Io(T_,_)||Io(c.config.globalProperties,_)},defineProperty(o,a,s){return s.get!=null?o._.accessCache[a]=0:Io(s,"value")&&this.set(o,a,s.value,null),Reflect.defineProperty(o,a,s)}},QP=vo({},Pv,{get(o,a){if(a!==Symbol.unscopables)return Pv.get(o,a,o)},has(o,a){return a[0]!=="_"&&!bC(a)}});function ZP(){return null}function JP(){return null}function XP(o){}function e4(o){}function t4(){return null}function o4(){}function a4(o,a){return null}function n4(){return z2().slots}function s4(){return z2().attrs}function z2(){const o=Ha();return o.setupContext||(o.setupContext=Ck(o))}function Z_(o){return Lt(o)?o.reduce((a,s)=>(a[s]=null,a),{}):o}function l4(o,a){const s=Z_(o);for(const t in a){if(t.startsWith("__skip"))continue;let c=s[t];c?Lt(c)||Xt(c)?c=s[t]={type:c,default:a[t]}:c.default=a[t]:c===null&&(c=s[t]={default:a[t]}),c&&a[`__skip_${t}`]&&(c.skipFactory=!0)}return s}function i4(o,a){return!o||!a?o||a:Lt(o)&&Lt(a)?o.concat(a):vo({},Z_(o),Z_(a))}function r4(o,a){const s={};for(const t in o)a.includes(t)||Object.defineProperty(s,t,{enumerable:!0,get:()=>o[t]});return s}function d4(o){const a=Ha();let s=o();return jv(),fg(s)&&(s=s.catch(t=>{throw di(a),t})),[s,()=>di(a)]}let Ev=!0;function c4(o){const a=Ig(o),s=o.proxy,t=o.ctx;Ev=!1,a.beforeCreate&&$b(a.beforeCreate,o,"bc");const{data:c,computed:m,methods:_,watch:l,provide:r,inject:i,created:d,beforeMount:p,mounted:v,beforeUpdate:g,updated:w,activated:y,deactivated:x,beforeDestroy:C,beforeUnmount:E,destroyed:D,unmounted:k,render:I,renderTracked:V,renderTriggered:B,errorCaptured:L,serverPrefetch:F,expose:T,inheritAttrs:P,components:R,directives:O,filters:N}=a;if(i&&u4(i,t,null),_)for(const W in _){const oe=_[W];Xt(oe)&&(t[W]=oe.bind(s))}if(c){const W=c.call(s,s);So(W)&&(o.data=Rn(W))}if(Ev=!0,m)for(const W in m){const oe=m[W],J=Xt(oe)?oe.bind(s,s):Xt(oe.get)?oe.get.bind(s,s):wa,K=!Xt(oe)&&Xt(oe.set)?oe.set.bind(s):wa,z=$o({get:J,set:K});Object.defineProperty(t,W,{enumerable:!0,configurable:!0,get:()=>z.value,set:ae=>z.value=ae})}if(l)for(const W in l)W2(l[W],t,s,W);if(r){const W=Xt(r)?r.call(s):r;Reflect.ownKeys(W).forEach(oe=>{Sh(oe,W[oe])})}d&&$b(d,o,"c");function U(W,oe){Lt(oe)?oe.forEach(J=>W(J.bind(s))):oe&&W(oe.bind(s))}if(U(F2,p),U(Qe,v),U(xg,g),U(Dm,w),U(M2,y),U(L2,x),U(U2,L),U(B2,V),U(V2,B),U(td,E),U(xm,k),U(Y2,F),Lt(T))if(T.length){const W=o.exposed||(o.exposed={});T.forEach(oe=>{Object.defineProperty(W,oe,{get:()=>s[oe],set:J=>s[oe]=J})})}else o.exposed||(o.exposed={});I&&o.render===wa&&(o.render=I),P!=null&&(o.inheritAttrs=P),R&&(o.components=R),O&&(o.directives=O),F&&Dg(o)}function u4(o,a,s=wa){Lt(o)&&(o=Av(o));for(const t in o){const c=o[t];let m;So(c)?"default"in c?m=Je(c.from||t,c.default,!0):m=Je(c.from||t):m=Je(c),_a(m)?Object.defineProperty(a,t,{enumerable:!0,configurable:!0,get:()=>m.value,set:_=>m.value=_}):a[t]=m}}function $b(o,a,s){Tn(Lt(o)?o.map(t=>t.bind(a.proxy)):o.bind(a.proxy),a,s)}function W2(o,a,s,t){let c=t.includes(".")?_k(s,t):()=>s[t];if(ao(o)){const m=a[o];Xt(m)&&ot(c,m)}else if(Xt(o))ot(c,o.bind(s));else if(So(o))if(Lt(o))o.forEach(m=>W2(m,a,s,t));else{const m=Xt(o.handler)?o.handler.bind(s):a[o.handler];Xt(m)&&ot(c,m,o)}}function Ig(o){const a=o.type,{mixins:s,extends:t}=a,{mixins:c,optionsCache:m,config:{optionMergeStrategies:_}}=o.appContext,l=m.get(a);let r;return l?r=l:!c.length&&!s&&!t?r=a:(r={},c.length&&c.forEach(i=>Vf(r,i,_,!0)),Vf(r,a,_)),So(a)&&m.set(a,r),r}function Vf(o,a,s,t=!1){const{mixins:c,extends:m}=a;m&&Vf(o,m,s,!0),c&&c.forEach(_=>Vf(o,_,s,!0));for(const _ in a)if(!(t&&_==="expose")){const l=_4[_]||s&&s[_];o[_]=l?l(o[_],a[_]):a[_]}return o}const _4={data:wb,props:Db,emits:Db,methods:Ac,computed:Ac,beforeCreate:Va,created:Va,beforeMount:Va,mounted:Va,beforeUpdate:Va,updated:Va,beforeDestroy:Va,beforeUnmount:Va,destroyed:Va,unmounted:Va,activated:Va,deactivated:Va,errorCaptured:Va,serverPrefetch:Va,components:Ac,directives:Ac,watch:f4,provide:wb,inject:m4};function wb(o,a){return a?o?function(){return vo(Xt(o)?o.call(this,this):o,Xt(a)?a.call(this,this):a)}:a:o}function m4(o,a){return Ac(Av(o),Av(a))}function Av(o){if(Lt(o)){const a={};for(let s=0;s<o.length;s++)a[o[s]]=o[s];return a}return o}function Va(o,a){return o?[...new Set([].concat(o,a))]:a}function Ac(o,a){return o?vo(Object.create(null),o,a):a}function Db(o,a){return o?Lt(o)&&Lt(a)?[...new Set([...o,...a])]:vo(Object.create(null),Z_(o),Z_(a??{})):a}function f4(o,a){if(!o)return a;if(!a)return o;const s=vo(Object.create(null),o);for(const t in a)s[t]=Va(o[t],a[t]);return s}function K2(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let h4=0;function p4(o,a){return function(t,c=null){Xt(t)||(t=vo({},t)),c!=null&&!So(c)&&(c=null);const m=K2(),_=new WeakSet,l=[];let r=!1;const i=m.app={_uid:h4++,_component:t,_props:c,_container:null,_context:m,_instance:null,version:Ek,get config(){return m.config},set config(d){},use(d,...p){return _.has(d)||(d&&Xt(d.install)?(_.add(d),d.install(i,...p)):Xt(d)&&(_.add(d),d(i,...p))),i},mixin(d){return m.mixins.includes(d)||m.mixins.push(d),i},component(d,p){return p?(m.components[d]=p,i):m.components[d]},directive(d,p){return p?(m.directives[d]=p,i):m.directives[d]},mount(d,p,v){if(!r){const g=i._ceVNode||Be(t,c);return g.appContext=m,v===!0?v="svg":v===!1&&(v=void 0),p&&a?a(g,d):o(g,d,v),r=!0,i._container=d,d.__vue_app__=i,Pm(g.component)}},onUnmount(d){l.push(d)},unmount(){r&&(Tn(l,i._instance,16),o(null,i._container),delete i._container.__vue_app__)},provide(d,p){return m.provides[d]=p,i},runWithContext(d){const p=ai;ai=i;try{return d()}finally{ai=p}}};return i}}let ai=null;function Sh(o,a){if(da){let s=da.provides;const t=da.parent&&da.parent.provides;t===s&&(s=da.provides=Object.create(t)),s[o]=a}}function Je(o,a,s=!1){const t=da||ca;if(t||ai){const c=ai?ai._context.provides:t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:void 0;if(c&&o in c)return c[o];if(arguments.length>1)return s&&Xt(a)?a.call(t&&t.proxy):a}}function v4(){return!!(da||ca||ai)}const G2={},Q2=()=>Object.create(G2),Z2=o=>Object.getPrototypeOf(o)===G2;function g4(o,a,s,t=!1){const c={},m=Q2();o.propsDefaults=Object.create(null),J2(o,a,c,m);for(const _ in o.propsOptions[0])_ in c||(c[_]=void 0);s?o.props=t?c:z_(c):o.type.props?o.props=c:o.props=m,o.attrs=m}function b4(o,a,s,t){const{props:c,attrs:m,vnode:{patchFlag:_}}=o,l=bo(c),[r]=o.propsOptions;let i=!1;if((t||_>0)&&!(_&16)){if(_&8){const d=o.vnode.dynamicProps;for(let p=0;p<d.length;p++){let v=d[p];if(Th(o.emitsOptions,v))continue;const g=a[v];if(r)if(Io(m,v))g!==m[v]&&(m[v]=g,i=!0);else{const w=Uo(v);c[w]=Iv(r,l,w,g,o,!1)}else g!==m[v]&&(m[v]=g,i=!0)}}}else{J2(o,a,c,m)&&(i=!0);let d;for(const p in l)(!a||!Io(a,p)&&((d=Xa(p))===p||!Io(a,d)))&&(r?s&&(s[p]!==void 0||s[d]!==void 0)&&(c[p]=Iv(r,l,p,void 0,o,!0)):delete c[p]);if(m!==l)for(const p in m)(!a||!Io(a,p))&&(delete m[p],i=!0)}i&&Fs(o.attrs,"set","")}function J2(o,a,s,t){const[c,m]=o.propsOptions;let _=!1,l;if(a)for(let r in a){if(kl(r))continue;const i=a[r];let d;c&&Io(c,d=Uo(r))?!m||!m.includes(d)?s[d]=i:(l||(l={}))[d]=i:Th(o.emitsOptions,r)||(!(r in t)||i!==t[r])&&(t[r]=i,_=!0)}if(m){const r=bo(s),i=l||po;for(let d=0;d<m.length;d++){const p=m[d];s[p]=Iv(c,r,p,i[p],o,!Io(i,p))}}return _}function Iv(o,a,s,t,c,m){const _=o[s];if(_!=null){const l=Io(_,"default");if(l&&t===void 0){const r=_.default;if(_.type!==Function&&!_.skipFactory&&Xt(r)){const{propsDefaults:i}=c;if(s in i)t=i[s];else{const d=di(c);t=i[s]=r.call(null,a),d()}}else t=r;c.ce&&c.ce._setProp(s,t)}_[0]&&(m&&!l?t=!1:_[1]&&(t===""||t===Xa(s))&&(t=!0))}return t}const y4=new WeakMap;function X2(o,a,s=!1){const t=s?y4:a.propsCache,c=t.get(o);if(c)return c;const m=o.props,_={},l=[];let r=!1;if(!Xt(o)){const d=p=>{r=!0;const[v,g]=X2(p,a,!0);vo(_,v),g&&l.push(...g)};!s&&a.mixins.length&&a.mixins.forEach(d),o.extends&&d(o.extends),o.mixins&&o.mixins.forEach(d)}if(!m&&!r)return So(o)&&t.set(o,Sr),Sr;if(Lt(m))for(let d=0;d<m.length;d++){const p=Uo(m[d]);xb(p)&&(_[p]=po)}else if(m)for(const d in m){const p=Uo(d);if(xb(p)){const v=m[d],g=_[p]=Lt(v)||Xt(v)?{type:v}:vo({},v),w=g.type;let y=!1,x=!0;if(Lt(w))for(let C=0;C<w.length;++C){const E=w[C],D=Xt(E)&&E.name;if(D==="Boolean"){y=!0;break}else D==="String"&&(x=!1)}else y=Xt(w)&&w.name==="Boolean";g[0]=y,g[1]=x,(y||Io(g,"default"))&&l.push(p)}}const i=[_,l];return So(o)&&t.set(o,i),i}function xb(o){return o[0]!=="$"&&!kl(o)}const ek=o=>o[0]==="_"||o==="$stable",Rg=o=>Lt(o)?o.map(Za):[Za(o)],k4=(o,a,s)=>{if(a._n)return a;const t=Ko((...c)=>Rg(a(...c)),s);return t._c=!1,t},tk=(o,a,s)=>{const t=o._ctx;for(const c in o){if(ek(c))continue;const m=o[c];if(Xt(m))a[c]=k4(c,m,t);else if(m!=null){const _=Rg(m);a[c]=()=>_}}},ok=(o,a)=>{const s=Rg(a);o.slots.default=()=>s},ak=(o,a,s)=>{for(const t in a)(s||t!=="_")&&(o[t]=a[t])},$4=(o,a,s)=>{const t=o.slots=Q2();if(o.vnode.shapeFlag&32){const c=a._;c?(ak(t,a,s),s&&W0(t,"_",c,!0)):tk(a,t)}else a&&ok(o,a)},w4=(o,a,s)=>{const{vnode:t,slots:c}=o;let m=!0,_=po;if(t.shapeFlag&32){const l=a._;l?s&&l===1?m=!1:ak(c,a,s):(m=!a.$stable,tk(a,c)),_=a}else a&&(ok(o,a),_={default:1});if(m)for(const l in c)!ek(l)&&_[l]==null&&delete c[l]},ia=pk;function nk(o){return lk(o)}function sk(o){return lk(o,jP)}function lk(o,a){const s=kh();s.__VUE__=!0;const{insert:t,remove:c,patchProp:m,createElement:_,createText:l,createComment:r,setText:i,setElementText:d,parentNode:p,nextSibling:v,setScopeId:g=wa,insertStaticContent:w}=o,y=(ue,je,ze,Ye=null,ge=null,_e=null,Se=void 0,Ve=null,ke=!!je.dynamicChildren)=>{if(ue===je)return;ue&&!Gn(ue,je)&&(Ye=$e(ue),ae(ue,ge,_e,!0),ue=null),je.patchFlag===-2&&(ke=!1,je.dynamicChildren=null);const{type:te,ref:Ce,shapeFlag:Ne}=je;switch(te){case xl:x(ue,je,ze,Ye);break;case aa:C(ue,je,ze,Ye);break;case ni:ue==null&&E(je,ze,Ye,Se);break;case G:R(ue,je,ze,Ye,ge,_e,Se,Ve,ke);break;default:Ne&1?I(ue,je,ze,Ye,ge,_e,Se,Ve,ke):Ne&6?O(ue,je,ze,Ye,ge,_e,Se,Ve,ke):(Ne&64||Ne&128)&&te.process(ue,je,ze,Ye,ge,_e,Se,Ve,ke,pe)}Ce!=null&&ge&&Q_(Ce,ue&&ue.ref,_e,je||ue,!je)},x=(ue,je,ze,Ye)=>{if(ue==null)t(je.el=l(je.children),ze,Ye);else{const ge=je.el=ue.el;je.children!==ue.children&&i(ge,je.children)}},C=(ue,je,ze,Ye)=>{ue==null?t(je.el=r(je.children||""),ze,Ye):je.el=ue.el},E=(ue,je,ze,Ye)=>{[ue.el,ue.anchor]=w(ue.children,je,ze,Ye,ue.el,ue.anchor)},D=({el:ue,anchor:je},ze,Ye)=>{let ge;for(;ue&&ue!==je;)ge=v(ue),t(ue,ze,Ye),ue=ge;t(je,ze,Ye)},k=({el:ue,anchor:je})=>{let ze;for(;ue&&ue!==je;)ze=v(ue),c(ue),ue=ze;c(je)},I=(ue,je,ze,Ye,ge,_e,Se,Ve,ke)=>{je.type==="svg"?Se="svg":je.type==="math"&&(Se="mathml"),ue==null?V(je,ze,Ye,ge,_e,Se,Ve,ke):F(ue,je,ge,_e,Se,Ve,ke)},V=(ue,je,ze,Ye,ge,_e,Se,Ve)=>{let ke,te;const{props:Ce,shapeFlag:Ne,transition:Ie,dirs:se}=ue;if(ke=ue.el=_(ue.type,_e,Ce&&Ce.is,Ce),Ne&8?d(ke,ue.children):Ne&16&&L(ue.children,ke,null,Ye,ge,Rp(ue,_e),Se,Ve),se&&_s(ue,null,Ye,"created"),B(ke,ue,ue.scopeId,Se,Ye),Ce){for(const Le in Ce)Le!=="value"&&!kl(Le)&&m(ke,Le,null,Ce[Le],_e,Ye);"value"in Ce&&m(ke,"value",null,Ce.value,_e),(te=Ce.onVnodeBeforeMount)&&Ga(te,Ye,ue)}se&&_s(ue,null,Ye,"beforeMount");const fe=ik(ge,Ie);fe&&Ie.beforeEnter(ke),t(ke,je,ze),((te=Ce&&Ce.onVnodeMounted)||fe||se)&&ia(()=>{te&&Ga(te,Ye,ue),fe&&Ie.enter(ke),se&&_s(ue,null,Ye,"mounted")},ge)},B=(ue,je,ze,Ye,ge)=>{if(ze&&g(ue,ze),Ye)for(let _e=0;_e<Ye.length;_e++)g(ue,Ye[_e]);if(ge){let _e=ge.subTree;if(je===_e||Uf(_e.type)&&(_e.ssContent===je||_e.ssFallback===je)){const Se=ge.vnode;B(ue,Se,Se.scopeId,Se.slotScopeIds,ge.parent)}}},L=(ue,je,ze,Ye,ge,_e,Se,Ve,ke=0)=>{for(let te=ke;te<ue.length;te++){const Ce=ue[te]=Ve?hl(ue[te]):Za(ue[te]);y(null,Ce,je,ze,Ye,ge,_e,Se,Ve)}},F=(ue,je,ze,Ye,ge,_e,Se)=>{const Ve=je.el=ue.el;let{patchFlag:ke,dynamicChildren:te,dirs:Ce}=je;ke|=ue.patchFlag&16;const Ne=ue.props||po,Ie=je.props||po;let se;if(ze&&zl(ze,!1),(se=Ie.onVnodeBeforeUpdate)&&Ga(se,ze,je,ue),Ce&&_s(je,ue,ze,"beforeUpdate"),ze&&zl(ze,!0),(Ne.innerHTML&&Ie.innerHTML==null||Ne.textContent&&Ie.textContent==null)&&d(Ve,""),te?T(ue.dynamicChildren,te,Ve,ze,Ye,Rp(je,ge),_e):Se||oe(ue,je,Ve,null,ze,Ye,Rp(je,ge),_e,!1),ke>0){if(ke&16)P(Ve,Ne,Ie,ze,ge);else if(ke&2&&Ne.class!==Ie.class&&m(Ve,"class",null,Ie.class,ge),ke&4&&m(Ve,"style",Ne.style,Ie.style,ge),ke&8){const fe=je.dynamicProps;for(let Le=0;Le<fe.length;Le++){const Ze=fe[Le],at=Ne[Ze],mt=Ie[Ze];(mt!==at||Ze==="value")&&m(Ve,Ze,at,mt,ge,ze)}}ke&1&&ue.children!==je.children&&d(Ve,je.children)}else!Se&&te==null&&P(Ve,Ne,Ie,ze,ge);((se=Ie.onVnodeUpdated)||Ce)&&ia(()=>{se&&Ga(se,ze,je,ue),Ce&&_s(je,ue,ze,"updated")},Ye)},T=(ue,je,ze,Ye,ge,_e,Se)=>{for(let Ve=0;Ve<je.length;Ve++){const ke=ue[Ve],te=je[Ve],Ce=ke.el&&(ke.type===G||!Gn(ke,te)||ke.shapeFlag&70)?p(ke.el):ze;y(ke,te,Ce,null,Ye,ge,_e,Se,!0)}},P=(ue,je,ze,Ye,ge)=>{if(je!==ze){if(je!==po)for(const _e in je)!kl(_e)&&!(_e in ze)&&m(ue,_e,je[_e],null,ge,Ye);for(const _e in ze){if(kl(_e))continue;const Se=ze[_e],Ve=je[_e];Se!==Ve&&_e!=="value"&&m(ue,_e,Ve,Se,ge,Ye)}"value"in ze&&m(ue,"value",je.value,ze.value,ge)}},R=(ue,je,ze,Ye,ge,_e,Se,Ve,ke)=>{const te=je.el=ue?ue.el:l(""),Ce=je.anchor=ue?ue.anchor:l("");let{patchFlag:Ne,dynamicChildren:Ie,slotScopeIds:se}=je;se&&(Ve=Ve?Ve.concat(se):se),ue==null?(t(te,ze,Ye),t(Ce,ze,Ye),L(je.children||[],ze,Ce,ge,_e,Se,Ve,ke)):Ne>0&&Ne&64&&Ie&&ue.dynamicChildren?(T(ue.dynamicChildren,Ie,ze,ge,_e,Se,Ve),(je.key!=null||ge&&je===ge.subTree)&&Sg(ue,je,!0)):oe(ue,je,ze,Ce,ge,_e,Se,Ve,ke)},O=(ue,je,ze,Ye,ge,_e,Se,Ve,ke)=>{je.slotScopeIds=Ve,ue==null?je.shapeFlag&512?ge.ctx.activate(je,ze,Ye,Se,ke):N(je,ze,Ye,ge,_e,Se,ke):S(ue,je,ke)},N=(ue,je,ze,Ye,ge,_e,Se)=>{const Ve=ue.component=kk(ue,Ye,ge);if(wm(ue)&&(Ve.ctx.renderer=pe),wk(Ve,!1,Se),Ve.asyncDep){if(ge&&ge.registerDep(Ve,U,Se),!ue.el){const ke=Ve.subTree=Be(aa);C(null,ke,je,ze)}}else U(Ve,ue,je,ze,ge,_e,Se)},S=(ue,je,ze)=>{const Ye=je.component=ue.component;if(S4(ue,je,ze))if(Ye.asyncDep&&!Ye.asyncResolved){W(Ye,je,ze);return}else Ye.next=je,Ye.update();else je.el=ue.el,Ye.vnode=je},U=(ue,je,ze,Ye,ge,_e,Se)=>{const Ve=()=>{if(ue.isMounted){let{next:Ne,bu:Ie,u:se,parent:fe,vnode:Le}=ue;{const Ot=rk(ue);if(Ot){Ne&&(Ne.el=Le.el,W(ue,Ne,Se)),Ot.asyncDep.then(()=>{ue.isUnmounted||Ve()});return}}let Ze=Ne,at;zl(ue,!1),Ne?(Ne.el=Le.el,W(ue,Ne,Se)):Ne=Le,Ie&&Or(Ie),(at=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Ga(at,fe,Ne,Le),zl(ue,!0);const mt=yf(ue),wt=ue.subTree;ue.subTree=mt,y(wt,mt,p(wt.el),$e(wt),ue,ge,_e),Ne.el=mt.el,Ze===null&&jh(ue,mt.el),se&&ia(se,ge),(at=Ne.props&&Ne.props.onVnodeUpdated)&&ia(()=>Ga(at,fe,Ne,Le),ge)}else{let Ne;const{el:Ie,props:se}=je,{bm:fe,m:Le,parent:Ze,root:at,type:mt}=ue,wt=Dl(je);if(zl(ue,!1),fe&&Or(fe),!wt&&(Ne=se&&se.onVnodeBeforeMount)&&Ga(Ne,Ze,je),zl(ue,!0),Ie&&Me){const Ot=()=>{ue.subTree=yf(ue),Me(Ie,ue.subTree,ue,ge,null)};wt&&mt.__asyncHydrate?mt.__asyncHydrate(Ie,ue,Ot):Ot()}else{at.ce&&at.ce._injectChildStyle(mt);const Ot=ue.subTree=yf(ue);y(null,Ot,ze,Ye,ue,ge,_e),je.el=Ot.el}if(Le&&ia(Le,ge),!wt&&(Ne=se&&se.onVnodeMounted)){const Ot=je;ia(()=>Ga(Ne,Ze,Ot),ge)}(je.shapeFlag&256||Ze&&Dl(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&ue.a&&ia(ue.a,ge),ue.isMounted=!0,je=ze=Ye=null}};ue.scope.on();const ke=ue.effect=new U_(Ve);ue.scope.off();const te=ue.update=ke.run.bind(ke),Ce=ue.job=ke.runIfDirty.bind(ke);Ce.i=ue,Ce.id=ue.uid,ke.scheduler=()=>kg(Ce),zl(ue,!0),te()},W=(ue,je,ze)=>{je.component=ue;const Ye=ue.vnode.props;ue.vnode=je,ue.next=null,b4(ue,je.props,Ye,ze),w4(ue,je.children,ze),Sl(),fb(ue),Tl()},oe=(ue,je,ze,Ye,ge,_e,Se,Ve,ke=!1)=>{const te=ue&&ue.children,Ce=ue?ue.shapeFlag:0,Ne=je.children,{patchFlag:Ie,shapeFlag:se}=je;if(Ie>0){if(Ie&128){K(te,Ne,ze,Ye,ge,_e,Se,Ve,ke);return}else if(Ie&256){J(te,Ne,ze,Ye,ge,_e,Se,Ve,ke);return}}se&8?(Ce&16&&re(te,ge,_e),Ne!==te&&d(ze,Ne)):Ce&16?se&16?K(te,Ne,ze,Ye,ge,_e,Se,Ve,ke):re(te,ge,_e,!0):(Ce&8&&d(ze,""),se&16&&L(Ne,ze,Ye,ge,_e,Se,Ve,ke))},J=(ue,je,ze,Ye,ge,_e,Se,Ve,ke)=>{ue=ue||Sr,je=je||Sr;const te=ue.length,Ce=je.length,Ne=Math.min(te,Ce);let Ie;for(Ie=0;Ie<Ne;Ie++){const se=je[Ie]=ke?hl(je[Ie]):Za(je[Ie]);y(ue[Ie],se,ze,null,ge,_e,Se,Ve,ke)}te>Ce?re(ue,ge,_e,!0,!1,Ne):L(je,ze,Ye,ge,_e,Se,Ve,ke,Ne)},K=(ue,je,ze,Ye,ge,_e,Se,Ve,ke)=>{let te=0;const Ce=je.length;let Ne=ue.length-1,Ie=Ce-1;for(;te<=Ne&&te<=Ie;){const se=ue[te],fe=je[te]=ke?hl(je[te]):Za(je[te]);if(Gn(se,fe))y(se,fe,ze,null,ge,_e,Se,Ve,ke);else break;te++}for(;te<=Ne&&te<=Ie;){const se=ue[Ne],fe=je[Ie]=ke?hl(je[Ie]):Za(je[Ie]);if(Gn(se,fe))y(se,fe,ze,null,ge,_e,Se,Ve,ke);else break;Ne--,Ie--}if(te>Ne){if(te<=Ie){const se=Ie+1,fe=se<Ce?je[se].el:Ye;for(;te<=Ie;)y(null,je[te]=ke?hl(je[te]):Za(je[te]),ze,fe,ge,_e,Se,Ve,ke),te++}}else if(te>Ie)for(;te<=Ne;)ae(ue[te],ge,_e,!0),te++;else{const se=te,fe=te,Le=new Map;for(te=fe;te<=Ie;te++){const gt=je[te]=ke?hl(je[te]):Za(je[te]);gt.key!=null&&Le.set(gt.key,te)}let Ze,at=0;const mt=Ie-fe+1;let wt=!1,Ot=0;const Jt=new Array(mt);for(te=0;te<mt;te++)Jt[te]=0;for(te=se;te<=Ne;te++){const gt=ue[te];if(at>=mt){ae(gt,ge,_e,!0);continue}let Vt;if(gt.key!=null)Vt=Le.get(gt.key);else for(Ze=fe;Ze<=Ie;Ze++)if(Jt[Ze-fe]===0&&Gn(gt,je[Ze])){Vt=Ze;break}Vt===void 0?ae(gt,ge,_e,!0):(Jt[Vt-fe]=te+1,Vt>=Ot?Ot=Vt:wt=!0,y(gt,je[Vt],ze,null,ge,_e,Se,Ve,ke),at++)}const ut=wt?D4(Jt):Sr;for(Ze=ut.length-1,te=mt-1;te>=0;te--){const gt=fe+te,Vt=je[gt],pt=gt+1<Ce?je[gt+1].el:Ye;Jt[te]===0?y(null,Vt,ze,pt,ge,_e,Se,Ve,ke):wt&&(Ze<0||te!==ut[Ze]?z(Vt,ze,pt,2):Ze--)}}},z=(ue,je,ze,Ye,ge=null)=>{const{el:_e,type:Se,transition:Ve,children:ke,shapeFlag:te}=ue;if(te&6){z(ue.component.subTree,je,ze,Ye);return}if(te&128){ue.suspense.move(je,ze,Ye);return}if(te&64){Se.move(ue,je,ze,pe);return}if(Se===G){t(_e,je,ze);for(let Ne=0;Ne<ke.length;Ne++)z(ke[Ne],je,ze,Ye);t(ue.anchor,je,ze);return}if(Se===ni){D(ue,je,ze);return}if(Ye!==2&&te&1&&Ve)if(Ye===0)Ve.beforeEnter(_e),t(_e,je,ze),ia(()=>Ve.enter(_e),ge);else{const{leave:Ne,delayLeave:Ie,afterLeave:se}=Ve,fe=()=>t(_e,je,ze),Le=()=>{Ne(_e,()=>{fe(),se&&se()})};Ie?Ie(_e,fe,Le):Le()}else t(_e,je,ze)},ae=(ue,je,ze,Ye=!1,ge=!1)=>{const{type:_e,props:Se,ref:Ve,children:ke,dynamicChildren:te,shapeFlag:Ce,patchFlag:Ne,dirs:Ie,cacheIndex:se}=ue;if(Ne===-2&&(ge=!1),Ve!=null&&Q_(Ve,null,ze,ue,!0),se!=null&&(je.renderCache[se]=void 0),Ce&256){je.ctx.deactivate(ue);return}const fe=Ce&1&&Ie,Le=!Dl(ue);let Ze;if(Le&&(Ze=Se&&Se.onVnodeBeforeUnmount)&&Ga(Ze,je,ue),Ce&6)he(ue.component,ze,Ye);else{if(Ce&128){ue.suspense.unmount(ze,Ye);return}fe&&_s(ue,null,je,"beforeUnmount"),Ce&64?ue.type.remove(ue,je,ze,pe,Ye):te&&!te.hasOnce&&(_e!==G||Ne>0&&Ne&64)?re(te,je,ze,!1,!0):(_e===G&&Ne&384||!ge&&Ce&16)&&re(ke,je,ze),Ye&&we(ue)}(Le&&(Ze=Se&&Se.onVnodeUnmounted)||fe)&&ia(()=>{Ze&&Ga(Ze,je,ue),fe&&_s(ue,null,je,"unmounted")},ze)},we=ue=>{const{type:je,el:ze,anchor:Ye,transition:ge}=ue;if(je===G){Fe(ze,Ye);return}if(je===ni){k(ue);return}const _e=()=>{c(ze),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(ue.shapeFlag&1&&ge&&!ge.persisted){const{leave:Se,delayLeave:Ve}=ge,ke=()=>Se(ze,_e);Ve?Ve(ue.el,_e,ke):ke()}else _e()},Fe=(ue,je)=>{let ze;for(;ue!==je;)ze=v(ue),c(ue),ue=ze;c(je)},he=(ue,je,ze)=>{const{bum:Ye,scope:ge,job:_e,subTree:Se,um:Ve,m:ke,a:te}=ue;Bf(ke),Bf(te),Ye&&Or(Ye),ge.stop(),_e&&(_e.flags|=8,ae(Se,ue,je,ze)),Ve&&ia(Ve,je),ia(()=>{ue.isUnmounted=!0},je),je&&je.pendingBranch&&!je.isUnmounted&&ue.asyncDep&&!ue.asyncResolved&&ue.suspenseId===je.pendingId&&(je.deps--,je.deps===0&&je.resolve())},re=(ue,je,ze,Ye=!1,ge=!1,_e=0)=>{for(let Se=_e;Se<ue.length;Se++)ae(ue[Se],je,ze,Ye,ge)},$e=ue=>{if(ue.shapeFlag&6)return $e(ue.component.subTree);if(ue.shapeFlag&128)return ue.suspense.next();const je=v(ue.anchor||ue.el),ze=je&&je[C2];return ze?v(ze):je};let De=!1;const ie=(ue,je,ze)=>{ue==null?je._vnode&&ae(je._vnode,null,null,!0):y(je._vnode||null,ue,je,null,null,null,ze),je._vnode=ue,De||(De=!0,fb(),Yf(),De=!1)},pe={p:y,um:ae,m:z,r:we,mt:N,mc:L,pc:oe,pbc:T,n:$e,o};let be,Me;return a&&([be,Me]=a(pe)),{render:ie,hydrate:be,createApp:p4(ie,be)}}function Rp({type:o,props:a},s){return s==="svg"&&o==="foreignObject"||s==="mathml"&&o==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:s}function zl({effect:o,job:a},s){s?(o.flags|=32,a.flags|=4):(o.flags&=-33,a.flags&=-5)}function ik(o,a){return(!o||o&&!o.pendingBranch)&&a&&!a.persisted}function Sg(o,a,s=!1){const t=o.children,c=a.children;if(Lt(t)&&Lt(c))for(let m=0;m<t.length;m++){const _=t[m];let l=c[m];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=c[m]=hl(c[m]),l.el=_.el),!s&&l.patchFlag!==-2&&Sg(_,l)),l.type===xl&&(l.el=_.el)}}function D4(o){const a=o.slice(),s=[0];let t,c,m,_,l;const r=o.length;for(t=0;t<r;t++){const i=o[t];if(i!==0){if(c=s[s.length-1],o[c]<i){a[t]=c,s.push(t);continue}for(m=0,_=s.length-1;m<_;)l=m+_>>1,o[s[l]]<i?m=l+1:_=l;i<o[s[m]]&&(m>0&&(a[t]=s[m-1]),s[m]=t)}}for(m=s.length,_=s[m-1];m-- >0;)s[m]=_,_=a[_];return s}function rk(o){const a=o.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:rk(a)}function Bf(o){if(o)for(let a=0;a<o.length;a++)o[a].flags|=8}const dk=Symbol.for("v-scx"),ck=()=>Je(dk);function j_(o,a){return Cm(o,null,a)}function x4(o,a){return Cm(o,null,{flush:"post"})}function uk(o,a){return Cm(o,null,{flush:"sync"})}function ot(o,a,s){return Cm(o,a,s)}function Cm(o,a,s=po){const{immediate:t,deep:c,flush:m,once:_}=s,l=vo({},s),r=a&&t||!a&&m!=="post";let i;if(qr){if(m==="sync"){const g=ck();i=g.__watcherHandles||(g.__watcherHandles=[])}else if(!r){const g=()=>{};return g.stop=wa,g.resume=wa,g.pause=wa,g}}const d=da;l.call=(g,w,y)=>Tn(g,d,w,y);let p=!1;m==="post"?l.scheduler=g=>{ia(g,d&&d.suspense)}:m!=="sync"&&(p=!0,l.scheduler=(g,w)=>{w?g():kg(g)}),l.augmentJob=g=>{a&&(g.flags|=4),p&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const v=gP(o,a,l);return qr&&(i?i.push(v):r&&v()),v}function C4(o,a,s){const t=this.proxy,c=ao(o)?o.includes(".")?_k(t,o):()=>t[o]:o.bind(t,t);let m;Xt(a)?m=a:(m=a.handler,s=a);const _=di(this),l=Cm(c,m.bind(t),s);return _(),l}function _k(o,a){const s=a.split(".");return()=>{let t=o;for(let c=0;c<s.length&&t;c++)t=t[s[c]];return t}}function P4(o,a,s=po){const t=Ha(),c=Uo(a),m=Xa(a),_=mk(o,c),l=g2((r,i)=>{let d,p=po,v;return uk(()=>{const g=o[c];Ua(d,g)&&(d=g,i())}),{get(){return r(),s.get?s.get(d):d},set(g){const w=s.set?s.set(g):g;if(!Ua(w,d)&&!(p!==po&&Ua(g,p)))return;const y=t.vnode.props;y&&(a in y||c in y||m in y)&&(`onUpdate:${a}`in y||`onUpdate:${c}`in y||`onUpdate:${m}`in y)||(d=g,i()),t.emit(`update:${a}`,w),Ua(g,w)&&Ua(g,p)&&!Ua(w,v)&&i(),p=g,v=w}}});return l[Symbol.iterator]=()=>{let r=0;return{next(){return r<2?{value:r++?_||po:l,done:!1}:{done:!0}}}},l}const mk=(o,a)=>a==="modelValue"||a==="model-value"?o.modelModifiers:o[`${a}Modifiers`]||o[`${Uo(a)}Modifiers`]||o[`${Xa(a)}Modifiers`];function E4(o,a,...s){if(o.isUnmounted)return;const t=o.vnode.props||po;let c=s;const m=a.startsWith("update:"),_=m&&mk(t,a.slice(7));_&&(_.trim&&(c=s.map(d=>ao(d)?d.trim():d)),_.number&&(c=s.map(Of)));let l,r=t[l=jr(a)]||t[l=jr(Uo(a))];!r&&m&&(r=t[l=jr(Xa(a))]),r&&Tn(r,o,6,c);const i=t[l+"Once"];if(i){if(!o.emitted)o.emitted={};else if(o.emitted[l])return;o.emitted[l]=!0,Tn(i,o,6,c)}}function fk(o,a,s=!1){const t=a.emitsCache,c=t.get(o);if(c!==void 0)return c;const m=o.emits;let _={},l=!1;if(!Xt(o)){const r=i=>{const d=fk(i,a,!0);d&&(l=!0,vo(_,d))};!s&&a.mixins.length&&a.mixins.forEach(r),o.extends&&r(o.extends),o.mixins&&o.mixins.forEach(r)}return!m&&!l?(So(o)&&t.set(o,null),null):(Lt(m)?m.forEach(r=>_[r]=null):vo(_,m),So(o)&&t.set(o,_),_)}function Th(o,a){return!o||!ui(a)?!1:(a=a.slice(2).replace(/Once$/,""),Io(o,a[0].toLowerCase()+a.slice(1))||Io(o,Xa(a))||Io(o,a))}function yf(o){const{type:a,vnode:s,proxy:t,withProxy:c,propsOptions:[m],slots:_,attrs:l,emit:r,render:i,renderCache:d,props:p,data:v,setupState:g,ctx:w,inheritAttrs:y}=o,x=G_(o);let C,E;try{if(s.shapeFlag&4){const k=c||t,I=k;C=Za(i.call(I,k,d,p,g,v,w)),E=l}else{const k=a;C=Za(k.length>1?k(p,{attrs:l,slots:_,emit:r}):k(p,null)),E=a.props?l:I4(l)}}catch(k){O_.length=0,fi(k,o,1),C=Be(aa)}let D=C;if(E&&y!==!1){const k=Object.keys(E),{shapeFlag:I}=D;k.length&&I&7&&(m&&k.some(_g)&&(E=R4(E,m)),D=ts(D,E,!1,!0))}return s.dirs&&(D=ts(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(D,s.transition),C=D,G_(x),C}function A4(o,a=!0){let s;for(let t=0;t<o.length;t++){const c=o[t];if(Gs(c)){if(c.type!==aa||c.children==="v-if"){if(s)return;s=c}}else return}return s}const I4=o=>{let a;for(const s in o)(s==="class"||s==="style"||ui(s))&&((a||(a={}))[s]=o[s]);return a},R4=(o,a)=>{const s={};for(const t in o)(!_g(t)||!(t.slice(9)in a))&&(s[t]=o[t]);return s};function S4(o,a,s){const{props:t,children:c,component:m}=o,{props:_,children:l,patchFlag:r}=a,i=m.emitsOptions;if(a.dirs||a.transition)return!0;if(s&&r>=0){if(r&1024)return!0;if(r&16)return t?Cb(t,_,i):!!_;if(r&8){const d=a.dynamicProps;for(let p=0;p<d.length;p++){const v=d[p];if(_[v]!==t[v]&&!Th(i,v))return!0}}}else return(c||l)&&(!l||!l.$stable)?!0:t===_?!1:t?_?Cb(t,_,i):!0:!!_;return!1}function Cb(o,a,s){const t=Object.keys(a);if(t.length!==Object.keys(o).length)return!0;for(let c=0;c<t.length;c++){const m=t[c];if(a[m]!==o[m]&&!Th(s,m))return!0}return!1}function jh({vnode:o,parent:a},s){for(;a;){const t=a.subTree;if(t.suspense&&t.suspense.activeBranch===o&&(t.el=o.el),t===o)(o=a.vnode).el=s,a=a.parent;else break}}const Uf=o=>o.__isSuspense;let Rv=0;const T4={name:"Suspense",__isSuspense:!0,process(o,a,s,t,c,m,_,l,r,i){if(o==null)O4(a,s,t,c,m,_,l,r,i);else{if(m&&m.deps>0&&!o.suspense.isInFallback){a.suspense=o.suspense,a.suspense.vnode=a,a.el=o.el;return}M4(o,a,s,t,c,_,l,r,i)}},hydrate:L4,normalize:N4},j4=T4;function J_(o,a){const s=o.props&&o.props[a];Xt(s)&&s()}function O4(o,a,s,t,c,m,_,l,r){const{p:i,o:{createElement:d}}=r,p=d("div"),v=o.suspense=hk(o,c,t,a,p,s,m,_,l,r);i(null,v.pendingBranch=o.ssContent,p,null,t,v,m,_),v.deps>0?(J_(o,"onPending"),J_(o,"onFallback"),i(null,o.ssFallback,a,s,t,null,m,_),Lr(v,o.ssFallback)):v.resolve(!1,!0)}function M4(o,a,s,t,c,m,_,l,{p:r,um:i,o:{createElement:d}}){const p=a.suspense=o.suspense;p.vnode=a,a.el=o.el;const v=a.ssContent,g=a.ssFallback,{activeBranch:w,pendingBranch:y,isInFallback:x,isHydrating:C}=p;if(y)p.pendingBranch=v,Gn(v,y)?(r(y,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0?p.resolve():x&&(C||(r(w,g,s,t,c,null,m,_,l),Lr(p,g)))):(p.pendingId=Rv++,C?(p.isHydrating=!1,p.activeBranch=y):i(y,c,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),x?(r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0?p.resolve():(r(w,g,s,t,c,null,m,_,l),Lr(p,g))):w&&Gn(v,w)?(r(w,v,s,t,c,p,m,_,l),p.resolve(!0)):(r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0&&p.resolve()));else if(w&&Gn(v,w))r(w,v,s,t,c,p,m,_,l),Lr(p,v);else if(J_(a,"onPending"),p.pendingBranch=v,v.shapeFlag&512?p.pendingId=v.component.suspenseId:p.pendingId=Rv++,r(null,v,p.hiddenContainer,null,c,p,m,_,l),p.deps<=0)p.resolve();else{const{timeout:E,pendingId:D}=p;E>0?setTimeout(()=>{p.pendingId===D&&p.fallback(g)},E):E===0&&p.fallback(g)}}function hk(o,a,s,t,c,m,_,l,r,i,d=!1){const{p,m:v,um:g,n:w,o:{parentNode:y,remove:x}}=i;let C;const E=F4(o);E&&a&&a.pendingBranch&&(C=a.pendingId,a.deps++);const D=o.props?Mf(o.props.timeout):void 0,k=m,I={vnode:o,parent:a,parentComponent:s,namespace:_,container:t,hiddenContainer:c,deps:0,pendingId:Rv++,timeout:typeof D=="number"?D:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(V=!1,B=!1){const{vnode:L,activeBranch:F,pendingBranch:T,pendingId:P,effects:R,parentComponent:O,container:N}=I;let S=!1;I.isHydrating?I.isHydrating=!1:V||(S=F&&T.transition&&T.transition.mode==="out-in",S&&(F.transition.afterLeave=()=>{P===I.pendingId&&(v(T,N,m===k?w(F):m,0),W_(R))}),F&&(y(F.el)===N&&(m=w(F)),g(F,O,I,!0)),S||v(T,N,m,0)),Lr(I,T),I.pendingBranch=null,I.isInFallback=!1;let U=I.parent,W=!1;for(;U;){if(U.pendingBranch){U.effects.push(...R),W=!0;break}U=U.parent}!W&&!S&&W_(R),I.effects=[],E&&a&&a.pendingBranch&&C===a.pendingId&&(a.deps--,a.deps===0&&!B&&a.resolve()),J_(L,"onResolve")},fallback(V){if(!I.pendingBranch)return;const{vnode:B,activeBranch:L,parentComponent:F,container:T,namespace:P}=I;J_(B,"onFallback");const R=w(L),O=()=>{I.isInFallback&&(p(null,V,T,R,F,null,P,l,r),Lr(I,V))},N=V.transition&&V.transition.mode==="out-in";N&&(L.transition.afterLeave=O),I.isInFallback=!0,g(L,F,null,!0),N||O()},move(V,B,L){I.activeBranch&&v(I.activeBranch,V,B,L),I.container=V},next(){return I.activeBranch&&w(I.activeBranch)},registerDep(V,B,L){const F=!!I.pendingBranch;F&&I.deps++;const T=V.vnode.el;V.asyncDep.catch(P=>{fi(P,V,0)}).then(P=>{if(V.isUnmounted||I.isUnmounted||I.pendingId!==V.suspenseId)return;V.asyncResolved=!0;const{vnode:R}=V;Ov(V,P,!1),T&&(R.el=T);const O=!T&&V.subTree.el;B(V,R,y(T||V.subTree.el),T?null:w(V.subTree),I,_,L),O&&x(O),jh(V,R.el),F&&--I.deps===0&&I.resolve()})},unmount(V,B){I.isUnmounted=!0,I.activeBranch&&g(I.activeBranch,s,V,B),I.pendingBranch&&g(I.pendingBranch,s,V,B)}};return I}function L4(o,a,s,t,c,m,_,l,r){const i=a.suspense=hk(a,t,s,o.parentNode,document.createElement("div"),null,c,m,_,l,!0),d=r(o,i.pendingBranch=a.ssContent,s,i,m,_);return i.deps===0&&i.resolve(!1,!0),d}function N4(o){const{shapeFlag:a,children:s}=o,t=a&32;o.ssContent=Pb(t?s.default:s),o.ssFallback=t?Pb(s.fallback):Be(aa)}function Pb(o){let a;if(Xt(o)){const s=ri&&o._c;s&&(o._d=!1,u()),o=o(),s&&(o._d=!0,a=Sa,vk())}return Lt(o)&&(o=A4(o)),o=Za(o),a&&!o.dynamicChildren&&(o.dynamicChildren=a.filter(s=>s!==o)),o}function pk(o,a){a&&a.pendingBranch?Lt(o)?a.effects.push(...o):a.effects.push(o):W_(o)}function Lr(o,a){o.activeBranch=a;const{vnode:s,parentComponent:t}=o;let c=a.el;for(;!c&&a.component;)a=a.component.subTree,c=a.el;s.el=c,t&&t.subTree===s&&(t.vnode.el=c,jh(t,c))}function F4(o){const a=o.props&&o.props.suspensible;return a!=null&&a!==!1}const G=Symbol.for("v-fgt"),xl=Symbol.for("v-txt"),aa=Symbol.for("v-cmt"),ni=Symbol.for("v-stc"),O_=[];let Sa=null;function u(o=!1){O_.push(Sa=o?null:[])}function vk(){O_.pop(),Sa=O_[O_.length-1]||null}let ri=1;function Sv(o,a=!1){ri+=o,o<0&&Sa&&a&&(Sa.hasOnce=!0)}function gk(o){return o.dynamicChildren=ri>0?Sa||Sr:null,vk(),ri>0&&Sa&&Sa.push(o),o}function f(o,a,s,t,c,m){return gk(e(o,a,s,t,c,m,!0))}function me(o,a,s,t,c){return gk(Be(o,a,s,t,c,!0))}function Gs(o){return o?o.__v_isVNode===!0:!1}function Gn(o,a){return o.type===a.type&&o.key===a.key}function Y4(o){}const bk=({key:o})=>o??null,kf=({ref:o,ref_key:a,ref_for:s})=>(typeof o=="number"&&(o=""+o),o!=null?ao(o)||_a(o)||Xt(o)?{i:ca,r:o,k:a,f:!!s}:o:null);function e(o,a=null,s=null,t=0,c=null,m=o===G?0:1,_=!1,l=!1){const r={__v_isVNode:!0,__v_skip:!0,type:o,props:a,key:a&&bk(a),ref:a&&kf(a),scopeId:Ah,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:t,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:ca};return l?(Tg(r,s),m&128&&o.normalize(r)):s&&(r.shapeFlag|=ao(s)?8:16),ri>0&&!_&&Sa&&(r.patchFlag>0||m&6)&&r.patchFlag!==32&&Sa.push(r),r}const Be=V4;function V4(o,a=null,s=null,t=0,c=null,m=!1){if((!o||o===q2)&&(o=aa),Gs(o)){const l=ts(o,a,!0);return s&&Tg(l,s),ri>0&&!m&&Sa&&(l.shapeFlag&6?Sa[Sa.indexOf(o)]=l:Sa.push(l)),l.patchFlag=-2,l}if(W4(o)&&(o=o.__vccOpts),a){a=yk(a);let{class:l,style:r}=a;l&&!ao(l)&&(a.class=rt(l)),So(r)&&(Eh(r)&&!Lt(r)&&(r=vo({},r)),a.style=Rl(r))}const _=ao(o)?1:Uf(o)?128:P2(o)?64:So(o)?4:Xt(o)?2:0;return e(o,a,s,t,c,_,m,!0)}function yk(o){return o?Eh(o)||Z2(o)?vo({},o):o:null}function ts(o,a,s=!1,t=!1){const{props:c,ref:m,patchFlag:_,children:l,transition:r}=o,i=a?$t(c||{},a):c,d={__v_isVNode:!0,__v_skip:!0,type:o.type,props:i,key:i&&bk(i),ref:a&&a.ref?s&&m?Lt(m)?m.concat(kf(a)):[m,kf(a)]:kf(a):m,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:l,target:o.target,targetStart:o.targetStart,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:a&&o.type!==G?_===-1?16:_|16:_,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:r,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&ts(o.ssContent),ssFallback:o.ssFallback&&ts(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce};return r&&t&&Ks(d,r.clone(d)),d}function le(o=" ",a=0){return Be(xl,null,o,a)}function ga(o,a){const s=Be(ni,null,o);return s.staticCount=a,s}function b(o="",a=!1){return a?(u(),me(aa,null,o)):Be(aa,null,o)}function Za(o){return o==null||typeof o=="boolean"?Be(aa):Lt(o)?Be(G,null,o.slice()):Gs(o)?hl(o):Be(xl,null,String(o))}function hl(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:ts(o)}function Tg(o,a){let s=0;const{shapeFlag:t}=o;if(a==null)a=null;else if(Lt(a))s=16;else if(typeof a=="object")if(t&65){const c=a.default;c&&(c._c&&(c._d=!1),Tg(o,c()),c._c&&(c._d=!0));return}else{s=32;const c=a._;!c&&!Z2(a)?a._ctx=ca:c===3&&ca&&(ca.slots._===1?a._=1:(a._=2,o.patchFlag|=1024))}else Xt(a)?(a={default:a,_ctx:ca},s=32):(a=String(a),t&64?(s=16,a=[le(a)]):s=8);o.children=a,o.shapeFlag|=s}function $t(...o){const a={};for(let s=0;s<o.length;s++){const t=o[s];for(const c in t)if(c==="class")a.class!==t.class&&(a.class=rt([a.class,t.class]));else if(c==="style")a.style=Rl([a.style,t.style]);else if(ui(c)){const m=a[c],_=t[c];_&&m!==_&&!(Lt(m)&&m.includes(_))&&(a[c]=m?[].concat(m,_):_)}else c!==""&&(a[c]=t[c])}return a}function Ga(o,a,s,t=null){Tn(o,a,7,[s,t])}const B4=K2();let U4=0;function kk(o,a,s){const t=o.type,c=(a?a.appContext:o.appContext)||B4,m={uid:U4++,vnode:o,type:t,parent:a,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(c.provides),ids:a?a.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:X2(t,c),emitsOptions:fk(t,c),emit:null,emitted:null,propsDefaults:po,inheritAttrs:t.inheritAttrs,ctx:po,data:po,props:po,attrs:po,slots:po,refs:po,setupState:po,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=a?a.root:m,m.emit=E4.bind(null,m),o.ce&&o.ce(m),m}let da=null;const Ha=()=>da||ca;let qf,Tv;{const o=kh(),a=(s,t)=>{let c;return(c=o[s])||(c=o[s]=[]),c.push(t),m=>{c.length>1?c.forEach(_=>_(m)):c[0](m)}};qf=a("__VUE_INSTANCE_SETTERS__",s=>da=s),Tv=a("__VUE_SSR_SETTERS__",s=>qr=s)}const di=o=>{const a=da;return qf(o),o.scope.on(),()=>{o.scope.off(),qf(a)}},jv=()=>{da&&da.scope.off(),qf(null)};function $k(o){return o.vnode.shapeFlag&4}let qr=!1;function wk(o,a=!1,s=!1){a&&Tv(a);const{props:t,children:c}=o.vnode,m=$k(o);g4(o,t,m,a),$4(o,c,s);const _=m?q4(o,a):void 0;return a&&Tv(!1),_}function q4(o,a){const s=o.type;o.accessCache=Object.create(null),o.proxy=new Proxy(o.ctx,Pv);const{setup:t}=s;if(t){Sl();const c=o.setupContext=t.length>1?Ck(o):null,m=di(o),_=ed(t,o,0,[o.props,c]),l=fg(_);if(Tl(),m(),(l||o.sp)&&!Dl(o)&&Dg(o),l){if(_.then(jv,jv),a)return _.then(r=>{Ov(o,r,a)}).catch(r=>{fi(r,o,0)});o.asyncDep=_}else Ov(o,_,a)}else xk(o,a)}function Ov(o,a,s){Xt(a)?o.type.__ssrInlineRender?o.ssrRender=a:o.render=a:So(a)&&(o.setupState=yg(a)),xk(o,s)}let Hf,Mv;function Dk(o){Hf=o,Mv=a=>{a.render._rc&&(a.withProxy=new Proxy(a.ctx,QP))}}const H4=()=>!Hf;function xk(o,a,s){const t=o.type;if(!o.render){if(!a&&Hf&&!t.render){const c=t.template||Ig(o).template;if(c){const{isCustomElement:m,compilerOptions:_}=o.appContext.config,{delimiters:l,compilerOptions:r}=t,i=vo(vo({isCustomElement:m,delimiters:l},_),r);t.render=Hf(c,i)}}o.render=t.render||wa,Mv&&Mv(o)}{const c=di(o);Sl();try{c4(o)}finally{Tl(),c()}}}const z4={get(o,a){return Ia(o,"get",""),o[a]}};function Ck(o){const a=s=>{o.exposed=s||{}};return{attrs:new Proxy(o.attrs,z4),slots:o.slots,emit:o.emit,expose:a}}function Pm(o){return o.exposed?o.exposeProxy||(o.exposeProxy=new Proxy(yg(h2(o.exposed)),{get(a,s){if(s in a)return a[s];if(s in T_)return T_[s](o)},has(a,s){return s in a||s in T_}})):o.proxy}function Lv(o,a=!0){return Xt(o)?o.displayName||o.name:o.name||a&&o.__name}function W4(o){return Xt(o)&&"__vccOpts"in o}const $o=(o,a)=>fP(o,a,qr);function En(o,a,s){const t=arguments.length;return t===2?So(a)&&!Lt(a)?Gs(a)?Be(o,null,[a]):Be(o,a):Be(o,null,a):(t>3?s=Array.prototype.slice.call(arguments,2):t===3&&Gs(s)&&(s=[s]),Be(o,a,s))}function K4(){}function G4(o,a,s,t){const c=s[t];if(c&&Pk(c,o))return c;const m=a();return m.memo=o.slice(),m.cacheIndex=t,s[t]=m}function Pk(o,a){const s=o.memo;if(s.length!=a.length)return!1;for(let t=0;t<s.length;t++)if(Ua(s[t],a[t]))return!1;return ri>0&&Sa&&Sa.push(o),!0}const Ek="3.5.13",Q4=wa,Z4=wP,J4=yr,X4=x2,eE={createComponentInstance:kk,setupComponent:wk,renderComponentRoot:yf,setCurrentRenderingInstance:G_,isVNode:Gs,normalizeVNode:Za,getComponentPublicInstance:Pm,ensureValidVNode:Ag,pushWarningContext:bP,popWarningContext:yP},tE=eE,oE=null,aE=null,nE=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nv;const Eb=typeof window<"u"&&window.trustedTypes;if(Eb)try{Nv=Eb.createPolicy("vue",{createHTML:o=>o})}catch{}const Ak=Nv?o=>Nv.createHTML(o):o=>o,sE="http://www.w3.org/2000/svg",lE="http://www.w3.org/1998/Math/MathML",Ls=typeof document<"u"?document:null,Ab=Ls&&Ls.createElement("template"),iE={insert:(o,a,s)=>{a.insertBefore(o,s||null)},remove:o=>{const a=o.parentNode;a&&a.removeChild(o)},createElement:(o,a,s,t)=>{const c=a==="svg"?Ls.createElementNS(sE,o):a==="mathml"?Ls.createElementNS(lE,o):s?Ls.createElement(o,{is:s}):Ls.createElement(o);return o==="select"&&t&&t.multiple!=null&&c.setAttribute("multiple",t.multiple),c},createText:o=>Ls.createTextNode(o),createComment:o=>Ls.createComment(o),setText:(o,a)=>{o.nodeValue=a},setElementText:(o,a)=>{o.textContent=a},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>Ls.querySelector(o),setScopeId(o,a){o.setAttribute(a,"")},insertStaticContent(o,a,s,t,c,m){const _=s?s.previousSibling:a.lastChild;if(c&&(c===m||c.nextSibling))for(;a.insertBefore(c.cloneNode(!0),s),!(c===m||!(c=c.nextSibling)););else{Ab.innerHTML=Ak(t==="svg"?`<svg>${o}</svg>`:t==="mathml"?`<math>${o}</math>`:o);const l=Ab.content;if(t==="svg"||t==="mathml"){const r=l.firstChild;for(;r.firstChild;)l.appendChild(r.firstChild);l.removeChild(r)}a.insertBefore(l,s)}return[_?_.nextSibling:a.firstChild,s?s.previousSibling:a.lastChild]}},rl="transition",kd="animation",Hr=Symbol("_vtc"),Ik={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rk=vo({},wg,Ik),rE=o=>(o.displayName="Transition",o.props=Rk,o),Sk=rE((o,{slots:a})=>En(T2,Tk(o),a)),Wl=(o,a=[])=>{Lt(o)?o.forEach(s=>s(...a)):o&&o(...a)},Ib=o=>o?Lt(o)?o.some(a=>a.length>1):o.length>1:!1;function Tk(o){const a={};for(const R in o)R in Ik||(a[R]=o[R]);if(o.css===!1)return a;const{name:s="v",type:t,duration:c,enterFromClass:m=`${s}-enter-from`,enterActiveClass:_=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:r=m,appearActiveClass:i=_,appearToClass:d=l,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=o,w=dE(c),y=w&&w[0],x=w&&w[1],{onBeforeEnter:C,onEnter:E,onEnterCancelled:D,onLeave:k,onLeaveCancelled:I,onBeforeAppear:V=C,onAppear:B=E,onAppearCancelled:L=D}=a,F=(R,O,N,S)=>{R._enterCancelled=S,cl(R,O?d:l),cl(R,O?i:_),N&&N()},T=(R,O)=>{R._isLeaving=!1,cl(R,p),cl(R,g),cl(R,v),O&&O()},P=R=>(O,N)=>{const S=R?B:E,U=()=>F(O,R,N);Wl(S,[O,U]),Rb(()=>{cl(O,R?r:m),cs(O,R?d:l),Ib(S)||Sb(O,t,y,U)})};return vo(a,{onBeforeEnter(R){Wl(C,[R]),cs(R,m),cs(R,_)},onBeforeAppear(R){Wl(V,[R]),cs(R,r),cs(R,i)},onEnter:P(!1),onAppear:P(!0),onLeave(R,O){R._isLeaving=!0;const N=()=>T(R,O);cs(R,p),R._enterCancelled?(cs(R,v),Fv()):(Fv(),cs(R,v)),Rb(()=>{R._isLeaving&&(cl(R,p),cs(R,g),Ib(k)||Sb(R,t,x,N))}),Wl(k,[R,N])},onEnterCancelled(R){F(R,!1,void 0,!0),Wl(D,[R])},onAppearCancelled(R){F(R,!0,void 0,!0),Wl(L,[R])},onLeaveCancelled(R){T(R),Wl(I,[R])}})}function dE(o){if(o==null)return null;if(So(o))return[Sp(o.enter),Sp(o.leave)];{const a=Sp(o);return[a,a]}}function Sp(o){return Mf(o)}function cs(o,a){a.split(/\s+/).forEach(s=>s&&o.classList.add(s)),(o[Hr]||(o[Hr]=new Set)).add(a)}function cl(o,a){a.split(/\s+/).forEach(t=>t&&o.classList.remove(t));const s=o[Hr];s&&(s.delete(a),s.size||(o[Hr]=void 0))}function Rb(o){requestAnimationFrame(()=>{requestAnimationFrame(o)})}let cE=0;function Sb(o,a,s,t){const c=o._endId=++cE,m=()=>{c===o._endId&&t()};if(s!=null)return setTimeout(m,s);const{type:_,timeout:l,propCount:r}=jk(o,a);if(!_)return t();const i=_+"end";let d=0;const p=()=>{o.removeEventListener(i,v),m()},v=g=>{g.target===o&&++d>=r&&p()};setTimeout(()=>{d<r&&p()},l+1),o.addEventListener(i,v)}function jk(o,a){const s=window.getComputedStyle(o),t=w=>(s[w]||"").split(", "),c=t(`${rl}Delay`),m=t(`${rl}Duration`),_=Tb(c,m),l=t(`${kd}Delay`),r=t(`${kd}Duration`),i=Tb(l,r);let d=null,p=0,v=0;a===rl?_>0&&(d=rl,p=_,v=m.length):a===kd?i>0&&(d=kd,p=i,v=r.length):(p=Math.max(_,i),d=p>0?_>i?rl:kd:null,v=d?d===rl?m.length:r.length:0);const g=d===rl&&/\b(transform|all)(,|$)/.test(t(`${rl}Property`).toString());return{type:d,timeout:p,propCount:v,hasTransform:g}}function Tb(o,a){for(;o.length<a.length;)o=o.concat(o);return Math.max(...a.map((s,t)=>jb(s)+jb(o[t])))}function jb(o){return o==="auto"?0:Number(o.slice(0,-1).replace(",","."))*1e3}function Fv(){return document.body.offsetHeight}function uE(o,a,s){const t=o[Hr];t&&(a=(a?[a,...t]:[...t]).join(" ")),a==null?o.removeAttribute("class"):s?o.setAttribute("class",a):o.className=a}const zf=Symbol("_vod"),Ok=Symbol("_vsh"),mo={beforeMount(o,{value:a},{transition:s}){o[zf]=o.style.display==="none"?"":o.style.display,s&&a?s.beforeEnter(o):$d(o,a)},mounted(o,{value:a},{transition:s}){s&&a&&s.enter(o)},updated(o,{value:a,oldValue:s},{transition:t}){!a!=!s&&(t?a?(t.beforeEnter(o),$d(o,!0),t.enter(o)):t.leave(o,()=>{$d(o,!1)}):$d(o,a))},beforeUnmount(o,{value:a}){$d(o,a)}};function $d(o,a){o.style.display=a?o[zf]:"none",o[Ok]=!a}function _E(){mo.getSSRProps=({value:o})=>{if(!o)return{style:{display:"none"}}}}const Mk=Symbol("");function mE(o){const a=Ha();if(!a)return;const s=a.ut=(c=o(a.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${a.uid}"]`)).forEach(m=>Wf(m,c))},t=()=>{const c=o(a.proxy);a.ce?Wf(a.ce,c):Yv(a.subTree,c),s(c)};xg(()=>{W_(t)}),Qe(()=>{ot(t,wa,{flush:"post"});const c=new MutationObserver(t);c.observe(a.subTree.el.parentNode,{childList:!0}),xm(()=>c.disconnect())})}function Yv(o,a){if(o.shapeFlag&128){const s=o.suspense;o=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Yv(s.activeBranch,a)})}for(;o.component;)o=o.component.subTree;if(o.shapeFlag&1&&o.el)Wf(o.el,a);else if(o.type===G)o.children.forEach(s=>Yv(s,a));else if(o.type===ni){let{el:s,anchor:t}=o;for(;s&&(Wf(s,a),s!==t);)s=s.nextSibling}}function Wf(o,a){if(o.nodeType===1){const s=o.style;let t="";for(const c in a)s.setProperty(`--${c}`,a[c]),t+=`--${c}: ${a[c]};`;s[Mk]=t}}const fE=/(^|;)\s*display\s*:/;function hE(o,a,s){const t=o.style,c=ao(s);let m=!1;if(s&&!c){if(a)if(ao(a))for(const _ of a.split(";")){const l=_.slice(0,_.indexOf(":")).trim();s[l]==null&&$f(t,l,"")}else for(const _ in a)s[_]==null&&$f(t,_,"");for(const _ in s)_==="display"&&(m=!0),$f(t,_,s[_])}else if(c){if(a!==s){const _=t[Mk];_&&(s+=";"+_),t.cssText=s,m=fE.test(s)}}else a&&o.removeAttribute("style");zf in o&&(o[zf]=m?t.display:"",o[Ok]&&(t.display="none"))}const Ob=/\s*!important$/;function $f(o,a,s){if(Lt(s))s.forEach(t=>$f(o,a,t));else if(s==null&&(s=""),a.startsWith("--"))o.setProperty(a,s);else{const t=pE(o,a);Ob.test(s)?o.setProperty(Xa(t),s.replace(Ob,""),"important"):o[t]=s}}const Mb=["Webkit","Moz","ms"],Tp={};function pE(o,a){const s=Tp[a];if(s)return s;let t=Uo(a);if(t!=="filter"&&t in o)return Tp[a]=t;t=mi(t);for(let c=0;c<Mb.length;c++){const m=Mb[c]+t;if(m in o)return Tp[a]=m}return a}const Lb="http://www.w3.org/1999/xlink";function Nb(o,a,s,t,c,m=SC(a)){t&&a.startsWith("xlink:")?s==null?o.removeAttributeNS(Lb,a.slice(6,a.length)):o.setAttributeNS(Lb,a,s):s==null||m&&!Q0(s)?o.removeAttribute(a):o.setAttribute(a,m?"":on(s)?String(s):s)}function Fb(o,a,s,t,c){if(a==="innerHTML"||a==="textContent"){s!=null&&(o[a]=a==="innerHTML"?Ak(s):s);return}const m=o.tagName;if(a==="value"&&m!=="PROGRESS"&&!m.includes("-")){const l=m==="OPTION"?o.getAttribute("value")||"":o.value,r=s==null?o.type==="checkbox"?"on":"":String(s);(l!==r||!("_value"in o))&&(o.value=r),s==null&&o.removeAttribute(a),o._value=s;return}let _=!1;if(s===""||s==null){const l=typeof o[a];l==="boolean"?s=Q0(s):s==null&&l==="string"?(s="",_=!0):l==="number"&&(s=0,_=!0)}try{o[a]=s}catch{}_&&o.removeAttribute(c||a)}function Vs(o,a,s,t){o.addEventListener(a,s,t)}function vE(o,a,s,t){o.removeEventListener(a,s,t)}const Yb=Symbol("_vei");function gE(o,a,s,t,c=null){const m=o[Yb]||(o[Yb]={}),_=m[a];if(t&&_)_.value=t;else{const[l,r]=bE(a);if(t){const i=m[a]=$E(t,c);Vs(o,l,i,r)}else _&&(vE(o,l,_,r),m[a]=void 0)}}const Vb=/(?:Once|Passive|Capture)$/;function bE(o){let a;if(Vb.test(o)){a={};let t;for(;t=o.match(Vb);)o=o.slice(0,o.length-t[0].length),a[t[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):Xa(o.slice(2)),a]}let jp=0;const yE=Promise.resolve(),kE=()=>jp||(yE.then(()=>jp=0),jp=Date.now());function $E(o,a){const s=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=s.attached)return;Tn(wE(t,s.value),a,5,[t])};return s.value=o,s.attached=kE(),s}function wE(o,a){if(Lt(a)){const s=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{s.call(o),o._stopped=!0},a.map(t=>c=>!c._stopped&&t&&t(c))}else return a}const Bb=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)>96&&o.charCodeAt(2)<123,DE=(o,a,s,t,c,m)=>{const _=c==="svg";a==="class"?uE(o,t,_):a==="style"?hE(o,s,t):ui(a)?_g(a)||gE(o,a,s,t,m):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):xE(o,a,t,_))?(Fb(o,a,t),!o.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Nb(o,a,t,_,m,a!=="value")):o._isVueCE&&(/[A-Z]/.test(a)||!ao(t))?Fb(o,Uo(a),t,m,a):(a==="true-value"?o._trueValue=t:a==="false-value"&&(o._falseValue=t),Nb(o,a,t,_))};function xE(o,a,s,t){if(t)return!!(a==="innerHTML"||a==="textContent"||a in o&&Bb(a)&&Xt(s));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&o.tagName==="INPUT"||a==="type"&&o.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const c=o.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return Bb(a)&&ao(s)?!1:a in o}const Ub={};/*! #__NO_SIDE_EFFECTS__ */function Lk(o,a,s){const t=Oa(o,a);bh(t)&&vo(t,a);class c extends Oh{constructor(_){super(t,_,s)}}return c.def=t,c}/*! #__NO_SIDE_EFFECTS__ */const CE=(o,a)=>Lk(o,a,Gk),PE=typeof HTMLElement<"u"?HTMLElement:class{};class Oh extends PE{constructor(a,s={},t=Ke){super(),this._def=a,this._props=s,this._createApp=t,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&t!==Ke?this._root=this.shadowRoot:a.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof Oh){this._parent=a;break}this._instance||(this._resolved?(this._setParent(),this._update()):a&&a._pendingResolve?this._pendingResolve=a._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(a=this._parent){a&&(this._instance.parent=a._instance,this._instance.provides=a._instance.provides)}disconnectedCallback(){this._connected=!1,bt(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);this._ob=new MutationObserver(t=>{for(const c of t)this._setAttr(c.attributeName)}),this._ob.observe(this,{attributes:!0});const a=(t,c=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:m,styles:_}=t;let l;if(m&&!Lt(m))for(const r in m){const i=m[r];(i===Number||i&&i.type===Number)&&(r in this._props&&(this._props[r]=Mf(this._props[r])),(l||(l=Object.create(null)))[Uo(r)]=!0)}this._numberProps=l,c&&this._resolveProps(t),this.shadowRoot&&this._applyStyles(_),this._mount(t)},s=this._def.__asyncLoader;s?this._pendingResolve=s().then(t=>a(this._def=t,!0)):a(this._def)}_mount(a){this._app=this._createApp(a),a.configureApp&&a.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const s=this._instance&&this._instance.exposed;if(s)for(const t in s)Io(this,t)||Object.defineProperty(this,t,{get:()=>wl(s[t])})}_resolveProps(a){const{props:s}=a,t=Lt(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&t.includes(c)&&this._setProp(c,this[c]);for(const c of t.map(Uo))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(m){this._setProp(c,m,!0,!0)}})}_setAttr(a){if(a.startsWith("data-v-"))return;const s=this.hasAttribute(a);let t=s?this.getAttribute(a):Ub;const c=Uo(a);s&&this._numberProps&&this._numberProps[c]&&(t=Mf(t)),this._setProp(c,t,!1,!0)}_getProp(a){return this._props[a]}_setProp(a,s,t=!0,c=!1){if(s!==this._props[a]&&(s===Ub?delete this._props[a]:(this._props[a]=s,a==="key"&&this._app&&(this._app._ceVNode.key=s)),c&&this._instance&&this._update(),t)){const m=this._ob;m&&m.disconnect(),s===!0?this.setAttribute(Xa(a),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Xa(a),s+""):s||this.removeAttribute(Xa(a)),m&&m.observe(this,{attributes:!0})}}_update(){Kk(this._createVNode(),this._root)}_createVNode(){const a={};this.shadowRoot||(a.onVnodeMounted=a.onVnodeUpdated=this._renderSlots.bind(this));const s=Be(this._def,vo(a,this._props));return this._instance||(s.ce=t=>{this._instance=t,t.ce=this,t.isCE=!0;const c=(m,_)=>{this.dispatchEvent(new CustomEvent(m,bh(_[0])?vo({detail:_},_[0]):{detail:_}))};t.emit=(m,..._)=>{c(m,_),Xa(m)!==m&&c(Xa(m),_)},this._setParent()}),s}_applyStyles(a,s){if(!a)return;if(s){if(s===this._def||this._styleChildren.has(s))return;this._styleChildren.add(s)}const t=this._nonce;for(let c=a.length-1;c>=0;c--){const m=document.createElement("style");t&&m.setAttribute("nonce",t),m.textContent=a[c],this.shadowRoot.prepend(m)}}_parseSlots(){const a=this._slots={};let s;for(;s=this.firstChild;){const t=s.nodeType===1&&s.getAttribute("slot")||"default";(a[t]||(a[t]=[])).push(s),this.removeChild(s)}}_renderSlots(){const a=(this._teleportTarget||this).querySelectorAll("slot"),s=this._instance.type.__scopeId;for(let t=0;t<a.length;t++){const c=a[t],m=c.getAttribute("name")||"default",_=this._slots[m],l=c.parentNode;if(_)for(const r of _){if(s&&r.nodeType===1){const i=s+"-s",d=document.createTreeWalker(r,1);r.setAttribute(i,"");let p;for(;p=d.nextNode();)p.setAttribute(i,"")}l.insertBefore(r,c)}else for(;c.firstChild;)l.insertBefore(c.firstChild,c);l.removeChild(c)}}_injectChildStyle(a){this._applyStyles(a.styles,a)}_removeChildStyle(a){}}function Nk(o){const a=Ha(),s=a&&a.ce;return s||null}function EE(){const o=Nk();return o&&o.shadowRoot}function AE(o="$style"){{const a=Ha();if(!a)return po;const s=a.type.__cssModules;if(!s)return po;const t=s[o];return t||po}}const Fk=new WeakMap,Yk=new WeakMap,Kf=Symbol("_moveCb"),qb=Symbol("_enterCb"),IE=o=>(delete o.props.mode,o),RE=IE({name:"TransitionGroup",props:vo({},Rk,{tag:String,moveClass:String}),setup(o,{slots:a}){const s=Ha(),t=$g();let c,m;return Dm(()=>{if(!c.length)return;const _=o.moveClass||`${o.name||"v"}-move`;if(!OE(c[0].el,s.vnode.el,_))return;c.forEach(SE),c.forEach(TE);const l=c.filter(jE);Fv(),l.forEach(r=>{const i=r.el,d=i.style;cs(i,_),d.transform=d.webkitTransform=d.transitionDuration="";const p=i[Kf]=v=>{v&&v.target!==i||(!v||/transform$/.test(v.propertyName))&&(i.removeEventListener("transitionend",p),i[Kf]=null,cl(i,_))};i.addEventListener("transitionend",p)})}),()=>{const _=bo(o),l=Tk(_);let r=_.tag||G;if(c=[],m)for(let i=0;i<m.length;i++){const d=m[i];d.el&&d.el instanceof Element&&(c.push(d),Ks(d,Ur(d,l,t,s)),Fk.set(d,d.el.getBoundingClientRect()))}m=a.default?Ih(a.default()):[];for(let i=0;i<m.length;i++){const d=m[i];d.key!=null&&Ks(d,Ur(d,l,t,s))}return Be(r,null,m)}}}),Vk=RE;function SE(o){const a=o.el;a[Kf]&&a[Kf](),a[qb]&&a[qb]()}function TE(o){Yk.set(o,o.el.getBoundingClientRect())}function jE(o){const a=Fk.get(o),s=Yk.get(o),t=a.left-s.left,c=a.top-s.top;if(t||c){const m=o.el.style;return m.transform=m.webkitTransform=`translate(${t}px,${c}px)`,m.transitionDuration="0s",o}}function OE(o,a,s){const t=o.cloneNode(),c=o[Hr];c&&c.forEach(l=>{l.split(/\s+/).forEach(r=>r&&t.classList.remove(r))}),s.split(/\s+/).forEach(l=>l&&t.classList.add(l)),t.style.display="none";const m=a.nodeType===1?a:a.parentNode;m.appendChild(t);const{hasTransform:_}=jk(t);return m.removeChild(t),_}const Il=o=>{const a=o.props["onUpdate:modelValue"]||!1;return Lt(a)?s=>Or(a,s):a};function ME(o){o.target.composing=!0}function Hb(o){const a=o.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const Sn=Symbol("_assign"),X={created(o,{modifiers:{lazy:a,trim:s,number:t}},c){o[Sn]=Il(c);const m=t||c.props&&c.props.type==="number";Vs(o,a?"change":"input",_=>{if(_.target.composing)return;let l=o.value;s&&(l=l.trim()),m&&(l=Of(l)),o[Sn](l)}),s&&Vs(o,"change",()=>{o.value=o.value.trim()}),a||(Vs(o,"compositionstart",ME),Vs(o,"compositionend",Hb),Vs(o,"change",Hb))},mounted(o,{value:a}){o.value=a??""},beforeUpdate(o,{value:a,oldValue:s,modifiers:{lazy:t,trim:c,number:m}},_){if(o[Sn]=Il(_),o.composing)return;const l=(m||o.type==="number")&&!/^0\d/.test(o.value)?Of(o.value):o.value,r=a??"";l!==r&&(document.activeElement===o&&o.type!=="range"&&(t&&a===s||c&&o.value.trim()===r)||(o.value=r))}},Yo={deep:!0,created(o,a,s){o[Sn]=Il(s),Vs(o,"change",()=>{const t=o._modelValue,c=zr(o),m=o.checked,_=o[Sn];if(Lt(t)){const l=$h(t,c),r=l!==-1;if(m&&!r)_(t.concat(c));else if(!m&&r){const i=[...t];i.splice(l,1),_(i)}}else if(_i(t)){const l=new Set(t);m?l.add(c):l.delete(c),_(l)}else _(Bk(o,m))})},mounted:zb,beforeUpdate(o,a,s){o[Sn]=Il(s),zb(o,a,s)}};function zb(o,{value:a,oldValue:s},t){o._modelValue=a;let c;if(Lt(a))c=$h(a,t.props.value)>-1;else if(_i(a))c=a.has(t.props.value);else{if(a===s)return;c=El(a,Bk(o,!0))}o.checked!==c&&(o.checked=c)}const X_={created(o,{value:a},s){o.checked=El(a,s.props.value),o[Sn]=Il(s),Vs(o,"change",()=>{o[Sn](zr(o))})},beforeUpdate(o,{value:a,oldValue:s},t){o[Sn]=Il(t),a!==s&&(o.checked=El(a,t.props.value))}},de={deep:!0,created(o,{value:a,modifiers:{number:s}},t){const c=_i(a);Vs(o,"change",()=>{const m=Array.prototype.filter.call(o.options,_=>_.selected).map(_=>s?Of(zr(_)):zr(_));o[Sn](o.multiple?c?new Set(m):m:m[0]),o._assigning=!0,bt(()=>{o._assigning=!1})}),o[Sn]=Il(t)},mounted(o,{value:a}){Wb(o,a)},beforeUpdate(o,a,s){o[Sn]=Il(s)},updated(o,{value:a}){o._assigning||Wb(o,a)}};function Wb(o,a){const s=o.multiple,t=Lt(a);if(!(s&&!t&&!_i(a))){for(let c=0,m=o.options.length;c<m;c++){const _=o.options[c],l=zr(_);if(s)if(t){const r=typeof l;r==="string"||r==="number"?_.selected=a.some(i=>String(i)===String(l)):_.selected=$h(a,l)>-1}else _.selected=a.has(l);else if(El(zr(_),a)){o.selectedIndex!==c&&(o.selectedIndex=c);return}}!s&&o.selectedIndex!==-1&&(o.selectedIndex=-1)}}function zr(o){return"_value"in o?o._value:o.value}function Bk(o,a){const s=a?"_trueValue":"_falseValue";return s in o?o[s]:a}const Uk={created(o,a,s){af(o,a,s,null,"created")},mounted(o,a,s){af(o,a,s,null,"mounted")},beforeUpdate(o,a,s,t){af(o,a,s,t,"beforeUpdate")},updated(o,a,s,t){af(o,a,s,t,"updated")}};function qk(o,a){switch(o){case"SELECT":return de;case"TEXTAREA":return X;default:switch(a){case"checkbox":return Yo;case"radio":return X_;default:return X}}}function af(o,a,s,t,c){const _=qk(o.tagName,s.props&&s.props.type)[c];_&&_(o,a,s,t)}function LE(){X.getSSRProps=({value:o})=>({value:o}),X_.getSSRProps=({value:o},a)=>{if(a.props&&El(a.props.value,o))return{checked:!0}},Yo.getSSRProps=({value:o},a)=>{if(Lt(o)){if(a.props&&$h(o,a.props.value)>-1)return{checked:!0}}else if(_i(o)){if(a.props&&o.has(a.props.value))return{checked:!0}}else if(o)return{checked:!0}},Uk.getSSRProps=(o,a)=>{if(typeof a.type!="string")return;const s=qk(a.type.toUpperCase(),a.props&&a.props.type);if(s.getSSRProps)return s.getSSRProps(o,a)}}const NE=["ctrl","shift","alt","meta"],FE={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,a)=>NE.some(s=>o[`${s}Key`]&&!a.includes(s))},st=(o,a)=>{const s=o._withMods||(o._withMods={}),t=a.join(".");return s[t]||(s[t]=(c,...m)=>{for(let _=0;_<a.length;_++){const l=FE[a[_]];if(l&&l(c,a))return}return o(c,...m)})},YE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ee=(o,a)=>{const s=o._withKeys||(o._withKeys={}),t=a.join(".");return s[t]||(s[t]=c=>{if(!("key"in c))return;const m=Xa(c.key);if(a.some(_=>_===m||YE[_]===m))return o(c)})},Hk=vo({patchProp:DE},iE);let M_,Kb=!1;function zk(){return M_||(M_=nk(Hk))}function Wk(){return M_=Kb?M_:sk(Hk),Kb=!0,M_}const Kk=(...o)=>{zk().render(...o)},VE=(...o)=>{Wk().hydrate(...o)},Ke=(...o)=>{const a=zk().createApp(...o),{mount:s}=a;return a.mount=t=>{const c=Zk(t);if(!c)return;const m=a._component;!Xt(m)&&!m.render&&!m.template&&(m.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const _=s(c,!1,Qk(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),_},a},Gk=(...o)=>{const a=Wk().createApp(...o),{mount:s}=a;return a.mount=t=>{const c=Zk(t);if(c)return s(c,!0,Qk(c))},a};function Qk(o){if(o instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&o instanceof MathMLElement)return"mathml"}function Zk(o){return ao(o)?document.querySelector(o):o}let Gb=!1;const BE=()=>{Gb||(Gb=!0,LE(),_E())},UE=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:T2,BaseTransitionPropsValidators:wg,Comment:aa,DeprecationTypes:nE,EffectScope:pg,ErrorCodes:$P,ErrorTypeStrings:Z4,Fragment:G,KeepAlive:zP,ReactiveEffect:U_,Static:ni,Suspense:j4,Teleport:A2,Text:xl,TrackOpTypes:hP,Transition:Sk,TransitionGroup:Vk,TriggerOpTypes:pP,VueElement:Oh,assertNumber:kP,callWithAsyncErrorHandling:Tn,callWithErrorHandling:ed,camelize:Uo,capitalize:mi,cloneVNode:ts,compatUtils:aE,computed:$o,createApp:Ke,createBlock:me,createCommentVNode:b,createElementBlock:f,createElementVNode:e,createHydrationRenderer:sk,createPropsRestProxy:r4,createRenderer:nk,createSSRApp:Gk,createSlots:GP,createStaticVNode:ga,createTextVNode:le,createVNode:Be,customRef:g2,defineAsyncComponent:qP,defineComponent:Oa,defineCustomElement:Lk,defineEmits:JP,defineExpose:XP,defineModel:o4,defineOptions:e4,defineProps:ZP,defineSSRCustomElement:CE,defineSlots:t4,devtools:J4,effect:LC,effectScope:jC,getCurrentInstance:Ha,getCurrentScope:X0,getCurrentWatcher:vP,getTransitionRawChildren:Ih,guardReactiveProps:yk,h:En,handleError:fi,hasInjectionContext:v4,hydrate:VE,hydrateOnIdle:NP,hydrateOnInteraction:BP,hydrateOnMediaQuery:VP,hydrateOnVisible:YP,initCustomFormatter:K4,initDirectivesForSSR:BE,inject:Je,isMemoSame:Pk,isProxy:Eh,isReactive:$l,isReadonly:Al,isRef:_a,isRuntimeOnly:H4,isShallow:hn,isVNode:Gs,markRaw:h2,mergeDefaults:l4,mergeModels:i4,mergeProps:$t,nextTick:bt,normalizeClass:rt,normalizeProps:G0,normalizeStyle:Rl,onActivated:M2,onBeforeMount:F2,onBeforeUnmount:td,onBeforeUpdate:xg,onDeactivated:L2,onErrorCaptured:U2,onMounted:Qe,onRenderTracked:B2,onRenderTriggered:V2,onScopeDispose:OC,onServerPrefetch:Y2,onUnmounted:xm,onUpdated:Dm,onWatcherCleanup:y2,openBlock:u,popScopeId:PP,provide:Sh,proxyRefs:yg,pushScopeId:CP,queuePostFlushCb:W_,reactive:Rn,readonly:Ch,ref:h,registerRuntimeCompiler:Dk,render:Kk,renderList:ee,renderSlot:jo,resolveComponent:ce,resolveDirective:Pg,resolveDynamicComponent:$a,resolveFilter:oE,resolveTransitionHooks:Ur,setBlockTracking:Sv,setDevtoolsHook:X4,setTransitionHooks:Ks,shallowReactive:z_,shallowReadonly:aP,shallowRef:p2,ssrContextKey:dk,ssrUtils:tE,stop:NC,toDisplayString:n,toHandlerKey:jr,toHandlers:H2,toRaw:bo,toRef:_P,toRefs:dP,toValue:lP,transformVNodeArgs:Y4,triggerRef:sP,unref:wl,useAttrs:s4,useCssModule:AE,useCssVars:mE,useHost:Nk,useId:O2,useModel:P4,useSSRContext:ck,useShadowRoot:EE,useSlots:n4,useTemplateRef:RP,useTransitionState:$g,vModelCheckbox:Yo,vModelDynamic:Uk,vModelRadio:X_,vModelSelect:de,vModelText:X,vShow:mo,version:Ek,warn:Q4,watch:ot,watchEffect:j_,watchPostEffect:x4,watchSyncEffect:uk,withAsyncContext:d4,withCtx:Ko,withDefaults:a4,withDirectives:Y,withKeys:Ee,withMemo:G4,withModifiers:st,withScopeId:EP},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const em=Symbol(""),L_=Symbol(""),jg=Symbol(""),Gf=Symbol(""),Jk=Symbol(""),ci=Symbol(""),Xk=Symbol(""),e$=Symbol(""),Og=Symbol(""),Mg=Symbol(""),Em=Symbol(""),Lg=Symbol(""),t$=Symbol(""),Ng=Symbol(""),Fg=Symbol(""),Yg=Symbol(""),Vg=Symbol(""),Bg=Symbol(""),Ug=Symbol(""),o$=Symbol(""),a$=Symbol(""),Mh=Symbol(""),Qf=Symbol(""),qg=Symbol(""),Hg=Symbol(""),tm=Symbol(""),Am=Symbol(""),zg=Symbol(""),Vv=Symbol(""),qE=Symbol(""),Bv=Symbol(""),Zf=Symbol(""),HE=Symbol(""),zE=Symbol(""),Wg=Symbol(""),WE=Symbol(""),KE=Symbol(""),Kg=Symbol(""),n$=Symbol(""),Wr={[em]:"Fragment",[L_]:"Teleport",[jg]:"Suspense",[Gf]:"KeepAlive",[Jk]:"BaseTransition",[ci]:"openBlock",[Xk]:"createBlock",[e$]:"createElementBlock",[Og]:"createVNode",[Mg]:"createElementVNode",[Em]:"createCommentVNode",[Lg]:"createTextVNode",[t$]:"createStaticVNode",[Ng]:"resolveComponent",[Fg]:"resolveDynamicComponent",[Yg]:"resolveDirective",[Vg]:"resolveFilter",[Bg]:"withDirectives",[Ug]:"renderList",[o$]:"renderSlot",[a$]:"createSlots",[Mh]:"toDisplayString",[Qf]:"mergeProps",[qg]:"normalizeClass",[Hg]:"normalizeStyle",[tm]:"normalizeProps",[Am]:"guardReactiveProps",[zg]:"toHandlers",[Vv]:"camelize",[qE]:"capitalize",[Bv]:"toHandlerKey",[Zf]:"setBlockTracking",[HE]:"pushScopeId",[zE]:"popScopeId",[Wg]:"withCtx",[WE]:"unref",[KE]:"isRef",[Kg]:"withMemo",[n$]:"isMemoSame"};function GE(o){Object.getOwnPropertySymbols(o).forEach(a=>{Wr[a]=o[a]})}const vn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function QE(o,a=""){return{type:0,source:a,children:o,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:vn}}function om(o,a,s,t,c,m,_,l=!1,r=!1,i=!1,d=vn){return o&&(l?(o.helper(ci),o.helper(Qr(o.inSSR,i))):o.helper(Gr(o.inSSR,i)),_&&o.helper(Bg)),{type:13,tag:a,props:s,children:t,patchFlag:c,dynamicProps:m,directives:_,isBlock:l,disableTracking:r,isComponent:i,loc:d}}function si(o,a=vn){return{type:17,loc:a,elements:o}}function An(o,a=vn){return{type:15,loc:a,properties:o}}function oa(o,a){return{type:16,loc:vn,key:ao(o)?so(o,!0):o,value:a}}function so(o,a=!1,s=vn,t=0){return{type:4,loc:s,content:o,isStatic:a,constType:a?3:t}}function es(o,a=vn){return{type:8,loc:a,children:o}}function ra(o,a=[],s=vn){return{type:14,loc:s,callee:o,arguments:a}}function Kr(o,a=void 0,s=!1,t=!1,c=vn){return{type:18,params:o,returns:a,newline:s,isSlot:t,loc:c}}function Uv(o,a,s,t=!0){return{type:19,test:o,consequent:a,alternate:s,newline:t,loc:vn}}function ZE(o,a,s=!1,t=!1){return{type:20,index:o,value:a,needPauseTracking:s,inVOnce:t,needArraySpread:!1,loc:vn}}function JE(o){return{type:21,body:o,loc:vn}}function Gr(o,a){return o||a?Og:Mg}function Qr(o,a){return o||a?Xk:e$}function Gg(o,{helper:a,removeHelper:s,inSSR:t}){o.isBlock||(o.isBlock=!0,s(Gr(t,o.isComponent)),a(ci),a(Qr(t,o.isComponent)))}const Qb=new Uint8Array([123,123]),Zb=new Uint8Array([125,125]);function Jb(o){return o>=97&&o<=122||o>=65&&o<=90}function cn(o){return o===32||o===10||o===9||o===12||o===13}function dl(o){return o===47||o===62||cn(o)}function Jf(o){const a=new Uint8Array(o.length);for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a}const Ca={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class XE{constructor(a,s){this.stack=a,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Qb,this.delimiterClose=Zb,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Qb,this.delimiterClose=Zb}getPos(a){let s=1,t=a+1;for(let c=this.newlines.length-1;c>=0;c--){const m=this.newlines[c];if(a>m){s=c+2,t=a-m;break}}return{column:t,line:s,offset:a}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(a){a===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&a===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(a))}stateInterpolationOpen(a){if(a===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(a)):(this.state=1,this.stateText(a))}stateInterpolation(a){a===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(a))}stateInterpolationClose(a){a===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(a))}stateSpecialStartSequence(a){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?dl(a):(a|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(a)}stateInRCDATA(a){if(this.sequenceIndex===this.currentSequence.length){if(a===62||cn(a)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const t=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=t}this.sectionStart=s+2,this.stateInClosingTagName(a),this.inRCDATA=!1;return}this.sequenceIndex=0}(a|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ca.TitleEnd||this.currentSequence===Ca.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&a===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(a)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(a===60)}stateCDATASequence(a){a===Ca.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ca.Cdata.length&&(this.state=28,this.currentSequence=Ca.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(a))}fastForwardTo(a){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===a)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(a){a===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ca.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):a!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(a,s){this.enterRCDATA(a,s),this.state=31}enterRCDATA(a,s){this.inRCDATA=!0,this.currentSequence=a,this.sequenceIndex=s}stateBeforeTagName(a){a===33?(this.state=22,this.sectionStart=this.index+1):a===63?(this.state=24,this.sectionStart=this.index+1):Jb(a)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:a===116?this.state=30:this.state=a===115?29:6):a===47?this.state=8:(this.state=1,this.stateText(a))}stateInTagName(a){dl(a)&&this.handleTagName(a)}stateInSFCRootTagName(a){if(dl(a)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(Jf("</"+s),0),this.handleTagName(a)}}handleTagName(a){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(a)}stateBeforeClosingTagName(a){cn(a)||(a===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Jb(a)?9:27,this.sectionStart=this.index))}stateInClosingTagName(a){(a===62||cn(a))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(a))}stateAfterClosingTagName(a){a===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(a){a===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):a===47?this.state=7:a===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):cn(a)||this.handleAttrStart(a)}handleAttrStart(a){a===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):a===46||a===58||a===64||a===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(a){a===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):cn(a)||(this.state=11,this.stateBeforeAttrName(a))}stateInAttrName(a){(a===61||dl(a))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(a))}stateInDirName(a){a===61||dl(a)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):a===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(a){a===61||dl(a)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===91?this.state=15:a===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(a){a===93?this.state=14:(a===61||dl(a))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(a))}stateInDirModifier(a){a===61||dl(a)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(a)):a===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(a){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(a)}stateAfterAttrName(a){a===61?this.state=18:a===47||a===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(a)):cn(a)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(a))}stateBeforeAttrValue(a){a===34?(this.state=19,this.sectionStart=this.index+1):a===39?(this.state=20,this.sectionStart=this.index+1):cn(a)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(a))}handleInAttrValue(a,s){(a===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(a){this.handleInAttrValue(a,34)}stateInAttrValueSingleQuotes(a){this.handleInAttrValue(a,39)}stateInAttrValueNoQuotes(a){cn(a)||a===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(a)):(a===39||a===60||a===61||a===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(a){a===91?(this.state=26,this.sequenceIndex=0):this.state=a===45?25:23}stateInDeclaration(a){(a===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(a){(a===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(a){a===45?(this.state=28,this.currentSequence=Ca.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(a){(a===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(a){a===Ca.ScriptEnd[3]?this.startSpecial(Ca.ScriptEnd,4):a===Ca.StyleEnd[3]?this.startSpecial(Ca.StyleEnd,4):(this.state=6,this.stateInTagName(a))}stateBeforeSpecialT(a){a===Ca.TitleEnd[3]?this.startSpecial(Ca.TitleEnd,4):a===Ca.TextareaEnd[3]?this.startSpecial(Ca.TextareaEnd,4):(this.state=6,this.stateInTagName(a))}startEntity(){}stateInEntity(){}parse(a){for(this.buffer=a;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const a=this.buffer.length;this.sectionStart>=a||(this.state===28?this.currentSequence===Ca.CdataEnd?this.cbs.oncdata(this.sectionStart,a):this.cbs.oncomment(this.sectionStart,a):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,a))}emitCodePoint(a,s){}}function Xb(o,{compatConfig:a}){const s=a&&a[o];return o==="MODE"?s||3:s}function li(o,a){const s=Xb("MODE",a),t=Xb(o,a);return s===3?t===!0:t!==!1}function am(o,a,s,...t){return li(o,a)}function Qg(o){throw o}function s$(o){}function Go(o,a,s,t){const c=`https://vuejs.org/error-reference/#compiler-${o}`,m=new SyntaxError(String(c));return m.code=o,m.loc=a,m}const en=o=>o.type===4&&o.isStatic;function l$(o){switch(o){case"Teleport":case"teleport":return L_;case"Suspense":case"suspense":return jg;case"KeepAlive":case"keep-alive":return Gf;case"BaseTransition":case"base-transition":return Jk}}const eA=/^\d|[^\$\w\xA0-\uFFFF]/,Zg=o=>!eA.test(o),tA=/[A-Za-z_$\xA0-\uFFFF]/,oA=/[\.\?\w$\xA0-\uFFFF]/,aA=/\s+[.[]\s*|\s*[.[]\s+/g,i$=o=>o.type===4?o.content:o.loc.source,nA=o=>{const a=i$(o).trim().replace(aA,l=>l.trim());let s=0,t=[],c=0,m=0,_=null;for(let l=0;l<a.length;l++){const r=a.charAt(l);switch(s){case 0:if(r==="[")t.push(s),s=1,c++;else if(r==="(")t.push(s),s=2,m++;else if(!(l===0?tA:oA).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(t.push(s),s=3,_=r):r==="["?c++:r==="]"&&(--c||(s=t.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")t.push(s),s=3,_=r;else if(r==="(")m++;else if(r===")"){if(l===a.length-1)return!1;--m||(s=t.pop())}break;case 3:r===_&&(s=t.pop(),_=null);break}}return!c&&!m},r$=nA,sA=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,lA=o=>sA.test(i$(o)),iA=lA;function Cn(o,a,s=!1){for(let t=0;t<o.props.length;t++){const c=o.props[t];if(c.type===7&&(s||c.exp)&&(ao(a)?c.name===a:a.test(c.name)))return c}}function Lh(o,a,s=!1,t=!1){for(let c=0;c<o.props.length;c++){const m=o.props[c];if(m.type===6){if(s)continue;if(m.name===a&&(m.value||t))return m}else if(m.name==="bind"&&(m.exp||t)&&Jl(m.arg,a))return m}}function Jl(o,a){return!!(o&&en(o)&&o.content===a)}function rA(o){return o.props.some(a=>a.type===7&&a.name==="bind"&&(!a.arg||a.arg.type!==4||!a.arg.isStatic))}function Op(o){return o.type===5||o.type===2}function dA(o){return o.type===7&&o.name==="slot"}function Xf(o){return o.type===1&&o.tagType===3}function eh(o){return o.type===1&&o.tagType===2}const cA=new Set([tm,Am]);function d$(o,a=[]){if(o&&!ao(o)&&o.type===14){const s=o.callee;if(!ao(s)&&cA.has(s))return d$(o.arguments[0],a.concat(o))}return[o,a]}function th(o,a,s){let t,c=o.type===13?o.props:o.arguments[2],m=[],_;if(c&&!ao(c)&&c.type===14){const l=d$(c);c=l[0],m=l[1],_=m[m.length-1]}if(c==null||ao(c))t=An([a]);else if(c.type===14){const l=c.arguments[0];!ao(l)&&l.type===15?ey(a,l)||l.properties.unshift(a):c.callee===zg?t=ra(s.helper(Qf),[An([a]),c]):c.arguments.unshift(An([a])),!t&&(t=c)}else c.type===15?(ey(a,c)||c.properties.unshift(a),t=c):(t=ra(s.helper(Qf),[An([a]),c]),_&&_.callee===Am&&(_=m[m.length-2]));o.type===13?_?_.arguments[0]=t:o.props=t:_?_.arguments[0]=t:o.arguments[2]=t}function ey(o,a){let s=!1;if(o.key.type===4){const t=o.key.content;s=a.properties.some(c=>c.key.type===4&&c.key.content===t)}return s}function nm(o,a){return`_${a}_${o.replace(/[^\w]/g,(s,t)=>s==="-"?"_":o.charCodeAt(t).toString())}`}function uA(o){return o.type===14&&o.callee===Kg?o.arguments[1].returns:o}const _A=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,c$={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Pc,isPreTag:Pc,isIgnoreNewlineTag:Pc,isCustomElement:Pc,onError:Qg,onWarn:s$,comments:!1,prefixIdentifiers:!1};let Ro=c$,sm=null,Hs="",Ea=null,ko=null,Wa="",Ms=-1,Gl=-1,Jg=0,pl=!1,qv=null;const zo=[],Jo=new XE(zo,{onerr:Ss,ontext(o,a){nf(ka(o,a),o,a)},ontextentity(o,a,s){nf(o,a,s)},oninterpolation(o,a){if(pl)return nf(ka(o,a),o,a);let s=o+Jo.delimiterOpen.length,t=a-Jo.delimiterClose.length;for(;cn(Hs.charCodeAt(s));)s++;for(;cn(Hs.charCodeAt(t-1));)t--;let c=ka(s,t);c.includes("&")&&(c=Ro.decodeEntities(c,!1)),Hv({type:5,content:Df(c,!1,Xo(s,t)),loc:Xo(o,a)})},onopentagname(o,a){const s=ka(o,a);Ea={type:1,tag:s,ns:Ro.getNamespace(s,zo[0],Ro.ns),tagType:0,props:[],children:[],loc:Xo(o-1,a),codegenNode:void 0}},onopentagend(o){oy(o)},onclosetag(o,a){const s=ka(o,a);if(!Ro.isVoidTag(s)){let t=!1;for(let c=0;c<zo.length;c++)if(zo[c].tag.toLowerCase()===s.toLowerCase()){t=!0,c>0&&Ss(24,zo[0].loc.start.offset);for(let _=0;_<=c;_++){const l=zo.shift();wf(l,a,_<c)}break}t||Ss(23,u$(o,60))}},onselfclosingtag(o){const a=Ea.tag;Ea.isSelfClosing=!0,oy(o),zo[0]&&zo[0].tag===a&&wf(zo.shift(),o)},onattribname(o,a){ko={type:6,name:ka(o,a),nameLoc:Xo(o,a),value:void 0,loc:Xo(o)}},ondirname(o,a){const s=ka(o,a),t=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!pl&&t===""&&Ss(26,o),pl||t==="")ko={type:6,name:s,nameLoc:Xo(o,a),value:void 0,loc:Xo(o)};else if(ko={type:7,name:t,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[so("prop")]:[],loc:Xo(o)},t==="pre"){pl=Jo.inVPre=!0,qv=Ea;const c=Ea.props;for(let m=0;m<c.length;m++)c[m].type===7&&(c[m]=wA(c[m]))}},ondirarg(o,a){if(o===a)return;const s=ka(o,a);if(pl)ko.name+=s,Xl(ko.nameLoc,a);else{const t=s[0]!=="[";ko.arg=Df(t?s:s.slice(1,-1),t,Xo(o,a),t?3:0)}},ondirmodifier(o,a){const s=ka(o,a);if(pl)ko.name+="."+s,Xl(ko.nameLoc,a);else if(ko.name==="slot"){const t=ko.arg;t&&(t.content+="."+s,Xl(t.loc,a))}else{const t=so(s,!0,Xo(o,a));ko.modifiers.push(t)}},onattribdata(o,a){Wa+=ka(o,a),Ms<0&&(Ms=o),Gl=a},onattribentity(o,a,s){Wa+=o,Ms<0&&(Ms=a),Gl=s},onattribnameend(o){const a=ko.loc.start.offset,s=ka(a,o);ko.type===7&&(ko.rawName=s),Ea.props.some(t=>(t.type===7?t.rawName:t.name)===s)&&Ss(2,a)},onattribend(o,a){if(Ea&&ko){if(Xl(ko.loc,a),o!==0)if(Wa.includes("&")&&(Wa=Ro.decodeEntities(Wa,!0)),ko.type===6)ko.name==="class"&&(Wa=m$(Wa).trim()),o===1&&!Wa&&Ss(13,a),ko.value={type:2,content:Wa,loc:o===1?Xo(Ms,Gl):Xo(Ms-1,Gl+1)},Jo.inSFCRoot&&Ea.tag==="template"&&ko.name==="lang"&&Wa&&Wa!=="html"&&Jo.enterRCDATA(Jf("</template"),0);else{let s=0;ko.exp=Df(Wa,!1,Xo(Ms,Gl),0,s),ko.name==="for"&&(ko.forParseResult=fA(ko.exp));let t=-1;ko.name==="bind"&&(t=ko.modifiers.findIndex(c=>c.content==="sync"))>-1&&am("COMPILER_V_BIND_SYNC",Ro,ko.loc,ko.rawName)&&(ko.name="model",ko.modifiers.splice(t,1))}(ko.type!==7||ko.name!=="pre")&&Ea.props.push(ko)}Wa="",Ms=Gl=-1},oncomment(o,a){Ro.comments&&Hv({type:3,content:ka(o,a),loc:Xo(o-4,a+3)})},onend(){const o=Hs.length;for(let a=0;a<zo.length;a++)wf(zo[a],o-1),Ss(24,zo[a].loc.start.offset)},oncdata(o,a){zo[0].ns!==0?nf(ka(o,a),o,a):Ss(1,o-9)},onprocessinginstruction(o){(zo[0]?zo[0].ns:Ro.ns)===0&&Ss(21,o-1)}}),ty=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,mA=/^\(|\)$/g;function fA(o){const a=o.loc,s=o.content,t=s.match(_A);if(!t)return;const[,c,m]=t,_=(p,v,g=!1)=>{const w=a.start.offset+v,y=w+p.length;return Df(p,!1,Xo(w,y),0,g?1:0)},l={source:_(m.trim(),s.indexOf(m,c.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=c.trim().replace(mA,"").trim();const i=c.indexOf(r),d=r.match(ty);if(d){r=r.replace(ty,"").trim();const p=d[1].trim();let v;if(p&&(v=s.indexOf(p,i+r.length),l.key=_(p,v,!0)),d[2]){const g=d[2].trim();g&&(l.index=_(g,s.indexOf(g,l.key?v+p.length:i+r.length),!0))}}return r&&(l.value=_(r,i,!0)),l}function ka(o,a){return Hs.slice(o,a)}function oy(o){Jo.inSFCRoot&&(Ea.innerLoc=Xo(o+1,o+1)),Hv(Ea);const{tag:a,ns:s}=Ea;s===0&&Ro.isPreTag(a)&&Jg++,Ro.isVoidTag(a)?wf(Ea,o):(zo.unshift(Ea),(s===1||s===2)&&(Jo.inXML=!0)),Ea=null}function nf(o,a,s){{const m=zo[0]&&zo[0].tag;m!=="script"&&m!=="style"&&o.includes("&")&&(o=Ro.decodeEntities(o,!1))}const t=zo[0]||sm,c=t.children[t.children.length-1];c&&c.type===2?(c.content+=o,Xl(c.loc,s)):t.children.push({type:2,content:o,loc:Xo(a,s)})}function wf(o,a,s=!1){s?Xl(o.loc,u$(a,60)):Xl(o.loc,hA(a,62)+1),Jo.inSFCRoot&&(o.children.length?o.innerLoc.end=vo({},o.children[o.children.length-1].loc.end):o.innerLoc.end=vo({},o.innerLoc.start),o.innerLoc.source=ka(o.innerLoc.start.offset,o.innerLoc.end.offset));const{tag:t,ns:c,children:m}=o;if(pl||(t==="slot"?o.tagType=2:ay(o)?o.tagType=3:vA(o)&&(o.tagType=1)),Jo.inRCDATA||(o.children=_$(m)),c===0&&Ro.isIgnoreNewlineTag(t)){const _=m[0];_&&_.type===2&&(_.content=_.content.replace(/^\r?\n/,""))}c===0&&Ro.isPreTag(t)&&Jg--,qv===o&&(pl=Jo.inVPre=!1,qv=null),Jo.inXML&&(zo[0]?zo[0].ns:Ro.ns)===0&&(Jo.inXML=!1);{const _=o.props;if(!Jo.inSFCRoot&&li("COMPILER_NATIVE_TEMPLATE",Ro)&&o.tag==="template"&&!ay(o)){const r=zo[0]||sm,i=r.children.indexOf(o);r.children.splice(i,1,...o.children)}const l=_.find(r=>r.type===6&&r.name==="inline-template");l&&am("COMPILER_INLINE_TEMPLATE",Ro,l.loc)&&o.children.length&&(l.value={type:2,content:ka(o.children[0].loc.start.offset,o.children[o.children.length-1].loc.end.offset),loc:l.loc})}}function hA(o,a){let s=o;for(;Hs.charCodeAt(s)!==a&&s<Hs.length-1;)s++;return s}function u$(o,a){let s=o;for(;Hs.charCodeAt(s)!==a&&s>=0;)s--;return s}const pA=new Set(["if","else","else-if","for","slot"]);function ay({tag:o,props:a}){if(o==="template"){for(let s=0;s<a.length;s++)if(a[s].type===7&&pA.has(a[s].name))return!0}return!1}function vA({tag:o,props:a}){if(Ro.isCustomElement(o))return!1;if(o==="component"||gA(o.charCodeAt(0))||l$(o)||Ro.isBuiltInComponent&&Ro.isBuiltInComponent(o)||Ro.isNativeTag&&!Ro.isNativeTag(o))return!0;for(let s=0;s<a.length;s++){const t=a[s];if(t.type===6){if(t.name==="is"&&t.value){if(t.value.content.startsWith("vue:"))return!0;if(am("COMPILER_IS_ON_ELEMENT",Ro,t.loc))return!0}}else if(t.name==="bind"&&Jl(t.arg,"is")&&am("COMPILER_IS_ON_ELEMENT",Ro,t.loc))return!0}return!1}function gA(o){return o>64&&o<91}const bA=/\r\n/g;function _$(o,a){const s=Ro.whitespace!=="preserve";let t=!1;for(let c=0;c<o.length;c++){const m=o[c];if(m.type===2)if(Jg)m.content=m.content.replace(bA,`
`);else if(yA(m.content)){const _=o[c-1]&&o[c-1].type,l=o[c+1]&&o[c+1].type;!_||!l||s&&(_===3&&(l===3||l===1)||_===1&&(l===3||l===1&&kA(m.content)))?(t=!0,o[c]=null):m.content=" "}else s&&(m.content=m$(m.content))}return t?o.filter(Boolean):o}function yA(o){for(let a=0;a<o.length;a++)if(!cn(o.charCodeAt(a)))return!1;return!0}function kA(o){for(let a=0;a<o.length;a++){const s=o.charCodeAt(a);if(s===10||s===13)return!0}return!1}function m$(o){let a="",s=!1;for(let t=0;t<o.length;t++)cn(o.charCodeAt(t))?s||(a+=" ",s=!0):(a+=o[t],s=!1);return a}function Hv(o){(zo[0]||sm).children.push(o)}function Xo(o,a){return{start:Jo.getPos(o),end:a==null?a:Jo.getPos(a),source:a==null?a:ka(o,a)}}function $A(o){return Xo(o.start.offset,o.end.offset)}function Xl(o,a){o.end=Jo.getPos(a),o.source=ka(o.start.offset,a)}function wA(o){const a={type:6,name:o.rawName,nameLoc:Xo(o.loc.start.offset,o.loc.start.offset+o.rawName.length),value:void 0,loc:o.loc};if(o.exp){const s=o.exp.loc;s.end.offset<o.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),a.value={type:2,content:o.exp.content,loc:s}}return a}function Df(o,a=!1,s,t=0,c=0){return so(o,a,s,t)}function Ss(o,a,s){Ro.onError(Go(o,Xo(a,a)))}function DA(){Jo.reset(),Ea=null,ko=null,Wa="",Ms=-1,Gl=-1,zo.length=0}function xA(o,a){if(DA(),Hs=o,Ro=vo({},c$),a){let c;for(c in a)a[c]!=null&&(Ro[c]=a[c])}Jo.mode=Ro.parseMode==="html"?1:Ro.parseMode==="sfc"?2:0,Jo.inXML=Ro.ns===1||Ro.ns===2;const s=a&&a.delimiters;s&&(Jo.delimiterOpen=Jf(s[0]),Jo.delimiterClose=Jf(s[1]));const t=sm=QE([],o);return Jo.parse(Hs),t.loc=Xo(0,o.length),t.children=_$(t.children),sm=null,t}function CA(o,a){xf(o,void 0,a,f$(o,o.children[0]))}function f$(o,a){const{children:s}=o;return s.length===1&&a.type===1&&!eh(a)}function xf(o,a,s,t=!1,c=!1){const{children:m}=o,_=[];for(let d=0;d<m.length;d++){const p=m[d];if(p.type===1&&p.tagType===0){const v=t?0:fn(p,s);if(v>0){if(v>=2){p.codegenNode.patchFlag=-1,_.push(p);continue}}else{const g=p.codegenNode;if(g.type===13){const w=g.patchFlag;if((w===void 0||w===512||w===1)&&p$(p,s)>=2){const y=v$(p);y&&(g.props=s.hoist(y))}g.dynamicProps&&(g.dynamicProps=s.hoist(g.dynamicProps))}}}else if(p.type===12&&(t?0:fn(p,s))>=2){_.push(p);continue}if(p.type===1){const v=p.tagType===1;v&&s.scopes.vSlot++,xf(p,o,s,!1,c),v&&s.scopes.vSlot--}else if(p.type===11)xf(p,o,s,p.children.length===1,!0);else if(p.type===9)for(let v=0;v<p.branches.length;v++)xf(p.branches[v],o,s,p.branches[v].children.length===1,c)}let l=!1;if(_.length===m.length&&o.type===1){if(o.tagType===0&&o.codegenNode&&o.codegenNode.type===13&&Lt(o.codegenNode.children))o.codegenNode.children=r(si(o.codegenNode.children)),l=!0;else if(o.tagType===1&&o.codegenNode&&o.codegenNode.type===13&&o.codegenNode.children&&!Lt(o.codegenNode.children)&&o.codegenNode.children.type===15){const d=i(o.codegenNode,"default");d&&(d.returns=r(si(d.returns)),l=!0)}else if(o.tagType===3&&a&&a.type===1&&a.tagType===1&&a.codegenNode&&a.codegenNode.type===13&&a.codegenNode.children&&!Lt(a.codegenNode.children)&&a.codegenNode.children.type===15){const d=Cn(o,"slot",!0),p=d&&d.arg&&i(a.codegenNode,d.arg);p&&(p.returns=r(si(p.returns)),l=!0)}}if(!l)for(const d of _)d.codegenNode=s.cache(d.codegenNode);function r(d){const p=s.cache(d);return c&&s.hmr&&(p.needArraySpread=!0),p}function i(d,p){if(d.children&&!Lt(d.children)&&d.children.type===15){const v=d.children.properties.find(g=>g.key===p||g.key.content===p);return v&&v.value}}_.length&&s.transformHoist&&s.transformHoist(m,s,o)}function fn(o,a){const{constantCache:s}=a;switch(o.type){case 1:if(o.tagType!==0)return 0;const t=s.get(o);if(t!==void 0)return t;const c=o.codegenNode;if(c.type!==13||c.isBlock&&o.tag!=="svg"&&o.tag!=="foreignObject"&&o.tag!=="math")return 0;if(c.patchFlag===void 0){let _=3;const l=p$(o,a);if(l===0)return s.set(o,0),0;l<_&&(_=l);for(let r=0;r<o.children.length;r++){const i=fn(o.children[r],a);if(i===0)return s.set(o,0),0;i<_&&(_=i)}if(_>1)for(let r=0;r<o.props.length;r++){const i=o.props[r];if(i.type===7&&i.name==="bind"&&i.exp){const d=fn(i.exp,a);if(d===0)return s.set(o,0),0;d<_&&(_=d)}}if(c.isBlock){for(let r=0;r<o.props.length;r++)if(o.props[r].type===7)return s.set(o,0),0;a.removeHelper(ci),a.removeHelper(Qr(a.inSSR,c.isComponent)),c.isBlock=!1,a.helper(Gr(a.inSSR,c.isComponent))}return s.set(o,_),_}else return s.set(o,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return fn(o.content,a);case 4:return o.constType;case 8:let m=3;for(let _=0;_<o.children.length;_++){const l=o.children[_];if(ao(l)||on(l))continue;const r=fn(l,a);if(r===0)return 0;r<m&&(m=r)}return m;case 20:return 2;default:return 0}}const PA=new Set([qg,Hg,tm,Am]);function h$(o,a){if(o.type===14&&!ao(o.callee)&&PA.has(o.callee)){const s=o.arguments[0];if(s.type===4)return fn(s,a);if(s.type===14)return h$(s,a)}return 0}function p$(o,a){let s=3;const t=v$(o);if(t&&t.type===15){const{properties:c}=t;for(let m=0;m<c.length;m++){const{key:_,value:l}=c[m],r=fn(_,a);if(r===0)return r;r<s&&(s=r);let i;if(l.type===4?i=fn(l,a):l.type===14?i=h$(l,a):i=0,i===0)return i;i<s&&(s=i)}}return s}function v$(o){const a=o.codegenNode;if(a.type===13)return a.props}function EA(o,{filename:a="",prefixIdentifiers:s=!1,hoistStatic:t=!1,hmr:c=!1,cacheHandlers:m=!1,nodeTransforms:_=[],directiveTransforms:l={},transformHoist:r=null,isBuiltInComponent:i=wa,isCustomElement:d=wa,expressionPlugins:p=[],scopeId:v=null,slotted:g=!0,ssr:w=!1,inSSR:y=!1,ssrCssVars:x="",bindingMetadata:C=po,inline:E=!1,isTS:D=!1,onError:k=Qg,onWarn:I=s$,compatConfig:V}){const B=a.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),L={filename:a,selfName:B&&mi(Uo(B[1])),prefixIdentifiers:s,hoistStatic:t,hmr:c,cacheHandlers:m,nodeTransforms:_,directiveTransforms:l,transformHoist:r,isBuiltInComponent:i,isCustomElement:d,expressionPlugins:p,scopeId:v,slotted:g,ssr:w,inSSR:y,ssrCssVars:x,bindingMetadata:C,inline:E,isTS:D,onError:k,onWarn:I,compatConfig:V,root:o,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:o,childIndex:0,inVOnce:!1,helper(F){const T=L.helpers.get(F)||0;return L.helpers.set(F,T+1),F},removeHelper(F){const T=L.helpers.get(F);if(T){const P=T-1;P?L.helpers.set(F,P):L.helpers.delete(F)}},helperString(F){return`_${Wr[L.helper(F)]}`},replaceNode(F){L.parent.children[L.childIndex]=L.currentNode=F},removeNode(F){const T=L.parent.children,P=F?T.indexOf(F):L.currentNode?L.childIndex:-1;!F||F===L.currentNode?(L.currentNode=null,L.onNodeRemoved()):L.childIndex>P&&(L.childIndex--,L.onNodeRemoved()),L.parent.children.splice(P,1)},onNodeRemoved:wa,addIdentifiers(F){},removeIdentifiers(F){},hoist(F){ao(F)&&(F=so(F)),L.hoists.push(F);const T=so(`_hoisted_${L.hoists.length}`,!1,F.loc,2);return T.hoisted=F,T},cache(F,T=!1,P=!1){const R=ZE(L.cached.length,F,T,P);return L.cached.push(R),R}};return L.filters=new Set,L}function AA(o,a){const s=EA(o,a);Nh(o,s),a.hoistStatic&&CA(o,s),a.ssr||IA(o,s),o.helpers=new Set([...s.helpers.keys()]),o.components=[...s.components],o.directives=[...s.directives],o.imports=s.imports,o.hoists=s.hoists,o.temps=s.temps,o.cached=s.cached,o.transformed=!0,o.filters=[...s.filters]}function IA(o,a){const{helper:s}=a,{children:t}=o;if(t.length===1){const c=t[0];if(f$(o,c)&&c.codegenNode){const m=c.codegenNode;m.type===13&&Gg(m,a),o.codegenNode=m}else o.codegenNode=c}else if(t.length>1){let c=64;o.codegenNode=om(a,s(em),void 0,o.children,c,void 0,void 0,!0,void 0,!1)}}function RA(o,a){let s=0;const t=()=>{s--};for(;s<o.children.length;s++){const c=o.children[s];ao(c)||(a.grandParent=a.parent,a.parent=o,a.childIndex=s,a.onNodeRemoved=t,Nh(c,a))}}function Nh(o,a){a.currentNode=o;const{nodeTransforms:s}=a,t=[];for(let m=0;m<s.length;m++){const _=s[m](o,a);if(_&&(Lt(_)?t.push(..._):t.push(_)),a.currentNode)o=a.currentNode;else return}switch(o.type){case 3:a.ssr||a.helper(Em);break;case 5:a.ssr||a.helper(Mh);break;case 9:for(let m=0;m<o.branches.length;m++)Nh(o.branches[m],a);break;case 10:case 11:case 1:case 0:RA(o,a);break}a.currentNode=o;let c=t.length;for(;c--;)t[c]()}function g$(o,a){const s=ao(o)?t=>t===o:t=>o.test(t);return(t,c)=>{if(t.type===1){const{props:m}=t;if(t.tagType===3&&m.some(dA))return;const _=[];for(let l=0;l<m.length;l++){const r=m[l];if(r.type===7&&s(r.name)){m.splice(l,1),l--;const i=a(t,r,c);i&&_.push(i)}}return _}}}const Fh="/*@__PURE__*/",b$=o=>`${Wr[o]}: _${Wr[o]}`;function SA(o,{mode:a="function",prefixIdentifiers:s=a==="module",sourceMap:t=!1,filename:c="template.vue.html",scopeId:m=null,optimizeImports:_=!1,runtimeGlobalName:l="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:i="vue/server-renderer",ssr:d=!1,isTS:p=!1,inSSR:v=!1}){const g={mode:a,prefixIdentifiers:s,sourceMap:t,filename:c,scopeId:m,optimizeImports:_,runtimeGlobalName:l,runtimeModuleName:r,ssrRuntimeModuleName:i,ssr:d,isTS:p,inSSR:v,source:o.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(y){return`_${Wr[y]}`},push(y,x=-2,C){g.code+=y},indent(){w(++g.indentLevel)},deindent(y=!1){y?--g.indentLevel:w(--g.indentLevel)},newline(){w(g.indentLevel)}};function w(y){g.push(`
`+"  ".repeat(y),0)}return g}function TA(o,a={}){const s=SA(o,a);a.onContextCreated&&a.onContextCreated(s);const{mode:t,push:c,prefixIdentifiers:m,indent:_,deindent:l,newline:r,scopeId:i,ssr:d}=s,p=Array.from(o.helpers),v=p.length>0,g=!m&&t!=="module";jA(o,s);const y=d?"ssrRender":"render",C=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${y}(${C}) {`),_(),g&&(c("with (_ctx) {"),_(),v&&(c(`const { ${p.map(b$).join(", ")} } = _Vue
`,-1),r())),o.components.length&&(Mp(o.components,"component",s),(o.directives.length||o.temps>0)&&r()),o.directives.length&&(Mp(o.directives,"directive",s),o.temps>0&&r()),o.filters&&o.filters.length&&(r(),Mp(o.filters,"filter",s),r()),o.temps>0){c("let ");for(let E=0;E<o.temps;E++)c(`${E>0?", ":""}_temp${E}`)}return(o.components.length||o.directives.length||o.temps)&&(c(`
`,0),r()),d||c("return "),o.codegenNode?Ta(o.codegenNode,s):c("null"),g&&(l(),c("}")),l(),c("}"),{ast:o,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function jA(o,a){const{ssr:s,prefixIdentifiers:t,push:c,newline:m,runtimeModuleName:_,runtimeGlobalName:l,ssrRuntimeModuleName:r}=a,i=l,d=Array.from(o.helpers);if(d.length>0&&(c(`const _Vue = ${i}
`,-1),o.hoists.length)){const p=[Og,Mg,Em,Lg,t$].filter(v=>d.includes(v)).map(b$).join(", ");c(`const { ${p} } = _Vue
`,-1)}OA(o.hoists,a),m(),c("return ")}function Mp(o,a,{helper:s,push:t,newline:c,isTS:m}){const _=s(a==="filter"?Vg:a==="component"?Ng:Yg);for(let l=0;l<o.length;l++){let r=o[l];const i=r.endsWith("__self");i&&(r=r.slice(0,-6)),t(`const ${nm(r,a)} = ${_}(${JSON.stringify(r)}${i?", true":""})${m?"!":""}`),l<o.length-1&&c()}}function OA(o,a){if(!o.length)return;a.pure=!0;const{push:s,newline:t}=a;t();for(let c=0;c<o.length;c++){const m=o[c];m&&(s(`const _hoisted_${c+1} = `),Ta(m,a),t())}a.pure=!1}function Xg(o,a){const s=o.length>3||!1;a.push("["),s&&a.indent(),Im(o,a,s),s&&a.deindent(),a.push("]")}function Im(o,a,s=!1,t=!0){const{push:c,newline:m}=a;for(let _=0;_<o.length;_++){const l=o[_];ao(l)?c(l,-3):Lt(l)?Xg(l,a):Ta(l,a),_<o.length-1&&(s?(t&&c(","),m()):t&&c(", "))}}function Ta(o,a){if(ao(o)){a.push(o,-3);return}if(on(o)){a.push(a.helper(o));return}switch(o.type){case 1:case 9:case 11:Ta(o.codegenNode,a);break;case 2:MA(o,a);break;case 4:y$(o,a);break;case 5:LA(o,a);break;case 12:Ta(o.codegenNode,a);break;case 8:k$(o,a);break;case 3:FA(o,a);break;case 13:YA(o,a);break;case 14:BA(o,a);break;case 15:UA(o,a);break;case 17:qA(o,a);break;case 18:HA(o,a);break;case 19:zA(o,a);break;case 20:WA(o,a);break;case 21:Im(o.body,a,!0,!1);break}}function MA(o,a){a.push(JSON.stringify(o.content),-3,o)}function y$(o,a){const{content:s,isStatic:t}=o;a.push(t?JSON.stringify(s):s,-3,o)}function LA(o,a){const{push:s,helper:t,pure:c}=a;c&&s(Fh),s(`${t(Mh)}(`),Ta(o.content,a),s(")")}function k$(o,a){for(let s=0;s<o.children.length;s++){const t=o.children[s];ao(t)?a.push(t,-3):Ta(t,a)}}function NA(o,a){const{push:s}=a;if(o.type===8)s("["),k$(o,a),s("]");else if(o.isStatic){const t=Zg(o.content)?o.content:JSON.stringify(o.content);s(t,-2,o)}else s(`[${o.content}]`,-3,o)}function FA(o,a){const{push:s,helper:t,pure:c}=a;c&&s(Fh),s(`${t(Em)}(${JSON.stringify(o.content)})`,-3,o)}function YA(o,a){const{push:s,helper:t,pure:c}=a,{tag:m,props:_,children:l,patchFlag:r,dynamicProps:i,directives:d,isBlock:p,disableTracking:v,isComponent:g}=o;let w;r&&(w=String(r)),d&&s(t(Bg)+"("),p&&s(`(${t(ci)}(${v?"true":""}), `),c&&s(Fh);const y=p?Qr(a.inSSR,g):Gr(a.inSSR,g);s(t(y)+"(",-2,o),Im(VA([m,_,l,w,i]),a),s(")"),p&&s(")"),d&&(s(", "),Ta(d,a),s(")"))}function VA(o){let a=o.length;for(;a--&&o[a]==null;);return o.slice(0,a+1).map(s=>s||"null")}function BA(o,a){const{push:s,helper:t,pure:c}=a,m=ao(o.callee)?o.callee:t(o.callee);c&&s(Fh),s(m+"(",-2,o),Im(o.arguments,a),s(")")}function UA(o,a){const{push:s,indent:t,deindent:c,newline:m}=a,{properties:_}=o;if(!_.length){s("{}",-2,o);return}const l=_.length>1||!1;s(l?"{":"{ "),l&&t();for(let r=0;r<_.length;r++){const{key:i,value:d}=_[r];NA(i,a),s(": "),Ta(d,a),r<_.length-1&&(s(","),m())}l&&c(),s(l?"}":" }")}function qA(o,a){Xg(o.elements,a)}function HA(o,a){const{push:s,indent:t,deindent:c}=a,{params:m,returns:_,body:l,newline:r,isSlot:i}=o;i&&s(`_${Wr[Wg]}(`),s("(",-2,o),Lt(m)?Im(m,a):m&&Ta(m,a),s(") => "),(r||l)&&(s("{"),t()),_?(r&&s("return "),Lt(_)?Xg(_,a):Ta(_,a)):l&&Ta(l,a),(r||l)&&(c(),s("}")),i&&(o.isNonScopedSlot&&s(", undefined, true"),s(")"))}function zA(o,a){const{test:s,consequent:t,alternate:c,newline:m}=o,{push:_,indent:l,deindent:r,newline:i}=a;if(s.type===4){const p=!Zg(s.content);p&&_("("),y$(s,a),p&&_(")")}else _("("),Ta(s,a),_(")");m&&l(),a.indentLevel++,m||_(" "),_("? "),Ta(t,a),a.indentLevel--,m&&i(),m||_(" "),_(": ");const d=c.type===19;d||a.indentLevel++,Ta(c,a),d||a.indentLevel--,m&&r(!0)}function WA(o,a){const{push:s,helper:t,indent:c,deindent:m,newline:_}=a,{needPauseTracking:l,needArraySpread:r}=o;r&&s("[...("),s(`_cache[${o.index}] || (`),l&&(c(),s(`${t(Zf)}(-1`),o.inVOnce&&s(", true"),s("),"),_(),s("(")),s(`_cache[${o.index}] = `),Ta(o.value,a),l&&(s(`).cacheIndex = ${o.index},`),_(),s(`${t(Zf)}(1),`),_(),s(`_cache[${o.index}]`),m()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const KA=g$(/^(if|else|else-if)$/,(o,a,s)=>GA(o,a,s,(t,c,m)=>{const _=s.parent.children;let l=_.indexOf(t),r=0;for(;l-->=0;){const i=_[l];i&&i.type===9&&(r+=i.branches.length)}return()=>{if(m)t.codegenNode=sy(c,r,s);else{const i=QA(t.codegenNode);i.alternate=sy(c,r+t.branches.length-1,s)}}}));function GA(o,a,s,t){if(a.name!=="else"&&(!a.exp||!a.exp.content.trim())){const c=a.exp?a.exp.loc:o.loc;s.onError(Go(28,a.loc)),a.exp=so("true",!1,c)}if(a.name==="if"){const c=ny(o,a),m={type:9,loc:$A(o.loc),branches:[c]};if(s.replaceNode(m),t)return t(m,c,!0)}else{const c=s.parent.children;let m=c.indexOf(o);for(;m-->=-1;){const _=c[m];if(_&&_.type===3){s.removeNode(_);continue}if(_&&_.type===2&&!_.content.trim().length){s.removeNode(_);continue}if(_&&_.type===9){a.name==="else-if"&&_.branches[_.branches.length-1].condition===void 0&&s.onError(Go(30,o.loc)),s.removeNode();const l=ny(o,a);_.branches.push(l);const r=t&&t(_,l,!1);Nh(l,s),r&&r(),s.currentNode=null}else s.onError(Go(30,o.loc));break}}}function ny(o,a){const s=o.tagType===3;return{type:10,loc:o.loc,condition:a.name==="else"?void 0:a.exp,children:s&&!Cn(o,"for")?o.children:[o],userKey:Lh(o,"key"),isTemplateIf:s}}function sy(o,a,s){return o.condition?Uv(o.condition,ly(o,a,s),ra(s.helper(Em),['""',"true"])):ly(o,a,s)}function ly(o,a,s){const{helper:t}=s,c=oa("key",so(`${a}`,!1,vn,2)),{children:m}=o,_=m[0];if(m.length!==1||_.type!==1)if(m.length===1&&_.type===11){const r=_.codegenNode;return th(r,c,s),r}else return om(s,t(em),An([c]),m,64,void 0,void 0,!0,!1,!1,o.loc);else{const r=_.codegenNode,i=uA(r);return i.type===13&&Gg(i,s),th(i,c,s),r}}function QA(o){for(;;)if(o.type===19)if(o.alternate.type===19)o=o.alternate;else return o;else o.type===20&&(o=o.value)}const ZA=(o,a,s)=>{const{modifiers:t,loc:c}=o,m=o.arg;let{exp:_}=o;if(_&&_.type===4&&!_.content.trim()&&(_=void 0),!_){if(m.type!==4||!m.isStatic)return s.onError(Go(52,m.loc)),{props:[oa(m,so("",!0,c))]};$$(o),_=o.exp}return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),t.some(l=>l.content==="camel")&&(m.type===4?m.isStatic?m.content=Uo(m.content):m.content=`${s.helperString(Vv)}(${m.content})`:(m.children.unshift(`${s.helperString(Vv)}(`),m.children.push(")"))),s.inSSR||(t.some(l=>l.content==="prop")&&iy(m,"."),t.some(l=>l.content==="attr")&&iy(m,"^")),{props:[oa(m,_)]}},$$=(o,a)=>{const s=o.arg,t=Uo(s.content);o.exp=so(t,!1,s.loc)},iy=(o,a)=>{o.type===4?o.isStatic?o.content=a+o.content:o.content=`\`${a}\${${o.content}}\``:(o.children.unshift(`'${a}' + (`),o.children.push(")"))},JA=g$("for",(o,a,s)=>{const{helper:t,removeHelper:c}=s;return XA(o,a,s,m=>{const _=ra(t(Ug),[m.source]),l=Xf(o),r=Cn(o,"memo"),i=Lh(o,"key",!1,!0);i&&i.type===7&&!i.exp&&$$(i);let p=i&&(i.type===6?i.value?so(i.value.content,!0):void 0:i.exp);const v=i&&p?oa("key",p):null,g=m.source.type===4&&m.source.constType>0,w=g?64:i?128:256;return m.codegenNode=om(s,t(em),void 0,_,w,void 0,void 0,!0,!g,!1,o.loc),()=>{let y;const{children:x}=m,C=x.length!==1||x[0].type!==1,E=eh(o)?o:l&&o.children.length===1&&eh(o.children[0])?o.children[0]:null;if(E?(y=E.codegenNode,l&&v&&th(y,v,s)):C?y=om(s,t(em),v?An([v]):void 0,o.children,64,void 0,void 0,!0,void 0,!1):(y=x[0].codegenNode,l&&v&&th(y,v,s),y.isBlock!==!g&&(y.isBlock?(c(ci),c(Qr(s.inSSR,y.isComponent))):c(Gr(s.inSSR,y.isComponent))),y.isBlock=!g,y.isBlock?(t(ci),t(Qr(s.inSSR,y.isComponent))):t(Gr(s.inSSR,y.isComponent))),r){const D=Kr(zv(m.parseResult,[so("_cached")]));D.body=JE([es(["const _memo = (",r.exp,")"]),es(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${s.helperString(n$)}(_cached, _memo)) return _cached`]),es(["const _item = ",y]),so("_item.memo = _memo"),so("return _item")]),_.arguments.push(D,so("_cache"),so(String(s.cached.length))),s.cached.push(null)}else _.arguments.push(Kr(zv(m.parseResult),y,!0))}})});function XA(o,a,s,t){if(!a.exp){s.onError(Go(31,a.loc));return}const c=a.forParseResult;if(!c){s.onError(Go(32,a.loc));return}w$(c);const{addIdentifiers:m,removeIdentifiers:_,scopes:l}=s,{source:r,value:i,key:d,index:p}=c,v={type:11,loc:a.loc,source:r,valueAlias:i,keyAlias:d,objectIndexAlias:p,parseResult:c,children:Xf(o)?o.children:[o]};s.replaceNode(v),l.vFor++;const g=t&&t(v);return()=>{l.vFor--,g&&g()}}function w$(o,a){o.finalized||(o.finalized=!0)}function zv({value:o,key:a,index:s},t=[]){return e6([o,a,s,...t])}function e6(o){let a=o.length;for(;a--&&!o[a];);return o.slice(0,a+1).map((s,t)=>s||so("_".repeat(t+1),!1))}const ry=so("undefined",!1),t6=(o,a)=>{if(o.type===1&&(o.tagType===1||o.tagType===3)){const s=Cn(o,"slot");if(s)return s.exp,a.scopes.vSlot++,()=>{a.scopes.vSlot--}}},o6=(o,a,s,t)=>Kr(o,s,!1,!0,s.length?s[0].loc:t);function a6(o,a,s=o6){a.helper(Wg);const{children:t,loc:c}=o,m=[],_=[];let l=a.scopes.vSlot>0||a.scopes.vFor>0;const r=Cn(o,"slot",!0);if(r){const{arg:x,exp:C}=r;x&&!en(x)&&(l=!0),m.push(oa(x||so("default",!0),s(C,void 0,t,c)))}let i=!1,d=!1;const p=[],v=new Set;let g=0;for(let x=0;x<t.length;x++){const C=t[x];let E;if(!Xf(C)||!(E=Cn(C,"slot",!0))){C.type!==3&&p.push(C);continue}if(r){a.onError(Go(37,E.loc));break}i=!0;const{children:D,loc:k}=C,{arg:I=so("default",!0),exp:V,loc:B}=E;let L;en(I)?L=I?I.content:"default":l=!0;const F=Cn(C,"for"),T=s(V,F,D,k);let P,R;if(P=Cn(C,"if"))l=!0,_.push(Uv(P.exp,sf(I,T,g++),ry));else if(R=Cn(C,/^else(-if)?$/,!0)){let O=x,N;for(;O--&&(N=t[O],N.type===3););if(N&&Xf(N)&&Cn(N,/^(else-)?if$/)){let S=_[_.length-1];for(;S.alternate.type===19;)S=S.alternate;S.alternate=R.exp?Uv(R.exp,sf(I,T,g++),ry):sf(I,T,g++)}else a.onError(Go(30,R.loc))}else if(F){l=!0;const O=F.forParseResult;O?(w$(O),_.push(ra(a.helper(Ug),[O.source,Kr(zv(O),sf(I,T),!0)]))):a.onError(Go(32,F.loc))}else{if(L){if(v.has(L)){a.onError(Go(38,B));continue}v.add(L),L==="default"&&(d=!0)}m.push(oa(I,T))}}if(!r){const x=(C,E)=>{const D=s(C,void 0,E,c);return a.compatConfig&&(D.isNonScopedSlot=!0),oa("default",D)};i?p.length&&p.some(C=>D$(C))&&(d?a.onError(Go(39,p[0].loc)):m.push(x(void 0,p))):m.push(x(void 0,t))}const w=l?2:Cf(o.children)?3:1;let y=An(m.concat(oa("_",so(w+"",!1))),c);return _.length&&(y=ra(a.helper(a$),[y,si(_)])),{slots:y,hasDynamicSlots:l}}function sf(o,a,s){const t=[oa("name",o),oa("fn",a)];return s!=null&&t.push(oa("key",so(String(s),!0))),An(t)}function Cf(o){for(let a=0;a<o.length;a++){const s=o[a];switch(s.type){case 1:if(s.tagType===2||Cf(s.children))return!0;break;case 9:if(Cf(s.branches))return!0;break;case 10:case 11:if(Cf(s.children))return!0;break}}return!1}function D$(o){return o.type!==2&&o.type!==12?!0:o.type===2?!!o.content.trim():D$(o.content)}const x$=new WeakMap,n6=(o,a)=>function(){if(o=a.currentNode,!(o.type===1&&(o.tagType===0||o.tagType===1)))return;const{tag:t,props:c}=o,m=o.tagType===1;let _=m?s6(o,a):`"${t}"`;const l=So(_)&&_.callee===Fg;let r,i,d=0,p,v,g,w=l||_===L_||_===jg||!m&&(t==="svg"||t==="foreignObject"||t==="math");if(c.length>0){const y=C$(o,a,void 0,m,l);r=y.props,d=y.patchFlag,v=y.dynamicPropNames;const x=y.directives;g=x&&x.length?si(x.map(C=>i6(C,a))):void 0,y.shouldUseBlock&&(w=!0)}if(o.children.length>0)if(_===Gf&&(w=!0,d|=1024),m&&_!==L_&&_!==Gf){const{slots:x,hasDynamicSlots:C}=a6(o,a);i=x,C&&(d|=1024)}else if(o.children.length===1&&_!==L_){const x=o.children[0],C=x.type,E=C===5||C===8;E&&fn(x,a)===0&&(d|=1),E||C===2?i=x:i=o.children}else i=o.children;v&&v.length&&(p=r6(v)),o.codegenNode=om(a,_,r,i,d===0?void 0:d,p,g,!!w,!1,m,o.loc)};function s6(o,a,s=!1){let{tag:t}=o;const c=Wv(t),m=Lh(o,"is",!1,!0);if(m)if(c||li("COMPILER_IS_ON_ELEMENT",a)){let l;if(m.type===6?l=m.value&&so(m.value.content,!0):(l=m.exp,l||(l=so("is",!1,m.arg.loc))),l)return ra(a.helper(Fg),[l])}else m.type===6&&m.value.content.startsWith("vue:")&&(t=m.value.content.slice(4));const _=l$(t)||a.isBuiltInComponent(t);return _?(s||a.helper(_),_):(a.helper(Ng),a.components.add(t),nm(t,"component"))}function C$(o,a,s=o.props,t,c,m=!1){const{tag:_,loc:l,children:r}=o;let i=[];const d=[],p=[],v=r.length>0;let g=!1,w=0,y=!1,x=!1,C=!1,E=!1,D=!1,k=!1;const I=[],V=T=>{i.length&&(d.push(An(dy(i),l)),i=[]),T&&d.push(T)},B=()=>{a.scopes.vFor>0&&i.push(oa(so("ref_for",!0),so("true")))},L=({key:T,value:P})=>{if(en(T)){const R=T.content,O=ui(R);if(O&&(!t||c)&&R.toLowerCase()!=="onclick"&&R!=="onUpdate:modelValue"&&!kl(R)&&(E=!0),O&&kl(R)&&(k=!0),O&&P.type===14&&(P=P.arguments[0]),P.type===20||(P.type===4||P.type===8)&&fn(P,a)>0)return;R==="ref"?y=!0:R==="class"?x=!0:R==="style"?C=!0:R!=="key"&&!I.includes(R)&&I.push(R),t&&(R==="class"||R==="style")&&!I.includes(R)&&I.push(R)}else D=!0};for(let T=0;T<s.length;T++){const P=s[T];if(P.type===6){const{loc:R,name:O,nameLoc:N,value:S}=P;let U=!0;if(O==="ref"&&(y=!0,B()),O==="is"&&(Wv(_)||S&&S.content.startsWith("vue:")||li("COMPILER_IS_ON_ELEMENT",a)))continue;i.push(oa(so(O,!0,N),so(S?S.content:"",U,S?S.loc:R)))}else{const{name:R,arg:O,exp:N,loc:S,modifiers:U}=P,W=R==="bind",oe=R==="on";if(R==="slot"){t||a.onError(Go(40,S));continue}if(R==="once"||R==="memo"||R==="is"||W&&Jl(O,"is")&&(Wv(_)||li("COMPILER_IS_ON_ELEMENT",a))||oe&&m)continue;if((W&&Jl(O,"key")||oe&&v&&Jl(O,"vue:before-update"))&&(g=!0),W&&Jl(O,"ref")&&B(),!O&&(W||oe)){if(D=!0,N)if(W){if(B(),V(),li("COMPILER_V_BIND_OBJECT_ORDER",a)){d.unshift(N);continue}d.push(N)}else V({type:14,loc:S,callee:a.helper(zg),arguments:t?[N]:[N,"true"]});else a.onError(Go(W?34:35,S));continue}W&&U.some(K=>K.content==="prop")&&(w|=32);const J=a.directiveTransforms[R];if(J){const{props:K,needRuntime:z}=J(P,o,a);!m&&K.forEach(L),oe&&O&&!en(O)?V(An(K,l)):i.push(...K),z&&(p.push(P),on(z)&&x$.set(P,z))}else fC(R)||(p.push(P),v&&(g=!0))}}let F;if(d.length?(V(),d.length>1?F=ra(a.helper(Qf),d,l):F=d[0]):i.length&&(F=An(dy(i),l)),D?w|=16:(x&&!t&&(w|=2),C&&!t&&(w|=4),I.length&&(w|=8),E&&(w|=32)),!g&&(w===0||w===32)&&(y||k||p.length>0)&&(w|=512),!a.inSSR&&F)switch(F.type){case 15:let T=-1,P=-1,R=!1;for(let S=0;S<F.properties.length;S++){const U=F.properties[S].key;en(U)?U.content==="class"?T=S:U.content==="style"&&(P=S):U.isHandlerKey||(R=!0)}const O=F.properties[T],N=F.properties[P];R?F=ra(a.helper(tm),[F]):(O&&!en(O.value)&&(O.value=ra(a.helper(qg),[O.value])),N&&(C||N.value.type===4&&N.value.content.trim()[0]==="["||N.value.type===17)&&(N.value=ra(a.helper(Hg),[N.value])));break;case 14:break;default:F=ra(a.helper(tm),[ra(a.helper(Am),[F])]);break}return{props:F,directives:p,patchFlag:w,dynamicPropNames:I,shouldUseBlock:g}}function dy(o){const a=new Map,s=[];for(let t=0;t<o.length;t++){const c=o[t];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const m=c.key.content,_=a.get(m);_?(m==="style"||m==="class"||ui(m))&&l6(_,c):(a.set(m,c),s.push(c))}return s}function l6(o,a){o.value.type===17?o.value.elements.push(a.value):o.value=si([o.value,a.value],o.loc)}function i6(o,a){const s=[],t=x$.get(o);t?s.push(a.helperString(t)):(a.helper(Yg),a.directives.add(o.name),s.push(nm(o.name,"directive")));const{loc:c}=o;if(o.exp&&s.push(o.exp),o.arg&&(o.exp||s.push("void 0"),s.push(o.arg)),Object.keys(o.modifiers).length){o.arg||(o.exp||s.push("void 0"),s.push("void 0"));const m=so("true",!1,c);s.push(An(o.modifiers.map(_=>oa(_,m)),c))}return si(s,o.loc)}function r6(o){let a="[";for(let s=0,t=o.length;s<t;s++)a+=JSON.stringify(o[s]),s<t-1&&(a+=", ");return a+"]"}function Wv(o){return o==="component"||o==="Component"}const d6=(o,a)=>{if(eh(o)){const{children:s,loc:t}=o,{slotName:c,slotProps:m}=c6(o,a),_=[a.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let l=2;m&&(_[2]=m,l=3),s.length&&(_[3]=Kr([],s,!1,!1,t),l=4),a.scopeId&&!a.slotted&&(l=5),_.splice(l),o.codegenNode=ra(a.helper(o$),_,t)}};function c6(o,a){let s='"default"',t;const c=[];for(let m=0;m<o.props.length;m++){const _=o.props[m];if(_.type===6)_.value&&(_.name==="name"?s=JSON.stringify(_.value.content):(_.name=Uo(_.name),c.push(_)));else if(_.name==="bind"&&Jl(_.arg,"name")){if(_.exp)s=_.exp;else if(_.arg&&_.arg.type===4){const l=Uo(_.arg.content);s=_.exp=so(l,!1,_.arg.loc)}}else _.name==="bind"&&_.arg&&en(_.arg)&&(_.arg.content=Uo(_.arg.content)),c.push(_)}if(c.length>0){const{props:m,directives:_}=C$(o,a,c,!1,!1);t=m,_.length&&a.onError(Go(36,_[0].loc))}return{slotName:s,slotProps:t}}const P$=(o,a,s,t)=>{const{loc:c,modifiers:m,arg:_}=o;!o.exp&&!m.length&&s.onError(Go(35,c));let l;if(_.type===4)if(_.isStatic){let p=_.content;p.startsWith("vue:")&&(p=`vnode-${p.slice(4)}`);const v=a.tagType!==0||p.startsWith("vnode")||!/[A-Z]/.test(p)?jr(Uo(p)):`on:${p}`;l=so(v,!0,_.loc)}else l=es([`${s.helperString(Bv)}(`,_,")"]);else l=_,l.children.unshift(`${s.helperString(Bv)}(`),l.children.push(")");let r=o.exp;r&&!r.content.trim()&&(r=void 0);let i=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const p=r$(r),v=!(p||iA(r)),g=r.content.includes(";");(v||i&&p)&&(r=es([`${v?"$event":"(...args)"} => ${g?"{":"("}`,r,g?"}":")"]))}let d={props:[oa(l,r||so("() => {}",!1,c))]};return t&&(d=t(d)),i&&(d.props[0].value=s.cache(d.props[0].value)),d.props.forEach(p=>p.key.isHandlerKey=!0),d},u6=(o,a)=>{if(o.type===0||o.type===1||o.type===11||o.type===10)return()=>{const s=o.children;let t,c=!1;for(let m=0;m<s.length;m++){const _=s[m];if(Op(_)){c=!0;for(let l=m+1;l<s.length;l++){const r=s[l];if(Op(r))t||(t=s[m]=es([_],_.loc)),t.children.push(" + ",r),s.splice(l,1),l--;else{t=void 0;break}}}}if(!(!c||s.length===1&&(o.type===0||o.type===1&&o.tagType===0&&!o.props.find(m=>m.type===7&&!a.directiveTransforms[m.name])&&o.tag!=="template")))for(let m=0;m<s.length;m++){const _=s[m];if(Op(_)||_.type===8){const l=[];(_.type!==2||_.content!==" ")&&l.push(_),!a.ssr&&fn(_,a)===0&&l.push("1"),s[m]={type:12,content:_,loc:_.loc,codegenNode:ra(a.helper(Lg),l)}}}}},cy=new WeakSet,_6=(o,a)=>{if(o.type===1&&Cn(o,"once",!0))return cy.has(o)||a.inVOnce||a.inSSR?void 0:(cy.add(o),a.inVOnce=!0,a.helper(Zf),()=>{a.inVOnce=!1;const s=a.currentNode;s.codegenNode&&(s.codegenNode=a.cache(s.codegenNode,!0,!0))})},E$=(o,a,s)=>{const{exp:t,arg:c}=o;if(!t)return s.onError(Go(41,o.loc)),lf();const m=t.loc.source.trim(),_=t.type===4?t.content:m,l=s.bindingMetadata[m];if(l==="props"||l==="props-aliased")return s.onError(Go(44,t.loc)),lf();if(!_.trim()||!r$(t)&&!!1)return s.onError(Go(42,t.loc)),lf();const i=c||so("modelValue",!0),d=c?en(c)?`onUpdate:${Uo(c.content)}`:es(['"onUpdate:" + ',c]):"onUpdate:modelValue";let p;const v=s.isTS?"($event: any)":"$event";p=es([`${v} => ((`,t,") = $event)"]);const g=[oa(i,o.exp),oa(d,p)];if(o.modifiers.length&&a.tagType===1){const w=o.modifiers.map(x=>x.content).map(x=>(Zg(x)?x:JSON.stringify(x))+": true").join(", "),y=c?en(c)?`${c.content}Modifiers`:es([c,' + "Modifiers"']):"modelModifiers";g.push(oa(y,so(`{ ${w} }`,!1,o.loc,2)))}return lf(g)};function lf(o=[]){return{props:o}}const m6=/[\w).+\-_$\]]/,f6=(o,a)=>{li("COMPILER_FILTERS",a)&&(o.type===5?oh(o.content,a):o.type===1&&o.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&oh(s.exp,a)}))};function oh(o,a){if(o.type===4)uy(o,a);else for(let s=0;s<o.children.length;s++){const t=o.children[s];typeof t=="object"&&(t.type===4?uy(t,a):t.type===8?oh(o,a):t.type===5&&oh(t.content,a))}}function uy(o,a){const s=o.content;let t=!1,c=!1,m=!1,_=!1,l=0,r=0,i=0,d=0,p,v,g,w,y=[];for(g=0;g<s.length;g++)if(v=p,p=s.charCodeAt(g),t)p===39&&v!==92&&(t=!1);else if(c)p===34&&v!==92&&(c=!1);else if(m)p===96&&v!==92&&(m=!1);else if(_)p===47&&v!==92&&(_=!1);else if(p===124&&s.charCodeAt(g+1)!==124&&s.charCodeAt(g-1)!==124&&!l&&!r&&!i)w===void 0?(d=g+1,w=s.slice(0,g).trim()):x();else{switch(p){case 34:c=!0;break;case 39:t=!0;break;case 96:m=!0;break;case 40:i++;break;case 41:i--;break;case 91:r++;break;case 93:r--;break;case 123:l++;break;case 125:l--;break}if(p===47){let C=g-1,E;for(;C>=0&&(E=s.charAt(C),E===" ");C--);(!E||!m6.test(E))&&(_=!0)}}w===void 0?w=s.slice(0,g).trim():d!==0&&x();function x(){y.push(s.slice(d,g).trim()),d=g+1}if(y.length){for(g=0;g<y.length;g++)w=h6(w,y[g],a);o.content=w,o.ast=void 0}}function h6(o,a,s){s.helper(Vg);const t=a.indexOf("(");if(t<0)return s.filters.add(a),`${nm(a,"filter")}(${o})`;{const c=a.slice(0,t),m=a.slice(t+1);return s.filters.add(c),`${nm(c,"filter")}(${o}${m!==")"?","+m:m}`}}const _y=new WeakSet,p6=(o,a)=>{if(o.type===1){const s=Cn(o,"memo");return!s||_y.has(o)?void 0:(_y.add(o),()=>{const t=o.codegenNode||a.currentNode.codegenNode;t&&t.type===13&&(o.tagType!==1&&Gg(t,a),o.codegenNode=ra(a.helper(Kg),[s.exp,Kr(void 0,t),"_cache",String(a.cached.length)]),a.cached.push(null))})}};function v6(o){return[[_6,KA,p6,JA,f6,d6,n6,t6,u6],{on:P$,bind:ZA,model:E$}]}function g6(o,a={}){const s=a.onError||Qg,t=a.mode==="module";a.prefixIdentifiers===!0?s(Go(47)):t&&s(Go(48));const c=!1;a.cacheHandlers&&s(Go(49)),a.scopeId&&!t&&s(Go(50));const m=vo({},a,{prefixIdentifiers:c}),_=ao(o)?xA(o,m):o,[l,r]=v6();return AA(_,vo({},m,{nodeTransforms:[...l,...a.nodeTransforms||[]],directiveTransforms:vo({},r,a.directiveTransforms||{})})),TA(_,m)}const b6=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const A$=Symbol(""),I$=Symbol(""),R$=Symbol(""),S$=Symbol(""),Kv=Symbol(""),T$=Symbol(""),j$=Symbol(""),O$=Symbol(""),M$=Symbol(""),L$=Symbol("");GE({[A$]:"vModelRadio",[I$]:"vModelCheckbox",[R$]:"vModelText",[S$]:"vModelSelect",[Kv]:"vModelDynamic",[T$]:"withModifiers",[j$]:"withKeys",[O$]:"vShow",[M$]:"Transition",[L$]:"TransitionGroup"});let Mi;function y6(o,a=!1){return Mi||(Mi=document.createElement("div")),a?(Mi.innerHTML=`<div foo="${o.replace(/"/g,"&quot;")}">`,Mi.children[0].getAttribute("foo")):(Mi.innerHTML=o,Mi.textContent)}const k6={parseMode:"html",isVoidTag:IC,isNativeTag:o=>PC(o)||EC(o)||AC(o),isPreTag:o=>o==="pre",isIgnoreNewlineTag:o=>o==="pre"||o==="textarea",decodeEntities:y6,isBuiltInComponent:o=>{if(o==="Transition"||o==="transition")return M$;if(o==="TransitionGroup"||o==="transition-group")return L$},getNamespace(o,a,s){let t=a?a.ns:s;if(a&&t===2)if(a.tag==="annotation-xml"){if(o==="svg")return 1;a.props.some(c=>c.type===6&&c.name==="encoding"&&c.value!=null&&(c.value.content==="text/html"||c.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(a.tag)&&o!=="mglyph"&&o!=="malignmark"&&(t=0);else a&&t===1&&(a.tag==="foreignObject"||a.tag==="desc"||a.tag==="title")&&(t=0);if(t===0){if(o==="svg")return 1;if(o==="math")return 2}return t}},$6=o=>{o.type===1&&o.props.forEach((a,s)=>{a.type===6&&a.name==="style"&&a.value&&(o.props[s]={type:7,name:"bind",arg:so("style",!0,a.loc),exp:w6(a.value.content,a.loc),modifiers:[],loc:a.loc})})},w6=(o,a)=>{const s=K0(o);return so(JSON.stringify(s),!1,a,3)};function Cl(o,a){return Go(o,a)}const D6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(Cl(53,c)),a.children.length&&(s.onError(Cl(54,c)),a.children.length=0),{props:[oa(so("innerHTML",!0,c),t||so("",!0))]}},x6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(Cl(55,c)),a.children.length&&(s.onError(Cl(56,c)),a.children.length=0),{props:[oa(so("textContent",!0),t?fn(t,s)>0?t:ra(s.helperString(Mh),[t],c):so("",!0))]}},C6=(o,a,s)=>{const t=E$(o,a,s);if(!t.props.length||a.tagType===1)return t;o.arg&&s.onError(Cl(58,o.arg.loc));const{tag:c}=a,m=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||m){let _=R$,l=!1;if(c==="input"||m){const r=Lh(a,"type");if(r){if(r.type===7)_=Kv;else if(r.value)switch(r.value.content){case"radio":_=A$;break;case"checkbox":_=I$;break;case"file":l=!0,s.onError(Cl(59,o.loc));break}}else rA(a)&&(_=Kv)}else c==="select"&&(_=S$);l||(t.needRuntime=s.helper(_))}else s.onError(Cl(57,o.loc));return t.props=t.props.filter(_=>!(_.key.type===4&&_.key.content==="modelValue")),t},P6=pn("passive,once,capture"),E6=pn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),A6=pn("left,right"),N$=pn("onkeyup,onkeydown,onkeypress"),I6=(o,a,s,t)=>{const c=[],m=[],_=[];for(let l=0;l<a.length;l++){const r=a[l].content;r==="native"&&am("COMPILER_V_ON_NATIVE",s)||P6(r)?_.push(r):A6(r)?en(o)?N$(o.content.toLowerCase())?c.push(r):m.push(r):(c.push(r),m.push(r)):E6(r)?m.push(r):c.push(r)}return{keyModifiers:c,nonKeyModifiers:m,eventOptionModifiers:_}},my=(o,a)=>en(o)&&o.content.toLowerCase()==="onclick"?so(a,!0):o.type!==4?es(["(",o,`) === "onClick" ? "${a}" : (`,o,")"]):o,R6=(o,a,s)=>P$(o,a,s,t=>{const{modifiers:c}=o;if(!c.length)return t;let{key:m,value:_}=t.props[0];const{keyModifiers:l,nonKeyModifiers:r,eventOptionModifiers:i}=I6(m,c,s,o.loc);if(r.includes("right")&&(m=my(m,"onContextmenu")),r.includes("middle")&&(m=my(m,"onMouseup")),r.length&&(_=ra(s.helper(T$),[_,JSON.stringify(r)])),l.length&&(!en(m)||N$(m.content.toLowerCase()))&&(_=ra(s.helper(j$),[_,JSON.stringify(l)])),i.length){const d=i.map(mi).join("");m=en(m)?so(`${m.content}${d}`,!0):es(["(",m,`) + "${d}"`])}return{props:[oa(m,_)]}}),S6=(o,a,s)=>{const{exp:t,loc:c}=o;return t||s.onError(Cl(61,c)),{props:[],needRuntime:s.helper(O$)}},T6=(o,a)=>{o.type===1&&o.tagType===0&&(o.tag==="script"||o.tag==="style")&&a.removeNode()},j6=[$6],O6={cloak:b6,html:D6,text:x6,model:C6,on:R6,show:S6};function M6(o,a={}){return g6(o,vo({},k6,a,{nodeTransforms:[T6,...j6,...a.nodeTransforms||[]],directiveTransforms:vo({},O6,a.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fy=Object.create(null);function L6(o,a){if(!ao(o))if(o.nodeType)o=o.innerHTML;else return wa;const s=vC(o,a),t=fy[s];if(t)return t;if(o[0]==="#"){const l=document.querySelector(o);o=l?l.innerHTML:""}const c=vo({hoistStatic:!0,onError:void 0,onWarn:wa},a);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=l=>!!customElements.get(l));const{code:m}=M6(o,c),_=new Function("Vue",m)(UE);return _._rc=!0,fy[s]=_}Dk(L6);var N6=Object.defineProperty,hy=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,Y6=Object.prototype.propertyIsEnumerable,py=(o,a,s)=>a in o?N6(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,F$=(o,a)=>{for(var s in a||(a={}))F6.call(a,s)&&py(o,s,a[s]);if(hy)for(var s of hy(a))Y6.call(a,s)&&py(o,s,a[s]);return o},Yh=o=>typeof o=="function",Vh=o=>typeof o=="string",Y$=o=>Vh(o)&&o.trim().length>0,V6=o=>typeof o=="number",ei=o=>typeof o>"u",lm=o=>typeof o=="object"&&o!==null,B6=o=>hs(o,"tag")&&Y$(o.tag),V$=o=>window.TouchEvent&&o instanceof TouchEvent,B$=o=>hs(o,"component")&&U$(o.component),U6=o=>Yh(o)||lm(o),U$=o=>!ei(o)&&(Vh(o)||U6(o)||B$(o)),vy=o=>lm(o)&&["height","width","right","left","top","bottom"].every(a=>V6(o[a])),hs=(o,a)=>(lm(o)||Yh(o))&&a in o,q6=(o=>()=>o++)(0);function Lp(o){return V$(o)?o.targetTouches[0].clientX:o.clientX}function gy(o){return V$(o)?o.targetTouches[0].clientY:o.clientY}var H6=o=>{ei(o.remove)?o.parentNode&&o.parentNode.removeChild(o):o.remove()},Rm=o=>B$(o)?Rm(o.component):B6(o)?Oa({render(){return o}}):typeof o=="string"?o:bo(wl(o)),z6=o=>{if(typeof o=="string")return o;const a=hs(o,"props")&&lm(o.props)?o.props:{},s=hs(o,"listeners")&&lm(o.listeners)?o.listeners:{};return{component:Rm(o),props:a,listeners:s}},W6=()=>typeof window<"u",e1=class{constructor(){this.allHandlers={}}getHandlers(a){return this.allHandlers[a]||[]}on(a,s){const t=this.getHandlers(a);t.push(s),this.allHandlers[a]=t}off(a,s){const t=this.getHandlers(a);t.splice(t.indexOf(s)>>>0,1)}emit(a,s){this.getHandlers(a).forEach(c=>c(s))}},K6=o=>["on","off","emit"].every(a=>hs(o,a)&&Yh(o[a])),_n;(function(o){o.SUCCESS="success",o.ERROR="error",o.WARNING="warning",o.INFO="info",o.DEFAULT="default"})(_n||(_n={}));var ah;(function(o){o.TOP_LEFT="top-left",o.TOP_CENTER="top-center",o.TOP_RIGHT="top-right",o.BOTTOM_LEFT="bottom-left",o.BOTTOM_CENTER="bottom-center",o.BOTTOM_RIGHT="bottom-right"})(ah||(ah={}));var mn;(function(o){o.ADD="add",o.DISMISS="dismiss",o.UPDATE="update",o.CLEAR="clear",o.UPDATE_DEFAULTS="update_defaults"})(mn||(mn={}));var Qn="Vue-Toastification",zn={type:{type:String,default:_n.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},q$={type:zn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Pf={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:zn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Gv={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},H$={transition:{type:[Object,String],default:`${Qn}__bounce`}},G6={position:{type:String,default:ah.TOP_RIGHT},draggable:zn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:zn.trueBoolean,pauseOnHover:zn.trueBoolean,closeOnClick:zn.trueBoolean,timeout:Gv.timeout,hideProgressBar:Gv.hideProgressBar,toastClassName:zn.classNames,bodyClassName:zn.classNames,icon:q$.customIcon,closeButton:Pf.component,closeButtonClassName:Pf.classNames,showCloseButtonOnHover:Pf.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new e1}},Q6={id:{type:[String,Number],required:!0,default:0},type:zn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Z6={container:{type:[Object,Function],default:()=>document.body},newestOnTop:zn.trueBoolean,maxToasts:{type:Number,default:20},transition:H$.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:o=>o},filterToasts:{type:Function,default:o=>o},containerClassName:zn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},zs={CORE_TOAST:G6,TOAST:Q6,CONTAINER:Z6,PROGRESS_BAR:Gv,ICON:q$,TRANSITION:H$,CLOSE_BUTTON:Pf},z$=Oa({name:"VtProgressBar",props:zs.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Qn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function J6(o,a){return u(),f("div",{style:Rl(o.style),class:rt(o.cpClass)},null,6)}z$.render=J6;var X6=z$,W$=Oa({name:"VtCloseButton",props:zs.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Rm(this.component):"button"},classes(){const o=[`${Qn}__close-button`];return this.showOnHover&&o.push("show-on-hover"),o.concat(this.classNames)}}}),eI=le("  ");function tI(o,a){return u(),me($a(o.buttonComponent),$t({"aria-label":o.ariaLabel,class:o.classes},o.$attrs),{default:Ko(()=>[eI]),_:1},16,["aria-label","class"])}W$.render=tI;var oI=W$,K$={},aI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},nI=e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),sI=[nI];function lI(o,a){return u(),f("svg",aI,sI)}K$.render=lI;var iI=K$,G$={},rI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},dI=e("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),cI=[dI];function uI(o,a){return u(),f("svg",rI,cI)}G$.render=uI;var by=G$,Q$={},_I={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mI=e("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),fI=[mI];function hI(o,a){return u(),f("svg",_I,fI)}Q$.render=hI;var pI=Q$,Z$={},vI={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},gI=e("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),bI=[gI];function yI(o,a){return u(),f("svg",vI,bI)}Z$.render=yI;var kI=Z$,J$=Oa({name:"VtIcon",props:zs.ICON,computed:{customIconChildren(){return hs(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Vh(this.customIcon)?this.trimValue(this.customIcon):hs(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return hs(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:U$(this.customIcon)?Rm(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[_n.DEFAULT]:by,[_n.INFO]:by,[_n.SUCCESS]:iI,[_n.ERROR]:kI,[_n.WARNING]:pI}[this.type]},iconClasses(){const o=[`${Qn}__icon`];return this.hasCustomIcon?o.concat(this.customIconClass):o}},methods:{trimValue(o,a=""){return Y$(o)?o.trim():a}}});function $I(o,a){return u(),me($a(o.component),{class:rt(o.iconClasses)},{default:Ko(()=>[le(n(o.customIconChildren),1)]),_:1},8,["class"])}J$.render=$I;var wI=J$,X$=Oa({name:"VtToast",components:{ProgressBar:X6,CloseButton:oI,Icon:wI},inheritAttrs:!1,props:Object.assign({},zs.CORE_TOAST,zs.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const o=[`${Qn}__toast`,`${Qn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&o.push("disable-transition"),this.rtl&&o.push(`${Qn}__toast--rtl`),o},bodyClasses(){return[`${Qn}__toast-${Vh(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return vy(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:hs,getVueComponentFromObj:Rm,closeToast(){this.eventBus.emit(mn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const o=this.$el;o.addEventListener("touchstart",this.onDragStart,{passive:!0}),o.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const o=this.$el;o.removeEventListener("touchstart",this.onDragStart),o.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(o){this.beingDragged=!0,this.dragPos={x:Lp(o),y:gy(o)},this.dragStart=Lp(o),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(o){this.beingDragged&&(o.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Lp(o),y:gy(o)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,vy(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),DI=["role"];function xI(o,a){const s=ce("Icon"),t=ce("CloseButton"),c=ce("ProgressBar");return u(),f("div",{class:rt(o.classes),style:Rl(o.draggableStyle),onClick:a[0]||(a[0]=(...m)=>o.clickHandler&&o.clickHandler(...m)),onMouseenter:a[1]||(a[1]=(...m)=>o.hoverPause&&o.hoverPause(...m)),onMouseleave:a[2]||(a[2]=(...m)=>o.hoverPlay&&o.hoverPlay(...m))},[o.icon?(u(),me(s,{key:0,"custom-icon":o.icon,type:o.type},null,8,["custom-icon","type"])):b("v-if",!0),e("div",{role:o.accessibility.toastRole||"alert",class:rt(o.bodyClasses)},[typeof o.content=="string"?(u(),f(G,{key:0},[le(n(o.content),1)],2112)):(u(),me($a(o.getVueComponentFromObj(o.content)),$t({key:1,"toast-id":o.id},o.hasProp(o.content,"props")?o.content.props:{},H2(o.hasProp(o.content,"listeners")?o.content.listeners:{}),{onCloseToast:o.closeToast}),null,16,["toast-id","onCloseToast"]))],10,DI),o.closeButton?(u(),me(t,{key:1,component:o.closeButton,"class-names":o.closeButtonClassName,"show-on-hover":o.showCloseButtonOnHover,"aria-label":o.accessibility.closeButtonLabel,onClick:st(o.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):b("v-if",!0),o.timeout?(u(),me(c,{key:2,"is-running":o.isRunning,"hide-progress-bar":o.hideProgressBar,timeout:o.timeout,onCloseToast:o.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):b("v-if",!0)],38)}X$.render=xI;var CI=X$,ew=Oa({name:"VtTransition",props:zs.TRANSITION,emits:["leave"],methods:{hasProp:hs,leave(o){o instanceof HTMLElement&&(o.style.left=o.offsetLeft+"px",o.style.top=o.offsetTop+"px",o.style.width=getComputedStyle(o).width,o.style.position="absolute")}}});function PI(o,a){return u(),me(Vk,{tag:"div","enter-active-class":o.transition.enter?o.transition.enter:`${o.transition}-enter-active`,"move-class":o.transition.move?o.transition.move:`${o.transition}-move`,"leave-active-class":o.transition.leave?o.transition.leave:`${o.transition}-leave-active`,onLeave:o.leave},{default:Ko(()=>[jo(o.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}ew.render=PI;var EI=ew,tw=Oa({name:"VueToastification",devtools:{hide:!0},components:{Toast:CI,VtTransition:EI},props:Object.assign({},zs.CORE_TOAST,zs.CONTAINER,zs.TRANSITION),data(){return{count:0,positions:Object.values(ah),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const o=this.eventBus;o.on(mn.ADD,this.addToast),o.on(mn.CLEAR,this.clearToasts),o.on(mn.DISMISS,this.dismissToast),o.on(mn.UPDATE,this.updateToast),o.on(mn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(o){Yh(o)&&(o=await o()),H6(this.$el),o.appendChild(this.$el)},setToast(o){ei(o.id)||(this.toasts[o.id]=o)},addToast(o){o.content=z6(o.content);const a=Object.assign({},this.defaults,o.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[o.type],o),s=this.defaults.filterBeforeCreate(a,this.toastArray);s&&this.setToast(s)},dismissToast(o){const a=this.toasts[o];!ei(a)&&!ei(a.onClose)&&a.onClose(),delete this.toasts[o]},clearToasts(){Object.keys(this.toasts).forEach(o=>{this.dismissToast(o)})},getPositionToasts(o){const a=this.filteredToasts.filter(s=>s.position===o).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?a.reverse():a},updateDefaults(o){ei(o.container)||this.setup(o.container),this.defaults=Object.assign({},this.defaults,o)},updateToast({id:o,options:a,create:s}){this.toasts[o]?(a.timeout&&a.timeout===this.toasts[o].timeout&&a.timeout++,this.setToast(Object.assign({},this.toasts[o],a))):s&&this.addToast(Object.assign({},{id:o},a))},getClasses(o){return[`${Qn}__container`,o].concat(this.defaults.containerClassName)}}});function AI(o,a){const s=ce("Toast"),t=ce("VtTransition");return u(),f("div",null,[(u(!0),f(G,null,ee(o.positions,c=>(u(),f("div",{key:c},[Be(t,{transition:o.defaults.transition,class:rt(o.getClasses(c))},{default:Ko(()=>[(u(!0),f(G,null,ee(o.getPositionToasts(c),m=>(u(),me(s,$t({key:m.id},m),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}tw.render=AI;var II=tw,yy=(o={},a=!0)=>{const s=o.eventBus=o.eventBus||new e1;a&&bt(()=>{const m=Ke(II,F$({},o)),_=m.mount(document.createElement("div")),l=o.onMounted;if(ei(l)||l(_,m),o.shareAppContext){const r=o.shareAppContext;r===!0?console.warn(`[${Qn}] App to share context with was not provided.`):(m._context.components=r._context.components,m._context.directives=r._context.directives,m._context.mixins=r._context.mixins,m._context.provides=r._context.provides,m.config.globalProperties=r.config.globalProperties)}});const t=(m,_)=>{const l=Object.assign({},{id:q6(),type:_n.DEFAULT},_,{content:m});return s.emit(mn.ADD,l),l.id};t.clear=()=>s.emit(mn.CLEAR,void 0),t.updateDefaults=m=>{s.emit(mn.UPDATE_DEFAULTS,m)},t.dismiss=m=>{s.emit(mn.DISMISS,m)};function c(m,{content:_,options:l},r=!1){const i=Object.assign({},l,{content:_});s.emit(mn.UPDATE,{id:m,options:i,create:r})}return t.update=c,t.success=(m,_)=>t(m,Object.assign({},_,{type:_n.SUCCESS})),t.info=(m,_)=>t(m,Object.assign({},_,{type:_n.INFO})),t.error=(m,_)=>t(m,Object.assign({},_,{type:_n.ERROR})),t.warning=(m,_)=>t(m,Object.assign({},_,{type:_n.WARNING})),t},RI=()=>{const o=()=>console.warn(`[${Qn}] This plugin does not support SSR!`);return new Proxy(o,{get(){return o}})};function Qv(o){return W6()?K6(o)?yy({eventBus:o},!1):yy(o,!0):RI()}var ow=Symbol("VueToastification"),aw=new e1,SI=(o,a)=>{(a==null?void 0:a.shareAppContext)===!0&&(a.shareAppContext=o);const s=Qv(F$({eventBus:aw},a));o.provide(ow,s)},lt=o=>{if(o)return Qv(o);const a=Ha()?Je(ow,void 0):void 0;return a||Qv(aw)},Xe=SI,va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var t1={exports:{}},nw=function(a,s){return function(){for(var c=new Array(arguments.length),m=0;m<c.length;m++)c[m]=arguments[m];return a.apply(s,c)}},TI=nw,o1=Object.prototype.toString,a1=function(o){return function(a){var s=o1.call(a);return o[s]||(o[s]=s.slice(8,-1).toLowerCase())}}(Object.create(null));function hi(o){return o=o.toLowerCase(),function(s){return a1(s)===o}}function n1(o){return Array.isArray(o)}function nh(o){return typeof o>"u"}function jI(o){return o!==null&&!nh(o)&&o.constructor!==null&&!nh(o.constructor)&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}var sw=hi("ArrayBuffer");function OI(o){var a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(o):a=o&&o.buffer&&sw(o.buffer),a}function MI(o){return typeof o=="string"}function LI(o){return typeof o=="number"}function lw(o){return o!==null&&typeof o=="object"}function Ef(o){if(a1(o)!=="object")return!1;var a=Object.getPrototypeOf(o);return a===null||a===Object.prototype}var NI=hi("Date"),FI=hi("File"),YI=hi("Blob"),VI=hi("FileList");function s1(o){return o1.call(o)==="[object Function]"}function BI(o){return lw(o)&&s1(o.pipe)}function UI(o){var a="[object FormData]";return o&&(typeof FormData=="function"&&o instanceof FormData||o1.call(o)===a||s1(o.toString)&&o.toString()===a)}var qI=hi("URLSearchParams");function HI(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function zI(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function l1(o,a){if(!(o===null||typeof o>"u"))if(typeof o!="object"&&(o=[o]),n1(o))for(var s=0,t=o.length;s<t;s++)a.call(null,o[s],s,o);else for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.call(null,o[c],c,o)}function Zv(){var o={};function a(c,m){Ef(o[m])&&Ef(c)?o[m]=Zv(o[m],c):Ef(c)?o[m]=Zv({},c):n1(c)?o[m]=c.slice():o[m]=c}for(var s=0,t=arguments.length;s<t;s++)l1(arguments[s],a);return o}function WI(o,a,s){return l1(a,function(c,m){s&&typeof c=="function"?o[m]=TI(c,s):o[m]=c}),o}function KI(o){return o.charCodeAt(0)===65279&&(o=o.slice(1)),o}function GI(o,a,s,t){o.prototype=Object.create(a.prototype,t),o.prototype.constructor=o,s&&Object.assign(o.prototype,s)}function QI(o,a,s){var t,c,m,_={};a=a||{};do{for(t=Object.getOwnPropertyNames(o),c=t.length;c-- >0;)m=t[c],_[m]||(a[m]=o[m],_[m]=!0);o=Object.getPrototypeOf(o)}while(o&&(!s||s(o,a))&&o!==Object.prototype);return a}function ZI(o,a,s){o=String(o),(s===void 0||s>o.length)&&(s=o.length),s-=a.length;var t=o.indexOf(a,s);return t!==-1&&t===s}function JI(o){if(!o)return null;var a=o.length;if(nh(a))return null;for(var s=new Array(a);a-- >0;)s[a]=o[a];return s}var XI=function(o){return function(a){return o&&a instanceof o}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Da={isArray:n1,isArrayBuffer:sw,isBuffer:jI,isFormData:UI,isArrayBufferView:OI,isString:MI,isNumber:LI,isObject:lw,isPlainObject:Ef,isUndefined:nh,isDate:NI,isFile:FI,isBlob:YI,isFunction:s1,isStream:BI,isURLSearchParams:qI,isStandardBrowserEnv:zI,forEach:l1,merge:Zv,extend:WI,trim:HI,stripBOM:KI,inherits:GI,toFlatObject:QI,kindOf:a1,kindOfTest:hi,endsWith:ZI,toArray:JI,isTypedArray:XI,isFileList:VI},Li=Da;function ky(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var iw=function(a,s,t){if(!s)return a;var c;if(t)c=t(s);else if(Li.isURLSearchParams(s))c=s.toString();else{var m=[];Li.forEach(s,function(r,i){r===null||typeof r>"u"||(Li.isArray(r)?i=i+"[]":r=[r],Li.forEach(r,function(p){Li.isDate(p)?p=p.toISOString():Li.isObject(p)&&(p=JSON.stringify(p)),m.push(ky(i)+"="+ky(p))}))}),c=m.join("&")}if(c){var _=a.indexOf("#");_!==-1&&(a=a.slice(0,_)),a+=(a.indexOf("?")===-1?"?":"&")+c}return a},e8=Da;function Uh(){this.handlers=[]}Uh.prototype.use=function(a,s,t){return this.handlers.push({fulfilled:a,rejected:s,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};Uh.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)};Uh.prototype.forEach=function(a){e8.forEach(this.handlers,function(t){t!==null&&a(t)})};var t8=Uh,o8=Da,a8=function(a,s){o8.forEach(a,function(c,m){m!==s&&m.toUpperCase()===s.toUpperCase()&&(a[s]=c,delete a[m])})},rw=Da;function Zr(o,a,s,t,c){Error.call(this),this.message=o,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),t&&(this.request=t),c&&(this.response=c)}rw.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dw=Zr.prototype,cw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(o){cw[o]={value:o}});Object.defineProperties(Zr,cw);Object.defineProperty(dw,"isAxiosError",{value:!0});Zr.from=function(o,a,s,t,c,m){var _=Object.create(dw);return rw.toFlatObject(o,_,function(r){return r!==Error.prototype}),Zr.call(_,o.message,a,s,t,c),_.name=o.name,m&&Object.assign(_,m),_};var od=Zr,uw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bn=Da;function n8(o,a){a=a||new FormData;var s=[];function t(m){return m===null?"":Bn.isDate(m)?m.toISOString():Bn.isArrayBuffer(m)||Bn.isTypedArray(m)?typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,_){if(Bn.isPlainObject(m)||Bn.isArray(m)){if(s.indexOf(m)!==-1)throw Error("Circular reference detected in "+_);s.push(m),Bn.forEach(m,function(r,i){if(!Bn.isUndefined(r)){var d=_?_+"."+i:i,p;if(r&&!_&&typeof r=="object"){if(Bn.endsWith(i,"{}"))r=JSON.stringify(r);else if(Bn.endsWith(i,"[]")&&(p=Bn.toArray(r))){p.forEach(function(v){!Bn.isUndefined(v)&&a.append(d,t(v))});return}}c(r,d)}}),s.pop()}else a.append(_,t(m))}return c(o),a}var _w=n8,Np,$y;function s8(){if($y)return Np;$y=1;var o=od;return Np=function(s,t,c){var m=c.config.validateStatus;!c.status||!m||m(c.status)?s(c):t(new o("Request failed with status code "+c.status,[o.ERR_BAD_REQUEST,o.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))},Np}var Fp,wy;function l8(){if(wy)return Fp;wy=1;var o=Da;return Fp=o.isStandardBrowserEnv()?function(){return{write:function(t,c,m,_,l,r){var i=[];i.push(t+"="+encodeURIComponent(c)),o.isNumber(m)&&i.push("expires="+new Date(m).toGMTString()),o.isString(_)&&i.push("path="+_),o.isString(l)&&i.push("domain="+l),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var c=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Fp}var i8=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)},r8=function(a,s){return s?a.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):a},d8=i8,c8=r8,mw=function(a,s){return a&&!d8(s)?c8(a,s):s},Yp,Dy;function u8(){if(Dy)return Yp;Dy=1;var o=Da,a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yp=function(t){var c={},m,_,l;return t&&o.forEach(t.split(`
`),function(i){if(l=i.indexOf(":"),m=o.trim(i.substr(0,l)).toLowerCase(),_=o.trim(i.substr(l+1)),m){if(c[m]&&a.indexOf(m)>=0)return;m==="set-cookie"?c[m]=(c[m]?c[m]:[]).concat([_]):c[m]=c[m]?c[m]+", "+_:_}}),c},Yp}var Vp,xy;function _8(){if(xy)return Vp;xy=1;var o=Da;return Vp=o.isStandardBrowserEnv()?function(){var s=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),c;function m(_){var l=_;return s&&(t.setAttribute("href",l),l=t.href),t.setAttribute("href",l),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return c=m(window.location.href),function(l){var r=o.isString(l)?m(l):l;return r.protocol===c.protocol&&r.host===c.host}}():function(){return function(){return!0}}(),Vp}var Bp,Cy;function qh(){if(Cy)return Bp;Cy=1;var o=od,a=Da;function s(t){o.call(this,t??"canceled",o.ERR_CANCELED),this.name="CanceledError"}return a.inherits(s,o,{__CANCEL__:!0}),Bp=s,Bp}var Up,Py;function m8(){return Py||(Py=1,Up=function(a){var s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}),Up}var qp,Ey;function Ay(){if(Ey)return qp;Ey=1;var o=Da,a=s8(),s=l8(),t=iw,c=mw,m=u8(),_=_8(),l=uw,r=od,i=qh(),d=m8();return qp=function(v){return new Promise(function(w,y){var x=v.data,C=v.headers,E=v.responseType,D;function k(){v.cancelToken&&v.cancelToken.unsubscribe(D),v.signal&&v.signal.removeEventListener("abort",D)}o.isFormData(x)&&o.isStandardBrowserEnv()&&delete C["Content-Type"];var I=new XMLHttpRequest;if(v.auth){var V=v.auth.username||"",B=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";C.Authorization="Basic "+btoa(V+":"+B)}var L=c(v.baseURL,v.url);I.open(v.method.toUpperCase(),t(L,v.params,v.paramsSerializer),!0),I.timeout=v.timeout;function F(){if(I){var R="getAllResponseHeaders"in I?m(I.getAllResponseHeaders()):null,O=!E||E==="text"||E==="json"?I.responseText:I.response,N={data:O,status:I.status,statusText:I.statusText,headers:R,config:v,request:I};a(function(U){w(U),k()},function(U){y(U),k()},N),I=null}}if("onloadend"in I?I.onloadend=F:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(F)},I.onabort=function(){I&&(y(new r("Request aborted",r.ECONNABORTED,v,I)),I=null)},I.onerror=function(){y(new r("Network Error",r.ERR_NETWORK,v,I,I)),I=null},I.ontimeout=function(){var O=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded",N=v.transitional||l;v.timeoutErrorMessage&&(O=v.timeoutErrorMessage),y(new r(O,N.clarifyTimeoutError?r.ETIMEDOUT:r.ECONNABORTED,v,I)),I=null},o.isStandardBrowserEnv()){var T=(v.withCredentials||_(L))&&v.xsrfCookieName?s.read(v.xsrfCookieName):void 0;T&&(C[v.xsrfHeaderName]=T)}"setRequestHeader"in I&&o.forEach(C,function(O,N){typeof x>"u"&&N.toLowerCase()==="content-type"?delete C[N]:I.setRequestHeader(N,O)}),o.isUndefined(v.withCredentials)||(I.withCredentials=!!v.withCredentials),E&&E!=="json"&&(I.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&I.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",v.onUploadProgress),(v.cancelToken||v.signal)&&(D=function(R){I&&(y(!R||R&&R.type?new i:R),I.abort(),I=null)},v.cancelToken&&v.cancelToken.subscribe(D),v.signal&&(v.signal.aborted?D():v.signal.addEventListener("abort",D))),x||(x=null);var P=d(L);if(P&&["http","https","file"].indexOf(P)===-1){y(new r("Unsupported protocol "+P+":",r.ERR_BAD_REQUEST,v));return}I.send(x)})},qp}var Hp,Iy;function f8(){return Iy||(Iy=1,Hp=null),Hp}var pa=Da,Ry=a8,Sy=od,h8=uw,p8=_w,v8={"Content-Type":"application/x-www-form-urlencoded"};function Ty(o,a){!pa.isUndefined(o)&&pa.isUndefined(o["Content-Type"])&&(o["Content-Type"]=a)}function g8(){var o;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(o=Ay()),o}function b8(o,a,s){if(pa.isString(o))try{return(a||JSON.parse)(o),pa.trim(o)}catch(t){if(t.name!=="SyntaxError")throw t}return(s||JSON.stringify)(o)}var Hh={transitional:h8,adapter:g8(),transformRequest:[function(a,s){if(Ry(s,"Accept"),Ry(s,"Content-Type"),pa.isFormData(a)||pa.isArrayBuffer(a)||pa.isBuffer(a)||pa.isStream(a)||pa.isFile(a)||pa.isBlob(a))return a;if(pa.isArrayBufferView(a))return a.buffer;if(pa.isURLSearchParams(a))return Ty(s,"application/x-www-form-urlencoded;charset=utf-8"),a.toString();var t=pa.isObject(a),c=s&&s["Content-Type"],m;if((m=pa.isFileList(a))||t&&c==="multipart/form-data"){var _=this.env&&this.env.FormData;return p8(m?{"files[]":a}:a,_&&new _)}else if(t||c==="application/json")return Ty(s,"application/json"),b8(a);return a}],transformResponse:[function(a){var s=this.transitional||Hh.transitional,t=s&&s.silentJSONParsing,c=s&&s.forcedJSONParsing,m=!t&&this.responseType==="json";if(m||c&&pa.isString(a)&&a.length)try{return JSON.parse(a)}catch(_){if(m)throw _.name==="SyntaxError"?Sy.from(_,Sy.ERR_BAD_RESPONSE,this,null,this.response):_}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:f8()},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pa.forEach(["delete","get","head"],function(a){Hh.headers[a]={}});pa.forEach(["post","put","patch"],function(a){Hh.headers[a]=pa.merge(v8)});var i1=Hh,y8=Da,k8=i1,$8=function(a,s,t){var c=this||k8;return y8.forEach(t,function(_){a=_.call(c,a,s)}),a},zp,jy;function fw(){return jy||(jy=1,zp=function(a){return!!(a&&a.__CANCEL__)}),zp}var Oy=Da,Wp=$8,w8=fw(),D8=i1,x8=qh();function Kp(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new x8}var C8=function(a){Kp(a),a.headers=a.headers||{},a.data=Wp.call(a,a.data,a.headers,a.transformRequest),a.headers=Oy.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),Oy.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var s=a.adapter||D8.adapter;return s(a).then(function(c){return Kp(a),c.data=Wp.call(a,c.data,c.headers,a.transformResponse),c},function(c){return w8(c)||(Kp(a),c&&c.response&&(c.response.data=Wp.call(a,c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})},ln=Da,hw=function(a,s){s=s||{};var t={};function c(d,p){return ln.isPlainObject(d)&&ln.isPlainObject(p)?ln.merge(d,p):ln.isPlainObject(p)?ln.merge({},p):ln.isArray(p)?p.slice():p}function m(d){if(ln.isUndefined(s[d])){if(!ln.isUndefined(a[d]))return c(void 0,a[d])}else return c(a[d],s[d])}function _(d){if(!ln.isUndefined(s[d]))return c(void 0,s[d])}function l(d){if(ln.isUndefined(s[d])){if(!ln.isUndefined(a[d]))return c(void 0,a[d])}else return c(void 0,s[d])}function r(d){if(d in s)return c(a[d],s[d]);if(d in a)return c(void 0,a[d])}var i={url:_,method:_,data:_,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:r};return ln.forEach(Object.keys(a).concat(Object.keys(s)),function(p){var v=i[p]||m,g=v(p);ln.isUndefined(g)&&v!==r||(t[p]=g)}),t},Gp,My;function pw(){return My||(My=1,Gp={version:"0.27.2"}),Gp}var P8=pw().version,vl=od,r1={};["object","boolean","number","function","string","symbol"].forEach(function(o,a){r1[o]=function(t){return typeof t===o||"a"+(a<1?"n ":" ")+o}});var Ly={};r1.transitional=function(a,s,t){function c(m,_){return"[Axios v"+P8+"] Transitional option '"+m+"'"+_+(t?". "+t:"")}return function(m,_,l){if(a===!1)throw new vl(c(_," has been removed"+(s?" in "+s:"")),vl.ERR_DEPRECATED);return s&&!Ly[_]&&(Ly[_]=!0,console.warn(c(_," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(m,_,l):!0}};function E8(o,a,s){if(typeof o!="object")throw new vl("options must be an object",vl.ERR_BAD_OPTION_VALUE);for(var t=Object.keys(o),c=t.length;c-- >0;){var m=t[c],_=a[m];if(_){var l=o[m],r=l===void 0||_(l,m,o);if(r!==!0)throw new vl("option "+m+" must be "+r,vl.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new vl("Unknown option "+m,vl.ERR_BAD_OPTION)}}var A8={assertOptions:E8,validators:r1},vw=Da,I8=iw,Ny=t8,Fy=C8,zh=hw,R8=mw,gw=A8,Ni=gw.validators;function Jr(o){this.defaults=o,this.interceptors={request:new Ny,response:new Ny}}Jr.prototype.request=function(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=zh(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var t=s.transitional;t!==void 0&&gw.assertOptions(t,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1);var c=[],m=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(m=m&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});var _=[];this.interceptors.response.forEach(function(g){_.push(g.fulfilled,g.rejected)});var l;if(!m){var r=[Fy,void 0];for(Array.prototype.unshift.apply(r,c),r=r.concat(_),l=Promise.resolve(s);r.length;)l=l.then(r.shift(),r.shift());return l}for(var i=s;c.length;){var d=c.shift(),p=c.shift();try{i=d(i)}catch(v){p(v);break}}try{l=Fy(i)}catch(v){return Promise.reject(v)}for(;_.length;)l=l.then(_.shift(),_.shift());return l};Jr.prototype.getUri=function(a){a=zh(this.defaults,a);var s=R8(a.baseURL,a.url);return I8(s,a.params,a.paramsSerializer)};vw.forEach(["delete","get","head","options"],function(a){Jr.prototype[a]=function(s,t){return this.request(zh(t||{},{method:a,url:s,data:(t||{}).data}))}});vw.forEach(["post","put","patch"],function(a){function s(t){return function(m,_,l){return this.request(zh(l||{},{method:a,headers:t?{"Content-Type":"multipart/form-data"}:{},url:m,data:_}))}}Jr.prototype[a]=s(),Jr.prototype[a+"Form"]=s(!0)});var S8=Jr,Qp,Yy;function T8(){if(Yy)return Qp;Yy=1;var o=qh();function a(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(_){t=_});var c=this;this.promise.then(function(m){if(c._listeners){var _,l=c._listeners.length;for(_=0;_<l;_++)c._listeners[_](m);c._listeners=null}}),this.promise.then=function(m){var _,l=new Promise(function(r){c.subscribe(r),_=r}).then(m);return l.cancel=function(){c.unsubscribe(_)},l},s(function(_){c.reason||(c.reason=new o(_),t(c.reason))})}return a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]},a.prototype.unsubscribe=function(t){if(this._listeners){var c=this._listeners.indexOf(t);c!==-1&&this._listeners.splice(c,1)}},a.source=function(){var t,c=new a(function(_){t=_});return{token:c,cancel:t}},Qp=a,Qp}var Zp,Vy;function j8(){return Vy||(Vy=1,Zp=function(a){return function(t){return a.apply(null,t)}}),Zp}var Jp,By;function O8(){if(By)return Jp;By=1;var o=Da;return Jp=function(s){return o.isObject(s)&&s.isAxiosError===!0},Jp}var Uy=Da,M8=nw,Af=S8,L8=hw,N8=i1;function bw(o){var a=new Af(o),s=M8(Af.prototype.request,a);return Uy.extend(s,Af.prototype,a),Uy.extend(s,a),s.create=function(c){return bw(L8(o,c))},s}var an=bw(N8);an.Axios=Af;an.CanceledError=qh();an.CancelToken=T8();an.isCancel=fw();an.VERSION=pw().version;an.toFormData=_w;an.AxiosError=od;an.Cancel=an.CanceledError;an.all=function(a){return Promise.all(a)};an.spread=j8();an.isAxiosError=O8();t1.exports=an;t1.exports.default=an;var F8=t1.exports,Y8=F8;const A=Bh(Y8);function V8(o,a){switch(o.replace("_","-")){case"af":case"af-ZA":case"bn":case"bn-BD":case"bn-IN":case"bg":case"bg-BG":case"ca":case"ca-AD":case"ca-ES":case"ca-FR":case"ca-IT":case"da":case"da-DK":case"de":case"de-AT":case"de-BE":case"de-CH":case"de-DE":case"de-LI":case"de-LU":case"el":case"el-CY":case"el-GR":case"en":case"en-AG":case"en-AU":case"en-BW":case"en-CA":case"en-DK":case"en-GB":case"en-HK":case"en-IE":case"en-IN":case"en-NG":case"en-NZ":case"en-PH":case"en-SG":case"en-US":case"en-ZA":case"en-ZM":case"en-ZW":case"eo":case"eo-US":case"es":case"es-AR":case"es-BO":case"es-CL":case"es-CO":case"es-CR":case"es-CU":case"es-DO":case"es-EC":case"es-ES":case"es-GT":case"es-HN":case"es-MX":case"es-NI":case"es-PA":case"es-PE":case"es-PR":case"es-PY":case"es-SV":case"es-US":case"es-UY":case"es-VE":case"et":case"et-EE":case"eu":case"eu-ES":case"eu-FR":case"fa":case"fa-IR":case"fi":case"fi-FI":case"fo":case"fo-FO":case"fur":case"fur-IT":case"fy":case"fy-DE":case"fy-NL":case"gl":case"gl-ES":case"gu":case"gu-IN":case"ha":case"ha-NG":case"he":case"he-IL":case"hu":case"hu-HU":case"is":case"is-IS":case"it":case"it-CH":case"it-IT":case"ku":case"ku-TR":case"lb":case"lb-LU":case"ml":case"ml-IN":case"mn":case"mn-MN":case"mr":case"mr-IN":case"nah":case"nb":case"nb-NO":case"ne":case"ne-NP":case"nl":case"nl-AW":case"nl-BE":case"nl-NL":case"nn":case"nn-NO":case"no":case"om":case"om-ET":case"om-KE":case"or":case"or-IN":case"pa":case"pa-IN":case"pa-PK":case"pap":case"pap-AN":case"pap-AW":case"pap-CW":case"ps":case"ps-AF":case"pt":case"pt-BR":case"pt-PT":case"so":case"so-DJ":case"so-ET":case"so-KE":case"so-SO":case"sq":case"sq-AL":case"sq-MK":case"sv":case"sv-FI":case"sv-SE":case"sw":case"sw-KE":case"sw-TZ":case"ta":case"ta-IN":case"ta-LK":case"te":case"te-IN":case"tk":case"tk-TM":case"ur":case"ur-IN":case"ur-PK":case"zu":case"zu-ZA":return a===1?0:1;case"am":case"am-ET":case"bh":case"fil":case"fil-PH":case"fr":case"fr-BE":case"fr-CA":case"fr-CH":case"fr-FR":case"fr-LU":case"gun":case"hi":case"hi-IN":case"hy":case"hy-AM":case"ln":case"ln-CD":case"mg":case"mg-MG":case"nso":case"nso-ZA":case"ti":case"ti-ER":case"ti-ET":case"wa":case"wa-BE":case"xbr":return a===0||a===1?0:1;case"be":case"be-BY":case"bs":case"bs-BA":case"hr":case"hr-HR":case"ru":case"ru-RU":case"ru-UA":case"sr":case"sr-ME":case"sr-RS":case"uk":case"uk-UA":return a%10==1&&a%100!=11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2;case"cs":case"cs-CZ":case"sk":case"sk-SK":return a==1?0:a>=2&&a<=4?1:2;case"ga":case"ga-IE":return a==1?0:a==2?1:2;case"lt":case"lt-LT":return a%10==1&&a%100!=11?0:a%10>=2&&(a%100<10||a%100>=20)?1:2;case"sl":case"sl-SI":return a%100==1?0:a%100==2?1:a%100==3||a%100==4?2:3;case"mk":case"mk-MK":return a%10==1?0:1;case"mt":case"mt-MT":return a==1?0:a==0||a%100>1&&a%100<11?1:a%100>10&&a%100<20?2:3;case"lv":case"lv-LV":return a==0?0:a%10==1&&a%100!=11?1:2;case"pl":case"pl-PL":return a==1?0:a%10>=2&&a%10<=4&&(a%100<12||a%100>14)?1:2;case"cy":case"cy-GB":return a==1?0:a==2?1:a==8||a==11?2:3;case"ro":case"ro-RO":return a==1?0:a==0||a%100>0&&a%100<20?1:2;case"ar":case"ar-AE":case"ar-BH":case"ar-DZ":case"ar-EG":case"ar-IN":case"ar-IQ":case"ar-JO":case"ar-KW":case"ar-LB":case"ar-LY":case"ar-MA":case"ar-OM":case"ar-QA":case"ar-SA":case"ar-SD":case"ar-SS":case"ar-SY":case"ar-TN":case"ar-YE":return a==0?0:a==1?1:a==2?2:a%100>=3&&a%100<=10?3:a%100>=11&&a%100<=99?4:5;default:return 0}}function B8(o,a,s){let t=o.split("|");const c=U8(t,a);if(c!==null)return c.trim();t=H8(t);const m=V8(s,a);return t.length===1||!t[m]?t[0]:t[m]}function U8(o,a){for(const s of o){let t=q8(s,a);if(t!==null)return t}return null}function q8(o,a){const s=o.match(/^[\{\[]([^\[\]\{\}]*)[\}\]](.*)/s)||[];if(s.length!==3)return null;const t=s[1],c=s[2];if(t.includes(",")){let[m,_]=t.split(",");if(_==="*"&&a>=parseFloat(m))return c;if(m==="*"&&a<=parseFloat(_))return c;if(a>=parseFloat(m)&&a<=parseFloat(_))return c}return parseFloat(t)===a?c:null}function H8(o){return o.map(a=>a.replace(/^[\{\[]([^\[\]\{\}]*)[\}\]]/,""))}const Xp=(o,a,s={})=>{try{return o(a)}catch{return s}},ev=async(o,a={})=>{try{return(await o).default||a}catch{return a}};var z8={VITE_LARAVEL_VUE_I18N_HAS_PHP:"true",BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function qy(o){return o||W8()||K8()}function W8(){return typeof process<"u"}function K8(){return typeof z8<"u"}const kr=typeof window>"u";let Fi=null;const Hy={lang:!kr&&document.documentElement.lang?document.documentElement.lang.replace("-","_"):null,fallbackLang:"en",fallbackMissingTranslations:!1,resolve:o=>new Promise(a=>a({default:{}})),onLoad:o=>{}},G8={shared:!0},et={install(o,a={}){a={...G8,...a};const s=a.shared?xn.getSharedInstance(a,!0):new xn(a);o.config.globalProperties.$t=(t,c)=>s.trans(t,c),o.config.globalProperties.$tChoice=(t,c,m)=>s.transChoice(t,c,m),o.provide("i18n",s)}};class xn{constructor(a={}){this.activeMessages=Rn({}),this.fallbackMessages=Rn({}),this.reset=()=>{xn.loaded=[],this.options=Hy;for(const[s]of Object.entries(this.activeMessages))this.activeMessages[s]=null;this===Fi&&(Fi=null)},this.options={...Hy,...a},this.options.fallbackMissingTranslations?this.loadFallbackLanguage():this.load()}setOptions(a={},s=!1){return this.options={...this.options,...a},s&&this.load(),this}load(){this[kr?"loadLanguage":"loadLanguageAsync"](this.getActiveLanguage())}loadFallbackLanguage(){if(!kr){this.resolveLangAsync(this.options.resolve,this.options.fallbackLang).then(({default:s})=>{this.applyFallbackLanguage(this.options.fallbackLang,s),this.load()});return}const{default:a}=this.resolveLang(this.options.resolve,this.options.fallbackLang);this.applyFallbackLanguage(this.options.fallbackLang,a),this.loadLanguage(this.getActiveLanguage())}loadLanguage(a,s=!1){const t=xn.loaded.find(m=>m.lang===a);if(t){this.setLanguage(t);return}const{default:c}=this.resolveLang(this.options.resolve,a);this.applyLanguage(a,c,s,this.loadLanguage)}loadLanguageAsync(a,s=!1,t=!1){var m;t||((m=this.abortController)==null||m.abort(),this.abortController=new AbortController);const c=xn.loaded.find(_=>_.lang===a);return c?Promise.resolve(this.setLanguage(c)):new Promise((_,l)=>{this.abortController.signal.addEventListener("abort",()=>{_()}),this.resolveLangAsync(this.options.resolve,a).then(({default:r})=>{_(this.applyLanguage(a,r,s,this.loadLanguageAsync))})})}resolveLang(a,s,t={}){return Object.keys(t).length||(t=Xp(a,s)),qy(kr)?{default:{...t,...Xp(a,`php_${s}`)}}:{default:t}}async resolveLangAsync(a,s){let t=Xp(a,s);if(!(t instanceof Promise))return this.resolveLang(a,s,t);if(qy(kr)){const c=await ev(a(`php_${s}`)),m=await ev(t);return new Promise(_=>_({default:{...c,...m}}))}return new Promise(async c=>c({default:await ev(t)}))}applyLanguage(a,s,t=!1,c){if(Object.keys(s).length<1){if(/[-_]/g.test(a)&&!t)return c.call(this,a.replace(/[-_]/g,_=>_==="-"?"_":"-"),!0,!0);if(a!==this.options.fallbackLang)return c.call(this,this.options.fallbackLang,!1,!0)}const m={lang:a,messages:s};return this.addLoadedLang(m),this.setLanguage(m)}applyFallbackLanguage(a,s){for(const[t,c]of Object.entries(s))this.fallbackMessages[t]=c;this.addLoadedLang({lang:this.options.fallbackLang,messages:s})}addLoadedLang(a){const s=xn.loaded.findIndex(t=>t.lang===a.lang);if(s!==-1){xn.loaded[s]=a;return}xn.loaded.push(a)}setLanguage({lang:a,messages:s}){kr||document.documentElement.setAttribute("lang",a.replace("_","-")),this.options.lang=a;for(const[t,c]of Object.entries(s))this.activeMessages[t]=c;for(const[t,c]of Object.entries(this.fallbackMessages))(!this.isValid(s[t])||this.activeMessages[t]===t)&&(this.activeMessages[t]=c);for(const[t]of Object.entries(this.activeMessages))!this.isValid(s[t])&&!this.isValid(this.fallbackMessages[t])&&(this.activeMessages[t]=null);return this.options.onLoad(a),a}getActiveLanguage(){return this.options.lang||this.options.fallbackLang}isLoaded(a){return a??(a=this.getActiveLanguage()),xn.loaded.some(s=>s.lang.replace(/[-_]/g,"-")===a.replace(/[-_]/g,"-"))}trans(a,s={}){return this.wTrans(a,s).value}wTrans(a,s={}){return j_(()=>{let t=this.findTranslation(a);this.isValid(t)||(t=this.findTranslation(a.replace(/\//g,"."))),this.activeMessages[a]=this.isValid(t)?t:a}),$o(()=>this.makeReplacements(this.activeMessages[a],s))}transChoice(a,s,t={}){return this.wTransChoice(a,s,t).value}wTransChoice(a,s,t={}){const c=this.wTrans(a,t);return t.count=s.toString(),$o(()=>this.makeReplacements(B8(c.value,s,this.options.lang),t))}findTranslation(a){if(this.isValid(this.activeMessages[a]))return this.activeMessages[a];if(this.activeMessages[`${a}.0`]!==void 0){const t=Object.entries(this.activeMessages).filter(c=>c[0].startsWith(`${a}.`)).map(c=>c[1]);return Rn(t)}return this.activeMessages[a]}makeReplacements(a,s){const t=c=>c.charAt(0).toUpperCase()+c.slice(1);return Object.entries(s||[]).sort((c,m)=>c[0].length>=m[0].length?-1:1).forEach(([c,m])=>{m=m.toString(),a=(a||"").replace(new RegExp(`:${c}`,"g"),m).replace(new RegExp(`:${c.toUpperCase()}`,"g"),m.toUpperCase()).replace(new RegExp(`:${t(c)}`,"g"),t(m))}),a}isValid(a){return a!=null}static getSharedInstance(a,s=!1){return(Fi==null?void 0:Fi.setOptions(a,s))||(Fi=new xn(a))}}xn.loaded=[];var Q8=Object.defineProperty,zy=Object.getOwnPropertySymbols,Z8=Object.prototype.hasOwnProperty,J8=Object.prototype.propertyIsEnumerable,Wy=(o,a,s)=>a in o?Q8(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,X8=(o,a)=>{for(var s in a||(a={}))Z8.call(a,s)&&Wy(o,s,a[s]);if(zy)for(var s of zy(a))J8.call(a,s)&&Wy(o,s,a[s]);return o};function pi(o){return o==null||o===""||Array.isArray(o)&&o.length===0||!(o instanceof Date)&&typeof o=="object"&&Object.keys(o).length===0}function d1(o){return!!(o&&o.constructor&&o.call&&o.apply)}function Lo(o){return!pi(o)}function ps(o,a=!0){return o instanceof Object&&o.constructor===Object&&(a||Object.keys(o).length!==0)}function In(o,...a){return d1(o)?o(...a):o}function tn(o,a=!0){return typeof o=="string"&&(a||o!=="")}function Wn(o){return tn(o)?o.replace(/(-|_)/g,"").toLowerCase():o}function c1(o,a="",s={}){const t=Wn(a).split("."),c=t.shift();return c?ps(o)?c1(In(o[Object.keys(o).find(m=>Wn(m)===c)||""],s),t.join("."),s):void 0:In(o,s)}function Wh(o,a=!0){return Array.isArray(o)&&(a||o.length!==0)}function eR(o){return Lo(o)&&!isNaN(o)}function tR(){return new Intl.Collator(void 0,{numeric:!0}).compare}function Bs(o,a){if(a){const s=a.test(o);return a.lastIndex=0,s}return!1}function oR(...o){const a=(s={},t={})=>{const c=X8({},s);return Object.keys(t).forEach(m=>{ps(t[m])&&m in s&&ps(s[m])?c[m]=a(s[m],t[m]):c[m]=t[m]}),c};return o.reduce((s,t,c)=>c===0?t:a(s,t),{})}function N_(o){return o&&o.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function aR(o){return tn(o,!1)?o[0].toUpperCase()+o.slice(1):o}function yw(o){return tn(o)?o.replace(/(_)/g,"-").replace(/[A-Z]/g,(a,s)=>s===0?a:"-"+a.toLowerCase()).toLowerCase():o}function Ky(o){return tn(o)?o.replace(/[A-Z]/g,(a,s)=>s===0?a:"."+a.toLowerCase()).toLowerCase():o}function u1(){const o=new Map;return{on(a,s){let t=o.get(a);return t?t.push(s):t=[s],o.set(a,t),this},off(a,s){let t=o.get(a);return t&&t.splice(t.indexOf(s)>>>0,1),this},emit(a,s){let t=o.get(a);t&&t.slice().map(c=>{c(s)})},clear(){o.clear()}}}var nR=Object.defineProperty,sR=Object.defineProperties,lR=Object.getOwnPropertyDescriptors,sh=Object.getOwnPropertySymbols,kw=Object.prototype.hasOwnProperty,$w=Object.prototype.propertyIsEnumerable,Gy=(o,a,s)=>a in o?nR(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,Kn=(o,a)=>{for(var s in a||(a={}))kw.call(a,s)&&Gy(o,s,a[s]);if(sh)for(var s of sh(a))$w.call(a,s)&&Gy(o,s,a[s]);return o},tv=(o,a)=>sR(o,lR(a)),Ts=(o,a)=>{var s={};for(var t in o)kw.call(o,t)&&a.indexOf(t)<0&&(s[t]=o[t]);if(o!=null&&sh)for(var t of sh(o))a.indexOf(t)<0&&$w.call(o,t)&&(s[t]=o[t]);return s},iR=u1(),Hn=iR;function Qy(o,a){Wh(o)?o.push(...a||[]):ps(o)&&Object.assign(o,a)}function rR(o){return ps(o)&&o.hasOwnProperty("value")&&o.hasOwnProperty("type")?o.value:o}function dR(o){return o.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Jv(o="",a=""){return dR(`${tn(o,!1)&&tn(a,!1)?`${o}-`:o}${a}`)}function ww(o="",a=""){return`--${Jv(o,a)}`}function cR(o=""){const a=(o.match(/{/g)||[]).length,s=(o.match(/}/g)||[]).length;return(a+s)%2!==0}function Dw(o,a="",s="",t=[],c){if(tn(o)){const m=/{([^}]*)}/g,_=o.trim();if(cR(_))return;if(Bs(_,m)){const l=_.replaceAll(m,d=>{const v=d.replace(/{|}/g,"").split(".").filter(g=>!t.some(w=>Bs(g,w)));return`var(${ww(s,yw(v.join("-")))}${Lo(c)?`, ${c}`:""})`}),r=/(\d+\s+[\+\-\*\/]\s+\d+)/g,i=/var\([^)]+\)/g;return Bs(l.replace(i,"0"),r)?`calc(${l})`:l}return _}else if(eR(o))return o}function uR(o,a,s){tn(a,!1)&&o.push(`${a}:${s};`)}function $r(o,a){return o?`${o}{${a}}`:""}var F_=(...o)=>_R(Oo.getTheme(),...o),_R=(o={},a,s,t)=>{if(a){const{variable:c,options:m}=Oo.defaults||{},{prefix:_,transform:l}=(o==null?void 0:o.options)||m||{},i=Bs(a,/{([^}]*)}/g)?a:`{${a}}`;return t==="value"||pi(t)&&l==="strict"?Oo.getTokenValue(a):Dw(i,void 0,_,[c.excludedKeyRegex],s)}return""};function mR(o,a={}){const s=Oo.defaults.variable,{prefix:t=s.prefix,selector:c=s.selector,excludedKeyRegex:m=s.excludedKeyRegex}=a,_=(i,d="")=>Object.entries(i).reduce((p,[v,g])=>{const w=Bs(v,m)?Jv(d):Jv(d,yw(v)),y=rR(g);if(ps(y)){const{variables:x,tokens:C}=_(y,w);Qy(p.tokens,C),Qy(p.variables,x)}else p.tokens.push((t?w.replace(`${t}-`,""):w).replaceAll("-",".")),uR(p.variables,ww(w),Dw(y,w,t,[m]));return p},{variables:[],tokens:[]}),{variables:l,tokens:r}=_(o,t);return{value:l,tokens:r,declarations:l.join(""),css:$r(c,l.join(""))}}var Un={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(o){return{type:"class",selector:o,matched:this.pattern.test(o.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(o){return{type:"attr",selector:`:root${o}`,matched:this.pattern.test(o.trim())}}},media:{pattern:/^@media (.*)$/,resolve(o){return{type:"media",selector:`${o}{:root{[CSS]}}`,matched:this.pattern.test(o.trim())}}},system:{pattern:/^system$/,resolve(o){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(o.trim())}}},custom:{resolve(o){return{type:"custom",selector:o,matched:!0}}}},resolve(o){const a=Object.keys(this.rules).filter(s=>s!=="custom").map(s=>this.rules[s]);return[o].flat().map(s=>{var t;return(t=a.map(c=>c.resolve(s)).find(c=>c.matched))!=null?t:this.rules.custom.resolve(s)})}},_toVariables(o,a){return mR(o,{prefix:a==null?void 0:a.prefix})},getCommon({name:o="",theme:a={},params:s,set:t,defaults:c}){var m,_,l,r,i,d,p;const{preset:v,options:g}=a;let w,y,x,C,E,D,k;if(Lo(v)&&g.transform!=="strict"){const{primitive:I,semantic:V,extend:B}=v,L=V||{},{colorScheme:F}=L,T=Ts(L,["colorScheme"]),P=B||{},{colorScheme:R}=P,O=Ts(P,["colorScheme"]),N=F||{},{dark:S}=N,U=Ts(N,["dark"]),W=R||{},{dark:oe}=W,J=Ts(W,["dark"]),K=Lo(I)?this._toVariables({primitive:I},g):{},z=Lo(T)?this._toVariables({semantic:T},g):{},ae=Lo(U)?this._toVariables({light:U},g):{},we=Lo(S)?this._toVariables({dark:S},g):{},Fe=Lo(O)?this._toVariables({semantic:O},g):{},he=Lo(J)?this._toVariables({light:J},g):{},re=Lo(oe)?this._toVariables({dark:oe},g):{},[$e,De]=[(m=K.declarations)!=null?m:"",K.tokens],[ie,pe]=[(_=z.declarations)!=null?_:"",z.tokens||[]],[be,Me]=[(l=ae.declarations)!=null?l:"",ae.tokens||[]],[ue,je]=[(r=we.declarations)!=null?r:"",we.tokens||[]],[ze,Ye]=[(i=Fe.declarations)!=null?i:"",Fe.tokens||[]],[ge,_e]=[(d=he.declarations)!=null?d:"",he.tokens||[]],[Se,Ve]=[(p=re.declarations)!=null?p:"",re.tokens||[]];w=this.transformCSS(o,$e,"light","variable",g,t,c),y=De;const ke=this.transformCSS(o,`${ie}${be}`,"light","variable",g,t,c),te=this.transformCSS(o,`${ue}`,"dark","variable",g,t,c);x=`${ke}${te}`,C=[...new Set([...pe,...Me,...je])];const Ce=this.transformCSS(o,`${ze}${ge}color-scheme:light`,"light","variable",g,t,c),Ne=this.transformCSS(o,`${Se}color-scheme:dark`,"dark","variable",g,t,c);E=`${Ce}${Ne}`,D=[...new Set([...Ye,..._e,...Ve])],k=In(v.css,{dt:F_})}return{primitive:{css:w,tokens:y},semantic:{css:x,tokens:C},global:{css:E,tokens:D},style:k}},getPreset({name:o="",preset:a={},options:s,params:t,set:c,defaults:m,selector:_}){var l,r,i;let d,p,v;if(Lo(a)&&s.transform!=="strict"){const g=o.replace("-directive",""),w=a,{colorScheme:y,extend:x,css:C}=w,E=Ts(w,["colorScheme","extend","css"]),D=x||{},{colorScheme:k}=D,I=Ts(D,["colorScheme"]),V=y||{},{dark:B}=V,L=Ts(V,["dark"]),F=k||{},{dark:T}=F,P=Ts(F,["dark"]),R=Lo(E)?this._toVariables({[g]:Kn(Kn({},E),I)},s):{},O=Lo(L)?this._toVariables({[g]:Kn(Kn({},L),P)},s):{},N=Lo(B)?this._toVariables({[g]:Kn(Kn({},B),T)},s):{},[S,U]=[(l=R.declarations)!=null?l:"",R.tokens||[]],[W,oe]=[(r=O.declarations)!=null?r:"",O.tokens||[]],[J,K]=[(i=N.declarations)!=null?i:"",N.tokens||[]],z=this.transformCSS(g,`${S}${W}`,"light","variable",s,c,m,_),ae=this.transformCSS(g,J,"dark","variable",s,c,m,_);d=`${z}${ae}`,p=[...new Set([...U,...oe,...K])],v=In(C,{dt:F_})}return{css:d,tokens:p,style:v}},getPresetC({name:o="",theme:a={},params:s,set:t,defaults:c}){var m;const{preset:_,options:l}=a,r=(m=_==null?void 0:_.components)==null?void 0:m[o];return this.getPreset({name:o,preset:r,options:l,params:s,set:t,defaults:c})},getPresetD({name:o="",theme:a={},params:s,set:t,defaults:c}){var m;const _=o.replace("-directive",""),{preset:l,options:r}=a,i=(m=l==null?void 0:l.directives)==null?void 0:m[_];return this.getPreset({name:_,preset:i,options:r,params:s,set:t,defaults:c})},applyDarkColorScheme(o){return!(o.darkModeSelector==="none"||o.darkModeSelector===!1)},getColorSchemeOption(o,a){var s;return this.applyDarkColorScheme(o)?this.regex.resolve(o.darkModeSelector===!0?a.options.darkModeSelector:(s=o.darkModeSelector)!=null?s:a.options.darkModeSelector):[]},getLayerOrder(o,a={},s,t){const{cssLayer:c}=a;return c?`@layer ${In(c.order||"primeui",s)}`:""},getCommonStyleSheet({name:o="",theme:a={},params:s,props:t={},set:c,defaults:m}){const _=this.getCommon({name:o,theme:a,params:s,set:c,defaults:m}),l=Object.entries(t).reduce((r,[i,d])=>r.push(`${i}="${d}"`)&&r,[]).join(" ");return Object.entries(_||{}).reduce((r,[i,d])=>{if(d!=null&&d.css){const p=N_(d==null?void 0:d.css),v=`${i}-variables`;r.push(`<style type="text/css" data-primevue-style-id="${v}" ${l}>${p}</style>`)}return r},[]).join("")},getStyleSheet({name:o="",theme:a={},params:s,props:t={},set:c,defaults:m}){var _;const l={name:o,theme:a,params:s,set:c,defaults:m},r=(_=o.includes("-directive")?this.getPresetD(l):this.getPresetC(l))==null?void 0:_.css,i=Object.entries(t).reduce((d,[p,v])=>d.push(`${p}="${v}"`)&&d,[]).join(" ");return r?`<style type="text/css" data-primevue-style-id="${o}-variables" ${i}>${N_(r)}</style>`:""},createTokens(o={},a,s="",t="",c={}){return Object.entries(o).forEach(([m,_])=>{const l=Bs(m,a.variable.excludedKeyRegex)?s:s?`${s}.${Ky(m)}`:Ky(m),r=t?`${t}.${m}`:m;ps(_)?this.createTokens(_,a,l,r,c):(c[l]||(c[l]={paths:[],computed(i,d={}){var p,v;return this.paths.length===1?(p=this.paths[0])==null?void 0:p.computed(this.paths[0].scheme,d.binding):i&&i!=="none"?(v=this.paths.find(g=>g.scheme===i))==null?void 0:v.computed(i,d.binding):this.paths.map(g=>g.computed(g.scheme,d[g.scheme]))}}),c[l].paths.push({path:r,value:_,scheme:r.includes("colorScheme.light")?"light":r.includes("colorScheme.dark")?"dark":"none",computed(i,d={}){const p=/{([^}]*)}/g;let v=_;if(d.name=this.path,d.binding||(d.binding={}),Bs(_,p)){const w=_.trim().replaceAll(p,C=>{var E;const D=C.replace(/{|}/g,""),k=(E=c[D])==null?void 0:E.computed(i,d);return Wh(k)&&k.length===2?`light-dark(${k[0].value},${k[1].value})`:k==null?void 0:k.value}),y=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,x=/var\([^)]+\)/g;v=Bs(w.replace(x,"0"),y)?`calc(${w})`:w}return pi(d.binding)&&delete d.binding,{colorScheme:i,path:this.path,paths:d,value:v.includes("undefined")?void 0:v}}}))}),c},getTokenValue(o,a,s){var t;const m=(r=>r.split(".").filter(d=>!Bs(d.toLowerCase(),s.variable.excludedKeyRegex)).join("."))(a),_=a.includes("colorScheme.light")?"light":a.includes("colorScheme.dark")?"dark":void 0,l=[(t=o[m])==null?void 0:t.computed(_)].flat().filter(r=>r);return l.length===1?l[0].value:l.reduce((r={},i)=>{const d=i,{colorScheme:p}=d,v=Ts(d,["colorScheme"]);return r[p]=v,r},void 0)},getSelectorRule(o,a,s,t){return s==="class"||s==="attr"?$r(Lo(a)?`${o}${a},${o} ${a}`:o,t):$r(o,Lo(a)?$r(a,t):t)},transformCSS(o,a,s,t,c={},m,_,l){if(Lo(a)){const{cssLayer:r}=c;if(t!=="style"){const i=this.getColorSchemeOption(c,_);a=s==="dark"?i.reduce((d,{type:p,selector:v})=>(Lo(v)&&(d+=v.includes("[CSS]")?v.replace("[CSS]",a):this.getSelectorRule(v,l,p,a)),d),""):$r(l??":root",a)}if(r){const i={name:"primeui",order:"primeui"};ps(r)&&(i.name=In(r.name,{name:o,type:t})),Lo(i.name)&&(a=$r(`@layer ${i.name}`,a),m==null||m.layerNames(i.name))}return a}return""}},Oo={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(o={}){const{theme:a}=o;a&&(this._theme=tv(Kn({},a),{options:Kn(Kn({},this.defaults.options),a.options)}),this._tokens=Un.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var o;return((o=this.theme)==null?void 0:o.preset)||{}},get options(){var o;return((o=this.theme)==null?void 0:o.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(o){this.update({theme:o}),Hn.emit("theme:change",o)},getPreset(){return this.preset},setPreset(o){this._theme=tv(Kn({},this.theme),{preset:o}),this._tokens=Un.createTokens(o,this.defaults),this.clearLoadedStyleNames(),Hn.emit("preset:change",o),Hn.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(o){this._theme=tv(Kn({},this.theme),{options:o}),this.clearLoadedStyleNames(),Hn.emit("options:change",o),Hn.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(o){this._layerNames.add(o)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(o){return this._loadedStyleNames.has(o)},setLoadedStyleName(o){this._loadedStyleNames.add(o)},deleteLoadedStyleName(o){this._loadedStyleNames.delete(o)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(o){return Un.getTokenValue(this.tokens,o,this.defaults)},getCommon(o="",a){return Un.getCommon({name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(o="",a){const s={name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPresetC(s)},getDirective(o="",a){const s={name:o,theme:this.theme,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPresetD(s)},getCustomPreset(o="",a,s,t){const c={name:o,preset:a,options:this.options,selector:s,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Un.getPreset(c)},getLayerOrderCSS(o=""){return Un.getLayerOrder(o,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(o="",a,s="style",t){return Un.transformCSS(o,a,t,s,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(o="",a,s={}){return Un.getCommonStyleSheet({name:o,theme:this.theme,params:a,props:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(o,a,s={}){return Un.getStyleSheet({name:o,theme:this.theme,params:a,props:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(o){this._loadingStyles.add(o)},onStyleUpdated(o){this._loadingStyles.add(o)},onStyleLoaded(o,{name:a}){this._loadingStyles.size&&(this._loadingStyles.delete(a),Hn.emit(`theme:${a}:load`,o),!this._loadingStyles.size&&Hn.emit("theme:load"))}};function fR(o,a){return o?o.classList?o.classList.contains(a):new RegExp("(^| )"+a+"( |$)","gi").test(o.className):!1}function hR(o,a){if(o&&a){const s=t=>{fR(o,t)||(o.classList?o.classList.add(t):o.className+=" "+t)};[a].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(s))}}function lh(o){for(const a of document==null?void 0:document.styleSheets)try{for(const s of a==null?void 0:a.cssRules)for(const t of s==null?void 0:s.style)if(o.test(t))return{name:t,value:s.style.getPropertyValue(t).trim()}}catch{}return null}function ov(o,a){if(o&&a){const s=t=>{o.classList?o.classList.remove(t):o.className=o.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")};[a].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(s))}}function xw(o){let a={width:0,height:0};return o&&(o.style.visibility="hidden",o.style.display="block",a.width=o.offsetWidth,a.height=o.offsetHeight,o.style.display="none",o.style.visibility="visible"),a}function Cw(){let o=window,a=document,s=a.documentElement,t=a.getElementsByTagName("body")[0],c=o.innerWidth||s.clientWidth||t.clientWidth,m=o.innerHeight||s.clientHeight||t.clientHeight;return{width:c,height:m}}function pR(){let o=document.documentElement;return(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)}function vR(){let o=document.documentElement;return(window.pageYOffset||o.scrollTop)-(o.clientTop||0)}function gR(o,a,s=!0){var t,c,m,_;if(o){const l=o.offsetParent?{width:o.offsetWidth,height:o.offsetHeight}:xw(o),r=l.height,i=l.width,d=a.offsetHeight,p=a.offsetWidth,v=a.getBoundingClientRect(),g=vR(),w=pR(),y=Cw();let x,C,E="top";v.top+d+r>y.height?(x=v.top+g-r,E="bottom",x<0&&(x=g)):x=d+v.top+g,v.left+i>y.width?C=Math.max(0,v.left+w+p-i):C=v.left+w,o.style.top=x+"px",o.style.left=C+"px",o.style.transformOrigin=E,s&&(o.style.marginTop=E==="bottom"?`calc(${(c=(t=lh(/-anchor-gutter$/))==null?void 0:t.value)!=null?c:"2px"} * -1)`:(_=(m=lh(/-anchor-gutter$/))==null?void 0:m.value)!=null?_:"")}}function bR(o,a){o&&(typeof a=="string"?o.style.cssText=a:Object.entries(a||{}).forEach(([s,t])=>o.style[s]=t))}function If(o,a){if(o instanceof HTMLElement){let s=o.offsetWidth;if(a){let t=getComputedStyle(o);s+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return s}return 0}function yR(o,a,s=!0){var t,c,m,_;if(o){const l=o.offsetParent?{width:o.offsetWidth,height:o.offsetHeight}:xw(o),r=a.offsetHeight,i=a.getBoundingClientRect(),d=Cw();let p,v,g="top";i.top+r+l.height>d.height?(p=-1*l.height,g="bottom",i.top+p<0&&(p=-1*i.top)):p=r,l.width>d.width?v=i.left*-1:i.left+l.width>d.width?v=(i.left+l.width-d.width)*-1:v=0,o.style.top=p+"px",o.style.left=v+"px",o.style.transformOrigin=g,s&&(o.style.marginTop=g==="bottom"?`calc(${(c=(t=lh(/-anchor-gutter$/))==null?void 0:t.value)!=null?c:"2px"} * -1)`:(_=(m=lh(/-anchor-gutter$/))==null?void 0:m.value)!=null?_:"")}}function Sm(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName=="string"}function ih(o,a={}){if(Sm(o)){const s=(t,c)=>{var m,_;const l=(m=o==null?void 0:o.$attrs)!=null&&m[t]?[(_=o==null?void 0:o.$attrs)==null?void 0:_[t]]:[];return[c].flat().reduce((r,i)=>{if(i!=null){const d=typeof i;if(d==="string"||d==="number")r.push(i);else if(d==="object"){const p=Array.isArray(i)?s(t,i):Object.entries(i).map(([v,g])=>t==="style"&&(g||g===0)?`${v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`:g?v:void 0);r=p.length?r.concat(p.filter(v=>!!v)):r}}return r},l)};Object.entries(a).forEach(([t,c])=>{if(c!=null){const m=t.match(/^on(.+)/);m?o.addEventListener(m[1].toLowerCase(),c):t==="p-bind"||t==="pBind"?ih(o,c):(c=t==="class"?[...new Set(s("class",c))].join(" ").trim():t==="style"?s("style",c).join(";").trim():c,(o.$attrs=o.$attrs||{})&&(o.$attrs[t]=c),o.setAttribute(t,c))}})}}function kR(o,a={},...s){if(o){const t=document.createElement(o);return ih(t,a),t.append(...s),t}}function ul(o,a){return Sm(o)?Array.from(o.querySelectorAll(a)):[]}function qn(o,a){return Sm(o)?o.matches(a)?o:o.querySelector(a):null}function Ql(o,a){if(Sm(o)){const s=o.getAttribute(a);return isNaN(s)?s==="true"||s==="false"?s==="true":s:+s}}function Zy(o,a=""){let s=ul(o,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${a}`),t=[];for(let c of s)getComputedStyle(c).display!="none"&&getComputedStyle(c).visibility!="hidden"&&t.push(c);return t}function Jy(o){if(o){let a=o.offsetHeight,s=getComputedStyle(o);return a-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),a}return 0}function _1(o){if(o){let a=o.parentNode;return a&&a instanceof ShadowRoot&&a.host&&(a=a.host),a}return null}function wd(o){var a;if(o){let s=(a=_1(o))==null?void 0:a.childNodes,t=0;if(s)for(let c=0;c<s.length;c++){if(s[c]===o)return t;s[c].nodeType===1&&t++}}return-1}function $R(o){if(o){let a=o.getBoundingClientRect();return{top:a.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:a.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function wR(o,a){if(o){let s=o.offsetHeight;if(a){let t=getComputedStyle(o);s+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return s}return 0}function Pw(o,a=[]){const s=_1(o);return s===null?a:Pw(s,a.concat([s]))}function DR(o){let a=[];if(o){let s=Pw(o);const t=/(auto|scroll)/,c=m=>{try{let _=window.getComputedStyle(m,null);return t.test(_.getPropertyValue("overflow"))||t.test(_.getPropertyValue("overflowX"))||t.test(_.getPropertyValue("overflowY"))}catch{return!1}};for(let m of s){let _=m.nodeType===1&&m.dataset.scrollselectors;if(_){let l=_.split(",");for(let r of l){let i=qn(m,r);i&&c(i)&&a.push(i)}}m.nodeType!==9&&c(m)&&a.push(m)}}return a}function xR(o){return!!(o!==null&&typeof o<"u"&&o.nodeName&&_1(o))}function Xy(o){if(o){let a=o.offsetWidth,s=getComputedStyle(o);return a-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),a}return 0}function m1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function CR(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function Ew(o,a="",s){Sm(o)&&s!==null&&s!==void 0&&o.setAttribute(a,s)}var rf={};function f1(o="pui_id_"){return rf.hasOwnProperty(o)||(rf[o]=0),rf[o]++,`${o}${rf[o]}`}function PR(){let o=[];const a=(_,l,r=999)=>{const i=c(_,l,r),d=i.value+(i.key===_?0:r)+1;return o.push({key:_,value:d}),d},s=_=>{o=o.filter(l=>l.value!==_)},t=(_,l)=>c(_,l).value,c=(_,l,r=0)=>[...o].reverse().find(i=>l?!0:i.key===_)||{key:_,value:r},m=_=>_&&parseInt(_.style.zIndex,10)||0;return{get:m,set:(_,l,r)=>{l&&(l.style.zIndex=String(a(_,!0,r)))},clear:_=>{_&&(s(m(_)),_.style.zIndex="")},getCurrent:_=>t(_,!0)}}var av=PR(),Pa={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function im(o){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},im(o)}function e0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function t0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?e0(Object(s),!0).forEach(function(t){ER(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):e0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function ER(o,a,s){return(a=AR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function AR(o){var a=IR(o,"string");return im(a)=="symbol"?a:a+""}function IR(o,a){if(im(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(im(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function RR(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ha()?Qe(o):a?o():bt(o)}var SR=0;function TR(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=h(!1),t=h(o),c=h(null),m=m1()?window.document:void 0,_=a.document,l=_===void 0?m:_,r=a.immediate,i=r===void 0?!0:r,d=a.manual,p=d===void 0?!1:d,v=a.name,g=v===void 0?"style_".concat(++SR):v,w=a.id,y=w===void 0?void 0:w,x=a.media,C=x===void 0?void 0:x,E=a.nonce,D=E===void 0?void 0:E,k=a.first,I=k===void 0?!1:k,V=a.onMounted,B=V===void 0?void 0:V,L=a.onUpdated,F=L===void 0?void 0:L,T=a.onLoad,P=T===void 0?void 0:T,R=a.props,O=R===void 0?{}:R,N=function(){},S=function(oe){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var K=t0(t0({},O),J),z=K.name||g,ae=K.id||y,we=K.nonce||D;c.value=l.querySelector('style[data-primevue-style-id="'.concat(z,'"]'))||l.getElementById(ae)||l.createElement("style"),c.value.isConnected||(t.value=oe||o,ih(c.value,{type:"text/css",id:ae,media:C,nonce:we}),I?l.head.prepend(c.value):l.head.appendChild(c.value),Ew(c.value,"data-primevue-style-id",z),ih(c.value,K),c.value.onload=function(Fe){return P==null?void 0:P(Fe,{name:z})},B==null||B(z)),!s.value&&(N=ot(t,function(Fe){c.value.textContent=Fe,F==null||F(z)},{immediate:!0}),s.value=!0)}},U=function(){!l||!s.value||(N(),xR(c.value)&&l.head.removeChild(c.value),s.value=!1)};return i&&!p&&RR(S),{id:y,name:g,el:c,css:t,unload:U,load:S,isLoaded:Ch(s)}}function rm(o){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},rm(o)}function o0(o,a){return LR(o)||MR(o,a)||OR(o,a)||jR()}function jR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(o,a){if(o){if(typeof o=="string")return a0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a0(o,a):void 0}}function a0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function MR(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a!==0)for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function LR(o){if(Array.isArray(o))return o}function n0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function nv(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?n0(Object(s),!0).forEach(function(t){NR(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):n0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function NR(o,a,s){return(a=FR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function FR(o){var a=YR(o,"string");return rm(a)=="symbol"?a:a+""}function YR(o,a){if(rm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(rm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var VR=function(a){var s=a.dt;return`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(s("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(s("icon.size"),`;
}

.p-icon {
    width: `).concat(s("icon.size"),`;
    height: `).concat(s("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(s("mask.background"),`;
    color: `).concat(s("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(s("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(s("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(s("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(s("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},BR=function(a){var s=a.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(s("scrollbar.width"),`;
}
`)},UR={},qR={},Fo={name:"base",css:BR,theme:VR,classes:UR,inlineStyles:qR,load:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(m){return m},c=t(In(a,{dt:F_}));return Lo(c)?TR(N_(c),nv({name:this.name},s)):{}},loadCSS:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,a)},loadTheme:function(){var a=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.theme,s,function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Oo.transformCSS(s.name||a.name,"".concat(c).concat(t))})},getCommonTheme:function(a){return Oo.getCommon(this.name,a)},getComponentTheme:function(a){return Oo.getComponent(this.name,a)},getDirectiveTheme:function(a){return Oo.getDirective(this.name,a)},getPresetTheme:function(a,s,t){return Oo.getCustomPreset(this.name,a,s,t)},getLayerOrderThemeCSS:function(){return Oo.getLayerOrderCSS(this.name)},getStyleSheet:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var t=In(this.css,{dt:F_})||"",c=N_("".concat(t).concat(a)),m=Object.entries(s).reduce(function(_,l){var r=o0(l,2),i=r[0],d=r[1];return _.push("".concat(i,'="').concat(d,'"'))&&_},[]).join(" ");return Lo(c)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(m,">").concat(c,"</style>"):""}return""},getCommonThemeStyleSheet:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Oo.getCommonStyleSheet(this.name,a,s)},getThemeStyleSheet:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[Oo.getStyleSheet(this.name,a,s)];if(this.theme){var c=this.name==="base"?"global-style":"".concat(this.name,"-style"),m=In(this.theme,{dt:F_}),_=N_(Oo.transformCSS(c,m)),l=Object.entries(s).reduce(function(r,i){var d=o0(i,2),p=d[0],v=d[1];return r.push("".concat(p,'="').concat(v,'"'))&&r},[]).join(" ");Lo(_)&&t.push('<style type="text/css" data-primevue-style-id="'.concat(c,'" ').concat(l,">").concat(_,"</style>"))}return t.join("")},extend:function(a){return nv(nv({},this),{},{css:void 0,theme:void 0},a)}},Ar=u1();function dm(o){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dm(o)}function s0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function df(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?s0(Object(s),!0).forEach(function(t){HR(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):s0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function HR(o,a,s){return(a=zR(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function zR(o){var a=WR(o,"string");return dm(a)=="symbol"?a:a+""}function WR(o,a){if(dm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(dm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var KR={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Pa.STARTS_WITH,Pa.CONTAINS,Pa.NOT_CONTAINS,Pa.ENDS_WITH,Pa.EQUALS,Pa.NOT_EQUALS],numeric:[Pa.EQUALS,Pa.NOT_EQUALS,Pa.LESS_THAN,Pa.LESS_THAN_OR_EQUAL_TO,Pa.GREATER_THAN,Pa.GREATER_THAN_OR_EQUAL_TO],date:[Pa.DATE_IS,Pa.DATE_IS_NOT,Pa.DATE_BEFORE,Pa.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},GR=Symbol();function QR(o,a){var s={config:Rn(a)};return o.config.globalProperties.$primevue=s,o.provide(GR,s),ZR(),JR(o,s),s}var Ir=[];function ZR(){Hn.clear(),Ir.forEach(function(o){return o==null?void 0:o()}),Ir=[]}function JR(o,a){var s=h(!1),t=function(){var i;if(((i=a.config)===null||i===void 0?void 0:i.theme)!=="none"&&!Oo.isStyleNameLoaded("common")){var d,p,v=((d=Fo.getCommonTheme)===null||d===void 0?void 0:d.call(Fo))||{},g=v.primitive,w=v.semantic,y=v.global,x=v.style,C={nonce:(p=a.config)===null||p===void 0||(p=p.csp)===null||p===void 0?void 0:p.nonce};Fo.load(g==null?void 0:g.css,df({name:"primitive-variables"},C)),Fo.load(w==null?void 0:w.css,df({name:"semantic-variables"},C)),Fo.load(y==null?void 0:y.css,df({name:"global-variables"},C)),Fo.loadTheme(df({name:"global-style"},C),x),Oo.setLoadedStyleName("common")}};Hn.on("theme:change",function(r){s.value||(o.config.globalProperties.$primevue.config.theme=r,s.value=!0)});var c=ot(a.config,function(r,i){Ar.emit("config:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0}),m=ot(function(){return a.config.ripple},function(r,i){Ar.emit("config:ripple:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0}),_=ot(function(){return a.config.theme},function(r,i){s.value||Oo.setTheme(r),a.config.unstyled||t(),s.value=!1,Ar.emit("config:theme:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!1}),l=ot(function(){return a.config.unstyled},function(r,i){!r&&a.config.theme&&t(),Ar.emit("config:unstyled:change",{newValue:r,oldValue:i})},{immediate:!0,deep:!0});Ir.push(c),Ir.push(m),Ir.push(_),Ir.push(l)}var Kh={install:function(a,s){var t=oR(KR,s);QR(a,t)}},XR={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},eS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},tS={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},oS={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},aS={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},nS={root:{borderRadius:"{content.border.radius}"}},sS={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},lS={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},iS={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},rS={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},dS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},cS={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},uS={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},_S={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},mS={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},fS={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},hS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},pS={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},vS={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},gS={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},bS={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},yS={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},kS={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},$S={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},wS={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},DS={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},xS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},CS={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},PS={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},ES={icon:{color:"{form.field.icon.color}"}},AS={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},IS={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},RS={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},SS={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},TS={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},jS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},OS={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},MS={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},LS={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},NS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},FS={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},YS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},VS={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},BS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},US={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},qS={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},HS={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},zS={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},WS={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},KS={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},GS={root:{outline:{width:"2px",color:"{content.background}"}}},QS={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},ZS={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},JS={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},XS={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},eT={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},tT={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},oT={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},aT={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},nT={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},sT={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},lT={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},iT={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},rT={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},dT={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},cT={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},uT={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},_T={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},mT={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},fT={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},hT={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},pT={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},vT={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},gT={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},bT={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},yT={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},kT={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},$T={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},wT={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},DT={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},xT={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},CT={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},PT={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},ET={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},AT={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},IT={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},RT={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},ST={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},TT={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function cm(o){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cm(o)}function l0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function i0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?l0(Object(s),!0).forEach(function(t){jT(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):l0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function jT(o,a,s){return(a=OT(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function OT(o){var a=MT(o,"string");return cm(a)=="symbol"?a:a+""}function MT(o,a){if(cm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(cm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var Gh=i0(i0({},aS),{},{components:{accordion:XR,autocomplete:eS,avatar:tS,badge:oS,blockui:nS,breadcrumb:sS,button:lS,datepicker:gS,card:iS,carousel:rS,cascadeselect:dS,checkbox:cS,chip:uS,colorpicker:_S,confirmdialog:mS,confirmpopup:fS,contextmenu:hS,dataview:vS,datatable:pS,dialog:bS,divider:yS,dock:kS,drawer:$S,editor:wS,fieldset:DS,fileupload:xS,iftalabel:AS,floatlabel:CS,galleria:PS,iconfield:ES,image:IS,imagecompare:RS,inlinemessage:SS,inplace:TS,inputchips:jS,inputgroup:OS,inputnumber:MS,inputotp:LS,inputtext:NS,knob:FS,listbox:YS,megamenu:VS,menu:BS,menubar:US,message:qS,metergroup:HS,multiselect:zS,orderlist:WS,organizationchart:KS,overlaybadge:GS,popover:tT,paginator:QS,password:XS,panel:ZS,panelmenu:JS,picklist:eT,progressbar:oT,progressspinner:aT,radiobutton:nT,rating:sT,scrollpanel:iT,select:rT,selectbutton:dT,skeleton:cT,slider:uT,speeddial:_T,splitter:fT,splitbutton:mT,stepper:hT,steps:pT,tabmenu:vT,tabs:gT,tabview:bT,textarea:$T,tieredmenu:wT,tag:yT,terminal:kT,timeline:DT,togglebutton:CT,toggleswitch:PT,tree:IT,treeselect:RT,treetable:ST,toast:xT,toolbar:ET,virtualscroller:TT},directives:{tooltip:AT,ripple:lT}});const Ue=(o,a)=>{const s=o.__vccOpts||o;for(const[t,c]of a)s[t]=c;return s},LT={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},NT={"aria-label":"Page navigation",class:"mt-2 d-flex flex-column flex-md-row justify-content-between"},FT={key:0,class:"d-flex my-auto text-primary"},YT={class:"mx-1 fw-bold"},VT={class:"mx-1 fw-bold"},BT={class:"mx-1 fw-bold"},UT={class:"pagination justify-content-md-end"},qT={class:"page-item prev"},HT=["onClick","innerHTML"],zT={class:"page-item next"};function WT(o,a,s,t,c,m){return u(),f("nav",NT,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",FT,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",YT,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",VT,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",BT,n(s.total_items),1)])):b("",!0)]),e("ul",UT,[e("li",qT,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(G,null,ee(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,HT)):b("",!0)],2))),128)),e("li",zT,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const oo=Ue(LT,[["render",WT]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Aw;function H(){return Aw.apply(null,arguments)}function KT(o){Aw=o}function os(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function ii(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function Po(o,a){return Object.prototype.hasOwnProperty.call(o,a)}function h1(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var a;for(a in o)if(Po(o,a))return!1;return!0}function Ka(o){return o===void 0}function Qs(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function Tm(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function Iw(o,a){var s=[],t,c=o.length;for(t=0;t<c;++t)s.push(a(o[t],t));return s}function bl(o,a){for(var s in a)Po(a,s)&&(o[s]=a[s]);return Po(a,"toString")&&(o.toString=a.toString),Po(a,"valueOf")&&(o.valueOf=a.valueOf),o}function gs(o,a,s,t){return e5(o,a,s,t,!0).utc()}function GT(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function lo(o){return o._pf==null&&(o._pf=GT()),o._pf}var Xv;Array.prototype.some?Xv=Array.prototype.some:Xv=function(o){var a=Object(this),s=a.length>>>0,t;for(t=0;t<s;t++)if(t in a&&o.call(this,a[t],t,a))return!0;return!1};function p1(o){if(o._isValid==null){var a=lo(o),s=Xv.call(a.parsedDateParts,function(c){return c!=null}),t=!isNaN(o._d.getTime())&&a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&s);if(o._strict&&(t=t&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=t;else return t}return o._isValid}function Qh(o){var a=gs(NaN);return o!=null?bl(lo(a),o):lo(a).userInvalidated=!0,a}var r0=H.momentProperties=[],sv=!1;function v1(o,a){var s,t,c,m=r0.length;if(Ka(a._isAMomentObject)||(o._isAMomentObject=a._isAMomentObject),Ka(a._i)||(o._i=a._i),Ka(a._f)||(o._f=a._f),Ka(a._l)||(o._l=a._l),Ka(a._strict)||(o._strict=a._strict),Ka(a._tzm)||(o._tzm=a._tzm),Ka(a._isUTC)||(o._isUTC=a._isUTC),Ka(a._offset)||(o._offset=a._offset),Ka(a._pf)||(o._pf=lo(a)),Ka(a._locale)||(o._locale=a._locale),m>0)for(s=0;s<m;s++)t=r0[s],c=a[t],Ka(c)||(o[t]=c);return o}function jm(o){v1(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),sv===!1&&(sv=!0,H.updateOffset(this),sv=!1)}function as(o){return o instanceof jm||o!=null&&o._isAMomentObject!=null}function Rw(o){H.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}function jn(o,a){var s=!0;return bl(function(){if(H.deprecationHandler!=null&&H.deprecationHandler(null,o),s){var t=[],c,m,_,l=arguments.length;for(m=0;m<l;m++){if(c="",typeof arguments[m]=="object"){c+=`
[`+m+"] ";for(_ in arguments[0])Po(arguments[0],_)&&(c+=_+": "+arguments[0][_]+", ");c=c.slice(0,-2)}else c=arguments[m];t.push(c)}Rw(o+`
Arguments: `+Array.prototype.slice.call(t).join("")+`
`+new Error().stack),s=!1}return a.apply(this,arguments)},a)}var d0={};function Sw(o,a){H.deprecationHandler!=null&&H.deprecationHandler(o,a),d0[o]||(Rw(a),d0[o]=!0)}H.suppressDeprecationWarnings=!1;H.deprecationHandler=null;function bs(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function QT(o){var a,s;for(s in o)Po(o,s)&&(a=o[s],bs(a)?this[s]=a:this["_"+s]=a);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function eg(o,a){var s=bl({},o),t;for(t in a)Po(a,t)&&(ii(o[t])&&ii(a[t])?(s[t]={},bl(s[t],o[t]),bl(s[t],a[t])):a[t]!=null?s[t]=a[t]:delete s[t]);for(t in o)Po(o,t)&&!Po(a,t)&&ii(o[t])&&(s[t]=bl({},s[t]));return s}function g1(o){o!=null&&this.set(o)}var tg;Object.keys?tg=Object.keys:tg=function(o){var a,s=[];for(a in o)Po(o,a)&&s.push(a);return s};var ZT={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function JT(o,a,s){var t=this._calendar[o]||this._calendar.sameElse;return bs(t)?t.call(a,s):t}function vs(o,a,s){var t=""+Math.abs(o),c=a-t.length,m=o>=0;return(m?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+t}var b1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,cf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,lv={},Nr={};function Zt(o,a,s,t){var c=t;typeof t=="string"&&(c=function(){return this[t]()}),o&&(Nr[o]=c),a&&(Nr[a[0]]=function(){return vs(c.apply(this,arguments),a[1],a[2])}),s&&(Nr[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),o)})}function XT(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function ej(o){var a=o.match(b1),s,t;for(s=0,t=a.length;s<t;s++)Nr[a[s]]?a[s]=Nr[a[s]]:a[s]=XT(a[s]);return function(c){var m="",_;for(_=0;_<t;_++)m+=bs(a[_])?a[_].call(c,o):a[_];return m}}function Rf(o,a){return o.isValid()?(a=Tw(a,o.localeData()),lv[a]=lv[a]||ej(a),lv[a](o)):o.localeData().invalidDate()}function Tw(o,a){var s=5;function t(c){return a.longDateFormat(c)||c}for(cf.lastIndex=0;s>=0&&cf.test(o);)o=o.replace(cf,t),cf.lastIndex=0,s-=1;return o}var tj={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function oj(o){var a=this._longDateFormat[o],s=this._longDateFormat[o.toUpperCase()];return a||!s?a:(this._longDateFormat[o]=s.match(b1).map(function(t){return t==="MMMM"||t==="MM"||t==="DD"||t==="dddd"?t.slice(1):t}).join(""),this._longDateFormat[o])}var aj="Invalid date";function nj(){return this._invalidDate}var sj="%d",lj=/\d{1,2}/;function ij(o){return this._ordinal.replace("%d",o)}var rj={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dj(o,a,s,t){var c=this._relativeTime[s];return bs(c)?c(o,a,s,t):c.replace(/%d/i,o)}function cj(o,a){var s=this._relativeTime[o>0?"future":"past"];return bs(s)?s(a):s.replace(/%s/i,a)}var Y_={};function Ma(o,a){var s=o.toLowerCase();Y_[s]=Y_[s+"s"]=Y_[a]=o}function On(o){return typeof o=="string"?Y_[o]||Y_[o.toLowerCase()]:void 0}function y1(o){var a={},s,t;for(t in o)Po(o,t)&&(s=On(t),s&&(a[s]=o[t]));return a}var jw={};function La(o,a){jw[o]=a}function uj(o){var a=[],s;for(s in o)Po(o,s)&&a.push({unit:s,priority:jw[s]});return a.sort(function(t,c){return t.priority-c.priority}),a}function Zh(o){return o%4===0&&o%100!==0||o%400===0}function Pn(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function _o(o){var a=+o,s=0;return a!==0&&isFinite(a)&&(s=Pn(a)),s}function ad(o,a){return function(s){return s!=null?(Ow(this,o,s),H.updateOffset(this,a),this):rh(this,o)}}function rh(o,a){return o.isValid()?o._d["get"+(o._isUTC?"UTC":"")+a]():NaN}function Ow(o,a,s){o.isValid()&&!isNaN(s)&&(a==="FullYear"&&Zh(o.year())&&o.month()===1&&o.date()===29?(s=_o(s),o._d["set"+(o._isUTC?"UTC":"")+a](s,o.month(),ap(s,o.month()))):o._d["set"+(o._isUTC?"UTC":"")+a](s))}function _j(o){return o=On(o),bs(this[o])?this[o]():this}function mj(o,a){if(typeof o=="object"){o=y1(o);var s=uj(o),t,c=s.length;for(t=0;t<c;t++)this[s[t].unit](o[s[t].unit])}else if(o=On(o),bs(this[o]))return this[o](a);return this}var Mw=/\d/,gn=/\d\d/,Lw=/\d{3}/,k1=/\d{4}/,Jh=/[+-]?\d{6}/,Ho=/\d\d?/,Nw=/\d\d\d\d?/,Fw=/\d\d\d\d\d\d?/,Xh=/\d{1,3}/,$1=/\d{1,4}/,ep=/[+-]?\d{1,6}/,nd=/\d+/,tp=/[+-]?\d+/,fj=/Z|[+-]\d\d:?\d\d/gi,op=/Z|[+-]\d\d(?::?\d\d)?/gi,hj=/[+-]?\d+(\.\d{1,3})?/,Om=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dh;dh={};function Yt(o,a,s){dh[o]=bs(a)?a:function(t,c){return t&&s?s:a}}function pj(o,a){return Po(dh,o)?dh[o](a._strict,a._locale):new RegExp(vj(o))}function vj(o){return un(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,s,t,c,m){return s||t||c||m}))}function un(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var og={};function Mo(o,a){var s,t=a,c;for(typeof o=="string"&&(o=[o]),Qs(a)&&(t=function(m,_){_[a]=_o(m)}),c=o.length,s=0;s<c;s++)og[o[s]]=t}function Mm(o,a){Mo(o,function(s,t,c,m){c._w=c._w||{},a(s,c._w,c,m)})}function gj(o,a,s){a!=null&&Po(og,o)&&og[o](a,s._a,s,o)}var ja=0,Us=1,ms=2,ua=3,Zn=4,qs=5,ti=6,bj=7,yj=8;function kj(o,a){return(o%a+a)%a}var ea;Array.prototype.indexOf?ea=Array.prototype.indexOf:ea=function(o){var a;for(a=0;a<this.length;++a)if(this[a]===o)return a;return-1};function ap(o,a){if(isNaN(o)||isNaN(a))return NaN;var s=kj(a,12);return o+=(a-s)/12,s===1?Zh(o)?29:28:31-s%7%2}Zt("M",["MM",2],"Mo",function(){return this.month()+1});Zt("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)});Zt("MMMM",0,0,function(o){return this.localeData().months(this,o)});Ma("month","M");La("month",8);Yt("M",Ho);Yt("MM",Ho,gn);Yt("MMM",function(o,a){return a.monthsShortRegex(o)});Yt("MMMM",function(o,a){return a.monthsRegex(o)});Mo(["M","MM"],function(o,a){a[Us]=_o(o)-1});Mo(["MMM","MMMM"],function(o,a,s,t){var c=s._locale.monthsParse(o,t,s._strict);c!=null?a[Us]=c:lo(s).invalidMonth=o});var $j="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Vw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wj=Om,Dj=Om;function xj(o,a){return o?os(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||Vw).test(a)?"format":"standalone"][o.month()]:os(this._months)?this._months:this._months.standalone}function Cj(o,a){return o?os(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[Vw.test(a)?"format":"standalone"][o.month()]:os(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pj(o,a,s){var t,c,m,_=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],t=0;t<12;++t)m=gs([2e3,t]),this._shortMonthsParse[t]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[t]=this.months(m,"").toLocaleLowerCase();return s?a==="MMM"?(c=ea.call(this._shortMonthsParse,_),c!==-1?c:null):(c=ea.call(this._longMonthsParse,_),c!==-1?c:null):a==="MMM"?(c=ea.call(this._shortMonthsParse,_),c!==-1?c:(c=ea.call(this._longMonthsParse,_),c!==-1?c:null)):(c=ea.call(this._longMonthsParse,_),c!==-1?c:(c=ea.call(this._shortMonthsParse,_),c!==-1?c:null))}function Ej(o,a,s){var t,c,m;if(this._monthsParseExact)return Pj.call(this,o,a,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;t<12;t++){if(c=gs([2e3,t]),s&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[t]&&(m="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[t]=new RegExp(m.replace(".",""),"i")),s&&a==="MMMM"&&this._longMonthsParse[t].test(o))return t;if(s&&a==="MMM"&&this._shortMonthsParse[t].test(o))return t;if(!s&&this._monthsParse[t].test(o))return t}}function Bw(o,a){var s;if(!o.isValid())return o;if(typeof a=="string"){if(/^\d+$/.test(a))a=_o(a);else if(a=o.localeData().monthsParse(a),!Qs(a))return o}return s=Math.min(o.date(),ap(o.year(),a)),o._d["set"+(o._isUTC?"UTC":"")+"Month"](a,s),o}function Uw(o){return o!=null?(Bw(this,o),H.updateOffset(this,!0),this):rh(this,"Month")}function Aj(){return ap(this.year(),this.month())}function Ij(o){return this._monthsParseExact?(Po(this,"_monthsRegex")||qw.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(Po(this,"_monthsShortRegex")||(this._monthsShortRegex=wj),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function Rj(o){return this._monthsParseExact?(Po(this,"_monthsRegex")||qw.call(this),o?this._monthsStrictRegex:this._monthsRegex):(Po(this,"_monthsRegex")||(this._monthsRegex=Dj),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function qw(){function o(_,l){return l.length-_.length}var a=[],s=[],t=[],c,m;for(c=0;c<12;c++)m=gs([2e3,c]),a.push(this.monthsShort(m,"")),s.push(this.months(m,"")),t.push(this.months(m,"")),t.push(this.monthsShort(m,""));for(a.sort(o),s.sort(o),t.sort(o),c=0;c<12;c++)a[c]=un(a[c]),s[c]=un(s[c]);for(c=0;c<24;c++)t[c]=un(t[c]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}Zt("Y",0,0,function(){var o=this.year();return o<=9999?vs(o,4):"+"+o});Zt(0,["YY",2],0,function(){return this.year()%100});Zt(0,["YYYY",4],0,"year");Zt(0,["YYYYY",5],0,"year");Zt(0,["YYYYYY",6,!0],0,"year");Ma("year","y");La("year",1);Yt("Y",tp);Yt("YY",Ho,gn);Yt("YYYY",$1,k1);Yt("YYYYY",ep,Jh);Yt("YYYYYY",ep,Jh);Mo(["YYYYY","YYYYYY"],ja);Mo("YYYY",function(o,a){a[ja]=o.length===2?H.parseTwoDigitYear(o):_o(o)});Mo("YY",function(o,a){a[ja]=H.parseTwoDigitYear(o)});Mo("Y",function(o,a){a[ja]=parseInt(o,10)});function V_(o){return Zh(o)?366:365}H.parseTwoDigitYear=function(o){return _o(o)+(_o(o)>68?1900:2e3)};var Hw=ad("FullYear",!0);function Sj(){return Zh(this.year())}function Tj(o,a,s,t,c,m,_){var l;return o<100&&o>=0?(l=new Date(o+400,a,s,t,c,m,_),isFinite(l.getFullYear())&&l.setFullYear(o)):l=new Date(o,a,s,t,c,m,_),l}function um(o){var a,s;return o<100&&o>=0?(s=Array.prototype.slice.call(arguments),s[0]=o+400,a=new Date(Date.UTC.apply(null,s)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(o)):a=new Date(Date.UTC.apply(null,arguments)),a}function ch(o,a,s){var t=7+a-s,c=(7+um(o,0,t).getUTCDay()-a)%7;return-c+t-1}function zw(o,a,s,t,c){var m=(7+s-t)%7,_=ch(o,t,c),l=1+7*(a-1)+m+_,r,i;return l<=0?(r=o-1,i=V_(r)+l):l>V_(o)?(r=o+1,i=l-V_(o)):(r=o,i=l),{year:r,dayOfYear:i}}function _m(o,a,s){var t=ch(o.year(),a,s),c=Math.floor((o.dayOfYear()-t-1)/7)+1,m,_;return c<1?(_=o.year()-1,m=c+Ws(_,a,s)):c>Ws(o.year(),a,s)?(m=c-Ws(o.year(),a,s),_=o.year()+1):(_=o.year(),m=c),{week:m,year:_}}function Ws(o,a,s){var t=ch(o,a,s),c=ch(o+1,a,s);return(V_(o)-t+c)/7}Zt("w",["ww",2],"wo","week");Zt("W",["WW",2],"Wo","isoWeek");Ma("week","w");Ma("isoWeek","W");La("week",5);La("isoWeek",5);Yt("w",Ho);Yt("ww",Ho,gn);Yt("W",Ho);Yt("WW",Ho,gn);Mm(["w","ww","W","WW"],function(o,a,s,t){a[t.substr(0,1)]=_o(o)});function jj(o){return _m(o,this._week.dow,this._week.doy).week}var Oj={dow:0,doy:6};function Mj(){return this._week.dow}function Lj(){return this._week.doy}function Nj(o){var a=this.localeData().week(this);return o==null?a:this.add((o-a)*7,"d")}function Fj(o){var a=_m(this,1,4).week;return o==null?a:this.add((o-a)*7,"d")}Zt("d",0,"do","day");Zt("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)});Zt("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)});Zt("dddd",0,0,function(o){return this.localeData().weekdays(this,o)});Zt("e",0,0,"weekday");Zt("E",0,0,"isoWeekday");Ma("day","d");Ma("weekday","e");Ma("isoWeekday","E");La("day",11);La("weekday",11);La("isoWeekday",11);Yt("d",Ho);Yt("e",Ho);Yt("E",Ho);Yt("dd",function(o,a){return a.weekdaysMinRegex(o)});Yt("ddd",function(o,a){return a.weekdaysShortRegex(o)});Yt("dddd",function(o,a){return a.weekdaysRegex(o)});Mm(["dd","ddd","dddd"],function(o,a,s,t){var c=s._locale.weekdaysParse(o,t,s._strict);c!=null?a.d=c:lo(s).invalidWeekday=o});Mm(["d","e","E"],function(o,a,s,t){a[t]=_o(o)});function Yj(o,a){return typeof o!="string"?o:isNaN(o)?(o=a.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function Vj(o,a){return typeof o=="string"?a.weekdaysParse(o)%7||7:isNaN(o)?null:o}function w1(o,a){return o.slice(a,7).concat(o.slice(0,a))}var Bj="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ww="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Uj="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qj=Om,Hj=Om,zj=Om;function Wj(o,a){var s=os(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return o===!0?w1(s,this._week.dow):o?s[o.day()]:s}function Kj(o){return o===!0?w1(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function Gj(o){return o===!0?w1(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function Qj(o,a,s){var t,c,m,_=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],t=0;t<7;++t)m=gs([2e3,1]).day(t),this._minWeekdaysParse[t]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[t]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[t]=this.weekdays(m,"").toLocaleLowerCase();return s?a==="dddd"?(c=ea.call(this._weekdaysParse,_),c!==-1?c:null):a==="ddd"?(c=ea.call(this._shortWeekdaysParse,_),c!==-1?c:null):(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null):a==="dddd"?(c=ea.call(this._weekdaysParse,_),c!==-1||(c=ea.call(this._shortWeekdaysParse,_),c!==-1)?c:(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null)):a==="ddd"?(c=ea.call(this._shortWeekdaysParse,_),c!==-1||(c=ea.call(this._weekdaysParse,_),c!==-1)?c:(c=ea.call(this._minWeekdaysParse,_),c!==-1?c:null)):(c=ea.call(this._minWeekdaysParse,_),c!==-1||(c=ea.call(this._weekdaysParse,_),c!==-1)?c:(c=ea.call(this._shortWeekdaysParse,_),c!==-1?c:null))}function Zj(o,a,s){var t,c,m;if(this._weekdaysParseExact)return Qj.call(this,o,a,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),t=0;t<7;t++){if(c=gs([2e3,1]).day(t),s&&!this._fullWeekdaysParse[t]&&(this._fullWeekdaysParse[t]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[t]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[t]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[t]||(m="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[t]=new RegExp(m.replace(".",""),"i")),s&&a==="dddd"&&this._fullWeekdaysParse[t].test(o))return t;if(s&&a==="ddd"&&this._shortWeekdaysParse[t].test(o))return t;if(s&&a==="dd"&&this._minWeekdaysParse[t].test(o))return t;if(!s&&this._weekdaysParse[t].test(o))return t}}function Jj(o){if(!this.isValid())return o!=null?this:NaN;var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return o!=null?(o=Yj(o,this.localeData()),this.add(o-a,"d")):a}function Xj(o){if(!this.isValid())return o!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return o==null?a:this.add(o-a,"d")}function eO(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var a=Vj(o,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function tO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(Po(this,"_weekdaysRegex")||(this._weekdaysRegex=qj),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function oO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Po(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hj),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function aO(o){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||D1.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Po(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zj),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function D1(){function o(d,p){return p.length-d.length}var a=[],s=[],t=[],c=[],m,_,l,r,i;for(m=0;m<7;m++)_=gs([2e3,1]).day(m),l=un(this.weekdaysMin(_,"")),r=un(this.weekdaysShort(_,"")),i=un(this.weekdays(_,"")),a.push(l),s.push(r),t.push(i),c.push(l),c.push(r),c.push(i);a.sort(o),s.sort(o),t.sort(o),c.sort(o),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function x1(){return this.hours()%12||12}function nO(){return this.hours()||24}Zt("H",["HH",2],0,"hour");Zt("h",["hh",2],0,x1);Zt("k",["kk",2],0,nO);Zt("hmm",0,0,function(){return""+x1.apply(this)+vs(this.minutes(),2)});Zt("hmmss",0,0,function(){return""+x1.apply(this)+vs(this.minutes(),2)+vs(this.seconds(),2)});Zt("Hmm",0,0,function(){return""+this.hours()+vs(this.minutes(),2)});Zt("Hmmss",0,0,function(){return""+this.hours()+vs(this.minutes(),2)+vs(this.seconds(),2)});function Kw(o,a){Zt(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Kw("a",!0);Kw("A",!1);Ma("hour","h");La("hour",13);function Gw(o,a){return a._meridiemParse}Yt("a",Gw);Yt("A",Gw);Yt("H",Ho);Yt("h",Ho);Yt("k",Ho);Yt("HH",Ho,gn);Yt("hh",Ho,gn);Yt("kk",Ho,gn);Yt("hmm",Nw);Yt("hmmss",Fw);Yt("Hmm",Nw);Yt("Hmmss",Fw);Mo(["H","HH"],ua);Mo(["k","kk"],function(o,a,s){var t=_o(o);a[ua]=t===24?0:t});Mo(["a","A"],function(o,a,s){s._isPm=s._locale.isPM(o),s._meridiem=o});Mo(["h","hh"],function(o,a,s){a[ua]=_o(o),lo(s).bigHour=!0});Mo("hmm",function(o,a,s){var t=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t)),lo(s).bigHour=!0});Mo("hmmss",function(o,a,s){var t=o.length-4,c=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t,2)),a[qs]=_o(o.substr(c)),lo(s).bigHour=!0});Mo("Hmm",function(o,a,s){var t=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t))});Mo("Hmmss",function(o,a,s){var t=o.length-4,c=o.length-2;a[ua]=_o(o.substr(0,t)),a[Zn]=_o(o.substr(t,2)),a[qs]=_o(o.substr(c))});function sO(o){return(o+"").toLowerCase().charAt(0)==="p"}var lO=/[ap]\.?m?\.?/i,iO=ad("Hours",!0);function rO(o,a,s){return o>11?s?"pm":"PM":s?"am":"AM"}var Qw={calendar:ZT,longDateFormat:tj,invalidDate:aj,ordinal:sj,dayOfMonthOrdinalParse:lj,relativeTime:rj,months:$j,monthsShort:Yw,week:Oj,weekdays:Bj,weekdaysMin:Uj,weekdaysShort:Ww,meridiemParse:lO},Wo={},Dd={},mm;function dO(o,a){var s,t=Math.min(o.length,a.length);for(s=0;s<t;s+=1)if(o[s]!==a[s])return s;return t}function c0(o){return o&&o.toLowerCase().replace("_","-")}function cO(o){for(var a=0,s,t,c,m;a<o.length;){for(m=c0(o[a]).split("-"),s=m.length,t=c0(o[a+1]),t=t?t.split("-"):null;s>0;){if(c=np(m.slice(0,s).join("-")),c)return c;if(t&&t.length>=s&&dO(m,t)>=s-1)break;s--}a++}return mm}function uO(o){return o.match("^[^/\\\\]*$")!=null}function np(o){var a=null,s;if(Wo[o]===void 0&&typeof jf<"u"&&jf&&jf.exports&&uO(o))try{a=mm._abbr,s=require,s("./locale/"+o),Pl(a)}catch{Wo[o]=null}return Wo[o]}function Pl(o,a){var s;return o&&(Ka(a)?s=Js(o):s=C1(o,a),s?mm=s:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),mm._abbr}function C1(o,a){if(a!==null){var s,t=Qw;if(a.abbr=o,Wo[o]!=null)Sw("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),t=Wo[o]._config;else if(a.parentLocale!=null)if(Wo[a.parentLocale]!=null)t=Wo[a.parentLocale]._config;else if(s=np(a.parentLocale),s!=null)t=s._config;else return Dd[a.parentLocale]||(Dd[a.parentLocale]=[]),Dd[a.parentLocale].push({name:o,config:a}),null;return Wo[o]=new g1(eg(t,a)),Dd[o]&&Dd[o].forEach(function(c){C1(c.name,c.config)}),Pl(o),Wo[o]}else return delete Wo[o],null}function _O(o,a){if(a!=null){var s,t,c=Qw;Wo[o]!=null&&Wo[o].parentLocale!=null?Wo[o].set(eg(Wo[o]._config,a)):(t=np(o),t!=null&&(c=t._config),a=eg(c,a),t==null&&(a.abbr=o),s=new g1(a),s.parentLocale=Wo[o],Wo[o]=s),Pl(o)}else Wo[o]!=null&&(Wo[o].parentLocale!=null?(Wo[o]=Wo[o].parentLocale,o===Pl()&&Pl(o)):Wo[o]!=null&&delete Wo[o]);return Wo[o]}function Js(o){var a;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return mm;if(!os(o)){if(a=np(o),a)return a;o=[o]}return cO(o)}function mO(){return tg(Wo)}function P1(o){var a,s=o._a;return s&&lo(o).overflow===-2&&(a=s[Us]<0||s[Us]>11?Us:s[ms]<1||s[ms]>ap(s[ja],s[Us])?ms:s[ua]<0||s[ua]>24||s[ua]===24&&(s[Zn]!==0||s[qs]!==0||s[ti]!==0)?ua:s[Zn]<0||s[Zn]>59?Zn:s[qs]<0||s[qs]>59?qs:s[ti]<0||s[ti]>999?ti:-1,lo(o)._overflowDayOfYear&&(a<ja||a>ms)&&(a=ms),lo(o)._overflowWeeks&&a===-1&&(a=bj),lo(o)._overflowWeekday&&a===-1&&(a=yj),lo(o).overflow=a),o}var fO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pO=/Z|[+-]\d\d(?::?\d\d)?/,uf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],iv=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vO=/^\/?Date\((-?\d+)/i,gO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bO={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zw(o){var a,s,t=o._i,c=fO.exec(t)||hO.exec(t),m,_,l,r,i=uf.length,d=iv.length;if(c){for(lo(o).iso=!0,a=0,s=i;a<s;a++)if(uf[a][1].exec(c[1])){_=uf[a][0],m=uf[a][2]!==!1;break}if(_==null){o._isValid=!1;return}if(c[3]){for(a=0,s=d;a<s;a++)if(iv[a][1].exec(c[3])){l=(c[2]||" ")+iv[a][0];break}if(l==null){o._isValid=!1;return}}if(!m&&l!=null){o._isValid=!1;return}if(c[4])if(pO.exec(c[4]))r="Z";else{o._isValid=!1;return}o._f=_+(l||"")+(r||""),A1(o)}else o._isValid=!1}function yO(o,a,s,t,c,m){var _=[kO(o),Yw.indexOf(a),parseInt(s,10),parseInt(t,10),parseInt(c,10)];return m&&_.push(parseInt(m,10)),_}function kO(o){var a=parseInt(o,10);return a<=49?2e3+a:a<=999?1900+a:a}function $O(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wO(o,a,s){if(o){var t=Ww.indexOf(o),c=new Date(a[0],a[1],a[2]).getDay();if(t!==c)return lo(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function DO(o,a,s){if(o)return bO[o];if(a)return 0;var t=parseInt(s,10),c=t%100,m=(t-c)/100;return m*60+c}function Jw(o){var a=gO.exec($O(o._i)),s;if(a){if(s=yO(a[4],a[3],a[2],a[5],a[6],a[7]),!wO(a[1],s,o))return;o._a=s,o._tzm=DO(a[8],a[9],a[10]),o._d=um.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),lo(o).rfc2822=!0}else o._isValid=!1}function xO(o){var a=vO.exec(o._i);if(a!==null){o._d=new Date(+a[1]);return}if(Zw(o),o._isValid===!1)delete o._isValid;else return;if(Jw(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:H.createFromInputFallback(o)}H.createFromInputFallback=jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function wr(o,a,s){return o??a??s}function CO(o){var a=new Date(H.now());return o._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function E1(o){var a,s,t=[],c,m,_;if(!o._d){for(c=CO(o),o._w&&o._a[ms]==null&&o._a[Us]==null&&PO(o),o._dayOfYear!=null&&(_=wr(o._a[ja],c[ja]),(o._dayOfYear>V_(_)||o._dayOfYear===0)&&(lo(o)._overflowDayOfYear=!0),s=um(_,0,o._dayOfYear),o._a[Us]=s.getUTCMonth(),o._a[ms]=s.getUTCDate()),a=0;a<3&&o._a[a]==null;++a)o._a[a]=t[a]=c[a];for(;a<7;a++)o._a[a]=t[a]=o._a[a]==null?a===2?1:0:o._a[a];o._a[ua]===24&&o._a[Zn]===0&&o._a[qs]===0&&o._a[ti]===0&&(o._nextDay=!0,o._a[ua]=0),o._d=(o._useUTC?um:Tj).apply(null,t),m=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[ua]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==m&&(lo(o).weekdayMismatch=!0)}}function PO(o){var a,s,t,c,m,_,l,r,i;a=o._w,a.GG!=null||a.W!=null||a.E!=null?(m=1,_=4,s=wr(a.GG,o._a[ja],_m(qo(),1,4).year),t=wr(a.W,1),c=wr(a.E,1),(c<1||c>7)&&(r=!0)):(m=o._locale._week.dow,_=o._locale._week.doy,i=_m(qo(),m,_),s=wr(a.gg,o._a[ja],i.year),t=wr(a.w,i.week),a.d!=null?(c=a.d,(c<0||c>6)&&(r=!0)):a.e!=null?(c=a.e+m,(a.e<0||a.e>6)&&(r=!0)):c=m),t<1||t>Ws(s,m,_)?lo(o)._overflowWeeks=!0:r!=null?lo(o)._overflowWeekday=!0:(l=zw(s,t,c,m,_),o._a[ja]=l.year,o._dayOfYear=l.dayOfYear)}H.ISO_8601=function(){};H.RFC_2822=function(){};function A1(o){if(o._f===H.ISO_8601){Zw(o);return}if(o._f===H.RFC_2822){Jw(o);return}o._a=[],lo(o).empty=!0;var a=""+o._i,s,t,c,m,_,l=a.length,r=0,i,d;for(c=Tw(o._f,o._locale).match(b1)||[],d=c.length,s=0;s<d;s++)m=c[s],t=(a.match(pj(m,o))||[])[0],t&&(_=a.substr(0,a.indexOf(t)),_.length>0&&lo(o).unusedInput.push(_),a=a.slice(a.indexOf(t)+t.length),r+=t.length),Nr[m]?(t?lo(o).empty=!1:lo(o).unusedTokens.push(m),gj(m,t,o)):o._strict&&!t&&lo(o).unusedTokens.push(m);lo(o).charsLeftOver=l-r,a.length>0&&lo(o).unusedInput.push(a),o._a[ua]<=12&&lo(o).bigHour===!0&&o._a[ua]>0&&(lo(o).bigHour=void 0),lo(o).parsedDateParts=o._a.slice(0),lo(o).meridiem=o._meridiem,o._a[ua]=EO(o._locale,o._a[ua],o._meridiem),i=lo(o).era,i!==null&&(o._a[ja]=o._locale.erasConvertYear(i,o._a[ja])),E1(o),P1(o)}function EO(o,a,s){var t;return s==null?a:o.meridiemHour!=null?o.meridiemHour(a,s):(o.isPM!=null&&(t=o.isPM(s),t&&a<12&&(a+=12),!t&&a===12&&(a=0)),a)}function AO(o){var a,s,t,c,m,_,l=!1,r=o._f.length;if(r===0){lo(o).invalidFormat=!0,o._d=new Date(NaN);return}for(c=0;c<r;c++)m=0,_=!1,a=v1({},o),o._useUTC!=null&&(a._useUTC=o._useUTC),a._f=o._f[c],A1(a),p1(a)&&(_=!0),m+=lo(a).charsLeftOver,m+=lo(a).unusedTokens.length*10,lo(a).score=m,l?m<t&&(t=m,s=a):(t==null||m<t||_)&&(t=m,s=a,_&&(l=!0));bl(o,s||a)}function IO(o){if(!o._d){var a=y1(o._i),s=a.day===void 0?a.date:a.day;o._a=Iw([a.year,a.month,s,a.hour,a.minute,a.second,a.millisecond],function(t){return t&&parseInt(t,10)}),E1(o)}}function RO(o){var a=new jm(P1(Xw(o)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Xw(o){var a=o._i,s=o._f;return o._locale=o._locale||Js(o._l),a===null||s===void 0&&a===""?Qh({nullInput:!0}):(typeof a=="string"&&(o._i=a=o._locale.preparse(a)),as(a)?new jm(P1(a)):(Tm(a)?o._d=a:os(s)?AO(o):s?A1(o):SO(o),p1(o)||(o._d=null),o))}function SO(o){var a=o._i;Ka(a)?o._d=new Date(H.now()):Tm(a)?o._d=new Date(a.valueOf()):typeof a=="string"?xO(o):os(a)?(o._a=Iw(a.slice(0),function(s){return parseInt(s,10)}),E1(o)):ii(a)?IO(o):Qs(a)?o._d=new Date(a):H.createFromInputFallback(o)}function e5(o,a,s,t,c){var m={};return(a===!0||a===!1)&&(t=a,a=void 0),(s===!0||s===!1)&&(t=s,s=void 0),(ii(o)&&h1(o)||os(o)&&o.length===0)&&(o=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=c,m._l=s,m._i=o,m._f=a,m._strict=t,RO(m)}function qo(o,a,s,t){return e5(o,a,s,t,!1)}var TO=jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=qo.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:Qh()}),jO=jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=qo.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:Qh()});function t5(o,a){var s,t;if(a.length===1&&os(a[0])&&(a=a[0]),!a.length)return qo();for(s=a[0],t=1;t<a.length;++t)(!a[t].isValid()||a[t][o](s))&&(s=a[t]);return s}function OO(){var o=[].slice.call(arguments,0);return t5("isBefore",o)}function MO(){var o=[].slice.call(arguments,0);return t5("isAfter",o)}var LO=function(){return Date.now?Date.now():+new Date},xd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function NO(o){var a,s=!1,t,c=xd.length;for(a in o)if(Po(o,a)&&!(ea.call(xd,a)!==-1&&(o[a]==null||!isNaN(o[a]))))return!1;for(t=0;t<c;++t)if(o[xd[t]]){if(s)return!1;parseFloat(o[xd[t]])!==_o(o[xd[t]])&&(s=!0)}return!0}function FO(){return this._isValid}function YO(){return ns(NaN)}function sp(o){var a=y1(o),s=a.year||0,t=a.quarter||0,c=a.month||0,m=a.week||a.isoWeek||0,_=a.day||0,l=a.hour||0,r=a.minute||0,i=a.second||0,d=a.millisecond||0;this._isValid=NO(a),this._milliseconds=+d+i*1e3+r*6e4+l*1e3*60*60,this._days=+_+m*7,this._months=+c+t*3+s*12,this._data={},this._locale=Js(),this._bubble()}function Sf(o){return o instanceof sp}function ag(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function VO(o,a,s){var t=Math.min(o.length,a.length),c=Math.abs(o.length-a.length),m=0,_;for(_=0;_<t;_++)(s&&o[_]!==a[_]||!s&&_o(o[_])!==_o(a[_]))&&m++;return m+c}function o5(o,a){Zt(o,0,0,function(){var s=this.utcOffset(),t="+";return s<0&&(s=-s,t="-"),t+vs(~~(s/60),2)+a+vs(~~s%60,2)})}o5("Z",":");o5("ZZ","");Yt("Z",op);Yt("ZZ",op);Mo(["Z","ZZ"],function(o,a,s){s._useUTC=!0,s._tzm=I1(op,o)});var BO=/([\+\-]|\d\d)/gi;function I1(o,a){var s=(a||"").match(o),t,c,m;return s===null?null:(t=s[s.length-1]||[],c=(t+"").match(BO)||["-",0,0],m=+(c[1]*60)+_o(c[2]),m===0?0:c[0]==="+"?m:-m)}function R1(o,a){var s,t;return a._isUTC?(s=a.clone(),t=(as(o)||Tm(o)?o.valueOf():qo(o).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+t),H.updateOffset(s,!1),s):qo(o).local()}function ng(o){return-Math.round(o._d.getTimezoneOffset())}H.updateOffset=function(){};function UO(o,a,s){var t=this._offset||0,c;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=I1(op,o),o===null)return this}else Math.abs(o)<16&&!s&&(o=o*60);return!this._isUTC&&a&&(c=ng(this)),this._offset=o,this._isUTC=!0,c!=null&&this.add(c,"m"),t!==o&&(!a||this._changeInProgress?s5(this,ns(o-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?t:ng(this)}function qO(o,a){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,a),this):-this.utcOffset()}function HO(o){return this.utcOffset(0,o)}function zO(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(ng(this),"m")),this}function WO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=I1(fj,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function KO(o){return this.isValid()?(o=o?qo(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}function GO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function QO(){if(!Ka(this._isDSTShifted))return this._isDSTShifted;var o={},a;return v1(o,this),o=Xw(o),o._a?(a=o._isUTC?gs(o._a):qo(o._a),this._isDSTShifted=this.isValid()&&VO(o._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ZO(){return this.isValid()?!this._isUTC:!1}function JO(){return this.isValid()?this._isUTC:!1}function a5(){return this.isValid()?this._isUTC&&this._offset===0:!1}var XO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,eM=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ns(o,a){var s=o,t=null,c,m,_;return Sf(o)?s={ms:o._milliseconds,d:o._days,M:o._months}:Qs(o)||!isNaN(+o)?(s={},a?s[a]=+o:s.milliseconds=+o):(t=XO.exec(o))?(c=t[1]==="-"?-1:1,s={y:0,d:_o(t[ms])*c,h:_o(t[ua])*c,m:_o(t[Zn])*c,s:_o(t[qs])*c,ms:_o(ag(t[ti]*1e3))*c}):(t=eM.exec(o))?(c=t[1]==="-"?-1:1,s={y:Kl(t[2],c),M:Kl(t[3],c),w:Kl(t[4],c),d:Kl(t[5],c),h:Kl(t[6],c),m:Kl(t[7],c),s:Kl(t[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(_=tM(qo(s.from),qo(s.to)),s={},s.ms=_.milliseconds,s.M=_.months),m=new sp(s),Sf(o)&&Po(o,"_locale")&&(m._locale=o._locale),Sf(o)&&Po(o,"_isValid")&&(m._isValid=o._isValid),m}ns.fn=sp.prototype;ns.invalid=YO;function Kl(o,a){var s=o&&parseFloat(o.replace(",","."));return(isNaN(s)?0:s)*a}function u0(o,a){var s={};return s.months=a.month()-o.month()+(a.year()-o.year())*12,o.clone().add(s.months,"M").isAfter(a)&&--s.months,s.milliseconds=+a-+o.clone().add(s.months,"M"),s}function tM(o,a){var s;return o.isValid()&&a.isValid()?(a=R1(a,o),o.isBefore(a)?s=u0(o,a):(s=u0(a,o),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function n5(o,a){return function(s,t){var c,m;return t!==null&&!isNaN(+t)&&(Sw(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=s,s=t,t=m),c=ns(s,t),s5(this,c,o),this}}function s5(o,a,s,t){var c=a._milliseconds,m=ag(a._days),_=ag(a._months);o.isValid()&&(t=t??!0,_&&Bw(o,rh(o,"Month")+_*s),m&&Ow(o,"Date",rh(o,"Date")+m*s),c&&o._d.setTime(o._d.valueOf()+c*s),t&&H.updateOffset(o,m||_))}var oM=n5(1,"add"),aM=n5(-1,"subtract");function l5(o){return typeof o=="string"||o instanceof String}function nM(o){return as(o)||Tm(o)||l5(o)||Qs(o)||lM(o)||sM(o)||o===null||o===void 0}function sM(o){var a=ii(o)&&!h1(o),s=!1,t=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,m,_=t.length;for(c=0;c<_;c+=1)m=t[c],s=s||Po(o,m);return a&&s}function lM(o){var a=os(o),s=!1;return a&&(s=o.filter(function(t){return!Qs(t)&&l5(o)}).length===0),a&&s}function iM(o){var a=ii(o)&&!h1(o),s=!1,t=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,m;for(c=0;c<t.length;c+=1)m=t[c],s=s||Po(o,m);return a&&s}function rM(o,a){var s=o.diff(a,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function dM(o,a){arguments.length===1&&(arguments[0]?nM(arguments[0])?(o=arguments[0],a=void 0):iM(arguments[0])&&(a=arguments[0],o=void 0):(o=void 0,a=void 0));var s=o||qo(),t=R1(s,this).startOf("day"),c=H.calendarFormat(this,t)||"sameElse",m=a&&(bs(a[c])?a[c].call(this,s):a[c]);return this.format(m||this.localeData().calendar(c,this,qo(s)))}function cM(){return new jm(this)}function uM(o,a){var s=as(o)?o:qo(o);return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(a).valueOf()):!1}function _M(o,a){var s=as(o)?o:qo(o);return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(a).valueOf()<s.valueOf()):!1}function mM(o,a,s,t){var c=as(o)?o:qo(o),m=as(a)?a:qo(a);return this.isValid()&&c.isValid()&&m.isValid()?(t=t||"()",(t[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(t[1]===")"?this.isBefore(m,s):!this.isAfter(m,s))):!1}function fM(o,a){var s=as(o)?o:qo(o),t;return this.isValid()&&s.isValid()?(a=On(a)||"millisecond",a==="millisecond"?this.valueOf()===s.valueOf():(t=s.valueOf(),this.clone().startOf(a).valueOf()<=t&&t<=this.clone().endOf(a).valueOf())):!1}function hM(o,a){return this.isSame(o,a)||this.isAfter(o,a)}function pM(o,a){return this.isSame(o,a)||this.isBefore(o,a)}function vM(o,a,s){var t,c,m;if(!this.isValid())return NaN;if(t=R1(o,this),!t.isValid())return NaN;switch(c=(t.utcOffset()-this.utcOffset())*6e4,a=On(a),a){case"year":m=Tf(this,t)/12;break;case"month":m=Tf(this,t);break;case"quarter":m=Tf(this,t)/3;break;case"second":m=(this-t)/1e3;break;case"minute":m=(this-t)/6e4;break;case"hour":m=(this-t)/36e5;break;case"day":m=(this-t-c)/864e5;break;case"week":m=(this-t-c)/6048e5;break;default:m=this-t}return s?m:Pn(m)}function Tf(o,a){if(o.date()<a.date())return-Tf(a,o);var s=(a.year()-o.year())*12+(a.month()-o.month()),t=o.clone().add(s,"months"),c,m;return a-t<0?(c=o.clone().add(s-1,"months"),m=(a-t)/(t-c)):(c=o.clone().add(s+1,"months"),m=(a-t)/(c-t)),-(s+m)||0}H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";H.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gM(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bM(o){if(!this.isValid())return null;var a=o!==!0,s=a?this.clone().utc():this;return s.year()<0||s.year()>9999?Rf(s,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):bs(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Rf(s,"Z")):Rf(s,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yM(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",a="",s,t,c,m;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),s="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",m=a+'[")]',this.format(s+t+c+m)}function kM(o){o||(o=this.isUtc()?H.defaultFormatUtc:H.defaultFormat);var a=Rf(this,o);return this.localeData().postformat(a)}function $M(o,a){return this.isValid()&&(as(o)&&o.isValid()||qo(o).isValid())?ns({to:this,from:o}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function wM(o){return this.from(qo(),o)}function DM(o,a){return this.isValid()&&(as(o)&&o.isValid()||qo(o).isValid())?ns({from:this,to:o}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function xM(o){return this.to(qo(),o)}function i5(o){var a;return o===void 0?this._locale._abbr:(a=Js(o),a!=null&&(this._locale=a),this)}var r5=jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function d5(){return this._locale}var uh=1e3,Fr=60*uh,_h=60*Fr,c5=(365*400+97)*24*_h;function Yr(o,a){return(o%a+a)%a}function u5(o,a,s){return o<100&&o>=0?new Date(o+400,a,s)-c5:new Date(o,a,s).valueOf()}function _5(o,a,s){return o<100&&o>=0?Date.UTC(o+400,a,s)-c5:Date.UTC(o,a,s)}function CM(o){var a,s;if(o=On(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?_5:u5,o){case"year":a=s(this.year(),0,1);break;case"quarter":a=s(this.year(),this.month()-this.month()%3,1);break;case"month":a=s(this.year(),this.month(),1);break;case"week":a=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=s(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Yr(a+(this._isUTC?0:this.utcOffset()*Fr),_h);break;case"minute":a=this._d.valueOf(),a-=Yr(a,Fr);break;case"second":a=this._d.valueOf(),a-=Yr(a,uh);break}return this._d.setTime(a),H.updateOffset(this,!0),this}function PM(o){var a,s;if(o=On(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?_5:u5,o){case"year":a=s(this.year()+1,0,1)-1;break;case"quarter":a=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=s(this.year(),this.month()+1,1)-1;break;case"week":a=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=_h-Yr(a+(this._isUTC?0:this.utcOffset()*Fr),_h)-1;break;case"minute":a=this._d.valueOf(),a+=Fr-Yr(a,Fr)-1;break;case"second":a=this._d.valueOf(),a+=uh-Yr(a,uh)-1;break}return this._d.setTime(a),H.updateOffset(this,!0),this}function EM(){return this._d.valueOf()-(this._offset||0)*6e4}function AM(){return Math.floor(this.valueOf()/1e3)}function IM(){return new Date(this.valueOf())}function RM(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function SM(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function TM(){return this.isValid()?this.toISOString():null}function jM(){return p1(this)}function OM(){return bl({},lo(this))}function MM(){return lo(this).overflow}function LM(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Zt("N",0,0,"eraAbbr");Zt("NN",0,0,"eraAbbr");Zt("NNN",0,0,"eraAbbr");Zt("NNNN",0,0,"eraName");Zt("NNNNN",0,0,"eraNarrow");Zt("y",["y",1],"yo","eraYear");Zt("y",["yy",2],0,"eraYear");Zt("y",["yyy",3],0,"eraYear");Zt("y",["yyyy",4],0,"eraYear");Yt("N",S1);Yt("NN",S1);Yt("NNN",S1);Yt("NNNN",KM);Yt("NNNNN",GM);Mo(["N","NN","NNN","NNNN","NNNNN"],function(o,a,s,t){var c=s._locale.erasParse(o,t,s._strict);c?lo(s).era=c:lo(s).invalidEra=o});Yt("y",nd);Yt("yy",nd);Yt("yyy",nd);Yt("yyyy",nd);Yt("yo",QM);Mo(["y","yy","yyy","yyyy"],ja);Mo(["yo"],function(o,a,s,t){var c;s._locale._eraYearOrdinalRegex&&(c=o.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?a[ja]=s._locale.eraYearOrdinalParse(o,c):a[ja]=parseInt(o,10)});function NM(o,a){var s,t,c,m=this._eras||Js("en")._eras;for(s=0,t=m.length;s<t;++s){switch(typeof m[s].since){case"string":c=H(m[s].since).startOf("day"),m[s].since=c.valueOf();break}switch(typeof m[s].until){case"undefined":m[s].until=1/0;break;case"string":c=H(m[s].until).startOf("day").valueOf(),m[s].until=c.valueOf();break}}return m}function FM(o,a,s){var t,c,m=this.eras(),_,l,r;for(o=o.toUpperCase(),t=0,c=m.length;t<c;++t)if(_=m[t].name.toUpperCase(),l=m[t].abbr.toUpperCase(),r=m[t].narrow.toUpperCase(),s)switch(a){case"N":case"NN":case"NNN":if(l===o)return m[t];break;case"NNNN":if(_===o)return m[t];break;case"NNNNN":if(r===o)return m[t];break}else if([_,l,r].indexOf(o)>=0)return m[t]}function YM(o,a){var s=o.since<=o.until?1:-1;return a===void 0?H(o.since).year():H(o.since).year()+(a-o.offset)*s}function VM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].name;return""}function BM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].narrow;return""}function UM(){var o,a,s,t=this.localeData().eras();for(o=0,a=t.length;o<a;++o)if(s=this.clone().startOf("day").valueOf(),t[o].since<=s&&s<=t[o].until||t[o].until<=s&&s<=t[o].since)return t[o].abbr;return""}function qM(){var o,a,s,t,c=this.localeData().eras();for(o=0,a=c.length;o<a;++o)if(s=c[o].since<=c[o].until?1:-1,t=this.clone().startOf("day").valueOf(),c[o].since<=t&&t<=c[o].until||c[o].until<=t&&t<=c[o].since)return(this.year()-H(c[o].since).year())*s+c[o].offset;return this.year()}function HM(o){return Po(this,"_erasNameRegex")||T1.call(this),o?this._erasNameRegex:this._erasRegex}function zM(o){return Po(this,"_erasAbbrRegex")||T1.call(this),o?this._erasAbbrRegex:this._erasRegex}function WM(o){return Po(this,"_erasNarrowRegex")||T1.call(this),o?this._erasNarrowRegex:this._erasRegex}function S1(o,a){return a.erasAbbrRegex(o)}function KM(o,a){return a.erasNameRegex(o)}function GM(o,a){return a.erasNarrowRegex(o)}function QM(o,a){return a._eraYearOrdinalRegex||nd}function T1(){var o=[],a=[],s=[],t=[],c,m,_=this.eras();for(c=0,m=_.length;c<m;++c)a.push(un(_[c].name)),o.push(un(_[c].abbr)),s.push(un(_[c].narrow)),t.push(un(_[c].name)),t.push(un(_[c].abbr)),t.push(un(_[c].narrow));this._erasRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Zt(0,["gg",2],0,function(){return this.weekYear()%100});Zt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lp(o,a){Zt(0,[o,o.length],0,a)}lp("gggg","weekYear");lp("ggggg","weekYear");lp("GGGG","isoWeekYear");lp("GGGGG","isoWeekYear");Ma("weekYear","gg");Ma("isoWeekYear","GG");La("weekYear",1);La("isoWeekYear",1);Yt("G",tp);Yt("g",tp);Yt("GG",Ho,gn);Yt("gg",Ho,gn);Yt("GGGG",$1,k1);Yt("gggg",$1,k1);Yt("GGGGG",ep,Jh);Yt("ggggg",ep,Jh);Mm(["gggg","ggggg","GGGG","GGGGG"],function(o,a,s,t){a[t.substr(0,2)]=_o(o)});Mm(["gg","GG"],function(o,a,s,t){a[t]=H.parseTwoDigitYear(o)});function ZM(o){return m5.call(this,o,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function JM(o){return m5.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function XM(){return Ws(this.year(),1,4)}function e9(){return Ws(this.isoWeekYear(),1,4)}function t9(){var o=this.localeData()._week;return Ws(this.year(),o.dow,o.doy)}function o9(){var o=this.localeData()._week;return Ws(this.weekYear(),o.dow,o.doy)}function m5(o,a,s,t,c){var m;return o==null?_m(this,t,c).year:(m=Ws(o,t,c),a>m&&(a=m),a9.call(this,o,a,s,t,c))}function a9(o,a,s,t,c){var m=zw(o,a,s,t,c),_=um(m.year,0,m.dayOfYear);return this.year(_.getUTCFullYear()),this.month(_.getUTCMonth()),this.date(_.getUTCDate()),this}Zt("Q",0,"Qo","quarter");Ma("quarter","Q");La("quarter",7);Yt("Q",Mw);Mo("Q",function(o,a){a[Us]=(_o(o)-1)*3});function n9(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}Zt("D",["DD",2],"Do","date");Ma("date","D");La("date",9);Yt("D",Ho);Yt("DD",Ho,gn);Yt("Do",function(o,a){return o?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient});Mo(["D","DD"],ms);Mo("Do",function(o,a){a[ms]=_o(o.match(Ho)[0])});var f5=ad("Date",!0);Zt("DDD",["DDDD",3],"DDDo","dayOfYear");Ma("dayOfYear","DDD");La("dayOfYear",4);Yt("DDD",Xh);Yt("DDDD",Lw);Mo(["DDD","DDDD"],function(o,a,s){s._dayOfYear=_o(o)});function s9(o){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"d")}Zt("m",["mm",2],0,"minute");Ma("minute","m");La("minute",14);Yt("m",Ho);Yt("mm",Ho,gn);Mo(["m","mm"],Zn);var l9=ad("Minutes",!1);Zt("s",["ss",2],0,"second");Ma("second","s");La("second",15);Yt("s",Ho);Yt("ss",Ho,gn);Mo(["s","ss"],qs);var i9=ad("Seconds",!1);Zt("S",0,0,function(){return~~(this.millisecond()/100)});Zt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Zt(0,["SSS",3],0,"millisecond");Zt(0,["SSSS",4],0,function(){return this.millisecond()*10});Zt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Zt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Zt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Zt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Zt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ma("millisecond","ms");La("millisecond",16);Yt("S",Xh,Mw);Yt("SS",Xh,gn);Yt("SSS",Xh,Lw);var yl,h5;for(yl="SSSS";yl.length<=9;yl+="S")Yt(yl,nd);function r9(o,a){a[ti]=_o(("0."+o)*1e3)}for(yl="S";yl.length<=9;yl+="S")Mo(yl,r9);h5=ad("Milliseconds",!1);Zt("z",0,0,"zoneAbbr");Zt("zz",0,0,"zoneName");function d9(){return this._isUTC?"UTC":""}function c9(){return this._isUTC?"Coordinated Universal Time":""}var Pt=jm.prototype;Pt.add=oM;Pt.calendar=dM;Pt.clone=cM;Pt.diff=vM;Pt.endOf=PM;Pt.format=kM;Pt.from=$M;Pt.fromNow=wM;Pt.to=DM;Pt.toNow=xM;Pt.get=_j;Pt.invalidAt=MM;Pt.isAfter=uM;Pt.isBefore=_M;Pt.isBetween=mM;Pt.isSame=fM;Pt.isSameOrAfter=hM;Pt.isSameOrBefore=pM;Pt.isValid=jM;Pt.lang=r5;Pt.locale=i5;Pt.localeData=d5;Pt.max=jO;Pt.min=TO;Pt.parsingFlags=OM;Pt.set=mj;Pt.startOf=CM;Pt.subtract=aM;Pt.toArray=RM;Pt.toObject=SM;Pt.toDate=IM;Pt.toISOString=bM;Pt.inspect=yM;typeof Symbol<"u"&&Symbol.for!=null&&(Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Pt.toJSON=TM;Pt.toString=gM;Pt.unix=AM;Pt.valueOf=EM;Pt.creationData=LM;Pt.eraName=VM;Pt.eraNarrow=BM;Pt.eraAbbr=UM;Pt.eraYear=qM;Pt.year=Hw;Pt.isLeapYear=Sj;Pt.weekYear=ZM;Pt.isoWeekYear=JM;Pt.quarter=Pt.quarters=n9;Pt.month=Uw;Pt.daysInMonth=Aj;Pt.week=Pt.weeks=Nj;Pt.isoWeek=Pt.isoWeeks=Fj;Pt.weeksInYear=t9;Pt.weeksInWeekYear=o9;Pt.isoWeeksInYear=XM;Pt.isoWeeksInISOWeekYear=e9;Pt.date=f5;Pt.day=Pt.days=Jj;Pt.weekday=Xj;Pt.isoWeekday=eO;Pt.dayOfYear=s9;Pt.hour=Pt.hours=iO;Pt.minute=Pt.minutes=l9;Pt.second=Pt.seconds=i9;Pt.millisecond=Pt.milliseconds=h5;Pt.utcOffset=UO;Pt.utc=HO;Pt.local=zO;Pt.parseZone=WO;Pt.hasAlignedHourOffset=KO;Pt.isDST=GO;Pt.isLocal=ZO;Pt.isUtcOffset=JO;Pt.isUtc=a5;Pt.isUTC=a5;Pt.zoneAbbr=d9;Pt.zoneName=c9;Pt.dates=jn("dates accessor is deprecated. Use date instead.",f5);Pt.months=jn("months accessor is deprecated. Use month instead",Uw);Pt.years=jn("years accessor is deprecated. Use year instead",Hw);Pt.zone=jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",qO);Pt.isDSTShifted=jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",QO);function u9(o){return qo(o*1e3)}function _9(){return qo.apply(null,arguments).parseZone()}function p5(o){return o}var Eo=g1.prototype;Eo.calendar=JT;Eo.longDateFormat=oj;Eo.invalidDate=nj;Eo.ordinal=ij;Eo.preparse=p5;Eo.postformat=p5;Eo.relativeTime=dj;Eo.pastFuture=cj;Eo.set=QT;Eo.eras=NM;Eo.erasParse=FM;Eo.erasConvertYear=YM;Eo.erasAbbrRegex=zM;Eo.erasNameRegex=HM;Eo.erasNarrowRegex=WM;Eo.months=xj;Eo.monthsShort=Cj;Eo.monthsParse=Ej;Eo.monthsRegex=Rj;Eo.monthsShortRegex=Ij;Eo.week=jj;Eo.firstDayOfYear=Lj;Eo.firstDayOfWeek=Mj;Eo.weekdays=Wj;Eo.weekdaysMin=Gj;Eo.weekdaysShort=Kj;Eo.weekdaysParse=Zj;Eo.weekdaysRegex=tO;Eo.weekdaysShortRegex=oO;Eo.weekdaysMinRegex=aO;Eo.isPM=sO;Eo.meridiem=rO;function mh(o,a,s,t){var c=Js(),m=gs().set(t,a);return c[s](m,o)}function v5(o,a,s){if(Qs(o)&&(a=o,o=void 0),o=o||"",a!=null)return mh(o,a,s,"month");var t,c=[];for(t=0;t<12;t++)c[t]=mh(o,t,s,"month");return c}function j1(o,a,s,t){typeof o=="boolean"?(Qs(a)&&(s=a,a=void 0),a=a||""):(a=o,s=a,o=!1,Qs(a)&&(s=a,a=void 0),a=a||"");var c=Js(),m=o?c._week.dow:0,_,l=[];if(s!=null)return mh(a,(s+m)%7,t,"day");for(_=0;_<7;_++)l[_]=mh(a,(_+m)%7,t,"day");return l}function m9(o,a){return v5(o,a,"months")}function f9(o,a){return v5(o,a,"monthsShort")}function h9(o,a,s){return j1(o,a,s,"weekdays")}function p9(o,a,s){return j1(o,a,s,"weekdaysShort")}function v9(o,a,s){return j1(o,a,s,"weekdaysMin")}Pl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var a=o%10,s=_o(o%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return o+s}});H.lang=jn("moment.lang is deprecated. Use moment.locale instead.",Pl);H.langData=jn("moment.langData is deprecated. Use moment.localeData instead.",Js);var js=Math.abs;function g9(){var o=this._data;return this._milliseconds=js(this._milliseconds),this._days=js(this._days),this._months=js(this._months),o.milliseconds=js(o.milliseconds),o.seconds=js(o.seconds),o.minutes=js(o.minutes),o.hours=js(o.hours),o.months=js(o.months),o.years=js(o.years),this}function g5(o,a,s,t){var c=ns(a,s);return o._milliseconds+=t*c._milliseconds,o._days+=t*c._days,o._months+=t*c._months,o._bubble()}function b9(o,a){return g5(this,o,a,1)}function y9(o,a){return g5(this,o,a,-1)}function _0(o){return o<0?Math.floor(o):Math.ceil(o)}function k9(){var o=this._milliseconds,a=this._days,s=this._months,t=this._data,c,m,_,l,r;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=_0(sg(s)+a)*864e5,a=0,s=0),t.milliseconds=o%1e3,c=Pn(o/1e3),t.seconds=c%60,m=Pn(c/60),t.minutes=m%60,_=Pn(m/60),t.hours=_%24,a+=Pn(_/24),r=Pn(b5(a)),s+=r,a-=_0(sg(r)),l=Pn(s/12),s%=12,t.days=a,t.months=s,t.years=l,this}function b5(o){return o*4800/146097}function sg(o){return o*146097/4800}function $9(o){if(!this.isValid())return NaN;var a,s,t=this._milliseconds;if(o=On(o),o==="month"||o==="quarter"||o==="year")switch(a=this._days+t/864e5,s=this._months+b5(a),o){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(a=this._days+Math.round(sg(this._months)),o){case"week":return a/7+t/6048e5;case"day":return a+t/864e5;case"hour":return a*24+t/36e5;case"minute":return a*1440+t/6e4;case"second":return a*86400+t/1e3;case"millisecond":return Math.floor(a*864e5)+t;default:throw new Error("Unknown unit "+o)}}function w9(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+_o(this._months/12)*31536e6:NaN}function Xs(o){return function(){return this.as(o)}}var D9=Xs("ms"),x9=Xs("s"),C9=Xs("m"),P9=Xs("h"),E9=Xs("d"),A9=Xs("w"),I9=Xs("M"),R9=Xs("Q"),S9=Xs("y");function T9(){return ns(this)}function j9(o){return o=On(o),this.isValid()?this[o+"s"]():NaN}function vi(o){return function(){return this.isValid()?this._data[o]:NaN}}var O9=vi("milliseconds"),M9=vi("seconds"),L9=vi("minutes"),N9=vi("hours"),F9=vi("days"),Y9=vi("months"),V9=vi("years");function B9(){return Pn(this.days()/7)}var Ns=Math.round,Rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function U9(o,a,s,t,c){return c.relativeTime(a||1,!!s,o,t)}function q9(o,a,s,t){var c=ns(o).abs(),m=Ns(c.as("s")),_=Ns(c.as("m")),l=Ns(c.as("h")),r=Ns(c.as("d")),i=Ns(c.as("M")),d=Ns(c.as("w")),p=Ns(c.as("y")),v=m<=s.ss&&["s",m]||m<s.s&&["ss",m]||_<=1&&["m"]||_<s.m&&["mm",_]||l<=1&&["h"]||l<s.h&&["hh",l]||r<=1&&["d"]||r<s.d&&["dd",r];return s.w!=null&&(v=v||d<=1&&["w"]||d<s.w&&["ww",d]),v=v||i<=1&&["M"]||i<s.M&&["MM",i]||p<=1&&["y"]||["yy",p],v[2]=a,v[3]=+o>0,v[4]=t,U9.apply(null,v)}function H9(o){return o===void 0?Ns:typeof o=="function"?(Ns=o,!0):!1}function z9(o,a){return Rr[o]===void 0?!1:a===void 0?Rr[o]:(Rr[o]=a,o==="s"&&(Rr.ss=a-1),!0)}function W9(o,a){if(!this.isValid())return this.localeData().invalidDate();var s=!1,t=Rr,c,m;return typeof o=="object"&&(a=o,o=!1),typeof o=="boolean"&&(s=o),typeof a=="object"&&(t=Object.assign({},Rr,a),a.s!=null&&a.ss==null&&(t.ss=a.s-1)),c=this.localeData(),m=q9(this,!s,t,c),s&&(m=c.pastFuture(+this,m)),c.postformat(m)}var rv=Math.abs;function Yi(o){return(o>0)-(o<0)||+o}function ip(){if(!this.isValid())return this.localeData().invalidDate();var o=rv(this._milliseconds)/1e3,a=rv(this._days),s=rv(this._months),t,c,m,_,l=this.asSeconds(),r,i,d,p;return l?(t=Pn(o/60),c=Pn(t/60),o%=60,t%=60,m=Pn(s/12),s%=12,_=o?o.toFixed(3).replace(/\.?0+$/,""):"",r=l<0?"-":"",i=Yi(this._months)!==Yi(l)?"-":"",d=Yi(this._days)!==Yi(l)?"-":"",p=Yi(this._milliseconds)!==Yi(l)?"-":"",r+"P"+(m?i+m+"Y":"")+(s?i+s+"M":"")+(a?d+a+"D":"")+(c||t||o?"T":"")+(c?p+c+"H":"")+(t?p+t+"M":"")+(o?p+_+"S":"")):"P0D"}var wo=sp.prototype;wo.isValid=FO;wo.abs=g9;wo.add=b9;wo.subtract=y9;wo.as=$9;wo.asMilliseconds=D9;wo.asSeconds=x9;wo.asMinutes=C9;wo.asHours=P9;wo.asDays=E9;wo.asWeeks=A9;wo.asMonths=I9;wo.asQuarters=R9;wo.asYears=S9;wo.valueOf=w9;wo._bubble=k9;wo.clone=T9;wo.get=j9;wo.milliseconds=O9;wo.seconds=M9;wo.minutes=L9;wo.hours=N9;wo.days=F9;wo.weeks=B9;wo.months=Y9;wo.years=V9;wo.humanize=W9;wo.toISOString=ip;wo.toString=ip;wo.toJSON=ip;wo.locale=i5;wo.localeData=d5;wo.toIsoString=jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ip);wo.lang=r5;Zt("X",0,0,"unix");Zt("x",0,0,"valueOf");Yt("x",tp);Yt("X",hj);Mo("X",function(o,a,s){s._d=new Date(parseFloat(o)*1e3)});Mo("x",function(o,a,s){s._d=new Date(_o(o))});//! moment.js
H.version="2.29.4";KT(qo);H.fn=Pt;H.min=OO;H.max=MO;H.now=LO;H.utc=gs;H.unix=u9;H.months=m9;H.isDate=Tm;H.locale=Pl;H.invalid=Qh;H.duration=ns;H.isMoment=as;H.weekdays=h9;H.parseZone=_9;H.localeData=Js;H.isDuration=Sf;H.monthsShort=f9;H.weekdaysMin=v9;H.defineLocale=C1;H.updateLocale=_O;H.locales=mO;H.weekdaysShort=p9;H.normalizeUnits=On;H.relativeTimeRounding=H9;H.relativeTimeThreshold=z9;H.calendarFormat=rM;H.prototype=Pt;H.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const K9={props:["invoiceDetails"],setup(o,a){const s=lt(),t=o.invoiceDetails,c=h([]),m=h(!1),_=h(0);return{moment:H,invoice_details:t,selectFile:i=>{i.preventDefault(),c.value=i.target.files},uploadFile:async()=>{m.value=!0;const i=new FormData;i.append("id",o.invoiceDetails.id);let d=0;for(let p of c.value)i.append("files["+d+"]",p),d++;A.post("/invoice/attachment/upload",i).then(()=>{document.getElementById("close-upload-attachment-"+o.invoiceDetails.id).click(),s.success("Attachment added successfully"),_.value++}).catch(p=>{const v=Object.values(p.response.data)[0];s.error(v[0])}).finally(()=>{m.value=!1})},selected_file:c,uploading_file:m}}},G9=["id"],Q9={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Z9={class:"modal-content"},J9={class:"modal-header"},X9={class:"modal-title",id:"modalCenterTitle"},e7=["id"],t7={class:"modal-body"},o7={class:"table-responsive"},a7={class:"table"},n7={class:"bg-label-primary"},s7={key:0},l7={key:0},i7=["href"],r7={for:"Add Attachements",class:"form-label"},d7=["disabled"],c7={key:0},u7={class:"mt-2 mb-1"};function _7(o,a,s,t,c,m){return u(),f("div",{class:"modal fade",tabindex:"-2","aria-hidden":"true",id:"add-attachment-"+t.invoice_details.id},[e("div",Q9,[e("div",Z9,[e("div",J9,[e("h5",X9,n(o.$t("Attachments for Invoice"))+": "+n(t.invoice_details.invoice_number),1),e("button",{type:"button",class:"btn-close",id:"close-upload-attachment-"+t.invoice_details.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,e7)]),e("div",t7,[e("div",o7,[e("table",a7,[e("thead",n7,[e("tr",null,[e("th",null,n(o.$t("Attached On")),1),e("th",null,n(o.$t("Attached By")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("File Name")),1),e("th",null,n(o.$t("View")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.media,(_,l)=>(u(),f("tr",{key:l},[e("td",null,n(t.moment(_.created_at).format("DD MMM YYY")),1),e("td",null,[_.custom_properties&&_.custom_properties.user_name?(u(),f("span",s7,n(_.custom_properties.user_name),1)):b("",!0)]),e("td",null,[_.custom_properties&&_.custom_properties.user_type?(u(),f("span",l7,n(_.custom_properties.user_type==="App\\Models\\Company"?"Company User":"Bank User"),1)):b("",!0)]),e("td",null,n(_.name),1),e("td",null,[e("a",{target:"_blank",href:_.original_url},a[2]||(a[2]=[e("i",{class:"ti ti-eye text-xs"},null,-1)]),8,i7)])]))),128))])])]),e("form",{onSubmit:a[1]||(a[1]=st((..._)=>t.uploadFile&&t.uploadFile(..._),["prevent"])),class:"d-flex gap-2 mt-4"},[e("div",null,[e("label",r7,n(o.$t("Select Attachments")),1),e("input",{type:"file",accept:".pdf",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",multiple:"multiple",class:"form-control"},null,32)]),e("button",{style:{height:"fit-content"},class:"btn btn-primary",type:"submit",disabled:t.uploading_file},n(t.uploading_file?o.$t("Processing..."):o.$t("Submit")),9,d7)],32),t.selected_file.length>0?(u(),f("div",c7,[e("h6",u7,n(o.$t("Selected Files")),1),(u(!0),f(G,null,ee(t.selected_file,_=>(u(),f("span",{class:"d-flex flex-column gap-",key:_},n(_.name),1))),128))])):b("",!0)])])])],8,G9)}const ss=Ue(K9,[["render",_7]]),m7={props:["invoiceDetails"],components:{UploadAttachment:ss},setup(o){const a=o.invoiceDetails;return{moment:H,invoice_details:a}}},f7=["id"],h7={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},p7={class:"modal-content"},v7={class:"modal-header d-flex flex-column flex-md-row justify-content-between"},g7={class:"modal-title",id:"modalCenterTitle"},b7={class:"d-flex flex-column flex-md-row gap-1"},y7=["data-bs-target"],k7=["href"],$7={class:"modal-body"},w7={class:"d-flex flex-column flex-md-row justify-content-md-between mb-4"},D7={class:"mb-3"},x7={class:"d-flex flex-column flex-md-row justify-content-md-between"},C7={class:"fw-light my-auto"},P7={class:"fw-bold mx-md-2 my-auto"},E7={class:"d-flex flex-column flex-md-row justify-content-between"},A7={class:"fw-light my-auto"},I7={class:"fw-bold mx-md-2 my-auto"},R7={class:"d-flex flex-column flex-md-row justify-content-between"},S7={class:"fw-light my-auto"},T7={class:"fw-bold mx-md-2 my-auto"},j7={class:"d-flex flex-column flex-md-row justify-content-between"},O7={class:"fw-light my-auto"},M7={class:"fw-bold mx-md-2 my-auto"},L7={class:"d-flex flex-column flex-md-row justify-content-between"},N7={class:"fw-light my-auto"},F7={class:"fw-bold mx-md-2 my-auto"},Y7={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},V7={class:"fw-light my-auto"},B7={class:"fw-bold mx-md-2 my-auto"},U7={key:1,class:"d-flex flex-column flex-md-row justify-content-between"},q7={class:"fw-light my-auto"},H7={class:"fw-bold mx-md-2 my-auto"},z7={class:"mb-3"},W7={key:0,class:"d-flex flex-column flex-md-row justify-content-md-between"},K7={class:"my-auto fw-light"},G7=["data-bs-target"],Q7={class:"d-flex flex-column flex-md-row justify-content-between"},Z7={class:"my-auto fw-light"},J7={class:"fw-bold mx-md-2 my-auto"},X7={class:"d-flex flex-column flex-md-row justify-content-between"},eL={class:"my-auto fw-light"},tL={class:"fw-bold mx-md-2 my-auto"},oL={class:"d-flex flex-column flex-md-row justify-content-between"},aL={class:"my-auto fw-light"},nL={class:"fw-bold mx-md-2 my-auto"},sL={class:"d-flex flex-column flex-md-row justify-content-between"},lL={class:"my-auto fw-light"},iL={class:"fw-bold mx-md-2 my-auto"},rL={class:"d-flex flex-column flex-md-row justify-content-between"},dL={class:"my-auto fw-light"},cL={class:"fw-bold text-success mx-md-2 my-auto"},uL={class:"d-flex flex-column flex-md-row justify-content-between"},_L={class:"my-auto fw-light"},mL={class:"fw-bold mx-md-2 my-auto"},fL={class:"d-flex flex-column flex-md-row justify-content-between"},hL={class:"my-auto fw-light"},pL={class:"fw-bold mx-md-2 my-auto"},vL={class:"table-responsive"},gL={class:"table"},bL={class:"bg-label-primary"},yL={class:"px-2"},kL={class:"d-flex justify-content-end"},$L={class:"mx-2 my-auto"},wL={class:"text-success my-auto"},DL={key:0,class:"px-2"},xL={class:"mx-2 my-auto"},CL={class:"text-success my-auto"},PL={key:1,class:"px-2"},EL={class:"d-flex justify-content-end"},AL={class:"mx-md-2 my-auto"},IL={class:"bg-label-secondary px-2"},RL={class:"d-flex justify-content-end"},SL={class:"mx-md-2 my-auto py-1"},TL={class:"text-success my-auto py-1"};function jL(o,a,s,t,c,m){const _=ce("upload-attachment");return u(),f(G,null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",h7,[e("div",p7,[e("div",v7,[e("h5",g7,n(o.$t("Invoice Details")),1),a[1]||(a[1]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",b7,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,y7)]),e("a",{href:"/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[0]||(a[0]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,k7)])]),e("div",$7,[e("div",w7,[e("div",D7,[e("span",x7,[e("h5",C7,n(o.$t("Anchor"))+":",1),e("h6",P7,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",E7,[e("h5",A7,n(o.$t("Delivery Address"))+":",1),e("h6",I7,n(t.invoice_details.delivery_address),1)]),e("span",R7,[e("h5",S7,n(o.$t("Debit From"))+":",1),e("h6",T7,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",j7,[e("h5",O7,n(o.$t("Vendor"))+":",1),e("h6",M7,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",L7,[e("h5",N7,n(o.$t("Remarks"))+":",1),e("h6",F7,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Y7,[e("h5",V7,n(o.$t("Credit To"))+":",1),e("h6",B7,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",U7,[e("h5",q7,n(o.$t("Rejection Reason"))+":",1),e("h6",H7,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",z7,[t.invoice_details.pi_number?(u(),f("span",W7,[e("h5",K7,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-md-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,G7)])):b("",!0),e("span",Q7,[e("h5",Z7,n(o.$t("Invoice No."))+":",1),e("h6",J7,n(t.invoice_details.invoice_number),1)]),e("span",X7,[e("h5",eL,n(o.$t("PO No."))+":",1),e("h6",tL,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",oL,[e("h5",aL,n(o.$t("Payment / OD Account No."))+":",1),e("h6",nL,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",sL,[e("h5",lL,n(o.$t("Invoice Date."))+":",1),e("h6",iL,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",rL,[e("h5",dL,n(o.$t("Amount"))+":",1),e("h6",cL,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",uL,[e("h5",_L,n(o.$t("Status."))+":",1),e("h6",mL,n(t.invoice_details.approval_stage),1)]),e("span",fL,[e("h5",hL,n(o.$t("Due Date"))+":",1),e("h6",pL,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",vL,[e("table",gL,[e("thead",bL,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.item),1),e("td",null,n(l.quantity),1),e("td",null,n(l.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(l.quantity*l.price_per_quantity)),1)]))),128))])])]),e("div",yL,[e("span",kL,[e("h6",$L,n(o.$t("Discount"))+":",1),e("h5",wL,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",DL,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",xL,n(l.name),1),e("h5",CL,n(new Intl.NumberFormat().format(l.value)),1)]))),128))])):(u(),f("div",PL,[e("span",EL,[e("h6",AL,n(o.$t("Tax")),1),a[2]||(a[2]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",IL,[e("span",RL,[e("h6",SL,n(o.$t("Total")),1),e("h5",TL,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,f7)):b("",!0),Be(_,{invoiceDetails:t.invoice_details},null,8,["invoiceDetails"])],64)}const Bt=Ue(m7,[["render",jL]]),OL={props:["invoiceDetails"],components:{UploadAttachment:ss},setup(o){lt();const a=o.invoiceDetails;return{moment:H,invoice_details:a,getTaxPercentage:(m,_)=>(_/m*100).toFixed(2),resolveStatus:m=>{let _="";switch(m){case"Overdue":_="bg-label-danger";break;case"Created":_="bg-label-secondary";break;case"Pending Approval":_="bg-label-warning";break;case"Pending Maker":_="bg-label-primary";break;case"Pending Checker":_="bg-label-danger";break;case"Submitted":_="bg-label-primary";break;case"Approved":_="bg-label-success";break;case"Disbursed":_="bg-label-success";break;case"Denied":_="bg-label-danger";break;case"Rejected":_="bg-label-danger";break;default:_="bg-label-primary";break}return _},resolveFinancingStatus:m=>{let _="";switch(m){case"pending":_="bg-label-primary";break;case"submitted":_="bg-label-warning";break;case"financed":_="bg-label-success";break;case"closed":_="bg-label-secondary";break;case"denied":_="bg-label-danger";break;default:_="bg-label-primary";break}return _}}}},ML=["id"],LL={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},NL={class:"modal-content"},FL={class:"modal-header d-flex flex-column flex-md-row justify-content-between"},YL={class:"modal-title",id:"modalCenterTitle"},VL={class:"d-flex flex-wrap align-items-center gap-1"},BL=["data-bs-target"],UL=["href"],qL={class:"modal-body"},HL={class:"d-flex flex-column flex-md-row justify-content-md-between mb-4"},zL={class:"mb-md-3"},WL={class:"d-flex flex-column flex-md-row justify-content-md-between"},KL={class:"fw-light my-auto"},GL={class:"fw-bold mx-2 my-auto"},QL={class:"d-flex flex-column flex-md-row justify-content-between"},ZL={class:"fw-light my-auto"},JL={class:"fw-bold mx-md-2 my-auto"},XL={class:"d-flex flex-column flex-md-row justify-content-between"},eN={class:"fw-light my-auto"},tN={class:"fw-bold mx-md-2 my-auto"},oN={class:"d-flex flex-column flex-md-row justify-content-between"},aN={class:"fw-light my-auto"},nN={class:"fw-bold mx-md-2 my-auto"},sN={class:"d-flex flex-column flex-md-row justify-content-between"},lN={class:"fw-light my-auto"},iN={class:"fw-bold mx-md-2 my-auto"},rN={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},dN={class:"fw-light my-auto"},cN={class:"fw-bold mx-md-2 my-auto"},uN={key:1,class:"d-flex flex-column flex-md-row justify-content-between"},_N={class:"fw-light my-auto"},mN={class:"fw-bold mx-md-2 my-auto"},fN={class:"mb-md-3"},hN={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},pN={class:"my-auto fw-light"},vN=["data-bs-target"],gN={class:"d-flex flex-column flex-md-row justify-content-between"},bN={class:"my-auto fw-light"},yN={class:"fw-bold mx-md-2 my-auto"},kN={class:"d-flex flex-column flex-md-row justify-content-between"},$N={class:"my-auto fw-light"},wN={class:"fw-bold mx-md-2 my-auto"},DN={class:"d-flex flex-column flex-md-row justify-content-between"},xN={class:"my-auto fw-light"},CN={class:"fw-bold mx-md-2 my-auto"},PN={class:"d-flex flex-column flex-md-row justify-content-between"},EN={class:"my-auto fw-light"},AN={class:"fw-bold mx-md-2 my-auto"},IN={class:"d-flex flex-column flex-md-row justify-content-between"},RN={class:"my-auto fw-light"},SN={class:"fw-bold text-success mx-md-2 my-auto"},TN={class:"d-flex flex-column flex-md-row justify-content-between"},jN={class:"my-auto fw-light"},ON={class:"fw-bold mx-md-2 my-auto"},MN={class:"d-flex flex-column flex-md-row justify-content-between"},LN={class:"my-auto fw-light"},NN={class:"fw-bold mx-md-2 my-auto"},FN={class:"table-responsive"},YN={class:"table"},VN={class:"bg-label-primary"},BN={class:"px-md-2"},UN={class:"d-flex justify-content-end"},qN={class:"mx-2 my-auto"},HN={class:"text-success my-auto"},zN={key:0,class:"px-2"},WN={class:"mx-2 my-auto"},KN={class:"text-success my-auto"},GN={key:1,class:"px-md-2"},QN={class:"d-flex justify-content-end"},ZN={class:"mx-2 my-auto"},JN={key:2,class:"px-2"},XN={class:"mx-2 my-auto py-1"},eF={key:0,class:"text-success my-auto py-1"},tF={key:1,class:"text-success my-auto py-1"},oF={key:3,class:"px-md-2"},aF={class:"d-flex justify-content-end"},nF={class:"mx-2 my-auto py-1"},sF={class:"d-flex justify-content-end"},lF={class:"mx-2 my-auto py-1"},iF={class:"d-flex justify-content-end"},rF={class:"mx-2 my-auto py-1"},dF={class:"bg-label-secondary px-md-2"},cF={class:"d-flex justify-content-end"},uF={class:"mx-2 my-auto py-1"},_F={class:"text-success my-auto py-1"};function mF(o,a,s,t,c,m){const _=ce("upload-attachment");return u(),f(G,null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"pi-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",LL,[e("div",NL,[e("div",FL,[e("h5",YL,n(o.$t("Invoice Details")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",VL,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[0]||(a[0]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,BL)]),e("a",{href:"/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[1]||(a[1]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,UL)])]),e("div",qL,[e("div",HL,[e("div",zL,[e("span",WL,[e("h5",KL,n(o.$t("Anchor"))+":",1),e("h6",GL,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",QL,[e("h5",ZL,n(o.$t("Delivery Address"))+":",1),e("h6",JL,n(t.invoice_details.delivery_address),1)]),e("span",XL,[e("h5",eN,n(o.$t("Debit From"))+":",1),e("h6",tN,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",oN,[e("h5",aN,n(o.$t("Vendor"))+":",1),e("h6",nN,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",sN,[e("h5",lN,n(o.$t("Remarks"))+":",1),e("h6",iN,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",rN,[e("h5",dN,n(o.$t("Credit To"))+":",1),e("h6",cN,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",uN,[e("h5",_N,n(o.$t("Rejection Reason"))+":",1),e("h6",mN,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",fN,[t.invoice_details.pi_number?(u(),f("span",hN,[e("h5",pN,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-md-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,vN)])):b("",!0),e("span",gN,[e("h5",bN,n(o.$t("PI No."))+":",1),e("h6",yN,n(t.invoice_details.pi_number),1)]),e("span",kN,[e("h5",$N,n(o.$t("PO No."))+":",1),e("h6",wN,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",DN,[e("h5",xN,n(o.$t("Payment / OD Account No."))+":",1),e("h6",CN,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",PN,[e("h5",EN,n(o.$t("Invoice Date."))+":",1),e("h6",AN,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",IN,[e("h5",RN,n(o.$t("Amount"))+":",1),e("h6",SN,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",TN,[e("h5",jN,n(o.$t("Status."))+":",1),e("h6",ON,n(t.invoice_details.approval_stage),1)]),e("span",MN,[e("h5",LN,n(o.$t("Due Date"))+":",1),e("h6",NN,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",FN,[e("table",YN,[e("thead",VN,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.item),1),e("td",null,n(l.quantity),1),e("td",null,n(l.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(l.quantity*l.price_per_quantity)),1)]))),128))])])]),e("div",BN,[e("span",UN,[e("h6",qN,n(o.$t("Discount"))+":",1),e("h5",HN,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",zN,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",WN,n(l.name),1),e("h5",KN,n(new Intl.NumberFormat().format(l.value)),1)]))),128))])):(u(),f("div",GN,[e("span",QN,[e("h6",ZN,n(o.$t("Tax")),1),a[3]||(a[3]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",JN,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,l=>(u(),f("span",{key:l.id,class:"d-flex justify-content-end"},[e("h6",XN,n(l.name),1),l.name!="Credit Note Amount"&&l.name!="Credit Note"&&l.name!="Credit Amount"?(u(),f("h5",eF," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,l.amount))+"%) "+n(new Intl.NumberFormat().format(l.amount.toFixed(2))),1)):(u(),f("h5",tF,n(new Intl.NumberFormat().format(l.amount)),1))]))),128))])):(u(),f("div",oF,[e("span",aF,[e("h6",nF,n(o.$t("WHT Tax"))+":",1),a[4]||(a[4]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",sF,[e("h6",lF,n(o.$t("WHT VAT"))+":",1),a[5]||(a[5]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",iF,[e("h6",rF,n(o.$t("Credit Note Amount"))+":",1),a[6]||(a[6]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",dF,[e("span",cF,[e("h6",uF,n(o.$t("Total")),1),e("h5",_F,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])],8,ML)):b("",!0),Be(_,{invoiceDetails:t.invoice_details},null,8,["invoiceDetails"])],64)}const qt=Ue(OL,[["render",mF]]),At="/build/assets/tube-spinner-CuIGYWHO.svg",fF={name:"FinanceRequests",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=h(""),c=h(""),m=h(""),_=h(50),l=h(""),r=h(""),i=h(0),d=async()=>{await A.get(o+"payment-instructions/data",{params:{vendor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(E=>{a.value=E.data.finance_requests}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=E=>{let D="";switch(E){case"pending":D="bg-label-primary";break;case"submitted":D="bg-label-secondary";break;case"financed":D="bg-label-success";break;case"denied":D="bg-label-danger";break;case"Pending Maker":D="bg-label-primary";break;case"Pending Checker":D="bg-label-danger";break;case"Overdue":D="bg-label-danger";break;case"Created":D="bg-label-secondary";break;case"Pending":D="bg-label-secondary";break;case"Approved":D="bg-label-success";break;case"Paid":D="bg-label-success";break;case"Failed":D="bg-label-danger";break;case"Rejected":D="bg-label-danger";break;case"Past Due":D="bg-label-danger";break;default:D="bg-label-primary";break}return D},v=async(E,D)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+E+"/details").then(k=>{s.value=k.data,i.value++,bt(()=>{document.getElementById(D).click()})}).catch(k=>{console.log(k)})},g=(E,D)=>(D/E*100).toFixed(2),w=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",await A.get(o+"payment-instructions/data",{params:{per_page:_.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},y=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},x=async E=>{await A.get(E+"&per_page="+_.value,{params:{vendor:t.value,invoice:c.value,status:m.value}}).then(D=>{a.value=D.data.finance_requests})};return ot([_],async([E])=>{await A.get(o+"payment-instructions/data",{params:{per_page:E,vendor:t.value,invoice:c.value,status:m.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)})}),{moment:H,finance_requests:a,vendor_search:t,invoice_search:c,status_search:m,per_page:_,getTaxPercentage:g,invoice_details:s,resolveRequestStatus:p,changePage:x,clearSearch:w,filter:y,status:l,rejection_reason:r,showInvoice:v,resolvePaymentRequestStatus:E=>{let D="";switch(E){case"Pending Maker":D="bg-label-primary";break;case"Pending Checker":D="bg-label-warning";break;case"Created":D="bg-label-secondary";break;case"Pending":D="bg-label-secondary";break;case"Approved":D="bg-label-success";break;case"Paid":D="bg-label-success";break;case"Failed":D="bg-label-danger";break;case"Rejected":D="bg-label-danger";break;case"Past Due":D="bg-label-danger";break;default:D="bg-label-primary";break}return D},invoice_details_key:i}}},hF={class:"card"},pF={class:"card-header d-flex flex-column flex-md-row justify-content-between"},vF={class:"d-flex flex-wrap gap-1"},gF={class:""},bF={for:"Vendor",class:"form-label"},yF={class:""},kF={for:"Invoice No",class:"form-label"},$F={class:""},wF={for:"Status",class:"form-label"},DF={value:""},xF={value:"pending"},CF={value:"submitted"},PF={value:"disbursed"},EF={value:"rejected"},AF={class:"table-search-btn"},IF={class:"table-clear-btn"},RF={class:"d-flex justify-content-md-end mt-2 mt-md-auto gap-1"},SF={class:"card-body"},TF={class:"table-responsive"},jF={class:"table"},OF={class:""},MF={class:"table-border-bottom-0"},LF={key:0},NF={colspan:"12",class:"text-center"},FF={class:"text-center"},YF={key:1},VF={colspan:"12",class:"text-center"},BF={class:"text-center"},UF=["onClick"],qF=["onClick"],HF={class:"text-success"},zF={class:"text-success"},WF=["id","data-bs-target"],KF=["id","data-bs-target"],GF={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},QF={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},ZF={class:"modal-content"},JF={class:"modal-body"},XF={class:"d-flex justify-content-center"};function eY(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",hF,[e("div",pF,[e("div",vF,[e("div",gF,[e("label",bF,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",yF,[e("label",kF,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_search]])]),e("div",$F,[e("label",wF,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",DF,n(o.$t("Status")),1),e("option",xF,n(o.$t("Pending")),1),e("option",CF,n(o.$t("Submitted")),1),e("option",PF,n(o.$t("Disbursed")),1),e("option",EF,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",AF,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",IF,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",RF,[e("div",null,[Y(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),e("div",SF,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",TF,[e("table",jF,[e("thead",null,[e("tr",OF,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",MF,[t.finance_requests.data?b("",!0):(u(),f("tr",LF,[e("td",NF,[e("span",FF,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",YF,[e("td",VF,[e("span",BF,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[e("span",null,n(i.company),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-pi-btn-"+i.id),style:{cursor:"pointer"}},n(i.pi_number),9,UF),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,qF),e("td",null,[e("span",null,n(i.payment_request_date?t.moment(i.payment_request_date).format("DD MMM YYYY"):"-"),1)]),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",HF,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total)),1)]),e("td",zF,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,WF),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,KF),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",GF,[e("div",QF,[e("div",ZF,[e("div",JF,[e("div",XF,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const tY=Ue(fF,[["render",eY]]),oY={name:"Notifications",setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=async()=>{await A.get(s+"notifications/view/data").then(l=>{t.value=l.data})},m=l=>{A.get(s+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(s+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:t,markAsRead:m,markAllAsRead:_}}},aY={class:"card p-1"},nY={class:"table-responsive"},sY={class:"table"},lY={class:""},iY={class:"table-border-bottom-0"},rY={key:0},dY={colspan:"12",class:"text-center"},cY={class:"text-center"},uY={key:1},_Y={colspan:"12",class:"text-center"},mY={class:"text-center"},fY={key:0},hY={key:1},pY=["onClick"];function vY(o,a,s,t,c,m){return u(),f("div",aY,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",nY,[e("table",sY,[e("thead",null,[e("tr",lY,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",iY,[t.logs?b("",!0):(u(),f("tr",rY,[e("td",dY,[e("span",cY,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",uY,[e("td",_Y,[e("span",mY,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",fY,n("Invoice Creation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",hY,n("Invoice Updated: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,pY)])]))),128))])])])])}const gY=Ue(oY,[["render",vY]]),bY={name:"Notifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"factoring/notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"factoring/notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"factoring/notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},yY={class:"card p-2"},kY={class:"table-responsive"},$Y={class:"table"},wY={class:""},DY={class:"table-border-bottom-0"},xY={key:0},CY={colspan:"12",class:"text-center"},PY={class:"text-center"},EY={key:1},AY={colspan:"12",class:"text-center"},IY={class:"text-center"},RY={key:0},SY={key:1},TY=["onClick"];function jY(o,a,s,t,c,m){return u(),f("div",yY,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",kY,[e("table",$Y,[e("thead",null,[e("tr",wY,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",DY,[t.logs?b("",!0):(u(),f("tr",xY,[e("td",CY,[e("span",PY,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",EY,[e("td",AY,[e("span",IY,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",RY,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",SY,n("Invoice: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,TY)])]))),128))])])])])}const OY=Ue(bY,[["render",jY]]),MY={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(null),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),w=h([]),y=h([]),x=h(0),C=h(0),E=h(0),D=h(50),k=h(""),I=h(""),V=h(""),B=h(""),L=h([]),F=h([]),T=h(""),P=h([]),R=h(""),O=h(""),N=h([]),S=h(!1),U=h(!0),W=async(ke,te)=>{await A.get(t+"purchase-orders/"+ke+"/show").then(Ce=>{i.value=Ce.data,bt(()=>{document.getElementById(te).click()})}).catch(Ce=>{console.log(Ce)})},oe=ke=>{document.getElementById("pending-edit-fees-"+ke.id).classList.remove("d-none"),document.getElementById("pending-view-fees-"+ke.id).classList.add("d-none")},J=async()=>{await A.get(t+"invoices/pending/data",{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,status:L.value,financing_status:F.value}}).then(ke=>{c.value=ke.data.invoices,g.value=ke.data.taxes,w.value=ke.data.users}).catch(ke=>{console.log(ke.message)})},K=async(ke,te)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+ke+"/details").then(Ce=>{l.value=Ce.data,x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(te).click()})}).catch(Ce=>{console.log(Ce)})},z=(ke,te,Ce)=>(Ce/te*100).toFixed(2),ae=ke=>{let te="";switch(ke){case"Overdue":te="bg-label-danger";break;case"Created":te="bg-label-secondary";break;case"Pending Approval":te="bg-label-warning";break;case"Pending Maker":te="bg-label-primary";break;case"Pending Checker":te="bg-label-danger";break;case"Submitted":te="bg-label-primary";break;case"Approved":te="bg-label-success";break;case"Disbursed":te="bg-label-success";break;case"Denied":te="bg-label-danger";break;case"Rejected":te="bg-label-danger";break;default:te="bg-label-primary";break}return te},we=ke=>{let te="";switch(ke){case"pending":te="bg-label-primary";break;case"financed":te="bg-label-success";break;case"closed":te="bg-label-secondary";break;case"denied":te="bg-label-danger";break;default:te="bg-label-primary";break}return te},Fe=()=>{let ke=0,te=0,Ce=Object.keys(y.value);Object.values(y.value).forEach((Ie,se)=>{Ce[se]=="Credit Note Amount"&&Ie>0&&(te=Ie),Ce[se]!="Credit Note Amount"&&(Ie>0?ke+=Ie:ke-=Ie)}),ke>0&&(C.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-ke/100*x.value.replaceAll(",",""))),te>0&&(C.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-te)),te==0&&ke==0&&(C.value=new Intl.NumberFormat.format(x.value.replaceAll(",","")))},he=async ke=>{const te=new FormData;for(const Ce in y.value)Ce=="Credit Note Amount"&&te.append("taxes["+Ce+"]",y.value[Ce]),Ce!="Credit Note Amount"&&te.append("taxes["+Ce+"]",y.value[Ce]/100*x.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}invoices/${ke.id}/approve`,te).then(()=>{J(),s.success("Invoice updated successfully"),document.getElementById("pending-edit-fees-close-btn-"+ke.id).click();for(const Ce in y.value)y.value=[]}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},re=async ke=>{await A.get(`${t}invoices/${ke.id}/fees/approve`).then(()=>{J(),s.success("Invoice updated successfully"),document.getElementById("pending-close-modal-"+ke.id).click();for(const te in y.value)y.value[te]=""}).catch(te=>{if(console.log(te),te.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},$e=()=>{if(P.value=[],S.value=!0,document.getElementById("pending-select-all").checked?c.value.data.forEach(async ke=>{ke.status=="submitted"&&ke.user_can_approve&&!ke.user_has_approved&&(document.getElementById("pending-data-select-"+ke.id).checked=!0,P.value.push(ke.id))}):(c.value.data.forEach(ke=>{if(ke.status=="submitted"&&ke.user_can_approve&&!ke.user_has_approved){document.getElementById("pending-data-select-"+ke.id).checked=!1;let te;if(!P.value.filter(function(Ne,Ie){te=Ie,Ne==ke.id}))return!1;P.value.splice(te,1)}}),S.value=!1),P.value.length>0){let ke={},te={};const Ce=new FormData;Ce.append("invoices",P.value),A.post(t+"invoices/bulk/details",Ce).then(Ne=>{N.value=[],Ne.data.data.forEach(Ie=>{if(te[Ie.id]=[],Ie.invoice_fees.length>0){let se=0;ke={},Ie.invoice_fees.forEach(fe=>{fe.name!="Credit Note Amount"?se=z(Ie.invoice_number,Ie.total+Ie.total_invoice_taxes-Ie.total_invoice_discount,fe.amount):se=fe.amount,Object.keys(ke+"-"+Ie.id).filter(Ze=>Ze==fe.name+"-"+Ie.id).length>0||(ke[fe.name+"-"+Ie.id]=se)})}else ke={},Object.keys(g.value).forEach(se=>{ke[se+"-"+Ie.id]=0});te[Ie.id]=ke}),N.value.push(te),S.value=!1})}},De=ke=>{if(P.value.includes(ke)){const te=P.value.indexOf(ke);P.value.splice(te,1)}else P.value.push(ke);if(P.value.length>0){let te={},Ce={};const Ne=new FormData;Ne.append("invoices",P.value),A.post(t+"invoices/bulk/details",Ne).then(Ie=>{N.value=[],Ie.data.data.forEach(se=>{if(Ce[se.id]=[],se.invoice_fees.length>0){let fe=0;te={},se.invoice_fees.forEach(Le=>{Le.name!="Credit Note Amount"?fe=z(se.invoice_number,se.total+se.total_invoice_taxes-se.total_invoice_discount,Le.amount):fe=Le.amount,Object.keys(te+"-"+se.id).filter(at=>at==Le.name+"-"+se.id).length>0||(te[Le.name+"-"+se.id]=fe)})}else te={},Object.keys(g.value).forEach(fe=>{te[fe+"-"+se.id]=0});Ce[se.id]=te}),N.value.push(Ce),S.value=!1})}},ie=ke=>{if(P.value.length<=0){s.error("Select invoices");return}};ot(O,ke=>{(ke=="approve"||ke=="reject")&&(P.value.length>0?(ke=="reject"&&document.getElementById("pending-show-bulk-reject-modal").click(),ke=="approve"&&document.getElementById("pending-show-bulk-approval-modal").click(),O.value=""):s.error("Select Invoices"))});const pe=()=>{const ke=new FormData;P.value.forEach((te,Ce)=>{ke.append("invoice["+Ce+"]",te)}),ke.append("invoice_taxes",JSON.stringify(N.value)),ke.append("action",O.value),U.value=!1,A.post(t+"invoices/bulk/update/approve",ke).then(()=>{J(),s.success("Invoices updated successfully"),document.getElementById("pending-close-modal").click(),document.getElementById("select-all").checked=!1;for(const te in y.value)y.value[te]="";P.value=[],N.value=[]}).catch(te=>{if(console.log(te),te.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{O.value="",U.value=!0})},be=()=>{const ke=new FormData;ke.append("rejected_reason",R.value),P.value.forEach((te,Ce)=>{ke.append("invoice["+Ce+"]",te)}),ke.append("action",O.value),U.value=!1,A.post(t+"invoices/bulk/update/reject",ke).then(()=>{J(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),document.getElementById("select-all").checked=!1,R.value="",P.value=[],N.value=[]}).catch(te=>{console.log(te),s.error("An error occurred")}).finally(()=>{U.value=!0,O.value=""})},Me=ke=>{const te=new FormData;te.append("rejected_reason",R.value),te.append("action",O.value),A.post(t+"invoices/"+ke+"/reject",te).then(()=>{J(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+ke).click(),O.value="",R.value=""}).catch(Ce=>{console.log(Ce),s.error("An error occurred")})};return a.expose({getInvoices:J}),Qe(()=>{$("#pending-invoice-status-select").on("change",function(){var ke=$("#pending-invoice-status-select").val();L.value=ke}),$("#pending-financing-status-select").on("change",function(){var ke=$("#pending-financing-status-select").val();F.value=ke})}),ot([D],async([ke])=>{A.get(t+"invoices/pending/data",{params:{per_page:ke,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,status:L.value,financing_status:F.value}}).then(te=>{c.value=te.data.invoices})}),{moment:H,per_page:D,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:w,invoice_taxes:y,invoice_subtotal:x,invoice_total:C,purchase_order_total:E,selected_invoices:P,selected_invoices_taxes:N,vendor_search:k,invoice_number_search:I,status_search:L,financing_status_search:F,from_date_search:V,to_date_search:B,bulk_action:O,invoice_fees_processing:S,rejected_reason:R,can_bulk_approve:U,purchase_order_details:i,invoice_details_key:r,showInvoice:K,calculatePayable:ke=>{let te=$("#pending-invoice-amount-"+ke).text().replaceAll(",",""),Ce=$("#pending-withholding-tax-"+ke).val(),Ne=$("#pending-withholding-vat-"+ke).val(),Ie=$("#pending-credit-note-amount-"+ke).val(),se=Ce/100*te,fe=Ne/100*te,Le=te-se-fe-Ie;$("#pending-invoice-total-payable-"+ke).text(new Intl.NumberFormat().format(Le))},filter:async()=>{T.value=$("#pending_date_search").val(),T.value&&(V.value=H(T.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(T.value.split(" - ")[1]).format("YYYY-MM-DD"));let ke=$(".ti-search").parent();ke.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/pending/data",{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,status:L.value,financing_status:F.value}}).then(te=>{c.value=te.data.invoices,g.value=te.data.taxes,ke.html('<i class="ti ti-search"></i>')})},updateSelected:De,pendingSelectAll:$e,bulkAction:ie,resolveStatus:ae,resolveFinancingStatus:we,changePage:async ke=>{await A.get(ke,{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,status:L.value,financing_status:F.value}}).then(te=>{c.value=te.data.invoices}).catch(te=>{console.log(te)})},submitApproval:he,submitBulkApproval:pe,submitBulkRejection:be,updateInvoiceTotal:Fe,getTaxPercentage:z,showPurchaseOrder:W,clearSearch:async()=>{let ke=$(".ti-refresh").parent();ke.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value="",I.value="",V.value="",B.value="",L.value=[],F.value=[],T.value="",$("#date_search").val(""),await A.get(t+"invoices/pending/data",{params:{per_page:D.value}}).then(te=>{c.value=te.data.invoices,g.value=te.data.taxes,ke.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,status:L.value,financing_status:F.value}}).then(ke=>{const te=window.URL.createObjectURL(new Blob([ke.data])),Ce=document.createElement("a");Ce.href=te,Ce.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Ce),Ce.click()}).catch(ke=>{console.log(ke)})},submitRejection:Me,download:ke=>{A.get(t+"invoices/"+ke.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(te=>{const Ce=window.URL.createObjectURL(new Blob([te.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Invoice_${ke.invoice_number}.pdf`),document.body.appendChild(Ne),Ne.click()}).catch(te=>{console.log(te)})},editFees:oe,approveFees:re,userHasApproved:(ke,te)=>{let Ce=!1;return ke.approvals.forEach(Ne=>{te.id==Ne.user_id&&(Ce=!0)}),Ce},approvalDetails:(ke,te)=>{let Ce=null;return Ce=ke.approvals.filter(Ne=>Ne.user_id==te.id).length>0?ke.approvals.filter(Ne=>Ne.user_id==te.id)[0]:null,Ce}}}},LY={class:""},NY={class:"d-flex flex-column flex-md-row justify-content-between"},FY={class:"d-flex flex-wrap gap-1"},YY={class:""},VY={for:"Vendor",class:"form-label"},BY={class:""},UY={for:"Invoice No",class:"form-label"},qY={class:""},HY={class:"form-label",for:""},zY={class:""},WY={for:"Status",class:"form-label"},KY={value:""},GY={value:"pending_maker"},QY={value:"pending_checker"},ZY={value:"approved"},JY={value:"rejected"},XY={value:"past_due"},eV={class:""},tV={for:"Bulk Actions",class:"form-label"},oV={value:""},aV={value:"approve"},nV={value:"reject"},sV={class:"table-search-btn"},lV={class:"table-clear-btn"},iV={class:"d-none",id:"pending-show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#pending-bulk-invoice-approval"},rV={class:"modal fade",id:"pending-bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},dV={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},cV={class:"modal-content"},uV={class:"modal-header"},_V={class:"modal-title",id:"modalCenterTitle"},mV={key:0,class:"text-center my-4"},fV={class:"modal-body"},hV={class:"table"},pV={key:0},vV={key:0},gV={key:1},bV=["id"],yV={key:2},kV={key:0},$V=["readonly","onUpdate:modelValue","id","onInput"],wV={key:3},DV={key:0},xV=["readonly","onUpdate:modelValue","id","onInput"],CV={key:4},PV={key:0},EV=["readonly","onUpdate:modelValue","id","onInput"],AV={key:5},IV={key:0},RV=["id"],SV={class:"modal-footer"},TV=["disabled"],jV={class:"d-none",id:"pending-show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#pending-bulk-invoice-reject"},OV={class:"modal fade",id:"pending-bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},MV={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},LV={class:"modal-content"},NV={class:"modal-header"},FV={class:"modal-title",id:"modalCenterTitle"},YV={class:"modal-body"},VV={for:"reason",class:"form-label"},BV={class:"modal-footer"},UV=["disabled"],qV={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},HV={class:"table-responsive p-1"},zV={class:"table dt-invoices"},WV={class:"px-1"},KV={class:"form-check"},GV={key:0},QV={colspan:"12",class:"text-center"},ZV={class:"text-center"},JV={key:1},XV={colspan:"12",class:"text-center"},eB={class:"text-center"},tB={class:"px-1"},oB={key:0,class:"form-check"},aB=["id","onChange"],nB={key:0,class:"text-primary text-decoration-underline"},sB=["onClick"],lB={key:1,class:"text-primary"},iB=["onClick"],rB={href:"javascript:;"},dB={class:"text-success"},cB={class:""},uB={class:""},_B={class:""},mB={class:"d-inline-block"},fB=["id","data-bs-target"],hB=["id","data-bs-target"],pB=["id","data-bs-target"],vB=["id","data-bs-target"],gB=["id","data-bs-target"],bB=["id","data-bs-target"],yB=["id","data-bs-target"],kB=["id","data-bs-target"],$B={class:"modal fade",id:"pending-loading-modal",tabindex:"-1","aria-hidden":"true"},wB={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},DB={class:"modal-content"},xB={class:"modal-body"},CB={class:"d-flex justify-content-center"},PB={class:"dropdown-menu dropdown-menu-end"},EB=["onClick"],AB={key:0},IB=["href"],RB=["onClick"],SB={class:"dropdown-item badge bg-label-success"},TB={key:2},jB=["onClick"],OB=["onClick"],MB={class:"dropdown-item badge bg-label-info"},LB=["onClick"],NB={class:"dropdown-item badge bg-label-warning"},FB=["id"],YB={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},VB={class:"modal-content"},BB={class:"modal-header"},UB={class:"modal-title",id:"modalCenterTitle"},qB=["id"],HB=["onSubmit"],zB={class:"modal-body"},WB={for:"reason",class:"form-label"},KB={class:"modal-footer"},GB={class:"btn btn-danger",type:"submit"},QB=["id"],ZB={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},JB={class:"modal-content"},XB={class:"modal-header"},eU={class:"modal-title",id:"modalCenterTitle"},tU={class:"d-flex"},oU=["href"],aU=["href"],nU={class:"modal-body"},sU={class:"d-flex justify-content-between"},lU={class:"mb-3 w-50"},iU={class:"d-flex justify-content-between"},rU={class:"fw-light my-auto"},dU={class:"fw-bold mx-2 my-auto"},cU={class:"d-flex justify-content-between"},uU={class:"fw-light my-auto"},_U={class:"fw-bold mx-2 my-auto"},mU={class:"d-flex justify-content-between"},fU={class:"fw-light my-auto"},hU={class:"fw-bold mx-2 my-auto"},pU={class:"d-flex justify-content-between"},vU={class:"fw-light my-auto"},gU={key:0,class:"d-flex justify-content-between"},bU={class:"fw-light my-auto"},yU={class:"fw-bold mx-2 my-auto"},kU={class:"mb-3"},$U={class:"d-flex justify-content-between"},wU={class:"my-auto fw-light"},DU={class:"fw-bold mx-2 my-auto"},xU={class:"d-flex justify-content-between"},CU={class:"my-auto fw-light"},PU={class:"fw-bold mx-2 my-auto"},EU={class:"d-flex justify-content-between"},AU={class:"my-auto fw-light"},IU={class:"fw-bold mx-2 my-auto"},RU={class:"d-flex justify-content-between"},SU={class:"my-auto fw-light"},TU={class:"fw-bold text-success mx-2 my-auto"},jU={class:"table-responsive"},OU={class:"table"},MU={class:"bg-label-secondary px-2"},LU={class:"d-flex justify-content-end"},NU={class:"mx-2 my-auto py-1"},FU={class:"text-success my-auto py-1"},YU=["id"],VU={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},BU={class:"modal-content"},UU={class:"modal-header"},qU={class:"modal-title",id:"modalCenterTitle"},HU=["id"],zU=["id"],WU={class:"modal-body"},KU={key:0},GU={class:"d-flex justify-content-between"},QU=["id","data-bs-target"],ZU={class:"form-group"},JU={for:"Sub total",class:"form-label"},XU={class:"form-label"},eq=["value"],tq=["value"],oq={class:"form-group"},aq={for:"Sub total",class:"form-label"},nq=["value"],sq={key:1},lq={class:"d-flex justify-content-between"},iq=["id","data-bs-target"],rq={class:"modal-footer"},dq={class:"btn btn-primary",type:"submit"},cq=["id"],uq={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_q={class:"modal-content"},mq={class:"modal-header"},fq={class:"modal-title"},hq=["id"],pq=["id"],vq={class:"modal-body"},gq={class:"form-group"},bq={for:"Sub total",class:"form-label"},yq={key:0},kq={for:""},$q=["onUpdate:modelValue"],wq={key:1},Dq={for:""},xq=["onUpdate:modelValue"],Cq={class:"form-group"},Pq={for:"Sub total",class:"form-label"},Eq={key:0,class:"mt-2"},Aq={class:"text-sm"},Iq={class:"mx-2 my-auto py-1"},Rq={key:0,class:"text-success my-auto py-1"},Sq={key:1,class:"text-success my-auto py-1"},Tq={class:"modal-footer"},jq={class:"btn btn-primary",type:"submit"},Oq=["id"],Mq={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Lq={class:"modal-content"},Nq={class:"modal-header"},Fq={class:"modal-title",id:"modalCenterTitle"},Yq={class:"modal-body"},Vq={class:"table"},Bq={class:""},Uq=["id"],qq={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Hq={class:"modal-content"},zq={class:"modal-header"},Wq={class:"modal-title",id:"modalCenterTitle"},Kq={class:"modal-body"},Gq={key:0,class:"d-flex"},Qq={class:"text-success",style:{"font-weight":"800"}},Zq={class:"text-danger",style:{"font-weight":"800"}},Jq={key:0,class:"d-flex"},Xq={class:"text-success",style:{"font-weight":"800"}},eH={key:1,class:""};function tH(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",LY,[e("div",NY,[e("div",FY,[e("div",YY,[e("label",VY,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",BY,[e("label",UY,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",qY,[e("label",HY,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[22]||(a[22]=e("input",{type:"text",id:"pending_date_search",class:"form-control form-search",name:"pending_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",zY,[e("label",WY,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"pending-invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",KY,n(o.$t("Status")),1),e("option",GY,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",QY,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",ZY,n(o.$t("Approved")),1),e("option",JY,n(o.$t("Rejected")),1),e("option",XY,n(o.$t("Overdue")),1)],512),[[de,t.status_search]])]),e("div",eV,[e("label",tV,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.bulk_action=i)},[e("option",oV,n(o.$t("Bulk Actions")),1),e("option",aV,n(o.$t("Approve")),1),e("option",nV,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",sV,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[23]||(a[23]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",lV,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",iV,n(o.$t("Approve")),1),e("div",rV,[e("div",dV,[e("div",cV,[e("div",uV,[e("h5",_V,n(o.$t("Confirm Approval")),1),a[25]||(a[25]=e("button",{type:"button",id:"pending-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",mV,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[8]||(a[8]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",fV,[e("table",hV,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",pV,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",vV,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",gV,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,bV)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",yV,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",kV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,$V),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",wV,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",DV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,xV),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",CV,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",PV,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,EV),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",AV,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",IV,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,RV)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",SV,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,TV)])],32)):b("",!0)])])]),e("button",jV,n(o.$t("Reject")),1),e("div",OV,[e("div",MV,[e("div",LV,[e("div",NV,[e("h5",FV,n(o.$t("Confirm Rejection")),1),a[26]||(a[26]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[10]||(a[10]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",YV,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",VV,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[9]||(a[9]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",BV,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,UV)])],32)])])])]),e("div",qV,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[27]||(a[27]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},[a[28]||(a[28]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",HV,[e("table",zV,[e("thead",null,[e("tr",null,[e("th",WV,[e("div",KV,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"pending-select-all",onChange:a[13]||(a[13]=i=>t.pendingSelectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Actions")),1),a[29]||(a[29]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",GV,[e("td",QV,[e("span",ZV,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",JV,[e("td",XV,[e("span",eB,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",tB,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",oB,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"pending-data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,aB)])):b("",!0)]),e("td",null,n(i.company),1),i.purchase_order_number?(u(),f("td",nB,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,sB)])):(u(),f("td",lB,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",rB,n(i.invoice_number),1)],8,iB),e("td",dB,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",cB,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",uB,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",_B,[e("div",mB,[a[31]||(a[31]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,fB),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,hB),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,pB),e("button",{class:"d-none",id:"pending-show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},null,8,vB),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,gB),e("button",{class:"d-none",id:"pending-show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pending-invoice-approval-"+i.id},null,8,bB),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,yB),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,kB),a[32]||(a[32]=e("button",{class:"d-none",id:"pending-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal"},null,-1)),e("div",$B,[e("div",wB,[e("div",DB,[e("div",xB,[e("div",CB,[e("span",null,n(o.$t("Loading"))+"...",1),a[30]||(a[30]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",PB,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-2",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,EB)]),i.can_edit?(u(),f("li",AB,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,IB)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"pending-show-edit-fees-"+i.id)},[e("span",SB,n(o.$t("Approve")),1)],8,RB)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",TB,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,jB)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",MB,n(o.$t("Checker Approvals")),1)],8,OB),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:"mb-2"},[e("span",NB,n(o.$t("Authorization Matrix")),1)],8,LB)):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",YB,[e("div",VB,[e("div",BB,[e("h5",UB,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,qB)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",zB,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",WB,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",KB,[e("button",GB,n(o.$t("Confirm")),1)])],40,HB)])])],8,FB),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",ZB,[e("div",JB,[e("div",XB,[e("h5",eU,n(o.$t("Purchase Order")),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",tU,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[33]||(a[33]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,oU)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[34]||(a[34]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,aU)):b("",!0)])]),e("div",nU,[e("div",sU,[e("div",lU,[e("span",iU,[e("h5",rU,n(o.$t("Vendor"))+":",1),e("h6",dU,n(t.purchase_order_details.company.name),1)]),e("span",cU,[e("h5",uU,n(o.$t("Delivery Address"))+":",1),e("h6",_U,n(t.purchase_order_details.delivery_address),1)]),e("span",mU,[e("h5",fU,n(o.$t("Remarks"))+":",1),e("h6",hU,n(t.purchase_order_details.remarks),1)]),e("span",pU,[e("h5",vU,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",gU,[e("h5",bU,n(o.$t("Rejection Reason"))+":",1),e("h6",yU,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",kU,[e("span",$U,[e("h5",wU,n(o.$t("PO No"))+":",1),e("h6",DU,n(t.purchase_order_details.purchase_order_number),1)]),e("span",xU,[e("h5",CU,n(o.$t("Start Date"))+":",1),e("h6",PU,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",EU,[e("h5",AU,n(o.$t("End Date"))+":",1),e("h6",IU,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",RU,[e("h5",SU,n(o.$t("PO Amount"))+":",1),e("h6",TU,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",jU,[e("table",OU,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",MU,[e("span",LU,[e("h6",NU,n(o.$t("Total")),1),e("h5",FU,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,QB)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"pending-invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",VU,[e("div",BU,[e("div",UU,[e("h5",qU,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"pending-close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,HU)]),e("form",{onSubmit:a[16]||(a[16]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"pending-view-fees-"+t.invoice_details.id},[e("div",WU,[t.invoice_details.invoice_fees.length>0?(u(),f("div",KU,[e("div",GU,[a[36]||(a[36]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"pending-edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},n(o.$t("Edit Fees")),9,QU)]),e("div",ZU,[e("label",JU,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[15]||(a[15]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",XU,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,eq)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,tq))]))),128)),e("div",oq,[e("label",aq,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,nq)])])):(u(),f("div",sq,[e("div",lq,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"pending-edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#pending-edit-fees-"+i.id},n(o.$t("Click to add fees")),9,iq)])]))]),e("div",rq,[e("button",dq,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],40,zU)])])],8,YU)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"pending-edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",uq,[e("div",_q,[e("div",mq,[e("h5",fq,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"pending-edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,hq)]),e("form",{onSubmit:a[21]||(a[21]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",vq,[e("div",gq,[e("label",bq,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",yq,[e("label",kq,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[18]||(a[18]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,$q),[[X,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",wq,[e("label",Dq,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,xq),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",Cq,[e("label",Pq,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",Eq,[e("h5",Aq,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",Iq,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",Rq," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",Sq,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",Tq,[e("button",jq,n(o.$t("Submit")),1)])],40,pq)])])],8,cq)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Mq,[e("div",Lq,[e("div",Nq,[e("h5",Fq,n(o.$t("Checker Approval(s)")),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Yq,[e("table",Vq,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(G,{key:0},[e("td",Bq,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,Oq)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",qq,[e("div",Hq,[e("div",zq,[e("h5",Wq,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Kq,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Gq,[e("span",Qq,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[39]||(a[39]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",Zq,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Jq,[e("span",Xq,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",eH,n(d.user.name),1))]))),128))])])])],8,Uq)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oH=Ue(MY,[["render",tH]]),aH={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),w=h([]),y=h([]),x=h(0),C=h(0),E=h(0),D=h(50),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h(""),T=h([]),P=h([]),R=h(""),O=h(""),N=h(""),S=h([]),U=h(""),W=h(""),oe=h([]),J=h(!1),K=h(!0),z=Ie=>{document.getElementById("edit-fees-"+Ie.id).classList.remove("d-none"),document.getElementById("view-fees-"+Ie.id).classList.add("d-none")},ae=async()=>{await A.get(t+"invoices/data",{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(Ie=>{c.value=Ie.data.invoices,g.value=Ie.data.taxes,w.value=Ie.data.users}).catch(Ie=>{console.log(Ie.message)})},we=async(Ie,se)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+Ie+"/details").then(fe=>{r.value++,l.value=fe.data,x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),bt(()=>{document.getElementById(se).click()})}).catch(fe=>{console.log(fe)})},Fe=async(Ie,se)=>{await A.get(t+"purchase-orders/"+Ie+"/show").then(fe=>{i.value=fe.data,bt(()=>{document.getElementById(se).click()})}).catch(fe=>{console.log(fe)})},he=(Ie,se,fe)=>(fe/se*100).toFixed(2),re=Ie=>{let se="";switch(Ie){case"Overdue":se="bg-label-danger";break;case"Created":se="bg-label-secondary";break;case"Pending Approval":se="bg-label-warning";break;case"Pending Maker":se="bg-label-primary";break;case"Pending Checker":se="bg-label-danger";break;case"Submitted":se="bg-label-primary";break;case"Approved":se="bg-label-success";break;case"Disbursed":se="bg-label-success";break;case"Denied":se="bg-label-danger";break;case"Rejected":se="bg-label-danger";break;default:se="bg-label-primary";break}return se},$e=Ie=>{let se="";switch(Ie){case"pending":se="bg-label-primary";break;case"submitted":se="bg-label-warning";break;case"financed":se="bg-label-success";break;case"closed":se="bg-label-secondary";break;case"denied":se="bg-label-danger";break;default:se="bg-label-primary";break}return se},De=()=>{let Ie=0,se=0,fe=Object.keys(y.value);Object.values(y.value).forEach((Ze,at)=>{fe[at]=="Credit Note Amount"&&Ze>0&&(se=Ze),fe[at]!="Credit Note Amount"&&(Ze>0?Ie+=Ze:Ie-=Ze)}),Ie>0&&(C.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-Ie/100*x.value.replaceAll(",",""))),se>0&&(C.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-se)),se==0&&Ie==0&&(C.value=new Intl.NumberFormat.format(x.value.replaceAll(",","")))},ie=async Ie=>{const se=new FormData;for(const fe in y.value)fe=="Credit Note Amount"&&se.append("taxes["+fe+"]",y.value[fe]),fe!="Credit Note Amount"&&se.append("taxes["+fe+"]",y.value[fe]/100*x.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}invoices/${Ie.id}/approve`,se).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+Ie.id).click();for(const fe in y.value)y.value=[]}).catch(fe=>{if(console.log(fe),fe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},pe=async Ie=>{await A.get(`${t}invoices/${Ie.id}/fees/approve`).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+Ie.id).click();for(const se in y.value)y.value[se]=""}).catch(se=>{if(console.log(se),se.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=()=>{if(S.value=[],J.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async Ie=>{Ie.status=="submitted"&&Ie.user_can_approve&&!Ie.user_has_approved&&(document.getElementById("data-select-"+Ie.id).checked=!0,S.value.push(Ie.id))}):(c.value.data.forEach(Ie=>{if(Ie.status=="submitted"&&Ie.user_can_approve&&!Ie.user_has_approved){document.getElementById("data-select-"+Ie.id).checked=!1;let se;if(!S.value.filter(function(Le,Ze){se=Ze,Le==Ie.id}))return!1;S.value.splice(se,1)}}),J.value=!1),S.value.length>0){let Ie={},se={};const fe=new FormData;fe.append("invoices",S.value),A.post(t+"invoices/bulk/details",fe).then(Le=>{oe.value=[],Le.data.data.forEach(Ze=>{if(se[Ze.id]=[],Ze.invoice_fees.length>0){let at=0;Ie={},Ze.invoice_fees.forEach(mt=>{mt.name!="Credit Note Amount"?at=he(Ze.invoice_number,Ze.total+Ze.total_invoice_taxes-Ze.total_invoice_discount,mt.amount):at=mt.amount,Object.keys(Ie+"-"+Ze.id).filter(Ot=>Ot==mt.name+"-"+Ze.id).length>0||(Ie[mt.name+"-"+Ze.id]=at)})}else Ie={},Object.keys(g.value).forEach(at=>{Ie[at+"-"+Ze.id]=0});se[Ze.id]=Ie}),oe.value.push(se),J.value=!1})}},Me=Ie=>{if(S.value.includes(Ie)){const se=S.value.indexOf(Ie);S.value.splice(se,1)}else S.value.push(Ie);if(S.value.length>0){let se={},fe={};const Le=new FormData;Le.append("invoices",S.value),A.post(t+"invoices/bulk/details",Le).then(Ze=>{oe.value=[],Ze.data.data.forEach(at=>{if(fe[at.id]=[],at.invoice_fees.length>0){let mt=0;se={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(se+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(se[wt.name+"-"+at.id]=mt)})}else se={},Object.keys(g.value).forEach(mt=>{se[mt+"-"+at.id]=0});fe[at.id]=se}),oe.value.push(fe),J.value=!1})}},ue=Ie=>{if(S.value.length<=0){s.error("Select invoices");return}};ot(W,Ie=>{(Ie=="approve"||Ie=="reject")&&(S.value.length>0?(Ie=="reject"&&document.getElementById("show-bulk-reject-modal").click(),Ie=="approve"&&document.getElementById("show-bulk-approval-modal").click(),W.value=""):s.error("Select Invoices"))});const je=()=>{const Ie=new FormData;S.value.forEach((se,fe)=>{Ie.append("invoice["+fe+"]",se)}),Ie.append("invoice_taxes",JSON.stringify(oe.value)),Ie.append("action",W.value),K.value=!1,A.post(t+"invoices/bulk/update/approve",Ie).then(se=>{ae(),s.success(se.data.message),document.getElementById("fees-close-modal").click(),document.getElementById("select-all").checked=!1;for(const fe in y.value)y.value[fe]="";S.value=[],oe.value=[]}).catch(se=>{if(console.log(se),se.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{W.value="",K.value=!0})},ze=()=>{const Ie=new FormData;Ie.append("rejected_reason",U.value),S.value.forEach((se,fe)=>{Ie.append("invoice["+fe+"]",se)}),Ie.append("action",W.value),K.value=!1,A.post(t+"invoices/bulk/update/reject",Ie).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",S.value=[],oe.value=[],document.getElementById("select-all").checked=!1}).catch(se=>{console.log(se),s.error("An error occurred")}).finally(()=>{K.value=!0,W.value=""})},Ye=Ie=>{const se=new FormData;se.append("rejected_reason",U.value),se.append("action",W.value),A.post(t+"invoices/"+Ie+"/reject",se).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+Ie).click(),W.value="",U.value=""}).catch(fe=>{console.log(fe),s.error("An error occurred")})};return a.expose({getInvoices:ae}),Qe(()=>{$("#invoice-status-select").on("change",function(){var Ie=$("#invoice-status-select").val();T.value=Ie}),$("#financing-status-select").on("change",function(){var Ie=$("#financing-status-select").val();P.value=Ie})}),ot([D],async([Ie])=>{A.get(t+"invoices/data",{params:{per_page:Ie,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{c.value=se.data.invoices})}),{moment:H,per_page:D,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:w,invoice_taxes:y,invoice_subtotal:x,invoice_total:C,purchase_order_total:E,purchase_order_details:i,selected_invoices:S,selected_invoices_taxes:oe,vendor_search:k,invoice_number_search:I,status_search:T,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:L,to_invoice_date_search:F,sort_by:N,bulk_action:W,invoice_fees_processing:J,rejected_reason:U,can_bulk_approve:K,invoice_details_key:r,showInvoice:we,calculatePayable:Ie=>{let se=$("#invoice-amount-"+Ie).text().replaceAll(",",""),fe=$("#withholding-tax-"+Ie).val(),Le=$("#withholding-vat-"+Ie).val(),Ze=$("#credit-note-amount-"+Ie).val(),at=fe/100*se,mt=Le/100*se,wt=se-at-mt-Ze;$("#invoice-total-payable-"+Ie).text(new Intl.NumberFormat().format(wt))},filter:async()=>{R.value=$("#date_search").val(),O.value=$("#invoice_date_search").val(),R.value&&(V.value=H(R.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(R.value.split(" - ")[1]).format("YYYY-MM-DD")),O.value&&(L.value=H(O.value.split(" - ")[0]).format("YYYY-MM-DD"),F.value=H(O.value.split(" - ")[1]).format("YYYY-MM-DD"));let Ie=$(".ti-search").parent();Ie.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/data",{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{c.value=se.data.invoices,g.value=se.data.taxes,Ie.html('<i class="ti ti-search"></i>')})},updateSelected:Me,selectAll:be,bulkAction:ue,resolveStatus:re,resolveFinancingStatus:$e,changePage:async Ie=>{await A.get(Ie,{params:{per_page:D.value,vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{c.value=se.data.invoices}).catch(se=>{console.log(se)})},submitApproval:ie,submitBulkApproval:je,submitBulkRejection:ze,updateInvoiceTotal:De,getTaxPercentage:he,clearSearch:async()=>{let Ie=$(".ti-refresh").parent();Ie.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value="",I.value="",V.value="",B.value="",T.value=[],P.value=[],R.value="",O.value="",N.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"invoices/data",{params:{per_page:D.value}}).then(se=>{c.value=se.data.invoices,g.value=se.data.taxes,Ie.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(Ie=>{const se=window.URL.createObjectURL(new Blob([Ie.data])),fe=document.createElement("a");fe.href=se,fe.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(fe),fe.click()}).catch(Ie=>{console.log(Ie)})},submitRejection:Ye,download:Ie=>{A.get(t+"invoices/"+Ie.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(se=>{const fe=window.URL.createObjectURL(new Blob([se.data])),Le=document.createElement("a");Le.href=fe,Le.setAttribute("download",`Invoice_${Ie.invoice_number}.pdf`),document.body.appendChild(Le),Le.click()}).catch(se=>{console.log(se)})},editFees:z,approveFees:pe,userHasApproved:(Ie,se)=>{let fe=!1;return Ie.approvals.length<=0?!1:(Ie.approvals.forEach(Le=>{se.id==Le.user_id&&(fe=!0)}),fe)},approvalDetails:(Ie,se)=>{let fe=null;return fe=Ie.approvals.filter(Le=>Le.user_id==se.id).length>0?Ie.approvals.filter(Le=>Le.user_id==se.id)[0]:null,fe},showPurchaseOrder:Fe}}},nH={class:""},sH={class:"d-flex flex-column flex-md-row justify-content-between"},lH={class:"d-flex flex-wrap gap-1"},iH={class:""},rH={for:"Vendor",class:"form-label"},dH={class:""},cH={for:"Invoice No",class:"form-label"},uH={class:""},_H={class:"form-label",for:""},mH={class:""},fH={class:"form-label",for:""},hH={class:""},pH={for:"Status",class:"form-label"},vH={value:"pending_maker"},gH={value:"pending_checker"},bH={value:"approved"},yH={value:"rejected"},kH={value:"past_due"},$H={value:"expired"},wH={class:""},DH={for:"Financing Status",class:"form-label"},xH={value:"pending"},CH={value:"submitted"},PH={value:"financed"},EH={value:"disbursed"},AH={value:"closed"},IH={value:"denied"},RH={class:""},SH={for:"Financing Status",class:"form-label"},TH={value:""},jH={value:"po_asc"},OH={value:"po_desc"},MH={value:"invoice_no_asc"},LH={value:"invoice_no_desc"},NH={value:"invoice_amount_asc"},FH={value:"invoice_amount_desc"},YH={value:"due_date_asc"},VH={value:"due_date_desc"},BH={value:"vendor_asc"},UH={value:"vendor_desc"},qH={class:""},HH={for:"Bulk Actions",class:"form-label"},zH={value:""},WH={value:"approve"},KH={value:"reject"},GH={class:"table-search-btn"},QH={class:"table-clear-btn"},ZH={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},JH={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},XH={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},ez={class:"modal-content"},tz={class:"modal-header"},oz={class:"modal-title",id:"modalCenterTitle"},az={key:0,class:"text-center my-4"},nz={class:"modal-body"},sz={class:"table"},lz={key:0},iz={key:0},rz={key:1},dz=["id"],cz={key:2},uz={key:0},_z=["readonly","onUpdate:modelValue","id","onInput"],mz={key:3},fz={key:0},hz=["readonly","onUpdate:modelValue","id","onInput"],pz={key:4},vz={key:0},gz=["readonly","onUpdate:modelValue","id","onInput"],bz={key:5},yz={key:0},kz=["id"],$z={class:"modal-footer"},wz=["disabled"],Dz={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},xz={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},Cz={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Pz={class:"modal-content"},Ez={class:"modal-header"},Az={class:"modal-title",id:"modalCenterTitle"},Iz={class:"modal-body"},Rz={for:"reason",class:"form-label"},Sz={class:"modal-footer"},Tz=["disabled"],jz={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Oz={class:"table-responsive p-1"},Mz={class:"table dt-invoices"},Lz={class:"px-1"},Nz={class:"form-check"},Fz={key:0},Yz={colspan:"12",class:"text-center"},Vz={class:"text-center"},Bz={key:1},Uz={colspan:"12",class:"text-center"},qz={class:"text-center"},Hz={class:"px-1"},zz={key:0,class:"form-check"},Wz=["id","onChange"],Kz={key:0,class:"text-primary text-decoration-underline"},Gz=["onClick"],Qz={key:1,class:"text-primary"},Zz=["onClick"],Jz={href:"javascript:;"},Xz={class:"text-success"},eW={class:""},tW={class:""},oW={class:""},aW={class:""},nW={class:""},sW={class:"d-inline-block"},lW=["id","data-bs-target"],iW=["id","data-bs-target"],rW=["id","data-bs-target"],dW=["id","data-bs-target"],cW=["id","data-bs-target"],uW=["id","data-bs-target"],_W=["id","data-bs-target"],mW=["id","data-bs-target"],fW={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},hW={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},pW={class:"modal-content"},vW={class:"modal-body"},gW={class:"d-flex justify-content-center"},bW={class:"dropdown-menu dropdown-menu-end"},yW=["onClick"],kW={key:0},$W=["href"],wW=["onClick"],DW={class:"dropdown-item badge bg-label-success"},xW={key:2},CW=["onClick"],PW=["onClick"],EW={class:"dropdown-item badge bg-label-info"},AW=["onClick"],IW={class:"dropdown-item badge bg-label-warning"},RW=["id"],SW={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},TW={class:"modal-content"},jW={class:"modal-header"},OW={class:"modal-title",id:"modalCenterTitle"},MW=["id"],LW=["onSubmit"],NW={class:"modal-body"},FW={for:"reason",class:"form-label"},YW={class:"modal-footer"},VW={class:"btn btn-danger",type:"submit"},BW=["id"],UW={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},qW={class:"modal-content"},HW={class:"modal-header"},zW={class:"modal-title",id:"modalCenterTitle"},WW={class:"d-flex"},KW=["href"],GW=["href"],QW={class:"modal-body"},ZW={class:"d-flex justify-content-between"},JW={class:"mb-3 w-50"},XW={class:"d-flex justify-content-between"},eK={class:"fw-light my-auto"},tK={class:"fw-bold mx-2 my-auto"},oK={class:"d-flex justify-content-between"},aK={class:"fw-light my-auto"},nK={class:"fw-bold mx-2 my-auto"},sK={class:"d-flex justify-content-between"},lK={class:"fw-light my-auto"},iK={class:"fw-bold mx-2 my-auto"},rK={class:"d-flex justify-content-between"},dK={class:"fw-light my-auto"},cK={key:0,class:"d-flex justify-content-between"},uK={class:"fw-light my-auto"},_K={class:"fw-bold mx-2 my-auto"},mK={class:"mb-3"},fK={class:"d-flex justify-content-between"},hK={class:"my-auto fw-light"},pK={class:"fw-bold mx-2 my-auto"},vK={class:"d-flex justify-content-between"},gK={class:"my-auto fw-light"},bK={class:"fw-bold mx-2 my-auto"},yK={class:"d-flex justify-content-between"},kK={class:"my-auto fw-light"},$K={class:"fw-bold mx-2 my-auto"},wK={class:"d-flex justify-content-between"},DK={class:"my-auto fw-light"},xK={class:"fw-bold text-success mx-2 my-auto"},CK={class:"table-responsive"},PK={class:"table"},EK={class:"bg-label-secondary px-2"},AK={class:"d-flex justify-content-end"},IK={class:"mx-2 my-auto py-1"},RK={class:"text-success my-auto py-1"},SK=["id"],TK={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jK={class:"modal-content"},OK={class:"modal-header"},MK={class:"modal-title"},LK=["id"],NK=["id"],FK={class:"modal-body"},YK={class:"form-group"},VK={for:"Sub total",class:"form-label"},BK={key:0},UK={for:""},qK=["onUpdate:modelValue"],HK={key:1},zK={for:""},WK=["onUpdate:modelValue"],KK={class:"form-group"},GK={for:"Sub total",class:"form-label"},QK={key:0,class:"mt-2"},ZK={class:"text-sm"},JK={class:"mx-2 my-auto py-1"},XK={key:0,class:"text-success my-auto py-1"},eG={key:1,class:"text-success my-auto py-1"},tG={class:"modal-footer"},oG={class:"btn btn-primary",type:"submit"},aG=["id"],nG={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},sG={class:"modal-content"},lG={class:"modal-header"},iG={class:"modal-title",id:"modalCenterTitle"},rG={class:"modal-body"},dG={class:"table"},cG={class:""},uG=["id"],_G={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},mG={class:"modal-content"},fG={class:"modal-header"},hG={class:"modal-title",id:"modalCenterTitle"},pG={class:"modal-body"},vG={key:0,class:"d-flex"},gG={class:"text-success",style:{"font-weight":"800"}},bG={class:"text-danger",style:{"font-weight":"800"}},yG={key:0,class:"d-flex"},kG={class:"text-success",style:{"font-weight":"800"}},$G={key:1,class:""};function wG(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",nH,[e("div",sH,[e("div",lH,[e("div",iH,[e("label",rH,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",dH,[e("label",cH,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",uH,[e("label",_H,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[22]||(a[22]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",mH,[e("label",fH,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[23]||(a[23]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",hH,[e("label",pH,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",vH,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",gH,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",bH,n(o.$t("Approved")),1),e("option",yH,n(o.$t("Rejected")),1),e("option",kH,n(o.$t("Overdue")),1),e("option",$H,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",wH,[e("label",DH,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",xH,n(o.$t("Pending")),1),e("option",CH,n(o.$t("Submitted")),1),e("option",PH,n(o.$t("Financed")),1),e("option",EH,n(o.$t("Disbursed")),1),e("option",AH,n(o.$t("Closed")),1),e("option",IH,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",RH,[e("label",SH,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",TH,n(o.$t("Sort By")),1),e("option",jH,n(o.$t("PO No. (ASC)")),1),e("option",OH,n(o.$t("PO No. (DESC)")),1),e("option",MH,n(o.$t("Invoice No. (ASC)")),1),e("option",LH,n(o.$t("Invoice No. (DESC)")),1),e("option",NH,n(o.$t("Invoice Amount. (ASC)")),1),e("option",FH,n(o.$t("Invoice Amount. (DESC)")),1),e("option",YH,n(o.$t("Due Date. (ASC)")),1),e("option",VH,n(o.$t("Due Date. (DESC)")),1),e("option",BH,n(o.$t("Vendor. (ASC)")),1),e("option",UH,n(o.$t("Vendor. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",qH,[e("label",HH,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",zH,n(o.$t("Bulk Actions")),1),e("option",WH,n(o.$t("Approve")),1),e("option",KH,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",GH,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",QH,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[25]||(a[25]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",ZH,n(o.$t("Approve")),1),e("div",JH,[e("div",XH,[e("div",ez,[e("div",tz,[e("h5",oz,n(o.$t("Confirm Approval")),1),a[26]||(a[26]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",az,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",nz,[e("table",sz,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",lz,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",iz,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",rz,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,dz)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",cz,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",uz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,_z),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",mz,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",fz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,hz),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",pz,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",vz,[Y(e("input",{readonly:!i.can_edit_fees,class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,gz),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",bz,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",yz,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,kz)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",$z,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,wz)])],32)):b("",!0)])])]),e("button",Dz,n(o.$t("Reject")),1),e("div",xz,[e("div",Cz,[e("div",Pz,[e("div",Ez,[e("h5",Az,n(o.$t("Confirm Rejection")),1),a[27]||(a[27]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",Iz,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",Rz,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",Sz,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,Tz)])],32)])])])]),e("div",jz,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},[a[29]||(a[29]=e("i",{class:"ti ti-download"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Oz,[e("table",Mz,[e("thead",null,[e("tr",null,[e("th",Lz,[e("div",Nz,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Fz,[e("td",Yz,[e("span",Vz,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Bz,[e("td",Uz,[e("span",qz,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",Hz,[i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",zz,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,Wz)])):b("",!0)]),e("td",null,n(i.company),1),i.purchase_order_number?(u(),f("td",Kz,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,Gz)])):(u(),f("td",Qz,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Jz,n(i.invoice_number),1)],8,Zz),e("td",Xz,[le(n(i.currency)+" ",1),e("span",eW,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",tW,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",oW,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",aW,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",nW,[e("div",sW,[a[32]||(a[32]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,lW),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,iW),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,rW),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,dW),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,cW),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,uW),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,_W),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,mW),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",fW,[e("div",hW,[e("div",pW,[e("div",vW,[e("div",gW,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",bW,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-2",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,yW)]),i.can_edit?(u(),f("li",kW,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,$W)])):b("",!0),i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",DW,n(o.$t("Approve")),1)],8,wW)):b("",!0),i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",xW,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,CW)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",EW,n(o.$t("Checker Approvals")),1)],8,PW),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:"mb-2"},[e("span",IW,n(o.$t("Authorization Matrix")),1)],8,AW)):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",SW,[e("div",TW,[e("div",jW,[e("h5",OW,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,MW)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",NW,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",FW,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",YW,[e("button",VW,n(o.$t("Confirm")),1)])],40,LW)])])],8,RW),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",UW,[e("div",qW,[e("div",HW,[e("h5",zW,n(o.$t("Purchase Order")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",WW,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[34]||(a[34]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,KW)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[35]||(a[35]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,GW)):b("",!0)])]),e("div",QW,[e("div",ZW,[e("div",JW,[e("span",XW,[e("h5",eK,n(o.$t("Vendor"))+":",1),e("h6",tK,n(t.purchase_order_details.company.name),1)]),e("span",oK,[e("h5",aK,n(o.$t("Delivery Address"))+":",1),e("h6",nK,n(t.purchase_order_details.delivery_address),1)]),e("span",sK,[e("h5",lK,n(o.$t("Remarks"))+":",1),e("h6",iK,n(t.purchase_order_details.remarks),1)]),e("span",rK,[e("h5",dK,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",cK,[e("h5",uK,n(o.$t("Rejection Reason"))+":",1),e("h6",_K,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",mK,[e("span",fK,[e("h5",hK,n(o.$t("PO No"))+":",1),e("h6",pK,n(t.purchase_order_details.purchase_order_number),1)]),e("span",vK,[e("h5",gK,n(o.$t("Start Date"))+":",1),e("h6",bK,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",yK,[e("h5",kK,n(o.$t("End Date"))+":",1),e("h6",$K,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",wK,[e("h5",DK,n(o.$t("PO Amount"))+":",1),e("h6",xK,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",CK,[e("table",PK,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",EK,[e("span",AK,[e("h6",IK,n(o.$t("Total")),1),e("h5",RK,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,BW)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",TK,[e("div",jK,[e("div",OK,[e("h5",MK,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,LK)]),e("form",{onSubmit:a[21]||(a[21]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",FK,[e("div",YK,[e("label",VK,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d==="percentage"?(u(),f("div",BK,[e("label",UK,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[18]||(a[18]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,qK),[[X,t.invoice_taxes[p]]])])):b("",!0),d==="amount"?(u(),f("div",HK,[e("label",zK,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,WK),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",KK,[e("label",GK,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",QK,[e("h5",ZK,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",JK,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",XK," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",eG,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",tG,[e("button",oG,n(o.$t("Submit")),1)])],40,NK)])])],8,SK)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",nG,[e("div",sG,[e("div",lG,[e("h5",iG,n(o.$t("Checker Approval(s)")),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rG,[e("table",dG,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(G,{key:0},[e("td",cG,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,aG)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:5,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",_G,[e("div",mG,[e("div",fG,[e("h5",hG,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",pG,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",vG,[e("span",gG,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[39]||(a[39]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",bG,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",yG,[e("span",kG,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",$G,n(d.user.name),1))]))),128))])])])],8,uG)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const DG=Ue(aH,[["render",wG]]),xG={name:"InvoicesView",components:{Invoices:DG,PendingInvoices:oH},setup(){const o=h(null),a=h(null);return Qe(()=>{o.value.getInvoices()}),{invoices:o,pending_invoices:a,switchTabs:t=>{switch(t){case"invoices":o.value.getInvoices();break;case"pending_invoices":a.value.getInvoices();break}}}}},CG={class:"nav-align-top nav-tabs-shadow mb-4"},PG={class:"nav nav-tabs",role:"tablist"},EG={class:"nav-item"},AG={class:"nav-item"},IG={class:"tab-content"},RG={class:"tab-pane fade show active",id:"navs-all-invoices",role:"tabpanel"},SG={class:"tab-pane fade show",id:"navs-pending-invoices",role:"tabpanel"};function TG(o,a,s,t,c,m){const _=ce("invoices"),l=ce("pending-invoices");return u(),f("div",CG,[e("ul",PG,[e("li",EG,[e("button",{type:"button",class:"nav-link active text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices","aria-controls":"navs-all-invoices","aria-selected":"true",onClick:a[0]||(a[0]=r=>t.switchTabs("invoices"))},n(o.$t("All Invoices")),1)]),e("li",AG,[e("button",{type:"button",class:"nav-link text-sm text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pending-invoices","aria-controls":"navs-pending-invoices","aria-selected":"false",onClick:a[1]||(a[1]=r=>t.switchTabs("pending_invoices"))},n(o.$t("Pending")),1)])]),e("div",IG,[e("div",RG,[Be(_,{ref:"invoices"},null,512)]),e("div",SG,[Be(l,{ref:"pending_invoices"},null,512)])])])}const jG=Ue(xG,[["render",TG]]),OG={name:"Vendors",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:s.value}}).then(i=>{a.value=i.data})},m=async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:s.value,vendor:t.value}}).then(i=>{a.value=i.data})},_=async()=>{t.value="",await A.get(o+"invoices/vendors/data",{params:{per_page:s.value}}).then(i=>{a.value=i.data})};ot(s,([i])=>{A.get(o+"invoices/vendors/data",{params:{per_page:i,vendor:t.value}}).then(d=>{a.value=d.data})});const l=()=>{A.get(o+"invoices/vendors/data/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value}}).then(i=>{const d=window.URL.createObjectURL(new Blob([i.data])),p=document.createElement("a");p.href=d,p.setAttribute("download",`Vendors_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(p),p.click()}).catch(i=>{console.log(i)})};return Qe(()=>{c()}),{moment:H,vendors:a,vendor_search:t,per_page:s,changePage:async i=>{await A.get(i).then(d=>{a.value=d.data})},filter:m,refresh:_,exportData:l}}},MG={class:"card p-2"},LG={class:"d-flex flex-column flex-md-row justify-content-between"},NG={class:"d-flex flex-wrap gap-1"},FG={class:""},YG={for:"Vendor",class:"form-label"},VG={class:"table-search-btn"},BG={class:"table-clear-btn"},UG={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},qG={class:""},HG={class:"table-responsive p-2"},zG={class:"table"},WG={key:0},KG={colspan:"12",class:"text-center"},GG={class:"text-center"},QG={key:1},ZG={colspan:"12",class:"text-center"},JG={class:"text-center"},XG={class:""};function eQ(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",MG,[e("div",LG,[e("div",NG,[e("div",FG,[e("label",YG,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor_search=l),placeholder:"Search Vendors","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",VG,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BG,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UG,[e("div",qG,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{width:"5rem"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-sm",style:{height:"fit-content"},onClick:a[5]||(a[5]=(...l)=>t.exportData&&t.exportData(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-download ti-sm"},null,-1)]))])]),t.vendors.meta?(u(),me(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",HG,[e("table",zG,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Unique Identification Number")),1),e("th",null,n(o.$t("Payment OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",WG,[e("td",KG,[e("span",GG,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",QG,[e("td",ZG,[e("span",JG,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.company_name),1),e("td",null,n(l.company_unique_identification_number),1),e("td",XG,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),me(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const tQ=Ue(OG,[["render",eQ]]),oQ={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=h(""),p=h([]),v=h(null),g=h(null),w=h([]),y=async()=>{await A.get(a+"purchase-orders/data?per_page="+i.value).then(L=>{s.value=L.data.purchase_orders}).catch(L=>{console.log(L.message)})},x=L=>{let F="";switch(L){case"Pending Checker Approval":F="bg-label-warning";break;case"Pending Maker":F="bg-label-primary";break;case"Pending Checker":F="bg-label-warning";break;case"Accepted":F="bg-label-success";break;case"Rejected":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},C=async(L,F)=>{await A.post(`${a}purchase-orders/approve`,{purchase_order_id:L.id,status:F,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(T=>{console.log(T),o.error("An error occurred")})};Qe(()=>{y()}),ot([i],([L])=>{A.get(a+"purchase-orders/data?per_page="+L,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(F=>{s.value=F.data.purchase_orders}).catch(F=>{console.log(F)})});const E=()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+i.value,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(F=>{s.value=F.data.purchase_orders}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},D=()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",A.get(a+"purchase-orders/data?per_page="+i.value).then(F=>{s.value=F.data.purchase_orders}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})};return ot(d,L=>{p.value.length>0?(w.value=[],L=="approve"&&(p.value.forEach(F=>{w.value.push(s.value.data.filter(T=>T.id==F)[0])}),g.value.click()),L=="reject"&&v.value.click()):o.error("Select POs")}),{moment:H,purchase_orders:s,rejection_reason:t,vendor_search:c,po_search:m,from_date:_,to_date:l,status_search:r,per_page:i,bulk_action:d,filter:E,refresh:D,bulk_action:d,showRejectionModal:v,showApprovalModal:g,selectAll:()=>{p.value=[],document.getElementById("select-all").checked?s.value.data.forEach(L=>{L.user_can_approve&&!L.user_has_approved&&(document.getElementById("data-select-"+L.id).checked=!0,p.value.push(L.id))}):s.value.data.forEach(L=>{if(L.user_can_approve&&!L.user_has_approved){document.getElementById("data-select-"+L.id).checked=!1;let F;if(!p.value.filter(function(P,R){F=R,P==L.id}))return!1;p.value.splice(F,1)}})},updateSelected:L=>{if(p.value.includes(L)){const F=p.value.indexOf(L);p.value.splice(F,1)}else p.value.push(L)},submitBulkAction:L=>{if(p.value.length<=0){o.error("Select Purchase orders");return}const F=new FormData;p.value.forEach(T=>{F.append("purchase_orders[]",T)}),L=="approve"&&F.append("status","approved"),L=="reject"&&(F.append("status","rejected"),F.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",F).then(()=>{o.success("POs updated"),d.value="",t.value="",y(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(T=>{console.log(T),o.error("An error occurred")})},resolveStatus:x,submitApproval:C,changePage:async L=>{await A.get(L+"&per_page="+i.value,{params:{vendor:c.value,po_number:m.value,from_date:_.value,to_date:l.value,status:r.value}}).then(F=>{s.value=F.data.purchase_orders}).catch(F=>{console.log(F)})}}}},aQ={class:"card"},nQ={class:"card-body"},sQ={class:"d-flex flex-column flex-md-row justify-content-between"},lQ={class:"d-flex flex-wrap gap-1"},iQ={class:""},rQ={for:"PO Number",class:"form-label"},dQ={class:""},cQ={for:"PO Number",class:"form-label"},uQ={class:""},_Q={for:"Delivery From",class:"form-label"},mQ={class:""},fQ={for:"Delivery To",class:"form-label"},hQ={class:""},pQ={for:"Status",class:"form-label"},vQ={value:""},gQ={value:"pending"},bQ={value:"approved"},yQ={value:"invoiced"},kQ={value:"rejected"},$Q={class:""},wQ={for:"Bulk Actions",class:"form-label"},DQ={value:""},xQ={value:"approve"},CQ={value:"reject"},PQ={class:"table-search-btn"},EQ={class:"table-clear-btn"},AQ={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},IQ={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},RQ={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},SQ={class:"modal-content"},TQ={class:"modal-header"},jQ={class:"modal-title",id:"modalCenterTitle"},OQ={class:"modal-body"},MQ={class:"modal-footer"},LQ={class:"btn btn-primary",type:"submit"},NQ={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},FQ={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},YQ={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},VQ={class:"modal-content"},BQ={class:"modal-header"},UQ={class:"modal-title",id:"modalCenterTitle"},qQ={class:"modal-body"},HQ={class:"row mb-1"},zQ={class:"form-group"},WQ={for:""},KQ={class:"modal-footer"},GQ={class:"btn btn-primary",type:"submit"},QQ={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},ZQ={class:""},JQ={class:"table-responsive p-2"},XQ={class:"table dt-invoices"},eZ={class:"form-check"},tZ={key:0},oZ={colspan:"12",class:"text-center"},aZ={class:"text-center"},nZ={key:1},sZ={colspan:"12",class:"text-center"},lZ={class:"text-center"},iZ={class:"form-check"},rZ=["id","onChange"],dZ=["data-bs-target"],cZ={class:"text-success"},uZ={class:"text-success"},_Z={class:""},mZ={class:""},fZ={class:""},hZ={class:"d-inline-block"},pZ={class:"dropdown-menu dropdown-menu-end m-0"},vZ=["onClick"],gZ={class:"dropdown-item badge bg-label-success pt-1"},bZ={key:1},yZ=["href"],kZ={key:2,class:"dropdown-item pb-1"},$Z=["href"],wZ=["id"],DZ={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},xZ={class:"modal-content"},CZ={class:"modal-header"},PZ={class:"modal-title",id:"modalCenterTitle"},EZ={class:"d-flex"},AZ=["href"],IZ=["href"],RZ={class:"modal-body"},SZ={class:"d-flex justify-content-between"},TZ={class:"mb-3 w-50"},jZ={class:"d-flex justify-content-between"},OZ={class:"fw-light my-auto"},MZ={class:"fw-bold mx-2 my-auto"},LZ={class:"d-flex justify-content-between"},NZ={class:"fw-light my-auto"},FZ={class:"fw-bold mx-2 my-auto"},YZ={class:"d-flex justify-content-between"},VZ={class:"fw-light my-auto"},BZ={class:"fw-bold mx-2 my-auto"},UZ={class:"d-flex justify-content-between"},qZ={class:"fw-light my-auto"},HZ={key:0,class:"d-flex justify-content-between"},zZ={class:"fw-light my-auto"},WZ={class:"fw-bold mx-2 my-auto"},KZ={class:"mb-3"},GZ={class:"d-flex justify-content-between"},QZ={class:"my-auto fw-light"},ZZ={class:"fw-bold mx-2 my-auto"},JZ={class:"d-flex justify-content-between"},XZ={class:"my-auto fw-light"},eJ={class:"fw-bold mx-2 my-auto"},tJ={class:"d-flex justify-content-between"},oJ={class:"my-auto fw-light"},aJ={class:"fw-bold mx-2 my-auto"},nJ={class:"d-flex justify-content-between"},sJ={class:"my-auto fw-light"},lJ={class:"fw-bold text-success mx-2 my-auto"},iJ={class:"table-responsive"},rJ={class:"table"},dJ={class:"bg-label-secondary px-2"},cJ={class:"d-flex justify-content-end"},uJ={class:"mx-2 my-auto py-1"},_J={class:"text-success my-auto py-1"};function mJ(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",aQ,[e("div",nQ,[e("div",sQ,[e("div",lQ,[e("div",iQ,[e("label",rQ,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",dQ,[e("label",cQ,n(o.$t("PO Number")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"PO No","onUpdate:modelValue":a[2]||(a[2]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.po_search]])]),e("div",uQ,[e("label",_Q,n(o.$t("Delivery From")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[4]||(a[4]=l=>t.from_date=l),onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.from_date]])]),e("div",mQ,[e("label",fQ,n(o.$t("Delivery To")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.to_date=l),onKeyup:a[7]||(a[7]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.to_date]])]),e("div",hQ,[e("label",pQ,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=l=>t.status_search=l)},[e("option",vQ,n(o.$t("Status")),1),e("option",gQ,n(o.$t("Pending")),1),e("option",bQ,n(o.$t("Approved")),1),e("option",yQ,n(o.$t("Invoiced")),1),e("option",kQ,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",$Q,[e("label",wQ,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=l=>t.bulk_action=l)},[e("option",DQ,n(o.$t("Select Bulk Action")),1),e("option",xQ,n(o.$t("Approve")),1),e("option",CQ,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",PQ,[e("button",{class:"btn btn-primary btn-sm",onClick:a[10]||(a[10]=(...l)=>t.filter&&t.filter(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",EQ,[e("button",{class:"btn btn-primary btn-sm",onClick:a[11]||(a[11]=(...l)=>t.refresh&&t.refresh(...l))},a[18]||(a[18]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",AQ,null,512),e("div",IQ,[e("div",RQ,[e("div",SQ,[e("div",TQ,[e("h5",jQ,n(o.$t("Approve Purchase Orders")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[12]||(a[12]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",OQ,[e("h5",null,n(o.$t("Are you sure you want to approve the selected purchase orders"))+"?",1)]),e("div",MQ,[e("button",LQ,n(o.$t("Submit")),1)])],32)])])]),e("button",NQ,null,512),e("div",FQ,[e("div",YQ,[e("div",VQ,[e("div",BQ,[e("h5",UQ,n(o.$t("Reject Selected Purchase Orders")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[14]||(a[14]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",qQ,[e("div",HQ,[e("div",zQ,[e("label",WQ,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",KQ,[e("button",GQ,n(o.$t("Submit")),1)])],32)])])])]),e("div",QQ,[e("div",ZQ,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[15]||(a[15]=l=>t.per_page=l),style:{width:"5rem"}},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",JQ,[e("table",XQ,[e("thead",null,[e("tr",null,[e("th",null,[e("div",eZ,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[16]||(a[16]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[22]||(a[22]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",tZ,[e("td",oZ,[e("span",aZ,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",nZ,[e("td",sZ,[e("span",lZ,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",iZ,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,rZ)):b("",!0)])]),e("td",null,n(l.company.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,dZ),e("td",cZ,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",uZ,n(l.purchase_order_items.length),1),e("td",_Z,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",mZ,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge py-2 mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",fZ,[e("div",hZ,[a[23]||(a[23]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",pZ,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,"data-bs-toggle":"modal",style:{cursor:"pointer"},onClick:r=>t.submitApproval(l,"approve")},[e("span",gZ,n(o.$t("Approve")),1)],8,vZ)):b("",!0),l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",bZ,[e("a",{href:"purchase-orders/"+l.id+"/reject",class:"dropdown-item badge bg-label-danger pb-1"},n(o.$t("Reject")),9,yZ)])):b("",!0),l.attachment?(u(),f("li",kZ,[e("a",{href:l.attachment,target:"_blank",class:"badge bg-label-secondary"},n(o.$t("View Attachment")),9,$Z)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",DZ,[e("div",xZ,[e("div",CZ,[e("h5",PZ,n(o.$t("Purchase Order")),1),a[26]||(a[26]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",EZ,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,AZ)):b("",!0),e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[25]||(a[25]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,IZ)])])]),e("div",RZ,[e("div",SZ,[e("div",TZ,[e("span",jZ,[e("h5",OZ,n(o.$t("Vendor"))+":",1),e("h6",MZ,n(l.company.name),1)]),e("span",LZ,[e("h5",NZ,n(o.$t("Delivery Address"))+":",1),e("h6",FZ,n(l.delivery_address),1)]),e("span",YZ,[e("h5",VZ,n(o.$t("Remarks"))+":",1),e("h6",BZ,n(l.remarks),1)]),e("span",UZ,[e("h5",qZ,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",HZ,[e("h5",zZ,n(o.$t("Rejection Reason"))+":",1),e("h6",WZ,n(l.rejection_reason),1)])):b("",!0)]),e("div",KZ,[e("span",GZ,[e("h5",QZ,n(o.$t("PO No"))+":",1),e("h6",ZZ,n(l.purchase_order_number),1)]),e("span",JZ,[e("h5",XZ,n(o.$t("Start Date"))+":",1),e("h6",eJ,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",tJ,[e("h5",oJ,n(o.$t("End Date"))+":",1),e("h6",aJ,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",nJ,[e("h5",sJ,n(o.$t("PO Amount"))+":",1),e("h6",lJ,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",iJ,[e("table",rJ,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",dJ,[e("span",cJ,[e("h6",uJ,n(o.$t("Total")),1),e("h5",_J,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,wZ)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const fJ=Ue(oQ,[["render",mJ]]),hJ={name:"InvoiceAnalysisReport",components:{Pagination:oo},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("invoice-analysis"),m=h([]),_=h(""),l=h(0),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(null),w="../../../../../assets/img/spinner.svg",y=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(T=>{m.value=T.data}).catch(T=>{console.log(T)})};Qe(()=>{y()});const x=T=>{let P="";switch(T){case"pending":P="bg-label-primary";break;case"financed":P="bg-label-success";break;case"closed":P="bg-label-secondary";break;case"denied":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},C=async(T,P)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+T+"/details").then(R=>{g.value=R.data,bt(()=>{document.getElementById(P).click()})}).catch(R=>{console.log(R)})},E=(T,P)=>(P/T*100).toFixed(2),D=h(!1),k=h(!1),I=()=>{D.value=!0,A.get(s+"reports/report/invoice-analysis/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{D.value=!1})},V=()=>{k.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`Invoices_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{k.value=!1})},B=()=>{let T=$(".ti-search").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),v.value=$("#date_search").val(),v.value&&(r.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get("report",{params:{per_page:t.value,type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})};return ot([t],([T])=>{A.get("report",{params:{per_page:T,type:c.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)})}),{moment:H,invoice_number_search:_,amount_search:l,from_date_search:r,to_date_search:i,disbursement_date_search:d,financing_status_search:p,report:m,invoice_details:g,per_page:t,resolveFinancingStatus:x,changePage:async T=>{await A.get(T,{params:{type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,financing_status:p.value}}).then(P=>{invoices.value=P.data.invoices}).catch(P=>{console.log(P)})},exportReport:I,exportPdfReport:V,refresh:()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value=0,r.value="",i.value="",d.value="",p.value="",v.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:c.value}}).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},filter:B,showInvoice:C,getTaxPercentage:E,downloadingExcel:D,downloadingPdf:k,spinner:w}}},pJ={class:"card p-2"},vJ={class:"d-flex flex-column flex-md-row justify-content-between"},gJ={class:"d-flex flex-wrap gap-1"},bJ={class:""},yJ={for:"Invoice No",class:"form-label mx-1"},kJ={class:""},$J={class:"form-label",for:""},wJ={class:""},DJ={for:"Financing Status",class:"form-label"},xJ={value:""},CJ={value:"pending"},PJ={value:"financed"},EJ={value:"disbursed"},AJ={value:"closed"},IJ={value:"denied"},RJ={class:"table-search-btn"},SJ={class:"table-clear-btn"},TJ={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},jJ={class:""},OJ={key:0,class:"d-flex"},MJ=["src"],LJ={key:0,class:"d-flex"},NJ=["src"],FJ={class:"table-responsive"},YJ={class:"table"},VJ={class:""},BJ={class:"table-border-bottom-0"},UJ={key:0},qJ={colspan:"12",class:"text-center"},HJ={class:"text-center"},zJ={key:1},WJ={colspan:"12",class:"text-center"},KJ={class:"text-center"},GJ=["onClick"],QJ={class:""},ZJ={class:"text-success"},JJ=["id","data-bs-target"],XJ={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},eX={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},tX={class:"modal-content"},oX={class:"modal-body"},aX={class:"d-flex justify-content-center"},nX=["id"],sX={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lX={class:"modal-content"},iX={class:"modal-header"},rX={class:"modal-title",id:"modalCenterTitle"},dX={class:"d-flex"},cX={key:0,class:"d-flex"},uX=["href"],_X=["href"],mX={class:"modal-body"},fX={class:"d-flex justify-content-between"},hX={class:"mb-3"},pX={class:"d-flex justify-content-between"},vX={key:0,class:"fw-light my-auto"},gX={key:1,class:"fw-light my-auto"},bX={key:2,class:"fw-bold mx-2 my-auto text-end"},yX={key:3,class:"fw-bold mx-2 my-auto text-end"},kX={class:"d-flex"},$X={class:"fw-light my-auto"},wX={class:"fw-bold mx-2 my-auto"},DX={key:0,class:"d-flex justify-content-between"},xX={class:"fw-light my-auto"},CX={class:"fw-bold mx-2 my-auto"},PX={key:1,class:"d-flex justify-content-between"},EX={class:"fw-light my-auto"},AX={class:"fw-bold mx-2 my-auto"},IX={class:"mb-3"},RX={key:0,class:"d-flex justify-content-between"},SX={class:"my-auto fw-light"},TX=["data-bs-target"],jX={class:"d-flex justify-content-between"},OX={class:"my-auto fw-light"},MX={class:"fw-bold mx-2 my-auto"},LX={class:"d-flex justify-content-between"},NX={class:"my-auto fw-light"},FX={key:0,class:"fw-bold text-success mx-2 my-auto"},YX={key:1,class:"fw-bold text-success mx-2 my-auto"},VX={class:"d-flex justify-content-between"},BX={class:"my-auto fw-light"},UX={class:"fw-bold mx-2 my-auto"},qX={key:0,class:"table-responsive"},HX={class:"table"},zX={key:1,class:"px-2"},WX={class:"d-flex justify-content-end"},KX={class:"mx-2 my-auto"},GX={class:"text-success my-auto"},QX={key:2,class:"px-2"},ZX={class:"mx-2 my-auto"},JX={class:"text-success my-auto"},XX={class:"bg-label-secondary px-2"},eee={class:"d-flex justify-content-end"},tee={key:0,class:"mx-2 my-auto py-1"},oee={key:1,class:"mx-2 my-auto py-1"},aee={key:2,class:"text-success my-auto py-1"},nee={key:3,class:"text-success my-auto py-1"},see={class:"modal-footer"},lee=["id"],iee={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ree={class:"modal-content"},dee={class:"modal-header"},cee={class:"modal-title",id:"modalCenterTitle"},uee={class:"d-flex"},_ee={key:0,class:"d-flex"},mee=["href"],fee=["href"],hee={class:"modal-body"},pee={class:"d-flex justify-content-between"},vee={class:"mb-3"},gee={class:"d-flex justify-content-between"},bee={key:0,class:"fw-light my-auto"},yee={key:1,class:"fw-light my-auto"},kee={key:2,class:"fw-bold mx-2 my-auto text-end"},$ee={key:3,class:"fw-bold mx-2 my-auto text-end"},wee={class:"d-flex"},Dee={class:"fw-light my-auto"},xee={class:"fw-bold mx-2 my-auto"},Cee={key:0,class:"d-flex justify-content-between"},Pee={class:"fw-light my-auto"},Eee={class:"fw-bold mx-2 my-auto"},Aee={key:1,class:"d-flex justify-content-between"},Iee={class:"fw-light my-auto"},Ree={class:"fw-bold mx-2 my-auto"},See={class:"mb-3"},Tee={class:"d-flex justify-content-between"},jee={class:"my-auto fw-light"},Oee=["data-bs-target"],Mee={class:"d-flex justify-content-between"},Lee={class:"my-auto fw-light"},Nee={key:0,class:"fw-bold text-success mx-2 my-auto"},Fee={key:1,class:"fw-bold text-success mx-2 my-auto"},Yee={class:"d-flex justify-content-between"},Vee={class:"my-auto fw-light"},Bee={class:"fw-bold mx-2 my-auto"},Uee={key:0,class:"table-responsive"},qee={class:"table"},Hee={key:1,class:"px-2"},zee={class:"d-flex justify-content-end"},Wee={class:"mx-2 my-auto"},Kee={class:"text-success my-auto"},Gee={key:2,class:"px-2"},Qee={class:"mx-2 my-auto"},Zee={class:"text-success my-auto"},Jee={key:3,class:"px-2"},Xee={class:"mx-2 my-auto py-1"},ete={key:0,class:"text-success my-auto py-1"},tte={key:1,class:"text-success my-auto py-1"},ote={class:"bg-label-secondary px-2"},ate={class:"d-flex justify-content-end"},nte={key:0,class:"mx-2 my-auto py-1"},ste={key:1,class:"mx-2 my-auto py-1"},lte={key:2,class:"text-success my-auto py-1"},ite={key:3,class:"text-success my-auto py-1"};function rte(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",pJ,[e("div",vJ,[e("div",gJ,[e("div",bJ,[e("label",yJ,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",kJ,[e("label",$J,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",wJ,[e("label",DJ,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.financing_status_search=l)},[e("option",xJ,n(o.$t("Status")),1),e("option",CJ,n(o.$t("Pending")),1),e("option",PJ,n(o.$t("Financed")),1),e("option",EJ,n(o.$t("Disbursed")),1),e("option",AJ,n(o.$t("Closed")),1),e("option",IJ,n(o.$t("Denied")),1)],512),[[de,t.financing_status_search]])]),e("div",RJ,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",SJ,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",TJ,[e("div",jJ,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,MJ)):(u(),f("span",OJ,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,NJ)):(u(),f("span",LJ,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",FJ,[e("table",YJ,[e("thead",null,[e("tr",VJ,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice Amount")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",BJ,[t.report.data?b("",!0):(u(),f("tr",UJ,[e("td",qJ,[e("span",HJ,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",zJ,[e("td",WJ,[e("span",KJ,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.id,"show-invoice-"+l.id),style:{cursor:"pointer"}},n(l.invoice_number),9,GJ),e("td",null,n(t.moment(l.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(l.disbursement_date?t.moment(l.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(l.financing_status)])},n(l.financing_status),3)]),e("td",QJ,n(l.company),1),e("td",ZJ,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),e("td",null,[e("button",{class:"d-none","aria-hidden":"true",id:"show-invoice-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,JJ),a[23]||(a[23]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",XJ,[e("div",eX,[e("div",tX,[e("div",oX,[e("div",aX,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",sX,[e("div",lX,[e("div",iX,[e("h5",rX,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",dX,[t.invoice_details.media.length>0?(u(),f("div",cX,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,uX))),128))])):b("",!0),e("a",{href:"../invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,_X)])]),e("div",mX,[e("div",fX,[e("div",hX,[e("span",pX,[t.invoice_details.buyer?(u(),f("h5",vX,n(o.$t("Buyer"))+":",1)):(u(),f("h5",gX,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",bX,n(t.invoice_details.buyer.name),1)):(u(),f("h6",yX,n(t.invoice_details.company.name),1))]),e("span",kX,[e("h5",$X,n(o.$t("Remarks"))+":",1),e("h6",wX,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",DX,[e("h5",xX,n(o.$t("Credit To"))+":",1),e("h6",CX,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",PX,[e("h5",EX,n(o.$t("Rejection Reason"))+":",1),e("h6",AX,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",IX,[t.invoice_details.pi_number?(u(),f("span",RX,[e("h5",SX,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,TX)])):b("",!0),e("span",jX,[e("h5",OX,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",MX,n(t.invoice_details.invoice_number),1)]),e("span",LX,[e("h5",NX,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",YX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",FX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",VX,[e("h5",BX,n(o.$t("Invoice Due Date"))+":",1),e("h6",UX,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",qX,[e("table",HX,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",zX,[e("span",WX,[e("h6",KX,n(o.$t("Total Invoice Discount")),1),e("h5",GX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",QX,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",ZX,n(r.name),1),e("h5",JX,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",XX,[e("span",eee,[t.invoice_details.drawdown_amount?(u(),f("h6",oee,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",tee,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",nee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",aee,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1))])])]),e("div",see,[!t.invoice_details.user_has_approved&&(t.invoice_details.status=="pending"||t.invoice_details.status=="created")?(u(),f("a",{key:0,href:"javascript:;",onClick:a[8]||(a[8]=r=>o.requestApproval(o.invoice)),class:"btn btn-primary"},n(o.$t("Approve")),1)):b("",!0)])])])],8,nX)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+l.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",iee,[e("div",ree,[e("div",dee,[e("h5",cee,n(o.$t("Invoice Details")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",uee,[t.invoice_details.media.length>0?(u(),f("div",_ee,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,mee))),128))])):b("",!0),e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,fee)])]),e("div",hee,[e("div",pee,[e("div",vee,[e("span",gee,[t.invoice_details.buyer?(u(),f("h5",bee,n(o.$t("Buyer"))+":",1)):(u(),f("h5",yee,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",kee,n(t.invoice_details.buyer.name),1)):(u(),f("h6",$ee,n(t.invoice_details.company.name),1))]),e("span",wee,[e("h5",Dee,n(o.$t("Remarks"))+":",1),e("h6",xee,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Cee,[e("h5",Pee,n(o.$t("Credit To"))+":",1),e("h6",Eee,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Aee,[e("h5",Iee,n(o.$t("Rejection Reason"))+":",1),e("h6",Ree,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",See,[e("span",Tee,[e("h5",jee,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Oee)]),e("span",Mee,[e("h5",Lee,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Fee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Nee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Yee,[e("h5",Vee,n(o.$t("Invoice Due Date"))+":",1),e("h6",Bee,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",Uee,[e("table",qee,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",Hee,[e("span",zee,[e("h6",Wee,n(o.$t("Total Invoice Discount")),1),e("h5",Kee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",Gee,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Qee,n(r.name),1),e("h5",Zee,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",Jee,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Xee,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",ete," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",tte,n(r.amount),1))]))),128))])):b("",!0),e("div",ote,[e("span",ate,[t.invoice_details.drawdown_amount?(u(),f("h6",ste,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",nte,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",ite,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",lte,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1))])])])])])],8,lee)):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const y5=Ue(hJ,[["render",rte]]),dte={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("all-invoices"),m=h([]),_=h(""),l=h(0),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w="../../../../../assets/img/spinner.svg",y=h(null),x=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(R=>{m.value=R.data}).catch(R=>{console.log(R)})},C=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+R+"/details").then(N=>{y.value=N.data,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})},E=(R,O)=>(O/R*100).toFixed(2);Qe(()=>{x()});const D=R=>{let O="";if(R.days_past_due>0)O="bg-label-danger";else switch(R.status){case"pending":O="bg-label-primary";break;case"sent":O="bg-label-secondary";break;case"approved":O="bg-label-success";break;case"denied":O="bg-label-danger";break;case"Rejected":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},k=R=>{let O="";switch(R){case"pending":O="bg-label-primary";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+"reports/report/all-invoices/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+"reports/all-invoices/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!0})};return ot([t],([R])=>{A.get("report",{params:{per_page:R,type:c.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)})}),{moment:H,invoice_number_search:_,amount_search:l,from_date_search:r,to_date_search:i,disbursement_date_search:d,status_search:p,financing_status_search:v,report:m,per_page:t,invoice_details:y,resolveStatus:D,resolveFinancingStatus:k,changePage:async R=>{await A.get(R,{params:{type:c.value,per_page:t.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)})},exportReport:B,exportPdfReport:L,filter:()=>{g.value=$("#date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get("report",{params:{per_page:t.value,type:c.value,invoice_number:_.value,invoice_amount:l.value,from_date:r.value,to_date:i.value,disbursement_date:d.value,status:p.value,financing_status:v.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},refresh:()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value=0,r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:c.value}}).then(O=>{m.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},showInvoice:C,getTaxPercentage:E,downloadingExcel:I,downloadingPdf:V,spinner:w}}},cte={class:"card p-2"},ute={class:"d-flex flex-column flex-md-row justify-content-between"},_te={class:"d-flex flex-wrap gap-1"},mte={class:""},fte={for:"Invoice No",class:"form-label mx-1"},hte={class:""},pte={class:"form-label",for:""},vte={class:""},gte={for:"Status",class:"form-label"},bte={value:""},yte={value:"pending"},kte={value:"submitted"},$te={value:"approved"},wte={value:"disbursed"},Dte={value:"denied"},xte={value:"past_due"},Cte={value:"expired"},Pte={class:""},Ete={for:"Financing Status",class:"form-label"},Ate={value:""},Ite={value:"pending"},Rte={value:"financed"},Ste={value:"closed"},Tte={value:"denied"},jte={class:"table-search-btn"},Ote={class:"table-clear-btn"},Mte={class:"d-flex justify-content-md-end flex-wrap gap-1 mt-2 mt-md-auto"},Lte={class:""},Nte={key:0,class:"d-flex"},Fte=["src"],Yte={key:0,class:"d-flex"},Vte=["src"],Bte={class:"table-responsive"},Ute={class:"table"},qte={class:""},Hte={class:"table-border-bottom-0"},zte={key:0},Wte={colspan:"12",class:"text-center"},Kte={class:"text-center"},Gte={key:1},Qte={colspan:"12",class:"text-center"},Zte={class:"text-center"},Jte={class:""},Xte=["onClick"],eoe={class:"text-success"},toe={key:0},ooe={key:1},aoe=["id","data-bs-target"],noe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},soe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},loe={class:"modal-content"},ioe={class:"modal-body"},roe={class:"d-flex justify-content-center"};function doe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",cte,[e("div",ute,[e("div",_te,[e("div",mte,[e("label",fte,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),id:"form-search",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",hte,[e("label",pte,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",vte,[e("label",gte,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",bte,n(o.$t("Status")),1),e("option",yte,n(o.$t("Pending")),1),e("option",kte,n(o.$t("Submitted")),1),e("option",$te,n(o.$t("Approved")),1),e("option",wte,n(o.$t("Disbursed")),1),e("option",Dte,n(o.$t("Rejected")),1),e("option",xte,n(o.$t("Overdue")),1),e("option",Cte,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",Pte,[e("label",Ete,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.financing_status_search=i)},[e("option",Ate,n(o.$t("Status")),1),e("option",Ite,n(o.$t("Pending")),1),e("option",Rte,n(o.$t("Financed")),1),e("option",Ste,n(o.$t("Closed")),1),e("option",Tte,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",jte,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ote,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mte,[e("div",Lte,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Fte)):(u(),f("span",Nte,[a[13]||(a[13]=e("i",{class:"ti ti-download px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Vte)):(u(),f("span",Yte,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Bte,[e("table",Ute,[e("thead",null,[e("tr",qte,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",Hte,[t.report.data?b("",!0):(u(),f("tr",zte,[e("td",Wte,[e("span",Kte,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Gte,[e("td",Qte,[e("span",Zte,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Jte,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-invoice-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Xte),e("td",eoe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i)])},n(i.days_past_due>0?"Overdue":i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",toe,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",ooe,"-")),e("td",null,[e("button",{class:"d-none",id:"show-invoice-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,aoe),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",noe,[e("div",soe,[e("div",loe,[e("div",ioe,[e("div",roe,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const k5=Ue(dte,[["render",doe]]),coe={name:"VendorAnalysisReport",components:{Pagination:oo},setup(o,a){const s=h(50),t=h("vendor-analysis"),c=h([]),m=h(""),_="../../../../../assets/img/spinner.svg",l=()=>{A.get("report",{params:{per_page:s.value,type:t.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})};Qe(()=>{l()});const r=h(!1),i=()=>{r.value=!0,A.get("../report/vendor-analysis/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Vendors_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)}).finally(()=>{r.value=!1})},d=()=>{A.get("report",{params:{per_page:s.value,type:t.value,vendors:m.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})},p=()=>{m.value="",A.get("report",{params:{per_page:s.value,type:t.value}}).then(g=>{c.value=g.data}).catch(g=>{console.log(g)})};return ot([s],([g])=>{A.get("report",{params:{per_page:g,type:t.value}}).then(w=>{c.value=w.data}).catch(w=>{console.log(w)})}),{moment:H,report:c,vendors_search:m,per_page:s,changePage:async g=>{await A.get(g,{params:{type:t.value,vendors:m.value}}).then(w=>{c.value=w.data}).catch(w=>{console.log(w)})},exportReport:i,filter:d,refresh:p,downloadingExcel:r,spinner:_}}},uoe={class:"card p-2"},_oe={class:"d-flex flex-column flex-md-row justify-content-between"},moe={class:"d-flex flex-wrap gap-1"},foe={class:""},hoe={class:"table-search-btn"},poe={class:"table-clear-btn"},voe={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},goe={class:""},boe={key:0,class:"d-flex"},yoe=["src"],koe={class:"table-responsive"},$oe={class:"table"},woe={class:"text-nowrap"},Doe={class:"table-border-bottom-0"},xoe={key:0},Coe={colspan:"12",class:"text-center"},Poe={class:"text-center"},Eoe={key:1},Aoe={colspan:"12",class:"text-center"},Ioe={class:"text-center"},Roe={class:"text-primary"},Soe={class:"text-success"},Toe={class:"text-success"},joe={class:"text-success"},Ooe={class:"text-success"};function Moe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",uoe,[e("div",_oe,[e("div",moe,[e("div",foe,[Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendors_search=l),id:"defaultFormControlInput",placeholder:"Vendor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendors_search]])]),e("div",hoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",poe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",voe,[e("div",goe,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,yoe)):(u(),f("span",boe,[a[9]||(a[9]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",koe,[e("table",$oe,[e("thead",null,[e("tr",woe,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Vendor Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1)])]),e("tbody",Doe,[t.report.data?b("",!0):(u(),f("tr",xoe,[e("td",Coe,[e("span",Poe,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Eoe,[e("td",Aoe,[e("span",Ioe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",Roe,n(l.name),1)]),e("td",Soe,n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit)),1),e("td",Toe,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",joe,n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit-l.utilized_amount)),1),e("td",Ooe,n(new Intl.NumberFormat().format(l.pipeline_amount)),1)]))),128))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const $5=Ue(coe,[["render",Moe]]),Loe={name:"MaturingInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("maturing-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v=h(0),g=h(0),w=h(0),y=h(0),x=h(0),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B="../../../../../assets/img/spinner.svg",L=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(J=>{g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,V.value=0,m.value=J.data,m.value.data.forEach(K=>{g.value+=K.total_due,w.value+=K.due_today,y.value+=K.due_seven_days,x.value+=K.due_fourteen_days,C.value+=K.due_twenty_one_days,E.value+=K.due_thirty_days,D.value+=K.due_fourty_five_days,k.value+=K.due_sixty_days,I.value+=K.due_seventy_five_days,V.value+=K.due_ninety_days})}).catch(J=>{console.log(J)})},F=async(J,K)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+J+"/details").then(z=>{p.value=z.data,v.value++,bt(()=>{document.getElementById(K).click()})}).catch(z=>{console.log(z)})},T=(J,K)=>(K/J*100).toFixed(2);Qe(()=>{L()});const P=J=>{let K="";switch(J){case"pending":K="bg-label-primary";break;case"submitted":K="bg-label-warning";break;case"financed":K="bg-label-success";break;case"closed":K="bg-label-secondary";break;case"denied":K="bg-label-danger";break;default:K="bg-label-primary";break}return K},R=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,from_date:r.value,to_date:i.value}}).then(J=>{g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,V.value=0,m.value=J.data,m.value.data.forEach(K=>{g.value+=K.total_due,w.value+=K.due_today,y.value+=K.due_seven_days,x.value+=K.due_fourteen_days,C.value+=K.due_twenty_one_days,E.value+=K.due_thirty_days,D.value+=K.due_fourty_five_days,k.value+=K.due_sixty_days,I.value+=K.due_seventy_five_days,V.value+=K.due_ninety_days})}).catch(J=>{console.log(J)})},O=async()=>{l.value="",_.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(J=>{g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,V.value=0,m.value=J.data,m.value.data.forEach(K=>{g.value+=K.total_due,w.value+=K.due_today,y.value+=K.due_seven_days,x.value+=K.due_fourteen_days,C.value+=K.due_twenty_one_days,E.value+=K.due_thirty_days,D.value+=K.due_fourty_five_days,k.value+=K.due_sixty_days,I.value+=K.due_seventy_five_days,V.value+=K.due_ninety_days})}).catch(J=>{console.log(J)})},N=h(!1),S=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,vendor:l,from_date:r,to_date:i,resolveFinancingStatus:P,downloadReport:()=>{N.value=!0,A.get(s+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(J=>{const K=window.URL.createObjectURL(new Blob([J.data])),z=document.createElement("a");z.href=K,z.setAttribute("download",`Maturing_payments_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(z),z.click()}).catch(J=>{console.log(J)}).finally(()=>{N.value=!1})},exportPdfReport:()=>{S.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(J=>{const K=window.URL.createObjectURL(new Blob([J.data])),z=document.createElement("a");z.href=K,z.setAttribute("download",`Maturing_payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(z),z.click()}).catch(J=>{console.log(J)}).finally(()=>{S.value=!1})},filter:R,refresh:O,changePage:async J=>{await A.get(J,{params:{type:c.value,vendor:l.value,invoice_no:_.value,from_date:r.value,to_date:i.value}}).then(K=>{m.value=K.data,g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,V.value=0,m.value.data.forEach(z=>{g.value+=z.total_due,w.value+=z.due_today,y.value+=z.due_seven_days,x.value+=z.due_fourteen_days,C.value+=z.due_twenty_one_days,E.value+=z.due_thirty_days,D.value+=z.due_fourty_five_days,k.value+=z.due_sixty_days,I.value+=z.due_seventy_five_days,V.value+=z.due_ninety_days})}).catch(K=>{console.log(K)})},invoice_details:p,invoice_details_key:v,showInvoice:F,getTaxPercentage:T,downloadingExcel:N,downloadingPdf:S,spinner:B,due_total:g,today_total:w,seven_days_total:y,fourteen_days_total:x,twenty_one_days_total:C,thirty_days_total:E,fourty_five_days_total:D,sixty_days_total:k,seventy_five_days_total:I,ninety_days_total:V}}},Noe={class:"card p-2"},Foe={class:"d-flex flex-column flex-md-row justify-content-between"},Yoe={class:"d-flex flex-wrap gap-1"},Voe={class:"form-group"},Boe={for:"Vendor",class:"form-label"},Uoe={class:"table-search-btn"},qoe={class:"table-clear-btn"},Hoe={class:"d-flex justify-content-md-end flex-wrap gap-1 mt-2 mt-md-auto"},zoe={class:""},Woe={key:0,class:"d-flex"},Koe=["src"],Goe={key:0,class:"d-flex"},Qoe=["src"],Zoe={class:"table-responsive"},Joe={class:"table"},Xoe={class:""},eae={class:"table-border-bottom-0"},tae={key:0},oae={colspan:"12",class:"text-center"},aae={class:"text-center"},nae={key:1},sae={colspan:"12",class:"text-center"},lae={class:"text-center"},iae={class:"text-success"},rae={class:"text-success"},dae={class:"text-success"},cae={class:"text-success"},uae={class:"text-success"},_ae={class:"text-success"},mae={class:"text-success"},fae={class:"text-success"},hae={class:"text-success"},pae={class:"text-success"},vae={class:""},gae={class:"text-success",style:{"font-weight":"bolder"}},bae={class:"text-success",style:{"font-weight":"bolder"}},yae={class:"text-success",style:{"font-weight":"bolder"}},kae={class:"text-success",style:{"font-weight":"bolder"}},$ae={class:"text-success",style:{"font-weight":"bolder"}},wae={class:"text-success",style:{"font-weight":"bolder"}},Dae={class:"text-success",style:{"font-weight":"bolder"}},xae={class:"text-success",style:{"font-weight":"bolder"}},Cae={class:"text-success",style:{"font-weight":"bolder"}},Pae={class:"text-success",style:{"font-weight":"bolder"}};function Eae(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Noe,[e("div",Foe,[e("div",Yoe,[e("div",Voe,[e("label",Boe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor]])]),e("div",Uoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",qoe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Hoe,[e("div",zoe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.downloadReport&&t.downloadReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Koe)):(u(),f("span",Woe,[a[10]||(a[10]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Qoe)):(u(),f("span",Goe,[a[11]||(a[11]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Zoe,[e("table",Joe,[e("thead",null,[e("tr",Xoe,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Total Due")),1),e("th",null,n(o.$t("Due <0 Days")),1),e("th",null,n(o.$t("Due 1-7 Days")),1),e("th",null,n(o.$t("Due 8-14 Days")),1),e("th",null,n(o.$t("Due 15-21 Days")),1),e("th",null,n(o.$t("Due 22-30 Days")),1),e("th",null,n(o.$t("Due 31-45 Days")),1),e("th",null,n(o.$t("Due 46-60 Days")),1),e("th",null,n(o.$t("Due 61-75 Days")),1),e("th",null,n(o.$t("Due 76-90 Days")),1)])]),e("tbody",eae,[t.report.data?b("",!0):(u(),f("tr",tae,[e("td",oae,[e("span",aae,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",nae,[e("td",sae,[e("span",lae,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.company.name)+" ("+n(l.payment_account_number)+")",1),e("td",null,[e("span",iae,n(new Intl.NumberFormat().format(l.total_due)),1)]),e("td",null,[e("span",rae,n(new Intl.NumberFormat().format(l.due_today)),1)]),e("td",null,[e("span",dae,n(new Intl.NumberFormat().format(l.due_seven_days)),1)]),e("td",null,[e("span",cae,n(new Intl.NumberFormat().format(l.due_fourteen_days)),1)]),e("td",null,[e("span",uae,n(new Intl.NumberFormat().format(l.due_twenty_one_days)),1)]),e("td",null,[e("span",_ae,n(new Intl.NumberFormat().format(l.due_thirty_days)),1)]),e("td",null,[e("span",mae,n(new Intl.NumberFormat().format(l.due_fourty_five_days)),1)]),e("td",null,[e("span",fae,n(new Intl.NumberFormat().format(l.due_sixty_days)),1)]),e("td",null,[e("span",hae,n(new Intl.NumberFormat().format(l.due_seventy_five_days)),1)]),e("td",null,[e("span",pae,n(new Intl.NumberFormat().format(l.due_ninety_days)),1)])]))),128))]),e("tfoot",null,[e("tr",vae,[e("th",null,n(o.$t("Total")),1),e("th",gae,n(new Intl.NumberFormat().format(t.due_total)),1),e("th",bae,n(new Intl.NumberFormat().format(t.today_total)),1),e("th",yae,n(new Intl.NumberFormat().format(t.seven_days_total)),1),e("th",kae,n(new Intl.NumberFormat().format(t.fourteen_days_total)),1),e("th",$ae,n(new Intl.NumberFormat().format(t.twenty_one_days_total)),1),e("th",wae,n(new Intl.NumberFormat().format(t.thirty_days_total)),1),e("th",Dae,n(new Intl.NumberFormat().format(t.fourty_five_days_total)),1),e("th",xae,n(new Intl.NumberFormat().format(t.sixty_days_total)),1),e("th",Cae,n(new Intl.NumberFormat().format(t.seventy_five_days_total)),1),e("th",Pae,n(new Intl.NumberFormat().format(t.ninety_days_total)),1)])])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const w5=Ue(Loe,[["render",Eae]]),Aae={name:"PaidInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("paid-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(null),C=h(null),E="../../../../../assets/img/spinner.svg",D=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})},k=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+S+"/details").then(W=>{x.value=W.data,C.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},I=(S,U)=>(U/S*100).toFixed(2);Qe(()=>{D()});const V=S=>{let U="";if(S.days_past_due>0)U="bg-label-danger";else switch(S.status){case"pending":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},L=async()=>{w.value=$("#date_search").val(),w.value&&(d.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(v.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},F=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",_.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),$("disbursement_date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=h(!1),P=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,financing_status:i,status:r,vendor:l,from_date:d,to_date:p,from_disbursement_date_search:v,to_disbursement_date_search:g,date_search:w,invoice_details:x,filter:L,refresh:F,resolveStatus:V,resolveFinancingStatus:B,exportReport:()=>{T.value=!0,A.get(s+"reports/report/paid-invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Paid_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{T.value=!1})},exportPdfReport:()=>{P.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{P.value=!1})},changePage:async S=>{await A.get(S,{params:{type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},showInvoice:k,getTaxPercentage:I,downloadingExcel:T,downloadingPdf:P,spinner:E,invoice_details_key:C}}},Iae={class:"card p-2"},Rae={class:"d-flex flex-column flex-md-row justify-content-between"},Sae={class:"d-flex flex-wrap gap-1"},Tae={class:"form-group"},jae={for:"Invoice Number",class:"form-label"},Oae={class:"form-group"},Mae={for:"Vendor",class:"form-label"},Lae={class:""},Nae={class:"form-label",for:""},Fae={class:""},Yae={class:"form-label",for:""},Vae={class:""},Bae={for:"Financing Status",class:"form-label"},Uae={value:""},qae={value:"disbursed"},Hae={value:"closed"},zae={value:"past_due"},Wae={class:"table-search-btn"},Kae={class:"table-clear-btn"},Gae={class:"d-flex justify-content-md-end mt-2 mt-md-auto gap-1"},Qae={class:""},Zae={key:0,class:"d-flex"},Jae=["src"],Xae={key:0,class:"d-flex"},ene=["src"],tne={class:"table-responsive"},one={class:"table"},ane={class:""},nne={class:"table-border-bottom-0"},sne={key:0},lne={colspan:"12",class:"text-center"},ine={class:"text-center"},rne={key:1},dne={colspan:"12",class:"text-center"},cne={class:"text-center"},une={class:""},_ne=["onClick"],mne={class:"text-success text-nowrap"},fne={key:0},hne={key:1},pne={key:2},vne={key:3},gne=["id","data-bs-target"],bne=["id","data-bs-target"],yne={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kne={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$ne={class:"modal-content"},wne={class:"modal-body"},Dne={class:"d-flex justify-content-center"};function xne(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Iae,[e("div",Rae,[e("div",Sae,[e("div",Tae,[e("label",jae,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",Oae,[e("label",Mae,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=i=>t.vendor=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor]])]),e("div",Lae,[e("label",Nae,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Fae,[e("label",Yae,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",Vae,[e("label",Bae,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status=i)},[e("option",Uae,n(o.$t("Status")),1),e("option",qae,n(o.$t("Disbursed")),1),e("option",Hae,n(o.$t("Closed")),1),e("option",zae,n(o.$t("Overdue")),1)],512),[[de,t.financing_status]])]),e("div",Wae,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Kae,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Gae,[e("div",Qae,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Jae)):(u(),f("span",Zae,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,ene)):(u(),f("span",Xae,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",tne,[e("table",one,[e("thead",null,[e("tr",ane,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",nne,[t.report.data?b("",!0):(u(),f("tr",sne,[e("td",lne,[e("span",ine,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",rne,[e("td",dne,[e("span",cne,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",une,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,_ne),e("td",mne,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i)])},n(i.days_past_due>0?"Overdue":i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",fne,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",hne,"-")),i.disbursement_date?(u(),f("td",pne,n(i.transaction_ref),1)):(u(),f("td",vne,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,gne),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,bne),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yne,[e("div",kne,[e("div",$ne,[e("div",wne,[e("div",Dne,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const D5=Ue(Aae,[["render",xne]]),Cne={name:"DiscountsReport",components:{Pagination:oo},setup(o,a){const s=Je("baseURL"),t=h(50),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h("discountings"),v=h([]),g=h(null),w=()=>{A.get("report",{params:{per_page:t.value,type:p.value}}).then(L=>{v.value=L.data}).catch(L=>{console.log(L)})},y=async(L,F)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+L+"/details").then(T=>{g.value=T.data,bt(()=>{document.getElementById(F).click()})}).catch(T=>{console.log(T)})},x=(L,F)=>(F/L*100).toFixed(2);return Qe(()=>{w()}),{moment:H,report:v,per_page:t,vendor_search:c,invoice_number_search:m,status_search:r,financing_status_search:i,from_date_search:_,to_date_search:l,invoice_details:g,resolveStatus:L=>{let F="";switch(L){case"Overdue":F="bg-label-danger";break;case"Created":F="bg-label-secondary";break;case"Pending Approval":F="bg-label-warning";break;case"Pending Maker":F="bg-label-warning";break;case"Pending Checker":F="bg-label-warning";break;case"Submitted":F="bg-label-primary";break;case"Approved":F="bg-label-success";break;case"Disbursed":F="bg-label-success";break;case"Denied":F="bg-label-danger";break;case"Closed":F="bg-label-secondary";break;default:F="bg-label-primary";break}return F},resolveFinancingStatus:L=>{let F="";switch(L){case"pending":F="bg-label-primary";break;case"submitted":F="bg-label-primary";break;case"financed":F="bg-label-success";break;case"closed":F="bg-label-secondary";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},changePage:async L=>{await A.get(L,{params:{type:p.value,per_page:t.value,invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let L=$(".ti-search").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get("report",{params:{per_page:t.value,type:p.value,invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},refresh:()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value=0,_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),A.get("report",{params:{per_page:t.value,type:p.value}}).then(F=>{v.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},exportReport:()=>{A.get(s+"reports/report/discountings/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`Discountings_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},exportPdfReport:()=>{A.get(s+"reports/discountings/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,vendor_search:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`Discountings_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},showInvoice:y,getTaxPercentage:x}}},Pne={class:"card p-2"},Ene={class:"d-flex justify-content-between"},Ane={class:"d-flex flex-wrap gap-1"},Ine={class:""},Rne={for:"Vendor",class:"form-label"},Sne={class:""},Tne={for:"Invoice No",class:"form-label"},jne={class:""},One={class:"form-label",for:""},Mne={class:""},Lne={for:"Status",class:"form-label"},Nne={value:""},Fne={value:"submitted"},Yne={value:"approved"},Vne={value:"denied"},Bne={class:"table-search-btn"},Une={class:"table-clear-btn"},qne={class:"d-flex align-items-end"},Hne={class:"mx-1"},zne={class:"table-responsive"},Wne={class:"table"},Kne={class:""},Gne={class:"table-border-bottom-0"},Qne={key:0},Zne={colspan:"12",class:"text-center"},Jne={class:"text-center"},Xne={key:1},ese={colspan:"12",class:"text-center"},tse={class:"text-center"},ose={class:""},ase=["onClick"],nse={class:"text-success"},sse={key:0},lse={key:1},ise={key:2},rse={key:3},dse=["id","data-bs-target"],cse=["id","data-bs-target"],use={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},_se={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},mse={class:"modal-content"},fse={class:"modal-body"},hse={class:"d-flex justify-content-center"},pse=["id"],vse={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},gse={class:"modal-content"},bse={class:"modal-header"},yse={class:"modal-title",id:"modalCenterTitle"},kse={class:"d-flex"},$se={key:0,class:"d-flex"},wse=["href"],Dse=["href"],xse={class:"modal-body"},Cse={class:"d-flex justify-content-between"},Pse={class:"mb-3"},Ese={class:"d-flex justify-content-between"},Ase={key:0,class:"fw-light my-auto"},Ise={key:1,class:"fw-light my-auto"},Rse={key:2,class:"fw-bold mx-2 my-auto text-end"},Sse={key:3,class:"fw-bold mx-2 my-auto text-end"},Tse={class:"d-flex"},jse={class:"fw-light my-auto"},Ose={class:"fw-bold mx-2 my-auto"},Mse={key:0,class:"d-flex justify-content-between"},Lse={class:"fw-light my-auto"},Nse={class:"fw-bold mx-2 my-auto"},Fse={key:1,class:"d-flex justify-content-between"},Yse={class:"fw-light my-auto"},Vse={class:"fw-bold mx-2 my-auto"},Bse={class:"mb-3"},Use={key:0,class:"d-flex justify-content-between"},qse={class:"my-auto fw-light"},Hse=["data-bs-target"],zse={class:"d-flex justify-content-between"},Wse={class:"my-auto fw-light"},Kse={class:"fw-bold mx-2 my-auto"},Gse={class:"d-flex justify-content-between"},Qse={class:"my-auto fw-light"},Zse={key:0,class:"fw-bold text-success mx-2 my-auto"},Jse={key:1,class:"fw-bold text-success mx-2 my-auto"},Xse={class:"d-flex justify-content-between"},ele={class:"my-auto fw-light"},tle={class:"fw-bold mx-2 my-auto"},ole={key:0,class:"table-responsive"},ale={class:"table"},nle={key:1,class:"px-2"},sle={class:"d-flex justify-content-end"},lle={class:"mx-2 my-auto"},ile={class:"text-success my-auto"},rle={key:2,class:"px-2"},dle={class:"mx-2 my-auto"},cle={class:"text-success my-auto"},ule={class:"bg-label-secondary px-2"},_le={class:"d-flex justify-content-end"},mle={key:0,class:"mx-2 my-auto py-1"},fle={key:1,class:"mx-2 my-auto py-1"},hle={key:2,class:"text-success my-auto py-1"},ple={key:3,class:"text-success my-auto py-1"},vle={class:"modal-footer"},gle=["onClick"],ble=["id"],yle={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},kle={class:"modal-content"},$le={class:"modal-header"},wle={class:"modal-title",id:"modalCenterTitle"},Dle={class:"d-flex"},xle={key:0,class:"d-flex"},Cle=["href"],Ple=["href"],Ele={class:"modal-body"},Ale={class:"d-flex justify-content-between"},Ile={class:"mb-3"},Rle={class:"d-flex justify-content-between"},Sle={key:0,class:"fw-light my-auto"},Tle={key:1,class:"fw-light my-auto"},jle={key:2,class:"fw-bold mx-2 my-auto text-end"},Ole={key:3,class:"fw-bold mx-2 my-auto text-end"},Mle={class:"d-flex"},Lle={class:"fw-light my-auto"},Nle={class:"fw-bold mx-2 my-auto"},Fle={key:0,class:"d-flex justify-content-between"},Yle={class:"fw-light my-auto"},Vle={class:"fw-bold mx-2 my-auto"},Ble={key:1,class:"d-flex justify-content-between"},Ule={class:"fw-light my-auto"},qle={class:"fw-bold mx-2 my-auto"},Hle={class:"mb-3"},zle={class:"d-flex justify-content-between"},Wle={class:"my-auto fw-light"},Kle=["data-bs-target"],Gle={class:"d-flex justify-content-between"},Qle={class:"my-auto fw-light"},Zle={key:0,class:"fw-bold text-success mx-2 my-auto"},Jle={key:1,class:"fw-bold text-success mx-2 my-auto"},Xle={class:"d-flex justify-content-between"},eie={class:"my-auto fw-light"},tie={class:"fw-bold mx-2 my-auto"},oie={key:0,class:"table-responsive"},aie={class:"table"},nie={key:1,class:"px-2"},sie={class:"d-flex justify-content-end"},lie={class:"mx-2 my-auto"},iie={class:"text-success my-auto"},rie={key:2,class:"px-2"},die={class:"mx-2 my-auto"},cie={class:"text-success my-auto"},uie={key:3,class:"px-2"},_ie={class:"mx-2 my-auto py-1"},mie={key:0,class:"text-success my-auto py-1"},fie={key:1,class:"text-success my-auto py-1"},hie={class:"bg-label-secondary px-2"},pie={class:"d-flex justify-content-end"},vie={key:0,class:"mx-2 my-auto py-1"},gie={key:1,class:"mx-2 my-auto py-1"},bie={key:2,class:"text-success my-auto py-1"},yie={key:3,class:"text-success my-auto py-1"};function kie(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Pne,[e("div",Ene,[e("div",Ane,[e("div",Ine,[e("label",Rne,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",Sne,[e("label",Tne,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",jne,[e("label",One,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Mne,[e("label",Lne,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",Nne,n(o.$t("Status")),1),e("option",Fne,n(o.$t("Pending")),1),e("option",Yne,n(o.$t("Approved")),1),e("option",Vne,n(o.$t("Denied")),1)],512),[[de,t.status_search]])]),e("div",Bne,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Une,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qne,[e("div",Hne,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[9]||(a[9]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",zne,[e("table",Wne,[e("thead",null,[e("tr",Kne,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",Gne,[t.report.data?b("",!0):(u(),f("tr",Qne,[e("td",Zne,[e("span",Jne,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Xne,[e("td",ese,[e("span",tse,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",ose,n(l.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.id,"show-details-btn-"+l.id),style:{cursor:"pointer"}},n(l.invoice_number),9,ase),e("td",nse,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),l.disbursement_date?(u(),f("td",sse,n(t.moment(l.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",lse,"-")),l.transaction_ref?(u(),f("td",ise,n(l.transaction_ref),1)):(u(),f("td",rse,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,dse),e("button",{class:"d-none",id:"show-pi-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.id},null,8,cse),a[24]||(a[24]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",use,[e("div",_se,[e("div",mse,[e("div",fse,[e("div",hse,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",vse,[e("div",gse,[e("div",bse,[e("h5",yse,n(o.$t("Invoice Details")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",kse,[t.invoice_details.media.length>0?(u(),f("div",$se,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,wse))),128))])):b("",!0),e("a",{href:"../invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Dse)])]),e("div",xse,[e("div",Cse,[e("div",Pse,[e("span",Ese,[t.invoice_details.buyer?(u(),f("h5",Ase,n(o.$t("Buyer"))+":",1)):(u(),f("h5",Ise,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",Rse,n(t.invoice_details.buyer.name),1)):(u(),f("h6",Sse,n(t.invoice_details.company.name),1))]),e("span",Tse,[e("h5",jse,n(o.$t("Remarks"))+":",1),e("h6",Ose,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Mse,[e("h5",Lse,n(o.$t("Credit To"))+":",1),e("h6",Nse,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Fse,[e("h5",Yse,n(o.$t("Rejection Reason"))+":",1),e("h6",Vse,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Bse,[t.invoice_details.pi_number?(u(),f("span",Use,[e("h5",qse,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Hse)])):b("",!0),e("span",zse,[e("h5",Wse,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",Kse,n(t.invoice_details.invoice_number),1)]),e("span",Gse,[e("h5",Qse,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Jse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Zse,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Xse,[e("h5",ele,n(o.$t("Invoice Due Date"))+":",1),e("h6",tle,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",ole,[e("table",ale,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",nle,[e("span",sle,[e("h6",lle,n(o.$t("Total Invoice Discount")),1),e("h5",ile,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",rle,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",dle,n(r.name),1),e("h5",cle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",ule,[e("span",_le,[t.invoice_details.drawdown_amount?(u(),f("h6",fle,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",mle,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",ple,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",hle,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1))])])]),e("div",vle,[!t.invoice_details.user_has_approved&&(t.invoice_details.status=="pending"||t.invoice_details.status=="created")?(u(),f("a",{key:0,href:"javascript:;",onClick:r=>o.requestApproval(l),class:"btn btn-primary"},n(o.$t("Approve")),9,gle)):b("",!0)])])])],8,pse)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",yle,[e("div",kle,[e("div",$le,[e("h5",wle,n(o.$t("Invoice Details")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Dle,[t.invoice_details.media.length>0?(u(),f("div",xle,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[21]||(a[21]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,Cle))),128))])):b("",!0),e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[22]||(a[22]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Ple)])]),e("div",Ele,[e("div",Ale,[e("div",Ile,[e("span",Rle,[t.invoice_details.buyer?(u(),f("h5",Sle,n(o.$t("Buyer"))+":",1)):(u(),f("h5",Tle,n(o.$t("Dealer"))+":",1)),t.invoice_details.buyer?(u(),f("h6",jle,n(t.invoice_details.buyer.name),1)):(u(),f("h6",Ole,n(t.invoice_details.company.name),1))]),e("span",Mle,[e("h5",Lle,n(o.$t("Remarks"))+":",1),e("h6",Nle,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Fle,[e("h5",Yle,n(o.$t("Credit To"))+":",1),e("h6",Vle,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Ble,[e("h5",Ule,n(o.$t("Rejection Reason"))+":",1),e("h6",qle,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Hle,[e("span",zle,[e("h5",Wle,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Kle)]),e("span",Gle,[e("h5",Qle,n(o.$t("Invoice Amount"))+":",1),t.invoice_details.total_amount?(u(),f("h6",Jle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)):(u(),f("h6",Zle,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes)),1))]),e("span",Xle,[e("h5",eie,n(o.$t("Invoice Due Date"))+":",1),e("h6",tie,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",oie,[e("table",aie,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.price_per_quantity)),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length>0?(u(),f("div",nie,[e("span",sie,[e("h6",lie,n(o.$t("Total Invoice Discount")),1),e("h5",iie,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",rie,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",die,n(r.name),1),e("h5",cie,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",uie,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",_ie,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",mie," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",fie,n(r.amount),1))]))),128))])):b("",!0),e("div",hie,[e("span",pie,[t.invoice_details.drawdown_amount?(u(),f("h6",gie,n(o.$t("Total Drawdown Amount")),1)):(u(),f("h6",vie,n(o.$t("Total")),1)),t.invoice_details.drawdown_amount?(u(),f("h5",yie,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.drawdown_amount)),1)):(u(),f("h5",bie,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1))])])])])])],8,ble)):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const x5=Ue(Cne,[["render",kie]]),$ie={name:"Reports",components:{InvoiceAnalysisReport:y5,AllInvoicesReport:k5,VendorAnalysisReport:$5,MaturingInvoicesReport:w5,PaidInvoicesReport:D5,Discountings:x5},props:["can_view_all_invoices","can_view_programs","can_view_payments"],setup(o){const a=o.can_view_all_invoices,s=o.can_view_programs,t=o.can_view_payments,c=h(null),m=h(null),_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{c.value.getReport()}),{moment:H,can_view_all_invoices:a,can_view_programs:s,can_view_payments:t,invoice_analysis_report:c,vendor_analysis_report:m,all_invoices_report:_,maturing_invoices_report:l,paid_invoices_report:r,discounts_report:i,switchTabs:p=>{switch(p){case"invoice_analysis_report":c.value.getReport();break;case"all_invoices_report":_.value.getReport();break;case"vendor_analysis_report":m.value.getReport();break;case"maturing_invoices_report":l.value.getReport();break;case"paid_invoices_report":r.value.getReport();break;case"discounts_report":i.value.getReport();break}}}}},wie={class:"nav-align-top nav-tabs-shadow"},Die={class:"nav nav-tabs",role:"tablist"},xie={key:0,class:"nav-item"},Cie={key:1,class:"nav-item"},Pie={key:2,class:"nav-item"},Eie={key:3,class:"nav-item"},Aie={key:4,class:"nav-item"},Iie={key:5,class:"nav-item"},Rie={class:"tab-content"},Sie={key:0,class:"tab-pane fade show active",id:"navs-invoice-analysis",role:"tabpanel"},Tie={key:1,class:"tab-pane fade",id:"navs-all-invoices-report",role:"tabpanel"},jie={key:2,class:"tab-pane fade",id:"navs-vendor-analysis",role:"tabpanel"},Oie={key:3,class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"},Mie={key:4,class:"tab-pane fade",id:"navs-paid-invoices-report",role:"tabpanel"},Lie={key:5,class:"tab-pane fade",id:"discounts-report",role:"tabpanel"};function Nie(o,a,s,t,c,m){const _=ce("invoice-analysis-report"),l=ce("all-invoices-report"),r=ce("vendor-analysis-report"),i=ce("maturing-invoices-report"),d=ce("paid-invoices-report"),p=ce("discountings");return u(),f("div",wie,[e("ul",Die,[t.can_view_all_invoices==1?(u(),f("li",xie,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=v=>t.switchTabs("invoice_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-invoice-analysis","aria-controls":"navs-invoice-analysis","aria-selected":"true"},"Invoice Analysis")])):b("",!0),t.can_view_all_invoices==1?(u(),f("li",Cie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=v=>t.switchTabs("all_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")])):b("",!0),t.can_view_programs==1?(u(),f("li",Pie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=v=>t.switchTabs("vendor_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-vendor-analysis","aria-controls":"navs-vendor-analysis","aria-selected":"false"},"Vendor Analysis")])):b("",!0),t.can_view_all_invoices==1?(u(),f("li",Eie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[3]||(a[3]=v=>t.switchTabs("maturing_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Maturing Invoices Report")])):b("",!0),t.can_view_payments==1?(u(),f("li",Aie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[4]||(a[4]=v=>t.switchTabs("paid_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-paid-invoices-report","aria-controls":"navs-paid-invoices-report","aria-selected":"false"},"Paid Invoices Report")])):b("",!0),t.can_view_payments==1?(u(),f("li",Iie,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[5]||(a[5]=v=>t.switchTabs("discounts_report")),"data-bs-toggle":"tab","data-bs-target":"#discounts-report","aria-controls":"discounts-report","aria-selected":"false"},"Discountings")])):b("",!0)]),e("div",Rie,[t.can_view_all_invoices==1?(u(),f("div",Sie,[Be(_,{ref:"invoice_analysis_report"},null,512)])):b("",!0),t.can_view_all_invoices==1?(u(),f("div",Tie,[Be(l,{ref:"all_invoices_report"},null,512)])):b("",!0),t.can_view_programs==1?(u(),f("div",jie,[Be(r,{ref:"vendor_analysis_report"},null,512)])):b("",!0),t.can_view_all_invoices==1?(u(),f("div",Oie,[Be(i,{ref:"maturing_invoices_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",Mie,[Be(d,{ref:"paid_invoices_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",Lie,[Be(p,{ref:"discounts_report"},null,512)])):b("",!0)])])}const Fie=Ue($ie,[["render",Nie]]),Yie={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:p=>{p.preventDefault();let v=p.target.files||p.dataTransfer.files;v.length&&(s.value=v[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const p=new FormData;p.append("invoices",s.value),A.post(a+"invoices/import",p).then(v=>{window.location.reload()}).catch(v=>{if(v.response.status==422){l.value++,c.error(v.response.data.message);return}v.response.data.uploaded>0&&c.success(v.response.data.uploaded+" uploaded."),v.response.data.total_rows-v.response.data.uploaded>0?(c.error(v.response.data.total_rows-v.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})},changeProductType:()=>{let p=$("#upload-product-type").val();p=="Vendor Financing Receivable"?($("#download-invoices").removeClass("d-none"),$("#download-dealer-invoices").addClass("d-none"),$("#view-vendors").removeClass("d-none"),$("#view-dealers").addClass("d-none")):p=="Dealer Financing"?($("#download-invoices").addClass("d-none"),$("#download-dealer-invoices").removeClass("d-none"),$("#view-vendors").addClass("d-none"),$("#view-dealers").removeClass("d-none")):($("#download-invoices").addClass("d-none"),$("#download-dealer-invoices").addClass("d-none"),$("#view-vendors").addClass("d-none"),$("#view-dealers").addClass("d-none"))}}}},Vie={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},Bie={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},Uie={class:"modal-dialog"},qie={class:"modal-header"},Hie={class:"modal-title",id:"modalTopTitle"},zie={class:"modal-body"},Wie={class:"form-group d-none"},Kie={for:"Product Type",class:"form-label"},Gie={value:""},Qie={value:"Vendor Financing Receivable"},Zie={key:0,value:"Dealer Financing"},Jie={class:"form-group mt-2"},Xie={class:"py-1 text-danger d-none",id:"show-download-error"},ere={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},tre={class:"modal-footer"},ore={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},are={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},nre={href:"invoices/vendors",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},sre={href:"#",target:"_blank",id:"view-dealers",class:"btn btn-label-info d-none"},lre=["disabled"];function ire(o,a,s,t,c,m){return u(),f(G,null,[e("button",Vie,n(o.$t("Upload Invoices")),1),e("div",Bie,[e("div",Uie,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[2]||(a[2]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",qie,[e("h5",Hie,n(o.$t("Upload Invoices")),1),a[3]||(a[3]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",zie,[e("div",Wie,[e("label",Kie,n(o.$t("Product Type")),1),e("select",{name:"product_type",id:"upload-product-type",class:"form-control",onChange:a[0]||(a[0]=(..._)=>t.changeProductType&&t.changeProductType(..._))},[e("option",Gie,n(o.$t("Select Type")),1),e("option",Qie,n(o.$t("Vendor Financing Receivable")),1),t.dealer_financing=="1"?(u(),f("option",Zie,n(o.$t("Dealer Financing")),1)):b("",!0)],32)]),e("div",Jie,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[1]||(a[1]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",Xie,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",ere,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",tre,[e("a",ore,n(o.$t("Download Sample")),1),e("a",are,n(o.$t("Download Sample")),1),e("a",nre,n(o.$t("View Vendors")),1),e("a",sre,n(o.$t("View Dealers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,lre)])],32)])])],64)}const rre=Ue(Yie,[["render",ire]]),dre={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"factoring/invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},cre={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},ure={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},_re={class:"modal-dialog"},mre={class:"modal-header"},fre={class:"modal-title",id:"modalTopTitle"},hre={class:"modal-body"},pre={class:"form-group mt-2"},vre={class:"py-1 text-danger d-none",id:"show-download-error"},gre={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},bre={class:"modal-footer"},yre={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},kre={href:"invoices/dealers",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},$re=["disabled"];function wre(o,a,s,t,c,m){return u(),f(G,null,[e("button",cre,n(o.$t("Upload Invoices")),1),e("div",ure,[e("div",_re,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",mre,[e("h5",fre,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",hre,[e("div",pre,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",vre,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",gre,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",bre,[e("a",yre,n(o.$t("Download Sample")),1),e("a",kre,n(o.$t("View Buyers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,$re)])],32)])])],64)}const Dre=Ue(dre,[["render",wre]]),xre={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},Cre={class:"card p-2"},Pre={class:"d-flex justify-content-between"},Ere={class:"d-flex flex-wrap"},Are={class:"mx-1"},Ire={for:"Invoice No",class:"form-label"},Rre={class:"mx-1"},Sre={for:"From Date",class:"form-label"},Tre={class:"mx-1"},jre={for:"Status",class:"form-label"},Ore={value:""},Mre={value:"Successful"},Lre={value:"Failed"},Nre={class:"mx-1 table-search-btn mt-auto"},Fre={class:"mx-1 table-clear-btn"},Yre={class:"d-flex justify-content-end mt-auto gap-1"},Vre={class:"table-responsive p-2"},Bre={class:"table dt-invoices"},Ure={key:0},qre={colspan:"12",class:"text-center"},Hre={class:"text-center"},zre={key:1},Wre={colspan:"12",class:"text-center"},Kre={class:"text-center"},Gre={key:0,class:"badge bg-label-success me-1"},Qre={key:1,class:"badge bg-label-danger me-1"},Zre={class:""};function Jre(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Cre,[e("div",Pre,[e("div",Ere,[e("div",Are,[e("label",Ire,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",Rre,[e("label",Sre,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[X,t.uploaded_date_search]])]),e("div",Tre,[e("label",jre,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",Ore,n(o.$t("Select Status")),1),e("option",Mre,n(o.$t("Successful")),1),e("option",Lre,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",Nre,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Fre,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Yre,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Vre,[e("table",Bre,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Ure,[e("td",qre,[e("span",Hre,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",zre,[e("td",Wre,[e("span",Kre,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Gre,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Qre,n(l.status),1)):b("",!0)]),e("td",Zre,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Xre=Ue(xre,[["render",Jre]]),ede={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),w=h([]),y=h([]),x=h(0),C=h(0),E=h(0),D=h(50),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h(""),T=h([]),P=h([]),R=h(""),O=h(""),N=h(""),S=h([]),U=h(""),W=h(""),oe=h([]),J=h(!1),K=h(!0),z=se=>{document.getElementById("edit-fees-"+se.id).classList.remove("d-none"),document.getElementById("view-fees-"+se.id).classList.add("d-none")},ae=async()=>{await A.get(t+"factoring/invoices/data",{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{c.value=se.data.invoices,g.value=se.data.taxes,w.value=se.data.users}).catch(se=>{console.log(se.message)})},we=async(se,fe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+se+"/details").then(Le=>{l.value=Le.data,x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(fe).click()})}).catch(Le=>{console.log(Le)})},Fe=async(se,fe)=>{await A.get(t+"purchase-orders/"+se+"/show").then(Le=>{i.value=Le.data,bt(()=>{document.getElementById(fe).click()})}).catch(Le=>{console.log(Le)})},he=(se,fe,Le)=>(Le/fe*100).toFixed(2),re=se=>{let fe="";switch(se){case"Overdue":fe="bg-label-danger";break;case"Created":fe="bg-label-secondary";break;case"Pending Approval":fe="bg-label-warning";break;case"Pending Maker":fe="bg-label-primary";break;case"Pending Checker":fe="bg-label-warning";break;case"Submitted":fe="bg-label-primary";break;case"Approved":fe="bg-label-success";break;case"Disbursed":fe="bg-label-success";break;case"Denied":fe="bg-label-danger";break;case"Rejected":fe="bg-label-danger";break;default:fe="bg-label-primary";break}return fe},$e=se=>{let fe="";switch(se){case"pending":fe="bg-label-primary";break;case"submitted":fe="bg-label-warning";break;case"financed":fe="bg-label-success";break;case"closed":fe="bg-label-secondary";break;case"denied":fe="bg-label-danger";break;default:fe="bg-label-primary";break}return fe},De=()=>{let se=0,fe=0,Le=Object.keys(y.value);Object.values(y.value).forEach((at,mt)=>{Le[mt]=="Credit Note Amount"&&at>0&&(fe=at),Le[mt]!="Credit Note Amount"&&(at>0?se+=at:se-=at)}),se>0&&(C.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-se/100*x.value.replaceAll(",",""))),fe>0&&(C.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-fe)),fe==0&&se==0&&(C.value=new Intl.NumberFormat.format(x.value.replaceAll(",","")))},ie=async se=>{const fe=new FormData;for(const Le in y.value)Le=="Credit Note Amount"&&fe.append("taxes["+Le+"]",y.value[Le]),Le!="Credit Note Amount"&&fe.append("taxes["+Le+"]",y.value[Le]/100*x.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}factoring/invoices/${se.id}/approve`,fe).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+se.id).click();for(const Le in y.value)y.value=[]}).catch(Le=>{if(console.log(Le),Le.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},pe=async se=>{await A.get(`${t}factoring/invoices/${se.id}/fees/approve`).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+se.id).click();for(const fe in y.value)y.value[fe]=""}).catch(fe=>{if(console.log(fe),fe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=async(se,fe)=>{const Le=new FormData;Le.append("status",fe),Le.append("rejection_reason",U.value),await A.post(t+"factoring/invoices/"+se.id+"/request/send",Le).then(()=>{s.success("Invoice updated successfully"),ae()}).catch(Ze=>{console.log(Ze),s.error("An error occurred")})},Me=()=>{if(S.value=[],J.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async se=>{se.status=="submitted"&&se.user_can_approve&&!se.user_has_approved&&(document.getElementById("data-select-"+se.id).checked=!0,S.value.push(se.id))}):(c.value.data.forEach(se=>{if(se.status=="submitted"&&se.user_can_approve&&!se.user_has_approved){document.getElementById("data-select-"+se.id).checked=!1;let fe;if(!S.value.filter(function(Ze,at){fe=at,Ze==se.id}))return!1;S.value.splice(fe,1)}}),J.value=!1),S.value.length>0){let se={},fe={};const Le=new FormData;Le.append("invoices",S.value),A.post(t+"invoices/bulk/details?type=Factoring",Le).then(Ze=>{oe.value=[],Ze.data.data.forEach(at=>{if(fe[at.id]=[],at.invoice_fees.length>0){let mt=0;se={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(se+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(se[wt.name+"-"+at.id]=mt)})}else se={},Object.keys(g.value).forEach(mt=>{se[mt+"-"+at.id]=0});fe[at.id]=se}),oe.value.push(fe),J.value=!1})}},ue=se=>{if(S.value.includes(se)){const fe=S.value.indexOf(se);S.value.splice(fe,1)}else S.value.push(se);if(S.value.length>0){let fe={},Le={};const Ze=new FormData;Ze.append("invoices",S.value),A.post(t+"invoices/bulk/details?type=Factoring",Ze).then(at=>{oe.value=[],at.data.data.forEach(mt=>{if(Le[mt.id]=[],mt.invoice_fees.length>0){let wt=0;fe={},mt.invoice_fees.forEach(Ot=>{Ot.name!="Credit Note Amount"?wt=he(mt.invoice_number,mt.total+mt.total_invoice_taxes-mt.total_invoice_discount,Ot.amount):wt=Ot.amount,Object.keys(fe+"-"+mt.id).filter(ut=>ut==Ot.name+"-"+mt.id).length>0||(fe[Ot.name+"-"+mt.id]=wt)})}else fe={},Object.keys(g.value).forEach(wt=>{fe[wt+"-"+mt.id]=0});Le[mt.id]=fe}),oe.value.push(Le),J.value=!1})}},je=se=>{if(S.value.length<=0){s.error("Select invoices");return}};ot(W,se=>{(se=="approve"||se=="reject")&&(S.value.length>0?(se=="reject"&&document.getElementById("show-bulk-reject-modal").click(),se=="approve"&&document.getElementById("show-bulk-approval-modal").click(),W.value=""):s.error("Select Invoices"))});const ze=()=>{const se=new FormData;S.value.forEach((fe,Le)=>{se.append("invoice["+Le+"]",fe)}),se.append("invoice_taxes",JSON.stringify(oe.value)),se.append("action",W.value),K.value=!1,A.post(t+"invoices/bulk/update/approve?type=Factoring",se).then(fe=>{ae(),s.success(fe.data.message),document.getElementById("fees-close-modal").click();for(const Le in y.value)y.value[Le]="";S.value=[],oe.value=[]}).catch(fe=>{if(console.log(fe),fe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{W.value="",K.value=!0})},Ye=()=>{const se=new FormData;se.append("rejected_reason",U.value),S.value.forEach((fe,Le)=>{se.append("invoice["+Le+"]",fe)}),se.append("action",W.value),K.value=!1,A.post(t+"invoices/bulk/update/reject?type=Factoring",se).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",S.value=[],oe.value=[]}).catch(fe=>{console.log(fe),s.error("An error occurred")}).finally(()=>{K.value=!0,W.value=""})},ge=se=>{const fe=new FormData;fe.append("rejected_reason",U.value),fe.append("action",W.value),A.post(t+"invoices/"+se+"/reject",fe).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+se).click(),W.value="",U.value=""}).catch(Le=>{console.log(Le),s.error("An error occurred")})};return Qe(()=>{ae(),$("#invoice-status-select").on("change",function(){var se=$("#invoice-status-select").val();T.value=se}),$("#financing-status-select").on("change",function(){var se=$("#financing-status-select").val();P.value=se})}),ot([D],async([se])=>{A.get(t+"factoring/invoices/data",{params:{per_page:se,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices})}),{moment:H,per_page:D,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:w,invoice_taxes:y,invoice_subtotal:x,invoice_total:C,purchase_order_total:E,purchase_order_details:i,selected_invoices:S,selected_invoices_taxes:oe,buyer_search:k,invoice_number_search:I,status_search:T,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:L,to_invoice_date_search:F,sort_by:N,bulk_action:W,invoice_fees_processing:J,rejected_reason:U,can_bulk_approve:K,showInvoice:we,calculatePayable:se=>{let fe=$("#invoice-amount-"+se).text().replaceAll(",",""),Le=$("#withholding-tax-"+se).val(),Ze=$("#withholding-vat-"+se).val(),at=$("#credit-note-amount-"+se).val(),mt=Le/100*fe,wt=Ze/100*fe,Ot=fe-mt-wt-at;$("#invoice-total-payable-"+se).text(new Intl.NumberFormat().format(Ot))},filter:async()=>{R.value=$("#date_search").val(),O.value=$("#invoice_date_search").val(),R.value&&(V.value=H(R.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(R.value.split(" - ")[1]).format("YYYY-MM-DD")),O.value&&(L.value=H(O.value.split(" - ")[0]).format("YYYY-MM-DD"),F.value=H(O.value.split(" - ")[1]).format("YYYY-MM-DD"));let se=$(".ti-search").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"factoring/invoices/data",{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices,g.value=fe.data.taxes,se.html('<i class="ti ti-search"></i>')})},updateSelected:ue,selectAll:Me,bulkAction:je,resolveStatus:re,resolveFinancingStatus:$e,changePage:async se=>{await A.get(se,{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices}).catch(fe=>{console.log(fe)})},submitApproval:ie,submitBulkApproval:ze,submitBulkRejection:Ye,updateInvoiceTotal:De,getTaxPercentage:he,clearSearch:async()=>{let se=$(".ti-refresh").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value="",I.value="",V.value="",B.value="",T.value=[],P.value=[],R.value="",O.value="",N.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"factoring/invoices/data",{params:{per_page:D.value}}).then(fe=>{c.value=fe.data.invoices,g.value=fe.data.taxes,se.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{const fe=window.URL.createObjectURL(new Blob([se.data])),Le=document.createElement("a");Le.href=fe,Le.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Le),Le.click()}).catch(se=>{console.log(se)})},submitRejection:ge,download:se=>{A.get(t+"invoices/"+se.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(fe=>{const Le=window.URL.createObjectURL(new Blob([fe.data])),Ze=document.createElement("a");Ze.href=Le,Ze.setAttribute("download",`Invoice_${se.invoice_number}.pdf`),document.body.appendChild(Ze),Ze.click()}).catch(fe=>{console.log(fe)})},editFees:z,approveFees:pe,userHasApproved:(se,fe)=>{let Le=!1;return se.approvals.forEach(Ze=>{fe.id==Ze.user_id&&(Le=!0)}),Le},approvalDetails:(se,fe)=>{let Le=null;return Le=se.approvals.filter(Ze=>Ze.user_id==fe.id).length>0?se.approvals.filter(Ze=>Ze.user_id==fe.id)[0]:null,Le},showPurchaseOrder:Fe,requestApproval:be,invoice_details_key:r}}},tde={class:"p-2"},ode={class:"d-flex justify-content-between"},ade={class:"d-flex flex-wrap gap-1"},nde={class:""},sde={for:"Vendor",class:"form-label"},lde={class:""},ide={for:"Invoice No",class:"form-label"},rde={class:""},dde={class:"form-label",for:""},cde={class:""},ude={class:"form-label",for:""},_de={class:""},mde={for:"Status",class:"form-label"},fde={value:"pending_maker"},hde={value:"pending_checker"},pde={value:"approved"},vde={value:"rejected"},gde={value:"past_due"},bde={value:"expired"},yde={class:""},kde={for:"Financing Status",class:"form-label"},$de={value:"pending"},wde={value:"submitted"},Dde={value:"financed"},xde={value:"disbursed"},Cde={value:"closed"},Pde={value:"denied"},Ede={class:""},Ade={for:"Financing Status",class:"form-label"},Ide={value:""},Rde={value:"po_asc"},Sde={value:"po_desc"},Tde={value:"invoice_no_asc"},jde={value:"invoice_no_desc"},Ode={value:"due_date_asc"},Mde={value:"due_date_desc"},Lde={value:"invoice_amount_asc"},Nde={value:"invoice_amount_desc"},Fde={value:"buyer_asc"},Yde={value:"buyer_desc"},Vde={class:""},Bde={for:"Bulk Actions",class:"form-label"},Ude={value:""},qde={value:"approve"},Hde={value:"reject"},zde={class:"table-search-btn"},Wde={class:"table-clear-btn"},Kde={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},Gde={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},Qde={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Zde={class:"modal-content"},Jde={class:"modal-header"},Xde={class:"modal-title",id:"modalCenterTitle"},ece={key:0,class:"text-center my-4"},tce={class:"modal-body"},oce={class:"table"},ace={key:0},nce={key:0},sce={key:1},lce=["id"],ice={key:2},rce={key:0},dce=["onUpdate:modelValue","id","onInput"],cce={key:3},uce={key:0},_ce=["onUpdate:modelValue","id","onInput"],mce={key:4},fce={key:0},hce=["onUpdate:modelValue","id","onInput"],pce={key:5},vce={key:0},gce=["id"],bce={class:"modal-footer"},yce=["disabled"],kce={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},$ce={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},wce={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Dce={class:"modal-content"},xce={class:"modal-header"},Cce={class:"modal-title",id:"modalCenterTitle"},Pce={class:"modal-body"},Ece={for:"reason",class:"form-label"},Ace={class:"modal-footer"},Ice=["disabled"],Rce={class:"d-flex justify-content-end gap-1 mt-auto"},Sce={class:"table-responsive p-1"},Tce={class:"table dt-invoices"},jce={class:"px-1"},Oce={class:"form-check"},Mce={key:0},Lce={colspan:"12",class:"text-center"},Nce={class:"text-center"},Fce={key:1},Yce={colspan:"12",class:"text-center"},Vce={class:"text-center"},Bce={class:"px-1"},Uce={key:0,class:"form-check"},qce=["id","onChange"],Hce={key:1},zce=["id","onChange"],Wce={key:0,class:"text-primary text-decoration-underline"},Kce=["onClick"],Gce={key:1,class:"text-primary"},Qce=["onClick"],Zce={href:"javascript:;"},Jce={class:"text-success text-nowrap"},Xce={class:""},eue={class:"text-success text-nowrap"},tue={class:""},oue={class:""},aue={class:""},nue={class:"text-success"},sue={class:""},lue={class:"d-inline-block"},iue=["id","data-bs-target"],rue=["id","data-bs-target"],due=["id","data-bs-target"],cue=["id","data-bs-target"],uue=["id","data-bs-target"],_ue=["id","data-bs-target"],mue=["id","data-bs-target"],fue={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},hue={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},pue={class:"modal-content"},vue={class:"modal-body"},gue={class:"d-flex justify-content-center"},bue={class:"dropdown-menu dropdown-menu-end"},yue={class:"mt-2"},kue=["onClick"],$ue={key:0,class:"mb-2"},wue=["href"],Due=["onClick"],xue={class:"dropdown-item badge bg-label-success"},Cue={key:2,class:"mb-2"},Pue=["onClick"],Eue=["onClick"],Aue={class:"dropdown-item badge bg-label-info"},Iue=["onClick"],Rue={class:"dropdown-item badge bg-label-warning"},Sue={key:5},Tue=["onClick"],jue={key:6},Oue=["data-bs-target"],Mue=["id"],Lue={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Nue={class:"modal-content"},Fue={class:"modal-header"},Yue={class:"modal-title",id:"modalCenterTitle"},Vue=["id"],Bue=["onSubmit"],Uue={class:"modal-body"},que={for:"reason",class:"form-label"},Hue={class:"modal-footer"},zue={class:"btn btn-danger",type:"submit"},Wue=["id"],Kue={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Gue={class:"modal-content"},Que={class:"modal-header"},Zue={class:"modal-title",id:"modalCenterTitle"},Jue={class:"d-flex"},Xue=["href"],e_e=["href"],t_e={class:"modal-body"},o_e={class:"d-flex justify-content-between"},a_e={class:"mb-3 w-50"},n_e={class:"d-flex justify-content-between"},s_e={class:"fw-light my-auto"},l_e={class:"fw-bold mx-2 my-auto"},i_e={class:"d-flex justify-content-between"},r_e={class:"fw-light my-auto"},d_e={class:"fw-bold mx-2 my-auto"},c_e={class:"d-flex justify-content-between"},u_e={class:"fw-light my-auto"},__e={class:"fw-bold mx-2 my-auto"},m_e={class:"d-flex justify-content-between"},f_e={class:"fw-light my-auto"},h_e={key:0,class:"d-flex justify-content-between"},p_e={class:"fw-light my-auto"},v_e={class:"fw-bold mx-2 my-auto"},g_e={class:"mb-3"},b_e={class:"d-flex justify-content-between"},y_e={class:"my-auto fw-light"},k_e={class:"fw-bold mx-2 my-auto"},$_e={class:"d-flex justify-content-between"},w_e={class:"my-auto fw-light"},D_e={class:"fw-bold mx-2 my-auto"},x_e={class:"d-flex justify-content-between"},C_e={class:"my-auto fw-light"},P_e={class:"fw-bold mx-2 my-auto"},E_e={class:"d-flex justify-content-between"},A_e={class:"my-auto fw-light"},I_e={class:"fw-bold text-success mx-2 my-auto"},R_e={class:"table-responsive"},S_e={class:"table"},T_e={class:"bg-label-secondary px-2"},j_e={class:"d-flex justify-content-end"},O_e={class:"mx-2 my-auto py-1"},M_e={class:"text-success my-auto py-1"},L_e=["id"],N_e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},F_e={class:"modal-content"},Y_e={class:"modal-header"},V_e={class:"modal-title",id:"modalCenterTitle"},B_e=["id"],U_e=["id"],q_e={class:"modal-body"},H_e={key:0},z_e={class:"form-group"},W_e={for:"Sub total",class:"form-label"},K_e={class:"form-label"},G_e=["value"],Q_e=["value"],Z_e={class:"form-group"},J_e={for:"Sub total",class:"form-label"},X_e=["value"],eme={key:1},tme={class:"d-flex justify-content-between"},ome={class:"modal-footer"},ame={class:"btn btn-primary",type:"submit"},nme=["id"],sme={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},lme={class:"modal-content"},ime={class:"modal-header"},rme={class:"modal-title"},dme=["id"],cme=["id"],ume={class:"modal-body"},_me={class:"form-group"},mme={for:"Sub total",class:"form-label"},fme={key:0},hme={for:""},pme=["onUpdate:modelValue"],vme={key:1},gme={for:""},bme=["onUpdate:modelValue"],yme={class:"form-group"},kme={for:"Sub total",class:"form-label"},$me={key:0,class:"mt-2"},wme={class:"text-sm"},Dme={class:"mx-2 my-auto py-1"},xme={key:0,class:"text-success my-auto py-1"},Cme={key:1,class:"text-success my-auto py-1"},Pme={class:"modal-footer"},Eme={class:"btn btn-primary",type:"submit"};function Ame(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",tde,[e("div",ode,[e("div",ade,[e("div",nde,[e("label",sde,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",lde,[e("label",ide,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",rde,[e("label",dde,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[24]||(a[24]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",cde,[e("label",ude,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",_de,[e("label",mde,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",fde,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",hde,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",pde,n(o.$t("Approved")),1),e("option",vde,n(o.$t("Rejected")),1),e("option",gde,n(o.$t("Overdue")),1),e("option",bde,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",yde,[e("label",kde,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",$de,n(o.$t("Pending")),1),e("option",wde,n(o.$t("Submitted")),1),e("option",Dde,n(o.$t("Financed")),1),e("option",xde,n(o.$t("Disbursed")),1),e("option",Cde,n(o.$t("Closed")),1),e("option",Pde,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",Ede,[e("label",Ade,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",Ide,n(o.$t("Sort By")),1),e("option",Rde,n(o.$t("PO No. (ASC)")),1),e("option",Sde,n(o.$t("PO No. (DESC)")),1),e("option",Tde,n(o.$t("Invoice No. (ASC)")),1),e("option",jde,n(o.$t("Invoice No. (DESC)")),1),e("option",Ode,n(o.$t("Due Date. (ASC)")),1),e("option",Mde,n(o.$t("Due Date. (DESC)")),1),e("option",Lde,n(o.$t("Invoice Amount. (ASC)")),1),e("option",Nde,n(o.$t("Invoice Amount. (DESC)")),1),e("option",Fde,n(o.$t("Buyer. (ASC)")),1),e("option",Yde,n(o.$t("Buyer. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",Vde,[e("label",Bde,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",Ude,n(o.$t("Bulk Actions")),1),e("option",qde,n(o.$t("Approve")),1),e("option",Hde,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",zde,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wde,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",Kde,n(o.$t("Approve")),1),e("div",Gde,[e("div",Qde,[e("div",Zde,[e("div",Jde,[e("h5",Xde,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",ece,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",tce,[e("table",oce,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",ace,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",nce,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",sce,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,lce)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",ice,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",rce,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,dce),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",cce,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",uce,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,_ce),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",mce,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",fce,[Y(e("input",{readonly:"",class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,hce),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",pce,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",vce,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,gce)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",bce,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,yce)])],32)):b("",!0)])])]),e("button",kce,n(o.$t("Reject")),1),e("div",$ce,[e("div",wce,[e("div",Dce,[e("div",xce,[e("h5",Cce,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",Pce,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",Ece,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",Ace,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,Ice)])],32)])])])]),e("div",Rce,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},a[31]||(a[31]=[e("i",{class:"ti ti-download ti-xs"},null,-1)]))])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Sce,[e("table",Tce,[e("thead",null,[e("tr",null,[e("th",jce,[e("div",Oce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1),a[32]||(a[32]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Mce,[e("td",Lce,[e("span",Nce,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Fce,[e("td",Yce,[e("span",Vce,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",Bce,[!i.buyer&&i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved?(u(),f("div",Uce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,qce)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("div",Hce,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,zce)])):b("",!0)]),e("td",null,n(i.buyer?i.buyer:i.company),1),i.purchase_order_number?(u(),f("td",Wce,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,Kce)])):(u(),f("td",Gce,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Zce,n(i.invoice_number),1)],8,Qce),e("td",Jce,[le(n(i.currency)+" ",1),e("span",Xce,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",eue,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",tue,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",oue,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",aue,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",nue,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",sue,[e("div",lue,[a[34]||(a[34]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,iue),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,rue),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,due),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,cue),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,uue),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,_ue),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,mue),a[35]||(a[35]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",fue,[e("div",hue,[e("div",pue,[e("div",vue,[e("div",gue,[e("span",null,n(o.$t("Loading"))+"...",1),a[33]||(a[33]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",bue,[e("li",yue,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,kue)]),i.can_edit?(u(),f("li",$ue,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,wue)])):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approve-btn-"+i.id)},[e("span",xue,n(o.$t("Approve")),1)],8,Due)):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",Cue,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,Pue)])):b("",!0),i.buyer?b("",!0):(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",Aue,n(o.$t("Checker Approvals")),1)],8,Eue)),!i.buyer&&i.authorization_group?(u(),f("li",{key:4,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",Rue,n(o.$t("Authorization Matrix")),1)],8,Iue)):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",Sue,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,Tue)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",jue,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Oue)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Lue,[e("div",Nue,[e("div",Fue,[e("h5",Yue,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Vue)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",Uue,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",que,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",Hue,[e("button",zue,n(o.$t("Confirm")),1)])],40,Bue)])])],8,Mue),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",Kue,[e("div",Gue,[e("div",Que,[e("h5",Zue,n(o.$t("Purchase Order")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Jue,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[36]||(a[36]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Xue)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[37]||(a[37]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,e_e)):b("",!0)])]),e("div",t_e,[e("div",o_e,[e("div",a_e,[e("span",n_e,[e("h5",s_e,n(o.$t("Vendor"))+":",1),e("h6",l_e,n(t.purchase_order_details.company.name),1)]),e("span",i_e,[e("h5",r_e,n(o.$t("Delivery Address"))+":",1),e("h6",d_e,n(t.purchase_order_details.delivery_address),1)]),e("span",c_e,[e("h5",u_e,n(o.$t("Remarks"))+":",1),e("h6",__e,n(t.purchase_order_details.remarks),1)]),e("span",m_e,[e("h5",f_e,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",h_e,[e("h5",p_e,n(o.$t("Rejection Reason"))+":",1),e("h6",v_e,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",g_e,[e("span",b_e,[e("h5",y_e,n(o.$t("PO No"))+":",1),e("h6",k_e,n(t.purchase_order_details.purchase_order_number),1)]),e("span",$_e,[e("h5",w_e,n(o.$t("Start Date"))+":",1),e("h6",D_e,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",x_e,[e("h5",C_e,n(o.$t("End Date"))+":",1),e("h6",P_e,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",E_e,[e("h5",A_e,n(o.$t("PO Amount"))+":",1),e("h6",I_e,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",R_e,[e("table",S_e,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",T_e,[e("span",j_e,[e("h6",O_e,n(o.$t("Total")),1),e("h5",M_e,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,Wue)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",N_e,[e("div",F_e,[e("div",Y_e,[e("h5",V_e,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,B_e)]),e("form",{onSubmit:a[18]||(a[18]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"view-fees-"+t.invoice_details.id},[e("div",q_e,[t.invoice_details.invoice_fees.length>0?(u(),f("div",H_e,[a[39]||(a[39]=e("div",{class:"d-flex justify-content-between"},[e("div")],-1)),e("div",z_e,[e("label",W_e,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",K_e,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,G_e)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,Q_e))]))),128)),e("div",Z_e,[e("label",J_e,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,X_e)])])):(u(),f("div",eme,[e("div",tme,[e("div",null,[e("span",null,n(o.$t("Fees not set for invoice "+t.invoice_details.invoice_number)),1)])])]))]),e("div",ome,[e("button",ame,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve Invoice")),1)])],40,U_e)])])],8,L_e)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",sme,[e("div",lme,[e("div",ime,[e("h5",rme,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,dme)]),e("form",{onSubmit:a[23]||(a[23]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",ume,[e("div",_me,[e("label",mme,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[19]||(a[19]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",fme,[e("label",hme,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control",required:"","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v)),readonly:""},null,40,pme),[[X,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",vme,[e("label",gme,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01",required:"","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v)),readonly:""},null,40,bme),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",yme,[e("label",kme,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[22]||(a[22]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",$me,[e("h5",wme,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",Dme,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",xme," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",Cme,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",Pme,[e("button",Eme,n(o.$t("Submit")),1)])],40,cme)])])],8,nme)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Ime=Ue(ede,[["render",Ame]]),Rme={name:"FactoringCashPlannerPrograms",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"factoring/cash-planner/programs",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,per_page:s,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.pending_programs})}}}},Sme={class:"card"},Tme={class:"card-header"},jme={class:"card-title"},Ome={class:"card-body"},Mme={class:"table-responsive"},Lme={class:"table"},Nme={class:"text-nowrap"},Fme={class:"table-border-bottom-0"},Yme={key:0},Vme={colspan:"12",class:"text-center"},Bme={class:"text-center"},Ume={key:1},qme={colspan:"12",class:"text-center"},Hme={class:"text-center"},zme={class:""},Wme={class:""},Kme={class:"text-success"},Gme={class:"text-success"},Qme={class:"text-success"},Zme={class:"text-success"},Jme={class:""};function Xme(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Sme,[e("div",Tme,[e("h6",jme,n(o.$t("Programs Details")),1)]),e("div",Ome,[t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Mme,[e("table",Lme,[e("thead",null,[e("tr",Nme,[e("th",null,n(o.$t("Payment/OD Account No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",Fme,[t.programs.data?b("",!0):(u(),f("tr",Yme,[e("td",Vme,[e("span",Bme,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Ume,[e("td",qme,[e("span",Hme,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",zme,n(l.payment_account_number),1),e("td",Wme,n(l.buyer_name),1),e("td",Kme,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Gme,n(l.utilized_amount<0?0:new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Qme,n(l.pipeline_amount<0?0:new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Zme,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",Jme,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const efe=Ue(Rme,[["render",Xme]]);var dv=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Vr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(o){return typeof console<"u"&&console.warn(o)},getWeek:function(o){var a=new Date(o.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);var s=new Date(a.getFullYear(),0,4);return 1+Math.round(((a.getTime()-s.getTime())/864e5-3+(s.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},fm={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(o){var a=o%100;if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Qa=function(o,a){return a===void 0&&(a=2),("000"+o).slice(a*-1)},Dn=function(o){return o===!0?1:0};function m0(o,a){var s;return function(){var t=this,c=arguments;clearTimeout(s),s=setTimeout(function(){return o.apply(t,c)},a)}}var cv=function(o){return o instanceof Array?o:[o]};function Ya(o,a,s){if(s===!0)return o.classList.add(a);o.classList.remove(a)}function Ao(o,a,s){var t=window.document.createElement(o);return a=a||"",s=s||"",t.className=a,s!==void 0&&(t.textContent=s),t}function _f(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function C5(o,a){if(a(o))return o;if(o.parentNode)return C5(o.parentNode,a)}function mf(o,a){var s=Ao("div","numInputWrapper"),t=Ao("input","numInput "+o),c=Ao("span","arrowUp"),m=Ao("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?t.type="number":(t.type="text",t.pattern="\\d*"),a!==void 0)for(var _ in a)t.setAttribute(_,a[_]);return s.appendChild(t),s.appendChild(c),s.appendChild(m),s}function rn(o){try{if(typeof o.composedPath=="function"){var a=o.composedPath();return a[0]}return o.target}catch{return o.target}}var uv=function(){},fh=function(o,a,s){return s.months[a?"shorthand":"longhand"][o]},tfe={D:uv,F:function(o,a,s){o.setMonth(s.months.longhand.indexOf(a))},G:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},H:function(o,a){o.setHours(parseFloat(a))},J:function(o,a){o.setDate(parseFloat(a))},K:function(o,a,s){o.setHours(o.getHours()%12+12*Dn(new RegExp(s.amPM[1],"i").test(a)))},M:function(o,a,s){o.setMonth(s.months.shorthand.indexOf(a))},S:function(o,a){o.setSeconds(parseFloat(a))},U:function(o,a){return new Date(parseFloat(a)*1e3)},W:function(o,a,s){var t=parseInt(a),c=new Date(o.getFullYear(),0,2+(t-1)*7,0,0,0,0);return c.setDate(c.getDate()-c.getDay()+s.firstDayOfWeek),c},Y:function(o,a){o.setFullYear(parseFloat(a))},Z:function(o,a){return new Date(a)},d:function(o,a){o.setDate(parseFloat(a))},h:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},i:function(o,a){o.setMinutes(parseFloat(a))},j:function(o,a){o.setDate(parseFloat(a))},l:uv,m:function(o,a){o.setMonth(parseFloat(a)-1)},n:function(o,a){o.setMonth(parseFloat(a)-1)},s:function(o,a){o.setSeconds(parseFloat(a))},u:function(o,a){return new Date(parseFloat(a))},w:uv,y:function(o,a){o.setFullYear(2e3+parseFloat(a))}},Zl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},B_={Z:function(o){return o.toISOString()},D:function(o,a,s){return a.weekdays.shorthand[B_.w(o,a,s)]},F:function(o,a,s){return fh(B_.n(o,a,s)-1,!1,a)},G:function(o,a,s){return Qa(B_.h(o,a,s))},H:function(o){return Qa(o.getHours())},J:function(o,a){return a.ordinal!==void 0?o.getDate()+a.ordinal(o.getDate()):o.getDate()},K:function(o,a){return a.amPM[Dn(o.getHours()>11)]},M:function(o,a){return fh(o.getMonth(),!0,a)},S:function(o){return Qa(o.getSeconds())},U:function(o){return o.getTime()/1e3},W:function(o,a,s){return s.getWeek(o)},Y:function(o){return Qa(o.getFullYear(),4)},d:function(o){return Qa(o.getDate())},h:function(o){return o.getHours()%12?o.getHours()%12:12},i:function(o){return Qa(o.getMinutes())},j:function(o){return o.getDate()},l:function(o,a){return a.weekdays.longhand[o.getDay()]},m:function(o){return Qa(o.getMonth()+1)},n:function(o){return o.getMonth()+1},s:function(o){return o.getSeconds()},u:function(o){return o.getTime()},w:function(o){return o.getDay()},y:function(o){return String(o.getFullYear()).substring(2)}},P5=function(o){var a=o.config,s=a===void 0?Vr:a,t=o.l10n,c=t===void 0?fm:t,m=o.isMobile,_=m===void 0?!1:m;return function(l,r,i){var d=i||c;return s.formatDate!==void 0&&!_?s.formatDate(l,r,d):r.split("").map(function(p,v,g){return B_[p]&&g[v-1]!=="\\"?B_[p](l,d,s):p!=="\\"?p:""}).join("")}},lg=function(o){var a=o.config,s=a===void 0?Vr:a,t=o.l10n,c=t===void 0?fm:t;return function(m,_,l,r){if(!(m!==0&&!m)){var i=r||c,d,p=m;if(m instanceof Date)d=new Date(m.getTime());else if(typeof m!="string"&&m.toFixed!==void 0)d=new Date(m);else if(typeof m=="string"){var v=_||(s||Vr).dateFormat,g=String(m).trim();if(g==="today")d=new Date,l=!0;else if(s&&s.parseDate)d=s.parseDate(m,v);else if(/Z$/.test(g)||/GMT$/.test(g))d=new Date(m);else{for(var w=void 0,y=[],x=0,C=0,E="";x<v.length;x++){var D=v[x],k=D==="\\",I=v[x-1]==="\\"||k;if(Zl[D]&&!I){E+=Zl[D];var V=new RegExp(E).exec(m);V&&(w=!0)&&y[D!=="Y"?"push":"unshift"]({fn:tfe[D],val:V[++C]})}else k||(E+=".")}d=!s||!s.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),y.forEach(function(B){var L=B.fn,F=B.val;return d=L(d,F,i)||d}),d=w?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){s.errorHandler(new Error("Invalid date provided: "+p));return}return l===!0&&d.setHours(0,0,0,0),d}}};function dn(o,a,s){return s===void 0&&(s=!0),s!==!1?new Date(o.getTime()).setHours(0,0,0,0)-new Date(a.getTime()).setHours(0,0,0,0):o.getTime()-a.getTime()}var ofe=function(o,a,s){return o>Math.min(a,s)&&o<Math.max(a,s)},_v=function(o,a,s){return o*3600+a*60+s},afe=function(o){var a=Math.floor(o/3600),s=(o-a*3600)/60;return[a,s,o-a*3600-s*60]},nfe={DAY:864e5};function mv(o){var a=o.defaultHour,s=o.defaultMinute,t=o.defaultSeconds;if(o.minDate!==void 0){var c=o.minDate.getHours(),m=o.minDate.getMinutes(),_=o.minDate.getSeconds();a<c&&(a=c),a===c&&s<m&&(s=m),a===c&&s===m&&t<_&&(t=o.minDate.getSeconds())}if(o.maxDate!==void 0){var l=o.maxDate.getHours(),r=o.maxDate.getMinutes();a=Math.min(a,l),a===l&&(s=Math.min(r,s)),a===l&&s===r&&(t=o.maxDate.getSeconds())}return{hours:a,minutes:s,seconds:t}}typeof Object.assign!="function"&&(Object.assign=function(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(!o)throw TypeError("Cannot convert undefined or null to object");for(var t=function(l){l&&Object.keys(l).forEach(function(r){return o[r]=l[r]})},c=0,m=a;c<m.length;c++){var _=m[c];t(_)}return o});var Aa=function(){return Aa=Object.assign||function(o){for(var a,s=1,t=arguments.length;s<t;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},Aa.apply(this,arguments)},f0=function(){for(var o=0,a=0,s=arguments.length;a<s;a++)o+=arguments[a].length;for(var t=Array(o),c=0,a=0;a<s;a++)for(var m=arguments[a],_=0,l=m.length;_<l;_++,c++)t[c]=m[_];return t},sfe=300;function lfe(o,a){var s={config:Aa(Aa({},Vr),ta.defaultConfig),l10n:fm};s.parseDate=lg({config:s.config,l10n:s.l10n}),s._handlers=[],s.pluginElements=[],s.loadedPlugins=[],s._bind=y,s._setHoursFromDate=v,s._positionCalendar=Se,s.changeMonth=z,s.changeYear=$e,s.clear=ae,s.close=we,s.onMouseOver=Me,s._createElement=Ao,s.createDay=V,s.destroy=Fe,s.isEnabled=De,s.jumpToDate=E,s.updateValue=Ft,s.open=je,s.redraw=te,s.set=se,s.setDate=Le,s.toggle=Jt;function t(){s.utils={getDaysInMonth:function(Pe,Te){return Pe===void 0&&(Pe=s.currentMonth),Te===void 0&&(Te=s.currentYear),Pe===1&&(Te%4===0&&Te%100!==0||Te%400===0)?29:s.l10n.daysInMonth[Pe]}}}function c(){s.element=s.input=o,s.isOpen=!1,Ye(),_e(),mt(),at(),t(),s.isMobile||I(),C(),(s.selectedDates.length||s.config.noCalendar)&&(s.config.enableTime&&v(s.config.noCalendar?s.latestSelectedDateObj:void 0),Ft(!1)),l();var Pe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!s.isMobile&&Pe&&Se(),ut("onReady")}function m(){var Pe;return((Pe=s.calendarContainer)===null||Pe===void 0?void 0:Pe.getRootNode()).activeElement||document.activeElement}function _(Pe){return Pe.bind(s)}function l(){var Pe=s.config;Pe.weekNumbers===!1&&Pe.showMonths===1||Pe.noCalendar!==!0&&window.requestAnimationFrame(function(){if(s.calendarContainer!==void 0&&(s.calendarContainer.style.visibility="hidden",s.calendarContainer.style.display="block"),s.daysContainer!==void 0){var Te=(s.days.offsetWidth+1)*Pe.showMonths;s.daysContainer.style.width=Te+"px",s.calendarContainer.style.width=Te+(s.weekWrapper!==void 0?s.weekWrapper.offsetWidth:0)+"px",s.calendarContainer.style.removeProperty("visibility"),s.calendarContainer.style.removeProperty("display")}})}function r(Pe){if(s.selectedDates.length===0){var Te=s.config.minDate===void 0||dn(new Date,s.config.minDate)>=0?new Date:new Date(s.config.minDate.getTime()),Ge=mv(s.config);Te.setHours(Ge.hours,Ge.minutes,Ge.seconds,Te.getMilliseconds()),s.selectedDates=[Te],s.latestSelectedDateObj=Te}Pe!==void 0&&Pe.type!=="blur"&&ro(Pe);var nt=s._input.value;p(),Ft(),s._input.value!==nt&&s._debouncedChange()}function i(Pe,Te){return Pe%12+12*Dn(Te===s.l10n.amPM[1])}function d(Pe){switch(Pe%24){case 0:case 12:return 12;default:return Pe%12}}function p(){if(!(s.hourElement===void 0||s.minuteElement===void 0)){var Pe=(parseInt(s.hourElement.value.slice(-2),10)||0)%24,Te=(parseInt(s.minuteElement.value,10)||0)%60,Ge=s.secondElement!==void 0?(parseInt(s.secondElement.value,10)||0)%60:0;s.amPM!==void 0&&(Pe=i(Pe,s.amPM.textContent));var nt=s.config.minTime!==void 0||s.config.minDate&&s.minDateHasTime&&s.latestSelectedDateObj&&dn(s.latestSelectedDateObj,s.config.minDate,!0)===0,yt=s.config.maxTime!==void 0||s.config.maxDate&&s.maxDateHasTime&&s.latestSelectedDateObj&&dn(s.latestSelectedDateObj,s.config.maxDate,!0)===0;if(s.config.maxTime!==void 0&&s.config.minTime!==void 0&&s.config.minTime>s.config.maxTime){var xt=_v(s.config.minTime.getHours(),s.config.minTime.getMinutes(),s.config.minTime.getSeconds()),Ut=_v(s.config.maxTime.getHours(),s.config.maxTime.getMinutes(),s.config.maxTime.getSeconds()),Tt=_v(Pe,Te,Ge);if(Tt>Ut&&Tt<xt){var Gt=afe(xt);Pe=Gt[0],Te=Gt[1],Ge=Gt[2]}}else{if(yt){var ct=s.config.maxTime!==void 0?s.config.maxTime:s.config.maxDate;Pe=Math.min(Pe,ct.getHours()),Pe===ct.getHours()&&(Te=Math.min(Te,ct.getMinutes())),Te===ct.getMinutes()&&(Ge=Math.min(Ge,ct.getSeconds()))}if(nt){var Ht=s.config.minTime!==void 0?s.config.minTime:s.config.minDate;Pe=Math.max(Pe,Ht.getHours()),Pe===Ht.getHours()&&Te<Ht.getMinutes()&&(Te=Ht.getMinutes()),Te===Ht.getMinutes()&&(Ge=Math.max(Ge,Ht.getSeconds()))}}g(Pe,Te,Ge)}}function v(Pe){var Te=Pe||s.latestSelectedDateObj;Te&&Te instanceof Date&&g(Te.getHours(),Te.getMinutes(),Te.getSeconds())}function g(Pe,Te,Ge){s.latestSelectedDateObj!==void 0&&s.latestSelectedDateObj.setHours(Pe%24,Te,Ge||0,0),!(!s.hourElement||!s.minuteElement||s.isMobile)&&(s.hourElement.value=Qa(s.config.time_24hr?Pe:(12+Pe)%12+12*Dn(Pe%12===0)),s.minuteElement.value=Qa(Te),s.amPM!==void 0&&(s.amPM.textContent=s.l10n.amPM[Dn(Pe>=12)]),s.secondElement!==void 0&&(s.secondElement.value=Qa(Ge)))}function w(Pe){var Te=rn(Pe),Ge=parseInt(Te.value)+(Pe.delta||0);(Ge/1e3>1||Pe.key==="Enter"&&!/[^\d]/.test(Ge.toString()))&&$e(Ge)}function y(Pe,Te,Ge,nt){if(Te instanceof Array)return Te.forEach(function(yt){return y(Pe,yt,Ge,nt)});if(Pe instanceof Array)return Pe.forEach(function(yt){return y(yt,Te,Ge,nt)});Pe.addEventListener(Te,Ge,nt),s._handlers.push({remove:function(){return Pe.removeEventListener(Te,Ge,nt)}})}function x(){ut("onChange")}function C(){if(s.config.wrap&&["open","close","toggle","clear"].forEach(function(Ge){Array.prototype.forEach.call(s.element.querySelectorAll("[data-"+Ge+"]"),function(nt){return y(nt,"click",s[Ge])})}),s.isMobile){Ot();return}var Pe=m0(ue,50);if(s._debouncedChange=m0(x,sfe),s.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&y(s.daysContainer,"mouseover",function(Ge){s.config.mode==="range"&&Me(rn(Ge))}),y(s._input,"keydown",be),s.calendarContainer!==void 0&&y(s.calendarContainer,"keydown",be),!s.config.inline&&!s.config.static&&y(window,"resize",Pe),window.ontouchstart!==void 0?y(window.document,"touchstart",re):y(window.document,"mousedown",re),y(window.document,"focus",re,{capture:!0}),s.config.clickOpens===!0&&(y(s._input,"focus",s.open),y(s._input,"click",s.open)),s.daysContainer!==void 0&&(y(s.monthNav,"click",Kt),y(s.monthNav,["keyup","increment"],w),y(s.daysContainer,"click",Ne)),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0){var Te=function(Ge){return rn(Ge).select()};y(s.timeContainer,["increment"],r),y(s.timeContainer,"blur",r,{capture:!0}),y(s.timeContainer,"click",D),y([s.hourElement,s.minuteElement],["focus","click"],Te),s.secondElement!==void 0&&y(s.secondElement,"focus",function(){return s.secondElement&&s.secondElement.select()}),s.amPM!==void 0&&y(s.amPM,"click",function(Ge){r(Ge)})}s.config.allowInput&&y(s._input,"blur",pe)}function E(Pe,Te){var Ge=Pe!==void 0?s.parseDate(Pe):s.latestSelectedDateObj||(s.config.minDate&&s.config.minDate>s.now?s.config.minDate:s.config.maxDate&&s.config.maxDate<s.now?s.config.maxDate:s.now),nt=s.currentYear,yt=s.currentMonth;try{Ge!==void 0&&(s.currentYear=Ge.getFullYear(),s.currentMonth=Ge.getMonth())}catch(xt){xt.message="Invalid date supplied: "+Ge,s.config.errorHandler(xt)}Te&&s.currentYear!==nt&&(ut("onYearChange"),O()),Te&&(s.currentYear!==nt||s.currentMonth!==yt)&&ut("onMonthChange"),s.redraw()}function D(Pe){var Te=rn(Pe);~Te.className.indexOf("arrow")&&k(Pe,Te.classList.contains("arrowUp")?1:-1)}function k(Pe,Te,Ge){var nt=Pe&&rn(Pe),yt=Ge||nt&&nt.parentNode&&nt.parentNode.firstChild,xt=gt("increment");xt.delta=Te,yt&&yt.dispatchEvent(xt)}function I(){var Pe=window.document.createDocumentFragment();if(s.calendarContainer=Ao("div","flatpickr-calendar"),s.calendarContainer.tabIndex=-1,!s.config.noCalendar){if(Pe.appendChild(U()),s.innerContainer=Ao("div","flatpickr-innerContainer"),s.config.weekNumbers){var Te=K(),Ge=Te.weekWrapper,nt=Te.weekNumbers;s.innerContainer.appendChild(Ge),s.weekNumbers=nt,s.weekWrapper=Ge}s.rContainer=Ao("div","flatpickr-rContainer"),s.rContainer.appendChild(oe()),s.daysContainer||(s.daysContainer=Ao("div","flatpickr-days"),s.daysContainer.tabIndex=-1),R(),s.rContainer.appendChild(s.daysContainer),s.innerContainer.appendChild(s.rContainer),Pe.appendChild(s.innerContainer)}s.config.enableTime&&Pe.appendChild(W()),Ya(s.calendarContainer,"rangeMode",s.config.mode==="range"),Ya(s.calendarContainer,"animate",s.config.animate===!0),Ya(s.calendarContainer,"multiMonth",s.config.showMonths>1),s.calendarContainer.appendChild(Pe);var yt=s.config.appendTo!==void 0&&s.config.appendTo.nodeType!==void 0;if((s.config.inline||s.config.static)&&(s.calendarContainer.classList.add(s.config.inline?"inline":"static"),s.config.inline&&(!yt&&s.element.parentNode?s.element.parentNode.insertBefore(s.calendarContainer,s._input.nextSibling):s.config.appendTo!==void 0&&s.config.appendTo.appendChild(s.calendarContainer)),s.config.static)){var xt=Ao("div","flatpickr-wrapper");s.element.parentNode&&s.element.parentNode.insertBefore(xt,s.element),xt.appendChild(s.element),s.altInput&&xt.appendChild(s.altInput),xt.appendChild(s.calendarContainer)}!s.config.static&&!s.config.inline&&(s.config.appendTo!==void 0?s.config.appendTo:window.document.body).appendChild(s.calendarContainer)}function V(Pe,Te,Ge,nt){var yt=De(Te,!0),xt=Ao("span",Pe,Te.getDate().toString());return xt.dateObj=Te,xt.$i=nt,xt.setAttribute("aria-label",s.formatDate(Te,s.config.ariaDateFormat)),Pe.indexOf("hidden")===-1&&dn(Te,s.now)===0&&(s.todayDateElem=xt,xt.classList.add("today"),xt.setAttribute("aria-current","date")),yt?(xt.tabIndex=-1,Vt(Te)&&(xt.classList.add("selected"),s.selectedDateElem=xt,s.config.mode==="range"&&(Ya(xt,"startRange",s.selectedDates[0]&&dn(Te,s.selectedDates[0],!0)===0),Ya(xt,"endRange",s.selectedDates[1]&&dn(Te,s.selectedDates[1],!0)===0),Pe==="nextMonthDay"&&xt.classList.add("inRange")))):xt.classList.add("flatpickr-disabled"),s.config.mode==="range"&&pt(Te)&&!Vt(Te)&&xt.classList.add("inRange"),s.weekNumbers&&s.config.showMonths===1&&Pe!=="prevMonthDay"&&nt%7===6&&s.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+s.config.getWeek(Te)+"</span>"),ut("onDayCreate",xt),xt}function B(Pe){Pe.focus(),s.config.mode==="range"&&Me(Pe)}function L(Pe){for(var Te=Pe>0?0:s.config.showMonths-1,Ge=Pe>0?s.config.showMonths:-1,nt=Te;nt!=Ge;nt+=Pe)for(var yt=s.daysContainer.children[nt],xt=Pe>0?0:yt.children.length-1,Ut=Pe>0?yt.children.length:-1,Tt=xt;Tt!=Ut;Tt+=Pe){var Gt=yt.children[Tt];if(Gt.className.indexOf("hidden")===-1&&De(Gt.dateObj))return Gt}}function F(Pe,Te){for(var Ge=Pe.className.indexOf("Month")===-1?Pe.dateObj.getMonth():s.currentMonth,nt=Te>0?s.config.showMonths:-1,yt=Te>0?1:-1,xt=Ge-s.currentMonth;xt!=nt;xt+=yt)for(var Ut=s.daysContainer.children[xt],Tt=Ge-s.currentMonth===xt?Pe.$i+Te:Te<0?Ut.children.length-1:0,Gt=Ut.children.length,ct=Tt;ct>=0&&ct<Gt&&ct!=(Te>0?Gt:-1);ct+=yt){var Ht=Ut.children[ct];if(Ht.className.indexOf("hidden")===-1&&De(Ht.dateObj)&&Math.abs(Pe.$i-ct)>=Math.abs(Te))return B(Ht)}s.changeMonth(yt),T(L(yt),0)}function T(Pe,Te){var Ge=m(),nt=ie(Ge||document.body),yt=Pe!==void 0?Pe:nt?Ge:s.selectedDateElem!==void 0&&ie(s.selectedDateElem)?s.selectedDateElem:s.todayDateElem!==void 0&&ie(s.todayDateElem)?s.todayDateElem:L(Te>0?1:-1);yt===void 0?s._input.focus():nt?F(yt,Te):B(yt)}function P(Pe,Te){for(var Ge=(new Date(Pe,Te,1).getDay()-s.l10n.firstDayOfWeek+7)%7,nt=s.utils.getDaysInMonth((Te-1+12)%12,Pe),yt=s.utils.getDaysInMonth(Te,Pe),xt=window.document.createDocumentFragment(),Ut=s.config.showMonths>1,Tt=Ut?"prevMonthDay hidden":"prevMonthDay",Gt=Ut?"nextMonthDay hidden":"nextMonthDay",ct=nt+1-Ge,Ht=0;ct<=nt;ct++,Ht++)xt.appendChild(V("flatpickr-day "+Tt,new Date(Pe,Te-1,ct),ct,Ht));for(ct=1;ct<=yt;ct++,Ht++)xt.appendChild(V("flatpickr-day",new Date(Pe,Te,ct),ct,Ht));for(var kt=yt+1;kt<=42-Ge&&(s.config.showMonths===1||Ht%7!==0);kt++,Ht++)xt.appendChild(V("flatpickr-day "+Gt,new Date(Pe,Te+1,kt%yt),kt,Ht));var dt=Ao("div","dayContainer");return dt.appendChild(xt),dt}function R(){if(s.daysContainer!==void 0){_f(s.daysContainer),s.weekNumbers&&_f(s.weekNumbers);for(var Pe=document.createDocumentFragment(),Te=0;Te<s.config.showMonths;Te++){var Ge=new Date(s.currentYear,s.currentMonth,1);Ge.setMonth(s.currentMonth+Te),Pe.appendChild(P(Ge.getFullYear(),Ge.getMonth()))}s.daysContainer.appendChild(Pe),s.days=s.daysContainer.firstChild,s.config.mode==="range"&&s.selectedDates.length===1&&Me()}}function O(){if(!(s.config.showMonths>1||s.config.monthSelectorType!=="dropdown")){var Pe=function(nt){return s.config.minDate!==void 0&&s.currentYear===s.config.minDate.getFullYear()&&nt<s.config.minDate.getMonth()?!1:!(s.config.maxDate!==void 0&&s.currentYear===s.config.maxDate.getFullYear()&&nt>s.config.maxDate.getMonth())};s.monthsDropdownContainer.tabIndex=-1,s.monthsDropdownContainer.innerHTML="";for(var Te=0;Te<12;Te++)if(Pe(Te)){var Ge=Ao("option","flatpickr-monthDropdown-month");Ge.value=new Date(s.currentYear,Te).getMonth().toString(),Ge.textContent=fh(Te,s.config.shorthandCurrentMonth,s.l10n),Ge.tabIndex=-1,s.currentMonth===Te&&(Ge.selected=!0),s.monthsDropdownContainer.appendChild(Ge)}}}function N(){var Pe=Ao("div","flatpickr-month"),Te=window.document.createDocumentFragment(),Ge;s.config.showMonths>1||s.config.monthSelectorType==="static"?Ge=Ao("span","cur-month"):(s.monthsDropdownContainer=Ao("select","flatpickr-monthDropdown-months"),s.monthsDropdownContainer.setAttribute("aria-label",s.l10n.monthAriaLabel),y(s.monthsDropdownContainer,"change",function(Ut){var Tt=rn(Ut),Gt=parseInt(Tt.value,10);s.changeMonth(Gt-s.currentMonth),ut("onMonthChange")}),O(),Ge=s.monthsDropdownContainer);var nt=mf("cur-year",{tabindex:"-1"}),yt=nt.getElementsByTagName("input")[0];yt.setAttribute("aria-label",s.l10n.yearAriaLabel),s.config.minDate&&yt.setAttribute("min",s.config.minDate.getFullYear().toString()),s.config.maxDate&&(yt.setAttribute("max",s.config.maxDate.getFullYear().toString()),yt.disabled=!!s.config.minDate&&s.config.minDate.getFullYear()===s.config.maxDate.getFullYear());var xt=Ao("div","flatpickr-current-month");return xt.appendChild(Ge),xt.appendChild(nt),Te.appendChild(xt),Pe.appendChild(Te),{container:Pe,yearElement:yt,monthElement:Ge}}function S(){_f(s.monthNav),s.monthNav.appendChild(s.prevMonthNav),s.config.showMonths&&(s.yearElements=[],s.monthElements=[]);for(var Pe=s.config.showMonths;Pe--;){var Te=N();s.yearElements.push(Te.yearElement),s.monthElements.push(Te.monthElement),s.monthNav.appendChild(Te.container)}s.monthNav.appendChild(s.nextMonthNav)}function U(){return s.monthNav=Ao("div","flatpickr-months"),s.yearElements=[],s.monthElements=[],s.prevMonthNav=Ao("span","flatpickr-prev-month"),s.prevMonthNav.innerHTML=s.config.prevArrow,s.nextMonthNav=Ao("span","flatpickr-next-month"),s.nextMonthNav.innerHTML=s.config.nextArrow,S(),Object.defineProperty(s,"_hidePrevMonthArrow",{get:function(){return s.__hidePrevMonthArrow},set:function(Pe){s.__hidePrevMonthArrow!==Pe&&(Ya(s.prevMonthNav,"flatpickr-disabled",Pe),s.__hidePrevMonthArrow=Pe)}}),Object.defineProperty(s,"_hideNextMonthArrow",{get:function(){return s.__hideNextMonthArrow},set:function(Pe){s.__hideNextMonthArrow!==Pe&&(Ya(s.nextMonthNav,"flatpickr-disabled",Pe),s.__hideNextMonthArrow=Pe)}}),s.currentYearElement=s.yearElements[0],Et(),s.monthNav}function W(){s.calendarContainer.classList.add("hasTime"),s.config.noCalendar&&s.calendarContainer.classList.add("noCalendar");var Pe=mv(s.config);s.timeContainer=Ao("div","flatpickr-time"),s.timeContainer.tabIndex=-1;var Te=Ao("span","flatpickr-time-separator",":"),Ge=mf("flatpickr-hour",{"aria-label":s.l10n.hourAriaLabel});s.hourElement=Ge.getElementsByTagName("input")[0];var nt=mf("flatpickr-minute",{"aria-label":s.l10n.minuteAriaLabel});if(s.minuteElement=nt.getElementsByTagName("input")[0],s.hourElement.tabIndex=s.minuteElement.tabIndex=-1,s.hourElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getHours():s.config.time_24hr?Pe.hours:d(Pe.hours)),s.minuteElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getMinutes():Pe.minutes),s.hourElement.setAttribute("step",s.config.hourIncrement.toString()),s.minuteElement.setAttribute("step",s.config.minuteIncrement.toString()),s.hourElement.setAttribute("min",s.config.time_24hr?"0":"1"),s.hourElement.setAttribute("max",s.config.time_24hr?"23":"12"),s.hourElement.setAttribute("maxlength","2"),s.minuteElement.setAttribute("min","0"),s.minuteElement.setAttribute("max","59"),s.minuteElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(Ge),s.timeContainer.appendChild(Te),s.timeContainer.appendChild(nt),s.config.time_24hr&&s.timeContainer.classList.add("time24hr"),s.config.enableSeconds){s.timeContainer.classList.add("hasSeconds");var yt=mf("flatpickr-second");s.secondElement=yt.getElementsByTagName("input")[0],s.secondElement.value=Qa(s.latestSelectedDateObj?s.latestSelectedDateObj.getSeconds():Pe.seconds),s.secondElement.setAttribute("step",s.minuteElement.getAttribute("step")),s.secondElement.setAttribute("min","0"),s.secondElement.setAttribute("max","59"),s.secondElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(Ao("span","flatpickr-time-separator",":")),s.timeContainer.appendChild(yt)}return s.config.time_24hr||(s.amPM=Ao("span","flatpickr-am-pm",s.l10n.amPM[Dn((s.latestSelectedDateObj?s.hourElement.value:s.config.defaultHour)>11)]),s.amPM.title=s.l10n.toggleTitle,s.amPM.tabIndex=-1,s.timeContainer.appendChild(s.amPM)),s.timeContainer}function oe(){s.weekdayContainer?_f(s.weekdayContainer):s.weekdayContainer=Ao("div","flatpickr-weekdays");for(var Pe=s.config.showMonths;Pe--;){var Te=Ao("div","flatpickr-weekdaycontainer");s.weekdayContainer.appendChild(Te)}return J(),s.weekdayContainer}function J(){if(s.weekdayContainer){var Pe=s.l10n.firstDayOfWeek,Te=f0(s.l10n.weekdays.shorthand);Pe>0&&Pe<Te.length&&(Te=f0(Te.splice(Pe,Te.length),Te.splice(0,Pe)));for(var Ge=s.config.showMonths;Ge--;)s.weekdayContainer.children[Ge].innerHTML=`
      <span class='flatpickr-weekday'>
        `+Te.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function K(){s.calendarContainer.classList.add("hasWeeks");var Pe=Ao("div","flatpickr-weekwrapper");Pe.appendChild(Ao("span","flatpickr-weekday",s.l10n.weekAbbreviation));var Te=Ao("div","flatpickr-weeks");return Pe.appendChild(Te),{weekWrapper:Pe,weekNumbers:Te}}function z(Pe,Te){Te===void 0&&(Te=!0);var Ge=Te?Pe:Pe-s.currentMonth;Ge<0&&s._hidePrevMonthArrow===!0||Ge>0&&s._hideNextMonthArrow===!0||(s.currentMonth+=Ge,(s.currentMonth<0||s.currentMonth>11)&&(s.currentYear+=s.currentMonth>11?1:-1,s.currentMonth=(s.currentMonth+12)%12,ut("onYearChange"),O()),R(),ut("onMonthChange"),Et())}function ae(Pe,Te){if(Pe===void 0&&(Pe=!0),Te===void 0&&(Te=!0),s.input.value="",s.altInput!==void 0&&(s.altInput.value=""),s.mobileInput!==void 0&&(s.mobileInput.value=""),s.selectedDates=[],s.latestSelectedDateObj=void 0,Te===!0&&(s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth()),s.config.enableTime===!0){var Ge=mv(s.config),nt=Ge.hours,yt=Ge.minutes,xt=Ge.seconds;g(nt,yt,xt)}s.redraw(),Pe&&ut("onChange")}function we(){s.isOpen=!1,s.isMobile||(s.calendarContainer!==void 0&&s.calendarContainer.classList.remove("open"),s._input!==void 0&&s._input.classList.remove("active")),ut("onClose")}function Fe(){s.config!==void 0&&ut("onDestroy");for(var Pe=s._handlers.length;Pe--;)s._handlers[Pe].remove();if(s._handlers=[],s.mobileInput)s.mobileInput.parentNode&&s.mobileInput.parentNode.removeChild(s.mobileInput),s.mobileInput=void 0;else if(s.calendarContainer&&s.calendarContainer.parentNode)if(s.config.static&&s.calendarContainer.parentNode){var Te=s.calendarContainer.parentNode;if(Te.lastChild&&Te.removeChild(Te.lastChild),Te.parentNode){for(;Te.firstChild;)Te.parentNode.insertBefore(Te.firstChild,Te);Te.parentNode.removeChild(Te)}}else s.calendarContainer.parentNode.removeChild(s.calendarContainer);s.altInput&&(s.input.type="text",s.altInput.parentNode&&s.altInput.parentNode.removeChild(s.altInput),delete s.altInput),s.input&&(s.input.type=s.input._type,s.input.classList.remove("flatpickr-input"),s.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ge){try{delete s[Ge]}catch{}})}function he(Pe){return s.calendarContainer.contains(Pe)}function re(Pe){if(s.isOpen&&!s.config.inline){var Te=rn(Pe),Ge=he(Te),nt=Te===s.input||Te===s.altInput||s.element.contains(Te)||Pe.path&&Pe.path.indexOf&&(~Pe.path.indexOf(s.input)||~Pe.path.indexOf(s.altInput)),yt=!nt&&!Ge&&!he(Pe.relatedTarget),xt=!s.config.ignoredFocusElements.some(function(Ut){return Ut.contains(Te)});yt&&xt&&(s.config.allowInput&&s.setDate(s._input.value,!1,s.config.altInput?s.config.altFormat:s.config.dateFormat),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0&&s.input.value!==""&&s.input.value!==void 0&&r(),s.close(),s.config&&s.config.mode==="range"&&s.selectedDates.length===1&&s.clear(!1))}}function $e(Pe){if(!(!Pe||s.config.minDate&&Pe<s.config.minDate.getFullYear()||s.config.maxDate&&Pe>s.config.maxDate.getFullYear())){var Te=Pe,Ge=s.currentYear!==Te;s.currentYear=Te||s.currentYear,s.config.maxDate&&s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth=Math.min(s.config.maxDate.getMonth(),s.currentMonth):s.config.minDate&&s.currentYear===s.config.minDate.getFullYear()&&(s.currentMonth=Math.max(s.config.minDate.getMonth(),s.currentMonth)),Ge&&(s.redraw(),ut("onYearChange"),O())}}function De(Pe,Te){var Ge;Te===void 0&&(Te=!0);var nt=s.parseDate(Pe,void 0,Te);if(s.config.minDate&&nt&&dn(nt,s.config.minDate,Te!==void 0?Te:!s.minDateHasTime)<0||s.config.maxDate&&nt&&dn(nt,s.config.maxDate,Te!==void 0?Te:!s.maxDateHasTime)>0)return!1;if(!s.config.enable&&s.config.disable.length===0)return!0;if(nt===void 0)return!1;for(var yt=!!s.config.enable,xt=(Ge=s.config.enable)!==null&&Ge!==void 0?Ge:s.config.disable,Ut=0,Tt=void 0;Ut<xt.length;Ut++){if(Tt=xt[Ut],typeof Tt=="function"&&Tt(nt))return yt;if(Tt instanceof Date&&nt!==void 0&&Tt.getTime()===nt.getTime())return yt;if(typeof Tt=="string"){var Gt=s.parseDate(Tt,void 0,!0);return Gt&&Gt.getTime()===nt.getTime()?yt:!yt}else if(typeof Tt=="object"&&nt!==void 0&&Tt.from&&Tt.to&&nt.getTime()>=Tt.from.getTime()&&nt.getTime()<=Tt.to.getTime())return yt}return!yt}function ie(Pe){return s.daysContainer!==void 0?Pe.className.indexOf("hidden")===-1&&Pe.className.indexOf("flatpickr-disabled")===-1&&s.daysContainer.contains(Pe):!1}function pe(Pe){var Te=Pe.target===s._input,Ge=s._input.value.trimEnd()!==Dt();Te&&Ge&&!(Pe.relatedTarget&&he(Pe.relatedTarget))&&s.setDate(s._input.value,!0,Pe.target===s.altInput?s.config.altFormat:s.config.dateFormat)}function be(Pe){var Te=rn(Pe),Ge=s.config.wrap?o.contains(Te):Te===s._input,nt=s.config.allowInput,yt=s.isOpen&&(!nt||!Ge),xt=s.config.inline&&Ge&&!nt;if(Pe.keyCode===13&&Ge){if(nt)return s.setDate(s._input.value,!0,Te===s.altInput?s.config.altFormat:s.config.dateFormat),s.close(),Te.blur();s.open()}else if(he(Te)||yt||xt){var Ut=!!s.timeContainer&&s.timeContainer.contains(Te);switch(Pe.keyCode){case 13:Ut?(Pe.preventDefault(),r(),Ce()):Ne(Pe);break;case 27:Pe.preventDefault(),Ce();break;case 8:case 46:Ge&&!s.config.allowInput&&(Pe.preventDefault(),s.clear());break;case 37:case 39:if(!Ut&&!Ge){Pe.preventDefault();var Tt=m();if(s.daysContainer!==void 0&&(nt===!1||Tt&&ie(Tt))){var Gt=Pe.keyCode===39?1:-1;Pe.ctrlKey?(Pe.stopPropagation(),z(Gt),T(L(1),0)):T(void 0,Gt)}}else s.hourElement&&s.hourElement.focus();break;case 38:case 40:Pe.preventDefault();var ct=Pe.keyCode===40?1:-1;s.daysContainer&&Te.$i!==void 0||Te===s.input||Te===s.altInput?Pe.ctrlKey?(Pe.stopPropagation(),$e(s.currentYear-ct),T(L(1),0)):Ut||T(void 0,ct*7):Te===s.currentYearElement?$e(s.currentYear-ct):s.config.enableTime&&(!Ut&&s.hourElement&&s.hourElement.focus(),r(Pe),s._debouncedChange());break;case 9:if(Ut){var Ht=[s.hourElement,s.minuteElement,s.secondElement,s.amPM].concat(s.pluginElements).filter(function(Oe){return Oe}),kt=Ht.indexOf(Te);if(kt!==-1){var dt=Ht[kt+(Pe.shiftKey?-1:1)];Pe.preventDefault(),(dt||s._input).focus()}}else!s.config.noCalendar&&s.daysContainer&&s.daysContainer.contains(Te)&&Pe.shiftKey&&(Pe.preventDefault(),s._input.focus());break}}if(s.amPM!==void 0&&Te===s.amPM)switch(Pe.key){case s.l10n.amPM[0].charAt(0):case s.l10n.amPM[0].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[0],p(),Ft();break;case s.l10n.amPM[1].charAt(0):case s.l10n.amPM[1].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[1],p(),Ft();break}(Ge||he(Te))&&ut("onKeyDown",Pe)}function Me(Pe,Te){if(Te===void 0&&(Te="flatpickr-day"),!(s.selectedDates.length!==1||Pe&&(!Pe.classList.contains(Te)||Pe.classList.contains("flatpickr-disabled")))){for(var Ge=Pe?Pe.dateObj.getTime():s.days.firstElementChild.dateObj.getTime(),nt=s.parseDate(s.selectedDates[0],void 0,!0).getTime(),yt=Math.min(Ge,s.selectedDates[0].getTime()),xt=Math.max(Ge,s.selectedDates[0].getTime()),Ut=!1,Tt=0,Gt=0,ct=yt;ct<xt;ct+=nfe.DAY)De(new Date(ct),!0)||(Ut=Ut||ct>yt&&ct<xt,ct<nt&&(!Tt||ct>Tt)?Tt=ct:ct>nt&&(!Gt||ct<Gt)&&(Gt=ct));var Ht=Array.from(s.rContainer.querySelectorAll("*:nth-child(-n+"+s.config.showMonths+") > ."+Te));Ht.forEach(function(kt){var dt=kt.dateObj,Oe=dt.getTime(),ye=Tt>0&&Oe<Tt||Gt>0&&Oe>Gt;if(ye){kt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(He){kt.classList.remove(He)});return}else if(Ut&&!ye)return;["startRange","inRange","endRange","notAllowed"].forEach(function(He){kt.classList.remove(He)}),Pe!==void 0&&(Pe.classList.add(Ge<=s.selectedDates[0].getTime()?"startRange":"endRange"),nt<Ge&&Oe===nt?kt.classList.add("startRange"):nt>Ge&&Oe===nt&&kt.classList.add("endRange"),Oe>=Tt&&(Gt===0||Oe<=Gt)&&ofe(Oe,nt,Ge)&&kt.classList.add("inRange"))})}}function ue(){s.isOpen&&!s.config.static&&!s.config.inline&&Se()}function je(Pe,Te){if(Te===void 0&&(Te=s._positionElement),s.isMobile===!0){if(Pe){Pe.preventDefault();var Ge=rn(Pe);Ge&&Ge.blur()}s.mobileInput!==void 0&&(s.mobileInput.focus(),s.mobileInput.click()),ut("onOpen");return}else if(s._input.disabled||s.config.inline)return;var nt=s.isOpen;s.isOpen=!0,nt||(s.calendarContainer.classList.add("open"),s._input.classList.add("active"),ut("onOpen"),Se(Te)),s.config.enableTime===!0&&s.config.noCalendar===!0&&s.config.allowInput===!1&&(Pe===void 0||!s.timeContainer.contains(Pe.relatedTarget))&&setTimeout(function(){return s.hourElement.select()},50)}function ze(Pe){return function(Te){var Ge=s.config["_"+Pe+"Date"]=s.parseDate(Te,s.config.dateFormat),nt=s.config["_"+(Pe==="min"?"max":"min")+"Date"];Ge!==void 0&&(s[Pe==="min"?"minDateHasTime":"maxDateHasTime"]=Ge.getHours()>0||Ge.getMinutes()>0||Ge.getSeconds()>0),s.selectedDates&&(s.selectedDates=s.selectedDates.filter(function(yt){return De(yt)}),!s.selectedDates.length&&Pe==="min"&&v(Ge),Ft()),s.daysContainer&&(te(),Ge!==void 0?s.currentYearElement[Pe]=Ge.getFullYear().toString():s.currentYearElement.removeAttribute(Pe),s.currentYearElement.disabled=!!nt&&Ge!==void 0&&nt.getFullYear()===Ge.getFullYear())}}function Ye(){var Pe=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Te=Aa(Aa({},JSON.parse(JSON.stringify(o.dataset||{}))),a),Ge={};s.config.parseDate=Te.parseDate,s.config.formatDate=Te.formatDate,Object.defineProperty(s.config,"enable",{get:function(){return s.config._enable},set:function(Ht){s.config._enable=Ze(Ht)}}),Object.defineProperty(s.config,"disable",{get:function(){return s.config._disable},set:function(Ht){s.config._disable=Ze(Ht)}});var nt=Te.mode==="time";if(!Te.dateFormat&&(Te.enableTime||nt)){var yt=ta.defaultConfig.dateFormat||Vr.dateFormat;Ge.dateFormat=Te.noCalendar||nt?"H:i"+(Te.enableSeconds?":S":""):yt+" H:i"+(Te.enableSeconds?":S":"")}if(Te.altInput&&(Te.enableTime||nt)&&!Te.altFormat){var xt=ta.defaultConfig.altFormat||Vr.altFormat;Ge.altFormat=Te.noCalendar||nt?"h:i"+(Te.enableSeconds?":S K":" K"):xt+(" h:i"+(Te.enableSeconds?":S":"")+" K")}Object.defineProperty(s.config,"minDate",{get:function(){return s.config._minDate},set:ze("min")}),Object.defineProperty(s.config,"maxDate",{get:function(){return s.config._maxDate},set:ze("max")});var Ut=function(Ht){return function(kt){s.config[Ht==="min"?"_minTime":"_maxTime"]=s.parseDate(kt,"H:i:S")}};Object.defineProperty(s.config,"minTime",{get:function(){return s.config._minTime},set:Ut("min")}),Object.defineProperty(s.config,"maxTime",{get:function(){return s.config._maxTime},set:Ut("max")}),Te.mode==="time"&&(s.config.noCalendar=!0,s.config.enableTime=!0),Object.assign(s.config,Ge,Te);for(var Tt=0;Tt<Pe.length;Tt++)s.config[Pe[Tt]]=s.config[Pe[Tt]]===!0||s.config[Pe[Tt]]==="true";dv.filter(function(Ht){return s.config[Ht]!==void 0}).forEach(function(Ht){s.config[Ht]=cv(s.config[Ht]||[]).map(_)}),s.isMobile=!s.config.disableMobile&&!s.config.inline&&s.config.mode==="single"&&!s.config.disable.length&&!s.config.enable&&!s.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Tt=0;Tt<s.config.plugins.length;Tt++){var Gt=s.config.plugins[Tt](s)||{};for(var ct in Gt)dv.indexOf(ct)>-1?s.config[ct]=cv(Gt[ct]).map(_).concat(s.config[ct]):typeof Te[ct]>"u"&&(s.config[ct]=Gt[ct])}Te.altInputClass||(s.config.altInputClass=ge().className+" "+s.config.altInputClass),ut("onParseConfig")}function ge(){return s.config.wrap?o.querySelector("[data-input]"):o}function _e(){typeof s.config.locale!="object"&&typeof ta.l10ns[s.config.locale]>"u"&&s.config.errorHandler(new Error("flatpickr: invalid locale "+s.config.locale)),s.l10n=Aa(Aa({},ta.l10ns.default),typeof s.config.locale=="object"?s.config.locale:s.config.locale!=="default"?ta.l10ns[s.config.locale]:void 0),Zl.D="("+s.l10n.weekdays.shorthand.join("|")+")",Zl.l="("+s.l10n.weekdays.longhand.join("|")+")",Zl.M="("+s.l10n.months.shorthand.join("|")+")",Zl.F="("+s.l10n.months.longhand.join("|")+")",Zl.K="("+s.l10n.amPM[0]+"|"+s.l10n.amPM[1]+"|"+s.l10n.amPM[0].toLowerCase()+"|"+s.l10n.amPM[1].toLowerCase()+")";var Pe=Aa(Aa({},a),JSON.parse(JSON.stringify(o.dataset||{})));Pe.time_24hr===void 0&&ta.defaultConfig.time_24hr===void 0&&(s.config.time_24hr=s.l10n.time_24hr),s.formatDate=P5(s),s.parseDate=lg({config:s.config,l10n:s.l10n})}function Se(Pe){if(typeof s.config.position=="function")return void s.config.position(s,Pe);if(s.calendarContainer!==void 0){ut("onPreCalendarPosition");var Te=Pe||s._positionElement,Ge=Array.prototype.reduce.call(s.calendarContainer.children,function(eo,jt){return eo+jt.offsetHeight},0),nt=s.calendarContainer.offsetWidth,yt=s.config.position.split(" "),xt=yt[0],Ut=yt.length>1?yt[1]:null,Tt=Te.getBoundingClientRect(),Gt=window.innerHeight-Tt.bottom,ct=xt==="above"||xt!=="below"&&Gt<Ge&&Tt.top>Ge,Ht=window.pageYOffset+Tt.top+(ct?-Ge-2:Te.offsetHeight+2);if(Ya(s.calendarContainer,"arrowTop",!ct),Ya(s.calendarContainer,"arrowBottom",ct),!s.config.inline){var kt=window.pageXOffset+Tt.left,dt=!1,Oe=!1;Ut==="center"?(kt-=(nt-Tt.width)/2,dt=!0):Ut==="right"&&(kt-=nt-Tt.width,Oe=!0),Ya(s.calendarContainer,"arrowLeft",!dt&&!Oe),Ya(s.calendarContainer,"arrowCenter",dt),Ya(s.calendarContainer,"arrowRight",Oe);var ye=window.document.body.offsetWidth-(window.pageXOffset+Tt.right),He=kt+nt>window.document.body.offsetWidth,Nt=ye+nt>window.document.body.offsetWidth;if(Ya(s.calendarContainer,"rightMost",He),!s.config.static)if(s.calendarContainer.style.top=Ht+"px",!He)s.calendarContainer.style.left=kt+"px",s.calendarContainer.style.right="auto";else if(!Nt)s.calendarContainer.style.left="auto",s.calendarContainer.style.right=ye+"px";else{var it=Ve();if(it===void 0)return;var _t=window.document.body.offsetWidth,tt=Math.max(0,_t/2-nt/2),ve=".flatpickr-calendar.centerMost:before",Re=".flatpickr-calendar.centerMost:after",vt=it.cssRules.length,Rt="{left:"+Tt.left+"px;right:auto;}";Ya(s.calendarContainer,"rightMost",!1),Ya(s.calendarContainer,"centerMost",!0),it.insertRule(ve+","+Re+Rt,vt),s.calendarContainer.style.left=tt+"px",s.calendarContainer.style.right="auto"}}}}function Ve(){for(var Pe=null,Te=0;Te<document.styleSheets.length;Te++){var Ge=document.styleSheets[Te];if(Ge.cssRules){try{Ge.cssRules}catch{continue}Pe=Ge;break}}return Pe??ke()}function ke(){var Pe=document.createElement("style");return document.head.appendChild(Pe),Pe.sheet}function te(){s.config.noCalendar||s.isMobile||(O(),Et(),R())}function Ce(){s._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(s.close,0):s.close()}function Ne(Pe){Pe.preventDefault(),Pe.stopPropagation();var Te=function(Ht){return Ht.classList&&Ht.classList.contains("flatpickr-day")&&!Ht.classList.contains("flatpickr-disabled")&&!Ht.classList.contains("notAllowed")},Ge=C5(rn(Pe),Te);if(Ge!==void 0){var nt=Ge,yt=s.latestSelectedDateObj=new Date(nt.dateObj.getTime()),xt=(yt.getMonth()<s.currentMonth||yt.getMonth()>s.currentMonth+s.config.showMonths-1)&&s.config.mode!=="range";if(s.selectedDateElem=nt,s.config.mode==="single")s.selectedDates=[yt];else if(s.config.mode==="multiple"){var Ut=Vt(yt);Ut?s.selectedDates.splice(parseInt(Ut),1):s.selectedDates.push(yt)}else s.config.mode==="range"&&(s.selectedDates.length===2&&s.clear(!1,!1),s.latestSelectedDateObj=yt,s.selectedDates.push(yt),dn(yt,s.selectedDates[0],!0)!==0&&s.selectedDates.sort(function(Ht,kt){return Ht.getTime()-kt.getTime()}));if(p(),xt){var Tt=s.currentYear!==yt.getFullYear();s.currentYear=yt.getFullYear(),s.currentMonth=yt.getMonth(),Tt&&(ut("onYearChange"),O()),ut("onMonthChange")}if(Et(),R(),Ft(),!xt&&s.config.mode!=="range"&&s.config.showMonths===1?B(nt):s.selectedDateElem!==void 0&&s.hourElement===void 0&&s.selectedDateElem&&s.selectedDateElem.focus(),s.hourElement!==void 0&&s.hourElement!==void 0&&s.hourElement.focus(),s.config.closeOnSelect){var Gt=s.config.mode==="single"&&!s.config.enableTime,ct=s.config.mode==="range"&&s.selectedDates.length===2&&!s.config.enableTime;(Gt||ct)&&Ce()}x()}}var Ie={locale:[_e,J],showMonths:[S,l,oe],minDate:[E],maxDate:[E],positionElement:[wt],clickOpens:[function(){s.config.clickOpens===!0?(y(s._input,"focus",s.open),y(s._input,"click",s.open)):(s._input.removeEventListener("focus",s.open),s._input.removeEventListener("click",s.open))}]};function se(Pe,Te){if(Pe!==null&&typeof Pe=="object"){Object.assign(s.config,Pe);for(var Ge in Pe)Ie[Ge]!==void 0&&Ie[Ge].forEach(function(nt){return nt()})}else s.config[Pe]=Te,Ie[Pe]!==void 0?Ie[Pe].forEach(function(nt){return nt()}):dv.indexOf(Pe)>-1&&(s.config[Pe]=cv(Te));s.redraw(),Ft(!0)}function fe(Pe,Te){var Ge=[];if(Pe instanceof Array)Ge=Pe.map(function(nt){return s.parseDate(nt,Te)});else if(Pe instanceof Date||typeof Pe=="number")Ge=[s.parseDate(Pe,Te)];else if(typeof Pe=="string")switch(s.config.mode){case"single":case"time":Ge=[s.parseDate(Pe,Te)];break;case"multiple":Ge=Pe.split(s.config.conjunction).map(function(nt){return s.parseDate(nt,Te)});break;case"range":Ge=Pe.split(s.l10n.rangeSeparator).map(function(nt){return s.parseDate(nt,Te)});break}else s.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Pe)));s.selectedDates=s.config.allowInvalidPreload?Ge:Ge.filter(function(nt){return nt instanceof Date&&De(nt,!1)}),s.config.mode==="range"&&s.selectedDates.sort(function(nt,yt){return nt.getTime()-yt.getTime()})}function Le(Pe,Te,Ge){if(Te===void 0&&(Te=!1),Ge===void 0&&(Ge=s.config.dateFormat),Pe!==0&&!Pe||Pe instanceof Array&&Pe.length===0)return s.clear(Te);fe(Pe,Ge),s.latestSelectedDateObj=s.selectedDates[s.selectedDates.length-1],s.redraw(),E(void 0,Te),v(),s.selectedDates.length===0&&s.clear(!1),Ft(Te),Te&&ut("onChange")}function Ze(Pe){return Pe.slice().map(function(Te){return typeof Te=="string"||typeof Te=="number"||Te instanceof Date?s.parseDate(Te,void 0,!0):Te&&typeof Te=="object"&&Te.from&&Te.to?{from:s.parseDate(Te.from,void 0),to:s.parseDate(Te.to,void 0)}:Te}).filter(function(Te){return Te})}function at(){s.selectedDates=[],s.now=s.parseDate(s.config.now)||new Date;var Pe=s.config.defaultDate||((s.input.nodeName==="INPUT"||s.input.nodeName==="TEXTAREA")&&s.input.placeholder&&s.input.value===s.input.placeholder?null:s.input.value);Pe&&fe(Pe,s.config.dateFormat),s._initialDate=s.selectedDates.length>0?s.selectedDates[0]:s.config.minDate&&s.config.minDate.getTime()>s.now.getTime()?s.config.minDate:s.config.maxDate&&s.config.maxDate.getTime()<s.now.getTime()?s.config.maxDate:s.now,s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth(),s.selectedDates.length>0&&(s.latestSelectedDateObj=s.selectedDates[0]),s.config.minTime!==void 0&&(s.config.minTime=s.parseDate(s.config.minTime,"H:i")),s.config.maxTime!==void 0&&(s.config.maxTime=s.parseDate(s.config.maxTime,"H:i")),s.minDateHasTime=!!s.config.minDate&&(s.config.minDate.getHours()>0||s.config.minDate.getMinutes()>0||s.config.minDate.getSeconds()>0),s.maxDateHasTime=!!s.config.maxDate&&(s.config.maxDate.getHours()>0||s.config.maxDate.getMinutes()>0||s.config.maxDate.getSeconds()>0)}function mt(){if(s.input=ge(),!s.input){s.config.errorHandler(new Error("Invalid input element specified"));return}s.input._type=s.input.type,s.input.type="text",s.input.classList.add("flatpickr-input"),s._input=s.input,s.config.altInput&&(s.altInput=Ao(s.input.nodeName,s.config.altInputClass),s._input=s.altInput,s.altInput.placeholder=s.input.placeholder,s.altInput.disabled=s.input.disabled,s.altInput.required=s.input.required,s.altInput.tabIndex=s.input.tabIndex,s.altInput.type="text",s.input.setAttribute("type","hidden"),!s.config.static&&s.input.parentNode&&s.input.parentNode.insertBefore(s.altInput,s.input.nextSibling)),s.config.allowInput||s._input.setAttribute("readonly","readonly"),wt()}function wt(){s._positionElement=s.config.positionElement||s._input}function Ot(){var Pe=s.config.enableTime?s.config.noCalendar?"time":"datetime-local":"date";s.mobileInput=Ao("input",s.input.className+" flatpickr-mobile"),s.mobileInput.tabIndex=1,s.mobileInput.type=Pe,s.mobileInput.disabled=s.input.disabled,s.mobileInput.required=s.input.required,s.mobileInput.placeholder=s.input.placeholder,s.mobileFormatStr=Pe==="datetime-local"?"Y-m-d\\TH:i:S":Pe==="date"?"Y-m-d":"H:i:S",s.selectedDates.length>0&&(s.mobileInput.defaultValue=s.mobileInput.value=s.formatDate(s.selectedDates[0],s.mobileFormatStr)),s.config.minDate&&(s.mobileInput.min=s.formatDate(s.config.minDate,"Y-m-d")),s.config.maxDate&&(s.mobileInput.max=s.formatDate(s.config.maxDate,"Y-m-d")),s.input.getAttribute("step")&&(s.mobileInput.step=String(s.input.getAttribute("step"))),s.input.type="hidden",s.altInput!==void 0&&(s.altInput.type="hidden");try{s.input.parentNode&&s.input.parentNode.insertBefore(s.mobileInput,s.input.nextSibling)}catch{}y(s.mobileInput,"change",function(Te){s.setDate(rn(Te).value,!1,s.mobileFormatStr),ut("onChange"),ut("onClose")})}function Jt(Pe){if(s.isOpen===!0)return s.close();s.open(Pe)}function ut(Pe,Te){if(s.config!==void 0){var Ge=s.config[Pe];if(Ge!==void 0&&Ge.length>0)for(var nt=0;Ge[nt]&&nt<Ge.length;nt++)Ge[nt](s.selectedDates,s.input.value,s,Te);Pe==="onChange"&&(s.input.dispatchEvent(gt("change")),s.input.dispatchEvent(gt("input")))}}function gt(Pe){var Te=document.createEvent("Event");return Te.initEvent(Pe,!0,!0),Te}function Vt(Pe){for(var Te=0;Te<s.selectedDates.length;Te++){var Ge=s.selectedDates[Te];if(Ge instanceof Date&&dn(Ge,Pe)===0)return""+Te}return!1}function pt(Pe){return s.config.mode!=="range"||s.selectedDates.length<2?!1:dn(Pe,s.selectedDates[0])>=0&&dn(Pe,s.selectedDates[1])<=0}function Et(){s.config.noCalendar||s.isMobile||!s.monthNav||(s.yearElements.forEach(function(Pe,Te){var Ge=new Date(s.currentYear,s.currentMonth,1);Ge.setMonth(s.currentMonth+Te),s.config.showMonths>1||s.config.monthSelectorType==="static"?s.monthElements[Te].textContent=fh(Ge.getMonth(),s.config.shorthandCurrentMonth,s.l10n)+" ":s.monthsDropdownContainer.value=Ge.getMonth().toString(),Pe.value=Ge.getFullYear().toString()}),s._hidePrevMonthArrow=s.config.minDate!==void 0&&(s.currentYear===s.config.minDate.getFullYear()?s.currentMonth<=s.config.minDate.getMonth():s.currentYear<s.config.minDate.getFullYear()),s._hideNextMonthArrow=s.config.maxDate!==void 0&&(s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth+1>s.config.maxDate.getMonth():s.currentYear>s.config.maxDate.getFullYear()))}function Dt(Pe){var Te=Pe||(s.config.altInput?s.config.altFormat:s.config.dateFormat);return s.selectedDates.map(function(Ge){return s.formatDate(Ge,Te)}).filter(function(Ge,nt,yt){return s.config.mode!=="range"||s.config.enableTime||yt.indexOf(Ge)===nt}).join(s.config.mode!=="range"?s.config.conjunction:s.l10n.rangeSeparator)}function Ft(Pe){Pe===void 0&&(Pe=!0),s.mobileInput!==void 0&&s.mobileFormatStr&&(s.mobileInput.value=s.latestSelectedDateObj!==void 0?s.formatDate(s.latestSelectedDateObj,s.mobileFormatStr):""),s.input.value=Dt(s.config.dateFormat),s.altInput!==void 0&&(s.altInput.value=Dt(s.config.altFormat)),Pe!==!1&&ut("onValueUpdate")}function Kt(Pe){var Te=rn(Pe),Ge=s.prevMonthNav.contains(Te),nt=s.nextMonthNav.contains(Te);Ge||nt?z(Ge?-1:1):s.yearElements.indexOf(Te)>=0?Te.select():Te.classList.contains("arrowUp")?s.changeYear(s.currentYear+1):Te.classList.contains("arrowDown")&&s.changeYear(s.currentYear-1)}function ro(Pe){Pe.preventDefault();var Te=Pe.type==="keydown",Ge=rn(Pe),nt=Ge;s.amPM!==void 0&&Ge===s.amPM&&(s.amPM.textContent=s.l10n.amPM[Dn(s.amPM.textContent===s.l10n.amPM[0])]);var yt=parseFloat(nt.getAttribute("min")),xt=parseFloat(nt.getAttribute("max")),Ut=parseFloat(nt.getAttribute("step")),Tt=parseInt(nt.value,10),Gt=Pe.delta||(Te?Pe.which===38?1:-1:0),ct=Tt+Ut*Gt;if(typeof nt.value<"u"&&nt.value.length===2){var Ht=nt===s.hourElement,kt=nt===s.minuteElement;ct<yt?(ct=xt+ct+Dn(!Ht)+(Dn(Ht)&&Dn(!s.amPM)),kt&&k(void 0,-1,s.hourElement)):ct>xt&&(ct=nt===s.hourElement?ct-xt-Dn(!s.amPM):yt,kt&&k(void 0,1,s.hourElement)),s.amPM&&Ht&&(Ut===1?ct+Tt===23:Math.abs(ct-Tt)>Ut)&&(s.amPM.textContent=s.l10n.amPM[Dn(s.amPM.textContent===s.l10n.amPM[0])]),nt.value=Qa(ct)}}return c(),s}function Br(o,a){for(var s=Array.prototype.slice.call(o).filter(function(_){return _ instanceof HTMLElement}),t=[],c=0;c<s.length;c++){var m=s[c];try{if(m.getAttribute("data-fp-omit")!==null)continue;m._flatpickr!==void 0&&(m._flatpickr.destroy(),m._flatpickr=void 0),m._flatpickr=lfe(m,a||{}),t.push(m._flatpickr)}catch(_){console.error(_)}}return t.length===1?t[0]:t}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(o){return Br(this,o)},HTMLElement.prototype.flatpickr=function(o){return Br([this],o)});var ta=function(o,a){return typeof o=="string"?Br(window.document.querySelectorAll(o),a):o instanceof Node?Br([o],a):Br(o,a)};ta.defaultConfig={};ta.l10ns={en:Aa({},fm),default:Aa({},fm)};ta.localize=function(o){ta.l10ns.default=Aa(Aa({},ta.l10ns.default),o)};ta.setDefaults=function(o){ta.defaultConfig=Aa(Aa({},ta.defaultConfig),o)};ta.parseDate=lg({});ta.formatDate=P5({});ta.compareDates=dn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(o){return Br(this,o)});Date.prototype.fp_incr=function(o){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof o=="string"?parseInt(o,10):o))};typeof window<"u"&&(window.flatpickr=ta);const E5=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],ife=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function h0(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function p0(o){return o instanceof Array?o:[o]}function fv(o){return o&&o.length?o:null}const v0=[...E5,...ife],rfe=["locale","showMonths"],jl=Oa({name:"FlatPickr",compatConfig:{MODE:3},render(){return En("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...v0.map(h0)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>E5},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=ta(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let o=Object.assign({},this.config);this.events.forEach(s=>{let t=ta.defaultConfig[s]||[],c=(...m)=>{this.$emit(h0(s),...m)};o[s]=p0(o[s]||[]).concat(t,c)});const a=this.onClose.bind(this);return o.onClose=p0(o.onClose||[]).concat(a),o.defaultDate=this.modelValue||o.defaultDate,o},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(o){const a=o.target;bt().then(()=>{this.$emit("update:modelValue",fv(a.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(o){this.$emit("blur",fv(o.target.value))},onClose(o,a){this.$emit("update:modelValue",a)},watchDisabled(o){o?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(o){if(!this.fp)return;let a=Object.assign({},o);v0.forEach(s=>{delete a[s]}),this.fp.set(a),rfe.forEach(s=>{typeof a[s]<"u"&&this.fp.set(s,a[s])})}},modelValue(o){var a;!this.$el||o===fv(this.$el.value)||(a=this.fp)===null||a===void 0||a.setDate(o,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});function hm(o){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hm(o)}function dfe(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function cfe(o,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,_fe(t.key),t)}}function ufe(o,a,s){return a&&cfe(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o}function _fe(o){var a=mfe(o,"string");return hm(a)=="symbol"?a:a+""}function mfe(o,a){if(hm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a);if(hm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var ffe=function(){function o(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};dfe(this,o),this.element=a,this.listener=s}return ufe(o,[{key:"bindScrollListener",value:function(){this.scrollableParents=DR(this.element);for(var s=0;s<this.scrollableParents.length;s++)this.scrollableParents[s].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var s=0;s<this.scrollableParents.length;s++)this.scrollableParents[s].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function g0(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return f1(o)}var gl={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(a){return this._loadedStyleNames.has(a)},setLoadedStyleName:function(a){this._loadedStyleNames.add(a)},deleteLoadedStyleName:function(a){this._loadedStyleNames.delete(a)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},b0=Fo.extend({name:"common"});function pm(o){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pm(o)}function hfe(o){return R5(o)||pfe(o)||I5(o)||A5()}function pfe(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function Cd(o,a){return R5(o)||vfe(o,a)||I5(o,a)||A5()}function A5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(o,a){if(o){if(typeof o=="string")return y0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?y0(o,a):void 0}}function y0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function vfe(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a===0){if(Object(s)!==s)return;r=!1}else for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function R5(o){if(Array.isArray(o))return o}function k0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function ho(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?k0(Object(s),!0).forEach(function(t){Ic(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):k0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function Ic(o,a,s){return(a=gfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function gfe(o){var a=bfe(o,"string");return pm(a)=="symbol"?a:a+""}function bfe(o,a){if(pm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(pm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var rp={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(a){a||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(a){var s=this;a?(this._loadScopedThemeStyles(a),this._themeChangeListener(function(){return s._loadScopedThemeStyles(a)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,$attrSelector:void 0,beforeCreate:function(){var a,s,t,c,m,_,l,r,i,d,p,v=(a=this.pt)===null||a===void 0?void 0:a._usept,g=v?(s=this.pt)===null||s===void 0||(s=s.originalValue)===null||s===void 0?void 0:s[this.$.type.name]:void 0,w=v?(t=this.pt)===null||t===void 0||(t=t.value)===null||t===void 0?void 0:t[this.$.type.name]:this.pt;(c=w||g)===null||c===void 0||(c=c.hooks)===null||c===void 0||(m=c.onBeforeCreate)===null||m===void 0||m.call(c);var y=(_=this.$primevueConfig)===null||_===void 0||(_=_.pt)===null||_===void 0?void 0:_._usept,x=y?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,C=y?(r=this.$primevue)===null||r===void 0||(r=r.config)===null||r===void 0||(r=r.pt)===null||r===void 0?void 0:r.value:(i=this.$primevue)===null||i===void 0||(i=i.config)===null||i===void 0?void 0:i.pt;(d=C||x)===null||d===void 0||(d=d[this.$.type.name])===null||d===void 0||(d=d.hooks)===null||d===void 0||(p=d.onBeforeCreate)===null||p===void 0||p.call(d),this.$attrSelector=f1("pc")},created:function(){this._hook("onCreated")},beforeMount:function(){this.rootEl=qn(this.$el,'[data-pc-name="'.concat(Wn(this.$.type.name),'"]')),this.rootEl&&(this.$attrSelector&&!this.rootEl.hasAttribute(this.$attrSelector)&&this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=ho({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(a){if(!this.$options.hostName){var s=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(a)),t=this._useDefaultPT(this._getOptionValue,"hooks.".concat(a));s==null||s(),t==null||t()}},_mergeProps:function(a){for(var s=arguments.length,t=new Array(s>1?s-1:0),c=1;c<s;c++)t[c-1]=arguments[c];return d1(a)?a.apply(void 0,t):$t.apply(void 0,t)},_loadStyles:function(){var a=this,s=function(){gl.isStyleNameLoaded("base")||(Fo.loadCSS(a.$styleOptions),a._loadGlobalStyles(),gl.setLoadedStyleName("base")),a._loadThemeStyles()};s(),this._themeChangeListener(s)},_loadCoreStyles:function(){var a,s;!gl.isStyleNameLoaded((a=this.$style)===null||a===void 0?void 0:a.name)&&(s=this.$style)!==null&&s!==void 0&&s.name&&(b0.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),gl.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var a=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Lo(a)&&Fo.load(a,ho({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var a,s;if(!(this.isUnstyled||this.$theme==="none")){if(!Oo.isStyleNameLoaded("common")){var t,c,m=((t=this.$style)===null||t===void 0||(c=t.getCommonTheme)===null||c===void 0?void 0:c.call(t))||{},_=m.primitive,l=m.semantic,r=m.global,i=m.style;Fo.load(_==null?void 0:_.css,ho({name:"primitive-variables"},this.$styleOptions)),Fo.load(l==null?void 0:l.css,ho({name:"semantic-variables"},this.$styleOptions)),Fo.load(r==null?void 0:r.css,ho({name:"global-variables"},this.$styleOptions)),Fo.loadTheme(ho({name:"global-style"},this.$styleOptions),i),Oo.setLoadedStyleName("common")}if(!Oo.isStyleNameLoaded((a=this.$style)===null||a===void 0?void 0:a.name)&&(s=this.$style)!==null&&s!==void 0&&s.name){var d,p,v,g,w=((d=this.$style)===null||d===void 0||(p=d.getComponentTheme)===null||p===void 0?void 0:p.call(d))||{},y=w.css,x=w.style;(v=this.$style)===null||v===void 0||v.load(y,ho({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(g=this.$style)===null||g===void 0||g.loadTheme(ho({name:"".concat(this.$style.name,"-style")},this.$styleOptions),x),Oo.setLoadedStyleName(this.$style.name)}if(!Oo.isStyleNameLoaded("layer-order")){var C,E,D=(C=this.$style)===null||C===void 0||(E=C.getLayerOrderThemeCSS)===null||E===void 0?void 0:E.call(C);Fo.load(D,ho({name:"layer-order",first:!0},this.$styleOptions)),Oo.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(a){var s,t,c,m=((s=this.$style)===null||s===void 0||(t=s.getPresetTheme)===null||t===void 0?void 0:t.call(s,a,"[".concat(this.$attrSelector,"]")))||{},_=m.css,l=(c=this.$style)===null||c===void 0?void 0:c.load(_,ho({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=l.el},_unloadScopedThemeStyles:function(){var a;(a=this.scopedStyleEl)===null||a===void 0||(a=a.value)===null||a===void 0||a.remove()},_themeChangeListener:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};gl.clearLoadedStyleNames(),Hn.on("theme:change",a)},_getHostInstance:function(a){return a?this.$options.hostName?a.$.type.name===this.$options.hostName?a:this._getHostInstance(a.$parentInstance):a.$parentInstance:void 0},_getPropValue:function(a){var s;return this[a]||((s=this._getHostInstance(this))===null||s===void 0?void 0:s[a])},_getOptionValue:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c1(a,s,t)},_getPTValue:function(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,_=/./g.test(t)&&!!c[t.split(".")[0]],l=this._getPropValue("ptOptions")||((a=this.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},r=l.mergeSections,i=r===void 0?!0:r,d=l.mergeProps,p=d===void 0?!1:d,v=m?_?this._useGlobalPT(this._getPTClassValue,t,c):this._useDefaultPT(this._getPTClassValue,t,c):void 0,g=_?void 0:this._getPTSelf(s,this._getPTClassValue,t,ho(ho({},c),{},{global:v||{}})),w=this._getPTDatasets(t);return i||!i&&g?p?this._mergeProps(p,v,g,w):ho(ho(ho({},v),g),w):ho(ho({},g),w)},_getPTSelf:function(){for(var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length,t=new Array(s>1?s-1:0),c=1;c<s;c++)t[c-1]=arguments[c];return $t(this._usePT.apply(this,[this._getPT(a,this.$name)].concat(t)),this._usePT.apply(this,[this.$_attrsPT].concat(t)))},_getPTDatasets:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c="data-pc-",m=t==="root"&&Lo((a=this.pt)===null||a===void 0?void 0:a["data-pc-section"]);return t!=="transition"&&ho(ho({},t==="root"&&ho(ho(Ic({},"".concat(c,"name"),Wn(m?(s=this.pt)===null||s===void 0?void 0:s["data-pc-section"]:this.$.type.name)),m&&Ic({},"".concat(c,"extend"),Wn(this.$.type.name))),m1()&&Ic({},"".concat(this.$attrSelector),""))),{},Ic({},"".concat(c,"section"),Wn(t)))},_getPTClassValue:function(){var a=this._getOptionValue.apply(this,arguments);return tn(a)||Wh(a)?{class:a}:a},_getPT:function(a){var s=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,m=function(l){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=c?c(l):l,p=Wn(t),v=Wn(s.$name);return(r=i?p!==v?d==null?void 0:d[p]:void 0:d==null?void 0:d[p])!==null&&r!==void 0?r:d};return a!=null&&a.hasOwnProperty("_usept")?{_usept:a._usept,originalValue:m(a.originalValue),value:m(a.value)}:m(a,!0)},_usePT:function(a,s,t,c){var m=function(y){return s(y,t,c)};if(a!=null&&a.hasOwnProperty("_usept")){var _,l=a._usept||((_=this.$primevueConfig)===null||_===void 0?void 0:_.ptOptions)||{},r=l.mergeSections,i=r===void 0?!0:r,d=l.mergeProps,p=d===void 0?!1:d,v=m(a.originalValue),g=m(a.value);return v===void 0&&g===void 0?void 0:tn(g)?g:tn(v)?v:i||!i&&g?p?this._mergeProps(p,v,g):ho(ho({},v),g):g}return m(a)},_useGlobalPT:function(a,s,t){return this._usePT(this.globalPT,a,s,t)},_useDefaultPT:function(a,s,t){return this._usePT(this.defaultPT,a,s,t)},ptm:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,a,ho(ho({},this.$params),s))},ptmi:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $t(this.$_attrsWithoutPT,this.ptm(a,s))},ptmo:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(a,s,ho({instance:this},t),!1)},cx:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,a,ho(ho({},this.$params),s))},sx:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s){var c=this._getOptionValue(this.$style.inlineStyles,a,ho(ho({},this.$params),t)),m=this._getOptionValue(b0.inlineStyles,a,ho(ho({},this.$params),t));return[m,c]}}},computed:{globalPT:function(){var a,s=this;return this._getPT((a=this.$primevueConfig)===null||a===void 0?void 0:a.pt,void 0,function(t){return In(t,{instance:s})})},defaultPT:function(){var a,s=this;return this._getPT((a=this.$primevueConfig)===null||a===void 0?void 0:a.pt,void 0,function(t){return s._getOptionValue(t,s.$name,ho({},s.$params))||In(t,ho({},s.$params))})},isUnstyled:function(){var a;return this.unstyled!==void 0?this.unstyled:(a=this.$primevueConfig)===null||a===void 0?void 0:a.unstyled},$inProps:function(){var a,s=Object.keys(((a=this.$.vnode)===null||a===void 0?void 0:a.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(t){var c=Cd(t,1),m=c[0];return s==null?void 0:s.includes(m)}))},$theme:function(){var a;return(a=this.$primevueConfig)===null||a===void 0?void 0:a.theme},$style:function(){return ho(ho({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var a;return{nonce:(a=this.$primevueConfig)===null||a===void 0||(a=a.csp)===null||a===void 0?void 0:a.nonce}},$primevueConfig:function(){var a;return(a=this.$primevue)===null||a===void 0?void 0:a.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var a=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:a,props:a==null?void 0:a.$props,state:a==null?void 0:a.$data,attrs:a==null?void 0:a.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(a){var s=Cd(a,1),t=s[0];return t==null?void 0:t.startsWith("pt:")}).reduce(function(a,s){var t=Cd(s,2),c=t[0],m=t[1],_=c.split(":"),l=hfe(_),r=l.slice(1);return r==null||r.reduce(function(i,d,p,v){return!i[d]&&(i[d]=p===v.length-1?m:{}),i[d]},a),a},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(a){var s=Cd(a,1),t=s[0];return!(t!=null&&t.startsWith("pt:"))}).reduce(function(a,s){var t=Cd(s,2),c=t[0],m=t[1];return a[c]=m,a},{})}}},yfe=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,kfe=Fo.extend({name:"baseicon",css:yfe});function vm(o){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vm(o)}function $0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function w0(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?$0(Object(s),!0).forEach(function(t){$fe(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):$0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function $fe(o,a,s){return(a=wfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function wfe(o){var a=Dfe(o,"string");return vm(a)=="symbol"?a:a+""}function Dfe(o,a){if(vm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(vm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var sd={name:"BaseIcon",extends:rp,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:kfe,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var a=pi(this.label);return w0(w0({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:a?void 0:"img","aria-label":a?void 0:this.label,"aria-hidden":a})}}},S5={name:"CalendarIcon",extends:sd};function xfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"},null,-1)]),16)}S5.render=xfe;var T5={name:"ChevronDownIcon",extends:sd};function Cfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}T5.render=Cfe;var j5={name:"ChevronLeftIcon",extends:sd};function Pfe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1)]),16)}j5.render=Pfe;var O5={name:"ChevronRightIcon",extends:sd};function Efe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)]),16)}O5.render=Efe;var M5={name:"ChevronUpIcon",extends:sd};function Afe(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)]),16)}M5.render=Afe;var L5={name:"SpinnerIcon",extends:sd};function Ife(o,a,s,t,c,m){return u(),f("svg",$t({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),a[0]||(a[0]=[e("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}L5.render=Ife;var Rfe=function(a){var s=a.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(s("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(s("badge.padding"),`;
    background: `).concat(s("badge.primary.background"),`;
    color: `).concat(s("badge.primary.color"),`;
    font-size: `).concat(s("badge.font.size"),`;
    font-weight: `).concat(s("badge.font.weight"),`;
    min-width: `).concat(s("badge.min.width"),`;
    height: `).concat(s("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(s("badge.dot.size"),`;
    min-width: `).concat(s("badge.dot.size"),`;
    height: `).concat(s("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(s("badge.secondary.background"),`;
    color: `).concat(s("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(s("badge.success.background"),`;
    color: `).concat(s("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(s("badge.info.background"),`;
    color: `).concat(s("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(s("badge.warn.background"),`;
    color: `).concat(s("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(s("badge.danger.background"),`;
    color: `).concat(s("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(s("badge.contrast.background"),`;
    color: `).concat(s("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(s("badge.sm.font.size"),`;
    min-width: `).concat(s("badge.sm.min.width"),`;
    height: `).concat(s("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(s("badge.lg.font.size"),`;
    min-width: `).concat(s("badge.lg.min.width"),`;
    height: `).concat(s("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(s("badge.xl.font.size"),`;
    min-width: `).concat(s("badge.xl.min.width"),`;
    height: `).concat(s("badge.xl.height"),`;
}
`)},Sfe={root:function(a){var s=a.props,t=a.instance;return["p-badge p-component",{"p-badge-circle":Lo(s.value)&&String(s.value).length===1,"p-badge-dot":pi(s.value)&&!t.$slots.default,"p-badge-sm":s.size==="small","p-badge-lg":s.size==="large","p-badge-xl":s.size==="xlarge","p-badge-info":s.severity==="info","p-badge-success":s.severity==="success","p-badge-warn":s.severity==="warn","p-badge-danger":s.severity==="danger","p-badge-secondary":s.severity==="secondary","p-badge-contrast":s.severity==="contrast"}]}},Tfe=Fo.extend({name:"badge",theme:Rfe,classes:Sfe}),jfe={name:"BaseBadge",extends:rp,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:Tfe,provide:function(){return{$pcBadge:this,$parentInstance:this}}},N5={name:"Badge",extends:jfe,inheritAttrs:!1};function Ofe(o,a,s,t,c,m){return u(),f("span",$t({class:o.cx("root")},o.ptmi("root")),[jo(o.$slots,"default",{},function(){return[le(n(o.value),1)]})],16)}N5.render=Ofe;function gm(o){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gm(o)}function D0(o,a){return Ffe(o)||Nfe(o,a)||Lfe(o,a)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(o,a){if(o){if(typeof o=="string")return x0(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?x0(o,a):void 0}}function x0(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function Nfe(o,a){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var t,c,m,_,l=[],r=!0,i=!1;try{if(m=(s=s.call(o)).next,a!==0)for(;!(r=(t=m.call(s)).done)&&(l.push(t.value),l.length!==a);r=!0);}catch(d){i=!0,c=d}finally{try{if(!r&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(i)throw c}}return l}}function Ffe(o){if(Array.isArray(o))return o}function C0(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),s.push.apply(s,t)}return s}function Do(o){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?C0(Object(s),!0).forEach(function(t){ig(o,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):C0(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}function ig(o,a,s){return(a=Yfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Yfe(o){var a=Vfe(o,"string");return gm(a)=="symbol"?a:a+""}function Vfe(o,a){if(gm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(gm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var uo={_getMeta:function(){return[ps(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],In(ps(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(a,s){var t,c,m;return(t=(a==null||(c=a.instance)===null||c===void 0?void 0:c.$primevue)||(s==null||(m=s.ctx)===null||m===void 0||(m=m.appContext)===null||m===void 0||(m=m.config)===null||m===void 0||(m=m.globalProperties)===null||m===void 0?void 0:m.$primevue))===null||t===void 0?void 0:t.config},_getOptionValue:c1,_getPTValue:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=function(){var E=uo._getOptionValue.apply(uo,arguments);return tn(E)||Wh(E)?{class:E}:E},i=((a=t.binding)===null||a===void 0||(a=a.value)===null||a===void 0?void 0:a.ptOptions)||((s=t.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},d=i.mergeSections,p=d===void 0?!0:d,v=i.mergeProps,g=v===void 0?!1:v,w=l?uo._useDefaultPT(t,t.defaultPT(),r,m,_):void 0,y=uo._usePT(t,uo._getPT(c,t.$name),r,m,Do(Do({},_),{},{global:w||{}})),x=uo._getPTDatasets(t,m);return p||!p&&y?g?uo._mergeProps(t,g,w,y,x):Do(Do(Do({},w),y),x):Do(Do({},y),x)},_getPTDatasets:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t="data-pc-";return Do(Do({},s==="root"&&ig({},"".concat(t,"name"),Wn(a.$name))),{},ig({},"".concat(t,"section"),Wn(s)))},_getPT:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,c=function(_){var l,r=t?t(_):_,i=Wn(s);return(l=r==null?void 0:r[i])!==null&&l!==void 0?l:r};return a!=null&&a.hasOwnProperty("_usept")?{_usept:a._usept,originalValue:c(a.originalValue),value:c(a.value)}:c(a)},_usePT:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0,_=function(x){return t(x,c,m)};if(s!=null&&s.hasOwnProperty("_usept")){var l,r=s._usept||((l=a.$primevueConfig)===null||l===void 0?void 0:l.ptOptions)||{},i=r.mergeSections,d=i===void 0?!0:i,p=r.mergeProps,v=p===void 0?!1:p,g=_(s.originalValue),w=_(s.value);return g===void 0&&w===void 0?void 0:tn(w)?w:tn(g)?g:d||!d&&w?v?uo._mergeProps(a,v,g,w):Do(Do({},g),w):w}return _(s)},_useDefaultPT:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0;return uo._usePT(a,s,t,c,m)},_loadStyles:function(a,s,t){var c,m=uo._getConfig(s,t),_={nonce:m==null||(c=m.csp)===null||c===void 0?void 0:c.nonce};uo._loadCoreStyles(a.$instance,_),uo._loadThemeStyles(a.$instance,_),uo._loadScopedThemeStyles(a.$instance,_),uo._themeChangeListener(function(){return uo._loadThemeStyles(a.$instance,_)})},_loadCoreStyles:function(){var a,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(!gl.isStyleNameLoaded((a=t.$style)===null||a===void 0?void 0:a.name)&&(s=t.$style)!==null&&s!==void 0&&s.name){var m;Fo.loadCSS(c),(m=t.$style)===null||m===void 0||m.loadCSS(c),gl.setLoadedStyleName(t.$style.name)}},_loadThemeStyles:function(){var a,s,t,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;if(!(c!=null&&c.isUnstyled()||(c==null||(a=c.theme)===null||a===void 0?void 0:a.call(c))==="none")){if(!Oo.isStyleNameLoaded("common")){var _,l,r=((_=c.$style)===null||_===void 0||(l=_.getCommonTheme)===null||l===void 0?void 0:l.call(_))||{},i=r.primitive,d=r.semantic,p=r.global,v=r.style;Fo.load(i==null?void 0:i.css,Do({name:"primitive-variables"},m)),Fo.load(d==null?void 0:d.css,Do({name:"semantic-variables"},m)),Fo.load(p==null?void 0:p.css,Do({name:"global-variables"},m)),Fo.loadTheme(Do({name:"global-style"},m),v),Oo.setLoadedStyleName("common")}if(!Oo.isStyleNameLoaded((s=c.$style)===null||s===void 0?void 0:s.name)&&(t=c.$style)!==null&&t!==void 0&&t.name){var g,w,y,x,C=((g=c.$style)===null||g===void 0||(w=g.getDirectiveTheme)===null||w===void 0?void 0:w.call(g))||{},E=C.css,D=C.style;(y=c.$style)===null||y===void 0||y.load(E,Do({name:"".concat(c.$style.name,"-variables")},m)),(x=c.$style)===null||x===void 0||x.loadTheme(Do({name:"".concat(c.$style.name,"-style")},m),D),Oo.setLoadedStyleName(c.$style.name)}if(!Oo.isStyleNameLoaded("layer-order")){var k,I,V=(k=c.$style)===null||k===void 0||(I=k.getLayerOrderThemeCSS)===null||I===void 0?void 0:I.call(k);Fo.load(V,Do({name:"layer-order",first:!0},m)),Oo.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=a.preset();if(t&&a.$attrSelector){var c,m,_,l=((c=a.$style)===null||c===void 0||(m=c.getPresetTheme)===null||m===void 0?void 0:m.call(c,t,"[".concat(a.$attrSelector,"]")))||{},r=l.css,i=(_=a.$style)===null||_===void 0?void 0:_.load(r,Do({name:"".concat(a.$attrSelector,"-").concat(a.$style.name)},s));a.scopedStyleEl=i.el}},_themeChangeListener:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};gl.clearLoadedStyleNames(),Hn.on("theme:change",a)},_hook:function(a,s,t,c,m,_){var l,r,i="on".concat(aR(s)),d=uo._getConfig(c,m),p=t==null?void 0:t.$instance,v=uo._usePT(p,uo._getPT(c==null||(l=c.value)===null||l===void 0?void 0:l.pt,a),uo._getOptionValue,"hooks.".concat(i)),g=uo._useDefaultPT(p,d==null||(r=d.pt)===null||r===void 0||(r=r.directives)===null||r===void 0?void 0:r[a],uo._getOptionValue,"hooks.".concat(i)),w={el:t,binding:c,vnode:m,prevVnode:_};v==null||v(p,w),g==null||g(p,w)},_mergeProps:function(){for(var a=arguments.length>1?arguments[1]:void 0,s=arguments.length,t=new Array(s>2?s-2:0),c=2;c<s;c++)t[c-2]=arguments[c];return d1(a)?a.apply(void 0,t):$t.apply(void 0,t)},_extend:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=function(_,l,r,i,d){var p,v,g,w;l._$instances=l._$instances||{};var y=uo._getConfig(r,i),x=l._$instances[a]||{},C=pi(x)?Do(Do({},s),s==null?void 0:s.methods):{};l._$instances[a]=Do(Do({},x),{},{$name:a,$host:l,$binding:r,$modifiers:r==null?void 0:r.modifiers,$value:r==null?void 0:r.value,$el:x.$el||l||void 0,$style:Do({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},s==null?void 0:s.style),$primevueConfig:y,$attrSelector:(p=l.$pd)===null||p===void 0||(p=p[a])===null||p===void 0?void 0:p.attrSelector,defaultPT:function(){return uo._getPT(y==null?void 0:y.pt,void 0,function(D){var k;return D==null||(k=D.directives)===null||k===void 0?void 0:k[a]})},isUnstyled:function(){var D,k;return((D=l.$instance)===null||D===void 0||(D=D.$binding)===null||D===void 0||(D=D.value)===null||D===void 0?void 0:D.unstyled)!==void 0?(k=l.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.unstyled:y==null?void 0:y.unstyled},theme:function(){var D;return(D=l.$instance)===null||D===void 0||(D=D.$primevueConfig)===null||D===void 0?void 0:D.theme},preset:function(){var D;return(D=l.$instance)===null||D===void 0||(D=D.$binding)===null||D===void 0||(D=D.value)===null||D===void 0?void 0:D.dt},ptm:function(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return uo._getPTValue(l.$instance,(D=l.$instance)===null||D===void 0||(D=D.$binding)===null||D===void 0||(D=D.value)===null||D===void 0?void 0:D.pt,k,Do({},I))},ptmo:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return uo._getPTValue(l.$instance,D,k,I,!1)},cx:function(){var D,k,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(D=l.$instance)!==null&&D!==void 0&&D.isUnstyled()?void 0:uo._getOptionValue((k=l.$instance)===null||k===void 0||(k=k.$style)===null||k===void 0?void 0:k.classes,I,Do({},V))},sx:function(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I?uo._getOptionValue((D=l.$instance)===null||D===void 0||(D=D.$style)===null||D===void 0?void 0:D.inlineStyles,k,Do({},V)):void 0}},C),l.$instance=l._$instances[a],(v=(g=l.$instance)[_])===null||v===void 0||v.call(g,l,r,i,d),l["$".concat(a)]=l.$instance,uo._hook(a,_,l,r,i,d),l.$pd||(l.$pd={}),l.$pd[a]=Do(Do({},(w=l.$pd)===null||w===void 0?void 0:w[a]),{},{name:a,instance:l.$instance})},c=function(_){var l,r,i,d,p,v=(l=_.$instance)===null||l===void 0?void 0:l.watch;v==null||(r=v.config)===null||r===void 0||r.call(_.$instance,(i=_.$instance)===null||i===void 0?void 0:i.$primevueConfig),Ar.on("config:change",function(g){var w,y=g.newValue,x=g.oldValue;return v==null||(w=v.config)===null||w===void 0?void 0:w.call(_.$instance,y,x)}),v==null||(d=v["config.ripple"])===null||d===void 0||d.call(_.$instance,(p=_.$instance)===null||p===void 0||(p=p.$primevueConfig)===null||p===void 0?void 0:p.ripple),Ar.on("config:ripple:change",function(g){var w,y=g.newValue,x=g.oldValue;return v==null||(w=v["config.ripple"])===null||w===void 0?void 0:w.call(_.$instance,y,x)})};return{created:function(_,l,r,i){_.$pd||(_.$pd={}),_.$pd[a]={name:a,attrSelector:f1("pd")},t("created",_,l,r,i)},beforeMount:function(_,l,r,i){uo._loadStyles(_,l,r),t("beforeMount",_,l,r,i),c(_)},mounted:function(_,l,r,i){uo._loadStyles(_,l,r),t("mounted",_,l,r,i)},beforeUpdate:function(_,l,r,i){t("beforeUpdate",_,l,r,i)},updated:function(_,l,r,i){uo._loadStyles(_,l,r),t("updated",_,l,r,i)},beforeUnmount:function(_,l,r,i){t("beforeUnmount",_,l,r,i)},unmounted:function(_,l,r,i){var d;(d=_.$instance)===null||d===void 0||(d=d.scopedStyleEl)===null||d===void 0||(d=d.value)===null||d===void 0||d.remove(),t("unmounted",_,l,r,i)}}},extend:function(){var a=uo._getMeta.apply(uo,arguments),s=D0(a,2),t=s[0],c=s[1];return Do({extend:function(){var _=uo._getMeta.apply(uo,arguments),l=D0(_,2),r=l[0],i=l[1];return uo.extend(r,Do(Do(Do({},c),c==null?void 0:c.methods),i))}},uo._extend(t,c))}},Bfe=function(a){var s=a.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(s("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},Ufe={root:"p-ink"},qfe=Fo.extend({name:"ripple-directive",theme:Bfe,classes:Ufe}),Hfe=uo.extend({style:qfe});function bm(o){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},bm(o)}function zfe(o){return Qfe(o)||Gfe(o)||Kfe(o)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kfe(o,a){if(o){if(typeof o=="string")return rg(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?rg(o,a):void 0}}function Gfe(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function Qfe(o){if(Array.isArray(o))return rg(o)}function rg(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}function P0(o,a,s){return(a=Zfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Zfe(o){var a=Jfe(o,"string");return bm(a)=="symbol"?a:a+""}function Jfe(o,a){if(bm(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(bm(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var F5=Hfe.extend("ripple",{watch:{"config.ripple":function(a){a?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(a){this.remove(a)},timeout:void 0,methods:{bindEvents:function(a){a.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(a){a.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(a){var s=kR("span",P0(P0({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));a.appendChild(s),this.$el=s},remove:function(a){var s=this.getInk(a);s&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(a),s.removeEventListener("animationend",this.onAnimationEnd),s.remove())},onMouseDown:function(a){var s=this,t=a.currentTarget,c=this.getInk(t);if(!(!c||getComputedStyle(c,null).display==="none")){if(!this.isUnstyled()&&ov(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"),!Jy(c)&&!Xy(c)){var m=Math.max(If(t),wR(t));c.style.height=m+"px",c.style.width=m+"px"}var _=$R(t),l=a.pageX-_.left+document.body.scrollTop-Xy(c)/2,r=a.pageY-_.top+document.body.scrollLeft-Jy(c)/2;c.style.top=r+"px",c.style.left=l+"px",!this.isUnstyled()&&hR(c,"p-ink-active"),c.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){c&&(!s.isUnstyled()&&ov(c,"p-ink-active"),c.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(a){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&ov(a.currentTarget,"p-ink-active"),a.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(a){return a&&a.children?zfe(a.children).find(function(s){return Ql(s,"data-pc-name")==="ripple"}):void 0}}});function ym(o){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ym(o)}function ds(o,a,s){return(a=Xfe(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function Xfe(o){var a=ehe(o,"string");return ym(a)=="symbol"?a:a+""}function ehe(o,a){if(ym(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var t=s.call(o,a||"default");if(ym(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}var the=function(a){var s=a.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(s("button.primary.color"),`;
    background: `).concat(s("button.primary.background"),`;
    border: 1px solid `).concat(s("button.primary.border.color"),`;
    padding: `).concat(s("button.padding.y")," ").concat(s("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(s("button.transition.duration"),", color ").concat(s("button.transition.duration"),", border-color ").concat(s("button.transition.duration"),`,
            outline-color `).concat(s("button.transition.duration"),", box-shadow ").concat(s("button.transition.duration"),`;
    border-radius: `).concat(s("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(s("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(s("button.icon.only.width"),`;
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(s("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(s("button.sm.font.size"),`;
    padding: `).concat(s("button.sm.padding.y")," ").concat(s("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(s("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(s("button.lg.font.size"),`;
    padding: `).concat(s("button.lg.padding.y")," ").concat(s("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(s("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(s("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(s("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(s("button.primary.hover.background"),`;
    border: 1px solid `).concat(s("button.primary.hover.border.color"),`;
    color: `).concat(s("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(s("button.primary.active.background"),`;
    border: 1px solid `).concat(s("button.primary.active.border.color"),`;
    color: `).concat(s("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(s("button.primary.focus.ring.shadow"),`;
    outline: `).concat(s("button.focus.ring.width")," ").concat(s("button.focus.ring.style")," ").concat(s("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(s("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(s("button.badge.size"),`;
    height: `).concat(s("button.badge.size"),`;
    line-height: `).concat(s("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(s("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(s("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(s("button.secondary.background"),`;
    border: 1px solid `).concat(s("button.secondary.border.color"),`;
    color: `).concat(s("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.secondary.hover.background"),`;
    border: 1px solid `).concat(s("button.secondary.hover.border.color"),`;
    color: `).concat(s("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.secondary.active.background"),`;
    border: 1px solid `).concat(s("button.secondary.active.border.color"),`;
    color: `).concat(s("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(s("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(s("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(s("button.success.background"),`;
    border: 1px solid `).concat(s("button.success.border.color"),`;
    color: `).concat(s("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.success.hover.background"),`;
    border: 1px solid `).concat(s("button.success.hover.border.color"),`;
    color: `).concat(s("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(s("button.success.active.background"),`;
    border: 1px solid `).concat(s("button.success.active.border.color"),`;
    color: `).concat(s("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(s("button.success.focus.ring.color"),`;
    box-shadow: `).concat(s("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(s("button.info.background"),`;
    border: 1px solid `).concat(s("button.info.border.color"),`;
    color: `).concat(s("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.info.hover.background"),`;
    border: 1px solid `).concat(s("button.info.hover.border.color"),`;
    color: `).concat(s("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(s("button.info.active.background"),`;
    border: 1px solid `).concat(s("button.info.active.border.color"),`;
    color: `).concat(s("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(s("button.info.focus.ring.color"),`;
    box-shadow: `).concat(s("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(s("button.warn.background"),`;
    border: 1px solid `).concat(s("button.warn.border.color"),`;
    color: `).concat(s("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.warn.hover.background"),`;
    border: 1px solid `).concat(s("button.warn.hover.border.color"),`;
    color: `).concat(s("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.warn.active.background"),`;
    border: 1px solid `).concat(s("button.warn.active.border.color"),`;
    color: `).concat(s("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(s("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(s("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(s("button.help.background"),`;
    border: 1px solid `).concat(s("button.help.border.color"),`;
    color: `).concat(s("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.help.hover.background"),`;
    border: 1px solid `).concat(s("button.help.hover.border.color"),`;
    color: `).concat(s("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(s("button.help.active.background"),`;
    border: 1px solid `).concat(s("button.help.active.border.color"),`;
    color: `).concat(s("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(s("button.help.focus.ring.color"),`;
    box-shadow: `).concat(s("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(s("button.danger.background"),`;
    border: 1px solid `).concat(s("button.danger.border.color"),`;
    color: `).concat(s("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.danger.hover.background"),`;
    border: 1px solid `).concat(s("button.danger.hover.border.color"),`;
    color: `).concat(s("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.danger.active.background"),`;
    border: 1px solid `).concat(s("button.danger.active.border.color"),`;
    color: `).concat(s("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(s("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(s("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(s("button.contrast.background"),`;
    border: 1px solid `).concat(s("button.contrast.border.color"),`;
    color: `).concat(s("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.contrast.hover.background"),`;
    border: 1px solid `).concat(s("button.contrast.hover.border.color"),`;
    color: `).concat(s("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.contrast.active.background"),`;
    border: 1px solid `).concat(s("button.contrast.active.border.color"),`;
    color: `).concat(s("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(s("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(s("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(s("button.outlined.primary.hover.background"),`;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(s("button.outlined.primary.active.background"),`;
    border-color: `).concat(s("button.outlined.primary.border.color"),`;
    color: `).concat(s("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.outlined.secondary.active.background"),`;
    border-color: `).concat(s("button.outlined.secondary.border.color"),`;
    color: `).concat(s("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.outlined.success.hover.background"),`;
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(s("button.outlined.success.active.background"),`;
    border-color: `).concat(s("button.outlined.success.border.color"),`;
    color: `).concat(s("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.outlined.info.hover.background"),`;
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(s("button.outlined.info.active.background"),`;
    border-color: `).concat(s("button.outlined.info.border.color"),`;
    color: `).concat(s("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.outlined.warn.hover.background"),`;
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.outlined.warn.active.background"),`;
    border-color: `).concat(s("button.outlined.warn.border.color"),`;
    color: `).concat(s("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.outlined.help.hover.background"),`;
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(s("button.outlined.help.active.background"),`;
    border-color: `).concat(s("button.outlined.help.border.color"),`;
    color: `).concat(s("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.outlined.danger.hover.background"),`;
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.outlined.danger.active.background"),`;
    border-color: `).concat(s("button.outlined.danger.border.color"),`;
    color: `).concat(s("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.outlined.contrast.active.background"),`;
    border-color: `).concat(s("button.outlined.contrast.border.color"),`;
    color: `).concat(s("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(s("button.outlined.plain.hover.background"),`;
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(s("button.outlined.plain.active.background"),`;
    border-color: `).concat(s("button.outlined.plain.border.color"),`;
    color: `).concat(s("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(s("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(s("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(s("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(s("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(s("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(s("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(s("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(s("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(s("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(s("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(s("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(s("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(s("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(s("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.danger.color"),`;
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: `).concat(s("button.text.contrast.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: `).concat(s("button.text.contrast.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.contrast.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(s("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(s("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(s("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(s("button.link.active.color"),`;
}
`)},ohe={root:function(a){var s=a.instance,t=a.props;return["p-button p-component",ds(ds(ds(ds(ds(ds(ds(ds(ds({"p-button-icon-only":s.hasIcon&&!t.label&&!t.badge,"p-button-vertical":(t.iconPos==="top"||t.iconPos==="bottom")&&t.label,"p-button-loading":t.loading,"p-button-link":t.link||t.variant==="link"},"p-button-".concat(t.severity),t.severity),"p-button-raised",t.raised),"p-button-rounded",t.rounded),"p-button-text",t.text||t.variant==="text"),"p-button-outlined",t.outlined||t.variant==="outlined"),"p-button-sm",t.size==="small"),"p-button-lg",t.size==="large"),"p-button-plain",t.plain),"p-button-fluid",s.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(a){var s=a.props;return["p-button-icon",ds({},"p-button-icon-".concat(s.iconPos),s.label)]},label:"p-button-label"},ahe=Fo.extend({name:"button",theme:the,classes:ohe}),nhe={name:"BaseButton",extends:rp,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:ahe,provide:function(){return{$pcButton:this,$parentInstance:this}}},Y5={name:"Button",extends:nhe,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(a){var s=a==="root"?this.ptmi:this.ptm;return s(a,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return $t(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return pi(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:L5,Badge:N5},directives:{ripple:F5}};function she(o,a,s,t,c,m){var _=ce("SpinnerIcon"),l=ce("Badge"),r=Pg("ripple");return o.asChild?jo(o.$slots,"default",{key:1,class:rt(o.cx("root")),a11yAttrs:m.a11yAttrs}):Y((u(),me($a(o.as),$t({key:0,class:o.cx("root")},m.attrs),{default:Ko(function(){return[jo(o.$slots,"default",{},function(){return[o.loading?jo(o.$slots,"loadingicon",$t({key:0,class:[o.cx("loadingIcon"),o.cx("icon")]},o.ptm("loadingIcon")),function(){return[o.loadingIcon?(u(),f("span",$t({key:0,class:[o.cx("loadingIcon"),o.cx("icon"),o.loadingIcon]},o.ptm("loadingIcon")),null,16)):(u(),me(_,$t({key:1,class:[o.cx("loadingIcon"),o.cx("icon")],spin:""},o.ptm("loadingIcon")),null,16,["class"]))]}):jo(o.$slots,"icon",$t({key:1,class:[o.cx("icon")]},o.ptm("icon")),function(){return[o.icon?(u(),f("span",$t({key:0,class:[o.cx("icon"),o.icon,o.iconClass]},o.ptm("icon")),null,16)):b("",!0)]}),e("span",$t({class:o.cx("label")},o.ptm("label")),n(o.label||""),17),o.badge?(u(),me(l,{key:2,value:o.badge,class:rt(o.badgeClass),severity:o.badgeSeverity,unstyled:o.unstyled,pt:o.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):b("",!0)]})]}),_:3},16,["class"])),[[r]])}Y5.render=she;var lhe={name:"BaseEditableHolder",extends:rp,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(a){this.d_value=a},defaultValue:function(a){this.d_value=a},$formName:{immediate:!0,handler:function(a){var s,t;this.formField=((s=this.$pcForm)===null||s===void 0||(t=s.register)===null||t===void 0?void 0:t.call(s,a,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(a){var s,t;this.formField=((s=this.$pcForm)===null||s===void 0||(t=s.register)===null||t===void 0?void 0:t.call(s,this.$formName,a))||{}}},$formDefaultValue:{immediate:!0,handler:function(a){this.d_value!==a&&(this.d_value=a)}}},formField:{},methods:{writeValue:function(a,s){var t,c;this.controlled&&(this.d_value=a,this.$emit("update:modelValue",a)),this.$emit("value-change",a),(t=(c=this.formField).onChange)===null||t===void 0||t.call(c,{originalEvent:s,value:a})}},computed:{$filled:function(){return Lo(this.d_value)},$invalid:function(){var a,s,t,c;return(a=(s=this.invalid)!==null&&s!==void 0?s:(t=this.$pcFormField)===null||t===void 0||(t=t.$field)===null||t===void 0?void 0:t.invalid)!==null&&a!==void 0?a:(c=this.$pcForm)===null||c===void 0||(c=c.states)===null||c===void 0||(c=c[this.$formName])===null||c===void 0?void 0:c.invalid},$formName:function(){var a;return this.name||((a=this.$formControl)===null||a===void 0?void 0:a.name)},$formControl:function(){var a;return this.formControl||((a=this.$pcFormField)===null||a===void 0?void 0:a.formControl)},$formDefaultValue:function(){var a,s,t,c;return(a=(s=this.d_value)!==null&&s!==void 0?s:(t=this.$pcFormField)===null||t===void 0?void 0:t.initialValue)!==null&&a!==void 0?a:(c=this.$pcForm)===null||c===void 0||(c=c.initialValues)===null||c===void 0?void 0:c[this.$formName]},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},V5={name:"BaseInput",extends:lhe,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var a;return(a=this.variant)!==null&&a!==void 0?a:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var a;return(a=this.fluid)!==null&&a!==void 0?a:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},ihe=function(a){var s=a.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(s("inputtext.color"),`;
    background: `).concat(s("inputtext.background"),`;
    padding-block: `).concat(s("inputtext.padding.y"),`;
    padding-inline: `).concat(s("inputtext.padding.x"),`;
    border: 1px solid `).concat(s("inputtext.border.color"),`;
    transition: background `).concat(s("inputtext.transition.duration"),", color ").concat(s("inputtext.transition.duration"),", border-color ").concat(s("inputtext.transition.duration"),", outline-color ").concat(s("inputtext.transition.duration"),", box-shadow ").concat(s("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(s("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(s("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(s("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(s("inputtext.focus.border.color"),`;
    box-shadow: `).concat(s("inputtext.focus.ring.shadow"),`;
    outline: `).concat(s("inputtext.focus.ring.width")," ").concat(s("inputtext.focus.ring.style")," ").concat(s("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(s("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(s("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(s("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: `).concat(s("inputtext.filled.hover.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(s("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(s("inputtext.disabled.background"),`;
    color: `).concat(s("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(s("inputtext.placeholder.color"),`;
}

.p-inputtext.p-invalid::placeholder {
    color: `).concat(s("inputtext.invalid.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(s("inputtext.sm.font.size"),`;
    padding-block: `).concat(s("inputtext.sm.padding.y"),`;
    padding-inline: `).concat(s("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(s("inputtext.lg.font.size"),`;
    padding-block: `).concat(s("inputtext.lg.padding.y"),`;
    padding-inline: `).concat(s("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},rhe={root:function(a){var s=a.instance,t=a.props;return["p-inputtext p-component",{"p-filled":s.$filled,"p-inputtext-sm p-inputfield-sm":t.size==="small","p-inputtext-lg p-inputfield-lg":t.size==="large","p-invalid":s.$invalid,"p-variant-filled":s.$variant==="filled","p-inputtext-fluid":s.$fluid}]}},dhe=Fo.extend({name:"inputtext",theme:ihe,classes:rhe}),che={name:"BaseInputText",extends:V5,style:dhe,provide:function(){return{$pcInputText:this,$parentInstance:this}}},B5={name:"InputText",extends:che,inheritAttrs:!1,methods:{onInput:function(a){this.writeValue(a.target.value,a)}},computed:{attrs:function(){return $t(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)}}},uhe=["value","disabled","aria-invalid"];function _he(o,a,s,t,c,m){return u(),f("input",$t({type:"text",class:o.cx("root"),value:o.d_value,disabled:o.disabled,"aria-invalid":o.$invalid||void 0,onInput:a[0]||(a[0]=function(){return m.onInput&&m.onInput.apply(m,arguments)})},m.attrs),null,16,uhe)}B5.render=_he;var mhe=u1(),U5={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=m1()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function fhe(o,a,s,t,c,m){return m.inline?jo(o.$slots,"default",{key:0}):c.mounted?(u(),me(A2,{key:1,to:s.appendTo},[jo(o.$slots,"default")],8,["to"])):b("",!0)}U5.render=fhe;var hhe=function(a){var s=a.dt;return`
.p-datepicker {
    display: inline-flex;
    max-width: 100%;
}

.p-datepicker-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-datepicker-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `.concat(s("datepicker.dropdown.width"),`;
    border-start-end-radius: `).concat(s("datepicker.dropdown.border.radius"),`;
    border-end-end-radius: `).concat(s("datepicker.dropdown.border.radius"),`;
    background: `).concat(s("datepicker.dropdown.background"),`;
    border: 1px solid `).concat(s("datepicker.dropdown.border.color"),`;
    border-inline-start: 0 none;
    color: `).concat(s("datepicker.dropdown.color"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    outline-color: transparent;
}

.p-datepicker-dropdown:not(:disabled):hover {
    background: `).concat(s("datepicker.dropdown.hover.background"),`;
    border-color: `).concat(s("datepicker.dropdown.hover.border.color"),`;
    color: `).concat(s("datepicker.dropdown.hover.color"),`;
}

.p-datepicker-dropdown:not(:disabled):active {
    background: `).concat(s("datepicker.dropdown.active.background"),`;
    border-color: `).concat(s("datepicker.dropdown.active.border.color"),`;
    color: `).concat(s("datepicker.dropdown.active.color"),`;
}

.p-datepicker-dropdown:focus-visible {
    box-shadow: `).concat(s("datepicker.dropdown.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.dropdown.focus.ring.width")," ").concat(s("datepicker.dropdown.focus.ring.style")," ").concat(s("datepicker.dropdown.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.dropdown.focus.ring.offset"),`;
}

.p-datepicker:has(.p-datepicker-input-icon-container) {
    position: relative;
}

.p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
    padding-inline-end: calc((`).concat(s("form.field.padding.x")," * 2) + ").concat(s("icon.size"),`);
}

.p-datepicker-input-icon-container {
    cursor: pointer;
    position: absolute;
    top: 50%;
    inset-inline-end: `).concat(s("form.field.padding.x"),`;
    margin-block-start: calc(-1 * (`).concat(s("icon.size"),` / 2));
    color: `).concat(s("datepicker.input.icon.color"),`;
    line-height: 1;
}

.p-datepicker-fluid {
    display: flex;
}

.p-datepicker-fluid .p-datepicker-input {
    width: 1%;
}

.p-datepicker .p-datepicker-panel {
    min-width: 100%;
}

.p-datepicker-panel {
    width: auto;
    padding: `).concat(s("datepicker.panel.padding"),`;
    background: `).concat(s("datepicker.panel.background"),`;
    color: `).concat(s("datepicker.panel.color"),`;
    border: 1px solid `).concat(s("datepicker.panel.border.color"),`;
    border-radius: `).concat(s("datepicker.panel.border.radius"),`;
    box-shadow: `).concat(s("datepicker.panel.shadow"),`;
}

.p-datepicker-panel-inline {
    display: inline-block;
    overflow-x: auto;
    box-shadow: none;
}

.p-datepicker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: `).concat(s("datepicker.header.padding"),`;
    background: `).concat(s("datepicker.header.background"),`;
    color: `).concat(s("datepicker.header.color"),`;
    border-block-end: 1px solid `).concat(s("datepicker.header.border.color"),`;
}

.p-datepicker-next-button:dir(rtl) {
    order: -1;
}

.p-datepicker-prev-button:dir(rtl) {
    order: 1;
}

.p-datepicker-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: `).concat(s("datepicker.title.gap"),`;
    font-weight: `).concat(s("datepicker.title.font.weight"),`;
}

.p-datepicker-select-year,
.p-datepicker-select-month {
    border: none;
    background: transparent;
    margin: 0;
    cursor: pointer;
    font-weight: inherit;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),`;
}

.p-datepicker-select-month {
    padding: `).concat(s("datepicker.select.month.padding"),`;
    color: `).concat(s("datepicker.select.month.color"),`;
    border-radius: `).concat(s("datepicker.select.month.border.radius"),`;
}

.p-datepicker-select-year {
    padding: `).concat(s("datepicker.select.year.padding"),`;
    color: `).concat(s("datepicker.select.year.color"),`;
    border-radius: `).concat(s("datepicker.select.year.border.radius"),`;
}

.p-datepicker-select-month:enabled:hover {
    background: `).concat(s("datepicker.select.month.hover.background"),`;
    color: `).concat(s("datepicker.select.month.hover.color"),`;
}

.p-datepicker-select-year:enabled:hover {
    background: `).concat(s("datepicker.select.year.hover.background"),`;
    color: `).concat(s("datepicker.select.year.hover.color"),`;
}

.p-datepicker-select-month:focus-visible,
.p-datepicker-select-year:focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-calendar-container {
    display: flex;
}

.p-datepicker-calendar-container .p-datepicker-calendar {
    flex: 1 1 auto;
    border-inline-start: 1px solid `).concat(s("datepicker.group.border.color"),`;
    padding-inline-end: `).concat(s("datepicker.group.gap"),`;
    padding-inline-start: `).concat(s("datepicker.group.gap"),`;
}

.p-datepicker-calendar-container .p-datepicker-calendar:first-child {
    padding-inline-start: 0;
    border-inline-start: 0 none;
}

.p-datepicker-calendar-container .p-datepicker-calendar:last-child {
    padding-inline-end: 0;
}

.p-datepicker-day-view {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    margin: `).concat(s("datepicker.day.view.margin"),`;
}

.p-datepicker-weekday-cell {
    padding: `).concat(s("datepicker.week.day.padding"),`;
}

.p-datepicker-weekday {
    font-weight: `).concat(s("datepicker.week.day.font.weight"),`;
    color: `).concat(s("datepicker.week.day.color"),`;
}

.p-datepicker-day-cell {
    padding: `).concat(s("datepicker.date.padding"),`;
}

.p-datepicker-day {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
    width: `).concat(s("datepicker.date.width"),`;
    height: `).concat(s("datepicker.date.height"),`;
    border-radius: `).concat(s("datepicker.date.border.radius"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border: 1px solid transparent;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
    background: `).concat(s("datepicker.date.hover.background"),`;
    color: `).concat(s("datepicker.date.hover.color"),`;
}

.p-datepicker-day:focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-day-selected {
    background: `).concat(s("datepicker.date.selected.background"),`;
    color: `).concat(s("datepicker.date.selected.color"),`;
}

.p-datepicker-day-selected-range {
    background: `).concat(s("datepicker.date.range.selected.background"),`;
    color: `).concat(s("datepicker.date.range.selected.color"),`;
}

.p-datepicker-today > .p-datepicker-day {
    background: `).concat(s("datepicker.today.background"),`;
    color: `).concat(s("datepicker.today.color"),`;
}

.p-datepicker-today > .p-datepicker-day-selected {
    background: `).concat(s("datepicker.date.selected.background"),`;
    color: `).concat(s("datepicker.date.selected.color"),`;
}

.p-datepicker-today > .p-datepicker-day-selected-range {
    background: `).concat(s("datepicker.date.range.selected.background"),`;
    color: `).concat(s("datepicker.date.range.selected.color"),`;
}

.p-datepicker-weeknumber {
    text-align: center;
}

.p-datepicker-month-view {
    margin: `).concat(s("datepicker.month.view.margin"),`;
}

.p-datepicker-month {
    width: 33.3%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: `).concat(s("datepicker.month.padding"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border-radius: `).concat(s("datepicker.month.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
    color: `).concat(s("datepicker.date.hover.color"),`;
    background: `).concat(s("datepicker.date.hover.background"),`;
}

.p-datepicker-month-selected {
    color: `).concat(s("datepicker.date.selected.color"),`;
    background: `).concat(s("datepicker.date.selected.background"),`;
}

.p-datepicker-month:not(.p-disabled):focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-year-view {
    margin: `).concat(s("datepicker.year.view.margin"),`;
}

.p-datepicker-year {
    width: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: `).concat(s("datepicker.year.padding"),`;
    transition: background `).concat(s("datepicker.transition.duration"),", color ").concat(s("datepicker.transition.duration"),", border-color ").concat(s("datepicker.transition.duration"),", box-shadow ").concat(s("datepicker.transition.duration"),", outline-color ").concat(s("datepicker.transition.duration"),`;
    border-radius: `).concat(s("datepicker.year.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("datepicker.date.color"),`;
}

.p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
    color: `).concat(s("datepicker.date.hover.color"),`;
    background: `).concat(s("datepicker.date.hover.background"),`;
}

.p-datepicker-year-selected {
    color: `).concat(s("datepicker.date.selected.color"),`;
    background: `).concat(s("datepicker.date.selected.background"),`;
}

.p-datepicker-year:not(.p-disabled):focus-visible {
    box-shadow: `).concat(s("datepicker.date.focus.ring.shadow"),`;
    outline: `).concat(s("datepicker.date.focus.ring.width")," ").concat(s("datepicker.date.focus.ring.style")," ").concat(s("datepicker.date.focus.ring.color"),`;
    outline-offset: `).concat(s("datepicker.date.focus.ring.offset"),`;
}

.p-datepicker-buttonbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: `).concat(s("datepicker.buttonbar.padding"),`;
    border-block-start: 1px solid `).concat(s("datepicker.buttonbar.border.color"),`;
}

.p-datepicker-buttonbar .p-button {
    width: auto;
}

.p-datepicker-time-picker {
    display: flex;
    justify-content: center;
    align-items: center;
    border-block-start: 1px solid `).concat(s("datepicker.time.picker.border.color"),`;
    padding: 0;
    gap: `).concat(s("datepicker.time.picker.gap"),`;
}

.p-datepicker-calendar-container + .p-datepicker-time-picker {
    padding: `).concat(s("datepicker.time.picker.padding"),`;
}

.p-datepicker-time-picker > div {
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: `).concat(s("datepicker.time.picker.button.gap"),`;
}

.p-datepicker-time-picker span {
    font-size: 1rem;
}

.p-datepicker-timeonly .p-datepicker-time-picker {
    border-block-start: 0 none;
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown {
    width: `).concat(s("datepicker.dropdown.sm.width"),`;
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-sm) .p-datepicker-input-icon {
    font-size: `).concat(s("form.field.sm.font.size"),`;
    width: `).concat(s("form.field.sm.font.size"),`;
    height: `).concat(s("form.field.sm.font.size"),`;
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown {
    width: `).concat(s("datepicker.dropdown.lg.width"),`;
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-lg) .p-datepicker-input-icon {
    font-size: `).concat(s("form.field.lg.font.size"),`;
    width: `).concat(s("form.field.lg.font.size"),`;
    height: `).concat(s("form.field.lg.font.size"),`;
}
`)},phe={root:function(a){var s=a.props;return{position:s.appendTo==="self"?"relative":void 0}}},vhe={root:function(a){var s=a.instance,t=a.state;return["p-datepicker p-component p-inputwrapper",{"p-invalid":s.$invalid,"p-inputwrapper-filled":s.$filled,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-focus":t.focused||t.overlayVisible,"p-datepicker-fluid":s.$fluid}]},pcInputText:"p-datepicker-input",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:function(a){var s=a.props;return["p-datepicker-panel p-component",{"p-datepicker-panel-inline":s.inline,"p-disabled":s.disabled,"p-datepicker-timeonly":s.timeOnly}]},calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:function(a){var s=a.date;return["p-datepicker-day-cell",{"p-datepicker-other-month":s.otherMonth,"p-datepicker-today":s.today}]},day:function(a){var s=a.instance,t=a.props,c=a.date,m="";return s.isRangeSelection()&&s.isSelected(c)&&c.selectable&&(m=s.isDateEquals(t.modelValue[0],c)||s.isDateEquals(t.modelValue[1],c)?"p-datepicker-day-selected":"p-datepicker-day-selected-range"),["p-datepicker-day",{"p-datepicker-day-selected":!s.isRangeSelection()&&s.isSelected(c)&&c.selectable,"p-disabled":t.disabled||!c.selectable},m]},monthView:"p-datepicker-month-view",month:function(a){var s=a.instance,t=a.props,c=a.month,m=a.index;return["p-datepicker-month",{"p-datepicker-month-selected":s.isMonthSelected(m),"p-disabled":t.disabled||!c.selectable}]},yearView:"p-datepicker-year-view",year:function(a){var s=a.instance,t=a.props,c=a.year;return["p-datepicker-year",{"p-datepicker-year-selected":s.isYearSelected(c.value),"p-disabled":t.disabled||!c.selectable}]},timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button"},ghe=Fo.extend({name:"datepicker",theme:hhe,classes:vhe,inlineStyles:phe}),bhe={name:"BaseDatePicker",extends:V5,props:{selectionMode:{type:String,default:"single"},dateFormat:{type:String,default:null},inline:{type:Boolean,default:!1},showOtherMonths:{type:Boolean,default:!0},selectOtherMonths:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},iconDisplay:{type:String,default:"button"},icon:{type:String,default:void 0},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},numberOfMonths:{type:Number,default:1},responsiveOptions:Array,breakpoint:{type:String,default:"769px"},view:{type:String,default:"date"},minDate:{type:Date,value:null},maxDate:{type:Date,value:null},disabledDates:{type:Array,value:null},disabledDays:{type:Array,value:null},maxDateCount:{type:Number,value:null},showOnFocus:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},showButtonBar:{type:Boolean,default:!1},shortYearCutoff:{type:String,default:"+10"},showTime:{type:Boolean,default:!1},timeOnly:{type:Boolean,default:!1},hourFormat:{type:String,default:"24"},stepHour:{type:Number,default:1},stepMinute:{type:Number,default:1},stepSecond:{type:Number,default:1},showSeconds:{type:Boolean,default:!1},hideOnDateTimeSelect:{type:Boolean,default:!1},hideOnRangeSelection:{type:Boolean,default:!1},timeSeparator:{type:String,default:":"},showWeek:{type:Boolean,default:!1},manualInput:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:null},id:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},todayButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},clearButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},navigatorButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},timepickerButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ghe,provide:function(){return{$pcDatePicker:this,$parentInstance:this}}};function dg(o){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dg(o)}function hv(o){return $he(o)||khe(o)||q5(o)||yhe()}function yhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function $he(o){if(Array.isArray(o))return cg(o)}function pv(o,a){var s=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!s){if(Array.isArray(o)||(s=q5(o))||a){s&&(o=s);var t=0,c=function(){};return{s:c,n:function(){return t>=o.length?{done:!0}:{done:!1,value:o[t++]}},e:function(i){throw i},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,_=!0,l=!1;return{s:function(){s=s.call(o)},n:function(){var i=s.next();return _=i.done,i},e:function(i){l=!0,m=i},f:function(){try{_||s.return==null||s.return()}finally{if(l)throw m}}}}function q5(o,a){if(o){if(typeof o=="string")return cg(o,a);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?cg(o,a):void 0}}function cg(o,a){(a==null||a>o.length)&&(a=o.length);for(var s=0,t=Array(a);s<a;s++)t[s]=o[s];return t}var gi={name:"DatePicker",extends:bhe,inheritAttrs:!1,emits:["show","hide","input","month-change","year-change","date-select","today-click","clear-click","focus","blur","keydown"],inject:{$pcFluid:{default:null}},navigationState:null,timePickerChange:!1,scrollHandler:null,outsideClickListener:null,resizeListener:null,matchMediaListener:null,overlay:null,input:null,previousButton:null,nextButton:null,timePickerTimer:null,preventFocus:!1,typeUpdate:!1,data:function(){return{d_id:this.id,currentMonth:null,currentYear:null,currentHour:null,currentMinute:null,currentSecond:null,pm:null,focused:!1,overlayVisible:!1,currentView:this.view,query:null,queryMatches:!1}},watch:{id:function(a){this.d_id=a||g0()},modelValue:function(a){this.updateCurrentMetaData(),!this.typeUpdate&&!this.inline&&this.input&&(this.input.value=this.inputFieldValue),this.typeUpdate=!1},showTime:function(){this.updateCurrentMetaData()},minDate:function(){this.updateCurrentMetaData()},maxDate:function(){this.updateCurrentMetaData()},months:function(){this.overlay&&(this.focused||(this.inline&&(this.preventFocus=!0),setTimeout(this.updateFocus,0)))},numberOfMonths:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},responsiveOptions:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},currentView:function(){var a=this;Promise.resolve(null).then(function(){return a.alignOverlay()})},view:function(a){this.currentView=a}},created:function(){this.updateCurrentMetaData()},mounted:function(){this.d_id=this.d_id||g0(),this.createResponsiveStyle(),this.bindMatchMediaListener(),this.inline?this.disabled||(this.preventFocus=!0,this.initFocusableCell()):this.input.value=this.inputFieldValue},updated:function(){this.overlay&&(this.preventFocus=!0,setTimeout(this.updateFocus,0)),this.input&&this.selectionStart!=null&&this.selectionEnd!=null&&(this.input.selectionStart=this.selectionStart,this.input.selectionEnd=this.selectionEnd,this.selectionStart=null,this.selectionEnd=null)},beforeUnmount:function(){this.timePickerTimer&&clearTimeout(this.timePickerTimer),this.destroyResponsiveStyleElement(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&av.clear(this.overlay),this.overlay=null},methods:{isComparable:function(){return this.d_value!=null&&typeof this.d_value!="string"},isSelected:function(a){if(!this.isComparable())return!1;if(this.d_value){if(this.isSingleSelection())return this.isDateEquals(this.d_value,a);if(this.isMultipleSelection()){var s=!1,t=pv(this.d_value),c;try{for(t.s();!(c=t.n()).done;){var m=c.value;if(s=this.isDateEquals(m,a),s)break}}catch(_){t.e(_)}finally{t.f()}return s}else if(this.isRangeSelection())return this.d_value[1]?this.isDateEquals(this.d_value[0],a)||this.isDateEquals(this.d_value[1],a)||this.isDateBetween(this.d_value[0],this.d_value[1],a):this.isDateEquals(this.d_value[0],a)}return!1},isMonthSelected:function(a){var s=this;if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(r){return r.getMonth()===a&&r.getFullYear()===s.currentYear});if(this.isRangeSelection())if(this.d_value[1]){var m=new Date(this.currentYear,a,1),_=new Date(this.d_value[0].getFullYear(),this.d_value[0].getMonth(),1),l=new Date(this.d_value[1].getFullYear(),this.d_value[1].getMonth(),1);return m>=_&&m<=l}else{var t,c;return((t=this.d_value[0])===null||t===void 0?void 0:t.getFullYear())===this.currentYear&&((c=this.d_value[0])===null||c===void 0?void 0:c.getMonth())===a}else return this.d_value.getMonth()===a&&this.d_value.getFullYear()===this.currentYear},isYearSelected:function(a){if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(c){return c.getFullYear()===a});if(this.isRangeSelection()){var s=this.d_value[0]?this.d_value[0].getFullYear():null,t=this.d_value[1]?this.d_value[1].getFullYear():null;return s===a||t===a||s<a&&t>a}else return this.d_value.getFullYear()===a},isDateEquals:function(a,s){return a?a.getDate()===s.day&&a.getMonth()===s.month&&a.getFullYear()===s.year:!1},isDateBetween:function(a,s,t){var c=!1;if(a&&s){var m=new Date(t.year,t.month,t.day);return a.getTime()<=m.getTime()&&s.getTime()>=m.getTime()}return c},getFirstDayOfMonthIndex:function(a,s){var t=new Date;t.setDate(1),t.setMonth(a),t.setFullYear(s);var c=t.getDay()+this.sundayIndex;return c>=7?c-7:c},getDaysCountInMonth:function(a,s){return 32-this.daylightSavingAdjust(new Date(s,a,32)).getDate()},getDaysCountInPrevMonth:function(a,s){var t=this.getPreviousMonthAndYear(a,s);return this.getDaysCountInMonth(t.month,t.year)},getPreviousMonthAndYear:function(a,s){var t,c;return a===0?(t=11,c=s-1):(t=a-1,c=s),{month:t,year:c}},getNextMonthAndYear:function(a,s){var t,c;return a===11?(t=0,c=s+1):(t=a+1,c=s),{month:t,year:c}},daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},isToday:function(a,s,t,c){return a.getDate()===s&&a.getMonth()===t&&a.getFullYear()===c},isSelectable:function(a,s,t,c){var m=!0,_=!0,l=!0,r=!0;return c&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>t||this.minDate.getFullYear()===t&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>a))&&(m=!1),this.maxDate&&(this.maxDate.getFullYear()<t||this.maxDate.getFullYear()===t&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<a))&&(_=!1),this.disabledDates&&(l=!this.isDateDisabled(a,s,t)),this.disabledDays&&(r=!this.isDayDisabled(a,s,t)),m&&_&&l&&r)},onOverlayEnter:function(a){var s=this.inline?void 0:{position:"absolute",top:"0",left:"0"};bR(a,s),this.autoZIndex&&av.set("overlay",a,this.baseZIndex||this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.$emit("show")},onOverlayEnterComplete:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener()},onOverlayAfterLeave:function(a){this.autoZIndex&&av.clear(a)},onOverlayLeave:function(){this.currentView=this.view,this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onPrevButtonClick:function(a){this.navigationState={backward:!0,button:!0},this.navBackward(a)},onNextButtonClick:function(a){this.navigationState={backward:!1,button:!0},this.navForward(a)},navBackward:function(a){a.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.decrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.decrementDecade():a.shiftKey?this.decrementYear():(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},navForward:function(a){a.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.incrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.incrementDecade():a.shiftKey?this.incrementYear():(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},decrementYear:function(){this.currentYear--},decrementDecade:function(){this.currentYear=this.currentYear-10},incrementYear:function(){this.currentYear++},incrementDecade:function(){this.currentYear=this.currentYear+10},switchToMonthView:function(a){this.currentView="month",setTimeout(this.updateFocus,0),a.preventDefault()},switchToYearView:function(a){this.currentView="year",setTimeout(this.updateFocus,0),a.preventDefault()},isEnabled:function(){return!this.disabled&&!this.readonly},updateCurrentTimeMeta:function(a){var s=a.getHours();this.hourFormat==="12"&&(this.pm=s>11,s>=12&&(s=s==12?12:s-12)),this.currentHour=Math.floor(s/this.stepHour)*this.stepHour,this.currentMinute=Math.floor(a.getMinutes()/this.stepMinute)*this.stepMinute,this.currentSecond=Math.floor(a.getSeconds()/this.stepSecond)*this.stepSecond},bindOutsideClickListener:function(){var a=this;this.outsideClickListener||(this.outsideClickListener=function(s){a.overlayVisible&&a.isOutsideClicked(s)&&(a.overlayVisible=!1)},document.addEventListener("mousedown",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("mousedown",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var a=this;this.scrollHandler||(this.scrollHandler=new ffe(this.$refs.container,function(){a.overlayVisible&&(a.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var a=this;this.resizeListener||(this.resizeListener=function(){a.overlayVisible&&!CR()&&(a.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var a=this;if(!this.matchMediaListener){var s=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=s,this.queryMatches=s.matches,this.matchMediaListener=function(){a.queryMatches=s.matches,a.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isOutsideClicked:function(a){return!(this.$el.isSameNode(a.target)||this.isNavIconClicked(a)||this.$el.contains(a.target)||this.overlay&&this.overlay.contains(a.target))},isNavIconClicked:function(a){return this.previousButton&&(this.previousButton.isSameNode(a.target)||this.previousButton.contains(a.target))||this.nextButton&&(this.nextButton.isSameNode(a.target)||this.nextButton.contains(a.target))},alignOverlay:function(){this.overlay&&(this.appendTo==="self"||this.inline?yR(this.overlay,this.$el):(this.view==="date"?(this.overlay.style.width=If(this.overlay)+"px",this.overlay.style.minWidth=If(this.$el)+"px"):this.overlay.style.width=If(this.$el)+"px",gR(this.overlay,this.$el)))},onButtonClick:function(){this.isEnabled()&&(this.overlayVisible?this.overlayVisible=!1:(this.input.focus(),this.overlayVisible=!0))},isDateDisabled:function(a,s,t){if(this.disabledDates){var c=pv(this.disabledDates),m;try{for(c.s();!(m=c.n()).done;){var _=m.value;if(_.getFullYear()===t&&_.getMonth()===s&&_.getDate()===a)return!0}}catch(l){c.e(l)}finally{c.f()}}return!1},isDayDisabled:function(a,s,t){if(this.disabledDays){var c=new Date(t,s,a),m=c.getDay();return this.disabledDays.indexOf(m)!==-1}return!1},onMonthDropdownChange:function(a){this.currentMonth=parseInt(a),this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})},onYearDropdownChange:function(a){this.currentYear=parseInt(a),this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})},onDateSelect:function(a,s){var t=this;if(!(this.disabled||!s.selectable)){if(ul(this.overlay,'table td span:not([data-p-disabled="true"])').forEach(function(m){return m.tabIndex=-1}),a&&a.currentTarget.focus(),this.isMultipleSelection()&&this.isSelected(s)){var c=this.d_value.filter(function(m){return!t.isDateEquals(m,s)});this.updateModel(c)}else this.shouldSelectDate(s)&&(s.otherMonth?(this.currentMonth=s.month,this.currentYear=s.year,this.selectDate(s)):this.selectDate(s));this.isSingleSelection()&&(!this.showTime||this.hideOnDateTimeSelect)&&(this.input&&this.input.focus(),setTimeout(function(){t.overlayVisible=!1},150))}},selectDate:function(a){var s=this,t=new Date(a.year,a.month,a.day);this.showTime&&(this.hourFormat==="12"&&this.currentHour!==12&&this.pm?t.setHours(this.currentHour+12):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds());var c=null;if(this.isSingleSelection())c=t;else if(this.isMultipleSelection())c=this.d_value?[].concat(hv(this.d_value),[t]):[t];else if(this.isRangeSelection())if(this.d_value&&this.d_value.length){var m=this.d_value[0],_=this.d_value[1];!_&&t.getTime()>=m.getTime()?_=t:(m=t,_=null),c=[m,_]}else c=[t,null];c!==null&&this.updateModel(c),this.isRangeSelection()&&this.hideOnRangeSelection&&c[1]!==null&&setTimeout(function(){s.overlayVisible=!1},150),this.$emit("date-select",t)},updateModel:function(a){this.writeValue(a)},shouldSelectDate:function(){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.d_value?this.d_value.length:0):!0},isSingleSelection:function(){return this.selectionMode==="single"},isRangeSelection:function(){return this.selectionMode==="range"},isMultipleSelection:function(){return this.selectionMode==="multiple"},formatValue:function(a){if(typeof a=="string")return a;var s="";if(a)try{if(this.isSingleSelection())s=this.formatDateTime(a);else if(this.isMultipleSelection())for(var t=0;t<a.length;t++){var c=this.formatDateTime(a[t]);s+=c,t!==a.length-1&&(s+=", ")}else if(this.isRangeSelection()&&a&&a.length){var m=a[0],_=a[1];s=this.formatDateTime(m),_&&(s+=" - "+this.formatDateTime(_))}}catch{s=a}return s},formatDateTime:function(a){var s=null;return a&&(this.timeOnly?s=this.formatTime(a):(s=this.formatDate(a,this.datePattern),this.showTime&&(s+=" "+this.formatTime(a)))),s},formatDate:function(a,s){if(!a)return"";var t,c=function(d){var p=t+1<s.length&&s.charAt(t+1)===d;return p&&t++,p},m=function(d,p,v){var g=""+p;if(c(d))for(;g.length<v;)g="0"+g;return g},_=function(d,p,v,g){return c(d)?g[p]:v[p]},l="",r=!1;if(a)for(t=0;t<s.length;t++)if(r)s.charAt(t)==="'"&&!c("'")?r=!1:l+=s.charAt(t);else switch(s.charAt(t)){case"d":l+=m("d",a.getDate(),2);break;case"D":l+=_("D",a.getDay(),this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":l+=m("o",Math.round((new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-new Date(a.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=m("m",a.getMonth()+1,2);break;case"M":l+=_("M",a.getMonth(),this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":l+=c("y")?a.getFullYear():(a.getFullYear()%100<10?"0":"")+a.getFullYear()%100;break;case"@":l+=a.getTime();break;case"!":l+=a.getTime()*1e4+this.ticksTo1970;break;case"'":c("'")?l+="'":r=!0;break;default:l+=s.charAt(t)}return l},formatTime:function(a){if(!a)return"";var s="",t=a.getHours(),c=a.getMinutes(),m=a.getSeconds();return this.hourFormat==="12"&&t>11&&t!==12&&(t-=12),this.hourFormat==="12"?s+=t===0?12:t<10?"0"+t:t:s+=t<10?"0"+t:t,s+=":",s+=c<10?"0"+c:c,this.showSeconds&&(s+=":",s+=m<10?"0"+m:m),this.hourFormat==="12"&&(s+=a.getHours()>11?" ".concat(this.$primevue.config.locale.pm):" ".concat(this.$primevue.config.locale.am)),s},onTodayButtonClick:function(a){var s=new Date,t={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(null,t),this.$emit("today-click",s),a.preventDefault()},onClearButtonClick:function(a){this.updateModel(null),this.overlayVisible=!1,this.$emit("clear-click",a),a.preventDefault()},onTimePickerElementMouseDown:function(a,s,t){this.isEnabled()&&(this.repeat(a,null,s,t),a.preventDefault())},onTimePickerElementMouseUp:function(a){this.isEnabled()&&(this.clearTimePickerTimer(),this.updateModelTime(),a.preventDefault())},onTimePickerElementMouseLeave:function(){this.clearTimePickerTimer()},repeat:function(a,s,t,c){var m=this,_=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){m.repeat(a,100,t,c)},_),t){case 0:c===1?this.incrementHour(a):this.decrementHour(a);break;case 1:c===1?this.incrementMinute(a):this.decrementMinute(a);break;case 2:c===1?this.incrementSecond(a):this.decrementSecond(a);break}},convertTo24Hour:function(a,s){return this.hourFormat=="12"?a===12?s?12:0:s?a+12:a:a},validateTime:function(a,s,t,c){var m=this.isComparable()?this.d_value:this.viewDate,_=this.convertTo24Hour(a,c);this.isRangeSelection()&&(m=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(m=this.d_value[this.d_value.length-1]);var l=m?m.toDateString():null;return!(this.minDate&&l&&this.minDate.toDateString()===l&&(this.minDate.getHours()>_||this.minDate.getHours()===_&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>t))||this.maxDate&&l&&this.maxDate.toDateString()===l&&(this.maxDate.getHours()<_||this.maxDate.getHours()===_&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<t)))},incrementHour:function(a){var s=this.currentHour,t=this.currentHour+Number(this.stepHour),c=this.pm;this.hourFormat=="24"?t=t>=24?t-24:t:this.hourFormat=="12"&&(s<12&&t>11&&(c=!this.pm),t=t>=13?t-12:t),this.validateTime(t,this.currentMinute,this.currentSecond,c)&&(this.currentHour=t,this.pm=c),a.preventDefault()},decrementHour:function(a){var s=this.currentHour-this.stepHour,t=this.pm;this.hourFormat=="24"?s=s<0?24+s:s:this.hourFormat=="12"&&(this.currentHour===12&&(t=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,t)&&(this.currentHour=s,this.pm=t),a.preventDefault()},incrementMinute:function(a){var s=this.currentMinute+Number(this.stepMinute);this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s>59?s-60:s),a.preventDefault()},decrementMinute:function(a){var s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),a.preventDefault()},incrementSecond:function(a){var s=this.currentSecond+Number(this.stepSecond);this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s>59?s-60:s),a.preventDefault()},decrementSecond:function(a){var s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),a.preventDefault()},updateModelTime:function(){var a=this;this.timePickerChange=!0;var s=this.isComparable()?this.d_value:this.viewDate;this.isRangeSelection()&&(s=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(s=this.d_value[this.d_value.length-1]),s=s?new Date(s.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?s.setHours(this.pm?12:0):s.setHours(this.pm?this.currentHour+12:this.currentHour):s.setHours(this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.d_value[1]?s=[this.d_value[0],s]:s=[s,null]),this.isMultipleSelection()&&(s=[].concat(hv(this.d_value.slice(0,-1)),[s])),this.updateModel(s),this.$emit("date-select",s),setTimeout(function(){return a.timePickerChange=!1},0)},toggleAMPM:function(a){var s=this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,!this.pm);!s&&(this.maxDate||this.minDate)||(this.pm=!this.pm,this.updateModelTime(),a.preventDefault())},clearTimePickerTimer:function(){this.timePickerTimer&&clearInterval(this.timePickerTimer)},onMonthSelect:function(a,s){s.month;var t=s.index;this.view==="month"?this.onDateSelect(a,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.currentView="date",this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},onYearSelect:function(a,s){this.view==="year"?this.onDateSelect(a,{year:s.value,month:0,day:1,selectable:!0}):(this.currentYear=s.value,this.currentView="month",this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},updateCurrentMetaData:function(){var a=this.viewDate;this.currentMonth=a.getMonth(),this.currentYear=a.getFullYear(),(this.showTime||this.timeOnly)&&this.updateCurrentTimeMeta(a)},isValidSelection:function(a){var s=this;if(a==null)return!0;var t=!0;return this.isSingleSelection()?this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1)||(t=!1):a.every(function(c){return s.isSelectable(c.getDate(),c.getMonth(),c.getFullYear(),!1)})&&this.isRangeSelection()&&(t=a.length>1&&a[1]>=a[0]),t},parseValue:function(a){if(!a||a.trim().length===0)return null;var s;if(this.isSingleSelection())s=this.parseDateTime(a);else if(this.isMultipleSelection()){var t=a.split(",");s=[];var c=pv(t),m;try{for(c.s();!(m=c.n()).done;){var _=m.value;s.push(this.parseDateTime(_.trim()))}}catch(i){c.e(i)}finally{c.f()}}else if(this.isRangeSelection()){var l=a.split(" - ");s=[];for(var r=0;r<l.length;r++)s[r]=this.parseDateTime(l[r].trim())}return s},parseDateTime:function(a){var s,t=a.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,t[0],t[1]);else{var c=this.datePattern;this.showTime?(s=this.parseDate(t[0],c),this.populateTime(s,t[1],t[2])):s=this.parseDate(a,c)}return s},populateTime:function(a,s,t){if(this.hourFormat=="12"&&!t)throw"Invalid Time";this.pm=t===this.$primevue.config.locale.pm||t===this.$primevue.config.locale.pm.toLowerCase();var c=this.parseTime(s);a.setHours(c.hour),a.setMinutes(c.minute),a.setSeconds(c.second)},parseTime:function(a){var s=a.split(":"),t=this.showSeconds?3:2,c=/^[0-9][0-9]$/;if(s.length!==t||!s[0].match(c)||!s[1].match(c)||this.showSeconds&&!s[2].match(c))throw"Invalid time";var m=parseInt(s[0]),_=parseInt(s[1]),l=this.showSeconds?parseInt(s[2]):null;if(isNaN(m)||isNaN(_)||m>23||_>59||this.hourFormat=="12"&&m>12||this.showSeconds&&(isNaN(l)||l>59))throw"Invalid time";return this.hourFormat=="12"&&m!==12&&this.pm?m+=12:this.hourFormat=="12"&&m==12&&!this.pm&&(m=0),{hour:m,minute:_,second:l}},parseDate:function(a,s){if(s==null||a==null)throw"Invalid arguments";if(a=dg(a)==="object"?a.toString():a+"",a==="")return null;var t,c,m,_=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),r=-1,i=-1,d=-1,p=-1,v=!1,g,w=function(D){var k=t+1<s.length&&s.charAt(t+1)===D;return k&&t++,k},y=function(D){var k=w(D),I=D==="@"?14:D==="!"?20:D==="y"&&k?4:D==="o"?3:2,V=D==="y"?I:1,B=new RegExp("^\\d{"+V+","+I+"}"),L=a.substring(_).match(B);if(!L)throw"Missing number at position "+_;return _+=L[0].length,parseInt(L[0],10)},x=function(D,k,I){for(var V=-1,B=w(D)?I:k,L=[],F=0;F<B.length;F++)L.push([F,B[F]]);L.sort(function(R,O){return-(R[1].length-O[1].length)});for(var T=0;T<L.length;T++){var P=L[T][1];if(a.substr(_,P.length).toLowerCase()===P.toLowerCase()){V=L[T][0],_+=P.length;break}}if(V!==-1)return V+1;throw"Unknown name at position "+_},C=function(){if(a.charAt(_)!==s.charAt(t))throw"Unexpected literal at position "+_;_++};for(this.currentView==="month"&&(d=1),this.currentView==="year"&&(d=1,i=1),t=0;t<s.length;t++)if(v)s.charAt(t)==="'"&&!w("'")?v=!1:C();else switch(s.charAt(t)){case"d":d=y("d");break;case"D":x("D",this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":p=y("o");break;case"m":i=y("m");break;case"M":i=x("M",this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":r=y("y");break;case"@":g=new Date(y("@")),r=g.getFullYear(),i=g.getMonth()+1,d=g.getDate();break;case"!":g=new Date((y("!")-this.ticksTo1970)/1e4),r=g.getFullYear(),i=g.getMonth()+1,d=g.getDate();break;case"'":w("'")?C():v=!0;break;default:C()}if(_<a.length&&(m=a.substr(_),!/^\s+/.test(m)))throw"Extra/unparsed characters found in date: "+m;if(r===-1?r=new Date().getFullYear():r<100&&(r+=new Date().getFullYear()-new Date().getFullYear()%100+(r<=l?0:-100)),p>-1){i=1,d=p;do{if(c=this.getDaysCountInMonth(r,i-1),d<=c)break;i++,d-=c}while(!0)}if(g=this.daylightSavingAdjust(new Date(r,i-1,d)),g.getFullYear()!==r||g.getMonth()+1!==i||g.getDate()!==d)throw"Invalid date";return g},getWeekNumber:function(a){var s=new Date(a.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));var t=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((t-s.getTime())/864e5)/7)+1},onDateCellKeydown:function(a,s,t){var c=a.currentTarget,m=c.parentElement,_=wd(m);switch(a.code){case"ArrowDown":{c.tabIndex="-1";var l=m.parentElement.nextElementSibling;if(l){var r=wd(m.parentElement),i=Array.from(m.parentElement.parentElement.children),d=i.slice(r+1),p=d.find(function(W){var oe=W.children[_].children[0];return!Ql(oe,"data-p-disabled")});if(p){var v=p.children[_].children[0];v.tabIndex="0",v.focus()}else this.navigationState={backward:!1},this.navForward(a)}else this.navigationState={backward:!1},this.navForward(a);a.preventDefault();break}case"ArrowUp":{if(c.tabIndex="-1",a.altKey)this.overlayVisible=!1,this.focused=!0;else{var g=m.parentElement.previousElementSibling;if(g){var w=wd(m.parentElement),y=Array.from(m.parentElement.parentElement.children),x=y.slice(0,w).reverse(),C=x.find(function(W){var oe=W.children[_].children[0];return!Ql(oe,"data-p-disabled")});if(C){var E=C.children[_].children[0];E.tabIndex="0",E.focus()}else this.navigationState={backward:!0},this.navBackward(a)}else this.navigationState={backward:!0},this.navBackward(a)}a.preventDefault();break}case"ArrowLeft":{c.tabIndex="-1";var D=m.previousElementSibling;if(D){var k=Array.from(m.parentElement.children),I=k.slice(0,_).reverse(),V=I.find(function(W){var oe=W.children[0];return!Ql(oe,"data-p-disabled")});if(V){var B=V.children[0];B.tabIndex="0",B.focus()}else this.navigateToMonth(a,!0,t)}else this.navigateToMonth(a,!0,t);a.preventDefault();break}case"ArrowRight":{c.tabIndex="-1";var L=m.nextElementSibling;if(L){var F=Array.from(m.parentElement.children),T=F.slice(_+1),P=T.find(function(W){var oe=W.children[0];return!Ql(oe,"data-p-disabled")});if(P){var R=P.children[0];R.tabIndex="0",R.focus()}else this.navigateToMonth(a,!1,t)}else this.navigateToMonth(a,!1,t);a.preventDefault();break}case"Enter":case"NumpadEnter":case"Space":{this.onDateSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.inline||this.trapFocus(a);break}case"Home":{c.tabIndex="-1";var O=m.parentElement,N=O.children[0].children[0];Ql(N,"data-p-disabled")?this.navigateToMonth(a,!0,t):(N.tabIndex="0",N.focus()),a.preventDefault();break}case"End":{c.tabIndex="-1";var S=m.parentElement,U=S.children[S.children.length-1].children[0];Ql(U,"data-p-disabled")?this.navigateToMonth(a,!1,t):(U.tabIndex="0",U.focus()),a.preventDefault();break}case"PageUp":{c.tabIndex="-1",a.shiftKey?(this.navigationState={backward:!0},this.navBackward(a)):this.navigateToMonth(a,!0,t),a.preventDefault();break}case"PageDown":{c.tabIndex="-1",a.shiftKey?(this.navigationState={backward:!1},this.navForward(a)):this.navigateToMonth(a,!1,t),a.preventDefault();break}}},navigateToMonth:function(a,s,t){if(s)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this.navBackward(a);else{var c=this.overlay.children[t-1],m=ul(c,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),_=m[m.length-1];_.tabIndex="0",_.focus()}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(a);else{var l=this.overlay.children[t+1],r=qn(l,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');r.tabIndex="0",r.focus()}},onMonthCellKeydown:function(a,s){var t=a.currentTarget;switch(a.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var c=t.parentElement.children,m=wd(t),_=c[a.code==="ArrowDown"?m+3:m-3];_&&(_.tabIndex="0",_.focus()),a.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var l=t.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var r=t.nextElementSibling;r?(r.tabIndex="0",r.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case"PageUp":{if(a.shiftKey)return;this.navigationState={backward:!0},this.navBackward(a);break}case"PageDown":{if(a.shiftKey)return;this.navigationState={backward:!1},this.navForward(a);break}case"Enter":case"NumpadEnter":case"Space":{this.onMonthSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.trapFocus(a);break}}},onYearCellKeydown:function(a,s){var t=a.currentTarget;switch(a.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var c=t.parentElement.children,m=wd(t),_=c[a.code==="ArrowDown"?m+2:m-2];_&&(_.tabIndex="0",_.focus()),a.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var l=t.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var r=t.nextElementSibling;r?(r.tabIndex="0",r.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case"PageUp":{if(a.shiftKey)return;this.navigationState={backward:!0},this.navBackward(a);break}case"PageDown":{if(a.shiftKey)return;this.navigationState={backward:!1},this.navForward(a);break}case"Enter":case"NumpadEnter":case"Space":{this.onYearSelect(a,s),a.preventDefault();break}case"Escape":{this.overlayVisible=!1,a.preventDefault();break}case"Tab":{this.trapFocus(a);break}}},updateFocus:function(){var a;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?this.previousButton.focus():this.nextButton.focus();else{if(this.navigationState.backward){var s;this.currentView==="month"?s=ul(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?s=ul(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):s=ul(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),s&&s.length>0&&(a=s[s.length-1])}else this.currentView==="month"?a=qn(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?a=qn(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):a=qn(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');a&&(a.tabIndex="0",a.focus())}this.navigationState=null}else this.initFocusableCell()},initFocusableCell:function(){var a;if(this.currentView==="month"){var s=ul(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]'),t=qn(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"][data-p-selected="true"]');s.forEach(function(l){return l.tabIndex=-1}),a=t||s[0]}else if(this.currentView==="year"){var c=ul(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]'),m=qn(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"][data-p-selected="true"]');c.forEach(function(l){return l.tabIndex=-1}),a=m||c[0]}else if(a=qn(this.overlay,'span[data-p-selected="true"]'),!a){var _=qn(this.overlay,'td[data-p-today="true"] span:not([data-p-disabled="true"]):not([data-p-ink="true"])');_?a=_:a=qn(this.overlay,'.p-datepicker-calendar td span:not([data-p-disabled="true"]):not([data-p-ink="true"])')}a&&(a.tabIndex="0",this.preventFocus=!1)},trapFocus:function(a){a.preventDefault();var s=Zy(this.overlay);if(s&&s.length>0)if(!document.activeElement)s[0].focus();else{var t=s.indexOf(document.activeElement);if(a.shiftKey)t===-1||t===0?s[s.length-1].focus():s[t-1].focus();else if(t===-1)if(this.timeOnly)s[0].focus();else{for(var c=null,m=0;m<s.length;m++)if(s[m].tagName==="SPAN"){c=m;break}s[c].focus()}else t===s.length-1?s[0].focus():s[t+1].focus()}},onContainerButtonKeydown:function(a){switch(a.code){case"Tab":this.trapFocus(a);break;case"Escape":this.overlayVisible=!1,a.preventDefault();break}this.$emit("keydown",a)},onInput:function(a){try{this.selectionStart=this.input.selectionStart,this.selectionEnd=this.input.selectionEnd;var s=this.parseValue(a.target.value);this.isValidSelection(s)&&(this.typeUpdate=!0,this.updateModel(s))}catch{}this.$emit("input",a)},onInputClick:function(){this.showOnFocus&&this.isEnabled()&&!this.overlayVisible&&(this.overlayVisible=!0)},onFocus:function(a){this.showOnFocus&&this.isEnabled()&&(this.overlayVisible=!0),this.focused=!0,this.$emit("focus",a)},onBlur:function(a){var s,t;this.$emit("blur",{originalEvent:a,value:a.target.value}),(s=(t=this.formField).onBlur)===null||s===void 0||s.call(t),this.focused=!1,a.target.value=this.formatValue(this.d_value)},onKeyDown:function(a){if(a.code==="ArrowDown"&&this.overlay)this.trapFocus(a);else if(a.code==="ArrowDown"&&!this.overlay)this.overlayVisible=!0;else if(a.code==="Escape")this.overlayVisible&&(this.overlayVisible=!1,a.preventDefault());else if(a.code==="Tab")this.overlay&&Zy(this.overlay).forEach(function(c){return c.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1);else if(a.code==="Enter"){var s;if(this.manualInput&&a.target.value!==null&&((s=a.target.value)===null||s===void 0?void 0:s.trim())!=="")try{var t=this.parseValue(a.target.value);this.isValidSelection(t)&&(this.overlayVisible=!1)}catch{}this.$emit("keydown",a)}},overlayRef:function(a){this.overlay=a},inputRef:function(a){this.input=a?a.$el:void 0},previousButtonRef:function(a){this.previousButton=a?a.$el:void 0},nextButtonRef:function(a){this.nextButton=a?a.$el:void 0},getMonthName:function(a){return this.$primevue.config.locale.monthNames[a]},getYear:function(a){return this.currentView==="month"?this.currentYear:a.year},onOverlayClick:function(a){a.stopPropagation(),this.inline||mhe.emit("overlay-click",{originalEvent:a,target:this.$el})},onOverlayKeyDown:function(a){switch(a.code){case"Escape":this.inline||(this.input.focus(),this.overlayVisible=!1);break}},onOverlayMouseUp:function(a){this.onOverlayClick(a)},createResponsiveStyle:function(){if(this.numberOfMonths>1&&this.responsiveOptions&&!this.isUnstyled){if(!this.responsiveStyleElement){var a;this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",Ew(this.responsiveStyleElement,"nonce",(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.csp)===null||a===void 0?void 0:a.nonce),document.body.appendChild(this.responsiveStyleElement)}var s="";if(this.responsiveOptions)for(var t=tR(),c=hv(this.responsiveOptions).filter(function(p){return!!(p.breakpoint&&p.numMonths)}).sort(function(p,v){return-1*t(p.breakpoint,v.breakpoint)}),m=0;m<c.length;m++){for(var _=c[m],l=_.breakpoint,r=_.numMonths,i=`
                            .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(r,`) .p-datepicker-next-button {
                                display: inline-flex;
                            }
                        `),d=r;d<this.numberOfMonths;d++)i+=`
                                .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(d+1,`) {
                                    display: none;
                                }
                            `);s+=`
                            @media screen and (max-width: `.concat(l,`) {
                                `).concat(i,`
                            }
                        `)}this.responsiveStyleElement.innerHTML=s}},destroyResponsiveStyleElement:function(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}},computed:{viewDate:function(){var a=this.d_value;if(a&&Array.isArray(a)&&(this.isRangeSelection()?a=this.inline?a[0]:a[1]||a[0]:this.isMultipleSelection()&&(a=a[a.length-1])),a&&typeof a!="string")return a;var s=new Date;return this.maxDate&&this.maxDate<s?this.maxDate:this.minDate&&this.minDate>s?this.minDate:s},inputFieldValue:function(){return this.formatValue(this.d_value)},months:function(){for(var a=[],s=0;s<this.numberOfMonths;s++){var t=this.currentMonth+s,c=this.currentYear;t>11&&(t=t%11-1,c=c+1);for(var m=[],_=this.getFirstDayOfMonthIndex(t,c),l=this.getDaysCountInMonth(t,c),r=this.getDaysCountInPrevMonth(t,c),i=1,d=new Date,p=[],v=Math.ceil((l+_)/7),g=0;g<v;g++){var w=[];if(g==0){for(var y=r-_+1;y<=r;y++){var x=this.getPreviousMonthAndYear(t,c);w.push({day:y,month:x.month,year:x.year,otherMonth:!0,today:this.isToday(d,y,x.month,x.year),selectable:this.isSelectable(y,x.month,x.year,!0)})}for(var C=7-w.length,E=0;E<C;E++)w.push({day:i,month:t,year:c,today:this.isToday(d,i,t,c),selectable:this.isSelectable(i,t,c,!1)}),i++}else for(var D=0;D<7;D++){if(i>l){var k=this.getNextMonthAndYear(t,c);w.push({day:i-l,month:k.month,year:k.year,otherMonth:!0,today:this.isToday(d,i-l,k.month,k.year),selectable:this.isSelectable(i-l,k.month,k.year,!0)})}else w.push({day:i,month:t,year:c,today:this.isToday(d,i,t,c),selectable:this.isSelectable(i,t,c,!1)});i++}this.showWeek&&p.push(this.getWeekNumber(new Date(w[0].year,w[0].month,w[0].day))),m.push(w)}a.push({month:t,year:c,dates:m,weekNumbers:p})}return a},weekDays:function(){for(var a=[],s=this.$primevue.config.locale.firstDayOfWeek,t=0;t<7;t++)a.push(this.$primevue.config.locale.dayNamesMin[s]),s=s==6?0:++s;return a},ticksTo1970:function(){return(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7},sundayIndex:function(){return this.$primevue.config.locale.firstDayOfWeek>0?7-this.$primevue.config.locale.firstDayOfWeek:0},datePattern:function(){return this.dateFormat||this.$primevue.config.locale.dateFormat},monthPickerValues:function(){for(var a=this,s=[],t=function(_){if(a.minDate){var l=a.minDate.getMonth(),r=a.minDate.getFullYear();if(a.currentYear<r||a.currentYear===r&&_<l)return!1}if(a.maxDate){var i=a.maxDate.getMonth(),d=a.maxDate.getFullYear();if(a.currentYear>d||a.currentYear===d&&_>i)return!1}return!0},c=0;c<=11;c++)s.push({value:this.$primevue.config.locale.monthNamesShort[c],selectable:t(c)});return s},yearPickerValues:function(){for(var a=this,s=[],t=this.currentYear-this.currentYear%10,c=function(l){return!(a.minDate&&a.minDate.getFullYear()>l||a.maxDate&&a.maxDate.getFullYear()<l)},m=0;m<10;m++)s.push({value:t+m,selectable:c(t+m)});return s},formattedCurrentHour:function(){return this.currentHour==0&&this.hourFormat=="12"?this.currentHour+12:this.currentHour<10?"0"+this.currentHour:this.currentHour},formattedCurrentMinute:function(){return this.currentMinute<10?"0"+this.currentMinute:this.currentMinute},formattedCurrentSecond:function(){return this.currentSecond<10?"0"+this.currentSecond:this.currentSecond},todayLabel:function(){return this.$primevue.config.locale.today},clearLabel:function(){return this.$primevue.config.locale.clear},weekHeaderLabel:function(){return this.$primevue.config.locale.weekHeader},monthNames:function(){return this.$primevue.config.locale.monthNames},switchViewButtonDisabled:function(){return this.numberOfMonths>1||this.disabled},panelId:function(){return this.d_id+"_panel"}},components:{InputText:B5,Button:Y5,Portal:U5,CalendarIcon:S5,ChevronLeftIcon:j5,ChevronRightIcon:O5,ChevronUpIcon:M5,ChevronDownIcon:T5},directives:{ripple:F5}},whe=["id"],Dhe=["disabled","aria-label","aria-expanded","aria-controls"],xhe=["id","role","aria-modal","aria-label"],Che=["disabled","aria-label"],Phe=["disabled","aria-label"],Ehe=["disabled","aria-label"],Ahe=["disabled","aria-label"],Ihe=["data-p-disabled"],Rhe=["abbr"],She=["data-p-disabled"],The=["aria-label","data-p-today","data-p-other-month"],jhe=["onClick","onKeydown","aria-selected","aria-disabled","data-p-disabled","data-p-selected"],Ohe=["onClick","onKeydown","data-p-disabled","data-p-selected"],Mhe=["onClick","onKeydown","data-p-disabled","data-p-selected"];function Lhe(o,a,s,t,c,m){var _=ce("InputText"),l=ce("Button"),r=ce("Portal"),i=Pg("ripple");return u(),f("span",$t({ref:"container",id:c.d_id,class:o.cx("root"),style:o.sx("root")},o.ptmi("root")),[o.inline?b("",!0):(u(),me(_,{key:0,ref:m.inputRef,id:o.inputId,role:"combobox",class:rt([o.inputClass,o.cx("pcInputText")]),style:Rl(o.inputStyle),value:m.inputFieldValue,placeholder:o.placeholder,name:o.name,size:o.size,invalid:o.invalid,variant:o.variant,fluid:o.fluid,unstyled:o.unstyled,autocomplete:"off","aria-autocomplete":"none","aria-haspopup":"dialog","aria-expanded":c.overlayVisible,"aria-controls":m.panelId,"aria-labelledby":o.ariaLabelledby,"aria-label":o.ariaLabel,inputmode:"none",disabled:o.disabled,readonly:!o.manualInput||o.readonly,tabindex:0,onInput:m.onInput,onClick:m.onInputClick,onFocus:m.onFocus,onBlur:m.onBlur,onKeydown:m.onKeyDown,pt:o.ptm("pcInputText")},null,8,["id","class","style","value","placeholder","name","size","invalid","variant","fluid","unstyled","aria-expanded","aria-controls","aria-labelledby","aria-label","disabled","readonly","onInput","onClick","onFocus","onBlur","onKeydown","pt"])),o.showIcon&&o.iconDisplay==="button"&&!o.inline?jo(o.$slots,"dropdownbutton",{key:1,toggleCallback:m.onButtonClick},function(){return[e("button",$t({class:o.cx("dropdown"),disabled:o.disabled,onClick:a[0]||(a[0]=function(){return m.onButtonClick&&m.onButtonClick.apply(m,arguments)}),type:"button","aria-label":o.$primevue.config.locale.chooseDate,"aria-haspopup":"dialog","aria-expanded":c.overlayVisible,"aria-controls":m.panelId},o.ptm("dropdown")),[jo(o.$slots,"dropdownicon",{class:rt(o.icon)},function(){return[(u(),me($a(o.icon?"span":"CalendarIcon"),$t({class:o.icon},o.ptm("dropdownIcon")),null,16,["class"]))]})],16,Dhe)]}):o.showIcon&&o.iconDisplay==="input"&&!o.inline?(u(),f(G,{key:2},[o.$slots.inputicon||o.showIcon?(u(),f("span",$t({key:0,class:o.cx("inputIconContainer")},o.ptm("inputIconContainer")),[jo(o.$slots,"inputicon",{class:rt(o.cx("inputIcon")),clickCallback:m.onButtonClick},function(){return[(u(),me($a(o.icon?"i":"CalendarIcon"),$t({class:[o.icon,o.cx("inputIcon")],onClick:m.onButtonClick},o.ptm("inputicon")),null,16,["class","onClick"]))]})],16)):b("",!0)],64)):b("",!0),Be(r,{appendTo:o.appendTo,disabled:o.inline},{default:Ko(function(){return[Be(Sk,$t({name:"p-connected-overlay",onEnter:a[58]||(a[58]=function(d){return m.onOverlayEnter(d)}),onAfterEnter:m.onOverlayEnterComplete,onAfterLeave:m.onOverlayAfterLeave,onLeave:m.onOverlayLeave},o.ptm("transition")),{default:Ko(function(){return[o.inline||c.overlayVisible?(u(),f("div",$t({key:0,ref:m.overlayRef,id:m.panelId,class:[o.cx("panel"),o.panelClass],style:o.panelStyle,role:o.inline?null:"dialog","aria-modal":o.inline?null:"true","aria-label":o.$primevue.config.locale.chooseDate,onClick:a[55]||(a[55]=function(){return m.onOverlayClick&&m.onOverlayClick.apply(m,arguments)}),onKeydown:a[56]||(a[56]=function(){return m.onOverlayKeyDown&&m.onOverlayKeyDown.apply(m,arguments)}),onMouseup:a[57]||(a[57]=function(){return m.onOverlayMouseUp&&m.onOverlayMouseUp.apply(m,arguments)})},o.ptm("panel")),[o.timeOnly?b("",!0):(u(),f(G,{key:0},[e("div",$t({class:o.cx("calendarContainer")},o.ptm("calendarContainer")),[(u(!0),f(G,null,ee(m.months,function(d,p){return u(),f("div",$t({key:d.month+d.year,class:o.cx("calendar"),ref_for:!0},o.ptm("calendar")),[e("div",$t({class:o.cx("header"),ref_for:!0},o.ptm("header")),[jo(o.$slots,"header"),Y(Be(l,$t({ref_for:!0,ref:m.previousButtonRef,class:o.cx("pcPrevButton"),disabled:o.disabled,"aria-label":c.currentView==="year"?o.$primevue.config.locale.prevDecade:c.currentView==="month"?o.$primevue.config.locale.prevYear:o.$primevue.config.locale.prevMonth,unstyled:o.unstyled,onClick:m.onPrevButtonClick,onKeydown:m.onContainerButtonKeydown},o.navigatorButtonProps,{pt:o.ptm("pcPrevButton"),"data-pc-group-section":"navigator"}),{icon:Ko(function(v){return[jo(o.$slots,"previcon",{},function(){return[(u(),me($a(o.prevIcon?"span":"ChevronLeftIcon"),$t({class:[o.prevIcon,v.class],ref_for:!0},o.ptm("pcPrevButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[mo,p===0]]),e("div",$t({class:o.cx("title"),ref_for:!0},o.ptm("title")),[o.$primevue.config.locale.showMonthAfterYear?(u(),f(G,{key:0},[c.currentView!=="year"?(u(),f("button",$t({key:0,type:"button",onClick:a[1]||(a[1]=function(){return m.switchToYearView&&m.switchToYearView.apply(m,arguments)}),onKeydown:a[2]||(a[2]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectYear"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseYear,ref_for:!0},o.ptm("selectYear"),{"data-pc-group-section":"view"}),n(m.getYear(d)),17,Che)):b("",!0),c.currentView==="date"?(u(),f("button",$t({key:1,type:"button",onClick:a[3]||(a[3]=function(){return m.switchToMonthView&&m.switchToMonthView.apply(m,arguments)}),onKeydown:a[4]||(a[4]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectMonth"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseMonth,ref_for:!0},o.ptm("selectMonth"),{"data-pc-group-section":"view"}),n(m.getMonthName(d.month)),17,Phe)):b("",!0)],64)):(u(),f(G,{key:1},[c.currentView==="date"?(u(),f("button",$t({key:0,type:"button",onClick:a[5]||(a[5]=function(){return m.switchToMonthView&&m.switchToMonthView.apply(m,arguments)}),onKeydown:a[6]||(a[6]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectMonth"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseMonth,ref_for:!0},o.ptm("selectMonth"),{"data-pc-group-section":"view"}),n(m.getMonthName(d.month)),17,Ehe)):b("",!0),c.currentView!=="year"?(u(),f("button",$t({key:1,type:"button",onClick:a[7]||(a[7]=function(){return m.switchToYearView&&m.switchToYearView.apply(m,arguments)}),onKeydown:a[8]||(a[8]=function(){return m.onContainerButtonKeydown&&m.onContainerButtonKeydown.apply(m,arguments)}),class:o.cx("selectYear"),disabled:m.switchViewButtonDisabled,"aria-label":o.$primevue.config.locale.chooseYear,ref_for:!0},o.ptm("selectYear"),{"data-pc-group-section":"view"}),n(m.getYear(d)),17,Ahe)):b("",!0)],64)),c.currentView==="year"?(u(),f("span",$t({key:2,class:o.cx("decade"),ref_for:!0},o.ptm("decade")),[jo(o.$slots,"decade",{years:m.yearPickerValues},function(){return[le(n(m.yearPickerValues[0].value)+" - "+n(m.yearPickerValues[m.yearPickerValues.length-1].value),1)]})],16)):b("",!0)],16),Y(Be(l,$t({ref_for:!0,ref:m.nextButtonRef,class:o.cx("pcNextButton"),disabled:o.disabled,"aria-label":c.currentView==="year"?o.$primevue.config.locale.nextDecade:c.currentView==="month"?o.$primevue.config.locale.nextYear:o.$primevue.config.locale.nextMonth,unstyled:o.unstyled,onClick:m.onNextButtonClick,onKeydown:m.onContainerButtonKeydown},o.navigatorButtonProps,{pt:o.ptm("pcNextButton"),"data-pc-group-section":"navigator"}),{icon:Ko(function(v){return[jo(o.$slots,"nexticon",{},function(){return[(u(),me($a(o.nextIcon?"span":"ChevronRightIcon"),$t({class:[o.nextIcon,v.class],ref_for:!0},o.ptm("pcNextButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[mo,o.numberOfMonths===1?!0:p===o.numberOfMonths-1]])],16),c.currentView==="date"?(u(),f("table",$t({key:0,class:o.cx("dayView"),role:"grid",ref_for:!0},o.ptm("dayView")),[e("thead",$t({ref_for:!0},o.ptm("tableHeader")),[e("tr",$t({ref_for:!0},o.ptm("tableHeaderRow")),[o.showWeek?(u(),f("th",$t({key:0,scope:"col",class:o.cx("weekHeader"),ref_for:!0},o.ptm("weekHeader",{context:{disabled:o.showWeek}}),{"data-p-disabled":o.showWeek,"data-pc-group-section":"tableheadercell"}),[jo(o.$slots,"weekheaderlabel",{},function(){return[e("span",$t({ref_for:!0},o.ptm("weekHeaderLabel",{context:{disabled:o.showWeek}}),{"data-pc-group-section":"tableheadercelllabel"}),n(m.weekHeaderLabel),17)]})],16,Ihe)):b("",!0),(u(!0),f(G,null,ee(m.weekDays,function(v){return u(),f("th",$t({key:v,scope:"col",abbr:v,ref_for:!0},o.ptm("tableHeaderCell"),{"data-pc-group-section":"tableheadercell",class:o.cx("weekDayCell")}),[e("span",$t({class:o.cx("weekDay"),ref_for:!0},o.ptm("weekDay"),{"data-pc-group-section":"tableheadercelllabel"}),n(v),17)],16,Rhe)}),128))],16)],16),e("tbody",$t({ref_for:!0},o.ptm("tableBody")),[(u(!0),f(G,null,ee(d.dates,function(v,g){return u(),f("tr",$t({key:v[0].day+""+v[0].month,ref_for:!0},o.ptm("tableBodyRow")),[o.showWeek?(u(),f("td",$t({key:0,class:o.cx("weekNumber"),ref_for:!0},o.ptm("weekNumber"),{"data-pc-group-section":"tablebodycell"}),[e("span",$t({class:o.cx("weekLabelContainer"),ref_for:!0},o.ptm("weekLabelContainer",{context:{disabled:o.showWeek}}),{"data-p-disabled":o.showWeek,"data-pc-group-section":"tablebodycelllabel"}),[jo(o.$slots,"weeklabel",{weekNumber:d.weekNumbers[g]},function(){return[d.weekNumbers[g]<10?(u(),f("span",$t({key:0,style:{visibility:"hidden"},ref_for:!0},o.ptm("weekLabel")),"0",16)):b("",!0),le(" "+n(d.weekNumbers[g]),1)]})],16,She)],16)):b("",!0),(u(!0),f(G,null,ee(v,function(w){return u(),f("td",$t({key:w.day+""+w.month,"aria-label":w.day,class:o.cx("dayCell",{date:w}),ref_for:!0},o.ptm("dayCell",{context:{date:w,today:w.today,otherMonth:w.otherMonth,selected:m.isSelected(w),disabled:!w.selectable}}),{"data-p-today":w.today,"data-p-other-month":w.otherMonth,"data-pc-group-section":"tablebodycell"}),[o.showOtherMonths||!w.otherMonth?Y((u(),f("span",$t({key:0,class:o.cx("day",{date:w}),onClick:function(x){return m.onDateSelect(x,w)},draggable:"false",onKeydown:function(x){return m.onDateCellKeydown(x,w,p)},"aria-selected":m.isSelected(w),"aria-disabled":!w.selectable,ref_for:!0},o.ptm("day",{context:{date:w,today:w.today,otherMonth:w.otherMonth,selected:m.isSelected(w),disabled:!w.selectable}}),{"data-p-disabled":!w.selectable,"data-p-selected":m.isSelected(w),"data-pc-group-section":"tablebodycelllabel"}),[jo(o.$slots,"date",{date:w},function(){return[le(n(w.day),1)]})],16,jhe)),[[i]]):b("",!0),m.isSelected(w)?(u(),f("div",$t({key:1,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenSelectedDay"),{"data-p-hidden-accessible":!0}),n(w.day),17)):b("",!0)],16,The)}),128))],16)}),128))],16)],16)):b("",!0)],16)}),128))],16),c.currentView==="month"?(u(),f("div",$t({key:0,class:o.cx("monthView")},o.ptm("monthView")),[(u(!0),f(G,null,ee(m.monthPickerValues,function(d,p){return Y((u(),f("span",$t({key:d,onClick:function(g){return m.onMonthSelect(g,{month:d,index:p})},onKeydown:function(g){return m.onMonthCellKeydown(g,{month:d,index:p})},class:o.cx("month",{month:d,index:p}),ref_for:!0},o.ptm("month",{context:{month:d,monthIndex:p,selected:m.isMonthSelected(p),disabled:!d.selectable}}),{"data-p-disabled":!d.selectable,"data-p-selected":m.isMonthSelected(p)}),[le(n(d.value)+" ",1),m.isMonthSelected(p)?(u(),f("div",$t({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenMonth"),{"data-p-hidden-accessible":!0}),n(d.value),17)):b("",!0)],16,Ohe)),[[i]])}),128))],16)):b("",!0),c.currentView==="year"?(u(),f("div",$t({key:1,class:o.cx("yearView")},o.ptm("yearView")),[(u(!0),f(G,null,ee(m.yearPickerValues,function(d){return Y((u(),f("span",$t({key:d.value,onClick:function(v){return m.onYearSelect(v,d)},onKeydown:function(v){return m.onYearCellKeydown(v,d)},class:o.cx("year",{year:d}),ref_for:!0},o.ptm("year",{context:{year:d,selected:m.isYearSelected(d.value),disabled:!d.selectable}}),{"data-p-disabled":!d.selectable,"data-p-selected":m.isYearSelected(d.value)}),[le(n(d.value)+" ",1),m.isYearSelected(d.value)?(u(),f("div",$t({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},o.ptm("hiddenYear"),{"data-p-hidden-accessible":!0}),n(d.value),17)):b("",!0)],16,Mhe)),[[i]])}),128))],16)):b("",!0)],64)),(o.showTime||o.timeOnly)&&c.currentView==="date"?(u(),f("div",$t({key:1,class:o.cx("timePicker")},o.ptm("timePicker")),[e("div",$t({class:o.cx("hourPicker")},o.ptm("hourPicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextHour,unstyled:o.unstyled,onMousedown:a[9]||(a[9]=function(d){return m.onTimePickerElementMouseDown(d,0,1)}),onMouseup:a[10]||(a[10]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[12]||(a[12]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,1)},["enter"])),a[13]||(a[13]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,1)},["space"]))],onMouseleave:a[11]||(a[11]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[14]||(a[14]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[15]||(a[15]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),me($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("hour"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentHour),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevHour,unstyled:o.unstyled,onMousedown:a[16]||(a[16]=function(d){return m.onTimePickerElementMouseDown(d,0,-1)}),onMouseup:a[17]||(a[17]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[19]||(a[19]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,-1)},["enter"])),a[20]||(a[20]=Ee(function(d){return m.onTimePickerElementMouseDown(d,0,-1)},["space"]))],onMouseleave:a[18]||(a[18]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[21]||(a[21]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[22]||(a[22]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),me($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"])],16),e("div",$t(o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16),e("div",$t({class:o.cx("minutePicker")},o.ptm("minutePicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextMinute,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[23]||(a[23]=function(d){return m.onTimePickerElementMouseDown(d,1,1)}),onMouseup:a[24]||(a[24]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[26]||(a[26]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,1)},["enter"])),a[27]||(a[27]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,1)},["space"]))],onMouseleave:a[25]||(a[25]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[28]||(a[28]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[29]||(a[29]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),me($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("minute"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentMinute),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevMinute,disabled:o.disabled,onMousedown:a[30]||(a[30]=function(d){return m.onTimePickerElementMouseDown(d,1,-1)}),onMouseup:a[31]||(a[31]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[33]||(a[33]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,-1)},["enter"])),a[34]||(a[34]=Ee(function(d){return m.onTimePickerElementMouseDown(d,1,-1)},["space"]))],onMouseleave:a[32]||(a[32]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[35]||(a[35]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[36]||(a[36]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),me($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])],16),o.showSeconds?(u(),f("div",$t({key:0,class:o.cx("separatorContainer")},o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16)):b("",!0),o.showSeconds?(u(),f("div",$t({key:1,class:o.cx("secondPicker")},o.ptm("secondPicker"),{"data-pc-group-section":"timepickerContainer"}),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.nextSecond,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[37]||(a[37]=function(d){return m.onTimePickerElementMouseDown(d,2,1)}),onMouseup:a[38]||(a[38]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[40]||(a[40]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,1)},["enter"])),a[41]||(a[41]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,1)},["space"]))],onMouseleave:a[39]||(a[39]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[42]||(a[42]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[43]||(a[43]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{},function(){return[(u(),me($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.incrementIcon,d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("second"),{"data-pc-group-section":"timepickerlabel"}),n(m.formattedCurrentSecond),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.prevSecond,disabled:o.disabled,unstyled:o.unstyled,onMousedown:a[44]||(a[44]=function(d){return m.onTimePickerElementMouseDown(d,2,-1)}),onMouseup:a[45]||(a[45]=function(d){return m.onTimePickerElementMouseUp(d)}),onKeydown:[m.onContainerButtonKeydown,a[47]||(a[47]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,-1)},["enter"])),a[48]||(a[48]=Ee(function(d){return m.onTimePickerElementMouseDown(d,2,-1)},["space"]))],onMouseleave:a[46]||(a[46]=function(d){return m.onTimePickerElementMouseLeave()}),onKeyup:[a[49]||(a[49]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["enter"])),a[50]||(a[50]=Ee(function(d){return m.onTimePickerElementMouseUp(d)},["space"]))]},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{},function(){return[(u(),me($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.decrementIcon,d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])],16)):b("",!0),o.hourFormat=="12"?(u(),f("div",$t({key:2,class:o.cx("separatorContainer")},o.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[e("span",$t(o.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),n(o.timeSeparator),17)],16)):b("",!0),o.hourFormat=="12"?(u(),f("div",$t({key:3,class:o.cx("ampmPicker")},o.ptm("ampmPicker")),[Be(l,$t({class:o.cx("pcIncrementButton"),"aria-label":o.$primevue.config.locale.am,disabled:o.disabled,unstyled:o.unstyled,onClick:a[51]||(a[51]=function(d){return m.toggleAMPM(d)}),onKeydown:m.onContainerButtonKeydown},o.timepickerButtonProps,{pt:o.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"incrementicon",{class:rt(o.cx("incrementIcon"))},function(){return[(u(),me($a(o.incrementIcon?"span":"ChevronUpIcon"),$t({class:[o.cx("incrementIcon"),d.class]},o.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),e("span",$t(o.ptm("ampm"),{"data-pc-group-section":"timepickerlabel"}),n(c.pm?o.$primevue.config.locale.pm:o.$primevue.config.locale.am),17),Be(l,$t({class:o.cx("pcDecrementButton"),"aria-label":o.$primevue.config.locale.pm,disabled:o.disabled,onClick:a[52]||(a[52]=function(d){return m.toggleAMPM(d)}),onKeydown:m.onContainerButtonKeydown},o.timepickerButtonProps,{pt:o.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Ko(function(d){return[jo(o.$slots,"decrementicon",{class:rt(o.cx("decrementIcon"))},function(){return[(u(),me($a(o.decrementIcon?"span":"ChevronDownIcon"),$t({class:[o.cx("decrementIcon"),d.class]},o.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])],16)):b("",!0)],16)):b("",!0),o.showButtonBar?(u(),f("div",$t({key:2,class:o.cx("buttonbar")},o.ptm("buttonbar")),[Be(l,$t({label:m.todayLabel,onClick:a[53]||(a[53]=function(d){return m.onTodayButtonClick(d)}),class:o.cx("pcTodayButton"),unstyled:o.unstyled,onKeydown:m.onContainerButtonKeydown},o.todayButtonProps,{pt:o.ptm("pcTodayButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"]),Be(l,$t({label:m.clearLabel,onClick:a[54]||(a[54]=function(d){return m.onClearButtonClick(d)}),class:o.cx("pcClearButton"),unstyled:o.unstyled,onKeydown:m.onContainerButtonKeydown},o.clearButtonProps,{pt:o.ptm("pcClearButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"])],16)):b("",!0),jo(o.$slots,"footer")],16,xhe)):b("",!0)]}),_:3},16,["onAfterEnter","onAfterLeave","onLeave"])]}),_:3},8,["appendTo","disabled"])],16,whe)}gi.render=Lhe;const Lm="/build/assets/successful-request-DASXOrgO.png",Nhe={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request","is_dashboard"],setup(o){const a=o.can_request,s=o.is_dashboard??!1,t=lt(),c=h([]),m=Je("baseURL"),_=h(null),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(H().format("DD MMM YYYY")),g=h(H().format("DD MMM YYYY")),w=h(new Date().toLocaleDateString("en-CA")),y=h(new Date().toLocaleDateString("en-CA")),x=h(1),C=h(0),E=h(1),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0),U=h(0),W=h(0),oe=h(0),J=h(0);h([]),h(0);const K=h(0),z=h(0);h(0);const ae=h(""),we=h(!1),Fe=h(!1),he=h(0),re=h(0),$e=h(0),De=h(0),ie=h(!1),pe=h([]),be=h(!1),Me=h(""),ue=h(""),je=h(""),ze=h(""),Ye=h(""),ge=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),te=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),se=h(""),fe=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(s?10:50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(new Date),Et=h(0);ot([Ot],async([Oe])=>{await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:Oe}}).then(ye=>{he.value=0,re.value=0,$e.value=0,De.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount})})});const Dt=async()=>{Ze.value=$("#date_search").val(),Ze.value&&(fe.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let Oe=$(".ti-search").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{buyer:at.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let Oe=$(".ti-refresh").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),at.value="",se.value="",fe.value="",Le.value="",Ze.value="",$("#date_search").val(""),await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-refresh"></i>')})},Kt=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+Oe+"/details").then(He=>{_.value=He.data,Et.value++,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+Oe+"/details").then(He=>{Ce.value=[],Ne.value=0,Ie.value=0,Ie.value=0,Ie.value=0,_.value=He.data,J.value=_.value.due_date,k.value=0,_.value.invoice_items.forEach(ve=>{k.value+=ve.quantity*ve.price_per_quantity}),I.value=0,_.value.invoice_taxes.forEach(ve=>{I.value+=ve.value}),V.value=0,_.value.invoice_fees.forEach(ve=>{V.value+=ve.amount}),B.value=0,_.value.invoice_discounts.forEach(ve=>{ve.type=="percentage"?r.value+=ve.value/100*(k.value+I.value):r.value+=ve.value}),k.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount,L.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,O.value=H(_.value.due_date).diff(H(),"days")+1,F.value=_.value.vendor_configurations.eligibility,T.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,P.value=F.value/100*(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount),N.value=_.value.vendor_discount_details.total_roi,R.value=P.value*(N.value/100)*((H(_.value.due_date).diff(H(),"days")+1)/365),ge.value=_.value.program.discount_details[0].tax_on_discount,_e.value=ge.value/100*R.value,N.value>0&&_.value.vendor_discount_details.vendor_discount_bearing>0&&(R.value=_.value.vendor_discount_details.vendor_discount_bearing/N.value*R.value);let Nt=0,it=0,_t=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((ve,Re)=>{if(ve.type=="percentage")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*(ve.value/100*P.value*O.value);let vt=ve.vendor_bearing_discount/100*(ve.value/100*P.value*O.value);Nt+=ve.anchor_bearing_discount/100*(ve.value/100*P.value*O.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+ve.value+"%)"]),ve.taxes&&(_t+=ve.taxes/100*(ve.value/100*P.value)*O.value)}else{it+=ve.vendor_bearing_discount/100*(ve.value/100*P.value);let vt=ve.vendor_bearing_discount/100*(ve.value/100*P.value);Nt+=ve.anchor_bearing_discount/100*(ve.value/100*P.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+ve.value+"%)"]),ve.taxes&&(_t+=ve.taxes/100*(ve.value/100*P.value))}if(ve.type==="amount")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*ve.value*O.value;let vt=ve.vendor_bearing_discount/100*ve.value*O.value;Nt+=ve.anchor_bearing_discount/100*ve.value*O.value,ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+")"]),ve.taxes&&(_t+=ve.taxes/100*ve.value)}else{it+=ve.vendor_bearing_discount/100*ve.value;let vt=ve.vendor_bearing_discount/100*ve.value;Nt+=ve.anchor_bearing_discount/100*ve.value,ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+")"]),ve.taxes&&(_t+=ve.taxes/100*ve.value)}if(ve.type=="per amount")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value);let vt=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value);Nt+=ve.anchor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+" Per "+ve.per_amount+")"]),ve.taxes&&(_t+=ve.taxes/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value))}else{it+=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value);let vt=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value);Nt+=ve.anchor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+" Per "+ve.per_amount+")"]),ve.taxes&&(_t+=ve.taxes/100*(Math.round(P.value/ve.per_amount)*ve.value))}}),Ne.value+=it,Ie.value+=_t,_.value.discount_type=="Front Ended"?U.value=P.value-Ne.value-Ie.value-R.value-_e.value:U.value=P.value-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),W.value=_.value.min_financing_days,oe.value=_.value.max_financing_days,i.value=H(_.value.due_date).subtract(oe.value,"days").format("DD MMM YYYY"),H(i.value)<H()&&(i.value=H().format("DD MMM YYYY")),v.value=i.value,O.value=H(_.value.due_date).diff(H(i.value),"days"),d.value=H(_.value.due_date).subtract(W.value,"days").format("DD MMM YYYY");let tt=[function(ve){return wt.value.includes(ve.getDay())}];Vt.value=new Date(d.value),wt.value.forEach(ve=>{gt.value.push(ve)}),mt.value.forEach(ve=>{tt.push('"'+ve+'"'),ut.value.push(new Date(ve))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:i.value,maxDate:d.value,disable:tt},_.value.bank_details.forEach(ve=>{ve.account_number==_.value.credit_to?(ae.value=ve.id,ie.value=!0):(ae.value="",ie.value=!1)}),w.value=H().format("DD MMM YYYY"),Fe.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(Oe,ye,He)=>{ye!=""&&(Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,Jt.value=!0,A.post(m+"factoring/invoices/remittance/amount",{invoices:pe.value,date:y.value}).then(Nt=>{Se.value=Nt.data.total_amount,Ve.value=Nt.data.total_remittance_amount,Jt.value=!1}),g.value=H(ye).format("DD MMM YYYY"),y.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(pe.value.length<=0)return t.error("Select Payment Instructions"),!1;y.value=new Date().toLocaleDateString("en-CA"),g.value=new Date().toLocaleDateString("en-CA");let Oe=[function(ye){return wt.value.includes(ye.getDay())}];Vt.value=new Date(p.value),wt.value.forEach(ye=>{gt.value.push(ye)}),mt.value.forEach(ye=>{Oe.push('"'+ye+'"'),ut.value.push(new Date(ye))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:p.value,disable:Oe},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(m+"factoring/invoices/remittance/amount",{invoices:pe.value,date:y.value}).then(ye=>{Se.value=ye.data.total_amount,Ve.value=ye.data.total_remittance_amount,Jt.value=!1}),be.value.click()},Ge=Oe=>{let ye="";switch(Oe){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(m+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(Oe=>{ue.value=Oe.data.terms_and_conditions,je.value=Oe.data.noa,Ye.value=Oe.data.terms_text,ze.value=Oe.data.noa_text,c.value=Oe.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(ye=>{he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,re.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,$e.value+=ye.eligible_for_finance,De.value+=ye.actual_remittance_amount}),p.value=H(Oe.data.highest_due_date).subtract(Oe.data.min_financing_days,"days").format("DD MMM YYYY"),Oe.data.holidays.forEach(ye=>{mt.value.push(ye.date_formatted)}),Oe.data.off_days&&Oe.data.off_days.forEach(ye=>{wt.value.push(ye)})}).catch(Oe=>{console.log(Oe)})},yt=(Oe,ye,He)=>{k.value=_.value.total,I.value=_.value.total_invoice_taxes,V.value=_.value.total_invoice_fees,Ne.value=0,Ie.value=0,Ce.value=[];let Nt=_.value.total_invoice_discount;k.value=k.value+I.value-Nt;let it=k.value-V.value;T.value=F.value/100*it,S.value=x.value/100*T.value,O.value=H(_.value.due_date).diff(H(ye),"days"),R.value=F.value/100*it*(N.value/100)*(H(_.value.due_date).diff(H(ye),"days")/365),_e.value=ge.value/100*R.value,_.value.vendor_discount_details.vendor_discount_bearing>0&&(R.value=_.value.vendor_discount_details.vendor_discount_bearing/N.value*R.value);let _t=0,tt=0,ve=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((Re,vt)=>{if(Re.type=="percentage")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value*O.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value*O.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value*O.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(ve+=Re.taxes/100*(Re.value/100*P.value)*O.value)}else{_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(ve+=Re.taxes/100*(Re.value/100*P.value))}if(Re.type==="amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*Re.value*O.value;let Rt=Re.vendor_bearing_discount/100*Re.value*O.value;tt+=Re.anchor_bearing_discount/100*Re.value*O.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(ve+=Re.taxes/100*Re.value)}else{_t+=Re.vendor_bearing_discount/100*Re.value;let Rt=Re.vendor_bearing_discount/100*Re.value;tt+=Re.anchor_bearing_discount/100*Re.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(ve+=Re.taxes/100*Re.value)}if(Re.type=="per amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(ve+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value))}else{_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(ve+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value))}}),Ne.value+=_t,Ie.value+=ve,_.value.program.discount_details[0].discount_type=="Front Ended"?U.value=F.value/100*it-Ne.value-Ie.value-R.value-_e.value:U.value=F.value/100*it-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),v.value=H(ye).format("DD MMM YYYY")},xt=async()=>{if(ae.value==""){t.error("Select Payment Account"),we.value=!0;return}ie.value=!1,await A.post(m+"factoring/cash-planner/invoices/request/send",{invoice_id:_.value.id,payment_request_date:v.value,credit_to:ae.value}).then(Oe=>{t.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(Oe=>{console.log(Oe),ie.value=!0,Oe.response.data&&Oe.response.data.message?t.error(Oe.response.data.message):t.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{ie.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const Oe=new FormData;pe.value.forEach(ye=>{Oe.append("invoices[]",ye.id)}),Oe.append("payment_request_date",g.value),await A.post(m+"factoring/cash-planner/invoices/request/multiple/send",Oe).then(ye=>{t.success("Payment requests sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),pe.value=[],Se.value=0,Ve.value=0,nt()}).catch(ye=>{console.log(ye),ie.value=!0,ye.response.data&&ye.response.data.message?t.error(ye.response.data.message):t.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(Oe,ye)=>(ye/Oe*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,is_dashboard:s,config:ke,config2:te,moment:H,max_date:d,min_date:i,eligibility_amount:l,pi_amount:K,discount_amount:r,days_to_payment:E,total_remittance:D,processing_fee_amount:C,invoices:c,payment_date:v,request_payment_date:w,bulk_request_payment_date:y,credit_to:ae,taxes_amount:z,payment_account:we,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ge,tax_on_discount_amount:_e,invoice_total_amount:k,invoice_taxes_amount:I,invoice_fees_amount:V,invoice_eligibility_percentage:F,invoice_eligibility_amount:T,invoice_eligibility_for_finance:P,invoice_discount_amount:R,invoice_days_to_payment:O,invoice_business_spread:N,invoice_processing_fee:S,invoice_min_financing_days:W,invoice_due_date:J,invoice_total_remmitance:U,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:Ge,total_invoice_amount:he,total_pi_amount:re,total_eligible_amount:$e,total_actual_remittance:De,can_submit:ie,selected_invoices:pe,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:je,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Pe,bulk_data_loading:Jt,buyer_search:at,invoice_number_search:se,from_date_search:fe,to_date_search:Le,per_page:Ot,formatNoa:Oe=>{let ye="";ze.value&&(ye=ze.value.body,ye=ye.replace("{date}",H(Oe.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",Oe.company.name),ye=ye.replace("{anchorName}",Oe.buyer.name),ye=ye.replace("{company}",Oe.company.name),ye=ye.replace("{anchorCompanyUniqueID}",Oe.buyer.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract}",""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorAccountName}",Oe.bank_details.length>0?Oe.bank_details[0].name_as_per_bank:""),ye=ye.replace("{anchorAccountNumber}",Oe.bank_details.length>0?Oe.bank_details[0].account_number:""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorBranch}",Oe.bank_details.length>0?Oe.bank_details[0].branch:""),ye=ye.replace("{anchorIFSCCode}",""),ye=ye.replace("{anchorAddress}",Oe.buyer.address+" "+Oe.buyer.postal_code+" "+Oe.buyer.city),ye=ye.replace("{penalnterestRate}",Oe.vendor_discount_details?Oe.vendor_discount_details.penal_discount_on_principle:""),ye=ye.replace("{sellerName}",Oe.company.name),ze.value.body=ye)},prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:pt,changePage:async Oe=>{await A.get(Oe,{params:{anchor:at.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{he.value=0,re.value=0,$e.value=0,De.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount,pe.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:xt,invoice_details:_,viewRequestDetails:Fe,getTaxPercentage:Tt,updateSelected:Oe=>{let ye=pe.value.findIndex(He=>He.id==Oe.id);if(ye==-1?pe.value.push(Oe):pe.value.splice(ye,1),pe.value.length==c.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,pe.value.length>0){let He=pe.value[0].due_date,Nt=pe.value[0].min_financing_days;pe.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),d.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?c.value.data.forEach(Oe=>{document.getElementById("invoice-"+Oe.id).checked=!0,pe.value.push(Oe)}):c.value.data.forEach(Oe=>{if(document.getElementById("invoice-"+Oe.id).checked==!0){document.getElementById("invoice-"+Oe.id).checked=!1;let ye;if(!pe.value.filter(function(Nt,it){ye=it,Nt.id==Oe.id}))return!1;pe.value.splice(ye,1)}})},acceptTerms:()=>{ie.value=!ie.value},filter:Dt,refresh:Ft,showInvoice:Kt,invoice_details_key:Et}}},Fhe={class:"card"},Yhe={key:0,class:"card-header"},Vhe={class:"card-body"},Bhe={key:0,class:"d-flex justify-content-between"},Uhe={class:"d-flex flex-wrap gap-1"},qhe={class:""},Hhe={for:"Buyer",class:"form-label"},zhe={class:""},Whe={for:"Invoice No.",class:"form-label"},Khe={class:""},Ghe={class:"form-label",for:""},Qhe={class:"table-search-btn"},Zhe={class:"table-clear-btn"},Jhe={class:"d-flex mx-2",style:{height:"fit-content"}},Xhe={class:"table-responsive"},epe={class:"table invoices-table"},tpe={class:""},ope={key:0},ape={key:1},npe={key:2},spe={class:"invoices-table-content"},lpe={key:0},ipe={colspan:"12",class:"text-center"},rpe={class:"text-center"},dpe={key:1},cpe={colspan:"12",class:"text-center"},upe={class:"text-center"},_pe={key:0},mpe={key:0,class:"form-check"},fpe=["id","onChange"],hpe={key:1},ppe=["onClick"],vpe=["title"],gpe={class:""},bpe={class:"text-success text-nowrap"},ype={class:""},kpe={class:"text-success text-nowrap"},$pe={class:"text-success text-nowrap"},wpe={key:2,class:"text-success"},Dpe=["onClick"],xpe=["id","data-bs-target"],Cpe=["id","data-bs-target"],Ppe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Epe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Ape={class:"modal-content"},Ipe={class:"modal-body"},Rpe={class:"d-flex justify-content-center"},Spe=["id"],Tpe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},jpe={class:"modal-content"},Ope={class:"modal-header"},Mpe={class:"modal-title",id:"modalCenterTitle"},Lpe={class:"modal-body"},Npe={class:"row"},Fpe={class:"col-6"},Ype={class:"border-bottom d-flex justify-content-between"},Vpe={for:"nameWithTitle",class:"form-label"},Bpe={class:"text-success"},Upe={class:"border-bottom d-flex justify-content-between"},qpe={for:"nameWithTitle",class:"form-label"},Hpe={class:"text-success"},zpe={class:"border-bottom d-flex justify-content-between"},Wpe={for:"nameWithTitle",class:"form-label"},Kpe={class:"text-success"},Gpe={class:"col-6"},Qpe={class:"border-bottom d-flex justify-content-between"},Zpe={for:"nameWithTitle",class:"form-label"},Jpe={key:0,class:""},Xpe={class:"border-bottom d-flex justify-content-between"},eve={for:"nameWithTitle",class:"form-label"},tve={key:0,class:""},ove={class:"border-bottom d-flex justify-content-between"},ave={for:"nameWithTitle",class:"form-label"},nve={class:"text-success"},sve={class:"mt-1"},lve={class:"row"},ive={key:0,class:"col-6"},rve={class:"border-bottom d-flex justify-content-between"},dve={for:"nameWithTitle",class:"form-label"},cve={class:""},uve={class:"border-bottom d-flex justify-content-between"},_ve={for:"nameWithTitle",class:"form-label"},mve={class:""},fve={class:"border-bottom d-flex justify-content-between"},hve={for:"nameWithTitle",class:"form-label"},pve={key:0,class:""},vve=["for"],gve={class:"text-success"},bve={class:"border-bottom d-flex justify-content-between"},yve={for:"nameWithTitle",class:"form-label"},kve={class:"text-success"},$ve={class:"border-bottom d-flex justify-content-between"},wve={for:"nameWithTitle",class:"form-label"},Dve={class:"text-success"},xve={class:"border-bottom d-flex justify-content-between"},Cve={for:"nameWithTitle",class:"form-label"},Pve={class:"text-success"},Eve={class:"border-bottom d-flex justify-content-between"},Ave={for:"nameWithTitle",class:"form-label"},Ive={class:"text-success"},Rve={class:"text-success"},Sve={key:1,class:"col-6"},Tve={class:"border-bottom d-flex justify-content-between"},jve={for:"nameWithTitle",class:"form-label"},Ove={class:""},Mve={class:"border-bottom d-flex justify-content-between"},Lve={for:"nameWithTitle",class:"form-label"},Nve={class:""},Fve={class:"border-bottom d-flex justify-content-between"},Yve={for:"nameWithTitle",class:"form-label"},Vve={key:0,class:""},Bve=["for"],Uve={class:"text-success"},qve={class:"border-bottom d-flex justify-content-between"},Hve={for:"nameWithTitle",class:"form-label"},zve={class:"text-success"},Wve={class:"border-bottom d-flex justify-content-between"},Kve={for:"nameWithTitle",class:"form-label"},Gve={class:"text-success"},Qve={class:"col-6"},Zve={class:"mt-1"},Jve={class:"row"},Xve={class:"col-12"},ege={class:"border-bottom d-flex justify-content-between"},tge={for:"nameWithTitle",class:"form-label"},oge={class:"",id:"payment_date"},age={class:"border-bottom d-flex justify-content-between"},nge={for:"nameWithTitle",class:"form-label"},sge={class:"text-success"},lge={class:"border-bottom d-flex justify-content-between"},ige={for:"nameWithTitle",class:"form-label"},rge={class:"text-success"},dge={key:0,class:"border-bottom d-flex justify-content-between"},cge={for:"nameWithTitle",class:"form-label"},uge={class:"text-success"},_ge={key:1,class:"border-bottom d-flex justify-content-between"},mge={for:"nameWithTitle",class:"form-label"},fge={class:"text-success"},hge={class:"border-bottom d-flex justify-content-between"},pge={for:"nameWithTitle",class:"form-label"},vge={value:""},gge=["value"],bge={class:"modal-footer"},yge={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},kge=["disabled","data-bs-target"],$ge=["id"],wge={class:"modal-dialog modal-lg",role:"document"},Dge={class:"modal-content"},xge={class:"modal-header"},Cge={class:"modal-title",id:"modalCenterTitle"},Pge={class:"modal-body"},Ege={key:0},Age={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},Ige=["innerHTML"],Rge={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},Sge={key:3},Tge={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},jge=["innerHTML"],Oge=["href"],Mge={class:"modal-footer d-flex justify-content-between"},Lge={class:"mt-4"},Nge=["href"],Fge={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},Yge=["disabled"],Vge=["id"],Bge={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Uge={class:"modal-content"},qge={class:"modal-header"},Hge={class:"modal-title",id:"modalCenterTitle"},zge={class:"d-flex gap-1"},Wge=["data-bs-target"],Kge=["href"],Gge={class:"modal-body"},Qge={class:"d-flex justify-content-between mb-4"},Zge={class:"mb-3"},Jge={class:"d-flex justify-content-between"},Xge={class:"fw-light my-auto"},e1e={class:"fw-bold mx-2 my-auto"},t1e={class:"d-flex justify-content-between"},o1e={class:"fw-light my-auto"},a1e={class:"fw-bold mx-2 my-auto"},n1e={class:"d-flex justify-content-between"},s1e={class:"fw-light my-auto"},l1e={class:"fw-bold mx-2 my-auto"},i1e={class:"d-flex justify-content-between"},r1e={class:"fw-light my-auto"},d1e={class:"fw-bold mx-2 my-auto"},c1e={class:"d-flex justify-content-between"},u1e={class:"fw-light my-auto"},_1e={class:"fw-bold mx-2 my-auto"},m1e={key:0,class:"d-flex justify-content-between"},f1e={class:"fw-light my-auto"},h1e={class:"fw-bold mx-2 my-auto"},p1e={key:1,class:"d-flex justify-content-between"},v1e={class:"fw-light my-auto"},g1e={class:"fw-bold mx-2 my-auto"},b1e={class:"mb-3"},y1e={key:0,class:"d-flex justify-content-between"},k1e={class:"my-auto fw-light"},$1e=["data-bs-target"],w1e={class:"d-flex justify-content-between"},D1e={class:"my-auto fw-light"},x1e={class:"fw-bold mx-2 my-auto"},C1e={class:"d-flex justify-content-between"},P1e={class:"my-auto fw-light"},E1e={class:"fw-bold mx-2 my-auto"},A1e={class:"d-flex justify-content-between"},I1e={class:"my-auto fw-light"},R1e={class:"fw-bold mx-2 my-auto"},S1e={class:"d-flex justify-content-between"},T1e={class:"my-auto fw-light"},j1e={class:"fw-bold mx-2 my-auto"},O1e={class:"d-flex justify-content-between"},M1e={class:"my-auto fw-light"},L1e={class:"fw-bold text-success mx-2 my-auto"},N1e={class:"d-flex justify-content-between"},F1e={class:"my-auto fw-light"},Y1e={class:"fw-bold mx-2 my-auto"},V1e={class:"d-flex justify-content-between"},B1e={class:"my-auto fw-light"},U1e={class:"fw-bold mx-2 my-auto"},q1e={class:"table-responsive"},H1e={class:"table"},z1e={class:"bg-label-primary"},W1e={class:"px-2"},K1e={class:"d-flex justify-content-end"},G1e={class:"mx-2 my-auto"},Q1e={class:"text-success my-auto"},Z1e={key:0,class:"px-2"},J1e={class:"mx-2 my-auto"},X1e={class:"text-success my-auto"},ebe={key:1,class:"px-2"},tbe={class:"d-flex justify-content-end"},obe={class:"mx-2 my-auto"},abe={class:"bg-label-secondary px-2"},nbe={class:"d-flex justify-content-end"},sbe={class:"mx-2 my-auto py-1"},lbe={class:"text-success my-auto py-1"},ibe=["id"],rbe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},dbe={class:"modal-content"},cbe={class:"modal-header"},ube={class:"modal-title",id:"modalCenterTitle"},_be={class:"d-flex gap-1"},mbe=["data-bs-target"],fbe=["href"],hbe={class:"modal-body"},pbe={class:"d-flex justify-content-between mb-4"},vbe={class:"mb-3"},gbe={class:"d-flex justify-content-between"},bbe={class:"fw-light my-auto"},ybe={class:"fw-bold mx-2 my-auto"},kbe={class:"d-flex justify-content-between"},$be={class:"fw-light my-auto"},wbe={class:"fw-bold mx-2 my-auto"},Dbe={class:"d-flex justify-content-between"},xbe={class:"fw-light my-auto"},Cbe={class:"fw-bold mx-2 my-auto"},Pbe={class:"d-flex justify-content-between"},Ebe={class:"fw-light my-auto"},Abe={class:"fw-bold mx-2 my-auto"},Ibe={class:"d-flex justify-content-between"},Rbe={class:"fw-light my-auto"},Sbe={class:"fw-bold mx-2 my-auto"},Tbe={key:0,class:"d-flex justify-content-between"},jbe={class:"fw-light my-auto"},Obe={class:"fw-bold mx-2 my-auto"},Mbe={key:1,class:"d-flex justify-content-between"},Lbe={class:"fw-light my-auto"},Nbe={class:"fw-bold mx-2 my-auto"},Fbe={class:"mb-3"},Ybe={key:0,class:"d-flex justify-content-between"},Vbe={class:"my-auto fw-light"},Bbe=["data-bs-target"],Ube={class:"d-flex justify-content-between"},qbe={class:"my-auto fw-light"},Hbe={class:"fw-bold mx-2 my-auto"},zbe={class:"d-flex justify-content-between"},Wbe={class:"my-auto fw-light"},Kbe={class:"fw-bold mx-2 my-auto"},Gbe={class:"d-flex justify-content-between"},Qbe={class:"my-auto fw-light"},Zbe={class:"fw-bold mx-2 my-auto"},Jbe={class:"d-flex justify-content-between"},Xbe={class:"my-auto fw-light"},eye={class:"fw-bold mx-2 my-auto"},tye={class:"d-flex justify-content-between"},oye={class:"my-auto fw-light"},aye={class:"fw-bold text-success mx-2 my-auto"},nye={class:"d-flex justify-content-between"},sye={class:"my-auto fw-light"},lye={class:"fw-bold mx-2 my-auto"},iye={class:"d-flex justify-content-between"},rye={class:"my-auto fw-light"},dye={class:"fw-bold mx-2 my-auto"},cye={class:"table-responsive"},uye={class:"table"},_ye={class:"bg-label-primary"},mye={class:"px-2"},fye={class:"d-flex justify-content-end"},hye={class:"mx-2 my-auto"},pye={class:"text-success my-auto"},vye={key:0,class:"px-2"},gye={class:"mx-2 my-auto"},bye={class:"text-success my-auto"},yye={key:1,class:"px-2"},kye={class:"d-flex justify-content-end"},$ye={class:"mx-2 my-auto"},wye={key:2,class:"px-2"},Dye={class:"mx-2 my-auto py-1"},xye={key:0,class:"text-success my-auto py-1"},Cye={key:1,class:"text-success my-auto py-1"},Pye={key:3,class:"px-2"},Eye={class:"d-flex justify-content-end"},Aye={class:"mx-2 my-auto py-1"},Iye={class:"d-flex justify-content-end"},Rye={class:"mx-2 my-auto py-1"},Sye={class:"d-flex justify-content-end"},Tye={class:"mx-2 my-auto py-1"},jye={class:"bg-label-secondary px-2"},Oye={class:"d-flex justify-content-end"},Mye={class:"mx-2 my-auto py-1"},Lye={class:"text-success my-auto py-1"},Nye={key:0,class:"text-nowrap"},Fye={class:"text-success"},Yye={class:"text-success"},Vye={class:"text-success"},Bye={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},Uye={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},qye={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Hye={class:"modal-content"},zye={class:"modal-header"},Wye={class:"modal-title",id:"modalCenterTitle"},Kye={class:"modal-body"},Gye={class:"d-flex justify-content-between"},Qye={key:0},Zye={key:1,src:At,style:{width:"1.3rem"}},Jye={class:"d-flex justify-content-between my-1"},Xye={key:0},e0e={key:1,src:At,style:{width:"1.3rem"}},t0e={for:"Request Date",class:"form-label"},o0e={class:"modal-footer"},a0e={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},n0e={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},s0e={class:"modal-dialog modal-lg",role:"document"},l0e={class:"modal-content"},i0e={class:"modal-header"},r0e={class:"modal-title",id:"modalCenterTitle"},d0e={class:"modal-body"},c0e={key:0},u0e={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},_0e=["innerHTML"],m0e={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},f0e={class:"modal-footer d-flex justify-content-between"},h0e={class:"mt-4"},p0e=["href"],v0e=["disabled"],g0e={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},b0e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},y0e={class:"modal-content"},k0e={class:"modal-header"},$0e={class:"modal-title",id:"modalCenterTitle"},w0e={class:"modal-body"},D0e={class:"fw-bold"},x0e={class:"modal-footer"},C0e={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function P0e(o,a,s,t,c,m){const _=ce("pagination"),l=ce("flat-pickr"),r=ce("upload-attachment");return u(),f("div",Fhe,[t.is_dashboard?b("",!0):(u(),f("div",Yhe,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)])),e("div",Vhe,[t.is_dashboard?b("",!0):(u(),f("div",Bhe,[e("div",Uhe,[e("div",qhe,[e("label",Hhe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",zhe,[e("label",Whe,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Khe,[e("label",Ghe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[17]||(a[17]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Qhe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Zhe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Jhe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])),!t.is_dashboard&&t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Xhe,[e("table",epe,[e("thead",null,[e("tr",tpe,[!t.is_dashboard&&t.can_request?(u(),f("th",ope,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=i=>t.selectAll())},null,32)])):b("",!0),!t.is_dashboard&&t.can_request?(u(),f("th",ape,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=i=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",npe,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",spe,[t.invoices.data?b("",!0):(u(),f("tr",lpe,[e("td",ipe,[e("span",rpe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",dpe,[e("td",cpe,[e("span",upe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.is_dashboard?b("",!0):(u(),f("td",_pe,[t.can_request&&i.payment_requests<=0?(u(),f("div",mpe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+i.id,onChange:d=>t.updateSelected(i)},null,40,fpe)])):b("",!0)])),!t.is_dashboard&&t.can_request?(u(),f("td",hpe)):b("",!0),e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:d=>t.showInvoice(i.id,"show-planner-pi-"+i.id)},n(i.invoice_number),9,ppe),i.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:i.financing_request_window},null,8,vpe))]),e("td",gpe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",bpe,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1),e("td",ype,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",kpe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount).toFixed(2))),1)]),e("td",$pe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",wpe,[i.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:d=>t.showModal(i.id,"show-request-financing-btn-"+i.id)},null,8,Dpe)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+i.id},null,8,xpe),e("button",{class:"d-none",id:"show-request-financing-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+i.id},null,8,Cpe),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Ppe,[e("div",Epe,[e("div",Ape,[e("div",Ipe,[e("div",Rpe,[e("span",null,n(o.$t("Loading"))+"...",1),a[21]||(a[21]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Tpe,[e("div",jpe,[e("div",Ope,[e("h5",Mpe,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Lpe,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",Npe,[e("div",Fpe,[e("div",Ype,[e("label",Vpe,n(o.$t("Invoice Amount")),1),e("h6",Bpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_details.total)),1)])]),e("div",Upe,[e("label",qpe,n(o.$t("PI Amount"))+"(A)",1),e("h6",Hpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)])]),e("div",zpe,[e("label",Wpe,n(o.$t("Eligible Amount")),1),e("h6",Kpe,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])])]),e("div",Gpe,[e("div",Qpe,[e("label",Zpe,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",Jpe,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",Xpe,[e("label",eve,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",tve,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",ove,[e("label",ave,n(o.$t("Eligible For Finance")),1),e("h6",nve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",sve,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",lve,[t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",ive,[e("div",rve,[e("label",dve,n(o.$t("Early Payment Date")),1),e("h6",cve,n(t.payment_date),1)]),e("div",uve,[e("label",_ve,n(o.$t("Days to Payment")),1),e("h6",mve,n(t.invoice_days_to_payment),1)]),e("div",fve,[e("label",hve,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",pve,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,vve),e("h6",gve,n(d[1]),1)]))),128)),e("div",bve,[e("label",yve,[le(n(o.$t("Total Fees"))+" ",1),a[23]||(a[23]=e("strong",null,"(C)",-1))]),e("h6",kve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",$ve,[e("label",wve,[le(n(o.$t("Tax On Fees "))+" ",1),a[24]||(a[24]=e("strong",null,"(D)",-1))]),e("h6",Dve,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",xve,[e("label",Cve,[le(n(o.$t("Discount Amount"))+" ",1),a[25]||(a[25]=e("strong",null,"(E)",-1))]),e("h6",Pve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",Eve,[e("label",Ave,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",Ive,n(t.tax_on_discount)+"%",1),a[26]||(a[26]=e("strong",null,"(F)",-1))]),e("h6",Rve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])])):(u(),f("div",Sve,[e("div",Tve,[e("label",jve,n(o.$t("Early Payment Date")),1),e("h6",Ove,n(t.payment_date),1)]),e("div",Mve,[e("label",Lve,n(o.$t("Days to Payment")),1),e("h6",Nve,n(t.invoice_days_to_payment),1)]),e("div",Fve,[e("label",Yve,n(o.$t("Discount Charge")),1),t.invoice_details?(u(),f("h6",Vve,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,Bve),e("h6",Uve,n(d[1]),1)]))),128)),e("div",qve,[e("label",Hve,[le(n(o.$t("Total Fees"))+" ",1),a[27]||(a[27]=e("strong",null,"(C)",-1))]),e("h6",zve,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",Wve,[e("label",Kve,[le(n(o.$t("Tax On Fees "))+" ",1),a[28]||(a[28]=e("strong",null,"(D)",-1))]),e("h6",Gve,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])])),e("div",Qve,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=d=>t.request_payment_date=d),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",Zve,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",Jve,[e("div",Xve,[e("div",ege,[e("label",tge,n(o.$t("Early Payment Date")),1),e("h6",oge,n(t.payment_date),1)]),e("div",age,[e("label",nge,n(o.$t("Eligible Amount")),1),e("h6",sge,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",lge,[e("label",ige,[le(n(o.$t("Request Amount"))+" ",1),a[29]||(a[29]=e("strong",null,"(B)",-1))]),e("h6",rge,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",dge,[e("label",cge,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[30]||(a[30]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",uge,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])):(u(),f("div",_ge,[e("label",mge,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[31]||(a[31]=e("strong",null,"(B-C-D)",-1))]),e("h6",fge,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])),e("div",hge,[e("label",pge,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[10]||(a[10]=d=>t.credit_to=d),onChange:a[11]||(a[11]=d=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",vge,n(o.$t("Select Payment Account")),1),(u(!0),f(G,null,ee(t.invoice_details.bank_details,d=>(u(),f("option",{key:d.id,value:d.id},n(d.account_number)+" - ("+n(d.bank_name)+") ",9,gge))),128))],34)),[[de,t.credit_to]]):b("",!0)])])])]),e("div",bge,[e("button",yge,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+i.id,onClick:a[12]||(a[12]=d=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,kge)])])])],8,Spe)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+i.id,"aria-hidden":"true"},[e("div",wge,[e("div",Dge,[e("div",xge,[e("h5",Cge,n(o.$t("Request Finance")),1),a[32]||(a[32]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Pge,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",Ege,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",Age,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,Ige)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",Rge,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",Sge,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",Tge,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,jge)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../factoring/cash-planner/invoices/"+i.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,Oge)):b("",!0)]),e("div",Mge,[e("small",Lge,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,Nge)]),e("div",null,[e("button",Fge,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[13]||(a[13]=(...d)=>t.requestFinance&&t.requestFinance(...d)),disabled:!t.can_submit},n(o.$t("Submit")),9,Yge)])])])])],8,$ge)])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-invoice-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Bge,[e("div",Uge,[e("div",qge,[e("h5",Hge,n(o.$t("Invoice Details")),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",zge,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,Wge)]),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[34]||(a[34]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Kge)])]),e("div",Gge,[e("div",Qge,[e("div",Zge,[e("span",Jge,[e("h5",Xge,n(o.$t("Anchor"))+":",1),e("h6",e1e,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",t1e,[e("h5",o1e,n(o.$t("Delivery Address"))+":",1),e("h6",a1e,n(t.invoice_details.delivery_address),1)]),e("span",n1e,[e("h5",s1e,n(o.$t("Debit From"))+":",1),e("h6",l1e,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",i1e,[e("h5",r1e,n(o.$t("Vendor"))+":",1),e("h6",d1e,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",c1e,[e("h5",u1e,n(o.$t("Remarks"))+":",1),e("h6",_1e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",m1e,[e("h5",f1e,n(o.$t("Credit To"))+":",1),e("h6",h1e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",p1e,[e("h5",v1e,n(o.$t("Rejection Reason"))+":",1),e("h6",g1e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",b1e,[t.invoice_details.pi_number?(u(),f("span",y1e,[e("h5",k1e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,$1e)])):b("",!0),e("span",w1e,[e("h5",D1e,n(o.$t("Invoice No."))+":",1),e("h6",x1e,n(t.invoice_details.invoice_number),1)]),e("span",C1e,[e("h5",P1e,n(o.$t("PO No."))+":",1),e("h6",E1e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",A1e,[e("h5",I1e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",R1e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",S1e,[e("h5",T1e,n(o.$t("Invoice Date."))+":",1),e("h6",j1e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",O1e,[e("h5",M1e,n(o.$t("Amount"))+":",1),e("h6",L1e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",N1e,[e("h5",F1e,n(o.$t("Status."))+":",1),e("h6",Y1e,n(t.invoice_details.approval_stage),1)]),e("span",V1e,[e("h5",B1e,n(o.$t("Due Date"))+":",1),e("h6",U1e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",q1e,[e("table",H1e,[e("thead",z1e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",W1e,[e("span",K1e,[e("h6",G1e,n(o.$t("Discount"))+":",1),e("h5",Q1e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Z1e,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",J1e,n(d.name),1),e("h5",X1e,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",ebe,[e("span",tbe,[e("h6",obe,n(o.$t("Tax")),1),a[36]||(a[36]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",abe,[e("span",nbe,[e("h6",sbe,n(o.$t("Total")),1),e("h5",lbe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Vge)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"cash-planner-pi-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",rbe,[e("div",dbe,[e("div",cbe,[e("h5",ube,n(o.$t("Invoice Details")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",_be,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,mbe)]),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[37]||(a[37]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,fbe)])]),e("div",hbe,[e("div",pbe,[e("div",vbe,[e("span",gbe,[e("h5",bbe,n(o.$t("Anchor"))+":",1),e("h6",ybe,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",kbe,[e("h5",$be,n(o.$t("Delivery Address"))+":",1),e("h6",wbe,n(t.invoice_details.delivery_address),1)]),e("span",Dbe,[e("h5",xbe,n(o.$t("Debit From"))+":",1),e("h6",Cbe,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Pbe,[e("h5",Ebe,n(o.$t("Vendor"))+":",1),e("h6",Abe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Ibe,[e("h5",Rbe,n(o.$t("Remarks"))+":",1),e("h6",Sbe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Tbe,[e("h5",jbe,n(o.$t("Credit To"))+":",1),e("h6",Obe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Mbe,[e("h5",Lbe,n(o.$t("Rejection Reason"))+":",1),e("h6",Nbe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Fbe,[t.invoice_details.pi_number?(u(),f("span",Ybe,[e("h5",Vbe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Bbe)])):b("",!0),e("span",Ube,[e("h5",qbe,n(o.$t("PI No."))+":",1),e("h6",Hbe,n(t.invoice_details.pi_number),1)]),e("span",zbe,[e("h5",Wbe,n(o.$t("PO No."))+":",1),e("h6",Kbe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Gbe,[e("h5",Qbe,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Zbe,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Jbe,[e("h5",Xbe,n(o.$t("Invoice Date."))+":",1),e("h6",eye,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",tye,[e("h5",oye,n(o.$t("Amount"))+":",1),e("h6",aye,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",nye,[e("h5",sye,n(o.$t("Status."))+":",1),e("h6",lye,n(t.invoice_details.approval_stage),1)]),e("span",iye,[e("h5",rye,n(o.$t("Due Date"))+":",1),e("h6",dye,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",cye,[e("table",uye,[e("thead",_ye,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])]),e("div",mye,[e("span",fye,[e("h6",hye,n(o.$t("Discount"))+":",1),e("h5",pye,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",vye,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",gye,n(d.name),1),e("h5",bye,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",yye,[e("span",kye,[e("h6",$ye,n(o.$t("Tax")),1),a[39]||(a[39]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",wye,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",Dye,n(d.name),1),d.name!="Credit Note Amount"&&d.name!="Credit Note"&&d.name!="Credit Amount"?(u(),f("h5",xye," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",Cye,n(d.amount),1))]))),128))])):(u(),f("div",Pye,[e("span",Eye,[e("h6",Aye,n(o.$t("WHT Tax"))+":",1),a[40]||(a[40]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",Iye,[e("h6",Rye,n(o.$t("WHT VAT"))+":",1),a[41]||(a[41]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",Sye,[e("h6",Tye,n(o.$t("Credit Note Amount"))+":",1),a[42]||(a[42]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",jye,[e("span",Oye,[e("h6",Mye,n(o.$t("Total")),1),e("h5",Lye,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,ibe)):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)]))),128))]),t.is_dashboard?b("",!0):(u(),f("tfoot",Nye,[e("tr",null,[a[43]||(a[43]=e("td",null,null,-1)),a[44]||(a[44]=e("td",null,null,-1)),a[45]||(a[45]=e("td",null,null,-1)),a[46]||(a[46]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Fye,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),a[47]||(a[47]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Yye,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Vye,n(new Intl.NumberFormat().format(t.total_actual_remittance.toFixed(2))),1)]),a[48]||(a[48]=e("td",null,null,-1)),a[49]||(a[49]=e("td",null,null,-1))])]))])]),e("button",Bye,null,512),e("div",Uye,[e("div",qye,[e("div",Hye,[e("div",zye,[e("h5",Wye,n(o.$t("Request Finance")),1),a[50]||(a[50]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Kye,[e("div",Gye,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",Zye)):(u(),f("span",Qye,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",Jye,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",e0e)):(u(),f("span",Xye,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",t0e,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[14]||(a[14]=i=>t.bulk_request_payment_date=i),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",o0e,[e("button",a0e,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[15]||(a[15]=i=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",n0e,[e("div",s0e,[e("div",l0e,[e("div",i0e,[e("h5",r0e,n(o.$t("Request Finance")),1),a[51]||(a[51]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",d0e,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",c0e,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",u0e,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,_0e)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",m0e,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",f0e,[e("small",h0e,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"factoring/cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,p0e)]),e("div",null,[a[52]||(a[52]=e("button",{type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[16]||(a[16]=(...i)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...i)),disabled:!t.can_submit},n(o.$t("Accept")),9,v0e)])])])])]),a[54]||(a[54]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",g0e,[e("div",b0e,[e("div",y0e,[e("div",k0e,[e("h5",$0e,n(o.$t("Request for Finance successful")),1)]),e("div",w0e,[a[53]||(a[53]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",D0e,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",x0e,[e("button",C0e,n(o.$t("Close")),1)])])])]),!t.is_dashboard&&t.invoices.meta?(u(),me(_,{key:2,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const E0e=Ue(Nhe,[["render",P0e]]),A0e={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=h(null),m=h(0),_=h(0),l=h(""),r=h(""),i=h(""),d=h(H().format("DD MMM YYYY")),p=h(H().format("DD MMM YYYY")),v=h(new Date().toLocaleDateString("en-CA")),g=h(new Date().toLocaleDateString("en-CA")),w=h(1),y=h(0),x=h(1),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0),U=h(0),W=h(0);h([]),h(0);const oe=h(0),J=h(0);h(0);const K=h(""),z=h(!1),ae=h(!1),we=h(0),Fe=h(0),he=h(0),re=h(0),$e=h(!1),De=h([]),ie=h(!1),pe=h(""),be=h(""),Me=h(""),ue=h(""),je=h(""),ze=h(0),Ye=h(0),ge=h(0),_e=h(0),Se=h({inline:!0}),Ve=h({inline:!0}),ke=h([]),te=h(0),Ce=h(0),Ne=h(""),Ie=h(""),se=h(""),fe=h(""),Le=h(""),Ze=h([]),at=h([]),mt=h(10),wt=h(!1),Ot=h([]),Jt=h([]),ut=h(null),gt=h(new Date),Vt=h(0);ot([mt],async([kt])=>{await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:kt}}).then(dt=>{we.value=0,Fe.value=0,he.value=0,re.value=0,s.value=dt.data.invoices,s.value.data.forEach(Oe=>{we.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_discount,Fe.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_fees-Oe.total_invoice_discount,he.value+=Oe.eligible_for_finance,re.value+=Oe.actual_remittance_amount})})});const pt=async()=>{fe.value=$("#date_search").val(),fe.value&&(Ie.value=H(fe.value.split(" - ")[0]).format("YYYY-MM-DD"),se.value=H(fe.value.split(" - ")[1]).format("YYYY-MM-DD"));let kt=$(".ti-search").parent();kt.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{buyer:Le.value,invoice_number:Ne.value,from_date:Ie.value,to_date:se.value,per_page:mt.value}}).then(dt=>{s.value=dt.data.invoices,we.value=0,Fe.value=0,he.value=0,re.value=0,s.value.data.forEach(Oe=>{we.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_discount,Fe.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_fees-Oe.total_invoice_discount,he.value+=Oe.eligible_for_finance,re.value+=Oe.actual_remittance_amount}),kt.html('<i class="ti ti-search"></i>')})},Et=async()=>{let kt=$(".ti-refresh").parent();kt.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ne.value="",Ie.value="",se.value="",fe.value="",$("#date_search").val(""),await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:mt.value}}).then(dt=>{s.value=dt.data.invoices,we.value=0,Fe.value=0,he.value=0,re.value=0,s.value.data.forEach(Oe=>{we.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_discount,Fe.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_fees-Oe.total_invoice_discount,he.value+=Oe.eligible_for_finance,re.value+=Oe.actual_remittance_amount}),kt.html('<i class="ti ti-refresh"></i>')})},Dt=async(kt,dt)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+kt+"/details").then(Oe=>{c.value=Oe.data,Vt.value++,bt(()=>{document.getElementById(dt).click()})}).catch(Oe=>{console.log(Oe)})},Ft=async(kt,dt)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+kt+"/details").then(Oe=>{ke.value=[],te.value=0,Ce.value=0,Ce.value=0,Ce.value=0,c.value=Oe.data,W.value=c.value.due_date,E.value=0,c.value.invoice_items.forEach(it=>{E.value+=it.quantity*it.price_per_quantity}),D.value=0,c.value.invoice_taxes.forEach(it=>{D.value+=it.value}),k.value=0,c.value.invoice_fees.forEach(it=>{k.value+=it.amount}),I.value=0,c.value.invoice_discounts.forEach(it=>{it.type=="percentage"?_.value+=it.value/100*(E.value+D.value):_.value+=it.value}),E.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_discount,V.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,P.value=H(c.value.due_date).diff(H(),"days")+1,B.value=c.value.vendor_configurations.eligibility,L.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,F.value=B.value/100*(c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount),R.value=c.value.vendor_discount_details.total_roi,T.value=B.value/100*L.value*(R.value/100)*((H(c.value.due_date).diff(H(),"days")+1)/365),T.value=c.value.vendor_discount_details.anchor_discount_bearing/R.value*T.value;let ye=0,He=0;c.value.vendor_fee_details.forEach((it,_t)=>{it.type=="percentage"&&(ye+=it.anchor_bearing_discount/100*(it.value/100*L.value),it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,it.value+"%"]),it.taxes&&(He+=it.taxes/100*(it.value/100*L.value))),it.type=="amount"&&(ye+=it.anchor_bearing_discount/100*it.value,it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,c.value.currency+" "+it.value]),it.taxes&&(He+=it.taxes/100*(it.anchor_bearing_discount/100*it.value))),it.type=="per amount"&&(ye+=it.anchor_bearing_discount/100*(Math.round(L.value/it.per_amount)*it.value),it.anchor_bearing_discount>0&&ke.value.push([it.fee_name,it.value+" P.Am "+c.value.currency+" "+it.per_amount]),it.taxes&&(He+=it.taxes/100*(Math.round(L.value/it.per_amount)*it.value)))}),te.value+=ye,Ce.value+=He,ze.value=c.value.program.discount_details[0].tax_on_discount,Ye.value=ze.value/100*T.value,N.value=L.value-te.value-Ce.value-T.value-Ye.value,S.value=c.value.program.min_financing_days,U.value=c.value.max_financing_days,l.value=H(c.value.due_date).subtract(U.value,"days").format("DD MMM YYYY"),H(l.value)<H()&&(l.value=H().format("DD MMM YYYY")),r.value=H(c.value.due_date).subtract(S.value,"days").format("DD MMM YYYY");let Nt=[function(it){return at.value.includes(it.getDay())}];ut.value=new Date(r.value),at.value.forEach(it=>{Jt.value.push(it)}),Ze.value.forEach(it=>{Nt.push('"'+it+'"'),Ot.value.push(new Date(it))}),Se.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:l.value,maxDate:r.value,disable:Nt},c.value.bank_details.forEach(it=>{it.account_number==c.value.credit_to?(K.value=it.id,$e.value=!0):(K.value="",$e.value=!1)}),v.value=H().format("DD MMM YYYY"),ae.value=!0,bt(()=>{document.getElementById(dt).click()})}).catch(Oe=>{console.log(Oe)})},Kt=(kt,dt,Oe)=>{dt!=""&&(_e.value=0,ge.value=0,te.value=0,Ce.value=0,Ye.value=0,wt.value=!0,A.post(t+"factoring/invoices/remittance/amount",{invoices:De.value,date:g.value}).then(ye=>{ge.value=ye.data.total_amount,_e.value=ye.data.total_remittance_amount,wt.value=!1}),p.value=H(dt).format("DD MMM YYYY"),g.value=H(dt).format("DD MMM YYYY"))},ro=()=>{if(De.value.length<=0)return a.error("Select Payment Instructions"),!1;g.value=new Date().toLocaleDateString("en-CA"),p.value=new Date().toLocaleDateString("en-CA");let kt=[function(dt){return at.value.includes(dt.getDay())}];ut.value=new Date(i.value),at.value.forEach(dt=>{Jt.value.push(dt)}),Ze.value.forEach(dt=>{kt.push('"'+dt+'"'),Ot.value.push(new Date(dt))}),Se.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:kt},_e.value=0,ge.value=0,te.value=0,Ce.value=0,Ye.value=0,A.post(t+"factoring/invoices/remittance/amount",{invoices:De.value,date:g.value}).then(dt=>{ge.value=dt.data.total_amount,_e.value=dt.data.total_remittance_amount,wt.value=!1}),ie.value.click()},Pe=kt=>{let dt="";switch(kt){case"created":dt="bg-label-primary";break;case"paid":dt="bg-label-success";break;case"failed":dt="bg-label-danger";break;default:dt="bg-label-primary";break}return dt},Te=async()=>{await A.get(t+"factoring/cash-planner/invoices/eligible/data",{params:{per_page:mt.value}}).then(kt=>{be.value=kt.data.terms_and_conditions,Me.value=kt.data.noa,je.value=kt.data.terms_text,ue.value=kt.data.noa_text,s.value=kt.data.invoices,we.value=0,Fe.value=0,he.value=0,re.value=0,s.value.data.forEach(dt=>{we.value+=dt.total+dt.total_invoice_taxes-dt.total_invoice_discount,Fe.value+=dt.total+dt.total_invoice_taxes-dt.total_invoice_fees-dt.total_invoice_discount,he.value+=dt.eligible_for_finance,re.value+=dt.actual_remittance_amount}),i.value=H(kt.data.highest_due_date).subtract(kt.data.min_financing_days,"days").format("DD MMM YYYY"),kt.data.holidays.forEach(dt=>{Ze.value.push(dt.date_formatted)}),kt.data.off_days.forEach(dt=>{at.value.push(dt)})}).catch(kt=>{console.log(kt)})},Ge=(kt,dt,Oe)=>{E.value=c.value.total,D.value=c.value.total_invoice_taxes,k.value=c.value.total_invoice_fees;let ye=c.value.total_invoice_discount;E.value=E.value+D.value-ye;let He=E.value-k.value;L.value=B.value/100*He,O.value=w.value/100*L.value,P.value=H(c.value.due_date).diff(H(dt),"days"),T.value=B.value/100*He*(R.value/100)*(H(c.value.due_date).diff(H(dt),"days")/365),T.value=c.value.vendor_discount_details.vendor_discount_bearing/R.value*T.value,Ye.value=ze.value/100*T.value,N.value=L.value-te.value-Ce.value-T.value-Ye.value,d.value=H(dt).format("DD MMM YYYY")},nt=async()=>{if(K.value==""){a.error("Select Payment Account"),z.value=!0;return}$e.value=!1,await A.post(t+"factoring/cash-planner/invoices/request/send",{invoice_id:c.value.id,payment_request_date:d.value,credit_to:K.value}).then(kt=>{a.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),Te()}).catch(kt=>{console.log(kt),$e.value=!0,kt.response.data&&kt.response.data.message?a.error(kt.response.data.message):a.error("An error. occurred. Refresh and try again.")})},yt=async()=>{$e.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const kt=new FormData;De.value.forEach(dt=>{kt.append("invoices[]",dt.id)}),kt.append("payment_request_date",p.value),await A.post(t+"factoring/cash-planner/invoices/request/multiple/send",kt).then(dt=>{a.success("Payment requests sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),De.value=[],ge.value=0,_e.value=0,Te()}).catch(dt=>{console.log(dt),$e.value=!0,dt.response.data&&dt.response.data.message?a.error(dt.response.data.message):a.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},xt=(kt,dt)=>(dt/kt*100).toFixed(2);return Qe(()=>{Te()}),{config:Se,config2:Ve,moment:H,max_date:r,min_date:l,eligibility_amount:m,pi_amount:oe,discount_amount:_,days_to_payment:x,total_remittance:C,processing_fee_amount:y,invoices:s,payment_date:d,request_payment_date:v,bulk_request_payment_date:g,credit_to:K,taxes_amount:J,payment_account:z,vendor_fee_details:ke,total_fees:te,total_tax_on_fees:Ce,tax_on_discount:ze,tax_on_discount_amount:Ye,invoice_total_amount:E,invoice_taxes_amount:D,invoice_fees_amount:k,invoice_eligibility_percentage:B,invoice_eligibility_amount:L,invoice_eligibility_for_finance:F,invoice_discount_amount:T,invoice_days_to_payment:P,invoice_business_spread:R,invoice_processing_fee:O,invoice_min_financing_days:S,invoice_due_date:W,invoice_total_remmitance:N,bulk_invoice_remittance:_e,resolvePaymentRequestStatus:Pe,total_invoice_amount:we,total_pi_amount:Fe,total_eligible_amount:he,total_actual_remittance:re,can_submit:$e,selected_invoices:De,show_multiple_request_modal:ie,show_terms_button:pe,terms_and_conditions_link:be,noa_text:ue,noa_link:Me,terms_text:je,selected_invoices_total_amount:ge,updateBulkDiscount:Kt,bulk_data_loading:wt,buyer_search:Le,invoice_number_search:Ne,from_date_search:Ie,to_date_search:se,per_page:mt,formatNoa:kt=>{let dt=ue.value.body;dt=dt.replace("{date}",H(kt.invoice_date).format("Do MMM YYYY")),dt=dt.replace("{buyerName}",kt.buyer.name),dt=dt.replace("{anchorName}",kt.program.anchor.name),dt=dt.replace("{company}",kt.company.name),dt=dt.replace("{anchorCompanyUniqueID}",kt.program.anchor.unique_identification_number),dt=dt.replace("{time}",H().format("Do MMM YYYY")),dt=dt.replace("{agreementDate}",H().format("Do MMM YYYY")),dt=dt.replace("{contract},",""),dt=dt.replace("{anchorAccountName},",""),dt=dt.replace("{anchorAccountNumber},",""),dt=dt.replace("{anchorCustomerId},",""),dt=dt.replace("{anchorBranch},",""),dt=dt.replace("{anchorIFSCCode},",""),dt=dt.replace("{anchorAddress},",""),dt=dt.replace("{penalnterestRate},",""),dt=dt.replace("{sellerName}",kt.company.name),ue.value.body=dt},prime_disabled_dates:Ot,prime_disabled_days:Jt,prime_max_date:ut,prime_min_date:gt,changePage:async kt=>{await A.get(kt,{params:{anchor:Le.value,invoice_number:Ne.value,from_date:Ie.value,to_date:se.value,per_page:mt.value}}).then(dt=>{we.value=0,Fe.value=0,he.value=0,re.value=0,s.value=dt.data.invoices,s.value.data.forEach(Oe=>{we.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_discount,Fe.value+=Oe.total+Oe.total_invoice_taxes-Oe.total_invoice_fees-Oe.total_invoice_discount,he.value+=Oe.eligible_for_finance,re.value+=Oe.actual_remittance_amount,De.value.filter(He=>He.id==Oe.id).length>0&&bt(()=>{document.getElementById("invoice-"+Oe.id).checked=!0})})})},updateDiscount:Ge,showModal:Ft,showMultipleRequestModal:ro,requestFinanceForMultiple:yt,requestFinance:nt,invoice_details:c,viewRequestDetails:ae,getTaxPercentage:xt,updateSelected:kt=>{let dt=De.value.findIndex(Oe=>Oe.id==kt.id);if(dt==-1?De.value.push(kt):De.value.splice(dt,1),De.value.length==s.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,De.value.length>0){let Oe=De.value[0].due_date,ye=De.value[0].min_financing_days;De.value.forEach(He=>{H(He.due_date).isBefore(Oe)&&(Oe=H(He.due_date)),He.min_financing_days<ye&&(ye=He.min_financing_days)}),r.value=H(Oe).subtract(ye,"days").format("DD MMM YYYY"),Se.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:[function(He){return He.getDay()===0||He.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?s.value.data.forEach(kt=>{document.getElementById("invoice-"+kt.id).checked=!0,De.value.push(kt)}):s.value.data.forEach(kt=>{if(document.getElementById("invoice-"+kt.id).checked==!0){document.getElementById("invoice-"+kt.id).checked=!1;let dt;if(!De.value.filter(function(ye,He){dt=He,ye.id==kt.id}))return!1;De.value.splice(dt,1)}})},acceptTerms:()=>{$e.value=!$e.value},filter:pt,refresh:Et,showInvoice:Dt,uploading_file_key:Vt}}},I0e={class:"card"},R0e={class:"card-header d-flex justify-content-between"},S0e={href:"factoring/planner",class:""},T0e={class:"card-body"},j0e={class:"table-responsive"},O0e={class:"table invoices-table"},M0e={class:""},L0e={class:"invoices-table-content"},N0e={key:0},F0e={colspan:"12",class:"text-center"},Y0e={class:"text-center"},V0e={key:1},B0e={colspan:"12",class:"text-center"},U0e={class:"text-center"},q0e=["onClick"],H0e=["title"],z0e={class:""},W0e={class:"text-success text-nowrap"},K0e={class:""},G0e={class:"text-success text-nowrap"},Q0e={class:"text-success text-nowrap"},Z0e={class:"text-success"},J0e=["onClick"],X0e=["id","data-bs-target"],e2e=["id","data-bs-target"],t2e={class:"modal fade",id:"dashboard-loading-modal",tabindex:"-1","aria-hidden":"true"},o2e={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},a2e={class:"modal-content"},n2e={class:"modal-body"},s2e={class:"d-flex justify-content-center"},l2e=["id"],i2e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},r2e={class:"modal-content"},d2e={class:"modal-header"},c2e={class:"modal-title",id:"modalCenterTitle"},u2e={class:"modal-body"},_2e={class:"row"},m2e={class:"col-6"},f2e={class:"border-bottom d-flex justify-content-between"},h2e={for:"nameWithTitle",class:"form-label"},p2e={class:"text-success"},v2e={class:"border-bottom d-flex justify-content-between"},g2e={for:"nameWithTitle",class:"form-label"},b2e={class:"text-success"},y2e={class:"border-bottom d-flex justify-content-between"},k2e={for:"nameWithTitle",class:"form-label"},$2e={class:"text-success"},w2e={class:"col-6"},D2e={class:"border-bottom d-flex justify-content-between"},x2e={for:"nameWithTitle",class:"form-label"},C2e={key:0,class:""},P2e={class:"border-bottom d-flex justify-content-between"},E2e={for:"nameWithTitle",class:"form-label"},A2e={key:0,class:""},I2e={class:"border-bottom d-flex justify-content-between"},R2e={for:"nameWithTitle",class:"form-label"},S2e={class:"text-success"},T2e={class:"mt-1"},j2e={class:"row"},O2e={class:"col-6"},M2e={class:"border-bottom d-flex justify-content-between"},L2e={for:"nameWithTitle",class:"form-label"},N2e={class:""},F2e={class:"border-bottom d-flex justify-content-between"},Y2e={for:"nameWithTitle",class:"form-label"},V2e={class:""},B2e={class:"border-bottom d-flex justify-content-between"},U2e={for:"nameWithTitle",class:"form-label"},q2e={key:0,class:""},H2e=["for"],z2e={class:"text-success"},W2e={class:"border-bottom d-flex justify-content-between"},K2e={for:"nameWithTitle",class:"form-label"},G2e={class:"text-success"},Q2e={class:"border-bottom d-flex justify-content-between"},Z2e={for:"nameWithTitle",class:"form-label"},J2e={class:"text-success"},X2e={class:"border-bottom d-flex justify-content-between"},eke={for:"nameWithTitle",class:"form-label"},tke={class:"text-success"},oke={class:"border-bottom d-flex justify-content-between"},ake={for:"nameWithTitle",class:"form-label"},nke={class:"text-success"},ske={class:"text-success"},lke={class:"col-6"},ike={class:"mt-1"},rke={class:"row"},dke={class:"col-12"},cke={class:"border-bottom d-flex justify-content-between"},uke={for:"nameWithTitle",class:"form-label"},_ke={class:"",id:"payment_date"},mke={class:"border-bottom d-flex justify-content-between"},fke={for:"nameWithTitle",class:"form-label"},hke={class:"text-success"},pke={class:"border-bottom d-flex justify-content-between"},vke={for:"nameWithTitle",class:"form-label"},gke={class:"text-success"},bke={class:"border-bottom d-flex justify-content-between"},yke={for:"nameWithTitle",class:"form-label"},kke={class:"text-success"},$ke={class:"border-bottom d-flex justify-content-between"},wke={for:"nameWithTitle",class:"form-label"},Dke={value:""},xke=["value"],Cke={class:"modal-footer"},Pke={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Eke=["disabled","data-bs-target"],Ake=["id"],Ike={class:"modal-dialog modal-lg",role:"document"},Rke={class:"modal-content"},Ske={class:"modal-header"},Tke={class:"modal-title",id:"modalCenterTitle"},jke={class:"modal-body"},Oke={key:0},Mke={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},Lke=["innerHTML"],Nke={key:2,href:"../factoring/cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},Fke={key:3},Yke={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},Vke=["innerHTML"],Bke=["href"],Uke={class:"modal-footer d-flex justify-content-between"},qke={class:"mt-4"},Hke=["href"],zke={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},Wke=["disabled"],Kke=["id"],Gke={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Qke={class:"modal-content"},Zke={class:"modal-header"},Jke={class:"modal-title",id:"modalCenterTitle"},Xke={class:"d-flex gap-1"},e$e=["data-bs-target"],t$e=["href"],o$e={class:"modal-body"},a$e={class:"d-flex justify-content-between mb-4"},n$e={class:"mb-3"},s$e={class:"d-flex justify-content-between"},l$e={class:"fw-light my-auto"},i$e={class:"fw-bold mx-2 my-auto"},r$e={class:"d-flex justify-content-between"},d$e={class:"fw-light my-auto"},c$e={class:"fw-bold mx-2 my-auto"},u$e={class:"d-flex justify-content-between"},_$e={class:"fw-light my-auto"},m$e={class:"fw-bold mx-2 my-auto"},f$e={class:"d-flex justify-content-between"},h$e={class:"fw-light my-auto"},p$e={class:"fw-bold mx-2 my-auto"},v$e={class:"d-flex justify-content-between"},g$e={class:"fw-light my-auto"},b$e={class:"fw-bold mx-2 my-auto"},y$e={key:0,class:"d-flex justify-content-between"},k$e={class:"fw-light my-auto"},$$e={class:"fw-bold mx-2 my-auto"},w$e={key:1,class:"d-flex justify-content-between"},D$e={class:"fw-light my-auto"},x$e={class:"fw-bold mx-2 my-auto"},C$e={class:"mb-3"},P$e={key:0,class:"d-flex justify-content-between"},E$e={class:"my-auto fw-light"},A$e=["data-bs-target"],I$e={class:"d-flex justify-content-between"},R$e={class:"my-auto fw-light"},S$e={class:"fw-bold mx-2 my-auto"},T$e={class:"d-flex justify-content-between"},j$e={class:"my-auto fw-light"},O$e={class:"fw-bold mx-2 my-auto"},M$e={class:"d-flex justify-content-between"},L$e={class:"my-auto fw-light"},N$e={class:"fw-bold mx-2 my-auto"},F$e={class:"d-flex justify-content-between"},Y$e={class:"my-auto fw-light"},V$e={class:"fw-bold mx-2 my-auto"},B$e={class:"d-flex justify-content-between"},U$e={class:"my-auto fw-light"},q$e={class:"fw-bold text-success mx-2 my-auto"},H$e={class:"d-flex justify-content-between"},z$e={class:"my-auto fw-light"},W$e={class:"fw-bold mx-2 my-auto"},K$e={class:"d-flex justify-content-between"},G$e={class:"my-auto fw-light"},Q$e={class:"fw-bold mx-2 my-auto"},Z$e={class:"table-responsive"},J$e={class:"table"},X$e={class:"bg-label-primary"},ewe={class:"px-2"},twe={class:"d-flex justify-content-end"},owe={class:"mx-2 my-auto"},awe={class:"text-success my-auto"},nwe={key:0,class:"px-2"},swe={class:"mx-2 my-auto"},lwe={class:"text-success my-auto"},iwe={key:1,class:"px-2"},rwe={class:"d-flex justify-content-end"},dwe={class:"mx-2 my-auto"},cwe={class:"bg-label-secondary px-2"},uwe={class:"d-flex justify-content-end"},_we={class:"mx-2 my-auto py-1"},mwe={class:"text-success my-auto py-1"},fwe=["id"],hwe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},pwe={class:"modal-content"},vwe={class:"modal-header"},gwe={class:"modal-title",id:"modalCenterTitle"},bwe={class:"d-flex gap-1"},ywe=["data-bs-target"],kwe=["href"],$we={class:"modal-body"},wwe={class:"d-flex justify-content-between mb-4"},Dwe={class:"mb-3"},xwe={class:"d-flex justify-content-between"},Cwe={class:"fw-light my-auto"},Pwe={class:"fw-bold mx-2 my-auto"},Ewe={class:"d-flex justify-content-between"},Awe={class:"fw-light my-auto"},Iwe={class:"fw-bold mx-2 my-auto"},Rwe={class:"d-flex justify-content-between"},Swe={class:"fw-light my-auto"},Twe={class:"fw-bold mx-2 my-auto"},jwe={class:"d-flex justify-content-between"},Owe={class:"fw-light my-auto"},Mwe={class:"fw-bold mx-2 my-auto"},Lwe={class:"d-flex justify-content-between"},Nwe={class:"fw-light my-auto"},Fwe={class:"fw-bold mx-2 my-auto"},Ywe={key:0,class:"d-flex justify-content-between"},Vwe={class:"fw-light my-auto"},Bwe={class:"fw-bold mx-2 my-auto"},Uwe={key:1,class:"d-flex justify-content-between"},qwe={class:"fw-light my-auto"},Hwe={class:"fw-bold mx-2 my-auto"},zwe={class:"mb-3"},Wwe={key:0,class:"d-flex justify-content-between"},Kwe={class:"my-auto fw-light"},Gwe=["data-bs-target"],Qwe={class:"d-flex justify-content-between"},Zwe={class:"my-auto fw-light"},Jwe={class:"fw-bold mx-2 my-auto"},Xwe={class:"d-flex justify-content-between"},e5e={class:"my-auto fw-light"},t5e={class:"fw-bold mx-2 my-auto"},o5e={class:"d-flex justify-content-between"},a5e={class:"my-auto fw-light"},n5e={class:"fw-bold mx-2 my-auto"},s5e={class:"d-flex justify-content-between"},l5e={class:"my-auto fw-light"},i5e={class:"fw-bold mx-2 my-auto"},r5e={class:"d-flex justify-content-between"},d5e={class:"my-auto fw-light"},c5e={class:"fw-bold text-success mx-2 my-auto"},u5e={class:"d-flex justify-content-between"},_5e={class:"my-auto fw-light"},m5e={class:"fw-bold mx-2 my-auto"},f5e={class:"d-flex justify-content-between"},h5e={class:"my-auto fw-light"},p5e={class:"fw-bold mx-2 my-auto"},v5e={class:"table-responsive"},g5e={class:"table"},b5e={class:"bg-label-primary"},y5e={class:"px-2"},k5e={class:"d-flex justify-content-end"},$5e={class:"mx-2 my-auto"},w5e={class:"text-success my-auto"},D5e={key:0,class:"px-2"},x5e={class:"mx-2 my-auto"},C5e={class:"text-success my-auto"},P5e={key:1,class:"px-2"},E5e={class:"d-flex justify-content-end"},A5e={class:"mx-2 my-auto"},I5e={key:2,class:"px-2"},R5e={class:"mx-2 my-auto py-1"},S5e={key:0,class:"text-success my-auto py-1"},T5e={key:1,class:"text-success my-auto py-1"},j5e={key:3,class:"px-2"},O5e={class:"d-flex justify-content-end"},M5e={class:"mx-2 my-auto py-1"},L5e={class:"d-flex justify-content-end"},N5e={class:"mx-2 my-auto py-1"},F5e={class:"d-flex justify-content-end"},Y5e={class:"mx-2 my-auto py-1"},V5e={class:"bg-label-secondary px-2"},B5e={class:"d-flex justify-content-end"},U5e={class:"mx-2 my-auto py-1"},q5e={class:"text-success my-auto py-1"},H5e={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},z5e={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},W5e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},K5e={class:"modal-content"},G5e={class:"modal-header"},Q5e={class:"modal-title",id:"modalCenterTitle"},Z5e={class:"modal-body"},J5e={class:"d-flex justify-content-between"},X5e={key:0},eDe={key:1,src:At,style:{width:"1.3rem"}},tDe={class:"d-flex justify-content-between my-1"},oDe={key:0},aDe={key:1,src:At,style:{width:"1.3rem"}},nDe={for:"Request Date",class:"form-label"},sDe={class:"modal-footer"},lDe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},iDe={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},rDe={class:"modal-dialog modal-lg",role:"document"},dDe={class:"modal-content"},cDe={class:"modal-header"},uDe={class:"modal-title",id:"modalCenterTitle"},_De={class:"modal-body"},mDe={key:0},fDe={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},hDe=["innerHTML"],pDe={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},vDe={class:"modal-footer d-flex justify-content-between"},gDe={class:"mt-4"},bDe=["href"],yDe=["disabled"],kDe={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},$De={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},wDe={class:"modal-content"},DDe={class:"modal-header"},xDe={class:"modal-title",id:"modalCenterTitle"},CDe={class:"modal-body"},PDe={class:"fw-bold"},EDe={class:"modal-footer"},ADe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function IDe(o,a,s,t,c,m){const _=ce("flat-pickr"),l=ce("upload-attachment");return u(),f("div",I0e,[e("div",R0e,[e("h6",null,n(o.$t("10 Payment Instructions eligible for Financing")),1),e("a",S0e,n(o.$t("View All")),1)]),e("div",T0e,[e("div",j0e,[e("table",O0e,[e("thead",null,[e("tr",M0e,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),e("th",null,n(o.$t("Pay Me Early")),1)])]),e("tbody",L0e,[t.invoices.data?b("",!0):(u(),f("tr",N0e,[e("td",F0e,[e("span",Y0e,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",V0e,[e("td",B0e,[e("span",U0e,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,q0e),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,H0e))]),e("td",z0e,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",W0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1)]),e("td",K0e,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",G0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",Q0e,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),e("td",Z0e,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,J0e)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,X0e),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,e2e),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#dashboard-loading-modal"},null,-1)),e("div",t2e,[e("div",o2e,[e("div",a2e,[e("div",n2e,[e("div",s2e,[e("span",null,n(o.$t("Loading"))+"...",1),a[8]||(a[8]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",i2e,[e("div",r2e,[e("div",d2e,[e("h5",c2e,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[9]||(a[9]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",u2e,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",_2e,[e("div",m2e,[e("div",f2e,[e("label",h2e,n(o.$t("Invoice Amount")),1),e("h6",p2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("div",v2e,[e("label",g2e,n(o.$t("PI Amount"))+"(A)",1),e("h6",b2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",y2e,[e("label",k2e,n(o.$t("Eligible Amount")),1),e("h6",$2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",w2e,[e("div",D2e,[e("label",x2e,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",C2e,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",P2e,[e("label",E2e,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",A2e,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",I2e,[e("label",R2e,n(o.$t("Eligible For Finance")),1),e("h6",S2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",T2e,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",j2e,[e("div",O2e,[e("div",M2e,[e("label",L2e,n(o.$t("Early Payment Date")),1),e("h6",N2e,n(t.payment_date),1)]),e("div",F2e,[e("label",Y2e,n(o.$t("Days to Payment")),1),e("h6",V2e,n(t.invoice_days_to_payment),1)]),e("div",B2e,[e("label",U2e,n(o.$t("Annual Discount Rate"))+"(%)",1),t.invoice_details?(u(),f("h6",q2e,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,H2e),e("h6",z2e,n(i[1]),1)]))),128)),e("div",W2e,[e("label",K2e,[le(n(o.$t("Total Fees"))+" ",1),a[10]||(a[10]=e("strong",null,"(C)",-1))]),e("h6",G2e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",Q2e,[e("label",Z2e,[le(n(o.$t("Tax On Fees "))+" ",1),a[11]||(a[11]=e("strong",null,"(D)",-1))]),e("h6",J2e,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",X2e,[e("label",eke,[le(n(o.$t("Discount Amount"))+" ",1),a[12]||(a[12]=e("strong",null,"(E)",-1))]),e("h6",tke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",oke,[e("label",ake,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",nke,n(t.tax_on_discount)+"%",1),a[13]||(a[13]=e("strong",null,"(F)",-1))]),e("h6",ske,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])]),e("div",lke,[Be(_,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[0]||(a[0]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",ike,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",rke,[e("div",dke,[e("div",cke,[e("label",uke,n(o.$t("Early Payment Date")),1),e("h6",_ke,n(t.payment_date),1)]),e("div",mke,[e("label",fke,n(o.$t("Eligible Amount")),1),e("h6",hke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",pke,[e("label",vke,[le(n(o.$t("Request Amount"))+" ",1),a[14]||(a[14]=e("strong",null,"(B)",-1))]),e("h6",gke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",bke,[e("label",yke,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[15]||(a[15]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",kke,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)]),e("div",$ke,[e("label",wke,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[1]||(a[1]=i=>t.credit_to=i),onChange:a[2]||(a[2]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",Dke,n(o.$t("Select Payment Account")),1),(u(!0),f(G,null,ee(t.invoice_details.bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,xke))),128))],34)),[[de,t.credit_to]]):b("",!0)])])])]),e("div",Cke,[e("button",Pke,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:a[3]||(a[3]=i=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,Eke)])])])],8,l2e)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",Ike,[e("div",Rke,[e("div",Ske,[e("h5",Tke,n(o.$t("Request Finance")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",jke,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",Oke,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",Mke,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,Lke)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",Nke,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",Fke,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",Yke,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,Vke)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../factoring/cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,Bke)):b("",!0)]),e("div",Uke,[e("small",qke,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,Hke)]),e("div",null,[e("button",zke,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[4]||(a[4]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,Wke)])])])])],8,Ake)]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",Gke,[e("div",Qke,[e("div",Zke,[e("h5",Jke,n(o.$t("Invoice Details")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Xke,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,e$e),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,t$e)])]),e("div",o$e,[e("div",a$e,[e("div",n$e,[e("span",s$e,[e("h5",l$e,n(o.$t("Anchor"))+":",1),e("h6",i$e,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",r$e,[e("h5",d$e,n(o.$t("Delivery Address"))+":",1),e("h6",c$e,n(t.invoice_details.delivery_address),1)]),e("span",u$e,[e("h5",_$e,n(o.$t("Debit From"))+":",1),e("h6",m$e,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",f$e,[e("h5",h$e,n(o.$t("Vendor"))+":",1),e("h6",p$e,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",v$e,[e("h5",g$e,n(o.$t("Remarks"))+":",1),e("h6",b$e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",y$e,[e("h5",k$e,n(o.$t("Credit To"))+":",1),e("h6",$$e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",w$e,[e("h5",D$e,n(o.$t("Rejection Reason"))+":",1),e("h6",x$e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",C$e,[t.invoice_details.pi_number?(u(),f("span",P$e,[e("h5",E$e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,A$e)])):b("",!0),e("span",I$e,[e("h5",R$e,n(o.$t("Invoice No."))+":",1),e("h6",S$e,n(t.invoice_details.invoice_number),1)]),e("span",T$e,[e("h5",j$e,n(o.$t("PO No."))+":",1),e("h6",O$e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",M$e,[e("h5",L$e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",N$e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",F$e,[e("h5",Y$e,n(o.$t("Invoice Date."))+":",1),e("h6",V$e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",B$e,[e("h5",U$e,n(o.$t("Amount"))+":",1),e("h6",q$e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",H$e,[e("h5",z$e,n(o.$t("Status."))+":",1),e("h6",W$e,n(t.invoice_details.approval_stage),1)]),e("span",K$e,[e("h5",G$e,n(o.$t("Due Date"))+":",1),e("h6",Q$e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Z$e,[e("table",J$e,[e("thead",X$e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",ewe,[e("span",twe,[e("h6",owe,n(o.$t("Discount"))+":",1),e("h5",awe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",nwe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",swe,n(i.name),1),e("h5",lwe,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",iwe,[e("span",rwe,[e("h6",dwe,n(o.$t("Tax")),1),a[21]||(a[21]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",cwe,[e("span",uwe,[e("h6",_we,n(o.$t("Total")),1),e("h5",mwe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Kke)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",hwe,[e("div",pwe,[e("div",vwe,[e("h5",gwe,n(o.$t("Invoice Details")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",bwe,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,ywe),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,kwe)])]),e("div",$we,[e("div",wwe,[e("div",Dwe,[e("span",xwe,[e("h5",Cwe,n(o.$t("Anchor"))+":",1),e("h6",Pwe,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",Ewe,[e("h5",Awe,n(o.$t("Delivery Address"))+":",1),e("h6",Iwe,n(t.invoice_details.delivery_address),1)]),e("span",Rwe,[e("h5",Swe,n(o.$t("Debit From"))+":",1),e("h6",Twe,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",jwe,[e("h5",Owe,n(o.$t("Vendor"))+":",1),e("h6",Mwe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Lwe,[e("h5",Nwe,n(o.$t("Remarks"))+":",1),e("h6",Fwe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Ywe,[e("h5",Vwe,n(o.$t("Credit To"))+":",1),e("h6",Bwe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Uwe,[e("h5",qwe,n(o.$t("Rejection Reason"))+":",1),e("h6",Hwe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",zwe,[t.invoice_details.pi_number?(u(),f("span",Wwe,[e("h5",Kwe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Gwe)])):b("",!0),e("span",Qwe,[e("h5",Zwe,n(o.$t("PI No."))+":",1),e("h6",Jwe,n(t.invoice_details.pi_number),1)]),e("span",Xwe,[e("h5",e5e,n(o.$t("PO No."))+":",1),e("h6",t5e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",o5e,[e("h5",a5e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",n5e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",s5e,[e("h5",l5e,n(o.$t("Invoice Date."))+":",1),e("h6",i5e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",r5e,[e("h5",d5e,n(o.$t("Amount"))+":",1),e("h6",c5e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",u5e,[e("h5",_5e,n(o.$t("Status."))+":",1),e("h6",m5e,n(t.invoice_details.approval_stage),1)]),e("span",f5e,[e("h5",h5e,n(o.$t("Due Date"))+":",1),e("h6",p5e,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",v5e,[e("table",g5e,[e("thead",b5e,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",y5e,[e("span",k5e,[e("h6",$5e,n(o.$t("Discount"))+":",1),e("h5",w5e,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",D5e,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",x5e,n(i.name),1),e("h5",C5e,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",P5e,[e("span",E5e,[e("h6",A5e,n(o.$t("Tax")),1),a[25]||(a[25]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",I5e,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",R5e,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",S5e," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",T5e,n(i.amount),1))]))),128))])):(u(),f("div",j5e,[e("span",O5e,[e("h6",M5e,n(o.$t("WHT Tax"))+":",1),a[26]||(a[26]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",L5e,[e("h6",N5e,n(o.$t("WHT VAT"))+":",1),a[27]||(a[27]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",F5e,[e("h6",Y5e,n(o.$t("Credit Note Amount"))+":",1),a[28]||(a[28]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",V5e,[e("span",B5e,[e("h6",U5e,n(o.$t("Total")),1),e("h5",q5e,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,fwe)):b("",!0)]))),128))])])]),e("button",H5e,null,512),e("div",z5e,[e("div",W5e,[e("div",K5e,[e("div",G5e,[e("h5",Q5e,n(o.$t("Request Finance")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Z5e,[e("div",J5e,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",eDe)):(u(),f("span",X5e,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",tDe,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",aDe)):(u(),f("span",oDe,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",nDe,n(o.$t("I want payment on"))+":",1),Be(_,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[5]||(a[5]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",sDe,[e("button",lDe,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[6]||(a[6]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",iDe,[e("div",rDe,[e("div",dDe,[e("div",cDe,[e("h5",uDe,n(o.$t("Request Finance")),1),a[30]||(a[30]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",_De,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",mDe,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",fDe,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,hDe)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",pDe,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",vDe,[e("small",gDe,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,bDe)]),e("div",null,[a[31]||(a[31]=e("button",{type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[7]||(a[7]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,yDe)])])])])]),a[33]||(a[33]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",kDe,[e("div",$De,[e("div",wDe,[e("div",DDe,[e("h5",xDe,n(o.$t("Request for Finance successful")),1)]),e("div",CDe,[a[32]||(a[32]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",PDe,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",EDe,[e("button",ADe,n(o.$t("Close")),1)])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.uploading_file_key},null,8,["invoice-details"])):b("",!0)])])}const RDe=Ue(A0e,[["render",IDe]]),SDe={name:"EligibleInvoices",components:{Pagination:oo,flatPickr:jl},setup(){lt();const o=h([]),a=h({}),s=h(0),t=h(0),c=h(new Date().toLocaleDateString("en-CA")),m=h(""),_=h(H().format("DD MMM YYYY")),l=new Date().toLocaleDateString("en-CA");h(1);const r=h(0),i=h(1),d=h(0),p=h(0),v=h(0),g=h(0);h(0),h(0);const w=h(0),y=h(0),x=h(0),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0);h([]),h(0);const L=h(0),F=h(0);h(0);const T=h(""),P=h(!1);h(!1),h(0),h(0),h(0),h(!1),h([]),h(!1),h("");const R=Je("baseURL"),O=h({inline:!0}),N=oe=>{let J="";switch(oe){case"created":J="bg-label-primary";break;case"paid":J="bg-label-success";break;case"failed":J="bg-label-danger";break;default:J="bg-label-primary";break}return J},S=async()=>{await A.get(R+"factoring/cash-planner/invoices/non-eligible/data").then(oe=>{o.value=oe.data.invoices}).catch(oe=>{console.log(oe)})},U=(oe,J)=>(J/oe*100).toFixed(2);return Qe(()=>{S()}),{config:O,moment:H,max_date:m,min_date:c,eligibility_amount:s,pi_amount:L,discount_amount:t,days_to_payment:i,total_remittance:d,processing_fee_amount:r,invoices:o,payment_date:_,request_payment_date:l,credit_to:T,taxes_amount:F,payment_account:P,invoice_total_amount:p,invoice_taxes_amount:v,invoice_fees_amount:g,invoice_eligibility_percentage:w,invoice_eligibility_amount:y,invoice_eligibility_for_finance:x,invoice_discount_amount:C,invoice_days_to_payment:E,invoice_business_spread:D,invoice_processing_fee:k,invoice_min_financing_days:V,invoice_due_date:B,invoice_total_remmitance:I,resolvePaymentRequestStatus:N,changePage:async oe=>{await A.get(oe).then(J=>{o.value=J.data.invoices})},invoice_details:a,getTaxPercentage:U}}},TDe={class:"card"},jDe={class:"card-header"},ODe={class:"card-body"},MDe={class:"table-responsive"},LDe={class:"table"},NDe={class:""},FDe={class:"table-border-bottom-0"},YDe={key:0},VDe={colspan:"12",class:"text-center"},BDe={class:"text-center"},UDe={key:1},qDe={colspan:"12",class:"text-center"},HDe={class:"text-center"},zDe=["data-bs-target"],WDe={href:"javascript:;",class:"dropdown-item"},KDe={class:""},GDe={class:""},QDe={class:"text-success"},ZDe={class:"text-success"},JDe=["id"],XDe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},e3e={class:"modal-content"},t3e={class:"modal-header"},o3e={class:"modal-title",id:"modalCenterTitle"},a3e={class:"d-flex"},n3e={key:0,class:"d-flex"},s3e=["href"],l3e=["href"],i3e={class:"modal-body"},r3e={class:"d-flex justify-content-between mb-4"},d3e={class:"mb-3"},c3e={class:"d-flex justify-content-between"},u3e={class:"fw-light my-auto"},_3e={class:"fw-bold mx-2 my-auto"},m3e={class:"d-flex justify-content-between"},f3e={class:"fw-light my-auto"},h3e={class:"fw-bold mx-2 my-auto"},p3e={class:"d-flex justify-content-between"},v3e={class:"fw-light my-auto"},g3e={class:"fw-bold mx-2 my-auto"},b3e={class:"d-flex justify-content-between"},y3e={class:"fw-light my-auto"},k3e={class:"fw-bold mx-2 my-auto"},$3e={class:"d-flex justify-content-between"},w3e={class:"fw-light my-auto"},D3e={class:"fw-bold mx-2 my-auto"},x3e={key:0,class:"d-flex justify-content-between"},C3e={class:"fw-light my-auto"},P3e={class:"fw-bold mx-2 my-auto"},E3e={key:1,class:"d-flex justify-content-between"},A3e={class:"fw-light my-auto"},I3e={class:"fw-bold mx-2 my-auto"},R3e={class:"mb-3"},S3e={key:0,class:"d-flex justify-content-between"},T3e={class:"my-auto fw-light"},j3e=["data-bs-target"],O3e={class:"d-flex justify-content-between"},M3e={class:"my-auto fw-light"},L3e={class:"fw-bold mx-2 my-auto"},N3e={class:"d-flex justify-content-between"},F3e={class:"my-auto fw-light"},Y3e={class:"fw-bold mx-2 my-auto"},V3e={class:"d-flex justify-content-between"},B3e={class:"my-auto fw-light"},U3e={class:"fw-bold mx-2 my-auto"},q3e={class:"d-flex justify-content-between"},H3e={class:"my-auto fw-light"},z3e={class:"fw-bold mx-2 my-auto"},W3e={class:"d-flex justify-content-between"},K3e={class:"my-auto fw-light"},G3e={class:"fw-bold text-success mx-2 my-auto"},Q3e={class:"d-flex justify-content-between"},Z3e={class:"my-auto fw-light"},J3e={class:"fw-bold mx-2 my-auto"},X3e={class:"d-flex justify-content-between"},exe={class:"my-auto fw-light"},txe={class:"fw-bold mx-2 my-auto"},oxe={class:"table-responsive"},axe={class:"table"},nxe={class:"bg-label-primary"},sxe={class:"px-2"},lxe={class:"d-flex justify-content-end"},ixe={class:"mx-2 my-auto"},rxe={class:"text-success my-auto"},dxe={key:0,class:"px-2"},cxe={class:"mx-2 my-auto"},uxe={class:"text-success my-auto"},_xe={key:1,class:"px-2"},mxe={class:"d-flex justify-content-end"},fxe={class:"mx-2 my-auto"},hxe={class:"bg-label-secondary px-2"},pxe={class:"d-flex justify-content-end"},vxe={class:"mx-2 my-auto py-1"},gxe={class:"text-success my-auto py-1"},bxe=["id"],yxe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},kxe={class:"modal-content"},$xe={class:"modal-header"},wxe={class:"modal-title",id:"modalCenterTitle"},Dxe={class:"d-flex"},xxe={key:0,class:"d-flex"},Cxe=["href"],Pxe=["href"],Exe={class:"modal-body"},Axe={class:"d-flex justify-content-between mb-4"},Ixe={class:"mb-3"},Rxe={class:"d-flex justify-content-between"},Sxe={class:"fw-light my-auto"},Txe={class:"fw-bold mx-2 my-auto"},jxe={class:"d-flex justify-content-between"},Oxe={class:"fw-light my-auto"},Mxe={class:"fw-bold mx-2 my-auto"},Lxe={class:"d-flex justify-content-between"},Nxe={class:"fw-light my-auto"},Fxe={class:"fw-bold mx-2 my-auto"},Yxe={class:"d-flex justify-content-between"},Vxe={class:"fw-light my-auto"},Bxe={class:"fw-bold mx-2 my-auto"},Uxe={class:"d-flex justify-content-between"},qxe={class:"fw-light my-auto"},Hxe={class:"fw-bold mx-2 my-auto"},zxe={key:0,class:"d-flex justify-content-between"},Wxe={class:"fw-light my-auto"},Kxe={class:"fw-bold mx-2 my-auto"},Gxe={key:1,class:"d-flex justify-content-between"},Qxe={class:"fw-light my-auto"},Zxe={class:"fw-bold mx-2 my-auto"},Jxe={class:"mb-3"},Xxe={key:0,class:"d-flex justify-content-between"},eCe={class:"my-auto fw-light"},tCe=["data-bs-target"],oCe={class:"d-flex justify-content-between"},aCe={class:"my-auto fw-light"},nCe={class:"fw-bold mx-2 my-auto"},sCe={class:"d-flex justify-content-between"},lCe={class:"my-auto fw-light"},iCe={class:"fw-bold mx-2 my-auto"},rCe={class:"d-flex justify-content-between"},dCe={class:"my-auto fw-light"},cCe={class:"fw-bold mx-2 my-auto"},uCe={class:"d-flex justify-content-between"},_Ce={class:"my-auto fw-light"},mCe={class:"fw-bold mx-2 my-auto"},fCe={class:"d-flex justify-content-between"},hCe={class:"my-auto fw-light"},pCe={class:"fw-bold text-success mx-2 my-auto"},vCe={class:"d-flex justify-content-between"},gCe={class:"my-auto fw-light"},bCe={class:"fw-bold mx-2 my-auto"},yCe={class:"d-flex justify-content-between"},kCe={class:"my-auto fw-light"},$Ce={class:"fw-bold mx-2 my-auto"},wCe={class:"table-responsive"},DCe={class:"table"},xCe={class:"bg-label-primary"},CCe={class:"px-2"},PCe={class:"d-flex justify-content-end"},ECe={class:"mx-2 my-auto"},ACe={class:"text-success my-auto"},ICe={key:0,class:"px-2"},RCe={class:"mx-2 my-auto"},SCe={class:"text-success my-auto"},TCe={key:1,class:"px-2"},jCe={class:"d-flex justify-content-end"},OCe={class:"mx-2 my-auto"},MCe={key:2,class:"px-2"},LCe={class:"mx-2 my-auto py-1"},NCe={key:0,class:"text-success my-auto py-1"},FCe={key:1,class:"text-success my-auto py-1"},YCe={key:3,class:"px-2"},VCe={class:"d-flex justify-content-end"},BCe={class:"mx-2 my-auto py-1"},UCe={class:"d-flex justify-content-end"},qCe={class:"mx-2 my-auto py-1"},HCe={class:"d-flex justify-content-end"},zCe={class:"mx-2 my-auto py-1"},WCe={class:"bg-label-secondary px-2"},KCe={class:"d-flex justify-content-end"},GCe={class:"mx-2 my-auto py-1"},QCe={class:"text-success my-auto py-1"};function ZCe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",TDe,[e("div",jDe,[e("h6",null,n(o.$t("Payments Instructions Not Eligible for Financing")),1)]),e("div",ODe,[Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",MDe,[e("table",LDe,[e("thead",null,[e("tr",NDe,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),a[0]||(a[0]=e("th",null,null,-1))])]),e("tbody",FDe,[t.invoices.data?b("",!0):(u(),f("tr",YDe,[e("td",VDe,[e("span",BDe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",UDe,[e("td",qDe,[e("span",HDe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+l.id},[e("a",WDe,n(l.invoice_number),1)],8,zDe),e("td",KDe,n(l.anchor.name),1),e("td",GDe,n(t.moment(l.due_date).format("D MMM YYYY")),1),e("td",QDe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((l.total+l.total_taxes-l.total_fees-l.total_discount).toFixed(2))),1)]),e("td",ZDe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.eligible_for_finance.toFixed(2))),1)]),e("td",null,[t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",XDe,[e("div",e3e,[e("div",t3e,[e("h5",o3e,n(o.$t("Invoice Details")),1),a[3]||(a[3]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",a3e,[t.invoice_details&&t.invoice_details.media.length>0?(u(),f("div",n3e,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[1]||(a[1]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,s3e))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[2]||(a[2]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,l3e)])]),e("div",i3e,[e("div",r3e,[e("div",d3e,[e("span",c3e,[e("h5",u3e,n(o.$t("Anchor"))+":",1),e("h6",_3e,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",m3e,[e("h5",f3e,n(o.$t("Delivery Address"))+":",1),e("h6",h3e,n(t.invoice_details.delivery_address),1)]),e("span",p3e,[e("h5",v3e,n(o.$t("Debit From"))+":",1),e("h6",g3e,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",b3e,[e("h5",y3e,n(o.$t("Vendor"))+":",1),e("h6",k3e,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",$3e,[e("h5",w3e,n(o.$t("Remarks"))+":",1),e("h6",D3e,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",x3e,[e("h5",C3e,n(o.$t("Credit To"))+":",1),e("h6",P3e,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",E3e,[e("h5",A3e,n(o.$t("Rejection Reason"))+":",1),e("h6",I3e,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",R3e,[t.invoice_details.pi_number?(u(),f("span",S3e,[e("h5",T3e,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,j3e)])):b("",!0),e("span",O3e,[e("h5",M3e,n(o.$t("Invoice No."))+":",1),e("h6",L3e,n(t.invoice_details.invoice_number),1)]),e("span",N3e,[e("h5",F3e,n(o.$t("PO No."))+":",1),e("h6",Y3e,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",V3e,[e("h5",B3e,n(o.$t("Payment / OD Account No."))+":",1),e("h6",U3e,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",q3e,[e("h5",H3e,n(o.$t("Invoice Date."))+":",1),e("h6",z3e,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",W3e,[e("h5",K3e,n(o.$t("Amount"))+":",1),e("h6",G3e,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Q3e,[e("h5",Z3e,n(o.$t("Status."))+":",1),e("h6",J3e,n(t.invoice_details.approval_stage),1)]),e("span",X3e,[e("h5",exe,n(o.$t("Due Date"))+":",1),e("h6",txe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",oxe,[e("table",axe,[e("thead",nxe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",sxe,[e("span",lxe,[e("h6",ixe,n(o.$t("Discount"))+":",1),e("h5",rxe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",dxe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",cxe,n(r.name),1),e("h5",uxe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",_xe,[e("span",mxe,[e("h6",fxe,n(o.$t("Tax")),1),a[4]||(a[4]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",hxe,[e("span",pxe,[e("h6",vxe,n(o.$t("Total")),1),e("h5",gxe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,JDe)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",yxe,[e("div",kxe,[e("div",$xe,[e("h5",wxe,n(o.$t("Invoice Details")),1),a[7]||(a[7]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Dxe,[t.invoice_details&&t.invoice_details.media.length>0?(u(),f("div",xxe,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[5]||(a[5]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,Cxe))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[6]||(a[6]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Pxe)])]),e("div",Exe,[e("div",Axe,[e("div",Ixe,[e("span",Rxe,[e("h5",Sxe,n(o.$t("Anchor"))+":",1),e("h6",Txe,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",jxe,[e("h5",Oxe,n(o.$t("Delivery Address"))+":",1),e("h6",Mxe,n(t.invoice_details.delivery_address),1)]),e("span",Lxe,[e("h5",Nxe,n(o.$t("Debit From"))+":",1),e("h6",Fxe,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Yxe,[e("h5",Vxe,n(o.$t("Vendor"))+":",1),e("h6",Bxe,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Uxe,[e("h5",qxe,n(o.$t("Remarks"))+":",1),e("h6",Hxe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",zxe,[e("h5",Wxe,n(o.$t("Credit To"))+":",1),e("h6",Kxe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Gxe,[e("h5",Qxe,n(o.$t("Rejection Reason"))+":",1),e("h6",Zxe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Jxe,[t.invoice_details.pi_number?(u(),f("span",Xxe,[e("h5",eCe,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,tCe)])):b("",!0),e("span",oCe,[e("h5",aCe,n(o.$t("PI No."))+":",1),e("h6",nCe,n(t.invoice_details.pi_number),1)]),e("span",sCe,[e("h5",lCe,n(o.$t("PO No."))+":",1),e("h6",iCe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",rCe,[e("h5",dCe,n(o.$t("Payment / OD Account No."))+":",1),e("h6",cCe,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",uCe,[e("h5",_Ce,n(o.$t("Invoice Date."))+":",1),e("h6",mCe,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",fCe,[e("h5",hCe,n(o.$t("Amount"))+":",1),e("h6",pCe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",vCe,[e("h5",gCe,n(o.$t("Status."))+":",1),e("h6",bCe,n(t.invoice_details.approval_stage),1)]),e("span",yCe,[e("h5",kCe,n(o.$t("Due Date"))+":",1),e("h6",$Ce,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",wCe,[e("table",DCe,[e("thead",xCe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])]),e("div",CCe,[e("span",PCe,[e("h6",ECe,n(o.$t("Discount"))+":",1),e("h5",ACe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",ICe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",RCe,n(r.name),1),e("h5",SCe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",TCe,[e("span",jCe,[e("h6",OCe,n(o.$t("Tax")),1),a[8]||(a[8]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",MCe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",LCe,n(r.name),1),r.name!="Credit Note Amount"&&r.name!="Credit Note"&&r.name!="Credit Amount"?(u(),f("h5",NCe," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",FCe,n(r.amount),1))]))),128))])):(u(),f("div",YCe,[e("span",VCe,[e("h6",BCe,n(o.$t("WHT Tax"))+":",1),a[9]||(a[9]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",UCe,[e("h6",qCe,n(o.$t("WHT VAT"))+":",1),a[10]||(a[10]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",HCe,[e("h6",zCe,n(o.$t("Credit Note Amount"))+":",1),a[11]||(a[11]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",WCe,[e("span",KCe,[e("h6",GCe,n(o.$t("Total")),1),e("h5",QCe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,bxe)):b("",!0)])]))),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const JCe=Ue(SDe,[["render",ZCe]]),XCe={name:"FinanceRequests",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=lt(),c=h(""),m=h(""),_=h(""),l=h(50),r=h(""),i=async()=>{await A.get(o+"factoring/financing-requests/data",{params:{buyer:_.value,invoice_number:c.value,status:m.value,per_page:l.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)})};Qe(()=>{i()});const d=D=>{let k="";switch(D){case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-warning";break;case"Overdue":k="bg-label-danger";break;case"Created":k="bg-label-secondary";break;case"Pending":k="bg-label-secondary";break;case"Approved":k="bg-label-success";break;case"Paid":k="bg-label-success";break;case"Failed":k="bg-label-danger";break;case"Rejected":k="bg-label-danger";break;case"Past Due":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},p=(D,k)=>(k/D*100).toFixed(2),v=D=>{let k="";switch(D){case"pending":k="bg-label-primary";break;case"paid":k="bg-label-primary";break;case"closed":k="bg-label-success";break;case"denied":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},g=D=>{let k="";switch(D){case"created":k="bg-label-primary";break;case"approved":k="bg-label-success";break;case"paid":k="bg-label-success";break;case"failed":k="bg-label-danger";break;case"rejected":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},w=async D=>{await A.get(D+"&per_page="+l.value,{params:{buyer:_.value,invoice_number:c.value,status:m.value}}).then(k=>{a.value=k.data.finance_requests})};return ot([l],async([D])=>{await A.get(o+"factoring/financing-requests/data",{params:{per_page:D}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)})}),{moment:H,finance_requests:a,invoice_number_search:c,status_search:m,buyer_search:_,per_page:l,rejection_reason:r,getTaxPercentage:p,resolveRequestStatus:d,changePage:w,resolveFinancingStatus:v,resolvePaymentRequestStatus:g,filter:async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/financing-requests/data",{params:{buyer:_.value,invoice_number:c.value,status:m.value,per_page:l.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let D=$(".ti-refresh").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",await A.get(o+"factoring/financing-requests/data",{params:{per_page:l.value}}).then(k=>{a.value=k.data.finance_requests}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-refresh"></i>')})},invoice_details:s,showInvoice:async(D,k)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+D+"/details").then(I=>{s.value=I.data,bt(()=>{document.getElementById(k).click()})}).catch(I=>{console.log(I)})},updateApprovalStatus:(D,k)=>{const I=new FormData;I.append("status",k),I.append("rejection_reason",r.value),A.post(o+"factoring/financing-requests/"+D+"/status/update",I).then(()=>{t.success("Request updated successfully"),k=="rejected"?document.getElementById("reject-request-close-btn-"+D).click():document.getElementById("approve-request-close-btn-"+D).click(),i()}).catch(V=>{console.log(V),t.error("An error occurred while updating the request")})}}}},ePe={class:"card p-0"},tPe={class:"card-header d-flex justify-content-between"},oPe={class:"d-flex flex-wrap gap-1"},aPe={class:""},nPe={for:"buyer",class:"form-label"},sPe={class:""},lPe={for:"Invoice Number",class:"form-label"},iPe={class:""},rPe={for:"Status",class:"form-label"},dPe={value:""},cPe={value:"created"},uPe={value:"approved"},_Pe={value:"paid"},mPe={value:"denied"},fPe={class:"table-search-btn"},hPe={class:"table-clear-btn"},pPe={class:"d-flex align-items-end"},vPe={style:{"margin-right":"10px"}},gPe={class:"card-body"},bPe={class:"table-responsive"},yPe={class:"table"},kPe={class:"text-nowrap"},$Pe={class:"px-1"},wPe={class:"table-border-bottom-0"},DPe={key:0},xPe={colspan:"12",class:"text-center"},CPe={class:"text-center"},PPe={key:1},EPe={colspan:"12",class:"text-center"},APe={class:"text-center"},IPe=["data-bs-target"],RPe=["onClick"],SPe=["onClick"],TPe={class:"text-success"},jPe=["data-bs-target"],OPe=["data-bs-target"],MPe=["id","data-bs-target"],LPe=["id","data-bs-target"],NPe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},FPe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},YPe={class:"modal-content"},VPe={class:"modal-body"},BPe={class:"d-flex justify-content-center"},UPe=["id"],qPe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},HPe={class:"modal-content"},zPe={class:"modal-header"},WPe={class:"modal-title",id:"modalCenterTitle"},KPe=["id"],GPe=["onSubmit"],QPe={class:"modal-body"},ZPe={class:"modal-footer"},JPe={class:"btn btn-primary",type:"submit"},XPe=["id"],e4e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},t4e={class:"modal-content"},o4e={class:"modal-header"},a4e={class:"modal-title",id:"modalCenterTitle"},n4e=["id"],s4e=["onSubmit"],l4e={class:"modal-body"},i4e={class:"row mb-1"},r4e={class:"form-group"},d4e={for:""},c4e={class:"modal-footer"},u4e={class:"btn btn-primary",type:"submit"},_4e=["id"],m4e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},f4e={class:"modal-content"},h4e={class:"modal-header"},p4e={class:"modal-title",id:"modalCenterTitle"},v4e={class:"modal-body"},g4e={class:"row mb-1"},b4e={class:"col-6 my-1"},y4e={class:"col-6"},k4e={class:"col-6 my-1"},$4e={class:"col-6"},w4e={class:"col-6 my-1"},D4e={class:"col-6"},x4e={class:"col-6 my-1"},C4e=["onClick"],P4e={class:"col-6 my-1"},E4e={class:"col-6 text-success"},A4e={class:"col-6 my-1"},I4e={class:"col-6"},R4e={class:"col-6 my-1"},S4e={class:"col-6 text-success"},T4e={class:"col-6 my-1"},j4e={class:"col-6 text-success"},O4e={class:"col-6 my-1"},M4e={class:"col-6"},L4e={class:"col-6 my-1"},N4e={class:"col-6"},F4e={class:"col-6 my-1"},Y4e={class:"col-6"},V4e={class:"col-6 my-1"},B4e={class:"col-6"},U4e={class:"col-6 my-1"},q4e={class:"col-6"},H4e={key:0,class:"col-12"},z4e={key:0,class:"row"},W4e={key:0,class:"col-6 my-1 d-flex"},K4e={class:""},G4e={key:0,class:""},Q4e={key:1,class:"col-6 text-success"},Z4e={key:1,class:"row"},J4e={key:0,class:"col-6 my-1 d-flex"},X4e={class:""},eEe={key:0,class:""},tEe={key:1,class:"col-6 text-success"},oEe={class:"col-6 my-1"},aEe={class:"col-6 text-success"},nEe={class:"col-6 my-1"},sEe={class:"col-6"},lEe={class:"modal-footer"},iEe={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function rEe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",ePe,[e("div",tPe,[e("div",oPe,[e("div",aPe,[e("label",nPe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",sPe,[e("label",lPe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",iPe,[e("label",rPe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",dPe,n(o.$t("Status")),1),e("option",cPe,n(o.$t("Created")),1),e("option",uPe,n(o.$t("Approved")),1),e("option",_Pe,n(o.$t("Paid")),1),e("option",mPe,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",fPe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",hPe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",pPe,[e("div",vPe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])])])]),e("div",gPe,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",bPe,[e("table",yPe,[e("thead",null,[e("tr",kPe,[e("th",$Pe,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",wPe,[t.finance_requests.data?b("",!0):(u(),f("tr",DPe,[e("td",xPe,[e("span",CPe,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",PPe,[e("td",EPe,[e("span",APe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,IPe),e("td",null,[e("span",null,n(i.buyer_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,RPe),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.pi_number),9,SPe),e("td",TPe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[i.requires_company_approval?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus("Pending")])},n(o.$t("Pending")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,jPe)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,OPe)):b("",!0),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,MPe),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,LPe),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",NPe,[e("div",FPe,[e("div",YPe,[e("div",VPe,[e("div",BPe,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",qPe,[e("div",HPe,[e("div",zPe,[e("h5",WPe,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,KPe)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",QPe,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",ZPe,[e("button",JPe,n(o.$t("Submit")),1)])],40,GPe)])])],8,UPe),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",e4e,[e("div",t4e,[e("div",o4e,[e("h5",a4e,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,n4e)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",l4e,[e("div",i4e,[e("div",r4e,[e("label",d4e,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[X,t.rejection_reason]])])])]),e("div",c4e,[e("button",u4e,n(o.$t("Submit")),1)])],40,s4e)])])],8,XPe),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",m4e,[e("div",f4e,[e("div",h4e,[e("h5",p4e,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",v4e,[e("div",g4e,[e("div",b4e,n(o.$t("Anchor")),1),e("div",y4e,[e("span",null,n(i.anchor_name),1)]),e("div",k4e,n(o.$t("Program Name")),1),e("div",$4e,n(i.program_name),1),e("div",w4e,n(o.$t("Invoice / Unique Reference Number")),1),e("div",D4e,n(i.invoice_number),1),e("div",x4e,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,C4e),e("div",P4e,n(o.$t("PI Amount")),1),e("div",E4e,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",A4e,n(o.$t("Eligibility"))+" (%)",1),e("div",I4e,n(i.eligibility),1),e("div",R4e,n(o.$t("Eligible Payment Amount")),1),e("div",S4e,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",T4e,n(o.$t("Requested Payment Amount")),1),e("div",j4e,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",O4e,n(o.$t("Credit to Account No"))+".:",1),e("div",M4e,n(i.payment_accounts[0].account),1),e("div",L4e,n(o.$t("Request Date")),1),e("div",N4e,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",F4e,n(o.$t("Requested Disbursement Date")),1),e("div",Y4e,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",V4e,n(o.$t("Due Date")),1),e("div",B4e,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",U4e,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",q4e,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",H4e,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("div",{key:d.id},[i.discount_charge_type=="Front Ended"?(u(),f("div",z4e,[d.type!="Vendor Account"?(u(),f("div",W4e,[e("div",K4e,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",G4e," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"?(u(),f("div",Q4e,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)])):(u(),f("div",Z4e,[d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",J4e,[e("div",X4e,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",eEe," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",tEe,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)]))]))),128))])):b("",!0),e("div",oEe,n(o.$t("Net Disbursal Total")),1),e("div",aEe,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",nEe,n(o.$t("Status")),1),e("div",sEe,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",lEe,[e("button",iEe,n(o.$t("Close")),1)])])])],8,_4e)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const dEe=Ue(XCe,[["render",rEe]]),cEe={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},uEe={class:"table"},_Ee={class:"table-border"},mEe={class:""},fEe=["value"],hEe={class:""},pEe=["value"],vEe={class:""},gEe=["value"],bEe={class:""},yEe=["value"],kEe={class:""},$Ee=["value"],wEe={class:""},DEe=["value"];function xEe(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",uEe,[e("tbody",_Ee,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",mEe,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,fEe)])]),e("td",null,[e("div",hEe,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,pEe)])]),e("td",null,[e("div",vEe,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,gEe)])]),e("td",null,[e("div",bEe,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,yEe)])]),e("td",null,[e("div",kEe,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,$Ee)])]),e("td",null,[e("div",wEe,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,DEe)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const CEe=Ue(cEe,[["render",xEe]]);var H5={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(o,a){(function(t,c){o.exports=c()})(typeof self<"u"?self:va,function(){return function(s){var t={};function c(m){if(t[m])return t[m].exports;var _=t[m]={i:m,l:!1,exports:{}};return s[m].call(_.exports,_,_.exports,c),_.l=!0,_.exports}return c.m=s,c.c=t,c.d=function(m,_,l){c.o(m,_)||Object.defineProperty(m,_,{configurable:!1,enumerable:!0,get:l})},c.n=function(m){var _=m&&m.__esModule?function(){return m.default}:function(){return m};return c.d(_,"a",_),_},c.o=function(m,_){return Object.prototype.hasOwnProperty.call(m,_)},c.p="",c(c.s=109)}([function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(17),_=c(18),l=c(19),r=c(45),i=c(46),d=c(47),p=c(48),v=c(49),g=c(12),w=c(32),y=c(33),x=c(31),C=c(1),E={Scope:C.Scope,create:C.create,find:C.find,query:C.query,register:C.register,Container:m.default,Format:_.default,Leaf:l.default,Embed:p.default,Scroll:r.default,Block:d.default,Inline:i.default,Text:v.default,Attributor:{Attribute:g.default,Class:w.default,Style:y.default,Store:x.default}};t.default=E},function(s,t,c){var m=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var D in E)E.hasOwnProperty(D)&&(C[D]=E[D])};return function(C,E){x(C,E);function D(){this.constructor=C}C.prototype=E===null?Object.create(E):(D.prototype=E.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=function(x){m(C,x);function C(E){var D=this;return E="[Parchment] "+E,D=x.call(this,E)||this,D.message=E,D.name=D.constructor.name,D}return C}(Error);t.ParchmentError=_;var l={},r={},i={},d={};t.DATA_KEY="__blot";var p;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(p=t.Scope||(t.Scope={}));function v(x,C){var E=w(x);if(E==null)throw new _("Unable to create "+x+" blot");var D=E,k=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:D.create(C);return new D(k,C)}t.create=v;function g(x,C){return C===void 0&&(C=!1),x==null?null:x[t.DATA_KEY]!=null?x[t.DATA_KEY].blot:C?g(x.parentNode,C):null}t.find=g;function w(x,C){C===void 0&&(C=p.ANY);var E;if(typeof x=="string")E=d[x]||l[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)E=d.text;else if(typeof x=="number")x&p.LEVEL&p.BLOCK?E=d.block:x&p.LEVEL&p.INLINE&&(E=d.inline);else if(x instanceof HTMLElement){var D=(x.getAttribute("class")||"").split(/\s+/);for(var k in D)if(E=r[D[k]],E)break;E=E||i[x.tagName]}return E==null?null:C&p.LEVEL&E.scope&&C&p.TYPE&E.scope?E:null}t.query=w;function y(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];if(x.length>1)return x.map(function(k){return y(k)});var E=x[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new _("Invalid definition");if(E.blotName==="abstract")throw new _("Cannot register abstract class");if(d[E.blotName||E.attrName]=E,typeof E.keyName=="string")l[E.keyName]=E;else if(E.className!=null&&(r[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(k){return k.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var D=Array.isArray(E.tagName)?E.tagName:[E.tagName];D.forEach(function(k){(i[k]==null||E.className==null)&&(i[k]=E)})}return E}t.register=y},function(s,t,c){var m=c(51),_=c(11),l=c(3),r=c(20),i="\0",d=function(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]};d.prototype.insert=function(p,v){var g={};return p.length===0?this:(g.insert=p,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(g.attributes=v),this.push(g))},d.prototype.delete=function(p){return p<=0?this:this.push({delete:p})},d.prototype.retain=function(p,v){if(p<=0)return this;var g={retain:p};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(g.attributes=v),this.push(g)},d.prototype.push=function(p){var v=this.ops.length,g=this.ops[v-1];if(p=l(!0,{},p),typeof g=="object"){if(typeof p.delete=="number"&&typeof g.delete=="number")return this.ops[v-1]={delete:g.delete+p.delete},this;if(typeof g.delete=="number"&&p.insert!=null&&(v-=1,g=this.ops[v-1],typeof g!="object"))return this.ops.unshift(p),this;if(_(p.attributes,g.attributes)){if(typeof p.insert=="string"&&typeof g.insert=="string")return this.ops[v-1]={insert:g.insert+p.insert},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof g.retain=="number")return this.ops[v-1]={retain:g.retain+p.retain},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this}}return v===this.ops.length?this.ops.push(p):this.ops.splice(v,0,p),this},d.prototype.chop=function(){var p=this.ops[this.ops.length-1];return p&&p.retain&&!p.attributes&&this.ops.pop(),this},d.prototype.filter=function(p){return this.ops.filter(p)},d.prototype.forEach=function(p){this.ops.forEach(p)},d.prototype.map=function(p){return this.ops.map(p)},d.prototype.partition=function(p){var v=[],g=[];return this.forEach(function(w){var y=p(w)?v:g;y.push(w)}),[v,g]},d.prototype.reduce=function(p,v){return this.ops.reduce(p,v)},d.prototype.changeLength=function(){return this.reduce(function(p,v){return v.insert?p+r.length(v):v.delete?p-v.delete:p},0)},d.prototype.length=function(){return this.reduce(function(p,v){return p+r.length(v)},0)},d.prototype.slice=function(p,v){p=p||0,typeof v!="number"&&(v=1/0);for(var g=[],w=r.iterator(this.ops),y=0;y<v&&w.hasNext();){var x;y<p?x=w.next(p-y):(x=w.next(v-y),g.push(x)),y+=r.length(x)}return new d(g)},d.prototype.compose=function(p){var v=r.iterator(this.ops),g=r.iterator(p.ops),w=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var x=y.retain;v.peekType()==="insert"&&v.peekLength()<=x;)x-=v.peekLength(),w.push(v.next());y.retain-x>0&&g.next(y.retain-x)}for(var C=new d(w);v.hasNext()||g.hasNext();)if(g.peekType()==="insert")C.push(g.next());else if(v.peekType()==="delete")C.push(v.next());else{var E=Math.min(v.peekLength(),g.peekLength()),D=v.next(E),k=g.next(E);if(typeof k.retain=="number"){var I={};typeof D.retain=="number"?I.retain=E:I.insert=D.insert;var V=r.attributes.compose(D.attributes,k.attributes,typeof D.retain=="number");if(V&&(I.attributes=V),C.push(I),!g.hasNext()&&_(C.ops[C.ops.length-1],I)){var B=new d(v.rest());return C.concat(B).chop()}}else typeof k.delete=="number"&&typeof D.retain=="number"&&C.push(k)}return C.chop()},d.prototype.concat=function(p){var v=new d(this.ops.slice());return p.ops.length>0&&(v.push(p.ops[0]),v.ops=v.ops.concat(p.ops.slice(1))),v},d.prototype.diff=function(p,v){if(this.ops===p.ops)return new d;var g=[this,p].map(function(E){return E.map(function(D){if(D.insert!=null)return typeof D.insert=="string"?D.insert:i;var k=E===p?"on":"with";throw new Error("diff() called "+k+" non-document")}).join("")}),w=new d,y=m(g[0],g[1],v),x=r.iterator(this.ops),C=r.iterator(p.ops);return y.forEach(function(E){for(var D=E[1].length;D>0;){var k=0;switch(E[0]){case m.INSERT:k=Math.min(C.peekLength(),D),w.push(C.next(k));break;case m.DELETE:k=Math.min(D,x.peekLength()),x.next(k),w.delete(k);break;case m.EQUAL:k=Math.min(x.peekLength(),C.peekLength(),D);var I=x.next(k),V=C.next(k);_(I.insert,V.insert)?w.retain(k,r.attributes.diff(I.attributes,V.attributes)):w.push(V).delete(k);break}D-=k}}),w.chop()},d.prototype.eachLine=function(p,v){v=v||`
`;for(var g=r.iterator(this.ops),w=new d,y=0;g.hasNext();){if(g.peekType()!=="insert")return;var x=g.peek(),C=r.length(x)-g.peekLength(),E=typeof x.insert=="string"?x.insert.indexOf(v,C)-C:-1;if(E<0)w.push(g.next());else if(E>0)w.push(g.next(E));else{if(p(w,g.next(1).attributes||{},y)===!1)return;y+=1,w=new d}}w.length()>0&&p(w,{},y)},d.prototype.transform=function(p,v){if(v=!!v,typeof p=="number")return this.transformPosition(p,v);for(var g=r.iterator(this.ops),w=r.iterator(p.ops),y=new d;g.hasNext()||w.hasNext();)if(g.peekType()==="insert"&&(v||w.peekType()!=="insert"))y.retain(r.length(g.next()));else if(w.peekType()==="insert")y.push(w.next());else{var x=Math.min(g.peekLength(),w.peekLength()),C=g.next(x),E=w.next(x);if(C.delete)continue;E.delete?y.push(E):y.retain(x,r.attributes.transform(C.attributes,E.attributes,v))}return y.chop()},d.prototype.transformPosition=function(p,v){v=!!v;for(var g=r.iterator(this.ops),w=0;g.hasNext()&&w<=p;){var y=g.peekLength(),x=g.peekType();if(g.next(),x==="delete"){p-=Math.min(y,p-w);continue}else x==="insert"&&(w<p||!v)&&(p+=y);w+=y}return p},s.exports=d},function(s,t){var c=Object.prototype.hasOwnProperty,m=Object.prototype.toString,_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=function(g){return typeof Array.isArray=="function"?Array.isArray(g):m.call(g)==="[object Array]"},i=function(g){if(!g||m.call(g)!=="[object Object]")return!1;var w=c.call(g,"constructor"),y=g.constructor&&g.constructor.prototype&&c.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!w&&!y)return!1;var x;for(x in g);return typeof x>"u"||c.call(g,x)},d=function(g,w){_&&w.name==="__proto__"?_(g,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):g[w.name]=w.newValue},p=function(g,w){if(w==="__proto__")if(c.call(g,w)){if(l)return l(g,w).value}else return;return g[w]};s.exports=function v(){var g,w,y,x,C,E,D=arguments[0],k=1,I=arguments.length,V=!1;for(typeof D=="boolean"&&(V=D,D=arguments[1]||{},k=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});k<I;++k)if(g=arguments[k],g!=null)for(w in g)y=p(D,w),x=p(g,w),D!==x&&(V&&x&&(i(x)||(C=r(x)))?(C?(C=!1,E=y&&r(y)?y:[]):E=y&&i(y)?y:{},d(D,{name:w,newValue:v(V,E,x)})):typeof x<"u"&&d(D,{name:w,newValue:x}));return D}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var m=function(){function P(R,O){for(var N=0;N<O.length;N++){var S=O[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(R,S.key,S)}}return function(R,O,N){return O&&P(R.prototype,O),N&&P(R,N),R}}(),_=function P(R,O,N){R===null&&(R=Function.prototype);var S=Object.getOwnPropertyDescriptor(R,O);if(S===void 0){var U=Object.getPrototypeOf(R);return U===null?void 0:P(U,O,N)}else{if("value"in S)return S.value;var W=S.get;return W===void 0?void 0:W.call(N)}},l=c(3),r=D(l),i=c(2),d=D(i),p=c(0),v=D(p),g=c(16),w=D(g),y=c(6),x=D(y),C=c(7),E=D(C);function D(P){return P&&P.__esModule?P:{default:P}}function k(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function I(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function V(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var B=1,L=function(P){V(R,P);function R(){return k(this,R),I(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return m(R,[{key:"attach",value:function(){_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new v.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,S){var U=v.default.query(N,v.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,S)}},{key:"formatAt",value:function(N,S,U,W){this.format(U,W)}},{key:"insertAt",value:function(N,S,U){if(typeof S=="string"&&S.endsWith(`
`)){var W=v.default.create(F.blotName);this.parent.insertBefore(W,N===0?this:this.next),W.insertAt(0,S.slice(0,-1))}else _(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,N,S,U)}}]),R}(v.default.Embed);L.scope=v.default.Scope.BLOCK_BLOT;var F=function(P){V(R,P);function R(O){k(this,R);var N=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return N.cache={},N}return m(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(v.default.Leaf).reduce(function(N,S){return S.length()===0?N:N.insert(S.value(),T(S))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(N,S){_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,N,S),this.cache={}}},{key:"formatAt",value:function(N,S,U,W){S<=0||(v.default.query(U,v.default.Scope.BLOCK)?N+S===this.length()&&this.format(U,W):_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,N,Math.min(S,this.length()-N-1),U,W),this.cache={})}},{key:"insertAt",value:function(N,S,U){if(U!=null)return _(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,N,S,U);if(S.length!==0){var W=S.split(`
`),oe=W.shift();oe.length>0&&(N<this.length()-1||this.children.tail==null?_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),oe):this.children.tail.insertAt(this.children.tail.length(),oe),this.cache={});var J=this;W.reduce(function(K,z){return J=J.split(K,!0),J.insertAt(0,z),z.length},N+oe.length)}}},{key:"insertBefore",value:function(N,S){var U=this.children.head;_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,N,S),U instanceof w.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+B),this.cache.length}},{key:"moveChildren",value:function(N,S){_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,N,S),this.cache={}}},{key:"optimize",value:function(N){_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return _(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S&&(N===0||N>=this.length()-B)){var U=this.clone();return N===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var W=_(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,N,S);return this.cache={},W}}}]),R}(v.default.Block);F.blotName="block",F.tagName="P",F.defaultChild="break",F.allowedChildren=[x.default,v.default.Embed,E.default];function T(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(R=(0,r.default)(R,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?R:T(P.parent,R)}t.bubbleFormats=T,t.BlockEmbed=L,t.default=F},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},_=function(){function J(K,z){var ae=[],we=!0,Fe=!1,he=void 0;try{for(var re=K[Symbol.iterator](),$e;!(we=($e=re.next()).done)&&(ae.push($e.value),!(z&&ae.length===z));we=!0);}catch(De){Fe=!0,he=De}finally{try{!we&&re.return&&re.return()}finally{if(Fe)throw he}}return ae}return function(K,z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return J(K,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function J(K,z){for(var ae=0;ae<z.length;ae++){var we=z[ae];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(K,we.key,we)}}return function(K,z,ae){return z&&J(K.prototype,z),ae&&J(K,ae),K}}();c(50);var r=c(2),i=T(r),d=c(14),p=T(d),v=c(8),g=T(v),w=c(9),y=T(w),x=c(0),C=T(x),E=c(15),D=T(E),k=c(3),I=T(k),V=c(10),B=T(V),L=c(34),F=T(L);function T(J){return J&&J.__esModule?J:{default:J}}function P(J,K,z){return K in J?Object.defineProperty(J,K,{value:z,enumerable:!0,configurable:!0,writable:!0}):J[K]=z,J}function R(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}var O=(0,B.default)("quill"),N=function(){l(J,null,[{key:"debug",value:function(z){z===!0&&(z="log"),B.default.level(z)}},{key:"find",value:function(z){return z.__quill||C.default.find(z)}},{key:"import",value:function(z){return this.imports[z]==null&&O.error("Cannot import "+z+". Are you sure it was registered?"),this.imports[z]}},{key:"register",value:function(z,ae){var we=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof z!="string"){var he=z.attrName||z.blotName;typeof he=="string"?this.register("formats/"+he,z,ae):Object.keys(z).forEach(function(re){we.register(re,z[re],ae)})}else this.imports[z]!=null&&!Fe&&O.warn("Overwriting "+z+" with",ae),this.imports[z]=ae,(z.startsWith("blots/")||z.startsWith("formats/"))&&ae.blotName!=="abstract"?C.default.register(ae):z.startsWith("modules")&&typeof ae.register=="function"&&ae.register()}}]);function J(K){var z=this,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,J),this.options=S(K,ae),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",K);this.options.debug&&J.debug(this.options.debug);var we=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new p.default(this.scroll),this.selection=new D.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(he){he===g.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(he,re){var $e=z.selection.lastRange,De=$e&&$e.length===0?$e.index:void 0;U.call(z,function(){return z.editor.update(null,re,De)},he)});var Fe=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+we+"<p><br></p></div>");this.setContents(Fe),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(J,[{key:"addContainer",value:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof z=="string"){var we=z;z=document.createElement("div"),z.classList.add(we)}return this.container.insertBefore(z,ae),z}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(z,ae,we){var Fe=this,he=W(z,ae,we),re=_(he,4);return z=re[0],ae=re[1],we=re[3],U.call(this,function(){return Fe.editor.deleteText(z,ae)},we,z,-1*ae)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(z),this.container.classList.toggle("ql-disabled",!z)}},{key:"focus",value:function(){var z=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=z,this.scrollIntoView()}},{key:"format",value:function(z,ae){var we=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return U.call(this,function(){var he=we.getSelection(!0),re=new i.default;if(he==null)return re;if(C.default.query(z,C.default.Scope.BLOCK))re=we.editor.formatLine(he.index,he.length,P({},z,ae));else{if(he.length===0)return we.selection.format(z,ae),re;re=we.editor.formatText(he.index,he.length,P({},z,ae))}return we.setSelection(he,g.default.sources.SILENT),re},Fe)}},{key:"formatLine",value:function(z,ae,we,Fe,he){var re=this,$e=void 0,De=W(z,ae,we,Fe,he),ie=_(De,4);return z=ie[0],ae=ie[1],$e=ie[2],he=ie[3],U.call(this,function(){return re.editor.formatLine(z,ae,$e)},he,z,0)}},{key:"formatText",value:function(z,ae,we,Fe,he){var re=this,$e=void 0,De=W(z,ae,we,Fe,he),ie=_(De,4);return z=ie[0],ae=ie[1],$e=ie[2],he=ie[3],U.call(this,function(){return re.editor.formatText(z,ae,$e)},he,z,0)}},{key:"getBounds",value:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,we=void 0;typeof z=="number"?we=this.selection.getBounds(z,ae):we=this.selection.getBounds(z.index,z.length);var Fe=this.container.getBoundingClientRect();return{bottom:we.bottom-Fe.top,height:we.height,left:we.left-Fe.left,right:we.right-Fe.left,top:we.top-Fe.top,width:we.width}}},{key:"getContents",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,we=W(z,ae),Fe=_(we,2);return z=Fe[0],ae=Fe[1],this.editor.getContents(z,ae)}},{key:"getFormat",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof z=="number"?this.editor.getFormat(z,ae):this.editor.getFormat(z.index,z.length)}},{key:"getIndex",value:function(z){return z.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(z){return this.scroll.leaf(z)}},{key:"getLine",value:function(z){return this.scroll.line(z)}},{key:"getLines",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof z!="number"?this.scroll.lines(z.index,z.length):this.scroll.lines(z,ae)}},{key:"getModule",value:function(z){return this.theme.modules[z]}},{key:"getSelection",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,we=W(z,ae),Fe=_(we,2);return z=Fe[0],ae=Fe[1],this.editor.getText(z,ae)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(z,ae,we){var Fe=this,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:J.sources.API;return U.call(this,function(){return Fe.editor.insertEmbed(z,ae,we)},he,z)}},{key:"insertText",value:function(z,ae,we,Fe,he){var re=this,$e=void 0,De=W(z,0,we,Fe,he),ie=_(De,4);return z=ie[0],$e=ie[2],he=ie[3],U.call(this,function(){return re.editor.insertText(z,ae,$e)},he,z,ae.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(z,ae,we){this.clipboard.dangerouslyPasteHTML(z,ae,we)}},{key:"removeFormat",value:function(z,ae,we){var Fe=this,he=W(z,ae,we),re=_(he,4);return z=re[0],ae=re[1],we=re[3],U.call(this,function(){return Fe.editor.removeFormat(z,ae)},we,z)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(z){var ae=this,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return U.call(this,function(){z=new i.default(z);var Fe=ae.getLength(),he=ae.editor.deleteText(0,Fe),re=ae.editor.applyDelta(z),$e=re.ops[re.ops.length-1];$e!=null&&typeof $e.insert=="string"&&$e.insert[$e.insert.length-1]===`
`&&(ae.editor.deleteText(ae.getLength()-1,1),re.delete(1));var De=he.compose(re);return De},we)}},{key:"setSelection",value:function(z,ae,we){if(z==null)this.selection.setRange(null,ae||J.sources.API);else{var Fe=W(z,ae,we),he=_(Fe,4);z=he[0],ae=he[1],we=he[3],this.selection.setRange(new E.Range(z,ae),we),we!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,we=new i.default().insert(z);return this.setContents(we,ae)}},{key:"update",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,ae=this.scroll.update(z);return this.selection.update(z),ae}},{key:"updateContents",value:function(z){var ae=this,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return U.call(this,function(){return z=new i.default(z),ae.editor.applyDelta(z,we)},we,!0)}}]),J}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=g.default.events,N.sources=g.default.sources,N.version="1.3.7",N.imports={delta:i.default,parchment:C.default,"core/module":y.default,"core/theme":F.default};function S(J,K){if(K=(0,I.default)(!0,{container:J,modules:{clipboard:!0,keyboard:!0,history:!0}},K),!K.theme||K.theme===N.DEFAULTS.theme)K.theme=F.default;else if(K.theme=N.import("themes/"+K.theme),K.theme==null)throw new Error("Invalid theme "+K.theme+". Did you register it?");var z=(0,I.default)(!0,{},K.theme.DEFAULTS);[z,K].forEach(function(Fe){Fe.modules=Fe.modules||{},Object.keys(Fe.modules).forEach(function(he){Fe.modules[he]===!0&&(Fe.modules[he]={})})});var ae=Object.keys(z.modules).concat(Object.keys(K.modules)),we=ae.reduce(function(Fe,he){var re=N.import("modules/"+he);return re==null?O.error("Cannot load "+he+" module. Are you sure you registered it?"):Fe[he]=re.DEFAULTS||{},Fe},{});return K.modules!=null&&K.modules.toolbar&&K.modules.toolbar.constructor!==Object&&(K.modules.toolbar={container:K.modules.toolbar}),K=(0,I.default)(!0,{},N.DEFAULTS,{modules:we},z,K),["bounds","container","scrollingContainer"].forEach(function(Fe){typeof K[Fe]=="string"&&(K[Fe]=document.querySelector(K[Fe]))}),K.modules=Object.keys(K.modules).reduce(function(Fe,he){return K.modules[he]&&(Fe[he]=K.modules[he]),Fe},{}),K}function U(J,K,z,ae){if(this.options.strict&&!this.isEnabled()&&K===g.default.sources.USER)return new i.default;var we=z==null?null:this.getSelection(),Fe=this.editor.delta,he=J();if(we!=null&&(z===!0&&(z=we.index),ae==null?we=oe(we,he,K):ae!==0&&(we=oe(we,z,ae,K)),this.setSelection(we,g.default.sources.SILENT)),he.length()>0){var re,$e=[g.default.events.TEXT_CHANGE,he,Fe,K];if((re=this.emitter).emit.apply(re,[g.default.events.EDITOR_CHANGE].concat($e)),K!==g.default.sources.SILENT){var De;(De=this.emitter).emit.apply(De,$e)}}return he}function W(J,K,z,ae,we){var Fe={};return typeof J.index=="number"&&typeof J.length=="number"?typeof K!="number"?(we=ae,ae=z,z=K,K=J.length,J=J.index):(K=J.length,J=J.index):typeof K!="number"&&(we=ae,ae=z,z=K,K=0),(typeof z>"u"?"undefined":m(z))==="object"?(Fe=z,we=ae):typeof z=="string"&&(ae!=null?Fe[z]=ae:we=z),we=we||g.default.sources.API,[J,K,Fe,we]}function oe(J,K,z,ae){if(J==null)return null;var we=void 0,Fe=void 0;if(K instanceof i.default){var he=[J.index,J.index+J.length].map(function(ie){return K.transformPosition(ie,ae!==g.default.sources.USER)}),re=_(he,2);we=re[0],Fe=re[1]}else{var $e=[J.index,J.index+J.length].map(function(ie){return ie<K||ie===K&&ae===g.default.sources.USER?ie:z>=0?ie+z:Math.max(K,ie+z)}),De=_($e,2);we=De[0],Fe=De[1]}return new E.Range(we,Fe-we)}t.expandConfig=S,t.overload=W,t.default=N},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function x(C,E){for(var D=0;D<E.length;D++){var k=E[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,D){return E&&x(C.prototype,E),D&&x(C,D),C}}(),_=function x(C,E,D){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,E);if(k===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:x(I,E,D)}else{if("value"in k)return k.value;var V=k.get;return V===void 0?void 0:V.call(D)}},l=c(7),r=p(l),i=c(0),d=p(i);function p(x){return x&&x.__esModule?x:{default:x}}function v(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function g(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function w(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var y=function(x){w(C,x);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"formatAt",value:function(D,k,I,V){if(C.compare(this.statics.blotName,I)<0&&d.default.query(I,d.default.Scope.BLOT)){var B=this.isolate(D,k);V&&B.wrap(I,V)}else _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,D,k,I,V)}},{key:"optimize",value:function(D){if(_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,D),this.parent instanceof C&&C.compare(this.statics.blotName,this.parent.statics.blotName)>0){var k=this.parent.isolate(this.offset(),this.length());this.moveChildren(k),k.wrap(this)}}}],[{key:"compare",value:function(D,k){var I=C.order.indexOf(D),V=C.order.indexOf(k);return I>=0||V>=0?I-V:D===k?0:D<k?-1:1}}]),C}(d.default.Inline);y.allowedChildren=[y,d.default.Embed,r.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default.Text);t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function E(D,k){for(var I=0;I<k.length;I++){var V=k[I];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(D,V.key,V)}}return function(D,k,I){return k&&E(D.prototype,k),I&&E(D,I),D}}(),_=function E(D,k,I){D===null&&(D=Function.prototype);var V=Object.getOwnPropertyDescriptor(D,k);if(V===void 0){var B=Object.getPrototypeOf(D);return B===null?void 0:E(B,k,I)}else{if("value"in V)return V.value;var L=V.get;return L===void 0?void 0:L.call(I)}},l=c(54),r=p(l),i=c(10),d=p(i);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")}function g(E,D){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:E}function w(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(E,D):E.__proto__=D)}var y=(0,d.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(E){document.addEventListener(E,function(){for(var D=arguments.length,k=Array(D),I=0;I<D;I++)k[I]=arguments[I];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(V){if(V.__quill&&V.__quill.emitter){var B;(B=V.__quill.emitter).handleDOM.apply(B,k)}})})});var C=function(E){w(D,E);function D(){v(this,D);var k=g(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));return k.listeners={},k.on("error",y.error),k}return m(D,[{key:"emit",value:function(){y.log.apply(y,arguments),_(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(I){for(var V=arguments.length,B=Array(V>1?V-1:0),L=1;L<V;L++)B[L-1]=arguments[L];(this.listeners[I.type]||[]).forEach(function(F){var T=F.node,P=F.handler;(I.target===T||T.contains(I.target))&&P.apply(void 0,[I].concat(B))})}},{key:"listenDOM",value:function(I,V,B){this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push({node:V,handler:B})}}]),D}(r.default);C.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},C.sources={API:"api",SILENT:"silent",USER:"user"},t.default=C},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});function m(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}var _=function l(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,l),this.quill=r,this.options=i};_.DEFAULTS={},t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=["error","warn","log","info"],_="warn";function l(i){if(m.indexOf(i)<=m.indexOf(_)){for(var d,p=arguments.length,v=Array(p>1?p-1:0),g=1;g<p;g++)v[g-1]=arguments[g];(d=console)[i].apply(d,v)}}function r(i){return m.reduce(function(d,p){return d[p]=l.bind(console,p,i),d},{})}l.level=r.level=function(i){_=i},t.default=r},function(s,t,c){var m=Array.prototype.slice,_=c(52),l=c(53),r=s.exports=function(v,g,w){return w||(w={}),v===g?!0:v instanceof Date&&g instanceof Date?v.getTime()===g.getTime():!v||!g||typeof v!="object"&&typeof g!="object"?w.strict?v===g:v==g:p(v,g,w)};function i(v){return v==null}function d(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function p(v,g,w){var y,x;if(i(v)||i(g)||v.prototype!==g.prototype)return!1;if(l(v))return l(g)?(v=m.call(v),g=m.call(g),r(v,g,w)):!1;if(d(v)){if(!d(g)||v.length!==g.length)return!1;for(y=0;y<v.length;y++)if(v[y]!==g[y])return!1;return!0}try{var C=_(v),E=_(g)}catch{return!1}if(C.length!=E.length)return!1;for(C.sort(),E.sort(),y=C.length-1;y>=0;y--)if(C[y]!=E[y])return!1;for(y=C.length-1;y>=0;y--)if(x=C[y],!r(v[x],g[x],w))return!1;return typeof v==typeof g}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(1),_=function(){function l(r,i,d){d===void 0&&(d={}),this.attrName=r,this.keyName=i;var p=m.Scope.TYPE&m.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&m.Scope.LEVEL|p:this.scope=m.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(r){return[].map.call(r.attributes,function(i){return i.name})},l.prototype.add=function(r,i){return this.canAdd(r,i)?(r.setAttribute(this.keyName,i),!0):!1},l.prototype.canAdd=function(r,i){var d=m.query(r,m.Scope.BLOT&(this.scope|m.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},l.prototype.remove=function(r){r.removeAttribute(this.keyName)},l.prototype.value=function(r){var i=r.getAttribute(this.keyName);return this.canAdd(r,i)&&i?i:""},l}();t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var m=function(){function L(F,T){var P=[],R=!0,O=!1,N=void 0;try{for(var S=F[Symbol.iterator](),U;!(R=(U=S.next()).done)&&(P.push(U.value),!(T&&P.length===T));R=!0);}catch(W){O=!0,N=W}finally{try{!R&&S.return&&S.return()}finally{if(O)throw N}}return P}return function(F,T){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return L(F,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function L(F,T){for(var P=0;P<T.length;P++){var R=T[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(F,R.key,R)}}return function(F,T,P){return T&&L(F.prototype,T),P&&L(F,P),F}}(),l=function L(F,T,P){F===null&&(F=Function.prototype);var R=Object.getOwnPropertyDescriptor(F,T);if(R===void 0){var O=Object.getPrototypeOf(F);return O===null?void 0:L(O,T,P)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(P)}},r=c(2),i=E(r),d=c(0),p=E(d),v=c(4),g=E(v),w=c(6),y=E(w),x=c(7),C=E(x);function E(L){return L&&L.__esModule?L:{default:L}}function D(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}function k(L,F){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:L}function I(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(L,F):L.__proto__=F)}var V=function(L){I(F,L);function F(){return D(this,F),k(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return F}(y.default);V.blotName="code",V.tagName="CODE";var B=function(L){I(F,L);function F(){return D(this,F),k(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return _(F,[{key:"delta",value:function(){var P=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(O,N){return O.insert(N).insert(`
`,P.formats())},new i.default)}},{key:"format",value:function(P,R){if(!(P===this.statics.blotName&&R)){var O=this.descendant(C.default,this.length()-1),N=m(O,1),S=N[0];S!=null&&S.deleteAt(S.length()-1,1),l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"format",this).call(this,P,R)}}},{key:"formatAt",value:function(P,R,O,N){if(R!==0&&!(p.default.query(O,p.default.Scope.BLOCK)==null||O===this.statics.blotName&&N===this.statics.formats(this.domNode))){var S=this.newlineIndex(P);if(!(S<0||S>=P+R)){var U=this.newlineIndex(P,!0)+1,W=S-U+1,oe=this.isolate(U,W),J=oe.next;oe.format(O,N),J instanceof F&&J.formatAt(0,P-U+R-W,O,N)}}}},{key:"insertAt",value:function(P,R,O){if(O==null){var N=this.descendant(C.default,P),S=m(N,2),U=S[0],W=S[1];U.insertAt(W,R)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var O=this.domNode.textContent.slice(P).indexOf(`
`);return O>-1?P+O:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(P),R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){l(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var O=p.default.find(R);O==null?R.parentNode.removeChild(R):O instanceof p.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(P){var R=l(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,P);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),F}(g.default);B.blotName="code-block",B.tagName="PRE",B.TAB="  ",t.Code=V,t.default=B},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},_=function(){function J(K,z){var ae=[],we=!0,Fe=!1,he=void 0;try{for(var re=K[Symbol.iterator](),$e;!(we=($e=re.next()).done)&&(ae.push($e.value),!(z&&ae.length===z));we=!0);}catch(De){Fe=!0,he=De}finally{try{!we&&re.return&&re.return()}finally{if(Fe)throw he}}return ae}return function(K,z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return J(K,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function J(K,z){for(var ae=0;ae<z.length;ae++){var we=z[ae];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(K,we.key,we)}}return function(K,z,ae){return z&&J(K.prototype,z),ae&&J(K,ae),K}}(),r=c(2),i=R(r),d=c(20),p=R(d),v=c(0),g=R(v),w=c(13),y=R(w),x=c(24),C=R(x),E=c(4),D=R(E),k=c(16),I=R(k),V=c(21),B=R(V),L=c(11),F=R(L),T=c(3),P=R(T);function R(J){return J&&J.__esModule?J:{default:J}}function O(J,K,z){return K in J?Object.defineProperty(J,K,{value:z,enumerable:!0,configurable:!0,writable:!0}):J[K]=z,J}function N(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}var S=/^[ -~]*$/,U=function(){function J(K){N(this,J),this.scroll=K,this.delta=this.getDelta()}return l(J,[{key:"applyDelta",value:function(z){var ae=this,we=!1;this.scroll.update();var Fe=this.scroll.length();return this.scroll.batchStart(),z=oe(z),z.reduce(function(he,re){var $e=re.retain||re.delete||re.insert.length||1,De=re.attributes||{};if(re.insert!=null){if(typeof re.insert=="string"){var ie=re.insert;ie.endsWith(`
`)&&we&&(we=!1,ie=ie.slice(0,-1)),he>=Fe&&!ie.endsWith(`
`)&&(we=!0),ae.scroll.insertAt(he,ie);var pe=ae.scroll.line(he),be=_(pe,2),Me=be[0],ue=be[1],je=(0,P.default)({},(0,E.bubbleFormats)(Me));if(Me instanceof D.default){var ze=Me.descendant(g.default.Leaf,ue),Ye=_(ze,1),ge=Ye[0];je=(0,P.default)(je,(0,E.bubbleFormats)(ge))}De=p.default.attributes.diff(je,De)||{}}else if(m(re.insert)==="object"){var _e=Object.keys(re.insert)[0];if(_e==null)return he;ae.scroll.insertAt(he,_e,re.insert[_e])}Fe+=$e}return Object.keys(De).forEach(function(Se){ae.scroll.formatAt(he,$e,Se,De[Se])}),he+$e},0),z.reduce(function(he,re){return typeof re.delete=="number"?(ae.scroll.deleteAt(he,re.delete),he):he+(re.retain||re.insert.length||1)},0),this.scroll.batchEnd(),this.update(z)}},{key:"deleteText",value:function(z,ae){return this.scroll.deleteAt(z,ae),this.update(new i.default().retain(z).delete(ae))}},{key:"formatLine",value:function(z,ae){var we=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Fe).forEach(function(he){if(!(we.scroll.whitelist!=null&&!we.scroll.whitelist[he])){var re=we.scroll.lines(z,Math.max(ae,1)),$e=ae;re.forEach(function(De){var ie=De.length();if(!(De instanceof y.default))De.format(he,Fe[he]);else{var pe=z-De.offset(we.scroll),be=De.newlineIndex(pe+$e)-pe+1;De.formatAt(pe,be,he,Fe[he])}$e-=ie})}}),this.scroll.optimize(),this.update(new i.default().retain(z).retain(ae,(0,B.default)(Fe)))}},{key:"formatText",value:function(z,ae){var we=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Fe).forEach(function(he){we.scroll.formatAt(z,ae,he,Fe[he])}),this.update(new i.default().retain(z).retain(ae,(0,B.default)(Fe)))}},{key:"getContents",value:function(z,ae){return this.delta.slice(z,z+ae)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(z,ae){return z.concat(ae.delta())},new i.default)}},{key:"getFormat",value:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,we=[],Fe=[];ae===0?this.scroll.path(z).forEach(function(re){var $e=_(re,1),De=$e[0];De instanceof D.default?we.push(De):De instanceof g.default.Leaf&&Fe.push(De)}):(we=this.scroll.lines(z,ae),Fe=this.scroll.descendants(g.default.Leaf,z,ae));var he=[we,Fe].map(function(re){if(re.length===0)return{};for(var $e=(0,E.bubbleFormats)(re.shift());Object.keys($e).length>0;){var De=re.shift();if(De==null)return $e;$e=W((0,E.bubbleFormats)(De),$e)}return $e});return P.default.apply(P.default,he)}},{key:"getText",value:function(z,ae){return this.getContents(z,ae).filter(function(we){return typeof we.insert=="string"}).map(function(we){return we.insert}).join("")}},{key:"insertEmbed",value:function(z,ae,we){return this.scroll.insertAt(z,ae,we),this.update(new i.default().retain(z).insert(O({},ae,we)))}},{key:"insertText",value:function(z,ae){var we=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae=ae.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(z,ae),Object.keys(Fe).forEach(function(he){we.scroll.formatAt(z,ae.length,he,Fe[he])}),this.update(new i.default().retain(z).insert(ae,(0,B.default)(Fe)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var z=this.scroll.children.head;return z.statics.blotName!==D.default.blotName||z.children.length>1?!1:z.children.head instanceof I.default}},{key:"removeFormat",value:function(z,ae){var we=this.getText(z,ae),Fe=this.scroll.line(z+ae),he=_(Fe,2),re=he[0],$e=he[1],De=0,ie=new i.default;re!=null&&(re instanceof y.default?De=re.newlineIndex($e)-$e+1:De=re.length()-$e,ie=re.delta().slice($e,$e+De-1).insert(`
`));var pe=this.getContents(z,ae+De),be=pe.diff(new i.default().insert(we).concat(ie)),Me=new i.default().retain(z).concat(be);return this.applyDelta(Me)}},{key:"update",value:function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Fe=this.delta;if(ae.length===1&&ae[0].type==="characterData"&&ae[0].target.data.match(S)&&g.default.find(ae[0].target)){var he=g.default.find(ae[0].target),re=(0,E.bubbleFormats)(he),$e=he.offset(this.scroll),De=ae[0].oldValue.replace(C.default.CONTENTS,""),ie=new i.default().insert(De),pe=new i.default().insert(he.value()),be=new i.default().retain($e).concat(ie.diff(pe,we));z=be.reduce(function(Me,ue){return ue.insert?Me.insert(ue.insert,re):Me.push(ue)},new i.default),this.delta=Fe.compose(z)}else this.delta=this.getDelta(),(!z||!(0,F.default)(Fe.compose(z),this.delta))&&(z=Fe.diff(this.delta,we));return z}}]),J}();function W(J,K){return Object.keys(K).reduce(function(z,ae){return J[ae]==null||(K[ae]===J[ae]?z[ae]=K[ae]:Array.isArray(K[ae])?K[ae].indexOf(J[ae])<0&&(z[ae]=K[ae].concat([J[ae]])):z[ae]=[K[ae],J[ae]]),z},{})}function oe(J){return J.reduce(function(K,z){if(z.insert===1){var ae=(0,B.default)(z.attributes);return delete ae.image,K.insert({image:z.attributes.image},ae)}if(z.attributes!=null&&(z.attributes.list===!0||z.attributes.bullet===!0)&&(z=(0,B.default)(z),z.attributes.list?z.attributes.list="ordered":(z.attributes.list="bullet",delete z.attributes.bullet)),typeof z.insert=="string"){var we=z.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return K.insert(we,z.attributes)}return K.push(z)},new i.default)}t.default=U},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var m=function(){function L(F,T){var P=[],R=!0,O=!1,N=void 0;try{for(var S=F[Symbol.iterator](),U;!(R=(U=S.next()).done)&&(P.push(U.value),!(T&&P.length===T));R=!0);}catch(W){O=!0,N=W}finally{try{!R&&S.return&&S.return()}finally{if(O)throw N}}return P}return function(F,T){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return L(F,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function L(F,T){for(var P=0;P<T.length;P++){var R=T[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(F,R.key,R)}}return function(F,T,P){return T&&L(F.prototype,T),P&&L(F,P),F}}(),l=c(0),r=C(l),i=c(21),d=C(i),p=c(11),v=C(p),g=c(8),w=C(g),y=c(10),x=C(y);function C(L){return L&&L.__esModule?L:{default:L}}function E(L){if(Array.isArray(L)){for(var F=0,T=Array(L.length);F<L.length;F++)T[F]=L[F];return T}else return Array.from(L)}function D(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}var k=(0,x.default)("quill:selection"),I=function L(F){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;D(this,L),this.index=F,this.length=T},V=function(){function L(F,T){var P=this;D(this,L),this.emitter=T,this.scroll=F,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new I(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(R,O){R===w.default.events.TEXT_CHANGE&&O.length()>0&&P.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var R=P.getNativeRange();R!=null&&R.start.node!==P.cursor.textNode&&P.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(R,O){if(O.range){var N=O.range,S=N.startNode,U=N.startOffset,W=N.endNode,oe=N.endOffset;P.setNativeRange(S,U,W,oe)}}),this.update(w.default.sources.SILENT)}return _(L,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var P=T.cursor.restore();if(!P)return;setTimeout(function(){T.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||r.default.query(T,r.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var O=r.default.find(R.start.node,!1);if(O==null)return;if(O instanceof r.default.Leaf){var N=O.split(R.start.offset);O.parent.insertBefore(this.cursor,N)}else O.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(T,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();T=Math.min(T,R-1),P=Math.min(T+P,R-1)-T;var O=void 0,N=this.scroll.leaf(T),S=m(N,2),U=S[0],W=S[1];if(U==null)return null;var oe=U.position(W,!0),J=m(oe,2);O=J[0],W=J[1];var K=document.createRange();if(P>0){K.setStart(O,W);var z=this.scroll.leaf(T+P),ae=m(z,2);if(U=ae[0],W=ae[1],U==null)return null;var we=U.position(W,!0),Fe=m(we,2);return O=Fe[0],W=Fe[1],K.setEnd(O,W),K.getBoundingClientRect()}else{var he="left",re=void 0;return O instanceof Text?(W<O.data.length?(K.setStart(O,W),K.setEnd(O,W+1)):(K.setStart(O,W-1),K.setEnd(O,W),he="right"),re=K.getBoundingClientRect()):(re=U.domNode.getBoundingClientRect(),W>0&&(he="right")),{bottom:re.top+re.height,height:re.height,left:re[he],right:re[he],top:re.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var P=T.getRangeAt(0);if(P==null)return null;var R=this.normalizeNative(P);return k.info("getNativeRange",R),R}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var P=this.normalizedToRange(T);return[P,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var P=this,R=[[T.start.node,T.start.offset]];T.native.collapsed||R.push([T.end.node,T.end.offset]);var O=R.map(function(U){var W=m(U,2),oe=W[0],J=W[1],K=r.default.find(oe,!0),z=K.offset(P.scroll);return J===0?z:K instanceof r.default.Container?z+K.length():z+K.index(oe,J)}),N=Math.min(Math.max.apply(Math,E(O)),this.scroll.length()-1),S=Math.min.apply(Math,[N].concat(E(O)));return new I(S,N-S)}},{key:"normalizeNative",value:function(T){if(!B(this.root,T.startContainer)||!T.collapsed&&!B(this.root,T.endContainer))return null;var P={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[P.start,P.end].forEach(function(R){for(var O=R.node,N=R.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>N)O=O.childNodes[N],N=0;else if(O.childNodes.length===N)O=O.lastChild,N=O instanceof Text?O.data.length:O.childNodes.length+1;else break;R.node=O,R.offset=N}),P}},{key:"rangeToNative",value:function(T){var P=this,R=T.collapsed?[T.index]:[T.index,T.index+T.length],O=[],N=this.scroll.length();return R.forEach(function(S,U){S=Math.min(N-1,S);var W=void 0,oe=P.scroll.leaf(S),J=m(oe,2),K=J[0],z=J[1],ae=K.position(z,U!==0),we=m(ae,2);W=we[0],z=we[1],O.push(W,z)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(T){var P=this.lastRange;if(P!=null){var R=this.getBounds(P.index,P.length);if(R!=null){var O=this.scroll.length()-1,N=this.scroll.line(Math.min(P.index,O)),S=m(N,1),U=S[0],W=U;if(P.length>0){var oe=this.scroll.line(Math.min(P.index+P.length,O)),J=m(oe,1);W=J[0]}if(!(U==null||W==null)){var K=T.getBoundingClientRect();R.top<K.top?T.scrollTop-=K.top-R.top:R.bottom>K.bottom&&(T.scrollTop+=R.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(T,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(k.info("setNativeRange",T,P,R,O),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||R.parentNode==null))){var S=document.getSelection();if(S!=null)if(T!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||N||T!==U.startContainer||P!==U.startOffset||R!==U.endContainer||O!==U.endOffset){T.tagName=="BR"&&(P=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),R.tagName=="BR"&&(O=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var W=document.createRange();W.setStart(T,P),W.setEnd(R,O),S.removeAllRanges(),S.addRange(W)}}else S.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof P=="string"&&(R=P,P=!1),k.info("setRange",T),T!=null){var O=this.rangeToNative(T);this.setNativeRange.apply(this,E(O).concat([P]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,P=this.lastRange,R=this.getRange(),O=m(R,2),N=O[0],S=O[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.default)(P,this.lastRange)){var U;!this.composing&&S!=null&&S.native.collapsed&&S.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[w.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(P),T];if((U=this.emitter).emit.apply(U,[w.default.events.EDITOR_CHANGE].concat(W)),T!==w.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,W)}}}}]),L}();function B(L,F){try{F.parentNode}catch{return!1}return F instanceof Text&&(F=F.parentNode),L.contains(F)}t.Range=I,t.default=V},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function w(y,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,x,C){return x&&w(y.prototype,x),C&&w(y,C),y}}(),_=function w(y,x,C){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,x);if(E===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:w(D,x,C)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(C)}},l=c(0),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,[{key:"insertInto",value:function(C,E){C.children.length===0?_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,C,E):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(r.default.Embed);g.blotName="break",g.tagName="BR",t.default=g},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var w in g)g.hasOwnProperty(w)&&(v[w]=g[w])};return function(v,g){p(v,g);function w(){this.constructor=v}v.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(44),l=c(30),r=c(1),i=function(p){m(v,p);function v(g){var w=p.call(this,g)||this;return w.build(),w}return v.prototype.appendChild=function(g){this.insertBefore(g)},v.prototype.attach=function(){p.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},v.prototype.build=function(){var g=this;this.children=new _.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var y=d(w);g.insertBefore(y,g.children.head||void 0)}catch(x){if(x instanceof r.ParchmentError)return;throw x}})},v.prototype.deleteAt=function(g,w){if(g===0&&w===this.length())return this.remove();this.children.forEachAt(g,w,function(y,x,C){y.deleteAt(x,C)})},v.prototype.descendant=function(g,w){var y=this.children.find(w),x=y[0],C=y[1];return g.blotName==null&&g(x)||g.blotName!=null&&x instanceof g?[x,C]:x instanceof v?x.descendant(g,C):[null,-1]},v.prototype.descendants=function(g,w,y){w===void 0&&(w=0),y===void 0&&(y=Number.MAX_VALUE);var x=[],C=y;return this.children.forEachAt(w,y,function(E,D,k){(g.blotName==null&&g(E)||g.blotName!=null&&E instanceof g)&&x.push(E),E instanceof v&&(x=x.concat(E.descendants(g,D,C))),C-=k}),x},v.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),p.prototype.detach.call(this)},v.prototype.formatAt=function(g,w,y,x){this.children.forEachAt(g,w,function(C,E,D){C.formatAt(E,D,y,x)})},v.prototype.insertAt=function(g,w,y){var x=this.children.find(g),C=x[0],E=x[1];if(C)C.insertAt(E,w,y);else{var D=y==null?r.create("text",w):r.create(w,y);this.appendChild(D)}},v.prototype.insertBefore=function(g,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return g instanceof y}))throw new r.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,w)},v.prototype.length=function(){return this.children.reduce(function(g,w){return g+w.length()},0)},v.prototype.moveChildren=function(g,w){this.children.forEach(function(y){g.insertBefore(y,w)})},v.prototype.optimize=function(g){if(p.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var w=r.create(this.statics.defaultChild);this.appendChild(w),w.optimize(g)}else this.remove()},v.prototype.path=function(g,w){w===void 0&&(w=!1);var y=this.children.find(g,w),x=y[0],C=y[1],E=[[this,g]];return x instanceof v?E.concat(x.path(C,w)):(x!=null&&E.push([x,C]),E)},v.prototype.removeChild=function(g){this.children.remove(g)},v.prototype.replace=function(g){g instanceof v&&g.moveChildren(this),p.prototype.replace.call(this,g)},v.prototype.split=function(g,w){if(w===void 0&&(w=!1),!w){if(g===0)return this;if(g===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(g,this.length(),function(x,C,E){x=x.split(C,w),y.appendChild(x)}),y},v.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},v.prototype.update=function(g,w){var y=this,x=[],C=[];g.forEach(function(E){E.target===y.domNode&&E.type==="childList"&&(x.push.apply(x,E.addedNodes),C.push.apply(C,E.removedNodes))}),C.forEach(function(E){if(!(E.parentNode!=null&&E.tagName!=="IFRAME"&&document.body.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var D=r.find(E);D!=null&&(D.domNode.parentNode==null||D.domNode.parentNode===y.domNode)&&D.detach()}}),x.filter(function(E){return E.parentNode==y.domNode}).sort(function(E,D){return E===D?0:E.compareDocumentPosition(D)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(E){var D=null;E.nextSibling!=null&&(D=r.find(E.nextSibling));var k=d(E);(k.next!=D||k.next==null)&&(k.parent!=null&&k.parent.removeChild(y),y.insertBefore(k,D||void 0))})},v}(l.default);function d(p){var v=r.find(p);if(v==null)try{v=r.create(p)}catch{v=r.create(r.Scope.INLINE),[].slice.call(p.childNodes).forEach(function(w){v.domNode.appendChild(w)}),p.parentNode&&p.parentNode.replaceChild(v.domNode,p),v.attach()}return v}t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var w in g)g.hasOwnProperty(w)&&(v[w]=g[w])};return function(v,g){p(v,g);function w(){this.constructor=v}v.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12),l=c(31),r=c(17),i=c(1),d=function(p){m(v,p);function v(g){var w=p.call(this,g)||this;return w.attributes=new l.default(w.domNode),w}return v.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},v.prototype.format=function(g,w){var y=i.query(g);y instanceof _.default?this.attributes.attribute(y,w):w&&y!=null&&(g!==this.statics.blotName||this.formats()[g]!==w)&&this.replaceWith(g,w)},v.prototype.formats=function(){var g=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(g[this.statics.blotName]=w),g},v.prototype.replaceWith=function(g,w){var y=p.prototype.replaceWith.call(this,g,w);return this.attributes.copy(y),y},v.prototype.update=function(g,w){var y=this;p.prototype.update.call(this,g,w),g.some(function(x){return x.target===y.domNode&&x.type==="attributes"})&&this.attributes.build()},v.prototype.wrap=function(g,w){var y=p.prototype.wrap.call(this,g,w);return y instanceof v&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},v}(r.default);t.default=d},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(30),l=c(1),r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.value=function(p){return!0},d.prototype.index=function(p,v){return this.domNode===p||this.domNode.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(v,1):-1},d.prototype.position=function(p,v){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return p>0&&(g+=1),[this.parent.domNode,g]},d.prototype.value=function(){var p;return p={},p[this.statics.blotName]=this.statics.value(this.domNode)||!0,p},d.scope=l.Scope.INLINE_BLOT,d}(_.default);t.default=r},function(s,t,c){var m=c(11),_=c(3),l={attributes:{compose:function(i,d,p){typeof i!="object"&&(i={}),typeof d!="object"&&(d={});var v=_(!0,{},d);p||(v=Object.keys(v).reduce(function(w,y){return v[y]!=null&&(w[y]=v[y]),w},{}));for(var g in i)i[g]!==void 0&&d[g]===void 0&&(v[g]=i[g]);return Object.keys(v).length>0?v:void 0},diff:function(i,d){typeof i!="object"&&(i={}),typeof d!="object"&&(d={});var p=Object.keys(i).concat(Object.keys(d)).reduce(function(v,g){return m(i[g],d[g])||(v[g]=d[g]===void 0?null:d[g]),v},{});return Object.keys(p).length>0?p:void 0},transform:function(i,d,p){if(typeof i!="object")return d;if(typeof d=="object"){if(!p)return d;var v=Object.keys(d).reduce(function(g,w){return i[w]===void 0&&(g[w]=d[w]),g},{});return Object.keys(v).length>0?v:void 0}}},iterator:function(i){return new r(i)},length:function(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.insert=="string"?i.insert.length:1}};function r(i){this.ops=i,this.index=0,this.offset=0}r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var d=this.ops[this.index];if(d){var p=this.offset,v=l.length(d);if(i>=v-p?(i=v-p,this.index+=1,this.offset=0):this.offset+=i,typeof d.delete=="number")return{delete:i};var g={};return d.attributes&&(g.attributes=d.attributes),typeof d.retain=="number"?g.retain=i:typeof d.insert=="string"?g.insert=d.insert.substr(p,i):g.insert=d.insert,g}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,d=this.index,p=this.next(),v=this.ops.slice(this.index);return this.offset=i,this.index=d,[p].concat(v)}else return[]},s.exports=l},function(s,t){var c=function(){function m(y,x){return x!=null&&y instanceof x}var _;try{_=Map}catch{_=function(){}}var l;try{l=Set}catch{l=function(){}}var r;try{r=Promise}catch{r=function(){}}function i(y,x,C,E,D){typeof x=="object"&&(C=x.depth,E=x.prototype,D=x.includeNonEnumerable,x=x.circular);var k=[],I=[],V=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof C>"u"&&(C=1/0);function B(L,F){if(L===null)return null;if(F===0)return L;var T,P;if(typeof L!="object")return L;if(m(L,_))T=new _;else if(m(L,l))T=new l;else if(m(L,r))T=new r(function(K,z){L.then(function(ae){K(B(ae,F-1))},function(ae){z(B(ae,F-1))})});else if(i.__isArray(L))T=[];else if(i.__isRegExp(L))T=new RegExp(L.source,w(L)),L.lastIndex&&(T.lastIndex=L.lastIndex);else if(i.__isDate(L))T=new Date(L.getTime());else{if(V&&Buffer.isBuffer(L))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(L.length):T=new Buffer(L.length),L.copy(T),T;m(L,Error)?T=Object.create(L):typeof E>"u"?(P=Object.getPrototypeOf(L),T=Object.create(P)):(T=Object.create(E),P=E)}if(x){var R=k.indexOf(L);if(R!=-1)return I[R];k.push(L),I.push(T)}m(L,_)&&L.forEach(function(K,z){var ae=B(z,F-1),we=B(K,F-1);T.set(ae,we)}),m(L,l)&&L.forEach(function(K){var z=B(K,F-1);T.add(z)});for(var O in L){var N;P&&(N=Object.getOwnPropertyDescriptor(P,O)),!(N&&N.set==null)&&(T[O]=B(L[O],F-1))}if(Object.getOwnPropertySymbols)for(var S=Object.getOwnPropertySymbols(L),O=0;O<S.length;O++){var U=S[O],W=Object.getOwnPropertyDescriptor(L,U);W&&!W.enumerable&&!D||(T[U]=B(L[U],F-1),W.enumerable||Object.defineProperty(T,U,{enumerable:!1}))}if(D)for(var oe=Object.getOwnPropertyNames(L),O=0;O<oe.length;O++){var J=oe[O],W=Object.getOwnPropertyDescriptor(L,J);W&&W.enumerable||(T[J]=B(L[J],F-1),Object.defineProperty(T,J,{enumerable:!1}))}return T}return B(y,C)}i.clonePrototype=function(x){if(x===null)return null;var C=function(){};return C.prototype=x,new C};function d(y){return Object.prototype.toString.call(y)}i.__objToStr=d;function p(y){return typeof y=="object"&&d(y)==="[object Date]"}i.__isDate=p;function v(y){return typeof y=="object"&&d(y)==="[object Array]"}i.__isArray=v;function g(y){return typeof y=="object"&&d(y)==="[object RegExp]"}i.__isRegExp=g;function w(y){var x="";return y.global&&(x+="g"),y.ignoreCase&&(x+="i"),y.multiline&&(x+="m"),x}return i.__getRegExpFlags=w,i}();typeof s=="object"&&s.exports&&(s.exports=c)},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function T(P,R){var O=[],N=!0,S=!1,U=void 0;try{for(var W=P[Symbol.iterator](),oe;!(N=(oe=W.next()).done)&&(O.push(oe.value),!(R&&O.length===R));N=!0);}catch(J){S=!0,U=J}finally{try{!N&&W.return&&W.return()}finally{if(S)throw U}}return O}return function(P,R){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function T(P,R){for(var O=0;O<R.length;O++){var N=R[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,R,O){return R&&T(P.prototype,R),O&&T(P,O),P}}(),l=function T(P,R,O){P===null&&(P=Function.prototype);var N=Object.getOwnPropertyDescriptor(P,R);if(N===void 0){var S=Object.getPrototypeOf(P);return S===null?void 0:T(S,R,O)}else{if("value"in N)return N.value;var U=N.get;return U===void 0?void 0:U.call(O)}},r=c(0),i=k(r),d=c(8),p=k(d),v=c(4),g=k(v),w=c(16),y=k(w),x=c(13),C=k(x),E=c(25),D=k(E);function k(T){return T&&T.__esModule?T:{default:T}}function I(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function V(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function B(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}function L(T){return T instanceof g.default||T instanceof v.BlockEmbed}var F=function(T){B(P,T);function P(R,O){I(this,P);var N=V(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R));return N.emitter=O.emitter,Array.isArray(O.whitelist)&&(N.whitelist=O.whitelist.reduce(function(S,U){return S[U]=!0,S},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return _(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,N){var S=this.line(O),U=m(S,2),W=U[0],oe=U[1],J=this.line(O+N),K=m(J,1),z=K[0];if(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,O,N),z!=null&&W!==z&&oe>0){if(W instanceof v.BlockEmbed||z instanceof v.BlockEmbed){this.optimize();return}if(W instanceof C.default){var ae=W.newlineIndex(W.length(),!0);if(ae>-1&&(W=W.split(ae+1),W===z)){this.optimize();return}}else if(z instanceof C.default){var we=z.newlineIndex(0);we>-1&&z.split(we+1)}var Fe=z.children.head instanceof y.default?null:z.children.head;W.moveChildren(z,Fe),W.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,N,S,U){this.whitelist!=null&&!this.whitelist[S]||(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,O,N,S,U),this.optimize())}},{key:"insertAt",value:function(O,N,S){if(!(S!=null&&this.whitelist!=null&&!this.whitelist[N])){if(O>=this.length())if(S==null||i.default.query(N,i.default.Scope.BLOCK)==null){var U=i.default.create(this.statics.defaultChild);this.appendChild(U),S==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),U.insertAt(0,N,S)}else{var W=i.default.create(N,S);this.appendChild(W)}else l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,O,N,S);this.optimize()}}},{key:"insertBefore",value:function(O,N){if(O.statics.scope===i.default.Scope.INLINE_BLOT){var S=i.default.create(this.statics.defaultChild);S.appendChild(O),O=S}l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,O,N)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(L,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,S=function U(W,oe,J){var K=[],z=J;return W.children.forEachAt(oe,J,function(ae,we,Fe){L(ae)?K.push(ae):ae instanceof i.default.Container&&(K=K.concat(U(ae,we,z))),z-=Fe}),K};return S(this,O,N)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,O,N),O.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,O,N))}},{key:"path",value:function(O){return l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var N=p.default.sources.USER;typeof O=="string"&&(N=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,N,O),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,N,O)}}}]),P}(i.default.Scroll);F.blotName="scroll",F.className="ql-editor",F.tagName="DIV",F.defaultChild="block",F.allowedChildren=[g.default,v.BlockEmbed,D.default],t.default=F},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},_=function(){function re($e,De){var ie=[],pe=!0,be=!1,Me=void 0;try{for(var ue=$e[Symbol.iterator](),je;!(pe=(je=ue.next()).done)&&(ie.push(je.value),!(De&&ie.length===De));pe=!0);}catch(ze){be=!0,Me=ze}finally{try{!pe&&ue.return&&ue.return()}finally{if(be)throw Me}}return ie}return function($e,De){if(Array.isArray($e))return $e;if(Symbol.iterator in Object($e))return re($e,De);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function re($e,De){for(var ie=0;ie<De.length;ie++){var pe=De[ie];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty($e,pe.key,pe)}}return function($e,De,ie){return De&&re($e.prototype,De),ie&&re($e,ie),$e}}(),r=c(21),i=T(r),d=c(11),p=T(d),v=c(3),g=T(v),w=c(2),y=T(w),x=c(20),C=T(x),E=c(0),D=T(E),k=c(5),I=T(k),V=c(10),B=T(V),L=c(9),F=T(L);function T(re){return re&&re.__esModule?re:{default:re}}function P(re,$e,De){return $e in re?Object.defineProperty(re,$e,{value:De,enumerable:!0,configurable:!0,writable:!0}):re[$e]=De,re}function R(re,$e){if(!(re instanceof $e))throw new TypeError("Cannot call a class as a function")}function O(re,$e){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e&&(typeof $e=="object"||typeof $e=="function")?$e:re}function N(re,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);re.prototype=Object.create($e&&$e.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(re,$e):re.__proto__=$e)}var S=(0,B.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(re){N($e,re),l($e,null,[{key:"match",value:function(ie,pe){return pe=he(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(be){return!!pe[be]!==ie[be]&&pe[be]!==null})?!1:pe.key===(ie.which||ie.keyCode)}}]);function $e(De,ie){R(this,$e);var pe=O(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,De,ie));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(be){be==="list autofill"&&De.scroll.whitelist!=null&&!De.scroll.whitelist.list||pe.options.bindings[be]&&pe.addBinding(pe.options.bindings[be])}),pe.addBinding({key:$e.keys.ENTER,shiftKey:null},ae),pe.addBinding({key:$e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:$e.keys.BACKSPACE},{collapsed:!0},J),pe.addBinding({key:$e.keys.DELETE},{collapsed:!0},K)):(pe.addBinding({key:$e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},J),pe.addBinding({key:$e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},K)),pe.addBinding({key:$e.keys.BACKSPACE},{collapsed:!1},z),pe.addBinding({key:$e.keys.DELETE},{collapsed:!1},z),pe.addBinding({key:$e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},J),pe.listen(),pe}return l($e,[{key:"addBinding",value:function(ie){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=he(ie);if(Me==null||Me.key==null)return S.warn("Attempted to add invalid keyboard binding",Me);typeof pe=="function"&&(pe={handler:pe}),typeof be=="function"&&(be={handler:be}),Me=(0,g.default)(Me,pe,be),this.bindings[Me.key]=this.bindings[Me.key]||[],this.bindings[Me.key].push(Me)}},{key:"listen",value:function(){var ie=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var be=pe.which||pe.keyCode,Me=(ie.bindings[be]||[]).filter(function(at){return $e.match(pe,at)});if(Me.length!==0){var ue=ie.quill.getSelection();if(!(ue==null||!ie.quill.hasFocus())){var je=ie.quill.getLine(ue.index),ze=_(je,2),Ye=ze[0],ge=ze[1],_e=ie.quill.getLeaf(ue.index),Se=_(_e,2),Ve=Se[0],ke=Se[1],te=ue.length===0?[Ve,ke]:ie.quill.getLeaf(ue.index+ue.length),Ce=_(te,2),Ne=Ce[0],Ie=Ce[1],se=Ve instanceof D.default.Text?Ve.value().slice(0,ke):"",fe=Ne instanceof D.default.Text?Ne.value().slice(Ie):"",Le={collapsed:ue.length===0,empty:ue.length===0&&Ye.length()<=1,format:ie.quill.getFormat(ue),offset:ge,prefix:se,suffix:fe},Ze=Me.some(function(at){if(at.collapsed!=null&&at.collapsed!==Le.collapsed||at.empty!=null&&at.empty!==Le.empty||at.offset!=null&&at.offset!==Le.offset)return!1;if(Array.isArray(at.format)){if(at.format.every(function(mt){return Le.format[mt]==null}))return!1}else if(m(at.format)==="object"&&!Object.keys(at.format).every(function(mt){return at.format[mt]===!0?Le.format[mt]!=null:at.format[mt]===!1?Le.format[mt]==null:(0,p.default)(at.format[mt],Le.format[mt])}))return!1;return at.prefix!=null&&!at.prefix.test(Le.prefix)||at.suffix!=null&&!at.suffix.test(Le.suffix)?!1:at.handler.call(ie,ue,Le)!==!0});Ze&&pe.preventDefault()}}}})}}]),$e}(F.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:Fe("bold"),italic:Fe("italic"),underline:Fe("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function($e,De){if(De.collapsed&&De.offset!==0)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($e,De){if(De.collapsed&&De.offset!==0)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($e,De){De.format.indent!=null?this.quill.format("indent","-1",I.default.sources.USER):De.format.list!=null&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":we(!0),"outdent code-block":we(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($e){this.quill.deleteText($e.index-1,1,I.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function($e){this.quill.history.cutoff();var De=new y.default().retain($e.index).delete($e.length).insert("	");this.quill.updateContents(De,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($e.index+1,I.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($e,De){this.quill.format("list",!1,I.default.sources.USER),De.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($e){var De=this.quill.getLine($e.index),ie=_(De,2),pe=ie[0],be=ie[1],Me=(0,g.default)({},pe.formats(),{list:"checked"}),ue=new y.default().retain($e.index).insert(`
`,Me).retain(pe.length()-be-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,I.default.sources.USER),this.quill.setSelection($e.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($e,De){var ie=this.quill.getLine($e.index),pe=_(ie,2),be=pe[0],Me=pe[1],ue=new y.default().retain($e.index).insert(`
`,De.format).retain(be.length()-Me-1).retain(1,{header:null});this.quill.updateContents(ue,I.default.sources.USER),this.quill.setSelection($e.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($e,De){var ie=De.prefix.length,pe=this.quill.getLine($e.index),be=_(pe,2),Me=be[0],ue=be[1];if(ue>ie)return!0;var je=void 0;switch(De.prefix.trim()){case"[]":case"[ ]":je="unchecked";break;case"[x]":je="checked";break;case"-":case"*":je="bullet";break;default:je="ordered"}this.quill.insertText($e.index," ",I.default.sources.USER),this.quill.history.cutoff();var ze=new y.default().retain($e.index-ue).delete(ie+1).retain(Me.length()-2-ue).retain(1,{list:je});this.quill.updateContents(ze,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($e.index-ie,I.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($e){var De=this.quill.getLine($e.index),ie=_(De,2),pe=ie[0],be=ie[1],Me=new y.default().retain($e.index+pe.length()-be-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Me,I.default.sources.USER)}},"embed left":oe(W.keys.LEFT,!1),"embed left shift":oe(W.keys.LEFT,!0),"embed right":oe(W.keys.RIGHT,!1),"embed right shift":oe(W.keys.RIGHT,!0)}};function oe(re,$e){var De,ie=re===W.keys.LEFT?"prefix":"suffix";return De={key:re,shiftKey:$e,altKey:null},P(De,ie,/^$/),P(De,"handler",function(be){var Me=be.index;re===W.keys.RIGHT&&(Me+=be.length+1);var ue=this.quill.getLeaf(Me),je=_(ue,1),ze=je[0];return ze instanceof D.default.Embed?(re===W.keys.LEFT?$e?this.quill.setSelection(be.index-1,be.length+1,I.default.sources.USER):this.quill.setSelection(be.index-1,I.default.sources.USER):$e?this.quill.setSelection(be.index,be.length+1,I.default.sources.USER):this.quill.setSelection(be.index+be.length+1,I.default.sources.USER),!1):!0}),De}function J(re,$e){if(!(re.index===0||this.quill.getLength()<=1)){var De=this.quill.getLine(re.index),ie=_(De,1),pe=ie[0],be={};if($e.offset===0){var Me=this.quill.getLine(re.index-1),ue=_(Me,1),je=ue[0];if(je!=null&&je.length()>1){var ze=pe.formats(),Ye=this.quill.getFormat(re.index-1,1);be=C.default.attributes.diff(ze,Ye)||{}}}var ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($e.prefix)?2:1;this.quill.deleteText(re.index-ge,ge,I.default.sources.USER),Object.keys(be).length>0&&this.quill.formatLine(re.index-ge,ge,be,I.default.sources.USER),this.quill.focus()}}function K(re,$e){var De=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($e.suffix)?2:1;if(!(re.index>=this.quill.getLength()-De)){var ie={},pe=0,be=this.quill.getLine(re.index),Me=_(be,1),ue=Me[0];if($e.offset>=ue.length()-1){var je=this.quill.getLine(re.index+1),ze=_(je,1),Ye=ze[0];if(Ye){var ge=ue.formats(),_e=this.quill.getFormat(re.index,1);ie=C.default.attributes.diff(ge,_e)||{},pe=Ye.length()}}this.quill.deleteText(re.index,De,I.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(re.index+pe-1,De,ie,I.default.sources.USER)}}function z(re){var $e=this.quill.getLines(re),De={};if($e.length>1){var ie=$e[0].formats(),pe=$e[$e.length-1].formats();De=C.default.attributes.diff(pe,ie)||{}}this.quill.deleteText(re,I.default.sources.USER),Object.keys(De).length>0&&this.quill.formatLine(re.index,1,De,I.default.sources.USER),this.quill.setSelection(re.index,I.default.sources.SILENT),this.quill.focus()}function ae(re,$e){var De=this;re.length>0&&this.quill.scroll.deleteAt(re.index,re.length);var ie=Object.keys($e.format).reduce(function(pe,be){return D.default.query(be,D.default.Scope.BLOCK)&&!Array.isArray($e.format[be])&&(pe[be]=$e.format[be]),pe},{});this.quill.insertText(re.index,`
`,ie,I.default.sources.USER),this.quill.setSelection(re.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys($e.format).forEach(function(pe){ie[pe]==null&&(Array.isArray($e.format[pe])||pe!=="link"&&De.quill.format(pe,$e.format[pe],I.default.sources.USER))})}function we(re){return{key:W.keys.TAB,shiftKey:!re,format:{"code-block":!0},handler:function(De){var ie=D.default.query("code-block"),pe=De.index,be=De.length,Me=this.quill.scroll.descendant(ie,pe),ue=_(Me,2),je=ue[0],ze=ue[1];if(je!=null){var Ye=this.quill.getIndex(je),ge=je.newlineIndex(ze,!0)+1,_e=je.newlineIndex(Ye+ze+be),Se=je.domNode.textContent.slice(ge,_e).split(`
`);ze=0,Se.forEach(function(Ve,ke){re?(je.insertAt(ge+ze,ie.TAB),ze+=ie.TAB.length,ke===0?pe+=ie.TAB.length:be+=ie.TAB.length):Ve.startsWith(ie.TAB)&&(je.deleteAt(ge+ze,ie.TAB.length),ze-=ie.TAB.length,ke===0?pe-=ie.TAB.length:be-=ie.TAB.length),ze+=Ve.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(pe,be,I.default.sources.SILENT)}}}}function Fe(re){return{key:re[0].toUpperCase(),shortKey:!0,handler:function(De,ie){this.quill.format(re,!ie.format[re],I.default.sources.USER)}}}function he(re){if(typeof re=="string"||typeof re=="number")return he({key:re});if((typeof re>"u"?"undefined":m(re))==="object"&&(re=(0,i.default)(re,!1)),typeof re.key=="string")if(W.keys[re.key.toUpperCase()]!=null)re.key=W.keys[re.key.toUpperCase()];else if(re.key.length===1)re.key=re.key.toUpperCase().charCodeAt(0);else return null;return re.shortKey&&(re[U]=re.shortKey,delete re.shortKey),re}t.default=W,t.SHORTKEY=U},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function C(E,D){var k=[],I=!0,V=!1,B=void 0;try{for(var L=E[Symbol.iterator](),F;!(I=(F=L.next()).done)&&(k.push(F.value),!(D&&k.length===D));I=!0);}catch(T){V=!0,B=T}finally{try{!I&&L.return&&L.return()}finally{if(V)throw B}}return k}return function(E,D){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return C(E,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function C(E,D,k){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,D);if(I===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:C(V,D,k)}else{if("value"in I)return I.value;var B=I.get;return B===void 0?void 0:B.call(k)}},l=function(){function C(E,D){for(var k=0;k<D.length;k++){var I=D[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,D,k){return D&&C(E.prototype,D),k&&C(E,k),E}}(),r=c(0),i=v(r),d=c(7),p=v(d);function v(C){return C&&C.__esModule?C:{default:C}}function g(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function w(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function y(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var x=function(C){y(E,C),l(E,null,[{key:"value",value:function(){}}]);function E(D,k){g(this,E);var I=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,D));return I.selection=k,I.textNode=document.createTextNode(E.CONTENTS),I.domNode.appendChild(I.textNode),I._length=0,I}return l(E,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(k,I){if(this._length!==0)return _(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,k,I);for(var V=this,B=0;V!=null&&V.statics.scope!==i.default.Scope.BLOCK_BLOT;)B+=V.offset(V.parent),V=V.parent;V!=null&&(this._length=E.CONTENTS.length,V.optimize(),V.formatAt(B,E.CONTENTS.length,k,I),this._length=0)}},{key:"index",value:function(k,I){return k===this.textNode?0:_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,k,I)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var k=this.textNode,I=this.selection.getNativeRange(),V=void 0,B=void 0,L=void 0;if(I!=null&&I.start.node===k&&I.end.node===k){var F=[k,I.start.offset,I.end.offset];V=F[0],B=F[1],L=F[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==E.CONTENTS){var T=this.textNode.data.split(E.CONTENTS).join("");this.next instanceof p.default?(V=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=E.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),B!=null){var P=[B,L].map(function(O){return Math.max(0,Math.min(V.data.length,O-1))}),R=m(P,2);return B=R[0],L=R[1],{startNode:V,startOffset:B,endNode:V,endOffset:L}}}}},{key:"update",value:function(k,I){var V=this;if(k.some(function(L){return L.type==="characterData"&&L.target===V.textNode})){var B=this.restore();B&&(I.range=B)}}},{key:"value",value:function(){return""}}]),E}(i.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",t.default=x},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=i(m),l=c(4),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(_.default.Container);g.allowedChildren=[r.default,l.BlockEmbed,g],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var m=function(){function x(C,E){for(var D=0;D<E.length;D++){var k=E[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,D){return E&&x(C.prototype,E),D&&x(C,D),C}}(),_=function x(C,E,D){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,E);if(k===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:x(I,E,D)}else{if("value"in k)return k.value;var V=k.get;return V===void 0?void 0:V.call(D)}},l=c(0),r=i(l);function i(x){return x&&x.__esModule?x:{default:x}}function d(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function p(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function v(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var g=function(x){v(C,x);function C(){return d(this,C),p(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"value",value:function(D){var k=_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"value",this).call(this,D);return k.startsWith("rgb(")?(k=k.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+k.split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join("")):k}}]),C}(r.default.Attributor.Style),w=new r.default.Attributor.Class("color","ql-color",{scope:r.default.Scope.INLINE}),y=new g("color","color",{scope:r.default.Scope.INLINE});t.ColorAttributor=g,t.ColorClass=w,t.ColorStyle=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var m=function(){function y(x,C){for(var E=0;E<C.length;E++){var D=C[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,C,E){return C&&y(x.prototype,C),E&&y(x,E),x}}(),_=function y(x,C,E){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,C);if(D===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:y(k,C,E)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(E)}},l=c(6),r=i(l);function i(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function v(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g=function(y){v(x,y);function x(){return d(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"format",value:function(E,D){if(E!==this.statics.blotName||!D)return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,E,D);D=this.constructor.sanitize(D),this.domNode.setAttribute("href",D)}}],[{key:"create",value:function(E){var D=_(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,E);return E=this.sanitize(E),D.setAttribute("href",E),D.setAttribute("rel","noopener noreferrer"),D.setAttribute("target","_blank"),D}},{key:"formats",value:function(E){return E.getAttribute("href")}},{key:"sanitize",value:function(E){return w(E,this.PROTOCOL_WHITELIST)?E:this.SANITIZED_URL}}]),x}(r.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(y,x){var C=document.createElement("a");C.href=y;var E=C.href.slice(0,C.href.indexOf(":"));return x.indexOf(E)>-1}t.default=g,t.sanitize=w},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_=function(){function x(C,E){for(var D=0;D<E.length;D++){var k=E[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,D){return E&&x(C.prototype,E),D&&x(C,D),C}}(),l=c(23),r=p(l),i=c(107),d=p(i);function p(x){return x&&x.__esModule?x:{default:x}}function v(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}var g=0;function w(x,C){x.setAttribute(C,x.getAttribute(C)!=="true")}var y=function(){function x(C){var E=this;v(this,x),this.select=C,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){E.togglePicker()}),this.label.addEventListener("keydown",function(D){switch(D.keyCode){case r.default.keys.ENTER:E.togglePicker();break;case r.default.keys.ESCAPE:E.escape(),D.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return _(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(E){var D=this,k=document.createElement("span");return k.tabIndex="0",k.setAttribute("role","button"),k.classList.add("ql-picker-item"),E.hasAttribute("value")&&k.setAttribute("data-value",E.getAttribute("value")),E.textContent&&k.setAttribute("data-label",E.textContent),k.addEventListener("click",function(){D.selectItem(k,!0)}),k.addEventListener("keydown",function(I){switch(I.keyCode){case r.default.keys.ENTER:D.selectItem(k,!0),I.preventDefault();break;case r.default.keys.ESCAPE:D.escape(),I.preventDefault();break}}),k}},{key:"buildLabel",value:function(){var E=document.createElement("span");return E.classList.add("ql-picker-label"),E.innerHTML=d.default,E.tabIndex="0",E.setAttribute("role","button"),E.setAttribute("aria-expanded","false"),this.container.appendChild(E),E}},{key:"buildOptions",value:function(){var E=this,D=document.createElement("span");D.classList.add("ql-picker-options"),D.setAttribute("aria-hidden","true"),D.tabIndex="-1",D.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",D.id),this.options=D,[].slice.call(this.select.options).forEach(function(k){var I=E.buildItem(k);D.appendChild(I),k.selected===!0&&E.selectItem(I)}),this.container.appendChild(D)}},{key:"buildPicker",value:function(){var E=this;[].slice.call(this.select.attributes).forEach(function(D){E.container.setAttribute(D.name,D.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var E=this;this.close(),setTimeout(function(){return E.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(E){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=this.container.querySelector(".ql-selected");if(E!==k&&(k!=null&&k.classList.remove("ql-selected"),E!=null&&(E.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(E.parentNode.children,E),E.hasAttribute("data-value")?this.label.setAttribute("data-value",E.getAttribute("data-value")):this.label.removeAttribute("data-value"),E.hasAttribute("data-label")?this.label.setAttribute("data-label",E.getAttribute("data-label")):this.label.removeAttribute("data-label"),D))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":m(Event))==="object"){var I=document.createEvent("Event");I.initEvent("change",!0,!0),this.select.dispatchEvent(I)}this.close()}}},{key:"update",value:function(){var E=void 0;if(this.select.selectedIndex>-1){var D=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];E=this.select.options[this.select.selectedIndex],this.selectItem(D)}else this.selectItem(null);var k=E!=null&&E!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",k)}}]),x}();t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(0),_=S(m),l=c(5),r=S(l),i=c(4),d=S(i),p=c(16),v=S(p),g=c(25),w=S(g),y=c(24),x=S(y),C=c(35),E=S(C),D=c(6),k=S(D),I=c(22),V=S(I),B=c(7),L=S(B),F=c(55),T=S(F),P=c(42),R=S(P),O=c(23),N=S(O);function S(U){return U&&U.__esModule?U:{default:U}}r.default.register({"blots/block":d.default,"blots/block/embed":i.BlockEmbed,"blots/break":v.default,"blots/container":w.default,"blots/cursor":x.default,"blots/embed":E.default,"blots/inline":k.default,"blots/scroll":V.default,"blots/text":L.default,"modules/clipboard":T.default,"modules/history":R.default,"modules/keyboard":N.default}),_.default.register(d.default,v.default,x.default,k.default,V.default,L.default),t.default=r.default},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(1),_=function(){function l(r){this.domNode=r,this.domNode[m.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(r){if(this.tagName==null)throw new m.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof r=="string"&&(r=r.toUpperCase(),parseInt(r).toString()===r&&(r=parseInt(r))),typeof r=="number"?i=document.createElement(this.tagName[r-1]):this.tagName.indexOf(r)>-1?i=document.createElement(r):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var r=this.domNode.cloneNode(!1);return m.create(r)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[m.DATA_KEY]},l.prototype.deleteAt=function(r,i){var d=this.isolate(r,i);d.remove()},l.prototype.formatAt=function(r,i,d,p){var v=this.isolate(r,i);if(m.query(d,m.Scope.BLOT)!=null&&p)v.wrap(d,p);else if(m.query(d,m.Scope.ATTRIBUTE)!=null){var g=m.create(this.statics.scope);v.wrap(g),g.format(d,p)}},l.prototype.insertAt=function(r,i,d){var p=d==null?m.create("text",i):m.create(i,d),v=this.split(r);this.parent.insertBefore(p,v)},l.prototype.insertInto=function(r,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var d=null;r.children.insertBefore(this,i),i!=null&&(d=i.domNode),(this.domNode.parentNode!=r.domNode||this.domNode.nextSibling!=d)&&r.domNode.insertBefore(this.domNode,d),this.parent=r,this.attach()},l.prototype.isolate=function(r,i){var d=this.split(r);return d.split(i),d},l.prototype.length=function(){return 1},l.prototype.offset=function(r){return r===void 0&&(r=this.parent),this.parent==null||this==r?0:this.parent.children.offset(this)+this.parent.offset(r)},l.prototype.optimize=function(r){this.domNode[m.DATA_KEY]!=null&&delete this.domNode[m.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(r){r.parent!=null&&(r.parent.insertBefore(this,r.next),r.remove())},l.prototype.replaceWith=function(r,i){var d=typeof r=="string"?m.create(r,i):r;return d.replace(this),d},l.prototype.split=function(r,i){return r===0?this:this.next},l.prototype.update=function(r,i){},l.prototype.wrap=function(r,i){var d=typeof r=="string"?m.create(r,i):r;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();t.default=_},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(12),_=c(32),l=c(33),r=c(1),i=function(){function d(p){this.attributes={},this.domNode=p,this.build()}return d.prototype.attribute=function(p,v){v?p.add(this.domNode,v)&&(p.value(this.domNode)!=null?this.attributes[p.attrName]=p:delete this.attributes[p.attrName]):(p.remove(this.domNode),delete this.attributes[p.attrName])},d.prototype.build=function(){var p=this;this.attributes={};var v=m.default.keys(this.domNode),g=_.default.keys(this.domNode),w=l.default.keys(this.domNode);v.concat(g).concat(w).forEach(function(y){var x=r.query(y,r.Scope.ATTRIBUTE);x instanceof m.default&&(p.attributes[x.attrName]=x)})},d.prototype.copy=function(p){var v=this;Object.keys(this.attributes).forEach(function(g){var w=v.attributes[g].value(v.domNode);p.format(g,w)})},d.prototype.move=function(p){var v=this;this.copy(p),Object.keys(this.attributes).forEach(function(g){v.attributes[g].remove(v.domNode)}),this.attributes={}},d.prototype.values=function(){var p=this;return Object.keys(this.attributes).reduce(function(v,g){return v[g]=p.attributes[g].value(p.domNode),v},{})},d}();t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12);function l(i,d){var p=i.getAttribute("class")||"";return p.split(/\s+/).filter(function(v){return v.indexOf(d+"-")===0})}var r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.keys=function(p){return(p.getAttribute("class")||"").split(/\s+/).map(function(v){return v.split("-").slice(0,-1).join("-")})},d.prototype.add=function(p,v){return this.canAdd(p,v)?(this.remove(p),p.classList.add(this.keyName+"-"+v),!0):!1},d.prototype.remove=function(p){var v=l(p,this.keyName);v.forEach(function(g){p.classList.remove(g)}),p.classList.length===0&&p.removeAttribute("class")},d.prototype.value=function(p){var v=l(p,this.keyName)[0]||"",g=v.slice(this.keyName.length+1);return this.canAdd(p,g)?g:""},d}(_.default);t.default=r},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(12);function l(i){var d=i.split("-"),p=d.slice(1).map(function(v){return v[0].toUpperCase()+v.slice(1)}).join("");return d[0]+p}var r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.keys=function(p){return(p.getAttribute("style")||"").split(";").map(function(v){var g=v.split(":");return g[0].trim()})},d.prototype.add=function(p,v){return this.canAdd(p,v)?(p.style[l(this.keyName)]=v,!0):!1},d.prototype.remove=function(p){p.style[l(this.keyName)]="",p.getAttribute("style")||p.removeAttribute("style")},d.prototype.value=function(p){var v=p.style[l(this.keyName)];return this.canAdd(p,v)?v:""},d}(_.default);t.default=r},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function r(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&r(i.prototype,d),p&&r(i,p),i}}();function _(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var l=function(){function r(i,d){_(this,r),this.quill=i,this.options=d,this.modules={}}return m(r,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(p){d.modules[p]==null&&d.addModule(p)})}},{key:"addModule",value:function(d){var p=this.quill.constructor.import("modules/"+d);return this.modules[d]=new p(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),r}();l.DEFAULTS={modules:{}},l.themes={default:l},t.default=l},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function C(E,D){for(var k=0;k<D.length;k++){var I=D[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,D,k){return D&&C(E.prototype,D),k&&C(E,k),E}}(),_=function C(E,D,k){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,D);if(I===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:C(V,D,k)}else{if("value"in I)return I.value;var B=I.get;return B===void 0?void 0:B.call(k)}},l=c(0),r=p(l),i=c(7),d=p(i);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function w(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var y="\uFEFF",x=function(C){w(E,C);function E(D){v(this,E);var k=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,D));return k.contentNode=document.createElement("span"),k.contentNode.setAttribute("contenteditable",!1),[].slice.call(k.domNode.childNodes).forEach(function(I){k.contentNode.appendChild(I)}),k.leftGuard=document.createTextNode(y),k.rightGuard=document.createTextNode(y),k.domNode.appendChild(k.leftGuard),k.domNode.appendChild(k.contentNode),k.domNode.appendChild(k.rightGuard),k}return m(E,[{key:"index",value:function(k,I){return k===this.leftGuard?0:k===this.rightGuard?1:_(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,k,I)}},{key:"restore",value:function(k){var I=void 0,V=void 0,B=k.data.split(y).join("");if(k===this.leftGuard)if(this.prev instanceof d.default){var L=this.prev.length();this.prev.insertAt(L,B),I={startNode:this.prev.domNode,startOffset:L+B.length}}else V=document.createTextNode(B),this.parent.insertBefore(r.default.create(V),this),I={startNode:V,startOffset:B.length};else k===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,B),I={startNode:this.next.domNode,startOffset:B.length}):(V=document.createTextNode(B),this.parent.insertBefore(r.default.create(V),this.next),I={startNode:V,startOffset:B.length}));return k.data=y,I}},{key:"update",value:function(k,I){var V=this;k.forEach(function(B){if(B.type==="characterData"&&(B.target===V.leftGuard||B.target===V.rightGuard)){var L=V.restore(B.target);L&&(I.range=L)}})}}]),E}(r.default.Embed);t.default=x},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}var r={scope:_.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new _.default.Attributor.Attribute("align","align",r),d=new _.default.Attributor.Class("align","ql-align",r),p=new _.default.Attributor.Style("align","text-align",r);t.AlignAttribute=i,t.AlignClass=d,t.AlignStyle=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var m=c(0),_=r(m),l=c(26);function r(p){return p&&p.__esModule?p:{default:p}}var i=new _.default.Attributor.Class("background","ql-bg",{scope:_.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:_.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=d},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var m=c(0),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}var r={scope:_.default.Scope.BLOCK,whitelist:["rtl"]},i=new _.default.Attributor.Attribute("direction","dir",r),d=new _.default.Attributor.Class("direction","ql-direction",r),p=new _.default.Attributor.Style("direction","direction",r);t.DirectionAttribute=i,t.DirectionClass=d,t.DirectionStyle=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var m=function(){function C(E,D){for(var k=0;k<D.length;k++){var I=D[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,D,k){return D&&C(E.prototype,D),k&&C(E,k),E}}(),_=function C(E,D,k){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,D);if(I===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:C(V,D,k)}else{if("value"in I)return I.value;var B=I.get;return B===void 0?void 0:B.call(k)}},l=c(0),r=i(l);function i(C){return C&&C.__esModule?C:{default:C}}function d(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function p(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function v(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var g={scope:r.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new r.default.Attributor.Class("font","ql-font",g),y=function(C){v(E,C);function E(){return d(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return m(E,[{key:"value",value:function(k){return _(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,k).replace(/["']/g,"")}}]),E}(r.default.Attributor.Style),x=new y("font","font-family",g);t.FontStyle=x,t.FontClass=w},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var m=c(0),_=l(m);function l(d){return d&&d.__esModule?d:{default:d}}var r=new _.default.Attributor.Class("size","ql-size",{scope:_.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new _.default.Attributor.Style("size","font-size",{scope:_.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=r,t.SizeStyle=i},function(s,t,c){s.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var m=function(){function D(k,I){for(var V=0;V<I.length;V++){var B=I[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,I,V){return I&&D(k.prototype,I),V&&D(k,V),k}}(),_=c(0),l=v(_),r=c(5),i=v(r),d=c(9),p=v(d);function v(D){return D&&D.__esModule?D:{default:D}}function g(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function w(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:D}function y(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);D.prototype=Object.create(k&&k.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(D,k):D.__proto__=k)}var x=function(D){y(k,D);function k(I,V){g(this,k);var B=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,I,V));return B.lastRecorded=0,B.ignoreChange=!1,B.clear(),B.quill.on(i.default.events.EDITOR_CHANGE,function(L,F,T,P){L!==i.default.events.TEXT_CHANGE||B.ignoreChange||(!B.options.userOnly||P===i.default.sources.USER?B.record(F,T):B.transform(F))}),B.quill.keyboard.addBinding({key:"Z",shortKey:!0},B.undo.bind(B)),B.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},B.redo.bind(B)),/Win/i.test(navigator.platform)&&B.quill.keyboard.addBinding({key:"Y",shortKey:!0},B.redo.bind(B)),B}return m(k,[{key:"change",value:function(V,B){if(this.stack[V].length!==0){var L=this.stack[V].pop();this.stack[B].push(L),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(L[V],i.default.sources.USER),this.ignoreChange=!1;var F=E(L[V]);this.quill.setSelection(F)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(V,B){if(V.ops.length!==0){this.stack.redo=[];var L=this.quill.getContents().diff(B),F=Date.now();if(this.lastRecorded+this.options.delay>F&&this.stack.undo.length>0){var T=this.stack.undo.pop();L=L.compose(T.undo),V=T.redo.compose(V)}else this.lastRecorded=F;this.stack.undo.push({redo:V,undo:L}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(V){this.stack.undo.forEach(function(B){B.undo=V.transform(B.undo,!0),B.redo=V.transform(B.redo,!0)}),this.stack.redo.forEach(function(B){B.undo=V.transform(B.undo,!0),B.redo=V.transform(B.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),k}(p.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function C(D){var k=D.ops[D.ops.length-1];return k==null?!1:k.insert!=null?typeof k.insert=="string"&&k.insert.endsWith(`
`):k.attributes!=null?Object.keys(k.attributes).some(function(I){return l.default.query(I,l.default.Scope.BLOCK)!=null}):!1}function E(D){var k=D.reduce(function(V,B){return V+=B.delete||0,V},0),I=D.length()-k;return C(D)&&(I-=1),I}t.default=x,t.getLastChangeIndex=E},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var m=function(){function ae(we,Fe){for(var he=0;he<Fe.length;he++){var re=Fe[he];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(we,re.key,re)}}return function(we,Fe,he){return Fe&&ae(we.prototype,Fe),he&&ae(we,he),we}}(),_=function ae(we,Fe,he){we===null&&(we=Function.prototype);var re=Object.getOwnPropertyDescriptor(we,Fe);if(re===void 0){var $e=Object.getPrototypeOf(we);return $e===null?void 0:ae($e,Fe,he)}else{if("value"in re)return re.value;var De=re.get;return De===void 0?void 0:De.call(he)}},l=c(3),r=F(l),i=c(2),d=F(i),p=c(8),v=F(p),g=c(23),w=F(g),y=c(34),x=F(y),C=c(59),E=F(C),D=c(60),k=F(D),I=c(28),V=F(I),B=c(61),L=F(B);function F(ae){return ae&&ae.__esModule?ae:{default:ae}}function T(ae,we){if(!(ae instanceof we))throw new TypeError("Cannot call a class as a function")}function P(ae,we){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we&&(typeof we=="object"||typeof we=="function")?we:ae}function R(ae,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof we);ae.prototype=Object.create(we&&we.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,we):ae.__proto__=we)}var O=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],S=[!1,"serif","monospace"],U=["1","2","3",!1],W=["small",!1,"large","huge"],oe=function(ae){R(we,ae);function we(Fe,he){T(this,we);var re=P(this,(we.__proto__||Object.getPrototypeOf(we)).call(this,Fe,he)),$e=function De(ie){if(!document.body.contains(Fe.root))return document.body.removeEventListener("click",De);re.tooltip!=null&&!re.tooltip.root.contains(ie.target)&&document.activeElement!==re.tooltip.textbox&&!re.quill.hasFocus()&&re.tooltip.hide(),re.pickers!=null&&re.pickers.forEach(function(pe){pe.container.contains(ie.target)||pe.close()})};return Fe.emitter.listenDOM("click",document.body,$e),re}return m(we,[{key:"addModule",value:function(he){var re=_(we.prototype.__proto__||Object.getPrototypeOf(we.prototype),"addModule",this).call(this,he);return he==="toolbar"&&this.extendToolbar(re),re}},{key:"buildButtons",value:function(he,re){he.forEach(function($e){var De=$e.getAttribute("class")||"";De.split(/\s+/).forEach(function(ie){if(ie.startsWith("ql-")&&(ie=ie.slice(3),re[ie]!=null))if(ie==="direction")$e.innerHTML=re[ie][""]+re[ie].rtl;else if(typeof re[ie]=="string")$e.innerHTML=re[ie];else{var pe=$e.value||"";pe!=null&&re[ie][pe]&&($e.innerHTML=re[ie][pe])}})})}},{key:"buildPickers",value:function(he,re){var $e=this;this.pickers=he.map(function(ie){if(ie.classList.contains("ql-align"))return ie.querySelector("option")==null&&z(ie,O),new k.default(ie,re.align);if(ie.classList.contains("ql-background")||ie.classList.contains("ql-color")){var pe=ie.classList.contains("ql-background")?"background":"color";return ie.querySelector("option")==null&&z(ie,N,pe==="background"?"#ffffff":"#000000"),new E.default(ie,re[pe])}else return ie.querySelector("option")==null&&(ie.classList.contains("ql-font")?z(ie,S):ie.classList.contains("ql-header")?z(ie,U):ie.classList.contains("ql-size")&&z(ie,W)),new V.default(ie)});var De=function(){$e.pickers.forEach(function(pe){pe.update()})};this.quill.on(v.default.events.EDITOR_CHANGE,De)}}]),we}(x.default);oe.DEFAULTS=(0,r.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var we=this,Fe=this.container.querySelector("input.ql-image[type=file]");Fe==null&&(Fe=document.createElement("input"),Fe.setAttribute("type","file"),Fe.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Fe.classList.add("ql-image"),Fe.addEventListener("change",function(){if(Fe.files!=null&&Fe.files[0]!=null){var he=new FileReader;he.onload=function(re){var $e=we.quill.getSelection(!0);we.quill.updateContents(new d.default().retain($e.index).delete($e.length).insert({image:re.target.result}),v.default.sources.USER),we.quill.setSelection($e.index+1,v.default.sources.SILENT),Fe.value=""},he.readAsDataURL(Fe.files[0])}}),this.container.appendChild(Fe)),Fe.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var J=function(ae){R(we,ae);function we(Fe,he){T(this,we);var re=P(this,(we.__proto__||Object.getPrototypeOf(we)).call(this,Fe,he));return re.textbox=re.root.querySelector('input[type="text"]'),re.listen(),re}return m(we,[{key:"listen",value:function(){var he=this;this.textbox.addEventListener("keydown",function(re){w.default.match(re,"enter")?(he.save(),re.preventDefault()):w.default.match(re,"escape")&&(he.cancel(),re.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),re!=null?this.textbox.value=re:he!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+he)||""),this.root.setAttribute("data-mode",he)}},{key:"restoreFocus",value:function(){var he=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=he}},{key:"save",value:function(){var he=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var re=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",he,v.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",he,v.default.sources.USER)),this.quill.root.scrollTop=re;break}case"video":he=K(he);case"formula":{if(!he)break;var $e=this.quill.getSelection(!0);if($e!=null){var De=$e.index+$e.length;this.quill.insertEmbed(De,this.root.getAttribute("data-mode"),he,v.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(De+1," ",v.default.sources.USER),this.quill.setSelection(De+2,v.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),we}(L.default);function K(ae){var we=ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return we?(we[1]||"https")+"://www.youtube.com/embed/"+we[2]+"?showinfo=0":(we=ae.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(we[1]||"https")+"://player.vimeo.com/video/"+we[2]+"/":ae}function z(ae,we){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;we.forEach(function(he){var re=document.createElement("option");he===Fe?re.setAttribute("selected","selected"):re.setAttribute("value",he),ae.appendChild(re)})}t.BaseTooltip=J,t.default=oe},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function _(){this.head=this.tail=null,this.length=0}return _.prototype.append=function(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},_.prototype.contains=function(l){for(var r,i=this.iterator();r=i();)if(r===l)return!0;return!1},_.prototype.insertBefore=function(l,r){l&&(l.next=r,r!=null?(l.prev=r.prev,r.prev!=null&&(r.prev.next=l),r.prev=l,r===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},_.prototype.offset=function(l){for(var r=0,i=this.head;i!=null;){if(i===l)return r;r+=i.length(),i=i.next}return-1},_.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},_.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var r=l;return l!=null&&(l=l.next),r}},_.prototype.find=function(l,r){r===void 0&&(r=!1);for(var i,d=this.iterator();i=d();){var p=i.length();if(l<p||r&&l===p&&(i.next==null||i.next.length()!==0))return[i,l];l-=p}return[null,0]},_.prototype.forEach=function(l){for(var r,i=this.iterator();r=i();)l(r)},_.prototype.forEachAt=function(l,r,i){if(!(r<=0))for(var d=this.find(l),p=d[0],v=d[1],g,w=l-v,y=this.iterator(p);(g=y())&&w<l+r;){var x=g.length();l>w?i(g,l-w,Math.min(r,w+x-l)):i(g,0,Math.min(x,l+r-w)),w+=x}},_.prototype.map=function(l){return this.reduce(function(r,i){return r.push(l(i)),r},[])},_.prototype.reduce=function(l,r){for(var i,d=this.iterator();i=d();)r=l(r,i);return r},_}();t.default=m},function(s,t,c){var m=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var w in g)g.hasOwnProperty(w)&&(v[w]=g[w])};return function(v,g){p(v,g);function w(){this.constructor=v}v.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(17),l=c(1),r={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=100,d=function(p){m(v,p);function v(g){var w=p.call(this,g)||this;return w.scroll=w,w.observer=new MutationObserver(function(y){w.update(y)}),w.observer.observe(w.domNode,r),w.attach(),w}return v.prototype.detach=function(){p.prototype.detach.call(this),this.observer.disconnect()},v.prototype.deleteAt=function(g,w){this.update(),g===0&&w===this.length()?this.children.forEach(function(y){y.remove()}):p.prototype.deleteAt.call(this,g,w)},v.prototype.formatAt=function(g,w,y,x){this.update(),p.prototype.formatAt.call(this,g,w,y,x)},v.prototype.insertAt=function(g,w,y){this.update(),p.prototype.insertAt.call(this,g,w,y)},v.prototype.optimize=function(g,w){var y=this;g===void 0&&(g=[]),w===void 0&&(w={}),p.prototype.optimize.call(this,w);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)g.push(x.pop());for(var C=function(I,V){V===void 0&&(V=!0),!(I==null||I===y)&&I.domNode.parentNode!=null&&(I.domNode[l.DATA_KEY].mutations==null&&(I.domNode[l.DATA_KEY].mutations=[]),V&&C(I.parent))},E=function(I){I.domNode[l.DATA_KEY]==null||I.domNode[l.DATA_KEY].mutations==null||(I instanceof _.default&&I.children.forEach(E),I.optimize(w))},D=g,k=0;D.length>0;k+=1){if(k>=i)throw new Error("[Parchment] Maximum optimize iterations reached");for(D.forEach(function(I){var V=l.find(I.target,!0);V!=null&&(V.domNode===I.target&&(I.type==="childList"?(C(l.find(I.previousSibling,!1)),[].forEach.call(I.addedNodes,function(B){var L=l.find(B,!1);C(L,!1),L instanceof _.default&&L.children.forEach(function(F){C(F,!1)})})):I.type==="attributes"&&C(V.prev)),C(V))}),this.children.forEach(E),D=[].slice.call(this.observer.takeRecords()),x=D.slice();x.length>0;)g.push(x.pop())}},v.prototype.update=function(g,w){var y=this;w===void 0&&(w={}),g=g||this.observer.takeRecords(),g.map(function(x){var C=l.find(x.target,!0);return C==null?null:C.domNode[l.DATA_KEY].mutations==null?(C.domNode[l.DATA_KEY].mutations=[x],C):(C.domNode[l.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===y||x.domNode[l.DATA_KEY]==null||x.update(x.domNode[l.DATA_KEY].mutations||[],w)}),this.domNode[l.DATA_KEY].mutations!=null&&p.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,w),this.optimize(g,w)},v.blotName="scroll",v.defaultChild="block",v.scope=l.Scope.BLOCK_BLOT,v.tagName="DIV",v}(_.default);t.default=d},function(s,t,c){var m=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])};return function(p,v){d(p,v);function g(){this.constructor=p}p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(18),l=c(1);function r(d,p){if(Object.keys(d).length!==Object.keys(p).length)return!1;for(var v in d)if(d[v]!==p[v])return!1;return!0}var i=function(d){m(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.formats=function(v){if(v.tagName!==p.tagName)return d.formats.call(this,v)},p.prototype.format=function(v,g){var w=this;v===this.statics.blotName&&!g?(this.children.forEach(function(y){y instanceof _.default||(y=y.wrap(p.blotName,!0)),w.attributes.copy(y)}),this.unwrap()):d.prototype.format.call(this,v,g)},p.prototype.formatAt=function(v,g,w,y){if(this.formats()[w]!=null||l.query(w,l.Scope.ATTRIBUTE)){var x=this.isolate(v,g);x.format(w,y)}else d.prototype.formatAt.call(this,v,g,w,y)},p.prototype.optimize=function(v){d.prototype.optimize.call(this,v);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var w=this.next;w instanceof p&&w.prev===this&&r(g,w.formats())&&(w.moveChildren(this),w.remove())},p.blotName="inline",p.scope=l.Scope.INLINE_BLOT,p.tagName="SPAN",p}(_.default);t.default=i},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(18),l=c(1),r=function(i){m(d,i);function d(){return i!==null&&i.apply(this,arguments)||this}return d.formats=function(p){var v=l.query(d.blotName).tagName;if(p.tagName!==v)return i.formats.call(this,p)},d.prototype.format=function(p,v){l.query(p,l.Scope.BLOCK)!=null&&(p===this.statics.blotName&&!v?this.replaceWith(d.blotName):i.prototype.format.call(this,p,v))},d.prototype.formatAt=function(p,v,g,w){l.query(g,l.Scope.BLOCK)!=null?this.format(g,w):i.prototype.formatAt.call(this,p,v,g,w)},d.prototype.insertAt=function(p,v,g){if(g==null||l.query(v,l.Scope.INLINE)!=null)i.prototype.insertAt.call(this,p,v,g);else{var w=this.split(p),y=l.create(v,g);w.parent.insertBefore(y,w)}},d.prototype.update=function(p,v){navigator.userAgent.match(/Trident/)?this.build():i.prototype.update.call(this,p,v)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(_.default);t.default=r},function(s,t,c){var m=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])};return function(i,d){r(i,d);function p(){this.constructor=i}i.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(19),l=function(r){m(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.formats=function(d){},i.prototype.format=function(d,p){r.prototype.formatAt.call(this,0,this.length(),d,p)},i.prototype.formatAt=function(d,p,v,g){d===0&&p===this.length()?this.format(v,g):r.prototype.formatAt.call(this,d,p,v,g)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(_.default);t.default=l},function(s,t,c){var m=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){i(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var _=c(19),l=c(1),r=function(i){m(d,i);function d(p){var v=i.call(this,p)||this;return v.text=v.statics.value(v.domNode),v}return d.create=function(p){return document.createTextNode(p)},d.value=function(p){var v=p.data;return v.normalize&&(v=v.normalize()),v},d.prototype.deleteAt=function(p,v){this.domNode.data=this.text=this.text.slice(0,p)+this.text.slice(p+v)},d.prototype.index=function(p,v){return this.domNode===p?v:-1},d.prototype.insertAt=function(p,v,g){g==null?(this.text=this.text.slice(0,p)+v+this.text.slice(p),this.domNode.data=this.text):i.prototype.insertAt.call(this,p,v,g)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(p){i.prototype.optimize.call(this,p),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(p,v){return[this.domNode,p]},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=l.create(this.domNode.splitText(p));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},d.prototype.update=function(p,v){var g=this;p.some(function(w){return w.type==="characterData"&&w.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(_.default);t.default=r},function(s,t,c){var m=document.createElement("div");if(m.classList.toggle("test-class",!1),m.classList.contains("test-class")){var _=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,r){return arguments.length>1&&!this.contains(l)==!r?r:_.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,r){return r=r||0,this.substr(r,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,r){var i=this.toString();(typeof r!="number"||!isFinite(r)||Math.floor(r)!==r||r>i.length)&&(r=i.length),r-=l.length;var d=i.indexOf(l,r);return d!==-1&&d===r}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("predicate must be a function");for(var i=Object(this),d=i.length>>>0,p=arguments[1],v,g=0;g<d;g++)if(v=i[g],r.call(p,v,g,i))return v}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,t){var c=-1,m=1,_=0;function l(k,I,V){if(k==I)return k?[[_,k]]:[];(V<0||k.length<V)&&(V=null);var B=p(k,I),L=k.substring(0,B);k=k.substring(B),I=I.substring(B),B=v(k,I);var F=k.substring(k.length-B);k=k.substring(0,k.length-B),I=I.substring(0,I.length-B);var T=r(k,I);return L&&T.unshift([_,L]),F&&T.push([_,F]),w(T),V!=null&&(T=C(T,V)),T=E(T),T}function r(k,I){var V;if(!k)return[[m,I]];if(!I)return[[c,k]];var B=k.length>I.length?k:I,L=k.length>I.length?I:k,F=B.indexOf(L);if(F!=-1)return V=[[m,B.substring(0,F)],[_,L],[m,B.substring(F+L.length)]],k.length>I.length&&(V[0][0]=V[2][0]=c),V;if(L.length==1)return[[c,k],[m,I]];var T=g(k,I);if(T){var P=T[0],R=T[1],O=T[2],N=T[3],S=T[4],U=l(P,O),W=l(R,N);return U.concat([[_,S]],W)}return i(k,I)}function i(k,I){for(var V=k.length,B=I.length,L=Math.ceil((V+B)/2),F=L,T=2*L,P=new Array(T),R=new Array(T),O=0;O<T;O++)P[O]=-1,R[O]=-1;P[F+1]=0,R[F+1]=0;for(var N=V-B,S=N%2!=0,U=0,W=0,oe=0,J=0,K=0;K<L;K++){for(var z=-K+U;z<=K-W;z+=2){var ae=F+z,we;z==-K||z!=K&&P[ae-1]<P[ae+1]?we=P[ae+1]:we=P[ae-1]+1;for(var Fe=we-z;we<V&&Fe<B&&k.charAt(we)==I.charAt(Fe);)we++,Fe++;if(P[ae]=we,we>V)W+=2;else if(Fe>B)U+=2;else if(S){var he=F+N-z;if(he>=0&&he<T&&R[he]!=-1){var re=V-R[he];if(we>=re)return d(k,I,we,Fe)}}}for(var $e=-K+oe;$e<=K-J;$e+=2){var he=F+$e,re;$e==-K||$e!=K&&R[he-1]<R[he+1]?re=R[he+1]:re=R[he-1]+1;for(var De=re-$e;re<V&&De<B&&k.charAt(V-re-1)==I.charAt(B-De-1);)re++,De++;if(R[he]=re,re>V)J+=2;else if(De>B)oe+=2;else if(!S){var ae=F+N-$e;if(ae>=0&&ae<T&&P[ae]!=-1){var we=P[ae],Fe=F+we-ae;if(re=V-re,we>=re)return d(k,I,we,Fe)}}}}return[[c,k],[m,I]]}function d(k,I,V,B){var L=k.substring(0,V),F=I.substring(0,B),T=k.substring(V),P=I.substring(B),R=l(L,F),O=l(T,P);return R.concat(O)}function p(k,I){if(!k||!I||k.charAt(0)!=I.charAt(0))return 0;for(var V=0,B=Math.min(k.length,I.length),L=B,F=0;V<L;)k.substring(F,L)==I.substring(F,L)?(V=L,F=V):B=L,L=Math.floor((B-V)/2+V);return L}function v(k,I){if(!k||!I||k.charAt(k.length-1)!=I.charAt(I.length-1))return 0;for(var V=0,B=Math.min(k.length,I.length),L=B,F=0;V<L;)k.substring(k.length-L,k.length-F)==I.substring(I.length-L,I.length-F)?(V=L,F=V):B=L,L=Math.floor((B-V)/2+V);return L}function g(k,I){var V=k.length>I.length?k:I,B=k.length>I.length?I:k;if(V.length<4||B.length*2<V.length)return null;function L(W,oe,J){for(var K=W.substring(J,J+Math.floor(W.length/4)),z=-1,ae="",we,Fe,he,re;(z=oe.indexOf(K,z+1))!=-1;){var $e=p(W.substring(J),oe.substring(z)),De=v(W.substring(0,J),oe.substring(0,z));ae.length<De+$e&&(ae=oe.substring(z-De,z)+oe.substring(z,z+$e),we=W.substring(0,J-De),Fe=W.substring(J+$e),he=oe.substring(0,z-De),re=oe.substring(z+$e))}return ae.length*2>=W.length?[we,Fe,he,re,ae]:null}var F=L(V,B,Math.ceil(V.length/4)),T=L(V,B,Math.ceil(V.length/2)),P;if(!F&&!T)return null;T?F?P=F[4].length>T[4].length?F:T:P=T:P=F;var R,O,N,S;k.length>I.length?(R=P[0],O=P[1],N=P[2],S=P[3]):(N=P[0],S=P[1],R=P[2],O=P[3]);var U=P[4];return[R,O,N,S,U]}function w(k){k.push([_,""]);for(var I=0,V=0,B=0,L="",F="",T;I<k.length;)switch(k[I][0]){case m:B++,F+=k[I][1],I++;break;case c:V++,L+=k[I][1],I++;break;case _:V+B>1?(V!==0&&B!==0&&(T=p(F,L),T!==0&&(I-V-B>0&&k[I-V-B-1][0]==_?k[I-V-B-1][1]+=F.substring(0,T):(k.splice(0,0,[_,F.substring(0,T)]),I++),F=F.substring(T),L=L.substring(T)),T=v(F,L),T!==0&&(k[I][1]=F.substring(F.length-T)+k[I][1],F=F.substring(0,F.length-T),L=L.substring(0,L.length-T))),V===0?k.splice(I-B,V+B,[m,F]):B===0?k.splice(I-V,V+B,[c,L]):k.splice(I-V-B,V+B,[c,L],[m,F]),I=I-V-B+(V?1:0)+(B?1:0)+1):I!==0&&k[I-1][0]==_?(k[I-1][1]+=k[I][1],k.splice(I,1)):I++,B=0,V=0,L="",F="";break}k[k.length-1][1]===""&&k.pop();var P=!1;for(I=1;I<k.length-1;)k[I-1][0]==_&&k[I+1][0]==_&&(k[I][1].substring(k[I][1].length-k[I-1][1].length)==k[I-1][1]?(k[I][1]=k[I-1][1]+k[I][1].substring(0,k[I][1].length-k[I-1][1].length),k[I+1][1]=k[I-1][1]+k[I+1][1],k.splice(I-1,1),P=!0):k[I][1].substring(0,k[I+1][1].length)==k[I+1][1]&&(k[I-1][1]+=k[I+1][1],k[I][1]=k[I][1].substring(k[I+1][1].length)+k[I+1][1],k.splice(I+1,1),P=!0)),I++;P&&w(k)}var y=l;y.INSERT=m,y.DELETE=c,y.EQUAL=_,s.exports=y;function x(k,I){if(I===0)return[_,k];for(var V=0,B=0;B<k.length;B++){var L=k[B];if(L[0]===c||L[0]===_){var F=V+L[1].length;if(I===F)return[B+1,k];if(I<F){k=k.slice();var T=I-V,P=[L[0],L[1].slice(0,T)],R=[L[0],L[1].slice(T)];return k.splice(B,1,P,R),[B+1,k]}else V=F}}throw new Error("cursor_pos is out of bounds!")}function C(k,I){var V=x(k,I),B=V[1],L=V[0],F=B[L],T=B[L+1];if(F==null)return k;if(F[0]!==_)return k;if(T!=null&&F[1]+T[1]===T[1]+F[1])return B.splice(L,2,T,F),D(B,L,2);if(T!=null&&T[1].indexOf(F[1])===0){B.splice(L,2,[T[0],F[1]],[0,F[1]]);var P=T[1].slice(F[1].length);return P.length>0&&B.splice(L+2,0,[T[0],P]),D(B,L,3)}else return k}function E(k){for(var I=!1,V=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},B=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},L=2;L<k.length;L+=1)k[L-2][0]===_&&B(k[L-2][1])&&k[L-1][0]===c&&V(k[L-1][1])&&k[L][0]===m&&V(k[L][1])&&(I=!0,k[L-1][1]=k[L-2][1].slice(-1)+k[L-1][1],k[L][1]=k[L-2][1].slice(-1)+k[L][1],k[L-2][1]=k[L-2][1].slice(0,-1));if(!I)return k;for(var F=[],L=0;L<k.length;L+=1)k[L][1].length>0&&F.push(k[L]);return F}function D(k,I,V){for(var B=I+V-1;B>=0&&B>=I-1;B--)if(B+1<k.length){var L=k[B],F=k[B+1];L[0]===F[1]&&k.splice(B,2,[L[0],L[1]+F[1]])}return k}},function(s,t){t=s.exports=typeof Object.keys=="function"?Object.keys:c,t.shim=c;function c(m){var _=[];for(var l in m)_.push(l);return _}},function(s,t){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";t=s.exports=c?m:_,t.supported=m;function m(l){return Object.prototype.toString.call(l)=="[object Arguments]"}t.unsupported=_;function _(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(s,t){var c=Object.prototype.hasOwnProperty,m="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(m=!1));function l(i,d,p){this.fn=i,this.context=d,this.once=p||!1}function r(){this._events=new _,this._eventsCount=0}r.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)c.call(p,v)&&d.push(m?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},r.prototype.listeners=function(d,p){var v=m?m+d:d,g=this._events[v];if(p)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var w=0,y=g.length,x=new Array(y);w<y;w++)x[w]=g[w].fn;return x},r.prototype.emit=function(d,p,v,g,w,y){var x=m?m+d:d;if(!this._events[x])return!1;var C=this._events[x],E=arguments.length,D,k;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),E){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,v),!0;case 4:return C.fn.call(C.context,p,v,g),!0;case 5:return C.fn.call(C.context,p,v,g,w),!0;case 6:return C.fn.call(C.context,p,v,g,w,y),!0}for(k=1,D=new Array(E-1);k<E;k++)D[k-1]=arguments[k];C.fn.apply(C.context,D)}else{var I=C.length,V;for(k=0;k<I;k++)switch(C[k].once&&this.removeListener(d,C[k].fn,void 0,!0),E){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,p);break;case 3:C[k].fn.call(C[k].context,p,v);break;case 4:C[k].fn.call(C[k].context,p,v,g);break;default:if(!D)for(V=1,D=new Array(E-1);V<E;V++)D[V-1]=arguments[V];C[k].fn.apply(C[k].context,D)}}return!0},r.prototype.on=function(d,p,v){var g=new l(p,v||this),w=m?m+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],g]:this._events[w].push(g):(this._events[w]=g,this._eventsCount++),this},r.prototype.once=function(d,p,v){var g=new l(p,v||this,!0),w=m?m+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],g]:this._events[w].push(g):(this._events[w]=g,this._eventsCount++),this},r.prototype.removeListener=function(d,p,v,g){var w=m?m+d:d;if(!this._events[w])return this;if(!p)return--this._eventsCount===0?this._events=new _:delete this._events[w],this;var y=this._events[w];if(y.fn)y.fn===p&&(!g||y.once)&&(!v||y.context===v)&&(--this._eventsCount===0?this._events=new _:delete this._events[w]);else{for(var x=0,C=[],E=y.length;x<E;x++)(y[x].fn!==p||g&&!y[x].once||v&&y[x].context!==v)&&C.push(y[x]);C.length?this._events[w]=C.length===1?C[0]:C:--this._eventsCount===0?this._events=new _:delete this._events[w]}return this},r.prototype.removeAllListeners=function(d){var p;return d?(p=m?m+d:d,this._events[p]&&(--this._eventsCount===0?this._events=new _:delete this._events[p])):(this._events=new _,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=m,r.EventEmitter=r,typeof s<"u"&&(s.exports=r)},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_=function(){function _e(Se,Ve){var ke=[],te=!0,Ce=!1,Ne=void 0;try{for(var Ie=Se[Symbol.iterator](),se;!(te=(se=Ie.next()).done)&&(ke.push(se.value),!(Ve&&ke.length===Ve));te=!0);}catch(fe){Ce=!0,Ne=fe}finally{try{!te&&Ie.return&&Ie.return()}finally{if(Ce)throw Ne}}return ke}return function(Se,Ve){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return _e(Se,Ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function _e(Se,Ve){for(var ke=0;ke<Ve.length;ke++){var te=Ve[ke];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Se,te.key,te)}}return function(Se,Ve,ke){return Ve&&_e(Se.prototype,Ve),ke&&_e(Se,ke),Se}}(),r=c(3),i=R(r),d=c(2),p=R(d),v=c(0),g=R(v),w=c(5),y=R(w),x=c(10),C=R(x),E=c(9),D=R(E),k=c(36),I=c(37),V=c(13),B=R(V),L=c(26),F=c(38),T=c(39),P=c(40);function R(_e){return _e&&_e.__esModule?_e:{default:_e}}function O(_e,Se,Ve){return Se in _e?Object.defineProperty(_e,Se,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):_e[Se]=Ve,_e}function N(_e,Se){if(!(_e instanceof Se))throw new TypeError("Cannot call a class as a function")}function S(_e,Se){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se&&(typeof Se=="object"||typeof Se=="function")?Se:_e}function U(_e,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Se);_e.prototype=Object.create(Se&&Se.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),Se&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,Se):_e.__proto__=Se)}var W=(0,C.default)("quill:clipboard"),oe="__ql-matcher",J=[[Node.TEXT_NODE,ge],[Node.TEXT_NODE,je],["br",be],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,ze],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Ye],["li",ue],["b",De.bind(De,"bold")],["i",De.bind(De,"italic")],["style",Me]],K=[k.AlignAttribute,F.DirectionAttribute].reduce(function(_e,Se){return _e[Se.keyName]=Se,_e},{}),z=[k.AlignStyle,I.BackgroundStyle,L.ColorStyle,F.DirectionStyle,T.FontStyle,P.SizeStyle].reduce(function(_e,Se){return _e[Se.keyName]=Se,_e},{}),ae=function(_e){U(Se,_e);function Se(Ve,ke){N(this,Se);var te=S(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,Ve,ke));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],J.concat(te.options.matchers).forEach(function(Ce){var Ne=_(Ce,2),Ie=Ne[0],se=Ne[1];!ke.matchVisual&&se===ze||te.addMatcher(Ie,se)}),te}return l(Se,[{key:"addMatcher",value:function(ke,te){this.matchers.push([ke,te])}},{key:"convert",value:function(ke){if(typeof ke=="string")return this.container.innerHTML=ke.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[B.default.blotName]){var Ce=this.container.innerText;return this.container.innerHTML="",new p.default().insert(Ce,O({},B.default.blotName,te[B.default.blotName]))}var Ne=this.prepareMatching(),Ie=_(Ne,2),se=Ie[0],fe=Ie[1],Le=$e(this.container,se,fe);return he(Le,`
`)&&Le.ops[Le.ops.length-1].attributes==null&&(Le=Le.compose(new p.default().retain(Le.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Le),this.container.innerHTML="",Le}},{key:"dangerouslyPasteHTML",value:function(ke,te){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ke=="string")this.quill.setContents(this.convert(ke),te),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ne=this.convert(te);this.quill.updateContents(new p.default().retain(ke).concat(Ne),Ce),this.quill.setSelection(ke+Ne.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ke){var te=this;if(!(ke.defaultPrevented||!this.quill.isEnabled())){var Ce=this.quill.getSelection(),Ne=new p.default().retain(Ce.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ne=Ne.concat(te.convert()).delete(Ce.length),te.quill.updateContents(Ne,y.default.sources.USER),te.quill.setSelection(Ne.length()-Ce.length,y.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=Ie,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ke=this,te=[],Ce=[];return this.matchers.forEach(function(Ne){var Ie=_(Ne,2),se=Ie[0],fe=Ie[1];switch(se){case Node.TEXT_NODE:Ce.push(fe);break;case Node.ELEMENT_NODE:te.push(fe);break;default:[].forEach.call(ke.container.querySelectorAll(se),function(Le){Le[oe]=Le[oe]||[],Le[oe].push(fe)});break}}),[te,Ce]}}]),Se}(D.default);ae.DEFAULTS={matchers:[],matchVisual:!0};function we(_e,Se,Ve){return(typeof Se>"u"?"undefined":m(Se))==="object"?Object.keys(Se).reduce(function(ke,te){return we(ke,te,Se[te])},_e):_e.reduce(function(ke,te){return te.attributes&&te.attributes[Se]?ke.push(te):ke.insert(te.insert,(0,i.default)({},O({},Se,Ve),te.attributes))},new p.default)}function Fe(_e){if(_e.nodeType!==Node.ELEMENT_NODE)return{};var Se="__ql-computed-style";return _e[Se]||(_e[Se]=window.getComputedStyle(_e))}function he(_e,Se){for(var Ve="",ke=_e.ops.length-1;ke>=0&&Ve.length<Se.length;--ke){var te=_e.ops[ke];if(typeof te.insert!="string")break;Ve=te.insert+Ve}return Ve.slice(-1*Se.length)===Se}function re(_e){if(_e.childNodes.length===0)return!1;var Se=Fe(_e);return["block","list-item"].indexOf(Se.display)>-1}function $e(_e,Se,Ve){return _e.nodeType===_e.TEXT_NODE?Ve.reduce(function(ke,te){return te(_e,ke)},new p.default):_e.nodeType===_e.ELEMENT_NODE?[].reduce.call(_e.childNodes||[],function(ke,te){var Ce=$e(te,Se,Ve);return te.nodeType===_e.ELEMENT_NODE&&(Ce=Se.reduce(function(Ne,Ie){return Ie(te,Ne)},Ce),Ce=(te[oe]||[]).reduce(function(Ne,Ie){return Ie(te,Ne)},Ce)),ke.concat(Ce)},new p.default):new p.default}function De(_e,Se,Ve){return we(Ve,_e,!0)}function ie(_e,Se){var Ve=g.default.Attributor.Attribute.keys(_e),ke=g.default.Attributor.Class.keys(_e),te=g.default.Attributor.Style.keys(_e),Ce={};return Ve.concat(ke).concat(te).forEach(function(Ne){var Ie=g.default.query(Ne,g.default.Scope.ATTRIBUTE);Ie!=null&&(Ce[Ie.attrName]=Ie.value(_e),Ce[Ie.attrName])||(Ie=K[Ne],Ie!=null&&(Ie.attrName===Ne||Ie.keyName===Ne)&&(Ce[Ie.attrName]=Ie.value(_e)||void 0),Ie=z[Ne],Ie!=null&&(Ie.attrName===Ne||Ie.keyName===Ne)&&(Ie=z[Ne],Ce[Ie.attrName]=Ie.value(_e)||void 0))}),Object.keys(Ce).length>0&&(Se=we(Se,Ce)),Se}function pe(_e,Se){var Ve=g.default.query(_e);if(Ve==null)return Se;if(Ve.prototype instanceof g.default.Embed){var ke={},te=Ve.value(_e);te!=null&&(ke[Ve.blotName]=te,Se=new p.default().insert(ke,Ve.formats(_e)))}else typeof Ve.formats=="function"&&(Se=we(Se,Ve.blotName,Ve.formats(_e)));return Se}function be(_e,Se){return he(Se,`
`)||Se.insert(`
`),Se}function Me(){return new p.default}function ue(_e,Se){var Ve=g.default.query(_e);if(Ve==null||Ve.blotName!=="list-item"||!he(Se,`
`))return Se;for(var ke=-1,te=_e.parentNode;!te.classList.contains("ql-clipboard");)(g.default.query(te)||{}).blotName==="list"&&(ke+=1),te=te.parentNode;return ke<=0?Se:Se.compose(new p.default().retain(Se.length()-1).retain(1,{indent:ke}))}function je(_e,Se){return he(Se,`
`)||(re(_e)||Se.length()>0&&_e.nextSibling&&re(_e.nextSibling))&&Se.insert(`
`),Se}function ze(_e,Se){if(re(_e)&&_e.nextElementSibling!=null&&!he(Se,`

`)){var Ve=_e.offsetHeight+parseFloat(Fe(_e).marginTop)+parseFloat(Fe(_e).marginBottom);_e.nextElementSibling.offsetTop>_e.offsetTop+Ve*1.5&&Se.insert(`
`)}return Se}function Ye(_e,Se){var Ve={},ke=_e.style||{};return ke.fontStyle&&Fe(_e).fontStyle==="italic"&&(Ve.italic=!0),ke.fontWeight&&(Fe(_e).fontWeight.startsWith("bold")||parseInt(Fe(_e).fontWeight)>=700)&&(Ve.bold=!0),Object.keys(Ve).length>0&&(Se=we(Se,Ve)),parseFloat(ke.textIndent||0)>0&&(Se=new p.default().insert("	").concat(Se)),Se}function ge(_e,Se){var Ve=_e.data;if(_e.parentNode.tagName==="O:P")return Se.insert(Ve.trim());if(Ve.trim().length===0&&_e.parentNode.classList.contains("ql-clipboard"))return Se;if(!Fe(_e.parentNode).whiteSpace.startsWith("pre")){var ke=function(Ce,Ne){return Ne=Ne.replace(/[^\u00a0]/g,""),Ne.length<1&&Ce?" ":Ne};Ve=Ve.replace(/\r\n/g," ").replace(/\n/g," "),Ve=Ve.replace(/\s\s+/g,ke.bind(ke,!0)),(_e.previousSibling==null&&re(_e.parentNode)||_e.previousSibling!=null&&re(_e.previousSibling))&&(Ve=Ve.replace(/^\s+/,ke.bind(ke,!1))),(_e.nextSibling==null&&re(_e.parentNode)||_e.nextSibling!=null&&re(_e.nextSibling))&&(Ve=Ve.replace(/\s+$/,ke.bind(ke,!1)))}return Se.insert(Ve)}t.default=ae,t.matchAttributor=ie,t.matchBlot=pe,t.matchNewline=je,t.matchSpacing=ze,t.matchText=ge},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function w(y,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,x,C){return x&&w(y.prototype,x),C&&w(y,C),y}}(),_=function w(y,x,C){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,x);if(E===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:w(D,x,C)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(C)}},l=c(6),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,[{key:"optimize",value:function(C){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,C),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return _(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(r.default);g.blotName="bold",g.tagName=["STRONG","B"],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var m=function(){function P(R,O){var N=[],S=!0,U=!1,W=void 0;try{for(var oe=R[Symbol.iterator](),J;!(S=(J=oe.next()).done)&&(N.push(J.value),!(O&&N.length===O));S=!0);}catch(K){U=!0,W=K}finally{try{!S&&oe.return&&oe.return()}finally{if(U)throw W}}return N}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function P(R,O){for(var N=0;N<O.length;N++){var S=O[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(R,S.key,S)}}return function(R,O,N){return O&&P(R.prototype,O),N&&P(R,N),R}}(),l=c(2),r=C(l),i=c(0),d=C(i),p=c(5),v=C(p),g=c(10),w=C(g),y=c(9),x=C(y);function C(P){return P&&P.__esModule?P:{default:P}}function E(P,R,O){return R in P?Object.defineProperty(P,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[R]=O,P}function D(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function k(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function I(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var V=(0,w.default)("quill:toolbar"),B=function(P){I(R,P);function R(O,N){D(this,R);var S=k(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O,N));if(Array.isArray(S.options.container)){var U=document.createElement("div");F(U,S.options.container),O.container.parentNode.insertBefore(U,O.container),S.container=U}else typeof S.options.container=="string"?S.container=document.querySelector(S.options.container):S.container=S.options.container;if(!(S.container instanceof HTMLElement)){var W;return W=V.error("Container required for toolbar",S.options),k(S,W)}return S.container.classList.add("ql-toolbar"),S.controls=[],S.handlers={},Object.keys(S.options.handlers).forEach(function(oe){S.addHandler(oe,S.options.handlers[oe])}),[].forEach.call(S.container.querySelectorAll("button, select"),function(oe){S.attach(oe)}),S.quill.on(v.default.events.EDITOR_CHANGE,function(oe,J){oe===v.default.events.SELECTION_CHANGE&&S.update(J)}),S.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){var oe=S.quill.selection.getRange(),J=m(oe,1),K=J[0];S.update(K)}),S}return _(R,[{key:"addHandler",value:function(N,S){this.handlers[N]=S}},{key:"attach",value:function(N){var S=this,U=[].find.call(N.classList,function(oe){return oe.indexOf("ql-")===0});if(U){if(U=U.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){V.warn("ignoring attaching to disabled format",U,N);return}if(d.default.query(U)==null){V.warn("ignoring attaching to nonexistent format",U,N);return}}var W=N.tagName==="SELECT"?"change":"click";N.addEventListener(W,function(oe){var J=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var K=N.options[N.selectedIndex];K.hasAttribute("selected")?J=!1:J=K.value||!1}else N.classList.contains("ql-active")?J=!1:J=N.value||!N.hasAttribute("value"),oe.preventDefault();S.quill.focus();var z=S.quill.selection.getRange(),ae=m(z,1),we=ae[0];if(S.handlers[U]!=null)S.handlers[U].call(S,J);else if(d.default.query(U).prototype instanceof d.default.Embed){if(J=prompt("Enter "+U),!J)return;S.quill.updateContents(new r.default().retain(we.index).delete(we.length).insert(E({},U,J)),v.default.sources.USER)}else S.quill.format(U,J,v.default.sources.USER);S.update(we)}),this.controls.push([U,N])}}},{key:"update",value:function(N){var S=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(U){var W=m(U,2),oe=W[0],J=W[1];if(J.tagName==="SELECT"){var K=void 0;if(N==null)K=null;else if(S[oe]==null)K=J.querySelector("option[selected]");else if(!Array.isArray(S[oe])){var z=S[oe];typeof z=="string"&&(z=z.replace(/\"/g,'\\"')),K=J.querySelector('option[value="'+z+'"]')}K==null?(J.value="",J.selectedIndex=-1):K.selected=!0}else if(N==null)J.classList.remove("ql-active");else if(J.hasAttribute("value")){var ae=S[oe]===J.getAttribute("value")||S[oe]!=null&&S[oe].toString()===J.getAttribute("value")||S[oe]==null&&!J.getAttribute("value");J.classList.toggle("ql-active",ae)}else J.classList.toggle("ql-active",S[oe]!=null)})}}]),R}(x.default);B.DEFAULTS={};function L(P,R,O){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+R),O!=null&&(N.value=O),P.appendChild(N)}function F(P,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(O){var N=document.createElement("span");N.classList.add("ql-formats"),O.forEach(function(S){if(typeof S=="string")L(N,S);else{var U=Object.keys(S)[0],W=S[U];Array.isArray(W)?T(N,U,W):L(N,U,W)}}),P.appendChild(N)})}function T(P,R,O){var N=document.createElement("select");N.classList.add("ql-"+R),O.forEach(function(S){var U=document.createElement("option");S!==!1?U.setAttribute("value",S):U.setAttribute("selected","selected"),N.appendChild(U)}),P.appendChild(N)}B.DEFAULTS={container:null,handlers:{clean:function(){var R=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(S){d.default.query(S,d.default.Scope.INLINE)!=null&&R.quill.format(S,!1)})}else this.quill.removeFormat(O,v.default.sources.USER)},direction:function(R){var O=this.quill.getFormat().align;R==="rtl"&&O==null?this.quill.format("align","right",v.default.sources.USER):!R&&O==="right"&&this.quill.format("align",!1,v.default.sources.USER),this.quill.format("direction",R,v.default.sources.USER)},indent:function(R){var O=this.quill.getSelection(),N=this.quill.getFormat(O),S=parseInt(N.indent||0);if(R==="+1"||R==="-1"){var U=R==="+1"?1:-1;N.direction==="rtl"&&(U*=-1),this.quill.format("indent",S+U,v.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,v.default.sources.USER)},list:function(R){var O=this.quill.getSelection(),N=this.quill.getFormat(O);R==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,v.default.sources.USER):this.quill.format("list","unchecked",v.default.sources.USER):this.quill.format("list",R,v.default.sources.USER)}}},t.default=B,t.addControls=F},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function w(y,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,x,C){return x&&w(y.prototype,x),C&&w(y,C),y}}(),_=function w(y,x,C){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,x);if(E===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:w(D,x,C)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(C)}},l=c(28),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(x,C){d(this,y);var E=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x));return E.label.innerHTML=C,E.container.classList.add("ql-color-picker"),[].slice.call(E.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(D){D.classList.add("ql-primary")}),E}return m(y,[{key:"buildItem",value:function(C){var E=_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,C);return E.style.backgroundColor=C.getAttribute("value")||"",E}},{key:"selectItem",value:function(C,E){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,C,E);var D=this.label.querySelector(".ql-color-label"),k=C&&C.getAttribute("data-value")||"";D&&(D.tagName==="line"?D.style.stroke=k:D.style.fill=k)}}]),y}(r.default);t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function w(y,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,x,C){return x&&w(y.prototype,x),C&&w(y,C),y}}(),_=function w(y,x,C){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,x);if(E===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:w(D,x,C)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(C)}},l=c(28),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(x,C){d(this,y);var E=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x));return E.container.classList.add("ql-icon-picker"),[].forEach.call(E.container.querySelectorAll(".ql-picker-item"),function(D){D.innerHTML=C[D.getAttribute("data-value")||""]}),E.defaultItem=E.container.querySelector(".ql-selected"),E.selectItem(E.defaultItem),E}return m(y,[{key:"selectItem",value:function(C,E){_(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,C,E),C=C||this.defaultItem,this.label.innerHTML=C.innerHTML}}]),y}(r.default);t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function r(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&r(i.prototype,d),p&&r(i,p),i}}();function _(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var l=function(){function r(i,d){var p=this;_(this,r),this.quill=i,this.boundsContainer=d||document.body,this.root=i.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){p.root.style.marginTop=-1*p.quill.root.scrollTop+"px"}),this.hide()}return m(r,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var p=d.left+d.width/2-this.root.offsetWidth/2,v=d.bottom+this.quill.root.scrollTop;this.root.style.left=p+"px",this.root.style.top=v+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),y=0;if(w.right>g.right&&(y=g.right-w.right,this.root.style.left=p+y+"px"),w.left<g.left&&(y=g.left-w.left,this.root.style.left=p+y+"px"),w.bottom>g.bottom){var x=w.bottom-w.top,C=d.bottom-d.top+x;this.root.style.top=v-C+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),r}();t.default=l},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function T(P,R){var O=[],N=!0,S=!1,U=void 0;try{for(var W=P[Symbol.iterator](),oe;!(N=(oe=W.next()).done)&&(O.push(oe.value),!(R&&O.length===R));N=!0);}catch(J){S=!0,U=J}finally{try{!N&&W.return&&W.return()}finally{if(S)throw U}}return O}return function(P,R){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function T(P,R,O){P===null&&(P=Function.prototype);var N=Object.getOwnPropertyDescriptor(P,R);if(N===void 0){var S=Object.getPrototypeOf(P);return S===null?void 0:T(S,R,O)}else{if("value"in N)return N.value;var U=N.get;return U===void 0?void 0:U.call(O)}},l=function(){function T(P,R){for(var O=0;O<R.length;O++){var N=R[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,R,O){return R&&T(P.prototype,R),O&&T(P,O),P}}(),r=c(3),i=D(r),d=c(8),p=D(d),v=c(43),g=D(v),w=c(27),y=D(w),x=c(15),C=c(41),E=D(C);function D(T){return T&&T.__esModule?T:{default:T}}function k(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function I(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function V(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var B=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],L=function(T){V(P,T);function P(R,O){k(this,P),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=B);var N=I(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,O));return N.quill.container.classList.add("ql-snow"),N}return l(P,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),E.default),this.tooltip=new F(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,S){O.handlers.link.call(O,!S.format.link)})}}]),P}(g.default);L.DEFAULTS=(0,i.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var R=this.quill.getSelection();if(R==null||R.length==0)return;var O=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var N=this.quill.theme.tooltip;N.edit("link",O)}else this.quill.format("link",!1)}}}}});var F=function(T){V(P,T);function P(R,O){k(this,P);var N=I(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,O));return N.preview=N.root.querySelector("a.ql-preview"),N}return l(P,[{key:"listen",value:function(){var O=this;_(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(O.linkRange!=null){var S=O.linkRange;O.restoreFocus(),O.quill.formatText(S,"link",!1,p.default.sources.USER),delete O.linkRange}N.preventDefault(),O.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(N,S,U){if(N!=null){if(N.length===0&&U===p.default.sources.USER){var W=O.quill.scroll.descendant(y.default,N.index),oe=m(W,2),J=oe[0],K=oe[1];if(J!=null){O.linkRange=new x.Range(N.index-K,J.length());var z=y.default.formats(J.domNode);O.preview.textContent=z,O.preview.setAttribute("href",z),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){_(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(v.BaseTooltip);F.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=L},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(29),_=te(m),l=c(36),r=c(38),i=c(64),d=c(65),p=te(d),v=c(66),g=te(v),w=c(67),y=te(w),x=c(37),C=c(26),E=c(39),D=c(40),k=c(56),I=te(k),V=c(68),B=te(V),L=c(27),F=te(L),T=c(69),P=te(T),R=c(70),O=te(R),N=c(71),S=te(N),U=c(72),W=te(U),oe=c(73),J=te(oe),K=c(13),z=te(K),ae=c(74),we=te(ae),Fe=c(75),he=te(Fe),re=c(57),$e=te(re),De=c(41),ie=te(De),pe=c(28),be=te(pe),Me=c(59),ue=te(Me),je=c(60),ze=te(je),Ye=c(61),ge=te(Ye),_e=c(108),Se=te(_e),Ve=c(62),ke=te(Ve);function te(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}_.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":C.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":E.FontClass,"attributors/class/size":D.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":C.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":E.FontStyle,"attributors/style/size":D.SizeStyle},!0),_.default.register({"formats/align":l.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":i.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":C.ColorStyle,"formats/font":E.FontClass,"formats/size":D.SizeClass,"formats/blockquote":p.default,"formats/code-block":z.default,"formats/header":g.default,"formats/list":y.default,"formats/bold":I.default,"formats/code":K.Code,"formats/italic":B.default,"formats/link":F.default,"formats/script":P.default,"formats/strike":O.default,"formats/underline":S.default,"formats/image":W.default,"formats/video":J.default,"formats/list/item":w.ListItem,"modules/formula":we.default,"modules/syntax":he.default,"modules/toolbar":$e.default,"themes/bubble":Se.default,"themes/snow":ke.default,"ui/icons":ie.default,"ui/picker":be.default,"ui/icon-picker":ze.default,"ui/color-picker":ue.default,"ui/tooltip":ge.default},!0),t.default=_.default},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var m=function(){function y(x,C){for(var E=0;E<C.length;E++){var D=C[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,C,E){return C&&y(x.prototype,C),E&&y(x,E),x}}(),_=function y(x,C,E){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,C);if(D===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:y(k,C,E)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(E)}},l=c(0),r=i(l);function i(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function v(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g=function(y){v(x,y);function x(){return d(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"add",value:function(E,D){if(D==="+1"||D==="-1"){var k=this.value(E)||0;D=D==="+1"?k+1:k-1}return D===0?(this.remove(E),!0):_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,E,D)}},{key:"canAdd",value:function(E,D){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,E,D)||_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,E,parseInt(D))}},{key:"value",value:function(E){return parseInt(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,E))||void 0}}]),x}(r.default.Attributor.Class),w=new g("indent","ql-indent",{scope:r.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=w},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(4),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="blockquote",p.tagName="blockquote",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function g(w,y){for(var x=0;x<y.length;x++){var C=y[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,y,x){return y&&g(w.prototype,y),x&&g(w,x),w}}(),_=c(4),l=r(_);function r(g){return g&&g.__esModule?g:{default:g}}function i(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function d(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function p(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var v=function(g){p(w,g);function w(){return i(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return m(w,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),w}(l.default);v.blotName="header",v.tagName=["H1","H2","H3","H4","H5","H6"],t.default=v},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var m=function(){function k(I,V){for(var B=0;B<V.length;B++){var L=V[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,V,B){return V&&k(I.prototype,V),B&&k(I,B),I}}(),_=function k(I,V,B){I===null&&(I=Function.prototype);var L=Object.getOwnPropertyDescriptor(I,V);if(L===void 0){var F=Object.getPrototypeOf(I);return F===null?void 0:k(F,V,B)}else{if("value"in L)return L.value;var T=L.get;return T===void 0?void 0:T.call(B)}},l=c(0),r=g(l),i=c(4),d=g(i),p=c(25),v=g(p);function g(k){return k&&k.__esModule?k:{default:k}}function w(k,I,V){return I in k?Object.defineProperty(k,I,{value:V,enumerable:!0,configurable:!0,writable:!0}):k[I]=V,k}function y(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function x(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function C(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var E=function(k){C(I,k);function I(){return y(this,I),x(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return m(I,[{key:"format",value:function(B,L){B===D.blotName&&!L?this.replaceWith(r.default.create(this.statics.scope)):_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,B,L)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(B,L){return this.parent.isolate(this.offset(this.parent),this.length()),B===this.parent.statics.blotName?(this.parent.replaceWith(B,L),this):(this.parent.unwrap(),_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,B,L))}}],[{key:"formats",value:function(B){return B.tagName===this.tagName?void 0:_(I.__proto__||Object.getPrototypeOf(I),"formats",this).call(this,B)}}]),I}(d.default);E.blotName="list-item",E.tagName="LI";var D=function(k){C(I,k),m(I,null,[{key:"create",value:function(B){var L=B==="ordered"?"OL":"UL",F=_(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,L);return(B==="checked"||B==="unchecked")&&F.setAttribute("data-checked",B==="checked"),F}},{key:"formats",value:function(B){if(B.tagName==="OL")return"ordered";if(B.tagName==="UL")return B.hasAttribute("data-checked")?B.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function I(V){y(this,I);var B=x(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,V)),L=function(T){if(T.target.parentNode===V){var P=B.statics.formats(V),R=r.default.find(T.target);P==="checked"?R.format("list","unchecked"):P==="unchecked"&&R.format("list","checked")}};return V.addEventListener("touchstart",L),V.addEventListener("mousedown",L),B}return m(I,[{key:"format",value:function(B,L){this.children.length>0&&this.children.tail.format(B,L)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(B,L){if(B instanceof E)_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,B,L);else{var F=L==null?this.length():L.offset(this),T=this.split(F);T.parent.insertBefore(B,T)}}},{key:"optimize",value:function(B){_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,B);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&L.domNode.tagName===this.domNode.tagName&&L.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(L.moveChildren(this),L.remove())}},{key:"replace",value:function(B){if(B.statics.blotName!==this.statics.blotName){var L=r.default.create(this.statics.defaultChild);B.moveChildren(L),this.appendChild(L)}_(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,B)}}]),I}(v.default);D.blotName="list",D.scope=r.default.Scope.BLOCK_BLOT,D.tagName=["OL","UL"],D.defaultChild="list-item",D.allowedChildren=[E],t.ListItem=E,t.default=D},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(56),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="italic",p.tagName=["EM","I"],t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function w(y,x){for(var C=0;C<x.length;C++){var E=x[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,x,C){return x&&w(y.prototype,x),C&&w(y,C),y}}(),_=function w(y,x,C){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,x);if(E===void 0){var D=Object.getPrototypeOf(y);return D===null?void 0:w(D,x,C)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(C)}},l=c(6),r=i(l);function i(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function p(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){v(y,w);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return m(y,null,[{key:"create",value:function(C){return C==="super"?document.createElement("sup"):C==="sub"?document.createElement("sub"):_(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,C)}},{key:"formats",value:function(C){if(C.tagName==="SUB")return"sub";if(C.tagName==="SUP")return"super"}}]),y}(r.default);g.blotName="script",g.tagName=["SUB","SUP"],t.default=g},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(6),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="strike",p.tagName="S",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=c(6),_=l(m);function l(v){return v&&v.__esModule?v:{default:v}}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return r(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(_.default);p.blotName="underline",p.tagName="U",t.default=p},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function x(C,E){for(var D=0;D<E.length;D++){var k=E[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,D){return E&&x(C.prototype,E),D&&x(C,D),C}}(),_=function x(C,E,D){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,E);if(k===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:x(I,E,D)}else{if("value"in k)return k.value;var V=k.get;return V===void 0?void 0:V.call(D)}},l=c(0),r=d(l),i=c(27);function d(x){return x&&x.__esModule?x:{default:x}}function p(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function v(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function g(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var w=["alt","height","width"],y=function(x){g(C,x);function C(){return p(this,C),v(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"format",value:function(D,k){w.indexOf(D)>-1?k?this.domNode.setAttribute(D,k):this.domNode.removeAttribute(D):_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,D,k)}}],[{key:"create",value:function(D){var k=_(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,D);return typeof D=="string"&&k.setAttribute("src",this.sanitize(D)),k}},{key:"formats",value:function(D){return w.reduce(function(k,I){return D.hasAttribute(I)&&(k[I]=D.getAttribute(I)),k},{})}},{key:"match",value:function(D){return/\.(jpe?g|gif|png)$/.test(D)||/^data:image\/.+;base64/.test(D)}},{key:"sanitize",value:function(D){return(0,i.sanitize)(D,["http","https","data"])?D:"//:0"}},{key:"value",value:function(D){return D.getAttribute("src")}}]),C}(r.default.Embed);y.blotName="image",y.tagName="IMG",t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function x(C,E){for(var D=0;D<E.length;D++){var k=E[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,D){return E&&x(C.prototype,E),D&&x(C,D),C}}(),_=function x(C,E,D){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,E);if(k===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:x(I,E,D)}else{if("value"in k)return k.value;var V=k.get;return V===void 0?void 0:V.call(D)}},l=c(4),r=c(27),i=d(r);function d(x){return x&&x.__esModule?x:{default:x}}function p(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function v(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function g(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var w=["height","width"],y=function(x){g(C,x);function C(){return p(this,C),v(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return m(C,[{key:"format",value:function(D,k){w.indexOf(D)>-1?k?this.domNode.setAttribute(D,k):this.domNode.removeAttribute(D):_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,D,k)}}],[{key:"create",value:function(D){var k=_(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,D);return k.setAttribute("frameborder","0"),k.setAttribute("allowfullscreen",!0),k.setAttribute("src",this.sanitize(D)),k}},{key:"formats",value:function(D){return w.reduce(function(k,I){return D.hasAttribute(I)&&(k[I]=D.getAttribute(I)),k},{})}},{key:"sanitize",value:function(D){return i.default.sanitize(D)}},{key:"value",value:function(D){return D.getAttribute("src")}}]),C}(l.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",t.default=y},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var m=function(){function D(k,I){for(var V=0;V<I.length;V++){var B=I[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,I,V){return I&&D(k.prototype,I),V&&D(k,V),k}}(),_=function D(k,I,V){k===null&&(k=Function.prototype);var B=Object.getOwnPropertyDescriptor(k,I);if(B===void 0){var L=Object.getPrototypeOf(k);return L===null?void 0:D(L,I,V)}else{if("value"in B)return B.value;var F=B.get;return F===void 0?void 0:F.call(V)}},l=c(35),r=g(l),i=c(5),d=g(i),p=c(9),v=g(p);function g(D){return D&&D.__esModule?D:{default:D}}function w(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function y(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:D}function x(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);D.prototype=Object.create(k&&k.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(D,k):D.__proto__=k)}var C=function(D){x(k,D);function k(){return w(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return m(k,null,[{key:"create",value:function(V){var B=_(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,V);return typeof V=="string"&&(window.katex.render(V,B,{throwOnError:!1,errorColor:"#f00"}),B.setAttribute("data-value",V)),B}},{key:"value",value:function(V){return V.getAttribute("data-value")}}]),k}(r.default);C.blotName="formula",C.className="ql-formula",C.tagName="SPAN";var E=function(D){x(k,D),m(k,null,[{key:"register",value:function(){d.default.register(C,!0)}}]);function k(){w(this,k);var I=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return k}(v.default);t.FormulaBlot=C,t.default=E},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var m=function(){function V(B,L){for(var F=0;F<L.length;F++){var T=L[F];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}return function(B,L,F){return L&&V(B.prototype,L),F&&V(B,F),B}}(),_=function V(B,L,F){B===null&&(B=Function.prototype);var T=Object.getOwnPropertyDescriptor(B,L);if(T===void 0){var P=Object.getPrototypeOf(B);return P===null?void 0:V(P,L,F)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(F)}},l=c(0),r=y(l),i=c(5),d=y(i),p=c(9),v=y(p),g=c(13),w=y(g);function y(V){return V&&V.__esModule?V:{default:V}}function x(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function C(V,B){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:V}function E(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(V,B):V.__proto__=B)}var D=function(V){E(B,V);function B(){return x(this,B),C(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return m(B,[{key:"replaceWith",value:function(F){this.domNode.textContent=this.domNode.textContent,this.attach(),_(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"replaceWith",this).call(this,F)}},{key:"highlight",value:function(F){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=F(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),B}(w.default);D.className="ql-syntax";var k=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),I=function(V){E(B,V),m(B,null,[{key:"register",value:function(){d.default.register(k,!0),d.default.register(D,!0)}}]);function B(L,F){x(this,B);var T=C(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,L,F));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){T.highlight(),P=null},T.options.interval)}),T.highlight(),T}return m(B,[{key:"highlight",value:function(){var F=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(D).forEach(function(P){P.highlight(F.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),B}(v.default);I.DEFAULTS={highlight:function(){return window.hljs==null?null:function(V){var B=window.hljs.highlightAuto(V);return B.value}}(),interval:1e3},t.CodeBlock=D,t.CodeToken=k,t.default=I},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,t){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,t){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,t){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,t){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,t){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,t,c){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var m=function B(L,F,T){L===null&&(L=Function.prototype);var P=Object.getOwnPropertyDescriptor(L,F);if(P===void 0){var R=Object.getPrototypeOf(L);return R===null?void 0:B(R,F,T)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(T)}},_=function(){function B(L,F){for(var T=0;T<F.length;T++){var P=F[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(L,P.key,P)}}return function(L,F,T){return F&&B(L.prototype,F),T&&B(L,T),L}}(),l=c(3),r=x(l),i=c(8),d=x(i),p=c(43),v=x(p),g=c(15),w=c(41),y=x(w);function x(B){return B&&B.__esModule?B:{default:B}}function C(B,L){if(!(B instanceof L))throw new TypeError("Cannot call a class as a function")}function E(B,L){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:B}function D(B,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);B.prototype=Object.create(L&&L.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(B,L):B.__proto__=L)}var k=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(B){D(L,B);function L(F,T){C(this,L),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=k);var P=E(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,F,T));return P.quill.container.classList.add("ql-bubble"),P}return _(L,[{key:"extendToolbar",value:function(T){this.tooltip=new V(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default)}}]),L}(v.default);I.DEFAULTS=(0,r.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(L){L?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var V=function(B){D(L,B);function L(F,T){C(this,L);var P=E(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,F,T));return P.quill.on(d.default.events.EDITOR_CHANGE,function(R,O,N,S){if(R===d.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&S===d.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var U=P.quill.getLines(O.index,O.length);if(U.length===1)P.position(P.quill.getBounds(O));else{var W=U[U.length-1],oe=P.quill.getIndex(W),J=Math.min(W.length()-1,O.index+O.length-oe),K=P.quill.getBounds(new g.Range(oe,J));P.position(K)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return _(L,[{key:"listen",value:function(){var T=this;m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var P=T.quill.getSelection();P!=null&&T.position(T.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var P=m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"position",this).call(this,T),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",P===0)return P;R.style.marginLeft=-1*P-R.offsetWidth/2+"px"}}]),L}(p.BaseTooltip);V.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=V,t.default=I},function(s,t,c){s.exports=c(63)}]).default})})(H5);var PEe=H5.exports;const vv=Bh(PEe);var fs=-1,Jn=1,Ja=0;function km(o,a,s,t){if(o===a)return o?[[Ja,o]]:[];if(s!=null){var c=SEe(o,a,s);if(c)return c}var m=O1(o,a),_=o.substring(0,m);o=o.substring(m),a=a.substring(m),m=M1(o,a);var l=o.substring(o.length-m);o=o.substring(0,o.length-m),a=a.substring(0,a.length-m);var r=EEe(o,a);return _&&r.unshift([Ja,_]),l&&r.push([Ja,l]),z5(r,t),r}function EEe(o,a){var s;if(!o)return[[Jn,a]];if(!a)return[[fs,o]];var t=o.length>a.length?o:a,c=o.length>a.length?a:o,m=t.indexOf(c);if(m!==-1)return s=[[Jn,t.substring(0,m)],[Ja,c],[Jn,t.substring(m+c.length)]],o.length>a.length&&(s[0][0]=s[2][0]=fs),s;if(c.length===1)return[[fs,o],[Jn,a]];var _=IEe(o,a);if(_){var l=_[0],r=_[1],i=_[2],d=_[3],p=_[4],v=km(l,i),g=km(r,d);return v.concat([[Ja,p]],g)}return AEe(o,a)}function AEe(o,a){for(var s=o.length,t=a.length,c=Math.ceil((s+t)/2),m=c,_=2*c,l=new Array(_),r=new Array(_),i=0;i<_;i++)l[i]=-1,r[i]=-1;l[m+1]=0,r[m+1]=0;for(var d=s-t,p=d%2!==0,v=0,g=0,w=0,y=0,x=0;x<c;x++){for(var C=-x+v;C<=x-g;C+=2){var E=m+C,D;C===-x||C!==x&&l[E-1]<l[E+1]?D=l[E+1]:D=l[E-1]+1;for(var k=D-C;D<s&&k<t&&o.charAt(D)===a.charAt(k);)D++,k++;if(l[E]=D,D>s)g+=2;else if(k>t)v+=2;else if(p){var I=m+d-C;if(I>=0&&I<_&&r[I]!==-1){var V=s-r[I];if(D>=V)return E0(o,a,D,k)}}}for(var B=-x+w;B<=x-y;B+=2){var I=m+B,V;B===-x||B!==x&&r[I-1]<r[I+1]?V=r[I+1]:V=r[I-1]+1;for(var L=V-B;V<s&&L<t&&o.charAt(s-V-1)===a.charAt(t-L-1);)V++,L++;if(r[I]=V,V>s)y+=2;else if(L>t)w+=2;else if(!p){var E=m+d-B;if(E>=0&&E<_&&l[E]!==-1){var D=l[E],k=m+D-E;if(V=s-V,D>=V)return E0(o,a,D,k)}}}}return[[fs,o],[Jn,a]]}function E0(o,a,s,t){var c=o.substring(0,s),m=a.substring(0,t),_=o.substring(s),l=a.substring(t),r=km(c,m),i=km(_,l);return r.concat(i)}function O1(o,a){if(!o||!a||o.charAt(0)!==a.charAt(0))return 0;for(var s=0,t=Math.min(o.length,a.length),c=t,m=0;s<c;)o.substring(m,c)==a.substring(m,c)?(s=c,m=s):t=c,c=Math.floor((t-s)/2+s);return W5(o.charCodeAt(c-1))&&c--,c}function M1(o,a){if(!o||!a||o.slice(-1)!==a.slice(-1))return 0;for(var s=0,t=Math.min(o.length,a.length),c=t,m=0;s<c;)o.substring(o.length-c,o.length-m)==a.substring(a.length-c,a.length-m)?(s=c,m=s):t=c,c=Math.floor((t-s)/2+s);return K5(o.charCodeAt(o.length-c))&&c--,c}function IEe(o,a){var s=o.length>a.length?o:a,t=o.length>a.length?a:o;if(s.length<4||t.length*2<s.length)return null;function c(g,w,y){for(var x=g.substring(y,y+Math.floor(g.length/4)),C=-1,E="",D,k,I,V;(C=w.indexOf(x,C+1))!==-1;){var B=O1(g.substring(y),w.substring(C)),L=M1(g.substring(0,y),w.substring(0,C));E.length<L+B&&(E=w.substring(C-L,C)+w.substring(C,C+B),D=g.substring(0,y-L),k=g.substring(y+B),I=w.substring(0,C-L),V=w.substring(C+B))}return E.length*2>=g.length?[D,k,I,V,E]:null}var m=c(s,t,Math.ceil(s.length/4)),_=c(s,t,Math.ceil(s.length/2)),l;if(!m&&!_)return null;_?m?l=m[4].length>_[4].length?m:_:l=_:l=m;var r,i,d,p;o.length>a.length?(r=l[0],i=l[1],d=l[2],p=l[3]):(d=l[0],p=l[1],r=l[2],i=l[3]);var v=l[4];return[r,i,d,p,v]}function z5(o,a){o.push([Ja,""]);for(var s=0,t=0,c=0,m="",_="",l;s<o.length;){if(s<o.length-1&&!o[s][1]){o.splice(s,1);continue}switch(o[s][0]){case Jn:c++,_+=o[s][1],s++;break;case fs:t++,m+=o[s][1],s++;break;case Ja:var r=s-c-t-1;if(a){if(r>=0&&Q5(o[r][1])){var i=o[r][1].slice(-1);if(o[r][1]=o[r][1].slice(0,-1),m=i+m,_=i+_,!o[r][1]){o.splice(r,1),s--;var d=r-1;o[d]&&o[d][0]===Jn&&(c++,_=o[d][1]+_,d--),o[d]&&o[d][0]===fs&&(t++,m=o[d][1]+m,d--),r=d}}if(G5(o[s][1])){var i=o[s][1].charAt(0);o[s][1]=o[s][1].slice(1),m+=i,_+=i}}if(s<o.length-1&&!o[s][1]){o.splice(s,1);break}if(m.length>0||_.length>0){m.length>0&&_.length>0&&(l=O1(_,m),l!==0&&(r>=0?o[r][1]+=_.substring(0,l):(o.splice(0,0,[Ja,_.substring(0,l)]),s++),_=_.substring(l),m=m.substring(l)),l=M1(_,m),l!==0&&(o[s][1]=_.substring(_.length-l)+o[s][1],_=_.substring(0,_.length-l),m=m.substring(0,m.length-l)));var p=c+t;m.length===0&&_.length===0?(o.splice(s-p,p),s=s-p):m.length===0?(o.splice(s-p,p,[Jn,_]),s=s-p+1):_.length===0?(o.splice(s-p,p,[fs,m]),s=s-p+1):(o.splice(s-p,p,[fs,m],[Jn,_]),s=s-p+2)}s!==0&&o[s-1][0]===Ja?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,c=0,t=0,m="",_="";break}}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]===Ja&&o[s+1][0]===Ja&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)===o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&z5(o,a)}function W5(o){return o>=55296&&o<=56319}function K5(o){return o>=56320&&o<=57343}function G5(o){return K5(o.charCodeAt(0))}function Q5(o){return W5(o.charCodeAt(o.length-1))}function REe(o){for(var a=[],s=0;s<o.length;s++)o[s][1].length>0&&a.push(o[s]);return a}function gv(o,a,s,t){return Q5(o)||G5(t)?null:REe([[Ja,o],[fs,a],[Jn,s],[Ja,t]])}function SEe(o,a,s){var t=typeof s=="number"?{index:s,length:0}:s.oldRange,c=typeof s=="number"?null:s.newRange,m=o.length,_=a.length;if(t.length===0&&(c===null||c.length===0)){var l=t.index,r=o.slice(0,l),i=o.slice(l),d=c?c.index:null;e:{var p=l+_-m;if(d!==null&&d!==p||p<0||p>_)break e;var v=a.slice(0,p),g=a.slice(p);if(g!==i)break e;var w=Math.min(l,p),y=r.slice(0,w),x=v.slice(0,w);if(y!==x)break e;var C=r.slice(w),E=v.slice(w);return gv(y,C,E,i)}e:{if(d!==null&&d!==l)break e;var D=l,v=a.slice(0,D),g=a.slice(D);if(v!==r)break e;var k=Math.min(m-D,_-D),I=i.slice(i.length-k),V=g.slice(g.length-k);if(I!==V)break e;var C=i.slice(0,i.length-k),E=g.slice(0,g.length-k);return gv(r,C,E,I)}}if(t.length>0&&c&&c.length===0)e:{var y=o.slice(0,t.index),I=o.slice(t.index+t.length),w=y.length,k=I.length;if(_<w+k)break e;var x=a.slice(0,w),V=a.slice(_-k);if(y!==x||I!==V)break e;var C=o.slice(w,m-k),E=a.slice(w,_-k);return gv(y,C,E,I)}return null}function dp(o,a,s){return km(o,a,s,!0)}dp.INSERT=Jn;dp.DELETE=fs;dp.EQUAL=Ja;var TEe=dp,hh={exports:{}};hh.exports;(function(o,a){var s=200,t="__lodash_hash_undefined__",c=9007199254740991,m="[object Arguments]",_="[object Array]",l="[object Boolean]",r="[object Date]",i="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",w="[object Object]",y="[object Promise]",x="[object RegExp]",C="[object Set]",E="[object String]",D="[object Symbol]",k="[object WeakMap]",I="[object ArrayBuffer]",V="[object DataView]",B="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",R="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",S="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,oe=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,K={};K[m]=K[_]=K[I]=K[V]=K[l]=K[r]=K[B]=K[L]=K[F]=K[T]=K[P]=K[v]=K[g]=K[w]=K[x]=K[C]=K[E]=K[D]=K[R]=K[O]=K[N]=K[S]=!0,K[i]=K[d]=K[k]=!1;var z=typeof va=="object"&&va&&va.Object===Object&&va,ae=typeof self=="object"&&self&&self.Object===Object&&self,we=z||ae||Function("return this")(),Fe=a&&!a.nodeType&&a,he=Fe&&!0&&o&&!o.nodeType&&o,re=he&&he.exports===Fe;function $e(Z,Ae){return Z.set(Ae[0],Ae[1]),Z}function De(Z,Ae){return Z.add(Ae),Z}function ie(Z,Ae){for(var qe=-1,ft=Z?Z.length:0;++qe<ft&&Ae(Z[qe],qe,Z)!==!1;);return Z}function pe(Z,Ae){for(var qe=-1,ft=Ae.length,to=Z.length;++qe<ft;)Z[to+qe]=Ae[qe];return Z}function be(Z,Ae,qe,ft){var to=-1,zt=Z?Z.length:0;for(ft&&zt&&(qe=Z[++to]);++to<zt;)qe=Ae(qe,Z[to],to,Z);return qe}function Me(Z,Ae){for(var qe=-1,ft=Array(Z);++qe<Z;)ft[qe]=Ae(qe);return ft}function ue(Z,Ae){return Z==null?void 0:Z[Ae]}function je(Z){var Ae=!1;if(Z!=null&&typeof Z.toString!="function")try{Ae=!!(Z+"")}catch{}return Ae}function ze(Z){var Ae=-1,qe=Array(Z.size);return Z.forEach(function(ft,to){qe[++Ae]=[to,ft]}),qe}function Ye(Z,Ae){return function(qe){return Z(Ae(qe))}}function ge(Z){var Ae=-1,qe=Array(Z.size);return Z.forEach(function(ft){qe[++Ae]=ft}),qe}var _e=Array.prototype,Se=Function.prototype,Ve=Object.prototype,ke=we["__core-js_shared__"],te=function(){var Z=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),Ce=Se.toString,Ne=Ve.hasOwnProperty,Ie=Ve.toString,se=RegExp("^"+Ce.call(Ne).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=re?we.Buffer:void 0,Le=we.Symbol,Ze=we.Uint8Array,at=Ye(Object.getPrototypeOf,Object),mt=Object.create,wt=Ve.propertyIsEnumerable,Ot=_e.splice,Jt=Object.getOwnPropertySymbols,ut=fe?fe.isBuffer:void 0,gt=Ye(Object.keys,Object),Vt=nn(we,"DataView"),pt=nn(we,"Map"),Et=nn(we,"Promise"),Dt=nn(we,"Set"),Ft=nn(we,"WeakMap"),Kt=nn(Object,"create"),ro=ha(Vt),Pe=ha(pt),Te=ha(Et),Ge=ha(Dt),nt=ha(Ft),yt=Le?Le.prototype:void 0,xt=yt?yt.valueOf:void 0;function Ut(Z){var Ae=-1,qe=Z?Z.length:0;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function Tt(){this.__data__=Kt?Kt(null):{}}function Gt(Z){return this.has(Z)&&delete this.__data__[Z]}function ct(Z){var Ae=this.__data__;if(Kt){var qe=Ae[Z];return qe===t?void 0:qe}return Ne.call(Ae,Z)?Ae[Z]:void 0}function Ht(Z){var Ae=this.__data__;return Kt?Ae[Z]!==void 0:Ne.call(Ae,Z)}function kt(Z,Ae){var qe=this.__data__;return qe[Z]=Kt&&Ae===void 0?t:Ae,this}Ut.prototype.clear=Tt,Ut.prototype.delete=Gt,Ut.prototype.get=ct,Ut.prototype.has=Ht,Ut.prototype.set=kt;function dt(Z){var Ae=-1,qe=Z?Z.length:0;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function Oe(){this.__data__=[]}function ye(Z){var Ae=this.__data__,qe=tl(Ae,Z);if(qe<0)return!1;var ft=Ae.length-1;return qe==ft?Ae.pop():Ot.call(Ae,qe,1),!0}function He(Z){var Ae=this.__data__,qe=tl(Ae,Z);return qe<0?void 0:Ae[qe][1]}function Nt(Z){return tl(this.__data__,Z)>-1}function it(Z,Ae){var qe=this.__data__,ft=tl(qe,Z);return ft<0?qe.push([Z,Ae]):qe[ft][1]=Ae,this}dt.prototype.clear=Oe,dt.prototype.delete=ye,dt.prototype.get=He,dt.prototype.has=Nt,dt.prototype.set=it;function _t(Z){var Ae=-1,qe=Z?Z.length:0;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function tt(){this.__data__={hash:new Ut,map:new(pt||dt),string:new Ut}}function ve(Z){return ba(this,Z).delete(Z)}function Re(Z){return ba(this,Z).get(Z)}function vt(Z){return ba(this,Z).has(Z)}function Rt(Z,Ae){return ba(this,Z).set(Z,Ae),this}_t.prototype.clear=tt,_t.prototype.delete=ve,_t.prototype.get=Re,_t.prototype.has=vt,_t.prototype.set=Rt;function eo(Z){this.__data__=new dt(Z)}function jt(){this.__data__=new dt}function Mn(Z){return this.__data__.delete(Z)}function Mt(Z){return this.__data__.get(Z)}function ys(Z){return this.__data__.has(Z)}function ld(Z,Ae){var qe=this.__data__;if(qe instanceof dt){var ft=qe.__data__;if(!pt||ft.length<s-1)return ft.push([Z,Ae]),this;qe=this.__data__=new _t(ft)}return qe.set(Z,Ae),this}eo.prototype.clear=jt,eo.prototype.delete=Mn,eo.prototype.get=Mt,eo.prototype.has=ys,eo.prototype.set=ld;function ks(Z,Ae){var qe=Yl(Z)||al(Z)?Me(Z.length,String):[],ft=qe.length,to=!!ft;for(var zt in Z)(Ae||Ne.call(Z,zt))&&!(to&&(zt=="length"||fd(zt,ft)))&&qe.push(zt);return qe}function Ol(Z,Ae,qe){var ft=Z[Ae];(!(Ne.call(Z,Ae)&&xi(ft,qe))||qe===void 0&&!(Ae in Z))&&(Z[Ae]=qe)}function tl(Z,Ae){for(var qe=Z.length;qe--;)if(xi(Z[qe][0],Ae))return qe;return-1}function yn(Z,Ae){return Z&&rs(Ae,Bl(Ae),Z)}function Ml(Z,Ae,qe,ft,to,zt,fo){var go;if(ft&&(go=zt?ft(Z,to,zt,fo):ft(Z)),go!==void 0)return go;if(!$n(Z))return Z;var Qo=Yl(Z);if(Qo){if(go=_d(Z),!Ae)return ws(Z,go)}else{var xo=Nn(Z),na=xo==d||xo==p;if(Ci(Z))return ol(Z,Ae);if(xo==w||xo==m||na&&!zt){if(je(Z))return zt?Z:{};if(go=kn(na?{}:Z),!Ae)return $i(Z,yn(go,Z))}else{if(!K[xo])return zt?Z:{};go=md(Z,xo,Ml,Ae)}}fo||(fo=new eo);var co=fo.get(Z);if(co)return co;if(fo.set(Z,go),!Qo)var Vo=qe?Ds(Z):Bl(Z);return ie(Vo||Z,function(Zo,sa){Vo&&(sa=Zo,Zo=Z[sa]),Ol(go,sa,Ml(Zo,Ae,qe,ft,sa,Z,fo))}),go}function id(Z){return $n(Z)?mt(Z):{}}function rd(Z,Ae,qe){var ft=Ae(Z);return Yl(Z)?ft:pe(ft,qe(Z))}function dd(Z){return Ie.call(Z)}function bi(Z){if(!$n(Z)||Fl(Z))return!1;var Ae=Vl(Z)||je(Z)?se:oe;return Ae.test(ha(Z))}function yi(Z){if(!wi(Z))return gt(Z);var Ae=[];for(var qe in Object(Z))Ne.call(Z,qe)&&qe!="constructor"&&Ae.push(qe);return Ae}function ol(Z,Ae){if(Ae)return Z.slice();var qe=new Z.constructor(Z.length);return Z.copy(qe),qe}function Ll(Z){var Ae=new Z.constructor(Z.byteLength);return new Ze(Ae).set(new Ze(Z)),Ae}function $s(Z,Ae){var qe=Ae?Ll(Z.buffer):Z.buffer;return new Z.constructor(qe,Z.byteOffset,Z.byteLength)}function Nl(Z,Ae,qe){var ft=Ae?qe(ze(Z),!0):ze(Z);return be(ft,$e,new Z.constructor)}function is(Z){var Ae=new Z.constructor(Z.source,W.exec(Z));return Ae.lastIndex=Z.lastIndex,Ae}function ki(Z,Ae,qe){var ft=Ae?qe(ge(Z),!0):ge(Z);return be(ft,De,new Z.constructor)}function cd(Z){return xt?Object(xt.call(Z)):{}}function ud(Z,Ae){var qe=Ae?Ll(Z.buffer):Z.buffer;return new Z.constructor(qe,Z.byteOffset,Z.length)}function ws(Z,Ae){var qe=-1,ft=Z.length;for(Ae||(Ae=Array(ft));++qe<ft;)Ae[qe]=Z[qe];return Ae}function rs(Z,Ae,qe,ft){qe||(qe={});for(var to=-1,zt=Ae.length;++to<zt;){var fo=Ae[to],go=ft?ft(qe[fo],Z[fo],fo,qe,Z):void 0;Ol(qe,fo,go===void 0?Z[fo]:go)}return qe}function $i(Z,Ae){return rs(Z,Ln(Z),Ae)}function Ds(Z){return rd(Z,Bl,Ln)}function ba(Z,Ae){var qe=Z.__data__;return hd(Ae)?qe[typeof Ae=="string"?"string":"hash"]:qe.map}function nn(Z,Ae){var qe=ue(Z,Ae);return bi(qe)?qe:void 0}var Ln=Jt?Ye(Jt,Object):vd,Nn=dd;(Vt&&Nn(new Vt(new ArrayBuffer(1)))!=V||pt&&Nn(new pt)!=v||Et&&Nn(Et.resolve())!=y||Dt&&Nn(new Dt)!=C||Ft&&Nn(new Ft)!=k)&&(Nn=function(Z){var Ae=Ie.call(Z),qe=Ae==w?Z.constructor:void 0,ft=qe?ha(qe):void 0;if(ft)switch(ft){case ro:return V;case Pe:return v;case Te:return y;case Ge:return C;case nt:return k}return Ae});function _d(Z){var Ae=Z.length,qe=Z.constructor(Ae);return Ae&&typeof Z[0]=="string"&&Ne.call(Z,"index")&&(qe.index=Z.index,qe.input=Z.input),qe}function kn(Z){return typeof Z.constructor=="function"&&!wi(Z)?id(at(Z)):{}}function md(Z,Ae,qe,ft){var to=Z.constructor;switch(Ae){case I:return Ll(Z);case l:case r:return new to(+Z);case V:return $s(Z,ft);case B:case L:case F:case T:case P:case R:case O:case N:case S:return ud(Z,ft);case v:return Nl(Z,ft,qe);case g:case E:return new to(Z);case x:return is(Z);case C:return ki(Z,ft,qe);case D:return cd(Z)}}function fd(Z,Ae){return Ae=Ae??c,!!Ae&&(typeof Z=="number"||J.test(Z))&&Z>-1&&Z%1==0&&Z<Ae}function hd(Z){var Ae=typeof Z;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?Z!=="__proto__":Z===null}function Fl(Z){return!!te&&te in Z}function wi(Z){var Ae=Z&&Z.constructor,qe=typeof Ae=="function"&&Ae.prototype||Ve;return Z===qe}function ha(Z){if(Z!=null){try{return Ce.call(Z)}catch{}try{return Z+""}catch{}}return""}function Di(Z){return Ml(Z,!0,!0)}function xi(Z,Ae){return Z===Ae||Z!==Z&&Ae!==Ae}function al(Z){return pd(Z)&&Ne.call(Z,"callee")&&(!wt.call(Z,"callee")||Ie.call(Z)==m)}var Yl=Array.isArray;function nl(Z){return Z!=null&&Pi(Z.length)&&!Vl(Z)}function pd(Z){return Ei(Z)&&nl(Z)}var Ci=ut||gd;function Vl(Z){var Ae=$n(Z)?Ie.call(Z):"";return Ae==d||Ae==p}function Pi(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=c}function $n(Z){var Ae=typeof Z;return!!Z&&(Ae=="object"||Ae=="function")}function Ei(Z){return!!Z&&typeof Z=="object"}function Bl(Z){return nl(Z)?ks(Z):yi(Z)}function vd(){return[]}function gd(){return!1}o.exports=Di})(hh,hh.exports);var Z5=hh.exports,ph={exports:{}};ph.exports;(function(o,a){var s=200,t="__lodash_hash_undefined__",c=1,m=2,_=9007199254740991,l="[object Arguments]",r="[object Array]",i="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",v="[object Error]",g="[object Function]",w="[object GeneratorFunction]",y="[object Map]",x="[object Number]",C="[object Null]",E="[object Object]",D="[object Promise]",k="[object Proxy]",I="[object RegExp]",V="[object Set]",B="[object String]",L="[object Symbol]",F="[object Undefined]",T="[object WeakMap]",P="[object ArrayBuffer]",R="[object DataView]",O="[object Float32Array]",N="[object Float64Array]",S="[object Int8Array]",U="[object Int16Array]",W="[object Int32Array]",oe="[object Uint8Array]",J="[object Uint8ClampedArray]",K="[object Uint16Array]",z="[object Uint32Array]",ae=/[\\^$.*+?()[\]{}|]/g,we=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,he={};he[O]=he[N]=he[S]=he[U]=he[W]=he[oe]=he[J]=he[K]=he[z]=!0,he[l]=he[r]=he[P]=he[d]=he[R]=he[p]=he[v]=he[g]=he[y]=he[x]=he[E]=he[I]=he[V]=he[B]=he[T]=!1;var re=typeof va=="object"&&va&&va.Object===Object&&va,$e=typeof self=="object"&&self&&self.Object===Object&&self,De=re||$e||Function("return this")(),ie=a&&!a.nodeType&&a,pe=ie&&!0&&o&&!o.nodeType&&o,be=pe&&pe.exports===ie,Me=be&&re.process,ue=function(){try{return Me&&Me.binding&&Me.binding("util")}catch{}}(),je=ue&&ue.isTypedArray;function ze(Z,Ae){for(var qe=-1,ft=Z==null?0:Z.length,to=0,zt=[];++qe<ft;){var fo=Z[qe];Ae(fo,qe,Z)&&(zt[to++]=fo)}return zt}function Ye(Z,Ae){for(var qe=-1,ft=Ae.length,to=Z.length;++qe<ft;)Z[to+qe]=Ae[qe];return Z}function ge(Z,Ae){for(var qe=-1,ft=Z==null?0:Z.length;++qe<ft;)if(Ae(Z[qe],qe,Z))return!0;return!1}function _e(Z,Ae){for(var qe=-1,ft=Array(Z);++qe<Z;)ft[qe]=Ae(qe);return ft}function Se(Z){return function(Ae){return Z(Ae)}}function Ve(Z,Ae){return Z.has(Ae)}function ke(Z,Ae){return Z==null?void 0:Z[Ae]}function te(Z){var Ae=-1,qe=Array(Z.size);return Z.forEach(function(ft,to){qe[++Ae]=[to,ft]}),qe}function Ce(Z,Ae){return function(qe){return Z(Ae(qe))}}function Ne(Z){var Ae=-1,qe=Array(Z.size);return Z.forEach(function(ft){qe[++Ae]=ft}),qe}var Ie=Array.prototype,se=Function.prototype,fe=Object.prototype,Le=De["__core-js_shared__"],Ze=se.toString,at=fe.hasOwnProperty,mt=function(){var Z=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),wt=fe.toString,Ot=RegExp("^"+Ze.call(at).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=be?De.Buffer:void 0,ut=De.Symbol,gt=De.Uint8Array,Vt=fe.propertyIsEnumerable,pt=Ie.splice,Et=ut?ut.toStringTag:void 0,Dt=Object.getOwnPropertySymbols,Ft=Jt?Jt.isBuffer:void 0,Kt=Ce(Object.keys,Object),ro=Ln(De,"DataView"),Pe=Ln(De,"Map"),Te=Ln(De,"Promise"),Ge=Ln(De,"Set"),nt=Ln(De,"WeakMap"),yt=Ln(Object,"create"),xt=ha(ro),Ut=ha(Pe),Tt=ha(Te),Gt=ha(Ge),ct=ha(nt),Ht=ut?ut.prototype:void 0,kt=Ht?Ht.valueOf:void 0;function dt(Z){var Ae=-1,qe=Z==null?0:Z.length;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function Oe(){this.__data__=yt?yt(null):{},this.size=0}function ye(Z){var Ae=this.has(Z)&&delete this.__data__[Z];return this.size-=Ae?1:0,Ae}function He(Z){var Ae=this.__data__;if(yt){var qe=Ae[Z];return qe===t?void 0:qe}return at.call(Ae,Z)?Ae[Z]:void 0}function Nt(Z){var Ae=this.__data__;return yt?Ae[Z]!==void 0:at.call(Ae,Z)}function it(Z,Ae){var qe=this.__data__;return this.size+=this.has(Z)?0:1,qe[Z]=yt&&Ae===void 0?t:Ae,this}dt.prototype.clear=Oe,dt.prototype.delete=ye,dt.prototype.get=He,dt.prototype.has=Nt,dt.prototype.set=it;function _t(Z){var Ae=-1,qe=Z==null?0:Z.length;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function tt(){this.__data__=[],this.size=0}function ve(Z){var Ae=this.__data__,qe=ol(Ae,Z);if(qe<0)return!1;var ft=Ae.length-1;return qe==ft?Ae.pop():pt.call(Ae,qe,1),--this.size,!0}function Re(Z){var Ae=this.__data__,qe=ol(Ae,Z);return qe<0?void 0:Ae[qe][1]}function vt(Z){return ol(this.__data__,Z)>-1}function Rt(Z,Ae){var qe=this.__data__,ft=ol(qe,Z);return ft<0?(++this.size,qe.push([Z,Ae])):qe[ft][1]=Ae,this}_t.prototype.clear=tt,_t.prototype.delete=ve,_t.prototype.get=Re,_t.prototype.has=vt,_t.prototype.set=Rt;function eo(Z){var Ae=-1,qe=Z==null?0:Z.length;for(this.clear();++Ae<qe;){var ft=Z[Ae];this.set(ft[0],ft[1])}}function jt(){this.size=0,this.__data__={hash:new dt,map:new(Pe||_t),string:new dt}}function Mn(Z){var Ae=nn(this,Z).delete(Z);return this.size-=Ae?1:0,Ae}function Mt(Z){return nn(this,Z).get(Z)}function ys(Z){return nn(this,Z).has(Z)}function ld(Z,Ae){var qe=nn(this,Z),ft=qe.size;return qe.set(Z,Ae),this.size+=qe.size==ft?0:1,this}eo.prototype.clear=jt,eo.prototype.delete=Mn,eo.prototype.get=Mt,eo.prototype.has=ys,eo.prototype.set=ld;function ks(Z){var Ae=-1,qe=Z==null?0:Z.length;for(this.__data__=new eo;++Ae<qe;)this.add(Z[Ae])}function Ol(Z){return this.__data__.set(Z,t),this}function tl(Z){return this.__data__.has(Z)}ks.prototype.add=ks.prototype.push=Ol,ks.prototype.has=tl;function yn(Z){var Ae=this.__data__=new _t(Z);this.size=Ae.size}function Ml(){this.__data__=new _t,this.size=0}function id(Z){var Ae=this.__data__,qe=Ae.delete(Z);return this.size=Ae.size,qe}function rd(Z){return this.__data__.get(Z)}function dd(Z){return this.__data__.has(Z)}function bi(Z,Ae){var qe=this.__data__;if(qe instanceof _t){var ft=qe.__data__;if(!Pe||ft.length<s-1)return ft.push([Z,Ae]),this.size=++qe.size,this;qe=this.__data__=new eo(ft)}return qe.set(Z,Ae),this.size=qe.size,this}yn.prototype.clear=Ml,yn.prototype.delete=id,yn.prototype.get=rd,yn.prototype.has=dd,yn.prototype.set=bi;function yi(Z,Ae){var qe=al(Z),ft=!qe&&xi(Z),to=!qe&&!ft&&nl(Z),zt=!qe&&!ft&&!to&&Ei(Z),fo=qe||ft||to||zt,go=fo?_e(Z.length,String):[],Qo=go.length;for(var xo in Z)(Ae||at.call(Z,xo))&&!(fo&&(xo=="length"||to&&(xo=="offset"||xo=="parent")||zt&&(xo=="buffer"||xo=="byteLength"||xo=="byteOffset")||md(xo,Qo)))&&go.push(xo);return go}function ol(Z,Ae){for(var qe=Z.length;qe--;)if(Di(Z[qe][0],Ae))return qe;return-1}function Ll(Z,Ae,qe){var ft=Ae(Z);return al(Z)?ft:Ye(ft,qe(Z))}function $s(Z){return Z==null?Z===void 0?F:C:Et&&Et in Object(Z)?Nn(Z):wi(Z)}function Nl(Z){return $n(Z)&&$s(Z)==l}function is(Z,Ae,qe,ft,to){return Z===Ae?!0:Z==null||Ae==null||!$n(Z)&&!$n(Ae)?Z!==Z&&Ae!==Ae:ki(Z,Ae,qe,ft,is,to)}function ki(Z,Ae,qe,ft,to,zt){var fo=al(Z),go=al(Ae),Qo=fo?r:kn(Z),xo=go?r:kn(Ae);Qo=Qo==l?E:Qo,xo=xo==l?E:xo;var na=Qo==E,co=xo==E,Vo=Qo==xo;if(Vo&&nl(Z)){if(!nl(Ae))return!1;fo=!0,na=!1}if(Vo&&!na)return zt||(zt=new yn),fo||Ei(Z)?rs(Z,Ae,qe,ft,to,zt):$i(Z,Ae,Qo,qe,ft,to,zt);if(!(qe&c)){var Zo=na&&at.call(Z,"__wrapped__"),sa=co&&at.call(Ae,"__wrapped__");if(Zo||sa){var Fn=Zo?Z.value():Z,Yn=sa?Ae.value():Ae;return zt||(zt=new yn),to(Fn,Yn,qe,ft,zt)}}return Vo?(zt||(zt=new yn),Ds(Z,Ae,qe,ft,to,zt)):!1}function cd(Z){if(!Pi(Z)||hd(Z))return!1;var Ae=Ci(Z)?Ot:we;return Ae.test(ha(Z))}function ud(Z){return $n(Z)&&Vl(Z.length)&&!!he[$s(Z)]}function ws(Z){if(!Fl(Z))return Kt(Z);var Ae=[];for(var qe in Object(Z))at.call(Z,qe)&&qe!="constructor"&&Ae.push(qe);return Ae}function rs(Z,Ae,qe,ft,to,zt){var fo=qe&c,go=Z.length,Qo=Ae.length;if(go!=Qo&&!(fo&&Qo>go))return!1;var xo=zt.get(Z);if(xo&&zt.get(Ae))return xo==Ae;var na=-1,co=!0,Vo=qe&m?new ks:void 0;for(zt.set(Z,Ae),zt.set(Ae,Z);++na<go;){var Zo=Z[na],sa=Ae[na];if(ft)var Fn=fo?ft(sa,Zo,na,Ae,Z,zt):ft(Zo,sa,na,Z,Ae,zt);if(Fn!==void 0){if(Fn)continue;co=!1;break}if(Vo){if(!ge(Ae,function(Yn,xs){if(!Ve(Vo,xs)&&(Zo===Yn||to(Zo,Yn,qe,ft,zt)))return Vo.push(xs)})){co=!1;break}}else if(!(Zo===sa||to(Zo,sa,qe,ft,zt))){co=!1;break}}return zt.delete(Z),zt.delete(Ae),co}function $i(Z,Ae,qe,ft,to,zt,fo){switch(qe){case R:if(Z.byteLength!=Ae.byteLength||Z.byteOffset!=Ae.byteOffset)return!1;Z=Z.buffer,Ae=Ae.buffer;case P:return!(Z.byteLength!=Ae.byteLength||!zt(new gt(Z),new gt(Ae)));case d:case p:case x:return Di(+Z,+Ae);case v:return Z.name==Ae.name&&Z.message==Ae.message;case I:case B:return Z==Ae+"";case y:var go=te;case V:var Qo=ft&c;if(go||(go=Ne),Z.size!=Ae.size&&!Qo)return!1;var xo=fo.get(Z);if(xo)return xo==Ae;ft|=m,fo.set(Z,Ae);var na=rs(go(Z),go(Ae),ft,to,zt,fo);return fo.delete(Z),na;case L:if(kt)return kt.call(Z)==kt.call(Ae)}return!1}function Ds(Z,Ae,qe,ft,to,zt){var fo=qe&c,go=ba(Z),Qo=go.length,xo=ba(Ae),na=xo.length;if(Qo!=na&&!fo)return!1;for(var co=Qo;co--;){var Vo=go[co];if(!(fo?Vo in Ae:at.call(Ae,Vo)))return!1}var Zo=zt.get(Z);if(Zo&&zt.get(Ae))return Zo==Ae;var sa=!0;zt.set(Z,Ae),zt.set(Ae,Z);for(var Fn=fo;++co<Qo;){Vo=go[co];var Yn=Z[Vo],xs=Ae[Vo];if(ft)var Ul=fo?ft(xs,Yn,Vo,Ae,Z,zt):ft(Yn,xs,Vo,Z,Ae,zt);if(!(Ul===void 0?Yn===xs||to(Yn,xs,qe,ft,zt):Ul)){sa=!1;break}Fn||(Fn=Vo=="constructor")}if(sa&&!Fn){var sn=Z.constructor,sl=Ae.constructor;sn!=sl&&"constructor"in Z&&"constructor"in Ae&&!(typeof sn=="function"&&sn instanceof sn&&typeof sl=="function"&&sl instanceof sl)&&(sa=!1)}return zt.delete(Z),zt.delete(Ae),sa}function ba(Z){return Ll(Z,Bl,_d)}function nn(Z,Ae){var qe=Z.__data__;return fd(Ae)?qe[typeof Ae=="string"?"string":"hash"]:qe.map}function Ln(Z,Ae){var qe=ke(Z,Ae);return cd(qe)?qe:void 0}function Nn(Z){var Ae=at.call(Z,Et),qe=Z[Et];try{Z[Et]=void 0;var ft=!0}catch{}var to=wt.call(Z);return ft&&(Ae?Z[Et]=qe:delete Z[Et]),to}var _d=Dt?function(Z){return Z==null?[]:(Z=Object(Z),ze(Dt(Z),function(Ae){return Vt.call(Z,Ae)}))}:vd,kn=$s;(ro&&kn(new ro(new ArrayBuffer(1)))!=R||Pe&&kn(new Pe)!=y||Te&&kn(Te.resolve())!=D||Ge&&kn(new Ge)!=V||nt&&kn(new nt)!=T)&&(kn=function(Z){var Ae=$s(Z),qe=Ae==E?Z.constructor:void 0,ft=qe?ha(qe):"";if(ft)switch(ft){case xt:return R;case Ut:return y;case Tt:return D;case Gt:return V;case ct:return T}return Ae});function md(Z,Ae){return Ae=Ae??_,!!Ae&&(typeof Z=="number"||Fe.test(Z))&&Z>-1&&Z%1==0&&Z<Ae}function fd(Z){var Ae=typeof Z;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?Z!=="__proto__":Z===null}function hd(Z){return!!mt&&mt in Z}function Fl(Z){var Ae=Z&&Z.constructor,qe=typeof Ae=="function"&&Ae.prototype||fe;return Z===qe}function wi(Z){return wt.call(Z)}function ha(Z){if(Z!=null){try{return Ze.call(Z)}catch{}try{return Z+""}catch{}}return""}function Di(Z,Ae){return Z===Ae||Z!==Z&&Ae!==Ae}var xi=Nl(function(){return arguments}())?Nl:function(Z){return $n(Z)&&at.call(Z,"callee")&&!Vt.call(Z,"callee")},al=Array.isArray;function Yl(Z){return Z!=null&&Vl(Z.length)&&!Ci(Z)}var nl=Ft||gd;function pd(Z,Ae){return is(Z,Ae)}function Ci(Z){if(!Pi(Z))return!1;var Ae=$s(Z);return Ae==g||Ae==w||Ae==i||Ae==k}function Vl(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=_}function Pi(Z){var Ae=typeof Z;return Z!=null&&(Ae=="object"||Ae=="function")}function $n(Z){return Z!=null&&typeof Z=="object"}var Ei=je?Se(je):ud;function Bl(Z){return Yl(Z)?yi(Z):ws(Z)}function vd(){return[]}function gd(){return!1}o.exports=pd})(ph,ph.exports);var J5=ph.exports,L1={},X5=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(L1,"__esModule",{value:!0});var jEe=X5(Z5),OEe=X5(J5),ug;(function(o){function a(m,_,l){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var r=jEe.default(_);l||(r=Object.keys(r).reduce(function(d,p){return r[p]!=null&&(d[p]=r[p]),d},{}));for(var i in m)m[i]!==void 0&&_[i]===void 0&&(r[i]=m[i]);return Object.keys(r).length>0?r:void 0}o.compose=a;function s(m,_){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var l=Object.keys(m).concat(Object.keys(_)).reduce(function(r,i){return OEe.default(m[i],_[i])||(r[i]=_[i]===void 0?null:_[i]),r},{});return Object.keys(l).length>0?l:void 0}o.diff=s;function t(m,_){m===void 0&&(m={}),_===void 0&&(_={}),m=m||{};var l=Object.keys(_).reduce(function(r,i){return _[i]!==m[i]&&m[i]!==void 0&&(r[i]=_[i]),r},{});return Object.keys(m).reduce(function(r,i){return m[i]!==_[i]&&_[i]===void 0&&(r[i]=null),r},l)}o.invert=t;function c(m,_,l){if(l===void 0&&(l=!1),typeof m!="object")return _;if(typeof _=="object"){if(!l)return _;var r=Object.keys(_).reduce(function(i,d){return m[d]===void 0&&(i[d]=_[d]),i},{});return Object.keys(r).length>0?r:void 0}}o.transform=c})(ug||(ug={}));L1.default=ug;var ff={},hf={},A0;function MEe(){if(A0)return hf;A0=1;var o=va&&va.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hf,"__esModule",{value:!0});var a=o(eD()),s=function(){function t(c){this.ops=c,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(c){c||(c=1/0);var m=this.ops[this.index];if(m){var _=this.offset,l=a.default.length(m);if(c>=l-_?(c=l-_,this.index+=1,this.offset=0):this.offset+=c,typeof m.delete=="number")return{delete:c};var r={};return m.attributes&&(r.attributes=m.attributes),typeof m.retain=="number"?r.retain=c:typeof m.insert=="string"?r.insert=m.insert.substr(_,c):r.insert=m.insert,r}else return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,m=this.index,_=this.next(),l=this.ops.slice(this.index);return this.offset=c,this.index=m,[_].concat(l)}else return[]},t}();return hf.default=s,hf}var I0;function eD(){if(I0)return ff;I0=1;var o=va&&va.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ff,"__esModule",{value:!0});var a=o(MEe()),s;return function(t){function c(_){return new a.default(_)}t.iterator=c;function m(_){return typeof _.delete=="number"?_.delete:typeof _.retain=="number"?_.retain:typeof _.insert=="string"?_.insert.length:1}t.length=m}(s||(s={})),ff.default=s,ff}var Nm=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},pf=Nm(TEe),LEe=Nm(Z5),bv=Nm(J5),Pd=Nm(L1),ya=Nm(eD()),NEe="\0",FEe=function(){function o(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}return o.prototype.insert=function(a,s){var t={};return typeof a=="string"&&a.length===0?this:(t.insert=a,s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(t.attributes=s),this.push(t))},o.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},o.prototype.retain=function(a,s){if(a<=0)return this;var t={retain:a};return s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(t.attributes=s),this.push(t)},o.prototype.push=function(a){var s=this.ops.length,t=this.ops[s-1];if(a=LEe.default(a),typeof t=="object"){if(typeof a.delete=="number"&&typeof t.delete=="number")return this.ops[s-1]={delete:t.delete+a.delete},this;if(typeof t.delete=="number"&&a.insert!=null&&(s-=1,t=this.ops[s-1],typeof t!="object"))return this.ops.unshift(a),this;if(bv.default(a.attributes,t.attributes)){if(typeof a.insert=="string"&&typeof t.insert=="string")return this.ops[s-1]={insert:t.insert+a.insert},typeof a.attributes=="object"&&(this.ops[s-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof t.retain=="number")return this.ops[s-1]={retain:t.retain+a.retain},typeof a.attributes=="object"&&(this.ops[s-1].attributes=a.attributes),this}}return s===this.ops.length?this.ops.push(a):this.ops.splice(s,0,a),this},o.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},o.prototype.filter=function(a){return this.ops.filter(a)},o.prototype.forEach=function(a){this.ops.forEach(a)},o.prototype.map=function(a){return this.ops.map(a)},o.prototype.partition=function(a){var s=[],t=[];return this.forEach(function(c){var m=a(c)?s:t;m.push(c)}),[s,t]},o.prototype.reduce=function(a,s){return this.ops.reduce(a,s)},o.prototype.changeLength=function(){return this.reduce(function(a,s){return s.insert?a+ya.default.length(s):s.delete?a-s.delete:a},0)},o.prototype.length=function(){return this.reduce(function(a,s){return a+ya.default.length(s)},0)},o.prototype.slice=function(a,s){a===void 0&&(a=0),s===void 0&&(s=1/0);for(var t=[],c=ya.default.iterator(this.ops),m=0;m<s&&c.hasNext();){var _=void 0;m<a?_=c.next(a-m):(_=c.next(s-m),t.push(_)),m+=ya.default.length(_)}return new o(t)},o.prototype.compose=function(a){var s=ya.default.iterator(this.ops),t=ya.default.iterator(a.ops),c=[],m=t.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;s.peekType()==="insert"&&s.peekLength()<=_;)_-=s.peekLength(),c.push(s.next());m.retain-_>0&&t.next(m.retain-_)}for(var l=new o(c);s.hasNext()||t.hasNext();)if(t.peekType()==="insert")l.push(t.next());else if(s.peekType()==="delete")l.push(s.next());else{var r=Math.min(s.peekLength(),t.peekLength()),i=s.next(r),d=t.next(r);if(typeof d.retain=="number"){var p={};typeof i.retain=="number"?p.retain=r:p.insert=i.insert;var v=Pd.default.compose(i.attributes,d.attributes,typeof i.retain=="number");if(v&&(p.attributes=v),l.push(p),!t.hasNext()&&bv.default(l.ops[l.ops.length-1],p)){var g=new o(s.rest());return l.concat(g).chop()}}else typeof d.delete=="number"&&typeof i.retain=="number"&&l.push(d)}return l.chop()},o.prototype.concat=function(a){var s=new o(this.ops.slice());return a.ops.length>0&&(s.push(a.ops[0]),s.ops=s.ops.concat(a.ops.slice(1))),s},o.prototype.diff=function(a,s){if(this.ops===a.ops)return new o;var t=[this,a].map(function(r){return r.map(function(i){if(i.insert!=null)return typeof i.insert=="string"?i.insert:NEe;var d=r===a?"on":"with";throw new Error("diff() called "+d+" non-document")}).join("")}),c=new o,m=pf.default(t[0],t[1],s),_=ya.default.iterator(this.ops),l=ya.default.iterator(a.ops);return m.forEach(function(r){for(var i=r[1].length;i>0;){var d=0;switch(r[0]){case pf.default.INSERT:d=Math.min(l.peekLength(),i),c.push(l.next(d));break;case pf.default.DELETE:d=Math.min(i,_.peekLength()),_.next(d),c.delete(d);break;case pf.default.EQUAL:d=Math.min(_.peekLength(),l.peekLength(),i);var p=_.next(d),v=l.next(d);bv.default(p.insert,v.insert)?c.retain(d,Pd.default.diff(p.attributes,v.attributes)):c.push(v).delete(d);break}i-=d}}),c.chop()},o.prototype.eachLine=function(a,s){s===void 0&&(s=`
`);for(var t=ya.default.iterator(this.ops),c=new o,m=0;t.hasNext();){if(t.peekType()!=="insert")return;var _=t.peek(),l=ya.default.length(_)-t.peekLength(),r=typeof _.insert=="string"?_.insert.indexOf(s,l)-l:-1;if(r<0)c.push(t.next());else if(r>0)c.push(t.next(r));else{if(a(c,t.next(1).attributes||{},m)===!1)return;m+=1,c=new o}}c.length()>0&&a(c,{},m)},o.prototype.invert=function(a){var s=new o;return this.reduce(function(t,c){if(c.insert)s.delete(ya.default.length(c));else{if(c.retain&&c.attributes==null)return s.retain(c.retain),t+c.retain;if(c.delete||c.retain&&c.attributes){var m=c.delete||c.retain,_=a.slice(t,t+m);return _.forEach(function(l){c.delete?s.push(l):c.retain&&c.attributes&&s.retain(ya.default.length(l),Pd.default.invert(c.attributes,l.attributes))}),t+m}}return t},0),s.chop()},o.prototype.transform=function(a,s){if(s===void 0&&(s=!1),s=!!s,typeof a=="number")return this.transformPosition(a,s);for(var t=a,c=ya.default.iterator(this.ops),m=ya.default.iterator(t.ops),_=new o;c.hasNext()||m.hasNext();)if(c.peekType()==="insert"&&(s||m.peekType()!=="insert"))_.retain(ya.default.length(c.next()));else if(m.peekType()==="insert")_.push(m.next());else{var l=Math.min(c.peekLength(),m.peekLength()),r=c.next(l),i=m.next(l);if(r.delete)continue;i.delete?_.push(i):_.retain(l,Pd.default.transform(r.attributes,i.attributes,s))}return _.chop()},o.prototype.transformPosition=function(a,s){s===void 0&&(s=!1),s=!!s;for(var t=ya.default.iterator(this.ops),c=0;t.hasNext()&&c<=a;){var m=t.peekLength(),_=t.peekType();if(t.next(),_==="delete"){a-=Math.min(m,a-c);continue}else _==="insert"&&(c<a||!s)&&(a+=m);c+=m}return a},o.Op=ya.default,o.AttributeMap=Pd.default,o}(),YEe=FEe;const VEe=Bh(YEe);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const R0={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},ls=Oa({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:o=>["delta","html","text"].includes(o)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:o=>["snow","bubble",""].includes(o)},toolbar:{type:[String,Array,Object],required:!1,validator:o=>typeof o=="string"&&o!==""?o.charAt(0)==="#"?!0:Object.keys(R0).indexOf(o)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(o,a)=>{Qe(()=>{m()}),td(()=>{s=null});let s,t;const c=h(),m=()=>{var P;if(c.value){if(t=_(),o.modules)if(Array.isArray(o.modules))for(const R of o.modules)vv.register(`modules/${R.name}`,R.module);else vv.register(`modules/${o.modules.name}`,o.modules.module);s=new vv(c.value,t),D(o.content),s.on("text-change",p),s.on("selection-change",g),s.on("editor-change",w),o.theme!=="bubble"&&c.value.classList.remove("ql-bubble"),o.theme!=="snow"&&c.value.classList.remove("ql-snow"),(P=s.getModule("toolbar"))===null||P===void 0||P.container.addEventListener("mousedown",R=>{R.preventDefault()}),a.emit("ready",s)}},_=()=>{const P={};if(o.theme!==""&&(P.theme=o.theme),o.readOnly&&(P.readOnly=o.readOnly),o.placeholder&&(P.placeholder=o.placeholder),o.toolbar&&o.toolbar!==""&&(P.modules={toolbar:(()=>{if(typeof o.toolbar=="object")return o.toolbar;if(typeof o.toolbar=="string")return o.toolbar.charAt(0)==="#"?o.toolbar:R0[o.toolbar]})()}),o.modules){const R=(()=>{var O,N;const S={};if(Array.isArray(o.modules))for(const U of o.modules)S[U.name]=(O=U.options)!==null&&O!==void 0?O:{};else S[o.modules.name]=(N=o.modules.options)!==null&&N!==void 0?N:{};return S})();P.modules=Object.assign({},P.modules,R)}return Object.assign({},o.globalOptions,o.options,P)},l=P=>typeof P=="object"&&P?P.slice():P,r=P=>Object.values(P.ops).some(R=>!R.retain||Object.keys(R).length!==1);let i;const d=P=>{if(typeof i==typeof P){if(P===i)return!0;if(typeof P=="object"&&P&&typeof i=="object"&&i)return!r(i.diff(P))}return!1},p=(P,R,O)=>{i=l(E()),d(o.content)||a.emit("update:content",i),a.emit("textChange",{delta:P,oldContents:R,source:O})},v=h(),g=(P,R,O)=>{v.value=!!(s!=null&&s.hasFocus()),a.emit("selectionChange",{range:P,oldRange:R,source:O})};ot(v,P=>{P?a.emit("focus",c):a.emit("blur",c)});const w=(...P)=>{P[0]==="text-change"&&a.emit("editorChange",{name:P[0],delta:P[1],oldContents:P[2],source:P[3]}),P[0]==="selection-change"&&a.emit("editorChange",{name:P[0],range:P[1],oldRange:P[2],source:P[3]})},y=()=>c.value,x=()=>{var P;return(P=s==null?void 0:s.getModule("toolbar"))===null||P===void 0?void 0:P.container},C=()=>{if(s)return s;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},E=(P,R)=>o.contentType==="html"?V():o.contentType==="text"?k(P,R):s==null?void 0:s.getContents(P,R),D=(P,R="api")=>{const O=P||(o.contentType==="delta"?new VEe:"");o.contentType==="html"?B(O):o.contentType==="text"?I(O,R):s==null||s.setContents(O,R),i=l(O)},k=(P,R)=>{var O;return(O=s==null?void 0:s.getText(P,R))!==null&&O!==void 0?O:""},I=(P,R="api")=>{s==null||s.setText(P,R)},V=()=>{var P;return(P=s==null?void 0:s.root.innerHTML)!==null&&P!==void 0?P:""},B=P=>{s&&(s.root.innerHTML=P)},L=(P,R="api")=>{const O=s==null?void 0:s.clipboard.convert(P);O&&(s==null||s.setContents(O,R))},F=()=>{s==null||s.focus()},T=()=>{bt(()=>{var P;!a.slots.toolbar&&s&&((P=s.getModule("toolbar"))===null||P===void 0||P.container.remove()),m()})};return ot(()=>o.content,P=>{if(!s||!P||d(P))return;const R=s.getSelection();R&&bt(()=>s==null?void 0:s.setSelection(R)),D(P)},{deep:!0}),ot(()=>o.enable,P=>{s&&s.enable(P)}),{editor:c,getEditor:y,getToolbar:x,getQuill:C,getContents:E,setContents:D,getHTML:V,setHTML:B,pasteHTML:L,focus:F,getText:k,setText:I,reinit:T}},render(){var o,a;return[(a=(o=this.$slots).toolbar)===null||a===void 0?void 0:a.call(o),En("div",{ref:"editor",...this.$attrs})]}}),BEe={name:"PurchaseOrderSettings",props:["can_edit","can_approve_changes"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),w=()=>{A.get("purchase-order-settings").then(D=>{c.value=D.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=D.data.can_approve&&D.data.user_id!=c.value.proposed_update.user_id)}).catch(D=>{console.log(D)})};a.expose({getPurchaseOrderSettings:w});const y=()=>{const D=new FormData;D.append("maker_checker_creating_updating",r.value),D.append("auto_request_financing",i.value),D.append("company_logo",l.value),D.append("description",_.value),D.append("footer",m.value),A.post("purchase-order-settings/update",D).then(k=>{w(),l.value=null,t.success(k.data.message)}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})},x=D=>{D.preventDefault();let k=D.target.files||D.dataTransfer.files;k.length&&(l.value=k[0])},C=()=>{_.value=d.value.getHTML().toString()},E=D=>{A.get("purchase-order-settings/status/"+D+"/update").then(k=>{w(),l.value=null,t.success(k.data.message),document.getElementById("close-modal").click()}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([D,k,I,V,B])=>{D!=c.value.maker_checker_creating_updating||k!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||I?g.value=!0:g.value=!1}),{can_edit:s,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,can_approve:p,updateStatus:E,changeFile:x,changeDescription:C,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},UEe={class:"d-flex justify-content-between p-1"},qEe={class:"fw-bold py-3"},HEe={class:"fw-light px-3"},zEe={key:0,class:"my-auto px-2"},WEe={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},KEe={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},GEe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},QEe={class:"modal-content"},ZEe={class:"modal-header"},JEe={class:"modal-title",id:"modalCenterTitle"},XEe={class:"modal-body"},eAe={key:0},tAe={key:0},oAe={key:1},aAe={key:1},nAe={key:0},sAe={key:1},lAe={key:2},iAe=["href"],rAe={key:3},dAe=["innerHTML"],cAe={key:4},uAe={class:"modal-footer"},_Ae={class:"row px-2 mb-2"},mAe={class:"col-md-4"},fAe={class:"row border rounded border-primary mx-2 py-2"},hAe={class:"col-md-9 d-flex flex-column"},pAe={class:"col-form-label"},vAe={class:"col-md-3 mt-2"},gAe={class:"form-check form-switch"},bAe={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},yAe=["checked"],kAe={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},$Ae={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},wAe={class:"btn btn-primary",type:"submit"},DAe={class:"fw-bold py-3 mb-2"},xAe={class:"fw-light px-3"},CAe={class:"row px-3 mb-2"},PAe={class:"col-md-6 border-bottom d-flex flex-column"},EAe={for:"html5-text-input",class:"col-form-label"},AAe={class:"col-md-6"},IAe={class:"row px-3 mb-2"},RAe={class:"col-md-6 d-flex flex-column"},SAe={for:"",class:"col-form-label"},TAe={class:"col-md-6 mb-4"},jAe={class:"row px-3 mb-2 mt-4"},OAe={class:"col-md-6 d-flex flex-column"},MAe={for:"html5-text-input",class:"col-form-label"},LAe={class:"col-md-6"},NAe={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},FAe={class:"btn btn-primary",type:"submit"};function YAe(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",UEe,[e("h5",qEe,[e("span",HEe,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",zEe,[e("button",WEe,n(o.$t("View Proposed Changes")),1),e("div",KEe,[e("div",GEe,[e("div",QEe,[e("div",ZEe,[e("h5",JEe,n(o.$t("Confirm Changes")),1),a[7]||(a[7]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",XEe,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",eAe,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",tAe,n(o.$t("Yes to No")),1)):(u(),f("span",oAe,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",aAe,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",nAe,n(o.$t("Yes to No")),1)):(u(),f("span",sAe,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",lAe,[le(n(o.$t("Changed Logo"))+" ",1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,iAe)])):b("",!0),i=="description"?(u(),f("div",rAe,[le(n(o.$t("Change Description To"))+": ",1),a[8]||(a[8]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,dAe)])):b("",!0),i=="footer"?(u(),f("div",cAe,[le(n(o.$t("Change Footer To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",uAe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",_Ae,[e("div",mAe,[e("div",fAe,[e("div",hAe,[e("label",pAe,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",vAe,[e("div",gAe,[e("label",bAe,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,yAe),[[Yo,t.maker_checker]]),e("label",kAe,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",$Ae,[e("button",wAe,n(o.$t("Submit")),1)])):b("",!0)],32),a[10]||(a[10]=e("hr",null,null,-1)),e("h5",DAe,[e("span",xAe,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",CAe,[e("div",PAe,[e("label",EAe,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",AAe,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[4]||(a[4]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",IAe,[e("div",RAe,[e("label",SAe,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",TAe,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",jAe,[e("div",OAe,[e("label",MAe,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",LAe,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[5]||(a[5]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",NAe,[e("button",FAe,n(o.$t("Submit")),1)])):b("",!0)],32)])}const VAe=Ue(BEe,[["render",YAe],["__scopeId","data-v-d0b5c524"]]),BAe={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(!1),l=h(!1),r=h(!1),i=()=>{A.get("invoice-settings").then(v=>{m.value=v.data.settings,_.value=m.value.maker_checker_creating_updating,m.value.proposed_update&&(l.value=v.data.can_approve&&v.data.user_id!=m.value.proposed_update.user_id)}).catch(v=>{console.log(v)})};a.expose({getInvoiceSettings:i});const d=()=>{const v=new FormData;v.append("maker_checker_creating_updating",_.value),A.post("invoice-settings/update",v).then(g=>{i(),c.success(g.data.message)}).catch(g=>{c.error(g.response.data.message)})};return ot([_],([v])=>{v!=m.value.maker_checker_creating_updating?r.value=!0:r.value=!1}),{can_edit:s,checker:t,can_approve:l,invoice_settings:m,maker_checker:_,updateStatus:v=>{A.get("invoice-settings/status/"+v+"/update").then(g=>{i(),c.success(g.data.message),document.getElementById("close-modal").click()}).catch(g=>{c.error(g.response.data.message)})},updateInvoiceSettings:d,can_submit_upper:r}}},UAe={class:"d-flex justify-content-between p-1"},qAe={class:"fw-bold py-3"},HAe={class:"fw-light px-3"},zAe={key:0,class:"my-auto px-2"},WAe={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},KAe={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},GAe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},QAe={class:"modal-content"},ZAe={class:"modal-header"},JAe={class:"modal-title",id:"modalCenterTitle"},XAe={class:"modal-body"},e6e={key:0},t6e={key:0},o6e={key:1},a6e={class:"modal-footer"},n6e={class:"row px-2 mb-2"},s6e={class:"col-md-4"},l6e={class:"row border rounded border-primary mx-2 py-2"},i6e={class:"col-md-9 d-flex flex-column"},r6e={class:"col-form-label"},d6e={class:"col-md-3 mt-2"},c6e={class:"form-check form-switch"},u6e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},_6e=["checked"],m6e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},f6e={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},h6e={class:"btn btn-primary",type:"submit"};function p6e(o,a,s,t,c,m){return u(),f("div",null,[e("div",UAe,[e("h5",qAe,[e("span",HAe,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",zAe,[e("button",WAe,n(o.$t("View Proposed Changes")),1),e("div",KAe,[e("div",GAe,[e("div",QAe,[e("div",ZAe,[e("h5",JAe,n(o.$t("Confirm Changes")),1),a[4]||(a[4]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",XAe,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,_=>(u(),f("div",{key:_},[(u(!0),f(G,null,ee(_,(l,r)=>(u(),f("div",{key:l},[r=="maker_checker_creating_updating"?(u(),f("div",e6e,[le(n(o.$t("Change Maker/Checker for Invoice Approval from"))+" ",1),t.maker_checker?(u(),f("span",t6e,n(o.$t("Yes to No")),1)):(u(),f("span",o6e,n(o.$t("No to Yes")),1))])):b("",!0)]))),128))]))),128))]),e("div",a6e,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=_=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=_=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(..._),["prevent"])),method:"post"},[e("div",n6e,[e("div",s6e,[e("div",l6e,[e("div",i6e,[e("label",r6e,n(o.$t("Invoice / Payment Instruction (PI) Approval")),1),e("small",null,n(o.$t("Request checker approval for approval of invoices")),1)]),e("div",d6e,[e("div",c6e,[e("label",u6e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=_=>t.maker_checker=_)},null,8,_6e),[[Yo,t.maker_checker]]),e("label",m6e,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",f6e,[e("button",h6e,n(o.$t("Submit")),1)])):b("",!0)],32)])}const v6e=Ue(BAe,[["render",p6e],["__scopeId","data-v-c887c75d"]]),g6e={name:"Settings",props:["can_edit","can_view","can_edit_vendor","has_proposed_updates","has_invoice_proposed_updates"],components:{BankAccounts:CEe,PurchaseOrderSettings:VAe,InvoiceSettings:v6e},setup(o){const a=o.can_edit,s=o.can_view,t=o.can_edit_vendor,c=o.has_proposed_updates,m=o.has_invoice_proposed_updates,_=h(null),l=h(null),r=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_view:s,can_edit_vendor:t,has_proposed_updates:c,has_invoice_proposed_updates:m,bank_accounts:_,purchase_order_settings:l,invoice_settings:r,switchTabs:d=>{switch(d){case"bank-accounts":_.value.getBankAccounts();break;case"purchase-order-settings":l.value.getPurchaseOrderSettings();break;case"invoice-settings":r.value.getInvoiceSettings();break}}}}},b6e={class:"nav-align-top mb-4"},y6e={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},k6e={class:"nav-item"},$6e={key:0,class:"nav-item"},w6e={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},D6e={key:1,class:"nav-item"},x6e={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},C6e={class:"tab-content"},P6e={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},E6e={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},A6e={key:1,class:"tab-pane fade",id:"navs-pills-invoice-settings",role:"tabpanel"};function I6e(o,a,s,t,c,m){const _=ce("bank-accounts"),l=ce("purchase-order-settings"),r=ce("invoice-settings");return u(),f("div",b6e,[e("ul",y6e,[e("li",k6e,[e("button",{type:"button",onClick:a[0]||(a[0]=i=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.can_view==1?(u(),f("li",$6e,[e("button",{type:"button",onClick:a[1]||(a[1]=i=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Purchase Order Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",w6e)):b("",!0)])])):b("",!0),t.can_view==1?(u(),f("li",D6e,[e("button",{type:"button",onClick:a[2]||(a[2]=i=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-invoice-settings","aria-controls":"navs-pills-invoice-settings","aria-selected":"false"},[a[5]||(a[5]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_invoice_proposed_updates==1?(u(),f("i",x6e)):b("",!0)])])):b("",!0)]),e("div",C6e,[e("div",P6e,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",E6e,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0),t.can_view==1?(u(),f("div",A6e,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const R6e=Ue(g6e,[["render",I6e]]),S6e={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"factoring/purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let R="";switch(P){case"Pending Checker Approval":R="bg-label-warning";break;case"pending Maker":R="bg-label-primary";break;case"Pending Checker":R="bg-label-warning";break;case"Accepted":R="bg-label-success";break;case"Invoiced":R="bg-label-secondary";break;case"Rejected":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},D=async(P,R)=>{m.value=!1,await A.post(`${a}factoring/purchase-orders/status/update`,{purchase_order_id:P,status:R,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),C()}).catch(O=>{console.log(O),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{C()}),ot([c],([P])=>{A.get(a+"purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}),ot(v,P=>{g.value.length>0?(x.value=[],P=="approve"&&(g.value.forEach(R=>{x.value.push(s.value.data.filter(O=>O.id==R)[0])}),y.value.click()),P=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,exportReport:()=>{A.get(a+"purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let R;if(!g.value.filter(function(N,S){R=S,N==P.id}))return!1;g.value.splice(R,1)}})},updateSelected:P=>{if(g.value.includes(P)){const R=g.value.indexOf(P);g.value.splice(R,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const R=new FormData;g.value.forEach(O=>{R.append("purchase_orders[]",O)}),P=="approve"&&R.append("status","accepted"),P=="reject"&&(R.append("status","rejected"),R.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",R).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(O=>{console.log(O),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}}}},T6e={class:""},j6e={class:"d-flex justify-content-between px-2 py-2"},O6e={class:"d-flex flex-wrap gap-1"},M6e={class:""},L6e={for:"Buyer",class:"form-label"},N6e={class:""},F6e={for:"PO No",class:"form-label"},Y6e={class:""},V6e={class:"form-label",for:""},B6e={class:""},U6e={for:"Status",class:"form-label"},q6e={value:""},H6e={value:"pending"},z6e={value:"approved"},W6e={value:"invoiced"},K6e={value:"rejected"},G6e={class:""},Q6e={for:"Bulk Actions",class:"form-label"},Z6e={value:""},J6e={value:"approve"},X6e={value:"reject"},eIe={class:"table-search-btn"},tIe={class:"table-clear-btn"},oIe={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},aIe={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},nIe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},sIe={class:"modal-content"},lIe={class:"modal-header"},iIe={class:"modal-title",id:"modalCenterTitle"},rIe={class:"modal-body"},dIe={class:"modal-footer"},cIe={class:"btn btn-primary",type:"submit"},uIe={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},_Ie={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},mIe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},fIe={class:"modal-content"},hIe={class:"modal-header"},pIe={class:"modal-title",id:"modalCenterTitle"},vIe={class:"modal-body"},gIe={class:"row mb-1"},bIe={class:"form-group"},yIe={for:""},kIe={class:"modal-footer"},$Ie={class:"btn btn-primary",type:"submit"},wIe={class:"d-flex"},DIe={class:"mx-1"},xIe={class:"table-responsive"},CIe={class:"table dt-invoices"},PIe={class:"form-check"},EIe={key:0},AIe={colspan:"12",class:"text-center"},IIe={class:"text-center"},RIe={key:1},SIe={colspan:"12",class:"text-center"},TIe={class:"text-center"},jIe={class:"form-check"},OIe=["id","onChange"],MIe=["data-bs-target"],LIe={class:"text-success"},NIe={class:"text-success"},FIe={class:""},YIe={class:""},VIe={class:""},BIe={class:"d-inline-block"},UIe={class:"dropdown-menu dropdown-menu-end m-0"},qIe=["onClick"],HIe={class:"dropdown-item badge bg-label-success"},zIe={key:1},WIe=["data-bs-target"],KIe={key:2,class:""},GIe=["href"],QIe={key:3,class:"dropdown-item badge bg-label-secondary"},ZIe=["href"],JIe=["id"],XIe={class:"modal-dialog modal-md",role:"document"},e8e=["onSubmit"],t8e={class:"modal-content"},o8e={class:"modal-header"},a8e={class:"modal-title",id:"modalCenterTitle"},n8e={class:"modal-body"},s8e={class:"form-label"},l8e={class:"form-group"},i8e={class:"modal-footer"},r8e={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},d8e=["disabled"],c8e=["id"],u8e={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},_8e={class:"modal-content"},m8e={class:"modal-header"},f8e={class:"modal-title",id:"modalCenterTitle"},h8e={class:"d-flex"},p8e=["href"],v8e={class:"modal-body"},g8e={class:"d-flex justify-content-between"},b8e={class:"mb-3 w-25"},y8e={class:"d-flex justify-content-between"},k8e={class:"fw-light my-auto"},$8e={class:"fw-bold mx-2 my-auto"},w8e={class:"d-flex justify-content-between"},D8e={class:"fw-light my-auto"},x8e={class:"fw-bold mx-2 my-auto"},C8e={class:"d-flex justify-content-between"},P8e={class:"fw-light my-auto"},E8e={class:"fw-bold mx-2 my-auto"},A8e={class:"d-flex justify-content-between"},I8e={class:"fw-light my-auto"},R8e={key:0,class:"d-flex justify-content-between"},S8e={class:"fw-light my-auto"},T8e={class:"fw-bold mx-2 my-auto"},j8e={class:"mb-3"},O8e={class:"d-flex justify-content-between"},M8e={class:"my-auto fw-light"},L8e={class:"fw-bold mx-2 my-auto"},N8e={class:"d-flex justify-content-between"},F8e={class:"my-auto fw-light"},Y8e={class:"fw-bold mx-2 my-auto"},V8e={class:"d-flex justify-content-between"},B8e={class:"my-auto fw-light"},U8e={class:"fw-bold mx-2 my-auto"},q8e={class:"d-flex justify-content-between"},H8e={class:"my-auto fw-light"},z8e={class:"fw-bold text-success mx-2 my-auto"},W8e={class:"table-responsive"},K8e={class:"table"},G8e={class:"bg-label-secondary px-2"},Q8e={class:"d-flex justify-content-end"},Z8e={class:"mx-2 my-auto py-1"},J8e={class:"text-success my-auto py-1"};function X8e(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",T6e,[e("div",j6e,[e("div",O6e,[e("div",M6e,[e("label",L6e,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.anchor_search]])]),e("div",N6e,[e("label",F6e,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.po_search]])]),e("div",Y6e,[e("label",V6e,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",B6e,[e("label",U6e,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",q6e,n(o.$t("Status")),1),e("option",H6e,n(o.$t("Pending")),1),e("option",z6e,n(o.$t("Accepted")),1),e("option",W6e,n(o.$t("Invoiced")),1),e("option",K6e,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",G6e,[e("label",Q6e,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",Z6e,n(o.$t("Bulk Actions")),1),e("option",J6e,n(o.$t("Accept")),1),e("option",X6e,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",eIe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",tIe,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",oIe,null,512),e("div",aIe,[e("div",nIe,[e("div",sIe,[e("div",lIe,[e("h5",iIe,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",rIe,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",dIe,[e("button",cIe,n(o.$t("Submit")),1)])],32)])])]),e("button",uIe,null,512),e("div",_Ie,[e("div",mIe,[e("div",fIe,[e("div",hIe,[e("h5",pIe,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",vIe,[e("div",gIe,[e("div",bIe,[e("label",yIe,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",kIe,[e("button",$Ie,n(o.$t("Submit")),1)])],32)])])])]),e("div",wIe,[e("div",DIe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",xIe,[e("table",CIe,[e("thead",null,[e("tr",null,[e("th",null,[e("div",PIe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",EIe,[e("td",AIe,[e("span",IIe,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",RIe,[e("td",SIe,[e("span",TIe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",jIe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,OIe)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,MIe),e("td",LIe,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",NIe,n(l.purchase_order_items.length),1),e("td",FIe,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",YIe,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",VIe,[e("div",BIe,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",UIe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",HIe,n(o.$t("Accept")),1)],8,qIe)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",zIe,[e("span",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,WIe)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",KIe,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,GIe)])):b("",!0),l.attachment?(u(),f("li",QIe,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,ZIe)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",XIe,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",t8e,[e("div",o8e,[e("h5",a8e,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",n8e,[e("label",s8e,n(o.$t("Rejection Reason")),1),e("div",l8e,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",i8e,[e("button",r8e,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,d8e)])])],40,e8e)])],8,JIe),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",u8e,[e("div",_8e,[e("div",m8e,[e("h5",f8e,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",h8e,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,p8e)):b("",!0)])]),e("div",v8e,[e("div",g8e,[e("div",b8e,[e("span",y8e,[e("h5",k8e,n(o.$t("Buyer"))+":",1),e("h6",$8e,n(l.anchor.name),1)]),e("span",w8e,[e("h5",D8e,n(o.$t("Delivery Address"))+":",1),e("h6",x8e,n(l.delivery_address),1)]),e("span",C8e,[e("h5",P8e,n(o.$t("Remarks"))+":",1),e("h6",E8e,n(l.remarks),1)]),e("span",A8e,[e("h5",I8e,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",R8e,[e("h5",S8e,n(o.$t("Rejection Reason"))+":",1),e("h6",T8e,n(l.rejection_reason),1)])):b("",!0)]),e("div",j8e,[e("span",O8e,[e("h5",M8e,n(o.$t("PO No"))+":",1),e("h6",L8e,n(l.purchase_order_number),1)]),e("span",N8e,[e("h5",F8e,n(o.$t("Start Date"))+":",1),e("h6",Y8e,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",V8e,[e("h5",B8e,n(o.$t("End Date"))+":",1),e("h6",U8e,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",q8e,[e("h5",H8e,n(o.$t("PO Amount"))+":",1),e("h6",z8e,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",W8e,[e("table",K8e,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",G8e,[e("span",Q8e,[e("h6",Z8e,n(o.$t("Total")),1),e("h5",J8e,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,c8e)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const eRe=Ue(S6e,[["render",X8e]]),tRe={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"factoring/purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let R="";switch(P){case"Pending Checker Approval":R="bg-label-warning";break;case"pending Maker":R="bg-label-primary";break;case"Pending Checker":R="bg-label-warning";break;case"Accepted":R="bg-label-success";break;case"Invoiced":R="bg-label-secondary";break;case"Rejected":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},D=async(P,R)=>{m.value=!1,await A.post(`${a}factoring/purchase-orders/status/update`,{purchase_order_id:P,status:R,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(O=>{console.log(O),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{C()}),ot([c],([P])=>{A.get(a+"purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}),ot(v,P=>{g.value.length>0?(x.value=[],P=="approve"&&(g.value.forEach(R=>{x.value.push(s.value.data.filter(O=>O.id==R)[0])}),y.value.click()),P=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,exportReport:()=>{A.get(a+"purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let R;if(!g.value.filter(function(N,S){R=S,N==P.id}))return!1;g.value.splice(R,1)}})},updateSelected:P=>{if(g.value.includes(P)){const R=g.value.indexOf(P);g.value.splice(R,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const R=new FormData;g.value.forEach(O=>{R.append("purchase_orders[]",O)}),P=="approve"&&R.append("status","accepted"),P=="reject"&&(R.append("status","rejected"),R.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",R).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(O=>{console.log(O),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}}}},oRe={class:""},aRe={class:"d-flex justify-content-between px-2 py-2"},nRe={class:"d-flex flex-wrap"},sRe={class:""},lRe={for:"Buyer",class:"form-label"},iRe={class:"mx-1"},rRe={for:"PO No",class:"form-label"},dRe={class:"mx-1"},cRe={class:"form-label",for:""},uRe={class:"mx-1"},_Re={for:"Status",class:"form-label"},mRe={value:""},fRe={value:"pending"},hRe={value:"approved"},pRe={value:"invoiced"},vRe={value:"rejected"},gRe={class:"mx-1"},bRe={for:"Bulk Actions",class:"form-label"},yRe={value:""},kRe={value:"approve"},$Re={value:"reject"},wRe={class:"my-auto"},DRe={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},xRe={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},CRe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},PRe={class:"modal-content"},ERe={class:"modal-header"},ARe={class:"modal-title",id:"modalCenterTitle"},IRe={class:"modal-body"},RRe={class:"modal-footer"},SRe={class:"btn btn-primary",type:"submit"},TRe={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},jRe={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},ORe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},MRe={class:"modal-content"},LRe={class:"modal-header"},NRe={class:"modal-title",id:"modalCenterTitle"},FRe={class:"modal-body"},YRe={class:"row mb-1"},VRe={class:"form-group"},BRe={for:""},URe={class:"modal-footer"},qRe={class:"btn btn-primary",type:"submit"},HRe={class:"d-flex"},zRe={class:"mx-1"},WRe={class:"table-responsive"},KRe={class:"table dt-invoices"},GRe={class:"form-check"},QRe={key:0},ZRe={colspan:"12",class:"text-center"},JRe={class:"text-center"},XRe={key:1},eSe={colspan:"12",class:"text-center"},tSe={class:"text-center"},oSe={class:"form-check"},aSe=["id","onChange"],nSe=["data-bs-target"],sSe={class:"text-success"},lSe={class:"text-success"},iSe={class:""},rSe={class:""},dSe={class:""},cSe={class:"d-inline-block"},uSe={class:"dropdown-menu dropdown-menu-end m-0"},_Se=["onClick"],mSe={class:"dropdown-item badge bg-label-success"},fSe={key:1},hSe=["data-bs-target"],pSe={key:2,class:""},vSe=["href"],gSe={key:3,class:"dropdown-item badge bg-label-secondary"},bSe=["href"],ySe=["id"],kSe={class:"modal-dialog modal-md",role:"document"},$Se=["onSubmit"],wSe={class:"modal-content"},DSe={class:"modal-header"},xSe={class:"modal-title",id:"modalCenterTitle"},CSe={class:"modal-body"},PSe={class:"form-label"},ESe={class:"form-group"},ASe={class:"modal-footer"},ISe={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},RSe=["disabled"],SSe=["id"],TSe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},jSe={class:"modal-content"},OSe={class:"modal-header"},MSe={class:"modal-title",id:"modalCenterTitle"},LSe={class:"d-flex"},NSe=["href"],FSe={class:"modal-body"},YSe={class:"d-flex justify-content-between"},VSe={class:"mb-3 w-25"},BSe={class:"d-flex justify-content-between"},USe={class:"fw-light my-auto"},qSe={class:"fw-bold mx-2 my-auto"},HSe={class:"d-flex justify-content-between"},zSe={class:"fw-light my-auto"},WSe={class:"fw-bold mx-2 my-auto"},KSe={class:"d-flex justify-content-between"},GSe={class:"fw-light my-auto"},QSe={class:"fw-bold mx-2 my-auto"},ZSe={class:"d-flex justify-content-between"},JSe={class:"fw-light my-auto"},XSe={key:0,class:"d-flex justify-content-between"},eTe={class:"fw-light my-auto"},tTe={class:"fw-bold mx-2 my-auto"},oTe={class:"mb-3"},aTe={class:"d-flex justify-content-between"},nTe={class:"my-auto fw-light"},sTe={class:"fw-bold mx-2 my-auto"},lTe={class:"d-flex justify-content-between"},iTe={class:"my-auto fw-light"},rTe={class:"fw-bold mx-2 my-auto"},dTe={class:"d-flex justify-content-between"},cTe={class:"my-auto fw-light"},uTe={class:"fw-bold mx-2 my-auto"},_Te={class:"d-flex justify-content-between"},mTe={class:"my-auto fw-light"},fTe={class:"fw-bold text-success mx-2 my-auto"},hTe={class:"table-responsive"},pTe={class:"table"},vTe={class:"bg-label-secondary px-2"},gTe={class:"d-flex justify-content-end"},bTe={class:"mx-2 my-auto py-1"},yTe={class:"text-success my-auto py-1"};function kTe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",oRe,[e("div",aRe,[e("div",nRe,[e("div",sRe,[e("label",lRe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.anchor_search]])]),e("div",iRe,[e("label",rRe,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.po_search]])]),e("div",dRe,[e("label",cRe,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",uRe,[e("label",_Re,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",mRe,n(o.$t("Status")),1),e("option",fRe,n(o.$t("Pending")),1),e("option",hRe,n(o.$t("Accepted")),1),e("option",pRe,n(o.$t("Invoiced")),1),e("option",vRe,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",gRe,[e("label",bRe,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",yRe,n(o.$t("Bulk Actions")),1),e("option",kRe,n(o.$t("Accept")),1),e("option",$Re,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",wRe,[e("button",{class:"btn btn-primary btn-sm mx-1",title:"Download Excel",type:"button",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)])),e("button",{class:"btn btn-primary btn-sm",title:"Download PDF",type:"button",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",DRe,null,512),e("div",xRe,[e("div",CRe,[e("div",PRe,[e("div",ERe,[e("h5",ARe,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",IRe,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",RRe,[e("button",SRe,n(o.$t("Submit")),1)])],32)])])]),e("button",TRe,null,512),e("div",jRe,[e("div",ORe,[e("div",MRe,[e("div",LRe,[e("h5",NRe,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",FRe,[e("div",YRe,[e("div",VRe,[e("label",BRe,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",URe,[e("button",qRe,n(o.$t("Submit")),1)])],32)])])])]),e("div",HRe,[e("div",zRe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",WRe,[e("table",KRe,[e("thead",null,[e("tr",null,[e("th",null,[e("div",GRe,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",QRe,[e("td",ZRe,[e("span",JRe,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",XRe,[e("td",eSe,[e("span",tSe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",oSe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,aSe)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,nSe),e("td",sSe,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",lSe,n(l.purchase_order_items.length),1),e("td",iSe,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",rSe,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",dSe,[e("div",cSe,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",uSe,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",mSe,n(o.$t("Accept")),1)],8,_Se)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",fSe,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},"Reject",8,hSe)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",pSe,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},"Convert to Invoice",8,vSe)])):b("",!0),l.attachment?(u(),f("li",gSe,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,bSe)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",kSe,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",wSe,[e("div",DSe,[e("h5",xSe,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",CSe,[e("label",PSe,n(o.$t("Rejection Reason")),1),e("div",ESe,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",ASe,[e("button",ISe,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,RSe)])])],40,$Se)])],8,ySe),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",TSe,[e("div",jSe,[e("div",OSe,[e("h5",MSe,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",LSe,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,NSe)):b("",!0)])]),e("div",FSe,[e("div",YSe,[e("div",VSe,[e("span",BSe,[e("h5",USe,n(o.$t("Buyer"))+":",1),e("h6",qSe,n(l.anchor.name),1)]),e("span",HSe,[e("h5",zSe,n(o.$t("Delivery Address"))+":",1),e("h6",WSe,n(l.delivery_address),1)]),e("span",KSe,[e("h5",GSe,n(o.$t("Remarks"))+":",1),e("h6",QSe,n(l.remarks),1)]),e("span",ZSe,[e("h5",JSe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",XSe,[e("h5",eTe,n(o.$t("Rejection Reason"))+":",1),e("h6",tTe,n(l.rejection_reason),1)])):b("",!0)]),e("div",oTe,[e("span",aTe,[e("h5",nTe,n(o.$t("PO No"))+":",1),e("h6",sTe,n(l.purchase_order_number),1)]),e("span",lTe,[e("h5",iTe,n(o.$t("Start Date"))+":",1),e("h6",rTe,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",dTe,[e("h5",cTe,n(o.$t("End Date"))+":",1),e("h6",uTe,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",_Te,[e("h5",mTe,n(o.$t("PO Amount"))+":",1),e("h6",fTe,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",hTe,[e("table",pTe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",vTe,[e("span",gTe,[e("h6",bTe,n(o.$t("Total")),1),e("h5",yTe,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,SSe)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const $Te=Ue(tRe,[["render",kTe]]),wTe={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),w=async()=>{await A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)})},y=async(L,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+L+"/details").then(T=>{v.value=T.data,g.value++,bt(()=>{document.getElementById(F).click()})}).catch(T=>{console.log(T)})};Qe(()=>{w()});const x=L=>{let F="";switch(L){case"created":F="bg-label-secondary";break;case"pending":F="bg-label-primary";break;case"submitted":F="bg-label-primary";break;case"approved":F="bg-label-success";break;case"disbursed":F="bg-label-success";break;case"denied":F="bg-label-danger";break;case"Rejected":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},C=L=>{let F="";switch(L){case"pending":F="bg-label-primary";break;case"financed":F="bg-label-success";break;case"closed":F="bg-label-secondary";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},E=(L,F)=>(F/L*100).toFixed(2);return ot([t],([L])=>{A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:L}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,buyer_search:_,from_date_search:l,to_date_search:r,status_search:i,financing_status_search:d,invoice_details:v,invoice_details_key:g,changePage:async L=>{await A.get(L,{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(F=>{s.value=F.data.invoices})},resolveFinancingStatus:C,resolveStatus:x,getTaxPercentage:E,exportReport:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+"factoring/reports/report/factoring-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},exportPdfReport:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+"reports/factoring-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let L=$(".ti-search").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},refresh:()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(c+"factoring/reports/all-invoices-report",{params:{per_page:t.value}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},showInvoice:y}}},DTe={class:"card p-1"},xTe={class:"d-flex justify-content-between"},CTe={class:"d-flex flex-wrap gap-1"},PTe={class:""},ETe={for:"Invoice No",class:"form-label"},ATe={class:""},ITe={for:"Invoice No",class:"form-label"},RTe={class:""},STe={class:"form-label",for:""},TTe={class:""},jTe={for:"Status",class:"form-label"},OTe={value:""},MTe={value:"pending"},LTe={value:"pending_maker"},NTe={value:"pending_checker"},FTe={value:"approved"},YTe={value:"rejected"},VTe={value:"past_due"},BTe={value:"expired"},UTe={class:""},qTe={for:"Financing Status",class:"form-label"},HTe={value:""},zTe={value:"pending"},WTe={value:"submitted"},KTe={value:"financed"},GTe={value:"disbursed"},QTe={value:"closed"},ZTe={value:"rejected"},JTe={class:"table-search-btn"},XTe={class:"table-clear-btn"},eje={class:"d-flex flex-column flex-lg-row justify-content-md-end mt-2 mt-md-auto gap-1"},tje={class:""},oje={class:"table-responsive"},aje={class:"table"},nje={class:"table-border-bottom-0"},sje={key:0},lje={colspan:"12",class:"text-center"},ije={class:"text-center"},rje={key:1},dje={colspan:"12",class:"text-center"},cje={class:"text-center"},uje=["onClick"],_je={class:"me-1"},mje={class:"text-success text-nowrap"},fje={key:0},hje={key:1},pje={key:0,class:"text-success text-nowrap"},vje={key:1},gje=["id","data-bs-target"],bje=["id","data-bs-target"],yje={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kje={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$je={class:"modal-content"},wje={class:"modal-body"},Dje={class:"d-flex justify-content-center"};function xje(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",DTe,[e("div",xTe,[e("div",CTe,[e("div",PTe,[e("label",ETe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",ATe,[e("label",ITe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",RTe,[e("label",STe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",TTe,[e("label",jTe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",OTe,n(o.$t("Status")),1),e("option",MTe,n(o.$t("Pending (Internal Approval)")),1),e("option",LTe,n(o.$t("Pending Maker")),1),e("option",NTe,n(o.$t("Pending Checker")),1),e("option",FTe,n(o.$t("Approved")),1),e("option",YTe,n(o.$t("Rejected")),1),e("option",VTe,n(o.$t("Overdue")),1),e("option",BTe,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",UTe,[e("label",qTe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",HTe,n(o.$t("Finanicing Status")),1),e("option",zTe,n(o.$t("Pending")),1),e("option",WTe,n(o.$t("Submitted")),1),e("option",KTe,n(o.$t("Financed")),1),e("option",GTe,n(o.$t("Disbursed")),1),e("option",QTe,n(o.$t("Closed")),1),e("option",ZTe,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",JTe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",XTe,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),a[14]||(a[14]=e("div",{class:"my-auto"},null,-1))]),e("div",eje,[e("div",tje,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i),style:{width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",oje,[e("table",aje,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1),a[18]||(a[18]=e("th",null,null,-1))])]),e("tbody",nje,[t.invoices.data?b("",!0):(u(),f("tr",sje,[e("td",lje,[e("span",ije,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",rje,[e("td",dje,[e("span",cje,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,uje),e("td",null,[e("span",_je,n(i.buyer),1)]),e("td",mje,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",fje,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",hje,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.financing_status=="financed"||i.financing_status=="closed"?(u(),f("td",pje,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("td",vje,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,gje),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,bje),a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yje,[e("div",kje,[e("div",$je,[e("div",wje,[e("div",Dje,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const tD=Ue(wTe,[["render",xje]]),Cje={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:g}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/factoring-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},Pje={class:"card p-2"},Eje={class:"d-flex justify-content-between"},Aje={class:"d-flex flex-wrap"},Ije={class:""},Rje={for:"Program Code",class:"form-label"},Sje={class:"mx-1"},Tje={for:"Buyer",class:"form-label"},jje={class:"mx-1 table-search-btn"},Oje={class:"mx-1 table-clear-btn"},Mje={class:"d-flex align-items-end"},Lje={class:"table-responsive"},Nje={class:"table"},Fje={class:"text-nowrap"},Yje={class:"table-border-bottom-0"},Vje={key:0},Bje={colspan:"12",class:"text-center"},Uje={class:"text-center"},qje={key:1},Hje={colspan:"12",class:"text-center"},zje={class:"text-center"},Wje={class:""},Kje={class:"me-1"},Gje={class:"text-success"},Qje={class:"text-success"},Zje={class:"text-success"},Jje={class:"text-success"};function Xje(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Pje,[e("div",Eje,[e("div",Aje,[e("div",Ije,[e("label",Rje,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.loan_od_account_search]])]),e("div",Sje,[e("label",Tje,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.buyer_search]])]),e("div",jje,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Oje,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mje,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Lje,[e("table",Nje,[e("thead",null,[e("tr",Fje,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",Yje,[t.programs.data?b("",!0):(u(),f("tr",Vje,[e("td",Bje,[e("span",Uje,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",qje,[e("td",Hje,[e("span",zje,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",Wje,n(l.payment_account_number),1),e("td",null,[e("span",Kje,n(l.buyer_name),1)]),e("td",Gje,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Qje,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Zje,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Jje,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oD=Ue(Cje,[["render",Xje]]),eOe={name:"PaymentsReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(null),y=h(null),x=h(""),C=h(""),E=h(0),D=()=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)})},k=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+N+"/details").then(U=>{w.value=U.data,E.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})},I=async(N,S)=>{await A.get(c+"factoring/purchase-orders/"+N+"/show").then(U=>{y.value=U.data,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};Qe(()=>{D()});const V=N=>{let S="";switch(N){case"created":S="bg-label-secondary";break;case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-primary";break;case"approved":S="bg-label-secondary";break;case"disbursed":S="bg-label-success";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},B=N=>{let S="";switch(N){case"pending":S="bg-label-primary";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},L=(N,S)=>(S/N*100).toFixed(2);return ot(t,([N])=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:N,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)})}),{moment:H,payments:s,per_page:t,invoice_number_search:m,buyer_search:_,po_search:l,from_date_search:r,to_date_search:i,from_disbursement_date_search:d,to_disbursement_date_search:p,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,getTaxPercentage:L,changePage:async N=>{await A.get(N,{params:{per_page:t.value,buyer:_.value,invoice_number:m.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)})},exportPdfReport:()=>{A.get(c+"reports/factoring-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)})},filter:()=>{x.value=$("#date_search").val(),x.value&&(r.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#disbursement_date_search").val(),C.value&&(d.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},refresh:()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",x.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},invoice_details:w,purchase_order_details:y,showInvoice:k,showPurchaseOrder:I,show_invoice_key:E}}},tOe={class:"card p-1"},oOe={class:"d-flex justify-content-between"},aOe={class:"d-flex flex-wrap gap-1"},nOe={class:""},sOe={for:"Buyer",class:"form-label"},lOe={class:""},iOe={for:"Invoice No",class:"form-label"},rOe={class:""},dOe={for:"PO No",class:"form-label"},cOe={class:""},uOe={class:"form-label",for:""},_Oe={class:""},mOe={class:"form-label",for:""},fOe={class:""},hOe={for:"Financing Status",class:"form-label"},pOe={value:""},vOe={value:"disbursed"},gOe={value:"closed"},bOe={class:"table-search-btn"},yOe={class:"table-clear-btn"},kOe={class:"d-flex align-items-end"},$Oe={class:"table-responsive"},wOe={class:"table"},DOe={class:""},xOe={class:"table-border-bottom-0"},COe={key:0},POe={colspan:"12",class:"text-center"},EOe={class:"text-center"},AOe={key:1},IOe={colspan:"12",class:"text-center"},ROe={class:"text-center"},SOe=["onClick"],TOe={class:"text-success text-nowrap"},jOe={class:"text-success text-nowrap"},OOe={class:"text-success text-nowrap"},MOe={class:"text-success text-nowrap"},LOe={class:"text-success text-nowrap"},NOe={class:"text-success text-nowrap"},FOe=["id","data-bs-target"],YOe=["id","data-bs-target"],VOe=["id","data-bs-target"],BOe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},UOe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qOe={class:"modal-content"},HOe={class:"modal-body"},zOe={class:"d-flex justify-content-center"},WOe=["id"],KOe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},GOe={class:"modal-content"},QOe={class:"modal-header"},ZOe={class:"modal-title",id:"modalCenterTitle"},JOe={class:"d-flex"},XOe=["href"],eMe={class:"modal-body"},tMe={class:"d-flex justify-content-between"},oMe={class:"mb-3"},aMe={class:"d-flex justify-content-between"},nMe={class:"fw-light my-auto"},sMe={class:"fw-bold mx-2 my-auto"},lMe={class:"d-flex justify-content-between"},iMe={class:"fw-light my-auto"},rMe={class:"fw-bold mx-2 my-auto"},dMe={class:"d-flex justify-content-between"},cMe={class:"fw-light my-auto"},uMe={class:"fw-bold mx-2 my-auto"},_Me={class:"d-flex justify-content-between"},mMe={class:"fw-light my-auto"},fMe={key:0,class:"d-flex justify-content-between"},hMe={class:"fw-light my-auto"},pMe={class:"fw-bold mx-2 my-auto"},vMe={class:"mb-3"},gMe={class:"d-flex justify-content-between"},bMe={class:"my-auto fw-light"},yMe={class:"fw-bold mx-2 my-auto"},kMe={class:"d-flex justify-content-between"},$Me={class:"my-auto fw-light"},wMe={class:"fw-bold mx-2 my-auto"},DMe={class:"d-flex justify-content-between"},xMe={class:"my-auto fw-light"},CMe={class:"fw-bold mx-2 my-auto"},PMe={class:"d-flex justify-content-between"},EMe={class:"my-auto fw-light"},AMe={class:"fw-bold text-success mx-2 my-auto"},IMe={class:"table-responsive"},RMe={class:"table"},SMe={class:"bg-label-secondary px-2"},TMe={class:"d-flex justify-content-end"},jMe={class:"mx-2 my-auto py-1"},OMe={class:"text-success my-auto py-1"};function MMe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",tOe,[e("div",oOe,[e("div",aOe,[e("div",nOe,[e("label",sOe,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.buyer_search]])]),e("div",lOe,[e("label",iOe,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",rOe,[e("label",dOe,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[4]||(a[4]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.po_search]])]),e("div",cOe,[e("label",uOe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",_Oe,[e("label",mOe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",fOe,[e("label",hOe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.financing_status_search=i)},[e("option",pOe,n(o.$t("Financing Status")),1),e("option",vOe,n(o.$t("Disbursed")),1),e("option",gOe,n(o.$t("Closed")),1)],512),[[de,t.financing_status_search]])]),e("div",bOe,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yOe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kOe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[11]||(a[11]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.payments.meta?(u(),me(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$Oe,[e("table",wOe,[e("thead",null,[e("tr",DOe,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",xOe,[t.payments.data?b("",!0):(u(),f("tr",COe,[e("td",POe,[e("span",EOe,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",AOe,[e("td",IOe,[e("span",ROe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,SOe),e("td",null,n(i.buyer),1),e("td",TOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total_amount)),1)]),e("td",jOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",OOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",MOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.program_fees)),1)]),e("td",LOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1)]),e("td",NOe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,FOe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,YOe),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,VOe),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",BOe,[e("div",UOe,[e("div",qOe,[e("div",HOe,[e("div",zOe,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",KOe,[e("div",GOe,[e("div",QOe,[e("h5",ZOe,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",JOe,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,XOe)):b("",!0)])]),e("div",eMe,[e("div",tMe,[e("div",oMe,[e("span",aMe,[e("h5",nMe,n(o.$t("Anchor"))+":",1),e("h6",sMe,n(t.purchase_order_details.anchor.name),1)]),e("span",lMe,[e("h5",iMe,n(o.$t("Delivery Address"))+":",1),e("h6",rMe,n(t.purchase_order_details.delivery_address),1)]),e("span",dMe,[e("h5",cMe,n(o.$t("Remarks"))+":",1),e("h6",uMe,n(t.purchase_order_details.remarks),1)]),e("span",_Me,[e("h5",mMe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.status)])},n(t.purchase_order_details.status),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",fMe,[e("h5",hMe,n(o.$t("Rejection Reason"))+":",1),e("h6",pMe,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",vMe,[e("span",gMe,[e("h5",bMe,n(o.$t("PO No"))+":",1),e("h6",yMe,n(t.purchase_order_details.purchase_order_number),1)]),e("span",kMe,[e("h5",$Me,n(o.$t("Start Date"))+":",1),e("h6",wMe,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",DMe,[e("h5",xMe,n(o.$t("End Date"))+":",1),e("h6",CMe,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",PMe,[e("h5",EMe,n(o.$t("PO Amount"))+":",1),e("h6",AMe,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",IMe,[e("table",RMe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",SMe,[e("span",TMe,[e("h6",jMe,n(o.$t("Total")),1),e("h5",OMe,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,WOe)):b("",!0)])]))),128))])])]),t.payments.meta?(u(),me(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const aD=Ue(eOe,[["render",MMe]]),LMe={name:"FactoringReports",components:{AllInvoicesReport:tD,ProgramReport:oD,PaymentsReport:aD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},NMe={class:"nav-align-top nav-tabs-shadow mb-4"},FMe={class:"nav nav-tabs",role:"tablist"},YMe={class:"nav-item"},VMe={class:"nav-item"},BMe={class:"nav-item"},UMe={class:"tab-content"},qMe={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},HMe={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},zMe={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function WMe(o,a,s,t,c,m){const _=ce("all-invoices-report"),l=ce("program-report"),r=ce("payments-report");return u(),f("div",NMe,[e("ul",FMe,[e("li",YMe,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")]),e("li",VMe,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")]),e("li",BMe,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])]),e("div",UMe,[e("div",qMe,[Be(_,{ref:"invoices_report"},null,512)]),e("div",HMe,[Be(l,{ref:"programs_report"},null,512)]),e("div",zMe,[Be(r,{ref:"payments_report"},null,512)])])])}const KMe=Ue(LMe,[["render",WMe]]),GMe={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("settings/bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},QMe={class:"fw-bold py-3 mb-2"},ZMe={class:"fw-light px-3"},JMe={class:"table"},XMe={class:"table-border-bottom-0"},e9e={class:""},t9e=["value"],o9e={class:""},a9e=["value"],n9e={class:""},s9e=["value"],l9e={class:""},i9e=["value"],r9e={class:""},d9e=["value"],c9e={class:""},u9e=["value"];function _9e(o,a,s,t,c,m){return u(),f("div",null,[e("h5",QMe,[e("span",ZMe,n(o.$t("Bank A/C Details")),1)]),e("table",JMe,[e("tbody",XMe,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",e9e,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,t9e)])]),e("td",null,[e("div",o9e,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,a9e)])]),e("td",null,[e("div",n9e,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,s9e)])]),e("td",null,[e("div",l9e,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,i9e)])]),e("td",null,[e("div",r9e,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,d9e)])]),e("td",null,[e("div",c9e,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,u9e)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const m9e=Ue(GMe,[["render",_9e]]),f9e={name:"TaxDetails",props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(""),r=()=>{A.get("settings/taxes").then(p=>{c.value=p.data})};return a.expose({getTaxes:r}),{can_edit:s,taxes:c,tax_name:m,tax_number:_,tax_value:l,addTax:()=>{A.post("settings/taxes",{tax_name:m.value,tax_number:_.value,tax_value:l.value}).then(()=>{r(),t.success("Tax added successfully"),m.value="",_.value="",l.value=""}).catch(p=>{console.log(p),t.error("An error occurred while adding")})},deleteTax:p=>{A.delete(`settings/taxes/${p}`).then(()=>{r(),t.success("Tax deleted successfully")}).catch(v=>{console.log(v),t.error("An error occurred while deleting")})}}}},h9e={class:"py-3"},p9e={class:"table"},v9e={class:"table-border-bottom-0"},g9e={class:""},b9e=["value"],y9e={class:""},k9e=["value"],$9e={class:""},w9e=["value"],D9e={key:0},x9e=["onClick"],C9e={class:"table"},P9e={class:"table-border-bottom-0"},E9e={class:"text-nowrap"},A9e={class:""},I9e={class:""},R9e={class:""},S9e={class:"d-flex px-3"},T9e={key:0,class:"btn btn-primary",type:"submit"};function j9e(o,a,s,t,c,m){return u(),f("div",h9e,[e("table",p9e,[e("tbody",v9e,[(u(!0),f(G,null,ee(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",g9e,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,b9e)])]),e("td",null,[e("div",y9e,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,k9e)])]),e("td",null,[e("div",$9e,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,w9e)])]),e("td",null,[t.can_edit==1?(u(),f("div",D9e,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,x9e)])):b("",!0)])]))),128))])]),a[4]||(a[4]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",C9e,[e("tbody",P9e,[e("tr",E9e,[e("td",null,[e("div",A9e,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[X,t.tax_name]])])]),e("td",null,[e("div",I9e,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[X,t.tax_number]])])]),e("td",null,[e("div",R9e,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[X,t.tax_value]])])])])])]),e("div",S9e,[t.can_edit==1?(u(),f("button",T9e,n(o.$t("Add")),1)):b("",!0)])],32)])}const O9e=Ue(f9e,[["render",j9e]]),M9e={name:"InvoiceSettings",props:["can_edit","has_dealer_financing_programs"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(0),_=h(""),l=h(""),r=h(null),i=h(!1),d=h(!1),p=h(!1),v=h(!1),g=h(null),w=h(!1),y=h(!1),x=h(!1),C=()=>{A.get("settings/invoice-settings").then(V=>{c.value=V.data.settings,i.value=c.value.maker_checker_creating_updating,d.value=c.value.auto_request_financing,v.value=c.value.purchase_order_acceptance=="manual",m.value=c.value.default_payment_terms,l.value=c.value.description,_.value=c.value.footer,p.value=V.data.settings.request_financing_maker_checker,c.value.proposed_update&&(w.value=V.data.can_approve&&V.data.user_id!=c.value.proposed_update.user_id)}).catch(V=>{console.log(V)})};a.expose({getInvoiceSettings:C});const E=()=>{const V=new FormData;V.append("maker_checker_creating_updating",i.value),V.append("auto_request_financing",d.value),V.append("request_financing_maker_checker",p.value),V.append("purchase_order_acceptance",v.value),V.append("dealer_default_payment_terms",m.value),V.append("company_logo",r.value),V.append("description",l.value),V.append("footer",_.value),A.post("settings/invoice-settings/update",V).then(B=>{C(),r.value=null,t.success(B.data.message)}).catch(B=>{t.error(B.response.data.message)})},D=V=>{V.preventDefault();let B=V.target.files||V.dataTransfer.files;B.length&&(r.value=B[0])},k=()=>{l.value=g.value.getHTML().toString()},I=V=>{A.get("settings/invoice-settings/status/"+V+"/update").then(B=>{C(),r.value=null,t.success(B.data.message),document.getElementById("close-modal").click()}).catch(B=>{t.error(B.response.data.message)})};return ot([i,d,p,v,r,l,_],([V,B,L,F,T,P,R])=>{V!=c.value.maker_checker_creating_updating||L!=c.value.request_financing_maker_checker?y.value=!0:y.value=!1,(c.value.purchase_order_acceptance=="manual"&&!F||c.value.purchase_order_acceptance=="auto"&&F)&&(y.value=!0),R!=c.value.footer||P!=c.value.description||T?x.value=!0:x.value=!1}),{can_edit:s,can_approve:w,editor:g,invoice_settings:c,dealer_default_payment_terms:m,invoice_content:l,invoice_logo:r,invoice_footer:_,maker_checker:i,auto_request_financing:d,request_financing_maker_checker:p,purchase_order_acceptance:v,updateStatus:I,changeFile:D,changeDescription:k,updateInvoiceSettings:E,can_submit_lower:x,can_submit_upper:y}}},L9e={class:"d-flex justify-content-between p-1"},N9e={class:"fw-bold py-3"},F9e={class:"fw-light px-3"},Y9e={key:0,class:"my-auto px-2"},V9e={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},B9e={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},U9e={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},q9e={class:"modal-content"},H9e={class:"modal-header"},z9e={class:"modal-title",id:"modalCenterTitle"},W9e={class:"modal-body"},K9e={key:0},G9e={key:0},Q9e={key:1},Z9e={key:1},J9e={key:0},X9e={key:1},e7e={key:2},t7e={key:0},o7e={key:1},a7e={key:3},n7e=["href"],s7e={key:4},l7e=["innerHTML"],i7e={key:5},r7e={class:"modal-footer"},d7e={class:"row px-2 mb-2"},c7e={class:"col-md-4"},u7e={class:"row border rounded border-primary mx-2 py-2"},_7e={class:"col-md-9 d-flex flex-column"},m7e={class:"col-form-label"},f7e={class:"col-md-3 mt-2"},h7e={class:"form-check form-switch"},p7e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},v7e=["checked"],g7e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},b7e={class:"col-md-4"},y7e={class:"row border rounded border-primary mx-2 py-2"},k7e={class:"col-md-9 d-flex flex-column"},$7e={class:"col-form-label"},w7e={class:"col-md-3 mt-2"},D7e={class:"form-check form-switch"},x7e={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},C7e=["checked"],P7e={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},E7e={class:"col-md-4"},A7e={class:"row border rounded border-primary mx-2 py-2"},I7e={class:"col-md-9 d-flex flex-column"},R7e={class:"col-form-label"},S7e={class:"col-md-3 mt-2"},T7e={class:"form-check form-switch"},j7e={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-95px"}},O7e=["checked"],M7e={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"40px"}},L7e={class:"col-md-4 mt-2"},N7e={class:"row border rounded border-primary mx-2 py-2"},F7e={class:"col-md-8 d-flex flex-column"},Y7e={class:"col-form-label"},V7e={class:"col-md-4 mt-2"},B7e={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},U7e={class:"btn btn-primary",type:"submit"},q7e={class:"fw-bold py-3 mb-2"},H7e={class:"fw-light px-3"},z7e={class:"row px-3 mb-2"},W7e={class:"col-md-6 border-bottom d-flex flex-column"},K7e={for:"html5-text-input",class:"col-form-label"},G7e={class:"col-md-6"},Q7e={class:"row px-3 mb-2"},Z7e={class:"col-md-6 d-flex flex-column"},J7e={for:"",class:"col-form-label"},X7e={class:"col-md-6 mb-4"},eLe={class:"row px-3 mb-2 mt-4"},tLe={class:"col-md-6 d-flex flex-column"},oLe={for:"html5-text-input",class:"col-form-label"},aLe={class:"col-md-6"},nLe={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},sLe={class:"btn btn-primary",type:"submit"};function lLe(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",L9e,[e("h5",N9e,[e("span",F9e,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",Y9e,[e("button",V9e,n(o.$t("View Proposed Changes")),1),e("div",B9e,[e("div",U9e,[e("div",q9e,[e("div",H9e,[e("h5",z9e,n(o.$t("Confirm Changes")),1),a[10]||(a[10]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",W9e,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",K9e,[le(n(o.$t("Change Maker/Checker for Invoice Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",G9e,n(o.$t("Yes to No")),1)):(u(),f("span",Q9e,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_financing_maker_checker"?(u(),f("div",Z9e,[le(n(o.$t("Change Maker/Checker for Request Financing from"))+" ",1),t.request_financing_maker_checker?(u(),f("span",J9e,n(o.$t("Yes to No")),1)):(u(),f("span",X9e,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",e7e,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",t7e,n(o.$t("Yes to No")),1)):(u(),f("span",o7e,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",a7e,[le(n(o.$t("Change Logo to "))+" ",1),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,n7e)])):b("",!0),i=="description"?(u(),f("div",s7e,[le(n(o.$t("Change Description To"))+": ",1),a[11]||(a[11]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,l7e)])):b("",!0),i=="footer"?(u(),f("div",i7e,[le(n(o.$t("Change Footer To"))+": ",1),a[12]||(a[12]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",r7e,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",d7e,[e("div",c7e,[e("div",u7e,[e("div",_7e,[e("label",m7e,n(o.$t("Invoice Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",f7e,[e("div",h7e,[e("label",p7e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,v7e),[[Yo,t.maker_checker]]),e("label",g7e,n(o.$t("Yes")),1)])])])]),e("div",b7e,[e("div",y7e,[e("div",k7e,[e("label",$7e,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request will go to Checker for authorization")),1)]),e("div",w7e,[e("div",D7e,[e("label",x7e,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_financing_maker_checker,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_financing_maker_checker=l)},null,8,C7e),[[Yo,t.request_financing_maker_checker]]),e("label",P7e,n(o.$t("Yes")),1)])])])]),e("div",E7e,[e("div",A7e,[e("div",I7e,[e("label",R7e,n(o.$t("Purchase Order Acceptance")),1),e("small",null,n(o.$t("Automatically accept POs uploaded by buyers")),1)]),e("div",S7e,[e("div",T7e,[e("label",j7e,n(o.$t("Auto")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",style:{"margin-left":"-55px"},checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,O7e),[[Yo,t.purchase_order_acceptance]]),e("label",M7e,n(o.$t("Manual")),1)])])])]),e("div",L7e,[e("div",N7e,[e("div",F7e,[e("label",Y7e,n(o.$t("Default Payment Terms")),1),a[13]||(a[13]=e("small",null,null,-1))]),e("div",V7e,[Y(e("input",{type:"number",class:"form-control",placeholder:"0","onUpdate:modelValue":a[5]||(a[5]=l=>t.dealer_default_payment_terms=l),disabled:""},null,512),[[X,t.dealer_default_payment_terms]])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",B7e,[e("button",U7e,n(o.$t("Submit")),1)])):b("",!0)],32),a[14]||(a[14]=e("hr",null,null,-1)),e("h5",q7e,[e("span",H7e,n(o.$t("Invoice Settings")),1)]),e("form",{onSubmit:a[9]||(a[9]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",z7e,[e("div",W7e,[e("label",K7e,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",G7e,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[7]||(a[7]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",Q7e,[e("div",Z7e,[e("label",J7e,n(o.$t("Invoice Description")),1),e("small",null,n(o.$t("Will be shown in invoice as description")),1)]),e("div",X7e,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",eLe,[e("div",tLe,[e("label",oLe,n(o.$t("Invoice Footer")),1),e("small",null,n(o.$t("Will be shown in invoice footer")),1)]),e("div",aLe,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[8]||(a[8]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",nLe,[e("button",sLe,n(o.$t("Submit")),1)])):b("",!0)],32)])}const iLe=Ue(M9e,[["render",lLe],["__scopeId","data-v-ab5e0072"]]),rLe={name:"ApprovalSettings",setup(o,a){const s=lt(),t=h([]),c=()=>{A.get("settings/anchors").then(_=>{t.value=_.data}).catch(_=>{console.log(_)})};return a.expose({getAnchors:c}),{programs:t,update:_=>{A.post("settings/anchors/update",{program_id:_}).then(()=>{c(),s.success("Updated successfully")}).catch(l=>{console.log(l),s.error("An error occurred")})}}}},dLe={class:"fw-bold py-3 mb-2 d-flex flex-column"},cLe={class:"fw-light px-3"},uLe={class:"px-3"},_Le={class:"col-md-4 d-flex flex-column"},mLe={for:"html5-text-input",class:"col-form-label"},fLe={class:"col-md-4"},hLe={class:"form-check form-switch mb-2"},pLe={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},vLe=["checked","onChange"],gLe={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"};function bLe(o,a,s,t,c,m){return u(),f("div",null,[e("h5",dLe,[e("span",cLe,n(o.$t("Discounting")),1),e("small",uLe,n(o.$t("Auto"))+" - "+n(o.$t("All anchor approved invoices will be sent to bank automatically")),1)]),(u(!0),f(G,null,ee(t.programs,_=>(u(),f("div",{class:"row px-3 mb-2",key:_.id},[e("div",_Le,[e("label",mLe,n(_.buyer_name)+" ("+n(_.payment_account_number)+")",1)]),e("div",fLe,[e("div",hLe,[e("label",pLe,n(o.$t("Manual")),1),e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:_.auto_request_finance,onChange:l=>t.update(_.id)},null,40,vLe),e("label",gLe,n(o.$t("Auto")),1)])])]))),128))])}const yLe=Ue(rLe,[["render",bLe],["__scopeId","data-v-8ee7a33e"]]),kLe={name:"Settings",props:["can_edit","can_edit_anchor","checker","has_proposed_updates","has_factoring_programs","has_dealer_financing_programs"],components:{BankAccounts:m9e,TaxDetails:O9e,InvoiceSettings:iLe,ApprovalSettings:yLe},setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=o.has_factoring_programs,m=o.has_dealer_financing_programs,_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,bank_accounts:_,tax_details:r,invoice_settings:l,tax_details:r,approval_settings:i,has_proposed_updates:t,has_factoring_programs:c,has_dealer_financing_programs:m,switchTabs:p=>{switch(p){case"bank-accounts":_.value.getBankAccounts();break;case"invoice-settings":l.value.getInvoiceSettings();break;case"tax-details":r.value.getTaxes();break;case"approval-settings":i.value.getAnchors();break}}}}},$Le={class:"nav-align-top mb-4"},wLe={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},DLe={class:"nav-item"},xLe={key:0,class:"nav-item"},CLe={key:1,class:"nav-item"},PLe={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},ELe={key:2,class:"nav-item"},ALe={class:"tab-content"},ILe={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},RLe={key:0,class:"tab-pane fade",id:"navs-pills-configurations",role:"tabpanel"},SLe={key:1,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},TLe={key:2,class:"tab-pane fade",id:"navs-pills-tax-details",role:"tabpanel"};function jLe(o,a,s,t,c,m){const _=ce("bank-accounts"),l=ce("approval-settings"),r=ce("invoice-settings"),i=ce("tax-details");return u(),f("div",$Le,[e("ul",wLe,[e("li",DLe,[e("button",{type:"button",onClick:a[0]||(a[0]=d=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.has_factoring_programs==1&&t.can_edit_anchor==1?(u(),f("li",xLe,[e("button",{type:"button",onClick:a[1]||(a[1]=d=>t.switchTabs("approval-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-configurations","aria-controls":"navs-pills-configurations","aria-selected":"false"},a[5]||(a[5]=[e("i",{class:"tf-icons ti ti-clipboard-check ti-xs me-1"},null,-1),le(" Approval/Auto Financing Settings ")]))])):b("",!0),t.can_edit==1?(u(),f("li",CLe,[e("button",{type:"button",onClick:a[2]||(a[2]=d=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[6]||(a[6]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",PLe)):b("",!0)])])):b("",!0),t.can_edit==1?(u(),f("li",ELe,[e("button",{type:"button",onClick:a[3]||(a[3]=d=>t.switchTabs("tax-details")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-tax-details","aria-controls":"navs-pills-tax-details","aria-selected":"false"},[a[7]||(a[7]=e("i",{class:"tf-icons ti ti-settings ti-xs me-1"},null,-1)),le(" "+n(o.$t("Tax Details")),1)])])):b("",!0)]),e("div",ALe,[e("div",ILe,[Be(_,{ref:"bank_accounts"},null,512)]),t.has_factoring_programs==1&&t.can_edit_anchor==1?(u(),f("div",RLe,[t.can_edit_anchor==1?(u(),me(l,{key:0,ref:"approval_settings"},null,512)):b("",!0)])):b("",!0),t.can_edit==1?(u(),f("div",SLe,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit,has_dealer_financing_programs:t.has_dealer_financing_programs},null,8,["can_edit","has_dealer_financing_programs"])])):b("",!0),t.can_edit==1?(u(),f("div",TLe,[Be(i,{ref:"tax_details",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const OLe=Ue(kLe,[["render",jLe]]),MLe={name:"Payments",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(null),r=h(50),i=async()=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(D=>{a.value=D.data})},d=D=>{let k="";switch(D){case"Created":k="bg-label-secondary";break;case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-warning";break;case"Submitted":k="bg-label-primary";break;case"Approved":k="bg-label-success";break;case"Disbursed":k="bg-label-success";break;case"Denied":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},p=D=>{let k="";switch(D){case"pending":k="bg-label-primary";break;case"financed":k="bg-label-success";break;case"closed":k="bg-label-secondary";break;case"denied":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},v=async(D,k)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+D+"/details").then(I=>{_.value=I.data,bt(()=>{document.getElementById(k).click()})}).catch(I=>{console.log(I)})},g=async(D,k)=>{await A.get(o+"purchase-orders/"+D+"/show").then(I=>{l.value=I.data,bt(()=>{document.getElementById(k).click()})}).catch(I=>{console.log(I)})},w=(D,k)=>(k/D*100).toFixed(2),y=()=>{A.get("factoring/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)})};Qe(()=>{i()});const x=async D=>{await A.get(D,{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(k=>{a.value=k.data})};return ot([r],async([D])=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:D}}).then(k=>{a.value=k.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:r,resolveStatus:d,resolveFinancingStatus:p,getTaxPercentage:w,exportInvoices:y,changePage:x,clearSearch:()=>{s.value="",t.value="",c.value="";let D=$(".ti-refresh").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(k=>{a.value=k.data,D.html('<i class="ti ti-search"></i>')})},filter:async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(k=>{a.value=k.data,D.html('<i class="ti ti-search"></i>')})},invoice_details:_,purchase_order_details:l,showInvoice:v,showPurchaseOrder:g}}},LLe={class:"card"},NLe={class:"card-body"},FLe={class:"d-flex justify-content-between"},YLe={class:"d-flex flex-wrap gap-1"},VLe={class:""},BLe={for:"anchor",class:"form-label"},ULe={class:""},qLe={for:"invoice-number",class:"form-label"},HLe={class:""},zLe={for:"Pi Number",class:"form-label"},WLe={class:""},KLe={for:"Paid Date",class:"form-label"},GLe={class:"table-search-btn"},QLe={class:"table-clear-btn"},ZLe={class:"d-flex mx-2",style:{height:"fit-content"}},JLe={class:"table-responsive"},XLe={class:"table"},eNe={key:0},tNe={colspan:"12",class:"text-center"},oNe={class:"text-center"},aNe={key:1},nNe={colspan:"12",class:"text-center"},sNe={class:"text-center"},lNe=["onClick"],iNe={href:"javascript:;",class:"dropdown-item"},rNe={class:"text-success"},dNe={class:"text-primary"},cNe={class:""},uNe={class:"text-success"},_Ne=["onClick"],mNe={class:"d-inline-block"},fNe=["id","data-bs-target"],hNe=["id","data-bs-target"],pNe=["id","data-bs-target"],vNe=["id","data-bs-target"],gNe=["id","data-bs-target"],bNe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},yNe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},kNe={class:"modal-content"},$Ne={class:"modal-body"},wNe={class:"d-flex justify-content-center"},DNe=["id"],xNe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},CNe={class:"modal-content"},PNe={class:"modal-header"},ENe={class:"modal-title",id:"modalCenterTitle"},ANe={class:"d-flex"},INe=["href"],RNe={class:"modal-body"},SNe={class:"d-flex justify-content-between"},TNe={class:"mb-3 w-50"},jNe={class:"d-flex justify-content-between"},ONe={class:"fw-light my-auto"},MNe={class:"fw-bold mx-2 my-auto"},LNe={class:"d-flex justify-content-between"},NNe={class:"fw-light my-auto"},FNe={class:"fw-bold mx-2 my-auto"},YNe={class:"d-flex justify-content-between"},VNe={class:"fw-light my-auto"},BNe={class:"fw-bold mx-2 my-auto"},UNe={class:"d-flex justify-content-between"},qNe={class:"fw-light my-auto"},HNe={key:0,class:"d-flex justify-content-between"},zNe={class:"fw-light my-auto"},WNe={class:"fw-bold mx-2 my-auto"},KNe={class:"mb-3"},GNe={class:"d-flex justify-content-between"},QNe={class:"my-auto fw-light"},ZNe={class:"fw-bold mx-2 my-auto"},JNe={class:"d-flex justify-content-between"},XNe={class:"my-auto fw-light"},eFe={class:"fw-bold mx-2 my-auto"},tFe={class:"d-flex justify-content-between"},oFe={class:"my-auto fw-light"},aFe={class:"fw-bold mx-2 my-auto"},nFe={class:"d-flex justify-content-between"},sFe={class:"my-auto fw-light"},lFe={class:"fw-bold text-success mx-2 my-auto"},iFe={class:"table-responsive"},rFe={class:"table"},dFe={class:"bg-label-secondary px-2"},cFe={class:"d-flex justify-content-end"},uFe={class:"mx-2 my-auto py-1"},_Fe={class:"text-success my-auto py-1"};function mFe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",LLe,[e("div",NLe,[e("div",FLe,[e("div",YLe,[e("div",VLe,[e("label",BLe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",ULe,[e("label",qLe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",HLe,[e("label",zLe,n(o.$t("PI No"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[5]||(a[5]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.pi_number_search]])]),e("div",WLe,[e("label",KLe,n(o.$t("Paid Date")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=i=>t.paid_date_search=i)},null,544),[[X,t.paid_date_search]])]),e("div",GLe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",QLe,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",ZLe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",JLe,[e("table",XLe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI No")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Paid Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",eNe,[e("td",tNe,[e("span",oNe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",aNe,[e("td",nNe,[e("span",sNe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.buyer),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",iNe,n(i.invoice_number),1)],8,lNe),e("td",rNe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",dNe,n(i.pi_number),1),e("td",cNe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",uNe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("button",{class:"btn btn-sm btn-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,_Ne),e("div",mNe,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,fNe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,hNe),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,pNe),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,vNe),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,gNe),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",bNe,[e("div",yNe,[e("div",kNe,[e("div",$Ne,[e("div",wNe,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",xNe,[e("div",CNe,[e("div",PNe,[e("h5",ENe,n(o.$t("Purchase Order")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",ANe,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,INe)):b("",!0)])]),e("div",RNe,[e("div",SNe,[e("div",TNe,[e("span",jNe,[e("h5",ONe,n(o.$t("Vendor"))+":",1),e("h6",MNe,n(t.purchase_order_details.company.name),1)]),e("span",LNe,[e("h5",NNe,n(o.$t("Delivery Address"))+":",1),e("h6",FNe,n(t.purchase_order_details.delivery_address),1)]),e("span",YNe,[e("h5",VNe,n(o.$t("Remarks"))+":",1),e("h6",BNe,n(t.purchase_order_details.remarks),1)]),e("span",UNe,[e("h5",qNe,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",HNe,[e("h5",zNe,n(o.$t("Rejection Reason"))+":",1),e("h6",WNe,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",KNe,[e("span",GNe,[e("h5",QNe,n(o.$t("PO No"))+":",1),e("h6",ZNe,n(t.purchase_order_details.purchase_order_number),1)]),e("span",JNe,[e("h5",XNe,n(o.$t("Start Date"))+":",1),e("h6",eFe,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",tFe,[e("h5",oFe,n(o.$t("End Date"))+":",1),e("h6",aFe,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",nFe,[e("h5",sFe,n(o.$t("PO Amount"))+":",1),e("h6",lFe,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",iFe,[e("table",rFe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",dFe,[e("span",cFe,[e("h6",uFe,n(o.$t("Total")),1),e("h5",_Fe,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,DNe)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const fFe=Ue(MLe,[["render",mFe]]),hFe={name:"ExpiredInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),w=async()=>{await A.get(a+"factoring/invoices/expired/data?per_page="+g.value).then(B=>{s.value=B.data.invoices})},y=async(B,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+B+"/details").then(F=>{m.value=F.data,bt(()=>{document.getElementById(L).click()})}).catch(F=>{console.log(F)})},x=B=>{let L="";switch(B){case"Overdue":L="bg-label-secondary";break;case"Created":L="bg-label-secondary";break;case"Pending Maker":L="bg-label-warning";break;case"Pending Checker":L="bg-label-warning";break;case"Submitted":L="bg-label-primary";break;case"Approved":L="bg-label-success";break;case"Disbursed":L="bg-label-success";break;case"Denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},C=B=>{let L="";switch(B){case"pending":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},E=async B=>{await A.get(a+"factoring/invoices/"+B.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),w()}).catch(L=>{console.log(L),o.error("An error occurred")})},D=(B,L)=>L/B*100;Qe(()=>{w()});const k=async()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",await A.get(a+"factoring/invoices/expired/data",{params:{per_page:g.value}}).then(L=>{s.value=L.data.invoices,B.html('<i class="ti ti-refresh"></i>')})},I=async()=>{let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:g.value}}).then(L=>{s.value=L.data.invoices,B.html('<i class="ti ti-search"></i>')})},V=async B=>{await A.get(B+"&per_page="+g.value,{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value}}).then(L=>{s.value=L.data.invoices})};return ot([g],async([B])=>{await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:B}}).then(L=>{s.value=L.data.invoices})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,buyer_search:i,invoice_number_search:d,status_search:p,finance_status_search:v,per_page:g,resolveStatus:x,resolveFinancingStatus:C,requestApproval:E,changePage:V,getTaxPercentage:D,showInvoice:y,filter:I,clearSearch:k}}},pFe={class:"card"},vFe={class:"card-body p-2"},gFe={class:"d-flex justify-content-between"},bFe={class:"d-flex flex-wrap gap-1"},yFe={class:""},kFe={for:"Vendor",class:"form-label"},$Fe={class:""},wFe={for:"Vendor",class:"form-label"},DFe={class:""},xFe={for:"Vendor",class:"form-label"},CFe={value:""},PFe={value:"pending"},EFe={value:"submitted"},AFe={value:"approved"},IFe={value:"denied"},RFe={class:""},SFe={for:"Vendor",class:"form-label"},TFe={value:""},jFe={value:"pending"},OFe={value:"financed"},MFe={value:"closed"},LFe={value:"denied"},NFe={class:"table-search-btn"},FFe={class:"table-clear-btn"},YFe={class:"d-flex mx-2",style:{height:"fit-content"}},VFe={class:"table-responsive"},BFe={class:"table"},UFe={key:0},qFe={colspan:"12",class:"text-center"},HFe={class:"text-center"},zFe={key:1},WFe={colspan:"12",class:"text-center"},KFe={class:"text-center"},GFe={key:0},QFe={key:1},ZFe=["onClick"],JFe={href:"javascript:;",class:"dropdown-item"},XFe={class:"text-success"},eYe={class:""},tYe={class:""},oYe={class:""},aYe={class:"text-success"},nYe={class:""},sYe={class:"d-inline-block"},lYe={class:"dropdown-menu dropdown-menu-end m-0"},iYe=["onClick"],rYe={key:0},dYe=["href"],cYe={key:1},uYe=["href"],_Ye=["id","data-bs-target"],mYe=["id","data-bs-target"],fYe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},hYe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},pYe={class:"modal-content"},vYe={class:"modal-body"},gYe={class:"d-flex justify-content-center"};function bYe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",pFe,[e("div",vFe,[e("div",gFe,[e("div",bFe,[e("div",yFe,[e("label",kFe,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.buyer_search]])]),e("div",$Fe,[e("label",wFe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",DFe,[e("label",xFe,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",CFe,n(o.$t("Status")),1),e("option",PFe,n(o.$t("Pending")),1),e("option",EFe,n(o.$t("Submitted")),1),e("option",AFe,n(o.$t("Approved")),1),e("option",IFe,n(o.$t("Denied")),1)],512),[[de,t.status_search]])]),e("div",RFe,[e("label",SFe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.finance_status_search=i)},[e("option",TFe,n(o.$t("Finance Status")),1),e("option",jFe,n(o.$t("Pending")),1),e("option",OFe,n(o.$t("Financed")),1),e("option",MFe,n(o.$t("Closed")),1),e("option",LFe,n(o.$t("Denied")),1)],512),[[de,t.finance_status_search]])]),e("div",NFe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",FFe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",YFe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",VFe,[e("table",BFe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amnt")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Disb Amnt")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",UFe,[e("td",qFe,[e("span",HFe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",zFe,[e("td",WFe,[e("span",KFe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[i.buyer?(u(),f("td",GFe,n(i.buyer),1)):(u(),f("td",QFe,n(i.company),1)),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",JFe,n(i.invoice_number),1)],8,ZFe),e("td",XFe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",eYe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",tYe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",oYe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",aYe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",nYe,[e("div",sYe,[a[11]||(a[11]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",lYe,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,iYe)]),i.can_edit?(u(),f("li",rYe,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,dYe)])):b("",!0),i.buyer?b("",!0):(u(),f("li",cYe,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,uYe)]))])])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,_Ye),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,mYe),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",fYe,[e("div",hYe,[e("div",pYe,[e("div",vYe,[e("div",gYe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const yYe=Ue(hFe,[["render",bYe]]),kYe={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"factoring/invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},$Ye={class:"card p-2"},wYe={class:"d-flex justify-content-between"},DYe={class:"d-flex flex-wrap gap-1"},xYe={class:""},CYe={for:"Invoice No",class:"form-label"},PYe={class:""},EYe={for:"From Date",class:"form-label"},AYe={class:""},IYe={for:"Status",class:"form-label"},RYe={value:""},SYe={value:"Successful"},TYe={value:"Failed"},jYe={class:"mt-auto"},OYe={class:"mt-auto"},MYe={class:"d-flex gap-1 justify-content-end mt-auto"},LYe={class:"table-responsive p-2"},NYe={class:"table dt-invoices"},FYe={key:0},YYe={colspan:"12",class:"text-center"},VYe={class:"text-center"},BYe={key:1},UYe={colspan:"12",class:"text-center"},qYe={class:"text-center"},HYe={key:0,class:"badge bg-label-success me-1"},zYe={key:1,class:"badge bg-label-danger me-1"},WYe={class:""};function KYe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",$Ye,[e("div",wYe,[e("div",DYe,[e("div",xYe,[e("label",CYe,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[X,t.invoice_number_search]])]),e("div",PYe,[e("label",EYe,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[X,t.uploaded_date_search]])]),e("div",AYe,[e("label",IYe,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",RYe,n(o.$t("Select Status")),1),e("option",SYe,n(o.$t("Successful")),1),e("option",TYe,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",jYe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",OYe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",MYe,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",LYe,[e("table",NYe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",FYe,[e("td",YYe,[e("span",VYe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",BYe,[e("td",UYe,[e("span",qYe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",HYe,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",zYe,n(l.status),1)):b("",!0)]),e("td",WYe,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const GYe=Ue(kYe,[["render",KYe]]),QYe={name:"DiscountSlab",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(1),l=h([]),r=h([]),i=h([]),d=h(50),p=()=>{A.get(a+"factoring/settings/slab-settings/data",{params:{per_page:d.value}}).then(C=>{s.value=C.data.slabs})};return Qe(()=>{p()}),{per_page:d,slabs:s,title:c,status:m,discount_percentages:l,from_days:r,to_days:i,slabs_count:_,addEarlyPaymentDiscountSlab:()=>{const C=new FormData;C.append("title",c.value),C.append("status",m.value),C.append("from_days",JSON.stringify(r.value)),C.append("to_days",JSON.stringify(i.value)),C.append("discount_percentages",JSON.stringify(l.value)),A.post(a+"factoring/settings/slab-settings/store",C).then(()=>{p(),o.success("Slab added successfully"),c.value="",m.value="",_.value=1,l.value=[],r.value=[],i.value=[],document.getElementById("close-upload-modal").click()}).catch(E=>{console.log(E),o.error("An error occurred while adding")})},updateEarlyPaymentDiscountSlab:()=>{const C=new FormData;C.append("slab_id",t.value),C.append("title",c.value),C.append("status",m.value),C.append("from_days",JSON.stringify(r.value)),C.append("to_days",JSON.stringify(i.value)),C.append("discount_percentages",JSON.stringify(l.value)),A.post(a+"factoring/settings/slab-settings/update",C).then(()=>{p(),document.getElementById("close-upload-modal-"+t.value).click(),o.success("Slab updated successfully"),c.value="",m.value="",_.value=1,l.value=[],r.value=[],i.value=[]}).catch(E=>{console.log(E),o.error("An error occurred while adding")})},addCount:()=>{_.value+=1},editSlab:C=>{t.value=C.id,c.value=C.title,m.value=C.status,_.value=1,l.value=[],r.value=[],i.value=[],C.discount_slabs.forEach(E=>{l.value.push(E.discount_percentage),r.value.push(E.from_day),i.value.push(E.to_day),_.value+=1})},changePage:async C=>{await A.get(C,{params:{per_page:d.value}}).then(E=>{s.value=E.data.slabs})}}}},ZYe={class:"card p-2"},JYe={class:"d-flex justify-content-between"},XYe={class:"d-flex"},eVe={class:"mx-1"},tVe={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},oVe={class:"modal modal-center fade modal-lg",id:"addBranch",tabindex:"-1"},aVe={class:"modal-dialog"},nVe={class:"modal-header"},sVe={class:"modal-title",id:"modalTopTitle"},lVe={class:"modal-body my-1"},iVe={class:"row"},rVe={class:"col-6"},dVe={class:"form-group"},cVe={for:"Title",class:"form-label"},uVe={class:"col-6"},_Ve={class:"form-group my-1"},mVe={for:"Name",class:"form-label"},fVe={value:"inactive"},hVe={class:"d-flex justify-content-between"},pVe={class:"col-3 mt-1"},vVe={class:"form-group my-1"},gVe={for:"Name",class:"form-label"},bVe=["onUpdate:modelValue"],yVe={class:"col-3"},kVe={class:"form-group my-1"},$Ve={for:"Name",class:"form-label"},wVe=["onUpdate:modelValue"],DVe={class:"col-3"},xVe={class:"form-group my-1"},CVe={for:"Name",class:"form-label"},PVe=["onUpdate:modelValue"],EVe={key:0,class:"col-3 my-1"},AVe={class:"modal-footer"},IVe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},RVe={type:"submit",class:"btn btn-primary"},SVe={class:"table-responsive"},TVe={class:"table"},jVe={class:""},OVe={class:"table-border-bottom-0"},MVe={class:"d-flex"},LVe={class:"mx-1"},NVe={class:"mx-1"},FVe={class:"flex"},YVe=["onClick","data-bs-target"],VVe=["id"],BVe={class:"modal-dialog"},UVe={class:"modal-header"},qVe={class:"modal-title",id:"modalTopTitle"},HVe=["id"],zVe={class:"modal-body my-1"},WVe={class:"row"},KVe={class:"col-6"},GVe={class:"form-group"},QVe={for:"Title",class:"form-label"},ZVe={class:"col-6"},JVe={class:"form-group my-1"},XVe={for:"Name",class:"form-label"},eBe={value:"active"},tBe={value:"inactive"},oBe={class:"d-flex justify-content-between"},aBe={class:"col-3 mt-1"},nBe={class:"form-group my-1"},sBe={for:"Name",class:"form-label"},lBe=["onUpdate:modelValue"],iBe={class:"col-3"},rBe={class:"form-group my-1"},dBe={for:"Name",class:"form-label"},cBe=["onUpdate:modelValue"],uBe={class:"col-3"},_Be={class:"form-group my-1"},mBe={for:"Name",class:"form-label"},fBe=["onUpdate:modelValue"],hBe={key:0,class:"col-3 my-1"},pBe={class:"modal-footer"},vBe={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},gBe={type:"submit",class:"btn btn-primary"};function bBe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",ZYe,[e("div",JYe,[a[17]||(a[17]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",XYe,[e("div",eVe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",tVe,n(o.$t("Create Early Payment Discount Slab")),1),e("div",oVe,[e("div",aVe,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addEarlyPaymentDiscountSlab&&t.addEarlyPaymentDiscountSlab(...l),["prevent"]))},[e("div",nVe,[e("h5",sVe,n(o.$t("Create Early Payment Discount Slab")),1),a[12]||(a[12]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",lVe,[e("div",iVe,[e("div",rVe,[e("div",dVe,[e("label",cVe,[le(n(o.__("Title"))+" ",1),a[13]||(a[13]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=l=>t.title=l),autocomplete:"off"},null,512),[[X,t.title]])])]),e("div",uVe,[e("div",_Ve,[e("label",mVe,[le(n(o.__("Status"))+" ",1),a[14]||(a[14]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),required:""},[a[15]||(a[15]=e("option",{value:"active"},"Active",-1)),e("option",fVe,n(o.$t("Inactive")),1)],512),[[de,t.status]])])])]),a[16]||(a[16]=e("br",null,null,-1)),e("div",hVe,[e("h6",null,n(o.$t("Discount Slab")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[3]||(a[3]=(...l)=>t.addCount&&t.addCount(...l))},n(o.$t("Add Slab")),1)]),(u(!0),f(G,null,ee(t.slabs_count,l=>(u(),f("div",{class:"row",key:l},[e("div",pVe,[e("div",vVe,[e("label",gVe,n(o.$t("From")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.from_days[l-1]=r,autocomplete:"off"},null,8,bVe),[[X,t.from_days[l-1]]])])]),e("div",yVe,[e("div",kVe,[e("label",$Ve,n(o.$t("To")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.to_days[l-1]=r,autocomplete:"off"},null,8,wVe),[[X,t.to_days[l-1]]])])]),e("div",DVe,[e("div",xVe,[e("label",CVe,n(o.$t("Discount Percentage")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.discount_percentages[l-1]=r,autocomplete:"off"},null,8,PVe),[[X,t.discount_percentages[l-1]]])])]),t.slabs_count>1&&l-1>=1?(u(),f("div",EVe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[4]||(a[4]=r=>t.slabs_count-=1)},n(o.$t("Delete")),1)])):b("",!0)]))),128))]),e("div",AVe,[e("button",IVe,n(o.$t("Close")),1),e("button",RVe,n(o.$t("Submit")),1)])],32)])])])]),e("div",SVe,[e("table",TVe,[e("thead",null,[e("tr",jVe,[e("th",null,n(o.$t("Title")),1),e("th",null,n(o.$t("Discount Slab")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",OVe,[(u(!0),f(G,null,ee(t.slabs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.title),1),e("td",null,[e("div",MVe,[(u(!0),f(G,null,ee(l.discount_slabs,r=>(u(),f("div",{key:r.id,class:"d-flex mx-1"},[e("span",null,n(r.from_day),1),a[18]||(a[18]=e("span",{class:"mx-1"},"to",-1)),e("span",LVe,n(r.to_day),1),a[19]||(a[19]=e("span",null,"-",-1)),e("span",NVe,n(r.discount_percentage),1),a[20]||(a[20]=e("span",{class:""},"%",-1)),a[21]||(a[21]=e("span",null,",",-1))]))),128))])]),e("td",FVe,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editSlab(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,YVe),e("div",{class:"modal modal-center fade modal-lg",id:"rate-"+l.id,tabindex:"-1"},[e("div",BVe,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.updateEarlyPaymentDiscountSlab&&t.updateEarlyPaymentDiscountSlab(...r),["prevent"]))},[e("div",UVe,[e("h5",qVe,n(o.$t("Edit Early Payment Discount Slab")),1),e("button",{type:"button",class:"btn-close",id:"close-upload-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,HVe)]),e("div",zVe,[e("div",WVe,[e("div",KVe,[e("div",GVe,[e("label",QVe,[le(n(o.$t("Title"))+" ",1),a[22]||(a[22]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.title=r),autocomplete:"off"},null,512),[[X,t.title]])])]),e("div",ZVe,[e("div",JVe,[e("label",XVe,[le(n(o.$t("Status"))+" ",1),a[23]||(a[23]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.status=r),required:""},[e("option",eBe,n(o.$t("Active")),1),e("option",tBe,n(o.$t("Inactive")),1)],512),[[de,t.status]])])])]),a[24]||(a[24]=e("br",null,null,-1)),e("div",oBe,[e("h6",null,n(o.$t("Discount Slab")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[8]||(a[8]=(...r)=>t.addCount&&t.addCount(...r))},n(o.$t("Add")),1)]),(u(!0),f(G,null,ee(t.slabs_count,r=>(u(),f("div",{class:"row",key:r},[e("div",aBe,[e("div",nBe,[e("label",sBe,n(o.$t("From")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.from_days[r-1]=i,autocomplete:"off"},null,8,lBe),[[X,t.from_days[r-1]]])])]),e("div",iBe,[e("div",rBe,[e("label",dBe,n(o.__("To")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.to_days[r-1]=i,autocomplete:"off"},null,8,cBe),[[X,t.to_days[r-1]]])])]),e("div",uBe,[e("div",_Be,[e("label",mBe,n(o.$t("Discount Percentage")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.discount_percentages[r-1]=i,autocomplete:"off"},null,8,fBe),[[X,t.discount_percentages[r-1]]])])]),t.slabs_count>1&&r-1>=1?(u(),f("div",hBe,[e("button",{class:"btn btn-danger btn-sm",onClick:a[9]||(a[9]=i=>t.slabs_count-=1)},n(o.$t("Delete")),1)])):b("",!0)]))),128))]),e("div",pBe,[e("button",vBe,n(o.$t("Close")),1),e("button",gBe,n(o.$t("Submit")),1)])],32)])],8,VVe)])]))),128))])])]),Be(_,{from:t.slabs.from,to:t.slabs.to,links:t.slabs.links,next_page:t.slabs.next_page_url,prev_page:t.slabs.prev_page_url,total_items:t.slabs.total,first_page_url:t.slabs.first_page_url,last_page_url:t.slabs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const yBe=Ue(QYe,[["render",bBe]]),kBe={name:"Dealers",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"factoring/invoices/dealers/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.data})};Qe(()=>{c()});const m=()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/dealers/data",{params:{vendors:s.value,per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-search"></i>')})},_=()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",A.get(o+"factoring/invoices/dealers/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-refresh"></i>')})};return ot([t],async([r])=>{await A.get(o+"factoring/invoices/dealers/data",{params:{vendors:s.value,per_page:r}}).then(i=>{a.value=i.data.data})}),{moment:H,vendors:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value}}).then(i=>{a.value=i.data.data})},per_page:t,vendors_search:s,filter:m,refresh:_}}},$Be={class:"card"},wBe={class:"card-body"},DBe={class:"d-flex justify-content-between"},xBe={class:"d-flex flex-wrap gap-1"},CBe={class:""},PBe={for:"Search",class:"form-label"},EBe={class:"mx-1 table-search-btn"},ABe={class:"mx-1 table-clear-btn"},IBe={class:"d-flex"},RBe={class:"table-responsive p-2"},SBe={class:"table"},TBe={key:0},jBe={colspan:"12",class:"text-center"},OBe={class:"text-center"},MBe={key:1},LBe={colspan:"12",class:"text-center"},NBe={class:"text-center"},FBe={key:0},YBe={key:1},VBe={class:""};function BBe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",$Be,[e("div",wBe,[e("div",DBe,[e("div",xBe,[e("div",CBe,[e("label",PBe,n(o.$t("Dealers/Buyers")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendors_search=l),placeholder:"Search Dealers/Buyers","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.vendors_search]])]),e("div",EBe,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ABe,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",IBe,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])])]),t.vendors.meta?(u(),me(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",RBe,[e("table",SBe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",TBe,[e("td",jBe,[e("span",OBe,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",MBe,[e("td",LBe,[e("span",NBe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[l.buyer_name?(u(),f("span",FBe,n(l.buyer_name),1)):(u(),f("span",YBe,n(l.company_name),1))]),e("td",VBe,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),me(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const UBe=Ue(kBe,[["render",BBe]]),qBe={name:"PaidInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("overdue-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(null),C=h(null),E="../../../../../assets/img/spinner.svg",D=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})},k=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get("../invoices/"+S+"/details").then(W=>{x.value=W.data,C.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},I=(S,U)=>(U/S*100).toFixed(2);Qe(()=>{D()});const V=S=>{let U="";if(S.days_past_due>0)U="bg-label-danger";else switch(S.status){case"pending":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},L=async()=>{w.value=$("#date_search").val(),w.value&&(d.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(v.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{per_page:t.value,type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},F=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",_.value="",i.value="",d.value="",p.value="",w.value="",$("#date_search").val(""),v.value="",g.value="",$("#disbursement_date_search").val(""),await A.get("report",{params:{type:c.value,per_page:t.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=h(!1),P=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,financing_status:i,status:r,vendor:l,from_date:d,to_date:p,invoice_details:x,filter:L,refresh:F,resolveStatus:V,resolveFinancingStatus:B,exportReport:()=>{T.value=!0,A.get(s+"reports/report/overdue-invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Overdue_invoice_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{T.value=!1})},exportPdfReport:()=>{P.value=!0,A.get(s+"reports/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{P.value=!1})},changePage:async S=>{await A.get(S,{params:{type:c.value,vendor:l.value,invoice_no:_.value,financing_status:i.value,from_date:d.value,to_date:p.value,from_disbursement_date:v.value,to_disbursement_date:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},showInvoice:k,getTaxPercentage:I,downloadingExcel:T,downloadingPdf:P,spinner:E,invoice_details_key:C}}},HBe={class:"card p-2"},zBe={class:"d-flex flex-column flex-md-row justify-content-between"},WBe={class:"d-flex flex-wrap gap-1"},KBe={class:"form-group"},GBe={for:"Invoice Number",class:"form-label"},QBe={class:"form-group"},ZBe={for:"Vendor",class:"form-label"},JBe={class:""},XBe={class:"form-label",for:""},eUe={class:""},tUe={class:"form-label",for:""},oUe={class:"table-search-btn"},aUe={class:"table-clear-btn"},nUe={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},sUe={class:""},lUe={key:0,class:"d-flex"},iUe=["src"],rUe={key:0,class:"d-flex"},dUe=["src"],cUe={class:"table-responsive"},uUe={class:"table"},_Ue={class:""},mUe={class:"table-border-bottom-0"},fUe={key:0},hUe={colspan:"12",class:"text-center"},pUe={class:"text-center"},vUe={key:1},gUe={colspan:"12",class:"text-center"},bUe={class:"text-center"},yUe={class:""},kUe=["onClick"],$Ue={class:"text-success"},wUe={class:"text-success"},DUe=["id","data-bs-target"],xUe=["id","data-bs-target"],CUe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},PUe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},EUe={class:"modal-content"},AUe={class:"modal-body"},IUe={class:"d-flex justify-content-center"};function RUe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",HBe,[e("div",zBe,[e("div",WBe,[e("div",KBe,[e("label",GBe,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",QBe,[e("label",ZBe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=i=>t.vendor=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor]])]),e("div",JBe,[e("label",XBe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"overdue_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",eUe,[e("label",tUe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",oUe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",aUe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",nUe,[e("div",sUe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,iUe)):(u(),f("span",lUe,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,dUe)):(u(),f("span",rUe,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",cUe,[e("table",uUe,[e("thead",null,[e("tr",_Ue,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Overdue Amount")),1),e("th",null,n(o.$t("DPD")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",mUe,[t.report.data?b("",!0):(u(),f("tr",fUe,[e("td",hUe,[e("span",pUe,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",vUe,[e("td",gUe,[e("span",bUe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",yUe,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,kUe),e("td",$Ue,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",wUe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.balance)),1)]),e("td",null,n(i.days_past_due),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,DUe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,xUe),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",CUe,[e("div",PUe,[e("div",EUe,[e("div",AUe,[e("div",IUe,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const SUe=Ue(qBe,[["render",RUe]]),TUe={name:"AllInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h("closed-invoices"),t=h([]),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(0),d=h(0),p=h([]),v=h([]),g=h(0),w=h(0),y=h(50),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(""),V=h([]),B=h([]),L=h(""),F=h(""),T=h(""),P=h([]),R=h(""),O=h(""),N=h([]),S=h(!1),U=h(!0),W=h(0),oe=async()=>{await A.get("report",{params:{type:s.value,per_page:y.value,vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(te=>{t.value=te.data})},J=async(te,Ce)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+te+"/details").then(Ne=>{l.value=Ne.data,g.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),w.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),W.value++,bt(()=>{document.getElementById(Ce).click()})}).catch(Ne=>{console.log(Ne)})},K=te=>{g.value=new Intl.NumberFormat().format(te.total+te.total_invoice_taxes-te.total_invoice_discount),w.value=new Intl.NumberFormat().format(te.total+te.total_invoice_taxes-te.total_invoice_discount)},z=te=>{$("#view-fees-"+te.id).addClass("d-none"),$("#edit-fees-"+te.id).removeClass("d-none")},ae=te=>{let Ce="";switch(te){case"Overdue":Ce="bg-label-danger";break;case"Created":Ce="bg-label-secondary";break;case"Pending Maker":Ce="bg-label-primary";break;case"Pending Checker":Ce="bg-label-danger";break;case"Submitted":Ce="bg-label-primary";break;case"Approved":Ce="bg-label-success";break;case"Disbursed":Ce="bg-label-success";break;case"Denied":Ce="bg-label-danger";break;case"Rejected":Ce="bg-label-danger";break;default:Ce="bg-label-primary";break}return Ce},we=te=>{let Ce="";switch(te){case"pending":Ce="bg-label-primary";break;case"financed":Ce="bg-label-success";break;case"closed":Ce="bg-label-secondary";break;case"denied":Ce="bg-label-danger";break;default:Ce="bg-label-primary";break}return Ce},Fe=()=>{let te=0,Ce=0,Ne=Object.keys(v.value);Object.values(v.value).forEach((se,fe)=>{Ne[fe]=="Credit Note Amount"&&se>0&&(Ce=se),Ne[fe]!="Credit Note Amount"&&(se>0?te+=se:te-=se)}),te>0&&(w.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-te/100*g.value.replaceAll(",",""))),Ce>0&&(w.value=new Intl.NumberFormat().format(w.value.replaceAll(",","")-Ce)),Ce==0&&te==0&&(w.value=new Intl.NumberFormat.format(g.value.replaceAll(",","")))},he=async te=>{const Ce=new FormData;for(const Ne in v.value)Ne=="Credit Note Amount"&&Ce.append("taxes["+Ne+"]",v.value[Ne]),Ne!="Credit Note Amount"&&Ce.append("taxes["+Ne+"]",v.value[Ne]/100*g.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${te.id}/approve`,Ce).then(()=>{oe(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+te.id).click(),v.value=[]}).catch(Ne=>{if(Ne.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},re=async te=>{await A.get(`${a}invoices/${te.id}/fees/approve`).then(()=>{oe(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+te.id).click();for(const Ce in v.value)v.value[Ce]=""}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},$e=(te,Ce)=>(Ce/te*100).toFixed(2);Qe(()=>{oe(),$("#invoice-status-select").on("change",function(){var te=$("#invoice-status-select").val();V.value=te}),$("#financing-status-select").on("change",function(){var te=$("#financing-status-select").val();B.value=te})});const De=te=>{if(R.value="",P.value.includes(te)){const Ce=P.value.indexOf(te);P.value.splice(Ce,1)}else P.value.push(te);if(P.value.length>0){let Ce={},Ne={};const Ie=new FormData;Ie.append("invoices",P.value),A.post(a+"invoices/bulk/details",Ie).then(se=>{N.value=[],se.data.data.forEach(fe=>{if(Ne[fe.id]=[],fe.invoice_fees.length>0){let Le=0;Ce={},fe.invoice_fees.forEach(Ze=>{Ze.name!="Credit Note Amount"?Le=$e(fe.total+fe.total_invoice_taxes-fe.total_invoice_discount,Ze.amount):Le=Ze.amount,Object.keys(Ce+"-"+fe.id).filter(mt=>mt==Ze.name+"-"+fe.id).length>0||(Ce[Ze.name+"-"+fe.id]=Le)})}else Ce={},Object.keys(p.value).forEach(Le=>{Ce[Le+"-"+fe.id]=0});Ne[fe.id]=Ce}),N.value.push(Ne),S.value=!1})}},ie=()=>{if(R.value="",P.value=[],S.value=!0,document.getElementById("select-all").checked?t.value.data.forEach(async te=>{te.status=="submitted"&&te.user_can_approve&&!te.user_has_approved&&(document.getElementById("data-select-"+te.id).checked=!0,P.value.push(te.id))}):(t.value.data.forEach(te=>{if(te.status=="submitted"&&te.user_can_approve&&!te.user_has_approved){document.getElementById("data-select-"+te.id).checked=!1;let Ce;if(!P.value.filter(function(Ie,se){Ce=se,Ie==te.id}))return!1;P.value.splice(Ce,1)}}),S.value=!1),P.value.length>0){let te={},Ce={};const Ne=new FormData;Ne.append("invoices",P.value),A.post(a+"invoices/bulk/details",Ne).then(Ie=>{N.value=[],Ie.data.data.forEach(se=>{if(Ce[se.id]=[],se.invoice_fees.length>0){let fe=0;te={},se.invoice_fees.forEach(Le=>{Le.name!="Credit Note Amount"?fe=$e(se.total+se.total_invoice_taxes-se.total_invoice_discount,Le.amount):fe=Le.amount,Object.keys(te+"-"+se.id).filter(at=>at==Le.name+"-"+se.id).length>0||(te[Le.name+"-"+se.id]=fe)})}else te={},Object.keys(p.value).forEach(fe=>{te[fe+"-"+se.id]=0});Ce[se.id]=te}),N.value.push(Ce),S.value=!1})}},pe=te=>{if(P.value.length<=0){o.error("Select invoices");return}};ot(R,te=>{(te=="approve"||te=="reject")&&(P.value.length>0?(te=="reject"&&document.getElementById("show-bulk-reject-modal").click(),te=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const be=()=>{const te=new FormData;P.value.forEach((Ce,Ne)=>{te.append("invoice["+Ne+"]",Ce)}),te.append("invoice_taxes",JSON.stringify(N.value)),te.append("action",R.value),U.value=!1,A.post(a+"invoices/bulk/update/approve",te).then(()=>{oe(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const Ce in v.value)v.value[Ce]="";P.value=[],N.value=[],R.value=""}).catch(Ce=>{if(console.log(Ce),Ce.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{U.value=!0})},Me=()=>{const te=new FormData;te.append("rejected_reason",O.value),P.value.forEach((Ce,Ne)=>{te.append("invoice["+Ne+"]",Ce)}),te.append("action",R.value),U.value=!1,A.post(a+"invoices/bulk/update/reject",te).then(()=>{oe(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),P.value=[],N.value=[]}).catch(Ce=>{console.log(Ce),o.error("An error occurred")}).finally(()=>{U.value=!0,R.value=""})};return ot([y],async([te])=>{await A.get("report",{params:{per_page:te,type:s.value,vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(Ce=>{t.value=Ce.data.invoices})}),{moment:H,per_page:y,invoices:t,users:c,eligibility:m,eligibility_amount:_,business_spread:i,discount_amount:d,invoice_details:l,pi_amount:r,anchor_taxes:p,invoice_taxes:v,invoice_subtotal:g,invoice_total:w,vendor_search:x,invoice_number_search:C,status_search:V,financing_status_search:B,from_date_search:E,to_date_search:D,sort_by:T,bulk_action:R,reject_reason:O,selected_invoices:P,selected_invoices_taxes:N,invoice_fees_processing:S,can_bulk_approve:U,selectAll:ie,calculatePayable:te=>{let Ce=$("#pending-invoice-amount-"+te).text().replaceAll(",",""),Ne=$("#pending-withholding-tax-"+te).val(),Ie=$("#pending-withholding-vat-"+te).val(),se=$("#pending-credit-note-amount-"+te).val(),fe=Ne/100*Ce,Le=Ie/100*Ce,Ze=Ce-fe-Le-se;$("#pending-invoice-total-payable-"+te).text(new Intl.NumberFormat().format(Ze))},updateSelected:De,bulkAction:pe,resolveStatus:ae,resolveFinancingStatus:we,changePage:async te=>{await A.get(te,{params:{type:s.value,per_page:y.value,vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(Ce=>{t.value=Ce.data.invoices})},submitApproval:he,showApprovalModal:K,updateInvoiceTotal:Fe,getTaxPercentage:$e,clearSearch:()=>{let te=$(".ti-refresh").parent();te.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",C.value="",E.value="",D.value="",V.value=["pending_maker","pending_checker"],B.value=[],L.value="",T.value="",$("#date_search").val(""),k.value="",I.value="",$("#disbursement_date_search").val(""),A.get("report",{params:{type:s.value,per_page:y.value}}).then(Ce=>{t.value=Ce.data,te.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{L.value=$("#date_search").val(),L.value&&(E.value=H(L.value.split(" - ")[0]).format("YYYY-MM-DD"),D.value=H(L.value.split(" - ")[1]).format("YYYY-MM-DD")),F.value=$("#disbursement_date_search").val(),F.value&&(k.value=H(F.value.split(" - ")[0]).format("YYYY-MM-DD"),I.value=H(F.value.split(" - ")[1]).format("YYYY-MM-DD"));let te=$(".ti-search").parent();te.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get("report",{params:{type:s.value,per_page:y.value,vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(Ce=>{t.value=Ce.data,te.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"reports/report/"+s.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(te=>{const Ce=window.URL.createObjectURL(new Blob([te.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Ne),Ne.click()}).catch(te=>{console.log(te)})},exportPdfReport:()=>{A.get(a+"reports/"+s.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:x.value,invoice_number:C.value,from_date:E.value,to_date:D.value,from_disbursement_date:k.value,to_disbursement_date:I.value,status:V.value,financing_status:B.value,sort_by:T.value}}).then(te=>{const Ce=window.URL.createObjectURL(new Blob([te.data])),Ne=document.createElement("a");Ne.href=Ce,Ne.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(Ne),Ne.click()}).catch(te=>{console.log(te)})},submitBulkApproval:be,submitBulkRejection:Me,submitRejection:te=>{const Ce=new FormData;Ce.append("rejected_reason",O.value),Ce.append("action",R.value),A.post(a+"invoices/"+te+"/reject",Ce).then(()=>{oe(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+te).click(),R.value="",O.value=""}).catch(Ne=>{console.log(Ne),o.error("An error occurred")})},approveFees:re,editBuyerFees:z,showInvoice:J,userHasApproved:(te,Ce)=>{let Ne=!1;return te.approvals.forEach(Ie=>{Ce.id==Ie.user_id&&(Ne=!0)}),Ne},approvalDetails:(te,Ce)=>{let Ne=null;return Ne=te.approvals.filter(Ie=>Ie.user_id==Ce.id).length>0?te.approvals.filter(Ie=>Ie.user_id==Ce.id)[0]:null,Ne},invoice_details_key:W}}},jUe={class:"card p-0"},OUe={class:"card-body p-2"},MUe={class:"d-flex flex-column flex-md-row justify-content-between"},LUe={class:"d-flex flex-wrap gap-1"},NUe={class:""},FUe={for:"Vendor",class:"form-label"},YUe={class:""},VUe={for:"Invoice No",class:"form-label"},BUe={class:""},UUe={class:"form-label",for:""},qUe={class:""},HUe={class:"form-label",for:""},zUe={class:""},WUe={for:"Financing Status",class:"form-label"},KUe={value:""},GUe={value:"po_asc"},QUe={value:"po_desc"},ZUe={value:"invoice_no_asc"},JUe={value:"invoice_no_desc"},XUe={value:"due_date_asc"},eqe={value:"due_date_desc"},tqe={value:"invoice_amount_asc"},oqe={value:"invoice_amount_desc"},aqe={value:"vendor_asc"},nqe={value:"vendor_desc"},sqe={class:"table-search-btn"},lqe={class:"table-clear-btn"},iqe={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},rqe={class:""},dqe={class:"table-responsive"},cqe={class:"table dt-invoices"},uqe={key:0},_qe={colspan:"12",class:"text-center"},mqe={class:"text-center"},fqe={key:1},hqe={colspan:"12",class:"text-center"},pqe={class:"text-center"},vqe=["onClick"],gqe={href:"javascript:;"},bqe={class:"text-success"},yqe={class:""},kqe={class:""},$qe={class:""},wqe={class:""},Dqe={class:""},xqe={class:"d-inline-block"},Cqe=["id","data-bs-target"],Pqe=["id","data-bs-target"],Eqe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Aqe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Iqe={class:"modal-content"},Rqe={class:"modal-body"},Sqe={class:"d-flex justify-content-center"},Tqe={class:"dropdown-menu dropdown-menu-end"},jqe=["onClick"];function Oqe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",jUe,[e("div",OUe,[e("div",MUe,[e("div",LUe,[e("div",NUe,[e("label",FUe,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",YUe,[e("label",VUe,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",BUe,[e("label",UUe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",qUe,[e("label",HUe,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",zUe,[e("label",WUe,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.sort_by=i)},[e("option",KUe,n(o.$t("Sort By")),1),e("option",GUe,n(o.$t("PO No. (ASC)")),1),e("option",QUe,n(o.$t("PO No. (DESC)")),1),e("option",ZUe,n(o.$t("Invoice No. (ASC)")),1),e("option",JUe,n(o.$t("Invoice No. (DESC)")),1),e("option",XUe,n(o.$t("Due Date. (ASC)")),1),e("option",eqe,n(o.$t("Due Date. (DESC)")),1),e("option",tqe,n(o.$t("Invoice Amount. (ASC)")),1),e("option",oqe,n(o.$t("Invoice Amount. (DESC)")),1),e("option",aqe,n(o.$t("Vendor. (ASC)")),1),e("option",nqe,n(o.$t("Vendor. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",sqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",lqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",iqe,[e("div",rqe,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",dqe,[e("table",cqe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Closure Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",uqe,[e("td",_qe,[e("span",mqe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",fqe,[e("td",hqe,[e("span",pqe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",gqe,n(i.invoice_number),1)],8,vqe),e("td",bqe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",yqe,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",kqe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",$qe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",wqe,n(i.closure_date?t.moment(i.closure_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(i.closure_transaction_reference?i.closure_transaction_reference:"-"),1),e("td",Dqe,[e("div",xqe,[a[18]||(a[18]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Cqe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Pqe),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Eqe,[e("div",Aqe,[e("div",Iqe,[e("div",Rqe,[e("div",Sqe,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Tqe,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,jqe)])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Mqe=Ue(TUe,[["render",Oqe]]),Lqe={name:"FactoringOdAccounts",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(50),m=async()=>{await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(i=>{a.value=i.data.data})};ot([c],async([i])=>{await A.get(o+"dealer/invoices/od-accounts/data",{params:{per_page:i,payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data})});const _=async()=>{let i=$(".ti-search").parent();i.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data,i.html('<i class="ti ti-search"></i>')})},l=async()=>{let i=$(".ti-refresh").parent();i.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",t.value="",await A.get(o+"dealer/invoices/od-accounts/data?per_page="+c.value).then(d=>{a.value=d.data.data,i.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{m()}),{reports:a,changePage:async i=>{await A.get(i+"&per_page="+c.value,{params:{payment_account_number:s.value,dealer:t.value}}).then(d=>{a.value=d.data.data})},payment_account_number_search:s,dealer_search:t,per_page:c,filter:_,refresh:l}}},Nqe={class:"card"},Fqe={class:"card-body"},Yqe={class:"d-flex justify-content-between"},Vqe={class:"d-flex flex-wrap gap-1"},Bqe={class:""},Uqe={for:"OD Account",class:"form-label"},qqe={class:""},Hqe={for:"Dealer",class:"form-label"},zqe={class:"table-search-btn"},Wqe={class:"table-clear-btn"},Kqe={class:"d-flex justify-content-end"},Gqe={class:""},Qqe={class:"table-responsive"},Zqe={class:"table"},Jqe={class:""},Xqe={class:"table-border-bottom-0"},eHe={key:0},tHe={colspan:"12",class:"text-center"},oHe={class:"text-center"},aHe={key:1},nHe={colspan:"12",class:"text-center"},sHe={class:"text-center"},lHe={class:"d-flex"},iHe={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Dealer/Vendor has overdue invoices"},rHe={class:"m_title"},dHe={class:"text-success"},cHe={class:"text-success"},uHe={class:"text-success"},_He={class:"text-success"},mHe={key:0},fHe={key:1},hHe={class:"text-success"},pHe={class:"text-success"},vHe={class:"d-flex my-auto"},gHe=["href"];function bHe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Nqe,[e("div",Fqe,[e("div",Yqe,[e("div",Vqe,[e("div",Bqe,[e("label",Uqe,n(o.$t("Payment/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment/OD Account No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.payment_account_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.payment_account_number_search]])]),e("div",qqe,[e("label",Hqe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.dealer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.dealer_search]])]),e("div",zqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wqe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Kqe,[e("div",Gqe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.reports.meta?(u(),me(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Qqe,[e("table",Zqe,[e("thead",null,[e("tr",Jqe,[e("th",null,n(o.$t("Payment / OD Acc No")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Excess Credit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",Xqe,[t.reports.data?b("",!0):(u(),f("tr",eHe,[e("td",tHe,[e("span",oHe,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",aHe,[e("td",nHe,[e("span",sHe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",lHe,[le(n(l.payment_account_number)+" ",1),l.overdue_days>0?(u(),f("i",iHe)):b("",!0)])]),e("td",null,n(l.company_name),1),e("td",rHe,n(l.status),1),e("td",dHe,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",cHe,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",uHe,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",_He,[l.paid_amount>l.sanctioned_limit?(u(),f("span",mHe,n(new Intl.NumberFormat().format(l.paid_amount-l.sanctioned_limit)),1)):(u(),f("span",fHe," 0 "))]),e("td",hHe,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",pHe,n(l.overdue_days),1),e("td",null,[e("div",vHe,[e("a",{href:"od-accounts/"+l.id+"/details"},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,gHe)])])]))),128))])])]),t.reports.meta?(u(),me(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const yHe=Ue(Lqe,[["render",bHe]]),kHe={name:"FactoringOdAccounts",components:{Pagination:oo},props:["program_vendor_configuration"],setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(d=>{s.value=d.data})};ot([m],async([d])=>{await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions",{params:{per_page:d,payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})});const l=async()=>{let d=$(".ti-search").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data,d.html('<i class="ti ti-search"></i>')})},r=async()=>{let d=$(".ti-refresh").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+"dealer/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value).then(p=>{s.value=p.data,d.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),{reports:s,moment:H,changePage:async d=>{await A.get(d+"&per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})},payment_account_number_search:t,dealer_search:c,per_page:m,filter:l,refresh:r}}},$He={class:"card"},wHe={class:"card-body"},DHe={class:"d-flex justify-content-between"},xHe={class:"d-flex justify-content-end"},CHe={class:""},PHe={class:"table-responsive"},EHe={class:"table"},AHe={class:""},IHe={class:"table-border-bottom-0"},RHe={key:0},SHe={colspan:"12",class:"text-center"},THe={class:"text-center"},jHe={key:1},OHe={colspan:"12",class:"text-center"},MHe={class:"text-center"},LHe={key:0},NHe={key:0},FHe={key:1},YHe={key:1},VHe={key:2},BHe={key:3},UHe={key:4},qHe={key:5};function HHe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",$He,[e("div",wHe,[e("div",DHe,[a[2]||(a[2]=e("div",null,null,-1)),e("div",xHe,[e("div",CHe,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.reports.meta?(u(),me(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",PHe,[e("table",EHe,[e("thead",null,[e("tr",AHe,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",IHe,[t.reports.data?b("",!0):(u(),f("tr",RHe,[e("td",SHe,[e("span",THe,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",jHe,[e("td",OHe,[e("span",MHe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("td",null,[l.transaction_type=="Payment Disbursement"?(u(),f("div",LHe,[l.payment_request.program_type=="Dealer Financing"?(u(),f("div",NHe,[e("span",null,"Drawdown against "+n(l.payment_request.invoice_number),1)])):(u(),f("div",FHe,[e("span",null,"Disbursement for "+n(l.payment_request.invoice_number),1)]))])):b("",!0),l.transaction_type=="Accrual/Posted Interest"?(u(),f("span",YHe,"Discount Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Fees/Charges"?(u(),f("span",VHe,"Fees/Charges Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Repayment"?(u(),f("span",BHe,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Bank Invoice Payment"?(u(),f("span",UHe,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Overdue Account"?(u(),f("span",qHe,"Penal Payment againt "+n(l.payment_request.invoice_number),1)):b("",!0)]),e("td",null,n(new Intl.NumberFormat().format(l.amount)),1),e("td",null,n(new Intl.NumberFormat().format(l.amount)),1),a[3]||(a[3]=e("td",null,"-",-1)),a[4]||(a[4]=e("td",null,"-",-1))]))),128))])])]),t.reports.meta?(u(),me(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const zHe=Ue(kHe,[["render",HHe]]),WHe={name:"FinanceRequests",components:{Pagination:oo},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=lt(),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(""),v=async()=>{await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(V=>{a.value=V.data.finance_requests}).catch(V=>{console.log(V)})};Qe(()=>{v()});const g=V=>{let B="";switch(V){case"Pending Maker":B="bg-label-primary";break;case"Pending Checker":B="bg-label-warning";break;case"Overdue":B="bg-label-danger";break;case"Created":B="bg-label-secondary";break;case"Pending":B="bg-label-secondary";break;case"Approved":B="bg-label-success";break;case"Paid":B="bg-label-success";break;case"Failed":B="bg-label-danger";break;case"Rejected":B="bg-label-danger";break;case"Past Due":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},w=(V,B)=>(B/V*100).toFixed(2),y=V=>{let B="";switch(V){case"pending":B="bg-label-primary";break;case"paid":B="bg-label-primary";break;case"closed":B="bg-label-success";break;case"denied":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},x=V=>{let B="";switch(V){case"created":B="bg-label-primary";break;case"approved":B="bg-label-success";break;case"paid":B="bg-label-success";break;case"failed":B="bg-label-danger";break;case"rejected":B="bg-label-danger";break;default:B="bg-label-primary";break}return B},C=async V=>{await A.get(V+"&per_page="+d.value,{params:{dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests})};return ot([d],async([V])=>{await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{per_page:V,dealer:_.value,invoice_number:c.value,status:m.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)})}),{moment:H,finance_requests:a,invoice_number_search:c,status_search:m,dealer_search:_,per_page:d,rejection_reason:p,getTaxPercentage:w,resolveRequestStatus:g,changePage:C,resolveFinancingStatus:y,resolvePaymentRequestStatus:x,filter:async()=>{l.value=$("#date_search").val(),l.value&&(r.value=H(l.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(l.value.split(" - ")[1]).format("YYYY-MM-DD"));let V=$(".ti-search").parent();V.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"dealer/invoices/dealer/payment-instructions/data",{params:{dealer:_.value,invoice_number:c.value,status:m.value,per_page:d.value,from_date:r.value,to_date:i.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)}).finally(()=>{V.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let V=$(".ti-refresh").parent();V.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",r.value="",i.value="",l.value="",await A.get(o+"factoring/invoices/dealer/payment-instructions/data",{params:{per_page:d.value}}).then(B=>{a.value=B.data.finance_requests}).catch(B=>{console.log(B)}).finally(()=>{V.html('<i class="ti ti-refresh"></i>')})},invoice_details:s,showInvoice:async(V,B)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+V+"/details").then(L=>{s.value=L.data,bt(()=>{document.getElementById(B).click()})}).catch(L=>{console.log(L)})},updateApprovalStatus:(V,B)=>{const L=new FormData;L.append("status",B),L.append("rejection_reason",p.value),A.post(o+"dealer/payment-requests/"+V+"/status/update",L).then(()=>{t.success("Request updated successfully"),B=="rejected"?document.getElementById("reject-request-close-btn-"+V).click():document.getElementById("approve-request-close-btn-"+V).click(),v()}).catch(F=>{console.log(F),t.error("An error occurred while updating the request")})}}}},KHe={class:"card p-0"},GHe={class:"card-header d-flex justify-content-between"},QHe={class:"d-flex flex-wrap gap-1"},ZHe={class:""},JHe={for:"buyer",class:"form-label"},XHe={class:""},eze={for:"Invoice Number",class:"form-label"},tze={class:""},oze={class:"form-label",for:""},aze={class:""},nze={for:"Status",class:"form-label"},sze={value:""},lze={value:"created"},ize={value:"approved"},rze={value:"paid"},dze={value:"rejected"},cze={class:"table-search-btn"},uze={class:"table-clear-btn"},_ze={class:"d-flex align-items-end"},mze={style:{"margin-right":"10px"}},fze={class:"card-body"},hze={class:"table-responsive"},pze={class:"table"},vze={class:"text-nowrap"},gze={class:"px-1"},bze={class:"table-border-bottom-0"},yze={key:0},kze={colspan:"12",class:"text-center"},$ze={class:"text-center"},wze={key:1},Dze={colspan:"12",class:"text-center"},xze={class:"text-center"},Cze=["data-bs-target"],Pze=["onClick"],Eze=["onClick"],Aze={class:"text-success"},Ize=["id","data-bs-target"],Rze=["id","data-bs-target"],Sze={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Tze={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},jze={class:"modal-content"},Oze={class:"modal-body"},Mze={class:"d-flex justify-content-center"},Lze=["id"],Nze={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Fze={class:"modal-content"},Yze={class:"modal-header"},Vze={class:"modal-title",id:"modalCenterTitle"},Bze=["id"],Uze=["onSubmit"],qze={class:"modal-body"},Hze={class:"modal-footer"},zze={class:"btn btn-primary",type:"submit"},Wze=["id"],Kze={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Gze={class:"modal-content"},Qze={class:"modal-header"},Zze={class:"modal-title",id:"modalCenterTitle"},Jze=["id"],Xze=["onSubmit"],eWe={class:"modal-body"},tWe={class:"row mb-1"},oWe={class:"form-group"},aWe={for:""},nWe={class:"modal-footer"},sWe={class:"btn btn-primary",type:"submit"},lWe=["id"],iWe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},rWe={class:"modal-content"},dWe={class:"modal-header"},cWe={class:"modal-title",id:"modalCenterTitle"},uWe={class:"d-flex"},_We=["href"],mWe=["href"],fWe=["href"],hWe={key:0,class:"d-flex"},pWe=["href"],vWe={class:"modal-body"},gWe={class:"d-flex justify-content-between"},bWe={class:"mb-3"},yWe={class:"d-flex justify-content-between"},kWe={class:"fw-light my-auto"},$We={class:"fw-bold mx-2 my-auto"},wWe={class:"d-flex justify-content-between"},DWe={class:"fw-light my-auto"},xWe={class:"fw-bold mx-2 my-auto"},CWe={key:0,class:"d-flex justify-content-between"},PWe={class:"fw-light my-auto"},EWe={class:"fw-bold mx-2 my-auto"},AWe={key:1,class:"d-flex justify-content-between"},IWe={class:"fw-light my-auto"},RWe={class:"fw-bold mx-2 my-auto"},SWe={class:"mb-3"},TWe={key:0,class:"d-flex justify-content-between"},jWe={class:"my-auto fw-light"},OWe=["data-bs-target"],MWe={key:1,class:"d-flex justify-content-between"},LWe={class:"my-auto fw-light"},NWe={class:"fw-bold mx-2 my-auto"},FWe={class:"d-flex justify-content-between"},YWe={class:"my-auto fw-light"},VWe={class:"fw-bold mx-2 my-auto"},BWe={class:"d-flex justify-content-between"},UWe={class:"my-auto fw-light"},qWe={class:"fw-bold text-success mx-2 my-auto"},HWe={class:"d-flex justify-content-between"},zWe={class:"my-auto fw-light"},WWe={class:"fw-bold mx-2 my-auto"},KWe={class:"table-responsive"},GWe={class:"table"},QWe={style:{background:"#f0f0f0"}},ZWe={key:0,class:"px-2"},JWe={class:"d-flex justify-content-end"},XWe={class:"mx-2 my-auto"},eKe={class:"text-success my-auto"},tKe={key:1,class:"px-2"},oKe={class:"mx-2 my-auto"},aKe={class:"text-success my-auto"},nKe={class:"bg-label-secondary px-2"},sKe={class:"d-flex justify-content-end"},lKe={class:"mx-2 my-auto py-1"},iKe={class:"text-success my-auto py-1"},rKe=["id"],dKe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},cKe={class:"modal-content"},uKe={class:"modal-header"},_Ke={class:"modal-title",id:"modalCenterTitle"},mKe={class:"d-flex"},fKe=["href"],hKe=["href"],pKe={key:0,class:"d-flex"},vKe=["href"],gKe={class:"modal-body"},bKe={class:"d-flex justify-content-between"},yKe={class:"mb-3"},kKe={class:"d-flex justify-content-between"},$Ke={class:"fw-light my-auto"},wKe={class:"fw-bold mx-2 my-auto"},DKe={class:"d-flex justify-content-between"},xKe={class:"fw-light my-auto"},CKe={class:"fw-bold mx-2 my-auto"},PKe={key:0,class:"d-flex justify-content-between"},EKe={class:"fw-light my-auto"},AKe={class:"fw-bold mx-2 my-auto"},IKe={class:"mb-3"},RKe={key:0,class:"d-flex justify-content-between"},SKe={class:"my-auto fw-light"},TKe={class:"fw-bold mx-2 my-auto"},jKe={class:"d-flex justify-content-between"},OKe={class:"my-auto fw-light"},MKe=["data-bs-target"],LKe={class:"d-flex justify-content-between"},NKe={class:"my-auto fw-light"},FKe={class:"fw-bold text-success mx-2 my-auto"},YKe={class:"d-flex justify-content-between"},VKe={class:"my-auto fw-light"},BKe={class:"fw-bold mx-2 my-auto"},UKe={class:"table-responsive"},qKe={class:"table"},HKe={style:{background:"#f0f0f0"}},zKe={key:0,class:"px-2"},WKe={class:"d-flex justify-content-end"},KKe={class:"mx-2 my-auto"},GKe={class:"text-success my-auto"},QKe={key:1,class:"px-2"},ZKe={class:"mx-2 my-auto"},JKe={class:"text-success my-auto"},XKe={key:2,class:"px-2"},eGe={class:"mx-2 my-auto py-1"},tGe={key:0,class:"text-success my-auto py-1"},oGe={key:1,class:"text-success my-auto py-1"},aGe={class:"bg-label-secondary px-2"},nGe={class:"d-flex justify-content-end"},sGe={class:"mx-2 my-auto py-1"},lGe={class:"text-success my-auto py-1"},iGe=["id"],rGe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},dGe={class:"modal-content"},cGe={class:"modal-header"},uGe={class:"modal-title",id:"modalCenterTitle"},_Ge={class:"modal-body"},mGe={class:"row mb-1"},fGe={class:"col-6 my-1"},hGe={class:"col-6"},pGe={class:"col-6 my-1"},vGe={class:"col-6"},gGe={class:"col-6 my-1"},bGe={class:"col-6"},yGe={class:"col-6 my-1"},kGe=["onClick"],$Ge={class:"col-6 my-1"},wGe={class:"col-6 text-success"},DGe={class:"col-6 my-1"},xGe={class:"col-6"},CGe={class:"col-6 my-1"},PGe={class:"col-6 text-success"},EGe={class:"col-6 my-1"},AGe={class:"col-6 text-success"},IGe={class:"col-6 my-1"},RGe={class:"col-6"},SGe={class:"col-6 my-1"},TGe={class:"col-6"},jGe={class:"col-6 my-1"},OGe={class:"col-6"},MGe={class:"col-6 my-1"},LGe={class:"col-6"},NGe={class:"col-6 my-1"},FGe={class:"col-6"},YGe={key:0,class:"col-12"},VGe={key:0,class:"col-6 my-1 m_title"},BGe={key:0,class:"m_title"},UGe={key:1,class:"col-6 text-success"},qGe={class:"col-6 my-1"},HGe={class:"col-6 text-success"},zGe={class:"col-6 my-1"},WGe={class:"col-6"},KGe={class:"modal-footer"},GGe={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function QGe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",KHe,[e("div",GHe,[e("div",QHe,[e("div",ZHe,[e("label",JHe,n(o.$t("Dealer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.dealer_search=l),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.dealer_search]])]),e("div",XHe,[e("label",eze,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",tze,[e("label",oze,n(o.$t("Date"))+" ("+n(o.$t("Maturity Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",aze,[e("label",nze,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",sze,n(o.$t("Status")),1),e("option",lze,n(o.$t("Created")),1),e("option",ize,n(o.$t("Approved")),1),e("option",rze,n(o.$t("Paid")),1),e("option",dze,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",cze,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",uze,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_ze,[e("div",mze,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])])])]),e("div",fze,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",hze,[e("table",pze,[e("thead",null,[e("tr",vze,[e("th",gze,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("Status")),1),a[13]||(a[13]=e("th",null,null,-1))])]),e("tbody",bze,[t.finance_requests.data?b("",!0):(u(),f("tr",yze,[e("td",kze,[e("span",$ze,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",wze,[e("td",Dze,[e("span",xze,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,l=>(u(),f("tr",{key:l.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+l.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(l.reference_number),9,Cze),e("td",null,[e("span",null,n(l.company_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.invoice_id,"show-details-btn-"+l.invoice_id),style:{cursor:"pointer"}},n(l.invoice_number),9,Pze),e("td",{class:"text-primary text-decoration-underline",onClick:r=>t.showInvoice(l.invoice_id,"show-pi-btn-"+l.invoice_id),style:{cursor:"pointer"}},n(l.pi_number),9,Eze),e("td",Aze,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.drawdown_amount)),1)]),e("td",null,n(t.moment(l.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[l.requires_company_approval?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus("Pending")])},n(o.$t("Pending")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(l.approval_stage)])},n(l.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.invoice_id},null,8,Ize),e("button",{class:"d-none",id:"show-pi-btn-"+l.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.invoice_id},null,8,Rze),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Sze,[e("div",Tze,[e("div",jze,[e("div",Oze,[e("div",Mze,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"approve-payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Nze,[e("div",Fze,[e("div",Yze,[e("h5",Vze,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Bze)]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"approved"),["prevent"]),method:"post"},[e("div",qze,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",Hze,[e("button",zze,n(o.$t("Submit")),1)])],40,Uze)])])],8,Lze),e("div",{class:"modal fade",id:"reject-payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Kze,[e("div",Gze,[e("div",Qze,[e("h5",Zze,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Jze)]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",eWe,[e("div",tWe,[e("div",oWe,[e("label",aWe,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.rejection_reason=r)},null,512),[[X,t.rejection_reason]])])])]),e("div",nWe,[e("button",sWe,n(o.$t("Submit")),1)])],40,Xze)])])],8,Wze),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",iWe,[e("div",rWe,[e("div",dWe,[e("h5",cWe,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",uWe,[e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/"+t.invoice_details.id+"/edit",class:"btn btn-info btn-sm mx-1"},[a[15]||(a[15]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Edit")),1)],8,_We)):b("",!0)]),e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/create/"+t.invoice_details.id,class:"btn btn-warning btn-sm mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)],8,mWe)):b("",!0)]),e("div",null,[e("a",{href:"../"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,fWe)]),t.invoice_details.media.length>0?(u(),f("div",hWe,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[18]||(a[18]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,pWe))),128))])):b("",!0)])]),e("div",vWe,[e("div",gWe,[e("div",bWe,[e("span",yWe,[e("h5",kWe,n(o.$t("Dealer"))+":",1),e("h6",$We,n(t.invoice_details.company.name),1)]),e("span",wWe,[e("h5",DWe,n(o.$t("Remarks"))+":",1),e("h6",xWe,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",CWe,[e("h5",PWe,n(o.$t("Credit To"))+":",1),e("h6",EWe,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",AWe,[e("h5",IWe,n(o.$t("Rejection Reason"))+":",1),e("h6",RWe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",SWe,[t.invoice_details.pi_number?(u(),f("span",TWe,[e("h5",jWe,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,OWe)])):b("",!0),t.invoice_details.purchase_order?(u(),f("span",MWe,[e("h5",LWe,n(o.$t("PO No"))+":",1),e("h6",NWe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)])):b("",!0),e("span",FWe,[e("h5",YWe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",VWe,n(t.invoice_details.invoice_number),1)]),e("span",BWe,[e("h5",UWe,n(o.$t("Invoice Amount"))+":",1),e("h6",qWe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",HWe,[e("h5",zWe,n(o.$t("Invoice Due Date"))+":",1),e("h6",WWe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",KWe,[e("table",GWe,[e("thead",QWe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length>0?(u(),f("div",ZWe,[e("span",JWe,[e("h6",XWe,n(o.$t("Total Invoice Discount")),1),e("h5",eKe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",tKe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",oKe,n(r.name),1),e("h5",aKe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),e("div",nKe,[e("span",sKe,[e("h6",lKe,n(o.$t("Total")),1),e("h5",iKe,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,lWe)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",dKe,[e("div",cKe,[e("div",uKe,[e("h5",_Ke,n(o.$t("Payment Instruction")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",mKe,[e("div",null,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/create/"+t.invoice_details.id,class:"btn btn-warning btn-sm mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)],8,fKe)):b("",!0)]),e("div",null,[e("a",{href:"../payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,hKe)]),t.invoice_details.media.length>0?(u(),f("div",pKe,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,vKe))),128))])):b("",!0)])]),e("div",gKe,[e("div",bKe,[e("div",yKe,[e("span",kKe,[e("h5",$Ke,n(o.$t("Dealer"))+":",1),e("h6",wKe,n(t.invoice_details.company.name),1)]),e("span",DKe,[e("h5",xKe,n(o.$t("Remarks"))+":",1),e("h6",CKe,n(t.invoice_details.remarks),1)]),t.invoice_details.rejected_reason?(u(),f("span",PKe,[e("h5",EKe,n(o.$t("Rejection Reason"))+":",1),e("h6",AKe,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",IKe,[t.invoice_details.purchase_order?(u(),f("span",RKe,[e("h5",SKe,n(o.$t("PO No"))+":",1),e("h6",TKe,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)])):b("",!0),e("span",jKe,[e("h5",OKe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,MKe)]),e("span",LKe,[e("h5",NKe,n(o.$t("Invoice Amount"))+":",1),e("h6",FKe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)]),e("span",YKe,[e("h5",VKe,n(o.$t("Invoice Due Date"))+":",1),e("h6",BKe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",UKe,[e("table",qKe,[e("thead",HKe,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length>0?(u(),f("div",zKe,[e("span",WKe,[e("h6",KKe,n(o.$t("Total Invoice Discount")),1),e("h5",GKe,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length>0?(u(),f("div",QKe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",ZKe,n(r.name),1),e("h5",JKe,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",XKe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",eGe,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",tGe," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",oGe,n(r.amount),1))]))),128))])):b("",!0),e("div",aGe,[e("span",nGe,[e("h6",sGe,n(o.$t("Total")),1),e("h5",lGe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])],8,rKe)):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",rGe,[e("div",dGe,[e("div",cGe,[e("h5",uGe,n(o.$t("Payment Request")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",_Ge,[e("div",mGe,[e("div",fGe,n(o.$t("Dealer")),1),e("div",hGe,[e("span",null,n(l.company_name),1)]),e("div",pGe,n(o.$t("Program Name")),1),e("div",vGe,n(l.program_name),1),e("div",gGe,n(o.$t("Invoice / Unique Reference Number")),1),e("div",bGe,n(l.invoice_number),1),e("div",yGe,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:r=>t.showInvoice(l.invoice_id,"show-pi-btn-"+l.invoice_id)},n(l.pi_number),9,kGe),e("div",$Ge,n(o.$t("PI Amount")),1),e("div",wGe,n(new Intl.NumberFormat().format(l.drawdown_amount)),1),e("div",DGe,n(o.$t("Eligibility"))+" (%)",1),e("div",xGe,n(l.eligibility),1),e("div",CGe,n(o.$t("Eligible Payment Amount")),1),e("div",PGe,n(new Intl.NumberFormat().format(l.eligible_for_finance)),1),e("div",EGe,n(o.$t("Requested Payment Amount")),1),e("div",AGe,n(new Intl.NumberFormat().format(l.eligible_for_finance)),1),e("div",IGe,n(o.$t("Credit to Account No"))+".:",1),e("div",RGe,n(l.payment_accounts[0].account),1),e("div",SGe,n(o.$t("Request Date")),1),e("div",TGe,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("div",jGe,n(o.$t("Requested Disbursement Date")),1),e("div",OGe,n(t.moment(l.payment_request_date).format("DD MMM YYYY")),1),e("div",MGe,n(o.$t("Due Date")),1),e("div",LGe,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("div",NGe,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",FGe,n(l.total_roi),1),l.payment_accounts&&l.payment_accounts.length>0?(u(),f("div",YGe,[(u(!0),f(G,null,ee(l.payment_accounts,r=>(u(),f("div",{class:"row",key:r.id},[r.type!="vendor_account"?(u(),f("div",VGe,[le(n(r.title?r.title:r.type.replaceAll("_"," "))+" ",1),r.description?(u(),f("span",BGe,"("+n(r.description)+")",1)):b("",!0)])):b("",!0),r.type!="vendor_account"?(u(),f("div",UGe,n(new Intl.NumberFormat().format(Number(r.amount).toFixed(2))),1)):b("",!0)]))),128))])):b("",!0),e("div",qGe,n(o.$t("Net Disbursal Total")),1),e("div",HGe,n(new Intl.NumberFormat().format(l.amount.toFixed(2))),1),e("div",zGe,n(o.$t("Status")),1),e("div",WGe,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(l.approval_stage)])},n(l.approval_stage),3)])])]),e("div",KGe,[e("button",GGe,n(o.$t("Close")),1)])])])],8,iGe)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const ZGe=Ue(WHe,[["render",QGe]]),JGe={name:"DpdInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(""),_=h(null),l=async()=>{await A.get(o+"dealer/invoices/dealer/dpd-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,x)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(C=>{_.value=C.data,bt(()=>{document.getElementById(x).click()})}).catch(C=>{console.log(C)})},i=y=>{let x="";switch(y){case"Overdue":x="bg-label-danger";break;case"Created":x="bg-label-secondary";break;case"Pending Maker":x="bg-label-primary";break;case"Pending Checker":x="bg-label-warning";break;case"Submitted":x="bg-label-primary";break;case"Approved":x="bg-label-success";break;case"Disbursed":x="bg-label-success";break;case"Denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},d=y=>{let x="";switch(y){case"pending":x="bg-label-primary";break;case"submitted":x="bg-label-warning";break;case"financed":x="bg-label-success";break;case"closed":x="bg-label-secondary";break;case"denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},p=(y,x)=>x/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"dealer/invoices/dealer/dpd-invoices/data",{params:{invoice_number:t.value,dealer:c.value,range:m.value,per_page:y}}).then(x=>{a.value=x.data.invoices})}),{moment:H,per_page:s,invoice_number:t,dealer:c,range:m,invoices:a,invoice_details:_,showInvoice:r,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{invoice_number:t.value,dealer:c.value,per_page:s.value,range:m.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",A.get(o+"invoices/data",{params:{per_page:s.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,dealer:c.value,range:m.value}}).then(x=>{a.value=x.data.invoices})},getTaxPercentage:p}}},XGe={class:"card"},eQe={class:"card-body"},tQe={class:"d-flex justify-content-between"},oQe={class:"d-flex flex-wrap"},aQe={class:"mb-1"},nQe={for:"Search",class:"form-label"},sQe={class:"mx-1"},lQe={for:"Search",class:"form-label"},iQe={class:"mx-1"},rQe={for:"DPD Rage",class:"form-label"},dQe={value:""},cQe={value:"1-30"},uQe={value:"31-60"},_Qe={value:"61-90"},mQe={value:">90"},fQe={class:"mx-1 table-search-btn"},hQe={class:"mx-1 table-clear-btn"},pQe={class:"d-flex mx-2",style:{height:"fit-content"}},vQe={class:"table-responsive"},gQe={class:"table"},bQe={key:0},yQe={colspan:"12",class:"text-center"},kQe={class:"text-center"},$Qe={key:1},wQe={colspan:"12",class:"text-center"},DQe={class:"text-center"},xQe={class:"text-primary text-decoration-underline"},CQe=["onClick"],PQe={class:"text-success"},EQe={class:""},AQe={class:""},IQe={class:"text-success"},RQe={class:""},SQe=["id","data-bs-target"],TQe=["id","data-bs-target"],jQe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},OQe={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},MQe={class:"modal-content"},LQe={class:"modal-body"},NQe={class:"d-flex justify-content-center"};function FQe(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",XGe,[e("div",eQe,[e("div",tQe,[e("div",oQe,[e("div",aQe,[e("label",nQe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",sQe,[e("label",lQe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=i=>t.dealer=i),onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.dealer]])]),e("div",iQe,[e("label",rQe,n(o.$t("DPD Range")),1),Y(e("select",{class:"form-select mx-1 form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.range=i)},[e("option",dQe,n(o.$t("Select Range")),1),e("option",cQe,"1 - 30 "+n(o.$t("Days")),1),e("option",uQe,"31 - 60 "+n(o.$t("Days")),1),e("option",_Qe,"61 - 90 "+n(o.$t("Days")),1),e("option",mQe,"> 90 "+n(o.$t("Days")),1)],512),[[de,t.range]])]),e("div",fQe,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",hQe,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",pQe,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",vQe,[e("table",gQe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("DPD")),1),e("th",null,n(o.$t("Overdue Interest")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",bQe,[e("td",yQe,[e("span",kQe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",$Qe,[e("td",wQe,[e("span",DQe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.company),1),e("td",xQe,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,CQe)]),e("td",PQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",EQe,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",AQe,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",IQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("span",null,n(i.days_past_due),1)]),e("td",null,[e("span",RQe,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.overdue_amount)),1)])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,SQe),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,TQe),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",jQe,[e("div",OQe,[e("div",MQe,[e("div",LQe,[e("div",NQe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const YQe=Ue(JGe,[["render",FQe]]),VQe={name:"RejectedInvoices",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(""),_=h(null),l=async()=>{await A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,x)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(C=>{_.value=C.data,bt(()=>{document.getElementById(x).click()})}).catch(C=>{console.log(C)})},i=y=>{let x="";switch(y){case"Overdue":x="bg-label-danger";break;case"Created":x="bg-label-secondary";break;case"Pending Maker":x="bg-label-primary";break;case"Pending Checker":x="bg-label-warning";break;case"Submitted":x="bg-label-primary";break;case"Approved":x="bg-label-success";break;case"Disbursed":x="bg-label-success";break;case"Denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},d=y=>{let x="";switch(y){case"pending":x="bg-label-primary";break;case"financed":x="bg-label-success";break;case"closed":x="bg-label-secondary";break;case"denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},p=(y,x)=>x/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:y,invoice_number:t.value,dealer:c.value,range:m.value}}).then(x=>{a.value=x.data.invoices})}),{moment:H,per_page:s,invoice_number:t,dealer:c,range:m,invoices:a,invoice_details:_,resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,dealer:c.value,range:m.value}}).then(x=>{a.value=x.data.invoices})},getTaxPercentage:p,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{invoice_number:t.value,dealer:c.value,per_page:s.value,range:m.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",A.get(o+"dealer/invoices/dealer/rejected-invoices/data",{params:{per_page:s.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},showInvoice:r}}},BQe={class:"card"},UQe={class:"card-body"},qQe={class:"d-flex justify-content-between"},HQe={class:"d-flex flex-wrap gap-1"},zQe={class:""},WQe={for:"Search",class:"form-label"},KQe={class:""},GQe={for:"Search",class:"form-label"},QQe={class:""},ZQe={for:"DPD Rage",class:"form-label"},JQe={value:""},XQe={value:"1-30"},eZe={value:"31-60"},tZe={value:"61-90"},oZe={value:"more than 90"},aZe={class:"table-search-btn"},nZe={class:"table-clear-btn"},sZe={class:"d-flex mx-2",style:{height:"fit-content"}},lZe={class:"table-responsive"},iZe={class:"table"},rZe={key:0},dZe={colspan:"12",class:"text-center"},cZe={class:"text-center"},uZe={key:1},_Ze={colspan:"12",class:"text-center"},mZe={class:"text-center"},fZe={class:"text-primary text-decoration-underline"},hZe=["onClick"],pZe={class:"text-success"},vZe={class:""},gZe=["href"],bZe=["id","data-bs-target"],yZe=["id","data-bs-target"],kZe={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},$Ze={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},wZe={class:"modal-content"},DZe={class:"modal-body"},xZe={class:"d-flex justify-content-center"},CZe=["id"],PZe={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},EZe={class:"modal-content"},AZe={class:"modal-header"},IZe={class:"modal-title",id:"modalCenterTitle"},RZe={class:"d-flex"},SZe=["href"],TZe=["href"],jZe={class:"modal-body"},OZe={class:"d-flex justify-content-between"},MZe={class:"mb-3"},LZe={class:"d-flex justify-content-between"},NZe={class:"fw-light my-auto"},FZe={class:"fw-bold mx-2 my-auto"},YZe={class:"mb-3"},VZe={class:"d-flex justify-content-between"},BZe={class:"my-auto fw-light"},UZe={class:"fw-bold mx-2 my-auto"},qZe={class:"d-flex justify-content-between"},HZe={class:"my-auto fw-light"},zZe={class:"fw-bold text-success mx-2 my-auto"},WZe={class:"d-flex justify-content-between"},KZe={class:"my-auto fw-light"},GZe={class:"fw-bold mx-2 my-auto"},QZe={class:"d-flex justify-content-between"},ZZe={class:"my-auto fw-light"},JZe={class:"fw-bold mx-2 my-auto"},XZe={class:"d-flex justify-content-between"},eJe={class:"my-auto fw-light"},tJe={class:"fw-bold mx-2 my-auto"},oJe={class:"table-responsive"},aJe={key:0,class:"px-2"},nJe={class:"mx-2 my-auto py-1"},sJe={key:0,class:"text-success my-auto py-1"},lJe={key:1,class:"text-success my-auto py-1"},iJe={class:"bg-label-secondary px-2"},rJe={class:"d-flex justify-content-end"},dJe={class:"mx-2 my-auto py-1"},cJe={class:"text-success my-auto py-1"},uJe={class:"modal-footer"},_Je=["onClick"];function mJe(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",BQe,[e("div",UQe,[e("div",qQe,[e("div",HQe,[e("div",zQe,[e("label",WQe,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",KQe,[e("label",GQe,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=l=>t.dealer=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.dealer]])]),e("div",QQe,[e("label",ZQe,n(o.$t("DPD Range"))+" ("+n(o.$t("Due Date"))+")",1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.range=l)},[e("option",JQe,n(o.$t("Select Range")),1),e("option",XQe,"1 - 30 "+n(o.$t("Days")),1),e("option",eZe,"31 - 60 "+n(o.$t("Days")),1),e("option",tZe,"61 - 90 "+n(o.$t("Days")),1),e("option",oZe,"> 90 "+n(o.$t("Days")),1)],512),[[de,t.range]])]),e("div",aZe,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",nZe,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",sZe,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",lZe,[e("table",iZe,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Actions")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",rZe,[e("td",dZe,[e("span",cZe,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",uZe,[e("td",_Ze,[e("span",mZe,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,n(l.company),1),e("td",fZe,[e("a",{href:"javascript:;",onClick:r=>t.showInvoice(l.id,"show-details-btn-"+l.id)},n(l.invoice_number),9,hZe)]),e("td",pZe,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",null,[e("span",vZe,n(t.moment(l.due_date).format("DD MMM YYYY")),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(l.financing_status)])},n(l.financing_status),3)]),e("td",null,[e("a",{href:"../drawdown/create/"+l.id,class:"btn btn-sm btn-primary"},n(o.$t("Re-Initiate")),9,gZe)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+l.id},null,8,bZe),e("button",{class:"d-none",id:"show-pi-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+l.id},null,8,yZe),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",kZe,[e("div",$Ze,[e("div",wZe,[e("div",DZe,[e("div",xZe,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",PZe,[e("div",EZe,[e("div",AZe,[e("h5",IZe,n(o.$t("Invoice Details")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",RZe,[e("a",{href:"../invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,SZe),t.invoice_details.attachment?(u(),f("a",{key:0,href:t.invoice_details.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[14]||(a[14]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,TZe)):b("",!0)])]),e("div",jZe,[e("div",OZe,[e("div",MZe,[e("span",LZe,[e("h5",NZe,n(o.$t("Anchor"))+":",1),e("h6",FZe,n(t.invoice_details.program.anchor.name),1)])]),e("div",YZe,[e("span",VZe,[e("h5",BZe,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",UZe,n(t.invoice_details.invoice_number),1)]),e("span",qZe,[e("h5",HZe,n(o.$t("Invoice Amount"))+":",1),e("h6",zZe,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_amount)),1)]),e("span",WZe,[e("h5",KZe,n(o.$t("Invoice Date"))+":",1),e("h6",GZe,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",QZe,[e("h5",ZZe,n(o.$t("Invoice Due Date"))+":",1),e("h6",JZe,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)]),e("span",XZe,[e("h5",eJe,n(o.$t("Payment Date"))+":",1),e("h6",tJe,n(t.moment(t.invoice_details.payment_date).format("DD MMM YYYY")),1)])])]),e("div",oJe,[t.invoice_details.invoice_fees.length>0?(u(),f("div",aJe,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",nJe,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",sJe," ("+n(new Intl.NumberFormat().format(t.getTaxPercentage(t.invoice_details.invoice_total_amount,r.amount).toFixed(2)))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",lJe,n(r.amount),1))]))),128))])):b("",!0)]),e("div",iJe,[e("span",rJe,[e("h6",dJe,n(o.$t("Total Drawdown Amount")),1),e("h5",cJe,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])]),e("div",uJe,[t.invoice_details.status=="pending"?(u(),f("a",{key:0,href:"javascript:;",onClick:r=>o.requestApproval(l),class:"btn btn-primary"},n(o.$t("Submit for Approval")),9,_Je)):b("",!0)])])])],8,CZe)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const fJe=Ue(VQe,[["render",mJe]]),hJe={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"dealer/invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},pJe={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},vJe={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},gJe={class:"modal-dialog"},bJe={class:"modal-header"},yJe={class:"modal-title",id:"modalTopTitle"},kJe={class:"modal-body"},$Je={class:"form-group mt-2"},wJe={class:"py-1 text-danger d-none",id:"show-download-error"},DJe={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},xJe={class:"modal-footer"},CJe={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},PJe={href:"invoices/dealers",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},EJe=["disabled"];function AJe(o,a,s,t,c,m){return u(),f(G,null,[e("button",pJe,n(o.$t("Upload Invoices")),1),e("div",vJe,[e("div",gJe,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",bJe,[e("h5",yJe,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",kJe,[e("div",$Je,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",wJe,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",DJe,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",xJe,[e("a",CJe,n(o.$t("Download Sample")),1),e("a",PJe,n(o.$t("View Dealers")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,EJe)])],32)])])],64)}const IJe=Ue(hJe,[["render",AJe]]),RJe={name:"Invoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(null),d=h(0),p=h(0),v=h(0),g=h([]),w=h([]),y=h([]),x=h(0),C=h(0),E=h(0),D=h(50),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h(""),T=h([]),P=h([]),R=h(""),O=h(""),N=h(""),S=h([]),U=h(""),W=h(""),oe=h([]),J=h(!1),K=h(!0),z=se=>{document.getElementById("edit-fees-"+se.id).classList.remove("d-none"),document.getElementById("view-fees-"+se.id).classList.add("d-none")},ae=async()=>{await A.get(t+"dealer/invoices/data",{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{c.value=se.data.invoices,g.value=se.data.taxes,w.value=se.data.users}).catch(se=>{console.log(se.message)})},we=async(se,fe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+se+"/details").then(Le=>{l.value=Le.data,x.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),C.value=new Intl.NumberFormat().format(l.value.total+l.value.total_invoice_taxes-l.value.total_invoice_discount),r.value++,bt(()=>{document.getElementById(fe).click()})}).catch(Le=>{console.log(Le)})},Fe=async(se,fe)=>{await A.get(t+"dealer/purchase-orders/"+se+"/show").then(Le=>{i.value=Le.data,bt(()=>{document.getElementById(fe).click()})}).catch(Le=>{console.log(Le)})},he=(se,fe,Le)=>(Le/fe*100).toFixed(2),re=se=>{let fe="";switch(se){case"Overdue":fe="bg-label-danger";break;case"Created":fe="bg-label-secondary";break;case"Pending Approval":fe="bg-label-warning";break;case"Pending Maker":fe="bg-label-primary";break;case"Pending Checker":fe="bg-label-warning";break;case"Submitted":fe="bg-label-primary";break;case"Approved":fe="bg-label-success";break;case"Disbursed":fe="bg-label-success";break;case"Denied":fe="bg-label-danger";break;case"Rejected":fe="bg-label-danger";break;default:fe="bg-label-primary";break}return fe},$e=se=>{let fe="";switch(se){case"pending":fe="bg-label-primary";break;case"submitted":fe="bg-label-warning";break;case"financed":fe="bg-label-success";break;case"closed":fe="bg-label-secondary";break;case"denied":fe="bg-label-danger";break;default:fe="bg-label-primary";break}return fe},De=()=>{let se=0,fe=0,Le=Object.keys(y.value);Object.values(y.value).forEach((at,mt)=>{Le[mt]=="Credit Note Amount"&&at>0&&(fe=at),Le[mt]!="Credit Note Amount"&&(at>0?se+=at:se-=at)}),se>0&&(C.value=new Intl.NumberFormat().format(x.value.replaceAll(",","")-se/100*x.value.replaceAll(",",""))),fe>0&&(C.value=new Intl.NumberFormat().format(C.value.replaceAll(",","")-fe)),fe==0&&se==0&&(C.value=new Intl.NumberFormat.format(x.value.replaceAll(",","")))},ie=async se=>{const fe=new FormData;for(const Le in y.value)Le=="Credit Note Amount"&&fe.append("taxes["+Le+"]",y.value[Le]),Le!="Credit Note Amount"&&fe.append("taxes["+Le+"]",y.value[Le]/100*x.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${t}dealer/invoices/${se.id}/approve`,fe).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+se.id).click();for(const Le in y.value)y.value=[]}).catch(Le=>{if(console.log(Le),Le.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},pe=async se=>{await A.get(`${t}dealer/invoices/${se.id}/fees/approve`).then(()=>{ae(),s.success("Invoice updated successfully"),document.getElementById("close-modal-"+se.id).click();for(const fe in y.value)y.value[fe]=""}).catch(fe=>{if(console.log(fe),fe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")})},be=async(se,fe)=>{const Le=new FormData;Le.append("status",fe),Le.append("rejection_reason",U.value),await A.post(t+"dealer/invoices/"+se.id+"/request/send",Le).then(()=>{s.success("Invoice updated successfully"),ae()}).catch(Ze=>{console.log(Ze),s.error("An error occurred")})},Me=()=>{if(S.value=[],J.value=!0,document.getElementById("select-all").checked?c.value.data.forEach(async se=>{se.status=="submitted"&&se.user_can_approve&&!se.user_has_approved&&(document.getElementById("data-select-"+se.id).checked=!0,S.value.push(se.id))}):(c.value.data.forEach(se=>{if(se.status=="submitted"&&se.user_can_approve&&!se.user_has_approved){document.getElementById("data-select-"+se.id).checked=!1;let fe;if(!S.value.filter(function(Ze,at){fe=at,Ze==se.id}))return!1;S.value.splice(fe,1)}}),J.value=!1),S.value.length>0){let se={},fe={};const Le=new FormData;Le.append("invoices",S.value),A.post(t+"dealer/invoices/bulk/details?type=Factoring",Le).then(Ze=>{oe.value=[],Ze.data.data.forEach(at=>{if(fe[at.id]=[],at.invoice_fees.length>0){let mt=0;se={},at.invoice_fees.forEach(wt=>{wt.name!="Credit Note Amount"?mt=he(at.invoice_number,at.total+at.total_invoice_taxes-at.total_invoice_discount,wt.amount):mt=wt.amount,Object.keys(se+"-"+at.id).filter(Jt=>Jt==wt.name+"-"+at.id).length>0||(se[wt.name+"-"+at.id]=mt)})}else se={},Object.keys(g.value).forEach(mt=>{se[mt+"-"+at.id]=0});fe[at.id]=se}),oe.value.push(fe),J.value=!1})}},ue=se=>{if(S.value.includes(se)){const fe=S.value.indexOf(se);S.value.splice(fe,1)}else S.value.push(se);if(S.value.length>0){let fe={},Le={};const Ze=new FormData;Ze.append("invoices",S.value),A.post(t+"dealer/invoices/bulk/details?type=Factoring",Ze).then(at=>{oe.value=[],at.data.data.forEach(mt=>{if(Le[mt.id]=[],mt.invoice_fees.length>0){let wt=0;fe={},mt.invoice_fees.forEach(Ot=>{Ot.name!="Credit Note Amount"?wt=he(mt.invoice_number,mt.total+mt.total_invoice_taxes-mt.total_invoice_discount,Ot.amount):wt=Ot.amount,Object.keys(fe+"-"+mt.id).filter(ut=>ut==Ot.name+"-"+mt.id).length>0||(fe[Ot.name+"-"+mt.id]=wt)})}else fe={},Object.keys(g.value).forEach(wt=>{fe[wt+"-"+mt.id]=0});Le[mt.id]=fe}),oe.value.push(Le),J.value=!1})}},je=se=>{if(S.value.length<=0){s.error("Select invoices");return}};ot(W,se=>{(se=="approve"||se=="reject")&&(S.value.length>0?(se=="reject"&&document.getElementById("show-bulk-reject-modal").click(),se=="approve"&&document.getElementById("show-bulk-approval-modal").click(),W.value=""):s.error("Select Invoices"))});const ze=()=>{const se=new FormData;S.value.forEach((fe,Le)=>{se.append("invoice["+Le+"]",fe)}),se.append("invoice_taxes",JSON.stringify(oe.value)),se.append("action",W.value),K.value=!1,A.post(t+"dealer/invoices/bulk/update/approve?type=Factoring",se).then(fe=>{ae(),s.success(fe.data.message),document.getElementById("fees-close-modal").click();for(const Le in y.value)y.value[Le]="";S.value=[],oe.value=[]}).catch(fe=>{if(console.log(fe),fe.response.status==422){s.error("Enter applied taxes to approve");return}s.error("An error occurred")}).finally(()=>{W.value="",K.value=!0})},Ye=()=>{const se=new FormData;se.append("rejected_reason",U.value),S.value.forEach((fe,Le)=>{se.append("invoice["+Le+"]",fe)}),se.append("action",W.value),K.value=!1,A.post(t+"dealer/invoices/bulk/update/reject?type=Factoring",se).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),U.value="",S.value=[],oe.value=[]}).catch(fe=>{console.log(fe),s.error("An error occurred")}).finally(()=>{K.value=!0,W.value=""})},ge=se=>{const fe=new FormData;fe.append("rejected_reason",U.value),fe.append("action",W.value),A.post(t+"dealer/invoices/"+se+"/reject",fe).then(()=>{ae(),s.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+se).click(),W.value="",U.value=""}).catch(Le=>{console.log(Le),s.error("An error occurred")})};return Qe(()=>{ae(),$("#invoice-status-select").on("change",function(){var se=$("#invoice-status-select").val();T.value=se}),$("#financing-status-select").on("change",function(){var se=$("#financing-status-select").val();P.value=se})}),ot([D],async([se])=>{A.get(t+"dealer/invoices/data",{params:{per_page:se,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices})}),{moment:H,per_page:D,invoices:c,eligibility:m,eligibility_amount:_,business_spread:p,discount_amount:v,invoice_details:l,pi_amount:d,anchor_taxes:g,users:w,invoice_taxes:y,invoice_subtotal:x,invoice_total:C,purchase_order_total:E,purchase_order_details:i,selected_invoices:S,selected_invoices_taxes:oe,buyer_search:k,invoice_number_search:I,status_search:T,financing_status_search:P,from_date_search:V,to_date_search:B,from_invoice_date_search:L,to_invoice_date_search:F,sort_by:N,bulk_action:W,invoice_fees_processing:J,rejected_reason:U,can_bulk_approve:K,showInvoice:we,calculatePayable:se=>{let fe=$("#invoice-amount-"+se).text().replaceAll(",",""),Le=$("#withholding-tax-"+se).val(),Ze=$("#withholding-vat-"+se).val(),at=$("#credit-note-amount-"+se).val(),mt=Le/100*fe,wt=Ze/100*fe,Ot=fe-mt-wt-at;$("#invoice-total-payable-"+se).text(new Intl.NumberFormat().format(Ot))},filter:async()=>{R.value=$("#date_search").val(),O.value=$("#invoice_date_search").val(),R.value&&(V.value=H(R.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(R.value.split(" - ")[1]).format("YYYY-MM-DD")),O.value&&(L.value=H(O.value.split(" - ")[0]).format("YYYY-MM-DD"),F.value=H(O.value.split(" - ")[1]).format("YYYY-MM-DD"));let se=$(".ti-search").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"dealer/invoices/data",{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices,g.value=fe.data.taxes,se.html('<i class="ti ti-search"></i>')})},updateSelected:ue,selectAll:Me,bulkAction:je,resolveStatus:re,resolveFinancingStatus:$e,changePage:async se=>{await A.get(se,{params:{per_page:D.value,buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(fe=>{c.value=fe.data.invoices}).catch(fe=>{console.log(fe)})},submitApproval:ie,submitBulkApproval:ze,submitBulkRejection:Ye,updateInvoiceTotal:De,getTaxPercentage:he,clearSearch:async()=>{let se=$(".ti-refresh").parent();se.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value="",I.value="",V.value="",B.value="",T.value=[],P.value=[],R.value="",O.value="",N.value="",$("#date_search").val(""),$("#invoice_date_search").val(""),$("#invoice-status-select").val(""),$("#invoice-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"dealer/invoices/data",{params:{per_page:D.value}}).then(fe=>{c.value=fe.data.invoices,g.value=fe.data.taxes,se.html('<i class="ti ti-refresh"></i>')})},exportInvoices:()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{buyer:k.value,invoice_number:I.value,from_date:V.value,to_date:B.value,from_invoice_date:L.value,to_invoice_date:F.value,status:T.value,financing_status:P.value,sort_by:N.value}}).then(se=>{const fe=window.URL.createObjectURL(new Blob([se.data])),Le=document.createElement("a");Le.href=fe,Le.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(Le),Le.click()}).catch(se=>{console.log(se)})},submitRejection:ge,download:se=>{A.get(t+"invoices/"+se.id+"/download",{responseType:"arraybuffer",method:"GET"}).then(fe=>{const Le=window.URL.createObjectURL(new Blob([fe.data])),Ze=document.createElement("a");Ze.href=Le,Ze.setAttribute("download",`Invoice_${se.invoice_number}.pdf`),document.body.appendChild(Ze),Ze.click()}).catch(fe=>{console.log(fe)})},editFees:z,approveFees:pe,userHasApproved:(se,fe)=>{let Le=!1;return se.approvals.forEach(Ze=>{fe.id==Ze.user_id&&(Le=!0)}),Le},approvalDetails:(se,fe)=>{let Le=null;return Le=se.approvals.filter(Ze=>Ze.user_id==fe.id).length>0?se.approvals.filter(Ze=>Ze.user_id==fe.id)[0]:null,Le},showPurchaseOrder:Fe,requestApproval:be,invoice_details_key:r}}},SJe={class:"p-2"},TJe={class:"d-flex justify-content-between"},jJe={class:"d-flex flex-wrap gap-1"},OJe={class:""},MJe={for:"Vendor",class:"form-label"},LJe={class:""},NJe={for:"Invoice No",class:"form-label"},FJe={class:""},YJe={class:"form-label",for:""},VJe={class:""},BJe={class:"form-label",for:""},UJe={class:""},qJe={for:"Status",class:"form-label"},HJe={value:"pending_maker"},zJe={value:"pending_checker"},WJe={value:"approved"},KJe={value:"disbursed"},GJe={value:"rejected"},QJe={value:"past_due"},ZJe={value:"expired"},JJe={class:""},XJe={for:"Financing Status",class:"form-label"},eXe={value:"pending"},tXe={value:"submitted"},oXe={value:"financed"},aXe={value:"closed"},nXe={class:""},sXe={for:"Financing Status",class:"form-label"},lXe={value:""},iXe={value:"po_asc"},rXe={value:"po_desc"},dXe={value:"invoice_no_asc"},cXe={value:"invoice_no_desc"},uXe={value:"due_date_asc"},_Xe={value:"due_date_desc"},mXe={value:"invoice_amount_asc"},fXe={value:"invoice_amount_desc"},hXe={value:"buyer_asc"},pXe={value:"buyer_desc"},vXe={class:""},gXe={for:"Bulk Actions",class:"form-label"},bXe={value:""},yXe={value:"approve"},kXe={value:"reject"},$Xe={class:"table-search-btn"},wXe={class:"table-clear-btn"},DXe={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},xXe={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},CXe={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},PXe={class:"modal-content"},EXe={class:"modal-header"},AXe={class:"modal-title",id:"modalCenterTitle"},IXe={key:0,class:"text-center my-4"},RXe={class:"modal-body"},SXe={class:"table"},TXe={key:0},jXe={key:0},OXe={key:1},MXe=["id"],LXe={key:2},NXe={key:0},FXe=["onUpdate:modelValue","id","onInput"],YXe={key:3},VXe={key:0},BXe=["onUpdate:modelValue","id","onInput"],UXe={key:4},qXe={key:0},HXe=["onUpdate:modelValue","id","onInput"],zXe={key:5},WXe={key:0},KXe=["id"],GXe={class:"modal-footer"},QXe=["disabled"],ZXe={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},JXe={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},XXe={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},eet={class:"modal-content"},tet={class:"modal-header"},oet={class:"modal-title",id:"modalCenterTitle"},aet={class:"modal-body"},net={for:"reason",class:"form-label"},set={class:"modal-footer"},iet=["disabled"],ret={class:"d-flex justify-content-end gap-1 mt-auto"},det={class:"table-responsive p-1"},cet={class:"table dt-invoices"},uet={class:"px-1"},_et={class:"form-check"},met={key:0},fet={colspan:"12",class:"text-center"},het={class:"text-center"},pet={key:1},vet={colspan:"12",class:"text-center"},get={class:"text-center"},bet={class:"px-1"},yet={key:0,class:"form-check"},ket=["id","onChange"],$et={key:1},wet=["id","onChange"],Det={key:0,class:"text-primary text-decoration-underline"},xet=["onClick"],Cet={key:1,class:"text-primary"},Pet=["onClick"],Eet={href:"javascript:;"},Aet={class:"text-success text-nowrap"},Iet={class:""},Ret={class:"text-success text-nowrap"},Tet={class:""},jet={class:""},Oet={class:""},Met={class:"text-success"},Let={class:""},Net={class:"d-inline-block"},Fet=["id","data-bs-target"],Yet=["id","data-bs-target"],Vet=["id","data-bs-target"],Bet=["id","data-bs-target"],Uet=["id","data-bs-target"],qet=["id","data-bs-target"],Het=["id","data-bs-target"],zet=["id","data-bs-target"],Wet={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Ket={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Get={class:"modal-content"},Qet={class:"modal-body"},Zet={class:"d-flex justify-content-center"},Jet={class:"dropdown-menu dropdown-menu-end"},Xet={class:"mt-2"},ett=["onClick"],ttt={key:0,class:"mb-2"},ott=["href"],att=["onClick"],ntt={class:"dropdown-item badge bg-label-success"},stt={key:2,class:"mb-2"},ltt=["onClick"],itt=["onClick"],rtt={class:"dropdown-item badge bg-label-info"},dtt=["onClick"],ctt={class:"dropdown-item badge bg-label-warning"},utt={key:5},_tt=["onClick"],mtt={key:6},ftt=["data-bs-target"],htt=["id"],ptt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},vtt={class:"modal-content"},gtt={class:"modal-header"},btt={class:"modal-title",id:"modalCenterTitle"},ytt=["id"],ktt=["onSubmit"],$tt={class:"modal-body"},wtt={for:"reason",class:"form-label"},Dtt={class:"modal-footer"},xtt={class:"btn btn-danger",type:"submit"},Ctt=["id"],Ptt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Ett={class:"modal-content"},Att={class:"modal-header"},Itt={class:"modal-title",id:"modalCenterTitle"},Rtt={class:"d-flex"},Stt=["href"],Ttt=["href"],jtt={class:"modal-body"},Ott={class:"d-flex justify-content-between"},Mtt={class:"mb-3 w-50"},Ltt={class:"d-flex justify-content-between"},Ntt={class:"fw-light my-auto"},Ftt={class:"fw-bold mx-2 my-auto"},Ytt={class:"d-flex justify-content-between"},Vtt={class:"fw-light my-auto"},Btt={class:"fw-bold mx-2 my-auto"},Utt={class:"d-flex justify-content-between"},qtt={class:"fw-light my-auto"},Htt={class:"fw-bold mx-2 my-auto"},ztt={class:"d-flex justify-content-between"},Wtt={class:"fw-light my-auto"},Ktt={key:0,class:"d-flex justify-content-between"},Gtt={class:"fw-light my-auto"},Qtt={class:"fw-bold mx-2 my-auto"},Ztt={class:"mb-3"},Jtt={class:"d-flex justify-content-between"},Xtt={class:"my-auto fw-light"},eot={class:"fw-bold mx-2 my-auto"},tot={class:"d-flex justify-content-between"},oot={class:"my-auto fw-light"},aot={class:"fw-bold mx-2 my-auto"},not={class:"d-flex justify-content-between"},sot={class:"my-auto fw-light"},lot={class:"fw-bold mx-2 my-auto"},iot={class:"d-flex justify-content-between"},rot={class:"my-auto fw-light"},dot={class:"fw-bold text-success mx-2 my-auto"},cot={class:"table-responsive"},uot={class:"table"},_ot={class:"bg-label-secondary px-2"},mot={class:"d-flex justify-content-end"},fot={class:"mx-2 my-auto py-1"},hot={class:"text-success my-auto py-1"},pot=["id"],vot={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},got={class:"modal-content"},bot={class:"modal-header"},yot={class:"modal-title",id:"modalCenterTitle"},kot=["id"],$ot=["id"],wot={class:"modal-body"},Dot={key:0},xot={class:"form-group"},Cot={for:"Sub total",class:"form-label"},Pot={class:"form-label"},Eot=["value"],Aot=["value"],Iot={class:"form-group"},Rot={for:"Sub total",class:"form-label"},Sot=["value"],Tot={key:1},jot={class:"d-flex justify-content-between"},Oot={class:"modal-footer"},Mot={class:"btn btn-primary",type:"submit"},Lot=["id"],Not={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Fot={class:"modal-content"},Yot={class:"modal-header"},Vot={class:"modal-title"},Bot=["id"],Uot=["id"],qot={class:"modal-body"},Hot={class:"form-group"},zot={for:"Sub total",class:"form-label"},Wot={key:0},Kot={for:""},Got=["onUpdate:modelValue"],Qot={key:1},Zot={for:""},Jot=["onUpdate:modelValue"],Xot={class:"form-group"},eat={for:"Sub total",class:"form-label"},tat={key:0,class:"mt-2"},oat={class:"text-sm"},aat={class:"mx-2 my-auto py-1"},nat={key:0,class:"text-success my-auto py-1"},sat={key:1,class:"text-success my-auto py-1"},lat={class:"modal-footer"},iat={class:"btn btn-primary",type:"submit"},rat=["id"],dat={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},cat={class:"modal-content"},uat={class:"modal-header"},_at={class:"modal-title",id:"modalCenterTitle"},mat={class:"modal-body"},fat={class:"table"},hat={class:""},pat=["id"],vat={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},gat={class:"modal-content"},bat={class:"modal-header"},yat={class:"modal-title",id:"modalCenterTitle"},kat={class:"modal-body"},$at={key:0,class:"d-flex"},wat={class:"text-success",style:{"font-weight":"800"}},Dat={class:"text-danger",style:{"font-weight":"800"}},xat={key:0,class:"d-flex"},Cat={class:"text-success",style:{"font-weight":"800"}},Pat={key:1,class:""};function Eat(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",SJe,[e("div",TJe,[e("div",jJe,[e("div",OJe,[e("label",MJe,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",LJe,[e("label",NJe,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",FJe,[e("label",YJe,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[24]||(a[24]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",VJe,[e("label",BJe,n(o.$t("Date"))+" ("+n(o.$t("Invoice Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"invoice_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",UJe,[e("label",qJe,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",HJe,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",zJe,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",WJe,n(o.$t("Approved")),1),e("option",KJe,n(o.$t("Disbursed")),1),e("option",GJe,n(o.$t("Rejected")),1),e("option",QJe,n(o.$t("Overdue")),1),e("option",ZJe,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",JJe,[e("label",XJe,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",eXe,n(o.$t("Pending")),1),e("option",tXe,n(o.$t("Submitted")),1),e("option",oXe,n(o.$t("Financed")),1),e("option",aXe,n(o.$t("Closed")),1)],512),[[de,t.financing_status_search]])]),e("div",nXe,[e("label",sXe,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",lXe,n(o.$t("Sort By")),1),e("option",iXe,n(o.$t("PO No. (ASC)")),1),e("option",rXe,n(o.$t("PO No. (DESC)")),1),e("option",dXe,n(o.$t("Invoice No. (ASC)")),1),e("option",cXe,n(o.$t("Invoice No. (DESC)")),1),e("option",uXe,n(o.$t("Due Date. (ASC)")),1),e("option",_Xe,n(o.$t("Due Date. (DESC)")),1),e("option",mXe,n(o.$t("Invoice Amount. (ASC)")),1),e("option",fXe,n(o.$t("Invoice Amount. (DESC)")),1),e("option",hXe,n(o.$t("Buyer. (ASC)")),1),e("option",pXe,n(o.$t("Buyer. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",vXe,[e("label",gXe,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",bXe,n(o.$t("Bulk Actions")),1),e("option",yXe,n(o.$t("Approve")),1),e("option",kXe,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",$Xe,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",wXe,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",DXe,n(o.$t("Approve")),1),e("div",xXe,[e("div",CXe,[e("div",PXe,[e("div",EXe,[e("h5",AXe,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"fees-close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",IXe,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",RXe,[e("table",SXe,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",TXe,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",jXe,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",OXe,[e("span",{id:"invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,MXe)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",LXe,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",NXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,FXe),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",YXe,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",VXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,BXe),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",UXe,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",qXe,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,HXe),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",zXe,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",WXe,[e("span",{class:"form-control",id:"invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,KXe)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",GXe,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,QXe)])],32)):b("",!0)])])]),e("button",ZXe,n(o.$t("Reject")),1),e("div",JXe,[e("div",XXe,[e("div",eet,[e("div",tet,[e("h5",oet,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",aet,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",net,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.rejected_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",set,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,iet)])],32)])])])]),e("div",ret,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i))},a[31]||(a[31]=[e("i",{class:"ti ti-download ti-xs"},null,-1)]))])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",det,[e("table",cet,[e("thead",null,[e("tr",null,[e("th",uet,[e("div",_et,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1),a[32]||(a[32]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",met,[e("td",fet,[e("span",het,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",pet,[e("td",vet,[e("span",get,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",bet,[!i.buyer&&i.status=="submitted"&&i.user_can_approve&&!i.user_has_approved?(u(),f("div",yet,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,ket)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("div",$et,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,wet)])):b("",!0)]),e("td",null,n(i.buyer?i.buyer:i.company),1),i.purchase_order_number?(u(),f("td",Det,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,xet)])):(u(),f("td",Cet,"-")),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Eet,n(i.invoice_number),1)],8,Pet),e("td",Aet,[le(n(i.currency)+" ",1),e("span",Iet,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",Ret,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",Tet,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",jet,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",Oet,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Met,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",Let,[e("div",Net,[a[34]||(a[34]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Fet),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Yet),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,Vet),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Bet),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,Uet),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,qet),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,Het),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,zet),a[35]||(a[35]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Wet,[e("div",Ket,[e("div",Get,[e("div",Qet,[e("div",Zet,[e("span",null,n(o.$t("Loading"))+"...",1),a[33]||(a[33]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Jet,[e("li",Xet,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,ett)]),i.can_edit?(u(),f("li",ttt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,ott)])):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",ntt,n(o.$t("Approve")),1)],8,att)):b("",!0),!i.buyer&&i.user_can_approve?(u(),f("li",stt,[e("a",{href:"#",style:{cursor:"pointer"},class:"dropdown-item badge bg-label-danger",onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id)},n(o.$t("Reject")),9,ltt)])):b("",!0),i.buyer?b("",!0):(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",rtt,n(o.$t("Checker Approvals")),1)],8,itt)),!i.buyer&&i.authorization_group?(u(),f("li",{key:4,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",ctt,n(o.$t("Authorization Matrix")),1)],8,dtt)):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",utt,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,_tt)])):b("",!0),i.buyer&&!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",mtt,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,ftt)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",ptt,[e("div",vtt,[e("div",gtt,[e("h5",btt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,ytt)]),e("form",{onSubmit:st(d=>t.submitRejection(i.id),["prevent"])},[e("div",$tt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",wtt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",Dtt,[e("button",xtt,n(o.$t("Confirm")),1)])],40,ktt)])])],8,htt),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",Ptt,[e("div",Ett,[e("div",Att,[e("h5",Itt,n(o.$t("Purchase Order")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Rtt,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[36]||(a[36]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,Stt)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[37]||(a[37]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Ttt)):b("",!0)])]),e("div",jtt,[e("div",Ott,[e("div",Mtt,[e("span",Ltt,[e("h5",Ntt,n(o.$t("Vendor"))+":",1),e("h6",Ftt,n(t.purchase_order_details.company.name),1)]),e("span",Ytt,[e("h5",Vtt,n(o.$t("Delivery Address"))+":",1),e("h6",Btt,n(t.purchase_order_details.delivery_address),1)]),e("span",Utt,[e("h5",qtt,n(o.$t("Remarks"))+":",1),e("h6",Htt,n(t.purchase_order_details.remarks),1)]),e("span",ztt,[e("h5",Wtt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",Ktt,[e("h5",Gtt,n(o.$t("Rejection Reason"))+":",1),e("h6",Qtt,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Ztt,[e("span",Jtt,[e("h5",Xtt,n(o.$t("PO No"))+":",1),e("h6",eot,n(t.purchase_order_details.purchase_order_number),1)]),e("span",tot,[e("h5",oot,n(o.$t("Start Date"))+":",1),e("h6",aot,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",not,[e("h5",sot,n(o.$t("End Date"))+":",1),e("h6",lot,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",iot,[e("h5",rot,n(o.$t("PO Amount"))+":",1),e("h6",dot,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",cot,[e("table",uot,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",_ot,[e("span",mot,[e("h6",fot,n(o.$t("Total")),1),e("h5",hot,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,Ctt)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",vot,[e("div",got,[e("div",bot,[e("h5",yot,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,kot)]),e("form",{onSubmit:a[18]||(a[18]=st(d=>t.approveFees(t.invoice_details),["prevent"])),id:"view-fees-"+t.invoice_details.id},[e("div",wot,[t.invoice_details.invoice_fees.length>0?(u(),f("div",Dot,[a[39]||(a[39]=e("div",{class:"d-flex justify-content-between"},[e("div")],-1)),e("div",xot,[e("label",Cot,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[17]||(a[17]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",Pot,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",value:t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,Eot)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,Aot))]))),128)),e("div",Iot,[e("label",Rot,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,Sot)])])):(u(),f("div",Tot,[e("div",jot,[e("div",null,[e("span",null,n(o.$t("Fees not set for invoice "+t.invoice_details.invoice_number)),1)])])]))]),e("div",Oot,[e("button",Mot,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve Invoice")),1)])],40,$ot)])])],8,pot)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Not,[e("div",Fot,[e("div",Yot,[e("h5",Vot,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,Bot)]),e("form",{onSubmit:a[23]||(a[23]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",qot,[e("div",Hot,[e("label",zot,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[19]||(a[19]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",Wot,[e("label",Kot,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,Got),[[X,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",Qot,[e("label",Zot,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,Jot),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",Xot,[e("label",eat,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[22]||(a[22]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",tat,[e("h5",oat,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",aat,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",nat," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",sat,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",lat,[e("button",iat,n(o.$t("Submit")),1)])],40,Uot)])])],8,Lot)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",dat,[e("div",cat,[e("div",uat,[e("h5",_at,n(o.$t("Checker Approval(s)")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",mat,[e("table",fat,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(i,d)?(u(),f(G,{key:0},[e("td",hat,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,rat)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",vat,[e("div",gat,[e("div",bat,[e("h5",yat,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[41]||(a[41]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",kat,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(i,d.user)?(u(),f("div",$at,[e("span",wat,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[42]||(a[42]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",Dat,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(i,d.user)?(u(),f("div",xat,[e("span",Cat,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",Pat,n(d.user.name),1))]))),128))])])])],8,pat)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Aat=Ue(RJe,[["render",Eat]]),Iat={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"dealer/purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let R="";switch(P){case"Pending Checker Approval":R="bg-label-warning";break;case"pending Maker":R="bg-label-primary";break;case"Pending Checker":R="bg-label-warning";break;case"Accepted":R="bg-label-success";break;case"Invoiced":R="bg-label-secondary";break;case"Rejected":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},D=async(P,R)=>{m.value=!1,await A.post(`${a}dealer/purchase-orders/status/update`,{purchase_order_id:P,status:R,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),C()}).catch(O=>{console.log(O),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{C()}),ot([c],([P])=>{A.get(a+"dealer/purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}),ot(v,P=>{g.value.length>0?(x.value=[],P=="approve"&&(g.value.forEach(R=>{x.value.push(s.value.data.filter(O=>O.id==R)[0])}),y.value.click()),P=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,exportReport:()=>{A.get(a+"dealer/purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Purchase_Orders_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"dealer/purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"dealer/purchase-orders/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let R;if(!g.value.filter(function(N,S){R=S,N==P.id}))return!1;g.value.splice(R,1)}})},updateSelected:P=>{if(g.value.includes(P)){const R=g.value.indexOf(P);g.value.splice(R,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const R=new FormData;g.value.forEach(O=>{R.append("purchase_orders[]",O)}),P=="approve"&&R.append("status","accepted"),P=="reject"&&(R.append("status","rejected"),R.append("rejection_reason",t.value)),A.post(a+"dealer/purchase-orders/bulk/approve",R).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(O=>{console.log(O),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}}}},Rat={class:""},Sat={class:"d-flex justify-content-between"},Tat={class:"d-flex flex-wrap gap-1"},jat={class:""},Oat={for:"Buyer",class:"form-label"},Mat={class:""},Lat={for:"PO No",class:"form-label"},Nat={class:""},Fat={class:"form-label",for:""},Yat={class:""},Vat={for:"Status",class:"form-label"},Bat={value:""},Uat={value:"pending"},qat={value:"approved"},Hat={value:"invoiced"},zat={value:"rejected"},Wat={class:""},Kat={for:"Bulk Actions",class:"form-label"},Gat={value:""},Qat={value:"approve"},Zat={value:"reject"},Jat={class:"table-search-btn"},Xat={class:"table-clear-btn"},ent={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},tnt={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},ont={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ant={class:"modal-content"},nnt={class:"modal-header"},snt={class:"modal-title",id:"modalCenterTitle"},lnt={class:"modal-body"},int={class:"modal-footer"},rnt={class:"btn btn-primary",type:"submit"},dnt={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},cnt={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},unt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_nt={class:"modal-content"},mnt={class:"modal-header"},fnt={class:"modal-title",id:"modalCenterTitle"},hnt={class:"modal-body"},pnt={class:"row mb-1"},vnt={class:"form-group"},gnt={for:""},bnt={class:"modal-footer"},ynt={class:"btn btn-primary",type:"submit"},knt={class:"d-flex mt-auto"},$nt={class:""},wnt={class:"table-responsive"},Dnt={class:"table dt-invoices"},xnt={class:"form-check"},Cnt={key:0},Pnt={colspan:"12",class:"text-center"},Ent={class:"text-center"},Ant={key:1},Int={colspan:"12",class:"text-center"},Rnt={class:"text-center"},Snt={class:"form-check"},Tnt=["id","onChange"],jnt=["data-bs-target"],Ont={class:"text-success"},Mnt={class:"text-success"},Lnt={class:""},Nnt={class:""},Fnt={class:""},Ynt={class:"d-inline-block"},Vnt={class:"dropdown-menu dropdown-menu-end m-0"},Bnt=["onClick"],Unt={class:"dropdown-item badge bg-label-success"},qnt={key:1},Hnt=["data-bs-target"],znt={key:2,class:""},Wnt=["href"],Knt={key:3,class:"dropdown-item badge bg-label-secondary"},Gnt=["href"],Qnt=["id"],Znt={class:"modal-dialog modal-md",role:"document"},Jnt=["onSubmit"],Xnt={class:"modal-content"},est={class:"modal-header"},tst={class:"modal-title",id:"modalCenterTitle"},ost={class:"modal-body"},ast={class:"form-label"},nst={class:"form-group"},sst={class:"modal-footer"},lst={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},ist=["disabled"],rst=["id"],dst={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},cst={class:"modal-content"},ust={class:"modal-header"},_st={class:"modal-title",id:"modalCenterTitle"},mst={class:"d-flex"},fst=["href"],hst={class:"modal-body"},pst={class:"d-flex justify-content-between"},vst={class:"mb-3 w-25"},gst={class:"d-flex justify-content-between"},bst={class:"fw-light my-auto"},yst={class:"fw-bold mx-2 my-auto"},kst={class:"d-flex justify-content-between"},$st={class:"fw-light my-auto"},wst={class:"fw-bold mx-2 my-auto"},Dst={class:"d-flex justify-content-between"},xst={class:"fw-light my-auto"},Cst={class:"fw-bold mx-2 my-auto"},Pst={class:"d-flex justify-content-between"},Est={class:"fw-light my-auto"},Ast={key:0,class:"d-flex justify-content-between"},Ist={class:"fw-light my-auto"},Rst={class:"fw-bold mx-2 my-auto"},Sst={class:"mb-3"},Tst={class:"d-flex justify-content-between"},jst={class:"my-auto fw-light"},Ost={class:"fw-bold mx-2 my-auto"},Mst={class:"d-flex justify-content-between"},Lst={class:"my-auto fw-light"},Nst={class:"fw-bold mx-2 my-auto"},Fst={class:"d-flex justify-content-between"},Yst={class:"my-auto fw-light"},Vst={class:"fw-bold mx-2 my-auto"},Bst={class:"d-flex justify-content-between"},Ust={class:"my-auto fw-light"},qst={class:"fw-bold text-success mx-2 my-auto"},Hst={class:"table-responsive"},zst={class:"table"},Wst={class:"bg-label-secondary px-2"},Kst={class:"d-flex justify-content-end"},Gst={class:"mx-2 my-auto py-1"},Qst={class:"text-success my-auto py-1"};function Zst(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Rat,[e("div",Sat,[e("div",Tat,[e("div",jat,[e("label",Oat,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.anchor_search]])]),e("div",Mat,[e("label",Lat,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.po_search]])]),e("div",Nat,[e("label",Fat,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Yat,[e("label",Vat,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",Bat,n(o.$t("Status")),1),e("option",Uat,n(o.$t("Pending")),1),e("option",qat,n(o.$t("Accepted")),1),e("option",Hat,n(o.$t("Invoiced")),1),e("option",zat,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",Wat,[e("label",Kat,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",Gat,n(o.$t("Bulk Actions")),1),e("option",Qat,n(o.$t("Accept")),1),e("option",Zat,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",Jat,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Xat,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",ent,null,512),e("div",tnt,[e("div",ont,[e("div",ant,[e("div",nnt,[e("h5",snt,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",lnt,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",int,[e("button",rnt,n(o.$t("Submit")),1)])],32)])])]),e("button",dnt,null,512),e("div",cnt,[e("div",unt,[e("div",_nt,[e("div",mnt,[e("h5",fnt,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",hnt,[e("div",pnt,[e("div",vnt,[e("label",gnt,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",bnt,[e("button",ynt,n(o.$t("Submit")),1)])],32)])])])]),e("div",knt,[e("div",$nt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",wnt,[e("table",Dnt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",xnt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",Cnt,[e("td",Pnt,[e("span",Ent,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",Ant,[e("td",Int,[e("span",Rnt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",Snt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Tnt)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,jnt),e("td",Ont,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",Mnt,n(l.purchase_order_items.length),1),e("td",Lnt,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",Nnt,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",Fnt,[e("div",Ynt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Vnt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",Unt,n(o.$t("Accept")),1)],8,Bnt)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",qnt,[e("span",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Hnt)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",znt,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,Wnt)])):b("",!0),l.attachment?(u(),f("li",Knt,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,Gnt)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Znt,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",Xnt,[e("div",est,[e("h5",tst,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",ost,[e("label",ast,n(o.$t("Rejection Reason")),1),e("div",nst,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",sst,[e("button",lst,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,ist)])])],40,Jnt)])],8,Qnt),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",dst,[e("div",cst,[e("div",ust,[e("h5",_st,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",mst,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,fst)):b("",!0)])]),e("div",hst,[e("div",pst,[e("div",vst,[e("span",gst,[e("h5",bst,n(o.$t("Buyer"))+":",1),e("h6",yst,n(l.anchor.name),1)]),e("span",kst,[e("h5",$st,n(o.$t("Delivery Address"))+":",1),e("h6",wst,n(l.delivery_address),1)]),e("span",Dst,[e("h5",xst,n(o.$t("Remarks"))+":",1),e("h6",Cst,n(l.remarks),1)]),e("span",Pst,[e("h5",Est,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",Ast,[e("h5",Ist,n(o.$t("Rejection Reason"))+":",1),e("h6",Rst,n(l.rejection_reason),1)])):b("",!0)]),e("div",Sst,[e("span",Tst,[e("h5",jst,n(o.$t("PO No"))+":",1),e("h6",Ost,n(l.purchase_order_number),1)]),e("span",Mst,[e("h5",Lst,n(o.$t("Start Date"))+":",1),e("h6",Nst,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",Fst,[e("h5",Yst,n(o.$t("End Date"))+":",1),e("h6",Vst,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",Bst,[e("h5",Ust,n(o.$t("PO Amount"))+":",1),e("h6",qst,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",Hst,[e("table",zst,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",Wst,[e("span",Kst,[e("h6",Gst,n(o.$t("Total")),1),e("h5",Qst,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,rst)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Jst=Ue(Iat,[["render",Zst]]),Xst={name:"PurchaseOrders",components:{Pagination:oo},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P.message)})},E=P=>{let R="";switch(P){case"Pending Checker Approval":R="bg-label-warning";break;case"pending Maker":R="bg-label-primary";break;case"Pending Checker":R="bg-label-warning";break;case"Accepted":R="bg-label-success";break;case"Invoiced":R="bg-label-secondary";break;case"Rejected":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},D=async(P,R)=>{m.value=!1,await A.post(`${a}dealer/purchase-orders/status/update`,{purchase_order_id:P,status:R,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(O=>{console.log(O),o.error("An error occurred")}).finally(()=>{m.value=!0})};return Qe(()=>{C()}),ot([c],([P])=>{A.get(a+"dealer/purchase-orders/data?per_page="+P,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}),ot(v,P=>{g.value.length>0?(x.value=[],P=="approve"&&(g.value.forEach(R=>{x.value.push(s.value.data.filter(O=>O.id==R)[0])}),y.value.click()),P=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,exportReport:()=>{A.get(a+"dealer/purchase-orders/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Purchase_orders_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let P=$(".ti-search").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},refresh:()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"dealer/purchase-orders/pending/data?per_page="+c.value).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(P=>{P.user_can_approve&&!P.user_has_approved&&(document.getElementById("data-select-"+P.id).checked=!0,g.value.push(P.id))}):s.value.data.forEach(P=>{if(P.user_can_approve&&!P.user_has_approved){document.getElementById("data-select-"+P.id).checked=!1;let R;if(!g.value.filter(function(N,S){R=S,N==P.id}))return!1;g.value.splice(R,1)}})},updateSelected:P=>{if(g.value.includes(P)){const R=g.value.indexOf(P);g.value.splice(R,1)}else g.value.push(P)},submitBulkAction:P=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const R=new FormData;g.value.forEach(O=>{R.append("purchase_orders[]",O)}),P=="approve"&&R.append("status","accepted"),P=="reject"&&(R.append("status","rejected"),R.append("rejection_reason",t.value)),A.post(a+"dealer/purchase-orders/bulk/approve",R).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(O=>{console.log(O),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async P=>{await A.get(P+"&per_page="+c.value,{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}).then(R=>{s.value=R.data.purchase_orders}).catch(R=>{console.log(R)})}}}},elt={class:""},tlt={class:"d-flex justify-content-between"},olt={class:"d-flex flex-wrap gap-1"},alt={class:""},nlt={for:"Buyer",class:"form-label"},slt={class:""},llt={for:"PO No",class:"form-label"},ilt={class:""},rlt={class:"form-label",for:""},dlt={class:""},clt={for:"Status",class:"form-label"},ult={value:""},_lt={value:"pending"},mlt={value:"approved"},flt={value:"invoiced"},hlt={value:"rejected"},plt={class:""},vlt={for:"Bulk Actions",class:"form-label"},glt={value:""},blt={value:"approve"},ylt={value:"reject"},klt={class:"table-search-btn"},$lt={class:"table-clear-btn"},wlt={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Dlt={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},xlt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Clt={class:"modal-content"},Plt={class:"modal-header"},Elt={class:"modal-title",id:"modalCenterTitle"},Alt={class:"modal-body"},Ilt={class:"modal-footer"},Rlt={class:"btn btn-primary",type:"submit"},Slt={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},Tlt={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},jlt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Olt={class:"modal-content"},Mlt={class:"modal-header"},Llt={class:"modal-title",id:"modalCenterTitle"},Nlt={class:"modal-body"},Flt={class:"row mb-1"},Ylt={class:"form-group"},Vlt={for:""},Blt={class:"modal-footer"},Ult={class:"btn btn-primary",type:"submit"},qlt={class:"d-flex mt-auto"},Hlt={class:""},zlt={class:"table-responsive"},Wlt={class:"table dt-invoices"},Klt={class:"form-check"},Glt={key:0},Qlt={colspan:"12",class:"text-center"},Zlt={class:"text-center"},Jlt={key:1},Xlt={colspan:"12",class:"text-center"},eit={class:"text-center"},tit={class:"form-check"},oit=["id","onChange"],ait=["data-bs-target"],nit={class:"text-success"},sit={class:"text-success"},lit={class:""},iit={class:""},rit={class:""},dit={class:"d-inline-block"},cit={class:"dropdown-menu dropdown-menu-end m-0"},uit=["onClick"],_it={class:"dropdown-item badge bg-label-success"},mit={key:1},fit=["data-bs-target"],hit={key:2,class:""},pit=["href"],vit={key:3,class:"dropdown-item badge bg-label-secondary"},git=["href"],bit=["id"],yit={class:"modal-dialog modal-md",role:"document"},kit=["onSubmit"],$it={class:"modal-content"},wit={class:"modal-header"},Dit={class:"modal-title",id:"modalCenterTitle"},xit={class:"modal-body"},Cit={class:"form-label"},Pit={class:"form-group"},Eit={class:"modal-footer"},Ait={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},Iit=["disabled"],Rit=["id"],Sit={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Tit={class:"modal-content"},jit={class:"modal-header"},Oit={class:"modal-title",id:"modalCenterTitle"},Mit={class:"d-flex"},Lit=["href"],Nit={class:"modal-body"},Fit={class:"d-flex justify-content-between"},Yit={class:"mb-3 w-25"},Vit={class:"d-flex justify-content-between"},Bit={class:"fw-light my-auto"},Uit={class:"fw-bold mx-2 my-auto"},qit={class:"d-flex justify-content-between"},Hit={class:"fw-light my-auto"},zit={class:"fw-bold mx-2 my-auto"},Wit={class:"d-flex justify-content-between"},Kit={class:"fw-light my-auto"},Git={class:"fw-bold mx-2 my-auto"},Qit={class:"d-flex justify-content-between"},Zit={class:"fw-light my-auto"},Jit={key:0,class:"d-flex justify-content-between"},Xit={class:"fw-light my-auto"},ert={class:"fw-bold mx-2 my-auto"},trt={class:"mb-3"},ort={class:"d-flex justify-content-between"},art={class:"my-auto fw-light"},nrt={class:"fw-bold mx-2 my-auto"},srt={class:"d-flex justify-content-between"},lrt={class:"my-auto fw-light"},irt={class:"fw-bold mx-2 my-auto"},rrt={class:"d-flex justify-content-between"},drt={class:"my-auto fw-light"},crt={class:"fw-bold mx-2 my-auto"},urt={class:"d-flex justify-content-between"},_rt={class:"my-auto fw-light"},mrt={class:"fw-bold text-success mx-2 my-auto"},frt={class:"table-responsive"},hrt={class:"table"},prt={class:"bg-label-secondary px-2"},vrt={class:"d-flex justify-content-end"},grt={class:"mx-2 my-auto py-1"},brt={class:"text-success my-auto py-1"};function yrt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",elt,[e("div",tlt,[e("div",olt,[e("div",alt,[e("label",nlt,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.anchor_search]])]),e("div",slt,[e("label",llt,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",id:"form-search"},null,544),[[X,t.po_search]])]),e("div",ilt,[e("label",rlt,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",dlt,[e("label",clt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"form-search"},[e("option",ult,n(o.$t("Status")),1),e("option",_lt,n(o.$t("Pending")),1),e("option",mlt,n(o.$t("Accepted")),1),e("option",flt,n(o.$t("Invoiced")),1),e("option",hlt,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",plt,[e("label",vlt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l),id:"form-search"},[e("option",glt,n(o.$t("Bulk Actions")),1),e("option",blt,n(o.$t("Accept")),1),e("option",ylt,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",klt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$lt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",wlt,null,512),e("div",Dlt,[e("div",xlt,[e("div",Clt,[e("div",Plt,[e("h5",Elt,n(o.$t("Accept Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Alt,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",Ilt,[e("button",Rlt,n(o.$t("Submit")),1)])],32)])])]),e("button",Slt,null,512),e("div",Tlt,[e("div",jlt,[e("div",Olt,[e("div",Mlt,[e("h5",Llt,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Nlt,[e("div",Flt,[e("div",Ylt,[e("label",Vlt,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",Blt,[e("button",Ult,n(o.$t("Submit")),1)])],32)])])])]),e("div",qlt,[e("div",Hlt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",zlt,[e("table",Wlt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",Klt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",Glt,[e("td",Qlt,[e("span",Zlt,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",Jlt,[e("td",Xlt,[e("span",eit,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",tit,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,oit)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,ait),e("td",nit,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",sit,n(l.purchase_order_items.length),1),e("td",lit,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",iit,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",rit,[e("div",dit,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",cit,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",_it,n(o.$t("Accept")),1)],8,uit)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",mit,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},"Reject",8,fit)])):b("",!0),l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",hit,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},"Convert to Invoice",8,pit)])):b("",!0),l.attachment?(u(),f("li",vit,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,git)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",yit,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",$it,[e("div",wit,[e("h5",Dit,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xit,[e("label",Cit,n(o.$t("Rejection Reason")),1),e("div",Pit,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",Eit,[e("button",Ait,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,Iit)])])],40,kit)])],8,bit),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Sit,[e("div",Tit,[e("div",jit,[e("h5",Oit,n(o.$t("Purchase Order")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Mit,[l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[23]||(a[23]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Lit)):b("",!0)])]),e("div",Nit,[e("div",Fit,[e("div",Yit,[e("span",Vit,[e("h5",Bit,n(o.$t("Buyer"))+":",1),e("h6",Uit,n(l.anchor.name),1)]),e("span",qit,[e("h5",Hit,n(o.$t("Delivery Address"))+":",1),e("h6",zit,n(l.delivery_address),1)]),e("span",Wit,[e("h5",Kit,n(o.$t("Remarks"))+":",1),e("h6",Git,n(l.remarks),1)]),e("span",Qit,[e("h5",Zit,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",Jit,[e("h5",Xit,n(o.$t("Rejection Reason"))+":",1),e("h6",ert,n(l.rejection_reason),1)])):b("",!0)]),e("div",trt,[e("span",ort,[e("h5",art,n(o.$t("PO No"))+":",1),e("h6",nrt,n(l.purchase_order_number),1)]),e("span",srt,[e("h5",lrt,n(o.$t("Start Date"))+":",1),e("h6",irt,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",rrt,[e("h5",drt,n(o.$t("End Date"))+":",1),e("h6",crt,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",urt,[e("h5",_rt,n(o.$t("PO Amount"))+":",1),e("h6",mrt,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",frt,[e("table",hrt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",prt,[e("span",vrt,[e("h6",grt,n(o.$t("Total")),1),e("h5",brt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,Rit)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const krt=Ue(Xst,[["render",yrt]]),$rt={name:"AllInvoicesReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),w=async()=>{await A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)})},y=async(L,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+L+"/details").then(T=>{v.value=T.data,g.value++,bt(()=>{document.getElementById(F).click()})}).catch(T=>{console.log(T)})};Qe(()=>{w()});const x=L=>{let F="";switch(L){case"created":F="bg-label-secondary";break;case"pending":F="bg-label-primary";break;case"submitted":F="bg-label-primary";break;case"approved":F="bg-label-success";break;case"disbursed":F="bg-label-success";break;case"denied":F="bg-label-danger";break;case"Rejected":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},C=L=>{let F="";switch(L){case"pending":F="bg-label-primary";break;case"financed":F="bg-label-success";break;case"closed":F="bg-label-secondary";break;case"denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},E=(L,F)=>(F/L*100).toFixed(2);return ot([t],([L])=>{A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:L}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,buyer_search:_,from_date_search:l,to_date_search:r,status_search:i,financing_status_search:d,invoice_details:v,invoice_details_key:g,changePage:async L=>{await A.get(L,{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(F=>{s.value=F.data.invoices})},resolveFinancingStatus:C,resolveStatus:x,getTaxPercentage:E,exportReport:()=>{A.get(c+"dealer/reports/report/factoring-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},exportPdfReport:()=>{A.get(c+"reports/dealer-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)})},filter:()=>{p.value=$("#date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let L=$(".ti-search").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,from_date:l.value,to_date:r.value,status:i.value,financing_status:d.value}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},refresh:()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(c+"dealer/reports/all-invoices-report",{params:{per_page:t.value}}).then(F=>{s.value=F.data.invoices}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},showInvoice:y}}},wrt={class:"card p-1"},Drt={class:"d-flex justify-content-between"},xrt={class:"d-flex flex-wrap gap-1"},Crt={class:""},Prt={for:"Invoice No",class:"form-label"},Ert={class:""},Art={for:"Invoice No",class:"form-label"},Irt={class:""},Rrt={class:"form-label",for:""},Srt={class:""},Trt={for:"Status",class:"form-label"},jrt={value:""},Ort={value:"pending"},Mrt={value:"pending_maker"},Lrt={value:"pending_checker"},Nrt={value:"approved"},Frt={value:"rejected"},Yrt={value:"past_due"},Vrt={value:"expired"},Brt={class:""},Urt={for:"Financing Status",class:"form-label"},qrt={value:""},Hrt={value:"pending"},zrt={value:"submitted"},Wrt={value:"financed"},Krt={value:"disbursed"},Grt={value:"closed"},Qrt={value:"rejected"},Zrt={class:"table-search-btn"},Jrt={class:"table-clear-btn"},Xrt={class:"d-flex align-items-end mt-auto"},edt={class:"mx-1"},tdt={class:"table-responsive"},odt={class:"table"},adt={class:"table-border-bottom-0"},ndt={key:0},sdt={colspan:"12",class:"text-center"},ldt={class:"text-center"},idt={key:1},rdt={colspan:"12",class:"text-center"},ddt={class:"text-center"},cdt=["onClick"],udt={class:"me-1"},_dt={class:"text-success text-nowrap"},mdt={key:0},fdt={key:1},hdt=["id","data-bs-target"],pdt=["id","data-bs-target"],vdt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},gdt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},bdt={class:"modal-content"},ydt={class:"modal-body"},kdt={class:"d-flex justify-content-center"};function $dt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",wrt,[e("div",Drt,[e("div",xrt,[e("div",Crt,[e("label",Prt,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.buyer_search]])]),e("div",Ert,[e("label",Art,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Irt,[e("label",Rrt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Srt,[e("label",Trt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",jrt,n(o.$t("Status")),1),e("option",Ort,n(o.$t("Pending (Internal Approval)")),1),e("option",Mrt,n(o.$t("Pending Maker")),1),e("option",Lrt,n(o.$t("Pending Checker")),1),e("option",Nrt,n(o.$t("Approved")),1),e("option",Frt,n(o.$t("Rejected")),1),e("option",Yrt,n(o.$t("Overdue")),1),e("option",Vrt,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",Brt,[e("label",Urt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",qrt,n(o.$t("Finanicing Status")),1),e("option",Hrt,n(o.$t("Pending")),1),e("option",zrt,n(o.$t("Submitted")),1),e("option",Wrt,n(o.$t("Financed")),1),e("option",Krt,n(o.$t("Disbursed")),1),e("option",Grt,n(o.$t("Closed")),1),e("option",Qrt,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",Zrt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Jrt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),a[14]||(a[14]=e("div",{class:"my-auto"},null,-1))]),e("div",Xrt,[e("div",edt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i),style:{width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",tdt,[e("table",odt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1)])]),e("tbody",adt,[t.invoices.data?b("",!0):(u(),f("tr",ndt,[e("td",sdt,[e("span",ldt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",idt,[e("td",rdt,[e("span",ddt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,cdt),e("td",null,[e("span",udt,n(i.company),1)]),e("td",_dt,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",mdt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",fdt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,hdt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,pdt),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",vdt,[e("div",gdt,[e("div",bdt,[e("div",ydt,[e("div",kdt,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const nD=Ue($rt,[["render",$dt]]),wdt={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"factoring/reports/programs-report",{params:{per_page:g}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/factoring-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"factoring/reports/programs-report",{params:{per_page:t.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},Ddt={class:"card p-2"},xdt={class:"d-flex justify-content-between"},Cdt={class:"d-flex flex-wrap"},Pdt={class:""},Edt={for:"Program Code",class:"form-label"},Adt={class:"mx-1"},Idt={for:"Buyer",class:"form-label"},Rdt={class:"mx-1 table-search-btn"},Sdt={class:"mx-1 table-clear-btn"},Tdt={class:"d-flex align-items-end"},jdt={class:"table-responsive"},Odt={class:"table"},Mdt={class:"text-nowrap"},Ldt={class:"table-border-bottom-0"},Ndt={key:0},Fdt={colspan:"12",class:"text-center"},Ydt={class:"text-center"},Vdt={key:1},Bdt={colspan:"12",class:"text-center"},Udt={class:"text-center"},qdt={class:""},Hdt={class:"me-1"},zdt={class:"text-success"},Wdt={class:"text-success"},Kdt={class:"text-success"},Gdt={class:"text-success"};function Qdt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Ddt,[e("div",xdt,[e("div",Cdt,[e("div",Pdt,[e("label",Edt,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.loan_od_account_search]])]),e("div",Adt,[e("label",Idt,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.buyer_search]])]),e("div",Rdt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Sdt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Tdt,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jdt,[e("table",Odt,[e("thead",null,[e("tr",Mdt,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",Ldt,[t.programs.data?b("",!0):(u(),f("tr",Ndt,[e("td",Fdt,[e("span",Ydt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Vdt,[e("td",Bdt,[e("span",Udt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",qdt,n(l.payment_account_number),1),e("td",null,[e("span",Hdt,n(l.buyer_name),1)]),e("td",zdt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Wdt,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Kdt,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Gdt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Zdt=Ue(wdt,[["render",Qdt]]),Jdt={name:"PaymentsReport",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(null),y=h(null),x=h(""),C=h(""),E=h(0),D=()=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(N=>{s.value=N.data.payments}).catch(N=>{console.log(N)})},k=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+N+"/details").then(U=>{w.value=U.data,E.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})},I=async(N,S)=>{await A.get(c+"factoring/purchase-orders/"+N+"/show").then(U=>{y.value=U.data,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};Qe(()=>{D()});const V=N=>{let S="";switch(N){case"created":S="bg-label-secondary";break;case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-primary";break;case"approved":S="bg-label-secondary";break;case"disbursed":S="bg-label-success";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},B=N=>{let S="";switch(N){case"pending":S="bg-label-primary";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},L=(N,S)=>(S/N*100).toFixed(2);return ot(t,([N])=>{A.get(c+"factoring/reports/payments-report",{params:{per_page:N,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)})}),{moment:H,payments:s,per_page:t,invoice_number_search:m,buyer_search:_,po_search:l,from_date_search:r,to_date_search:i,from_disbursement_date_search:d,to_disbursement_date_search:p,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,getTaxPercentage:L,changePage:async N=>{await A.get(N,{params:{per_page:t.value,buyer:_.value,invoice_number:m.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments})},exportReport:()=>{A.get(c+"factoring/reports/report/factoring-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)})},exportPdfReport:()=>{A.get(c+"reports/factoring-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)})},filter:()=>{x.value=$("#date_search").val(),x.value&&(r.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#disbursement_date_search").val(),C.value&&(d.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value,invoice_number:m.value,buyer:_.value,po:l.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},refresh:()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",x.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(c+"factoring/reports/payments-report",{params:{per_page:t.value}}).then(S=>{s.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},invoice_details:w,purchase_order_details:y,showInvoice:k,showPurchaseOrder:I,show_invoice_key:E}}},Xdt={class:"card p-1"},ect={class:"d-flex justify-content-between"},tct={class:"d-flex flex-wrap gap-1"},oct={class:""},act={for:"Buyer",class:"form-label"},nct={class:""},sct={for:"Invoice No",class:"form-label"},lct={class:""},ict={for:"PO No",class:"form-label"},rct={class:""},dct={class:"form-label",for:""},cct={class:""},uct={class:"form-label",for:""},_ct={class:""},mct={for:"Financing Status",class:"form-label"},fct={value:""},hct={value:"disbursed"},pct={value:"closed"},vct={class:"table-search-btn"},gct={class:"table-clear-btn"},bct={class:"d-flex align-items-end"},yct={class:"table-responsive"},kct={class:"table"},$ct={class:""},wct={class:"table-border-bottom-0"},Dct={key:0},xct={colspan:"12",class:"text-center"},Cct={class:"text-center"},Pct={key:1},Ect={colspan:"12",class:"text-center"},Act={class:"text-center"},Ict=["onClick"],Rct={class:"text-success text-nowrap"},Sct={class:"text-success text-nowrap"},Tct={class:"text-success text-nowrap"},jct={class:"text-success text-nowrap"},Oct={class:"text-success text-nowrap"},Mct={class:"text-success text-nowrap"},Lct=["id","data-bs-target"],Nct=["id","data-bs-target"],Fct=["id","data-bs-target"],Yct={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Vct={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Bct={class:"modal-content"},Uct={class:"modal-body"},qct={class:"d-flex justify-content-center"},Hct=["id"],zct={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Wct={class:"modal-content"},Kct={class:"modal-header"},Gct={class:"modal-title",id:"modalCenterTitle"},Qct={class:"d-flex"},Zct=["href"],Jct={class:"modal-body"},Xct={class:"d-flex justify-content-between"},eut={class:"mb-3"},tut={class:"d-flex justify-content-between"},out={class:"fw-light my-auto"},aut={class:"fw-bold mx-2 my-auto"},nut={class:"d-flex justify-content-between"},sut={class:"fw-light my-auto"},lut={class:"fw-bold mx-2 my-auto"},iut={class:"d-flex justify-content-between"},rut={class:"fw-light my-auto"},dut={class:"fw-bold mx-2 my-auto"},cut={class:"d-flex justify-content-between"},uut={class:"fw-light my-auto"},_ut={key:0,class:"d-flex justify-content-between"},mut={class:"fw-light my-auto"},fut={class:"fw-bold mx-2 my-auto"},hut={class:"mb-3"},put={class:"d-flex justify-content-between"},vut={class:"my-auto fw-light"},gut={class:"fw-bold mx-2 my-auto"},but={class:"d-flex justify-content-between"},yut={class:"my-auto fw-light"},kut={class:"fw-bold mx-2 my-auto"},$ut={class:"d-flex justify-content-between"},wut={class:"my-auto fw-light"},Dut={class:"fw-bold mx-2 my-auto"},xut={class:"d-flex justify-content-between"},Cut={class:"my-auto fw-light"},Put={class:"fw-bold text-success mx-2 my-auto"},Eut={class:"table-responsive"},Aut={class:"table"},Iut={class:"bg-label-secondary px-2"},Rut={class:"d-flex justify-content-end"},Sut={class:"mx-2 my-auto py-1"},Tut={class:"text-success my-auto py-1"};function jut(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Xdt,[e("div",ect,[e("div",tct,[e("div",oct,[e("label",act,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.buyer_search]])]),e("div",nct,[e("label",sct,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",lct,[e("label",ict,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[4]||(a[4]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.po_search]])]),e("div",rct,[e("label",dct,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",cct,[e("label",uct,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",_ct,[e("label",mct,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.financing_status_search=i)},[e("option",fct,n(o.$t("Financing Status")),1),e("option",hct,n(o.$t("Disbursed")),1),e("option",pct,n(o.$t("Closed")),1)],512),[[de,t.financing_status_search]])]),e("div",vct,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",gct,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",bct,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[11]||(a[11]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.payments.meta?(u(),me(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",yct,[e("table",kct,[e("thead",null,[e("tr",$ct,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",wct,[t.payments.data?b("",!0):(u(),f("tr",Dct,[e("td",xct,[e("span",Cct,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",Pct,[e("td",Ect,[e("span",Act,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,Ict),e("td",null,n(i.buyer),1),e("td",Rct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total_amount)),1)]),e("td",Sct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",Tct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",jct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.program_fees)),1)]),e("td",Oct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1)]),e("td",Mct,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Lct),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Nct),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,Fct),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Yct,[e("div",Vct,[e("div",Bct,[e("div",Uct,[e("div",qct,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",zct,[e("div",Wct,[e("div",Kct,[e("h5",Gct,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Qct,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Zct)):b("",!0)])]),e("div",Jct,[e("div",Xct,[e("div",eut,[e("span",tut,[e("h5",out,n(o.$t("Anchor"))+":",1),e("h6",aut,n(t.purchase_order_details.anchor.name),1)]),e("span",nut,[e("h5",sut,n(o.$t("Delivery Address"))+":",1),e("h6",lut,n(t.purchase_order_details.delivery_address),1)]),e("span",iut,[e("h5",rut,n(o.$t("Remarks"))+":",1),e("h6",dut,n(t.purchase_order_details.remarks),1)]),e("span",cut,[e("h5",uut,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.status)])},n(t.purchase_order_details.status),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",_ut,[e("h5",mut,n(o.$t("Rejection Reason"))+":",1),e("h6",fut,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",hut,[e("span",put,[e("h5",vut,n(o.$t("PO No"))+":",1),e("h6",gut,n(t.purchase_order_details.purchase_order_number),1)]),e("span",but,[e("h5",yut,n(o.$t("Start Date"))+":",1),e("h6",kut,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",$ut,[e("h5",wut,n(o.$t("End Date"))+":",1),e("h6",Dut,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",xut,[e("h5",Cut,n(o.$t("PO Amount"))+":",1),e("h6",Put,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",Eut,[e("table",Aut,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Iut,[e("span",Rut,[e("h6",Sut,n(o.$t("Total")),1),e("h5",Tut,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,Hct)):b("",!0)])]))),128))])])]),t.payments.meta?(u(),me(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const sD=Ue(Jdt,[["render",jut]]),Out={name:"FactoringReports",components:{AllInvoicesReport:nD,ProgramReport:Zdt,PaymentsReport:sD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},Mut={class:"nav-align-top nav-tabs-shadow mb-4"},Lut={class:"nav nav-tabs",role:"tablist"},Nut={class:"nav-item"},Fut={class:"nav-item"},Yut={class:"nav-item"},Vut={class:"tab-content"},But={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},Uut={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},qut={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function Hut(o,a,s,t,c,m){const _=ce("all-invoices-report"),l=ce("program-report"),r=ce("payments-report");return u(),f("div",Mut,[e("ul",Lut,[e("li",Nut,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")]),e("li",Fut,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")]),e("li",Yut,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])]),e("div",Vut,[e("div",But,[Be(_,{ref:"invoices_report"},null,512)]),e("div",Uut,[Be(l,{ref:"programs_report"},null,512)]),e("div",qut,[Be(r,{ref:"payments_report"},null,512)])])])}const zut=Ue(Out,[["render",Hut]]),Wut={name:"ProgramReport",components:{Pagination:oo},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=()=>{A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value}}).then(g=>{s.value=g.data.programs})};return Qe(()=>{l()}),ot([t],([g])=>{A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:g}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)})}),{moment:H,programs:s,per_page:t,loan_od_account_search:m,buyer_search:_,changePage:async g=>{await A.get(g,{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs})},exportReport:()=>{A.get(c+"dealer/reports/report/factoring-dealer-program-report/export",{responseType:"arraybuffer",method:"GET",params:{loan_account:m.value,buyer:_.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Dealer_Programs_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},exportPdfReport:()=>{A.get(c+"reports/dealer-dealer-program-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Dealer_Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},filter:()=>{let g=$(".ti-search").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value,loan_account:m.value,buyer:_.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-search"></i>')})},refresh:()=>{let g=$(".ti-refresh").parent();g.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",A.get(c+"dealer/reports/dealer-programs-report",{params:{per_page:t.value}}).then(w=>{s.value=w.data.programs}).catch(w=>{console.log(w)}).finally(()=>{g.html('<i class="ti ti-refresh"></i>')})}}}},Kut={class:"card p-2"},Gut={class:"d-flex justify-content-between"},Qut={class:"d-flex flex-wrap gap-1"},Zut={class:""},Jut={for:"Program Code",class:"form-label"},Xut={class:""},e_t={for:"Dealer",class:"form-label"},t_t={class:"table-search-btn"},o_t={class:"table-clear-btn"},a_t={class:"d-flex gap-1 align-items-end mt-auto"},n_t={class:"table-responsive"},s_t={class:"table"},l_t={class:"text-nowrap"},i_t={class:"table-border-bottom-0"},r_t={key:0},d_t={colspan:"12",class:"text-center"},c_t={class:"text-center"},u_t={key:1},__t={colspan:"12",class:"text-center"},m_t={class:"text-center"},f_t={class:""},h_t={class:"me-1"},p_t={class:"text-success text-nowrap"},v_t={class:"text-success text-nowrap"},g_t={class:"text-success text-nowrap"},b_t={class:"text-success text-nowrap"};function y_t(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Kut,[e("div",Gut,[e("div",Qut,[e("div",Zut,[e("label",Jut,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Loan/OD Account No.","onUpdate:modelValue":a[0]||(a[0]=l=>t.loan_od_account_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.loan_od_account_search]])]),e("div",Xut,[e("label",e_t,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Buyer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.buyer_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.buyer_search]])]),e("div",t_t,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",o_t,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",a_t,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l),style:{width:"5rem"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary",title:"Download Excel"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",title:"Download PDF"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-sm"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",n_t,[e("table",s_t,[e("thead",null,[e("tr",l_t,[e("th",null,n(o.$t("Loan Account No")),1),e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",i_t,[t.programs.data?b("",!0):(u(),f("tr",r_t,[e("td",d_t,[e("span",c_t,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",u_t,[e("td",__t,[e("span",m_t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",f_t,n(l.payment_account_number),1),e("td",null,[e("span",h_t,n(l.company_name),1)]),e("td",p_t,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",v_t,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",g_t,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",b_t,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const k_t=Ue(Wut,[["render",y_t]]),$_t={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},w_t={class:"table"},D_t={class:"table-border"},x_t={class:""},C_t=["value"],P_t={class:""},E_t=["value"],A_t={class:""},I_t=["value"],R_t={class:""},S_t=["value"],T_t={class:""},j_t=["value"],O_t={class:""},M_t=["value"];function L_t(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",w_t,[e("tbody",D_t,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",x_t,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,C_t)])]),e("td",null,[e("div",P_t,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,E_t)])]),e("td",null,[e("div",A_t,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,I_t)])]),e("td",null,[e("div",R_t,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,S_t)])]),e("td",null,[e("div",T_t,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,j_t)])]),e("td",null,[e("div",O_t,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,M_t)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const N_t=Ue($_t,[["render",L_t]]),F_t={name:"PurchaseOrderSettings",props:["can_edit","can_approve_changes"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),w=()=>{A.get("purchase-order-settings").then(D=>{c.value=D.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=D.data.can_approve&&D.data.user_id!=c.value.proposed_update.user_id)}).catch(D=>{console.log(D)})};a.expose({getPurchaseOrderSettings:w});const y=()=>{const D=new FormData;D.append("maker_checker_creating_updating",r.value),D.append("auto_request_financing",i.value),D.append("company_logo",l.value),D.append("description",_.value),D.append("footer",m.value),A.post("purchase-order-settings/update",D).then(k=>{w(),l.value=null,t.success(k.data.message)}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})},x=D=>{D.preventDefault();let k=D.target.files||D.dataTransfer.files;k.length&&(l.value=k[0])},C=()=>{_.value=d.value.getHTML().toString()},E=D=>{A.get("purchase-order-settings/status/"+D+"/update").then(k=>{w(),l.value=null,t.success(k.data.message),document.getElementById("close-modal").click()}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([D,k,I,V,B])=>{D!=c.value.maker_checker_creating_updating||k!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||I?g.value=!0:g.value=!1}),{can_edit:s,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,can_approve:p,updateStatus:E,changeFile:x,changeDescription:C,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},Y_t={class:"d-flex justify-content-between p-1"},V_t={class:"fw-bold py-3"},B_t={class:"fw-light px-3"},U_t={key:0,class:"my-auto px-2"},q_t={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},H_t={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},z_t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},W_t={class:"modal-content"},K_t={class:"modal-header"},G_t={class:"modal-title",id:"modalCenterTitle"},Q_t={class:"modal-body"},Z_t={key:0},J_t={key:0},X_t={key:1},emt={key:1},tmt={key:0},omt={key:1},amt={key:2},nmt=["href"],smt={key:3},lmt=["innerHTML"],imt={key:4},rmt={class:"modal-footer"},dmt={class:"row px-2 mb-2"},cmt={class:"col-md-4"},umt={class:"row border rounded border-primary mx-2 py-2"},_mt={class:"col-md-9 d-flex flex-column"},mmt={class:"col-form-label"},fmt={class:"col-md-3 mt-2"},hmt={class:"form-check form-switch"},pmt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},vmt=["checked"],gmt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},bmt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},ymt={class:"btn btn-primary",type:"submit"},kmt={class:"fw-bold py-3 mb-2"},$mt={class:"fw-light px-3"},wmt={class:"row px-3 mb-2"},Dmt={class:"col-md-6 border-bottom d-flex flex-column"},xmt={for:"html5-text-input",class:"col-form-label"},Cmt={class:"col-md-6"},Pmt={class:"row px-3 mb-2"},Emt={class:"col-md-6 d-flex flex-column"},Amt={for:"",class:"col-form-label"},Imt={class:"col-md-6 mb-4"},Rmt={class:"row px-3 mb-2 mt-4"},Smt={class:"col-md-6 d-flex flex-column"},Tmt={for:"html5-text-input",class:"col-form-label"},jmt={class:"col-md-6"},Omt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Mmt={class:"btn btn-primary",type:"submit"};function Lmt(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",Y_t,[e("h5",V_t,[e("span",B_t,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",U_t,[e("button",q_t,n(o.$t("View Proposed Changes")),1),e("div",H_t,[e("div",z_t,[e("div",W_t,[e("div",K_t,[e("h5",G_t,n(o.$t("Confirm Changes")),1),a[7]||(a[7]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Q_t,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",Z_t,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",J_t,n(o.$t("Yes to No")),1)):(u(),f("span",X_t,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",emt,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",tmt,n(o.$t("Yes to No")),1)):(u(),f("span",omt,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",amt,[le(n(o.$t("Changed Logo"))+" ",1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,nmt)])):b("",!0),i=="description"?(u(),f("div",smt,[le(n(o.$t("Change Description To"))+": ",1),a[8]||(a[8]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,lmt)])):b("",!0),i=="footer"?(u(),f("div",imt,[le(n(o.$t("Change Footer To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",rmt,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",dmt,[e("div",cmt,[e("div",umt,[e("div",_mt,[e("label",mmt,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",fmt,[e("div",hmt,[e("label",pmt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,vmt),[[Yo,t.maker_checker]]),e("label",gmt,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",bmt,[e("button",ymt,n(o.$t("Submit")),1)])):b("",!0)],32),a[10]||(a[10]=e("hr",null,null,-1)),e("h5",kmt,[e("span",$mt,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[6]||(a[6]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",wmt,[e("div",Dmt,[e("label",xmt,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",Cmt,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[4]||(a[4]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",Pmt,[e("div",Emt,[e("label",Amt,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",Imt,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",Rmt,[e("div",Smt,[e("label",Tmt,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",jmt,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[5]||(a[5]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",Omt,[e("button",Mmt,n(o.$t("Submit")),1)])):b("",!0)],32)])}const Nmt=Ue(F_t,[["render",Lmt],["__scopeId","data-v-967cd975"]]),Fmt={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(!1),l=h(!1),r=h(!1),i=()=>{A.get("invoice-settings").then(v=>{m.value=v.data.settings,_.value=m.value.maker_checker_creating_updating,m.value.proposed_update&&(l.value=v.data.can_approve&&v.data.user_id!=m.value.proposed_update.user_id)}).catch(v=>{console.log(v)})};a.expose({getInvoiceSettings:i});const d=()=>{const v=new FormData;v.append("maker_checker_creating_updating",_.value),A.post("invoice-settings/update",v).then(g=>{i(),c.success(g.data.message)}).catch(g=>{c.error(g.response.data.message)})};return ot([_],([v])=>{v!=m.value.maker_checker_creating_updating?r.value=!0:r.value=!1}),{can_edit:s,checker:t,can_approve:l,invoice_settings:m,maker_checker:_,updateStatus:v=>{A.get("invoice-settings/status/"+v+"/update").then(g=>{i(),c.success(g.data.message),document.getElementById("close-modal").click()}).catch(g=>{c.error(g.response.data.message)})},updateInvoiceSettings:d,can_submit_upper:r}}},Ymt={class:"d-flex justify-content-between p-1"},Vmt={class:"fw-bold py-3"},Bmt={class:"fw-light px-3"},Umt={key:0,class:"my-auto px-2"},qmt={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},Hmt={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},zmt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Wmt={class:"modal-content"},Kmt={class:"modal-header"},Gmt={class:"modal-title",id:"modalCenterTitle"},Qmt={class:"modal-body"},Zmt={key:0},Jmt={key:0},Xmt={key:1},eft={class:"modal-footer"},tft={class:"row px-2 mb-2"},oft={class:"col-md-4"},aft={class:"row border rounded border-primary mx-2 py-2"},nft={class:"col-md-9 d-flex flex-column"},sft={class:"col-form-label"},lft={class:"col-md-3 mt-2"},ift={class:"form-check form-switch"},rft={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},dft=["checked"],cft={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},uft={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},_ft={class:"btn btn-primary",type:"submit"};function mft(o,a,s,t,c,m){return u(),f("div",null,[e("div",Ymt,[e("h5",Vmt,[e("span",Bmt,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",Umt,[e("button",qmt,n(o.$t("View Proposed Changes")),1),e("div",Hmt,[e("div",zmt,[e("div",Wmt,[e("div",Kmt,[e("h5",Gmt,n(o.$t("Confirm Changes")),1),a[4]||(a[4]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Qmt,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,_=>(u(),f("div",{key:_},[(u(!0),f(G,null,ee(_,(l,r)=>(u(),f("div",{key:l},[r=="maker_checker_creating_updating"?(u(),f("div",Zmt,[le(n(o.$t("Change Maker/Checker for Invoice Approval from"))+" ",1),t.maker_checker?(u(),f("span",Jmt,n(o.$t("Yes to No")),1)):(u(),f("span",Xmt,n(o.$t("No to Yes")),1))])):b("",!0)]))),128))]))),128))]),e("div",eft,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=_=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=_=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(..._),["prevent"])),method:"post"},[e("div",tft,[e("div",oft,[e("div",aft,[e("div",nft,[e("label",sft,n(o.$t("Invoice / Payment Instruction (PI) Approval")),1),e("small",null,n(o.$t("Request checker approval for approval of invoices")),1)]),e("div",lft,[e("div",ift,[e("label",rft,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=_=>t.maker_checker=_)},null,8,dft),[[Yo,t.maker_checker]]),e("label",cft,n(o.$t("Yes")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",uft,[e("button",_ft,n(o.$t("Submit")),1)])):b("",!0)],32)])}const fft=Ue(Fmt,[["render",mft],["__scopeId","data-v-dbf5b7cb"]]),hft={name:"Settings",props:["can_edit","can_view","can_edit_vendor","has_proposed_updates","has_invoice_proposed_updates"],components:{BankAccounts:N_t,PurchaseOrderSettings:Nmt,InvoiceSettings:fft},setup(o){const a=o.can_edit,s=o.can_view,t=o.can_edit_vendor,c=o.has_proposed_updates,m=o.has_invoice_proposed_updates,_=h(null),l=h(null),r=h(null);return Qe(()=>{_.value.getBankAccounts()}),{can_edit:a,can_view:s,can_edit_vendor:t,has_proposed_updates:c,has_invoice_proposed_updates:m,bank_accounts:_,purchase_order_settings:l,invoice_settings:r,switchTabs:d=>{switch(d){case"bank-accounts":_.value.getBankAccounts();break;case"purchase-order-settings":l.value.getPurchaseOrderSettings();break;case"invoice-settings":r.value.getInvoiceSettings();break}}}}},pft={class:"nav-align-top mb-4"},vft={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},gft={class:"nav-item"},bft={key:0,class:"nav-item"},yft={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},kft={key:1,class:"nav-item"},$ft={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},wft={class:"tab-content"},Dft={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},xft={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},Cft={key:1,class:"tab-pane fade",id:"navs-pills-invoice-settings",role:"tabpanel"};function Pft(o,a,s,t,c,m){const _=ce("bank-accounts"),l=ce("purchase-order-settings"),r=ce("invoice-settings");return u(),f("div",pft,[e("ul",vft,[e("li",gft,[e("button",{type:"button",onClick:a[0]||(a[0]=i=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1)),le(" "+n(o.$t("Bank Details")),1)])]),t.can_view==1?(u(),f("li",bft,[e("button",{type:"button",onClick:a[1]||(a[1]=i=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[4]||(a[4]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Purchase Order Settings"))+" ",1),t.has_proposed_updates==1?(u(),f("i",yft)):b("",!0)])])):b("",!0),t.can_view==1?(u(),f("li",kft,[e("button",{type:"button",onClick:a[2]||(a[2]=i=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-invoice-settings","aria-controls":"navs-pills-invoice-settings","aria-selected":"false"},[a[5]||(a[5]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),le(" "+n(o.$t("Invoice Settings"))+" ",1),t.has_invoice_proposed_updates==1?(u(),f("i",$ft)):b("",!0)])])):b("",!0)]),e("div",wft,[e("div",Dft,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",xft,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0),t.can_view==1?(u(),f("div",Cft,[Be(r,{ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const Eft=Ue(hft,[["render",Pft]]),Aft={name:"Payments",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(null),r=h(50),i=async()=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(D=>{a.value=D.data})},d=D=>{let k="";switch(D){case"Created":k="bg-label-secondary";break;case"Pending Maker":k="bg-label-primary";break;case"Pending Checker":k="bg-label-warning";break;case"Submitted":k="bg-label-primary";break;case"Approved":k="bg-label-success";break;case"Disbursed":k="bg-label-success";break;case"Denied":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},p=D=>{let k="";switch(D){case"pending":k="bg-label-primary";break;case"financed":k="bg-label-success";break;case"closed":k="bg-label-secondary";break;case"denied":k="bg-label-danger";break;default:k="bg-label-primary";break}return k},v=async(D,k)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+D+"/details").then(I=>{_.value=I.data,bt(()=>{document.getElementById(k).click()})}).catch(I=>{console.log(I)})},g=async(D,k)=>{await A.get(o+"purchase-orders/"+D+"/show").then(I=>{l.value=I.data,bt(()=>{document.getElementById(k).click()})}).catch(I=>{console.log(I)})},w=(D,k)=>(k/D*100).toFixed(2),y=()=>{A.get("factoring/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)})};Qe(()=>{i()});const x=async D=>{await A.get(D,{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(k=>{a.value=k.data})};return ot([r],async([D])=>{await A.get(o+"factoring/invoices/payments/data",{params:{per_page:D}}).then(k=>{a.value=k.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:r,resolveStatus:d,resolveFinancingStatus:p,getTaxPercentage:w,exportInvoices:y,changePage:x,clearSearch:()=>{s.value="",t.value="",c.value="";let D=$(".ti-refresh").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value}}).then(k=>{a.value=k.data,D.html('<i class="ti ti-search"></i>')})},filter:async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"factoring/invoices/payments/data",{params:{per_page:r.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(k=>{a.value=k.data,D.html('<i class="ti ti-search"></i>')})},invoice_details:_,purchase_order_details:l,showInvoice:v,showPurchaseOrder:g}}},Ift={class:"card"},Rft={class:"card-body"},Sft={class:"d-flex justify-content-between"},Tft={class:"d-flex flex-wrap gap-1"},jft={class:""},Oft={for:"anchor",class:"form-label"},Mft={class:""},Lft={for:"invoice-number",class:"form-label"},Nft={class:""},Fft={for:"Pi Number",class:"form-label"},Yft={class:""},Vft={for:"Paid Date",class:"form-label"},Bft={class:"table-search-btn"},Uft={class:"table-clear-btn"},qft={class:"d-flex mx-2",style:{height:"fit-content"}},Hft={class:"table-responsive"},zft={class:"table"},Wft={key:0},Kft={colspan:"12",class:"text-center"},Gft={class:"text-center"},Qft={key:1},Zft={colspan:"12",class:"text-center"},Jft={class:"text-center"},Xft=["onClick"],eht={href:"javascript:;",class:"dropdown-item"},tht={class:"text-success text-nowrap"},oht={class:"text-primary"},aht={class:""},nht={class:"text-success text-nowrap"},sht=["onClick"],lht={class:"d-inline-block"},iht=["id","data-bs-target"],rht=["id","data-bs-target"],dht=["id","data-bs-target"],cht=["id","data-bs-target"],uht=["id","data-bs-target"],_ht={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},mht={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},fht={class:"modal-content"},hht={class:"modal-body"},pht={class:"d-flex justify-content-center"},vht=["id"],ght={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},bht={class:"modal-content"},yht={class:"modal-header"},kht={class:"modal-title",id:"modalCenterTitle"},$ht={class:"d-flex"},wht=["href"],Dht={class:"modal-body"},xht={class:"d-flex justify-content-between"},Cht={class:"mb-3 w-50"},Pht={class:"d-flex justify-content-between"},Eht={class:"fw-light my-auto"},Aht={class:"fw-bold mx-2 my-auto"},Iht={class:"d-flex justify-content-between"},Rht={class:"fw-light my-auto"},Sht={class:"fw-bold mx-2 my-auto"},Tht={class:"d-flex justify-content-between"},jht={class:"fw-light my-auto"},Oht={class:"fw-bold mx-2 my-auto"},Mht={class:"d-flex justify-content-between"},Lht={class:"fw-light my-auto"},Nht={key:0,class:"d-flex justify-content-between"},Fht={class:"fw-light my-auto"},Yht={class:"fw-bold mx-2 my-auto"},Vht={class:"mb-3"},Bht={class:"d-flex justify-content-between"},Uht={class:"my-auto fw-light"},qht={class:"fw-bold mx-2 my-auto"},Hht={class:"d-flex justify-content-between"},zht={class:"my-auto fw-light"},Wht={class:"fw-bold mx-2 my-auto"},Kht={class:"d-flex justify-content-between"},Ght={class:"my-auto fw-light"},Qht={class:"fw-bold mx-2 my-auto"},Zht={class:"d-flex justify-content-between"},Jht={class:"my-auto fw-light"},Xht={class:"fw-bold text-success mx-2 my-auto"},ept={class:"table-responsive"},tpt={class:"table"},opt={class:"bg-label-secondary px-2"},apt={class:"d-flex justify-content-end"},npt={class:"mx-2 my-auto py-1"},spt={class:"text-success my-auto py-1"};function lpt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Ift,[e("div",Rft,[e("div",Sft,[e("div",Tft,[e("div",jft,[e("label",Oft,n(o.$t("Buyer")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Buyer","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Mft,[e("label",Lft,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Nft,[e("label",Fft,n(o.$t("PI No"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[5]||(a[5]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.pi_number_search]])]),e("div",Yft,[e("label",Vft,n(o.$t("Paid Date")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=i=>t.paid_date_search=i)},null,544),[[X,t.paid_date_search]])]),e("div",Bft,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Uft,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qft,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Hft,[e("table",zft,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI No")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Paid Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Wft,[e("td",Kft,[e("span",Gft,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Qft,[e("td",Zft,[e("span",Jft,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.buyer),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",eht,n(i.invoice_number),1)],8,Xft),e("td",tht,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",oht,n(i.pi_number),1),e("td",aht,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",nht,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("button",{class:"btn btn-sm btn-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,sht),e("div",lht,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,iht),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,rht),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,dht),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,cht),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,uht),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",_ht,[e("div",mht,[e("div",fht,[e("div",hht,[e("div",pht,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",ght,[e("div",bht,[e("div",yht,[e("h5",kht,n(o.$t("Purchase Order")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",$ht,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[16]||(a[16]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,wht)):b("",!0)])]),e("div",Dht,[e("div",xht,[e("div",Cht,[e("span",Pht,[e("h5",Eht,n(o.$t("Vendor"))+":",1),e("h6",Aht,n(t.purchase_order_details.company.name),1)]),e("span",Iht,[e("h5",Rht,n(o.$t("Delivery Address"))+":",1),e("h6",Sht,n(t.purchase_order_details.delivery_address),1)]),e("span",Tht,[e("h5",jht,n(o.$t("Remarks"))+":",1),e("h6",Oht,n(t.purchase_order_details.remarks),1)]),e("span",Mht,[e("h5",Lht,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",Nht,[e("h5",Fht,n(o.$t("Rejection Reason"))+":",1),e("h6",Yht,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Vht,[e("span",Bht,[e("h5",Uht,n(o.$t("PO No"))+":",1),e("h6",qht,n(t.purchase_order_details.purchase_order_number),1)]),e("span",Hht,[e("h5",zht,n(o.$t("Start Date"))+":",1),e("h6",Wht,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",Kht,[e("h5",Ght,n(o.$t("End Date"))+":",1),e("h6",Qht,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",Zht,[e("h5",Jht,n(o.$t("PO Amount"))+":",1),e("h6",Xht,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",ept,[e("table",tpt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",opt,[e("span",apt,[e("h6",npt,n(o.$t("Total")),1),e("h5",spt,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,vht)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const ipt=Ue(Aft,[["render",lpt]]),rpt={name:"ExpiredInvoices",components:{Pagination:oo,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),w=async()=>{await A.get(a+"factoring/invoices/expired/data?per_page="+g.value).then(B=>{s.value=B.data.invoices})},y=async(B,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+B+"/details").then(F=>{m.value=F.data,bt(()=>{document.getElementById(L).click()})}).catch(F=>{console.log(F)})},x=B=>{let L="";switch(B){case"Overdue":L="bg-label-secondary";break;case"Created":L="bg-label-secondary";break;case"Pending Maker":L="bg-label-warning";break;case"Pending Checker":L="bg-label-warning";break;case"Submitted":L="bg-label-primary";break;case"Approved":L="bg-label-success";break;case"Disbursed":L="bg-label-success";break;case"Denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},C=B=>{let L="";switch(B){case"pending":L="bg-label-primary";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},E=async B=>{await A.get(a+"factoring/invoices/"+B.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),w()}).catch(L=>{console.log(L),o.error("An error occurred")})},D=(B,L)=>L/B*100;Qe(()=>{w()});const k=async()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",await A.get(a+"factoring/invoices/expired/data",{params:{per_page:g.value}}).then(L=>{s.value=L.data.invoices,B.html('<i class="ti ti-refresh"></i>')})},I=async()=>{let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:g.value}}).then(L=>{s.value=L.data.invoices,B.html('<i class="ti ti-search"></i>')})},V=async B=>{await A.get(B+"&per_page="+g.value,{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value}}).then(L=>{s.value=L.data.invoices})};return ot([g],async([B])=>{await A.get(a+"factoring/invoices/expired/data",{params:{buyer:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:B}}).then(L=>{s.value=L.data.invoices})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,buyer_search:i,invoice_number_search:d,status_search:p,finance_status_search:v,per_page:g,resolveStatus:x,resolveFinancingStatus:C,requestApproval:E,changePage:V,getTaxPercentage:D,showInvoice:y,filter:I,clearSearch:k}}},dpt={class:"card"},cpt={class:"card-body p-2"},upt={class:"d-flex justify-content-between"},_pt={class:"d-flex flex-wrap gap-1"},mpt={class:""},fpt={for:"Vendor",class:"form-label"},hpt={class:""},ppt={for:"Vendor",class:"form-label"},vpt={class:""},gpt={for:"Vendor",class:"form-label"},bpt={value:""},ypt={value:"pending"},kpt={value:"submitted"},$pt={value:"approved"},wpt={value:"denied"},Dpt={class:""},xpt={for:"Vendor",class:"form-label"},Cpt={value:""},Ppt={value:"pending"},Ept={value:"financed"},Apt={value:"closed"},Ipt={value:"denied"},Rpt={class:"table-search-btn"},Spt={class:"table-clear-btn"},Tpt={class:"d-flex mx-2",style:{height:"fit-content"}},jpt={class:"table-responsive"},Opt={class:"table"},Mpt={key:0},Lpt={colspan:"12",class:"text-center"},Npt={class:"text-center"},Fpt={key:1},Ypt={colspan:"12",class:"text-center"},Vpt={class:"text-center"},Bpt={key:0},Upt={key:1},qpt=["onClick"],Hpt={href:"javascript:;",class:"dropdown-item"},zpt={class:"text-success text-nowrap"},Wpt={class:""},Kpt={class:""},Gpt={class:""},Qpt={class:"text-success"},Zpt={class:""},Jpt={class:"d-inline-block"},Xpt={class:"dropdown-menu dropdown-menu-end m-0"},evt=["onClick"],tvt={key:0},ovt=["href"],avt={key:1},nvt=["href"],svt=["id","data-bs-target"],lvt=["id","data-bs-target"],ivt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},rvt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},dvt={class:"modal-content"},cvt={class:"modal-body"},uvt={class:"d-flex justify-content-center"};function _vt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",dpt,[e("div",cpt,[e("div",upt,[e("div",_pt,[e("div",mpt,[e("label",fpt,n(o.$t("Buyer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=i=>t.buyer_search=i),placeholder:"Buyer","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.buyer_search]])]),e("div",hpt,[e("label",ppt,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",vpt,[e("label",gpt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",bpt,n(o.$t("Status")),1),e("option",ypt,n(o.$t("Pending")),1),e("option",kpt,n(o.$t("Submitted")),1),e("option",$pt,n(o.$t("Approved")),1),e("option",wpt,n(o.$t("Denied")),1)],512),[[de,t.status_search]])]),e("div",Dpt,[e("label",xpt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.finance_status_search=i)},[e("option",Cpt,n(o.$t("Finance Status")),1),e("option",Ppt,n(o.$t("Pending")),1),e("option",Ept,n(o.$t("Financed")),1),e("option",Apt,n(o.$t("Closed")),1),e("option",Ipt,n(o.$t("Denied")),1)],512),[[de,t.finance_status_search]])]),e("div",Rpt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Spt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Tpt,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jpt,[e("table",Opt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Buyer")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amnt")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amnt")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Mpt,[e("td",Lpt,[e("span",Npt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Fpt,[e("td",Ypt,[e("span",Vpt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[i.buyer?(u(),f("td",Bpt,n(i.buyer),1)):(u(),f("td",Upt,n(i.company),1)),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",Hpt,n(i.invoice_number),1)],8,qpt),e("td",zpt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",Wpt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",Kpt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",Gpt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Qpt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",Zpt,[e("div",Jpt,[a[11]||(a[11]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Xpt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,evt)]),i.can_edit?(u(),f("li",tvt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,ovt)])):b("",!0),i.buyer?b("",!0):(u(),f("li",avt,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,nvt)]))])])]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,svt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,lvt),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ivt,[e("div",rvt,[e("div",dvt,[e("div",cvt,[e("div",uvt,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const mvt=Ue(rpt,[["render",_vt]]),fvt={name:"UploadedInvoices",components:{Pagination:oo},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"factoring/invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"factoring/invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},hvt={class:"card p-2"},pvt={class:"d-flex justify-content-between"},vvt={class:"d-flex flex-wrap gap-1"},gvt={class:""},bvt={for:"Invoice No",class:"form-label"},yvt={class:""},kvt={for:"From Date",class:"form-label"},$vt={class:""},wvt={for:"Status",class:"form-label"},Dvt={value:""},xvt={value:"Successful"},Cvt={value:"Failed"},Pvt={class:"mt-auto"},Evt={class:"mt-auto"},Avt={class:"d-flex gap-1 justify-content-end mt-auto"},Ivt={class:"table-responsive p-2"},Rvt={class:"table dt-invoices"},Svt={key:0},Tvt={colspan:"12",class:"text-center"},jvt={class:"text-center"},Ovt={key:1},Mvt={colspan:"12",class:"text-center"},Lvt={class:"text-center"},Nvt={key:0,class:"badge bg-label-success me-1"},Fvt={key:1,class:"badge bg-label-danger me-1"},Yvt={class:""};function Vvt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",hvt,[e("div",pvt,[e("div",vvt,[e("div",gvt,[e("label",bvt,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[X,t.invoice_number_search]])]),e("div",yvt,[e("label",kvt,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[X,t.uploaded_date_search]])]),e("div",$vt,[e("label",wvt,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",Dvt,n(o.$t("Select Status")),1),e("option",xvt,n(o.$t("Successful")),1),e("option",Cvt,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",Pvt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Evt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Avt,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Ivt,[e("table",Rvt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Svt,[e("td",Tvt,[e("span",jvt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Ovt,[e("td",Mvt,[e("span",Lvt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Nvt,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Fvt,n(l.status),1)):b("",!0)]),e("td",Yvt,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Bvt=Ue(fvt,[["render",Vvt]]),Uvt={name:"FactoringOdAccounts",components:{Pagination:oo},props:["program_vendor_configuration"],setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(d=>{s.value=d.data})};ot([m],async([d])=>{await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions",{params:{per_page:d,payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})});const l=async()=>{let d=$(".ti-search").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data,d.html('<i class="ti ti-search"></i>')})},r=async()=>{let d=$(".ti-refresh").parent();d.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+"factoring/invoices/od-accounts/"+o.program_vendor_configuration+"/cbs-transactions?per_page="+m.value).then(p=>{s.value=p.data,d.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),{reports:s,moment:H,changePage:async d=>{await A.get(d+"&per_page="+m.value,{params:{payment_account_number:t.value,dealer:c.value}}).then(p=>{s.value=p.data})},payment_account_number_search:t,dealer_search:c,per_page:m,filter:l,refresh:r}}},qvt={class:"card"},Hvt={class:"card-body"},zvt={class:"d-flex justify-content-between"},Wvt={class:"d-flex justify-content-end"},Kvt={class:""},Gvt={class:"table-responsive"},Qvt={class:"table"},Zvt={class:""},Jvt={class:"table-border-bottom-0"},Xvt={key:0},egt={colspan:"12",class:"text-center"},tgt={class:"text-center"},ogt={key:1},agt={colspan:"12",class:"text-center"},ngt={class:"text-center"},sgt={key:0},lgt={key:0},igt={key:1},rgt={key:1},dgt={key:2},cgt={key:3},ugt={key:4},_gt={key:5},mgt={class:"text-success text-nowrap"},fgt={class:"text-success text-nowrap"};function hgt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",qvt,[e("div",Hvt,[e("div",zvt,[a[2]||(a[2]=e("div",null,null,-1)),e("div",Wvt,[e("div",Kvt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.reports.meta?(u(),me(_,{key:0,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Gvt,[e("table",Qvt,[e("thead",null,[e("tr",Zvt,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",Jvt,[t.reports.data?b("",!0):(u(),f("tr",Xvt,[e("td",egt,[e("span",tgt,n(o.$t("Loading Data"))+"...",1)])])),t.reports.data&&t.reports.data.length<=0?(u(),f("tr",ogt,[e("td",agt,[e("span",ngt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.reports.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1),e("td",null,[l.transaction_type=="Payment Disbursement"?(u(),f("div",sgt,[l.payment_request.program_type=="Dealer Financing"?(u(),f("div",lgt,[e("span",null,"Drawdown against "+n(l.payment_request.invoice_number),1)])):(u(),f("div",igt,[e("span",null,"Disbursement for "+n(l.payment_request.invoice_number),1)]))])):b("",!0),l.transaction_type=="Accrual/Posted Interest"?(u(),f("span",rgt,"Discount Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Fees/Charges"?(u(),f("span",dgt,"Fees/Charges Payment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Repayment"?(u(),f("span",cgt,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Bank Invoice Payment"?(u(),f("span",ugt,"Repayment for "+n(l.payment_request.invoice_number),1)):b("",!0),l.transaction_type=="Overdue Account"?(u(),f("span",_gt,"Penal Payment againt "+n(l.payment_request.invoice_number),1)):b("",!0)]),e("td",mgt,n(new Intl.NumberFormat().format(l.amount)),1),e("td",fgt,n(new Intl.NumberFormat().format(l.amount)),1),a[3]||(a[3]=e("td",null,"-",-1)),a[4]||(a[4]=e("td",null,"-",-1))]))),128))])])]),t.reports.meta?(u(),me(_,{key:1,from:t.reports.meta.from,to:t.reports.meta.to,links:t.reports.meta.links,next_page:t.reports.links.next,prev_page:t.reports.links.prev,total_items:t.reports.meta.total,first_page_url:t.reports.links.first,last_page_url:t.reports.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const pgt=Ue(Uvt,[["render",hgt]]),vgt={name:"Dealers",components:{Pagination:oo},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"dealer/invoices/dealers/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.data})};Qe(()=>{c()});const m=()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"dealer/invoices/dealers/data",{params:{vendors:s.value,per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-search"></i>')})},_=()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",A.get(o+"dealer/invoices/dealers/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.data,r.html('<i class="ti ti-refresh"></i>')})};return ot([t],async([r])=>{await A.get(o+"dealer/invoices/dealers/data",{params:{vendors:s.value,per_page:r}}).then(i=>{a.value=i.data.data})}),{moment:H,vendors:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value}}).then(i=>{a.value=i.data.data})},per_page:t,vendors_search:s,filter:m,refresh:_}}},ggt={class:"card"},bgt={class:"card-body"},ygt={class:"d-flex justify-content-between"},kgt={class:"d-flex flex-wrap gap-1"},$gt={class:""},wgt={for:"Search",class:"form-label"},Dgt={class:"mx-1 table-search-btn"},xgt={class:"mx-1 table-clear-btn"},Cgt={class:"d-flex"},Pgt={class:"table-responsive p-2"},Egt={class:"table"},Agt={key:0},Igt={colspan:"12",class:"text-center"},Rgt={class:"text-center"},Sgt={key:1},Tgt={colspan:"12",class:"text-center"},jgt={class:"text-center"},Ogt={key:0},Mgt={key:1},Lgt={class:""};function Ngt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",ggt,[e("div",bgt,[e("div",ygt,[e("div",kgt,[e("div",$gt,[e("label",wgt,n(o.$t("Dealers")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendors_search=l),placeholder:"Search Dealers/Buyers","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.vendors_search]])]),e("div",Dgt,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",xgt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Cgt,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])])]),t.vendors.meta?(u(),me(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Pgt,[e("table",Egt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",Agt,[e("td",Igt,[e("span",Rgt,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",Sgt,[e("td",Tgt,[e("span",jgt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[l.buyer_name?(u(),f("span",Ogt,n(l.buyer_name),1)):(u(),f("span",Mgt,n(l.company_name),1))]),e("td",Lgt,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),me(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Fgt=Ue(vgt,[["render",Ngt]]),Wt="/anchor/",Rc=Ke({}),Sc=Ke({}),Tc=Ke({}),jc=Ke({}),Oc=Ke({}),Mc=Ke({}),Lc=Ke({}),Nc=Ke({}),Fc=Ke({}),Yc=Ke({}),Vc=Ke({}),Bc=Ke({}),Uc=Ke({}),qc=Ke({}),Hc=Ke({}),zc=Ke({}),Wc=Ke({}),Kc=Ke({});Rc.component("AnchorNotifications",gY);Sc.component("FactoringNotifications",OY);Nc.component("InvoicesUpload",rre);Fc.component("UploadedInvoicesView",Xre);Tc.component("InvoicesView",jG);jc.component("Vendors",tQ);Oc.component("PurchaseOrdersComponent",fJ);Mc.component("AnchorReports",Fie);Lc.component("AnchorSettings",R6e);Yc.component("InvoiceAnalysisReport",y5);Vc.component("MaturingInvoicesReport",w5);Bc.component("AllInvoicesReport",k5);Uc.component("PaidInvoicesReport",D5);qc.component("OverdueInvoicesReport",SUe);Hc.component("VendorAnalysisReport",$5);zc.component("ClosedInvoicesReport",Mqe);Wc.component("Discountings",x5);Kc.component("PaymentInstructions",tY);var Ygt=document.getElementById("anchor-notifications");Ygt&&(Rc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Rc.use(Xe),Rc.provide("baseURL",Wt),Rc.mount("#anchor-notifications"));var Vgt=document.getElementById("factoring-notifications");Vgt&&(Sc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Sc.use(Xe),Sc.provide("baseURL",Wt),Sc.mount("#factoring-notifications"));var Bgt=document.getElementById("anchor_reports");Bgt&&(Mc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Mc.use(Xe),Mc.provide("baseURL",Wt),Mc.mount("#anchor_reports"));var Ugt=document.getElementById("invoices_upload");Ugt&&(Nc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nc.use(Xe),Nc.provide("baseURL",Wt),Nc.mount("#invoices_upload"));var qgt=document.getElementById("invoices-view");qgt&&(Tc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Tc.use(Xe),Tc.provide("baseURL",Wt),Tc.mount("#invoices-view"));var Hgt=document.getElementById("uploaded-invoices-view");Hgt&&(Fc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fc.use(Xe),Fc.provide("baseURL",Wt),Fc.mount("#uploaded-invoices-view"));var zgt=document.getElementById("payment-instructions");zgt&&(Kc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Kc.use(Xe),Kc.provide("baseURL",Wt),Kc.mount("#payment-instructions"));var Wgt=document.getElementById("vendors");Wgt&&(jc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),jc.use(Xe),jc.provide("baseURL",Wt),jc.mount("#vendors"));var Kgt=document.getElementById("purchase_orders");Kgt&&(Oc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Oc.use(Xe),Oc.provide("baseURL",Wt),Oc.mount("#purchase_orders"));var Ggt=document.getElementById("anchor-settings");Ggt&&(Lc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Lc.use(Xe),Lc.provide("baseURL",Wt),Lc.mount("#anchor-settings"));var Qgt=document.getElementById("invoice-analysis-report");Qgt&&(Yc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yc.use(Xe),Yc.provide("baseURL",Wt),Yc.mount("#invoice-analysis-report"));var Zgt=document.getElementById("maturing-invoices-report");Zgt&&(Vc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vc.use(Xe),Vc.provide("baseURL",Wt),Vc.mount("#maturing-invoices-report"));var Jgt=document.getElementById("paid-invoices-report");Jgt&&(Uc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Uc.use(Xe),Uc.provide("baseURL",Wt),Uc.mount("#paid-invoices-report"));var Xgt=document.getElementById("overdue-invoices-report");Xgt&&(qc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qc.use(Xe),qc.provide("baseURL",Wt),qc.mount("#overdue-invoices-report"));var e1t=document.getElementById("closed-invoices-report");e1t&&(zc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zc.use(Xe),zc.provide("baseURL",Wt),zc.mount("#closed-invoices-report"));var t1t=document.getElementById("all-invoices-report");t1t&&(Bc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bc.use(Xe),Bc.provide("baseURL",Wt),Bc.mount("#all-invoices-report"));var o1t=document.getElementById("vendor-analysis-report");o1t&&(Hc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hc.use(Xe),Hc.provide("baseURL",Wt),Hc.mount("#vendor-analysis-report"));var a1t=document.getElementById("discountings");a1t&&(Wc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wc.use(Xe),Wc.provide("baseURL",Wt),Wc.mount("#discountings"));const Gc=Ke({}),Qc=Ke({}),Zc=Ke({}),Dr=Ke({}),xr=Ke({}),Jc=Ke({}),Xc=Ke({}),eu=Ke({}),tu=Ke({}),ou=Ke({}),au=Ke({}),nu=Ke({}),su=Ke({}),lu=Ke({}),iu=Ke({}),ru=Ke({}),du=Ke({}),cu=Ke({}),uu=Ke({}),_u=Ke({}),mu=Ke({}),fu=Ke({}),hu=Ke({}),pu=Ke({}),vu=Ke({}),gu=Ke({});du.component("DiscountSlab",yBe);var n1t=document.getElementById("discount_slab");n1t&&(du.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),du.use(Xe),du.provide("baseURL",Wt),du.mount("#discount_slab"));au.component("FactoringReports",KMe);var s1t=document.getElementById("factoring_reports");s1t&&(au.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),au.use(Xe),au.provide("baseURL",Wt),au.mount("#factoring_reports"));nu.component("FactoringAllInvoicesReport",tD);var l1t=document.getElementById("factoring_all_invoices_report");l1t&&(nu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nu.use(Xe),nu.provide("baseURL",Wt),nu.mount("#factoring_all_invoices_report"));su.component("FactoringProgramsReport",oD);var i1t=document.getElementById("factoring_programs_report");i1t&&(su.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),su.use(Xe),su.provide("baseURL",Wt),su.mount("#factoring_programs_report"));lu.component("FactoringDealerProgramsReport",k_t);var r1t=document.getElementById("factoring_dealer_programs_report");r1t&&(lu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lu.use(Xe),lu.provide("baseURL",Wt),lu.mount("#factoring_dealer_programs_report"));iu.component("FactoringPaymentsReport",aD);var d1t=document.getElementById("factoring_payments_report");d1t&&(iu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),iu.use(Xe),iu.provide("baseURL",Wt),iu.mount("#factoring_payments_report"));Gc.component("FactoringInvoicesComponent",Ime);var c1t=document.getElementById("factoring_invoices");c1t&&(Gc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gc.use(Xe),Gc.provide("baseURL",Wt),Gc.mount("#factoring_invoices"));_u.component("Buyers",UBe);var u1t=document.getElementById("buyers");u1t&&(_u.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_u.use(Xe),_u.provide("baseURL",Wt),_u.mount("#buyers"));uu.component("Dealers",Fgt);var _1t=document.getElementById("dealers");_1t&&(uu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),uu.use(Xe),uu.provide("baseURL",Wt),uu.mount("#dealers"));Qc.component("FactoringExpiredInvoicesComponent",yYe);var m1t=document.getElementById("factoring_expired_invoices");m1t&&(Qc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qc.use(Xe),Qc.provide("baseURL",Wt),Qc.mount("#factoring_expired_invoices"));mu.component("FactoringUploadedInvoices",GYe);var f1t=document.getElementById("factoring_uploaded_invoices");f1t&&(mu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mu.use(Xe),mu.provide("baseURL",Wt),mu.mount("#factoring_uploaded_invoices"));Zc.component("FactoringPaymentsComponent",fFe);var h1t=document.getElementById("factoring_payments");h1t&&(Zc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zc.use(Xe),Zc.provide("baseURL",Wt),Zc.mount("#factoring_payments"));Xc.component("FactoringCashPlannerPrograms",efe);var p1t=document.getElementById("factoring-cash-planner-programs");p1t&&(Xc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xc.use(Xe),Xc.provide("baseURL",Wt),Xc.mount("#factoring-cash-planner-programs"));Dr.component("CashPlannerEligibleInvoicesComponent",E0e);var v1t=document.getElementById("eligible-invoices");v1t&&(Dr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Dr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Dr.use(Xe),Dr.provide("baseURL",Wt),Dr.mount("#eligible-invoices"));xr.component("DashboardCashPlannerEligibleInvoicesComponent",RDe);var g1t=document.getElementById("dashboard-eligible-invoices");g1t&&(xr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),xr.use(Xe),xr.provide("baseURL",Wt),xr.mount("#dashboard-eligible-invoices"));Jc.component("CashPlannerNonEligibleInvoicesComponent",JCe);var b1t=document.getElementById("non-eligible-invoices");b1t&&(Jc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Jc.use(Xe),Jc.provide("baseURL",Wt),Jc.mount("#non-eligible-invoices"));eu.component("FinancingRequests",dEe);var y1t=document.getElementById("financing_requests");y1t&&(eu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),eu.use(Xe),eu.provide("baseURL",Wt),eu.mount("#financing_requests"));tu.component("FactoringPurchaseOrdersComponent",eRe);var k1t=document.getElementById("factoring_purchase_orders");k1t&&(tu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tu.use(Xe),tu.provide("baseURL",Wt),tu.mount("#factoring_purchase_orders"));ou.component("FactoringPendingPurchaseOrdersComponent",$Te);var $1t=document.getElementById("factoring_pending_purchase_orders");$1t&&(ou.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ou.use(Xe),ou.provide("baseURL",Wt),ou.mount("#factoring_pending_purchase_orders"));ru.component("FactoringSettings",OLe);var w1t=document.getElementById("factoring-settings");w1t&&(ru.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ru.use(Xe),ru.provide("baseURL",Wt),ru.mount("#factoring-settings"));cu.component("FactoringInvoicesUpload",Dre);var D1t=document.getElementById("factoring-invoices-upload");D1t&&(cu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cu.use(Xe),cu.provide("baseURL",Wt),cu.mount("#factoring-invoices-upload"));fu.component("DealerAccounts",yHe);var x1t=document.getElementById("dealer-accounts");x1t&&(fu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fu.use(Xe),fu.provide("baseURL",Wt),fu.mount("#dealer-accounts"));hu.component("FactoringCbsTransactions",zHe);var C1t=document.getElementById("factoring-cbs-transactions");C1t&&(hu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hu.use(Xe),hu.provide("baseURL",Wt),hu.mount("#factoring-cbs-transactions"));pu.component("DealerPaymentRequests",ZGe);var P1t=document.getElementById("dealer-payment-requests");P1t&&(pu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pu.use(Xe),pu.provide("baseURL",Wt),pu.mount("#dealer-payment-requests"));vu.component("DealerDpdInvoices",YQe);var E1t=document.getElementById("dealer-dpd-invoices");E1t&&(vu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vu.use(Xe),vu.provide("baseURL",Wt),vu.mount("#dealer-dpd-invoices"));gu.component("DealerRejectedInvoices",fJe);var A1t=document.getElementById("dealer-rejected-invoices");A1t&&(gu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gu.use(Xe),gu.provide("baseURL",Wt),gu.mount("#dealer-rejected-invoices"));const bu=Ke({}),yu=Ke({}),ku=Ke({});Ke({});Ke({});const $u=Ke({}),wu=Ke({}),Du=Ke({}),xu=Ke({});Ke({});const Cu=Ke({}),Pu=Ke({}),Eu=Ke({});Ke({});const Au=Ke({});Ke({});const Iu=Ke({});Ke({});Ke({});Ke({});Du.component("FactoringDealerReports",zut);var I1t=document.getElementById("factoring_dealer_reports");I1t&&(Du.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Du.use(Xe),Du.provide("baseURL",Wt),Du.mount("#factoring_dealer_reports"));xu.component("FactoringDealerAllInvoicesReport",nD);var R1t=document.getElementById("factoring_dealer_all_invoices_report");R1t&&(xu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xu.use(Xe),xu.provide("baseURL",Wt),xu.mount("#factoring_dealer_all_invoices_report"));Cu.component("FactoringDealerPaymentsReport",sD);var S1t=document.getElementById("factoring_dealer_payments_report");S1t&&(Cu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cu.use(Xe),Cu.provide("baseURL",Wt),Cu.mount("#factoring_dealer_payments_report"));bu.component("FactoringDealerInvoicesComponent",Aat);var T1t=document.getElementById("factoring_dealer_invoices");T1t&&(bu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),bu.use(Xe),bu.provide("baseURL",Wt),bu.mount("#factoring_dealer_invoices"));yu.component("FactoringDealerExpiredInvoicesComponent",mvt);var j1t=document.getElementById("factoring_dealer_expired_invoices");j1t&&(yu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),yu.use(Xe),yu.provide("baseURL",Wt),yu.mount("#factoring_dealer_expired_invoices"));Au.component("FactoringDealerUploadedInvoices",Bvt);var O1t=document.getElementById("factoring_dealer_uploaded_invoices");O1t&&(Au.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Au.use(Xe),Au.provide("baseURL",Wt),Au.mount("#factoring_dealer_uploaded_invoices"));ku.component("FactoringDealerPaymentsComponent",ipt);var M1t=document.getElementById("factoring_dealer_payments");M1t&&(ku.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ku.use(Xe),ku.provide("baseURL",Wt),ku.mount("#factoring_dealer_payments"));$u.component("FactoringDealerPurchaseOrdersComponent",Jst);var L1t=document.getElementById("factoring_dealer_purchase_orders");L1t&&($u.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$u.use(Xe),$u.provide("baseURL",Wt),$u.mount("#factoring_dealer_purchase_orders"));wu.component("FactoringDealerPendingPurchaseOrdersComponent",krt);var N1t=document.getElementById("factoring_dealer_pending_purchase_orders");N1t&&(wu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),wu.use(Xe),wu.provide("baseURL",Wt),wu.mount("#factoring_dealer_pending_purchase_orders"));Pu.component("FactoringDealerSettings",Eft);var F1t=document.getElementById("factoring-dealer-settings");F1t&&(Pu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Pu.use(Xe),Pu.provide("baseURL",Wt),Pu.mount("#factoring-dealer-settings"));Eu.component("FactoringDealerInvoicesUpload",IJe);var Y1t=document.getElementById("factoring-dealer-invoices-upload");Y1t&&(Eu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Eu.use(Xe),Eu.provide("baseURL",Wt),Eu.mount("#factoring-dealer-invoices-upload"));Iu.component("FactoringDealerCbsTransactions",pgt);var V1t=document.getElementById("factoring-dealer-cbs-transactions");V1t&&(Iu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Iu.use(Xe),Iu.provide("baseURL",Wt),Iu.mount("#factoring-dealer-cbs-transactions"));let S0=document.querySelector(".view-switcher");S0&&S0.addEventListener("change",function(o){o.preventDefault(),o.target.value=="factoring"?window.location.href="https://uat.yofinvoice.com/anchor/factoring":o.target.value=="dealer"?window.location.href="https://uat.yofinvoice.com/anchor/dealer":window.location.href="https://uat.yofinvoice.com/anchor/dashboard"});const B1t={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},U1t={"aria-label":"Page navigation",class:"mt-2 d-flex flex-column flex-md-row justify-content-between"},q1t={key:0,class:"d-flex my-auto text-primary"},H1t={class:"mx-1 fw-bold"},z1t={class:"mx-1 fw-bold"},W1t={class:"mx-1 fw-bold"},K1t={class:"pagination justify-content-md-end"},G1t={class:"page-item prev"},Q1t=["onClick","innerHTML"],Z1t={class:"page-item next"};function J1t(o,a,s,t,c,m){return u(),f("nav",U1t,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",q1t,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",H1t,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",z1t,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",W1t,n(s.total_items),1)])):b("",!0)]),e("ul",K1t,[e("li",G1t,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(G,null,ee(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,Q1t)):b("",!0)],2))),128)),e("li",Z1t,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const Na=Ue(B1t,[["render",J1t]]),X1t={name:"Notifications",components:{Pagination:Na},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h(50),m=async()=>{await A.get(s+"notifications/view/data",{params:{per_page:c.value}}).then(i=>{t.value=i.data})},_=i=>{A.get(`${s}notifications/${i.id}/read`).then(()=>{m(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},l=()=>{A.get(s+"notifications/all/update/read").then(()=>{m(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{m()}),{moment:H,logs:t,per_page:c,markAsRead:_,markAllAsRead:l,changePage:async i=>{await A.get(i).then(d=>{t.value=d.data.data})}}}},ebt={class:"card p-2"},tbt={class:"table-responsive"},obt={class:"table"},abt={class:""},nbt={class:"table-border-bottom-0"},sbt={key:0},lbt={colspan:"12",class:"text-center"},ibt={class:"text-center"},rbt={key:1},dbt={colspan:"12",class:"text-center"},cbt={class:"text-center"},ubt={key:0},_bt={key:0},mbt={key:1},fbt={key:2},hbt={key:3},pbt={key:4},vbt={key:5},gbt={key:6},bbt={key:7},ybt={key:8},kbt={key:9},$bt={key:1},wbt={key:2},Dbt=["onClick"];function xbt(o,a,s,t,c,m){return u(),f("div",ebt,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",tbt,[e("table",obt,[e("thead",null,[e("tr",abt,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",nbt,[t.logs?b("",!0):(u(),f("tr",sbt,[e("td",lbt,[e("span",ibt,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",rbt,[e("td",dbt,[e("span",cbt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",ubt,[_.type=="App\\Notifications\\PurchaseOrderCreated"?(u(),f("span",_bt,n("Purchase Order: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\PaymentRequestUpdated"?(u(),f("span",mbt,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\FinanceRequestUpdated"?(u(),f("span",fbt,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",hbt,n("Invoice Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",pbt,n("Invoice Creation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",vbt,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",gbt,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",bbt,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",ybt,n("Configurations: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUpdation"?(u(),f("span",kbt,n("Company Updated: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",$bt,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"?(u(),f("td",wbt,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,Dbt)])):b("",!0)]))),128))])])])])}const Cbt=Ue(X1t,[["render",xbt]]),Pbt={name:"AllInvoices",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},props:["can_replicate"],setup(o){const a=o.can_replicate,s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(null),i=h(0),d=h(0),p=h(0),v=h(""),g=h(""),w=h(""),y=h(""),x=h([]),C=h([]),E=h(""),D=h(""),k=h(""),I=h(0),V=h(50),B=async()=>{await A.get(t+"invoices/data?per_page="+V.value,{params:{anchor:v.value,invoice_number:g.value,from_date:w.value,to_date:y.value,status:x.value,financing_status:C.value,sort_by:D.value}}).then(J=>{c.value=J.data.invoices})};ot([V],async([J])=>{await A.get(t+"invoices/data",{params:{per_page:J,anchor:v.value,invoice_number:g.value,from_date:w.value,to_date:y.value,status:x.value,financing_status:C.value,sort_by:D.value}}).then(K=>{c.value=K.data.invoices})});const L=async(J,K)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+J+"/details").then(z=>{l.value=z.data,I.value++,bt(()=>{document.getElementById(K).click()})}).catch(z=>{console.log(z)})},F=async(J,K)=>{await A.get(t+"purchase-orders/"+J+"/show").then(z=>{r.value=z.data,bt(()=>{document.getElementById(K).click()})}).catch(z=>{console.log(z)})},T=J=>{let K="";switch(J){case"Overdue":K="bg-label-danger";break;case"Created":K="bg-label-secondary";break;case"Pending Maker":K="bg-label-primary";break;case"Pending Checker":K="bg-label-danger";break;case"Submitted":K="bg-label-primary";break;case"Approved":K="bg-label-success";break;case"Disbursed":K="bg-label-success";break;case"Denied":K="bg-label-danger";break;case"Rejected":K="bg-label-danger";break;case"Internal Reject":K="bg-label-danger";break;default:K="bg-label-primary";break}return K},P=J=>{let K="";switch(J){case"pending":K="bg-label-primary";break;case"submitted":K="bg-label-warning";break;case"financed":K="bg-label-success";break;case"closed":K="bg-label-secondary";break;case"denied":K="bg-label-danger";break;default:K="bg-label-primary";break}return K},R=async(J,K)=>{const z=new FormData;z.append("status",K),z.append("rejection_reason",k.value),await A.post(t+"invoices/"+J.id+"/request/send",z).then(()=>{s.success("Invoice updated successfully"),B()}).catch(ae=>{console.log(ae),s.error("An error occurred")})},O=(J,K)=>(K/J*100).toFixed(2),N=()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{anchor:v.value,invoice_number:g.value,from_date:w.value,to_date:y.value,status:x.value,financing_status:C.value,sort_by:D.value}}).then(J=>{const K=window.URL.createObjectURL(new Blob([J.data])),z=document.createElement("a");z.href=K,z.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(z),z.click()}).catch(J=>{console.log(J)})},S=J=>{A.delete(t+"invoices/"+J.id+"/delete").then(K=>{document.getElementById("close-delete-invoice-modal-"+J.id).click(),s.success(K.data.message),B()}).catch(K=>{console.log(K),s.error(K.response.data.message)})};return Qe(()=>{B(),$("#invoices-status-select").on("change",function(){var J=$("#invoices-status-select").val();x.value=J}),$("#financing-status-select").on("change",function(){var J=$("#financing-status-select").val();C.value=J})}),{can_replicate:a,moment:H,invoices:c,eligibility:m,eligibility_amount:_,business_spread:d,discount_amount:p,invoice_details:l,pi_amount:i,anchor_search:v,invoice_number_search:g,from_date_search:w,to_date_search:y,status_search:x,financing_status_search:C,sort_by:D,per_page:V,rejected_reason:k,purchase_order_details:r,deleteInvoice:S,resolveStatus:T,resolveFinancingStatus:P,requestApproval:R,changePage:async J=>{await A.get(J,{params:{per_page:V.value,anchor:v.value,invoice_number:g.value,from_date:w.value,to_date:y.value,status:x.value,financing_status:C.value,sort_by:D.value}}).then(K=>{c.value=K.data.invoices})},getTaxPercentage:O,exportInvoices:N,clearSearch:async()=>{let J=$(".ti-refresh").parent();J.html('<img src="../../../../../assets/img/spinner.svg" />'),v.value="",g.value="",w.value="",y.value="",x.value="",C.value="",E.value="",D.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),await A.get(t+"invoices/data",{params:{per_page:V.value}}).then(K=>{c.value=K.data.invoices,J.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{E.value=$("#date_search").val(),E.value&&(w.value=H(E.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(E.value.split(" - ")[1]).format("YYYY-MM-DD"));let J=$(".ti-search").parent();J.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/data",{params:{per_page:V.value,anchor:v.value,invoice_number:g.value,from_date:w.value,to_date:y.value,status:x.value,financing_status:C.value,sort_by:D.value}}).then(K=>{c.value=K.data.invoices,J.html('<i class="ti ti-search"></i>')})},showInvoice:L,showPurchaseOrder:F,invoice_details_key:I}}},Ebt={class:"p-0"},Abt={class:"d-flex flex-column flex-md-row justify-content-between p-0"},Ibt={class:"d-flex flex-wrap gap-1"},Rbt={class:""},Sbt={for:"Anchor",class:"form-label"},Tbt={class:""},jbt={for:"Invoice No",class:"form-label"},Obt={class:""},Mbt={class:"form-label",for:""},Lbt={class:""},Nbt={for:"Status",class:"form-label"},Fbt={value:"pending_maker"},Ybt={value:"pending_checker"},Vbt={value:"approved"},Bbt={value:"rejected"},Ubt={value:"internal_reject"},qbt={value:"past_due"},Hbt={value:"expired"},zbt={class:""},Wbt={for:"Financing Status",class:"form-label"},Kbt={value:"pending"},Gbt={value:"submitted"},Qbt={value:"financed"},Zbt={value:"disbursed"},Jbt={value:"closed"},Xbt={value:"denied"},eyt={class:""},tyt={for:"Financing Status",class:"form-label"},oyt={value:""},ayt={value:"po_asc"},nyt={value:"po_desc"},syt={value:"invoice_no_asc"},lyt={value:"invoice_no_desc"},iyt={value:"invoice_amount_asc"},ryt={value:"invoice_amount_desc"},dyt={value:"due_date_asc"},cyt={value:"due_date_desc"},uyt={class:"table-search-btn"},_yt={class:"table-clear-btn"},myt={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto",style:{height:"fit-content"}},fyt={href:"invoices/create"},hyt={type:"button",class:"btn btn-primary text-nowrap"},pyt={class:"table-responsive"},vyt={class:"table"},gyt={key:0},byt={colspan:"12",class:"text-center"},yyt={class:"text-center"},kyt={key:1},$yt={colspan:"12",class:"text-center"},wyt={class:"text-center"},Dyt=["onClick"],xyt={href:"javascript:;",class:"dropdown-item"},Cyt={key:0,class:"text-primary text-decoration-underline"},Pyt=["onClick"],Eyt={key:1},Ayt={class:"text-success text-nowrap"},Iyt={key:0},Ryt={key:1},Syt={class:""},Tyt={class:""},jyt={class:""},Oyt={class:"text-success text-nowrap"},Myt={class:""},Lyt={class:"d-inline-block"},Nyt=["id","data-bs-target"],Fyt=["id","data-bs-target"],Yyt=["id","data-bs-target"],Vyt=["id","data-bs-target"],Byt=["id","data-bs-target"],Uyt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},qyt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Hyt={class:"modal-content"},zyt={class:"modal-body"},Wyt={class:"d-flex justify-content-center"},Kyt={class:"dropdown-menu dropdown-menu-end m-0"},Gyt=["onClick"],Qyt={key:0},Zyt=["href"],Jyt={key:1},Xyt=["href"],e0t={key:2},t0t=["onClick"],o0t={key:3},a0t=["data-bs-target"],n0t={key:4},s0t=["data-bs-target"],l0t=["id"],i0t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},r0t={class:"modal-content"},d0t={class:"modal-header"},c0t={class:"modal-title",id:"modalCenterTitle"},u0t=["id"],_0t={class:"modal-body"},m0t={class:"d-flex justify-content-between"},f0t={class:"modal-footer"},h0t=["id"],p0t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},v0t={class:"modal-content"},g0t={class:"modal-header"},b0t={class:"modal-title",id:"modalCenterTitle"},y0t=["id"],k0t=["onSubmit"],$0t={class:"modal-body"},w0t={for:"reason",class:"form-label"},D0t={class:"modal-footer"},x0t={class:"btn btn-danger",type:"submit"},C0t=["id"],P0t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},E0t={class:"modal-content"},A0t={class:"modal-header"},I0t={class:"modal-title",id:"modalCenterTitle"},R0t={class:"d-flex"},S0t=["href"],T0t=["href"],j0t={class:"modal-body"},O0t={class:"d-flex justify-content-between"},M0t={class:"mb-3 w-50"},L0t={class:"d-flex justify-content-between"},N0t={class:"fw-light my-auto"},F0t={class:"fw-bold mx-2 my-auto"},Y0t={class:"d-flex justify-content-between"},V0t={class:"fw-light my-auto"},B0t={class:"fw-bold mx-2 my-auto"},U0t={class:"d-flex justify-content-between"},q0t={class:"fw-light my-auto"},H0t={class:"fw-bold mx-2 my-auto"},z0t={class:"d-flex justify-content-between"},W0t={class:"fw-light my-auto"},K0t={key:0,class:"d-flex justify-content-between"},G0t={class:"fw-light my-auto"},Q0t={class:"fw-bold mx-2 my-auto"},Z0t={class:"mb-3"},J0t={class:"d-flex justify-content-between"},X0t={class:"my-auto fw-light"},e2t={class:"fw-bold mx-2 my-auto"},t2t={class:"d-flex justify-content-between"},o2t={class:"my-auto fw-light"},a2t={class:"fw-bold mx-2 my-auto"},n2t={class:"d-flex justify-content-between"},s2t={class:"my-auto fw-light"},l2t={class:"fw-bold mx-2 my-auto"},i2t={class:"d-flex justify-content-between"},r2t={class:"my-auto fw-light"},d2t={class:"fw-bold text-success mx-2 my-auto"},c2t={class:"table-responsive"},u2t={class:"table"},_2t={class:"bg-label-secondary px-2"},m2t={class:"d-flex justify-content-end"},f2t={class:"mx-2 my-auto py-1"},h2t={class:"text-success my-auto py-1"};function p2t(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Ebt,[e("div",Abt,[e("div",Ibt,[e("div",Rbt,[e("label",Sbt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Tbt,[e("label",jbt,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Obt,[e("label",Mbt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Lbt,[e("label",Nbt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoices-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",Fbt,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",Ybt,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",Vbt,n(o.$t("Approved")),1),e("option",Bbt,n(o.$t("Rejected")),1),e("option",Ubt,n(o.$t("Internal Rejected")),1),e("option",qbt,n(o.$t("Overdue")),1),e("option",Hbt,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",zbt,[e("label",Wbt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",Kbt,n(o.$t("Pending")),1),e("option",Gbt,n(o.$t("Submitted")),1),e("option",Qbt,n(o.$t("Financed")),1),e("option",Zbt,n(o.$t("Disbursed")),1),e("option",Jbt,n(o.$t("Closed")),1),e("option",Xbt,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",eyt,[e("label",tyt,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",oyt,n(o.$t("Sort By")),1),e("option",ayt,n(o.$t("PO No. (ASC)")),1),e("option",nyt,n(o.$t("PO No. (DESC)")),1),e("option",syt,n(o.$t("Invoice No. (ASC)")),1),e("option",lyt,n(o.$t("Invoice No. (DESC)")),1),e("option",iyt,n(o.$t("Invoice Amount. (ASC)")),1),e("option",ryt,n(o.$t("Invoice Amount. (DESC)")),1),e("option",dyt,n(o.$t("Due Date. (ASC)")),1),e("option",cyt,n(o.$t("Due Date. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",uyt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_yt,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",myt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),class:"btn btn-primary"},[a[17]||(a[17]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("a",fyt,[e("button",hyt,[a[18]||(a[18]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Create Invoice")),1)])])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",pyt,[e("table",vyt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PO"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",gyt,[e("td",byt,[e("span",yyt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",kyt,[e("td",$yt,[e("span",wyt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",xyt,n(i.invoice_number),1)],8,Dyt),i.purchase_order_number?(u(),f("td",Cyt,[e("a",{href:"javascript:;",onClick:d=>t.showPurchaseOrder(i.purchase_order_id,"show-purchase-order-btn-"+i.purchase_order_id)},n(i.purchase_order_number),9,Pyt)])):(u(),f("td",Eyt,a[19]||(a[19]=[e("span",null,"-",-1)]))),e("td",Ayt,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",Iyt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",Ryt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",Syt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",Tyt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",jyt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",Oyt,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",Myt,[e("div",Lyt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Nyt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Fyt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,Yyt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,Vyt),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,Byt),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Uyt,[e("div",qyt,[e("div",Hyt,[e("div",zyt,[e("div",Wyt,[e("span",null,n(o.$t("Loading"))+"...",1),a[20]||(a[20]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Kyt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,Gyt)]),i.can_edit?(u(),f("li",Qyt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,Zyt)])):b("",!0),i.can_replicate?(u(),f("li",Jyt,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,Xyt)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",e0t,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,t0t)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",o0t,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,a0t)])):b("",!0),i.can_delete?(u(),f("li",n0t,[e("button",{class:"dropdown-item btn btn-sm badge bg-label-warning","data-bs-toggle":"modal","data-bs-target":"#delete-invoice-"+i.id},n(o.$t("Delete")),9,s0t)])):b("",!0)])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"delete-invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",i0t,[e("div",r0t,[e("div",d0t,[e("h5",c0t,n(o.$t("Delete Invoice")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"close-delete-invoice-modal-"+t.invoice_details.id,"aria-label":"Close"},null,8,u0t)]),e("div",_0t,[e("div",m0t,[e("h5",null,n(o.$t("Are you sure you want to delete the invoice"))+" "+n(t.invoice_details.invoice_number)+"? ",1)])]),e("div",f0t,[e("button",{onClick:a[11]||(a[11]=d=>t.deleteInvoice(t.invoice_details)),class:"btn btn-danger"},n(o.$t("Delete")),1)])])])],8,l0t)):b("",!0),e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",p0t,[e("div",v0t,[e("div",g0t,[e("h5",b0t,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,y0t)]),e("form",{onSubmit:st(d=>t.requestApproval(i,"reject"),["prevent"])},[e("div",$0t,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoice"))+"?",1),e("label",w0t,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[12]||(a[12]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",D0t,[e("button",x0t,n(o.$t("Confirm")),1)])],40,k0t)])])],8,h0t),t.purchase_order_details?(u(),f("div",{key:3,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",P0t,[e("div",E0t,[e("div",A0t,[e("h5",I0t,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",R0t,[e("div",null,[e("a",{href:"purchase-orders/"+t.purchase_order_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,S0t)]),t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,T0t)):b("",!0)])]),e("div",j0t,[e("div",O0t,[e("div",M0t,[e("span",L0t,[e("h5",N0t,n(o.$t("Vendor"))+":",1),e("h6",F0t,n(t.purchase_order_details.company.name),1)]),e("span",Y0t,[e("h5",V0t,n(o.$t("Delivery Address"))+":",1),e("h6",B0t,n(t.purchase_order_details.delivery_address),1)]),e("span",U0t,[e("h5",q0t,n(o.$t("Remarks"))+":",1),e("h6",H0t,n(t.purchase_order_details.remarks),1)]),e("span",z0t,[e("h5",W0t,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",K0t,[e("h5",G0t,n(o.$t("Rejection Reason"))+":",1),e("h6",Q0t,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Z0t,[e("span",J0t,[e("h5",X0t,n(o.$t("PO No"))+":",1),e("h6",e2t,n(t.purchase_order_details.purchase_order_number),1)]),e("span",t2t,[e("h5",o2t,n(o.$t("Start Date"))+":",1),e("h6",a2t,n(t.moment(t.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",n2t,[e("h5",s2t,n(o.$t("End Date"))+":",1),e("h6",l2t,n(t.moment(t.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",i2t,[e("h5",r2t,n(o.$t("PO Amount"))+":",1),e("h6",d2t,n(t.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",c2t,[e("table",u2t,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",_2t,[e("span",m2t,[e("h6",f2t,n(o.$t("Total")),1),e("h5",h2t,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,C0t)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const v2t=Ue(Pbt,[["render",p2t]]),g2t={name:"Payments",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(""),c=h(""),m=h(""),_=h(null),l=h(50),r=async()=>{await A.get(o+"invoices/payments/data",{params:{per_page:l.value}}).then(C=>{a.value=C.data})},i=C=>{let E="";switch(C){case"Created":E="bg-label-secondary";break;case"Pending Maker":E="bg-label-primary";break;case"Pending Checker":E="bg-label-warning";break;case"Submitted":E="bg-label-primary";break;case"Approved":E="bg-label-success";break;case"Disbursed":E="bg-label-success";break;case"Denied":E="bg-label-danger";break;default:E="bg-label-primary";break}return E},d=C=>{let E="";switch(C){case"pending":E="bg-label-primary";break;case"financed":E="bg-label-success";break;case"closed":E="bg-label-secondary";break;case"denied":E="bg-label-danger";break;default:E="bg-label-primary";break}return E},p=async(C,E)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+C+"/details").then(D=>{_.value=D.data,bt(()=>{document.getElementById(E).click()})}).catch(D=>{console.log(D)})},v=async(C,E)=>{await A.get(o+"purchase-orders/"+C+"/show").then(D=>{purchase_order_details.value=D.data,bt(()=>{document.getElementById(E).click()})}).catch(D=>{console.log(D)})},g=(C,E)=>(E/C*100).toFixed(2),w=()=>{A.get("/invoices/payments/export",{responseType:"arraybuffer",method:"GET",params:{anchor:s.value,invoice_number:t.value,disbursement_date:paid_search.value,pi_number:m.value}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)})};Qe(()=>{r()});const y=async C=>{await A.get(C,{params:{per_page:l.value,anchor:s.value,invoice_number:t.value,paid_date:c.value,pi_number:m.value}}).then(E=>{a.value=E.data})};return ot([s,t,c,m,l],async([C,E,D,k,I])=>{await A.get("invoices/payments/data",{params:{per_page:I,anchor:C,invoice_number:E,paid_date:D,pi_number:k}}).then(V=>{a.value=V.data})}),{moment:H,invoices:a,invoice_number_search:t,anchor_search:s,paid_date_search:c,pi_number_search:m,per_page:l,resolveStatus:i,resolveFinancingStatus:d,getTaxPercentage:g,exportInvoices:w,changePage:y,clearSearch:()=>{s.value="",t.value="",c.value=""},invoice_details:_,showInvoice:p,showPurchaseOrder:v}}},b2t={class:"card"},y2t={class:"card-body"},k2t={class:"d-flex justify-content-between"},$2t={class:"d-flex flex-wrap"},w2t={class:""},D2t={class:"mx-1"},x2t={class:"mx-1"},C2t={class:"mx-1"},P2t={class:"mx-1 table-clear-btn"},E2t={class:"d-flex mx-2",style:{height:"fit-content"}},A2t={class:"table-responsive"},I2t={class:"table"},R2t={key:0},S2t={colspan:"12",class:"text-center"},T2t={class:"text-center"},j2t={key:1},O2t={colspan:"12",class:"text-center"},M2t={class:"text-center"},L2t=["onClick"],N2t={href:"javascript:;",class:"dropdown-item"},F2t={class:"text-success"},Y2t={class:"text-primary"},V2t={class:""},B2t={class:"text-success"},U2t={class:""},q2t={class:"d-inline-block"},H2t=["id","data-bs-target"],z2t=["id","data-bs-target"],W2t=["id","data-bs-target"],K2t={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},G2t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Q2t={class:"modal-content"},Z2t={class:"modal-body"},J2t={class:"d-flex justify-content-center"},X2t=["id"],ekt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},tkt={class:"modal-content"},okt={class:"modal-header"},akt={class:"modal-title",id:"modalCenterTitle"},nkt={class:"d-flex"},skt=["href"],lkt=["href"],ikt={class:"modal-body"},rkt={class:"d-flex justify-content-between"},dkt={class:"mb-3 w-50"},ckt={class:"d-flex justify-content-between"},ukt={class:"fw-light my-auto"},_kt={class:"fw-bold mx-2 my-auto"},mkt={class:"d-flex justify-content-between"},fkt={class:"fw-light my-auto"},hkt={class:"fw-bold mx-2 my-auto"},pkt={class:"d-flex justify-content-between"},vkt={class:"fw-light my-auto"},gkt={class:"fw-bold mx-2 my-auto"},bkt={class:"d-flex justify-content-between"},ykt={class:"fw-light my-auto"},kkt={key:0,class:"d-flex justify-content-between"},$kt={class:"fw-light my-auto"},wkt={class:"fw-bold mx-2 my-auto"},Dkt={class:"mb-3"},xkt={class:"d-flex justify-content-between"},Ckt={class:"my-auto fw-light"},Pkt={class:"fw-bold mx-2 my-auto"},Ekt={class:"d-flex justify-content-between"},Akt={class:"my-auto fw-light"},Ikt={class:"fw-bold mx-2 my-auto"},Rkt={class:"d-flex justify-content-between"},Skt={class:"my-auto fw-light"},Tkt={class:"fw-bold mx-2 my-auto"},jkt={class:"d-flex justify-content-between"},Okt={class:"my-auto fw-light"},Mkt={class:"fw-bold text-success mx-2 my-auto"},Lkt={class:"table-responsive"},Nkt={class:"table"},Fkt={class:"bg-label-secondary px-2"},Ykt={class:"d-flex justify-content-end"},Vkt={class:"mx-2 my-auto py-1"},Bkt={class:"text-success my-auto py-1"};function Ukt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",b2t,[e("div",y2t,[e("div",k2t,[e("div",$2t,[e("div",w2t,[a[10]||(a[10]=e("label",{for:"anchor",class:"form-label"},"Anchor",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",D2t,[a[11]||(a[11]=e("label",{for:"invoice-number",class:"form-label"},"Invoice Number",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",x2t,[a[12]||(a[12]=e("label",{for:"Pi Number",class:"form-label"},"PI No.",-1)),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","onUpdate:modelValue":a[4]||(a[4]=i=>t.pi_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[X,t.pi_number_search]])]),e("div",C2t,[a[13]||(a[13]=e("label",{for:"Paid Date",class:"form-label"},"Paid Date",-1)),Y(e("input",{class:"form-control form-search",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=i=>t.paid_date_search=i),onKeyup:a[7]||(a[7]=Ee((...i)=>o.filter&&o.filter(...i),["enter"]))},null,544),[[X,t.paid_date_search]])]),e("div",P2t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",E2t,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i)},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",A2t,[e("table",I2t,[a[21]||(a[21]=e("thead",null,[e("tr",null,[e("th",null,"Anchor"),e("th",null,"Invoice No."),e("th",null,"Invoice Amount"),e("th",null,"PI No"),e("th",null,"Paid Date"),e("th",null,"Paid Amount"),e("th")])],-1)),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",R2t,[e("td",S2t,[e("span",T2t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",j2t,[e("td",O2t,[e("span",M2t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",N2t,n(i.invoice_number),1)],8,L2t),e("td",F2t,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1),e("td",Y2t,n(i.pi_number),1),e("td",V2t,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",B2t,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",U2t,[e("div",q2t,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,H2t),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,z2t),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,W2t),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",K2t,[e("div",G2t,[e("div",Q2t,[e("div",Z2t,[e("div",J2t,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])])])]),e("td",null,[t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),o.purchase_order_details?(u(),f("div",{key:2,class:"modal fade",id:"purchase-order-"+i.purchase_order_id,tabindex:"-1","aria-hidden":"true"},[e("div",ekt,[e("div",tkt,[e("div",okt,[e("h5",akt,n(o.$t("Purchase Order")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",nkt,[e("div",null,[e("a",{href:"purchase-orders/"+o.purchase_order.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,skt)]),o.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[19]||(a[19]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,lkt)):b("",!0)])]),e("div",ikt,[e("div",rkt,[e("div",dkt,[e("span",ckt,[e("h5",ukt,n(o.$t("Vendor"))+":",1),e("h6",_kt,n(o.purchase_order_details.company.name),1)]),e("span",mkt,[e("h5",fkt,n(o.$t("Delivery Address"))+":",1),e("h6",hkt,n(o.purchase_order_details.delivery_address),1)]),e("span",pkt,[e("h5",vkt,n(o.$t("Remarks"))+":",1),e("h6",gkt,n(o.purchase_order_details.remarks),1)]),e("span",bkt,[e("h5",ykt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(o.purchase_order_details.approval_stage)])},n(o.purchase_order_details.approval_stage),3)]),o.purchase_order_details.rejection_reason?(u(),f("span",kkt,[e("h5",$kt,n(o.$t("Rejection Reason"))+":",1),e("h6",wkt,n(o.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",Dkt,[e("span",xkt,[e("h5",Ckt,n(o.$t("PO No"))+":",1),e("h6",Pkt,n(o.purchase_order_details.purchase_order_number),1)]),e("span",Ekt,[e("h5",Akt,n(o.$t("Start Date"))+":",1),e("h6",Ikt,n(t.moment(o.purchase_order_details.duration_from).format("DD MMM YYYY")),1)]),e("span",Rkt,[e("h5",Skt,n(o.$t("End Date"))+":",1),e("h6",Tkt,n(t.moment(o.purchase_order_details.duration_to).format("DD MMM YYYY")),1)]),e("span",jkt,[e("h5",Okt,n(o.$t("PO Amount"))+":",1),e("h6",Mkt,n(o.purchase_order_details.currency)+" "+n(new Intl.NumberFormat().format(o.purchase_order_details.total_amount)),1)])])]),e("div",Lkt,[e("table",Nkt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(o.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Fkt,[e("span",Ykt,[e("h6",Vkt,n(o.$t("Total")),1),e("h5",Bkt,n(new Intl.NumberFormat().format(o.purchase_order_details.total_amount)),1)])])])])])],8,X2t)):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const qkt=Ue(g2t,[["render",Ukt]]),Hkt={name:"AllInvoices",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},props:["can_replicate"],setup(o){const a=o.can_replicate,s=lt(),t=Je("baseURL"),c=h([]),m=h(0),_=h(0),l=h(null),r=h(0),i=h(0),d=h(0),p=h(""),v=h(""),g=h(""),w=h(""),y=h([]),x=h([]),C=h(""),E=h(0),D=h(50),k=async()=>{await A.get(t+"invoices/pending/data?per_page="+D.value).then(S=>{c.value=S.data.pending_invoices})};ot([D],async([S])=>{await A.get(t+"invoices/data",{params:{per_page:S,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:w.value,status:y.value,financing_status:x.value}}).then(U=>{c.value=U.data.invoices})});const I=async(S,U)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+S+"/details").then(W=>{l.value=W.data,E.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},V=S=>{let U="";switch(S){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-danger";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Internal Reject":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},L=async(S,U)=>{const W=new FormData;W.append("status",U),W.append("rejection_reason",C.value),await A.post("invoices/"+S.id+"/request/send",W).then(()=>{s.success("Invoice updated successfully"),setTimeout(()=>{window.location.reload()},2e3)}).catch(oe=>{console.log(oe),s.error("An error occurred")})},F=(S,U)=>(U/S*100).toFixed(2),T=()=>{A.get(t+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:w.value,status:y.value,financing_status:x.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)})},P=S=>{A.delete(t+"invoices/"+S.id+"/delete").then(U=>{document.getElementById("close-delete-invoice-modal-"+S.id).click(),s.success(U.data.message),k()}).catch(U=>{console.log(U),s.error(U.response.data.message)})};return Qe(()=>{k(),$("#pending-invoices-status-select").on("change",function(){var S=$("#pending-invoices-status-select").val();y.value=S}),$("#pending-financing-status-select").on("change",function(){var S=$("#pending-financing-status-select").val();x.value=S})}),{can_replicate:a,moment:H,invoices:c,eligibility:m,eligibility_amount:_,business_spread:i,discount_amount:d,invoice_details:l,pi_amount:r,anchor_search:p,invoice_number_search:v,from_date_search:g,to_date_search:w,status_search:y,financing_status_search:x,per_page:D,rejected_reason:C,deleteInvoice:P,resolveStatus:V,resolveFinancingStatus:B,requestApproval:L,changePage:async S=>{await A.get(S,{params:{per_page:D.value,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:w.value,status:y.value,financing_status:x.value}}).then(U=>{c.value=U.data.invoices})},getTaxPercentage:F,exportInvoices:T,clearSearch:async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),p.value="",v.value="",g.value="",w.value="",y.value="",x.value="",$("#pending-invoices-status-select").val(""),$("#pending-invoices-status-select").trigger("change"),$("#pending-financing-status-select").val(""),$("#pending-financing-status-select").trigger("change"),await A.get(t+"invoices/pending/data",{params:{per_page:D.value}}).then(U=>{c.value=U.data.pending_invoices,S.html('<i class="ti ti-search"></i>')})},filter:async()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"invoices/pending/data",{params:{per_page:D.value,anchor:p.value,invoice_number:v.value,from_date:g.value,to_date:w.value,status:y.value,financing_status:x.value}}).then(U=>{c.value=U.data.pending_invoices,S.html('<i class="ti ti-search"></i>')})},showInvoice:I,invoice_details_key:E}}},zkt={class:"p-0"},Wkt={class:"d-flex flex-column flex-md-row justify-content-between p-0"},Kkt={class:"d-flex flex-wrap gap-1"},Gkt={class:""},Qkt={for:"Anchor",class:"form-label"},Zkt={class:""},Jkt={for:"Invoice No",class:"form-label"},Xkt={class:""},e$t={for:"From Date",class:"form-label"},t$t={class:""},o$t={class:""},a$t={for:"Status",class:"form-label"},n$t={value:"pending_maker"},s$t={value:"pending_checker"},l$t={value:"approved"},i$t={value:"rejected"},r$t={value:"past_due"},d$t={class:"table-search-btn"},c$t={class:"table-clear-btn"},u$t={class:"d-flex justicy-content-md-end gap-1 mt-2 mt-md-auto",style:{height:"fit-content"}},_$t={href:"invoices/create"},m$t={type:"button",class:"btn btn-primary btn-md text-nowrap"},f$t={class:"table-responsive"},h$t={class:"table"},p$t={key:0},v$t={colspan:"12",class:"text-center"},g$t={class:"text-center"},b$t={key:1},y$t={colspan:"12",class:"text-center"},k$t={class:"text-center"},$$t=["onClick"],w$t={href:"javascript:;",class:"dropdown-item"},D$t={class:"text-success text-nowrap"},x$t={key:0},C$t={key:1},P$t={class:""},E$t={class:""},A$t={class:""},I$t={class:"text-success text-nowrap"},R$t={class:""},S$t={class:"d-inline-block"},T$t=["id","data-bs-target"],j$t=["id","data-bs-target"],O$t=["id","data-bs-target"],M$t=["id","data-bs-target"],L$t={class:"modal fade",id:"pending-loading-modal",tabindex:"-1","aria-hidden":"true"},N$t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},F$t={class:"modal-content"},Y$t={class:"modal-body"},V$t={class:"d-flex justify-content-center"},B$t={class:"dropdown-menu dropdown-menu-end m-0"},U$t=["onClick"],q$t={key:0},H$t=["href"],z$t={key:1},W$t=["href"],K$t={key:2},G$t=["onClick"],Q$t={key:3},Z$t=["data-bs-target"],J$t={key:4},X$t=["data-bs-target"],ewt=["id"],twt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},owt={class:"modal-content"},awt={class:"modal-header"},nwt={class:"modal-title",id:"modalCenterTitle"},swt=["id"],lwt={class:"modal-body"},iwt={class:"d-flex justify-content-between"},rwt={class:"modal-footer"},dwt=["id"],cwt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uwt={class:"modal-content"},_wt={class:"modal-header"},mwt={class:"modal-title",id:"modalCenterTitle"},fwt=["id"],hwt=["onSubmit"],pwt={class:"modal-body"},vwt={for:"reason",class:"form-label"},gwt={class:"modal-footer"},bwt={class:"btn btn-danger",type:"submit"};function ywt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",zkt,[e("div",Wkt,[e("div",Kkt,[e("div",Gkt,[e("label",Qkt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Zkt,[e("label",Jkt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Xkt,[e("label",e$t,n(o.$t("From Date")),1),Y(e("input",{class:"form-control form-search",type:"date","onUpdate:modelValue":a[4]||(a[4]=i=>t.from_date_search=i),onKeyup:a[5]||(a[5]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.from_date_search]])]),e("div",t$t,[a[15]||(a[15]=e("label",{for:"To Date",class:"form-label"},n("To Date"),-1)),Y(e("input",{class:"form-control form-search",type:"date","onUpdate:modelValue":a[6]||(a[6]=i=>t.to_date_search=i),onKeyup:a[7]||(a[7]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.to_date_search]])]),e("div",o$t,[e("label",a$t,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"pending-invoices-status-select",multiple:"","onUpdate:modelValue":a[8]||(a[8]=i=>t.status_search=i)},[e("option",n$t,n(o.$t("Pending"))+" ("+n(o.$t("Maker"))+")",1),e("option",s$t,n(o.$t("Pending"))+" ("+n(o.$t("Checker"))+")",1),e("option",l$t,n(o.$t("Approved")),1),e("option",i$t,n(o.$t("Rejected")),1),e("option",r$t,n(o.$t("Overdue")),1)],512),[[de,t.status_search]])]),e("div",d$t,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.filter&&t.filter(...i))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",c$t,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",u$t,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("a",_$t,[e("button",m$t,[a[20]||(a[20]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Create Invoice")),1)])])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",f$t,[e("table",h$t,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PO"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Disb Amount")),1),e("th",null,n(o.$t("Actions")),1),a[21]||(a[21]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",p$t,[e("td",v$t,[e("span",g$t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",b$t,[e("td",y$t,[e("span",k$t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",w$t,n(i.invoice_number),1)],8,$$t),e("td",null,n(i.purchase_order_number?i.purchase_order_number:"-"),1),e("td",D$t,[le(n(i.currency)+" ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",x$t,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",C$t,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",P$t,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",E$t,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",A$t,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",I$t,n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",R$t,[e("div",S$t,[a[23]||(a[23]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,T$t),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,j$t),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,O$t),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,M$t),a[24]||(a[24]=e("button",{class:"d-none",id:"pending-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal"},null,-1)),e("div",L$t,[e("div",N$t,[e("div",F$t,[e("div",Y$t,[e("div",V$t,[e("span",null,n(o.$t("Loading"))+"...",1),a[22]||(a[22]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",B$t,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,U$t)]),i.can_edit?(u(),f("li",q$t,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,H$t)])):b("",!0),i.can_replicate?(u(),f("li",z$t,[e("a",{href:"invoices/create/"+i.id,class:"dropdown-item badge bg-label-warning"},n(o.$t("Replicate")),9,W$t)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",K$t,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i,"approve"),class:"dropdown-item badge bg-label-success"},n(o.$t("Approve")),9,G$t)])):b("",!0),!i.user_has_approved&&(i.status=="pending"||i.status=="created")?(u(),f("li",Q$t,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,Z$t)])):b("",!0),i.can_delete?(u(),f("li",J$t,[e("button",{class:"dropdown-item btn btn-sm badge bg-label-warning","data-bs-toggle":"modal","data-bs-target":"#delete-invoice-"+i.id},n(o.$t("Delete")),9,X$t)])):b("",!0)])])]),e("td",null,[t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"delete-invoice-"+t.invoice_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",twt,[e("div",owt,[e("div",awt,[e("h5",nwt,n(o.$t("Delete Invoice")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"close-delete-invoice-modal-"+t.invoice_details.id,"aria-label":"Close"},null,8,swt)]),e("div",lwt,[e("div",iwt,[e("h5",null,n(o.$t("Are you sure you want to delete the invoice"))+" "+n(t.invoice_details.invoice_number)+"? ",1)])]),e("div",rwt,[e("button",{onClick:a[13]||(a[13]=d=>t.deleteInvoice(t.invoice_details)),class:"btn btn-danger"},n(o.$t("Delete")),1)])])])],8,ewt)):b("",!0),e("div",{class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",cwt,[e("div",uwt,[e("div",_wt,[e("h5",mwt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,fwt)]),e("form",{onSubmit:st(d=>t.requestApproval(i,"reject"),["prevent"])},[e("div",pwt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoice"))+"?",1),e("label",vwt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.rejected_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.rejected_reason]])]),e("div",gwt,[e("button",bwt,n(o.$t("Confirm")),1)])],40,hwt)])])],8,dwt)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const kwt=Ue(Hkt,[["render",ywt]]),$wt={name:"CashPlannerPrograms",components:{Pagination:Na},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"cash-planner/programs",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.programs})},per_page:s}}},wwt={class:"card"},Dwt={class:"card-header"},xwt={class:"card-title"},Cwt={class:"card-body"},Pwt={class:"table-responsive"},Ewt={class:"table"},Awt={class:"text-nowrap"},Iwt={class:"table-border-bottom-0"},Rwt={key:0},Swt={colspan:"12",class:"text-center"},Twt={class:"text-center"},jwt={key:1},Owt={colspan:"12",class:"text-center"},Mwt={class:"text-center"},Lwt={class:"fw-medium"},Nwt={class:"text-success text-nowrap"},Fwt={class:"text-success text-nowrap"},Ywt={class:"text-success text-nowrap"},Vwt={class:"text-success text-nowrap"},Bwt={class:""};function Uwt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",wwt,[e("div",Dwt,[e("h6",xwt,n(o.$t("Limit Details")),1)]),e("div",Cwt,[t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Pwt,[e("table",Ewt,[e("thead",null,[e("tr",Awt,[e("th",null,n(o.$t("Payment/OD Account No.")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",Iwt,[t.programs.data?b("",!0):(u(),f("tr",Rwt,[e("td",Swt,[e("span",Twt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",jwt,[e("td",Owt,[e("span",Mwt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,[e("span",Lwt,n(l.anchor_name),1)]),e("td",Nwt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",Fwt,n(l.utilized_amount<0?0:new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",Ywt,n(l.pipeline_amount<0?0:new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",Vwt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",Bwt,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.meta.next_page_url,prev_page:t.programs.meta.prev_page_url,total_items:t.programs.meta.total,first_page_url:t.programs.meta.first_page_url,last_page_url:t.programs.meta.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const qwt=Ue($wt,[["render",Uwt]]),Hwt={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl,DatePicker:gi},props:["can_request","is_dashboard"],setup(o){const a=o.can_request,s=o.is_dashboard??!1,t=lt(),c=h([]),m=Je("baseURL"),_=h(null),l=h(0),r=h(0),i=h(""),d=h(""),p=h(""),v=h(H().format("DD MMM YYYY")),g=h(H().format("DD MMM YYYY")),w=h(new Date().toLocaleDateString("en-CA")),y=h(new Date().toLocaleDateString("en-CA")),x=h(1),C=h(0),E=h(1),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0),U=h(0),W=h(0),oe=h(0),J=h(0);h([]),h(0);const K=h(0),z=h(0);h(0);const ae=h(""),we=h(!1),Fe=h(!1),he=h(0),re=h(0),$e=h(0),De=h(0),ie=h(!1),pe=h([]),be=h(!1),Me=h(""),ue=h(""),je=h(""),ze=h(""),Ye=h(""),ge=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),te=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),se=h(""),fe=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(s?10:50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(null),Et=h(new Date);ot([Ot],async([Oe])=>{await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:Oe}}).then(ye=>{he.value=0,re.value=0,$e.value=0,De.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount})})});const Dt=async()=>{at.value=$("#date_search").val(),at.value&&(fe.value=H(at.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(at.value.split(" - ")[1]).format("YYYY-MM-DD"));let Oe=$(".ti-search").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(m+"cash-planner/invoices/eligible/data",{params:{anchor:Ze.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let Oe=$(".ti-refresh").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),Ze.value="",se.value="",fe.value="",Le.value="",at.value="",$("#date_search").val(""),await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(ye=>{c.value=ye.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-refresh"></i>')})},Kt=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+Oe+"/details").then(He=>{_.value=He.data,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(m+"invoices/"+Oe+"/details").then(He=>{Ce.value=[],Ne.value=0,Ie.value=0,_.value=He.data,J.value=_.value.due_date,k.value=0,_.value.invoice_items.forEach(ve=>{k.value+=ve.quantity*ve.price_per_quantity}),I.value=0,_.value.invoice_taxes.forEach(ve=>{I.value+=ve.value}),V.value=0,_.value.invoice_fees.forEach(ve=>{V.value+=ve.amount}),B.value=0,_.value.invoice_discounts.forEach(ve=>{ve.type=="percentage"?r.value+=ve.value/100*(k.value+I.value):r.value+=ve.value}),k.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount,L.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,O.value=H(_.value.due_date).diff(H(),"days")+1,F.value=_.value.vendor_configurations.eligibility,T.value=_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount,P.value=F.value/100*(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_fees-_.value.total_invoice_discount),N.value=_.value.vendor_discount_details.total_roi,R.value=F.value/100*T.value*(N.value/100)*((H(_.value.due_date).diff(H(),"days")+1)/365),ge.value=_.value.program.discount_details[0].tax_on_discount,_e.value=ge.value/100*R.value,N.value>0&&_.value.vendor_discount_details.vendor_discount_bearing>0&&(R.value=_.value.vendor_discount_details.vendor_discount_bearing/N.value*R.value);let Nt=0,it=0,_t=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((ve,Re)=>{if(ve.type=="percentage")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*(ve.value/100*P.value*O.value);let vt=ve.vendor_bearing_discount/100*(ve.value/100*P.value*O.value);Nt+=ve.anchor_bearing_discount/100*(ve.value/100*P.value*O.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+ve.value+"%)"]),ve.taxes&&(_t+=ve.taxes/100*(ve.value/100*P.value)*O.value)}else{it+=ve.vendor_bearing_discount/100*(ve.value/100*P.value);let vt=ve.vendor_bearing_discount/100*(ve.value/100*P.value);Nt+=ve.anchor_bearing_discount/100*(ve.value/100*P.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,new Intl.NumberFormat().format(vt.toFixed(2))+"("+ve.value+"%)"]),ve.taxes&&(_t+=ve.taxes/100*(ve.value/100*P.value))}if(ve.type==="amount")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*ve.value*O.value;let vt=ve.vendor_bearing_discount/100*ve.value*O.value;Nt+=ve.anchor_bearing_discount/100*ve.value*O.value,ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+")"]),ve.taxes&&(_t+=ve.taxes/100*ve.value)}else{it+=ve.vendor_bearing_discount/100*ve.value;let vt=ve.vendor_bearing_discount/100*ve.value;Nt+=ve.anchor_bearing_discount/100*ve.value,ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+")"]),ve.taxes&&(_t+=ve.taxes/100*ve.value)}if(ve.type=="per amount")if(ve.charge_type==="daily"){it+=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value);let vt=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value);Nt+=ve.anchor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+" Per "+ve.per_amount+")"]),ve.taxes&&(_t+=ve.taxes/100*(Math.round(P.value/ve.per_amount)*ve.value*O.value))}else{it+=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value);let vt=ve.vendor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value);Nt+=ve.anchor_bearing_discount/100*(Math.round(P.value/ve.per_amount)*ve.value),ve.vendor_bearing_discount>0&&Ce.value.push([ve.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(vt.toFixed(2))+" ("+ve.value+" Per "+ve.per_amount+")"]),ve.taxes&&(_t+=ve.taxes/100*(Math.round(P.value/ve.per_amount)*ve.value))}}),Ne.value+=it,Ie.value+=_t,_.value.program.discount_details[0].discount_type==="Front Ended"?U.value=P.value-Ne.value-Ie.value-R.value-_e.value:U.value=P.value-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),W.value=_.value.min_financing_days,oe.value=_.value.max_financing_days,i.value=H(_.value.due_date).subtract(oe.value,"days").format("DD MMM YYYY"),H(i.value)<H()&&(i.value=H().format("DD MMM YYYY")),v.value=i.value,O.value=H(_.value.due_date).diff(H(i.value),"days"),d.value=H(_.value.due_date).subtract(W.value,"days").format("DD MMM YYYY");let tt=[function(ve){return wt.value.includes(ve.getDay())}];Vt.value=new Date(d.value),wt.value.forEach(ve=>{gt.value.push(ve)}),mt.value.forEach(ve=>{tt.push('"'+ve+'"'),ut.value.push(new Date(ve))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:i.value,maxDate:d.value,disable:tt},w.value=H().format("DD MMM YYYY"),_.value.vendor_bank_details.forEach(ve=>{ve.account_number==_.value.credit_to?(ae.value=ve.id,ie.value=!0):(ae.value="",ie.value=!1)}),Fe.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(Oe,ye,He)=>{ye!=""&&(Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,Jt.value=!0,A.post(m+"invoices/remittance/amount",{invoices:pe.value,date:y.value}).then(Nt=>{Se.value=Nt.data.total_amount,Ve.value=Nt.data.total_remittance_amount,Jt.value=!1}),g.value=H(ye).format("DD MMM YYYY"),y.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(pe.value.length<=0)return t.error("Select Payment Instructions"),!1;y.value=new Date().toLocaleDateString("en-CA");let Oe=[function(ye){return wt.value.includes(ye.getDay())}];pt.value=new Date(p.value),wt.value.forEach(ye=>{gt.value.push(ye)}),mt.value.forEach(ye=>{Oe.push('"'+ye+'"'),ut.value.push(new Date(ye))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:p.value,disable:Oe},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(m+"invoices/remittance/amount",{invoices:pe.value,date:y.value}).then(ye=>{Se.value=ye.data.total_amount,Ve.value=ye.data.total_remittance_amount,Jt.value=!1}),be.value.click()},Ge=Oe=>{let ye="";switch(Oe){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(m+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(Oe=>{ue.value=Oe.data.terms_and_conditions,je.value=Oe.data.noa,Ye.value=Oe.data.terms_text,ze.value=Oe.data.noa_text,c.value=Oe.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,c.value.data.forEach(ye=>{he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,re.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,$e.value+=ye.eligible_for_finance,De.value+=ye.actual_remittance_amount}),p.value=H(Oe.data.highest_due_date).subtract(Oe.data.min_financing_days,"days").format("DD MMM YYYY"),Oe.data.holidays.forEach(ye=>{mt.value.push(ye.date_formatted)}),Oe.data.off_days&&Oe.data.off_days.forEach(ye=>{wt.value.push(ye)})}).catch(Oe=>{console.log(Oe)})},yt=(Oe,ye,He)=>{k.value=_.value.total,I.value=_.value.total_invoice_taxes,V.value=_.value.total_invoice_fees,Ne.value=0,Ie.value=0,Ce.value=[];let Nt=_.value.total_invoice_discount;k.value=k.value+I.value-Nt;let it=k.value-V.value;T.value=F.value/100*it,S.value=x.value/100*T.value,O.value=H(_.value.due_date).diff(H(ye),"days"),R.value=F.value/100*it*(N.value/100)*(H(_.value.due_date).diff(H(ye),"days")/365),_e.value=ge.value/100*R.value,_.value.vendor_discount_details.vendor_discount_bearing>0&&(R.value=_.value.vendor_discount_details.vendor_discount_bearing/N.value*R.value);let _t=0,tt=0,ve=0;_.value.program.discount_details[0].fee_type=="Front Ended"&&_.value.vendor_fee_details.forEach((Re,vt)=>{if(Re.type=="percentage")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value*O.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value*O.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value*O.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(ve+=Re.taxes/100*(Re.value/100*P.value)*O.value)}else{_t+=Re.vendor_bearing_discount/100*(Re.value/100*P.value);let Rt=Re.vendor_bearing_discount/100*(Re.value/100*P.value);tt+=Re.anchor_bearing_discount/100*(Re.value/100*P.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,new Intl.NumberFormat().format(Rt.toFixed(2))+"("+Re.value+"%)"]),Re.taxes&&(ve+=Re.taxes/100*(Re.value/100*P.value))}if(Re.type==="amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*Re.value*O.value;let Rt=Re.vendor_bearing_discount/100*Re.value*O.value;tt+=Re.anchor_bearing_discount/100*Re.value*O.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(ve+=Re.taxes/100*Re.value)}else{_t+=Re.vendor_bearing_discount/100*Re.value;let Rt=Re.vendor_bearing_discount/100*Re.value;tt+=Re.anchor_bearing_discount/100*Re.value,Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+")"]),Re.taxes&&(ve+=Re.taxes/100*Re.value)}if(Re.type=="per amount")if(Re.charge_type==="daily"){_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(ve+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value*O.value))}else{_t+=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);let Rt=Re.vendor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value);tt+=Re.anchor_bearing_discount/100*(Math.round(P.value/Re.per_amount)*Re.value),Re.vendor_bearing_discount>0&&Ce.value.push([Re.fee_name,_.value.currency+" "+new Intl.NumberFormat().format(Rt.toFixed(2))+" ("+Re.value+" Per "+Re.per_amount+")"]),Re.taxes&&(ve+=Re.taxes/100*(Math.round(P.value/Re.per_amount)*Re.value))}}),Ne.value+=_t,Ie.value+=ve,_.value.program.discount_details[0].discount_type=="Front Ended"?U.value=F.value/100*it-Ne.value-Ie.value-R.value-_e.value:U.value=F.value/100*it-Ne.value-Ie.value,_.value.program.discount_details[0].fee_type=="Rear Ended"&&(U.value=U.value+Ne.value+Ie.value),v.value=H(ye).format("DD MMM YYYY")},xt=async()=>{if(ae.value==""){t.error("Select Payment Account"),we.value=!0;return}ie.value=!1,await A.post(m+"cash-planner/invoices/request/send",{invoice_id:_.value.id,payment_request_date:v.value,credit_to:ae.value}).then(Oe=>{t.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(Oe=>{console.log(Oe),ie.value=!0,Oe.response.data&&Oe.response.data.message?t.error(Oe.response.data.message):t.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{ie.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const Oe=new FormData;pe.value.forEach(ye=>{Oe.append("invoices[]",ye.id)}),Oe.append("payment_request_date",g.value),await A.post(m+"cash-planner/invoices/request/multiple/send",Oe).then(ye=>{t.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),document.getElementById("select-all").checked=!1,c.value.data.forEach(He=>{document.getElementById("invoice-"+He.id).checked=!1}),pe.value=[],Se.value=0,Ve.value=0,nt()}).catch(ye=>{console.log(ye),ie.value=!0,ye.response.data&&ye.response.data.message?t.error(ye.response.data.message):t.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(Oe,ye)=>(ye/Oe*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,is_dashboard:s,config:ke,config2:te,moment:H,max_date:d,min_date:i,eligibility_amount:l,pi_amount:K,discount_amount:r,days_to_payment:E,total_remittance:D,processing_fee_amount:C,invoices:c,payment_date:v,request_payment_date:w,bulk_request_payment_date:y,credit_to:ae,taxes_amount:z,payment_account:we,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ge,tax_on_discount_amount:_e,invoice_total_amount:k,invoice_taxes_amount:I,invoice_fees_amount:V,invoice_eligibility_percentage:F,invoice_eligibility_amount:T,invoice_eligibility_for_finance:P,invoice_discount_amount:R,invoice_days_to_payment:O,invoice_business_spread:N,invoice_processing_fee:S,invoice_min_financing_days:W,invoice_due_date:J,invoice_total_remmitance:U,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:Ge,total_invoice_amount:he,total_pi_amount:re,total_eligible_amount:$e,total_actual_remittance:De,can_submit:ie,selected_invoices:pe,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:je,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Pe,bulk_data_loading:Jt,anchor_search:Ze,invoice_number_search:se,from_date_search:fe,to_date_search:Le,date_search:at,per_page:Ot,formatNoa:Oe=>{let ye="";ze.value&&(ye=ze.value.body,ye=ye.replace("{date}",H(Oe.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",""),ye=ye.replace("{anchorName}",Oe.program.anchor.name),ye=ye.replace("{company}",Oe.company.name),ye=ye.replace("{anchorCompanyUniqueID}",Oe.program.anchor.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract}",""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorAccountName}",Oe.bank_details.length>0?Oe.bank_details[0].name_as_per_bank:""),ye=ye.replace("{anchorAccountNumber}",Oe.bank_details.length>0?Oe.bank_details[0].account_number:""),ye=ye.replace("{anchorCustomerId}",""),ye=ye.replace("{anchorBranch}",Oe.bank_details.length>0?Oe.bank_details[0].branch:""),ye=ye.replace("{anchorIFSCCode}",""),ye=ye.replace("{anchorAddress}",Oe.program.anchor.address+" "+Oe.program.anchor.postal_code+" "+Oe.program.anchor.city),ye=ye.replace("{penalnterestRate}",Oe.vendor_discount_details?Oe.vendor_discount_details.penal_discount_on_principle:""),ye=ye.replace("{sellerName}",Oe.company.name),ze.value.body=ye)},prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:Et,prime_bulk_max_date:pt,changePage:async Oe=>{await A.get(Oe,{params:{anchor:Ze.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(ye=>{he.value=0,re.value=0,$e.value=0,De.value=0,c.value=ye.data.invoices,c.value.data.forEach(He=>{he.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,re.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,$e.value+=He.eligible_for_finance,De.value+=He.actual_remittance_amount,pe.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:xt,invoice_details:_,viewRequestDetails:Fe,getTaxPercentage:Tt,updateSelected:Oe=>{let ye=pe.value.findIndex(He=>He.id==Oe.id);if(ye==-1?pe.value.push(Oe):pe.value.splice(ye,1),pe.value.length==c.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,pe.value.length>0){let He=pe.value[0].due_date,Nt=pe.value[0].min_financing_days;pe.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),d.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),pt.value=new Date(d.value),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?c.value.data.forEach(Oe=>{document.getElementById("invoice-"+Oe.id).checked=!0,pe.value.push(Oe)}):c.value.data.forEach(Oe=>{if(document.getElementById("invoice-"+Oe.id).checked==!0){document.getElementById("invoice-"+Oe.id).checked=!1;let ye;if(!pe.value.filter(function(Nt,it){ye=it,Nt.id==Oe.id}))return!1;pe.value.splice(ye,1)}})},acceptTerms:()=>{ie.value=!ie.value},filter:Dt,refresh:Ft,showInvoice:Kt}}},zwt={class:"card"},Wwt={key:0,class:"card-header"},Kwt={class:"card-body"},Gwt={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},Qwt={class:"d-flex flex-wrap gap-1"},Zwt={class:""},Jwt={for:"Anchor",class:"form-label"},Xwt={class:""},e5t={for:"Invoice No.",class:"form-label"},t5t={class:""},o5t={class:"form-label",for:""},a5t={class:"table-search-btn"},n5t={class:"table-clear-btn"},s5t={class:"d-flex mx-md-2",style:{height:"fit-content"}},l5t={class:"table-responsive"},i5t={class:"table invoices-table"},r5t={class:""},d5t={key:0},c5t={key:1},u5t={key:2},_5t={class:"invoices-table-content"},m5t={key:0},f5t={colspan:"12",class:"text-center"},h5t={class:"text-center"},p5t={key:1},v5t={colspan:"12",class:"text-center"},g5t={class:"text-center"},b5t={key:0},y5t={key:0,class:"form-check"},k5t=["id","onChange"],$5t={key:1},w5t=["onClick"],D5t=["title"],x5t={class:""},C5t={class:"text-success text-nowrap"},P5t={class:""},E5t={class:"text-success text-nowrap"},A5t={class:"text-success text-nowrap"},I5t={key:2,class:"text-success"},R5t=["onClick"],S5t=["id","data-bs-target"],T5t=["id","data-bs-target"],j5t={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},O5t={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},M5t={class:"modal-content"},L5t={class:"modal-body"},N5t={class:"d-flex justify-content-center"},F5t=["id"],Y5t={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},V5t={class:"modal-content"},B5t={class:"modal-header"},U5t={class:"modal-title",id:"modalCenterTitle"},q5t={class:"modal-body"},H5t={class:"row"},z5t={class:"col-6"},W5t={class:"border-bottom d-flex justify-content-between"},K5t={for:"nameWithTitle",class:"form-label"},G5t={class:"text-success"},Q5t={class:"border-bottom d-flex justify-content-between"},Z5t={for:"nameWithTitle",class:"form-label"},J5t={class:"text-success"},X5t={class:"border-bottom d-flex justify-content-between"},eDt={for:"nameWithTitle",class:"form-label"},tDt={class:"text-success"},oDt={class:"col-6"},aDt={class:"border-bottom d-flex justify-content-between"},nDt={for:"nameWithTitle",class:"form-label"},sDt={key:0,class:""},lDt={class:"border-bottom d-flex justify-content-between"},iDt={for:"nameWithTitle",class:"form-label"},rDt={key:0,class:""},dDt={class:"border-bottom d-flex justify-content-between"},cDt={for:"nameWithTitle",class:"form-label"},uDt={class:"text-success"},_Dt={class:"mt-1"},mDt={class:"row"},fDt={key:0,class:"col-6"},hDt={class:"border-bottom d-flex justify-content-between"},pDt={for:"nameWithTitle",class:"form-label"},vDt={class:""},gDt={class:"border-bottom d-flex justify-content-between"},bDt={for:"nameWithTitle",class:"form-label"},yDt={class:""},kDt={class:"border-bottom d-flex justify-content-between"},$Dt={for:"nameWithTitle",class:"form-label"},wDt={key:0,class:""},DDt=["for"],xDt={class:"text-success"},CDt={class:"border-bottom d-flex justify-content-between"},PDt={for:"nameWithTitle",class:"form-label"},EDt={class:"text-success"},ADt={class:"border-bottom d-flex justify-content-between"},IDt={for:"nameWithTitle",class:"form-label"},RDt={class:"text-success"},SDt={class:"border-bottom d-flex justify-content-between"},TDt={for:"nameWithTitle",class:"form-label"},jDt={class:"text-success"},ODt={class:"border-bottom d-flex justify-content-between"},MDt={for:"nameWithTitle",class:"form-label"},LDt={class:"text-success"},NDt={class:"text-success"},FDt={key:1,class:"col-6"},YDt={class:"border-bottom d-flex justify-content-between"},VDt={for:"nameWithTitle",class:"form-label"},BDt={class:""},UDt={class:"border-bottom d-flex justify-content-between"},qDt={for:"nameWithTitle",class:"form-label"},HDt={class:""},zDt={class:"border-bottom d-flex justify-content-between"},WDt={for:"nameWithTitle",class:"form-label"},KDt={key:0,class:""},GDt=["for"],QDt={class:"text-success"},ZDt={class:"border-bottom d-flex justify-content-between"},JDt={for:"nameWithTitle",class:"form-label"},XDt={class:"text-success"},e3t={class:"border-bottom d-flex justify-content-between"},t3t={for:"nameWithTitle",class:"form-label"},o3t={class:"text-success"},a3t={class:"col-6"},n3t={class:"mt-1"},s3t={class:"row"},l3t={class:"col-12"},i3t={class:"border-bottom d-flex justify-content-between"},r3t={for:"nameWithTitle",class:"form-label"},d3t={class:"",id:"payment_date"},c3t={class:"border-bottom d-flex justify-content-between"},u3t={for:"nameWithTitle",class:"form-label"},_3t={class:"text-success"},m3t={class:"border-bottom d-flex justify-content-between"},f3t={for:"nameWithTitle",class:"form-label"},h3t={class:"text-success"},p3t={key:0,class:"border-bottom d-flex justify-content-between"},v3t={for:"nameWithTitle",class:"form-label"},g3t={class:"text-success"},b3t={key:1,class:"border-bottom d-flex justify-content-between"},y3t={for:"nameWithTitle",class:"form-label"},k3t={class:"text-success"},$3t={class:"border-bottom d-flex justify-content-between"},w3t={for:"nameWithTitle",class:"form-label"},D3t={value:""},x3t=["value"],C3t={class:"modal-footer"},P3t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},E3t=["disabled","data-bs-target"],A3t=["id"],I3t={class:"modal-dialog modal-lg",role:"document"},R3t={class:"modal-content"},S3t={class:"modal-header"},T3t={class:"modal-title",id:"modalCenterTitle"},j3t={class:"modal-body"},O3t={key:0},M3t={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},L3t=["innerHTML"],N3t={key:2,href:"../cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},F3t={key:3},Y3t={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},V3t=["innerHTML"],B3t=["href"],U3t={class:"modal-footer d-flex justify-content-between"},q3t={class:"mt-4"},H3t=["href"],z3t={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},W3t=["disabled"],K3t=["id"],G3t={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Q3t={class:"modal-content"},Z3t={class:"modal-header"},J3t={class:"modal-title",id:"modalCenterTitle"},X3t={class:"d-flex"},ext={key:0,class:"d-flex"},txt=["href"],oxt=["href"],axt={class:"modal-body"},nxt={class:"d-flex justify-content-between mb-4"},sxt={class:"mb-3"},lxt={class:"d-flex justify-content-between"},ixt={class:"fw-light my-auto"},rxt={class:"fw-bold mx-2 my-auto"},dxt={class:"d-flex justify-content-between"},cxt={class:"fw-light my-auto"},uxt={class:"fw-bold mx-2 my-auto"},_xt={class:"d-flex justify-content-between"},mxt={class:"fw-light my-auto"},fxt={class:"fw-bold mx-2 my-auto"},hxt={class:"d-flex justify-content-between"},pxt={class:"fw-light my-auto"},vxt={class:"fw-bold mx-2 my-auto"},gxt={class:"d-flex justify-content-between"},bxt={class:"fw-light my-auto"},yxt={class:"fw-bold mx-2 my-auto"},kxt={key:0,class:"d-flex justify-content-between"},$xt={class:"fw-light my-auto"},wxt={class:"fw-bold mx-2 my-auto"},Dxt={key:1,class:"d-flex justify-content-between"},xxt={class:"fw-light my-auto"},Cxt={class:"fw-bold mx-2 my-auto"},Pxt={class:"mb-3"},Ext={key:0,class:"d-flex justify-content-between"},Axt={class:"my-auto fw-light"},Ixt=["data-bs-target"],Rxt={class:"d-flex justify-content-between"},Sxt={class:"my-auto fw-light"},Txt={class:"fw-bold mx-2 my-auto"},jxt={class:"d-flex justify-content-between"},Oxt={class:"my-auto fw-light"},Mxt={class:"fw-bold mx-2 my-auto"},Lxt={class:"d-flex justify-content-between"},Nxt={class:"my-auto fw-light"},Fxt={class:"fw-bold mx-2 my-auto"},Yxt={class:"d-flex justify-content-between"},Vxt={class:"my-auto fw-light"},Bxt={class:"fw-bold mx-2 my-auto"},Uxt={class:"d-flex justify-content-between"},qxt={class:"my-auto fw-light"},Hxt={class:"fw-bold text-success mx-2 my-auto"},zxt={class:"d-flex justify-content-between"},Wxt={class:"my-auto fw-light"},Kxt={class:"fw-bold mx-2 my-auto"},Gxt={class:"d-flex justify-content-between"},Qxt={class:"my-auto fw-light"},Zxt={class:"fw-bold mx-2 my-auto"},Jxt={class:"table-responsive"},Xxt={class:"table"},eCt={class:"bg-label-primary"},tCt={class:"px-2"},oCt={class:"d-flex justify-content-end"},aCt={class:"mx-2 my-auto"},nCt={class:"text-success my-auto"},sCt={key:0,class:"px-2"},lCt={class:"mx-2 my-auto"},iCt={class:"text-success my-auto"},rCt={key:1,class:"px-2"},dCt={class:"d-flex justify-content-end"},cCt={class:"mx-2 my-auto"},uCt={class:"bg-label-secondary px-2"},_Ct={class:"d-flex justify-content-end"},mCt={class:"mx-2 my-auto py-1"},fCt={class:"text-success my-auto py-1"},hCt=["id"],pCt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},vCt={class:"modal-content"},gCt={class:"modal-header"},bCt={class:"modal-title",id:"modalCenterTitle"},yCt={class:"d-flex"},kCt={key:0,class:"d-flex"},$Ct=["href"],wCt=["href"],DCt={class:"modal-body"},xCt={class:"d-flex justify-content-between mb-4"},CCt={class:"mb-3"},PCt={class:"d-flex justify-content-between"},ECt={class:"fw-light my-auto"},ACt={class:"fw-bold mx-2 my-auto"},ICt={class:"d-flex justify-content-between"},RCt={class:"fw-light my-auto"},SCt={class:"fw-bold mx-2 my-auto"},TCt={class:"d-flex justify-content-between"},jCt={class:"fw-light my-auto"},OCt={class:"fw-bold mx-2 my-auto"},MCt={class:"d-flex justify-content-between"},LCt={class:"fw-light my-auto"},NCt={class:"fw-bold mx-2 my-auto"},FCt={class:"d-flex justify-content-between"},YCt={class:"fw-light my-auto"},VCt={class:"fw-bold mx-2 my-auto"},BCt={key:0,class:"d-flex justify-content-between"},UCt={class:"fw-light my-auto"},qCt={class:"fw-bold mx-2 my-auto"},HCt={key:1,class:"d-flex justify-content-between"},zCt={class:"fw-light my-auto"},WCt={class:"fw-bold mx-2 my-auto"},KCt={class:"mb-3"},GCt={key:0,class:"d-flex justify-content-between"},QCt={class:"my-auto fw-light"},ZCt=["data-bs-target"],JCt={class:"d-flex justify-content-between"},XCt={class:"my-auto fw-light"},ePt={class:"fw-bold mx-2 my-auto"},tPt={class:"d-flex justify-content-between"},oPt={class:"my-auto fw-light"},aPt={class:"fw-bold mx-2 my-auto"},nPt={class:"d-flex justify-content-between"},sPt={class:"my-auto fw-light"},lPt={class:"fw-bold mx-2 my-auto"},iPt={class:"d-flex justify-content-between"},rPt={class:"my-auto fw-light"},dPt={class:"fw-bold mx-2 my-auto"},cPt={class:"d-flex justify-content-between"},uPt={class:"my-auto fw-light"},_Pt={class:"fw-bold text-success mx-2 my-auto"},mPt={class:"d-flex justify-content-between"},fPt={class:"my-auto fw-light"},hPt={class:"fw-bold mx-2 my-auto"},pPt={class:"d-flex justify-content-between"},vPt={class:"my-auto fw-light"},gPt={class:"fw-bold mx-2 my-auto"},bPt={class:"table-responsive"},yPt={class:"table"},kPt={class:"bg-label-primary"},$Pt={class:"px-2"},wPt={class:"d-flex justify-content-end"},DPt={class:"mx-2 my-auto"},xPt={class:"text-success my-auto"},CPt={key:0,class:"px-2"},PPt={class:"mx-2 my-auto"},EPt={class:"text-success my-auto"},APt={key:1,class:"px-2"},IPt={class:"d-flex justify-content-end"},RPt={class:"mx-2 my-auto"},SPt={key:2,class:"px-2"},TPt={class:"mx-2 my-auto py-1"},jPt={key:0,class:"text-success my-auto py-1"},OPt={key:1,class:"text-success my-auto py-1"},MPt={key:3,class:"px-2"},LPt={class:"d-flex justify-content-end"},NPt={class:"mx-2 my-auto py-1"},FPt={class:"d-flex justify-content-end"},YPt={class:"mx-2 my-auto py-1"},VPt={class:"d-flex justify-content-end"},BPt={class:"mx-2 my-auto py-1"},UPt={class:"bg-label-secondary px-2"},qPt={class:"d-flex justify-content-end"},HPt={class:"mx-2 my-auto py-1"},zPt={class:"text-success my-auto py-1"},WPt={key:0,class:"text-nowrap"},KPt={class:"text-success"},GPt={class:"text-success"},QPt={class:"text-success"},ZPt={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},JPt={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},XPt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},e4t={class:"modal-content"},t4t={class:"modal-header"},o4t={class:"modal-title",id:"modalCenterTitle"},a4t={class:"modal-body"},n4t={class:"d-flex justify-content-between"},s4t={key:0},l4t={key:1,src:At,style:{width:"1.3rem"}},i4t={class:"d-flex justify-content-between my-1"},r4t={key:0},d4t={key:1,src:At,style:{width:"1.3rem"}},c4t={for:"Request Date",class:"form-label"},u4t={class:"modal-footer"},_4t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},m4t={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},f4t={class:"modal-dialog modal-lg",role:"document"},h4t={class:"modal-content"},p4t={class:"modal-header"},v4t={class:"modal-title",id:"modalCenterTitle"},g4t={class:"modal-body"},b4t={key:0},y4t={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},k4t=["innerHTML"],$4t={key:2,href:"../cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},w4t={class:"modal-footer d-flex justify-content-between"},D4t={class:"mt-4"},x4t=["href"],C4t={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},P4t=["disabled"],E4t={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},A4t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},I4t={class:"modal-content"},R4t={class:"modal-header"},S4t={class:"modal-title",id:"modalCenterTitle"},T4t={class:"modal-body"},j4t={class:"fw-bold"},O4t={class:"modal-footer"},M4t={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function L4t(o,a,s,t,c,m){const _=ce("pagination"),l=ce("flat-pickr");return u(),f("div",zwt,[t.is_dashboard?b("",!0):(u(),f("div",Wwt,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)])),e("div",Kwt,[t.is_dashboard?b("",!0):(u(),f("div",Gwt,[e("div",Qwt,[e("div",Zwt,[e("label",Jwt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Xwt,[e("label",e5t,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=r=>t.invoice_number_search=r),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",t5t,[e("label",o5t,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[17]||(a[17]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",a5t,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",n5t,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",s5t,[Y(e("select",{class:"form-select mx-md-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r)},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])),!t.is_dashboard&&t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",l5t,[e("table",i5t,[e("thead",null,[e("tr",r5t,[!t.is_dashboard&&t.can_request?(u(),f("th",d5t,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=r=>t.selectAll())},null,32)])):b("",!0),!t.is_dashboard&&t.can_request?(u(),f("th",c5t,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=r=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",u5t,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",_5t,[t.invoices.data?b("",!0):(u(),f("tr",m5t,[e("td",f5t,[e("span",h5t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",p5t,[e("td",v5t,[e("span",g5t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,r=>(u(),f("tr",{key:r.id},[t.is_dashboard?b("",!0):(u(),f("td",b5t,[t.can_request&&r.payment_requests<=0?(u(),f("div",y5t,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+r.id,onChange:i=>t.updateSelected(r)},null,40,k5t)])):b("",!0)])),!t.is_dashboard&&t.can_request?(u(),f("td",$5t)):b("",!0),e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,w5t),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,D5t))]),e("td",x5t,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",C5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1)]),e("td",P5t,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",E5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",A5t,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",I5t,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,R5t)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,S5t),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,T5t),a[33]||(a[33]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",j5t,[e("div",O5t,[e("div",M5t,[e("div",L5t,[e("div",N5t,[e("span",null,n(o.$t("Loading"))+"...",1),a[21]||(a[21]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",Y5t,[e("div",V5t,[e("div",B5t,[e("h5",U5t,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",q5t,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",H5t,[e("div",z5t,[e("div",W5t,[e("label",K5t,n(o.$t("Invoice Amount")),1),e("h6",G5t,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_details.total)),1)])]),e("div",Q5t,[e("label",Z5t,n(o.$t("PI Amount"))+"(A)",1),e("h6",J5t,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)])]),e("div",X5t,[e("label",eDt,n(o.$t("Eligible Amount")),1),e("h6",tDt,[le(n(t.invoice_details.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])])]),e("div",oDt,[e("div",aDt,[e("label",nDt,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",sDt,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",lDt,[e("label",iDt,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",rDt,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",dDt,[e("label",cDt,n(o.$t("Eligible For Finance")),1),e("h6",uDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",_Dt,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",mDt,[t.invoice_details.program.discount_details.length>0&&t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",fDt,[e("div",hDt,[e("label",pDt,n(o.$t("Early Payment Date")),1),e("h6",vDt,n(t.payment_date),1)]),e("div",gDt,[e("label",bDt,n(o.$t("Days to Payment")),1),e("h6",yDt,n(t.invoice_days_to_payment),1)]),e("div",kDt,[e("label",$Dt,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",wDt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,DDt),e("h6",xDt,n(i[1]),1)]))),128)),e("div",CDt,[e("label",PDt,[le(n(o.$t("Total Fees"))+" ",1),a[23]||(a[23]=e("strong",null,"(C)",-1))]),e("h6",EDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",ADt,[e("label",IDt,[le(n(o.$t("Tax On Fees "))+" ",1),a[24]||(a[24]=e("strong",null,"(D)",-1))]),e("h6",RDt,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",SDt,[e("label",TDt,[le(n(o.$t("Discount Amount"))+" ",1),a[25]||(a[25]=e("strong",null,"(E)",-1))]),e("h6",jDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",ODt,[e("label",MDt,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",LDt,n(t.tax_on_discount)+"%",1),a[26]||(a[26]=e("strong",null,"(F)",-1))]),e("h6",NDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])])):(u(),f("div",FDt,[e("div",YDt,[e("label",VDt,n(o.$t("Early Payment Date")),1),e("h6",BDt,n(t.payment_date),1)]),e("div",UDt,[e("label",qDt,n(o.$t("Days to Payment")),1),e("h6",HDt,n(t.invoice_days_to_payment),1)]),e("div",zDt,[e("label",WDt,n(o.$t("Discount Charge"))+"(%)",1),t.invoice_details?(u(),f("h6",KDt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,GDt),e("h6",QDt,n(i[1]),1)]))),128)),e("div",ZDt,[e("label",JDt,[le(n(o.$t("Total Fees"))+" ",1),a[27]||(a[27]=e("strong",null,"(C)",-1))]),e("h6",XDt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",e3t,[e("label",t3t,[le(n(o.$t("Tax On Fees "))+" ",1),a[28]||(a[28]=e("strong",null,"(D)",-1))]),e("h6",o3t,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])])),e("div",a3t,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",n3t,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",s3t,[e("div",l3t,[e("div",i3t,[e("label",r3t,n(o.$t("Early Payment Date")),1),e("h6",d3t,n(t.payment_date),1)]),e("div",c3t,[e("label",u3t,n(o.$t("Eligible Amount")),1),e("h6",_3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",m3t,[e("label",f3t,[le(n(o.$t("Request Amount"))+" ",1),a[29]||(a[29]=e("strong",null,"(B)",-1))]),e("h6",h3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),t.invoice_details.program.discount_details[0].discount_type=="Front Ended"?(u(),f("div",p3t,[e("label",v3t,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[30]||(a[30]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",g3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])):(u(),f("div",b3t,[e("label",y3t,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[31]||(a[31]=e("strong",null,"(B-C-D)",-1))]),e("h6",k3t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)])),e("div",$3t,[e("label",w3t,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[10]||(a[10]=i=>t.credit_to=i),onChange:a[11]||(a[11]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",D3t,n(o.$t("Select Payment Account")),1),(u(!0),f(G,null,ee(t.invoice_details.vendor_bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,x3t))),128))],34)),[[de,t.credit_to]]):b("",!0)])])])]),e("div",C3t,[e("button",P3t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:a[12]||(a[12]=i=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,E3t)])])])],8,F5t)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",I3t,[e("div",R3t,[e("div",S3t,[e("h5",T3t,n(o.$t("Request Finance")),1),a[32]||(a[32]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",j3t,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",O3t,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",M3t,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,L3t)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",N3t,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",F3t,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",Y3t,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,V3t)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"../cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,B3t)):b("",!0)]),e("div",U3t,[e("small",q3t,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,H3t)]),e("div",null,[e("button",z3t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[13]||(a[13]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,W3t)])])])])],8,A3t)])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",G3t,[e("div",Q3t,[e("div",Z3t,[e("h5",J3t,n(o.$t("Invoice Details")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",X3t,[t.invoice_details.media.length>0?(u(),f("div",ext,[(u(!0),f(G,null,ee(t.invoice_details.media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[34]||(a[34]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,txt))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[35]||(a[35]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,oxt)])]),e("div",axt,[e("div",nxt,[e("div",sxt,[e("span",lxt,[e("h5",ixt,n(o.$t("Anchor"))+":",1),e("h6",rxt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",dxt,[e("h5",cxt,n(o.$t("Delivery Address"))+":",1),e("h6",uxt,n(t.invoice_details.delivery_address),1)]),e("span",_xt,[e("h5",mxt,n(o.$t("Debit From"))+":",1),e("h6",fxt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",hxt,[e("h5",pxt,n(o.$t("Vendor"))+":",1),e("h6",vxt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",gxt,[e("h5",bxt,n(o.$t("Remarks"))+":",1),e("h6",yxt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",kxt,[e("h5",$xt,n(o.$t("Credit To"))+":",1),e("h6",wxt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Dxt,[e("h5",xxt,n(o.$t("Rejection Reason"))+":",1),e("h6",Cxt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Pxt,[t.invoice_details.pi_number?(u(),f("span",Ext,[e("h5",Axt,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Ixt)])):b("",!0),e("span",Rxt,[e("h5",Sxt,n(o.$t("Invoice No."))+":",1),e("h6",Txt,n(t.invoice_details.invoice_number),1)]),e("span",jxt,[e("h5",Oxt,n(o.$t("PO No."))+":",1),e("h6",Mxt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Lxt,[e("h5",Nxt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Fxt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Yxt,[e("h5",Vxt,n(o.$t("Invoice Date."))+":",1),e("h6",Bxt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Uxt,[e("h5",qxt,n(o.$t("Amount"))+":",1),e("h6",Hxt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",zxt,[e("h5",Wxt,n(o.$t("Status."))+":",1),e("h6",Kxt,n(t.invoice_details.approval_stage),1)]),e("span",Gxt,[e("h5",Qxt,n(o.$t("Due Date"))+":",1),e("h6",Zxt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Jxt,[e("table",Xxt,[e("thead",eCt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",tCt,[e("span",oCt,[e("h6",aCt,n(o.$t("Discount"))+":",1),e("h5",nCt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",sCt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",lCt,n(i.name),1),e("h5",iCt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",rCt,[e("span",dCt,[e("h6",cCt,n(o.$t("Tax")),1),a[37]||(a[37]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",uCt,[e("span",_Ct,[e("h6",mCt,n(o.$t("Total")),1),e("h5",fCt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,K3t)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",pCt,[e("div",vCt,[e("div",gCt,[e("h5",bCt,n(o.$t("Invoice Details")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",yCt,[t.invoice_details.media.length>0?(u(),f("div",kCt,[(u(!0),f(G,null,ee(t.invoice_details.media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[38]||(a[38]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,$Ct))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[39]||(a[39]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,wCt)])]),e("div",DCt,[e("div",xCt,[e("div",CCt,[e("span",PCt,[e("h5",ECt,n(o.$t("Anchor"))+":",1),e("h6",ACt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",ICt,[e("h5",RCt,n(o.$t("Delivery Address"))+":",1),e("h6",SCt,n(t.invoice_details.delivery_address),1)]),e("span",TCt,[e("h5",jCt,n(o.$t("Debit From"))+":",1),e("h6",OCt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",MCt,[e("h5",LCt,n(o.$t("Vendor"))+":",1),e("h6",NCt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",FCt,[e("h5",YCt,n(o.$t("Remarks"))+":",1),e("h6",VCt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",BCt,[e("h5",UCt,n(o.$t("Credit To"))+":",1),e("h6",qCt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",HCt,[e("h5",zCt,n(o.$t("Rejection Reason"))+":",1),e("h6",WCt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",KCt,[t.invoice_details.pi_number?(u(),f("span",GCt,[e("h5",QCt,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,ZCt)])):b("",!0),e("span",JCt,[e("h5",XCt,n(o.$t("PI No."))+":",1),e("h6",ePt,n(t.invoice_details.pi_number),1)]),e("span",tPt,[e("h5",oPt,n(o.$t("PO No."))+":",1),e("h6",aPt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",nPt,[e("h5",sPt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",lPt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",iPt,[e("h5",rPt,n(o.$t("Invoice Date."))+":",1),e("h6",dPt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",cPt,[e("h5",uPt,n(o.$t("Amount"))+":",1),e("h6",_Pt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",mPt,[e("h5",fPt,n(o.$t("Status."))+":",1),e("h6",hPt,n(t.invoice_details.approval_stage),1)]),e("span",pPt,[e("h5",vPt,n(o.$t("Due Date"))+":",1),e("h6",gPt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",bPt,[e("table",yPt,[e("thead",kPt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",$Pt,[e("span",wPt,[e("h6",DPt,n(o.$t("Discount"))+":",1),e("h5",xPt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",CPt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",PPt,n(i.name),1),e("h5",EPt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",APt,[e("span",IPt,[e("h6",RPt,n(o.$t("Tax")),1),a[41]||(a[41]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",SPt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",TPt,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",jPt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",OPt,n(i.amount),1))]))),128))])):(u(),f("div",MPt,[e("span",LPt,[e("h6",NPt,n(o.$t("WHT Tax"))+":",1),a[42]||(a[42]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",FPt,[e("h6",YPt,n(o.$t("WHT VAT"))+":",1),a[43]||(a[43]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",VPt,[e("h6",BPt,n(o.$t("Credit Note Amount"))+":",1),a[44]||(a[44]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",UPt,[e("span",qPt,[e("h6",HPt,n(o.$t("Total")),1),e("h5",zPt,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,hCt)):b("",!0)]))),128))]),t.is_dashboard?b("",!0):(u(),f("tfoot",WPt,[e("tr",null,[a[45]||(a[45]=e("td",null,null,-1)),a[46]||(a[46]=e("td",null,null,-1)),a[47]||(a[47]=e("td",null,null,-1)),a[48]||(a[48]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",KPt,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),a[49]||(a[49]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",GPt,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",QPt,n(new Intl.NumberFormat().format(t.total_actual_remittance.toFixed(2))),1)]),a[50]||(a[50]=e("td",null,null,-1)),a[51]||(a[51]=e("td",null,null,-1))])]))])]),e("button",ZPt,null,512),e("div",JPt,[e("div",XPt,[e("div",e4t,[e("div",t4t,[e("h5",o4t,n(o.$t("Request Finance")),1),a[52]||(a[52]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",a4t,[e("div",n4t,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",l4t)):(u(),f("span",s4t,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",i4t,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",d4t)):(u(),f("span",r4t,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",c4t,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[14]||(a[14]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",u4t,[e("button",_4t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[15]||(a[15]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",m4t,[e("div",f4t,[e("div",h4t,[e("div",p4t,[e("h5",v4t,n(o.$t("Request Finance")),1),a[53]||(a[53]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",g4t,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",b4t,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",y4t,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,k4t)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",$4t,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",w4t,[e("small",D4t,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,x4t)]),e("div",null,[e("button",C4t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[16]||(a[16]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,P4t)])])])])]),a[55]||(a[55]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",E4t,[e("div",A4t,[e("div",I4t,[e("div",R4t,[e("h5",S4t,n(o.$t("Request for Finance successful")),1)]),e("div",T4t,[a[54]||(a[54]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",j4t,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",O4t,[e("button",M4t,n(o.$t("Close")),1)])])])]),!t.is_dashboard&&t.invoices.meta?(u(),me(_,{key:2,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const N4t=Ue(Hwt,[["render",L4t]]),F4t={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request"],setup(o){const a=o.can_request,s=lt(),t=h([]),c=Je("baseURL"),m=h(null),_=h(0),l=h(0),r=h(""),i=h(""),d=h(""),p=h(H().format("DD MMM YYYY")),v=h(H().format("DD MMM YYYY")),g=h(new Date().toLocaleDateString("en-CA")),w=h(new Date().toLocaleDateString("en-CA")),y=h(1),x=h(0),C=h(1),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0),U=h(0),W=h(0),oe=h(0);h([]),h(0);const J=h(0),K=h(0);h(0);const z=h(""),ae=h(!1),we=h(!1),Fe=h(0),he=h(0),re=h(0),$e=h(0),De=h(!1),ie=h([]),pe=h(!1),be=h(""),Me=h(""),ue=h(""),je=h(""),ze=h(""),Ye=h(0),ge=h(0),_e=h(0),Se=h(0),Ve=h({inline:!0}),ke=h({inline:!0}),te=h([]),Ce=h(0),Ne=h(0),Ie=h(""),se=h(""),fe=h(""),Le=h(""),Ze=h(""),at=h([]),mt=h([]),wt=h(10),Ot=h(!1),Jt=h([]),ut=h([]),gt=h(null),Vt=h(null),pt=h(new Date),Et=h(0);ot([wt],async([Oe])=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:Oe}}).then(ye=>{Fe.value=0,he.value=0,re.value=0,$e.value=0,t.value=ye.data.invoices,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,re.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount})})});const Dt=async()=>{Ze.value=$("#date_search").val(),Ze.value&&(se.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),fe.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let Oe=$(".ti-search").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+"cash-planner/invoices/eligible/data",{params:{anchor:Le.value,invoice_number:Ie.value,from_date:se.value,to_date:fe.value,per_page:wt.value}}).then(ye=>{t.value=ye.data.invoices,Fe.value=0,he.value=0,re.value=0,$e.value=0,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,re.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-search"></i>')})},Ft=async()=>{let Oe=$(".ti-refresh").parent();Oe.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ie.value="",se.value="",fe.value="",Ze.value="",$("#date_search").val(""),await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:wt.value}}).then(ye=>{t.value=ye.data.invoices,Fe.value=0,he.value=0,re.value=0,$e.value=0,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,re.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount}),Oe.html('<i class="ti ti-refresh"></i>')})},Kt=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+Oe+"/details").then(He=>{m.value=He.data,Et.value++,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},ro=async(Oe,ye)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+Oe+"/details").then(He=>{te.value=[],Ce.value=0,Ne.value=0,m.value=He.data,oe.value=m.value.due_date,D.value=0,m.value.invoice_items.forEach(tt=>{D.value+=tt.quantity*tt.price_per_quantity}),k.value=0,m.value.invoice_taxes.forEach(tt=>{k.value+=tt.value}),I.value=0,m.value.invoice_fees.forEach(tt=>{I.value+=tt.amount}),V.value=0,m.value.invoice_discounts.forEach(tt=>{tt.type=="percentage"?l.value+=tt.value/100*(D.value+k.value):l.value+=tt.value}),D.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_discount,B.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,R.value=H(m.value.due_date).diff(H(),"days")+1,L.value=m.value.vendor_configurations.eligibility,F.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,T.value=L.value/100*(m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount),O.value=m.value.vendor_discount_details.total_roi,P.value=L.value/100*F.value*(O.value/100)*((H(m.value.due_date).diff(H(),"days")+1)/365),P.value=m.value.vendor_discount_details.vendor_discount_bearing/O.value*P.value;let Nt=0,it=0;m.value.vendor_fee_details.forEach((tt,ve)=>{tt.type=="percentage"&&(Nt+=tt.vendor_bearing_discount/100*(tt.value/100*F.value),tt.vendor_bearing_discount>0&&te.value.push([tt.fee_name,tt.value+"%"]),tt.taxes&&(it+=tt.taxes/100*(tt.value/100*F.value))),tt.type=="amount"&&(Nt+=tt.vendor_bearing_discount/100*tt.value,tt.vendor_bearing_discount>0&&te.value.push([tt.fee_name,m.value.currency+" "+tt.value]),tt.taxes&&(it+=tt.taxes/100*(tt.vendor_bearing_discount/100*tt.value))),tt.type=="per amount"&&(Nt+=tt.vendor_bearing_discount/100*(Math.round(F.value/tt.per_amount)*tt.value),tt.vendor_bearing_discount>0&&te.value.push([tt.fee_name,tt.value+" P.A "+m.value.currency+" "+tt.per_amount]),tt.taxes&&(it+=tt.taxes/100*(Math.round(F.value/tt.per_amount)*tt.value)))}),Ce.value+=Nt,Ne.value+=it,Ye.value=m.value.program.discount_details[0].tax_on_discount,ge.value=Ye.value/100*P.value,S.value=F.value-Ce.value-Ne.value-P.value-ge.value,U.value=m.value.min_financing_days,W.value=m.value.max_financing_days,r.value=H(m.value.due_date).subtract(W.value,"days").format("DD MMM YYYY"),H(r.value)<H()&&(r.value=H().format("DD MMM YYYY")),i.value=H(m.value.due_date).subtract(U.value,"days").format("DD MMM YYYY");let _t=[function(tt){return mt.value.includes(tt.getDay())}];gt.value=new Date(i.value),mt.value.forEach(tt=>{ut.value.push(tt)}),at.value.forEach(tt=>{_t.push('"'+tt+'"'),Jt.value.push(new Date(tt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:r.value,maxDate:i.value,disable:_t},g.value=H().format("DD MMM YYYY"),m.value.vendor_bank_details.forEach(tt=>{tt.account_number==m.value.credit_to?(z.value=tt.id,De.value=!0):(z.value="",De.value=!1)}),we.value=!0,bt(()=>{document.getElementById(ye).click()})}).catch(He=>{console.log(He)})},Pe=(Oe,ye,He)=>{ye!=""&&(Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ge.value=0,Ot.value=!0,A.post(c+"invoices/remittance/amount",{invoices:ie.value,date:w.value}).then(Nt=>{_e.value=Nt.data.total_amount,Se.value=Nt.data.total_remittance_amount,Ot.value=!1}),v.value=H(ye).format("DD MMM YYYY"),w.value=H(ye).format("DD MMM YYYY"))},Te=()=>{if(ie.value.length<=0)return s.error("Select Payment Instructions"),!1;w.value=new Date().toLocaleDateString("en-CA");let Oe=[function(ye){return mt.value.includes(ye.getDay())}];Vt.value=new Date(d.value),mt.value.forEach(ye=>{ut.value.push(ye)}),at.value.forEach(ye=>{Oe.push('"'+ye+'"'),Jt.value.push(new Date(ye))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:Oe},Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ge.value=0,A.post(c+"invoices/remittance/amount",{invoices:ie.value,date:w.value}).then(ye=>{_e.value=ye.data.total_amount,Se.value=ye.data.total_remittance_amount,Ot.value=!1}),pe.value.click()},Ge=Oe=>{let ye="";switch(Oe){case"created":ye="bg-label-primary";break;case"paid":ye="bg-label-success";break;case"failed":ye="bg-label-danger";break;default:ye="bg-label-primary";break}return ye},nt=async()=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:wt.value}}).then(Oe=>{Me.value=Oe.data.terms_and_conditions,ue.value=Oe.data.noa,ze.value=Oe.data.terms_text,je.value=Oe.data.noa_text,t.value=Oe.data.invoices,Fe.value=0,he.value=0,re.value=0,$e.value=0,t.value.data.forEach(ye=>{Fe.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_discount,he.value+=ye.total+ye.total_invoice_taxes-ye.total_invoice_fees-ye.total_invoice_discount,re.value+=ye.eligible_for_finance,$e.value+=ye.actual_remittance_amount}),d.value=H(Oe.data.highest_due_date).subtract(Oe.data.min_financing_days,"days").format("DD MMM YYYY"),Oe.data.holidays.forEach(ye=>{at.value.push(ye.date_formatted)}),Oe.data.off_days.forEach(ye=>{mt.value.push(ye)})}).catch(Oe=>{console.log(Oe)})},yt=(Oe,ye,He)=>{D.value=m.value.total,k.value=m.value.total_invoice_taxes,I.value=m.value.total_invoice_fees;let Nt=m.value.total_invoice_discount;D.value=D.value+k.value-Nt;let it=D.value-I.value;F.value=L.value/100*it,N.value=y.value/100*F.value,R.value=H(m.value.due_date).diff(H(ye),"days"),P.value=L.value/100*it*(O.value/100)*(H(m.value.due_date).diff(H(ye),"days")/365),P.value=m.value.vendor_discount_details.vendor_discount_bearing/O.value*P.value,ge.value=Ye.value/100*P.value,S.value=F.value-Ce.value-Ne.value-P.value-ge.value,p.value=H(ye).format("DD MMM YYYY")},xt=async()=>{if(z.value==""){s.error("Select Payment Account"),ae.value=!0;return}De.value=!1,await A.post(c+"cash-planner/invoices/request/send",{invoice_id:m.value.id,payment_request_date:p.value,credit_to:z.value}).then(Oe=>{s.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(Oe=>{console.log(Oe),De.value=!0,Oe.response.data&&Oe.response.data.message?s.error(Oe.response.data.message):s.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{De.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const Oe=new FormData;ie.value.forEach(ye=>{Oe.append("invoices[]",ye.id)}),Oe.append("payment_request_date",v.value),await A.post(c+"cash-planner/invoices/request/multiple/send",Oe).then(ye=>{s.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),ie.value=[],_e.value=0,Se.value=0,nt()}).catch(ye=>{console.log(ye),De.value=!0,ye.response.data&&ye.response.data.message?s.error(ye.response.data.message):s.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(Oe,ye)=>(ye/Oe*100).toFixed(2);return Qe(()=>{nt()}),{can_request:a,config:Ve,config2:ke,moment:H,max_date:i,min_date:r,eligibility_amount:_,pi_amount:J,discount_amount:l,days_to_payment:C,total_remittance:E,processing_fee_amount:x,invoices:t,payment_date:p,request_payment_date:g,bulk_request_payment_date:w,credit_to:z,taxes_amount:K,payment_account:ae,vendor_fee_details:te,total_fees:Ce,total_tax_on_fees:Ne,tax_on_discount:Ye,tax_on_discount_amount:ge,invoice_total_amount:D,invoice_taxes_amount:k,invoice_fees_amount:I,invoice_eligibility_percentage:L,invoice_eligibility_amount:F,invoice_eligibility_for_finance:T,invoice_discount_amount:P,invoice_days_to_payment:R,invoice_business_spread:O,invoice_processing_fee:N,invoice_min_financing_days:U,invoice_due_date:oe,invoice_total_remmitance:S,bulk_invoice_remittance:Se,resolvePaymentRequestStatus:Ge,total_invoice_amount:Fe,total_pi_amount:he,total_eligible_amount:re,total_actual_remittance:$e,can_submit:De,selected_invoices:ie,show_multiple_request_modal:pe,show_terms_button:be,terms_and_conditions_link:Me,noa_text:je,noa_link:ue,terms_text:ze,selected_invoices_total_amount:_e,updateBulkDiscount:Pe,bulk_data_loading:Ot,anchor_search:Le,invoice_number_search:Ie,from_date_search:se,to_date_search:fe,date_search:Ze,per_page:wt,formatNoa:Oe=>{let ye=je.value.body;ye=ye.replace("{date}",H(Oe.invoice_date).format("Do MMM YYYY")),ye=ye.replace("{buyerName}",Oe.program.anchor.name),ye=ye.replace("{anchorName}",Oe.program.anchor.name),ye=ye.replace("{company}",Oe.company.name),ye=ye.replace("{anchorCompanyUniqueID}",Oe.program.anchor.unique_identification_number),ye=ye.replace("{time}",H().format("Do MMM YYYY")),ye=ye.replace("{agreementDate}",H().format("Do MMM YYYY")),ye=ye.replace("{contract},",""),ye=ye.replace("{anchorAccountName},",""),ye=ye.replace("{anchorAccountNumber},",""),ye=ye.replace("{anchorCustomerId},",""),ye=ye.replace("{anchorBranch},",""),ye=ye.replace("{anchorIFSCCode},",""),ye=ye.replace("{anchorAddress},",""),ye=ye.replace("{penalnterestRate},",""),ye=ye.replace("{sellerName}",Oe.company.name),je.value.body=ye},prime_disabled_dates:Jt,prime_disabled_days:ut,prime_max_date:gt,prime_min_date:pt,prime_bulk_max_date:Vt,changePage:async Oe=>{await A.get(Oe,{params:{anchor:Le.value,invoice_number:Ie.value,from_date:se.value,to_date:fe.value,per_page:wt.value}}).then(ye=>{Fe.value=0,he.value=0,re.value=0,$e.value=0,t.value=ye.data.invoices,t.value.data.forEach(He=>{Fe.value+=He.total+He.total_invoice_taxes-He.total_invoice_discount,he.value+=He.total+He.total_invoice_taxes-He.total_invoice_fees-He.total_invoice_discount,re.value+=He.eligible_for_finance,$e.value+=He.actual_remittance_amount,ie.value.filter(it=>it.id==He.id).length>0&&bt(()=>{document.getElementById("invoice-"+He.id).checked=!0})})})},updateDiscount:yt,showModal:ro,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:xt,invoice_details:m,viewRequestDetails:we,getTaxPercentage:Tt,updateSelected:Oe=>{let ye=ie.value.findIndex(He=>He.id==Oe.id);if(ye==-1?ie.value.push(Oe):ie.value.splice(ye,1),ie.value.length==t.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,ie.value.length>0){let He=ie.value[0].due_date,Nt=ie.value[0].min_financing_days;ie.value.forEach(it=>{H(it.due_date).isBefore(He)&&(He=H(it.due_date)),it.min_financing_days<Nt&&(Nt=it.min_financing_days)}),i.value=H(He).subtract(Nt,"days").format("DD MMM YYYY"),Vt.value=new Date(i.value),Ve.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:[function(it){return it.getDay()===0||it.getDay()===6}]}}},selectAll:()=>{document.getElementById("select-all").checked?t.value.data.forEach(Oe=>{document.getElementById("invoice-"+Oe.id).checked=!0,ie.value.push(Oe)}):t.value.data.forEach(Oe=>{if(document.getElementById("invoice-"+Oe.id).checked==!0){document.getElementById("invoice-"+Oe.id).checked=!1;let ye;if(!ie.value.filter(function(Nt,it){ye=it,Nt.id==Oe.id}))return!1;ie.value.splice(ye,1)}})},acceptTerms:()=>{De.value=!De.value},filter:Dt,refresh:Ft,showInvoice:Kt,uploading_file_key:Et}}},Y4t={class:"card"},V4t={class:"card-header d-flex justify-content-between"},B4t={href:"cash/planner",class:""},U4t={class:"card-body"},q4t={class:"table-responsive"},H4t={class:"table invoices-table"},z4t={class:""},W4t={key:0},K4t={class:"invoices-table-content"},G4t={key:0},Q4t={colspan:"12",class:"text-center"},Z4t={class:"text-center"},J4t={key:1},X4t={colspan:"12",class:"text-center"},eEt={class:"text-center"},tEt=["onClick"],oEt=["title"],aEt={class:""},nEt={class:"text-success text-nowrap"},sEt={class:""},lEt={class:"text-success text-nowrap"},iEt={class:"text-success text-nowrap"},rEt={key:0,class:"text-success"},dEt=["onClick"],cEt=["id","data-bs-target"],uEt=["id","data-bs-target"],_Et={class:"modal fade",id:"dashboard-loading-modal",tabindex:"-1","aria-hidden":"true"},mEt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},fEt={class:"modal-content"},hEt={class:"modal-body"},pEt={class:"d-flex justify-content-center"},vEt=["id"],gEt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},bEt={class:"modal-content"},yEt={class:"modal-header"},kEt={class:"modal-title",id:"modalCenterTitle"},$Et={class:"modal-body"},wEt={class:"row"},DEt={class:"col-6"},xEt={class:"border-bottom d-flex justify-content-between"},CEt={for:"nameWithTitle",class:"form-label"},PEt={class:"text-success"},EEt={class:"border-bottom d-flex justify-content-between"},AEt={for:"nameWithTitle",class:"form-label"},IEt={class:"text-success"},REt={class:"border-bottom d-flex justify-content-between"},SEt={for:"nameWithTitle",class:"form-label"},TEt={class:"text-success"},jEt={class:"col-6"},OEt={class:"border-bottom d-flex justify-content-between"},MEt={for:"nameWithTitle",class:"form-label"},LEt={key:0,class:""},NEt={class:"border-bottom d-flex justify-content-between"},FEt={for:"nameWithTitle",class:"form-label"},YEt={key:0,class:""},VEt={class:"border-bottom d-flex justify-content-between"},BEt={for:"nameWithTitle",class:"form-label"},UEt={class:"text-success"},qEt={class:"mt-1"},HEt={class:"row"},zEt={class:"col-6"},WEt={class:"border-bottom d-flex justify-content-between"},KEt={for:"nameWithTitle",class:"form-label"},GEt={class:""},QEt={class:"border-bottom d-flex justify-content-between"},ZEt={for:"nameWithTitle",class:"form-label"},JEt={class:""},XEt={class:"border-bottom d-flex justify-content-between"},eAt={for:"nameWithTitle",class:"form-label"},tAt={key:0,class:""},oAt=["for"],aAt={class:"text-success"},nAt={class:"border-bottom d-flex justify-content-between"},sAt={for:"nameWithTitle",class:"form-label"},lAt={class:"text-success"},iAt={class:"border-bottom d-flex justify-content-between"},rAt={for:"nameWithTitle",class:"form-label"},dAt={class:"text-success"},cAt={class:"border-bottom d-flex justify-content-between"},uAt={for:"nameWithTitle",class:"form-label"},_At={class:"text-success"},mAt={class:"border-bottom d-flex justify-content-between"},fAt={for:"nameWithTitle",class:"form-label"},hAt={class:"text-success"},pAt={class:"text-success"},vAt={class:"col-6"},gAt={class:"mt-1"},bAt={class:"row"},yAt={class:"col-12"},kAt={class:"border-bottom d-flex justify-content-between"},$At={for:"nameWithTitle",class:"form-label"},wAt={class:"",id:"payment_date"},DAt={class:"border-bottom d-flex justify-content-between"},xAt={for:"nameWithTitle",class:"form-label"},CAt={class:"text-success"},PAt={class:"border-bottom d-flex justify-content-between"},EAt={for:"nameWithTitle",class:"form-label"},AAt={class:"text-success"},IAt={class:"border-bottom d-flex justify-content-between"},RAt={for:"nameWithTitle",class:"form-label"},SAt={class:"text-success"},TAt={class:"border-bottom d-flex justify-content-between"},jAt={for:"nameWithTitle",class:"form-label"},OAt={value:""},MAt=["value"],LAt={class:"modal-footer"},NAt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},FAt=["disabled","data-bs-target","onClick"],YAt=["id"],VAt={class:"modal-dialog modal-lg",role:"document"},BAt={class:"modal-content"},UAt={class:"modal-header"},qAt={class:"modal-title",id:"modalCenterTitle"},HAt={class:"modal-body"},zAt={key:0},WAt={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},KAt=["innerHTML"],GAt={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},QAt={key:3},ZAt={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},JAt=["innerHTML"],XAt=["href"],e6t={class:"modal-footer d-flex justify-content-between"},t6t={class:"mt-4"},o6t=["href"],a6t={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},n6t=["disabled"],s6t=["id"],l6t={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},i6t={class:"modal-content"},r6t={class:"modal-header"},d6t={class:"modal-title",id:"modalCenterTitle"},c6t={class:"d-flex gap-1"},u6t=["data-bs-target"],_6t=["href"],m6t={class:"modal-body"},f6t={class:"d-flex justify-content-between mb-4"},h6t={class:"mb-3"},p6t={class:"d-flex justify-content-between"},v6t={class:"fw-light my-auto"},g6t={class:"fw-bold mx-2 my-auto"},b6t={class:"d-flex justify-content-between"},y6t={class:"fw-light my-auto"},k6t={class:"fw-bold mx-2 my-auto"},$6t={class:"d-flex justify-content-between"},w6t={class:"fw-light my-auto"},D6t={class:"fw-bold mx-2 my-auto"},x6t={class:"d-flex justify-content-between"},C6t={class:"fw-light my-auto"},P6t={class:"fw-bold mx-2 my-auto"},E6t={class:"d-flex justify-content-between"},A6t={class:"fw-light my-auto"},I6t={class:"fw-bold mx-2 my-auto"},R6t={key:0,class:"d-flex justify-content-between"},S6t={class:"fw-light my-auto"},T6t={class:"fw-bold mx-2 my-auto"},j6t={key:1,class:"d-flex justify-content-between"},O6t={class:"fw-light my-auto"},M6t={class:"fw-bold mx-2 my-auto"},L6t={class:"mb-3"},N6t={key:0,class:"d-flex justify-content-between"},F6t={class:"my-auto fw-light"},Y6t=["data-bs-target"],V6t={class:"d-flex justify-content-between"},B6t={class:"my-auto fw-light"},U6t={class:"fw-bold mx-2 my-auto"},q6t={class:"d-flex justify-content-between"},H6t={class:"my-auto fw-light"},z6t={class:"fw-bold mx-2 my-auto"},W6t={class:"d-flex justify-content-between"},K6t={class:"my-auto fw-light"},G6t={class:"fw-bold mx-2 my-auto"},Q6t={class:"d-flex justify-content-between"},Z6t={class:"my-auto fw-light"},J6t={class:"fw-bold mx-2 my-auto"},X6t={class:"d-flex justify-content-between"},eIt={class:"my-auto fw-light"},tIt={class:"fw-bold text-success mx-2 my-auto"},oIt={class:"d-flex justify-content-between"},aIt={class:"my-auto fw-light"},nIt={class:"fw-bold mx-2 my-auto"},sIt={class:"d-flex justify-content-between"},lIt={class:"my-auto fw-light"},iIt={class:"fw-bold mx-2 my-auto"},rIt={class:"table-responsive"},dIt={class:"table"},cIt={class:"bg-label-primary"},uIt={class:"px-2"},_It={class:"d-flex justify-content-end"},mIt={class:"mx-2 my-auto"},fIt={class:"text-success my-auto"},hIt={key:0,class:"px-2"},pIt={class:"mx-2 my-auto"},vIt={class:"text-success my-auto"},gIt={key:1,class:"px-2"},bIt={class:"d-flex justify-content-end"},yIt={class:"mx-2 my-auto"},kIt={class:"bg-label-secondary px-2"},$It={class:"d-flex justify-content-end"},wIt={class:"mx-2 my-auto py-1"},DIt={class:"text-success my-auto py-1"},xIt=["id"],CIt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},PIt={class:"modal-content"},EIt={class:"modal-header"},AIt={class:"modal-title",id:"modalCenterTitle"},IIt={class:"d-flex gap-1"},RIt=["data-bs-target"],SIt=["href"],TIt={class:"modal-body"},jIt={class:"d-flex justify-content-between mb-4"},OIt={class:"mb-3"},MIt={class:"d-flex justify-content-between"},LIt={class:"fw-light my-auto"},NIt={class:"fw-bold mx-2 my-auto"},FIt={class:"d-flex justify-content-between"},YIt={class:"fw-light my-auto"},VIt={class:"fw-bold mx-2 my-auto"},BIt={class:"d-flex justify-content-between"},UIt={class:"fw-light my-auto"},qIt={class:"fw-bold mx-2 my-auto"},HIt={class:"d-flex justify-content-between"},zIt={class:"fw-light my-auto"},WIt={class:"fw-bold mx-2 my-auto"},KIt={class:"d-flex justify-content-between"},GIt={class:"fw-light my-auto"},QIt={class:"fw-bold mx-2 my-auto"},ZIt={key:0,class:"d-flex justify-content-between"},JIt={class:"fw-light my-auto"},XIt={class:"fw-bold mx-2 my-auto"},e8t={key:1,class:"d-flex justify-content-between"},t8t={class:"fw-light my-auto"},o8t={class:"fw-bold mx-2 my-auto"},a8t={class:"mb-3"},n8t={key:0,class:"d-flex justify-content-between"},s8t={class:"my-auto fw-light"},l8t=["data-bs-target"],i8t={class:"d-flex justify-content-between"},r8t={class:"my-auto fw-light"},d8t={class:"fw-bold mx-2 my-auto"},c8t={class:"d-flex justify-content-between"},u8t={class:"my-auto fw-light"},_8t={class:"fw-bold mx-2 my-auto"},m8t={class:"d-flex justify-content-between"},f8t={class:"my-auto fw-light"},h8t={class:"fw-bold mx-2 my-auto"},p8t={class:"d-flex justify-content-between"},v8t={class:"my-auto fw-light"},g8t={class:"fw-bold mx-2 my-auto"},b8t={class:"d-flex justify-content-between"},y8t={class:"my-auto fw-light"},k8t={class:"fw-bold text-success mx-2 my-auto"},$8t={class:"d-flex justify-content-between"},w8t={class:"my-auto fw-light"},D8t={class:"fw-bold mx-2 my-auto"},x8t={class:"d-flex justify-content-between"},C8t={class:"my-auto fw-light"},P8t={class:"fw-bold mx-2 my-auto"},E8t={class:"table-responsive"},A8t={class:"table"},I8t={class:"bg-label-primary"},R8t={class:"px-2"},S8t={class:"d-flex justify-content-end"},T8t={class:"mx-2 my-auto"},j8t={class:"text-success my-auto"},O8t={key:0,class:"px-2"},M8t={class:"mx-2 my-auto"},L8t={class:"text-success my-auto"},N8t={key:1,class:"px-2"},F8t={class:"d-flex justify-content-end"},Y8t={class:"mx-2 my-auto"},V8t={key:2,class:"px-2"},B8t={class:"mx-2 my-auto py-1"},U8t={key:0,class:"text-success my-auto py-1"},q8t={key:1,class:"text-success my-auto py-1"},H8t={key:3,class:"px-2"},z8t={class:"d-flex justify-content-end"},W8t={class:"mx-2 my-auto py-1"},K8t={class:"d-flex justify-content-end"},G8t={class:"mx-2 my-auto py-1"},Q8t={class:"d-flex justify-content-end"},Z8t={class:"mx-2 my-auto py-1"},J8t={class:"bg-label-secondary px-2"},X8t={class:"d-flex justify-content-end"},eRt={class:"mx-2 my-auto py-1"},tRt={class:"text-success my-auto py-1"},oRt={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},aRt={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},nRt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},sRt={class:"modal-content"},lRt={class:"modal-header"},iRt={class:"modal-title",id:"modalCenterTitle"},rRt={class:"modal-body"},dRt={class:"d-flex justify-content-between"},cRt={key:0},uRt={key:1,src:At,style:{width:"1.3rem"}},_Rt={class:"d-flex justify-content-between my-1"},mRt={key:0},fRt={key:1,src:At,style:{width:"1.3rem"}},hRt={for:"Request Date",class:"form-label"},pRt={class:"modal-footer"},vRt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},gRt={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},bRt={class:"modal-dialog modal-lg",role:"document"},yRt={class:"modal-content"},kRt={class:"modal-header"},$Rt={class:"modal-title",id:"modalCenterTitle"},wRt={class:"modal-body"},DRt={key:0},xRt={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},CRt=["innerHTML"],PRt={key:2,href:"cash-planner/invoices/terms/vendor_financing/download",target:"_blank"},ERt={class:"modal-footer d-flex justify-content-between"},ARt={class:"mt-4"},IRt=["href"],RRt={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},SRt=["disabled"],TRt={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},jRt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ORt={class:"modal-content"},MRt={class:"modal-header"},LRt={class:"modal-title",id:"modalCenterTitle"},NRt={class:"modal-body"},FRt={class:"fw-bold"},YRt={class:"modal-footer"},VRt={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function BRt(o,a,s,t,c,m){const _=ce("flat-pickr"),l=ce("upload-attachment");return u(),f("div",Y4t,[e("div",V4t,[e("h6",null,n(o.$t("10 Payment Instructions eligible for Financing")),1),e("a",B4t,n(o.$t("View All")),1)]),e("div",U4t,[e("div",q4t,[e("table",H4t,[e("thead",null,[e("tr",z4t,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Actual Remittance Amount")),1),t.can_request?(u(),f("th",W4t,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",K4t,[t.invoices.data?b("",!0):(u(),f("tr",G4t,[e("td",Q4t,[e("span",Z4t,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",J4t,[e("td",X4t,[e("span",eEt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"javascript:;",class:"text-decoration-underline text-primary",onClick:i=>t.showInvoice(r.id,"show-planner-pi-"+r.id)},n(r.invoice_number),9,tEt),r.can_request_today?b("",!0):(u(),f("i",{key:0,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:r.financing_request_window},null,8,oEt))]),e("td",aEt,n(t.moment(r.invoice_date).format("DD MMM YYYY")),1),e("td",nEt,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.total+r.total_invoice_taxes-r.total_invoice_discount)),1),e("td",sEt,n(t.moment(r.due_date).format("DD MMM YYYY")),1),e("td",lEt,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format((r.total+r.total_invoice_taxes-r.total_invoice_fees-r.total_invoice_discount).toFixed(2))),1)]),e("td",iEt,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.actual_remittance_amount.toFixed(2))),1)]),t.can_request?(u(),f("td",rEt,[r.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:i=>t.showModal(r.id,"show-request-financing-btn-"+r.id)},null,8,dEt)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+r.id},null,8,cEt),e("button",{class:"d-none",id:"show-request-financing-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+r.id},null,8,uEt),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#dashboard-loading-modal"},null,-1)),e("div",_Et,[e("div",mEt,[e("div",fEt,[e("div",hEt,[e("div",pEt,[e("span",null,n(o.$t("Loading"))+"...",1),a[7]||(a[7]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",gEt,[e("div",bEt,[e("div",yEt,[e("h5",kEt,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[8]||(a[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",$Et,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",wEt,[e("div",DEt,[e("div",xEt,[e("label",CEt,n(o.$t("Invoice Amount")),1),e("h6",PEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("div",EEt,[e("label",AEt,n(o.$t("PI Amount"))+"(A)",1),e("h6",IEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",REt,[e("label",SEt,n(o.$t("Eligible Amount")),1),e("h6",TEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",jEt,[e("div",OEt,[e("label",MEt,n(o.$t("Due Date")),1),t.invoice_details?(u(),f("h6",LEt,n(t.moment(t.invoice_due_date).format("DD MMM YYYY")),1)):b("",!0)]),e("div",NEt,[e("label",FEt,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",YEt,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",VEt,[e("label",BEt,n(o.$t("Eligible For Finance")),1),e("h6",UEt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",qEt,n(o.$t("Step 2"))+": "+n(o.$t("Select Early Payment Date")),1),e("div",HEt,[e("div",zEt,[e("div",WEt,[e("label",KEt,n(o.$t("Early Payment Date")),1),e("h6",GEt,n(t.payment_date),1)]),e("div",QEt,[e("label",ZEt,n(o.$t("Days to Payment")),1),e("h6",JEt,n(t.invoice_days_to_payment),1)]),e("div",XEt,[e("label",eAt,n(o.$t("Annual Discount Rate"))+"(%)",1),t.invoice_details?(u(),f("h6",tAt,n(t.invoice_business_spread)+"%",1)):b("",!0)]),(u(!0),f(G,null,ee(t.vendor_fee_details,i=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:i},[e("label",{for:i[0],class:"form-label"},n(i[0]),9,oAt),e("h6",aAt,n(i[1]),1)]))),128)),e("div",nAt,[e("label",sAt,[le(n(o.$t("Total Fees"))+" ",1),a[9]||(a[9]=e("strong",null,"(C)",-1))]),e("h6",lAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",iAt,[e("label",rAt,[le(n(o.$t("Tax On Fees "))+" ",1),a[10]||(a[10]=e("strong",null,"(D)",-1))]),e("h6",dAt,n(r.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)]),e("div",cAt,[e("label",uAt,[le(n(o.$t("Discount Amount"))+" ",1),a[11]||(a[11]=e("strong",null,"(E)",-1))]),e("h6",_At,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(Math.abs(t.invoice_discount_amount).toFixed(2))),1)]),e("div",mAt,[e("label",fAt,[le(n(o.$t("Tax On Discount"))+" ",1),e("span",hAt,n(t.tax_on_discount)+"%",1),a[12]||(a[12]=e("strong",null,"(F)",-1))]),e("h6",pAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.tax_on_discount_amount.toFixed(2))),1)])]),e("div",vAt,[Be(_,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[0]||(a[0]=i=>t.request_payment_date=i),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])]),e("h5",gAt,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",bAt,[e("div",yAt,[e("div",kAt,[e("label",$At,n(o.$t("Early Payment Date")),1),e("h6",wAt,n(t.payment_date),1)]),e("div",DAt,[e("label",xAt,n(o.$t("Eligible Amount")),1),e("h6",CAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",PAt,[e("label",EAt,[le(n(o.$t("Request Amount"))+" ",1),a[13]||(a[13]=e("strong",null,"(B)",-1))]),e("h6",AAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount.toFixed(2))),1)]),e("div",IAt,[e("label",RAt,[le(n(o.$t("Actual Remittance Amount"))+" ",1),a[14]||(a[14]=e("strong",null,"(B-C-D-E-F)",-1))]),e("h6",SAt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_remmitance.toFixed(2))),1)]),e("div",TAt,[e("label",jAt,n(o.$t("Credit To")),1),t.invoice_details?Y((u(),f("select",{key:0,class:rt(["form-select w-50 my-2",t.payment_account?"border-danger":""]),"onUpdate:modelValue":a[1]||(a[1]=i=>t.credit_to=i),onChange:a[2]||(a[2]=i=>t.credit_to!=""?t.can_submit=!0:t.can_submit=!1),id:"account_number",name:"account_number"},[e("option",OAt,n(o.$t("Select Payment Account")),1),(u(!0),f(G,null,ee(t.invoice_details.vendor_bank_details,i=>(u(),f("option",{key:i.id,value:i.id},n(i.account_number)+" - ("+n(i.bank_name)+") ",9,MAt))),128))],34)),[[de,t.credit_to]]):b("",!0)])])])]),e("div",LAt,[e("button",NAt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+r.id,onClick:i=>t.formatNoa(r)},n(t.can_submit?o.$t("Submit"):o.$t("Processing...")),9,FAt)])])])],8,vEt)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+r.id,"aria-hidden":"true"},[e("div",VAt,[e("div",BAt,[e("div",UAt,[e("h5",qAt,n(o.$t("Request Finance")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",HAt,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",zAt,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",WAt,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,KAt)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",GAt,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",QAt,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",ZAt,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,JAt)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"cash-planner/invoices/"+r.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,XAt)):b("",!0)]),e("div",e6t,[e("small",t6t,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,o6t)]),e("div",null,[e("button",a6t,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[3]||(a[3]=(...i)=>t.requestFinance&&t.requestFinance(...i)),disabled:!t.can_submit},n(o.$t("Submit")),9,n6t)])])])])],8,YAt)])):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-invoice-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",l6t,[e("div",i6t,[e("div",r6t,[e("h5",d6t,n(o.$t("Invoice Details")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",c6t,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[17]||(a[17]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,u6t),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[18]||(a[18]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,_6t)])]),e("div",m6t,[e("div",f6t,[e("div",h6t,[e("span",p6t,[e("h5",v6t,n(o.$t("Anchor"))+":",1),e("h6",g6t,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",b6t,[e("h5",y6t,n(o.$t("Delivery Address"))+":",1),e("h6",k6t,n(t.invoice_details.delivery_address),1)]),e("span",$6t,[e("h5",w6t,n(o.$t("Debit From"))+":",1),e("h6",D6t,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",x6t,[e("h5",C6t,n(o.$t("Vendor"))+":",1),e("h6",P6t,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",E6t,[e("h5",A6t,n(o.$t("Remarks"))+":",1),e("h6",I6t,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",R6t,[e("h5",S6t,n(o.$t("Credit To"))+":",1),e("h6",T6t,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",j6t,[e("h5",O6t,n(o.$t("Rejection Reason"))+":",1),e("h6",M6t,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",L6t,[t.invoice_details.pi_number?(u(),f("span",N6t,[e("h5",F6t,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Y6t)])):b("",!0),e("span",V6t,[e("h5",B6t,n(o.$t("Invoice No."))+":",1),e("h6",U6t,n(t.invoice_details.invoice_number),1)]),e("span",q6t,[e("h5",H6t,n(o.$t("PO No."))+":",1),e("h6",z6t,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",W6t,[e("h5",K6t,n(o.$t("Payment / OD Account No."))+":",1),e("h6",G6t,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Q6t,[e("h5",Z6t,n(o.$t("Invoice Date."))+":",1),e("h6",J6t,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",X6t,[e("h5",eIt,n(o.$t("Amount"))+":",1),e("h6",tIt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",oIt,[e("h5",aIt,n(o.$t("Status."))+":",1),e("h6",nIt,n(t.invoice_details.approval_stage),1)]),e("span",sIt,[e("h5",lIt,n(o.$t("Due Date"))+":",1),e("h6",iIt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",rIt,[e("table",dIt,[e("thead",cIt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",uIt,[e("span",_It,[e("h6",mIt,n(o.$t("Discount"))+":",1),e("h5",fIt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",hIt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",pIt,n(i.name),1),e("h5",vIt,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",gIt,[e("span",bIt,[e("h6",yIt,n(o.$t("Tax")),1),a[20]||(a[20]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",kIt,[e("span",$It,[e("h6",wIt,n(o.$t("Total")),1),e("h5",DIt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,s6t)):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cash-planner-pi-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",CIt,[e("div",PIt,[e("div",EIt,[e("h5",AIt,n(o.$t("Invoice Details")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",IIt,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},[a[21]||(a[21]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,RIt),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[22]||(a[22]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,SIt)])]),e("div",TIt,[e("div",jIt,[e("div",OIt,[e("span",MIt,[e("h5",LIt,n(o.$t("Anchor"))+":",1),e("h6",NIt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",FIt,[e("h5",YIt,n(o.$t("Delivery Address"))+":",1),e("h6",VIt,n(t.invoice_details.delivery_address),1)]),e("span",BIt,[e("h5",UIt,n(o.$t("Debit From"))+":",1),e("h6",qIt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",HIt,[e("h5",zIt,n(o.$t("Vendor"))+":",1),e("h6",WIt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",KIt,[e("h5",GIt,n(o.$t("Remarks"))+":",1),e("h6",QIt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",ZIt,[e("h5",JIt,n(o.$t("Credit To"))+":",1),e("h6",XIt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",e8t,[e("h5",t8t,n(o.$t("Rejection Reason"))+":",1),e("h6",o8t,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",a8t,[t.invoice_details.pi_number?(u(),f("span",n8t,[e("h5",s8t,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,l8t)])):b("",!0),e("span",i8t,[e("h5",r8t,n(o.$t("PI No."))+":",1),e("h6",d8t,n(t.invoice_details.pi_number),1)]),e("span",c8t,[e("h5",u8t,n(o.$t("PO No."))+":",1),e("h6",_8t,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",m8t,[e("h5",f8t,n(o.$t("Payment / OD Account No."))+":",1),e("h6",h8t,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",p8t,[e("h5",v8t,n(o.$t("Invoice Date."))+":",1),e("h6",g8t,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",b8t,[e("h5",y8t,n(o.$t("Amount"))+":",1),e("h6",k8t,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",$8t,[e("h5",w8t,n(o.$t("Status."))+":",1),e("h6",D8t,n(t.invoice_details.approval_stage),1)]),e("span",x8t,[e("h5",C8t,n(o.$t("Due Date"))+":",1),e("h6",P8t,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",E8t,[e("table",A8t,[e("thead",I8t,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),e("div",R8t,[e("span",S8t,[e("h6",T8t,n(o.$t("Discount"))+":",1),e("h5",j8t,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",O8t,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",M8t,n(i.name),1),e("h5",L8t,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",N8t,[e("span",F8t,[e("h6",Y8t,n(o.$t("Tax")),1),a[24]||(a[24]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",V8t,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",B8t,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",U8t," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",q8t,n(i.amount),1))]))),128))])):(u(),f("div",H8t,[e("span",z8t,[e("h6",W8t,n(o.$t("WHT Tax"))+":",1),a[25]||(a[25]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",K8t,[e("h6",G8t,n(o.$t("WHT VAT"))+":",1),a[26]||(a[26]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",Q8t,[e("h6",Z8t,n(o.$t("Credit Note Amount"))+":",1),a[27]||(a[27]=e("h5",{class:"text-success my-auto py-1"}," 0 ",-1))])])),e("div",J8t,[e("span",X8t,[e("h6",eRt,n(o.$t("Total")),1),e("h5",tRt,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,xIt)):b("",!0)]))),128))])])]),e("button",oRt,null,512),e("div",aRt,[e("div",nRt,[e("div",sRt,[e("div",lRt,[e("h5",iRt,n(o.$t("Request Finance")),1),a[28]||(a[28]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rRt,[e("div",dRt,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",uRt)):(u(),f("span",cRt,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("div",_Rt,[e("span",null,n(o.$t("Actual Remittance")),1),t.bulk_data_loading?(u(),f("img",fRt)):(u(),f("span",mRt,n(new Intl.NumberFormat().format(t.bulk_invoice_remittance.toFixed(2))),1))]),e("label",hRt,n(o.$t("I want payment on"))+":",1),Be(_,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[4]||(a[4]=r=>t.bulk_request_payment_date=r),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",pRt,[e("button",vRt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[5]||(a[5]=r=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",gRt,[e("div",bRt,[e("div",yRt,[e("div",kRt,[e("h5",$Rt,n(o.$t("Request Finance")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",wRt,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",DRt,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",xRt,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,CRt)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",PRt,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",ERt,[e("small",ARt,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"cash-planner/invoices/terms/vendor_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,IRt)]),e("div",null,[e("button",RRt,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[6]||(a[6]=(...r)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...r)),disabled:!t.can_submit},n(o.$t("Accept")),9,SRt)])])])])]),a[31]||(a[31]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",TRt,[e("div",jRt,[e("div",ORt,[e("div",MRt,[e("h5",LRt,n(o.$t("Request for Finance successful")),1)]),e("div",NRt,[a[30]||(a[30]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",FRt,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",YRt,[e("button",VRt,n(o.$t("Close")),1)])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.uploading_file_key},null,8,["invoice-details"])):b("",!0)])])}const URt=Ue(F4t,[["render",BRt]]),qRt={name:"EligibleInvoices",components:{Pagination:Na,flatPickr:jl},setup(){lt();const o=h([]),a=h(null),s=h(0),t=h(0),c=h(new Date().toLocaleDateString("en-CA")),m=h(""),_=h(H().format("DD MMM YYYY")),l=new Date().toLocaleDateString("en-CA");h(1);const r=h(0),i=h(1),d=h(0),p=h(0),v=h(0),g=h(0);h(0),h(0);const w=h(0),y=h(0),x=h(0),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0);h([]),h(0);const L=h(0),F=h(0);h(0);const T=h(""),P=h(!1);h(!1),h(0),h(0),h(0),h(!1),h([]),h(!1),h("");const R=Je("baseURL"),O=h({inline:!0}),N=async(J,K)=>{document.getElementById("loading-modal-btn").click(),await A.get(R+"invoices/"+J+"/details").then(z=>{a.value=z.data,bt(()=>{document.getElementById(K).click()})}).catch(z=>{console.log(z)})},S=J=>{let K="";switch(J){case"created":K="bg-label-primary";break;case"paid":K="bg-label-success";break;case"failed":K="bg-label-danger";break;default:K="bg-label-primary";break}return K},U=async()=>{await A.get(R+"cash-planner/invoices/non-eligible/data").then(J=>{o.value=J.data.invoices}).catch(J=>{console.log(J)})},W=(J,K)=>(K/J*100).toFixed(2);return Qe(()=>{U()}),{config:O,moment:H,max_date:m,min_date:c,eligibility_amount:s,pi_amount:L,discount_amount:t,days_to_payment:i,total_remittance:d,processing_fee_amount:r,invoices:o,payment_date:_,request_payment_date:l,credit_to:T,taxes_amount:F,payment_account:P,invoice_total_amount:p,invoice_taxes_amount:v,invoice_fees_amount:g,invoice_eligibility_percentage:w,invoice_eligibility_amount:y,invoice_eligibility_for_finance:x,invoice_discount_amount:C,invoice_days_to_payment:E,invoice_business_spread:D,invoice_processing_fee:k,invoice_min_financing_days:V,invoice_due_date:B,invoice_total_remmitance:I,resolvePaymentRequestStatus:S,changePage:async J=>{await A.get(J).then(K=>{o.value=K.data.invoices})},invoice_details:a,getTaxPercentage:W,invoice_details:a,showInvoice:N}}},HRt={class:"card"},zRt={class:"card-body"},WRt={class:"table-responsive"},KRt={class:"table"},GRt={class:""},QRt={class:"table-border-bottom-0"},ZRt={key:0},JRt={colspan:"12",class:"text-center"},XRt={class:"text-center"},eSt={key:1},tSt={colspan:"12",class:"text-center"},oSt={class:"text-center"},aSt=["onClick"],nSt={href:"javascript:;",class:"dropdown-item"},sSt={class:""},lSt={class:""},iSt={class:"text-success text-nowrap"},rSt={class:"text-success text-nowrap"},dSt=["id","data-bs-target"],cSt=["id","data-bs-target"],uSt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},_St={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},mSt={class:"modal-content"},fSt={class:"modal-body"},hSt={class:"d-flex justify-content-center"},pSt=["id"],vSt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},gSt={class:"modal-content"},bSt={class:"modal-header"},ySt={class:"modal-title",id:"modalCenterTitle"},kSt={class:"d-flex"},$St={key:0,class:"d-flex"},wSt=["href"],DSt=["href"],xSt={class:"modal-body"},CSt={class:"d-flex justify-content-between mb-4"},PSt={class:"mb-3"},ESt={class:"d-flex justify-content-between"},ASt={class:"fw-light my-auto"},ISt={class:"fw-bold mx-2 my-auto"},RSt={class:"d-flex justify-content-between"},SSt={class:"fw-light my-auto"},TSt={class:"fw-bold mx-2 my-auto"},jSt={class:"d-flex justify-content-between"},OSt={class:"fw-light my-auto"},MSt={class:"fw-bold mx-2 my-auto"},LSt={class:"d-flex justify-content-between"},NSt={class:"fw-light my-auto"},FSt={class:"fw-bold mx-2 my-auto"},YSt={class:"d-flex justify-content-between"},VSt={class:"fw-light my-auto"},BSt={class:"fw-bold mx-2 my-auto"},USt={key:0,class:"d-flex justify-content-between"},qSt={class:"fw-light my-auto"},HSt={class:"fw-bold mx-2 my-auto"},zSt={key:1,class:"d-flex justify-content-between"},WSt={class:"fw-light my-auto"},KSt={class:"fw-bold mx-2 my-auto"},GSt={class:"mb-3"},QSt={key:0,class:"d-flex justify-content-between"},ZSt={class:"my-auto fw-light"},JSt=["data-bs-target"],XSt={class:"d-flex justify-content-between"},eTt={class:"my-auto fw-light"},tTt={class:"fw-bold mx-2 my-auto"},oTt={class:"d-flex justify-content-between"},aTt={class:"my-auto fw-light"},nTt={class:"fw-bold mx-2 my-auto"},sTt={class:"d-flex justify-content-between"},lTt={class:"my-auto fw-light"},iTt={class:"fw-bold mx-2 my-auto"},rTt={class:"d-flex justify-content-between"},dTt={class:"my-auto fw-light"},cTt={class:"fw-bold mx-2 my-auto"},uTt={class:"d-flex justify-content-between"},_Tt={class:"my-auto fw-light"},mTt={class:"fw-bold text-success mx-2 my-auto"},fTt={class:"d-flex justify-content-between"},hTt={class:"my-auto fw-light"},pTt={class:"fw-bold mx-2 my-auto"},vTt={class:"d-flex justify-content-between"},gTt={class:"my-auto fw-light"},bTt={class:"fw-bold mx-2 my-auto"},yTt={class:"table-responsive"},kTt={class:"table"},$Tt={class:"bg-label-primary"},wTt={class:"px-2"},DTt={class:"d-flex justify-content-end"},xTt={class:"mx-2 my-auto"},CTt={class:"text-success my-auto"},PTt={key:0,class:"px-2"},ETt={class:"mx-2 my-auto"},ATt={class:"text-success my-auto"},ITt={key:1,class:"px-2"},RTt={class:"d-flex justify-content-end"},STt={class:"mx-2 my-auto"},TTt={class:"bg-label-secondary px-2"},jTt={class:"d-flex justify-content-end"},OTt={class:"mx-2 my-auto py-1"},MTt={class:"text-success my-auto py-1"},LTt=["id"],NTt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},FTt={class:"modal-content"},YTt={class:"modal-header"},VTt={class:"modal-title",id:"modalCenterTitle"},BTt={class:"d-flex"},UTt={key:0,class:"d-flex"},qTt=["href"],HTt=["href"],zTt={class:"modal-body"},WTt={class:"d-flex justify-content-between mb-4"},KTt={class:"mb-3"},GTt={class:"d-flex justify-content-between"},QTt={class:"fw-light my-auto"},ZTt={class:"fw-bold mx-2 my-auto"},JTt={class:"d-flex justify-content-between"},XTt={class:"fw-light my-auto"},ejt={class:"fw-bold mx-2 my-auto"},tjt={class:"d-flex justify-content-between"},ojt={class:"fw-light my-auto"},ajt={class:"fw-bold mx-2 my-auto"},njt={class:"d-flex justify-content-between"},sjt={class:"fw-light my-auto"},ljt={class:"fw-bold mx-2 my-auto"},ijt={class:"d-flex justify-content-between"},rjt={class:"fw-light my-auto"},djt={class:"fw-bold mx-2 my-auto"},cjt={key:0,class:"d-flex justify-content-between"},ujt={class:"fw-light my-auto"},_jt={class:"fw-bold mx-2 my-auto"},mjt={key:1,class:"d-flex justify-content-between"},fjt={class:"fw-light my-auto"},hjt={class:"fw-bold mx-2 my-auto"},pjt={class:"mb-3"},vjt={key:0,class:"d-flex justify-content-between"},gjt={class:"my-auto fw-light"},bjt=["data-bs-target"],yjt={class:"d-flex justify-content-between"},kjt={class:"my-auto fw-light"},$jt={class:"fw-bold mx-2 my-auto"},wjt={class:"d-flex justify-content-between"},Djt={class:"my-auto fw-light"},xjt={class:"fw-bold mx-2 my-auto"},Cjt={class:"d-flex justify-content-between"},Pjt={class:"my-auto fw-light"},Ejt={class:"fw-bold mx-2 my-auto"},Ajt={class:"d-flex justify-content-between"},Ijt={class:"my-auto fw-light"},Rjt={class:"fw-bold mx-2 my-auto"},Sjt={class:"d-flex justify-content-between"},Tjt={class:"my-auto fw-light"},jjt={class:"fw-bold text-success mx-2 my-auto"},Ojt={class:"d-flex justify-content-between"},Mjt={class:"my-auto fw-light"},Ljt={class:"fw-bold mx-2 my-auto"},Njt={class:"d-flex justify-content-between"},Fjt={class:"my-auto fw-light"},Yjt={class:"fw-bold mx-2 my-auto"},Vjt={class:"table-responsive"},Bjt={class:"table"},Ujt={class:"bg-label-primary"},qjt={class:"px-2"},Hjt={class:"d-flex justify-content-end"},zjt={class:"mx-2 my-auto"},Wjt={class:"text-success my-auto"},Kjt={key:0,class:"px-2"},Gjt={class:"mx-2 my-auto"},Qjt={class:"text-success my-auto"},Zjt={key:1,class:"px-2"},Jjt={class:"d-flex justify-content-end"},Xjt={class:"mx-2 my-auto"},eOt={key:2,class:"px-2"},tOt={class:"mx-2 my-auto py-1"},oOt={key:0,class:"text-success my-auto py-1"},aOt={key:1,class:"text-success my-auto py-1"},nOt={key:3,class:"px-2"},sOt={class:"d-flex justify-content-end"},lOt={class:"mx-2 my-auto py-1"},iOt={class:"d-flex justify-content-end"},rOt={class:"mx-2 my-auto py-1"},dOt={class:"d-flex justify-content-end"},cOt={class:"mx-2 my-auto py-1"},uOt={class:"bg-label-secondary px-2"},_Ot={class:"d-flex justify-content-end"},mOt={class:"mx-2 my-auto py-1"},fOt={class:"text-success my-auto py-1"};function hOt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",HRt,[a[14]||(a[14]=e("div",{class:"card-header"},[e("h6",null,"Payments Instructions Not Eligible for Financing")],-1)),e("div",zRt,[t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",WRt,[e("table",KRt,[e("thead",null,[e("tr",GRt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),a[0]||(a[0]=e("th",null,null,-1))])]),e("tbody",QRt,[t.invoices.data?b("",!0):(u(),f("tr",ZRt,[e("td",JRt,[e("span",XRt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",eSt,[e("td",tSt,[e("span",oSt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary",onClick:r=>t.showInvoice(l.id,"show-planner-pi-"+l.id)},[e("a",nSt,n(l.invoice_number),1)],8,aSt),e("td",sSt,n(l.anchor),1),e("td",lSt,n(t.moment(l.due_date).format("D MMM YYYY")),1),e("td",iSt,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.invoice_total_amount.toFixed(2))),1),e("td",rSt,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.eligible_for_finance.toFixed(2))),1),e("td",null,[e("button",{class:"d-none",id:"show-planner-pi-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+l.id},null,8,dSt),e("button",{class:"d-none",id:"show-request-financing-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+l.id},null,8,cSt),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",uSt,[e("div",_St,[e("div",mSt,[e("div",fSt,[e("div",hSt,[e("span",null,n(o.$t("Loading"))+"...",1),a[1]||(a[1]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"cash-planner-invoice-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",vSt,[e("div",gSt,[e("div",bSt,[e("h5",ySt,n(o.$t("Invoice Details")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",kSt,[t.invoice_details.media.length>0?(u(),f("div",$St,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[2]||(a[2]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,wSt))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,DSt)])]),e("div",xSt,[e("div",CSt,[e("div",PSt,[e("span",ESt,[e("h5",ASt,n(o.$t("Anchor"))+":",1),e("h6",ISt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",RSt,[e("h5",SSt,n(o.$t("Delivery Address"))+":",1),e("h6",TSt,n(t.invoice_details.delivery_address),1)]),e("span",jSt,[e("h5",OSt,n(o.$t("Debit From"))+":",1),e("h6",MSt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",LSt,[e("h5",NSt,n(o.$t("Vendor"))+":",1),e("h6",FSt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",YSt,[e("h5",VSt,n(o.$t("Remarks"))+":",1),e("h6",BSt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",USt,[e("h5",qSt,n(o.$t("Credit To"))+":",1),e("h6",HSt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",zSt,[e("h5",WSt,n(o.$t("Rejection Reason"))+":",1),e("h6",KSt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",GSt,[t.invoice_details.pi_number?(u(),f("span",QSt,[e("h5",ZSt,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,JSt)])):b("",!0),e("span",XSt,[e("h5",eTt,n(o.$t("Invoice No."))+":",1),e("h6",tTt,n(t.invoice_details.invoice_number),1)]),e("span",oTt,[e("h5",aTt,n(o.$t("PO No."))+":",1),e("h6",nTt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",sTt,[e("h5",lTt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",iTt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",rTt,[e("h5",dTt,n(o.$t("Invoice Date."))+":",1),e("h6",cTt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",uTt,[e("h5",_Tt,n(o.$t("Amount"))+":",1),e("h6",mTt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",fTt,[e("h5",hTt,n(o.$t("Status."))+":",1),e("h6",pTt,n(t.invoice_details.approval_stage),1)]),e("span",vTt,[e("h5",gTt,n(o.$t("Due Date"))+":",1),e("h6",bTt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",yTt,[e("table",kTt,[e("thead",$Tt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",wTt,[e("span",DTt,[e("h6",xTt,n(o.$t("Discount"))+":",1),e("h5",CTt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",PTt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",ETt,n(r.name),1),e("h5",ATt,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",ITt,[e("span",RTt,[e("h6",STt,n(o.$t("Tax")),1),a[5]||(a[5]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",TTt,[e("span",jTt,[e("h6",OTt,n(o.$t("Total")),1),e("h5",MTt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,pSt)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"cash-planner-pi-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",NTt,[e("div",FTt,[e("div",YTt,[e("h5",VTt,n(o.$t("Invoice Details")),1),a[8]||(a[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",BTt,[t.invoice_details.media.length>0?(u(),f("div",UTt,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[6]||(a[6]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,qTt))),128))])):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[7]||(a[7]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,HTt)])]),e("div",zTt,[e("div",WTt,[e("div",KTt,[e("span",GTt,[e("h5",QTt,n(o.$t("Anchor"))+":",1),e("h6",ZTt,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",JTt,[e("h5",XTt,n(o.$t("Delivery Address"))+":",1),e("h6",ejt,n(t.invoice_details.delivery_address),1)]),e("span",tjt,[e("h5",ojt,n(o.$t("Debit From"))+":",1),e("h6",ajt,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",njt,[e("h5",sjt,n(o.$t("Vendor"))+":",1),e("h6",ljt,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",ijt,[e("h5",rjt,n(o.$t("Remarks"))+":",1),e("h6",djt,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",cjt,[e("h5",ujt,n(o.$t("Credit To"))+":",1),e("h6",_jt,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",mjt,[e("h5",fjt,n(o.$t("Rejection Reason"))+":",1),e("h6",hjt,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",pjt,[t.invoice_details.pi_number?(u(),f("span",vjt,[e("h5",gjt,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cash-planner-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,bjt)])):b("",!0),e("span",yjt,[e("h5",kjt,n(o.$t("PI No."))+":",1),e("h6",$jt,n(t.invoice_details.pi_number),1)]),e("span",wjt,[e("h5",Djt,n(o.$t("PO No."))+":",1),e("h6",xjt,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Cjt,[e("h5",Pjt,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Ejt,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Ajt,[e("h5",Ijt,n(o.$t("Invoice Date."))+":",1),e("h6",Rjt,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",Sjt,[e("h5",Tjt,n(o.$t("Amount"))+":",1),e("h6",jjt,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Ojt,[e("h5",Mjt,n(o.$t("Status."))+":",1),e("h6",Ljt,n(t.invoice_details.approval_stage),1)]),e("span",Njt,[e("h5",Fjt,n(o.$t("Due Date"))+":",1),e("h6",Yjt,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Vjt,[e("table",Bjt,[e("thead",Ujt,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])]),e("div",qjt,[e("span",Hjt,[e("h6",zjt,n(o.$t("Discount"))+":",1),e("h5",Wjt,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Kjt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",Gjt,n(r.name),1),e("h5",Qjt,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",Zjt,[e("span",Jjt,[e("h6",Xjt,n(o.$t("Tax")),1),a[9]||(a[9]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",eOt,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",tOt,n(r.name),1),r.name!="Credit Note Amount"&&r.name!="Credit Note"&&r.name!="Credit Amount"?(u(),f("h5",oOt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",aOt,n(r.amount),1))]))),128))])):(u(),f("div",nOt,[e("span",sOt,[e("h6",lOt,n(o.$t("WHT Tax"))+":",1),a[10]||(a[10]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",iOt,[e("h6",rOt,n(o.$t("WHT VAT"))+":",1),a[11]||(a[11]=e("h5",{class:"text-success my-auto py-1"}," (0.0%) 0 ",-1))]),e("span",dOt,[e("h6",cOt,n(o.$t("Credit Note Amount"))+":",1),a[12]||(a[12]=e("h5",{class:"text-success my-auto py-1"}," 0 ",-1))])])),e("div",uOt,[e("span",_Ot,[e("h6",mOt,n(o.$t("Total")),1),e("h5",fOt,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,LTt)):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const pOt=Ue(qRt,[["render",hOt]]),vOt={name:"FinanceRequests",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(0),t=h(null),c=h(0),m=h(0),_=h(0),l=lt(),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h(""),w=h(0),y=async()=>{await A.get(o+"finance-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(S=>{a.value=S.data.finance_requests}).catch(S=>{console.log(S)})};Qe(()=>{y()});const x=S=>{let U="";switch(S){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-danger";break;case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},C=S=>{let U=0;return S.forEach(W=>{U+=W.quantity*W.price_per_quantity}),U},E=S=>{let U=0;return S.invoice_fees.length>0&&S.invoice_fees.forEach(W=>{U+=W.amount}),U},D=S=>{I(S),E(S),V(S)},k=S=>S.vendor_configurations.eligibility,I=S=>{let U=S.vendor_configurations.eligibility,W=C(S.invoice_items),oe=0;S.invoice_fees.forEach(z=>{oe+=z.amount});let J=0;S.invoice_taxes.forEach(z=>{J+=z.value}),W=W+J;let K=0;return S.invoice_discounts.forEach(z=>{z.type=="percentage"?K+=z.value/100*W:K+=z.value}),W=W-K,s.value=U/100*(W-oe),s.value.toFixed(2)},V=S=>{t.value=S,c.value=S.vendor_configurations.eligibility;let U=0;S.invoice_fees.forEach(z=>{U+=z.amount});let W=0;S.invoice_taxes.forEach(z=>{W+=z.value});let oe=C(S.invoice_items)+W,J=0;S.invoice_discounts.forEach(z=>{z.type=="percentage"?J+=z.value/100*oe:J+=z.value}),oe=oe-J,t.value=S;let K=oe-U;return _.value=S.vendor_discount_details.total_roi,m.value=c.value/100*K*(S.vendor_discount_details.total_spread/100)*((H(S.due_date).diff(H(),"days")+1)/365),m.value.toFixed(2)},B=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+S+"/details").then(W=>{t.value=W.data,w.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},L=(S,U)=>(U/S*100).toFixed(2),F=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",await A.get(o+"finance-requests/data",{params:{per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=async()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"finance-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},P=async S=>{await A.get(S+"&per_page="+p.value,{params:{anchor:r.value,invoice:i.value,status:d.value}}).then(U=>{a.value=U.data.finance_requests})};return ot([p],async([S])=>{await A.get(o+"finance-requests/data",{params:{per_page:S}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})}),{moment:H,finance_requests:a,anchor_search:r,invoice_search:i,status_search:d,per_page:p,getTaxPercentage:L,invoice_details:t,resolveRequestStatus:x,changePage:P,showModal:D,clearSearch:F,filter:T,updateApprovalStatus:(S,U)=>{const W=new FormData;W.append("status",U),W.append("rejection_reason",g.value),A.post(o+"finance-requests/"+S+"/status/update",W).then(()=>{l.success("Request updated successfully"),U=="rejected"?document.getElementById("reject-request-close-btn-"+S).click():document.getElementById("approve-request-close-btn-"+S).click(),y()}).catch(()=>{l.error("An error occurred while updating the request")})},status:v,rejection_reason:g,showInvoice:B,getEligibility:k,getDiscountRate:S=>S.vendor_discount_details.total_roi,resolvePaymentRequestStatus:S=>{let U="";switch(S){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-warning";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},invoice_details_key:w}}},gOt={class:"card"},bOt={class:"card-header d-flex flex-column flex-md-row justify-content-between"},yOt={class:"d-flex flex-wrap gap-1"},kOt={class:""},$Ot={for:"Anchor",class:"form-label"},wOt={class:""},DOt={for:"Invoice No",class:"form-label"},xOt={class:""},COt={for:"Status",class:"form-label"},POt={value:""},EOt={value:"created"},AOt={value:"pending"},IOt={value:"approved"},ROt={value:"paid"},SOt={value:"denied"},TOt={class:"table-search-btn"},jOt={class:"table-clear-btn"},OOt={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},MOt={style:{"margin-right":"10px"}},LOt={class:"card-body"},NOt={class:"table-responsive"},FOt={class:"table"},YOt={class:""},VOt={class:"table-border-bottom-0"},BOt={key:0},UOt={colspan:"12",class:"text-center"},qOt={class:"text-center"},HOt={key:1},zOt={colspan:"12",class:"text-center"},WOt={class:"text-center"},KOt=["data-bs-target"],GOt=["onClick"],QOt=["onClick"],ZOt={class:"text-success text-nowrap"},JOt=["id","data-bs-target"],XOt=["id","data-bs-target"],eMt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},tMt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},oMt={class:"modal-content"},aMt={class:"modal-body"},nMt={class:"d-flex justify-content-center"},sMt=["data-bs-target"],lMt=["data-bs-target"],iMt=["id"],rMt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},dMt={class:"modal-content"},cMt={class:"modal-header"},uMt={class:"modal-title",id:"modalCenterTitle"},_Mt=["id"],mMt=["onSubmit"],fMt={class:"modal-body"},hMt={class:"modal-footer"},pMt={class:"btn btn-primary",type:"submit"},vMt=["id"],gMt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bMt={class:"modal-content"},yMt={class:"modal-header"},kMt={class:"modal-title",id:"modalCenterTitle"},$Mt=["id"],wMt=["onSubmit"],DMt={class:"modal-body"},xMt={class:"row mb-1"},CMt={class:"form-group"},PMt={for:""},EMt={class:"modal-footer"},AMt={class:"btn btn-primary",type:"submit"},IMt=["id"],RMt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},SMt={class:"modal-content"},TMt={class:"modal-header"},jMt={class:"modal-title",id:"modalCenterTitle"},OMt={class:"modal-body"},MMt={class:"row mb-1"},LMt={class:"col-6 my-1"},NMt={class:"col-6"},FMt={class:"col-6 my-1"},YMt={class:"col-6"},VMt={class:"col-6 my-1"},BMt={class:"col-6"},UMt={class:"col-6 my-1"},qMt=["onClick"],HMt={class:"col-6 my-1"},zMt={class:"col-6 text-success"},WMt={class:"col-6 my-1"},KMt={class:"col-6"},GMt={class:"col-6 my-1"},QMt={class:"col-6 text-success"},ZMt={class:"col-6 my-1"},JMt={class:"col-6 text-success"},XMt={class:"col-6 my-1"},e9t={class:"col-6"},t9t={class:"col-6 my-1"},o9t={class:"col-6"},a9t={class:"col-6 my-1"},n9t={class:"col-6"},s9t={class:"col-6 my-1"},l9t={class:"col-6"},i9t={class:"col-6 my-1"},r9t={class:"col-6"},d9t={key:0,class:"col-12"},c9t={key:0,class:"row"},u9t={class:"col-6 my-1 d-flex"},_9t={class:""},m9t={key:0,class:""},f9t={class:"col-6 text-success"},h9t={class:"col-6 my-1"},p9t={class:"col-6 text-success"},v9t={class:"col-6 my-1"},g9t={class:"col-6"},b9t={class:"modal-footer"},y9t={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function k9t(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",gOt,[e("div",bOt,[e("div",yOt,[e("div",kOt,[e("label",$Ot,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",wOt,[e("label",DOt,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_search]])]),e("div",xOt,[e("label",COt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",POt,n(o.$t("Status")),1),e("option",EOt,n(o.$t("Created")),1),e("option",AOt,n(o.$t("Submitted")),1),e("option",IOt,n(o.$t("Approved")),1),e("option",ROt,n(o.$t("Paid")),1),e("option",SOt,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",TOt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",jOt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",OOt,[e("div",MOt,[Y(e("select",{class:"form-select","aria-label":"Pagination Select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),e("div",LOt,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",NOt,[e("table",FOt,[e("thead",null,[e("tr",YOt,[e("th",null,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",VOt,[t.finance_requests.data?b("",!0):(u(),f("tr",BOt,[e("td",UOt,[e("span",qOt,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",HOt,[e("td",zOt,[e("span",WOt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline",style:{cursor:"pointer"}},n(i.reference_number),9,KOt),e("td",null,[e("span",null,n(i.anchor_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,GOt),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,QOt),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",ZOt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[i.company_approvals.length>0?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.company_approvals[0].status)])},n(i.company_approvals[0].status),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,JOt),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,XOt),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",eMt,[e("div",tMt,[e("div",oMt,[e("div",aMt,[e("div",nMt,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,sMt)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,lMt)):b("",!0)]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",rMt,[e("div",dMt,[e("div",cMt,[e("h5",uMt,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,_Mt)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",fMt,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",hMt,[e("button",pMt,n(o.$t("Submit")),1)])],40,mMt)])])],8,iMt),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",gMt,[e("div",bMt,[e("div",yMt,[e("h5",kMt,n(o.$t("Update Financing Request Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,$Mt)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",DMt,[e("div",xMt,[e("div",CMt,[e("label",PMt,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[X,t.rejection_reason]])])])]),e("div",EMt,[e("button",AMt,n(o.$t("Submit")),1)])],40,wMt)])])],8,vMt),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",RMt,[e("div",SMt,[e("div",TMt,[e("h5",jMt,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",OMt,[e("div",MMt,[e("div",LMt,n(o.$t("Anchor")),1),e("div",NMt,[e("span",null,n(i.anchor_name),1)]),e("div",FMt,n(o.$t("Program Name")),1),e("div",YMt,n(i.program_name),1),e("div",VMt,n(o.$t("Invoice / Unique Reference Number")),1),e("div",BMt,n(i.invoice_number),1),e("div",UMt,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,qMt),e("div",HMt,n(o.$t("PI Amount")),1),e("div",zMt,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",WMt,n(o.$t("Eligibility"))+" (%)",1),e("div",KMt,n(i.eligibility),1),e("div",GMt,n(o.$t("Eligible Payment Amount")),1),e("div",QMt,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",ZMt,n(o.$t("Requested Payment Amount")),1),e("div",JMt,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",XMt,n(o.$t("Credit to Account No"))+".:",1),e("div",e9t,n(i.payment_accounts[0].account),1),e("div",t9t,n(o.$t("Request Date")),1),e("div",o9t,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",a9t,n(o.$t("Requested Disbursement Date")),1),e("div",n9t,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",s9t,n(o.$t("Due Date")),1),e("div",l9t,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",i9t,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",r9t,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",d9t,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",c9t,[e("div",u9t,[e("div",_9t,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",m9t," ("+n(d.description)+") ",1)):b("",!0)]),e("div",f9t,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",h9t,n(o.$t("Net Disbursal Total")),1),e("div",p9t,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",v9t,n(o.$t("Status")),1),e("div",g9t,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",b9t,[e("button",y9t,n(o.$t("Close")),1)])])])],8,IMt)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const $9t=Ue(vOt,[["render",k9t]]),w9t={name:"PurchaseOrders",components:{Pagination:Na},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"purchase-orders/data?per_page="+c.value).then(T=>{s.value=T.data.purchase_orders}).catch(T=>{console.log(T.message)})},E=T=>{let P="";switch(T){case"Pending Checker Approval":P="bg-label-warning";break;case"pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Invoiced":P="bg-label-secondary";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},D=async(T,P)=>{m.value=!1,await A.post(`${a}purchase-orders/status/update`,{purchase_order_id:T,status:P,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(R=>{console.log(R),o.error("An error occurred")}).finally(()=>{m.value=!0})};Qe(()=>{C()}),ot([c],([T])=>{A.get(a+"purchase-orders/data?per_page="+T,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})});const k=()=>{p.value=$("#date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let T=$(".ti-search").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},I=()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})};return ot(v,T=>{g.value.length>0?(x.value=[],T=="approve"&&(g.value.forEach(P=>{x.value.push(s.value.data.filter(R=>R.id==P)[0])}),y.value.click()),T=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,filter:k,refresh:I,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(T=>{T.user_can_approve&&!T.user_has_approved&&(document.getElementById("data-select-"+T.id).checked=!0,g.value.push(T.id))}):s.value.data.forEach(T=>{if(T.user_can_approve&&!T.user_has_approved){document.getElementById("data-select-"+T.id).checked=!1;let P;if(!g.value.filter(function(O,N){P=N,O==T.id}))return!1;g.value.splice(P,1)}})},updateSelected:T=>{if(g.value.includes(T)){const P=g.value.indexOf(T);g.value.splice(P,1)}else g.value.push(T)},submitBulkAction:T=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(R=>{P.append("purchase_orders[]",R)}),T=="approve"&&P.append("status","accepted"),T=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",P).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(R=>{console.log(R),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async T=>{await A.get(T+"&per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}}}},D9t={class:"d-flex flex-column flex-md-row justify-content-between px-2 py-2"},x9t={class:"d-flex flex-wrap gap-1"},C9t={class:""},P9t={for:"Anchor",class:"form-label"},E9t={class:""},A9t={for:"PO No",class:"form-label"},I9t={class:""},R9t={class:"form-label",for:""},S9t={class:""},T9t={for:"Status",class:"form-label"},j9t={value:""},O9t={value:"pending"},M9t={value:"accepted"},L9t={value:"invoiced"},N9t={value:"rejected"},F9t={class:""},Y9t={for:"Bulk Actions",class:"form-label"},V9t={value:""},B9t={value:"approve"},U9t={value:"reject"},q9t={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},H9t={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},z9t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},W9t={class:"modal-content"},K9t={class:"modal-header"},G9t={class:"modal-title",id:"modalCenterTitle"},Q9t={class:"modal-body"},Z9t={class:"modal-footer"},J9t={class:"btn btn-primary",type:"submit"},X9t={class:"table-search-btn"},e7t={class:"table-clear-btn"},t7t={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},o7t={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},a7t={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},n7t={class:"modal-content"},s7t={class:"modal-header"},l7t={class:"modal-title",id:"modalCenterTitle"},i7t={class:"modal-body"},r7t={class:"row mb-1"},d7t={class:"form-group"},c7t={for:""},u7t={class:"modal-footer"},_7t={class:"btn btn-primary",type:"submit"},m7t={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},f7t={class:""},h7t={class:"table-responsive"},p7t={class:"table"},v7t={class:"form-check"},g7t={key:0},b7t={colspan:"12",class:"text-center"},y7t={class:"text-center"},k7t={key:1},$7t={colspan:"12",class:"text-center"},w7t={class:"text-center"},D7t={class:"form-check"},x7t=["id","onChange"],C7t=["data-bs-target"],P7t={class:"text-success text-nowrap"},E7t={class:"text-success text-nowrap"},A7t={class:""},I7t={class:""},R7t={class:""},S7t={class:"d-inline-block"},T7t={class:"dropdown-menu dropdown-menu-end m-0"},j7t=["onClick"],O7t={class:"dropdown-item badge bg-label-success"},M7t={key:1},L7t=["data-bs-target"],N7t={key:2,class:""},F7t=["href"],Y7t={key:3,class:"dropdown-item badge bg-label-secondary"},V7t=["href"],B7t=["id"],U7t={class:"modal-dialog modal-md",role:"document"},q7t=["onSubmit"],H7t={class:"modal-content"},z7t={class:"modal-header"},W7t={class:"modal-title",id:"modalCenterTitle"},K7t={class:"modal-body"},G7t={class:"form-label"},Q7t={class:"form-group"},Z7t={class:"modal-footer"},J7t={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},X7t=["disabled"],eLt=["id"],tLt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},oLt={class:"modal-content"},aLt={class:"modal-header"},nLt={class:"modal-title",id:"modalCenterTitle"},sLt={class:"d-flex"},lLt=["href"],iLt=["href"],rLt={class:"modal-body"},dLt={class:"d-flex justify-content-between"},cLt={class:"mb-3 w-25"},uLt={class:"d-flex justify-content-between"},_Lt={class:"fw-light my-auto"},mLt={class:"fw-bold mx-2 my-auto"},fLt={class:"d-flex justify-content-between"},hLt={class:"fw-light my-auto"},pLt={class:"fw-bold mx-2 my-auto"},vLt={class:"d-flex justify-content-between"},gLt={class:"fw-light my-auto"},bLt={class:"fw-bold mx-2 my-auto"},yLt={class:"d-flex justify-content-between"},kLt={class:"fw-light my-auto"},$Lt={key:0,class:"d-flex justify-content-between"},wLt={class:"fw-light my-auto"},DLt={class:"fw-bold mx-2 my-auto"},xLt={class:"mb-3"},CLt={class:"d-flex justify-content-between"},PLt={class:"my-auto fw-light"},ELt={class:"fw-bold mx-2 my-auto"},ALt={class:"d-flex justify-content-between"},ILt={class:"my-auto fw-light"},RLt={class:"fw-bold mx-2 my-auto"},SLt={class:"d-flex justify-content-between"},TLt={class:"my-auto fw-light"},jLt={class:"fw-bold mx-2 my-auto"},OLt={class:"d-flex justify-content-between"},MLt={class:"my-auto fw-light"},LLt={class:"fw-bold text-success mx-2 my-auto"},NLt={class:"table-responsive"},FLt={class:"table"},YLt={class:"bg-label-secondary px-2"},VLt={class:"d-flex justify-content-end"},BLt={class:"mx-2 my-auto py-1"},ULt={class:"text-success my-auto py-1"};function qLt(o,a,s,t,c,m){const _=ce("pagination");return u(),f(G,null,[e("div",D9t,[e("div",x9t,[e("div",C9t,[e("label",P9t,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",E9t,[e("label",A9t,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.po_search]])]),e("div",I9t,[e("label",R9t,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",S9t,[e("label",T9t,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",j9t,n(o.$t("Status")),1),e("option",O9t,n(o.$t("Pending")),1),e("option",M9t,n(o.$t("Accepted")),1),e("option",L9t,n(o.$t("Invoiced")),1),e("option",N9t,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",F9t,[e("label",Y9t,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",V9t,n(o.$t("Bulk Actions")),1),e("option",B9t,n(o.$t("Accept")),1),e("option",U9t,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",q9t,null,512),e("div",H9t,[e("div",z9t,[e("div",W9t,[e("div",K9t,[e("h5",G9t,n(o.$t("Accept Purchase Orders")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Q9t,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",Z9t,[e("button",J9t,n(o.$t("Submit")),1)])],32)])])]),e("div",X9t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",e7t,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",t7t,null,512),e("div",o7t,[e("div",a7t,[e("div",n7t,[e("div",s7t,[e("h5",l7t,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",i7t,[e("div",r7t,[e("div",d7t,[e("label",c7t,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",u7t,[e("button",_7t,n(o.$t("Submit")),1)])],32)])])])]),e("div",m7t,[e("div",f7t,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",h7t,[e("table",p7t,[e("thead",null,[e("tr",null,[e("th",null,[e("div",v7t,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",g7t,[e("td",b7t,[e("span",y7t,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",k7t,[e("td",$7t,[e("span",w7t,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",D7t,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,x7t)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,C7t),e("td",P7t,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",E7t,n(l.purchase_order_items.length),1),e("td",A7t,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",I7t,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",R7t,[e("div",S7t,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",T7t,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",O7t,n(o.$t("Accept")),1)],8,j7t)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",M7t,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,L7t)])):b("",!0),l.can_flip&&l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",N7t,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,F7t)])):b("",!0),l.attachment?(u(),f("li",Y7t,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,V7t)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",U7t,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",H7t,[e("div",z7t,[e("h5",W7t,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",K7t,[e("label",G7t,n(o.$t("Rejection Reason")),1),e("div",Q7t,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",Z7t,[e("button",J7t,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,X7t)])])],40,q7t)])],8,B7t),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",tLt,[e("div",oLt,[e("div",aLt,[e("h5",nLt,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",sLt,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,lLt)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,iLt)):b("",!0)])]),e("div",rLt,[e("div",dLt,[e("div",cLt,[e("span",uLt,[e("h5",_Lt,n(o.$t("Buyer"))+":",1),e("h6",mLt,n(l.anchor.name),1)]),e("span",fLt,[e("h5",hLt,n(o.$t("Delivery Address"))+":",1),e("h6",pLt,n(l.delivery_address),1)]),e("span",vLt,[e("h5",gLt,n(o.$t("Remarks"))+":",1),e("h6",bLt,n(l.remarks),1)]),e("span",yLt,[e("h5",kLt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",$Lt,[e("h5",wLt,n(o.$t("Rejection Reason"))+":",1),e("h6",DLt,n(l.rejection_reason),1)])):b("",!0)]),e("div",xLt,[e("span",CLt,[e("h5",PLt,n(o.$t("PO No"))+":",1),e("h6",ELt,n(l.purchase_order_number),1)]),e("span",ALt,[e("h5",ILt,n(o.$t("Start Date"))+":",1),e("h6",RLt,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",SLt,[e("h5",TLt,n(o.$t("End Date"))+":",1),e("h6",jLt,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",OLt,[e("h5",MLt,n(o.$t("PO Amount"))+":",1),e("h6",LLt," Ksh "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",NLt,[e("table",FLt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",YLt,[e("span",VLt,[e("h6",BLt,n(o.$t("Total")),1),e("h5",ULt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,eLt)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])],64)}const HLt=Ue(w9t,[["render",qLt]]),zLt={name:"PurchaseOrders",components:{Pagination:Na},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(""),c=h(50),m=h(!0),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(T=>{s.value=T.data.purchase_orders}).catch(T=>{console.log(T.message)})},E=T=>{let P="";switch(T){case"Pending Checker Approval":P="bg-label-warning";break;case"pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Invoiced":P="bg-label-secondary";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},D=async(T,P)=>{m.value=!1,await A.post(`${a}purchase-orders/pending/status/update`,{purchase_order_id:T,status:P,rejection_reason:t.value}).then(()=>{o.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(R=>{console.log(R),o.error("An error occurred")}).finally(()=>{m.value=!0})};Qe(()=>{C()}),ot([c],([T])=>{A.get(a+"purchase-orders/pending/data?per_page="+T,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})});const k=()=>{p.value=$("#pending_date_search").val(),p.value&&(r.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let T=$(".ti-search").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"purchase-orders/pending/data?per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},I=()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",$("#date_search").val(""),A.get(a+"purchase-orders/pending/data?per_page="+c.value).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})};return ot(v,T=>{g.value.length>0?(x.value=[],T=="approve"&&(g.value.forEach(P=>{x.value.push(s.value.data.filter(R=>R.id==P)[0])}),y.value.click()),T=="reject"&&w.value.click()):o.error("Select POs")}),{moment:H,can_submit:m,purchase_orders:s,rejection_reason:t,per_page:c,anchor_search:_,po_search:l,from_date:r,to_date:i,status_search:d,bulk_action:v,selected_data:g,showRejectionModal:w,showApprovalModal:y,approvePurchaseOrders:x,filter:k,refresh:I,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?s.value.data.forEach(T=>{T.user_can_approve&&!T.user_has_approved&&(document.getElementById("data-select-"+T.id).checked=!0,g.value.push(T.id))}):s.value.data.forEach(T=>{if(T.user_can_approve&&!T.user_has_approved){document.getElementById("data-select-"+T.id).checked=!1;let P;if(!g.value.filter(function(O,N){P=N,O==T.id}))return!1;g.value.splice(P,1)}})},updateSelected:T=>{if(g.value.includes(T)){const P=g.value.indexOf(T);g.value.splice(P,1)}else g.value.push(T)},submitBulkAction:T=>{if(g.value.length<=0){o.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(R=>{P.append("purchase_orders[]",R)}),T=="approve"&&P.append("status","accepted"),T=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",t.value)),A.post(a+"purchase-orders/bulk/approve",P).then(()=>{o.success("POs updated"),v.value="",t.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(R=>{console.log(R),o.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async T=>{await A.get(T+"&per_page="+c.value,{params:{anchor:_.value,po_number:l.value,from_date:r.value,to_date:i.value,status:d.value}}).then(P=>{s.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}}}},WLt={class:"d-flex flex-column flex-md-row justify-content-between px-2 py-2"},KLt={class:"d-flex flex-wrap gap-1"},GLt={class:""},QLt={for:"Buyer",class:"form-label"},ZLt={class:""},JLt={for:"PO No",class:"form-label"},XLt={class:""},eNt={class:"form-label",for:""},tNt={class:""},oNt={for:"Status",class:"form-label"},aNt={value:""},nNt={value:"pending"},sNt={value:"accepted"},lNt={value:"invoiced"},iNt={value:"rejected"},rNt={class:""},dNt={for:"Bulk Actions",class:"form-label"},cNt={value:""},uNt={value:"approve"},_Nt={value:"reject"},mNt={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},fNt={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},hNt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},pNt={class:"modal-content"},vNt={class:"modal-header"},gNt={class:"modal-title",id:"modalCenterTitle"},bNt={class:"modal-body"},yNt={class:"modal-footer"},kNt={class:"btn btn-primary",type:"submit"},$Nt={class:"mx-1 table-search-btn"},wNt={class:"mx-1 table-clear-btn"},DNt={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},xNt={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},CNt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},PNt={class:"modal-content"},ENt={class:"modal-header"},ANt={class:"modal-title",id:"modalCenterTitle"},INt={class:"modal-body"},RNt={class:"row mb-1"},SNt={class:"form-group"},TNt={for:""},jNt={class:"modal-footer"},ONt={class:"btn btn-primary",type:"submit"},MNt={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},LNt={class:""},NNt={class:"table-responsive"},FNt={class:"table"},YNt={class:"form-check"},VNt={key:0},BNt={colspan:"12",class:"text-center"},UNt={class:"text-center"},qNt={key:1},HNt={colspan:"12",class:"text-center"},zNt={class:"text-center"},WNt={class:"form-check"},KNt=["id","onChange"],GNt=["data-bs-target"],QNt={class:"text-success text-nowrap"},ZNt={class:"text-success text-nowrap"},JNt={class:""},XNt={class:""},eFt={class:""},tFt={class:"d-inline-block"},oFt={class:"dropdown-menu dropdown-menu-end m-0"},aFt=["onClick"],nFt={class:"dropdown-item badge bg-label-success"},sFt={key:1},lFt=["data-bs-target"],iFt={key:2,class:""},rFt=["href"],dFt={key:3,class:"dropdown-item badge bg-label-secondary"},cFt=["href"],uFt=["id"],_Ft={class:"modal-dialog modal-md",role:"document"},mFt=["onSubmit"],fFt={class:"modal-content"},hFt={class:"modal-header"},pFt={class:"modal-title",id:"modalCenterTitle"},vFt={class:"modal-body"},gFt={class:"form-label"},bFt={class:"form-group"},yFt={class:"modal-footer"},kFt={class:"btn btn-label-secondary","data-bs-dismiss":"modal",type:"button"},$Ft=["disabled"],wFt=["id"],DFt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},xFt={class:"modal-content"},CFt={class:"modal-header"},PFt={class:"modal-title",id:"modalCenterTitle"},EFt={class:"d-flex"},AFt=["href"],IFt=["href"],RFt={class:"modal-body"},SFt={class:"d-flex justify-content-between"},TFt={class:"mb-3 w-25"},jFt={class:"d-flex justify-content-between"},OFt={class:"fw-light my-auto"},MFt={class:"fw-bold mx-2 my-auto"},LFt={class:"d-flex justify-content-between"},NFt={class:"fw-light my-auto"},FFt={class:"fw-bold mx-2 my-auto"},YFt={class:"d-flex justify-content-between"},VFt={class:"fw-light my-auto"},BFt={class:"fw-bold mx-2 my-auto"},UFt={class:"d-flex justify-content-between"},qFt={class:"fw-light my-auto"},HFt={key:0,class:"d-flex justify-content-between"},zFt={class:"fw-light my-auto"},WFt={class:"fw-bold mx-2 my-auto"},KFt={class:"mb-3"},GFt={class:"d-flex justify-content-between"},QFt={class:"my-auto fw-light"},ZFt={class:"fw-bold mx-2 my-auto"},JFt={class:"d-flex justify-content-between"},XFt={class:"my-auto fw-light"},eYt={class:"fw-bold mx-2 my-auto"},tYt={class:"d-flex justify-content-between"},oYt={class:"my-auto fw-light"},aYt={class:"fw-bold mx-2 my-auto"},nYt={class:"d-flex justify-content-between"},sYt={class:"my-auto fw-light"},lYt={class:"fw-bold text-success mx-2 my-auto"},iYt={class:"table-responsive"},rYt={class:"table"},dYt={class:"bg-label-secondary px-2"},cYt={class:"d-flex justify-content-end"},uYt={class:"mx-2 my-auto py-1"},_Yt={class:"text-success my-auto py-1"};function mYt(o,a,s,t,c,m){const _=ce("pagination");return u(),f(G,null,[e("div",WLt,[e("div",KLt,[e("div",GLt,[e("label",QLt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",ZLt,[e("label",JLt,n(o.$t("PO No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"P.O No","onUpdate:modelValue":a[3]||(a[3]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.po_search]])]),e("div",XLt,[e("label",eNt,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[14]||(a[14]=e("input",{type:"text",id:"pending_date_search",class:"form-control form-search",name:"pending-daterange",placeholder:"Select Dates"},null,-1))]),e("div",tNt,[e("label",oNt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",aNt,n(o.$t("Status")),1),e("option",nNt,n(o.$t("Pending")),1),e("option",sNt,n(o.$t("Accepted")),1),e("option",lNt,n(o.$t("Invoiced")),1),e("option",iNt,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",rNt,[e("label",dNt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",cNt,n(o.$t("Bulk Actions")),1),e("option",uNt,n(o.$t("Accept")),1),e("option",_Nt,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",mNt,null,512),e("div",fNt,[e("div",hNt,[e("div",pNt,[e("div",vNt,[e("h5",gNt,n(o.$t("Accept Purchase Orders")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",bNt,[e("h5",null,n(o.$t("Are you sure you want to accept the selected purchase orders"))+"?",1)]),e("div",yNt,[e("button",kNt,n(o.$t("Submit")),1)])],32)])])]),e("div",$Nt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",wNt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[8]||(a[8]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",DNt,null,512),e("div",xNt,[e("div",CNt,[e("div",PNt,[e("div",ENt,[e("h5",ANt,n(o.$t("Reject Selected Purchase Orders")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",INt,[e("div",RNt,[e("div",SNt,[e("label",TNt,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",jNt,[e("button",ONt,n(o.$t("Submit")),1)])],32)])])])]),e("div",MNt,[e("div",LNt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[19]||(a[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",NNt,[e("table",FNt,[e("thead",null,[e("tr",null,[e("th",null,[e("div",YNt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("P.O No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[20]||(a[20]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",VNt,[e("td",BNt,[e("span",UNt,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",qNt,[e("td",HNt,[e("span",zNt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",WNt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,KNt)):b("",!0)])]),e("td",null,n(l.anchor.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,GNt),e("td",QNt,n(new Intl.NumberFormat().format(l.total_amount)),1),e("td",ZNt,n(l.purchase_order_items.length),1),e("td",JNt,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",XNt,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge m_title mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",eFt,[e("div",tFt,[a[21]||(a[21]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",oFt,[l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,style:{cursor:"pointer"},onClick:r=>t.submitApproval(l.id,"accepted")},[e("span",nFt,n(o.$t("Accept")),1)],8,aFt)):b("",!0),l.status=="pending_acceptance"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",sFt,[e("a",{href:"javascript;","data-bs-toggle":"modal","data-bs-target":"#reject-purchase-order-"+l.id,class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,lFt)])):b("",!0),l.can_flip&&l.status=="accepted"&&l.approval_stage!="Invoiced"?(u(),f("li",iFt,[e("a",{class:"dropdown-item badge bg-primary",href:"purchase-orders/"+l.id+"/convert"},n(o.$t("Convert to Invoice")),9,rFt)])):b("",!0),l.attachment?(u(),f("li",dFt,[e("a",{href:l.attachment,target:"_blank",class:"btn btn-secondary mx-1"},n(o.$t("Attachment")),9,cFt)])):b("",!0)])])]),e("td",null,[e("div",{class:"modal fade",id:"reject-purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",_Ft,[e("form",{onSubmit:st(r=>t.submitApproval(l.id,"rejected"),["prevent"])},[e("div",fFt,[e("div",hFt,[e("h5",pFt,n(o.$t("Reject Purchase Order")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",vFt,[e("label",gFt,n(o.$t("Rejection Reason")),1),e("div",bFt,[Y(e("textarea",{"onUpdate:modelValue":a[13]||(a[13]=r=>t.rejection_reason=r),id:"",rows:"5",class:"form-control"},null,512),[[X,t.rejection_reason]])])]),e("div",yFt,[e("button",kFt,n(o.$t("Close")),1),e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_submit},n(o.$t("Submit")),9,$Ft)])])],40,mFt)])],8,uFt),e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",DFt,[e("div",xFt,[e("div",CFt,[e("h5",PFt,n(o.$t("Purchase Order")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",EFt,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,AFt)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[24]||(a[24]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,IFt)):b("",!0)])]),e("div",RFt,[e("div",SFt,[e("div",TFt,[e("span",jFt,[e("h5",OFt,n(o.$t("Buyer"))+":",1),e("h6",MFt,n(l.anchor.name),1)]),e("span",LFt,[e("h5",NFt,n(o.$t("Delivery Address"))+":",1),e("h6",FFt,n(l.delivery_address),1)]),e("span",YFt,[e("h5",VFt,n(o.$t("Remarks"))+":",1),e("h6",BFt,n(l.remarks),1)]),e("span",UFt,[e("h5",qFt,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",HFt,[e("h5",zFt,n(o.$t("Rejection Reason"))+":",1),e("h6",WFt,n(l.rejection_reason),1)])):b("",!0)]),e("div",KFt,[e("span",GFt,[e("h5",QFt,n(o.$t("PO No"))+":",1),e("h6",ZFt,n(l.purchase_order_number),1)]),e("span",JFt,[e("h5",XFt,n(o.$t("Start Date"))+":",1),e("h6",eYt,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",tYt,[e("h5",oYt,n(o.$t("End Date"))+":",1),e("h6",aYt,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",nYt,[e("h5",sYt,n(o.$t("PO Amount"))+":",1),e("h6",lYt," Ksh "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",iYt,[e("table",rYt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",dYt,[e("span",cYt,[e("h6",uYt,n(o.$t("Total")),1),e("h5",_Yt,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,wFt)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])],64)}const fYt=Ue(zLt,[["render",mYt]]),hYt={name:"AllInvoicesReport",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(0),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(0),y="../../../../../assets/img/spinner.svg",x=async()=>{await A.get(s+"reports/all-invoices-report",{params:{per_page:c.value}}).then(R=>{t.value=R.data.invoices}).catch(R=>{console.log(R)})},C=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+R+"/details").then(N=>{g.value=N.data,w.value++,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})};Qe(()=>{x()});const E=R=>{let O="";switch(R){case"Overdue":O="bg-label-danger";break;case"Created":O="bg-label-secondary";break;case"Pending Maker":O="bg-label-primary";break;case"Pending Checker":O="bg-label-danger";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;case"Rejected":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},D=R=>{let O="";switch(R){case"pending":O="bg-label-primary";break;case"submitted":O="bg-label-warning";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},k=(R,O)=>(O/R*100).toFixed(2);ot([c],([R])=>{A.get(s+"reports/all-invoices-report",{params:{per_page:R}}).then(O=>{t.value=O.data.invoices}).catch(O=>{console.log(O)})});const I=()=>{v.value=$("#date_search").val(),v.value&&(l.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/all-invoices-report",{params:{per_page:c.value,invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(O=>{t.value=O.data.invoices}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},V=()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value=0,l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#date_search").val(""),A.get(s+"reports/all-invoices-report",{params:{per_page:c.value}}).then(O=>{t.value=O.data.invoices}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},B=async R=>{await A.get(R,{params:{per_page:c.value,invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(O=>{t.value=O.data.invoices})},L=h(!1),F=h(!1);return{moment:H,invoice_number_search:m,amount_search:_,from_date_search:l,to_date_search:r,disbursement_date_search:i,status_search:d,financing_status_search:p,invoices:t,per_page:c,invoice_number_search:m,invoice_details:g,changePage:B,resolveFinancingStatus:D,resolveStatus:E,getTaxPercentage:k,exportReport:()=>{L.value=!0,v.value=$("#date_search").val(),v.value&&(l.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+"report/all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{L.value=!1})},exportPdfReport:()=>{F.value=!0,v.value=$("#date_search").val(),v.value&&(l.value=H(v.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(v.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+"report/all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,invoice_amount:_.value,from_date:l.value,to_date:r.value,disbursement_date:i.value,status:d.value,financing_status:p.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{F.value=!1})},filter:I,refresh:V,showInvoice:C,downloadingExcel:L,downloadingPdf:F,spinner:y,invoice_details_key:w}}},pYt={class:"card p-2"},vYt={class:"d-flex flex-column flex-md-row justify-content-between"},gYt={class:"d-flex flex-wrap gap-1"},bYt={class:""},yYt={for:"Invoice No",class:"form-label mx-1"},kYt={class:""},$Yt={class:"form-label",for:""},wYt={class:""},DYt={for:"Status",class:"form-label"},xYt={value:""},CYt={value:"pending"},PYt={value:"pending_maker"},EYt={value:"pending_checker"},AYt={value:"approved"},IYt={value:"rejected"},RYt={value:"past_due"},SYt={value:"expired"},TYt={class:""},jYt={for:"Financing Status",class:"form-label"},OYt={value:""},MYt={value:"pending"},LYt={value:"submitted"},NYt={value:"financed"},FYt={value:"disbursed"},YYt={value:"closed"},VYt={value:"denied"},BYt={class:"table-search-btn"},UYt={class:"table-clear-btn"},qYt={class:"d-flex flex-column flex-lg-row justify-content-md-end mt-2 mt-md-auto gap-1"},HYt={class:""},zYt={key:0,class:"d-flex"},WYt=["src"],KYt={key:0,class:"d-flex"},GYt=["src"],QYt={class:"table-responsive"},ZYt={class:"table"},JYt={class:"text-nowrap"},XYt={class:"table-border-bottom-0"},eVt={key:0},tVt={colspan:"12",class:"text-center"},oVt={class:"text-center"},aVt={key:1},nVt={colspan:"12",class:"text-center"},sVt={class:"text-center"},lVt=["onClick"],iVt={class:"me-1"},rVt={class:"text-success text-nowrap"},dVt={key:0},cVt={key:1},uVt={key:0,class:"text-success text-nowrap"},_Vt={key:1},mVt=["id","data-bs-target"],fVt=["id","data-bs-target"],hVt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},pVt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},vVt={class:"modal-content"},gVt={class:"modal-body"},bVt={class:"d-flex justify-content-center"};function yVt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",pYt,[e("div",vYt,[e("div",gYt,[e("div",bYt,[e("label",yYt,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",kYt,[e("label",$Yt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",wYt,[e("label",DYt,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.status_search=i)},[e("option",xYt,n(o.$t("Status")),1),e("option",CYt,n(o.$t("Pending (Internal Approval)")),1),e("option",PYt,n(o.$t("Pending Maker")),1),e("option",EYt,n(o.$t("Pending Checker")),1),e("option",AYt,n(o.$t("Approved")),1),e("option",IYt,n(o.$t("Rejected")),1),e("option",RYt,n(o.$t("Overdue")),1),e("option",SYt,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",TYt,[e("label",jYt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.financing_status_search=i)},[e("option",OYt,n(o.$t("Status")),1),e("option",MYt,n(o.$t("Pending")),1),e("option",LYt,n(o.$t("Submitted")),1),e("option",NYt,n(o.$t("Financed")),1),e("option",FYt,n(o.$t("Disbursed")),1),e("option",YYt,n(o.$t("Closed")),1),e("option",VYt,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",BYt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",UYt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qYt,[e("div",HYt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,WYt)):(u(),f("span",zYt,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,GYt)):(u(),f("span",KYt,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",QYt,[e("table",ZYt,[e("thead",null,[e("tr",JYt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1)])]),e("tbody",XYt,[t.invoices.data?b("",!0):(u(),f("tr",eVt,[e("td",tVt,[e("span",oVt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",aVt,[e("td",nVt,[e("span",sVt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,lVt),e("td",null,[e("span",iVt,n(i.anchor),1)]),e("td",rVt,[le(n(i.currency)+". ",1),i.status!="created"&&i.status!="pending"&&i.status!="submitted"?(u(),f("span",dVt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)):(u(),f("span",cVt,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1))]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[i.discount>0&&(i.status=="disbursed"||i.status=="closed")?(u(),f("span",uVt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("span",_Vt,"-")),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,mVt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,fVt),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",hVt,[e("div",pVt,[e("div",vVt,[e("div",gVt,[e("div",bVt,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const lD=Ue(hYt,[["render",yVt]]),kVt={name:"ProgramReport",components:{Pagination:Na},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l="../../../../../assets/img/spinner.svg",r=()=>{A.get(s+"reports/programs-report",{params:{per_page:c.value}}).then(x=>{t.value=x.data.programs})};Qe(()=>{r()}),ot([c],([x])=>{A.get(s+"reports/programs-report",{params:{per_page:x}}).then(C=>{t.value=C.data.programs}).catch(C=>{console.log(C)})});const i=()=>{A.get(s+"reports/programs-report",{params:{per_page:c.value,program_code:m.value,anchor:_.value}}).then(x=>{t.value=x.data.programs}).catch(x=>{console.log(x)})},d=()=>{m.value="",_.value="",A.get(s+"reports/programs-report",{params:{per_page:c.value}}).then(x=>{t.value=x.data.programs}).catch(x=>{console.log(x)})},p=h(!1),v=h(!1);return{moment:H,program_code_search:m,program_anchor_search:_,programs:t,per_page:c,changePage:async x=>{await A.get(x).then(C=>{t.value=C.data.programs})},exportReport:()=>{p.value=!0,A.get(s+"report/programs-report/export",{responseType:"arraybuffer",method:"GET"}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{p.value=!1})},exportPdfReport:()=>{v.value=!0,A.get(s+"report/programs-report/pdf/export",{responseType:"arraybuffer",method:"GET"}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},filter:i,refresh:d,downloadingExcel:p,downloadingPdf:v,spinner:l}}},$Vt={class:"card p-2"},wVt={class:"d-flex flex-column flex-md-row justify-content-between"},DVt={class:"d-flex flex-wrap gap-1"},xVt={class:""},CVt={for:"Status",class:"form-label mx-1"},PVt={class:"mx-1"},EVt={for:"Status",class:"form-label mx-1"},AVt={class:"mx-1 table-search-btn"},IVt={class:"mx-1 table-clear-btn"},RVt={class:"d-flex justify-content-md-end mt-2 mt-md-auto gap-1"},SVt={key:0,class:"d-flex"},TVt=["src"],jVt={key:0,class:"d-flex"},OVt=["src"],MVt={class:"table-responsive"},LVt={class:"table"},NVt={class:"text-nowrap"},FVt={class:"table-border-bottom-0"},YVt={key:0},VVt={colspan:"12",class:"text-center"},BVt={class:"text-center"},UVt={key:1},qVt={colspan:"12",class:"text-center"},HVt={class:"text-center"},zVt={class:"me-1"},WVt={class:"text-success text-nowrap"},KVt={class:"text-success text-nowrap"},GVt={class:"text-success text-nowrap"},QVt={class:"text-success text-nowrap"};function ZVt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",$Vt,[e("div",wVt,[e("div",DVt,[e("div",xVt,[e("label",CVt,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Program Code","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_code_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.program_code_search]])]),e("div",PVt,[e("label",EVt,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=l=>t.program_anchor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.program_anchor_search]])]),e("div",AVt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",IVt,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",RVt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,TVt)):(u(),f("span",SVt,[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,OVt)):(u(),f("span",jVt,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",MVt,[e("table",LVt,[e("thead",null,[e("tr",NVt,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",FVt,[t.programs.data?b("",!0):(u(),f("tr",YVt,[e("td",VVt,[e("span",BVt,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",UVt,[e("td",qVt,[e("span",HVt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",zVt,n(l.anchor_name),1)]),e("td",WVt,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",KVt,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",GVt,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",QVt,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const iD=Ue(kVt,[["render",ZVt]]),JVt={name:"PaymentsReport",components:{Pagination:Na,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=h(null),w=h(""),y=h(""),x="../../../../../assets/img/spinner.svg",C=h(0),E=()=>{A.get(s+"reports/payments-report",{params:{per_page:v.value}}).then(N=>{t.value=N.data.payments}).catch(N=>{console.log(N)})},D=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+N+"/details").then(U=>{g.value=U.data,C.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};Qe(()=>{E()});const k=N=>{let S="";switch(N){case"created":S="bg-label-secondary";break;case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-primary";break;case"approved":S="bg-label-secondary";break;case"disbursed":S="bg-label-success";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},I=N=>{let S="";switch(N){case"pending":S="bg-label-primary";break;case"submitted":S="bg-label-primary";break;case"financed":S="bg-label-success";break;case"closed":S="bg-label-secondary";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},V=(N,S)=>(S/N*100).toFixed(2),B=h(!1),L=h(!1),F=()=>{B.value=!0,A.get(s+"report/payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{B.value=!1})},T=()=>{L.value=!0,A.get(s+"report/payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{L.value=!1})};return ot([v],([N])=>{A.get(s+"reports/payments-report",{params:{per_page:N,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(S=>{t.value=S.data.payments}).catch(S=>{console.log(S)})}),{moment:H,payments:t,per_page:v,invoice_number_search:m,invoice_status_search:p,from_date_search:_,to_date_search:l,from_disbursement_date_search:r,to_disbursement_date_search:i,po_search:d,financing_status_search:c,resolveStatus:k,resolveFinancingStatus:I,getTaxPercentage:V,changePage:async N=>{await A.get(N,{params:{per_page:v.value,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(S=>{t.value=S.data.payments})},exportReport:F,exportPdfReport:T,filter:()=>{w.value=$("#date_search").val(),w.value&&(_.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/payments-report",{params:{per_page:v.value,invoice_number:m.value,financing_status:c.value,from_due_date:_.value,to_due_date:l.value,from_disbursement_date:r.value,to_disbursement_date:i.value,po:d.value,invoice_status:p.value}}).then(S=>{t.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},refresh:()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",d.value="",p.value="",_.value="",l.value="",$("#date_search").val(""),r.value="",i.value="",$("#disbursement_date_search").val(""),A.get(s+"reports/payments-report",{params:{per_page:v.value}}).then(S=>{t.value=S.data.payments}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},invoice_details:g,showInvoice:D,downloadingExcel:B,downloadingPdf:L,spinner:x,show_invoice_key:C}}},XVt={class:"card p-2"},eBt={class:"d-flex flex-column flex-md-row justify-content-between"},tBt={class:"d-flex flex-wrap gap-1"},oBt={class:""},aBt={for:"Invoice No",class:"form-label"},nBt={class:""},sBt={for:"PO No",class:"form-label"},lBt={class:""},iBt={class:"form-label",for:""},rBt={class:""},dBt={class:"form-label",for:""},cBt={class:""},uBt={for:"Financing Status",class:"form-label"},_Bt={value:""},mBt={value:"disbursed"},fBt={value:"closed"},hBt={class:"table-search-btn"},pBt={class:"table-clear-btn"},vBt={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},gBt={key:0,class:"d-flex"},bBt=["src"],yBt={key:0,class:"d-flex"},kBt=["src"],$Bt={class:"table-responsive"},wBt={class:"table"},DBt={class:""},xBt={class:"table-border-bottom-0"},CBt={key:0},PBt={colspan:"12",class:"text-center"},EBt={class:"text-center"},ABt={key:1},IBt={colspan:"12",class:"text-center"},RBt={class:"text-center"},SBt=["onClick"],TBt={class:"text-success text-nowrap"},jBt={class:"text-success text-nowrap"},OBt={class:"text-success text-nowrap"},MBt={class:"text-success text-nowrap"},LBt={class:"text-success text-nowrap"},NBt={class:"text-success text-nowrap"},FBt=["id","data-bs-target"],YBt=["id","data-bs-target"],VBt=["id","data-bs-target"],BBt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},UBt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qBt={class:"modal-content"},HBt={class:"modal-body"},zBt={class:"d-flex justify-content-center"};function WBt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",XVt,[e("div",eBt,[e("div",tBt,[e("div",oBt,[e("label",aBt,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",nBt,[e("label",sBt,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[2]||(a[2]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.po_search]])]),e("div",lBt,[e("label",iBt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",rBt,[e("label",dBt,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",cBt,[e("label",uBt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status_search=i)},[e("option",_Bt,n(o.$t("Financing Status")),1),e("option",mBt,n(o.$t("Disbursed")),1),e("option",fBt,n(o.$t("Closed")),1)],512),[[de,t.financing_status_search]])]),e("div",hBt,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",pBt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",vBt,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,bBt)):(u(),f("span",gBt,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,kBt)):(u(),f("span",yBt,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.payments.meta?(u(),me(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",$Bt,[e("table",wBt,[e("thead",null,[e("tr",DBt,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("P.I Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Discount Amount")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Charges")),1),e("th",null,n(o.$t("Disbursed Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",xBt,[t.payments.data?b("",!0):(u(),f("tr",CBt,[e("td",PBt,[e("span",EBt,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",ABt,[e("td",IBt,[e("span",RBt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,SBt),e("td",null,n(i.anchor),1),e("td",TBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.total_amount)),1),e("td",jBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",OBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount)),1),e("td",MBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.program_fees)),1),e("td",LBt,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount+i.program_fees)),1),e("td",null,[e("span",NBt,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,FBt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,YBt),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,VBt),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",BBt,[e("div",UBt,[e("div",qBt,[e("div",HBt,[e("div",zBt,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.show_invoice_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.payments.meta?(u(),me(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const rD=Ue(JVt,[["render",WBt]]),KBt={name:"Reports",components:{AllInvoicesReport:lD,ProgramReport:iD,PaymentsReport:rD},props:["can_view_all_invoices","can_view_programs","can_view_payments"],setup(o){const a=o.can_view_all_invoices,s=o.can_view_programs,t=o.can_view_payments,c=h(null),m=h(null),_=h(null);return Qe(()=>{c.value.getReport()}),{can_view_all_invoices:a,can_view_programs:s,can_view_payments:t,invoices_report:c,programs_report:m,payments_report:_,switchTabs:r=>{switch(r){case"invoices_report":c.value.getReport();break;case"programs_report":m.value.getPrograms();break;case"payments_report":_.value.getRequests();break}}}}},GBt={class:"nav-align-top nav-tabs-shadow mb-4"},QBt={class:"nav nav-tabs",role:"tablist"},ZBt={key:0,class:"nav-item"},JBt={key:1,class:"nav-item"},XBt={key:2,class:"nav-item"},eUt={class:"tab-content"},tUt={key:0,class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},oUt={key:1,class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},aUt={key:2,class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function nUt(o,a,s,t,c,m){const _=ce("all-invoices-report"),l=ce("program-report"),r=ce("payments-report");return u(),f("div",GBt,[e("ul",QBt,[t.can_view_all_invoices==1?(u(),f("li",ZBt,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},"All Invoices Report")])):b("",!0),t.can_view_programs==1?(u(),f("li",JBt,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"}," Program Report ")])):b("",!0),t.can_view_payments==1?(u(),f("li",XBt,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},"Payments Report")])):b("",!0)]),e("div",eUt,[t.can_view_all_invoices==1?(u(),f("div",tUt,[Be(_,{ref:"invoices_report"},null,512)])):b("",!0),t.can_view_programs==1?(u(),f("div",oUt,[Be(l,{ref:"programs_report"},null,512)])):b("",!0),t.can_view_payments==1?(u(),f("div",aUt,[Be(r,{ref:"payments_report"},null,512)])):b("",!0)])])}const sUt=Ue(KBt,[["render",nUt]]),lUt={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("settings/bank-accounts-data").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},iUt={class:"table"},rUt={class:"table-border-bottom-0"},dUt={class:""},cUt=["value"],uUt={class:""},_Ut=["value"],mUt={class:""},fUt=["value"],hUt={class:""},pUt=["value"],vUt={class:""},gUt=["value"],bUt={class:""},yUt=["value"];function kUt(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",iUt,[e("tbody",rUt,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",dUt,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,cUt)])]),e("td",null,[e("div",uUt,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,_Ut)])]),e("td",null,[e("div",mUt,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,fUt)])]),e("td",null,[e("div",hUt,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,pUt)])]),e("td",null,[e("div",vUt,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,gUt)])]),e("td",null,[e("div",bUt,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,yUt)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const $Ut=Ue(lUt,[["render",kUt]]),wUt={name:"ApprovalSettings",setup(o,a){const s=lt(),t=h([]),c=()=>{A.get("settings/anchors").then(_=>{t.value=_.data}).catch(_=>{console.log(_)})};return a.expose({getAnchors:c}),{programs:t,update:_=>{A.post("settings/anchors/update",{program_id:_}).then(()=>{c(),s.success("Updated successfully")}).catch(l=>{console.log(l),s.error("An error occurred")})}}}},DUt={class:"fw-bold py-3 mb-2 d-flex flex-column"},xUt={class:"fw-light px-3"},CUt={class:"px-3"},PUt={class:"col-md-4 d-flex flex-column"},EUt={for:"html5-text-input",class:"col-form-label"},AUt={class:"col-md-4"},IUt={class:"form-check form-switch mb-2"},RUt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},SUt=["checked","onChange"],TUt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"};function jUt(o,a,s,t,c,m){return u(),f("div",null,[e("h5",DUt,[e("span",xUt,n(o.$t("Discounting")),1),e("small",CUt,n(o.$t("Auto"))+" - "+n(o.$t("All anchor approved invoices will be sent to bank automatically")),1)]),(u(!0),f(G,null,ee(t.programs,_=>(u(),f("div",{class:"row px-3 mb-2",key:_.id},[e("div",PUt,[e("label",EUt,n(_.anchor.name)+" ("+n(_.vendor_configuration.payment_account_number)+")",1)]),e("div",AUt,[e("div",IUt,[e("label",RUt,n(o.$t("Manual")),1),e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:_.vendor_configuration.auto_request_finance,onChange:l=>t.update(_.id)},null,40,SUt),e("label",TUt,n(o.$t("Auto")),1)])])]))),128))])}const OUt=Ue(wUt,[["render",jUt],["__scopeId","data-v-14b1c40c"]]),MUt={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=o.checker,c=lt(),m=h([]),_=h(""),l=h(""),r=h(null),i=h(!1),d=h(!1),p=h(!1),v=h(!1),g=h(null),w=h(!1),y=h(!1),x=h(!1),C=()=>{A.get("settings/invoice-settings").then(V=>{m.value=V.data.settings,i.value=m.value.maker_checker_creating_updating,d.value=m.value.auto_request_financing,p.value=m.value.purchase_order_acceptance=="manual",l.value=m.value.description,_.value=m.value.footer,v.value=V.data.settings.request_financing_maker_checker,m.value.proposed_update&&(w.value=V.data.can_approve&&V.data.user_id!=m.value.proposed_update.user_id)}).catch(V=>{console.log(V)})};a.expose({getInvoiceSettings:C});const E=()=>{const V=new FormData;V.append("maker_checker_creating_updating",i.value),V.append("request_financing_maker_checker",v.value),V.append("auto_request_financing",d.value),V.append("purchase_order_acceptance",p.value),V.append("company_logo",r.value),V.append("description",l.value),V.append("footer",_.value),A.post("settings/invoice-settings/update",V).then(B=>{C(),r.value=null,c.success(B.data.message)}).catch(B=>{c.error(B.response.data.message)})},D=V=>{V.preventDefault();let B=V.target.files||V.dataTransfer.files;B.length&&(r.value=B[0])},k=()=>{l.value=g.value.getHTML().toString()};return ot([i,v,p,r,l,_],([V,B,L,F,T,P])=>{V!=m.value.maker_checker_creating_updating||B!=m.value.request_financing_maker_checker?y.value=!0:y.value=!1,(m.value.purchase_order_acceptance=="manual"&&!L||m.value.purchase_order_acceptance=="auto"&&L)&&(y.value=!0),P!=m.value.footer||T!=m.value.description||F?x.value=!0:x.value=!1}),{can_edit:s,checker:t,editor:g,can_approve:w,invoice_settings:m,invoice_content:l,invoice_logo:r,invoice_footer:_,maker_checker:i,auto_request_financing:d,request_financing_maker_checker:v,purchase_order_acceptance:p,updateStatus:V=>{A.get("settings/invoice-settings/status/"+V+"/update").then(B=>{C(),r.value=null,c.success(B.data.message),document.getElementById("close-modal").click()}).catch(B=>{c.error(B.response.data.message)})},changeFile:D,changeDescription:k,updateInvoiceSettings:E,can_submit_lower:x,can_submit_upper:y}}},LUt={class:"d-flex justify-content-between p-1"},NUt={class:"fw-bold py-3"},FUt={class:"fw-light px-3"},YUt={key:0,class:"my-auto px-2"},VUt={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},BUt={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},UUt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},qUt={class:"modal-content"},HUt={class:"modal-header"},zUt={class:"modal-title",id:"modalCenterTitle"},WUt={class:"modal-body"},KUt={key:0},GUt={key:0},QUt={key:1},ZUt={key:1},JUt={key:0},XUt={key:1},eqt={key:2},tqt={key:0},oqt={key:1},aqt={key:3},nqt=["href"],sqt={key:4},lqt=["innerHTML"],iqt={key:5},rqt={class:"modal-footer"},dqt={class:"row px-2 mb-2"},cqt={class:"col-md-4"},uqt={class:"row border rounded border-primary mx-2 py-2"},_qt={class:"col-md-9 d-flex flex-column"},mqt={class:"col-form-label"},fqt={class:"col-md-3 mt-2"},hqt={class:"form-check form-switch"},pqt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},vqt=["checked"],gqt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},bqt={class:"col-md-4"},yqt={class:"row border rounded border-primary mx-2 py-2"},kqt={class:"col-md-9 d-flex flex-column"},$qt={class:"col-form-label"},wqt={class:"col-md-3 mt-2"},Dqt={class:"form-check form-switch"},xqt={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Cqt=["checked"],Pqt={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Eqt={class:"col-md-4"},Aqt={class:"row border rounded border-primary mx-2 py-2"},Iqt={class:"col-md-9 d-flex flex-column"},Rqt={class:"col-form-label"},Sqt={class:"col-md-3 mt-2"},Tqt={class:"form-check form-switch"},jqt={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-95px"}},Oqt=["checked"],Mqt={class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"40px"}},Lqt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},Nqt={class:"btn btn-primary",type:"submit"},Fqt={class:"fw-bold py-3 mb-2"},Yqt={class:"fw-light px-3"},Vqt={class:"row px-3 mb-2"},Bqt={class:"col-md-6 border-bottom d-flex flex-column"},Uqt={for:"html5-text-input",class:"col-form-label"},qqt={class:"col-md-6"},Hqt={class:"row px-3 mb-2"},zqt={class:"col-md-6 d-flex flex-column"},Wqt={for:"",class:"col-form-label"},Kqt={class:"col-md-6 mb-4"},Gqt={class:"row px-3 mb-2 mt-4"},Qqt={class:"col-md-6 d-flex flex-column"},Zqt={for:"html5-text-input",class:"col-form-label"},Jqt={class:"col-md-6"},Xqt={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},eHt={class:"btn btn-primary",type:"submit"};function tHt(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",LUt,[e("h5",NUt,[e("span",FUt,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",YUt,[e("button",VUt,n(o.$t("View Proposed Changes")),1),e("div",BUt,[e("div",UUt,[e("div",qUt,[e("div",HUt,[e("h5",zUt,n(o.$t("Confirm Changes")),1),a[9]||(a[9]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",WUt,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",KUt,[le(n(o.$t("Change Maker/Checker for Invoice Creating/Updating from"))+" ",1),t.maker_checker?(u(),f("span",GUt,n(o.$t("Yes to No")),1)):(u(),f("span",QUt,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_financing_maker_checker"?(u(),f("div",ZUt,[le(n(o.$t("Change Maker/Checker for Request Financing from"))+" ",1),t.request_financing_maker_checker?(u(),f("span",JUt,n(o.$t("Yes to No")),1)):(u(),f("span",XUt,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",eqt,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",tqt,n(o.$t("Yes to No")),1)):(u(),f("span",oqt,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",aqt,[le(n(o.$t("Change Logo to "))+" ",1),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},"View File",8,nqt)])):b("",!0),i=="description"?(u(),f("div",sqt,[le(n(o.$t("Change Description To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,lqt)])):b("",!0),i=="footer"?(u(),f("div",iqt,[le(n(o.$t("Change Footer To"))+": ",1),a[11]||(a[11]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",rqt,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[5]||(a[5]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",dqt,[e("div",cqt,[e("div",uqt,[e("div",_qt,[e("label",mqt,n(o.$t("Invoice Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",fqt,[e("div",hqt,[e("label",pqt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,vqt),[[Yo,t.maker_checker]]),e("label",gqt,n(o.$t("Yes")),1)])])])]),e("div",bqt,[e("div",yqt,[e("div",kqt,[e("label",$qt,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request will go to Checker for authorization")),1)]),e("div",wqt,[e("div",Dqt,[e("label",xqt,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_financing_maker_checker,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_financing_maker_checker=l)},null,8,Cqt),[[Yo,t.request_financing_maker_checker]]),e("label",Pqt,n(o.$t("Yes")),1)])])])]),e("div",Eqt,[e("div",Aqt,[e("div",Iqt,[e("label",Rqt,n(o.$t("Purchase Order Acceptance")),1),e("small",null,n(o.$t("Automatically accept POs uploaded by anchors")),1)]),e("div",Sqt,[e("div",Tqt,[e("label",jqt,n(o.$t("Auto")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",style:{"margin-left":"-55px"},checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,Oqt),[[Yo,t.purchase_order_acceptance]]),e("label",Mqt,n(o.$t("Manual")),1)])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",Lqt,[e("button",Nqt,n(o.$t("Submit")),1)])):b("",!0)],32),a[12]||(a[12]=e("hr",null,null,-1)),e("h5",Fqt,[e("span",Yqt,n(o.$t("Invoice Settings")),1)]),e("form",{onSubmit:a[8]||(a[8]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",Vqt,[e("div",Bqt,[e("label",Uqt,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",qqt,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[6]||(a[6]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",Hqt,[e("div",zqt,[e("label",Wqt,n(o.$t("Invoice Description")),1),e("small",null,n(o.$t("Will be shown in invoice as description")),1)]),e("div",Kqt,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",Gqt,[e("div",Qqt,[e("label",Zqt,n(o.$t("Invoice Footer")),1),e("small",null,n(o.$t("Will be shown in invoice footer")),1)]),e("div",Jqt,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[7]||(a[7]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",Xqt,[e("button",eHt,n(o.$t("Submit")),1)])):b("",!0)],32)])}const oHt=Ue(MUt,[["render",tHt],["__scopeId","data-v-6b018552"]]),aHt={name:"TaxDetails",setup(o,a){const s=lt(),t=h([]),c=h(""),m=h(""),_=h(""),l=()=>{A.get("settings/taxes").then(d=>{t.value=d.data})};return a.expose({getTaxes:l}),{taxes:t,tax_name:c,tax_number:m,tax_value:_,addTax:()=>{A.post("settings/taxes",{tax_name:c.value,tax_number:m.value,tax_value:_.value}).then(()=>{l(),s.success("Tax added successfully"),c.value="",m.value="",_.value=""}).catch(d=>{console.log(d),s.error("An error occurred while adding")})},deleteTax:d=>{A.delete(`settings/taxes/${d}`).then(()=>{l(),s.success("Tax deleted successfully")}).catch(p=>{console.log(p),s.error("An error occurred while deleting")})}}}},nHt={class:"py-3"},sHt={class:"table"},lHt={class:"table-border-bottom-0"},iHt={class:""},rHt=["value"],dHt={class:""},cHt=["value"],uHt={class:""},_Ht=["value"],mHt=["onClick"],fHt={class:"table"},hHt={class:"table-border-bottom-0"},pHt={class:"text-nowrap"},vHt={class:""},gHt={class:""},bHt={class:""};function yHt(o,a,s,t,c,m){return u(),f("div",nHt,[e("table",sHt,[e("tbody",lHt,[(u(!0),f(G,null,ee(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",iHt,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,rHt)])]),e("td",null,[e("div",dHt,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,cHt)])]),e("td",null,[e("div",uHt,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,_Ht)])]),e("td",null,[e("div",null,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,mHt)])])]))),128))])]),a[5]||(a[5]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",fHt,[e("tbody",hHt,[e("tr",pHt,[e("td",null,[e("div",vHt,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[X,t.tax_name]])])]),e("td",null,[e("div",gHt,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[X,t.tax_number]])])]),e("td",null,[e("div",bHt,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[X,t.tax_value]])])])])])]),a[4]||(a[4]=e("div",{class:"d-flex px-3"},[e("button",{class:"btn btn-primary",type:"submit"}," Add ")],-1))],32)])}const kHt=Ue(aHt,[["render",yHt]]),$Ht={name:"Settings",props:["can_edit","can_edit_anchor","checker","has_proposed_updates"],components:{BankAccounts:$Ut,ApprovalSettings:OUt,InvoiceSettings:oHt,TaxDetails:kHt},setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=h(null),m=h(null),_=h(null),l=h(null);return Qe(()=>{c.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,bank_accounts:c,approval_settings:m,invoice_settings:_,tax_details:l,switchTabs:i=>{switch(i){case"bank-accounts":c.value.getBankAccounts();break;case"approval-settings":m.value.getAnchors();break;case"invoice-settings":_.value.getInvoiceSettings();break;case"tax-details":l.value.getTaxes();break}},has_proposed_updates:t}}},wHt={class:"nav-align-top mb-4"},DHt={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},xHt={class:"nav-item"},CHt={key:0,class:"nav-item"},PHt={key:1,class:"nav-item"},EHt={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},AHt={key:2,class:"nav-item"},IHt={class:"tab-content"},RHt={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},SHt={class:"tab-pane fade",id:"navs-pills-configurations",role:"tabpanel"},THt={class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"},jHt={class:"tab-pane fade",id:"navs-pills-po-settings",role:"tabpanel"};function OHt(o,a,s,t,c,m){const _=ce("bank-accounts"),l=ce("approval-settings"),r=ce("invoice-settings"),i=ce("tax-details");return u(),f("div",wHt,[e("ul",DHt,[e("li",xHt,[e("button",{type:"button",onClick:a[0]||(a[0]=d=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[4]||(a[4]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA)")]))]),t.can_edit_anchor==1?(u(),f("li",CHt,[e("button",{type:"button",onClick:a[1]||(a[1]=d=>t.switchTabs("approval-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-configurations","aria-controls":"navs-pills-configurations","aria-selected":"false"},a[5]||(a[5]=[e("i",{class:"tf-icons ti ti-clipboard-check ti-xs me-1"},null,-1),le(" Approval/Auto Financing Settings ")]))])):b("",!0),t.can_edit==1?(u(),f("li",PHt,[e("button",{type:"button",onClick:a[2]||(a[2]=d=>t.switchTabs("invoice-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[6]||(a[6]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[7]||(a[7]=le(" Invoice Settings ")),t.has_proposed_updates==1?(u(),f("i",EHt)):b("",!0)])])):b("",!0),t.can_edit==1?(u(),f("li",AHt,[e("button",{type:"button",onClick:a[3]||(a[3]=d=>t.switchTabs("tax-details")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-po-settings","aria-controls":"navs-pills-po-settings","aria-selected":"false"},a[8]||(a[8]=[e("i",{class:"tf-icons ti ti-settings ti-xs me-1"},null,-1),le(" Tax Details")]))])):b("",!0)]),e("div",IHt,[e("div",RHt,[Be(_,{ref:"bank_accounts"},null,512)]),e("div",SHt,[t.can_edit_anchor==1?(u(),me(l,{key:0,ref:"approval_settings"},null,512)):b("",!0)]),e("div",THt,[t.can_edit==1?(u(),me(r,{key:0,ref:"invoice_settings",can_edit:t.can_edit},null,8,["can_edit"])):b("",!0)]),e("div",jHt,[t.can_edit==1?(u(),me(i,{key:0,ref:"tax_details",can_edit:t.can_edit},null,8,["can_edit"])):b("",!0)])])])}const MHt=Ue($Ht,[["render",OHt]]),LHt={name:"LoanAccounts",components:{Pagination:Na},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"invoices/accounts/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.accounts})};return Qe(()=>{t()}),{per_page:s,moment:H,accounts:a,changePage:async m=>{await A.get(m).then(_=>{a.value=_.data.accounts})}}}},NHt={class:"card"},FHt={class:"card-body"},YHt={class:"d-flex justify-content-between"},VHt={class:"d-flex"},BHt={class:"table-responsive p-2"},UHt={class:"table"},qHt={key:0},HHt={colspan:"12",class:"text-center"},zHt={class:"text-center"},WHt={key:1},KHt={colspan:"12",class:"text-center"},GHt={class:"text-center"},QHt={class:""};function ZHt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",NHt,[e("div",FHt,[e("div",YHt,[a[2]||(a[2]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",VHt,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.accounts.from,to:t.accounts.to,links:t.accounts.links,next_page:t.accounts.next_page_url,prev_page:t.accounts.prev_page_url,total_items:t.accounts.total,first_page_url:t.accounts.first_page_url,last_page_url:t.accounts.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",BHt,[e("table",UHt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("My Loan/OD Account")),1)])]),e("tbody",null,[t.accounts.data?b("",!0):(u(),f("tr",qHt,[e("td",HHt,[e("span",zHt,n(o.$t("Loading Data"))+"...",1)])])),t.accounts.data&&t.accounts.data.length<=0?(u(),f("tr",WHt,[e("td",KHt,[e("span",GHt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.program.name),1),e("td",null,n(l.program.anchor.name),1),e("td",QHt,n(l.payment_account_number),1)]))),128))])])]),Be(_,{from:t.accounts.from,to:t.accounts.to,links:t.accounts.links,next_page:t.accounts.next_page_url,prev_page:t.accounts.prev_page_url,total_items:t.accounts.total,first_page_url:t.accounts.first_page_url,last_page_url:t.accounts.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const JHt=Ue(LHt,[["render",ZHt]]),XHt={name:"InvoicesUpload",setup(){const o=Je("baseURL"),a=h(null),s=lt(),t=h(!0),c=h(!1),m=h(0);return{selected_file:m,can_submit:t,show_error_download_link:c,selectFile:r=>{r.preventDefault();let i=r.target.files||r.dataTransfer.files;i.length&&(a.value=i[0])},uploadInvoices:()=>{t.value=!1,$("#submit-invoices-btn").html("Uploading");const r=new FormData;r.append("invoices",a.value),A.post(o+"invoices/import",r).then(i=>{window.location.reload()}).catch(i=>{if(i.response.status==422){m.value++,s.error(i.response.data.message);return}i.response.data.uploaded>0&&s.success(i.response.data.uploaded+" uploaded."),i.response.data.total_rows-i.response.data.uploaded>0?(s.error(i.response.data.total_rows-i.response.data.uploaded+" failed to upload."),c.value=!0,m.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{t.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},ezt={class:""},tzt={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},ozt={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},azt={class:"modal-dialog"},nzt={class:"modal-header"},szt={class:"modal-title",id:"modalTopTitle"},lzt={class:"modal-body"},izt={class:"form-group mt-2"},rzt={class:"py-1 text-danger d-none",id:"show-download-error"},dzt={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},czt={class:"modal-footer"},uzt={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},_zt={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},mzt={href:"invoices/accounts",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},fzt=["disabled"];function hzt(o,a,s,t,c,m){return u(),f(G,null,[e("div",ezt,[e("button",tzt,n(o.$t("Upload Invoices")),1)]),e("div",ozt,[e("div",azt,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",nzt,[e("h5",szt,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",lzt,[e("div",izt,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",rzt,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",dzt,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",czt,[e("a",uzt,n(o.$t("Download Sample")),1),e("a",_zt,n(o.$t("Download Sample")),1),e("a",mzt,n(o.$t("View Loan/OD Account")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,fzt)])],32)])])],64)}const pzt=Ue(XHt,[["render",hzt]]),vzt={name:"UploadedInvoices",components:{Pagination:Na},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},gzt={class:"card p-2"},bzt={class:"d-flex flex-column flex-md-row justify-content-between"},yzt={class:"d-flex flex-wrap gap-1"},kzt={class:""},$zt={for:"Invoice No",class:"form-label"},wzt={class:""},Dzt={for:"From Date",class:"form-label"},xzt={class:""},Czt={for:"Status",class:"form-label"},Pzt={value:""},Ezt={value:"Successful"},Azt={value:"Failed"},Izt={class:"mt-auto"},Rzt={class:"mt-auto"},Szt={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},Tzt={class:"table-responsive p-2"},jzt={class:"table dt-invoices"},Ozt={key:0},Mzt={colspan:"12",class:"text-center"},Lzt={class:"text-center"},Nzt={key:1},Fzt={colspan:"12",class:"text-center"},Yzt={class:"text-center"},Vzt={key:0,class:"badge bg-label-success me-1"},Bzt={key:1,class:"badge bg-label-danger me-1"},Uzt={class:""};function qzt(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",gzt,[e("div",bzt,[e("div",yzt,[e("div",kzt,[e("label",$zt,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",wzt,[e("label",Dzt,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[X,t.uploaded_date_search]])]),e("div",xzt,[e("label",Czt,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",Pzt,n(o.$t("Select Status")),1),e("option",Ezt,n(o.$t("Successful")),1),e("option",Azt,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",Izt,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Rzt,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Szt,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Tzt,[e("table",jzt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Ozt,[e("td",Mzt,[e("span",Lzt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Nzt,[e("td",Fzt,[e("span",Yzt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Vzt,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",Bzt,n(l.status),1)):b("",!0)]),e("td",Uzt,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Hzt=Ue(vzt,[["render",qzt]]),Ru=Ke({}),Su=Ke({}),Tu=Ke({}),ju=Ke({}),Ou=Ke({}),Cr=Ke({}),Pr=Ke({}),Mu=Ke({}),Lu=Ke({}),Nu=Ke({}),Fu=Ke({}),Yu=Ke({}),Vu=Ke({}),Bu=Ke({}),Uu=Ke({}),qu=Ke({}),Hu=Ke({}),zu=Ke({}),Wu=Ke({}),ma="/vendor/";Ru.component("VendorNotifications",Cbt);Su.component("VendorAllInvoicesComponent",v2t);Tu.component("VendorPaymentsComponent",qkt);ju.component("VendorPendingInvoicesComponent",kwt);Ou.component("VendorCashPlannerProgramsComponent",qwt);Cr.component("VendorCashPlannerEligibleInvoicesComponent",N4t);Pr.component("VendorDashboardCashPlannerEligibleInvoicesComponent",URt);Mu.component("VendorCashPlannerNonEligibleInvoicesComponent",pOt);Lu.component("VendorFinanceRequestsComponent",$9t);Nu.component("VendorPurchaseOrdersComponent",HLt);Fu.component("VendorPendingPurchaseOrdersComponent",fYt);Yu.component("VendorReports",sUt);Vu.component("VendorAllInvoicesReport",lD);Uu.component("VendorProgramsReport",iD);Bu.component("VendorPaymentsReport",rD);qu.component("VendorSettings",MHt);Hu.component("VendorLoanAccounts",JHt);zu.component("VendorInvoicesUpload",pzt);Wu.component("VendorUploadedInvoices",Hzt);var zzt=document.getElementById("vendor-notifications");zzt&&(Ru.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ru.use(Xe),Ru.provide("baseURL",ma),Ru.mount("#vendor-notifications"));var Wzt=document.getElementById("vendor-all-invoices");Wzt&&(Su.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Su.use(Xe),Su.provide("baseURL",ma),Su.mount("#vendor-all-invoices"));var Kzt=document.getElementById("vendor-loan-accounts");Kzt&&(Hu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hu.use(Xe),Hu.provide("baseURL",ma),Hu.mount("#vendor-loan-accounts"));var Gzt=document.getElementById("vendor-invoices-upload");Gzt&&(zu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zu.use(Xe),zu.provide("baseURL",ma),zu.mount("#vendor-invoices-upload"));var Qzt=document.getElementById("vendor-uploaded-invoices");Qzt&&(Wu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wu.use(Xe),Wu.provide("baseURL",ma),Wu.mount("#vendor-uploaded-invoices"));var Zzt=document.getElementById("vendor-payments");Zzt&&(Tu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Tu.use(Xe),Tu.provide("baseURL",ma),Tu.mount("#vendor-payments"));var Jzt=document.getElementById("vendor-pending-invoices");Jzt&&(ju.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ju.use(Xe),ju.provide("baseURL",ma),ju.mount("#vendor-pending-invoices"));var Xzt=document.getElementById("vendor-cash-planner-programs");Xzt&&(Ou.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ou.use(Xe),Ou.provide("baseURL",ma),Ou.mount("#vendor-cash-planner-programs"));var eWt=document.getElementById("vendor-dashboard-cash-planner-eligible-invoices");eWt&&(Pr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Pr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Pr.use(Xe),Pr.provide("baseURL",ma),Pr.mount("#vendor-dashboard-cash-planner-eligible-invoices"));var tWt=document.getElementById("vendor-cash-planner-eligible-invoices");tWt&&(Cr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cr.use(Kh,{theme:{preset:Gh,options:{prefix:"p",darkModeSelector:"light",cssLayer:!1}}}),Cr.use(Xe),Cr.provide("baseURL",ma),Cr.mount("#vendor-cash-planner-eligible-invoices"));var oWt=document.getElementById("vendor-cash-planner-non-eligible-invoices");oWt&&(Mu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Mu.use(Xe),Mu.provide("baseURL",ma),Mu.mount("#vendor-cash-planner-non-eligible-invoices"));var aWt=document.getElementById("vendor-finance-requests");aWt&&(Lu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Lu.use(Xe),Lu.provide("baseURL",ma),Lu.mount("#vendor-finance-requests"));var nWt=document.getElementById("vendor-purchase-orders");nWt&&(Nu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nu.use(Xe),Nu.provide("baseURL",ma),Nu.mount("#vendor-purchase-orders"));var sWt=document.getElementById("vendor-pending-purchase-orders");sWt&&(Fu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fu.use(Xe),Fu.provide("baseURL",ma),Fu.mount("#vendor-pending-purchase-orders"));var lWt=document.getElementById("vendor-reports");lWt&&(Yu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yu.use(Xe),Yu.provide("baseURL",ma),Yu.mount("#vendor-reports"));var iWt=document.getElementById("vendor_all_invoices_report");iWt&&(Vu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vu.use(Xe),Vu.provide("baseURL",ma),Vu.mount("#vendor_all_invoices_report"));var rWt=document.getElementById("vendor_programs_report");rWt&&(Uu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Uu.use(Xe),Uu.provide("baseURL",ma),Uu.mount("#vendor_programs_report"));var dWt=document.getElementById("vendor_payments_report");dWt&&(Bu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bu.use(Xe),Bu.provide("baseURL",ma),Bu.mount("#vendor_payments_report"));var cWt=document.getElementById("vendor-settings");cWt&&(qu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qu.use(Xe),qu.provide("baseURL",ma),qu.mount("#vendor-settings"));const uWt={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},_Wt={"aria-label":"Page navigation",class:"mt-2 d-flex flex-column flex-md-row justify-content-between"},mWt={key:0,class:"d-flex my-auto text-primary"},fWt={class:"mx-1 fw-bold"},hWt={class:"mx-1 fw-bold"},pWt={class:"mx-1 fw-bold"},vWt={class:"pagination justify-content-md-end"},gWt={class:"page-item prev"},bWt=["onClick","innerHTML"],yWt={class:"page-item next"};function kWt(o,a,s,t,c,m){return u(),f("nav",_Wt,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",mWt,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",fWt,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",hWt,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",pWt,n(s.total_items),1)])):b("",!0)]),e("ul",vWt,[e("li",gWt,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(G,null,ee(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,bWt)):b("",!0)],2))),128)),e("li",yWt,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const bn=Ue(uWt,[["render",kWt]]),$Wt={name:"AllInvoices",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(0),m=h(0),_=h(null),l=h(0),r=h(0),i=h(0),d=h([]),p=h([]),v=h(0),g=h(0),w=h(50),y=h(""),x=h(""),C=h(""),E=h(""),D=h([]),k=h([]),I=h(""),V=h(""),B=h([]),L=h(""),F=h(""),T=h([]),P=h(!1),R=h(!0),O=h(0),N=async()=>{await A.get(a+"invoices/data",{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value,sort_by:V.value}}).then(ge=>{s.value=ge.data.invoices,d.value=ge.data.taxes,t.value=ge.data.users})},S=async(ge,_e)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+ge+"/details").then(Se=>{_.value=Se.data,v.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),g.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),O.value++,bt(()=>{document.getElementById(_e).click()})}).catch(Se=>{console.log(Se)})},U=ge=>{v.value=new Intl.NumberFormat().format(ge.total+ge.total_invoice_taxes-ge.total_invoice_discount),g.value=new Intl.NumberFormat().format(ge.total+ge.total_invoice_taxes-ge.total_invoice_discount)},W=ge=>{$("#view-fees-"+ge.id).addClass("d-none"),$("#edit-fees-"+ge.id).removeClass("d-none")},oe=ge=>{let _e="";switch(ge){case"Overdue":_e="bg-label-danger";break;case"Created":_e="bg-label-secondary";break;case"Pending Maker":_e="bg-label-primary";break;case"Pending Checker":_e="bg-label-danger";break;case"Submitted":_e="bg-label-primary";break;case"Approved":_e="bg-label-success";break;case"Disbursed":_e="bg-label-success";break;case"Denied":_e="bg-label-danger";break;case"Rejected":_e="bg-label-danger";break;default:_e="bg-label-primary";break}return _e},J=ge=>{let _e="";switch(ge){case"pending":_e="bg-label-primary";break;case"financed":_e="bg-label-success";break;case"closed":_e="bg-label-secondary";break;case"denied":_e="bg-label-danger";break;default:_e="bg-label-primary";break}return _e},K=()=>{let ge=0,_e=0,Se=Object.keys(p.value);Object.values(p.value).forEach((ke,te)=>{Se[te]=="Credit Note Amount"&&ke>0&&(_e=ke),Se[te]!="Credit Note Amount"&&(ke>0?ge+=ke:ge-=ke)}),ge>0&&(g.value=new Intl.NumberFormat().format(v.value.replaceAll(",","")-ge/100*v.value.replaceAll(",",""))),_e>0&&(g.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-_e)),_e==0&&ge==0&&(g.value=new Intl.NumberFormat.format(v.value.replaceAll(",","")))},z=async ge=>{const _e=new FormData;for(const Se in p.value)Se=="Credit Note Amount"&&_e.append("taxes["+Se+"]",p.value[Se]),Se!="Credit Note Amount"&&_e.append("taxes["+Se+"]",p.value[Se]/100*v.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${ge.id}/approve`,_e).then(()=>{N(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+ge.id).click(),p.value=[]}).catch(Se=>{if(Se.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},ae=async ge=>{await A.get(`${a}invoices/${ge.id}/fees/approve`).then(()=>{N(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+ge.id).click();for(const _e in p.value)p.value[_e]=""}).catch(_e=>{if(console.log(_e),_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},we=(ge,_e)=>(_e/ge*100).toFixed(2);Qe(()=>{N(),$("#invoice-status-select").on("change",function(){var ge=$("#invoice-status-select").val();D.value=ge}),$("#financing-status-select").on("change",function(){var ge=$("#financing-status-select").val();k.value=ge})});const Fe=ge=>{if(L.value="",B.value.includes(ge)){const _e=B.value.indexOf(ge);B.value.splice(_e,1)}else B.value.push(ge);if(B.value.length>0){let _e={},Se={};const Ve=new FormData;Ve.append("invoices",B.value),A.post(a+"invoices/bulk/details",Ve).then(ke=>{T.value=[],ke.data.data.forEach(te=>{if(Se[te.id]=[],te.invoice_fees.length>0){let Ce=0;_e={},te.invoice_fees.forEach(Ne=>{Ne.name!="Credit Note Amount"?Ce=we(te.total+te.total_invoice_taxes-te.total_invoice_discount,Ne.amount):Ce=Ne.amount,Object.keys(_e+"-"+te.id).filter(se=>se==Ne.name+"-"+te.id).length>0||(_e[Ne.name+"-"+te.id]=Ce)})}else _e={},Object.keys(d.value).forEach(Ce=>{_e[Ce+"-"+te.id]=0});Se[te.id]=_e}),T.value.push(Se),P.value=!1})}},he=()=>{if(L.value="",B.value=[],P.value=!0,document.getElementById("select-all").checked?s.value.data.forEach(async ge=>{ge.status=="submitted"&&ge.user_can_approve&&!ge.user_has_approved&&(document.getElementById("data-select-"+ge.id).checked=!0,B.value.push(ge.id))}):(s.value.data.forEach(ge=>{if(ge.status=="submitted"&&ge.user_can_approve&&!ge.user_has_approved){document.getElementById("data-select-"+ge.id).checked=!1;let _e;if(!B.value.filter(function(Ve,ke){_e=ke,Ve==ge.id}))return!1;B.value.splice(_e,1)}}),P.value=!1),B.value.length>0){let ge={},_e={};const Se=new FormData;Se.append("invoices",B.value),A.post(a+"invoices/bulk/details",Se).then(Ve=>{T.value=[],Ve.data.data.forEach(ke=>{if(_e[ke.id]=[],ke.invoice_fees.length>0){let te=0;ge={},ke.invoice_fees.forEach(Ce=>{Ce.name!="Credit Note Amount"?te=we(ke.total+ke.total_invoice_taxes-ke.total_invoice_discount,Ce.amount):te=Ce.amount,Object.keys(ge+"-"+ke.id).filter(Ie=>Ie==Ce.name+"-"+ke.id).length>0||(ge[Ce.name+"-"+ke.id]=te)})}else ge={},Object.keys(d.value).forEach(te=>{ge[te+"-"+ke.id]=0});_e[ke.id]=ge}),T.value.push(_e),P.value=!1})}},re=ge=>{if(B.value.length<=0){o.error("Select invoices");return}};ot(L,ge=>{(ge=="approve"||ge=="reject")&&(B.value.length>0?(ge=="reject"&&document.getElementById("show-bulk-reject-modal").click(),ge=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const $e=()=>{const ge=new FormData;B.value.forEach((_e,Se)=>{ge.append("invoice["+Se+"]",_e)}),ge.append("invoice_taxes",JSON.stringify(T.value)),ge.append("action",L.value),R.value=!1,A.post(a+"invoices/bulk/update/approve",ge).then(()=>{N(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const _e in p.value)p.value[_e]="";B.value=[],T.value=[],L.value=""}).catch(_e=>{if(console.log(_e),_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{R.value=!0})},De=()=>{const ge=new FormData;ge.append("rejected_reason",F.value),B.value.forEach((_e,Se)=>{ge.append("invoice["+Se+"]",_e)}),ge.append("action",L.value),R.value=!1,A.post(a+"invoices/bulk/update/reject",ge).then(()=>{N(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),B.value=[],T.value=[]}).catch(_e=>{console.log(_e),o.error("An error occurred")}).finally(()=>{R.value=!0,L.value=""})};return ot([w],async([ge])=>{await A.get(a+"invoices/data",{params:{per_page:ge,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices})}),{moment:H,per_page:w,invoices:s,users:t,eligibility:c,eligibility_amount:m,business_spread:r,discount_amount:i,invoice_details:_,pi_amount:l,anchor_taxes:d,invoice_taxes:p,invoice_subtotal:v,invoice_total:g,vendor_search:y,invoice_number_search:x,status_search:D,financing_status_search:k,from_date_search:C,to_date_search:E,sort_by:V,bulk_action:L,reject_reason:F,selected_invoices:B,selected_invoices_taxes:T,invoice_fees_processing:P,can_bulk_approve:R,selectAll:he,calculatePayable:ge=>{let _e=$("#pending-invoice-amount-"+ge).text().replaceAll(",",""),Se=$("#pending-withholding-tax-"+ge).val(),Ve=$("#pending-withholding-vat-"+ge).val(),ke=$("#pending-credit-note-amount-"+ge).val(),te=Se/100*_e,Ce=Ve/100*_e,Ne=_e-te-Ce-ke;$("#pending-invoice-total-payable-"+ge).text(new Intl.NumberFormat().format(Ne))},updateSelected:Fe,bulkAction:re,resolveStatus:oe,resolveFinancingStatus:J,changePage:async ge=>{await A.get(ge,{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices})},submitApproval:z,showApprovalModal:U,updateInvoiceTotal:K,getTaxPercentage:we,clearSearch:()=>{let ge=$(".ti-refresh").parent();ge.html('<img src="../../../../../assets/img/spinner.svg" />'),y.value="",x.value="",C.value="",E.value="",D.value=["pending_maker","pending_checker"],k.value=[],I.value="",V.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),A.get(a+"invoices/data",{params:{per_page:w.value}}).then(_e=>{s.value=_e.data.invoices,ge.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{I.value=$("#date_search").val(),I.value&&(C.value=H(I.value.split(" - ")[0]).format("YYYY-MM-DD"),E.value=H(I.value.split(" - ")[1]).format("YYYY-MM-DD"));let ge=$(".ti-search").parent();ge.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"invoices/data",{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value,sort_by:V.value}}).then(_e=>{s.value=_e.data.invoices,ge.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value,sort_by:V.value}}).then(ge=>{const _e=window.URL.createObjectURL(new Blob([ge.data])),Se=document.createElement("a");Se.href=_e,Se.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(Se),Se.click()}).catch(ge=>{console.log(ge)})},submitBulkApproval:$e,submitBulkRejection:De,submitRejection:ge=>{const _e=new FormData;_e.append("rejected_reason",F.value),_e.append("action",L.value),A.post(a+"invoices/"+ge+"/reject",_e).then(()=>{N(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+ge).click(),L.value="",F.value=""}).catch(Se=>{console.log(Se),o.error("An error occurred")})},approveFees:ae,editBuyerFees:W,showInvoice:S,userHasApproved:(ge,_e)=>{let Se=!1;return ge.approvals.forEach(Ve=>{_e.id==Ve.user_id&&(Se=!0)}),Se},approvalDetails:(ge,_e)=>{let Se=null;return Se=ge.approvals.filter(Ve=>Ve.user_id==_e.id).length>0?ge.approvals.filter(Ve=>Ve.user_id==_e.id)[0]:null,Se},invoice_details_key:O}}},wWt={class:"card p-0"},DWt={class:"card-body p-2"},xWt={class:"d-flex justify-content-between"},CWt={class:"d-flex flex-wrap gap-1"},PWt={class:""},EWt={for:"Vendor",class:"form-label"},AWt={class:""},IWt={for:"Invoice No",class:"form-label"},RWt={class:""},SWt={class:"form-label",for:""},TWt={class:""},jWt={for:"Status",class:"form-label"},OWt={value:"pending_maker"},MWt={value:"pending_checker"},LWt={value:"approved"},NWt={value:"rejected"},FWt={value:"past_due"},YWt={value:"expired"},VWt={class:""},BWt={for:"Financing Status",class:"form-label"},UWt={value:"pending"},qWt={value:"financed"},HWt={value:"disbursed"},zWt={value:"closed"},WWt={value:"rejected"},KWt={class:""},GWt={for:"Financing Status",class:"form-label"},QWt={value:""},ZWt={value:"po_asc"},JWt={value:"po_desc"},XWt={value:"invoice_no_asc"},eKt={value:"invoice_no_desc"},tKt={value:"due_date_asc"},oKt={value:"due_date_desc"},aKt={value:"invoice_amount_asc"},nKt={value:"invoice_amount_desc"},sKt={value:"vendor_asc"},lKt={value:"vendor_desc"},iKt={class:""},rKt={for:"Bulk Actions",class:"form-label"},dKt={value:""},cKt={value:"approve"},uKt={value:"reject"},_Kt={class:"table-search-btn"},mKt={class:"table-clear-btn"},fKt={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},hKt={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},pKt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},vKt={class:"modal-content"},gKt={class:"modal-header"},bKt={class:"modal-title",id:"modalCenterTitle"},yKt={key:0,class:"text-center my-4"},kKt={class:"modal-body"},$Kt={class:"table"},wKt={key:0},DKt={key:0},xKt={key:1},CKt=["id"],PKt={key:2},EKt={key:0},AKt=["onUpdate:modelValue","id","onInput"],IKt={key:3},RKt={key:0},SKt=["onUpdate:modelValue","id","onInput"],TKt={key:4},jKt={key:0},OKt=["onUpdate:modelValue","id","onInput"],MKt={key:5},LKt={key:0},NKt=["id"],FKt={class:"modal-footer"},YKt=["disabled"],VKt={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},BKt={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},UKt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},qKt={class:"modal-content"},HKt={class:"modal-header"},zKt={class:"modal-title",id:"modalCenterTitle"},WKt={class:"modal-body"},KKt={for:"reason",class:"form-label"},GKt={class:"modal-footer"},QKt=["disabled"],ZKt={class:"d-flex justify-content-end gap-1 mt-auto"},JKt={class:""},XKt={class:"table-responsive"},eGt={class:"table dt-invoices"},tGt={class:"px-1"},oGt={class:"form-check"},aGt={key:0},nGt={colspan:"12",class:"text-center"},sGt={class:"text-center"},lGt={key:1},iGt={colspan:"12",class:"text-center"},rGt={class:"text-center"},dGt={class:"px-1"},cGt={key:0,class:"form-check"},uGt=["id","onChange"],_Gt=["onClick"],mGt={href:"javascript:;"},fGt={class:"text-success text-nowrap"},hGt={class:""},pGt={class:""},vGt={class:""},gGt={class:""},bGt={class:"d-inline-block"},yGt=["id","data-bs-target"],kGt=["id","data-bs-target"],$Gt=["id","data-bs-target"],wGt=["id","data-bs-target"],DGt=["id","data-bs-target"],xGt=["id","data-bs-target"],CGt=["id","data-bs-target"],PGt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},EGt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},AGt={class:"modal-content"},IGt={class:"modal-body"},RGt={class:"d-flex justify-content-center"},SGt={class:"dropdown-menu dropdown-menu-end"},TGt=["onClick"],jGt={key:0},OGt=["href"],MGt=["onClick"],LGt={class:"dropdown-item badge bg-label-success"},NGt={key:2},FGt=["onClick"],YGt=["onClick"],VGt={class:"dropdown-item badge bg-label-info"},BGt=["onClick"],UGt={class:"dropdown-item badge bg-label-warning"},qGt=["id"],HGt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},zGt={class:"modal-content"},WGt={class:"modal-header"},KGt={class:"modal-title",id:"modalCenterTitle"},GGt=["id"],QGt={class:"modal-body"},ZGt={for:"reason",class:"form-label"},JGt={class:"modal-footer"},XGt={class:"btn btn-danger",type:"submit"},eQt=["id"],tQt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},oQt={class:"modal-content"},aQt={class:"modal-header"},nQt={class:"modal-title",id:"modalCenterTitle"},sQt=["id"],lQt={class:"modal-body"},iQt={key:0},rQt={class:"d-flex justify-content-between"},dQt=["id","data-bs-target"],cQt={class:"form-group"},uQt={for:"Sub total",class:"form-label"},_Qt={class:"form-label"},mQt=["value"],fQt=["value"],hQt={class:"form-group"},pQt={for:"Sub total",class:"form-label"},vQt=["value"],gQt={key:1},bQt={class:"d-flex justify-content-between"},yQt=["id","data-bs-target"],kQt={class:"modal-footer"},$Qt={class:"btn btn-primary",type:"submit"},wQt=["id"],DQt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},xQt={class:"modal-content"},CQt={class:"modal-header"},PQt={class:"modal-title"},EQt=["id"],AQt=["id"],IQt={class:"modal-body"},RQt={class:"form-group"},SQt={for:"Sub total",class:"form-label"},TQt={key:0},jQt={for:""},OQt=["onUpdate:modelValue"],MQt={key:1},LQt={for:""},NQt=["onUpdate:modelValue"],FQt={class:"form-group"},YQt={for:"Sub total",class:"form-label"},VQt={key:0,class:"mt-2"},BQt={class:"text-sm"},UQt={class:"mx-2 my-auto py-1"},qQt={key:0,class:"text-success my-auto py-1"},HQt={key:1,class:"text-success my-auto py-1"},zQt={class:"modal-footer"},WQt={class:"btn btn-primary",type:"submit"},KQt=["id"],GQt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},QQt={class:"modal-content"},ZQt={class:"modal-header"},JQt={class:"modal-title",id:"modalCenterTitle"},XQt={class:"modal-body"},eZt={class:"table"},tZt={class:""},oZt=["id"],aZt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},nZt={class:"modal-content"},sZt={class:"modal-header"},lZt={class:"modal-title",id:"modalCenterTitle"},iZt={class:"modal-body"},rZt={key:0,class:"d-flex"},dZt={class:"text-success",style:{"font-weight":"800"}},cZt={class:"text-danger",style:{"font-weight":"800"}},uZt={key:0,class:"d-flex"},_Zt={class:"text-success",style:{"font-weight":"800"}},mZt={key:1,class:""};function fZt(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",wWt,[e("div",DWt,[e("div",xWt,[e("div",CWt,[e("div",PWt,[e("label",EWt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",AWt,[e("label",IWt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",RWt,[e("label",SWt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[25]||(a[25]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",TWt,[e("label",jWt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",OWt,n(o.$t("Pending"))+"("+n(o.$t("Maker"))+")",1),e("option",MWt,n(o.$t("Pending"))+"("+n(o.$t("Checker"))+")",1),e("option",LWt,n(o.$t("Approved")),1),e("option",NWt,n(o.$t("Rejected")),1),e("option",FWt,n(o.$t("Overdue")),1),e("option",YWt,n(o.$t("Expired")),1)],512),[[de,t.status_search]])]),e("div",VWt,[e("label",BWt,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",UWt,n(o.$t("Pending")),1),e("option",qWt,n(o.$t("Financed")),1),e("option",HWt,n(o.$t("Disbursed")),1),e("option",zWt,n(o.$t("Closed")),1),e("option",WWt,n(o.$t("Rejected")),1)],512),[[de,t.financing_status_search]])]),e("div",KWt,[e("label",GWt,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",QWt,n(o.$t("Sort By")),1),e("option",ZWt,n(o.$t("PO No. (ASC)")),1),e("option",JWt,n(o.$t("PO No. (DESC)")),1),e("option",XWt,n(o.$t("Invoice No. (ASC)")),1),e("option",eKt,n(o.$t("Invoice No. (DESC)")),1),e("option",tKt,n(o.$t("Due Date. (ASC)")),1),e("option",oKt,n(o.$t("Due Date. (DESC)")),1),e("option",aKt,n(o.$t("Invoice Amount. (ASC)")),1),e("option",nKt,n(o.$t("Invoice Amount. (DESC)")),1),e("option",sKt,n(o.$t("Vendor. (ASC)")),1),e("option",lKt,n(o.$t("Vendor. (DESC)")),1)],512),[[de,t.sort_by]])]),e("div",iKt,[e("label",rKt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[7]||(a[7]=i=>t.bulk_action=i)},[e("option",dKt,n(o.$t("Bulk Actions")),1),e("option",cKt,n(o.$t("Approve")),1),e("option",uKt,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",_Kt,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.filter&&t.filter(...i))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",mKt,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",fKt,n(o.$t("Approve")),1),e("div",hKt,[e("div",pKt,[e("div",vKt,[e("div",gKt,[e("h5",bKt,n(o.$t("Confirm Approval")),1),a[28]||(a[28]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",yKt,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[10]||(a[10]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",kKt,[e("table",$Kt,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",wKt,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",DKt,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",xKt,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,CKt)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",PKt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",EKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,AKt),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",IKt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",RKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,SKt),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",TKt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",jKt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,OKt),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",MKt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",LKt,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,NKt)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",FKt,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,YKt)])],32)):b("",!0)])])]),e("button",VKt,n(o.$t("Reject")),1),e("div",BKt,[e("div",UKt,[e("div",qKt,[e("div",HKt,[e("h5",zKt,n(o.$t("Confirm Rejection")),1),a[29]||(a[29]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[12]||(a[12]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",WKt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",KKt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[11]||(a[11]=i=>t.reject_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.reject_reason]])]),e("div",GKt,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,QKt)])],32)])])])]),e("div",ZKt,[e("div",JKt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=i=>t.per_page=i),style:{width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[14]||(a[14]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[31]||(a[31]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",XKt,[e("table",eGt,[e("thead",null,[e("tr",null,[e("th",tGt,[e("div",oGt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[15]||(a[15]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",aGt,[e("td",nGt,[e("span",sGt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",lGt,[e("td",iGt,[e("span",rGt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",dGt,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",cGt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,uGt)])):b("",!0)]),e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",mGt,n(i.invoice_number),1)],8,_Gt),e("td",fGt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",hGt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",pGt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",vGt,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",gGt,[e("div",bGt,[a[33]||(a[33]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,yGt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,kGt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,$Gt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,wGt),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,DGt),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,xGt),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,CGt),a[34]||(a[34]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",PGt,[e("div",EGt,[e("div",AGt,[e("div",IGt,[e("div",RGt,[e("span",null,n(o.$t("Loading"))+"...",1),a[32]||(a[32]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",SGt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,TGt)]),i.can_edit?(u(),f("li",jGt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,OGt)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",LGt,n(o.$t("Approve")),1)],8,MGt)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",NGt,[e("a",{href:"#",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id),class:"dropdown-item badge bg-label-danger mb-1"},n(o.$t("Reject")),9,FGt)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",VGt,n(o.$t("Checker Approvals")),1)],8,YGt),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",UGt,n(o.$t("Authorization Matrix")),1)],8,BGt)):b("",!0)])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",HGt,[e("div",zGt,[e("div",WGt,[e("h5",KGt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,GGt)]),e("form",{onSubmit:a[17]||(a[17]=st(d=>t.submitRejection(t.invoice_details.id),["prevent"]))},[e("div",QGt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",ZGt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[16]||(a[16]=d=>t.reject_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.reject_reason]])]),e("div",JGt,[e("button",XGt,n(o.$t("Confirm")),1)])],32)])])],8,qGt)):b("",!0),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",tQt,[e("div",oQt,[e("div",aQt,[e("h5",nQt,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,sQt)]),e("form",{onSubmit:a[19]||(a[19]=st(d=>t.approveFees(t.invoice_details),["prevent"]))},[e("div",lQt,[t.invoice_details.invoice_fees.length>0?(u(),f("div",iQt,[e("div",rQt,[a[35]||(a[35]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Edit Fees")),9,dQt)]),e("div",cQt,[e("label",uQt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[18]||(a[18]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",_Qt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,mQt)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,fQt))]))),128)),e("div",hQt,[e("label",pQt,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,vQt)])])):(u(),f("div",gQt,[e("div",bQt,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Click to add fees")),9,yQt)])]))]),e("div",kQt,[e("button",$Qt,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],32)])])],8,eQt)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",DQt,[e("div",xQt,[e("div",CQt,[e("h5",PQt,n(o.$t("Approve "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,EQt)]),e("form",{onSubmit:a[24]||(a[24]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",IQt,[e("div",RQt,[e("label",SQt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[20]||(a[20]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",TQt,[e("label",jQt,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[21]||(a[21]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,OQt),[[X,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",MQt,[e("label",LQt,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[22]||(a[22]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,NQt),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",FQt,[e("label",YQt,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[23]||(a[23]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",VQt,[e("h5",BQt,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",UQt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",qQt," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",HQt,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",zQt,[e("button",WQt,n(o.$t("Submit")),1)])],40,AQt)])])],8,wQt)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",GQt,[e("div",QQt,[e("div",ZQt,[e("h5",JQt,n(o.$t("Checker Approval(s)")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",XQt,[e("table",eZt,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(G,{key:0},[e("td",tZt,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,KQt)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",aZt,[e("div",nZt,[e("div",sZt,[e("h5",lZt,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[37]||(a[37]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",iZt,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",rZt,[e("span",dZt,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[38]||(a[38]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",cZt,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",uZt,[e("span",_Zt,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",mZt,n(d.user.name),1))]))),128))])])])],8,oZt)):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const hZt=Ue($Wt,[["render",fZt]]),pZt={name:"AllInvoices",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(0),m=h(0),_=h(null),l=h(0),r=h(0),i=h(0),d=h([]),p=h([]),v=h(0),g=h(0),w=h(50),y=h(""),x=h(""),C=h(""),E=h(""),D=h([]),k=h([]),I=h(""),V=h([]),B=h(""),L=h(""),F=h([]),T=h(!1),P=h(!0),R=h(0),O=async()=>{await A.get(a+"invoices/pending/data",{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value}}).then(Ye=>{s.value=Ye.data.invoices,d.value=Ye.data.taxes,t.value=Ye.data.users})},N=async(Ye,ge)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+Ye+"/details").then(_e=>{_.value=_e.data,v.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),g.value=new Intl.NumberFormat().format(_.value.total+_.value.total_invoice_taxes-_.value.total_invoice_discount),R.value++,bt(()=>{document.getElementById(ge).click()})}).catch(_e=>{console.log(_e)})},S=Ye=>{v.value=new Intl.NumberFormat().format(Ye.total+Ye.total_invoice_taxes-Ye.total_invoice_discount),g.value=new Intl.NumberFormat().format(Ye.total+Ye.total_invoice_taxes-Ye.total_invoice_discount)},U=Ye=>{$("#view-fees-"+Ye.id).addClass("d-none"),$("#edit-fees-"+Ye.id).removeClass("d-none")},W=Ye=>{let ge="";switch(Ye){case"Overdue":ge="bg-label-danger";break;case"Created":ge="bg-label-secondary";break;case"Pending Maker":ge="bg-label-primary";break;case"Pending Checker":ge="bg-label-danger";break;case"Submitted":ge="bg-label-primary";break;case"Approved":ge="bg-label-success";break;case"Disbursed":ge="bg-label-success";break;case"Denied":ge="bg-label-danger";break;case"Rejected":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},oe=Ye=>{let ge="";switch(Ye){case"pending":ge="bg-label-primary";break;case"financed":ge="bg-label-success";break;case"closed":ge="bg-label-secondary";break;case"denied":ge="bg-label-danger";break;default:ge="bg-label-primary";break}return ge},J=()=>{let Ye=0,ge=0,_e=Object.keys(p.value);Object.values(p.value).forEach((Ve,ke)=>{_e[ke]=="Credit Note Amount"&&Ve>0&&(ge=Ve),_e[ke]!="Credit Note Amount"&&(Ve>0?Ye+=Ve:Ye-=Ve)}),Ye>0&&(g.value=new Intl.NumberFormat().format(v.value.replaceAll(",","")-Ye/100*v.value.replaceAll(",",""))),ge>0&&(g.value=new Intl.NumberFormat().format(g.value.replaceAll(",","")-ge)),ge==0&&Ye==0&&(g.value=new Intl.NumberFormat.format(v.value.replaceAll(",","")))},K=async Ye=>{const ge=new FormData;for(const _e in p.value)_e=="Credit Note Amount"&&ge.append("taxes["+_e+"]",p.value[_e]),_e!="Credit Note Amount"&&ge.append("taxes["+_e+"]",p.value[_e]/100*v.value.replaceAll(/\D/g,"").replaceAll(",",""));await A.post(`${a}invoices/${Ye.id}/approve`,ge).then(()=>{O(),o.success("Invoice updated successfully"),document.getElementById("edit-fees-close-btn-"+Ye.id).click(),p.value=[]}).catch(_e=>{if(_e.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},z=async Ye=>{await A.get(`${a}invoices/${Ye.id}/fees/approve`).then(()=>{O(),o.success("Invoice updated successfully"),document.getElementById("close-modal-"+Ye.id).click();for(const ge in p.value)p.value[ge]=""}).catch(ge=>{if(console.log(ge),ge.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")})},ae=(Ye,ge)=>(ge/Ye*100).toFixed(2);Qe(()=>{O(),$("#invoice-status-select").on("change",function(){var Ye=$("#invoice-status-select").val();D.value=Ye}),$("#financing-status-select").on("change",function(){var Ye=$("#financing-status-select").val();k.value=Ye})});const we=Ye=>{if(B.value="",V.value.includes(Ye)){const ge=V.value.indexOf(Ye);V.value.splice(ge,1)}else V.value.push(Ye);if(V.value.length>0){let ge={},_e={};const Se=new FormData;Se.append("invoices",V.value),A.post(a+"invoices/bulk/details",Se).then(Ve=>{F.value=[],Ve.data.data.forEach(ke=>{if(_e[ke.id]=[],ke.invoice_fees.length>0){let te=0;ge={},ke.invoice_fees.forEach(Ce=>{Ce.name!="Credit Note Amount"?te=ae(ke.total+ke.total_invoice_taxes-ke.total_invoice_discount,Ce.amount):te=Ce.amount,Object.keys(ge+"-"+ke.id).filter(Ie=>Ie==Ce.name+"-"+ke.id).length>0||(ge[Ce.name+"-"+ke.id]=te)})}else ge={},Object.keys(d.value).forEach(te=>{ge[te+"-"+ke.id]=0});_e[ke.id]=ge}),F.value.push(_e),T.value=!1})}},Fe=()=>{if(B.value="",V.value=[],T.value=!0,document.getElementById("select-all").checked?s.value.data.forEach(async Ye=>{Ye.status=="submitted"&&Ye.user_can_approve&&!Ye.user_has_approved&&(document.getElementById("data-select-"+Ye.id).checked=!0,V.value.push(Ye.id))}):(s.value.data.forEach(Ye=>{if(Ye.status=="submitted"&&Ye.user_can_approve&&!Ye.user_has_approved){document.getElementById("data-select-"+Ye.id).checked=!1;let ge;if(!V.value.filter(function(Se,Ve){ge=Ve,Se==Ye.id}))return!1;V.value.splice(ge,1)}}),T.value=!1),V.value.length>0){let Ye={},ge={};const _e=new FormData;_e.append("invoices",V.value),A.post(a+"invoices/bulk/details",_e).then(Se=>{F.value=[],Se.data.data.forEach(Ve=>{if(ge[Ve.id]=[],Ve.invoice_fees.length>0){let ke=0;Ye={},Ve.invoice_fees.forEach(te=>{te.name!="Credit Note Amount"?ke=ae(Ve.total+Ve.total_invoice_taxes-Ve.total_invoice_discount,te.amount):ke=te.amount,Object.keys(Ye+"-"+Ve.id).filter(Ne=>Ne==te.name+"-"+Ve.id).length>0||(Ye[te.name+"-"+Ve.id]=ke)})}else Ye={},Object.keys(d.value).forEach(ke=>{Ye[ke+"-"+Ve.id]=0});ge[Ve.id]=Ye}),F.value.push(ge),T.value=!1})}},he=Ye=>{if(V.value.length<=0){o.error("Select invoices");return}};ot(B,Ye=>{(Ye=="approve"||Ye=="reject")&&(V.value.length>0?(Ye=="reject"&&document.getElementById("show-bulk-reject-modal").click(),Ye=="approve"&&document.getElementById("show-bulk-approval-modal").click()):o.error("Select Invoices"))});const re=()=>{const Ye=new FormData;V.value.forEach((ge,_e)=>{Ye.append("invoice["+_e+"]",ge)}),Ye.append("invoice_taxes",JSON.stringify(F.value)),Ye.append("action",B.value),P.value=!1,A.post(a+"invoices/bulk/update/approve",Ye).then(()=>{O(),o.success("Invoices updated successfully"),document.getElementById("close-modal").click();for(const ge in p.value)p.value[ge]="";V.value=[],F.value=[],B.value=""}).catch(ge=>{if(console.log(ge),ge.response.status==422){o.error("Enter applied taxes to approve");return}o.error("An error occurred")}).finally(()=>{P.value=!0})},$e=()=>{const Ye=new FormData;Ye.append("rejected_reason",L.value),V.value.forEach((ge,_e)=>{Ye.append("invoice["+_e+"]",ge)}),Ye.append("action",B.value),P.value=!1,A.post(a+"invoices/bulk/update/reject",Ye).then(()=>{O(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal").click(),V.value=[],F.value=[]}).catch(ge=>{console.log(ge),o.error("An error occurred")}).finally(()=>{P.value=!0,B.value=""})};return ot([w],async([Ye])=>{await A.get(a+"invoices/pending/data",{params:{per_page:Ye,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value}}).then(ge=>{s.value=ge.data.invoices})}),{moment:H,per_page:w,invoices:s,users:t,eligibility:c,eligibility_amount:m,business_spread:r,discount_amount:i,invoice_details:_,pi_amount:l,anchor_taxes:d,invoice_taxes:p,invoice_subtotal:v,invoice_total:g,vendor_search:y,invoice_number_search:x,status_search:D,financing_status_search:k,from_date_search:C,to_date_search:E,bulk_action:B,reject_reason:L,selected_invoices:V,selected_invoices_taxes:F,invoice_fees_processing:T,can_bulk_approve:P,selectAll:Fe,calculatePayable:Ye=>{let ge=$("#pending-invoice-amount-"+Ye).text().replaceAll(",",""),_e=$("#pending-withholding-tax-"+Ye).val(),Se=$("#pending-withholding-vat-"+Ye).val(),Ve=$("#pending-credit-note-amount-"+Ye).val(),ke=_e/100*ge,te=Se/100*ge,Ce=ge-ke-te-Ve;$("#pending-invoice-total-payable-"+Ye).text(new Intl.NumberFormat().format(Ce))},updateSelected:we,bulkAction:he,resolveStatus:W,resolveFinancingStatus:oe,changePage:async Ye=>{await A.get(Ye,{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value}}).then(ge=>{s.value=ge.data.invoices})},submitApproval:K,showApprovalModal:S,updateInvoiceTotal:J,getTaxPercentage:ae,clearSearch:()=>{let Ye=$(".ti-refresh").parent();Ye.html('<img src="../../../../../assets/img/spinner.svg" />'),y.value="",x.value="",C.value="",E.value="",D.value=["pending_maker","pending_checker"],k.value=[],I.value="",$("#date_search").val(""),A.get(a+"invoices/pending/data",{params:{per_page:w.value}}).then(ge=>{s.value=ge.data.invoices,Ye.html('<i class="ti ti-refresh"></i>')})},filter:async()=>{I.value=$("#date_search").val(),I.value&&(C.value=H(I.value.split(" - ")[0]).format("YYYY-MM-DD"),E.value=H(I.value.split(" - ")[1]).format("YYYY-MM-DD"));let Ye=$(".ti-search").parent();Ye.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+"invoices/pending/data",{params:{per_page:w.value,vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value}}).then(ge=>{s.value=ge.data.invoices,Ye.html('<i class="ti ti-search"></i>')})},exportInvoices:()=>{A.get(a+"invoices/export",{responseType:"arraybuffer",method:"GET",params:{vendor:y.value,invoice_number:x.value,from_date:C.value,to_date:E.value,status:D.value,financing_status:k.value}}).then(Ye=>{const ge=window.URL.createObjectURL(new Blob([Ye.data])),_e=document.createElement("a");_e.href=ge,_e.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(_e),_e.click()}).catch(Ye=>{console.log(Ye)})},submitBulkApproval:re,submitBulkRejection:$e,submitRejection:Ye=>{const ge=new FormData;ge.append("rejected_reason",L.value),ge.append("action",B.value),A.post(a+"invoices/"+Ye+"/reject",ge).then(()=>{O(),o.success("Invoices updated successfully"),document.getElementById("close-reject-modal-"+Ye).click(),B.value="",L.value=""}).catch(_e=>{console.log(_e),o.error("An error occurred")})},approveFees:z,editBuyerFees:U,showInvoice:N,userHasApproved:(Ye,ge)=>{let _e=!1;return Ye.approvals.forEach(Se=>{ge.id==Se.user_id&&(_e=!0)}),_e},approvalDetails:(Ye,ge)=>{let _e=null;return _e=Ye.approvals.filter(Se=>Se.user_id==ge.id).length>0?Ye.approvals.filter(Se=>Se.user_id==ge.id)[0]:null,_e},invoice_details_key:R}}},vZt={class:"card p-0"},gZt={class:"card-body p-2"},bZt={class:"d-flex justify-content-between"},yZt={class:"d-flex flex-wrap gap-1"},kZt={class:""},$Zt={for:"Vendor",class:"form-label"},wZt={class:""},DZt={for:"Invoice No",class:"form-label"},xZt={class:""},CZt={class:"form-label",for:""},PZt={class:""},EZt={for:"Status",class:"form-label"},AZt={value:""},IZt={value:"pending_maker"},RZt={value:"pending_checker"},SZt={value:"approved"},TZt={value:"rejected"},jZt={value:"past_due"},OZt={class:""},MZt={for:"Bulk Actions",class:"form-label"},LZt={value:""},NZt={value:"approve"},FZt={value:"reject"},YZt={class:"table-search-btn"},VZt={class:"table-clear-btn"},BZt={class:"d-none",id:"show-bulk-approval-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-approval"},UZt={class:"modal fade",id:"bulk-invoice-approval",tabindex:"-1","aria-hidden":"true"},qZt={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},HZt={class:"modal-content"},zZt={class:"modal-header"},WZt={class:"modal-title",id:"modalCenterTitle"},KZt={key:0,class:"text-center my-4"},GZt={class:"modal-body"},QZt={class:"table"},ZZt={key:0},JZt={key:0},XZt={key:1},eJt=["id"],tJt={key:2},oJt={key:0},aJt=["onUpdate:modelValue","id","onInput"],nJt={key:3},sJt={key:0},lJt=["onUpdate:modelValue","id","onInput"],iJt={key:4},rJt={key:0},dJt=["onUpdate:modelValue","id","onInput"],cJt={key:5},uJt={key:0},_Jt=["id"],mJt={class:"modal-footer"},fJt=["disabled"],hJt={class:"d-none",id:"show-bulk-reject-modal","data-bs-toggle":"modal","data-bs-target":"#bulk-invoice-reject"},pJt={class:"modal fade",id:"bulk-invoice-reject",tabindex:"-1","aria-hidden":"true"},vJt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},gJt={class:"modal-content"},bJt={class:"modal-header"},yJt={class:"modal-title",id:"modalCenterTitle"},kJt={class:"modal-body"},$Jt={for:"reason",class:"form-label"},wJt={class:"modal-footer"},DJt=["disabled"],xJt={class:"d-flex justify-content-end gap-1 mt-auto"},CJt={class:""},PJt={class:"table-responsive"},EJt={class:"table dt-invoices"},AJt={class:"px-1"},IJt={class:"form-check"},RJt={key:0},SJt={colspan:"12",class:"text-center"},TJt={class:"text-center"},jJt={key:1},OJt={colspan:"12",class:"text-center"},MJt={class:"text-center"},LJt={class:"px-1"},NJt={key:0,class:"form-check"},FJt=["id","onChange"],YJt=["onClick"],VJt={href:"javascript:;"},BJt={class:"text-success text-nowrap"},UJt={class:""},qJt={class:""},HJt={class:""},zJt={class:"d-inline-block"},WJt=["id","data-bs-target"],KJt=["id","data-bs-target"],GJt=["id","data-bs-target"],QJt=["id","data-bs-target"],ZJt=["id","data-bs-target"],JJt=["id","data-bs-target"],XJt=["id","data-bs-target"],eXt={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},tXt={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},oXt={class:"modal-content"},aXt={class:"modal-body"},nXt={class:"d-flex justify-content-center"},sXt={class:"dropdown-menu dropdown-menu-end"},lXt=["onClick"],iXt={key:0},rXt=["href"],dXt=["onClick"],cXt={class:"dropdown-item badge bg-label-success"},uXt={key:2},_Xt=["onClick"],mXt=["onClick"],fXt={class:"dropdown-item badge bg-label-info"},hXt=["onClick"],pXt={class:"dropdown-item badge bg-label-warning"},vXt=["id"],gXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bXt={class:"modal-content"},yXt={class:"modal-header"},kXt={class:"modal-title",id:"modalCenterTitle"},$Xt=["id"],wXt={class:"modal-body"},DXt={for:"reason",class:"form-label"},xXt={class:"modal-footer"},CXt={class:"btn btn-danger",type:"submit"},PXt=["id"],EXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},AXt={class:"modal-content"},IXt={class:"modal-header"},RXt={class:"modal-title",id:"modalCenterTitle"},SXt=["id"],TXt={class:"modal-body"},jXt={key:0},OXt={class:"d-flex justify-content-between"},MXt=["id","data-bs-target"],LXt={class:"form-group"},NXt={for:"Sub total",class:"form-label"},FXt={class:"form-label"},YXt=["value"],VXt=["value"],BXt={class:"form-group"},UXt={for:"Sub total",class:"form-label"},qXt=["value"],HXt={key:1},zXt={class:"d-flex justify-content-between"},WXt=["id","data-bs-target"],KXt={class:"modal-footer"},GXt={class:"btn btn-primary",type:"submit"},QXt=["id"],ZXt={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},JXt={class:"modal-content"},XXt={class:"modal-header"},eeo={class:"modal-title"},teo=["id"],oeo=["id"],aeo={class:"modal-body"},neo={class:"form-group"},seo={for:"Sub total",class:"form-label"},leo={key:0},ieo={for:""},reo=["onUpdate:modelValue"],deo={key:1},ceo={for:""},ueo=["onUpdate:modelValue"],_eo={class:"form-group"},meo={for:"Sub total",class:"form-label"},feo={key:0,class:"mt-2"},heo={class:"text-sm"},peo={class:"mx-2 my-auto py-1"},veo={key:0,class:"text-success my-auto py-1"},geo={key:1,class:"text-success my-auto py-1"},beo={class:"modal-footer"},yeo={class:"btn btn-primary",type:"submit"},keo=["id"],$eo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},weo={class:"modal-content"},Deo={class:"modal-header"},xeo={class:"modal-title",id:"modalCenterTitle"},Ceo={class:"modal-body"},Peo={class:"table"},Eeo={class:""},Aeo=["id"],Ieo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Reo={class:"modal-content"},Seo={class:"modal-header"},Teo={class:"modal-title",id:"modalCenterTitle"},jeo={class:"modal-body"},Oeo={key:0,class:"d-flex"},Meo={class:"text-success",style:{"font-weight":"800"}},Leo={class:"text-danger",style:{"font-weight":"800"}},Neo={key:0,class:"d-flex"},Feo={class:"text-success",style:{"font-weight":"800"}},Yeo={key:1,class:""};function Veo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",vZt,[e("div",gZt,[e("div",bZt,[e("div",yZt,[e("div",kZt,[e("label",$Zt,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control mb-1 form-search",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.vendor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",wZt,[e("label",DZt,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",xZt,[e("label",CZt,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[23]||(a[23]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",PZt,[e("label",EZt,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i)},[e("option",AZt,n(o.$t("Status")),1),e("option",IZt,n(o.$t("Pending"))+"("+n(o.$t("Maker"))+")",1),e("option",RZt,n(o.$t("Pending"))+"("+n(o.$t("Checker"))+")",1),e("option",SZt,n(o.$t("Approved")),1),e("option",TZt,n(o.$t("Rejected")),1),e("option",jZt,n(o.$t("Overdue")),1)],512),[[de,t.status_search]])]),e("div",OZt,[e("label",MZt,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=i=>t.bulk_action=i)},[e("option",LZt,n(o.$t("Bulk Actions")),1),e("option",NZt,n(o.$t("Approve")),1),e("option",FZt,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",YZt,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[24]||(a[24]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",VZt,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[25]||(a[25]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",BZt,n(o.$t("Approve")),1),e("div",UZt,[e("div",qZt,[e("div",HZt,[e("div",zZt,[e("h5",WZt,n(o.$t("Confirm Approval")),1),a[26]||(a[26]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.invoice_fees_processing?(u(),f("p",KZt,n(o.$t("Processing"))+"...",1)):b("",!0),t.selected_invoices_taxes.length>0?(u(),f("form",{key:1,onSubmit:a[8]||(a[8]=st(i=>t.submitBulkApproval(),["prevent"]))},[e("div",GZt,[e("table",QZt,[e("thead",null,[e("tr",null,[e("td",null,n(o.$t("Invoice No"))+".",1),e("td",null,n(o.$t("Subtotal")),1),e("td",null,n(o.$t("Withholding Tax"))+"(%)",1),e("td",null,n(o.$t("Withholding VAT"))+"(%)",1),e("td",null,n(o.$t("Credit Note Amount")),1),e("td",null,n(o.$t("Final Payable Amount")),1)])]),t.invoice_fees_processing?b("",!0):(u(),f("tbody",ZZt,[(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[t.selected_invoices.includes(i.id)?(u(),f("td",JZt,[e("span",null,n(i.invoice_number),1)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",XZt,[e("span",{id:"pending-invoice-amount-"+i.id},n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),9,eJt)])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",tJt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",oJt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding Tax-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-tax-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,aJt),[[X,d[i.id]["Withholding Tax-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",nJt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",sJt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Withholding VAT-"+i.id]=w,type:"number",step:".01",min:"0",max:"100",id:"pending-withholding-vat-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,lJt),[[X,d[i.id]["Withholding VAT-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",iJt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",rJt,[Y(e("input",{class:"form-control","onUpdate:modelValue":w=>d[i.id]["Credit Note Amount-"+i.id]=w,type:"number",step:".01",min:"0",id:"pending-credit-note-amount-"+i.id,onInput:w=>t.calculatePayable(i.id)},null,40,dJt),[[X,d[i.id]["Credit Note Amount-"+i.id]]])])):b("",!0)]))),128))]))),128))])):b("",!0),t.selected_invoices.includes(i.id)?(u(),f("td",cJt,[(u(!0),f(G,null,ee(t.selected_invoices_taxes,(d,p)=>(u(),f("div",{key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{key:g},[g==i.id?(u(),f("div",uJt,[e("span",{class:"form-control",id:"pending-invoice-total-payable-"+i.id,style:{background:"#f8f7fa"}},n(new Intl.NumberFormat().format(i.invoice_total_amount)),9,_Jt)])):b("",!0)]))),128))]))),128))])):b("",!0)]))),128))]))])]),e("div",mJt,[e("button",{class:"btn btn-primary",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Approve"):o.$t("Processing")),9,fJt)])],32)):b("",!0)])])]),e("button",hJt,n(o.$t("Reject")),1),e("div",pJt,[e("div",vJt,[e("div",gJt,[e("div",bJt,[e("h5",yJt,n(o.$t("Confirm Rejection")),1),a[27]||(a[27]=e("button",{type:"button",id:"close-reject-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:a[10]||(a[10]=st(i=>t.submitBulkRejection(),["prevent"]))},[e("div",kJt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",$Jt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[9]||(a[9]=i=>t.reject_reason=i),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.reject_reason]])]),e("div",wJt,[e("button",{class:"btn btn-danger",type:"submit",disabled:!t.can_bulk_approve},n(t.can_bulk_approve?o.$t("Confirm"):o.$t("Processing")),9,DJt)])],32)])])])]),e("div",xJt,[e("div",CJt,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=i=>t.per_page=i),style:{width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[12]||(a[12]=(...i)=>t.exportInvoices&&t.exportInvoices(...i)),style:{height:"fit-content"},class:"btn btn-primary"},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",PJt,[e("table",EJt,[e("thead",null,[e("tr",null,[e("th",AJt,[e("div",IJt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[13]||(a[13]=i=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Issue Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",RJt,[e("td",SJt,[e("span",TJt,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",jJt,[e("td",OJt,[e("span",MJt,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",LJt,[i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("div",NJt,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+i.id,onChange:d=>t.updateSelected(i.id)},null,40,FJt)])):b("",!0)]),e("td",null,n(i.company),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},[e("a",VJt,n(i.invoice_number),1)],8,YJt),e("td",BJt,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_fees-i.total_invoice_discount)),1)]),e("td",UJt,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",qJt,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",HJt,[e("div",zJt,[a[31]||(a[31]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,WJt),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,KJt),e("button",{class:"d-none",id:"show-reject-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-reject-"+i.id},null,8,GJt),e("button",{class:"d-none",id:"show-approve-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-approval-"+i.id},null,8,QJt),e("button",{class:"d-none",id:"show-edit-fees-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},null,8,ZJt),e("button",{class:"d-none",id:"show-approvals-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#checker-approvals-"+i.id},null,8,JJt),e("button",{class:"d-none",id:"show-authorization-matrix-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#authorization-matrix-"+i.id},null,8,XJt),a[32]||(a[32]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",eXt,[e("div",tXt,[e("div",oXt,[e("div",aXt,[e("div",nXt,[e("span",null,n(o.$t("Loading"))+"...",1),a[30]||(a[30]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",sXt,[e("li",null,[e("a",{href:"javascript:;",class:"dropdown-item badge bg-label-primary mt-1",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(o.$t("Details")),9,lXt)]),i.can_edit?(u(),f("li",iXt,[e("a",{href:"invoices/"+i.id+"/edit",class:"dropdown-item badge bg-label-info"},n(o.$t("Edit")),9,rXt)])):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",{key:1,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-edit-fees-"+i.id)},[e("span",cXt,n(o.$t("Approve")),1)],8,dXt)):b("",!0),i.status==="submitted"&&i.user_can_approve&&!i.user_has_approved&&t.moment(i.due_date).isSameOrAfter(t.moment())?(u(),f("li",uXt,[e("a",{href:"#",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-reject-btn-"+i.id),class:"dropdown-item badge bg-label-danger mb-1"},n(o.$t("Reject")),9,_Xt)])):b("",!0),e("li",{style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-approvals-btn-"+i.id)},[e("span",fXt,n(o.$t("Checker Approvals")),1)],8,mXt),i.authorization_group?(u(),f("li",{key:3,style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.id,"show-authorization-matrix-btn-"+i.id),class:""},[e("span",pXt,n(o.$t("Authorization Matrix")),1)],8,hXt)):b("",!0)])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-reject-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",gXt,[e("div",bXt,[e("div",yXt,[e("h5",kXt,n(o.$t("Confirm Rejection")),1),e("button",{type:"button",id:"close-reject-modal-"+t.invoice_details.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,$Xt)]),e("form",{onSubmit:a[15]||(a[15]=st(d=>t.submitRejection(t.invoice_details.id),["prevent"]))},[e("div",wXt,[e("h6",null,n(o.$t("Are you sure you want to reject the selected invoices"))+"?",1),e("label",DXt,n(o.$t("Reason")),1),Y(e("textarea",{name:"",id:"",cols:"3","onUpdate:modelValue":a[14]||(a[14]=d=>t.reject_reason=d),placeholder:"Enter Rejection Reason",class:"form-control"},null,512),[[X,t.reject_reason]])]),e("div",xXt,[e("button",CXt,n(o.$t("Confirm")),1)])],32)])])],8,vXt)):b("",!0),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"invoice-approval-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",EXt,[e("div",AXt,[e("div",IXt,[e("h5",RXt,n(o.$t("Confirm Approval for "+t.invoice_details.invoice_number)),1),e("button",{type:"button",id:"close-modal-"+i.id,class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,SXt)]),e("form",{onSubmit:a[17]||(a[17]=st(d=>t.approveFees(t.invoice_details),["prevent"]))},[e("div",TXt,[t.invoice_details.invoice_fees.length>0?(u(),f("div",jXt,[e("div",OXt,[a[33]||(a[33]=e("div",null,null,-1)),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Edit Fees")),9,MXt)]),e("div",LXt,[e("label",NXt,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[16]||(a[16]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("div",{class:"form-group",key:d.id},[e("label",FXt,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("input",{key:0,class:"form-control",readonly:"",value:t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount)},null,8,YXt)):(u(),f("input",{key:1,class:"form-control",readonly:"",value:d.amount},null,8,VXt))]))),128)),e("div",BXt,[e("label",UXt,n(o.$t("Final Payable Amount")),1),e("input",{type:"text",class:"form-control",name:"sub_total",id:"",value:new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount),readonly:""},null,8,qXt)])])):(u(),f("div",HXt,[e("div",zXt,[e("div",null,[e("span",null,n(o.$t("Fees not set for this invoice")),1)]),e("button",{class:"btn btn-primary btn-sm",id:"edit-fees-btn-"+t.invoice_details.id,style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-fees-"+i.id},n(o.$t("Click to add fees")),9,WXt)])]))]),e("div",KXt,[e("button",GXt,n(t.invoice_details.invoice_fees.length?o.$t("Approve Fees"):o.$t("Approve")),1)])],32)])])],8,PXt)):b("",!0),t.invoice_details?(u(),f("div",{key:4,class:"modal fade",id:"edit-fees-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",ZXt,[e("div",JXt,[e("div",XXt,[e("h5",eeo,n(o.$t("Edit Fees for "+t.invoice_details.invoice_number)),1),e("button",{class:"btn-close",type:"button",id:"edit-fees-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"close"},null,8,teo)]),e("form",{onSubmit:a[22]||(a[22]=st(d=>t.submitApproval(t.invoice_details),["prevent"])),id:"anchor-edit-fees-"+t.invoice_details.id},[e("div",aeo,[e("div",neo,[e("label",seo,n(o.$t("Sub Total")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[18]||(a[18]=d=>t.invoice_subtotal=d),readonly:""},null,512),[[X,t.invoice_subtotal]])]),(u(!0),f(G,null,ee(t.anchor_taxes,(d,p)=>(u(),f("div",{class:"form-group",key:p},[d=="percentage"?(u(),f("div",leo,[e("label",ieo,n(p)+" %",1),Y(e("input",{type:"number",min:"0",max:"100",step:".01",class:"form-control","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[19]||(a[19]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,reo),[[X,t.invoice_taxes[p]]])])):b("",!0),d=="amount"?(u(),f("div",deo,[e("label",ceo,n(p),1),Y(e("input",{type:"number",min:"0",class:"form-control",step:".01","onUpdate:modelValue":v=>t.invoice_taxes[p]=v,onBlur:a[20]||(a[20]=(...v)=>t.updateInvoiceTotal&&t.updateInvoiceTotal(...v))},null,40,ueo),[[X,t.invoice_taxes[p]]])])):b("",!0)]))),128)),e("div",_eo,[e("label",meo,n(o.$t("Final Payable Amount")),1),Y(e("input",{type:"text",class:"form-control",name:"sub_total",id:"","onUpdate:modelValue":a[21]||(a[21]=d=>t.invoice_total=d),readonly:""},null,512),[[X,t.invoice_total]])]),t.invoice_details&&t.invoice_details.invoice_fees.length>0?(u(),f("div",feo,[e("h5",heo,n(o.$t("Rates set by maker"))+":",1),(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex"},[e("h6",peo,n(d.name),1),d.name!="Credit Note Amount"?(u(),f("h5",veo," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",geo,n(t.invoice_details.currency)+" "+n(d.amount),1))]))),128))])):b("",!0)]),e("div",beo,[e("button",yeo,n(o.$t("Submit")),1)])],40,oeo)])])],8,QXt)):b("",!0),t.invoice_details?(u(),f("div",{key:5,class:"modal fade",id:"checker-approvals-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",$eo,[e("div",weo,[e("div",Deo,[e("h5",xeo,n(o.$t("Checker Approval(s)")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Ceo,[e("table",Peo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approved By")),1),e("th",null,n(o.$t("Approved On")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.users,d=>(u(),f("tr",{key:d.id},[t.userHasApproved(t.invoice_details,d)?(u(),f(G,{key:0},[e("td",Eeo,n(d.name),1),e("td",null,n(t.approvalDetails(t.invoice_details,d)?t.moment(t.approvalDetails(t.invoice_details,d).created_at).format("DD MMM YYYY"):"-"),1)],64)):b("",!0)]))),128))])])])])])],8,keo)):b("",!0),t.invoice_details&&t.invoice_details.authorization_group?(u(),f("div",{key:6,class:"modal fade",id:"authorization-matrix-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Ieo,[e("div",Reo,[e("div",Seo,[e("h5",Teo,n(o.$t("Authorization Matrix"))+" - "+n(t.invoice_details.invoice_number),1),a[35]||(a[35]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",jeo,[e("h6",null,n(o.$t("Maker Approval(s)")),1),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Oeo,[e("span",Meo,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):b("",!0)]))),128)),a[36]||(a[36]=e("hr",null,null,-1)),e("h6",null,[le(n(t.invoice_details.authorization_group.name)+" ",1),e("span",Leo,"("+n(t.invoice_details.authorization_group.level)+")",1)]),(u(!0),f(G,null,ee(t.invoice_details.authorization_group.authorization_users,d=>(u(),f("div",{key:d.id},[t.userHasApproved(t.invoice_details,d.user)?(u(),f("div",Neo,[e("span",Feo,n(d.user.name),1),e("span",null," - "+n(t.approvalDetails(t.invoice_details,d.user)?t.moment(t.approvalDetails(t.invoice_details,d.user).created_at).format("DD MMM YYYY"):"-"),1)])):(u(),f("span",Yeo,n(d.user.name),1))]))),128))])])])],8,Aeo)):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Beo=Ue(pZt,[["render",Veo]]),Ueo={name:"Anchors",components:{Pagination:bn},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(""),t=h(50),c=async()=>{await A.get(o+"invoices/anchors/data").then(r=>{a.value=r.data})};return Qe(()=>{c()}),{moment:H,vendors:a,filter:async()=>{await A.get(o+"invoices/vendors/data",{params:{per_page:t.value,vendor:s.value}}).then(r=>{a.value=r.data})},refresh:async()=>{s.value="",await A.get(o+"invoices/vendors/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data})},changePage:async r=>{await A.get(r).then(i=>{a.value=i.data})}}}},qeo={class:"card"},Heo={class:"card-body"},zeo={class:"d-flex justify-content-between"},Weo={class:"d-flex flex-wrap gap-1"},Keo={class:""},Geo={for:"Anchor",class:"form-label"},Qeo={class:"mx-1 table-search-btn"},Zeo={class:"mx-1 table-clear-btn"},Jeo={class:"table-responsive p-2"},Xeo={class:"table"},eto={key:0},tto={colspan:"12",class:"text-center"},oto={class:"text-center"},ato={key:1},nto={colspan:"12",class:"text-center"},sto={class:"text-center"},lto={class:""};function ito(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",qeo,[e("div",Heo,[e("div",zeo,[e("div",Weo,[e("div",Keo,[e("label",Geo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>o.vendor_search=l),placeholder:"Search Anchors","aria-describedby":"defaultFormControlHelp"},null,544),[[X,o.vendor_search]])]),e("div",Qeo,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[4]||(a[4]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Zeo,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),a[6]||(a[6]=ga('<div class="d-flex"><div><select class="form-select" id="exampleFormControlSelect1"><option value="10">10</option><option value="20">20</option><option value="50">50</option></select></div></div>',1))]),t.vendors.meta?(u(),me(_,{key:0,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Jeo,[e("table",Xeo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("My Payment OD Account")),1)])]),e("tbody",null,[t.vendors.data?b("",!0):(u(),f("tr",eto,[e("td",tto,[e("span",oto,n(o.$t("Loading Data"))+"...",1)])])),t.vendors.data&&t.vendors.data.length<=0?(u(),f("tr",ato,[e("td",nto,[e("span",sto,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.vendors.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.anchor_name),1),e("td",lto,n(l.payment_account_number),1)]))),128))])])]),t.vendors.meta?(u(),me(_,{key:1,from:t.vendors.meta.from,to:t.vendors.meta.to,links:t.vendors.meta.links,next_page:t.vendors.links.next,prev_page:t.vendors.links.prev,total_items:t.vendors.meta.total,first_page_url:t.vendors.links.first,last_page_url:t.vendors.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const rto=Ue(Ueo,[["render",ito]]),dto={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},cto={"aria-label":"Page navigation",class:"mt-2 d-flex flex-column flex-md-row justify-content-between"},uto={key:0,class:"d-flex my-auto text-primary"},_to={class:"mx-1 fw-bold"},mto={class:"mx-1 fw-bold"},fto={class:"mx-1 fw-bold"},hto={class:"pagination justify-content-md-end"},pto={class:"page-item prev"},vto=["onClick","innerHTML"],gto={class:"page-item next"};function bto(o,a,s,t,c,m){return u(),f("nav",cto,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",uto,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",_to,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",mto,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",fto,n(s.total_items),1)])):b("",!0)]),e("ul",hto,[e("li",pto,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(G,null,ee(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,vto)):b("",!0)],2))),128)),e("li",gto,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const za=Ue(dto,[["render",bto]]),yto={name:"AllInvoices",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h(0),c=h(0),m=h(null),_=h(0),l=h(0),r=h(0),i=h(""),d=h(""),p=h([]),v=h([]),g=h(""),w=h(""),y=h(""),x=h(""),C=h(50),E=h(0),D=async()=>{await A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,from_date:w.value,to_date:y.value,per_page:C.value}}).then(O=>{s.value=O.data.invoices})},k=async(O,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(a+"invoices/"+O+"/details").then(S=>{m.value=S.data,E.value++,bt(()=>{document.getElementById(N).click()})}).catch(S=>{console.log(S)})},I=O=>{let N="";switch(O){case"Overdue":N="bg-label-danger";break;case"Created":N="bg-label-secondary";break;case"Pending Maker":N="bg-label-primary";break;case"Pending Checker":N="bg-label-warning";break;case"Submitted":N="bg-label-primary";break;case"Approved":N="bg-label-success";break;case"Disbursed":N="bg-label-success";break;case"Denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},V=O=>{let N="";switch(O){case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-warning";break;case"financed":N="bg-label-success";break;case"closed":N="bg-label-secondary";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},B=async O=>{await A.get(a+"invoices/"+O.id+"/request/send").then(()=>{o.success("Invoice sent successfully"),D()}).catch(N=>{console.log(N),o.error("An error occurred")})},L=(O,N)=>N/O*100;ot([C],async([O])=>{await A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:O,from_date:w.value,to_date:y.value}}).then(N=>{s.value=N.data.invoices})});const F=()=>{x.value=$("#date_search").val(),x.value&&(w.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+"invoices/data",{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:C.value,from_date:w.value,to_date:y.value}}).then(N=>{s.value=N.data.invoices,O.html('<i class="ti ti-search"></i>')})},T=()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value=[],v.value=[],w.value="",y.value="",x.value="",$("#date_search").val(""),$("#invoices-status-select").val(""),$("#invoices-status-select").trigger("change"),$("#financing-status-select").val(""),$("#financing-status-select").trigger("change"),A.get(a+"invoices/data",{params:{per_page:C.value}}).then(N=>{s.value=N.data.invoices,O.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{D(),$("#invoice-status-select").on("change",function(){var O=$("#invoice-status-select").val();p.value=O}),$("#financing-status-select").on("change",function(){var O=$("#financing-status-select").val();v.value=O})}),{moment:H,invoices:s,eligibility:t,eligibility_amount:c,business_spread:l,discount_amount:r,invoice_details:m,pi_amount:_,per_page:C,anchor:i,invoice_number:d,status:p,financing_status:v,invoice_date:g,from_date_search:w,to_date_search:y,filter:F,refresh:T,resolveStatus:I,resolveFinancingStatus:V,requestApproval:B,changePage:async O=>{await A.get(O,{params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:C.value,from_date:w.value,to_date:y.value}}).then(N=>{s.value=N.data.invoices})},getTaxPercentage:L,showInvoice:k,exportReport:()=>{let O=$(".ti-download").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value=$("#date_search").val(),x.value&&(w.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),y.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(a+"invoices/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:i.value,invoice_number:d.value,status:p.value,finance_status:v.value,per_page:C.value,from_date:w.value,to_date:y.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-download"></i>')})}}}},kto={class:"card"},$to={class:"card-body"},wto={class:"d-flex justify-content-between"},Dto={class:"d-flex flex-wrap gap-1"},xto={class:""},Cto={for:"Anchor",class:"form-label"},Pto={class:""},Eto={for:"Invoice No",class:"form-label"},Ato={class:""},Ito={class:"form-label",for:""},Rto={class:""},Sto={for:"Status",class:"form-label"},Tto={value:"approved"},jto={value:"past_due"},Oto={value:"expired"},Mto={value:"rejected"},Lto={class:""},Nto={for:"Financing Status",class:"form-label"},Fto={value:"pending"},Yto={value:"submitted"},Vto={value:"financed"},Bto={value:"disbursed"},Uto={value:"closed"},qto={value:"denied"},Hto={class:""},zto={for:"Financing Status",class:"form-label"},Wto={value:""},Kto={value:"po_asc"},Gto={value:"po_desc"},Qto={value:"invoice_no_asc"},Zto={value:"invoice_no_desc"},Jto={value:"due_date_asc"},Xto={value:"due_date_desc"},eoo={value:"invoice_amount_asc"},too={value:"invoice_amount_desc"},ooo={class:"table-search-btn"},aoo={class:"table-clear-btn"},noo={class:"d-flex mx-2",style:{height:"fit-content"}},soo={class:"table-responsive"},loo={class:"table"},ioo={key:0},roo={colspan:"12",class:"text-center"},doo={class:"text-center"},coo={key:1},uoo={colspan:"12",class:"text-center"},_oo={class:"text-center"},moo={class:"text-primary text-decoration-underline"},foo=["onClick"],hoo={class:"text-success"},poo={class:"text-success"},voo={class:""},goo={class:""},boo={class:""},yoo={class:"text-success"},koo={class:""},$oo={class:"d-inline-block"},woo=["id","data-bs-target"],Doo=["id","data-bs-target"],xoo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Coo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Poo={class:"modal-content"},Eoo={class:"modal-body"},Aoo={class:"d-flex justify-content-center"},Ioo={class:"dropdown-menu dropdown-menu-end"},Roo=["onClick"],Soo={key:0},Too=["href"],joo={key:1},Ooo=["onClick"];function Moo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",kto,[e("div",$to,[e("div",wto,[e("div",Dto,[e("div",xto,[e("label",Cto,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor=i),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor]])]),e("div",Pto,[e("label",Eto,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",Ato,[e("label",Ito,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Rto,[e("label",Sto,n(o.$t("Invoice Status")),1),Y(e("select",{class:"form-select form-search select2",id:"invoice-status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status=i)},[e("option",Tto,n(o.$t("Approved")),1),e("option",jto,n(o.$t("Overdue")),1),e("option",Oto,n(o.$t("Expired")),1),e("option",Mto,n(o.$t("Rejected")),1)],512),[[de,t.status]])]),e("div",Lto,[e("label",Nto,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search select2",id:"financing-status-select",multiple:"","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status=i)},[e("option",Fto,n(o.$t("Pending")),1),e("option",Yto,n(o.$t("Submitted")),1),e("option",Vto,n(o.$t("Financed")),1),e("option",Bto,n(o.$t("Disbursed")),1),e("option",Uto,n(o.$t("Closed")),1),e("option",qto,n(o.$t("Rejected")),1)],512),[[de,t.financing_status]])]),e("div",Hto,[e("label",zto,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=i=>o.sort_by=i)},[e("option",Wto,n(o.$t("Sort By")),1),e("option",Kto,n(o.$t("PO No. (ASC)")),1),e("option",Gto,n(o.$t("PO No. (DESC)")),1),e("option",Qto,n(o.$t("Invoice No. (ASC)")),1),e("option",Zto,n(o.$t("Invoice No. (DESC)")),1),e("option",Jto,n(o.$t("Due Date. (ASC)")),1),e("option",Xto,n(o.$t("Due Date. (DESC)")),1),e("option",eoo,n(o.$t("Invoice Amount. (ASC)")),1),e("option",too,n(o.$t("Invoice Amount. (DESC)")),1)],512),[[de,o.sort_by]])]),e("div",ooo,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",aoo,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",noo,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i)},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportReport&&t.exportReport(...i)),style:{height:"fit-content"},class:"btn btn-primary mx-1"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")]))])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",soo,[e("table",loo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Accrued Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",ioo,[e("td",roo,[e("span",doo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",coo,[e("td",uoo,[e("span",_oo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",moo,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,foo)]),e("td",hoo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",poo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.discount)),1),e("td",voo,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",goo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",boo,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",yoo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.disbursed_amount)),1),e("td",koo,[e("div",$oo,[a[17]||(a[17]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,woo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Doo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",xoo,[e("div",Coo,[e("div",Poo,[e("div",Eoo,[e("div",Aoo,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("ul",Ioo,[e("li",null,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),class:"dropdown-item btn btn-sm btn-label-primary mt-1"},n(o.$t("Details")),9,Roo)]),i.status=="approved"&&i.payment_requests<=0&&i.eligible_for_financing?(u(),f("li",Soo,[e("a",{href:"invoices/initiate-drawdown/"+i.id,class:"dropdown-item btn btn-sm btn-label-success mb-1"},n(o.$t("Request Finance")),9,Too)])):b("",!0),i.status=="pending"||i.status=="created"?(u(),f("li",joo,[e("a",{href:"javascript:;",onClick:d=>t.requestApproval(i),class:"dropdown-item mb-1"},n(o.$t("Request Approval")),9,Ooo)])):b("",!0)])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Loo=Ue(yto,[["render",Moo]]),Noo={name:"PurchaseOrders",components:{Pagination:bn},props:["can_create"],setup(o){o.can_edit;const a=lt(),s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=async()=>{await A.get(s+"purchase-orders/data?per_page="+p.value).then(T=>{t.value=T.data.purchase_orders}).catch(T=>{console.log(T.message)})},E=T=>{let P="";switch(T){case"Pending Checker Approval":P="bg-label-warning";break;case"Pending Maker":P="bg-label-primary";break;case"Pending Checker":P="bg-label-warning";break;case"Accepted":P="bg-label-success";break;case"Rejected":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},D=async(T,P)=>{await A.post(`${s}purchase-orders/approve`,{purchase_order_id:T.id,status:P,rejection_reason:c.value}).then(()=>{a.success("Purchase Order updated successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(R=>{console.log(R),a.error("An error occurred")})};return Qe(()=>{C()}),ot([p],([T])=>{A.get(s+"purchase-orders/data?per_page="+T,{params:{vendor:m.value,from_date:l.value,to_date:r.value,status:i.value,po_number:_.value}}).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)})}),ot(v,T=>{g.value.length>0?(x.value=[],T=="approve"&&(g.value.forEach(P=>{x.value.push(t.value.data.filter(R=>R.id==P)[0])}),y.value.click()),T=="reject"&&w.value.click()):a.error("Select POs")}),{moment:H,purchase_orders:t,rejection_reason:c,vendor_search:m,po_search:_,from_date:l,to_date:r,status_search:i,per_page:p,bulk_action:v,bulk_action:v,showRejectionModal:w,showApprovalModal:y,selectAll:()=>{g.value=[],document.getElementById("select-all").checked?t.value.data.forEach(T=>{T.user_can_approve&&!T.user_has_approved&&(document.getElementById("data-select-"+T.id).checked=!0,g.value.push(T.id))}):t.value.data.forEach(T=>{if(T.user_can_approve&&!T.user_has_approved){document.getElementById("data-select-"+T.id).checked=!1;let P;if(!g.value.filter(function(O,N){P=N,O==T.id}))return!1;g.value.splice(P,1)}})},updateSelected:T=>{if(g.value.includes(T)){const P=g.value.indexOf(T);g.value.splice(P,1)}else g.value.push(T)},submitBulkAction:T=>{if(g.value.length<=0){a.error("Select Purchase orders");return}const P=new FormData;g.value.forEach(R=>{P.append("purchase_orders[]",R)}),T=="approve"&&P.append("status","approved"),T=="reject"&&(P.append("status","rejected"),P.append("rejection_reason",c.value)),A.post(s+"purchase-orders/bulk/approve",P).then(()=>{a.success("POs updated"),v.value="",c.value="",C(),document.getElementById("approve-data-close").click(),document.getElementById("reject-data-close").click()}).catch(R=>{console.log(R),a.error("An error occurred")})},resolveStatus:E,submitApproval:D,changePage:async T=>{await A.get(T+"&per_page="+p.value).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(l.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let T=$(".ti-search").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"purchase-orders/data?per_page="+p.value,{params:{vendor:m.value,from_date:l.value,to_date:r.value,status:i.value,po_number:_.value}}).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},refresh:()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),A.get(s+"purchase-orders/data?per_page="+p.value).then(P=>{t.value=P.data.purchase_orders}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})}}}},Foo={class:"card"},Yoo={class:"card-body"},Voo={class:"d-flex justify-content-between"},Boo={class:"d-flex flex-wrap gap-1"},Uoo={class:""},qoo={for:"PO Number",class:"form-label"},Hoo={class:""},zoo={for:"PO Number",class:"form-label"},Woo={class:""},Koo={class:"form-label",for:""},Goo={class:""},Qoo={for:"Status",class:"form-label"},Zoo={value:""},Joo={value:"pending"},Xoo={value:"approved"},eao={value:"invoiced"},tao={value:"rejected"},oao={key:0,class:""},aao={for:"Bulk Actions",class:"form-label"},nao={value:""},sao={value:"approve"},lao={value:"reject"},iao={class:"table-search-btn"},rao={class:"table-clear-btn"},dao={key:1,class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},cao={key:2,class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},uao={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_ao={class:"modal-content"},mao={class:"modal-header"},fao={class:"modal-title",id:"modalCenterTitle"},hao={class:"modal-body"},pao={class:"modal-footer"},vao={class:"btn btn-primary",type:"submit"},gao={key:3,class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},bao={key:4,class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},yao={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},kao={class:"modal-content"},$ao={class:"modal-header"},wao={class:"modal-title",id:"modalCenterTitle"},Dao={class:"modal-body"},xao={class:"row mb-1"},Cao={class:"form-group"},Pao={for:""},Eao={class:"modal-footer"},Aao={class:"btn btn-primary",type:"submit"},Iao={class:"d-flex"},Rao={class:"mx-1"},Sao={class:"table-responsive p-2"},Tao={class:"table dt-invoices"},jao={class:"form-check"},Oao={key:0},Mao={colspan:"12",class:"text-center"},Lao={class:"text-center"},Nao={key:1},Fao={colspan:"12",class:"text-center"},Yao={class:"text-center"},Vao={class:"form-check"},Bao=["id","onChange"],Uao=["data-bs-target"],qao={class:"text-success text-nowrap"},Hao={class:""},zao={class:""},Wao={class:""},Kao={class:""},Gao={class:"d-inline-block"},Qao={class:"dropdown-menu dropdown-menu-end m-0"},Zao=["onClick"],Jao={class:"dropdown-item badge bg-label-success"},Xao={key:1},eno=["href"],tno={class:"dropdown-item badge bg-label-secondary"},ono=["id"],ano={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},nno={class:"modal-content"},sno={class:"modal-header"},lno={class:"modal-title",id:"modalCenterTitle"},ino={class:"d-flex"},rno=["href"],dno=["href"],cno={class:"modal-body"},uno={class:"d-flex justify-content-between"},_no={class:"mb-3"},mno={class:"d-flex justify-content-between"},fno={class:"fw-light my-auto"},hno={class:"fw-bold mx-2 my-auto"},pno={class:"d-flex justify-content-between"},vno={class:"fw-light my-auto"},gno={class:"fw-bold mx-2 my-auto"},bno={class:"d-flex justify-content-between"},yno={class:"fw-light my-auto"},kno={class:"fw-bold mx-2 my-auto"},$no={class:"d-flex justify-content-between"},wno={class:"fw-light my-auto"},Dno={key:0,class:"d-flex justify-content-between"},xno={class:"fw-light my-auto"},Cno={class:"fw-bold mx-2 my-auto"},Pno={class:"mb-3"},Eno={class:"d-flex justify-content-between"},Ano={class:"my-auto fw-light"},Ino={class:"fw-bold mx-2 my-auto"},Rno={class:"d-flex justify-content-between"},Sno={class:"my-auto fw-light"},Tno={class:"fw-bold mx-2 my-auto"},jno={class:"d-flex justify-content-between"},Ono={class:"my-auto fw-light"},Mno={class:"fw-bold mx-2 my-auto"},Lno={class:"d-flex justify-content-between"},Nno={class:"my-auto fw-light"},Fno={class:"fw-bold text-success mx-2 my-auto"},Yno={class:"table-responsive"},Vno={class:"table"},Bno={class:"bg-label-secondary px-2"},Uno={class:"d-flex justify-content-end"},qno={class:"mx-2 my-auto py-1"},Hno={class:"text-success my-auto py-1"};function zno(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Foo,[e("div",Yoo,[e("div",Voo,[e("div",Boo,[e("div",Uoo,[e("label",qoo,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"Search Anchor","onUpdate:modelValue":a[0]||(a[0]=l=>t.vendor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",Hoo,[e("label",zoo,n(o.$t("PO Number")),1),Y(e("input",{type:"text",class:"form-control mb-1 form-search",id:"defaultFormControlInput",placeholder:"PO No","onUpdate:modelValue":a[2]||(a[2]=l=>t.po_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.po_search]])]),e("div",Woo,[e("label",Koo,n(o.$t("Date"))+" ("+n(o.$t("Delivery Date"))+")",1),a[13]||(a[13]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Goo,[e("label",Qoo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",Zoo,n(o.$t("Status")),1),e("option",Joo,n(o.$t("Pending")),1),e("option",Xoo,n(o.$t("Approved")),1),e("option",eao,n(o.$t("Invoiced")),1),e("option",tao,n(o.$t("Rejeccted")),1)],512),[[de,t.status_search]])]),o.can_edit==1?(u(),f("div",oao,[e("label",aao,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.bulk_action=l)},[e("option",nao,n(o.$t("Bulk Actions")),1),e("option",sao,n(o.$t("Approve")),1),e("option",lao,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])])):b("",!0),e("div",iao,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",rao,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),o.can_edit==1?(u(),f("button",dao,null,512)):b("",!0),o.can_ecit==1?(u(),f("div",cao,[e("div",uao,[e("div",_ao,[e("div",mao,[e("h5",fao,n(o.$t("Approve POs")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"approve-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",hao,[e("h5",null,n(o.$t("Are you sure you want to approve the selected purchase orders"))+"?",1)]),e("div",pao,[e("button",vao,n(o.$t("Submit")),1)])],32)])])])):b("",!0),o.can_edit==1?(u(),f("button",gao,null,512)):b("",!0),o.can_edit==1?(u(),f("div",bao,[e("div",yao,[e("div",kao,[e("div",$ao,[e("h5",wao,n(o.$t("Reject Selected Purchase Orders")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"reject-data-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Dao,[e("div",xao,[e("div",Cao,[e("label",Pao,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",Eao,[e("button",Aao,n(o.$t("Submit")),1)])],32)])])])):b("",!0)]),e("div",Iao,[e("div",Rao,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[11]||(a[11]=l=>t.per_page=l)},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Sao,[e("table",Tao,[e("thead",null,[e("tr",null,[e("th",null,[e("div",jao,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("No. of Items")),1),e("th",null,n(o.$t("Delivery From")),1),e("th",null,n(o.$t("Delivery To")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[19]||(a[19]=e("th",null,null,-1))])]),e("tbody",null,[t.purchase_orders.data?b("",!0):(u(),f("tr",Oao,[e("td",Mao,[e("span",Lao,n(o.$t("Loading Data"))+"...",1)])])),t.purchase_orders.data&&t.purchase_orders.data.length<=0?(u(),f("tr",Nao,[e("td",Fao,[e("span",Yao,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.purchase_orders.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("div",Vao,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Bao)):b("",!0)])]),e("td",null,n(l.company.name),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+l.id,style:{cursor:"pointer"}},n(l.purchase_order_number),9,Uao),e("td",qao,n(new Intl.NumberFormat().format(l.total)),1),e("td",Hao,n(l.purchase_order_items.length),1),e("td",zao,n(t.moment(l.delivery_from).format("DD MMM YYYY")),1),e("td",Wao,n(t.moment(l.delivery_to).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge py-2 mt-1",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),e("td",Kao,[e("div",Gao,[a[20]||(a[20]=e("a",{href:"javascript(0)",class:"btn btn-sm btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"text-primary ti ti-dots-vertical"})],-1)),e("ul",Qao,[l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",{key:0,"data-bs-toggle":"modal",style:{cursor:"pointer"},onClick:r=>t.submitApproval(l,"approve")},[e("span",Jao,n(o.$t("Approve")),1)],8,Zao)):b("",!0),l.status=="pending"&&l.user_can_approve&&!l.user_has_approved?(u(),f("li",Xao,[e("a",{href:"purchase-orders/"+l.id+"/reject",class:"dropdown-item badge bg-label-danger"},n(o.$t("Reject")),9,eno)])):b("",!0),e("li",tno,n(o.$t("View Attachment")),1)])])]),e("td",null,[e("div",{class:"modal fade",id:"purchase-order-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",ano,[e("div",nno,[e("div",sno,[e("h5",lno,n(o.$t("Purchase Order")),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",ino,[e("div",null,[e("a",{href:"purchase-orders/"+l.id+"/pdf/download",class:"btn btn-primary"},[a[21]||(a[21]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,rno)]),l.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,dno)):b("",!0)])]),e("div",cno,[e("div",uno,[e("div",_no,[e("span",mno,[e("h5",fno,n(o.$t("Vendor"))+":",1),e("h6",hno,n(l.company.name),1)]),e("span",pno,[e("h5",vno,n(o.$t("Delivery Address"))+":",1),e("h6",gno,n(l.delivery_address),1)]),e("span",bno,[e("h5",yno,n(o.$t("Remarks"))+":",1),e("h6",kno,n(l.remarks),1)]),e("span",$no,[e("h5",wno,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(l.approval_stage)])},n(l.approval_stage),3)]),l.rejection_reason?(u(),f("span",Dno,[e("h5",xno,n(o.$t("Rejection Reason"))+":",1),e("h6",Cno,n(l.rejection_reason),1)])):b("",!0)]),e("div",Pno,[e("span",Eno,[e("h5",Ano,n(o.$t("PO No"))+":",1),e("h6",Ino,n(l.purchase_order_number),1)]),e("span",Rno,[e("h5",Sno,n(o.$t("Start Date"))+":",1),e("h6",Tno,n(t.moment(l.duration_from).format("DD MMM YYYY")),1)]),e("span",jno,[e("h5",Ono,n(o.$t("End Date"))+":",1),e("h6",Mno,n(t.moment(l.duration_to).format("DD MMM YYYY")),1)]),e("span",Lno,[e("h5",Nno,n(o.$t("PO Amount"))+":",1),e("h6",Fno,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.total_amount)),1)])])]),e("div",Yno,[e("table",Vno,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.purchase_order_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",Bno,[e("span",Uno,[e("h6",qno,n(o.$t("Total")),1),e("h5",Hno,n(new Intl.NumberFormat().format(l.total_amount)),1)])])])])])],8,ono)])])),[[mo,t.purchase_orders.data.length>0]])),128))])])]),Be(_,{from:t.purchase_orders.from,to:t.purchase_orders.to,links:t.purchase_orders.links,next_page:t.purchase_orders.next_page_url,prev_page:t.purchase_orders.prev_page_url,total_items:t.purchase_orders.total,first_page_url:t.purchase_orders.first_page_url,last_page_url:t.purchase_orders.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const Wno=Ue(Noo,[["render",zno]]),Kno={name:"InvoiceAnalysisReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=h("invoice-analysis"),i=h([]),d=h(null),p=h(""),v=h(0),g="../../../../../assets/img/spinner.svg",w=()=>{A.get(s+"reports/report",{params:{per_page:l.value,type:r.value}}).then(F=>{i.value=F.data}).catch(F=>{console.log(F)})},y=async(F,T)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+F+"/details").then(P=>{d.value=P.data,v.value++,bt(()=>{document.getElementById(T).click()})}).catch(P=>{console.log(P)})},x=(F,T)=>(T/F*100).toFixed(2);Qe(()=>{w()});const C=F=>{let T="";switch(F){case"pending":T="bg-label-primary";break;case"submitted":T="bg-label-warning";break;case"financed":T="bg-label-success";break;case"closed":T="bg-label-secondary";break;case"denied":T="bg-label-danger";break;default:T="bg-label-primary";break}return T},E=()=>{p.value=$("#date_search").val(),p.value&&(c.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),m.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let F=$(".ti-search").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:l.value,type:r.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(T=>{i.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})};ot([l],([F])=>{A.get(s+"reports/report",{params:{per_page:F,type:r.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(T=>{i.value=T.data}).catch(T=>{console.log(T)})});const D=()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",A.get(s+"reports/report",{params:{per_page:l.value,type:r.value}}).then(T=>{i.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},k=async F=>{await A.get(F,{params:{type:r.value,per_page:l.value,invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(T=>{invoices.value=T.data.invoices}).catch(T=>{console.log(T)})},I=h(!1),V=h(!1);return{moment:H,report:i,per_page:l,invoice_number_search:t,from_date:c,to_date:m,invoice_financing_status_search:_,resolveFinancingStatus:C,changePage:k,exportReport:()=>{I.value=!0,A.get(s+"reports/report/invoice-analysis/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(F=>{const T=window.URL.createObjectURL(new Blob([F.data])),P=document.createElement("a");P.href=T,P.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(P),P.click()}).catch(F=>{console.log(F)}).finally(()=>{I.value=!1})},exportPdfReport:()=>{V.value=!0,A.get(s+"report/"+r.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:t.value,from_date:c.value,to_date:m.value,financing_status:_.value}}).then(F=>{const T=window.URL.createObjectURL(new Blob([F.data])),P=document.createElement("a");P.href=T,P.setAttribute("download",`Invoice_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(P),P.click()}).catch(F=>{console.log(F)}).finally(()=>{V.value=!1})},filter:E,refresh:D,getTaxPercentage:x,invoice_details:d,showInvoice:y,downloadingExcel:I,downloadingPdf:V,spinner:g,invoice_details_key:v}}},Gno={class:"card p-2"},Qno={class:"d-flex justify-content-between"},Zno={class:"d-flex"},Jno={class:"mb-1"},Xno={for:"Invoice Number",class:"form-label mx-1"},eso={class:"mx-1"},tso={class:"form-label",for:""},oso={class:"mx-1"},aso={for:"Financing Status",class:"form-label"},nso={value:""},sso={value:"pending"},lso={value:"financed"},iso={value:"disbursed"},rso={value:"closed"},dso={value:"rejected"},cso={class:"mx-1 table-search-btn"},uso={class:"mx-1 table-clear-btn"},_so={class:"d-flex align-items-end"},mso={class:"mx-1"},fso={key:0,class:"d-flex"},hso=["src"],pso={key:0,class:"d-flex"},vso=["src"],gso={class:"table-responsive"},bso={class:"table"},yso={class:""},kso={class:"table-border-bottom-0"},$so={key:0},wso={colspan:"12",class:"text-center"},Dso={class:"text-center"},xso={key:1},Cso={colspan:"12",class:"text-center"},Pso={class:"text-center"},Eso=["onClick"],Aso={class:""},Iso={class:"text-success text-nowrap"},Rso=["id","data-bs-target"],Sso=["id","data-bs-target"],Tso={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},jso={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Oso={class:"modal-content"},Mso={class:"modal-body"},Lso={class:"d-flex justify-content-center"};function Nso(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Gno,[e("div",Qno,[e("div",Zno,[e("div",Jno,[e("label",Xno,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",eso,[e("label",tso,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[8]||(a[8]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",oso,[e("label",aso,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_financing_status_search=i)},[e("option",nso,n(o.$t("Financing Status")),1),e("option",sso,n(o.$t("Pending")),1),e("option",lso,n(o.$t("Financed")),1),e("option",iso,n(o.$t("Disbursed")),1),e("option",rso,n(o.$t("Closed")),1),e("option",dso,n(o.$t("Rejected")),1)],512),[[de,t.invoice_financing_status_search]])]),e("div",cso,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",uso,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.refresh&&t.refresh(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_so,[e("div",mso,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[6]||(a[6]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,hso)):(u(),f("span",fso,[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,vso)):(u(),f("span",pso,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",gso,[e("table",bso,[e("thead",null,[e("tr",yso,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",kso,[t.report.data?b("",!0):(u(),f("tr",$so,[e("td",wso,[e("span",Dso,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",xso,[e("td",Cso,[e("span",Pso,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Eso),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",Aso,n(i.anchor),1),e("td",Iso,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Rso),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Sso),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Tso,[e("div",jso,[e("div",Oso,[e("div",Mso,[e("div",Lso,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const dD=Ue(Kno,[["render",Nso]]),Fso={name:"AllInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v="../../../../../assets/img/spinner.svg",g=h("all-invoices"),w=h([]),y=h(0),x=()=>{A.get(s+"reports/report",{params:{per_page:t.value,type:g.value}}).then(R=>{w.value=R.data}).catch(R=>{console.log(R)})},C=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+R+"/details").then(N=>{p.value=N.data,y.value++,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})},E=(R,O)=>(O/R*100).toFixed(2);Qe(()=>{x()});const D=R=>{let O="";switch(R){case"pending":O="bg-label-primary";break;case"sent":O="bg-label-secondary";break;case"approved":O="bg-label-success";break;case"disbursed":O="bg-label-success";break;case"denied":O="bg-label-danger";break;case"Rejected":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},k=R=>{let O="";switch(R){case"pending":O="bg-label-primary";break;case"submitted":O="bg-label-warning";break;case"financed":O="bg-label-success";break;case"closed":O="bg-label-secondary";break;case"denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+"reports/report/all-invoices/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:c.value,invoice_date:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+"report/"+g.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:c.value,invoice_date:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!1})},F=()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:t.value,type:g.value,invoice_number:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{w.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})};return ot([t],([R])=>{A.get(s+"reports/report",{params:{per_page:R,type:g.value,invoice_number:c.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(O=>{w.value=O.data}).catch(O=>{console.log(O)})}),{moment:H,report:w,per_page:t,invoice_number_search:c,invoice_date_search:m,invoice_status_search:r,invoice_financing_status_search:i,resolveStatus:D,resolveFinancingStatus:k,changePage:async R=>{await A.get(R,{params:{type:g.value,per_page:t.value,invoice_number:c.value,invoice_date:m.value,due_date:invoice_due_date_search.value,status:r.value,financing_status:i.value}}).then(O=>{w.value=O.data}).catch(O=>{console.log(O)})},exportReport:B,exportPdfReport:L,filter:F,refresh:()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",_.value="",l.value="",i.value="",d.value="",$("#date_search").val(""),A.get(s+"reports/report",{params:{type:g.value,per_page:t.value}}).then(O=>{w.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},showInvoice:C,getTaxPercentage:E,invoice_details:p,downloadingExcel:I,downloadingPdf:V,spinner:v,invoice_details_key:y}}},Yso={class:"card p-2"},Vso={class:"d-flex justify-content-between"},Bso={class:"d-flex flex-wrap gap-1"},Uso={class:""},qso={for:"Invoice No",class:"form-label"},Hso={class:""},zso={class:"form-label",for:""},Wso={class:""},Kso={for:"Status",class:"form-label"},Gso={value:""},Qso={value:"pending"},Zso={value:"approved"},Jso={value:"rejected"},Xso={value:"submitted"},elo={value:"overdue"},tlo={class:""},olo={for:"Financing Status",class:"form-label"},alo={value:""},nlo={value:"pending"},slo={value:"pending"},llo={value:"financed"},ilo={value:"disbursed"},rlo={value:"closed"},dlo={value:"rejected"},clo={class:"table-search-btn"},ulo={class:"table-clear-btn"},_lo={class:"d-flex align-items-end"},mlo={class:"mx-1"},flo={key:0,class:"d-flex"},hlo=["src"],plo={key:0,class:"d-flex"},vlo=["src"],glo={class:"table-responsive"},blo={class:"table"},ylo={class:""},klo={class:"table-border-bottom-0"},$lo={key:0},wlo={colspan:"12",class:"text-center"},Dlo={class:"text-center"},xlo={key:1},Clo={colspan:"12",class:"text-center"},Plo={class:"text-center"},Elo={class:"text-primary"},Alo=["onClick"],Ilo={class:"text-success text-nowrap"},Rlo={key:0},Slo={key:1},Tlo=["id","data-bs-target"],jlo=["id","data-bs-target"],Olo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Mlo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Llo={class:"modal-content"},Nlo={class:"modal-body"},Flo={class:"d-flex justify-content-center"};function Ylo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Yso,[e("div",Vso,[e("div",Bso,[e("div",Uso,[e("label",qso,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",Hso,[e("label",zso,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Wso,[e("label",Kso,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_status_search=i)},[e("option",Gso,n(o.$t("Status")),1),e("option",Qso,n(o.$t("Pending")),1),e("option",Zso,n(o.$t("Approved")),1),e("option",Jso,n(o.$t("Rejected")),1),e("option",Xso,n(o.$t("Submitted")),1),e("option",elo,n(o.$t("Overdue")),1)],512),[[de,t.invoice_status_search]])]),e("div",tlo,[e("label",olo,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_financing_status_search=i)},[e("option",alo,n(o.$t("Financing Status")),1),e("option",nlo,n(o.$t("Pending")),1),e("option",slo,n(o.$t("Submitted")),1),e("option",llo,n(o.$t("Financed")),1),e("option",ilo,n(o.$t("Disbursed")),1),e("option",rlo,n(o.$t("Closed")),1),e("option",dlo,n(o.$t("Rejected")),1)],512),[[de,t.invoice_financing_status_search]])]),e("div",clo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ulo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_lo,[e("div",mlo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,hlo)):(u(),f("span",flo,[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,vlo)):(u(),f("span",plo,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",glo,[e("table",blo,[e("thead",null,[e("tr",ylo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",klo,[t.report.data?b("",!0):(u(),f("tr",$lo,[e("td",wlo,[e("span",Dlo,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",xlo,[e("td",Clo,[e("span",Plo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Elo,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Alo),e("td",Ilo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.status)])},n(i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",Rlo,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",Slo,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Tlo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,jlo),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Olo,[e("div",Mlo,[e("div",Llo,[e("div",Nlo,[e("div",Flo,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const cD=Ue(Fso,[["render",Ylo]]),Vlo={name:"VendorAnalysisReport",components:{Pagination:bn},setup(o,a){const s=h(50),t=h("vendor-analysis"),c=h([]),m=h(""),_=()=>{A.get("report",{params:{per_page:s.value,type:t.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})};a.expose({getReport:_});const l=()=>{A.get("report",{params:{per_page:s.value,anchor:m.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})};return ot([s],([p])=>{A.get("report",{params:{per_page:p,type:t.value,anchor:m.value}}).then(v=>{c.value=v.data}).catch(v=>{console.log(v)})}),{moment:H,report:c,per_page:s,anchor_search:m,changePage:async p=>{await A.get(p,{params:{type:t.value,anchor:m.value}}).then(v=>{c.value=v.data}).catch(v=>{console.log(v)})},exportReport:()=>{A.get("report/vendor-analysis/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value}}).then(p=>{const v=window.URL.createObjectURL(new Blob([p.data])),g=document.createElement("a");g.href=v,g.setAttribute("download",`Anchors_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(g),g.click()}).catch(p=>{console.log(p)})},filter:l,refresh:()=>{m.value="",A.get("report",{params:{per_page:s.value,type:t.value}}).then(p=>{c.value=p.data}).catch(p=>{console.log(p)})}}}},Blo={class:"p-2"},Ulo={class:"d-flex justify-content-between"},qlo={class:"d-flex flex-wrap gap-1"},Hlo={class:""},zlo={for:"Anchor",class:"form-label"},Wlo={class:"mx-1 table-search-btn"},Klo={class:"mx-1 table-clear-btn"},Glo={class:"d-flex align-items-end"},Qlo={class:"mx-1"},Zlo={class:"table-responsive"},Jlo={class:"table"},Xlo={class:"text-nowrap"},eio={class:"table-border-bottom-0"},tio={key:0},oio={colspan:"12",class:"text-center"},aio={class:"text-center"},nio={key:1},sio={colspan:"12",class:"text-center"},lio={class:"text-center"},iio={class:"text-primary"},rio={class:"text-success"},dio={class:"text-success"},cio={class:"text-success"},uio={class:"text-success"};function _io(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Blo,[e("div",Ulo,[e("div",qlo,[e("div",Hlo,[e("label",zlo,n(o.$t("Anchor Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Wlo,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Klo,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Glo,[e("div",Qlo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},a[9]||(a[9]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")]))])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Zlo,[e("table",Jlo,[e("thead",null,[e("tr",Xlo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Anchor Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1)])]),e("tbody",eio,[t.report.data?b("",!0):(u(),f("tr",tio,[e("td",oio,[e("span",aio,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",nio,[e("td",sio,[e("span",lio,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",iio,n(l.name),1)]),e("td",rio,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit)),1),e("td",dio,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",cio,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.configuration.sanctioned_limit-l.utilized_amount)),1),e("td",uio,n(l.default_currency)+"."+n(new Intl.NumberFormat().format(l.pipeline_amount)),1)]))),128))])])]),Be(_,{from:t.report.from,to:t.report.to,links:t.report.links,next_page:t.report.next_page_url,prev_page:t.report.prev_page_url,total_items:t.report.total,first_page_url:t.report.first_page_url,last_page_url:t.report.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const uD=Ue(Vlo,[["render",_io]]),mio={name:"MaturingInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(50),c=h("maturing-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h("");h("");const d=h(null),p=h(0),v=h(0),g=h(0),w=h(0),y=h(0),x=h(0),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V="../../../../../assets/img/spinner.svg",B=()=>{A.get("report",{params:{per_page:t.value,type:c.value}}).then(oe=>{v.value=0,g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,m.value=oe.data,m.value.data.forEach(J=>{v.value+=J.total_due,g.value+=J.due_today,w.value+=J.due_seven_days,y.value+=J.due_fourteen_days,x.value+=J.due_twenty_one_days,C.value+=J.due_thirty_days,E.value+=J.due_fourty_five_days,D.value+=J.due_sixty_days,k.value+=J.due_seventy_five_days,I.value+=J.due_ninety_days})}).catch(oe=>{console.log(oe)})},L=async(oe,J)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+oe+"/details").then(K=>{d.value=K.data,invoice_subtotal.value=new Intl.NumberFormat().format(d.value.total+d.value.total_invoice_taxes-d.value.total_invoice_discount),invoice_total.value=new Intl.NumberFormat().format(d.value.total+d.value.total_invoice_taxes-d.value.total_invoice_discount),p.value++,nextTick(()=>{document.getElementById(J).click()})}).catch(K=>{console.log(K)})},F=(oe,J)=>(J/oe*100).toFixed(2);Qe(()=>{B()});const T=oe=>{let J="";switch(oe){case"pending":J="bg-label-primary";break;case"financed":J="bg-label-success";break;case"closed":J="bg-label-secondary";break;case"denied":J="bg-label-danger";break;default:J="bg-label-primary";break}return J},P=async()=>{await A.get("report",{params:{per_page:t.value,type:c.value}}).then(oe=>{v.value=0,g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,m.value=oe.data,m.value.data.forEach(J=>{v.value+=J.total_due,g.value+=J.due_today,w.value+=J.due_seven_days,y.value+=J.due_fourteen_days,x.value+=J.due_twenty_one_days,C.value+=J.due_thirty_days,E.value+=J.due_fourty_five_days,D.value+=J.due_sixty_days,k.value+=J.due_seventy_five_days,I.value+=J.due_ninety_days})}).catch(oe=>{console.log(oe)})},R=async()=>{l.value="",_.value="",r.value="",i.value="",await A.get("report",{params:{type:c.value,per_page:t.value}}).then(oe=>{v.value=0,g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,m.value=oe.data,m.value.data.forEach(J=>{v.value+=J.total_due,g.value+=J.due_today,w.value+=J.due_seven_days,y.value+=J.due_fourteen_days,x.value+=J.due_twenty_one_days,C.value+=J.due_thirty_days,E.value+=J.due_fourty_five_days,D.value+=J.due_sixty_days,k.value+=J.due_seventy_five_days,I.value+=J.due_ninety_days})}).catch(oe=>{console.log(oe)})},O=h(!1),N=h(!1);return{moment:H,report:m,per_page:t,invoice_number:_,vendor:l,from_date:r,to_date:i,resolveFinancingStatus:T,downloadReport:()=>{O.value=!0,A.get(s+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(oe=>{const J=window.URL.createObjectURL(new Blob([oe.data])),K=document.createElement("a");K.href=J,K.setAttribute("download",`Maturing_payments_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(K),K.click()}).catch(oe=>{console.log(oe)}).finally(()=>{O.value=!1})},exportPdfReport:()=>{N.value=!0,A.get(s+"reports/report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:l.value}}).then(oe=>{const J=window.URL.createObjectURL(new Blob([oe.data])),K=document.createElement("a");K.href=J,K.setAttribute("download",`Maturing_payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(K),K.click()}).catch(oe=>{console.log(oe)}).finally(()=>{N.value=!1})},filter:P,refresh:R,changePage:async oe=>{await A.get(oe,{params:{type:c.value}}).then(J=>{v.value=0,g.value=0,w.value=0,y.value=0,x.value=0,C.value=0,E.value=0,D.value=0,k.value=0,I.value=0,m.value=J.data,m.value.data.forEach(K=>{v.value+=K.total_due,g.value+=K.due_today,w.value+=K.due_seven_days,y.value+=K.due_fourteen_days,x.value+=K.due_twenty_one_days,C.value+=K.due_thirty_days,E.value+=K.due_fourty_five_days,D.value+=K.due_sixty_days,k.value+=K.due_seventy_five_days,I.value+=K.due_ninety_days})}).catch(J=>{console.log(J)})},invoice_details:d,getTaxPercentage:F,showInvoice:L,downloadingExcel:O,downloadingPdf:N,spinner:V,invoice_details_key:p,due_total:v,today_total:g,seven_days_total:w,fourteen_days_total:y,twenty_one_days_total:x,thirty_days_total:C,fourty_five_days_total:E,sixty_days_total:D,seventy_five_days_total:k,ninety_days_total:I}}},fio={class:"card p-2"},hio={class:"d-flex justify-content-between"},pio={class:"d-flex flex-wrap gap-1"},vio={class:"form-group"},gio={for:"Vendor",class:"form-label"},bio={class:"table-search-btn"},yio={class:"table-clear-btn"},kio={class:"d-flex justify-content-end flex-wrap gap-1 mt-auto"},$io={class:""},wio={key:0,class:"d-flex"},Dio=["src"],xio={key:0,class:"d-flex"},Cio=["src"],Pio={class:"table-responsive"},Eio={class:"table"},Aio={class:""},Iio={class:"table-border-bottom-0"},Rio={key:0},Sio={colspan:"12",class:"text-center"},Tio={class:"text-center"},jio={key:1},Oio={colspan:"12",class:"text-center"},Mio={class:"text-center"},Lio={class:"text-success text-nowrap"},Nio={class:"text-success text-nowrap"},Fio={class:"text-success text-nowrap"},Yio={class:"text-success text-nowrap"},Vio={class:"text-success text-nowrap"},Bio={class:"text-success text-nowrap"},Uio={class:"text-success text-nowrap"},qio={class:"text-success text-nowrap"},Hio={class:"text-success text-nowrap"},zio={class:"text-success text-nowrap"},Wio={class:""},Kio={class:"text-success",style:{"font-weight":"bolder"}},Gio={class:"text-success",style:{"font-weight":"bolder"}},Qio={class:"text-success",style:{"font-weight":"bolder"}},Zio={class:"text-success",style:{"font-weight":"bolder"}},Jio={class:"text-success",style:{"font-weight":"bolder"}},Xio={class:"text-success",style:{"font-weight":"bolder"}},ero={class:"text-success",style:{"font-weight":"bolder"}},tro={class:"text-success",style:{"font-weight":"bolder"}},oro={class:"text-success",style:{"font-weight":"bolder"}},aro={class:"text-success",style:{"font-weight":"bolder"}};function nro(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",fio,[e("div",hio,[e("div",pio,[e("div",vio,[e("label",gio,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=l=>t.vendor=l),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor]])]),e("div",bio,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yio,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kio,[e("div",$io,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{width:"5rem"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[5]||(a[5]=(...l)=>t.downloadReport&&t.downloadReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Dio)):(u(),f("span",wio,[a[10]||(a[10]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[6]||(a[6]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Cio)):(u(),f("span",xio,[a[11]||(a[11]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Pio,[e("table",Eio,[e("thead",null,[e("tr",Aio,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Total Due")),1),e("th",null,n(o.$t("Due <0 Days")),1),e("th",null,n(o.$t("Due 1-7 Days")),1),e("th",null,n(o.$t("Due 8-14 Days")),1),e("th",null,n(o.$t("Due 15-21 Days")),1),e("th",null,n(o.$t("Due 22-30 Days")),1),e("th",null,n(o.$t("Due 31-45 Days")),1),e("th",null,n(o.$t("Due 46-60 Days")),1),e("th",null,n(o.$t("Due 61-75 Days")),1),e("th",null,n(o.$t("Due 76-90 Days")),1)])]),e("tbody",Iio,[t.report.data?b("",!0):(u(),f("tr",Rio,[e("td",Sio,[e("span",Tio,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",jio,[e("td",Oio,[e("span",Mio,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.anchor.name)+" ("+n(l.payment_account_number)+")",1),e("td",null,[e("span",Lio,n(new Intl.NumberFormat().format(l.total_due)),1)]),e("td",null,[e("span",Nio,n(new Intl.NumberFormat().format(l.due_today)),1)]),e("td",null,[e("span",Fio,n(new Intl.NumberFormat().format(l.due_seven_days)),1)]),e("td",null,[e("span",Yio,n(new Intl.NumberFormat().format(l.due_fourteen_days)),1)]),e("td",null,[e("span",Vio,n(new Intl.NumberFormat().format(l.due_twenty_one_days)),1)]),e("td",null,[e("span",Bio,n(new Intl.NumberFormat().format(l.due_thirty_days)),1)]),e("td",null,[e("span",Uio,n(new Intl.NumberFormat().format(l.due_fourty_five_days)),1)]),e("td",null,[e("span",qio,n(new Intl.NumberFormat().format(l.due_sixty_days)),1)]),e("td",null,[e("span",Hio,n(new Intl.NumberFormat().format(l.due_seventy_five_days)),1)]),e("td",null,[e("span",zio,n(new Intl.NumberFormat().format(l.due_ninety_days)),1)])]))),128))]),e("tfoot",null,[e("tr",Wio,[e("th",null,n(o.$t("Total")),1),e("th",Kio,n(new Intl.NumberFormat().format(t.due_total)),1),e("th",Gio,n(new Intl.NumberFormat().format(t.today_total)),1),e("th",Qio,n(new Intl.NumberFormat().format(t.seven_days_total)),1),e("th",Zio,n(new Intl.NumberFormat().format(t.fourteen_days_total)),1),e("th",Jio,n(new Intl.NumberFormat().format(t.twenty_one_days_total)),1),e("th",Xio,n(new Intl.NumberFormat().format(t.thirty_days_total)),1),e("th",ero,n(new Intl.NumberFormat().format(t.fourty_five_days_total)),1),e("th",tro,n(new Intl.NumberFormat().format(t.sixty_days_total)),1),e("th",oro,n(new Intl.NumberFormat().format(t.seventy_five_days_total)),1),e("th",aro,n(new Intl.NumberFormat().format(t.ninety_days_total)),1)])])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const _D=Ue(mio,[["render",nro]]),sro={name:"PaidInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h(50),t=Je("baseURL"),c=h("paid-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(null),C=h(null),E="../../../../../assets/img/spinner.svg",D=()=>{A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})},k=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+S+"/details").then(W=>{x.value=W.data,C.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},I=(S,U)=>(U/S*100).toFixed(2);Qe(()=>{D()});const V=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-warning";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},L=()=>{w.value=$("#date_search").val(),w.value&&(r.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(d.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})};ot([s],([S])=>{A.get(t+"reports/report",{params:{per_page:S,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})});const F=()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#date_search").val(""),$("#disbursement_date_search").val(""),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=async S=>{await A.get(S,{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},P=h(!1),R=h(!1);return{moment:H,report:m,per_page:s,invoice_number_search:l,anchor_search:_,from_date_search:r,to_date_search:i,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,changePage:T,filter:L,refresh:F,exportReport:()=>{P.value=!0,A.get(t+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,status:v.value,financing_status:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{P.value=!1})},exportPdfReport:()=>{R.value=!0,A.get(t+"report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,status:v.value,financing_status:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Paid_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{R.value=!1})},invoice_details:x,showInvoice:k,getTaxPercentage:I,downloadingExcel:P,downloadingPdf:R,spinner:E,invoice_details_key:C}}},lro={class:"card p-2"},iro={class:"d-flex justify-content-between"},rro={class:"d-flex flex-wrap gap-1"},dro={class:""},cro={for:"Vendor",class:"form-label"},uro={class:""},_ro={for:"Invoice No.",class:"form-label"},mro={class:""},fro={class:"form-label",for:""},hro={class:""},pro={class:"form-label",for:""},vro={class:""},gro={for:"Financing Status",class:"form-label mx-1"},bro={value:""},yro={value:"disbursed"},kro={value:"closed"},$ro={value:"past_due"},wro={class:"table-search-btn"},Dro={class:"table-clear-btn"},xro={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto gap-1"},Cro={class:""},Pro={key:0,class:"d-flex"},Ero=["src"],Aro={key:0,class:"d-flex"},Iro=["src"],Rro={class:"table-responsive"},Sro={class:"table"},Tro={class:""},jro={class:"table-border-bottom-0"},Oro={key:0},Mro={colspan:"12",class:"text-center"},Lro={class:"text-center"},Nro={key:1},Fro={colspan:"12",class:"text-center"},Yro={class:"text-center"},Vro={class:"text-primary"},Bro=["onClick"],Uro={class:"text-success text-nowrap"},qro={key:0},Hro={key:1},zro={key:2},Wro={key:3},Kro=["id","data-bs-target"],Gro=["id","data-bs-target"],Qro={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Zro={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Jro={class:"modal-content"},Xro={class:"modal-body"},edo={class:"d-flex justify-content-center"};function tdo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",lro,[e("div",iro,[e("div",rro,[e("div",dro,[e("label",cro,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",uro,[e("label",_ro,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No.","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",mro,[e("label",fro,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",hro,[e("label",pro,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[11]||(a[11]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",vro,[e("label",gro,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.financing_status_search=i)},[e("option",bro,n(o.$t("Status")),1),e("option",yro,n(o.$t("Disbursed")),1),e("option",kro,n(o.$t("Closed")),1),e("option",$ro,n(o.$t("Overdue")),1)],512),[[de,t.financing_status_search]])]),e("div",wro,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Dro,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",xro,[e("div",Cro,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i),style:{width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Ero)):(u(),f("span",Pro,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Iro)):(u(),f("span",Aro,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Rro,[e("table",Sro,[e("thead",null,[e("tr",Tro,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",jro,[t.report.data?b("",!0):(u(),f("tr",Oro,[e("td",Mro,[e("span",Lro,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Nro,[e("td",Fro,[e("span",Yro,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Vro,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Bro),e("td",Uro,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.status)])},n(i.status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursement_date?(u(),f("td",qro,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1)):(u(),f("td",Hro,"-")),i.disbursement_date?(u(),f("td",zro,n(i.transaction_ref),1)):(u(),f("td",Wro,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Kro),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Gro),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Qro,[e("div",Zro,[e("div",Jro,[e("div",Xro,[e("div",edo,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const mD=Ue(sro,[["render",tdo]]),odo={name:"Reports",components:{InvoiceAnalysisReport:dD,AllInvoicesReport:cD,VendorAnalysisReport:uD,MaturingInvoicesReport:_D,PaidInvoicesReport:mD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null),t=h(null),c=h(null);return Qe(()=>{o.value.getReport()}),{moment:H,invoice_analysis_report:o,vendor_analysis_report:a,all_invoices_report:s,maturing_invoices_report:t,paid_invoices_report:c,switchTabs:_=>{switch(_){case"invoice_analysis_report":o.value.getReport();break;case"all_invoices_report":s.value.getReport();break;case"vendor_analysis_report":a.value.getReport();break;case"maturing_invoices_report":t.value.getReport();break;case"paid_invoices_report":c.value.getReport();break}}}}},ado={class:"nav-align-top nav-tabs-shadow"},ndo={class:"nav nav-tabs",role:"tablist"},sdo={class:"nav-item"},ldo={class:"nav-item"},ido={class:"nav-item"},rdo={class:"nav-item"},ddo={class:"nav-item"},cdo={class:"tab-content"},udo={class:"tab-pane fade show active",id:"navs-invoice-analysis",role:"tabpanel"},_do={class:"tab-pane fade",id:"navs-all-invoices-report",role:"tabpanel"},mdo={class:"tab-pane fade",id:"navs-vendor-analysis",role:"tabpanel"},fdo={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"},hdo={class:"tab-pane fade",id:"navs-paid-invoices-report",role:"tabpanel"};function pdo(o,a,s,t,c,m){const _=ce("invoice-analysis-report"),l=ce("all-invoices-report"),r=ce("vendor-analysis-report"),i=ce("maturing-invoices-report"),d=ce("paid-invoices-report");return u(),f("div",ado,[e("ul",ndo,[e("li",sdo,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=p=>t.switchTabs("invoice_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-invoice-analysis","aria-controls":"navs-invoice-analysis","aria-selected":"true"},n(o.$t("Invoice Analysis")),1)]),e("li",ldo,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=p=>t.switchTabs("all_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},n(o.$t("All Invoices Report")),1)]),e("li",ido,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=p=>t.switchTabs("vendor_analysis_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-vendor-analysis","aria-controls":"navs-vendor-analysis","aria-selected":"false"},n(o.$t("Anchor Analysis")),1)]),e("li",rdo,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[3]||(a[3]=p=>t.switchTabs("maturing_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},n(o.$t("Maturing Invoices Report")),1)]),e("li",ddo,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[4]||(a[4]=p=>t.switchTabs("paid_invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-paid-invoices-report","aria-controls":"navs-paid-invoices-report","aria-selected":"false"},n(o.$t("Paid Invoices Report")),1)])]),e("div",cdo,[e("div",udo,[Be(_,{ref:"invoice_analysis_report"},null,512)]),e("div",_do,[Be(l,{ref:"all_invoices_report"},null,512)]),e("div",mdo,[Be(r,{ref:"vendor_analysis_report"},null,512)]),e("div",fdo,[Be(i,{ref:"maturing_invoices_report"},null,512)]),e("div",hdo,[Be(d,{ref:"paid_invoices_report"},null,512)])])])}const vdo=Ue(odo,[["render",pdo]]),gdo={name:"PaidInvoicesReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h(50),t=Je("baseURL"),c=h("overdue-invoices"),m=h([]),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(null),C=h(null),E="../../../../../assets/img/spinner.svg",D=()=>{A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(S=>{m.value=S.data}).catch(S=>{console.log(S)})},k=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+"invoices/"+S+"/details").then(W=>{x.value=W.data,C.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},I=(S,U)=>(U/S*100).toFixed(2);Qe(()=>{D()});const V=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-primary";break;case"sent":U="bg-label-secondary";break;case"approved":U="bg-label-success";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},B=S=>{let U="";switch(S){case"pending":U="bg-label-primary";break;case"submitted":U="bg-label-warning";break;case"financed":U="bg-label-success";break;case"closed":U="bg-label-secondary";break;case"denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},L=()=>{w.value=$("#date_search").val(),w.value&&(r.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(d.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})};ot([s],([S])=>{A.get(t+"reports/report",{params:{per_page:S,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})});const F=()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),_.value="",l.value="",r.value="",i.value="",v.value="",g.value="",$("#date_search").val(""),d.value="",p.value="",$("#disbursement_date_search").val(""),A.get(t+"reports/report",{params:{per_page:s.value,type:c.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=async S=>{await A.get(S,{params:{per_page:s.value,type:c.value,invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(U=>{m.value=U.data}).catch(U=>{console.log(U)})},P=h(!1),R=h(!1);return{moment:H,report:m,per_page:s,invoice_number_search:l,anchor_search:_,from_date_search:r,to_date_search:i,status_search:v,financing_status_search:g,resolveStatus:V,resolveFinancingStatus:B,changePage:T,filter:L,refresh:F,exportReport:()=>{P.value=!0,A.get(t+"reports/report/"+c.value+"/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{P.value=!1})},exportPdfReport:()=>{R.value=!0,A.get(t+"report/"+c.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:l.value,anchor:_.value,from_date:r.value,to_date:i.value,from_disbursement_date:d.value,to_disbursement_date:p.value,status:v.value,financing_status:g.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Overdue_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{R.value=!1})},invoice_details:x,showInvoice:k,getTaxPercentage:I,downloadingExcel:P,downloadingPdf:R,spinner:E,invoice_details_key:C}}},bdo={class:"card p-2"},ydo={class:"d-flex justify-content-between"},kdo={class:"d-flex flex-wrap gap-1"},$do={class:""},wdo={for:"Vendor",class:"form-label"},Ddo={class:""},xdo={for:"Invoice No.",class:"form-label"},Cdo={class:""},Pdo={class:"form-label",for:""},Edo={class:""},Ado={class:"form-label",for:""},Ido={class:"table-search-btn"},Rdo={class:"table-clear-btn"},Sdo={class:"d-flex flex-wrap justify-content-end gap-1 mt-auto"},Tdo={class:""},jdo={key:0,class:"d-flex"},Odo=["src"],Mdo={key:0,class:"d-flex"},Ldo=["src"],Ndo={class:"table-responsive"},Fdo={class:"table"},Ydo={class:""},Vdo={class:"table-border-bottom-0"},Bdo={key:0},Udo={colspan:"12",class:"text-center"},qdo={class:"text-center"},Hdo={key:1},zdo={colspan:"12",class:"text-center"},Wdo={class:"text-center"},Kdo={class:"text-primary"},Gdo=["onClick"],Qdo={class:"text-success text-nowrap"},Zdo={class:"text-success text-nowrap"},Jdo=["id","data-bs-target"],Xdo=["id","data-bs-target"],eco={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},tco={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},oco={class:"modal-content"},aco={class:"modal-body"},nco={class:"d-flex justify-content-center"};function sco(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",bdo,[e("div",ydo,[e("div",kdo,[e("div",$do,[e("label",wdo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Ddo,[e("label",xdo,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",placeholder:"Invoice No.","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Cdo,[e("label",Pdo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Edo,[e("label",Ado,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",Ido,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Rdo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Sdo,[e("div",Tdo,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i),style:{width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary"},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Odo)):(u(),f("span",jdo,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Ldo)):(u(),f("span",Mdo,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Ndo,[e("table",Fdo,[e("thead",null,[e("tr",Ydo,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Overdue Amount.")),1),e("th",null,n(o.$t("DPD.")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",Vdo,[t.report.data?b("",!0):(u(),f("tr",Bdo,[e("td",Udo,[e("span",qdo,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",Hdo,[e("td",zdo,[e("span",Wdo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Kdo,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Gdo),e("td",Qdo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",Zdo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.balance)),1),e("td",null,n(i.days_past_due),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Jdo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Xdo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",eco,[e("div",tco,[e("div",oco,[e("div",aco,[e("div",nco,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const lco=Ue(gdo,[["render",sco]]),ico={name:"InvoiceAnalysisReport",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h("closed-invoices"),v=h([]),g=h(null),w=h(""),y=h(""),x=h(0),C="../../../../../assets/img/spinner.svg",E=()=>{A.get(s+"reports/report",{params:{per_page:d.value,type:p.value}}).then(O=>{v.value=O.data}).catch(O=>{console.log(O)})},D=async(O,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+O+"/details").then(S=>{g.value=S.data,x.value++,bt(()=>{document.getElementById(N).click()})}).catch(S=>{console.log(S)})},k=(O,N)=>(N/O*100).toFixed(2);Qe(()=>{E()});const I=O=>{let N="";switch(O){case"pending":N="bg-label-primary";break;case"submitted":N="bg-label-warning";break;case"financed":N="bg-label-success";break;case"closed":N="bg-label-secondary";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},V=()=>{w.value=$("#date_search").val(),w.value&&(m.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),_.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),y.value=$("#disbursement_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/report",{params:{per_page:d.value,anchor:t.value,type:p.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(N=>{v.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})};ot([d],([O])=>{A.get(s+"reports/report",{params:{per_page:O,anchor:t.value,type:p.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(N=>{v.value=N.data}).catch(N=>{console.log(N)})});const B=()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",$("#date_search").val(""),i.value="",l.value="",r.value="",$("#disbursement_date_search").val(""),A.get(s+"reports/report",{params:{per_page:d.value,type:p.value}}).then(N=>{v.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},L=async O=>{await A.get(O,{params:{anchor:t.value,type:p.value,per_page:d.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(N=>{invoices.value=N.data.invoices}).catch(N=>{console.log(N)})},F=h(!1),T=h(!1);return{moment:H,report:v,per_page:d,anchor_search:t,invoice_number_search:c,from_date:m,to_date:_,invoice_financing_status_search:i,resolveFinancingStatus:I,changePage:L,exportReport:()=>{F.value=!0,A.get(s+"reports/report/"+p.value+"/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`Closed_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{F.value=!1})},exportPdfReport:()=>{T.value=!0,A.get(s+"report/"+p.value+"/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,invoice_number:c.value,from_date:m.value,to_date:_.value,from_disbursement_date:l.value,to_disbursement_date:r.value,financing_status:i.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`Invoice_Analysis_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{T.value=!1})},filter:V,refresh:B,getTaxPercentage:k,invoice_details:g,showInvoice:D,downloadingExcel:F,downloadingPdf:T,spinner:C,invoice_details_key:x}}},rco={class:"card p-2"},dco={class:"d-flex justify-content-between"},cco={class:"d-flex flex-wrap gap-1"},uco={class:""},_co={for:"Invoice Number",class:"form-label mx-1"},mco={class:""},fco={for:"Invoice Number",class:"form-label mx-1"},hco={class:""},pco={class:"form-label",for:""},vco={class:""},gco={class:"form-label",for:""},bco={class:"table-search-btn"},yco={class:"table-clear-btn"},kco={class:"d-flex justify-content-end gap-1 mt-auto"},$co={class:""},wco={key:0,class:"d-flex"},Dco=["src"],xco={key:0,class:"d-flex"},Cco=["src"],Pco={class:"table-responsive"},Eco={class:"table"},Aco={class:""},Ico={class:"table-border-bottom-0"},Rco={key:0},Sco={colspan:"12",class:"text-center"},Tco={class:"text-center"},jco={key:1},Oco={colspan:"12",class:"text-center"},Mco={class:"text-center"},Lco={class:""},Nco=["onClick"],Fco={class:"text-success text-nowrap"},Yco=["id","data-bs-target"],Vco=["id","data-bs-target"],Bco={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Uco={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qco={class:"modal-content"},Hco={class:"modal-body"},zco={class:"d-flex justify-content-center"};function Wco(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",rco,[e("div",dco,[e("div",cco,[e("div",uco,[e("label",_co,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",mco,[e("label",fco,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",hco,[e("label",pco,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",vco,[e("label",gco,n(o.$t("Date"))+" ("+n(o.$t("Disbursement Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"disbursement_date_search",class:"form-control form-search",name:"disbursement_daterange",placeholder:"Select Dates"},null,-1))]),e("div",bco,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",yco,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",kco,[e("div",$co,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingExcel?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Dco)):(u(),f("span",wco,[a[14]||(a[14]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary",style:{height:"fit-content"}},[t.downloadingPdf?(u(),f("img",{key:1,src:t.spinner,style:{width:"1rem"}},null,8,Cco)):(u(),f("span",xco,[a[15]||(a[15]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])]),t.report.meta?(u(),me(_,{key:0,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Pco,[e("table",Eco,[e("thead",null,[e("tr",Aco,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Date")),1),e("th",null,n(o.$t("Closure Date")),1),e("th",null,n(o.$t("Transaction Ref.")),1)])]),e("tbody",Ico,[t.report.data?b("",!0):(u(),f("tr",Rco,[e("td",Sco,[e("span",Tco,n(o.$t("Loading Data"))+"...",1)])])),t.report.data&&t.report.data.length<=0?(u(),f("tr",jco,[e("td",Oco,[e("span",Mco,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report.data,i=>(u(),f("tr",{key:i.id},[e("td",Lco,n(i.anchor),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,Nco),e("td",Fco,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,n(i.closure_date?t.moment(i.closure_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",null,n(i.closure_transaction_reference?i.closure_transaction_reference:"-"),1),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Yco),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Vco),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Bco,[e("div",Uco,[e("div",qco,[e("div",Hco,[e("div",zco,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report.meta?(u(),me(_,{key:1,from:t.report.meta.from,to:t.report.meta.to,links:t.report.meta.links,next_page:t.report.links.next,prev_page:t.report.links.prev,total_items:t.report.meta.total,first_page_url:t.report.links.first,last_page_url:t.report.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Kco=Ue(ico,[["render",Wco]]),Gco={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},Qco={class:"fw-bold py-3 mb-2"},Zco={class:"fw-light px-3"},Jco={class:"table"},Xco={class:"table-border"},euo={class:""},tuo=["value"],ouo={class:""},auo=["value"],nuo={class:""},suo=["value"],luo={class:""},iuo=["value"],ruo={class:""},duo=["value"],cuo={class:""},uuo=["value"];function _uo(o,a,s,t,c,m){return u(),f("div",null,[e("h5",Qco,[e("span",Zco,n(o.$t("Bank A/C Details")),1)]),e("table",Jco,[e("tbody",Xco,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",euo,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,tuo)])]),e("td",null,[e("div",ouo,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,auo)])]),e("td",null,[e("div",nuo,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,suo)])]),e("td",null,[e("div",luo,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,iuo)])]),e("td",null,[e("div",ruo,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,duo)])]),e("td",null,[e("div",cuo,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,uuo)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const muo=Ue(Gco,[["render",_uo]]),fuo={name:"PurchaseOrderSettings",props:["can_edit"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(null),p=h(!1),v=h(!1),g=h(!1),w=()=>{A.get("purchase-order-settings").then(D=>{c.value=D.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(p.value=D.data.can_approve&&D.data.user_id!=c.value.proposed_update.user_id)}).catch(D=>{console.log(D)})};a.expose({getPurchaseOrderSettings:w});const y=()=>{const D=new FormData;D.append("maker_checker_creating_updating",r.value),D.append("auto_request_financing",i.value),D.append("company_logo",l.value),D.append("description",_.value),D.append("footer",m.value),A.post("purchase-order-settings/update",D).then(k=>{w(),l.value=null,t.success(k.data.message)}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})},x=D=>{D.preventDefault();let k=D.target.files||D.dataTransfer.files;k.length&&(l.value=k[0])},C=()=>{_.value=d.value.getHTML().toString()},E=D=>{A.get("purchase-order-settings/status/"+D+"/update").then(k=>{w(),l.value=null,t.success(k.data.message),document.getElementById("close-modal").click()}).catch(k=>{console.log(k),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([D,k,I,V,B])=>{D!=c.value.maker_checker_creating_updating||k!=c.value.auto_request_financing?v.value=!0:v.value=!1,B!=c.value.footer||V!=c.value.description||I?g.value=!0:g.value=!1}),{can_edit:s,can_approve:p,editor:d,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,updateStatus:E,changeFile:x,changeDescription:C,updateInvoiceSettings:y,can_submit_lower:g,can_submit_upper:v}}},huo={class:"d-flex justify-content-between p-1"},puo={class:"fw-bold py-3"},vuo={class:"fw-light px-3"},guo={key:0,class:"my-auto px-2"},buo={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},yuo={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},kuo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},$uo={class:"modal-content"},wuo={class:"modal-header"},Duo={class:"modal-title",id:"modalCenterTitle"},xuo={class:"modal-body"},Cuo={key:0},Puo={key:0},Euo={key:1},Auo={key:1},Iuo={key:0},Ruo={key:1},Suo={key:2},Tuo={key:3},juo=["innerHTML"],Ouo={key:4},Muo={class:"modal-footer"},Luo={class:"row px-2 mb-2"},Nuo={class:"col-md-4"},Fuo={class:"row border rounded border-primary mx-2 py-2"},Yuo={class:"col-md-9 d-flex flex-column"},Vuo={class:"col-form-label"},Buo={class:"col-md-3 mt-2"},Uuo={class:"form-check form-switch"},quo={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Huo=["checked"],zuo={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Wuo={class:"col-md-4"},Kuo={class:"row border rounded border-primary mx-2 py-2"},Guo={class:"col-md-9 d-flex flex-column"},Quo={class:"col-form-label"},Zuo={class:"col-md-3 mt-2"},Juo={class:"form-check form-switch"},Xuo=["checked"],e_o={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},t_o={class:"btn btn-primary",type:"submit"},o_o={class:"fw-bold py-3 mb-2"},a_o={class:"fw-light px-3"},n_o={class:"row px-3 mb-2"},s_o={class:"col-md-6 border-bottom d-flex flex-column"},l_o={for:"html5-text-input",class:"col-form-label"},i_o={class:"col-md-6"},r_o={class:"row px-3 mb-2"},d_o={class:"col-md-6 d-flex flex-column"},c_o={for:"",class:"col-form-label"},u_o={class:"col-md-6 mb-4"},__o={class:"row px-3 mb-2 mt-4"},m_o={class:"col-md-6 d-flex flex-column"},f_o={for:"html5-text-input",class:"col-form-label"},h_o={class:"col-md-6"},p_o={class:"d-flex my-2 mx-3 d-flex justify-content-end"},v_o={key:0,class:"btn btn-primary",type:"submit"};function g_o(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",huo,[e("h5",puo,[e("span",vuo,n(o.$t("Maker / Checker")),1)]),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",guo,[e("button",buo,n(o.$t("View Proposed Changes")),1),e("div",yuo,[e("div",kuo,[e("div",$uo,[e("div",wuo,[e("h5",Duo,n(o.$t("Confirm Changes")),1),a[8]||(a[8]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xuo,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",Cuo,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",Puo,n(o.$t("Yes to No")),1)):(u(),f("span",Euo,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",Auo,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",Iuo,n(o.$t("Yes to No")),1)):(u(),f("span",Ruo,n(o.$t("No to Yes")),1))])):b("",!0),i=="company_logo"?(u(),f("div",Suo,n(o.$t("Change Logo")),1)):b("",!0),i=="description"?(u(),f("div",Tuo,[le(n(o.$t("Change Description To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,juo)])):b("",!0),i=="footer"?(u(),f("div",Ouo,[le(n(o.$t("Change Footer To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",Muo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])])])])])):b("",!0)]),e("form",{onSubmit:a[4]||(a[4]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",Luo,[e("div",Nuo,[e("div",Fuo,[e("div",Yuo,[e("label",Vuo,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating invoices")),1)]),e("div",Buo,[e("div",Uuo,[e("label",quo,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,Huo),[[Yo,t.maker_checker]]),e("label",zuo,n(o.$t("Yes")),1)])])])]),e("div",Wuo,[e("div",Kuo,[e("div",Guo,[e("label",Quo,n(o.$t("Auto Request Financing")),1),e("small",null,n(o.$t("Automatically request financing for approved invoices")),1)]),e("div",Zuo,[e("div",Juo,[a[11]||(a[11]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.auto_request_financing,"onUpdate:modelValue":a[3]||(a[3]=l=>t.auto_request_financing=l)},null,8,Xuo),[[Yo,t.auto_request_financing]]),a[12]||(a[12]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",e_o,[e("button",t_o,n(o.$t("Submit")),1)])):b("",!0)],32),a[13]||(a[13]=e("hr",null,null,-1)),e("h5",o_o,[e("span",a_o,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[7]||(a[7]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",n_o,[e("div",s_o,[e("label",l_o,n(o.$t("Company Logo")),1),e("small",null,n(o.$t("Recommended size 160 x 80 pixels, image format PNG/JPG")),1)]),e("div",i_o,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[5]||(a[5]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",r_o,[e("div",d_o,[e("label",c_o,n(o.$t("PO Description")),1),e("small",null,n(o.$t("Will be shown in PO as description")),1)]),e("div",u_o,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",__o,[e("div",m_o,[e("label",f_o,n(o.$t("PO Footer")),1),e("small",null,n(o.$t("Will be shown in PO footer")),1)]),e("div",h_o,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),e("div",p_o,[t.can_submit_lower&&t.can_edit==1?(u(),f("button",v_o,n(o.$t("Submit")),1)):b("",!0)])],32)])}const b_o=Ue(fuo,[["render",g_o],["__scopeId","data-v-bf80e59b"]]),y_o={name:"Settings",components:{BuyerBankAccounts:muo,BuyerPurchaseOrderSettings:b_o},props:["can_edit","can_edit_anchor","can_view","has_proposed_updates"],setup(o){const a=o.can_edit,s=o.can_edit_anchor,t=o.has_proposed_updates,c=o.can_view,m=h(null),_=h(null);return Qe(()=>{m.value.getBankAccounts()}),{can_edit:a,can_edit_anchor:s,can_view:c,bank_accounts:m,purchase_order_settings:_,has_proposed_updates:t,switchTabs:r=>{switch(r){case"bank-accounts":m.value.getBankAccounts();break;case"purchase-order-settings":_.value.getPurchaseOrderSettings();break}}}}},k_o={class:"nav-align-top mb-4"},$_o={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},w_o={class:"nav-item"},D_o={key:0,class:"nav-item"},x_o={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},C_o={class:"tab-content"},P_o={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},E_o={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"};function A_o(o,a,s,t,c,m){const _=ce("buyer-bank-accounts"),l=ce("buyer-purchase-order-settings");return u(),f("div",k_o,[e("ul",$_o,[e("li",w_o,[e("button",{type:"button",onClick:a[0]||(a[0]=r=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[2]||(a[2]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA)")]))]),t.can_view?(u(),f("li",D_o,[e("button",{type:"button",onClick:a[1]||(a[1]=r=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[4]||(a[4]=le(" Purchase Order Settings ")),t.has_proposed_updates==1?(u(),f("i",x_o)):b("",!0)])])):b("",!0)]),e("div",C_o,[e("div",P_o,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",E_o,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const I_o=Ue(y_o,[["render",A_o]]),R_o={name:"Notifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},S_o={class:"card p-2"},T_o={class:"table-responsive"},j_o={class:"table"},O_o={class:""},M_o={class:"table-border-bottom-0"},L_o={key:0},N_o={colspan:"12",class:"text-center"},F_o={class:"text-center"},Y_o={key:1},V_o={colspan:"12",class:"text-center"},B_o={class:"text-center"},U_o={key:0},q_o={key:0},H_o={key:1},z_o={key:2},W_o={key:3},K_o={key:4},G_o={key:5},Q_o={key:1},Z_o={key:2},J_o=["onClick"];function X_o(o,a,s,t,c,m){return u(),f("div",S_o,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",T_o,[e("table",j_o,[e("thead",null,[e("tr",O_o,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",M_o,[t.logs?b("",!0):(u(),f("tr",L_o,[e("td",N_o,[e("span",F_o,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",Y_o,[e("td",V_o,[e("span",B_o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",U_o,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",q_o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",H_o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",z_o,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",W_o,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",K_o,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",G_o,n("Configurations: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",Q_o,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",Z_o,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,J_o)])):b("",!0)]))),128))])])])])}const emo=Ue(R_o,[["render",X_o]]),tmo={name:"InvoicesUpload",setup(o){const a=Je("baseURL"),s=h(null),t=lt(),c=h(!0),m=h(!1),_=h(0);return{selected_file:_,can_submit:c,show_error_download_link:m,selectFile:i=>{i.preventDefault();let d=i.target.files||i.dataTransfer.files;d.length&&(s.value=d[0])},uploadInvoices:()=>{c.value=!1,$("#submit-invoices-btn").html("Uploading");const i=new FormData;i.append("invoices",s.value),A.post(a+"invoices/import",i).then(d=>{window.location.reload()}).catch(d=>{if(d.response.status==422){_.value++,t.error(d.response.data.message);return}d.response.data.uploaded>0&&t.success(d.response.data.uploaded+" uploaded."),d.response.data.total_rows-d.response.data.uploaded>0?(t.error(d.response.data.total_rows-d.response.data.uploaded+" failed to upload."),m.value=!0,_.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{c.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},omo={class:""},amo={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},nmo={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},smo={class:"modal-dialog"},lmo={class:"modal-header"},imo={class:"modal-title",id:"modalTopTitle"},rmo={class:"modal-body"},dmo={class:"form-group mt-2"},cmo={class:"py-1 text-danger d-none",id:"show-download-error"},umo={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},_mo={class:"modal-footer"},mmo={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},fmo={href:"#",id:"download-dealer-invoices",target:"_blank",class:"btn btn-label-warning d-none"},hmo={href:"invoices/anchors",target:"_blank",id:"view-vendors",class:"btn btn-label-info"},pmo=["disabled"];function vmo(o,a,s,t,c,m){return u(),f(G,null,[e("div",omo,[e("button",amo,n(o.$t("Upload Invoices")),1)]),e("div",nmo,[e("div",smo,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",lmo,[e("h5",imo,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rmo,[e("div",dmo,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",cmo,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",umo,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",_mo,[e("a",mmo,n(o.$t("Download Sample")),1),e("a",fmo,n(o.$t("Download Sample")),1),e("a",hmo,n(o.$t("View Anchors")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,pmo)])],32)])])],64)}const gmo=Ue(tmo,[["render",vmo]]),bmo={name:"UploadedInvoices",components:{Pagination:bn},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},ymo={class:"card p-2"},kmo={class:"d-flex justify-content-between"},$mo={class:"d-flex flex-wrap"},wmo={class:"mx-1"},Dmo={for:"Invoice No",class:"form-label"},xmo={class:"mx-1"},Cmo={for:"From Date",class:"form-label"},Pmo={class:"mx-1"},Emo={for:"Status",class:"form-label"},Amo={value:""},Imo={value:"Successful"},Rmo={value:"Failed"},Smo={class:"mx-1 table-search-btn"},Tmo={class:"mx-1 table-clear-btn"},jmo={class:"d-flex"},Omo={class:"table-responsive p-2"},Mmo={class:"table dt-invoices"},Lmo={key:0},Nmo={colspan:"12",class:"text-center"},Fmo={class:"text-center"},Ymo={key:1},Vmo={colspan:"12",class:"text-center"},Bmo={class:"text-center"},Umo={key:0,class:"badge bg-label-success me-1"},qmo={key:1,class:"badge bg-label-danger me-1"},Hmo={class:""};function zmo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",ymo,[e("div",kmo,[e("div",$mo,[e("div",wmo,[e("label",Dmo,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",xmo,[e("label",Cmo,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[X,t.uploaded_date_search]])]),e("div",Pmo,[e("label",Emo,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",Amo,n(o.$t("Select Status")),1),e("option",Imo,n(o.$t("Successful")),1),e("option",Rmo,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",Smo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Tmo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",jmo,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Omo,[e("table",Mmo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",Lmo,[e("td",Nmo,[e("span",Fmo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Ymo,[e("td",Vmo,[e("span",Bmo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",Umo,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",qmo,n(l.status),1)):b("",!0)]),e("td",Hmo,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Wmo=Ue(bmo,[["render",zmo]]),Kmo={name:"FinanceRequests",components:{Pagination:bn,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(null),t=h(""),c=h(""),m=h(""),_=h(50),l=h(""),r=h(""),i=h(0),d=async()=>{await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(E=>{a.value=E.data.finance_requests}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=E=>{let D="";switch(E){case"pending":D="bg-label-primary";break;case"submitted":D="bg-label-secondary";break;case"financed":D="bg-label-success";break;case"denied":D="bg-label-danger";break;case"Pending Maker":D="bg-label-primary";break;case"Pending Checker":D="bg-label-danger";break;case"Overdue":D="bg-label-danger";break;case"Created":D="bg-label-secondary";break;case"Pending":D="bg-label-secondary";break;case"Approved":D="bg-label-success";break;case"Paid":D="bg-label-success";break;case"Failed":D="bg-label-danger";break;case"Rejected":D="bg-label-danger";break;case"Past Due":D="bg-label-danger";break;default:D="bg-label-primary";break}return D},v=async(E,D)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+E+"/details").then(k=>{s.value=k.data,i.value++,bt(()=>{document.getElementById(D).click()})}).catch(k=>{console.log(k)})},g=(E,D)=>(D/E*100).toFixed(2),w=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",await A.get(o+"payment-instructions/data",{params:{per_page:_.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},y=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"payment-instructions/data",{params:{anchor:t.value,invoice:c.value,status:m.value,per_page:_.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},x=async E=>{await A.get(E+"&per_page="+_.value,{params:{anchor:t.value,invoice:c.value,status:m.value}}).then(D=>{a.value=D.data.finance_requests})};return ot([_],async([E])=>{await A.get(o+"payment-instructions/data",{params:{per_page:E,anchor:t.value,invoice:c.value,status:m.value}}).then(D=>{a.value=D.data.finance_requests}).catch(D=>{console.log(D)})}),{moment:H,finance_requests:a,anchor_search:t,invoice_search:c,status_search:m,per_page:_,getTaxPercentage:g,invoice_details:s,resolveRequestStatus:p,changePage:x,clearSearch:w,filter:y,status:l,rejection_reason:r,showInvoice:v,resolvePaymentRequestStatus:E=>{let D="";switch(E){case"Pending Maker":D="bg-label-primary";break;case"Pending Checker":D="bg-label-warning";break;case"Created":D="bg-label-secondary";break;case"Pending":D="bg-label-secondary";break;case"Approved":D="bg-label-success";break;case"Paid":D="bg-label-success";break;case"Failed":D="bg-label-danger";break;case"Rejected":D="bg-label-danger";break;case"Past Due":D="bg-label-danger";break;default:D="bg-label-primary";break}return D},invoice_details_key:i}}},Gmo={class:"card"},Qmo={class:"card-header d-flex justify-content-between"},Zmo={class:"d-flex flex-wrap gap-1"},Jmo={class:""},Xmo={for:"Vendor",class:"form-label"},efo={class:""},tfo={for:"Invoice No",class:"form-label"},ofo={class:""},afo={for:"Status",class:"form-label"},nfo={value:""},sfo={value:"created"},lfo={value:"pending"},ifo={value:"approved"},rfo={value:"paid"},dfo={value:"rejected"},cfo={class:"table-search-btn"},ufo={class:"table-clear-btn"},_fo={class:"d-flex flex-wrap gap-1 justify-content-end mt-auto"},mfo={class:"card-body"},ffo={class:"table-responsive"},hfo={class:"table"},pfo={class:""},vfo={class:"table-border-bottom-0"},gfo={key:0},bfo={colspan:"12",class:"text-center"},yfo={class:"text-center"},kfo={key:1},$fo={colspan:"12",class:"text-center"},wfo={class:"text-center"},Dfo=["onClick"],xfo=["onClick"],Cfo={class:"text-success text-nowrap"},Pfo={class:"text-success text-nowrap"},Efo=["id","data-bs-target"],Afo=["id","data-bs-target"],Ifo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Rfo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Sfo={class:"modal-content"},Tfo={class:"modal-body"},jfo={class:"d-flex justify-content-center"};function Ofo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Gmo,[e("div",Qmo,[e("div",Zmo,[e("div",Jmo,[e("label",Xmo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",efo,[e("label",tfo,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_search]])]),e("div",ofo,[e("label",afo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",nfo,n(o.$t("Status")),1),e("option",sfo,n(o.$t("Created")),1),e("option",lfo,n(o.$t("Submitted")),1),e("option",ifo,n(o.$t("Approved")),1),e("option",rfo,n(o.$t("Paid")),1),e("option",dfo,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",cfo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ufo,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_fo,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),e("div",mfo,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",ffo,[e("table",hfo,[e("thead",null,[e("tr",pfo,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Requested Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",vfo,[t.finance_requests.data?b("",!0):(u(),f("tr",gfo,[e("td",bfo,[e("span",yfo,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",kfo,[e("td",$fo,[e("span",wfo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[e("span",null,n(i.anchor),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-pi-btn-"+i.id),style:{cursor:"pointer"}},n(i.pi_number),9,Dfo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,xfo),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",Cfo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total)),1)]),e("td",Pfo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.financing_status)])},n(i.financing_status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,Efo),e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,Afo),a[13]||(a[13]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Ifo,[e("div",Rfo,[e("div",Sfo,[e("div",Tfo,[e("div",jfo,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Mfo=Ue(Kmo,[["render",Ofo]]),Lfo={name:"FinanceRequests",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){const o=Je("baseURL"),a=h([]),s=h(0),t=h(null),c=h(0),m=h(0),_=h(0),l=lt(),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h(""),w=h(0),y=async()=>{await A.get(o+"planner/financing-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(S=>{a.value=S.data.finance_requests}).catch(S=>{console.log(S)})};Qe(()=>{y()});const x=S=>{let U="";switch(S){case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},C=S=>{let U=0;return S.forEach(W=>{U+=W.quantity*W.price_per_quantity}),U},E=S=>{let U=0;return S.invoice_fees.length>0&&S.invoice_fees.forEach(W=>{U+=W.amount}),U},D=S=>{I(S),E(S),V(S)},k=S=>S.vendor_configurations.eligibility,I=S=>{let U=S.vendor_configurations.eligibility,W=C(S.invoice_items),oe=0;S.invoice_fees.forEach(z=>{oe+=z.amount});let J=0;S.invoice_taxes.forEach(z=>{J+=z.value}),W=W+J;let K=0;return S.invoice_discounts.forEach(z=>{z.type=="percentage"?K+=z.value/100*W:K+=z.value}),W=W-K,s.value=U/100*(W-oe),s.value.toFixed(2)},V=S=>{t.value=S,c.value=S.vendor_configurations.eligibility;let U=0;S.invoice_fees.forEach(z=>{U+=z.amount});let W=0;S.invoice_taxes.forEach(z=>{W+=z.value});let oe=C(S.invoice_items)+W,J=0;S.invoice_discounts.forEach(z=>{z.type=="percentage"?J+=z.value/100*oe:J+=z.value}),oe=oe-J,t.value=S;let K=oe-U;return _.value=S.vendor_discount_details.total_roi,m.value=c.value/100*K*(S.vendor_discount_details.total_spread/100)*((H(S.due_date).diff(H(),"days")+1)/365),m.value.toFixed(2)},B=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+S+"/details").then(W=>{t.value=W.data,w.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})},L=(S,U)=>(U/S*100).toFixed(2),F=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",await A.get(o+"planner/financing-requests/data",{params:{per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},T=async()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(o+"planner/financing-requests/data",{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},P=async S=>{await A.get(S,{params:{anchor:r.value,invoice:i.value,status:d.value,per_page:p.value}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})};return ot([p],async([S])=>{await A.get(o+"planner/financing-requests/data",{params:{per_page:S}}).then(U=>{a.value=U.data.finance_requests}).catch(U=>{console.log(U)})}),{moment:H,finance_requests:a,anchor_search:r,invoice_search:i,status_search:d,per_page:p,getTaxPercentage:L,invoice_details:t,resolveRequestStatus:x,changePage:P,showModal:D,clearSearch:F,filter:T,updateApprovalStatus:(S,U)=>{const W=new FormData;W.append("status",U),W.append("rejection_reason",g.value),A.post(o+"planner/financing-requests/"+S+"/status/update",W).then(()=>{l.success("Request updated successfully"),y(),U=="rejected"?document.getElementById("reject-request-close-btn-"+S).click():document.getElementById("approve-request-close-btn-"+S).click()})},status:v,rejection_reason:g,showInvoice:B,getEligibility:k,getDiscountRate:S=>S.vendor_discount_details.total_roi,resolvePaymentRequestStatus:S=>{let U="";switch(S){case"Pending Maker":U="bg-label-primary";break;case"Pending Checker":U="bg-label-warning";break;case"Created":U="bg-label-secondary";break;case"Pending":U="bg-label-secondary";break;case"Approved":U="bg-label-success";break;case"Paid":U="bg-label-success";break;case"Failed":U="bg-label-danger";break;case"Rejected":U="bg-label-danger";break;case"Past Due":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},invoice_details_key:w}}},Nfo={class:"card"},Ffo={class:"card-header d-flex justify-content-between"},Yfo={class:"d-flex flex-wrap gap-1"},Vfo={class:""},Bfo={for:"Anchor",class:"form-label"},Ufo={class:""},qfo={for:"Invoice No",class:"form-label"},Hfo={class:""},zfo={for:"Status",class:"form-label"},Wfo={value:""},Kfo={value:"created"},Gfo={value:"pending"},Qfo={value:"approved"},Zfo={value:"paid"},Jfo={value:"rejected"},Xfo={class:"table-search-btn"},eho={class:"table-clear-btn"},tho={class:"d-flex align-items-end"},oho={style:{"margin-right":"10px"}},aho={class:"card-body"},nho={class:"table-responsive"},sho={class:"table"},lho={class:""},iho={class:"table-border-bottom-0"},rho={key:0},dho={colspan:"12",class:"text-center"},cho={class:"text-center"},uho={key:1},_ho={colspan:"12",class:"text-center"},mho={class:"text-center"},fho=["data-bs-target"],hho=["onClick"],pho=["onClick"],vho={class:"text-success"},gho=["id","data-bs-target"],bho=["id","data-bs-target"],yho={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},kho={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},$ho={class:"modal-content"},who={class:"modal-body"},Dho={class:"d-flex justify-content-center"},xho=["data-bs-target"],Cho=["data-bs-target"],Pho=["id"],Eho={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Aho={class:"modal-content"},Iho={class:"modal-header"},Rho={class:"modal-title",id:"modalCenterTitle"},Sho=["id"],Tho=["onSubmit"],jho={class:"modal-body"},Oho={class:"modal-footer"},Mho={class:"btn btn-primary",type:"submit"},Lho=["id"],Nho={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Fho={class:"modal-content"},Yho={class:"modal-header"},Vho={class:"modal-title",id:"modalCenterTitle"},Bho=["id"],Uho=["onSubmit"],qho={class:"modal-body"},Hho={class:"row mb-1"},zho={class:"form-group"},Who={for:""},Kho={class:"modal-footer"},Gho={class:"btn btn-primary",type:"submit"},Qho=["id"],Zho={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Jho={class:"modal-content"},Xho={class:"modal-header"},epo={class:"modal-title",id:"modalCenterTitle"},tpo={class:"modal-body"},opo={class:"row mb-1"},apo={class:"col-6 my-1"},npo={class:"col-6"},spo={class:"col-6 my-1"},lpo={class:"col-6"},ipo={class:"col-6 my-1"},rpo={class:"col-6"},dpo={class:"col-6 my-1"},cpo=["onClick"],upo={class:"col-6 my-1"},_po={class:"col-6 text-success"},mpo={class:"col-6 my-1"},fpo={class:"col-6"},hpo={class:"col-6 my-1"},ppo={class:"col-6 text-success"},vpo={class:"col-6 my-1"},gpo={class:"col-6 text-success"},bpo={class:"col-6 my-1"},ypo={class:"col-6"},kpo={class:"col-6 my-1"},$po={class:"col-6"},wpo={class:"col-6 my-1"},Dpo={class:"col-6"},xpo={class:"col-6 my-1"},Cpo={class:"col-6"},Ppo={class:"col-6 my-1"},Epo={class:"col-6"},Apo={key:0,class:"col-12"},Ipo={key:0,class:"row"},Rpo={key:0,class:"col-6 my-1 d-flex"},Spo={class:""},Tpo={key:0,class:""},jpo={key:1,class:"col-6 text-success"},Opo={key:1,class:"row"},Mpo={key:0,class:"col-6 my-1 d-flex"},Lpo={class:""},Npo={key:0,class:""},Fpo={key:1,class:"col-6 text-success"},Ypo={key:1,class:"col-12"},Vpo={class:"col-6 my-1 m_title"},Bpo={class:"col-6 text-success"},Upo={class:"col-6 my-1"},qpo={class:"col-6 text-success"},Hpo={class:"col-6 my-1"},zpo={class:"col-6"},Wpo={class:"modal-footer"},Kpo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function Gpo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Nfo,[e("div",Ffo,[e("div",Yfo,[e("div",Vfo,[e("label",Bfo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Ufo,[e("label",qfo,n(o.$t("Invoice No")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_search=i),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_search]])]),e("div",Hfo,[e("label",zfo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=i=>t.status_search=i),id:"exampleFormControlSelect1","aria-label":"Default select example"},[e("option",Wfo,n(o.$t("Status")),1),e("option",Kfo,n(o.$t("Created")),1),e("option",Gfo,n(o.$t("Submitted")),1),e("option",Qfo,n(o.$t("Approved")),1),e("option",Zfo,n(o.$t("Paid")),1),e("option",Jfo,n(o.$t("Rejected")),1)],512),[[de,t.status_search]])]),e("div",Xfo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.filter&&t.filter(...i))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",eho,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...i)=>t.clearSearch&&t.clearSearch(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",tho,[e("div",oho,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","aria-label":"Default select example","onUpdate:modelValue":a[7]||(a[7]=i=>t.per_page=i)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),e("div",aho,[t.finance_requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",nho,[e("table",sho,[e("thead",null,[e("tr",lho,[e("th",null,n(o.$t("Reference Number")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Request Date")),1),e("th",null,n(o.$t("Maturity Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[12]||(a[12]=e("th",null,null,-1))])]),e("tbody",iho,[t.finance_requests.data?b("",!0):(u(),f("tr",rho,[e("td",dho,[e("span",cho,n(o.$t("Loading Data"))+"...",1)])])),t.finance_requests.data&&t.finance_requests.data.length<=0?(u(),f("tr",uho,[e("td",_ho,[e("span",mho,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.finance_requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{"data-bs-toggle":"modal","data-bs-target":"#payment-request-"+i.id,class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,fho),e("td",null,[e("span",null,n(i.anchor_name),1)]),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,hho),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,pho),e("td",null,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",vho,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,[i.company_approvals.length>0?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.company_approvals[0].status)])},n(i.company_approvals[0].status),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolveRequestStatus(i.approval_stage)])},n(i.approval_stage),3))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,gho),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,bho),a[14]||(a[14]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",yho,[e("div",kho,[e("div",$ho,[e("div",who,[e("div",Dho,[e("span",null,n(o.$t("Loading"))+"...",1),a[13]||(a[13]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:0,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id,title:"Approve Payment Request"},null,8,xho)):b("",!0),i.requires_company_approval&&i.company_user_can_approve?(u(),f("i",{key:1,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-payment-request-"+i.id,title:"Reject/Disapprove Payment Request"},null,8,Cho)):b("",!0)]),e("td",null,[e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Eho,[e("div",Aho,[e("div",Iho,[e("h5",Rho,n(o.$t("Update Company Status")),1),e("button",{type:"button",class:"btn-close",id:"approve-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Sho)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"approved"),["prevent"]),method:"post"},[e("div",jho,[e("h4",null,n(o.$t("Are you sure you want to approve this request"))+"?",1)]),e("div",Oho,[e("button",Mho,n(o.$t("Submit")),1)])],40,Tho)])])],8,Pho),e("div",{class:"modal fade",id:"reject-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Nho,[e("div",Fho,[e("div",Yho,[e("h5",Vho,n(o.$t("Update Company Status")),1),e("button",{type:"button",class:"btn-close",id:"reject-request-close-btn-"+i.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Bho)]),e("form",{onSubmit:st(d=>t.updateApprovalStatus(i.id,"rejected"),["prevent"]),method:"post"},[e("div",qho,[e("div",Hho,[e("div",zho,[e("label",Who,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=d=>t.rejection_reason=d)},null,512),[[X,t.rejection_reason]])])])]),e("div",Kho,[e("button",Gho,n(o.$t("Submit")),1)])],40,Uho)])])],8,Lho),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Zho,[e("div",Jho,[e("div",Xho,[e("h5",epo,n(o.$t("Payment Request")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",tpo,[e("div",opo,[e("div",apo,n(o.$t("Anchor")),1),e("div",npo,[e("span",null,n(i.anchor_name),1)]),e("div",spo,n(o.$t("Program Name")),1),e("div",lpo,n(i.program_name),1),e("div",ipo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",rpo,n(i.invoice_number),1),e("div",dpo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,cpo),e("div",upo,n(o.$t("PI Amount")),1),e("div",_po,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",mpo,n(o.$t("Eligibility"))+" (%)",1),e("div",fpo,n(i.eligibility),1),e("div",hpo,n(o.$t("Eligible Payment Amount")),1),e("div",ppo,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",vpo,n(o.$t("Requested Payment Amount")),1),e("div",gpo,n(new Intl.NumberFormat().format(i.drawdown_amount)),1),e("div",bpo,n(o.$t("Credit to Account No"))+".:",1),e("div",ypo,n(i.payment_accounts[0].account),1),e("div",kpo,n(o.$t("Request Date")),1),e("div",$po,n(t.moment(i.created_at).format("DD MMM YYYY")),1),e("div",wpo,n(o.$t("Requested Disbursement Date")),1),e("div",Dpo,n(t.moment(i.payment_request_date).format("DD MMM YYYY")),1),e("div",xpo,n(o.$t("Due Date")),1),e("div",Cpo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("div",Ppo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",Epo,n(i.discount_rate),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",Apo,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("div",{key:d.id},[i.discount_charge_type=="Front Ended"?(u(),f("div",Ipo,[d.type!="Vendor Account"?(u(),f("div",Rpo,[e("div",Spo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",Tpo," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"?(u(),f("div",jpo,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)])):(u(),f("div",Opo,[d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",Mpo,[e("div",Lpo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",Npo," ("+n(d.description)+") ",1)):b("",!0)])):b("",!0),d.type!="Vendor Account"&&!i.discount_transactions.includes(d.type)?(u(),f("div",Fpo,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)):b("",!0)]))]))),128))])):b("",!0),i.fees&&i.fees.length>0?(u(),f("div",Ypo,[(u(!0),f(G,null,ee(i.fees,(d,p)=>(u(),f("div",{class:"row",key:p},[e("div",Vpo,n(d.name.replaceAll("_"," ")),1),e("div",Bpo,n(new Intl.NumberFormat().format(Number(d.value).toFixed(2))),1)]))),128))])):b("",!0),e("div",Upo,n(o.$t("Net Disbursal Total")),1),e("div",qpo,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",Hpo,n(o.$t("Status")),1),e("div",zpo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)])])]),e("div",Wpo,[e("button",Kpo,n(o.$t("Close")),1)])])])],8,Qho)])]))),128))])])]),t.finance_requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.finance_requests.meta.from,to:t.finance_requests.meta.to,links:t.finance_requests.meta.links,next_page:t.finance_requests.links.next,prev_page:t.finance_requests.links.prev,total_items:t.finance_requests.meta.total,first_page_url:t.finance_requests.links.first,last_page_url:t.finance_requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Qpo=Ue(Lfo,[["render",Gpo]]),Zpo={name:"CashPlannerPrograms",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=async()=>{await A.get(o+"planner/programs/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.programs}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,programs:a,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.pending_programs})}}}},Jpo={class:"card"},Xpo={class:"card-header"},evo={class:"card-title"},tvo={class:"card-body"},ovo={class:"table-responsive"},avo={class:"table"},nvo={class:"text-nowrap"},svo={class:"table-border-bottom-0"},lvo={key:0},ivo={colspan:"12",class:"text-center"},rvo={class:"text-center"},dvo={key:1},cvo={colspan:"12",class:"text-center"},uvo={class:"text-center"},_vo={class:"fw-medium"},mvo={class:"text-success"},fvo={class:"text-success"},hvo={class:"text-success"},pvo={class:"text-success"},vvo={class:""};function gvo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Jpo,[e("div",Xpo,[e("h6",evo,n(o.$t("Limit Details")),1)]),e("div",tvo,[Be(_,{from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",ovo,[e("table",avo,[e("thead",null,[e("tr",nvo,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Expiry Date")),1)])]),e("tbody",svo,[t.programs.data?b("",!0):(u(),f("tr",lvo,[e("td",ivo,[e("span",rvo,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",dvo,[e("td",cvo,[e("span",uvo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",_vo,n(l.program.anchor.name),1)]),e("td",mvo,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",fvo,n(new Intl.NumberFormat().format(l.utilized)),1),e("td",hvo,n(new Intl.NumberFormat().format(l.pipeline)),1),e("td",pvo,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized-l.pipeline)),1),e("td",vvo,n(t.moment(l.limit_expiry_date).format("DD MMM YYYY")),1)]))),128))])])]),Be(_,{from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])])}const bvo=Ue(Zpo,[["render",gvo]]),yvo={name:"EligibleInvoices",components:{Pagination:za,flatPickr:jl,DatePicker:gi,UploadAttachment:ss},props:["can_request"],setup(o){const a=o.can_request,s=lt(),t=h([]),c=Je("baseURL"),m=h(null),_=h(0),l=h(0),r=h(new Date().toLocaleDateString("en-CA")),i=h(""),d=h(""),p=h(H().format("DD MMM YYYY")),v=h(H().format("DD MMM YYYY")),g=h(new Date().toLocaleDateString("en-CA")),w=h(new Date().toLocaleDateString("en-CA"));h(1);const y=h(0),x=h(1),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0),U=h(0);h([]),h(0);const W=h(0),oe=h(0);h(0);const J=h(""),K=h(!1),z=h(!1),ae=h(0),we=h(""),Fe=h(""),he=h(0),re=h(0),$e=h(0),De=h(0),ie=h(!1),pe=h([]),be=h(!1),Me=h(""),ue=h(""),je=h(""),ze=h(""),Ye=h(""),ge=h(0),_e=h(0),Se=h(0),Ve=h(0),ke=h({inline:!0}),te=h({inline:!0}),Ce=h([]),Ne=h(0),Ie=h(0),se=h(""),fe=h(""),Le=h(""),Ze=h(""),at=h(""),mt=h([]),wt=h([]),Ot=h(50),Jt=h(!1),ut=h([]),gt=h([]),Vt=h(null),pt=h(null),Et=h(new Date),Dt=h(0);ot([Ot],async([ve])=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:ve}}).then(Re=>{he.value=0,re.value=0,$e.value=0,De.value=0,t.value=Re.data.invoices,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,re.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance})})});const Ft=async()=>{at.value=$("#date_search").val(),at.value&&(fe.value=H(at.value.split(" - ")[0]).format("YYYY-MM-DD"),Le.value=H(at.value.split(" - ")[1]).format("YYYY-MM-DD"));let ve=$(".eligible-filter").parent();ve.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+"cash-planner/invoices/eligible/data",{params:{anchor:Ze.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(Re=>{t.value=Re.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,re.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance}),ve.html('<i class="ti ti-search eligible-filter"></i>')})},Kt=async()=>{let ve=$(".eligible-refresh").parent();ve.html('<img src="../../../../../assets/img/spinner.svg" />'),Ze.value="",se.value="",fe.value="",Le.value="",at.value="",$("#date_search").val(""),await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(Re=>{t.value=Re.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,re.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance}),ve.html('<i class="ti ti-refresh eligible-refresh"></i>')})},ro=async(ve,Re)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+ve+"/details").then(vt=>{m.value=vt.data,Dt.value++,bt(()=>{document.getElementById(Re).click()})}).catch(vt=>{console.log(vt)})},Pe=async(ve,Re)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+ve+"/details").then(vt=>{Ce.value=[],Ne.value=0,Ie.value=0,m.value=vt.data,U.value=m.value.due_date,E.value=0,m.value.invoice_items.forEach(Mt=>{E.value+=Mt.quantity*Mt.price_per_quantity}),D.value=0,m.value.invoice_taxes.forEach(Mt=>{D.value+=Mt.value}),k.value=0,m.value.invoice_fees.forEach(Mt=>{k.value+=Mt.amount}),I.value=0,m.value.invoice_discounts.forEach(Mt=>{Mt.type=="percentage"?l.value+=Mt.value/100*(E.value+D.value):l.value+=Mt.value}),E.value=m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_discount,V.value=m.value.vendor_configurations.eligibility/100*m.value.total+m.value.total_invoice_taxes-m.value.total_invoice_fees-m.value.total_invoice_discount,P.value=H(m.value.due_date).diff(H(),"days")+1,B.value=m.value.vendor_configurations.eligibility,L.value=m.value.invoice_total_amount,F.value=B.value/100*m.value.invoice_total_amount,we.value=tt(F.value.toFixed(2)),R.value=m.value.vendor_discount_details.total_roi;let Rt=0,eo=0;m.value.program.discount_details[0].fee_type=="Front Ended"&&m.value.vendor_fee_details.forEach((Mt,ys)=>{Mt.type=="percentage"&&(Rt+=Mt.value/100*F.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,Mt.value+"%"]),Mt.taxes&&(eo+=Mt.taxes/100*(Mt.value/100*F.value))),Mt.type=="amount"&&(Rt+=Mt.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,m.value.currency+" "+Mt.value]),Mt.taxes&&(eo+=Mt.taxes/100*Mt.value),console.log(eo)),Mt.type=="per amount"&&(Rt+=Math.round(F.value/Mt.per_amount)*Mt.value,Mt.vendor_bearing_discount>0&&Ce.value.push([Mt.fee_name,Mt.value+" P.Am "+m.value.currency+" "+Mt.per_amount]),Mt.taxes&&(eo+=Mt.taxes/100*(Math.round(F.value/Mt.per_amount)*Mt.value)))}),Ne.value+=Rt,Ie.value+=eo,N.value=F.value-Ne.value-Ie.value,S.value=m.value.program.min_financing_days,Fe.value=tt(0);let jt=0;m.value.vendor_discount_details.forEach(Mt=>{Mt.to_day>jt&&(jt=Mt.to_day)}),i.value=H().add(jt,"days").format("DD MMM YYYY");let Mn=[function(Mt){return wt.value.includes(Mt.getDay())}];Vt.value=new Date(i.value),wt.value.forEach(Mt=>{gt.value.push(Mt)}),mt.value.forEach(Mt=>{Mn.push('"'+Mt+'"'),ut.value.push(new Date(Mt))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:Mn},g.value=H().add(jt,"days").format("DD MMM YYYY"),p.value=H().add(jt,"days").format("DD MMM YYYY"),z.value=!0,bt(()=>{document.getElementById(Re).click()})}).catch(vt=>{console.log(vt)})};ot(ae,ve=>{Fe.value=tt(ve.replaceAll(",","")),ve.replaceAll(",","")>0&&ve.replaceAll(",","")<=F.value?ie.value=!0:ie.value=!1});const Te=()=>{ae.value&&(ae.value=new Intl.NumberFormat().format(ae.value.replaceAll(",","")))},Ge=(ve,Re,vt)=>{Re!=""&&(v.value=H(Re).format("DD MMM YYYY"),w.value=H(Re).format("DD MMM YYYY"))},nt=()=>{if(pe.value.length<=0)return s.error("Select Payment Instructions"),!1;w.value=new Date().toLocaleDateString("en-CA");let ve=[function(Re){return wt.value.includes(Re.getDay())}];pt.value=new Date(d.value),wt.value.forEach(Re=>{gt.value.push(Re)}),mt.value.forEach(Re=>{ve.push('"'+Re+'"'),ut.value.push(new Date(Re))}),ke.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:d.value,disable:ve},Ve.value=0,Se.value=0,Ne.value=0,Ie.value=0,_e.value=0,A.post(c+"invoices/remittance/amount",{invoices:pe.value,date:w.value}).then(Re=>{Se.value=Re.data.total_amount,Jt.value=!1}),be.value.click()},yt=ve=>{let Re="";switch(ve){case"created":Re="bg-label-primary";break;case"paid":Re="bg-label-success";break;case"failed":Re="bg-label-danger";break;default:Re="bg-label-primary";break}return Re},xt=async()=>{await A.get(c+"cash-planner/invoices/eligible/data",{params:{per_page:Ot.value}}).then(ve=>{ue.value=ve.data.terms_and_conditions,je.value=ve.data.noa,Ye.value=ve.data.terms_text,ze.value=ve.data.noa_text,t.value=ve.data.invoices,he.value=0,re.value=0,$e.value=0,De.value=0,t.value.data.forEach(Re=>{he.value+=Re.total+Re.total_invoice_taxes-Re.total_invoice_discount,re.value+=Re.total+Re.total_invoice_taxes-Re.total_invoice_fees-Re.total_invoice_discount,$e.value+=Re.eligible_for_finance,De.value+=Re.actual_remittance_amount}),d.value=H().add(ve.data.min_financing_days,"days").format("DD MMM YYYY"),ve.data.holidays&&ve.data.holidays.length>0&&ve.data.holidays.forEach(Re=>{mt.value.push(Re.date_formatted)}),ve.data.off_days&&ve.data.off_days.length>0&&ve.data.off_days.forEach(Re=>{wt.value.push(Re)})}).catch(ve=>{console.log(ve)})},Ut=(ve,Re,vt)=>{p.value=H(Re).format("DD MMM YYYY")},Tt=async()=>{ie.value=!1,await A.post(c+"cash-planner/invoices/request/send",{invoice_id:m.value.id,payment_date:p.value,drawdown_amount:ae.value}).then(ve=>{s.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),xt()}).catch(ve=>{console.log(ve),ie.value=!0,ve.response.data&&ve.response.data.message?s.error(ve.response.data.message):s.error("An error. occurred. Refresh and try again.")})},Gt=async()=>{ie.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const ve=new FormData;pe.value.forEach(Re=>{ve.append("invoices[]",Re.id)}),ve.append("payment_request_date",v.value),await A.post(c+"cash-planner/invoices/request/multiple/send",ve).then(Re=>{s.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),pe.value=[],Se.value=0,Ve.value=0,xt()}).catch(Re=>{console.log(Re),ie.value=!0,Re.response.data&&Re.response.data.message?s.error(Re.response.data.message):s.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},ct=(ve,Re)=>(Re/ve*100).toFixed(2);Qe(()=>{xt()});const Ht=async ve=>{await A.get(ve,{params:{anchor:Ze.value,invoice_number:se.value,from_date:fe.value,to_date:Le.value,per_page:Ot.value}}).then(Re=>{he.value=0,re.value=0,$e.value=0,De.value=0,t.value=Re.data.invoices,t.value.data.forEach(vt=>{he.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_discount,re.value+=vt.total+vt.total_invoice_taxes-vt.total_invoice_fees-vt.total_invoice_discount,$e.value+=vt.eligible_for_finance,pe.value.filter(eo=>eo.id==vt.id).length>0&&bt(()=>{document.getElementById("invoice-"+vt.id).checked=!0})})})},kt=ve=>{let Re=pe.value.findIndex(vt=>vt.id==ve.id);if(Re==-1?pe.value.push(ve):pe.value.splice(Re,1),pe.value.length==t.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,pe.value.length>0){let vt=pe.value[0].due_date,Rt=pe.value[0].min_financing_days;pe.value.forEach(eo=>{H(eo.due_date).isBefore(vt)&&(vt=H(eo.due_date)),eo.min_financing_days<Rt&&(Rt=eo.min_financing_days)}),i.value=H(vt).subtract(Rt,"days").format("DD MMM YYYY"),pt.value=new Date(i.value),ke.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:[function(eo){return eo.getDay()===0||eo.getDay()===6}]}}},dt=()=>{document.getElementById("select-all").checked?t.value.data.forEach(ve=>{document.getElementById("invoice-"+ve.id).checked=!0,pe.value.push(ve)}):t.value.data.forEach(ve=>{if(document.getElementById("invoice-"+ve.id).checked==!0){document.getElementById("invoice-"+ve.id).checked=!1;let Re;if(!pe.value.filter(function(Rt,eo){Re=eo,Rt.id==ve.id}))return!1;pe.value.splice(Re,1)}})},Oe=()=>{ie.value=!ie.value},ye=ve=>{let Re="";ze.value&&(Re=ze.value.body,Re=Re.replace("{date}",H(ve.invoice_date).format("Do MMM YYYY")),Re=Re.replace("{buyerName}",ve.program.anchor.name),Re=Re.replace("{anchorName}",ve.program.anchor.name),Re=Re.replace("{company}",ve.company.name),Re=Re.replace("{anchorCompanyUniqueID}",ve.program.anchor.unique_identification_number),Re=Re.replace("{time}",H().format("Do MMM YYYY")),Re=Re.replace("{agreementDate}",H().format("Do MMM YYYY")),Re=Re.replace("{contract},",""),Re=Re.replace("{anchorAccountName},",""),Re=Re.replace("{anchorAccountNumber},",""),Re=Re.replace("{anchorCustomerId},",""),Re=Re.replace("{anchorBranch},",""),Re=Re.replace("{anchorIFSCCode},",""),Re=Re.replace("{anchorAddress},",""),Re=Re.replace("{penalnterestRate},",""),Re=Re.replace("{sellerName}",ve.company.name),ze.value.body=Re)};var He=["","Thousand","Million","Billion","Trillion"],Nt=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],it=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],_t=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function tt(ve){if(ve=ve.toString(),ve=ve.replace(/[\, ]/g,""),ve!=parseFloat(ve))return"Not a Number";var Re=ve.indexOf(".");if(Re==-1&&(Re=ve.length),Re>15)return"Too Big";for(var vt=ve.split(""),Rt="",eo=0,jt=0;jt<Re;jt++)(Re-jt)%3==2?vt[jt]=="1"?(Rt+=it[Number(vt[jt+1])]+" ",jt++,eo=1):vt[jt]!=0&&(Rt+=_t[vt[jt]-2]+" ",eo=1):vt[jt]!=0&&(Rt+=Nt[vt[jt]]+" ",(Re-jt)%3==0&&(Rt+="Hundred "),eo=1),(Re-jt)%3==1&&(eo&&(Rt+=He[(Re-jt-1)/3]+" "),eo=0);if(Re!=ve.length){var Mn=ve.length;Rt+="point ";for(var jt=Re+1;jt<Mn;jt++)Rt+=Nt[vt[jt]]+" "}return Rt.replace(/\s+/g," ")}return{can_request:a,config:ke,config2:te,moment:H,max_date:i,min_date:r,eligibility_amount:_,pi_amount:W,discount_amount:l,days_to_payment:x,total_remittance:C,processing_fee_amount:y,invoices:t,payment_date:p,request_payment_date:g,bulk_request_payment_date:w,credit_to:J,taxes_amount:oe,payment_account:K,vendor_fee_details:Ce,total_fees:Ne,total_tax_on_fees:Ie,tax_on_discount:ge,tax_on_discount_amount:_e,invoice_total_amount:E,invoice_taxes_amount:D,invoice_fees_amount:k,invoice_eligibility_percentage:B,invoice_eligibility_amount:L,invoice_eligibility_for_finance:F,invoice_discount_amount:T,invoice_days_to_payment:P,invoice_business_spread:R,invoice_processing_fee:O,invoice_min_financing_days:S,invoice_due_date:U,invoice_total_remmitance:N,drawdown_amount:ae,invoice_amount_in_words:we,drawdown_amount_in_words:Fe,bulk_invoice_remittance:Ve,resolvePaymentRequestStatus:yt,formatAmount:Te,total_invoice_amount:he,total_pi_amount:re,total_eligible_amount:$e,total_actual_remittance:De,can_submit:ie,selected_invoices:pe,show_multiple_request_modal:be,show_terms_button:Me,terms_and_conditions_link:ue,noa_text:ze,noa_link:je,terms_text:Ye,selected_invoices_total_amount:Se,updateBulkDiscount:Ge,bulk_data_loading:Jt,anchor_search:Ze,invoice_number_search:se,from_date_search:fe,to_date_search:Le,date_search:at,per_page:Ot,formatNoa:ye,prime_disabled_dates:ut,prime_disabled_days:gt,prime_max_date:Vt,prime_min_date:Et,prime_bulk_max_date:pt,changePage:Ht,updateDiscount:Ut,showModal:Pe,showMultipleRequestModal:nt,requestFinanceForMultiple:Gt,requestFinance:Tt,invoice_details:m,viewRequestDetails:z,getTaxPercentage:ct,updateSelected:kt,selectAll:dt,acceptTerms:Oe,filter:Ft,refresh:Kt,showInvoice:ro,invoice_details_key:Dt}}},kvo={class:"card"},$vo={class:"card-header"},wvo={class:"card-body"},Dvo={class:"d-flex justify-content-between"},xvo={class:"d-flex flex-wrap gap-1"},Cvo={class:""},Pvo={for:"Anchor",class:"form-label"},Evo={class:""},Avo={for:"Invoice No.",class:"form-label"},Ivo={class:""},Rvo={class:"form-label",for:""},Svo={class:"table-search-btn"},Tvo={class:"table-clear-btn"},jvo={class:"d-flex flex-wrap justify-content-end gap-1",style:{height:"fit-content"}},Ovo={class:"table-responsive"},Mvo={class:"table invoices-table"},Lvo={class:""},Nvo={key:0},Fvo={key:1},Yvo={key:2},Vvo={class:"invoices-table-content"},Bvo={key:0},Uvo={colspan:"12",class:"text-center"},qvo={class:"text-center"},Hvo={key:1},zvo={colspan:"12",class:"text-center"},Wvo={class:"text-center"},Kvo={key:0,class:"form-check"},Gvo=["id","onChange"],Qvo={key:0},Zvo=["onClick"],Jvo={href:"javascript:;",class:""},Xvo={class:""},ego={class:"text-success"},tgo={class:""},ogo={class:"text-success"},ago={key:1,class:"text-success"},ngo=["onClick"],sgo=["id","data-bs-target"],lgo=["id","data-bs-target"],igo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},rgo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},dgo={class:"modal-content"},cgo={class:"modal-body"},ugo={class:"d-flex justify-content-center"},_go=["id"],mgo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},fgo={class:"modal-content"},hgo={class:"modal-header"},pgo={class:"modal-title",id:"modalCenterTitle"},vgo={class:"modal-body"},ggo={class:"row"},bgo={class:"col-6"},ygo={class:"border-bottom d-flex justify-content-between"},kgo={for:"nameWithTitle",class:"form-label"},$go={class:"text-success"},wgo={class:"border-bottom d-flex justify-content-between"},Dgo={for:"nameWithTitle",class:"form-label"},xgo={key:0,class:""},Cgo={class:"border-bottom d-flex justify-content-between"},Pgo={for:"nameWithTitle",class:"form-label"},Ego={class:"text-success"},Ago={class:"col-6"},Igo={class:"border-bottom d-flex justify-content-between"},Rgo={for:"nameWithTitle",class:"form-label"},Sgo={class:"text-success"},Tgo={class:"border-bottom d-flex justify-content-between"},jgo={for:"nameWithTitle",class:"form-label"},Ogo={class:"text-success"},Mgo={class:"mt-1"},Lgo={class:"row"},Ngo={class:"col-12"},Fgo={class:"border-bottom d-flex justify-content-between"},Ygo={for:"nameWithTitle",class:"form-label"},Vgo={class:""},Bgo={class:"border-bottom d-flex justify-content-between"},Ugo={for:"nameWithTitle",class:"form-label"},qgo={class:"d-flex mx-1"},Hgo={class:"mx-1"},zgo=["for"],Wgo={class:"text-success"},Kgo={class:"border-bottom d-flex justify-content-between"},Ggo={for:"nameWithTitle",class:"form-label"},Qgo={class:"text-success"},Zgo={class:"border-bottom d-flex justify-content-between"},Jgo={for:"nameWithTitle",class:"form-label"},Xgo={class:"text-success"},e1o={class:"col-12 mt-2"},t1o={class:"w-50 mx-auto"},o1o={class:"mt-1"},a1o={class:"row"},n1o={class:"col-12"},s1o={class:"border-bottom d-flex justify-content-between"},l1o={for:"nameWithTitle",class:"form-label"},i1o={class:"",id:"payment_date"},r1o={class:"border-bottom d-flex justify-content-between"},d1o={for:"nameWithTitle",class:"form-label"},c1o={class:"text-success"},u1o={class:"border-bottom d-flex justify-content-between"},_1o={for:"nameWithTitle",class:"form-label"},m1o={class:""},f1o={class:"border-bottom d-flex justify-content-between form-group"},h1o={for:"nameWithTitle",class:"form-label"},p1o={class:"border-bottom d-flex justify-content-between form-group"},v1o={for:"nameWithTitle",class:"form-label"},g1o={class:"modal-footer"},b1o={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},y1o=["disabled","data-bs-target"],k1o=["id"],$1o={class:"modal-dialog modal-lg",role:"document"},w1o={class:"modal-content"},D1o={class:"modal-header"},x1o={class:"modal-title",id:"modalCenterTitle"},C1o={class:"modal-body"},P1o={key:0},E1o={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},A1o=["innerHTML"],I1o={key:2,href:"planner/invoices/terms/dealer_financing/download",target:"_blank"},R1o={key:3},S1o={key:4,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},T1o=["innerHTML"],j1o=["href"],O1o={class:"modal-footer d-flex justify-content-between"},M1o={class:"mt-4"},L1o=["href"],N1o={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},F1o=["disabled"],Y1o=["id"],V1o={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},B1o={class:"modal-content"},U1o={class:"modal-header"},q1o={class:"modal-title",id:"modalCenterTitle"},H1o={class:"d-flex gap-1"},z1o=["data-bs-target"],W1o=["href"],K1o={class:"modal-body"},G1o={class:"d-flex justify-content-between mb-4"},Q1o={class:"mb-3"},Z1o={class:"d-flex justify-content-between"},J1o={class:"fw-light my-auto"},X1o={class:"fw-bold mx-2 my-auto"},ebo={class:"d-flex justify-content-between"},tbo={class:"fw-light my-auto"},obo={class:"fw-bold mx-2 my-auto"},abo={class:"d-flex justify-content-between"},nbo={class:"fw-light my-auto"},sbo={class:"fw-bold mx-2 my-auto"},lbo={class:"d-flex justify-content-between"},ibo={class:"fw-light my-auto"},rbo={class:"fw-bold mx-2 my-auto"},dbo={class:"d-flex justify-content-between"},cbo={class:"fw-light my-auto"},ubo={class:"fw-bold mx-2 my-auto"},_bo={key:0,class:"d-flex justify-content-between"},mbo={class:"fw-light my-auto"},fbo={class:"fw-bold mx-2 my-auto"},hbo={key:1,class:"d-flex justify-content-between"},pbo={class:"fw-light my-auto"},vbo={class:"fw-bold mx-2 my-auto"},gbo={class:"mb-3"},bbo={key:0,class:"d-flex justify-content-between"},ybo={class:"my-auto fw-light"},kbo=["data-bs-target"],$bo={class:"d-flex justify-content-between"},wbo={class:"my-auto fw-light"},Dbo={class:"fw-bold mx-2 my-auto"},xbo={class:"d-flex justify-content-between"},Cbo={class:"my-auto fw-light"},Pbo={class:"fw-bold mx-2 my-auto"},Ebo={class:"d-flex justify-content-between"},Abo={class:"my-auto fw-light"},Ibo={class:"fw-bold mx-2 my-auto"},Rbo={class:"d-flex justify-content-between"},Sbo={class:"my-auto fw-light"},Tbo={class:"fw-bold mx-2 my-auto"},jbo={class:"d-flex justify-content-between"},Obo={class:"my-auto fw-light"},Mbo={class:"fw-bold text-success mx-2 my-auto"},Lbo={class:"d-flex justify-content-between"},Nbo={class:"my-auto fw-light"},Fbo={class:"fw-bold mx-2 my-auto"},Ybo={class:"d-flex justify-content-between"},Vbo={class:"my-auto fw-light"},Bbo={class:"fw-bold mx-2 my-auto"},Ubo={class:"table-responsive"},qbo={class:"table"},Hbo={class:"bg-label-primary"},zbo={class:"px-2"},Wbo={class:"d-flex justify-content-end"},Kbo={class:"mx-2 my-auto"},Gbo={class:"text-success my-auto"},Qbo={key:0,class:"px-2"},Zbo={class:"mx-2 my-auto"},Jbo={class:"text-success my-auto"},Xbo={key:1,class:"px-2"},eyo={class:"d-flex justify-content-end"},tyo={class:"mx-2 my-auto"},oyo={class:"bg-label-secondary px-2"},ayo={class:"d-flex justify-content-end"},nyo={class:"mx-2 my-auto py-1"},syo={class:"text-success my-auto py-1"},lyo=["id"],iyo={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},ryo={class:"modal-content"},dyo={class:"modal-header"},cyo={class:"modal-title",id:"modalCenterTitle"},uyo={class:"d-flex gap-1"},_yo=["data-bs-target"],myo=["href"],fyo={class:"modal-body"},hyo={class:"d-flex justify-content-between mb-4"},pyo={class:"mb-3"},vyo={class:"d-flex justify-content-between"},gyo={class:"fw-light my-auto"},byo={class:"fw-bold mx-2 my-auto"},yyo={class:"d-flex justify-content-between"},kyo={class:"fw-light my-auto"},$yo={class:"fw-bold mx-2 my-auto"},wyo={class:"d-flex justify-content-between"},Dyo={class:"fw-light my-auto"},xyo={class:"fw-bold mx-2 my-auto"},Cyo={class:"d-flex justify-content-between"},Pyo={class:"fw-light my-auto"},Eyo={class:"fw-bold mx-2 my-auto"},Ayo={class:"d-flex justify-content-between"},Iyo={class:"fw-light my-auto"},Ryo={class:"fw-bold mx-2 my-auto"},Syo={key:0,class:"d-flex justify-content-between"},Tyo={class:"fw-light my-auto"},jyo={class:"fw-bold mx-2 my-auto"},Oyo={key:1,class:"d-flex justify-content-between"},Myo={class:"fw-light my-auto"},Lyo={class:"fw-bold mx-2 my-auto"},Nyo={class:"mb-3"},Fyo={key:0,class:"d-flex justify-content-between"},Yyo={class:"my-auto fw-light"},Vyo=["data-bs-target"],Byo={class:"d-flex justify-content-between"},Uyo={class:"my-auto fw-light"},qyo={class:"fw-bold mx-2 my-auto"},Hyo={class:"d-flex justify-content-between"},zyo={class:"my-auto fw-light"},Wyo={class:"fw-bold mx-2 my-auto"},Kyo={class:"d-flex justify-content-between"},Gyo={class:"my-auto fw-light"},Qyo={class:"fw-bold mx-2 my-auto"},Zyo={class:"d-flex justify-content-between"},Jyo={class:"my-auto fw-light"},Xyo={class:"fw-bold mx-2 my-auto"},e0o={class:"d-flex justify-content-between"},t0o={class:"my-auto fw-light"},o0o={class:"fw-bold text-success mx-2 my-auto"},a0o={class:"d-flex justify-content-between"},n0o={class:"my-auto fw-light"},s0o={class:"fw-bold mx-2 my-auto"},l0o={class:"d-flex justify-content-between"},i0o={class:"my-auto fw-light"},r0o={class:"fw-bold mx-2 my-auto"},d0o={class:"table-responsive"},c0o={class:"table"},u0o={class:"bg-label-primary"},_0o={class:"px-2"},m0o={class:"d-flex justify-content-end"},f0o={class:"mx-2 my-auto"},h0o={class:"text-success my-auto"},p0o={key:0,class:"px-2"},v0o={class:"mx-2 my-auto"},g0o={class:"text-success my-auto"},b0o={key:1,class:"px-2"},y0o={class:"d-flex justify-content-end"},k0o={class:"mx-2 my-auto"},$0o={key:2,class:"px-2"},w0o={class:"mx-2 my-auto py-1"},D0o={key:0,class:"text-success my-auto py-1"},x0o={key:1,class:"text-success my-auto py-1"},C0o={key:3,class:"px-2"},P0o={class:"d-flex justify-content-end"},E0o={class:"mx-2 my-auto py-1"},A0o={class:"d-flex justify-content-end"},I0o={class:"mx-2 my-auto py-1"},R0o={class:"d-flex justify-content-end"},S0o={class:"mx-2 my-auto py-1"},T0o={class:"bg-label-secondary px-2"},j0o={class:"d-flex justify-content-end"},O0o={class:"mx-2 my-auto py-1"},M0o={class:"text-success my-auto py-1"},L0o={class:"text-nowrap"},N0o={class:"text-success"},F0o={class:"text-success"},Y0o={class:"text-success"},V0o={class:"d-none",id:"show-multiple-request-modal",ref:"show_multiple_request_modal","data-bs-toggle":"modal","data-bs-target":"#multipleRequestFinancing"},B0o={class:"modal fade",id:"multipleRequestFinancing","aria-hidden":"true"},U0o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},q0o={class:"modal-content"},H0o={class:"modal-header"},z0o={class:"modal-title",id:"modalCenterTitle"},W0o={class:"modal-body"},K0o={class:"d-flex justify-content-between"},G0o={key:0},Q0o={key:1,src:At,style:{width:"1.3rem"}},Z0o={for:"Request Date",class:"form-label"},J0o={class:"modal-footer"},X0o={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},e2o={class:"modal modal-top fade",id:"terms","aria-hidden":"true"},t2o={class:"modal-dialog modal-lg",role:"document"},o2o={class:"modal-content"},a2o={class:"modal-header"},n2o={class:"modal-title",id:"modalCenterTitle"},s2o={class:"modal-body"},l2o={key:0},i2o={key:1,class:"border border-primary rounded-top rounded-bottom p-2",style:{"max-height":"250px","overflow-y":"auto"}},r2o=["innerHTML"],d2o={key:2,href:"planner/invoices/terms/dealer_financing/download",target:"_blank"},c2o={class:"modal-footer d-flex justify-content-between"},u2o={class:"mt-4"},_2o=["href"],m2o={type:"button",class:"btn btn-label-secondary mx-2","data-bs-dismiss":"modal"},f2o=["disabled"],h2o={class:"modal fade",id:"payment-request-successful","aria-hidden":"true"},p2o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},v2o={class:"modal-content"},g2o={class:"modal-header"},b2o={class:"modal-title",id:"modalCenterTitle"},y2o={class:"modal-body"},k2o={class:"fw-bold"},$2o={class:"modal-footer"},w2o={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"};function D2o(o,a,s,t,c,m){const _=ce("pagination"),l=ce("flat-pickr"),r=ce("upload-attachment");return u(),f("div",kvo,[e("div",$vo,[e("h6",null,n(o.$t("Payment Instructions eligible for Financing (from YoFinvoice)")),1)]),e("div",wvo,[e("div",Dvo,[e("div",xvo,[e("div",Cvo,[e("label",Pvo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=i=>t.anchor_search=i),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Evo,[e("label",Avo,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_number_search=i),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Ivo,[e("label",Rvo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[18]||(a[18]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Svo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[19]||(a[19]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Tvo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[20]||(a[20]=[e("i",{class:"ti ti-refresh eligible-refresh"},null,-1)]))])]),e("div",jvo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Ovo,[e("table",Mvo,[e("thead",null,[e("tr",Lvo,[t.can_request?(u(),f("th",Nvo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[7]||(a[7]=i=>t.selectAll())},null,32)])):b("",!0),t.can_request?(u(),f("th",Fvo,[e("i",{class:rt(["ti ti-coin ti-sm",t.selected_invoices.length>0?"text-success":"text-secondary"]),style:{cursor:"pointer"},onClick:a[8]||(a[8]=i=>t.showMultipleRequestModal())},null,2)])):b("",!0),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Eligible Amount")),1),t.can_request?(u(),f("th",Yvo,n(o.$t("Pay Me Early")),1)):b("",!0)])]),e("tbody",Vvo,[t.invoices.data?b("",!0):(u(),f("tr",Bvo,[e("td",Uvo,[e("span",qvo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",Hvo,[e("td",zvo,[e("span",Wvo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",null,[t.can_request&&i.payment_requests<=0?(u(),f("div",Kvo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"invoice-"+i.id,onChange:d=>t.updateSelected(i)},null,40,Gvo)])):b("",!0)]),t.can_request?(u(),f("td",Qvo)):b("",!0),e("td",{class:"text-decoration-underline text-primary",onClick:d=>t.showInvoice(i.id,"show-planner-pi-"+i.id)},[e("a",Jvo,n(i.invoice_number),1)],8,Zvo),e("td",Xvo,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",ego,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.total+i.total_invoice_taxes-i.total_invoice_discount)),1)]),e("td",tgo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",ogo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.eligible_for_finance.toFixed(2))),1)]),t.can_request?(u(),f("td",ago,[i.payment_requests<=0?(u(),f("i",{key:0,class:"ti ti-coin ti-sm",style:{cursor:"pointer"},onClick:d=>t.showModal(i.id,"show-request-financing-btn-"+i.id)},null,8,ngo)):b("",!0),e("button",{class:"d-none",id:"show-planner-pi-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#cash-planner-pi-"+i.id},null,8,sgo),e("button",{class:"d-none",id:"show-request-financing-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#requestFinancing-"+i.id},null,8,lgo),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",igo,[e("div",rgo,[e("div",dgo,[e("div",cgo,[e("div",ugo,[e("span",null,n(o.$t("Loading"))+"...",1),a[22]||(a[22]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"requestFinancing-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",mgo,[e("div",fgo,[e("div",hgo,[e("h5",pgo,n(o.$t("Request Finance for "+t.invoice_details.invoice_number)),1),a[23]||(a[23]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",vgo,[e("h5",null,n(o.$t("Step 1"))+": "+n(o.$t("Review Invoice Details")),1),e("div",ggo,[e("div",bgo,[e("div",ygo,[e("label",kgo,n(o.$t("Invoice Amount")),1),e("h6",$go,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_total_amount)),1)]),e("div",wgo,[e("label",Dgo,n(o.$t("Eligibility")),1),t.invoice_details?(u(),f("h6",xgo,n(t.invoice_eligibility_percentage)+"%",1)):b("",!0)]),e("div",Cgo,[e("label",Pgo,n(o.$t("PI Amount")),1),e("h6",Ego,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)])]),e("div",Ago,[e("div",Igo,[e("label",Rgo,n(o.$t("Eligible Amount")),1),e("h6",Sgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_amount)),1)]),e("div",Tgo,[e("label",jgo,n(o.$t("Eligible For Finance")),1),e("h6",Ogo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance)),1)])])]),e("h5",Mgo,n(o.$t("Step 2"))+": "+n(o.$t("Select Payment Date")),1),e("div",Lgo,[e("div",Ngo,[e("div",Fgo,[e("label",Ygo,n(o.$t("Payment Date")),1),e("h6",Vgo,n(t.payment_date),1)]),e("div",Bgo,[e("label",Ugo,n(o.$t("Discount Charge"))+"(%)",1),e("div",qgo,[(u(!0),f(G,null,ee(t.invoice_details.vendor_discount_details,d=>(u(),f("div",{key:d.id},[e("h6",Hgo,n(d.from_day)+" - "+n(d.to_day)+" days: "+n(d.total_roi)+"% ",1)]))),128))])]),(u(!0),f(G,null,ee(t.vendor_fee_details,d=>(u(),f("div",{class:"border-bottom d-flex justify-content-between",key:d},[e("label",{for:d[0],class:"form-label"},n(d[0]),9,zgo),e("h6",Wgo,n(d[1]),1)]))),128)),e("div",Kgo,[e("label",Ggo,n(o.$t("Total Fees")),1),e("h6",Qgo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.total_fees.toFixed(2))),1)]),e("div",Zgo,[e("label",Jgo,n(o.$t("Tax On Fees ")),1),e("h6",Xgo,n(i.currency)+" "+n(new Intl.NumberFormat().format(t.total_tax_on_fees.toFixed(2))),1)])]),e("div",e1o,[e("div",t1o,[Be(l,{modelValue:t.request_payment_date,"onUpdate:modelValue":a[9]||(a[9]=d=>t.request_payment_date=d),class:"form-control",onOnChange:t.updateDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])])])]),e("h5",o1o,n(o.$t("Step 3"))+": "+n(o.$t("Review Offer and Submit Request")),1),e("div",a1o,[e("div",n1o,[e("div",s1o,[e("label",l1o,n(o.$t("Payment Date")),1),e("h6",i1o,n(t.payment_date),1)]),e("div",r1o,[e("label",d1o,n(o.$t("Eligible Amount")),1),e("h6",c1o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_eligibility_for_finance.toFixed(2))),1)]),e("div",u1o,[e("label",_1o,n(o.$t("Eligible Amount in Words")),1),e("h6",m1o,n(t.invoice_amount_in_words),1)]),e("div",f1o,[e("label",h1o,n(o.$t("Request Amount"))+" ("+n(t.invoice_details.currency)+")",1),Y(e("input",{class:"form-control w-50 my-2",type:"text","onUpdate:modelValue":a[10]||(a[10]=d=>t.drawdown_amount=d),onBlur:a[11]||(a[11]=(...d)=>t.formatAmount&&t.formatAmount(...d))},null,544),[[X,t.drawdown_amount]])]),e("div",p1o,[e("label",v1o,n(o.$t("Request Amount In Words")),1),Y(e("input",{class:"form-control w-50 my-2",type:"text","onUpdate:modelValue":a[12]||(a[12]=d=>t.drawdown_amount_in_words=d)},null,512),[[X,t.drawdown_amount_in_words]])])])])]),e("div",g1o,[e("button",b1o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",disabled:!t.can_submit,"data-bs-toggle":"modal","data-bs-target":"#terms-"+i.id,onClick:a[13]||(a[13]=d=>t.formatNoa(t.invoice_details))},n(o.$t("Submit")),9,y1o)])])])],8,_go)):b("",!0),e("div",{class:"modal modal-top fade",id:"terms-"+i.id,"aria-hidden":"true"},[e("div",$1o,[e("div",w1o,[e("div",D1o,[e("h5",x1o,n(o.$t("Request Finance")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close",id:"close-single-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",C1o,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",P1o,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",E1o,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,A1o)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",I1o,n(o.$t("Download Terms and Conditions")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("h6",R1o,n(o.$t("NOA")),1)):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("div",S1o,[e("span",{innerHTML:t.noa_text.body,class:"text-wrap"},null,8,T1o)])):b("",!0),t.noa_text&&t.noa_text.body!=""?(u(),f("a",{key:5,href:"planner/invoices/"+i.id+"/noa/download",target:"_blank"},n(o.$t("Download NOA")),9,j1o)):b("",!0)]),e("div",O1o,[e("small",M1o,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:""+t.terms_and_conditions_link,target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,L1o)]),e("div",null,[e("button",N1o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",onClick:a[14]||(a[14]=(...d)=>t.requestFinance&&t.requestFinance(...d)),disabled:!t.can_submit},n(o.$t("Submit")),9,F1o)])])])])],8,k1o)])):b("",!0),t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cash-planner-invoice-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",V1o,[e("div",B1o,[e("div",U1o,[e("h5",q1o,n(o.$t("Invoice Details")),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",H1o,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,z1o)]),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[26]||(a[26]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,W1o)])]),e("div",K1o,[e("div",G1o,[e("div",Q1o,[e("span",Z1o,[e("h5",J1o,n(o.$t("Anchor"))+":",1),e("h6",X1o,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",ebo,[e("h5",tbo,n(o.$t("Delivery Address"))+":",1),e("h6",obo,n(t.invoice_details.delivery_address),1)]),e("span",abo,[e("h5",nbo,n(o.$t("Debit From"))+":",1),e("h6",sbo,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",lbo,[e("h5",ibo,n(o.$t("Vendor"))+":",1),e("h6",rbo,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",dbo,[e("h5",cbo,n(o.$t("Remarks"))+":",1),e("h6",ubo,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",_bo,[e("h5",mbo,n(o.$t("Credit To"))+":",1),e("h6",fbo,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",hbo,[e("h5",pbo,n(o.$t("Rejection Reason"))+":",1),e("h6",vbo,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",gbo,[t.invoice_details.pi_number?(u(),f("span",bbo,[e("h5",ybo,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,kbo)])):b("",!0),e("span",$bo,[e("h5",wbo,n(o.$t("Invoice No."))+":",1),e("h6",Dbo,n(t.invoice_details.invoice_number),1)]),e("span",xbo,[e("h5",Cbo,n(o.$t("PO No."))+":",1),e("h6",Pbo,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Ebo,[e("h5",Abo,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Ibo,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Rbo,[e("h5",Sbo,n(o.$t("Invoice Date."))+":",1),e("h6",Tbo,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",jbo,[e("h5",Obo,n(o.$t("Amount"))+":",1),e("h6",Mbo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Lbo,[e("h5",Nbo,n(o.$t("Status."))+":",1),e("h6",Fbo,n(t.invoice_details.approval_stage),1)]),e("span",Ybo,[e("h5",Vbo,n(o.$t("Due Date"))+":",1),e("h6",Bbo,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",Ubo,[e("table",qbo,[e("thead",Hbo,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",zbo,[e("span",Wbo,[e("h6",Kbo,n(o.$t("Discount"))+":",1),e("h5",Gbo,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",Qbo,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",Zbo,n(d.name),1),e("h5",Jbo,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",Xbo,[e("span",eyo,[e("h6",tyo,n(o.$t("Tax")),1),a[28]||(a[28]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",oyo,[e("span",ayo,[e("h6",nyo,n(o.$t("Total")),1),e("h5",syo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,Y1o)):b("",!0),t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cash-planner-pi-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",iyo,[e("div",ryo,[e("div",dyo,[e("h5",cyo,n(o.$t("Invoice Details")),1),a[30]||(a[30]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",uyo,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+t.invoice_details.id},n(o.$t("Attachment")),9,_yo)]),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[29]||(a[29]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,myo)])]),e("div",fyo,[e("div",hyo,[e("div",pyo,[e("span",vyo,[e("h5",gyo,n(o.$t("Anchor"))+":",1),e("h6",byo,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",yyo,[e("h5",kyo,n(o.$t("Delivery Address"))+":",1),e("h6",$yo,n(t.invoice_details.delivery_address),1)]),e("span",wyo,[e("h5",Dyo,n(o.$t("Debit From"))+":",1),e("h6",xyo,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Cyo,[e("h5",Pyo,n(o.$t("Vendor"))+":",1),e("h6",Eyo,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Ayo,[e("h5",Iyo,n(o.$t("Remarks"))+":",1),e("h6",Ryo,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Syo,[e("h5",Tyo,n(o.$t("Credit To"))+":",1),e("h6",jyo,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Oyo,[e("h5",Myo,n(o.$t("Rejection Reason"))+":",1),e("h6",Lyo,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Nyo,[t.invoice_details.pi_number?(u(),f("span",Fyo,[e("h5",Yyo,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Vyo)])):b("",!0),e("span",Byo,[e("h5",Uyo,n(o.$t("PI No."))+":",1),e("h6",qyo,n(t.invoice_details.pi_number),1)]),e("span",Hyo,[e("h5",zyo,n(o.$t("PO No."))+":",1),e("h6",Wyo,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",Kyo,[e("h5",Gyo,n(o.$t("Payment / OD Account No."))+":",1),e("h6",Qyo,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",Zyo,[e("h5",Jyo,n(o.$t("Invoice Date."))+":",1),e("h6",Xyo,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",e0o,[e("h5",t0o,n(o.$t("Amount"))+":",1),e("h6",o0o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",a0o,[e("h5",n0o,n(o.$t("Status."))+":",1),e("h6",s0o,n(t.invoice_details.approval_stage),1)]),e("span",l0o,[e("h5",i0o,n(o.$t("Due Date"))+":",1),e("h6",r0o,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",d0o,[e("table",c0o,[e("thead",u0o,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])]),e("div",_0o,[e("span",m0o,[e("h6",f0o,n(o.$t("Discount"))+":",1),e("h5",h0o,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",p0o,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",v0o,n(d.name),1),e("h5",g0o,n(new Intl.NumberFormat().format(d.value)),1)]))),128))])):(u(),f("div",b0o,[e("span",y0o,[e("h6",k0o,n(o.$t("Tax")),1),a[31]||(a[31]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",$0o,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,d=>(u(),f("span",{key:d.id,class:"d-flex justify-content-end"},[e("h6",w0o,n(d.name),1),d.name!="Credit Note Amount"&&d.name!="Credit Note"&&d.name!="Credit Amount"?(u(),f("h5",D0o," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,d.amount))+"%) "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1)):(u(),f("h5",x0o,n(d.amount),1))]))),128))])):(u(),f("div",C0o,[e("span",P0o,[e("h6",E0o,n(o.$t("WHT Tax"))+":",1),a[32]||(a[32]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",A0o,[e("h6",I0o,n(o.$t("WHT VAT"))+":",1),a[33]||(a[33]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",R0o,[e("h6",S0o,n(o.$t("Credit Note Amount"))+":",1),a[34]||(a[34]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",T0o,[e("span",j0o,[e("h6",O0o,n(o.$t("Total")),1),e("h5",M0o,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,lyo)):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)]))),128))]),e("tfoot",L0o,[e("tr",null,[a[35]||(a[35]=e("td",null,null,-1)),a[36]||(a[36]=e("td",null,null,-1)),a[37]||(a[37]=e("td",null,null,-1)),a[38]||(a[38]=e("td",null,null,-1)),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",N0o,n(new Intl.NumberFormat().format(t.total_invoice_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",F0o,n(new Intl.NumberFormat().format(t.total_pi_amount.toFixed(2))),1)]),e("td",null,[le(n(o.$t("Total"))+" ",1),e("span",Y0o,n(new Intl.NumberFormat().format(t.total_eligible_amount.toFixed(2))),1)]),a[39]||(a[39]=e("td",null,null,-1))])])])]),e("button",V0o,null,512),e("div",B0o,[e("div",U0o,[e("div",q0o,[e("div",H0o,[e("h5",z0o,n(o.$t("Request Finance")),1),a[40]||(a[40]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",W0o,[e("div",K0o,[e("span",null,n(o.$t("Total Amount")),1),t.bulk_data_loading?(u(),f("img",Q0o)):(u(),f("span",G0o,n(new Intl.NumberFormat().format(t.selected_invoices_total_amount)),1))]),e("label",Z0o,n(o.$t("I want payment on"))+":",1),Be(l,{modelValue:t.bulk_request_payment_date,"onUpdate:modelValue":a[15]||(a[15]=i=>t.bulk_request_payment_date=i),class:"form-control",onOnChange:t.updateBulkDiscount,config:t.config},null,8,["modelValue","onOnChange","config"])]),e("div",J0o,[e("button",X0o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#terms",onClick:a[16]||(a[16]=i=>t.can_submit=!0)},n(o.$t("Submit")),1)])])])]),e("div",e2o,[e("div",t2o,[e("div",o2o,[e("div",a2o,[e("h5",n2o,n(o.$t("Request Finance")),1),a[41]||(a[41]=e("button",{type:"button",class:"btn-close",id:"close-bulk-terms-and-conditions","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",s2o,[t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("h6",l2o,n(o.$t("Terms and Conditions")),1)):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("div",i2o,[e("span",{innerHTML:t.terms_text.terms_conditions,class:"text-wrap"},null,8,r2o)])):b("",!0),t.terms_text&&t.terms_text.terms_conditions!=""?(u(),f("a",d2o,n(o.$t("Download Terms and Conditions")),1)):b("",!0)]),e("div",c2o,[e("small",u2o,[le(n(o.$t("By Submitting, you agree to the"))+" ",1),e("a",{href:t.terms_text?"planner/invoices/terms/dealer_financing/download":"#",target:"_blank",class:"text-primary",style:{cursor:"pointer"}},n(o.$t("Terms and Conditions")),9,_2o)]),e("div",null,[e("button",m2o,n(o.$t("Cancel")),1),e("button",{type:"button",class:"btn btn-primary",id:"accept-bulk-terms",onClick:a[17]||(a[17]=(...i)=>t.requestFinanceForMultiple&&t.requestFinanceForMultiple(...i)),disabled:!t.can_submit},n(o.$t("Accept")),9,f2o)])])])])]),a[43]||(a[43]=e("button",{class:"d-none",id:"successful-request-for-finance","data-bs-toggle":"modal","data-bs-target":"#payment-request-successful"},null,-1)),e("div",h2o,[e("div",p2o,[e("div",v2o,[e("div",g2o,[e("h5",b2o,n(o.$t("Request for Finance successful")),1)]),e("div",y2o,[a[42]||(a[42]=e("img",{src:Lm,style:{width:"32rem"},alt:"Successfully Requested"},null,-1)),e("h4",k2o,n(o.$t("Your Payment Request(s) have been submitted successfully"))+"!",1)]),e("div",$2o,[e("button",w2o,n(o.$t("Close")),1)])])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const x2o=Ue(yvo,[["render",D2o]]),C2o={name:"EligibleInvoices",components:{Pagination:za,flatPickr:jl,DatePicker:gi},setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=h(null),m=h(0),_=h(0),l=h(new Date().toLocaleDateString("en-CA")),r=h(""),i=h(""),d=h(H().format("DD MMM YYYY")),p=h(H().format("DD MMM YYYY")),v=h(new Date().toLocaleDateString("en-CA")),g=h(new Date().toLocaleDateString("en-CA"));h(1);const w=h(0),y=h(1),x=h(0),C=h(0),E=h(0),D=h(0),k=h(0),I=h(0),V=h(0),B=h(0),L=h(0),F=h(0),T=h(0),P=h(0),R=h(0),O=h(0),N=h(0),S=h(0);h([]),h(0);const U=h(0),W=h(0);h(0);const oe=h(""),J=h(!1),K=h(!1),z=h(0),ae=h(""),we=h(""),Fe=h(0),he=h(0),re=h(0),$e=h(0),De=h(!1),ie=h([]),pe=h(!1),be=h(""),Me=h(""),ue=h(""),je=h(""),ze=h(""),Ye=h(0),ge=h(0),_e=h(0),Se=h(0),Ve=h({inline:!0}),ke=h({inline:!0}),te=h([]),Ce=h(0),Ne=h(0),Ie=h(""),se=h(""),fe=h(""),Le=h(""),Ze=h(""),at=h([]),mt=h([]),wt=h(50),Ot=h(!1),Jt=h([]),ut=h([]),gt=h(null),Vt=h(null),pt=h(new Date);ot([wt],async([_t])=>{await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:_t}}).then(tt=>{Fe.value=0,he.value=0,re.value=0,$e.value=0,s.value=tt.data.invoices})});const Et=async()=>{Ze.value=$("#non_eligible_date_search").val(),Ze.value&&(se.value=H(Ze.value.split(" - ")[0]).format("YYYY-MM-DD"),fe.value=H(Ze.value.split(" - ")[1]).format("YYYY-MM-DD"));let _t=$(".non-eligible-filter").parent();_t.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{anchor:Le.value,invoice_number:Ie.value,from_date:se.value,to_date:fe.value,per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices,_t.html('<i class="ti ti-search non-eligible-filter"></i>')})},Dt=async()=>{let _t=$(".non-eligible-refresh").parent();_t.html('<img src="../../../../../assets/img/spinner.svg" />'),Le.value="",Ie.value="",se.value="",fe.value="",Ze.value="",$("#non_eligible_date_search").val(""),await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices,_t.html('<i class="ti ti-refresh non-eligible-refresh"></i>')})},Ft=async(_t,tt)=>{document.getElementById("pending-loading-modal-btn-"+_t).click(),await A.get(t+"invoices/"+_t+"/details").then(ve=>{c.value=ve.data,bt(()=>{document.getElementById("pending-close-loading-modal-btn-"+_t).click(),document.getElementById(tt).click()})}).catch(ve=>{console.log(ve)})},Kt=async(_t,tt)=>{document.getElementById("pending-loading-modal-btn").click(),await A.get(t+"invoices/"+_t+"/details").then(ve=>{te.value=[],Ce.value=0,Ne.value=0,c.value=ve.data,S.value=c.value.due_date,C.value=0,c.value.invoice_items.forEach(jt=>{C.value+=jt.quantity*jt.price_per_quantity}),E.value=0,c.value.invoice_taxes.forEach(jt=>{E.value+=jt.value}),D.value=0,c.value.invoice_fees.forEach(jt=>{D.value+=jt.amount}),k.value=0,c.value.invoice_discounts.forEach(jt=>{jt.type=="percentage"?_.value+=jt.value/100*(C.value+E.value):_.value+=jt.value}),C.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_discount,I.value=c.value.total+c.value.total_invoice_taxes-c.value.total_invoice_fees-c.value.total_invoice_discount,T.value=H(c.value.due_date).diff(H(),"days")+1,V.value=c.value.vendor_configurations.eligibility,B.value=c.value.invoice_total_amount,L.value=V.value/100*c.value.invoice_total_amount,ae.value=it(L.value.toFixed(2)),P.value=c.value.vendor_discount_details.total_roi;let Re=0,vt=0;c.value.vendor_fee_details.forEach((jt,Mn)=>{jt.type=="percentage"&&(Re+=jt.value/100*L.value,jt.vendor_bearing_discount>0&&te.value.push([jt.fee_name,jt.value+"%"]),jt.taxes&&(vt+=jt.taxes/100*(jt.value/100*L.value))),jt.type=="amount"&&(Re+=jt.value,jt.vendor_bearing_discount>0&&te.value.push([jt.fee_name,c.value.currency+" "+jt.value]),jt.taxes&&(vt+=jt.taxes/100*(jt.vendor_bearing_discount/100*jt.value))),jt.type=="per amount"&&(Re+=Math.round(L.value/jt.per_amount)*jt.value,jt.vendor_bearing_discount>0&&te.value.push([jt.fee_name,jt.value+" P.Am "+c.value.currency+" "+jt.per_amount]),jt.taxes&&(vt+=jt.taxes/100*(Math.round(L.value/jt.per_amount)*jt.value)))}),Ce.value+=Re,Ne.value+=vt,O.value=L.value-Ce.value-Ne.value,N.value=c.value.program.min_financing_days,we.value=it(0);let Rt=0;c.value.vendor_discount_details.forEach(jt=>{jt.to_day>Rt&&(Rt=jt.to_day)}),r.value=H().add(Rt,"days").format("DD MMM YYYY");let eo=[function(jt){return mt.value.includes(jt.getDay())}];gt.value=new Date(r.value),mt.value.forEach(jt=>{ut.value.push(jt)}),at.value.forEach(jt=>{eo.push('"'+jt+'"'),Jt.value.push(new Date(jt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:eo},v.value=H().add(Rt,"days").format("DD MMM YYYY"),d.value=H().add(Rt,"days").format("DD MMM YYYY"),K.value=!0,bt(()=>{document.getElementById(tt).click()})}).catch(ve=>{console.log(ve)})};ot(z,_t=>{we.value=it(_t.replaceAll(",","")),_t.replaceAll(",","")>0&&_t.replaceAll(",","")<=L.value?De.value=!0:De.value=!1});const ro=()=>{z.value&&(z.value=new Intl.NumberFormat().format(z.value.replaceAll(",","")))},Pe=(_t,tt,ve)=>{tt!=""&&(p.value=H(tt).format("DD MMM YYYY"),g.value=H(tt).format("DD MMM YYYY"))},Te=()=>{if(ie.value.length<=0)return a.error("Select Payment Instructions"),!1;g.value=new Date().toLocaleDateString("en-CA");let _t=[function(tt){return mt.value.includes(tt.getDay())}];Vt.value=new Date(i.value),mt.value.forEach(tt=>{ut.value.push(tt)}),at.value.forEach(tt=>{_t.push('"'+tt+'"'),Jt.value.push(new Date(tt))}),Ve.value={inline:!0,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:i.value,disable:_t},Se.value=0,_e.value=0,Ce.value=0,Ne.value=0,ge.value=0,A.post(t+"invoices/remittance/amount",{invoices:ie.value,date:g.value}).then(tt=>{_e.value=tt.data.total_amount,Ot.value=!1}),pe.value.click()},Ge=_t=>{let tt="";switch(_t){case"created":tt="bg-label-primary";break;case"paid":tt="bg-label-success";break;case"failed":tt="bg-label-danger";break;default:tt="bg-label-primary";break}return tt},nt=async()=>{await A.get(t+"cash-planner/invoices/non-eligible/data",{params:{per_page:wt.value}}).then(_t=>{s.value=_t.data.invoices}).catch(_t=>{console.log(_t)})},yt=(_t,tt,ve)=>{d.value=H(tt).format("DD MMM YYYY")},xt=async()=>{De.value=!1,await A.post(t+"cash-planner/invoices/request/send",{invoice_id:c.value.id,payment_date:d.value,drawdown_amount:z.value}).then(_t=>{a.success("Payment request sent successfully"),document.getElementById("close-single-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),nt()}).catch(_t=>{console.log(_t),De.value=!0,_t.response.data&&_t.response.data.message?a.error(_t.response.data.message):a.error("An error. occurred. Refresh and try again.")})},Ut=async()=>{De.value=!1,document.getElementById("accept-bulk-terms").innerText="Processing...";const _t=new FormData;ie.value.forEach(tt=>{_t.append("invoices[]",tt.id)}),_t.append("payment_request_date",p.value),await A.post(t+"cash-planner/invoices/request/multiple/send",_t).then(tt=>{a.success("Payment request(s) sent successfully"),document.getElementById("close-bulk-terms-and-conditions").click(),document.getElementById("successful-request-for-finance").click(),ie.value=[],_e.value=0,Se.value=0,nt()}).catch(tt=>{console.log(tt),De.value=!0,tt.response.data&&tt.response.data.message?a.error(tt.response.data.message):a.error("An error. occurred. Refresh and try again.")}).finally(()=>{document.getElementById("accept-bulk-terms").innerText="Accept"})},Tt=(_t,tt)=>(tt/_t*100).toFixed(2);Qe(()=>{nt()});const Gt=async _t=>{await A.get(_t,{params:{anchor:Le.value,invoice_number:Ie.value,from_date:se.value,to_date:fe.value,per_page:wt.value}}).then(tt=>{s.value=tt.data.invoices})},ct=_t=>{let tt=ie.value.findIndex(ve=>ve.id==_t.id);if(tt==-1?ie.value.push(_t):ie.value.splice(tt,1),ie.value.length==s.value.data.length?document.getElementById("select-all").checked=!0:document.getElementById("select-all").checked=!1,ie.value.length>0){let ve=ie.value[0].due_date,Re=ie.value[0].min_financing_days;ie.value.forEach(vt=>{H(vt.due_date).isBefore(ve)&&(ve=H(vt.due_date)),vt.min_financing_days<Re&&(Re=vt.min_financing_days)}),r.value=H(ve).subtract(Re,"days").format("DD MMM YYYY"),Vt.value=new Date(r.value),Ve.value={inline:!1,wrap:!1,altInput:!0,dateFormat:"d M Y",locale:{firstDayOfWeek:1},minDate:"today",maxDate:r.value,disable:[function(vt){return vt.getDay()===0||vt.getDay()===6}]}}},Ht=()=>{document.getElementById("select-all").checked?s.value.data.forEach(_t=>{document.getElementById("invoice-"+_t.id).checked=!0,ie.value.push(_t)}):s.value.data.forEach(_t=>{if(document.getElementById("invoice-"+_t.id).checked==!0){document.getElementById("invoice-"+_t.id).checked=!1;let tt;if(!ie.value.filter(function(Re,vt){tt=vt,Re.id==_t.id}))return!1;ie.value.splice(tt,1)}})},kt=()=>{De.value=!De.value},dt=_t=>{let tt="";je.value&&(tt=je.value.body,tt=tt.replace("{date}",H(_t.invoice_date).format("Do MMM YYYY")),tt=tt.replace("{buyerName}",_t.program.anchor.name),tt=tt.replace("{anchorName}",_t.program.anchor.name),tt=tt.replace("{company}",_t.company.name),tt=tt.replace("{anchorCompanyUniqueID}",_t.program.anchor.unique_identification_number),tt=tt.replace("{time}",H().format("Do MMM YYYY")),tt=tt.replace("{agreementDate}",H().format("Do MMM YYYY")),tt=tt.replace("{contract},",""),tt=tt.replace("{anchorAccountName},",""),tt=tt.replace("{anchorAccountNumber},",""),tt=tt.replace("{anchorCustomerId},",""),tt=tt.replace("{anchorBranch},",""),tt=tt.replace("{anchorIFSCCode},",""),tt=tt.replace("{anchorAddress},",""),tt=tt.replace("{penalnterestRate},",""),tt=tt.replace("{sellerName}",_t.company.name),je.value.body=tt)};var Oe=["","Thousand","Million","Billion","Trillion"],ye=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],He=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],Nt=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function it(_t){if(_t=_t.toString(),_t=_t.replace(/[\, ]/g,""),_t!=parseFloat(_t))return"Not a Number";var tt=_t.indexOf(".");if(tt==-1&&(tt=_t.length),tt>15)return"Too Big";for(var ve=_t.split(""),Re="",vt=0,Rt=0;Rt<tt;Rt++)(tt-Rt)%3==2?ve[Rt]=="1"?(Re+=He[Number(ve[Rt+1])]+" ",Rt++,vt=1):ve[Rt]!=0&&(Re+=Nt[ve[Rt]-2]+" ",vt=1):ve[Rt]!=0&&(Re+=ye[ve[Rt]]+" ",(tt-Rt)%3==0&&(Re+="Hundred "),vt=1),(tt-Rt)%3==1&&(vt&&(Re+=Oe[(tt-Rt-1)/3]+" "),vt=0);if(tt!=_t.length){var eo=_t.length;Re+="point ";for(var Rt=tt+1;Rt<eo;Rt++)Re+=ye[ve[Rt]]+" "}return Re.replace(/\s+/g," ")}return{config:Ve,config2:ke,moment:H,max_date:r,min_date:l,eligibility_amount:m,pi_amount:U,discount_amount:_,days_to_payment:y,total_remittance:x,processing_fee_amount:w,invoices:s,payment_date:d,request_payment_date:v,bulk_request_payment_date:g,credit_to:oe,taxes_amount:W,payment_account:J,vendor_fee_details:te,total_fees:Ce,total_tax_on_fees:Ne,tax_on_discount:Ye,tax_on_discount_amount:ge,invoice_total_amount:C,invoice_taxes_amount:E,invoice_fees_amount:D,invoice_eligibility_percentage:V,invoice_eligibility_amount:B,invoice_eligibility_for_finance:L,invoice_discount_amount:F,invoice_days_to_payment:T,invoice_business_spread:P,invoice_processing_fee:R,invoice_min_financing_days:N,invoice_due_date:S,invoice_total_remmitance:O,drawdown_amount:z,invoice_amount_in_words:ae,drawdown_amount_in_words:we,bulk_invoice_remittance:Se,resolvePaymentRequestStatus:Ge,formatAmount:ro,total_invoice_amount:Fe,total_pi_amount:he,total_eligible_amount:re,total_actual_remittance:$e,can_submit:De,selected_invoices:ie,show_multiple_request_modal:pe,show_terms_button:be,terms_and_conditions_link:Me,noa_text:je,noa_link:ue,terms_text:ze,selected_invoices_total_amount:_e,updateBulkDiscount:Pe,bulk_data_loading:Ot,anchor_search:Le,invoice_number_search:Ie,from_date_search:se,to_date_search:fe,date_search:Ze,per_page:wt,formatNoa:dt,prime_disabled_dates:Jt,prime_disabled_days:ut,prime_max_date:gt,prime_min_date:pt,prime_bulk_max_date:Vt,changePage:Gt,updateDiscount:yt,showModal:Kt,showMultipleRequestModal:Te,requestFinanceForMultiple:Ut,requestFinance:xt,invoice_details:c,viewRequestDetails:K,getTaxPercentage:Tt,updateSelected:ct,selectAll:Ht,acceptTerms:kt,filter:Et,refresh:Dt,showInvoice:Ft}}},P2o={class:"card"},E2o={class:"card-header"},A2o={class:"card-body"},I2o={class:"d-flex justify-content-between"},R2o={class:"d-flex flex-wrap"},S2o={class:"mb-1"},T2o={for:"Anchor",class:"form-label"},j2o={class:"mx-1"},O2o={for:"Invoice No.",class:"form-label"},M2o={class:"mx-1"},L2o={class:"form-label",for:""},N2o={class:"mx-1 my-auto"},F2o={class:"mx-1 my-auto"},Y2o={class:"d-flex mx-2",style:{height:"fit-content"}},V2o={class:"table-responsive"},B2o={class:"table invoices-table"},U2o={class:""},q2o={class:"invoices-table-content"},H2o={key:0},z2o={colspan:"12",class:"text-center"},W2o={class:"text-center"},K2o={key:1},G2o={colspan:"12",class:"text-center"},Q2o={class:"text-center"},Z2o=["onClick"],J2o={href:"javascript:;",class:""},X2o={class:""},eko={class:""},tko={class:"text-success"},oko={class:""},ako=["id","data-bs-target"],nko=["id","data-bs-target"],sko=["id"],lko={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},iko={class:"modal-content"},rko={class:"modal-header"},dko=["id"],cko={class:"modal-body"},uko={class:"d-flex justify-content-center"},_ko=["id"],mko={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},fko={class:"modal-content"},hko={class:"modal-header"},pko={class:"modal-title",id:"modalCenterTitle"},vko={class:"d-flex"},gko={key:0,class:"d-flex"},bko=["href"],yko=["href"],kko={class:"modal-body"},$ko={class:"d-flex justify-content-between mb-4"},wko={class:"mb-3"},Dko={class:"d-flex justify-content-between"},xko={class:"fw-light my-auto"},Cko={class:"fw-bold mx-2 my-auto"},Pko={class:"d-flex justify-content-between"},Eko={class:"fw-light my-auto"},Ako={class:"fw-bold mx-2 my-auto"},Iko={class:"d-flex justify-content-between"},Rko={class:"fw-light my-auto"},Sko={class:"fw-bold mx-2 my-auto"},Tko={class:"d-flex justify-content-between"},jko={class:"fw-light my-auto"},Oko={class:"fw-bold mx-2 my-auto"},Mko={class:"d-flex justify-content-between"},Lko={class:"fw-light my-auto"},Nko={class:"fw-bold mx-2 my-auto"},Fko={key:0,class:"d-flex justify-content-between"},Yko={class:"fw-light my-auto"},Vko={class:"fw-bold mx-2 my-auto"},Bko={key:1,class:"d-flex justify-content-between"},Uko={class:"fw-light my-auto"},qko={class:"fw-bold mx-2 my-auto"},Hko={class:"mb-3"},zko={key:0,class:"d-flex justify-content-between"},Wko={class:"my-auto fw-light"},Kko=["data-bs-target"],Gko={class:"d-flex justify-content-between"},Qko={class:"my-auto fw-light"},Zko={class:"fw-bold mx-2 my-auto"},Jko={class:"d-flex justify-content-between"},Xko={class:"my-auto fw-light"},e$o={class:"fw-bold mx-2 my-auto"},t$o={class:"d-flex justify-content-between"},o$o={class:"my-auto fw-light"},a$o={class:"fw-bold mx-2 my-auto"},n$o={class:"d-flex justify-content-between"},s$o={class:"my-auto fw-light"},l$o={class:"fw-bold mx-2 my-auto"},i$o={class:"d-flex justify-content-between"},r$o={class:"my-auto fw-light"},d$o={class:"fw-bold text-success mx-2 my-auto"},c$o={class:"d-flex justify-content-between"},u$o={class:"my-auto fw-light"},_$o={class:"fw-bold mx-2 my-auto"},m$o={class:"d-flex justify-content-between"},f$o={class:"my-auto fw-light"},h$o={class:"fw-bold mx-2 my-auto"},p$o={class:"table-responsive"},v$o={class:"table"},g$o={class:"bg-label-primary"},b$o={class:"px-2"},y$o={class:"d-flex justify-content-end"},k$o={class:"mx-2 my-auto"},$$o={class:"text-success my-auto"},w$o={key:0,class:"px-2"},D$o={class:"mx-2 my-auto"},x$o={class:"text-success my-auto"},C$o={key:1,class:"px-2"},P$o={class:"d-flex justify-content-end"},E$o={class:"mx-2 my-auto"},A$o={class:"bg-label-secondary px-2"},I$o={class:"d-flex justify-content-end"},R$o={class:"mx-2 my-auto py-1"},S$o={class:"text-success my-auto py-1"},T$o=["id"],j$o={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},O$o={class:"modal-content"},M$o={class:"modal-header"},L$o={class:"modal-title",id:"modalCenterTitle"},N$o={class:"d-flex"},F$o=["href"],Y$o={class:"btn btn-info btn-sm mx-1"},V$o=["href"],B$o={class:"btn btn-warning btn-sm mx-1"},U$o=["href"],q$o=["href"],H$o={class:"modal-body"},z$o={class:"d-flex justify-content-between"},W$o={class:"mb-3"},K$o={class:"d-flex justify-content-between"},G$o={class:"fw-light my-auto"},Q$o={class:"fw-bold mx-2 my-auto"},Z$o={key:0,class:"d-flex justify-content-between"},J$o={class:"my-auto fw-light"},X$o={class:"fw-bold mx-2 my-auto"},ewo={class:"d-flex justify-content-between"},two={class:"fw-light my-auto"},owo={class:"fw-bold mx-2 my-auto"},awo={class:"mb-3"},nwo={class:"d-flex justify-content-between"},swo={class:"my-auto fw-light"},lwo=["data-bs-target"],iwo={href:"javascript:;",class:""},rwo={class:"d-flex justify-content-between"},dwo={class:"my-auto fw-light"},cwo={class:"fw-bold text-success mx-2 my-auto"},uwo={class:"d-flex justify-content-between"},_wo={class:"my-auto fw-light"},mwo={class:"fw-bold mx-2 my-auto"},fwo={class:"table-responsive"},hwo={class:"table"},pwo={style:{background:"#f0f0f0"}},vwo={key:0,class:"px-2"},gwo={class:"d-flex justify-content-end"},bwo={class:"mx-2 my-auto"},ywo={class:"text-success my-auto"},kwo={key:1,class:"px-2"},$wo={class:"mx-2 my-auto"},wwo={class:"text-success my-auto"},Dwo={key:2,class:"px-2"},xwo={class:"mx-2 my-auto py-1"},Cwo={key:0,class:"text-success my-auto py-1"},Pwo={key:1,class:"text-success my-auto py-1"},Ewo={class:"bg-label-secondary px-2"},Awo={class:"d-flex justify-content-end"},Iwo={class:"mx-2 my-auto py-1"},Rwo={class:"text-success my-auto py-1"};function Swo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",P2o,[e("div",E2o,[e("h6",null,n(o.$t("Payment Instructions not eligible for Financing")),1)]),e("div",A2o,[e("div",I2o,[e("div",R2o,[e("div",S2o,[e("label",T2o,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",j2o,[e("label",O2o,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=l=>t.invoice_number_search=l),placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",M2o,[e("label",L2o,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[7]||(a[7]=e("input",{type:"text",id:"non_eligible_date_search",class:"form-control form-search",name:"non_eligible_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",N2o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search non-eligible-filter"},null,-1)]))]),e("div",F2o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh non-eligible-refresh"},null,-1)]))])]),e("div",Y2o,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",V2o,[e("table",B2o,[e("thead",null,[e("tr",U2o,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor"))+".",1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Due Date")),1),a[11]||(a[11]=e("th",null,null,-1))])]),e("tbody",q2o,[t.invoices.data?b("",!0):(u(),f("tr",H2o,[e("td",z2o,[e("span",W2o,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",K2o,[e("td",G2o,[e("span",Q2o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>(u(),f("tr",{key:l.id},[e("td",{class:"text-decoration-underline text-primary",onClick:r=>t.showInvoice(l.id,"pending-show-planner-pi-"+l.id)},[e("a",J2o,n(l.invoice_number),1)],8,Z2o),e("td",X2o,n(l.anchor),1),e("td",eko,n(t.moment(l.invoice_date).format("DD MMM YYYY")),1),e("td",tko,[le(n(l.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(l.total+l.total_invoice_taxes-l.total_invoice_discount)),1)]),e("td",oko,n(t.moment(l.due_date).format("DD MMM YYYY")),1),e("td",null,[e("button",{class:"d-none",id:"pending-show-planner-pi-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pending-cash-planner-pi-"+l.id},null,8,ako),e("button",{class:"d-none",id:"pending-loading-modal-btn-"+l.id,"data-bs-toggle":"modal","data-bs-target":"#pending-loading-modal-"+l.id},null,8,nko),e("div",{class:"modal fade",id:"pending-loading-modal-"+l.id,tabindex:"-1"},[e("div",lko,[e("div",iko,[e("div",rko,[e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"pending-close-loading-modal-btn-"+l.id,"aria-label":"Close"},null,8,dko)]),e("div",cko,[e("div",uko,[e("span",null,n(o.$t("Loading"))+"...",1),a[12]||(a[12]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])],8,sko)]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"pending-cash-planner-invoice-"+l.id,tabindex:"-1"},[e("div",mko,[e("div",fko,[e("div",hko,[e("h5",pko,n(o.$t("Invoice Details")),1),a[15]||(a[15]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",vko,[t.invoice_details.media.length>0?(u(),f("div",gko,[(u(!0),f(G,null,ee(t.invoice_details.media,(r,i)=>(u(),f("a",{key:i,href:r.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[13]||(a[13]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(i+1),1)],8,bko))),128))])):b("",!0),e("a",{href:"invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[14]||(a[14]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,yko)])]),e("div",kko,[e("div",$ko,[e("div",wko,[e("span",Dko,[e("h5",xko,n(o.$t("Anchor"))+":",1),e("h6",Cko,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",Pko,[e("h5",Eko,n(o.$t("Delivery Address"))+":",1),e("h6",Ako,n(t.invoice_details.delivery_address),1)]),e("span",Iko,[e("h5",Rko,n(o.$t("Debit From"))+":",1),e("h6",Sko,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Tko,[e("h5",jko,n(o.$t("Vendor"))+":",1),e("h6",Oko,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Mko,[e("h5",Lko,n(o.$t("Remarks"))+":",1),e("h6",Nko,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Fko,[e("h5",Yko,n(o.$t("Credit To"))+":",1),e("h6",Vko,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Bko,[e("h5",Uko,n(o.$t("Rejection Reason"))+":",1),e("h6",qko,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Hko,[t.invoice_details.pi_number?(u(),f("span",zko,[e("h5",Wko,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Kko)])):b("",!0),e("span",Gko,[e("h5",Qko,n(o.$t("Invoice No."))+":",1),e("h6",Zko,n(t.invoice_details.invoice_number),1)]),e("span",Jko,[e("h5",Xko,n(o.$t("PO No."))+":",1),e("h6",e$o,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",t$o,[e("h5",o$o,n(o.$t("Payment / OD Account No."))+":",1),e("h6",a$o,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",n$o,[e("h5",s$o,n(o.$t("Invoice Date."))+":",1),e("h6",l$o,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",i$o,[e("h5",r$o,n(o.$t("Amount"))+":",1),e("h6",d$o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",c$o,[e("h5",u$o,n(o.$t("Status."))+":",1),e("h6",_$o,n(t.invoice_details.approval_stage),1)]),e("span",m$o,[e("h5",f$o,n(o.$t("Due Date"))+":",1),e("h6",h$o,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",p$o,[e("table",v$o,[e("thead",g$o,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),e("div",b$o,[e("span",y$o,[e("h6",k$o,n(o.$t("Discount"))+":",1),e("h5",$$o,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",w$o,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",D$o,n(r.name),1),e("h5",x$o,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):(u(),f("div",C$o,[e("span",P$o,[e("h6",E$o,n(o.$t("Tax")),1),a[16]||(a[16]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",A$o,[e("span",I$o,[e("h6",R$o,n(o.$t("Total")),1),e("h5",S$o,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,_ko)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pending-cash-planner-pi-"+l.id,tabindex:"-1"},[e("div",j$o,[e("div",O$o,[e("div",M$o,[e("h5",L$o,n(o.$t("PI Details")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",N$o,[t.invoice_details.can_edit?(u(),f("a",{key:0,href:"invoices/"+t.invoice_details.id+"/edit"},[e("button",Y$o,[a[17]||(a[17]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Edit")),1)])],8,F$o)):b("",!0),t.invoice_details.can_edit?(u(),f("a",{key:1,href:"invoices/create/"+t.invoice_details.id},[e("button",B$o,[a[18]||(a[18]=e("i",{class:"ti ti-pencil"},null,-1)),le(" "+n(o.$t("Replicate")),1)])],8,V$o)):b("",!0),e("a",{href:"invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[19]||(a[19]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,U$o),t.invoice_details.attachment?(u(),f("a",{key:2,href:t.invoice_details.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,q$o)):b("",!0)])]),e("div",H$o,[e("div",z$o,[e("div",W$o,[e("span",K$o,[e("h5",G$o,n(o.$t("Anchor"))+":",1),e("h6",Q$o,n(t.invoice_details.program.anchor.name),1)]),t.invoice_details.purchase_order?(u(),f("span",Z$o,[e("h5",J$o,n(o.$t("Delivery Address"))+":",1),e("h6",X$o,n(t.invoice_details.purchase_order.delivery_address),1)])):b("",!0),e("span",ewo,[e("h5",two,n(o.$t("Remarks"))+":",1),e("h6",owo,n(t.invoice_details.remarks),1)])]),e("div",awo,[e("span",nwo,[e("h5",swo,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"text-decoration-underline text-primary mx-2 my-auto","data-bs-toggle":"modal","data-bs-target":"#pending-cash-planner-invoice-"+t.invoice_details.id},[e("a",iwo,n(t.invoice_details.invoice_number),1)],8,lwo)]),e("span",rwo,[e("h5",dwo,n(o.$t("Invoice Amount"))+":",1),e("h6",cwo,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",uwo,[e("h5",_wo,n(o.$t("Invoice Due Date"))+":",1),e("h6",mwo,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",fwo,[e("table",hwo,[e("thead",pwo,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.item),1),e("td",null,n(r.quantity),1),e("td",null,n(r.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(r.quantity*r.price_per_quantity)),1)]))),128))])])]),t.invoice_details.invoice_discounts.length?(u(),f("div",vwo,[e("span",gwo,[e("h6",bwo,n(o.$t("Total Invoice Discount")),1),e("h5",ywo,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",kwo,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",$wo,n(r.name),1),e("h5",wwo,n(new Intl.NumberFormat().format(r.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",Dwo,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,r=>(u(),f("span",{key:r.id,class:"d-flex justify-content-end"},[e("h6",xwo,n(r.name),1),r.name!="Credit Note Amount"?(u(),f("h5",Cwo," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,r.amount))+"%) "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1)):(u(),f("h5",Pwo,n(r.amount),1))]))),128))])):b("",!0),e("div",Ewo,[e("span",Awo,[e("h6",Iwo,n(o.$t("Total")),1),e("h5",Rwo,n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_fees-t.invoice_details.total_invoice_discount)),1)])])])])])],8,T$o)):b("",!0)]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Two=Ue(C2o,[["render",Swo]]),jwo={name:"AllInvoicesReport",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=h([]),t=h(50),c=Je("baseURL"),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(null),v=h(0),g=async()=>{await A.get(c+"reports/all-invoices-report",{params:{per_page:t.value}}).then(B=>{s.value=B.data.invoices}).catch(B=>{console.log(B)})},w=async(B,L)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+"invoices/"+B+"/details").then(F=>{p.value=F.data,v.value++,bt(()=>{document.getElementById(L).click()})}).catch(F=>{console.log(F)})};Qe(()=>{g()});const y=B=>{let L="";switch(B){case"overdue":L="bg-label-secondary";break;case"created":L="bg-label-secondary";break;case"pending":L="bg-label-primary";break;case"submitted":L="bg-label-primary";break;case"approved":L="bg-label-success";break;case"disbursed":L="bg-label-success";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},x=B=>{let L="";switch(B){case"pending":L="bg-label-primary";break;case"submitted":L="bg-label-warning";break;case"financed":L="bg-label-success";break;case"closed":L="bg-label-secondary";break;case"denied":L="bg-label-danger";break;default:L="bg-label-primary";break}return L},C=(B,L)=>(L/B*100).toFixed(2);return ot([t],([B])=>{A.get(c+"reports/all-invoices-report",{params:{per_page:B,invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)})}),{moment:H,invoices:s,per_page:t,invoice_number_search:m,invoice_status_search:r,invoice_financing_status_search:i,from_date_search:_,to_date_search:l,changePage:async B=>{await A.get(B,{params:{per_page:t.value,invoice_number:m.value,invoice_date:_.value,due_date:l.value,status:r.value,financing_status:i.value}}).then(L=>{s.value=L.data.invoices})},resolveFinancingStatus:x,resolveStatus:y,getTaxPercentage:C,exportReport:()=>{A.get(c+"report/dealer-all-invoices-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(B=>{const L=window.URL.createObjectURL(new Blob([B.data])),F=document.createElement("a");F.href=L,F.setAttribute("download",`Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(B=>{console.log(B)})},exportPdfReport:()=>{A.get(c+"report/dealer-all-invoices-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,from_date:_.value,to_date:l.value,status:r.value,financing_status:i.value}}).then(B=>{const L=window.URL.createObjectURL(new Blob([B.data])),F=document.createElement("a");F.href=L,F.setAttribute("download",`All_Invoices_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(B=>{console.log(B)})},filter:()=>{d.value=$("#date_search").val(),d.value&&(_.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let B=$(".ti-search").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(c+"reports/all-invoices-report",{params:{per_page:t.value,invoice_number:m.value,from_date:_.value,to_date:l.value,financing_status:i.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{B.html('<i class="ti ti-search"></i>')})},refresh:()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",i.value="",d.value="",$("#date_search").val(""),A.get(c+"reports/all-invoices-report",{params:{per_page:t.value}}).then(L=>{s.value=L.data.invoices}).catch(L=>{console.log(L)}).finally(()=>{B.html('<i class="ti ti-refresh"></i>')})},invoice_details:p,invoice_details_key:v,showInvoice:w}}},Owo={class:"card p-2"},Mwo={class:"d-flex justify-content-between"},Lwo={class:"d-flex flex-wrap gap-1"},Nwo={class:""},Fwo={for:"Invoice No.",class:"form-label"},Ywo={class:""},Vwo={class:"form-label",for:""},Bwo={class:""},Uwo={for:"Status",class:"form-label"},qwo={value:""},Hwo={value:"pending"},zwo={value:"approved"},Wwo={value:"rejected"},Kwo={value:"past_due"},Gwo={value:"expired"},Qwo={class:""},Zwo={for:"Financing Status",class:"form-label"},Jwo={value:""},Xwo={value:"pending"},e5o={value:"submitted"},t5o={value:"financed"},o5o={value:"disbursed"},a5o={value:"closed"},n5o={value:"denied"},s5o={value:"rejected"},l5o={class:"table-search-btn"},i5o={class:"table-clear-btn"},r5o={class:"d-flex align-items-end"},d5o={class:"mx-2"},c5o={class:"table-responsive"},u5o={class:"table"},_5o={class:"text-nowrap"},m5o={class:"table-border-bottom-0"},f5o={key:0},h5o={colspan:"12",class:"text-center"},p5o={class:"text-center"},v5o={key:1},g5o={colspan:"12",class:"text-center"},b5o={class:"text-center"},y5o=["onClick"],k5o={class:"me-1"},$5o={class:"text-success"},w5o={key:0,class:"text-success"},D5o={key:1},x5o=["id","data-bs-target"],C5o=["id","data-bs-target"],P5o={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},E5o={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},A5o={class:"modal-content"},I5o={class:"modal-body"},R5o={class:"d-flex justify-content-center"};function S5o(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",Owo,[e("div",Mwo,[e("div",Lwo,[e("div",Nwo,[e("label",Fwo,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",Ywo,[e("label",Vwo,n(o.$t("Date"))+" ("+n(o.$t("Due Date"))+")",1),a[9]||(a[9]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates"},null,-1))]),e("div",Bwo,[e("label",Uwo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_status_search=i)},[e("option",qwo,n(o.$t("Status")),1),e("option",Hwo,n(o.$t("Pending")),1),e("option",zwo,n(o.$t("Approved")),1),e("option",Wwo,n(o.$t("Rejected")),1),e("option",Kwo,n(o.$t("Overdue")),1),e("option",Gwo,n(o.$t("Expired")),1)],512),[[de,t.invoice_status_search]])]),e("div",Qwo,[e("label",Zwo,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=i=>t.invoice_financing_status_search=i)},[e("option",Jwo,n(o.$t("Financing Status")),1),e("option",Xwo,n(o.$t("Pending")),1),e("option",e5o,n(o.$t("Submitted")),1),e("option",t5o,n(o.$t("Financed")),1),e("option",o5o,n(o.$t("Disbursed")),1),e("option",a5o,n(o.$t("Closed")),1),e("option",n5o,n(o.$t("Denied")),1),e("option",s5o,n(o.$t("Rejected")),1)],512),[[de,t.invoice_financing_status_search]])]),e("div",l5o,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",i5o,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",r5o,[e("div",d5o,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",onClick:a[7]||(a[7]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},a[13]||(a[13]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[8]||(a[8]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",c5o,[e("table",u5o,[e("thead",null,[e("tr",_5o,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Discount Value")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",m5o,[t.invoices.data?b("",!0):(u(),f("tr",f5o,[e("td",h5o,[e("span",p5o,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",v5o,[e("td",g5o,[e("span",b5o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id),style:{cursor:"pointer"}},n(i.invoice_number),9,y5o),e("td",null,[e("span",k5o,n(i.anchor),1)]),e("td",$5o,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.financing_status)])},n(i.financing_status),3)]),i.disbursed_amount>0?(u(),f("td",w5o,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)])):(u(),f("td",D5o,"-")),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,x5o),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,C5o),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",P5o,[e("div",E5o,[e("div",A5o,[e("div",I5o,[e("div",R5o,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const fD=Ue(jwo,[["render",S5o]]),T5o={name:"ProgramReport",components:{Pagination:za},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(50),l=()=>{A.get(s+"reports/programs-report",{params:{per_page:_.value}}).then(g=>{t.value=g.data.programs})};ot([_],([g])=>{A.get(s+"reports/programs-report",{params:{per_page:g,program_code:c.value,anchor:m.value}}).then(w=>{t.value=w.data.programs}).catch(w=>{console.log(w)})});const r=()=>{A.get(s+"reports/programs-report",{params:{per_page:_.value,program_code:c.value,anchor:m.value}}).then(g=>{report.value=g.data}).catch(g=>{console.log(g)})},i=()=>{c.value="",m.value="",A.get(s+"/programs-report",{params:{per_page:_.value}}).then(g=>{report.value=g.data}).catch(g=>{console.log(g)})},d=async g=>{await A.get(g,{params:{per_page:_.value,program_code:c.value,anchor:m.value}}).then(w=>{t.value=w.data.programs})},p=()=>{A.get(s+"report/dealer-programs-report/export",{responseType:"arraybuffer",method:"GET",params:{program_code:c.value,anchor:m.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})},v=()=>{A.get(s+"report/dealer-programs-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{program_code:c.value,anchor:m.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})};return Qe(()=>{l()}),{moment:H,programs:t,per_page:_,program_code_search:c,anchor_search:m,changePage:d,exportReport:p,exportPdfReport:v,filter:r,refresh:i}}},j5o={class:"card p-2"},O5o={class:"d-flex justify-content-between"},M5o={class:"d-flex"},L5o={class:""},N5o={for:"Loan/OD Account",class:"form-label"},F5o={class:"mx-1"},Y5o={for:"Anchor",class:"form-label"},V5o={class:"mx-1 table-search-btn"},B5o={class:"mx-1 table-clear-btn"},U5o={class:"d-flex align-items-end"},q5o={class:"table-responsive"},H5o={class:"table"},z5o={class:"text-nowrap"},W5o={class:"table-border-bottom-0"},K5o={key:0},G5o={colspan:"12",class:"text-center"},Q5o={class:"text-center"},Z5o={key:1},J5o={colspan:"12",class:"text-center"},X5o={class:"text-center"},eDo={class:"text-primary"},tDo={class:"me-1"},oDo={class:"text-success"},aDo={class:"text-success"},nDo={class:"text-success"},sDo={class:"text-success"};function lDo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",j5o,[e("div",O5o,[e("div",M5o,[e("div",L5o,[e("label",N5o,n(o.$t("Loan/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Loan/OD Account","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_code_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.program_code_search]])]),e("div",F5o,[e("label",Y5o,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",V5o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.filter&&t.filter(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",B5o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...l)=>t.refresh&&t.refresh(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",U5o,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[7]||(a[7]=(...l)=>t.exportReport&&t.exportReport(...l)),class:"btn btn-primary mx-1"},[a[12]||(a[12]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]),e("button",{type:"button",onClick:a[8]||(a[8]=(...l)=>t.exportPdfReport&&t.exportPdfReport(...l)),class:"btn btn-primary"},[a[13]||(a[13]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",q5o,[e("table",H5o,[e("thead",null,[e("tr",z5o,[e("th",null,n(o.$t("Loan/OD Account")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Financing Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Limit Review Date")),1)])]),e("tbody",W5o,[t.programs.data?b("",!0):(u(),f("tr",K5o,[e("td",G5o,[e("span",Q5o,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Z5o,[e("td",J5o,[e("span",X5o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{key:l.id},[e("td",eDo,n(l.payment_account_number),1),e("td",null,[e("span",tDo,n(l.anchor_name),1)]),e("td",oDo,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",aDo,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",nDo,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",sDo,n(new Intl.NumberFormat().format(l.sanctioned_limit-l.utilized_amount-l.pipeline_amount)),1),e("td",null,n(l.limit_review_date?t.moment(l.limit_review_date).format("DD MMM YYYY"):"-"),1)]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const hD=Ue(T5o,[["render",lDo]]),iDo={name:"PaymentsReport",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(o,a){const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=h(null),d=()=>{A.get(s+"reports/payments-report",{params:{per_page:r.value}}).then(k=>{t.value=k.data.payments}).catch(k=>{console.log(k)})},p=async(k,I)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+"invoices/"+k+"/details").then(V=>{i.value=V.data,bt(()=>{document.getElementById(I).click()})}).catch(V=>{console.log(V)})};Qe(()=>{d()});const v=k=>{let I="";switch(k){case"created":I="bg-label-secondary";break;case"pending":I="bg-label-primary";break;case"submitted":I="bg-label-primary";break;case"approved":I="bg-label-secondary";break;case"disbursed":I="bg-label-success";break;case"denied":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},g=k=>{let I="";switch(k){case"pending":I="bg-label-primary";break;case"submitted":I="bg-label-primary";break;case"financed":I="bg-label-success";break;case"closed":I="bg-label-secondary";break;case"denied":I="bg-label-danger";break;default:I="bg-label-primary";break}return I},w=(k,I)=>(I/k*100).toFixed(2),y=()=>{A.get(s+"report/dealer-payments-report/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`Payments_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)})},x=()=>{A.get(s+"report/dealer-payments-report/pdf/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`Dealer_Payments_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)})};return ot([r],([k])=>{A.get(s+"reports/payments-report",{params:{per_page:k,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(I=>{t.value=I.data.payments}).catch(I=>{console.log(I)})}),{moment:H,payments:t,per_page:r,invoice_number_search:m,invoice_status_search:l,po_search:_,financing_status_search:c,resolveStatus:v,resolveFinancingStatus:g,getTaxPercentage:w,changePage:async k=>{await A.get(k,{params:{per_page:r.value,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(I=>{t.value=I.data.payments})},exportReport:y,exportPdfReport:x,filter:()=>{let k=$(".ti-search").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(s+"reports/payments-report",{params:{per_page:r.value,invoice_number:m.value,financing_status:c.value,po:_.value,invoice_status:l.value}}).then(I=>{report.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},refresh:()=>{let k=$(".ti-refresh").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",A.get(s+"reports/payments-report",{params:{per_page:r.value,type:type.value}}).then(I=>{report.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},invoice_details:i,showInvoice:p}}},rDo={class:"card p-2"},dDo={class:"d-flex justify-content-between"},cDo={class:"d-flex"},uDo={class:""},_Do={for:"Invoice No",class:"form-label"},mDo={class:"mx-1"},fDo={for:"PO No",class:"form-label"},hDo={class:"mx-1"},pDo={for:"Status",class:"form-label"},vDo={value:""},gDo={value:"approved"},bDo={value:"disbursed"},yDo={class:"mx-1"},kDo={for:"Financing Status",class:"form-label"},$Do={value:""},wDo={value:"financed"},DDo={value:"closed"},xDo={class:"mx-1 table-search-btn"},CDo={class:"mx-1 table-clear-btn"},PDo={class:"d-flex align-items-end"},EDo={class:"table-responsive"},ADo={class:"table"},IDo={class:""},RDo={class:"table-border-bottom-0"},SDo={key:0},TDo={colspan:"12",class:"text-center"},jDo={class:"text-center"},ODo={key:1},MDo={colspan:"12",class:"text-center"},LDo={class:"text-center"},NDo=["onClick"],FDo={class:"text-success"},YDo={class:"text-success"},VDo=["id","data-bs-target"],BDo=["id","data-bs-target"],UDo=["id","data-bs-target"],qDo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},HDo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},zDo={class:"modal-content"},WDo={class:"modal-body"},KDo={class:"d-flex justify-content-center"};function GDo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",rDo,[e("div",dDo,[e("div",cDo,[e("div",uDo,[e("label",_Do,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",mDo,[e("label",fDo,n(o.$t("PO No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PO No.","onUpdate:modelValue":a[2]||(a[2]=i=>t.po_search=i),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"]))},null,544),[[X,t.po_search]])]),e("div",hDo,[e("label",pDo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=i=>t.invoice_status_search=i)},[e("option",vDo,n(o.$t("Invoice Status")),1),e("option",gDo,n(o.$t("Approved")),1),e("option",bDo,n(o.$t("Disbursed")),1)],512),[[de,t.invoice_status_search]])]),e("div",yDo,[e("label",kDo,n(o.$t("Financing Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.financing_status_search=i)},[e("option",$Do,n(o.$t("Financing Status")),1),e("option",wDo,n(o.$t("Financed")),1),e("option",DDo,n(o.$t("Closed")),1)],512),[[de,t.financing_status_search]])]),e("div",xDo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...i)=>t.filter&&t.filter(...i))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",CDo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",PDo,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=i=>t.per_page=i)},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",onClick:a[9]||(a[9]=(...i)=>t.exportReport&&t.exportReport(...i)),class:"btn btn-primary mx-1"},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" Excel ")])),e("button",{type:"button",onClick:a[10]||(a[10]=(...i)=>t.exportPdfReport&&t.exportPdfReport(...i)),class:"btn btn-primary"},a[15]||(a[15]=[e("i",{class:"ti ti-download ti-xs px-1"},null,-1),le(" PDF ")]))])]),t.payments.meta?(u(),me(_,{key:0,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",EDo,[e("table",ADo,[e("thead",null,[e("tr",IDo,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Discount Value")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Invoice Status")),1),e("th",null,n(o.$t("Financing Status")),1),e("th",null,n(o.$t("Disbursement Date")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",RDo,[t.payments.data?b("",!0):(u(),f("tr",SDo,[e("td",TDo,[e("span",jDo,n(o.$t("Loading Data"))+"...",1)])])),t.payments.data&&t.payments.data.length<=0?(u(),f("tr",ODo,[e("td",MDo,[e("span",LDo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.payments.data,i=>(u(),f("tr",{key:i.id},[e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id)},n(i.invoice_number),9,NDo),e("td",null,n(i.anchor_name),1),e("td",FDo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",YDo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.discount)),1)]),e("td",null,n(t.moment(i.invoice_date).format("DD MMM YYYY")),1),e("td",null,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(i.invoice_status)])},n(i.invoice_status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(i.invoice_financing_status)])},n(i.invoice_financing_status),3)]),e("td",null,n(t.moment(i.disbursement_date).format("DD MMM YYYY")),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,VDo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,BDo),e("button",{class:"d-none",id:"show-purchase-order-btn-"+i.purchase_order_id,"data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id},null,8,UDo),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",qDo,[e("div",HDo,[e("div",zDo,[e("div",WDo,[e("div",KDo,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{key:1,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.payments.meta?(u(),me(_,{key:1,from:t.payments.meta.from,to:t.payments.meta.to,links:t.payments.meta.links,next_page:t.payments.links.next,prev_page:t.payments.links.prev,total_items:t.payments.meta.total,first_page_url:t.payments.links.first,last_page_url:t.payments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const pD=Ue(iDo,[["render",GDo]]),QDo={name:"FactoringReports",components:{AllInvoicesReport:fD,ProgramReport:hD,PaymentsReport:pD},setup(){Je("baseURL");const o=h(null),a=h(null),s=h(null);return Qe(()=>{o.value.getReport()}),{invoices_report:o,programs_report:a,payments_report:s,switchTabs:c=>{switch(c){case"invoices_report":o.value.getReport();break;case"programs_report":a.value.getPrograms();break;case"payments_report":s.value.getRequests();break}}}}},ZDo={class:"nav-align-top nav-tabs-shadow mb-4"},JDo={class:"nav nav-tabs",role:"tablist"},XDo={class:"nav-item"},e3o={class:"nav-item"},t3o={class:"nav-item"},o3o={class:"tab-content"},a3o={class:"tab-pane fade show active",id:"navs-all-invoices-report",role:"tabpanel"},n3o={class:"tab-pane fade",id:"navs-program-report",role:"tabpanel"},s3o={class:"tab-pane fade",id:"navs-maturing-invoices-report",role:"tabpanel"};function l3o(o,a,s,t,c,m){const _=ce("all-invoices-report"),l=ce("program-report"),r=ce("payments-report");return u(),f("div",ZDo,[e("ul",JDo,[e("li",XDo,[e("button",{type:"button",class:"nav-link active font-weight-bolder text-uppercase",role:"tab",onClick:a[0]||(a[0]=i=>t.switchTabs("invoices_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices-report","aria-controls":"navs-all-invoices-report","aria-selected":"false"},n(o.$t("All Invoices Report")),1)]),e("li",e3o,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[1]||(a[1]=i=>t.switchTabs("programs_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-program-report","aria-controls":"navs-program-report","aria-selected":"false"},n(o.$t("Program Report")),1)]),e("li",t3o,[e("button",{type:"button",class:"nav-link text-sm font-weight-bolder text-uppercase",role:"tab",onClick:a[2]||(a[2]=i=>t.switchTabs("payments_report")),"data-bs-toggle":"tab","data-bs-target":"#navs-maturing-invoices-report","aria-controls":"navs-maturing-invoices-report","aria-selected":"false"},n(o.$t("Payments Report")),1)])]),e("div",o3o,[e("div",a3o,[Be(_,{ref:"invoices_report"},null,512)]),e("div",n3o,[Be(l,{ref:"programs_report"},null,512)]),e("div",s3o,[Be(r,{ref:"payments_report"},null,512)])])])}const i3o=Ue(QDo,[["render",l3o]]),r3o={name:"OdRepayments",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h(50),t=()=>{A.get(o+"accounts/od-repayments/data",{params:{per_page:s.value}}).then(m=>{a.value=m.data.data}).catch(m=>{console.log(m)})};return Qe(()=>{t()}),{moment:H,repayments:a,per_page:s,changePage:async m=>{await A.get(m,{params:{per_page:s.value}}).then(_=>{a.value=_.data.data})}}}},d3o={class:"card p-2"},c3o={class:"d-flex justify-content-between"},u3o={class:"d-flex justify-content-end"},_3o={class:"table-responsive"},m3o={class:"table"},f3o={class:""},h3o={class:"table-border-bottom-0"},p3o={key:0},v3o={colspan:"12",class:"text-center"},g3o={class:"text-center"},b3o={key:1},y3o={colspan:"12",class:"text-center"},k3o={class:"text-center"},$3o={class:""},w3o={class:"text-success"};function D3o(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",d3o,[e("div",c3o,[a[2]||(a[2]=ga('<div class="d-flex"><div class=""><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="OD Account" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Initiated By" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Approved By" aria-describedby="defaultFormControlHelp"></div><div class="mx-1"><input class="form-control form-search" type="date" value="2021-06-18" id="html5-date-input"></div></div>',1)),e("div",u3o,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[1]||(a[1]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.repayments.meta?(u(),me(_,{key:0,from:t.repayments.meta.from,to:t.repayments.meta.to,links:t.repayments.meta.links,next_page:t.repayments.links.next,prev_page:t.repayments.links.prev,total_items:t.repayments.meta.total,first_page_url:t.repayments.links.first,last_page_url:t.repayments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",_3o,[e("table",m3o,[e("thead",null,[e("tr",f3o,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Credit Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Initiated By")),1)])]),e("tbody",h3o,[t.repayments.data?b("",!0):(u(),f("tr",p3o,[e("td",v3o,[e("span",g3o,n(o.$t("Loading Data"))+"...",1)])])),t.repayments.data&&t.repayments.data.length<=0?(u(),f("tr",b3o,[e("td",y3o,[e("span",k3o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.repayments.data,l=>(u(),f("tr",{key:l.id},[e("td",$3o,n(l.payment_account_number),1),e("td",null,n(t.moment(l.updated_at).format("DD MMM YYYY")),1),e("td",w3o,n(new Intl.NumberFormat().format(l.invoice_total_amount)),1),a[3]||(a[3]=e("td",null,"CBS",-1))]))),128))])])]),t.repayments.meta?(u(),me(_,{key:1,from:t.repayments.meta.from,to:t.repayments.meta.to,links:t.repayments.meta.links,next_page:t.repayments.links.next,prev_page:t.repayments.links.prev,total_items:t.repayments.meta.total,first_page_url:t.repayments.links.first,last_page_url:t.repayments.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const x3o=Ue(r3o,[["render",D3o]]),C3o={name:"OdDetails",components:{Pagination:za},setup(){const o=lt(),a=Je("baseURL"),s=h([]),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(0),w=h(0),y=h(""),x=h(50),C=()=>{A.get(a+"accounts/od-details/data",{params:{per_page:x.value}}).then(T=>{s.value=T.data.invoices,t.value=T.data.currencies}).catch(T=>{console.log(T)})};Qe(()=>{C()});const E=async T=>{await A.get(T).then(P=>{s.value=P.data.invoices})},D=()=>{A.post(a+"accounts/od-details/credit-account",{credit_to_account:m.value,debit_from_account:c.value,program_id:_.value,amount:String(p.value).replaceAll(",",""),particulars:r.value,currency:i.value,credit_date:d.value,vendor_configuration_id:l.value}).then(()=>{o.success("Request to credit account sent successfully."),C(),document.getElementById("credit-account-request-close-modal-"+_.value).click(),m.value="",c.value="",_.value="",p.value="",r.value="",i.value="",d.value="",y.value=""}).catch(T=>{o.error(T.response.data.message)})},k=T=>{m.value=T.payment_account_number,_.value=T.program_id,l.value=T.id};ot(p,T=>{y.value=F(T.replaceAll(",",""))});var I=["","Thousand","Million","Billion","Trillion"],V=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],B=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],L=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];function F(T){if(T=T.toString(),T=T.replace(/[\, ]/g,""),T!=parseFloat(T))return"Not a Number";var P=T.indexOf(".");if(P==-1&&(P=T.length),P>15)return"Too Big";for(var R=T.split(""),O="",N=0,S=0;S<P;S++)(P-S)%3==2?R[S]=="1"?(O+=B[Number(R[S+1])]+" ",S++,N=1):R[S]!=0&&(O+=L[R[S]-2]+" ",N=1):R[S]!=0&&(O+=V[R[S]]+" ",(P-S)%3==0&&(O+="Hundred "),N=1),(P-S)%3==1&&(N&&(O+=I[(P-S-1)/3]+" "),N=0);if(P!=T.length){var U=T.length;O+="point ";for(var S=P+1;S<U;S++)O+=V[R[S]]+" "}return O.replace(/\s+/g," ")}return{moment:H,od_accounts:s,currencies:t,per_page:x,debit_from:c,credit_to:m,particulars:r,currency:i,credit_date:d,amount:p,amount_in_words:y,initiate_cbs:v,total_outstanding:g,total_balance:w,selectOdAccount:k,creditAccount:D,changePage:E}}},P3o={class:"card p-2"},E3o={class:"d-flex justify-content-between"},A3o={class:"d-flex justify-content-end"},I3o={class:"table-responsive"},R3o={class:"table"},S3o={class:""},T3o={class:"table-border-bottom-0"},j3o={key:0},O3o={colspan:"12",class:"text-center"},M3o={class:"text-center"},L3o={key:1},N3o={colspan:"12",class:"text-center"},F3o={class:"text-center"},Y3o={class:"m_title"},V3o={class:"text-success"},B3o={class:"text-success"},U3o={class:"text-success"},q3o={class:"text-success"},H3o={class:"text-success"},z3o={class:"d-flex"},W3o=["href"],K3o=["onClick","data-bs-target","title"],G3o=["id"],Q3o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Z3o={class:"modal-header"},J3o={class:"modal-title",id:"modalTopTitle"},X3o=["id"],exo={class:"modal-body"},txo={class:"row mb-1"},oxo={class:"form-group"},axo={for:"",class:"form-label"},nxo={class:"form-group"},sxo={for:"",class:"form-label"},lxo={value:""},ixo=["value"],rxo={class:"form-group my-2"},dxo={class:"form-group"},cxo={for:"Status",class:"form-label"},uxo={value:""},_xo=["value"],mxo={class:"form-group"},fxo={for:"Amount",class:"form-label"},hxo={class:"form-group"},pxo={for:"nameWithTitle",class:"form-label"},vxo={class:""},gxo={class:"form-group"},bxo={for:"",class:"form-label"},yxo={class:"form-group"},kxo={for:"Particulars",class:"form-label"},$xo={class:"modal-footer"},wxo={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Dxo={type:"submit",class:"btn btn-primary"};function xxo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",P3o,[e("div",E3o,[a[9]||(a[9]=e("div",{class:"d-flex"},null,-1)),e("div",A3o,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),t.od_accounts.meta?(u(),me(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",I3o,[e("table",R3o,[e("thead",null,[e("tr",S3o,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",T3o,[t.od_accounts.data?b("",!0):(u(),f("tr",j3o,[e("td",O3o,[e("span",M3o,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",L3o,[e("td",N3o,[e("span",F3o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,n(l.anchor_name),1),e("td",Y3o,n(l.status),1),e("td",V3o,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",B3o,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",U3o,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",q3o,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",H3o,n(l.overdue_days),1),e("td",z3o,[e("a",{href:"od-accounts/"+l.id+"/od-details"},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,W3o),e("i",{class:"ti ti-circle-plus ti-sm text-danger mx-1",onClick:r=>t.selectOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#credit-od-account-"+l.id,style:{cursor:"pointer"},title:o.$t("Credit to OD Account")},null,8,K3o)]),e("td",null,[e("div",{class:"modal fade",id:"credit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Q3o,[e("form",{class:"modal-content",method:"POST",onSubmit:a[7]||(a[7]=st(r=>t.creditAccount(),["prevent"]))},[e("div",Z3o,[e("h5",J3o,n(o.$t("Add Funds to OD Account")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"credit-account-request-close-modal-"+l.program_id,"aria-label":"Close"},null,8,X3o)]),e("div",exo,[e("div",txo,[e("div",oxo,[e("label",axo,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.credit_to=r),readonly:""},null,512),[[X,t.credit_to]])]),e("div",nxo,[e("label",sxo,n(o.$t("Debit From")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[2]||(a[2]=r=>t.debit_from=r)},[e("option",lxo,n(o.$t("Select")),1),(u(!0),f(G,null,ee(l.vendor_bank_details,r=>(u(),f("option",{key:r.id,value:r.account_number},n(r.account_number),9,ixo))),128))],512),[[de,t.debit_from]])]),e("div",rxo,[e("div",dxo,[e("label",cxo,n(o.$t("Currency")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[3]||(a[3]=r=>t.currency=r)},[e("option",uxo,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.currencies,r=>(u(),f("option",{key:r.id,value:r.code},n(r.code)+" ("+n(r.name)+") ",9,_xo))),128))],512),[[de,t.currency]])])]),e("div",mxo,[e("label",fxo,n(o.$t("Amount")),1),Y(e("input",{type:"text",min:"1",class:"form-control",step:".01",autocomplete:"off",id:"payment-amount","onUpdate:modelValue":a[4]||(a[4]=r=>t.amount=r)},null,512),[[X,t.amount]])]),e("div",hxo,[e("label",pxo,n(o.$t("Amount in Words")),1),e("h6",vxo,n(t.amount_in_words),1)]),e("div",gxo,[e("label",bxo,n(o.$t("Credit Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[5]||(a[5]=r=>t.credit_date=r)},null,512),[[X,t.credit_date]])]),e("div",yxo,[e("label",kxo,n(o.$t("Particulars")),1),Y(e("input",{type:"text",min:"1",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.particulars=r)},null,512),[[X,t.particulars]])])])]),e("div",$xo,[e("button",wxo,n(o.$t("Close")),1),e("button",Dxo,n(o.$t("Submit")),1)])],32)])],8,G3o)])]))),128))])])]),t.od_accounts.meta?(u(),me(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Cxo=Ue(C3o,[["render",xxo]]),Pxo={name:"BankAccounts",setup(o,a){const s=h([]),t=()=>{A.get("../settings/bank-accounts").then(c=>{s.value=c.data}).catch(c=>{console.log(c)})};return a.expose({getBankAccounts:t}),{bank_accounts:s}}},Exo={class:"table"},Axo={class:"table-border-bottom-0"},Ixo={class:""},Rxo=["value"],Sxo={class:""},Txo=["value"],jxo={class:""},Oxo=["value"],Mxo={class:""},Lxo=["value"],Nxo={class:""},Fxo=["value"],Yxo={class:""},Vxo=["value"];function Bxo(o,a,s,t,c,m){return u(),f("div",null,[a[1]||(a[1]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Bank A/C Details")],-1)),e("table",Exo,[e("tbody",Axo,[(u(!0),f(G,null,ee(t.bank_accounts,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",Ixo,[e("input",{type:"text",class:"form-control",value:_.name_as_per_bank,readonly:""},null,8,Rxo)])]),e("td",null,[e("div",Sxo,[e("input",{type:"text",class:"form-control",value:_.account_number,readonly:""},null,8,Txo)])]),e("td",null,[e("div",jxo,[e("input",{type:"text",class:"form-control",value:_.bank_name,readonly:""},null,8,Oxo)])]),e("td",null,[e("div",Mxo,[e("input",{type:"text",class:"form-control",value:_.branch,readonly:""},null,8,Lxo)])]),e("td",null,[e("div",Nxo,[e("input",{type:"text",class:"form-control",value:_.swift_code,readonly:""},null,8,Fxo)])]),e("td",null,[e("div",Yxo,[e("input",{type:"text",class:"form-control",value:_.account_type,readonly:""},null,8,Vxo)])]),a[0]||(a[0]=e("td",null,[e("div",{class:""},[e("input",{type:"text",class:"form-control",placeholder:"Currency",readonly:""})])],-1))]))),128))])])])}const Uxo=Ue(Pxo,[["render",Bxo]]),qxo={name:"InvoiceSettings",components:{QuillEditor:ls},props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(!1),p=h(null),v=h(!1),g=h(!1),w=h(!1),y=()=>{A.get("../settings/invoice-settings").then(k=>{c.value=k.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.auto_request_financing,d.value=c.value.purchase_order_acceptance=="manual",_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(v.value=k.data.can_approve&&k.data.user_id!=c.value.proposed_update.user_id)}).catch(k=>{console.log(k)})};a.expose({getInvoiceSettings:y});const x=()=>{const k=new FormData;k.append("maker_checker_creating_updating",r.value),k.append("auto_request_financing",i.value),k.append("purchase_order_acceptance",d.value),k.append("company_logo",l.value),k.append("description",_.value),k.append("footer",m.value),A.post("../settings/invoice-settings/update",k).then(I=>{y(),l.value=null,t.success(I.data.message)}).catch(I=>{console.log(I),t.error("An error occurred while updating invoice settings")})},C=k=>{k.preventDefault();let I=k.target.files||k.dataTransfer.files;I.length&&(l.value=I[0])},E=()=>{_.value=p.value.getHTML().toString()},D=k=>{A.get("../settings/invoice-settings/status/"+k+"/update").then(I=>{y(),l.value=null,t.success(I.data.message),document.getElementById("close-modal").click()}).catch(I=>{console.log(I),t.error("An error occurred while updating PO settings")})};return watch([r,i,d,l,_,m],([k,I,V,B,L,F])=>{k!=c.value.maker_checker_creating_updating||I!=c.value.auto_request_financing?g.value=!0:g.value=!1,(c.value.purchase_order_acceptance=="manual"&&!V||c.value.purchase_order_acceptance=="auto"&&V)&&(g.value=!0),F!=c.value.footer||L!=c.value.description||B?w.value=!0:w.value=!1}),{can_edit:s,can_approve:v,editor:p,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,auto_request_financing:i,purchase_order_acceptance:d,updateStatus:D,changeFile:C,changeDescription:E,updateInvoiceSettings:x,can_submit_lower:w,can_submit_upper:g}}},Hxo={class:"d-flex justify-content-between p-1"},zxo={key:0,class:"my-auto px-2"},Wxo={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},Kxo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Gxo={class:"modal-content"},Qxo={class:"modal-body"},Zxo={key:0},Jxo={key:0},Xxo={key:1},eCo={key:1},tCo={key:0},oCo={key:1},aCo={key:2},nCo=["href"],sCo={key:3},lCo=["innerHTML"],iCo={key:4},rCo={class:"modal-footer"},dCo={class:"row px-2 mb-2"},cCo={class:"col-md-4"},uCo={class:"row border rounded border-primary mx-2 py-2"},_Co={class:"col-md-3 mt-2"},mCo={class:"form-check form-switch"},fCo=["checked"],hCo={class:"col-md-4"},pCo={class:"row border rounded border-primary mx-2 py-2"},vCo={class:"col-md-3 mt-2"},gCo={class:"form-check form-switch"},bCo=["checked"],yCo={class:"col-md-4"},kCo={class:"row border rounded border-primary mx-2 py-2"},$Co={class:"col-md-3 mt-2"},wCo={class:"form-check form-switch"},DCo=["checked"],xCo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},CCo={class:"row px-3 mb-2"},PCo={class:"col-md-6"},ECo={class:"row px-3 mb-2"},ACo={class:"col-md-6 mb-4"},ICo={class:"row px-3 mb-2 mt-4"},RCo={class:"col-md-6"},SCo={class:"d-flex my-2 mx-3 d-flex justify-content-end"},TCo={key:0,class:"btn btn-primary",type:"submit"};function jCo(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",Hxo,[a[18]||(a[18]=e("h5",{class:"fw-bold py-3"},[e("span",{class:"fw-light px-3"},"Maker / Checker")],-1)),t.can_approve&&t.invoice_settings.proposed_update?(u(),f("div",zxo,[a[17]||(a[17]=e("button",{class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"}," View Proposed Changes ",-1)),e("div",Wxo,[e("div",Kxo,[e("div",Gxo,[a[16]||(a[16]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalCenterTitle"},"Confirm Changes"),e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Qxo,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",Zxo,[a[9]||(a[9]=le(" Change Maker/Checker for Invoice Creating Updating from ")),t.maker_checker?(u(),f("span",Jxo,"Yes to No")):(u(),f("span",Xxo,"No to Yes"))])):b("",!0),i=="auto_request_financing"?(u(),f("div",eCo,[a[10]||(a[10]=le(" Change Auto Request Financing from ")),t.auto_request_financing?(u(),f("span",tCo,"Yes to No")):(u(),f("span",oCo,"No to Yes"))])):b("",!0),i=="logo"?(u(),f("div",aCo,[a[11]||(a[11]=e("span",null,"Change Logo to ",-1)),e("a",{href:"../storage/invoices/logo/"+r,target:"_blank",class:"text-primary text-underline"},"View File",8,nCo)])):b("",!0),i=="description"?(u(),f("div",sCo,[a[12]||(a[12]=le(" Change Description To: ")),a[13]||(a[13]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,lCo)])):b("",!0),i=="footer"?(u(),f("div",iCo,[a[14]||(a[14]=le(" Change Footer To: ")),a[15]||(a[15]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),e("div",rCo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},"Reject"),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},"Approve")])])])])])):b("",!0)]),e("form",{onSubmit:a[5]||(a[5]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",dCo,[e("div",cCo,[e("div",uCo,[a[21]||(a[21]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Invoice Creation / Updation"),e("small",null,"Request checker approval for creating and updating invoices")],-1)),e("div",_Co,[e("div",mCo,[a[19]||(a[19]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,fCo),[[Yo,t.maker_checker]]),a[20]||(a[20]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])]),e("div",hCo,[e("div",pCo,[a[24]||(a[24]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Auto Request Financing"),e("small",null,"Automatically request financing for approved invoices")],-1)),e("div",vCo,[e("div",gCo,[a[22]||(a[22]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.auto_request_financing,"onUpdate:modelValue":a[3]||(a[3]=l=>t.auto_request_financing=l)},null,8,bCo),[[Yo,t.auto_request_financing]]),a[23]||(a[23]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])]),e("div",yCo,[e("div",kCo,[a[27]||(a[27]=e("div",{class:"col-md-9 d-flex flex-column"},[e("label",{class:"col-form-label"},"Purchase Order Acceptance"),e("small",null,"Automatically accept POs uploaded by buyers")],-1)),e("div",$Co,[e("div",wCo,[a[25]||(a[25]=e("label",{class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"-85px"}},"Auto",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.purchase_order_acceptance,"onUpdate:modelValue":a[4]||(a[4]=l=>t.purchase_order_acceptance=l)},null,8,DCo),[[Yo,t.purchase_order_acceptance]]),a[26]||(a[26]=e("label",{class:"form-check-label",for:"flexSwitchCheckChecked",style:{"margin-left":"51px"}},"Manual",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",xCo,a[28]||(a[28]=[e("button",{class:"btn btn-primary",type:"submit"},"Submit",-1)]))):b("",!0)],32),a[32]||(a[32]=e("hr",null,null,-1)),a[33]||(a[33]=e("h5",{class:"fw-bold py-3 mb-2"},[e("span",{class:"fw-light px-3"},"Invoice Settings")],-1)),e("form",{onSubmit:a[8]||(a[8]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",CCo,[a[29]||(a[29]=e("div",{class:"col-md-6 border-bottom d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Company Logo"),e("small",null,"Recommended size 160 x 80 pixels, image format PNG/JPG")],-1)),e("div",PCo,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[6]||(a[6]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",ECo,[a[30]||(a[30]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"",class:"col-form-label"},"Invoice Description"),e("small",null,"Will be shown in invoice as description")],-1)),e("div",ACo,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",ICo,[a[31]||(a[31]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Invoice Footer"),e("small",null,"Will be shown in invoice footer")],-1)),e("div",RCo,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[7]||(a[7]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),e("div",SCo,[t.can_submit_lower&&t.can_edit==1?(u(),f("button",TCo,"Submit")):b("",!0)])],32)])}const OCo=Ue(qxo,[["render",jCo],["__scopeId","data-v-6521e7c6"]]),MCo={name:"PurchaseOrderSettings",props:["can_edit"],components:{QuillEditor:ls},setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(null),r=h(!1),i=h(!1),d=h(!1),p=h(null),v=h(!1),g=h(!1),w=h(!1),y=()=>{A.get("../settings/purchase-order-settings").then(k=>{c.value=k.data.settings,r.value=c.value.maker_checker_creating_updating,i.value=c.value.request_finance_add_repayment,d.value=c.value.auto_request_financing,_.value=c.value.description,m.value=c.value.footer,c.value.proposed_update&&(v.value=k.data.can_approve&&k.data.user_id!=c.value.proposed_update.user_id)}).catch(k=>{console.log(k)})};a.expose({getPurchaseOrderSettings:y});const x=()=>{const k=new FormData;k.append("maker_checker_creating_updating",r.value),k.append("auto_request_financing",d.value),k.append("request_finance_add_repayment",i.value),k.append("company_logo",l.value),k.append("description",_.value),k.append("footer",m.value),A.post("../settings/purchase-order-settings/update",k).then(I=>{y(),l.value=null,t.success(I.data.message)}).catch(I=>{console.log(I),t.error("An error occurred while updating PO settings")})},C=k=>{k.preventDefault();let I=k.target.files||k.dataTransfer.files;I.length&&(l.value=I[0])},E=()=>{_.value=p.value.getHTML().toString()},D=k=>{A.get("../settings/purchase-order-settings/status/"+k+"/update").then(I=>{y(),l.value=null,t.success(I.data.message),document.getElementById("close-modal").click()}).catch(I=>{console.log(I),t.error("An error occurred while updating PO settings")})};return ot([r,i,l,_,m],([k,I,V,B,L])=>{k!=c.value.maker_checker_creating_updating||I!=c.value.request_finance_add_repayment?g.value=!0:g.value=!1,L!=c.value.footer||B!=c.value.description||V?w.value=!0:w.value=!1}),{can_edit:s,editor:p,invoice_settings:c,invoice_content:_,invoice_logo:l,invoice_footer:m,maker_checker:r,request_finance_add_repayment:i,auto_request_financing:d,can_approve:v,updateStatus:D,changeFile:C,changeDescription:E,updateInvoiceSettings:x,can_submit_lower:w,can_submit_upper:g}}},LCo={class:"d-flex justify-content-between p-1"},NCo={key:0,class:"my-auto px-2"},FCo={class:"btn btn-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#changes-approval"},YCo={class:"modal fade",id:"changes-approval",tabindex:"-1","aria-hidden":"true"},VCo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},BCo={class:"modal-content"},UCo={class:"modal-header"},qCo={class:"modal-title",id:"modalCenterTitle"},HCo={class:"modal-body"},zCo={key:0},WCo={key:0},KCo={key:1},GCo={key:1},QCo={key:0},ZCo={key:1},JCo={key:2},XCo={key:0},ePo={key:1},tPo={key:3},oPo=["href"],aPo={key:4},nPo=["innerHTML"],sPo={key:5},lPo={key:0,class:"modal-footer"},iPo={class:"row px-2 mb-2"},rPo={class:"col-md-4"},dPo={class:"row border rounded border-primary mx-2 py-2"},cPo={class:"col-md-9 d-flex flex-column"},uPo={class:"col-form-label"},_Po={class:"col-md-3 mt-2"},mPo={class:"form-check form-switch"},fPo={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},hPo=["checked"],pPo={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},vPo={class:"col-md-4"},gPo={class:"row border rounded border-primary mx-2 py-2"},bPo={class:"col-md-9 d-flex flex-column"},yPo={class:"col-form-label"},kPo={class:"col-md-3 mt-2"},$Po={class:"form-check form-switch"},wPo=["checked"],DPo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"},xPo={class:"btn btn-primary",type:"submit"},CPo={class:"fw-bold py-3 mb-2"},PPo={class:"fw-light px-3"},EPo={class:"row px-3 mb-2"},APo={class:"col-md-6"},IPo={class:"row px-3 mb-2"},RPo={class:"col-md-6 mb-4"},SPo={class:"row px-3 mb-2 mt-4"},TPo={class:"col-md-6"},jPo={key:0,class:"d-flex my-2 mx-3 d-flex justify-content-end"};function OPo(o,a,s,t,c,m){const _=ce("QuillEditor");return u(),f("div",null,[e("div",LCo,[a[11]||(a[11]=e("h5",{class:"fw-bold py-3"},[e("span",{class:"fw-light px-3"},"Maker / Checker")],-1)),t.invoice_settings.proposed_update?(u(),f("div",NCo,[e("button",FCo,n(o.$t("View Proposed Changes")),1),e("div",YCo,[e("div",VCo,[e("div",BCo,[e("div",UCo,[e("h5",qCo,n(o.$t("Confirm Changes")),1),a[8]||(a[8]=e("button",{type:"button",id:"close-modal",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",HCo,[(u(!0),f(G,null,ee(t.invoice_settings.proposed_update.changes,l=>(u(),f("div",{key:l},[(u(!0),f(G,null,ee(l,(r,i)=>(u(),f("div",{key:r},[i=="maker_checker_creating_updating"?(u(),f("div",zCo,[le(n(o.$t("Change Maker/Checker for PO Creating Updating from"))+" ",1),t.maker_checker?(u(),f("span",WCo,n(o.$t("Yes to No")),1)):(u(),f("span",KCo,n(o.$t("No to Yes")),1))])):b("",!0),i=="auto_request_financing"?(u(),f("div",GCo,[le(n(o.$t("Change Auto Request Financing from"))+" ",1),t.auto_request_financing?(u(),f("span",QCo,n(o.$t("Yes to No")),1)):(u(),f("span",ZCo,n(o.$t("No to Yes")),1))])):b("",!0),i=="request_finance_add_repayment"?(u(),f("div",JCo,[le(n(o.$t("Change Maker/Checker for Requesting Financing and Repayment from"))+" ",1),t.request_finance_add_repayment?(u(),f("span",XCo,n(o.$t("Yes to No")),1)):(u(),f("span",ePo,n(o.$t("No to Yes")),1))])):b("",!0),i=="logo"?(u(),f("div",tPo,[e("span",null,n(o.$t("Change Logo to")),1),e("a",{href:"../../storage/purchase-orders/logo/"+r,target:"_blank",class:"text-primary text-underline"},n(o.$t("View File")),9,oPo)])):b("",!0),i=="description"?(u(),f("div",aPo,[le(n(o.$t("Change Description To"))+": ",1),a[9]||(a[9]=e("br",null,null,-1)),e("span",{innerHTML:r},null,8,nPo)])):b("",!0),i=="footer"?(u(),f("div",sPo,[le(n(o.$t("Change Footer To"))+": ",1),a[10]||(a[10]=e("br",null,null,-1)),le(" "+n(r),1)])):b("",!0)]))),128))]))),128))]),t.can_approve?(u(),f("div",lPo,[e("button",{class:"btn btn-danger btn-sm",onClick:a[0]||(a[0]=l=>t.updateStatus("reject"))},n(o.$t("Reject")),1),e("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=l=>t.updateStatus("approve"))},n(o.$t("Approve")),1)])):b("",!0)])])])])):b("",!0)]),e("form",{onSubmit:a[4]||(a[4]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",iPo,[e("div",rPo,[e("div",dPo,[e("div",cPo,[e("label",uPo,n(o.$t("Purchase Orders Creation / Updation")),1),e("small",null,n(o.$t("Request checker approval for creating and updating POs")),1)]),e("div",_Po,[e("div",mPo,[e("label",fPo,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.maker_checker,"onUpdate:modelValue":a[2]||(a[2]=l=>t.maker_checker=l)},null,8,hPo),[[Yo,t.maker_checker]]),e("label",pPo,n(o.$t("Yes")),1)])])])]),e("div",vPo,[e("div",gPo,[e("div",bPo,[e("label",yPo,n(o.$t("Request Financing")),1),e("small",null,n(o.$t("If selected Yes, the financing request and repayment will go to Checker for authorization")),1)]),e("div",kPo,[e("div",$Po,[a[12]||(a[12]=e("label",{class:"form-check-label no-label",for:"flexSwitchCheckChecked"},"No",-1)),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:t.request_finance_add_repayment,"onUpdate:modelValue":a[3]||(a[3]=l=>t.request_finance_add_repayment=l)},null,8,wPo),[[Yo,t.request_finance_add_repayment]]),a[13]||(a[13]=e("label",{class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},"Yes",-1))])])])])]),t.can_submit_upper&&t.can_edit==1?(u(),f("div",DPo,[e("button",xPo,n(o.$t("Submit")),1)])):b("",!0)],32),a[18]||(a[18]=e("hr",null,null,-1)),e("h5",CPo,[e("span",PPo,n(o.$t("Purchase Order Settings")),1)]),e("form",{onSubmit:a[7]||(a[7]=st((...l)=>t.updateInvoiceSettings&&t.updateInvoiceSettings(...l),["prevent"])),method:"post"},[e("div",EPo,[a[14]||(a[14]=e("div",{class:"col-md-6 border-bottom d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"Company Logo"),e("small",null,"Recommended size 160 x 80 pixels, image format PNG/JPG")],-1)),e("div",APo,[e("input",{class:"form-control",type:"file",id:"formFile",accept:".png,.jpg",onChange:a[5]||(a[5]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",IPo,[a[15]||(a[15]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"",class:"col-form-label"},"PO Description"),e("small",null,"Will be shown in PO as description")],-1)),e("div",RPo,[Be(_,{theme:"snow",ref:"editor",onBlur:t.changeDescription},null,8,["onBlur"])])]),e("div",SPo,[a[16]||(a[16]=e("div",{class:"col-md-6 d-flex flex-column"},[e("label",{for:"html5-text-input",class:"col-form-label"},"PO Footer"),e("small",null,"Will be shown in PO footer")],-1)),e("div",TPo,[Y(e("input",{class:"form-control",type:"text",placeholder:"PO Footer",id:"html5-text-input","onUpdate:modelValue":a[6]||(a[6]=l=>t.invoice_footer=l)},null,512),[[X,t.invoice_footer]])])]),t.can_submit_lower&&t.can_edit==1?(u(),f("div",jPo,a[17]||(a[17]=[e("button",{class:"btn btn-primary",type:"submit"},"Submit",-1)]))):b("",!0)],32)])}const MPo=Ue(MCo,[["render",OPo],["__scopeId","data-v-e34000c0"]]),LPo={name:"TaxDetails",props:["can_edit"],setup(o,a){const s=o.can_edit,t=lt(),c=h([]),m=h(""),_=h(""),l=h(""),r=()=>{A.get("../settings/taxes").then(p=>{c.value=p.data})};return a.expose({getTaxes:r}),{can_edit:s,taxes:c,tax_name:m,tax_number:_,tax_value:l,addTax:()=>{A.post("settings/taxes",{tax_name:m.value,tax_number:_.value,tax_value:l.value}).then(()=>{r(),t.success("Tax added successfully"),m.value="",_.value="",l.value=""}).catch(p=>{console.log(p),t.error("An error occurred while adding")})},deleteTax:p=>{A.delete(`../settings/taxes/${p}`).then(()=>{r(),t.success("Tax deleted successfully")}).catch(v=>{console.log(v),t.error("An error occurred while deleting")})}}}},NPo={class:"py-3"},FPo={class:"table"},YPo={class:"table-border-bottom-0"},VPo={class:""},BPo=["value"],UPo={class:""},qPo=["value"],HPo={class:""},zPo=["value"],WPo={key:0},KPo=["onClick"],GPo={class:"table"},QPo={class:"table-border-bottom-0"},ZPo={class:"text-nowrap"},JPo={class:""},XPo={class:""},e4o={class:""},t4o={key:0,class:"d-flex px-3"};function o4o(o,a,s,t,c,m){return u(),f("div",NPo,[e("table",FPo,[e("tbody",YPo,[(u(!0),f(G,null,ee(t.taxes,_=>(u(),f("tr",{class:"text-nowrap",key:_.id},[e("td",null,[e("div",VPo,[e("input",{type:"text",class:"form-control",value:_.tax_name,readonly:""},null,8,BPo)])]),e("td",null,[e("div",UPo,[e("input",{type:"text",class:"form-control",value:_.tax_number,readonly:""},null,8,qPo)])]),e("td",null,[e("div",HPo,[e("input",{type:"text",class:"form-control",value:_.tax_value,readonly:""},null,8,zPo)])]),e("td",null,[t.can_edit?(u(),f("div",WPo,[e("i",{class:"tf-icons ti ti-trash ti-xs me-1 text-danger",onClick:l=>t.deleteTax(_.id),style:{cursor:"pointer"}},null,8,KPo)])):b("",!0)])]))),128))])]),a[5]||(a[5]=e("hr",null,null,-1)),e("form",{onSubmit:a[3]||(a[3]=st((..._)=>t.addTax&&t.addTax(..._),["prevent"])),method:"post"},[e("table",GPo,[e("tbody",QPo,[e("tr",ZPo,[e("td",null,[e("div",JPo,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.tax_name=_),placeholder:"Tax Name"},null,512),[[X,t.tax_name]])])]),e("td",null,[e("div",XPo,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.tax_number=_),placeholder:"Tax Number"},null,512),[[X,t.tax_number]])])]),e("td",null,[e("div",e4o,[Y(e("input",{type:"number",step:".01",min:"0",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=_=>t.tax_value=_),placeholder:"Tax Value"},null,512),[[X,t.tax_value]])])])])])]),t.can_edit?(u(),f("div",t4o,a[4]||(a[4]=[e("button",{class:"btn btn-primary",type:"submit"},"Add",-1)]))):b("",!0)],32)])}const a4o=Ue(LPo,[["render",o4o]]),n4o={name:"Settings",props:["can_edit","can_view","has_proposed_updates"],components:{BankAccounts:Uxo,PurchaseOrderSettings:MPo,InvoiceSettings:OCo,TaxDetails:a4o},setup(o){const a=o.can_edit,s=o.can_view,t=o.has_proposed_updates,c=h(null),m=h(null),_=h(null),l=h(null);return Qe(()=>{c.value.getBankAccounts()}),{can_view:s,can_edit:a,bank_accounts:c,purchase_order_settings:m,invoice_settings:_,tax_details:l,has_proposed_updates:t,switchTabs:i=>{switch(i){case"bank-accounts":c.value.getBankAccounts();break;case"purchase-order-settings":m.value.getPurchaseOrderSettings();break;case"invoice-settings":_.value.getInvoiceSettings();break;case"tax-details":l.value.getTaxes();break}}}}},s4o={class:"nav-align-top mb-4"},l4o={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},i4o={class:"nav-item"},r4o={key:0,class:"nav-item"},d4o={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Changes awating approval"},c4o={class:"tab-content"},u4o={class:"tab-pane fade show active",id:"navs-pills-bank-details",role:"tabpanel"},_4o={key:0,class:"tab-pane fade",id:"navs-pills-maker-checker",role:"tabpanel"};function m4o(o,a,s,t,c,m){const _=ce("bank-accounts"),l=ce("purchase-order-settings");return u(),f("div",s4o,[e("ul",l4o,[e("li",i4o,[e("button",{type:"button",onClick:a[0]||(a[0]=r=>t.switchTabs("bank-accounts")),class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-bank-details","aria-controls":"navs-pills-bank-details","aria-selected":"true"},a[2]||(a[2]=[e("i",{class:"tf-icons ti ti-file-text ti-xs me-1"},null,-1),le(" Bank Details(CASA) ")]))]),t.can_view==1?(u(),f("li",r4o,[e("button",{type:"button",onClick:a[1]||(a[1]=r=>t.switchTabs("purchase-order-settings")),class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-pills-maker-checker","aria-controls":"navs-pills-maker-checker","aria-selected":"false"},[a[3]||(a[3]=e("i",{class:"tf-icons ti ti-folders ti-xs me-1"},null,-1)),a[4]||(a[4]=le(" Purchase Order Settings ")),t.has_proposed_updates==1?(u(),f("i",d4o)):b("",!0)])])):b("",!0)]),e("div",c4o,[e("div",u4o,[Be(_,{ref:"bank_accounts"},null,512)]),t.can_view==1?(u(),f("div",_4o,[Be(l,{ref:"purchase_order_settings",can_edit:t.can_edit},null,8,["can_edit"])])):b("",!0)])])}const f4o=Ue(n4o,[["render",m4o]]),h4o={name:"DealerNotifications",setup(o){const a=lt(),s=h([]),t=Je("baseURL"),c=async()=>{await A.get(t+"notifications/view/data").then(l=>{s.value=l.data})},m=l=>{A.get(t+"notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=()=>{A.get(t+"notifications/all/update/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:s,markAsRead:m,markAllAsRead:_}}},p4o={class:"card p-2"},v4o={class:"table-responsive"},g4o={class:"table"},b4o={class:""},y4o={class:"table-border-bottom-0"},k4o={key:0},$4o={colspan:"12",class:"text-center"},w4o={class:"text-center"},D4o={key:1},x4o={colspan:"12",class:"text-center"},C4o={class:"text-center"},P4o={key:0},E4o={key:0},A4o={key:1},I4o={key:2},R4o={key:3},S4o={key:4},T4o={key:5},j4o={key:1},O4o={key:2},M4o=["onClick"];function L4o(o,a,s,t,c,m){return u(),f("div",p4o,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",v4o,[e("table",g4o,[e("thead",null,[e("tr",b4o,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",y4o,[t.logs?b("",!0):(u(),f("tr",k4o,[e("td",$4o,[e("span",w4o,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",D4o,[e("td",x4o,[e("span",C4o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",P4o,[_.type=="App\\Notifications\\InvoiceCreated"?(u(),f("span",E4o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\InvoiceUpdated"?(u(),f("span",A4o,n("Invoice: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitDepletion"?(u(),f("span",I4o,n("Program Limit Depletion: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\NewProgramMapping"?(u(),f("span",R4o,n("Program Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramLimitExpiry"?(u(),f("span",S4o,n("Program Limit Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ConfigurationsApproval"?(u(),f("span",T4o,n("Configurations: "+_.data.notification),1)):b("",!0)])):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",j4o,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1)):b("",!0),_.type!="App\\Notifications\\BankUserMapping"&&_.type!="App\\Notifications\\CompanyUserMapping"&&_.type!="App\\Notifications\\BankUserActivation"&&_.type!="App\\Notifications\\PurchaseOrderCreated"&&_.type!="App\\Notifications\\FinanceRequestUpdated"?(u(),f("td",O4o,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,M4o)])):b("",!0)]))),128))])])])])}const N4o=Ue(h4o,[["render",L4o]]),F4o={name:"OdAccountSummary",components:{Pagination:za},props:["od_account"],setup(o){const a=Je("baseURL"),s=h([]),t=h(50),c=()=>{A.get(a+"dealer/accounts/od-accounts/"+o.od_account+"/payments/data",{params:{per_page:t.value}}).then(_=>{s.value=_.data}).catch(_=>{console.log(_)})};return Qe(()=>{c()}),{moment:H,repayments:s,per_page:t,changePage:async _=>{await A.get(_).then(l=>{s.value=l.data.data})}}}},Y4o={class:"card p-2"},V4o={class:"d-flex justify-content-between"},B4o={class:"d-flex"},U4o={class:"mx-1"},q4o={for:"",class:"form-label"},H4o={class:"d-flex justify-content-end"},z4o={class:"table-responsive"},W4o={class:"table"},K4o={class:""},G4o={class:"table-border-bottom-0"},Q4o={key:0},Z4o={colspan:"12",class:"text-center"},J4o={class:"text-center"},X4o={key:1},eEo={colspan:"12",class:"text-center"},tEo={class:"text-center"};function oEo(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Y4o,[e("div",V4o,[e("div",B4o,[e("div",U4o,[e("label",q4o,n(o.$t("Date")),1),a[1]||(a[1]=e("input",{class:"form-control form-search",type:"date",id:"html5-date-input"},null,-1))])]),e("div",H4o,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[2]||(a[2]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])]),Be(_,{from:t.repayments.from,to:t.repayments.to,links:t.repayments.links,next_page:t.repayments.next_page_url,prev_page:t.repayments.prev_page_url,total_items:t.repayments.total,first_page_url:t.repayments.first_page_url,last_page_url:t.repayments.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",z4o,[e("table",W4o,[e("thead",null,[e("tr",K4o,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Debit")),1),e("th",null,n(o.$t("Credit")),1),e("th",null,n(o.$t("Line Balance")),1),e("th",null,n(o.$t("Discount Balance")),1),e("th",null,n(o.$t("Penal Discount Balance")),1)])]),e("tbody",G4o,[t.repayments.data?b("",!0):(u(),f("tr",Q4o,[e("td",Z4o,[e("span",J4o,n(o.$t("Loading Data"))+"...",1)])])),t.repayments.data&&t.repayments.data.length<=0?(u(),f("tr",X4o,[e("td",eEo,[e("span",tEo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.repayments.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(t.moment(l.transaction_created_date).format("Do MMM YYYY")),1)]),a[3]||(a[3]=e("td",null,"-",-1)),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(l.amount)),1)]),a[4]||(a[4]=e("td",null,[e("span",null,"-")],-1)),a[5]||(a[5]=e("td",null,[e("span",null,"-")],-1)),a[6]||(a[6]=e("td",null,"-",-1)),a[7]||(a[7]=e("td",null,"-",-1))]))),128))])])]),Be(_,{from:t.repayments.from,to:t.repayments.to,links:t.repayments.links,next_page:t.repayments.next_page_url,prev_page:t.repayments.prev_page_url,total_items:t.repayments.total,first_page_url:t.repayments.first_page_url,last_page_url:t.repayments.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const aEo=Ue(F4o,[["render",oEo]]),nEo={name:"DpdInvoices",components:{Pagination:za,InvoiceDetails:Bt,PaymentInstruction:qt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(null),_=h(0),l=async()=>{await A.get(o+"reports/dpd-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices})},r=async(y,x)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+y+"/details").then(C=>{m.value=C.data,_.value++,bt(()=>{document.getElementById(x).click()})}).catch(C=>{console.log(C)})},i=y=>{let x="";switch(y){case"Overdue":x="bg-label-danger";break;case"Created":x="bg-label-secondary";break;case"Pending Maker":x="bg-label-primary";break;case"Pending Checker":x="bg-label-warning";break;case"Submitted":x="bg-label-primary";break;case"Approved":x="bg-label-success";break;case"Disbursed":x="bg-label-success";break;case"Denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},d=y=>{let x="";switch(y){case"pending":x="bg-label-primary";break;case"submitted":x="bg-label-warning";break;case"financed":x="bg-label-success";break;case"closed":x="bg-label-secondary";break;case"denied":x="bg-label-danger";break;default:x="bg-label-primary";break}return x},p=(y,x)=>x/y*100;return Qe(()=>{l()}),ot([s],async([y])=>{await A.get(o+"reports/dpd-invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:y}}).then(x=>{a.value=x.data.invoices})}),{moment:H,per_page:s,invoice_number:t,anchor:c,invoices:a,invoice_details:m,showInvoice:r,filter:()=>{let y=$(".ti-search").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:s.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-search"></i>')})},refresh:()=>{let y=$(".ti-refresh").parent();y.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",A.get(o+"invoices/data",{params:{per_page:s.value}}).then(x=>{a.value=x.data.invoices,y.html('<i class="ti ti-refresh"></i>')})},resolveStatus:i,resolveFinancingStatus:d,changePage:async y=>{await A.get(y,{params:{per_page:s.value,invoice_number:t.value,anchor:c.value}}).then(x=>{a.value=x.data.invoices})},getTaxPercentage:p}}},sEo={class:"card"},lEo={class:"card-body"},iEo={class:"d-flex justify-content-between"},rEo={class:"d-flex flex-wrap gap-1"},dEo={class:""},cEo={for:"Search",class:"form-label"},uEo={class:""},_Eo={for:"Search",class:"form-label"},mEo={class:"d-none"},fEo={for:"DPD Rage",class:"form-label"},hEo={class:"form-select form-search"},pEo={value:""},vEo={value:"1-30"},gEo={value:"31-60"},bEo={value:"61-90"},yEo={value:">90"},kEo={class:"table-search-btn"},$Eo={class:"table-clear-btn"},wEo={class:"d-flex mx-2",style:{height:"fit-content"}},DEo={class:"table-responsive"},xEo={class:"table"},CEo={key:0},PEo={colspan:"12",class:"text-center"},EEo={class:"text-center"},AEo={key:1},IEo={colspan:"12",class:"text-center"},REo={class:"text-center"},SEo={class:"text-primary text-decoration-underline"},TEo=["onClick"],jEo={class:"text-success"},OEo={class:""},MEo={class:""},LEo={class:"text-success"},NEo={class:""},FEo=["id","data-bs-target"],YEo=["id","data-bs-target"],VEo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},BEo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},UEo={class:"modal-content"},qEo={class:"modal-body"},HEo={class:"d-flex justify-content-center"};function zEo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",sEo,[e("div",lEo,[e("div",iEo,[e("div",rEo,[e("div",dEo,[e("label",cEo,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=i=>t.invoice_number=i),onKeyup:a[1]||(a[1]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",uEo,[e("label",_Eo,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=i=>t.anchor=i),onKeyup:a[3]||(a[3]=Ee((...i)=>t.filter&&t.filter(...i),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor]])]),e("div",mEo,[e("label",fEo,n(o.$t("DPD Range")),1),e("select",hEo,[e("option",pEo,n(o.$t("Select Range")),1),e("option",vEo,"1 - 30 "+n(o.$t("Days")),1),e("option",gEo,"31 - 60 "+n(o.$t("Days")),1),e("option",bEo,"61 - 90 "+n(o.$t("Days")),1),e("option",yEo,"> 90 "+n(o.$t("Days")),1)])]),e("div",kEo,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...i)=>t.filter&&t.filter(...i))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$Eo,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...i)=>t.refresh&&t.refresh(...i))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wEo,[Y(e("select",{class:"form-select mx-2","onUpdate:modelValue":a[6]||(a[6]=i=>t.per_page=i)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",DEo,[e("table",xEo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Disbursement Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Disb. Amount")),1),e("th",null,n(o.$t("DPD")),1),e("th",null,n(o.$t("Overdue Interest")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",CEo,[e("td",PEo,[e("span",EEo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",AEo,[e("td",IEo,[e("span",REo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,i=>Y((u(),f("tr",{key:i.id},[e("td",null,n(i.anchor),1),e("td",SEo,[e("a",{href:"javascript:;",onClick:d=>t.showInvoice(i.id,"show-details-btn-"+i.id)},n(i.invoice_number),9,TEo)]),e("td",jEo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1)]),e("td",OEo,n(i.disbursement_date?t.moment(i.disbursement_date).format("DD MMM YYYY"):"-"),1),e("td",MEo,n(t.moment(i.due_date).format("DD MMM YYYY")),1),e("td",LEo,[le(n(i.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(i.disbursed_amount)),1)]),e("td",null,[e("span",null,n(i.days_past_due),1)]),e("td",null,[e("span",NEo,n(i.currency)+"."+n(new Intl.NumberFormat().format(i.overdue_amount)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.id},null,8,FEo),e("button",{class:"d-none",id:"show-pi-btn-"+i.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.id},null,8,YEo),a[12]||(a[12]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",VEo,[e("div",BEo,[e("div",UEo,[e("div",qEo,[e("div",HEo,[e("span",null,n(o.$t("Loading"))+"...",1),a[11]||(a[11]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const WEo=Ue(nEo,[["render",zEo]]),KEo={name:"RejectedInvoices",components:{Pagination:za,InvoiceDetails:Bt},setup(){lt();const o=Je("baseURL"),a=h([]),s=h(50),t=h(""),c=h(""),m=h(null),_=async()=>{await A.get(o+"reports/rejected-invoices/data",{params:{per_page:s.value}}).then(w=>{a.value=w.data.invoices})},l=async(w,y)=>{document.getElementById("loading-modal-btn").click(),await A.get(o+"invoices/"+w+"/details").then(x=>{m.value=x.data,bt(()=>{document.getElementById(y).click()})}).catch(x=>{console.log(x)})},r=w=>{let y="";switch(w){case"Overdue":y="bg-label-danger";break;case"Created":y="bg-label-secondary";break;case"Pending Maker":y="bg-label-primary";break;case"Pending Checker":y="bg-label-warning";break;case"Submitted":y="bg-label-primary";break;case"Approved":y="bg-label-success";break;case"Disbursed":y="bg-label-success";break;case"Denied":y="bg-label-danger";break;default:y="bg-label-primary";break}return y},i=w=>{let y="";switch(w){case"pending":y="bg-label-primary";break;case"financed":y="bg-label-success";break;case"closed":y="bg-label-secondary";break;case"denied":y="bg-label-danger";break;default:y="bg-label-primary";break}return y},d=(w,y)=>y/w*100;return Qe(()=>{_()}),ot([s],async([w])=>{await A.get(o+"reports/rejected-invoices/data",{params:{per_page:w,invoice_number:t.value,anchor:c.value}}).then(y=>{a.value=y.data.invoices})}),{moment:H,per_page:s,invoice_number:t,anchor:c,invoices:a,invoice_details:m,resolveStatus:r,resolveFinancingStatus:i,changePage:async w=>{await A.get(w,{params:{per_page:s.value,invoice_number:t.value,anchor:c.value}}).then(y=>{a.value=y.data.invoices})},getTaxPercentage:d,filter:()=>{let w=$(".ti-search").parent();w.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"reports/rejected-invoices/data",{params:{invoice_number:t.value,anchor:c.value,per_page:s.value}}).then(y=>{a.value=y.data.invoices,w.html('<i class="ti ti-search"></i>')})},refresh:()=>{let w=$(".ti-refresh").parent();w.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",A.get(o+"reports/rejected-invoices/data",{params:{per_page:s.value}}).then(y=>{a.value=y.data.invoices,w.html('<i class="ti ti-refresh"></i>')})},showInvoice:l}}},GEo={class:"card"},QEo={class:"card-body"},ZEo={class:"d-flex justify-content-between"},JEo={class:"d-flex flex-wrap"},XEo={class:"mb-1"},eAo={for:"Search",class:"form-label"},tAo={class:"mx-1"},oAo={for:"Search",class:"form-label"},aAo={class:"mx-1 d-none"},nAo={for:"DPD Rage",class:"form-label"},sAo={class:"form-select mx-1 form-search",id:"exampleFormControlSelect"},lAo={value:""},iAo={value:"1-30"},rAo={value:"31-60"},dAo={value:"61-90"},cAo={value:">90"},uAo={class:"mx-1 table-search-btn"},_Ao={class:"mx-1 table-clear-btn"},mAo={class:"d-flex mx-2",style:{height:"fit-content"}},fAo={class:"table-responsive"},hAo={class:"table"},pAo={key:0},vAo={colspan:"12",class:"text-center"},gAo={class:"text-center"},bAo={key:1},yAo={colspan:"12",class:"text-center"},kAo={class:"text-center"},$Ao={class:"text-primary text-decoration-underline"},wAo=["onClick"],DAo={class:"text-success"},xAo=["href"],CAo=["id","data-bs-target"],PAo=["id","data-bs-target"],EAo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},AAo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},IAo={class:"modal-content"},RAo={class:"modal-body"},SAo={class:"d-flex justify-content-center"};function TAo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details");return u(),f("div",GEo,[e("div",QEo,[e("div",ZEo,[e("div",JEo,[e("div",XEo,[e("label",eAo,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=r=>t.invoice_number=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number]])]),e("div",tAo,[e("label",oAo,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice No","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor]])]),e("div",aAo,[e("label",nAo,n(o.$t("DPD Range")),1),e("select",sAo,[e("option",lAo,n(o.$t("Select Range")),1),e("option",iAo,"1 - 30 "+n(o.$t("Days")),1),e("option",rAo,"31 - 60 "+n(o.$t("Days")),1),e("option",dAo,"61 - 90 "+n(o.$t("Days")),1),e("option",cAo,"> 90 "+n(o.$t("Days")),1)])]),e("div",uAo,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",_Ao,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",mAo,[Y(e("select",{class:"form-select mx-2",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])]),t.invoices.meta?(u(),me(_,{key:0,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",fAo,[e("table",hAo,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Finance Status")),1),e("th",null,n(o.$t("Actions")),1),a[10]||(a[10]=e("th",null,null,-1))])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",pAo,[e("td",vAo,[e("span",gAo,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",bAo,[e("td",yAo,[e("span",kAo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,r=>Y((u(),f("tr",{key:r.id},[e("td",null,n(r.anchor),1),e("td",$Ao,[e("a",{href:"javascript:;",onClick:i=>t.showInvoice(r.id,"show-details-btn-"+r.id)},n(r.invoice_number),9,wAo)]),e("td",DAo,[le(n(r.currency)+" ",1),e("span",null,n(new Intl.NumberFormat().format(r.invoice_total_amount)),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(r.approval_stage)])},n(r.approval_stage),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveFinancingStatus(r.financing_status)])},n(r.financing_status),3)]),e("td",null,[e("a",{href:"initiate-drawdown/"+r.id,class:"btn btn-sm btn-primary"},n(o.$t("Re-Initiate")),9,xAo)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.id},null,8,CAo),e("button",{class:"d-none",id:"show-pi-btn-"+r.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.id},null,8,PAo),a[12]||(a[12]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",EAo,[e("div",AAo,[e("div",IAo,[e("div",RAo,[e("div",SAo,[e("span",null,n(o.$t("Loading"))+"...",1),a[11]||(a[11]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{key:0,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])])),[[mo,t.invoices.data.length>0]])),128))])])]),t.invoices.meta?(u(),me(_,{key:1,from:t.invoices.meta.from,to:t.invoices.meta.to,links:t.invoices.meta.links,next_page:t.invoices.links.next,prev_page:t.invoices.links.prev,total_items:t.invoices.meta.total,first_page_url:t.invoices.links.first,last_page_url:t.invoices.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const jAo=Ue(KEo,[["render",TAo]]),OAo={name:"InvoicesUpload",props:["dealer_financing"],setup(o){const a=Je("baseURL"),s=h(null),t=o.dealer_financing,c=lt(),m=h(!0),_=h(!1),l=h(0);return{selected_file:l,dealer_financing:t,can_submit:m,show_error_download_link:_,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadInvoices:()=>{m.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("invoices",s.value),A.post(a+"invoices/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){l.value++,c.error(p.response.data.message);return}p.response.data.uploaded>0&&c.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(c.error("Failed to upload."),c.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),_.value=!0,l.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{m.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},MAo={class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#uploadInvoices",type:"button"},LAo={class:"modal modal-top fade",id:"uploadInvoices",tabindex:"-1"},NAo={class:"modal-dialog"},FAo={class:"modal-header"},YAo={class:"modal-title",id:"modalTopTitle"},VAo={class:"modal-body"},BAo={class:"form-group mt-2"},UAo={class:"py-1 text-danger d-none",id:"show-download-error"},qAo={key:0,href:"invoices/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},HAo={class:"modal-footer"},zAo={href:"invoices/sample/download",id:"download-invoices",class:"btn btn-label-warning"},WAo={href:"invoices/anchors",target:"_blank",id:"view-dealers",class:"btn btn-label-info"},KAo=["disabled"];function GAo(o,a,s,t,c,m){return u(),f(G,null,[e("button",MAo,n(o.$t("Upload Invoices")),1),e("div",LAo,[e("div",NAo,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadInvoices(),["prevent"]))},[e("div",FAo,[e("h5",YAo,n(o.$t("Upload Invoices")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",VAo,[e("div",BAo,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",UAo,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",qAo,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",HAo,[e("a",zAo,n(o.$t("Download Sample")),1),e("a",WAo,n(o.$t("View Anchors")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,KAo)])],32)])])],64)}const QAo=Ue(OAo,[["render",GAo]]),ZAo={name:"Dealers",components:{Pagination:za},setup(){const o=Je("baseURL"),a=h([]),s=h([]),t=h(50),c=()=>{A.get(o+"accounts/od-details/data",{params:{per_page:t.value}}).then(r=>{a.value=r.data.invoices}).catch(r=>{console.log(r)})};return Qe(()=>{c()}),ot([t],async([r])=>{await A.get(o+"accounts/od-details/data",{params:{anchor:s.value,per_page:r}}).then(i=>{a.value=i.data.invoices})}),{moment:H,od_accounts:a,changePage:async r=>{await A.get(r,{params:{per_page:t.value,anchor:s.value}}).then(i=>{a.value=i.data.invoices})},per_page:t,anchors_search:s,filter:()=>{let r=$(".ti-search").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(o+"invoices/data",{params:{anchor:s.value}}).then(i=>{a.value=i.data.invoices,r.html('<i class="ti ti-search"></i>')})},refresh:()=>{let r=$(".ti-refresh").parent();r.html('<img src="../../../../../assets/img/spinner.svg" />'),s.value="",$("#date_search").val(""),A.get(o+"invoices/data",{params:{per_page:t.value}}).then(i=>{a.value=i.data.invoices,r.html('<i class="ti ti-refresh"></i>')})}}}},JAo={class:"card"},XAo={class:"card-body"},e6o={class:"d-flex justify-content-between"},t6o={class:"d-flex flex-wrap gap-1"},o6o={class:""},a6o={for:"Search",class:"form-label"},n6o={class:"table-search-btn"},s6o={class:"table-clear-btn"},l6o={class:"d-flex"},i6o={class:"table-responsive p-2"},r6o={class:"table"},d6o={key:0},c6o={colspan:"12",class:"text-center"},u6o={class:"text-center"},_6o={key:1},m6o={colspan:"12",class:"text-center"},f6o={class:"text-center"},h6o={class:""};function p6o(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",JAo,[e("div",XAo,[e("div",e6o,[e("div",t6o,[e("div",o6o,[e("label",a6o,n(o.$t("Anchors")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.anchors_search=l),placeholder:"Search Anchors","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.anchors_search]])]),e("div",n6o,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",s6o,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",l6o,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])])]),t.od_accounts.meta?(u(),me(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",i6o,[e("table",r6o,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Unique Identification Number")),1),e("th",null,n(o.$t("Payment/Loan OD Account")),1),e("th",null,n(o.$t("Credit To")),1)])]),e("tbody",null,[t.od_accounts.data?b("",!0):(u(),f("tr",d6o,[e("td",c6o,[e("span",u6o,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",_6o,[e("td",m6o,[e("span",f6o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.anchor_name),1)]),e("td",null,[e("span",null,n(l.anchor_unique_identification_number),1)]),e("td",h6o,n(l.payment_account_number),1),e("td",null,[e("span",null,n(l.vendor_bank_details[0].account_number),1)])]))),128))])])]),t.od_accounts.meta?(u(),me(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const v6o=Ue(ZAo,[["render",p6o]]),g6o={name:"UploadedInvoices",components:{Pagination:za},setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+"invoices/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+"invoices/uploaded/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Invoices_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},b6o={class:"card p-2"},y6o={class:"d-flex justify-content-between"},k6o={class:"d-flex flex-wrap"},$6o={class:"mx-1"},w6o={for:"Invoice No",class:"form-label"},D6o={class:"mx-1"},x6o={for:"From Date",class:"form-label"},C6o={class:"mx-1"},P6o={for:"Status",class:"form-label"},E6o={value:""},A6o={value:"Successful"},I6o={value:"Failed"},R6o={class:"mx-1 table-search-btn"},S6o={class:"mx-1 table-clear-btn"},T6o={class:"d-flex"},j6o={class:"table-responsive p-2"},O6o={class:"table dt-invoices"},M6o={key:0},L6o={colspan:"12",class:"text-center"},N6o={class:"text-center"},F6o={key:1},Y6o={colspan:"12",class:"text-center"},V6o={class:"text-center"},B6o={key:0,class:"badge bg-label-success me-1"},U6o={key:1,class:"badge bg-label-danger me-1"},q6o={class:""};function H6o(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",b6o,[e("div",y6o,[e("div",k6o,[e("div",$6o,[e("label",w6o,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp",style:{"min-width":"216px"}},null,512),[[X,t.invoice_number_search]])]),e("div",D6o,[e("label",x6o,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l),style:{"min-width":"216px"}},null,512),[[X,t.uploaded_date_search]])]),e("div",C6o,[e("label",P6o,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l),style:{"min-width":"216px"}},[e("option",E6o,n(o.$t("Select Status")),1),e("option",A6o,n(o.$t("Successful")),1),e("option",I6o,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",R6o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",S6o,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",T6o,[e("div",null,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",j6o,[e("table",O6o,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1),e("th",null,n(o.$t("Created On")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",M6o,[e("td",L6o,[e("span",N6o,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",F6o,[e("td",Y6o,[e("span",V6o,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.status=="Successful"?(u(),f("span",B6o,n(l.status),1)):b("",!0),l.status=="Failed"?(u(),f("span",U6o,n(l.status),1)):b("",!0)]),e("td",q6o,n(l.description),1),e("td",null,n(t.moment(l.created_at).format("DD MMM YYYY")),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const z6o=Ue(g6o,[["render",H6o]]),Ku=Ke({}),Gu=Ke({}),Qu=Ke({}),Zu=Ke({}),Ju=Ke({}),Xu=Ke({}),e_=Ke({}),t_=Ke({}),o_=Ke({}),a_=Ke({}),n_=Ke({}),s_=Ke({}),l_=Ke({}),i_=Ke({}),r_=Ke({}),d_=Ke({}),c_=Ke({}),u_=Ke({}),__=Ke({}),m_=Ke({}),f_=Ke({}),h_=Ke({}),p_=Ke({}),v_=Ke({}),g_=Ke({}),b_=Ke({}),y_=Ke({}),k_=Ke({}),$_=Ke({}),w_=Ke({}),D_=Ke({}),x_=Ke({}),C_=Ke({}),P_=Ke({}),E_=Ke({}),A_=Ke({}),xa="/buyer/";Ku.component("BuyerNotifications",emo);Gu.component("BuyerAllInvoicesComponent",hZt);Qu.component("Anchors",rto);Xu.component("BuyerPendingInvoices",Beo);e_.component("BuyerPurchaseOrdersComponent",Wno);t_.component("BuyerReports",vdo);o_.component("BuyerInvoiceAnalysisReport",dD);a_.component("BuyerMaturingInvoicesReport",_D);n_.component("BuyerAllInvoicesReport",cD);s_.component("BuyerPaidInvoicesReport",mD);l_.component("BuyerOverdueInvoicesReport",lco);i_.component("BuyerVendorAnalysisReport",uD);r_.component("BuyerClosedInvoicesReport",Kco);u_.component("BuyerSettings",I_o);Zu.component("BuyerInvoicesUpload",gmo);Ju.component("BuyerUploadedInvoices",Wmo);__.component("BuyerPaymentInstructions",Mfo);const fa="/dealer/";m_.component("DealerInvoices",Loo);w_.component("DealerReports",i3o);c_.component("OdDetails",Cxo);d_.component("OdRepayments",x3o);g_.component("DealerSettings",f4o);b_.component("DealerNotifications",N4o);v_.component("FinanceRequests",Qpo);f_.component("CashPlannerPrograms",bvo);y_.component("OdAccountSummary",aEo);k_.component("DpdInvoices",WEo);$_.component("RejectedInvoices",jAo);h_.component("DealerCashPlannerEligibleInvoices",x2o);p_.component("DealerCashPlannerNonEligibleInvoices",Two);D_.component("DealerAllInvoicesReport",fD);x_.component("DealerProgramsReport",hD);C_.component("DealerPaymentsReport",pD);P_.component("DealerInvoicesUpload",QAo);E_.component("DealerAnchors",v6o);A_.component("DealerUploadedInvoices",z6o);var W6o=document.getElementById("anchors");W6o&&(Qu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qu.use(Xe),Qu.provide("baseURL",xa),Qu.mount("#anchors"));var K6o=document.getElementById("buyer-reports");K6o&&(t_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),t_.use(Xe),t_.provide("baseURL",xa),t_.mount("#buyer-reports"));var G6o=document.getElementById("buyer-payment-instructions");G6o&&(__.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),__.use(Xe),__.provide("baseURL",xa),__.mount("#buyer-payment-instructions"));var Q6o=document.getElementById("buyer-invoice-analysis-report");Q6o&&(o_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),o_.use(Xe),o_.provide("baseURL",xa),o_.mount("#buyer-invoice-analysis-report"));var Z6o=document.getElementById("buyer-maturing-invoices-report");Z6o&&(a_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),a_.use(Xe),a_.provide("baseURL",xa),a_.mount("#buyer-maturing-invoices-report"));var J6o=document.getElementById("buyer-paid-invoices-report");J6o&&(s_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),s_.use(Xe),s_.provide("baseURL",xa),s_.mount("#buyer-paid-invoices-report"));var X6o=document.getElementById("buyer-overdue-invoices-report");X6o&&(l_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),l_.use(Xe),l_.provide("baseURL",xa),l_.mount("#buyer-overdue-invoices-report"));var eIo=document.getElementById("buyer-closed-invoices-report");eIo&&(r_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),r_.use(Xe),r_.provide("baseURL",xa),r_.mount("#buyer-closed-invoices-report"));var tIo=document.getElementById("buyer-all-invoices-report");tIo&&(n_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),n_.use(Xe),n_.provide("baseURL",xa),n_.mount("#buyer-all-invoices-report"));var oIo=document.getElementById("buyer-vendor-analysis-report");oIo&&(i_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),i_.use(Xe),i_.provide("baseURL",xa),i_.mount("#buyer-vendor-analysis-report"));var aIo=document.getElementById("dealer_reports");aIo&&(w_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),w_.use(Xe),w_.provide("baseURL",fa),w_.mount("#dealer_reports"));var nIo=document.getElementById("od_repayments");nIo&&(d_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),d_.use(Xe),d_.provide("baseURL",fa),d_.mount("#od_repayments"));var sIo=document.getElementById("od_details");sIo&&(c_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),c_.use(Xe),c_.provide("baseURL",fa),c_.mount("#od_details"));var lIo=document.getElementById("od_account_summary");lIo&&(y_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),y_.use(Xe),y_.provide("baseURL",fa),y_.mount("#od_account_summary"));var iIo=document.getElementById("buyer-purchase-orders");iIo&&(e_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),e_.use(Xe),e_.provide("baseURL",xa),e_.mount("#buyer-purchase-orders"));var rIo=document.getElementById("buyer-all-invoices");rIo&&(Gu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gu.use(Xe),Gu.provide("baseURL",xa),Gu.mount("#buyer-all-invoices"));var dIo=document.getElementById("buyer-pending-invoices");dIo&&(Xu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xu.use(Xe),Xu.provide("baseURL",xa),Xu.mount("#buyer-pending-invoices"));var cIo=document.getElementById("buyer-invoices-upload");cIo&&(Zu.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zu.use(Xe),Zu.provide("baseURL",xa),Zu.mount("#buyer-invoices-upload"));var uIo=document.getElementById("buyer-uploaded-invoices");uIo&&(Ju.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ju.use(Xe),Ju.provide("baseURL",xa),Ju.mount("#buyer-uploaded-invoices"));var _Io=document.getElementById("dealer-invoices");_Io&&(m_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),m_.use(Xe),m_.provide("baseURL",fa),m_.mount("#dealer-invoices"));var mIo=document.getElementById("cash-planner-programs");mIo&&(f_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),f_.use(Xe),f_.provide("baseURL",fa),f_.mount("#cash-planner-programs"));var fIo=document.getElementById("dealer-cash-planner-eligible-invoices");fIo&&(h_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),h_.use(Xe),h_.provide("baseURL",fa),h_.mount("#dealer-cash-planner-eligible-invoices"));var hIo=document.getElementById("dealer-cash-planner-non-eligible-invoices");hIo&&(p_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),p_.use(Xe),p_.provide("baseURL",fa),p_.mount("#dealer-cash-planner-non-eligible-invoices"));var pIo=document.getElementById("finance-requests");pIo&&(v_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),v_.use(Xe),v_.provide("baseURL",fa),v_.mount("#finance-requests"));var vIo=document.getElementById("buyer-settings");vIo&&(u_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),u_.use(Xe),u_.provide("baseURL",xa),u_.mount("#buyer-settings"));var gIo=document.getElementById("dealer-settings");gIo&&(g_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),g_.use(Xe),g_.provide("baseURL",fa),g_.mount("#dealer-settings"));var bIo=document.getElementById("buyer-notifications");bIo&&(Ku.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ku.use(Xe),Ku.provide("baseURL",xa),Ku.mount("#buyer-notifications"));var yIo=document.getElementById("dealer-notifications");yIo&&(b_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),b_.use(Xe),b_.provide("baseURL",fa),b_.mount("#dealer-notifications"));var kIo=document.getElementById("dpd-invoices");kIo&&(k_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),k_.use(Xe),k_.provide("baseURL",fa),k_.mount("#dpd-invoices"));var $Io=document.getElementById("rejected-invoices");$Io&&($_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$_.use(Xe),$_.provide("baseURL",fa),$_.mount("#rejected-invoices"));var wIo=document.getElementById("dealer_all_invoices_report");wIo&&(D_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),D_.use(Xe),D_.provide("baseURL",fa),D_.mount("#dealer_all_invoices_report"));var DIo=document.getElementById("dealer_programs_report");DIo&&(x_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),x_.use(Xe),x_.provide("baseURL",fa),x_.mount("#dealer_programs_report"));var xIo=document.getElementById("dealer_payments_report");xIo&&(C_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),C_.use(Xe),C_.provide("baseURL",fa),C_.mount("#dealer_payments_report"));var CIo=document.getElementById("dealer-invoices-upload");CIo&&(P_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),P_.use(Xe),P_.provide("baseURL",fa),P_.mount("#dealer-invoices-upload"));var PIo=document.getElementById("dealer-anchors");PIo&&(E_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),E_.use(Xe),E_.provide("baseURL",fa),E_.mount("#dealer-anchors"));var EIo=document.getElementById("dealer-uploaded-invoices");EIo&&(A_.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),A_.use(Xe),A_.provide("baseURL",fa),A_.mount("#dealer-uploaded-invoices"));let T0=document.querySelector(".mode-switcher");T0&&T0.addEventListener("change",function(o){o.preventDefault(),o.target.value=="dealer"?window.location.href="https://uat.yofinvoice.com/dealer/dashboard":window.location.href="https://uat.yofinvoice.com/buyer/dashboard"});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const AIo=()=>{},vh=Array.isArray;function j0(o,a){return(o.aliasOf||o)===(a.aliasOf||a)}function IIo(o,a){if(Object.keys(o).length!==Object.keys(a).length)return!1;for(const s in o)if(!RIo(o[s],a[s]))return!1;return!0}function RIo(o,a){return vh(o)?O0(o,a):vh(a)?O0(a,o):o===a}function O0(o,a){return vh(a)?o.length===a.length&&o.every((s,t)=>s===a[t]):o.length===1&&o[0]===a}var M0;(function(o){o.pop="pop",o.push="push"})(M0||(M0={}));var L0;(function(o){o.back="back",o.forward="forward",o.unknown=""})(L0||(L0={}));var N0;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(N0||(N0={}));const vD=Symbol(""),SIo=Symbol("");function F0(o){const a=Je(vD),s=Je(SIo),t=$o(()=>a.resolve(wl(o.to))),c=$o(()=>{const{matched:r}=t.value,{length:i}=r,d=r[i-1],p=s.matched;if(!d||!p.length)return-1;const v=p.findIndex(j0.bind(null,d));if(v>-1)return v;const g=Y0(r[i-2]);return i>1&&Y0(d)===g&&p[p.length-1].path!==g?p.findIndex(j0.bind(null,r[i-2])):v}),m=$o(()=>c.value>-1&&OIo(s.params,t.value.params)),_=$o(()=>c.value>-1&&c.value===s.matched.length-1&&IIo(s.params,t.value.params));function l(r={}){return jIo(r)?a[wl(o.replace)?"replace":"push"](wl(o.to)).catch(AIo):Promise.resolve()}return{route:t,href:$o(()=>t.value.href),isActive:m,isExactActive:_,navigate:l}}const TIo=Oa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:F0,setup(o,{slots:a}){const s=Rn(F0(o)),{options:t}=Je(vD),c=$o(()=>({[V0(o.activeClass,t.linkActiveClass,"router-link-active")]:s.isActive,[V0(o.exactActiveClass,t.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const m=a.default&&a.default(s);return o.custom?m:En("a",{"aria-current":s.isExactActive?o.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:c.value},m)}}}),el=TIo;function jIo(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const a=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return o.preventDefault&&o.preventDefault(),!0}}function OIo(o,a){for(const s in a){const t=a[s],c=o[s];if(typeof t=="string"){if(t!==c)return!1}else if(!vh(c)||c.length!==t.length||t.some((m,_)=>m!==c[_]))return!1}return!0}function Y0(o){return o?o.aliasOf?o.aliasOf.path:o.path:""}const V0=(o,a,s)=>o??a??s;/**
 * Vue 3 Carousel 0.13.0
 * (c) 2025
 * @license MIT
 */const gD=["viewport","carousel"],$m={"bottom-to-top":"btt","left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb"},bD=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],MIo={ariaGallery:"Gallery",ariaNavigateToPage:"Navigate to page {slideNumber}",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",iconArrowDown:"Arrow pointing downwards",iconArrowLeft:"Arrow pointing to the left",iconArrowRight:"Arrow pointing to the right",iconArrowUp:"Arrow pointing upwards",itemXofY:"Item {currentSlide} of {slidesCount}"};Object.values($m);const yD=["slide","fade"],kD=["center","start","end","center-even","center-odd"],la={autoplay:0,breakpointMode:gD[0],breakpoints:void 0,dir:bD[0],enabled:!0,gap:0,height:"auto",i18n:MIo,ignoreAnimations:!1,itemsToScroll:1,itemsToShow:1,modelValue:0,mouseDrag:!0,pauseAutoplayOnHover:!1,preventExcessiveDragging:!1,slideEffect:yD[0],snapAlign:kD[0],touchDrag:!0,transition:300,wrapAround:!1},gh=Symbol("carousel"),LIo=o=>{const a=z_([]),s=t=>{t!==void 0?a.slice(t).forEach((c,m)=>{var _;(_=c.exposed)===null||_===void 0||_.setIndex(t+m)}):a.forEach((c,m)=>{var _;(_=c.exposed)===null||_===void 0||_.setIndex(m)})};return{cleanup:()=>{a.splice(0,a.length)},getSlides:()=>a,registerSlide:(t,c)=>{if(!t||t.props.isClone)return;const m=c??a.length;a.splice(m,0,t),s(m),o("slide-registered",{slide:t,index:m})},unregisterSlide:t=>{const c=a.indexOf(t);c!==-1&&(o("slide-unregistered",{slide:t,index:c}),a.splice(c,1),s(c))}}};function NIo(o){return o.length===0?0:o.reduce((s,t)=>s+t,0)/o.length}function B0({slides:o,position:a,toShow:s}){const t=[],c=a==="before",m=c?-s:0,_=c?0:s;if(o.length<=0)return t;for(let l=m;l<_;l++){const i={index:c?l:l+o.length,isClone:!0,position:a,id:void 0,key:`clone-${a}-${l}`},d=o[(l%o.length+o.length)%o.length].vnode,p=ts(d,i);p.el=null,t.push(p)}return t}const FIo='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function U0(o){if(!o.el||!(o.el instanceof Element))return;const a=o.el.querySelectorAll(FIo);for(const s of a)s instanceof HTMLElement&&!s.hasAttribute("disabled")&&s.getAttribute("aria-hidden")!=="true"&&s.setAttribute("tabindex","-1")}function YIo(o,a){return Object.keys(o).filter(s=>!a.includes(s)).reduce((s,t)=>(s[t]=o[t],s),{})}function VIo(o){const{isVertical:a,isReversed:s,dragged:t,effectiveSlideSize:c}=o,m=a?t.y:t.x;if(m===0)return 0;const _=Math.round(m/c);return s?_:-_}function Os({val:o,max:a,min:s}){return a<s?o:Math.min(Math.max(o,isNaN(s)?o:s),isNaN(a)?o:a)}function BIo(o){const{transform:a}=window.getComputedStyle(o);return a.split(/[(,)]/).slice(1,-1).map(s=>parseFloat(s))}function UIo(o){let a=1,s=1;return o.forEach(t=>{const c=BIo(t);c.length===6&&(a/=c[0],s/=c[3])}),{widthMultiplier:a,heightMultiplier:s}}function qIo(o,a){switch(o){case"start":return 0;case"center":case"center-odd":return(a-1)/2;case"center-even":return(a-2)/2;case"end":return a-1;default:return 0}}function HIo(o,a,s){switch(o){case"start":return 0;case"center":case"center-odd":return(s-a)/2;case"center-even":return s/2-a;case"end":return s-a;default:return 0}}function q0({slideSize:o,viewportSize:a,align:s,itemsToShow:t}){return t!==void 0?qIo(s,t):o!==void 0&&a!==void 0?HIo(s,o,a):0}function zIo(o="",a={}){return Object.entries(a).reduce((s,[t,c])=>s.replace(`{${t}}`,String(c)),o)}function WIo({val:o,max:a,min:s=0}){const t=a-s+1;return((o-s)%t+t)%t+s}function yv(o,a=0){let s=!1,t=0,c=null;function m(..._){if(s)return;s=!0;const l=()=>{c=requestAnimationFrame(r=>{r-t>a?(t=r,o(..._),s=!1):l()})};l()}return m.cancel=()=>{c&&(cancelAnimationFrame(c),c=null,s=!1)},m}function vf(o,a="px"){if(!(o==null||o===""))return typeof o=="number"||parseFloat(o).toString()===o?`${o}${a}`:o}const KIo=Oa({name:"CarouselAria",setup(){const o=Je(gh);return o?()=>En("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},zIo(o.config.i18n.itemXofY,{currentSlide:o.currentSlide+1,slidesCount:o.slidesCount})):()=>""}}),GIo={autoplay:{default:la.autoplay,type:Number},breakpoints:{default:la.breakpoints,type:Object},breakpointMode:{default:la.breakpointMode,validator(o){return gD.includes(o)}},enabled:{default:la.enabled,type:Boolean},gap:{default:la.gap,type:Number},height:{default:la.height,type:[Number,String]},ignoreAnimations:{default:!1,type:[Array,Boolean,String]},itemsToScroll:{default:la.itemsToScroll,type:Number},itemsToShow:{default:la.itemsToShow,type:[Number,String]},i18n:{default:la.i18n,type:Object},modelValue:{default:void 0,type:Number},mouseDrag:{default:la.mouseDrag,type:Boolean},touchDrag:{default:la.touchDrag,type:Boolean},pauseAutoplayOnHover:{default:la.pauseAutoplayOnHover,type:Boolean},preventExcessiveDragging:{default:!1,type:Boolean,validator(o,a){return o&&a.wrapAround&&console.warn('[vue3-carousel warn]: "preventExcessiveDragging" cannot be used with wrapAround. The setting will be ignored.'),!0}},snapAlign:{default:la.snapAlign,validator(o){return kD.includes(o)}},slideEffect:{type:String,default:la.slideEffect,validator(o){return yD.includes(o)}},transition:{default:la.transition,type:Number},dir:{type:String,default:la.dir,validator(o,a){if(!bD.includes(o))return!1;const s=o in $m?$m[o]:o;return["ttb","btt"].includes(s)&&(!a.height||a.height==="auto")&&console.warn(`[vue3-carousel warn]: The dir "${o}" is not supported with height "auto".`),!0}},wrapAround:{default:la.wrapAround,type:Boolean}},QIo=Oa({name:"VueCarousel",props:GIo,emits:["before-init","drag","init","loop","slide-end","slide-registered","slide-start","slide-unregistered","update:modelValue"],setup(o,{slots:a,emit:s,expose:t}){var c;const m=LIo(s),_=m.getSlides(),l=$o(()=>_.length),r=h(null),i=h(null),d=h(0),p=$o(()=>Object.assign(Object.assign(Object.assign({},la),YIo(o,["breakpoints","modelValue"])),{i18n:Object.assign(Object.assign({},la.i18n),o.i18n)})),v=z_(Object.assign({},p.value)),g=h((c=o.modelValue)!==null&&c!==void 0?c:0),w=h(g.value);ot(g,pt=>w.value=pt);const y=h(0),x=$o(()=>Math.ceil((l.value-1)/2)),C=$o(()=>l.value-1),E=$o(()=>0);let D=null,k=null,I=null;const V=$o(()=>d.value+v.gap),B=$o(()=>{const pt=v.dir||"ltr";return pt in $m?$m[pt]:pt}),L=$o(()=>["rtl","btt"].includes(B.value)),F=$o(()=>["ttb","btt"].includes(B.value)),T=$o(()=>v.itemsToShow==="auto"),P=$o(()=>F.value?"height":"width");function R(){var pt;if(!he.value)return;const Et=(p.value.breakpointMode==="carousel"?(pt=r.value)===null||pt===void 0?void 0:pt.getBoundingClientRect().width:typeof window<"u"?window.innerWidth:0)||0,Dt=Object.keys(o.breakpoints||{}).map(Kt=>Number(Kt)).sort((Kt,ro)=>+ro-+Kt),Ft={};Dt.some(Kt=>Et>=Kt?(Object.assign(Ft,o.breakpoints[Kt]),Ft.i18n&&Object.assign(Ft.i18n,p.value.i18n,o.breakpoints[Kt].i18n),!0):!1),Object.assign(v,p.value,Ft)}const O=yv(()=>{R(),K(),J()}),N=z_(new Set),S=h([]);function U({widthMultiplier:pt,heightMultiplier:Et}){S.value=_.map(Dt=>{var Ft;const Kt=(Ft=Dt.exposed)===null||Ft===void 0?void 0:Ft.getBoundingRect();return{width:Kt.width*pt,height:Kt.height*Et}})}const W=h({width:0,height:0});function oe({widthMultiplier:pt,heightMultiplier:Et}){var Dt;const Ft=((Dt=i.value)===null||Dt===void 0?void 0:Dt.getBoundingClientRect())||{width:0,height:0};W.value={width:Ft.width*pt,height:Ft.height*Et}}function J(){if(!i.value)return;const pt=UIo(N);if(oe(pt),U(pt),T.value)d.value=NIo(S.value.map(Et=>Et[P.value]));else{const Et=Number(v.itemsToShow),Dt=(Et-1)*v.gap;d.value=(W.value[P.value]-Dt)/Et}}function K(){!v.wrapAround&&l.value>0&&(g.value=Os({val:g.value,max:C.value,min:E.value})),T.value||(v.itemsToShow=Os({val:Number(v.itemsToShow),max:l.value,min:1}))}const z=$o(()=>typeof o.ignoreAnimations=="string"?o.ignoreAnimations.split(","):Array.isArray(o.ignoreAnimations)?o.ignoreAnimations:o.ignoreAnimations?!1:[]);j_(()=>K()),j_(()=>{J()});let ae;const we=pt=>{const Et=pt.target;if(!(!(Et!=null&&Et.contains(r.value))||Array.isArray(z.value)&&z.value.includes(pt.animationName))&&(N.add(Et),!ae)){const Dt=()=>{ae=requestAnimationFrame(()=>{J(),Dt()})};Dt()}},Fe=pt=>{const Et=pt.target;Et&&N.delete(Et),ae&&N.size===0&&(cancelAnimationFrame(ae),J())},he=h(!1);typeof document<"u"&&j_(()=>{he.value&&z.value!==!1?(document.addEventListener("animationstart",we),document.addEventListener("animationend",Fe)):(document.removeEventListener("animationstart",we),document.removeEventListener("animationend",Fe))}),Qe(()=>{he.value=!0,R(),Se(),r.value&&(I=new ResizeObserver(O),I.observe(r.value)),s("init")}),td(()=>{he.value=!1,m.cleanup(),k&&clearTimeout(k),ae&&cancelAnimationFrame(ae),D&&clearInterval(D),I&&(I.disconnect(),I=null),typeof document<"u"&&ze(),r.value&&(r.value.removeEventListener("transitionend",J),r.value.removeEventListener("animationiteration",J))});let re=!1;const $e={x:0,y:0},De=Rn({x:0,y:0}),ie=h(!1),pe=h(!1),be=()=>{ie.value=!0},Me=()=>{ie.value=!1},ue=yv(pt=>{if(!pt.ctrlKey)switch(pt.key){case"ArrowLeft":case"ArrowUp":F.value===pt.key.endsWith("Up")&&(L.value?Ne(!0):Ie(!0));break;case"ArrowRight":case"ArrowDown":F.value===pt.key.endsWith("Down")&&(L.value?Ie(!0):Ne(!0));break}},200),je=()=>{document.addEventListener("keydown",ue)},ze=()=>{document.removeEventListener("keydown",ue)};function Ye(pt){const Et=pt.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(Et)||te.value||(re=pt.type==="touchstart",!re&&(pt.preventDefault(),pt.button!==0)))return;$e.x="touches"in pt?pt.touches[0].clientX:pt.clientX,$e.y="touches"in pt?pt.touches[0].clientY:pt.clientY;const Dt=re?"touchmove":"mousemove",Ft=re?"touchend":"mouseup";document.addEventListener(Dt,ge,{passive:!1}),document.addEventListener(Ft,_e,{passive:!0})}const ge=yv(pt=>{pe.value=!0;const Et="touches"in pt?pt.touches[0].clientX:pt.clientX,Dt="touches"in pt?pt.touches[0].clientY:pt.clientY;De.x=Et-$e.x,De.y=Dt-$e.y;const Ft=VIo({isVertical:F.value,isReversed:L.value,dragged:De,effectiveSlideSize:V.value});w.value=v.wrapAround?g.value+Ft:Os({val:g.value+Ft,max:C.value,min:E.value}),s("drag",{deltaX:De.x,deltaY:De.y})});function _e(){if(ge.cancel(),w.value!==g.value&&!re){const Dt=Ft=>{Ft.preventDefault(),window.removeEventListener("click",Dt)};window.addEventListener("click",Dt)}Ce(w.value),De.x=0,De.y=0,pe.value=!1;const pt=re?"touchmove":"mousemove",Et=re?"touchend":"mouseup";document.removeEventListener(pt,ge),document.removeEventListener(Et,_e)}function Se(){!v.autoplay||v.autoplay<=0||(D=setInterval(()=>{v.pauseAutoplayOnHover&&ie.value||Ne()},v.autoplay))}function Ve(){D&&(clearInterval(D),D=null)}function ke(){Ve(),Se()}const te=h(!1);function Ce(pt,Et=!1){if(!Et&&te.value)return;let Dt=pt,Ft=pt;y.value=g.value,v.wrapAround?Ft=WIo({val:Dt,max:C.value,min:E.value}):Dt=Os({val:Dt,max:C.value,min:E.value}),s("slide-start",{slidingToIndex:pt,currentSlideIndex:g.value,prevSlideIndex:y.value,slidesCount:l.value}),Ve(),te.value=!0,g.value=Dt,Ft!==Dt&&fe.pause(),s("update:modelValue",Ft),k=setTimeout(()=>{v.wrapAround&&Ft!==Dt&&(fe.resume(),g.value=Ft,s("loop",{currentSlideIndex:g.value,slidingToIndex:pt})),s("slide-end",{currentSlideIndex:g.value,prevSlideIndex:y.value,slidesCount:l.value}),te.value=!1,ke()},v.transition)}function Ne(pt=!1){Ce(g.value+v.itemsToScroll,pt)}function Ie(pt=!1){Ce(g.value-v.itemsToScroll,pt)}function se(){R(),K(),J(),ke()}ot(()=>[p.value,o.breakpoints],()=>R(),{deep:!0}),ot(()=>o.autoplay,()=>ke());const fe=ot(()=>o.modelValue,pt=>{pt!==g.value&&Ce(Number(pt),!0)});s("before-init");const Le=$o(()=>{if(!v.wrapAround)return{before:0,after:0};if(T.value)return{before:_.length,after:_.length};const pt=Number(v.itemsToShow),Et=Math.ceil(pt+(v.itemsToScroll-1)),Dt=Et-w.value,Ft=Et-(l.value-(w.value+1));return{before:Math.max(0,Dt),after:Math.max(0,Ft)}}),Ze=$o(()=>Le.value.before?T.value?S.value.slice(-1*Le.value.before).reduce((pt,Et)=>pt+Et[P.value]+v.gap,0)*-1:Le.value.before*V.value*-1:0),at=$o(()=>{var pt;if(T.value){const Et=(g.value%_.length+_.length)%_.length;return q0({slideSize:(pt=S.value[Et])===null||pt===void 0?void 0:pt[P.value],viewportSize:W.value[P.value],align:v.snapAlign})}return q0({align:v.snapAlign,itemsToShow:+v.itemsToShow})}),mt=$o(()=>{let pt=0;if(T.value){if(g.value<0?pt=S.value.slice(g.value).reduce((Et,Dt)=>Et+Dt[P.value]+v.gap,0)*-1:pt=S.value.slice(0,g.value).reduce((Et,Dt)=>Et+Dt[P.value]+v.gap,0),pt-=at.value,!v.wrapAround){const Et=S.value.reduce((Dt,Ft)=>Dt+Ft[P.value]+v.gap,0)-W.value[P.value]-v.gap;pt=Os({val:pt,max:Et,min:0})}}else{let Et=g.value-at.value;v.wrapAround||(Et=Os({val:Et,max:l.value-+v.itemsToShow,min:0})),pt=Et*V.value}return pt*(L.value?1:-1)}),wt=$o(()=>{var pt,Et;if(!T.value){const Kt=g.value-at.value;return v.wrapAround?{min:Math.floor(Kt),max:Math.ceil(Kt+Number(v.itemsToShow)-1)}:{min:Math.floor(Os({val:Kt,max:l.value-Number(v.itemsToShow),min:0})),max:Math.ceil(Os({val:Kt+Number(v.itemsToShow)-1,max:l.value-1,min:0}))}}let Dt=0;{let Kt=0,ro=0-Le.value.before;const Pe=Math.abs(mt.value+Ze.value);for(;Kt<=Pe;){const Te=(ro%_.length+_.length)%_.length;Kt+=((pt=S.value[Te])===null||pt===void 0?void 0:pt[P.value])+v.gap,ro++}Dt=ro-1}let Ft=0;{let Kt=Dt,ro=0;for(Kt<0?ro=S.value.slice(0,Kt).reduce((Pe,Te)=>Pe+Te[P.value]+v.gap,0)-Math.abs(mt.value+Ze.value):ro=S.value.slice(0,Kt).reduce((Pe,Te)=>Pe+Te[P.value]+v.gap,0)-Math.abs(mt.value);ro<W.value[P.value];){const Pe=(Kt%_.length+_.length)%_.length;ro+=((Et=S.value[Pe])===null||Et===void 0?void 0:Et[P.value])+v.gap,Kt++}Ft=Kt-1}return{min:Math.floor(Dt),max:Math.ceil(Ft)}}),Ot=$o(()=>{if(v.slideEffect==="fade")return;const pt=F.value?"Y":"X",Et=F.value?De.y:De.x;let Dt=mt.value+Et;if(!v.wrapAround&&v.preventExcessiveDragging){let Ft=0;T.value?Ft=S.value.reduce((Pe,Te)=>Pe+Te[P.value],0):Ft=(l.value-Number(v.itemsToShow))*V.value;const Kt=L.value?0:-1*Ft,ro=L.value?Ft:0;Dt=Os({val:Dt,min:Kt,max:ro})}return`translate${pt}(${Dt}px)`}),Jt=$o(()=>({"--vc-transition-duration":te.value?vf(v.transition,"ms"):void 0,"--vc-slide-gap":vf(v.gap),"--vc-carousel-height":vf(v.height),"--vc-cloned-offset":vf(Ze.value)})),ut={slideTo:Ce,next:Ne,prev:Ie},gt=Rn({activeSlide:w,config:v,currentSlide:g,isSliding:te,isVertical:F,maxSlide:C,minSlide:E,nav:ut,normalizedDir:B,slideRegistry:m,slideSize:d,slides:_,slidesCount:l,viewport:i,visibleRange:wt});Sh(gh,gt);const Vt=Rn({config:v,currentSlide:g,maxSlide:C,middleSlide:x,minSlide:E,slideSize:d,slidesCount:l});return t({data:Vt,nav:ut,next:Ne,prev:Ie,restartCarousel:se,slideTo:Ce,updateBreakpointsConfig:R,updateSlideSize:J,updateSlidesData:K}),()=>{var pt;const Et=a.default||a.slides,Dt=(Et==null?void 0:Et(Vt))||[],{before:Ft,after:Kt}=Le.value,ro=B0({slides:_,position:"before",toShow:Ft}),Pe=B0({slides:_,position:"after",toShow:Kt}),Te=[...ro,...Dt,...Pe];if(!v.enabled||!Te.length)return En("section",{ref:r,class:["carousel","is-disabled"]},Te);const Ge=((pt=a.addons)===null||pt===void 0?void 0:pt.call(a,Vt))||[],nt=En("ol",{class:"carousel__track",style:{transform:Ot.value},onMousedownCapture:v.mouseDrag?Ye:null,onTouchstartPassiveCapture:v.touchDrag?Ye:null},Te),yt=En("div",{class:"carousel__viewport",ref:i},nt);return En("section",{ref:r,class:["carousel",`is-${B.value}`,`is-effect-${v.slideEffect}`,{"is-vertical":F.value,"is-sliding":te.value,"is-dragging":pe.value,"is-hover":ie.value}],dir:B.value,style:Jt.value,"aria-label":v.i18n.ariaGallery,tabindex:"0",onFocus:je,onBlur:ze,onMouseenter:be,onMouseleave:Me},[yt,Ge,En(KIo)])}}});var H0;(function(o){o.arrowDown="arrowDown",o.arrowLeft="arrowLeft",o.arrowRight="arrowRight",o.arrowUp="arrowUp"})(H0||(H0={}));const ZIo=Oa({name:"CarouselSlide",props:{id:{type:String,default:o=>o.isClone?void 0:O2()},index:{type:Number,default:void 0},isClone:{type:Boolean,default:!1},position:{type:String,default:void 0}},setup(o,{attrs:a,slots:s,expose:t}){const c=Je(gh);if(Sh(gh,void 0),!c)return()=>"";const m=h(o.index),_=w=>{m.value=w},l=Ha(),r=()=>{const w=l.vnode.el;return w?w.getBoundingClientRect():{width:0,height:0}};t({id:o.id,setIndex:_,getBoundingRect:r});const i=$o(()=>m.value===c.activeSlide),d=$o(()=>m.value===c.activeSlide-1),p=$o(()=>m.value===c.activeSlide+1),v=$o(()=>m.value>=c.visibleRange.min&&m.value<=c.visibleRange.max),g=$o(()=>{if(c.config.itemsToShow==="auto")return;const w=c.config.itemsToShow,y=c.config.gap>0&&w>1?`calc(${100/w}% - ${c.config.gap*(w-1)/w}px)`:`${100/w}%`;return c.isVertical?{height:y}:{width:y}});return c.slideRegistry.registerSlide(l,o.index),xm(()=>{c.slideRegistry.unregisterSlide(l)}),o.isClone&&(Qe(()=>{U0(l.vnode)}),Dm(()=>{U0(l.vnode)})),()=>{var w,y;return c.config.enabled?En("li",{style:[a.style,Object.assign({},g.value)],class:{carousel__slide:!0,"carousel__slide--clone":o.isClone,"carousel__slide--visible":v.value,"carousel__slide--active":i.value,"carousel__slide--prev":d.value,"carousel__slide--next":p.value,"carousel__slide--sliding":c.isSliding},onFocusin:()=>{c.viewport&&(c.viewport.scrollLeft=0),c.nav.slideTo(m.value)},id:o.isClone?void 0:o.id,"aria-hidden":o.isClone||void 0},(y=s.default)===null||y===void 0?void 0:y.call(s,{currentIndex:m.value,isActive:i.value,isClone:o.isClone,isPrev:d.value,isNext:p.value,isSliding:c.isSliding,isVisible:v.value})):(w=s.default)===null||w===void 0?void 0:w.call(s)}}}),JIo={name:"Companies",props:["bank","can_view_vendor_financing_requests","can_view_dealer_financing_requests"],components:{RouterLink:el,Carousel:QIo,Slide:ZIo},setup(o){const a=o.bank,s=Je("baseURL"),t=o.can_view_vendor_financing_requests=="1"?h(!0):h(!1),c=o.can_view_dealer_financing_requests=="1"?h(!0):h(!1),m={itemsToShow:1,wrapAround:!0,autoplay:1e4},_=h([]),l=()=>{A.get(s+o.bank+"/dashboard/data").then(r=>{_.value=r.data})};return Qe(()=>{l()}),{current_bank:a,carouselConfig:m,dashboard_data:_,can_view_dealer_financing_requests:c,can_view_vendor_financing_requests:t}}},XIo={key:0,class:"carousel__item p-0",id:"vendor-financing"},e8o={class:"row match-height"},t8o={class:"col-lg-3 col-sm-6 mb-4"},o8o={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},a8o={class:"card-body d-flex justify-content-between align-items-center"},n8o={class:"card-title mb-0"},s8o={class:"mb-0 me-2"},l8o={class:"text-success"},i8o={class:"mb-0 me-2"},r8o={class:"col-lg-3 col-sm-6 mb-4"},d8o=["href"],c8o={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},u8o={class:"card-body d-flex justify-content-between align-items-center"},_8o={class:"card-title mb-0"},m8o={class:"mb-0 me-2"},f8o={class:"mb-0 me-2"},h8o={class:"col-lg-3 col-sm-6 mb-4"},p8o={class:"card h-100 border border-warning",style:{"box-shadow":"none"}},v8o={class:"card-body d-flex justify-content-between align-items-center"},g8o={class:"card-title mb-0"},b8o={class:"mb-0 me-2"},y8o={class:"mb-0 me-2"},k8o={class:"col-lg-3 col-sm-6 mb-4"},$8o=["href"],w8o={class:"card h-100 border border-danger",style:{"box-shadow":"none"}},D8o={class:"card-body d-flex justify-content-between align-items-center"},x8o={class:"card-title mb-0"},C8o={class:"mb-0 me-2"},P8o={class:"mb-0 me-2"},E8o={key:0,class:"carousel__item p-0",id:"factoring"},A8o={class:"row match-height"},I8o={class:"col-lg-3 col-sm-6 mb-4"},R8o={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},S8o={class:"card-body d-flex justify-content-between align-items-center"},T8o={class:"card-title mb-0"},j8o={class:"mb-0 me-2"},O8o={class:"text-success"},M8o={class:"mb-0 me-2"},L8o={class:"col-lg-3 col-sm-6 mb-4"},N8o=["href"],F8o={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},Y8o={class:"card-body d-flex justify-content-between align-items-center"},V8o={class:"card-title mb-0"},B8o={class:"mb-0 me-2"},U8o={class:"mb-0 me-2"},q8o={class:"col-lg-3 col-sm-6 mb-4"},H8o={class:"card h-100 border border-waring",style:{"box-shadow":"none"}},z8o={class:"card-body d-flex justify-content-between align-items-center"},W8o={class:"card-title mb-0"},K8o={class:"mb-0 me-2"},G8o={class:"mb-0 me-2"},Q8o={class:"col-lg-3 col-sm-6 mb-4"},Z8o=["href"],J8o={class:"card h-100 border border-danger",style:{"box-shadow":"none"}},X8o={class:"card-body d-flex justify-content-between align-items-center"},eRo={class:"card-title mb-0"},tRo={class:"mb-0 me-2"},oRo={class:"mb-0 me-2"},aRo={key:0,class:"carousel__item p-0",id:"dealer-financing"},nRo={class:"row match-height"},sRo={class:"col-lg-3 col-sm-6 mb-4"},lRo={class:"card h-100 border border-primary",style:{"box-shadow":"none"}},iRo={class:"card-body d-flex justify-content-between align-items-center"},rRo={class:"card-title mb-0"},dRo={class:"mb-0 me-2"},cRo={class:"text-success"},uRo={class:"mb-0 me-2"},_Ro={class:"col-lg-3 col-sm-6 mb-4"},mRo=["href"],fRo={class:"card h-100 border border-secondary",style:{"box-shadow":"none"}},hRo={class:"card-body d-flex justify-content-between align-items-center"},pRo={class:"card-title mb-0"},vRo={class:"mb-0 me-2"},gRo={class:"mb-0 me-2"},bRo={class:"col-lg-3 col-sm-6 mb-4"},yRo={class:"card h-100 border border-warning",style:{"box-shadow":"none"}},kRo={class:"card-body d-flex justify-content-between align-items-center"},$Ro={class:"card-title mb-0"},wRo={class:"mb-0 me-2"},DRo={class:"mb-0 me-2"},xRo={class:"col-lg-3 col-sm-6 mb-4"},CRo=["href"],PRo={class:"card h-100 border border-info",style:{"box-shadow":"none"}},ERo={class:"card-body d-flex justify-content-between align-items-center"},ARo={class:"card-title mb-0"},IRo={class:"mb-0 me-2"},RRo={class:"mb-0 me-2"};function SRo(o,a,s,t,c,m){const _=ce("Slide"),l=ce("Carousel");return t.dashboard_data&&t.dashboard_data.has_data?(u(),me(l,G0($t({key:0},t.carouselConfig)),{default:Ko(()=>[Be(_,null,{default:Ko(()=>[t.can_view_vendor_financing_requests?(u(),f("div",XIo,[e("div",e8o,[e("div",t8o,[e("div",o8o,[e("div",a8o,[e("div",n8o,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",s8o,[le(n(o.$t("Anchors"))+" ",1),e("span",l8o,"("+n(t.dashboard_data.vendor_financing_anchors_count)+")",1)]),e("h6",i8o,n(o.$t("Total Vendors"))+" - "+n(t.dashboard_data.vendors_count),1)]),a[0]||(a[0]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])]),e("div",r8o,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",c8o,[e("div",u8o,[e("div",_8o,[e("h6",null,[le(n(o.$t("Maturing Payments"))+" ",1),e("span",null,"("+n(o.$t("in 7 Days"))+")",1)]),e("h5",m8o,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_maturing_payments_count)),1),e("h6",f8o,n(o.$t("Vendor Financing")),1)]),a[1]||(a[1]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,d8o)]),e("div",h8o,[e("div",p8o,[e("div",v8o,[e("div",g8o,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",b8o,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_payments_pending_approval_count)),1),e("h6",y8o,n(o.$t("Vendor Financing")),1)]),a[2]||(a[2]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",k8o,[e("a",{href:t.current_bank+"/requests/reverse-factoring?status_search=disbursed&period=mtd"},[e("div",w8o,[e("div",D8o,[e("div",x8o,[e("h6",null,n(o.$t("Disbursed Payments"))+" ("+n(o.$t("MTD"))+")",1),e("h5",C8o,n(new Intl.NumberFormat().format(t.dashboard_data.vendor_financing_disbursed_payments_count)),1),e("h6",P8o,n(o.$t("Vendor Financing")),1)]),a[3]||(a[3]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,$8o)])])])):b("",!0)]),_:1}),Be(_,null,{default:Ko(()=>[t.can_view_vendor_financing_requests?(u(),f("div",E8o,[e("div",A8o,[e("div",I8o,[e("div",R8o,[e("div",S8o,[e("div",T8o,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",j8o,[le(n(o.$t("Anchors"))+" ",1),e("span",O8o,"("+n(t.dashboard_data.factoring_anchors_count)+")",1)]),e("h6",M8o,n(o.$t("Total Buyers"))+" - "+n(t.dashboard_data.buyers_count),1)]),a[4]||(a[4]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",L8o,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",F8o,[e("div",Y8o,[e("div",V8o,[e("h6",null,[le(n(o.$t("Maturing Payments"))+" ",1),e("span",null,"("+n(o.$t("in 7 Days"))+")",1)]),e("h5",B8o,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_maturing_payments_count)),1),e("h6",U8o,n(o.$t("Factoring")),1)]),a[5]||(a[5]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,N8o)]),e("div",q8o,[e("div",H8o,[e("div",z8o,[e("div",W8o,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",K8o,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_payments_pending_approval_count)),1),e("h6",G8o,n(o.$t("Factoring")),1)]),a[6]||(a[6]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",Q8o,[e("a",{href:t.current_bank+"/requests/factoring?status_search=disbursed&period=mtd"},[e("div",J8o,[e("div",X8o,[e("div",eRo,[e("h6",null,n(o.$t("Disbursed Payments"))+" ("+n(o.$t("MTD"))+")",1),e("h5",tRo,n(new Intl.NumberFormat().format(t.dashboard_data.factoring_disbursed_payments_count)),1),e("h6",oRo,n(o.$t("Factoring")),1)]),a[7]||(a[7]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,Z8o)])])])):b("",!0)]),_:1}),Be(_,null,{default:Ko(()=>[t.can_view_dealer_financing_requests?(u(),f("div",aRo,[e("div",nRo,[e("div",sRo,[e("div",lRo,[e("div",iRo,[e("div",rRo,[e("h6",null,n(o.$t("Onboarded Companies")),1),e("h5",dRo,[le(n(o.$t("Anchors"))+" ",1),e("span",cRo,"("+n(t.dashboard_data.dealer_financing_anchors_count)+")",1)]),e("h6",uRo,n(o.$t("Total Dealers"))+" - "+n(t.dashboard_data.dealers_count),1)]),a[8]||(a[8]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-primary p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",_Ro,[e("a",{href:t.current_bank+"/report/maturing-payments-report"},[e("div",fRo,[e("div",hRo,[e("div",pRo,[e("h6",null,[le(n(o.$t("Maturing Payments"))+" ",1),e("span",null,"("+n(o.$t("in 7 Days"))+")",1)]),e("h5",vRo,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_maturing_payments_count)),1),e("h6",gRo,n(o.$t("Dealer Financing")),1)]),a[9]||(a[9]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-danger p-2"},[e("i",{class:"ti ti-user-plus ti-sm"})])],-1))])])],8,mRo)]),e("div",bRo,[e("div",yRo,[e("div",kRo,[e("div",$Ro,[e("h6",null,n(o.$t("Payments Pending Approval")),1),e("h5",wRo,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_payments_pending_approval_count)),1),e("h6",DRo,n(o.$t("Dealer Financing")),1)]),a[10]||(a[10]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-success p-2"},[e("i",{class:"ti ti-user-check ti-sm"})])],-1))])])]),e("div",xRo,[e("a",{href:t.current_bank+"/requests/dealer-financing?status_search=disbursed&period=mtd"},[e("div",PRo,[e("div",ERo,[e("div",ARo,[e("h6",null,n(o.$t("Disbursed Payments"))+"("+n(o.$t("MTD"))+")",1),e("h5",IRo,n(new Intl.NumberFormat().format(t.dashboard_data.dealer_financing_disbursed_payments_count)),1),e("h6",RRo,n(o.$t("Dealer Financing")),1)]),a[11]||(a[11]=e("div",{class:"card-icon"},[e("span",{class:"badge bg-label-warning rounded-pill p-2"},[e("i",{class:"ti ti-user ti-sm"})])],-1))])])],8,CRo)])])])):b("",!0)]),_:1})]),_:1},16)):b("",!0)}const TRo=Ue(JIo,[["render",SRo],["__scopeId","data-v-c79d19bd"]]),jRo={name:"Notifications",props:["bank"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=async()=>{await A.get(s+o.bank+"/notifications/data").then(l=>{t.value=l.data})},m=l=>{A.get(s+o.bank+"/notifications/"+l.id+"/read").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})},_=l=>{A.get(s+o.bank+"/notifications/read/all").then(()=>{c(),a.success("Notifications updated")}).catch(()=>{a.error("Something went wrong")})};return Qe(()=>{c()}),{moment:H,logs:t,markAsRead:m,markAllAsRead:_}}},ORo={class:"card p-2"},MRo={class:"table-responsive"},LRo={class:"table"},NRo={class:""},FRo={class:"table-border-bottom-0"},YRo={key:0},VRo={colspan:"12",class:"text-center"},BRo={class:"text-center"},URo={key:1},qRo={colspan:"12",class:"text-center"},HRo={class:"text-center"},zRo={key:0},WRo={key:1},KRo={key:2},GRo={key:3},QRo={key:4},ZRo={key:5},JRo={key:6},XRo={key:7},eSo={key:8},tSo={key:9},oSo={key:10},aSo={key:11},nSo={key:12},sSo={key:13},lSo={key:14},iSo={key:15},rSo={key:16},dSo={key:17},cSo=["onClick"];function uSo(o,a,s,t,c,m){return u(),f("div",ORo,[t.logs.length>0?(u(),f("button",{key:0,class:"btn btn-sm btn-primary w-25",type:"button",onClick:a[0]||(a[0]=(..._)=>t.markAllAsRead&&t.markAllAsRead(..._))},n(o.$t("Mark All As Read")),1)):b("",!0),e("div",MRo,[e("table",LRo,[e("thead",null,[e("tr",NRo,[e("th",null,n(o.$t("Notification")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",FRo,[t.logs?b("",!0):(u(),f("tr",YRo,[e("td",VRo,[e("span",BRo,n(o.$t("Loading Data"))+"...",1)])])),t.logs&&t.logs.length<=0?(u(),f("tr",URo,[e("td",qRo,[e("span",HRo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs,_=>(u(),f("tr",{key:_.id},[e("td",null,[_.type=="App\\Notifications\\PaymentRequest"?(u(),f("span",zRo,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\PaymentRequestNotification"?(u(),f("span",WRo,n("Payment Request: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BankUserActivation"?(u(),f("span",KRo,n("Bank User Activation: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BankUserMapping"?(u(),f("span",GRo,n("Bank User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\BranchesUpdate"?(u(),f("span",QRo,n("Branches Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ChangesApproval"?(u(),f("span",ZRo,n("Product Changes Approval: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyCreation"?(u(),f("span",JRo,n("Company Created: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUpdation"?(u(),f("span",XRo,n("Company Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\CompanyUserMapping"?(u(),f("span",eSo,n("Company User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\FeesMasterUpdate"?(u(),f("span",tSo,n("Fees Master Update: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\HolidayListUpdate"?(u(),f("span",oSo,n("Holiday List Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProductConfigurationUpdation"?(u(),f("span",aSo,n("Product Config Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramCreation"?(u(),f("span",nSo,n("Program Created: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramExpiry"?(u(),f("span",sSo,n("Program Expiry: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramUpdation"?(u(),f("span",lSo,n("Program Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramUserMapping"?(u(),f("span",iSo,n("Program User Mapping: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\TaxesUpdate"?(u(),f("span",rSo,n("Taxes Updated: "+_.data.notification),1)):b("",!0),_.type=="App\\Notifications\\ProgramReview"?(u(),f("span",dSo,n("Program Review: "+_.data.notification),1)):b("",!0)]),e("td",null,n(t.moment(_.created_at).format("DD MMM YYYY HH:mm A")),1),e("td",null,[e("button",{class:"btn btn-sm btn-warning",onClick:l=>t.markAsRead(_)},n(o.$t("Mark As Read")),9,cSo)])]))),128))])])])])}const _So=Ue(jRo,[["render",uSo]]),mSo={name:"Pagination",props:{next_page:{Type:String},prev_page:{Type:String},from:{Type:Number},to:{Type:Number},total_items:{Type:Number},links:{Type:Array},first_page_url:{Type:String,default:""},last_page_url:{Type:String,default:""}},methods:{changePage(o){this.$emit("change-page",o)}}},fSo={"aria-label":"Page navigation",class:"mt-2 d-flex flex-column flex-md-row justify-content-between"},hSo={key:0,class:"d-flex my-auto text-primary"},pSo={class:"mx-1 fw-bold"},vSo={class:"mx-1 fw-bold"},gSo={class:"mx-1 fw-bold"},bSo={class:"pagination justify-content-md-end"},ySo={class:"page-item prev"},kSo=["onClick","innerHTML"],$So={class:"page-item next"};function wSo(o,a,s,t,c,m){return u(),f("nav",fSo,[e("div",null,[s.from&&s.to&&s.total_items?(u(),f("div",hSo,[a[2]||(a[2]=e("span",{class:"mr-1 fw-light"},"Showing",-1)),e("span",pSo,n(s.from),1),a[3]||(a[3]=e("span",{class:"mx-1 fw-light"},"to",-1)),e("span",vSo,n(s.to),1),a[4]||(a[4]=e("span",{class:"mx-1 fw-light"},"of",-1)),e("span",gSo,n(s.total_items),1)])):b("",!0)]),e("ul",bSo,[e("li",ySo,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=_=>m.changePage(s.first_page_url))},a[5]||(a[5]=[e("i",{class:"ti ti-chevrons-left ti-xs"},null,-1)]))]),(u(!0),f(G,null,ee(s.links,_=>(u(),f("li",{class:rt(["page-item",_.active?"active":""]),key:_},[_.url?(u(),f("a",{key:0,class:"page-link",href:"javascript:void(0);",onClick:l=>m.changePage(_.url),innerHTML:_.label},null,8,kSo)):b("",!0)],2))),128)),e("li",$So,[e("a",{class:"page-link",href:"javascript:void(0);",onClick:a[1]||(a[1]=_=>m.changePage(s.last_page_url))},a[6]||(a[6]=[e("i",{class:"ti ti-chevrons-right ti-xs"},null,-1)]))])])])}const St=Ue(mSo,[["render",wSo]]),DSo={name:"VendorFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),w=h([]),y=h(""),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h([]),L=h(5),F=h(null),T=h(null),P=h(!1),R=h(0),O=async()=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data?per_page="+L.value+"&type=dashboard").then(De=>{m.value=De.data.payment_requests,B.value=De.data.rejection_reasons}).catch(De=>{console.log(De)})};Qe(()=>{O()});const N=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(De=>{De.user_can_approve&&!De.user_has_approved&&(document.getElementById("payment-request-"+De.id).checked=!0,r.value.push(De.id))}):m.value.data.forEach(De=>{if(De.user_can_approve&&!De.user_has_approved&&document.getElementById("payment-request-"+De.id).checked==!0){document.getElementById("payment-request-"+De.id).checked=!1;let ie;if(!r.value.filter(function(be,Me){ie=Me,be==De.id}))return!1;r.value.splice(ie,1)}})},S=De=>{if(r.value.includes(De)){const ie=r.value.indexOf(De);r.value.splice(ie,1)}else r.value.push(De)},U=De=>{if(r.value.length<=0){s.error("Select requests");return}const ie=new FormData;De=="rejected"&&(r.value.forEach(pe=>{ie.append("requests[]",pe)}),ie.append("rejection_reason",l.value),ie.append("custom_rejection_reason",V.value),ie.append("status","rejected")),De=="approve"&&(r.value.forEach(pe=>{ie.append("requests[]",pe)}),ie.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",ie).then(()=>{s.success("Financing Requests updated"),i.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(pe=>{console.log(pe),s.error("An error occurred")})};return ot(i,De=>{r.value.length>0?(De=="rejected"&&p.value.click(),w.value=[],g.value=0,De=="approve"&&(r.value.forEach(ie=>{w.value.push(m.value.data.filter(pe=>pe.id==ie)[0])}),w.value.forEach(ie=>{g.value+=ie.amount}),v.value.click())):s.error("Select Payment Requests")}),ot([L],async([De])=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:De}}).then(ie=>{m.value=ie.data.payment_requests}).catch(ie=>{console.log(ie)})}),{moment:H,bank_url:c,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:w,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:x,status_search:C,anchor_search:D,vendor_search:E,sort_by:k,request_date_search:I,rejection_reasons:B,customRequestRejectionReason:V,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:De=>{document.getElementById("rejection-reason-"+De).value=="other"?document.getElementById("custom-rejection-reason-"+De).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+De).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+De).value="")},per_page:L,filter:async()=>{await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:L.value,invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,request_date:I.value}}).then(De=>{m.value=De.data.payment_requests})},refresh:async()=>{x.value="",C.value="",y.value="",x.value="",E.value="",D.value="",C.value="",k.value="",I.value="",await A.get(t+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:L.value}}).then(De=>{m.value=De.data.payment_requests})},selectAll:N,invoice_details:F,company_details:T,showCompany:async(De,ie)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+De+"/details").then(pe=>{T.value=pe.data.company,bt(()=>{document.getElementById(ie).click()})}).catch(pe=>{console.log(pe)})},resolvePaymentRequestStatus:De=>{let ie="";switch(De){case"Pending Maker":ie="bg-label-primary";break;case"Pending Checker":ie="bg-label-warning";break;case"Created":ie="bg-label-secondary";break;case"Pending":ie="bg-label-secondary";break;case"Approved":ie="bg-label-success";break;case"Paid":ie="bg-label-success";break;case"Failed":ie="bg-label-danger";break;case"Rejected":ie="bg-label-danger";break;case"Past Due":ie="bg-label-danger";break;default:ie="bg-label-primary";break}return ie},changePage:async De=>{await A.get(De+"&per_page="+L.value).then(ie=>{m.value=ie.data.payment_requests})},resolveFinancingStatus:De=>{let ie="";switch(De){case"pending":ie="bg-label-primary";break;case"paid":ie="bg-label-primary";break;case"closed":ie="bg-label-success";break;case"denied":ie="bg-label-danger";break;default:ie="bg-label-primary";break}return ie},updateStatus:(De,ie)=>{P.value=!0;const pe=new FormData;pe.append("payment_request_id",De.id),pe.append("status",ie),pe.append("rejection_reason",l.value),pe.append("custom_rejection_reason",V.value),A.post(t+o.bank+"/requests/payment-requests/update",pe).then(()=>{s.success("Vendor Financing Request updated successfully"),O(),ie=="approved"?document.getElementById("approve-payment-request-close-btn-"+De.id).click():document.getElementById("reject-payment-request-close-btn-"+De.id).click()}).catch(be=>{console.log(be),s.error("An error occurred")}).finally(()=>{P.value=!1})},getTaxPercentage:(De,ie)=>(ie/De*100).toFixed(2),updateSelected:S,submitBulkAction:U,showInvoice:async(De,ie)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+De+"/details").then(pe=>{F.value=pe.data,R.value++,bt(()=>{document.getElementById(ie).click()})}).catch(pe=>{console.log(pe)})},date_format:a,is_updating:P,invoice_details_key:R}}},xSo={class:"card p-1"},CSo={class:"d-flex justify-content-between"},PSo={class:"card-header px-1"},ESo=["href"],ASo={class:"table-responsive"},ISo={class:"table"},RSo={class:""},SSo={class:"px-1"},TSo={class:""},jSo={class:"px-1"},OSo={class:"px-1"},MSo={class:"px-1"},LSo={class:"px-1"},NSo={class:"px-1"},FSo={class:"px-1"},YSo={class:"px-1"},VSo={class:"px-1"},BSo={class:"table-border-bottom-0"},USo={key:0},qSo={colspan:"12",class:"text-center"},HSo={class:"text-center"},zSo={key:1},WSo={colspan:"12",class:"text-center"},KSo={class:"text-center"},GSo=["onClick"],QSo=["onClick"],ZSo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},JSo=["onClick"],XSo={key:1},eTo=["title"],tTo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},oTo=["onClick"],aTo={key:1},nTo={class:"px-1"},sTo={class:"px-1"},lTo={class:"text-success px-1"},iTo={class:"text-success px-1"},rTo={class:"px-1"},dTo={class:"px-1"},cTo={class:"d-flex"},uTo={key:0},_To=["data-bs-target"],mTo={key:1},fTo=["data-bs-target"],hTo={key:2},pTo=["title"],vTo={key:3},gTo=["title"],bTo=["id","data-bs-target"],yTo=["id","data-bs-target"],kTo=["id","data-bs-target"],$To=["id"],wTo=["id"],DTo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},xTo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},CTo={class:"modal-content"},PTo={class:"modal-body"},ETo={class:"d-flex justify-content-center"},ATo=["id"],ITo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},RTo={class:"modal-content"},STo={class:"modal-header"},TTo={class:"modal-title",id:"modalCenterTitle"},jTo={class:"d-flex gap-1"},OTo={key:0},MTo=["data-bs-target"],LTo={key:1,class:"mx-1"},NTo=["data-bs-target"],FTo=["data-bs-target"],YTo=["href"],VTo={class:"modal-body"},BTo={class:"row mb-1"},UTo={class:"col-6 my-1"},qTo={class:"col-6"},HTo=["href"],zTo={class:"col-6 my-1"},WTo={class:"col-6"},KTo=["href"],GTo={class:"col-6 my-1"},QTo={class:"col-6"},ZTo={class:"col-6 my-1"},JTo={class:"col-6"},XTo={class:"col-6 my-1"},ejo=["onClick"],tjo={class:"col-6 my-1"},ojo={class:"col-6 text-success"},ajo={class:"col-6 my-1"},njo={class:"col-6"},sjo={class:"col-6 my-1"},ljo={class:"col-6 text-success"},ijo={class:"col-6 my-1"},rjo={class:"col-6 text-success"},djo={class:"col-6 my-1"},cjo={class:"col-6"},ujo={class:"col-6 my-1"},_jo={class:"col-6"},mjo={class:"col-6 my-1"},fjo={class:"col-6"},hjo={class:"col-6 my-1"},pjo={class:"col-6"},vjo={class:"col-6 my-1"},gjo={class:"col-6"},bjo={key:0,class:"col-12"},yjo={key:0,class:"row"},kjo={class:"col-6 my-1 d-flex"},$jo={class:""},wjo={key:0,class:""},Djo={class:"col-6 text-success"},xjo={class:"col-6 my-1"},Cjo={class:"col-6 text-success"},Pjo={class:"col-6 my-1"},Ejo={class:"col-6"},Ajo={key:1,class:"col-6"},Ijo={key:2,class:"col-6 my-1"},Rjo={key:3,class:"col-6"},Sjo={key:4,class:"col-6 my-1"},Tjo={class:"modal-footer"},jjo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},Ojo=["id"],Mjo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Ljo={class:"modal-content"},Njo={class:"modal-header"},Fjo={class:"modal-title",id:"modalCenterTitle"},Yjo=["id"],Vjo=["onSubmit"],Bjo={class:"modal-body"},Ujo={class:"modal-footer"},qjo=["disabled"],Hjo=["id"],zjo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Wjo={class:"modal-content"},Kjo={class:"modal-header"},Gjo={class:"modal-title",id:"modalCenterTitle"},Qjo=["id"],Zjo=["onSubmit"],Jjo={class:"modal-body"},Xjo={class:"row mb-1"},eOo={class:"form-group"},tOo={for:""},oOo=["id","onChange"],aOo=["value"],nOo={value:"other"},sOo=["id"],lOo={class:"modal-footer"},iOo=["disabled"],rOo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},dOo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},cOo={class:"modal-content"},uOo={class:"modal-header"},_Oo={class:"modal-title",id:"modalCenterTitle"},mOo={class:"modal-body"},fOo={class:"row mb-1"},hOo={class:"col-5 d-flex"},pOo={class:""},vOo={class:""},gOo={class:"col-5 d-flex"},bOo={class:""},yOo={class:""},kOo={class:"col-5 d-flex"},$Oo={class:""},wOo={class:""},DOo={class:"col-5 d-flex"},xOo={class:""},COo={class:""},POo={class:"col-5 d-flex"},EOo={class:""},AOo={class:""},IOo={class:"col-5 d-flex"},ROo={class:""},SOo={class:""},TOo={class:"col-5 d-flex"},jOo={class:""},OOo={class:""},MOo={class:"col-5 d-flex"},LOo={class:""},NOo={class:""},FOo={class:"col-5 d-flex"},YOo={class:""},VOo={class:""},BOo={class:"col-5 d-flex"},UOo={class:""},qOo={class:""},HOo={class:"col-4"},zOo={class:"d-flex"},WOo={class:""},KOo={class:""},GOo={class:"col-4"},QOo={class:"d-flex"},ZOo={class:""},JOo={class:""},XOo={class:"col-4"},eMo={class:"d-flex"},tMo={class:""},oMo={class:""},aMo={class:"modal-footer"},nMo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function sMo(o,a,s,t,c,m){const _=ce("invoice-details"),l=ce("payment-instruction"),r=ce("upload-attachment");return u(),f("div",xSo,[e("div",CSo,[e("h5",PSo,n(o.$t("Latest Vendor Financing Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/reverse-factoring"},n(o.$t("View All")),9,ESo)]),e("div",ASo,[e("table",ISo,[e("thead",null,[e("tr",RSo,[e("th",SSo,n(o.$t("Payment Reference No"))+".",1),e("th",TSo,n(o.$t("Invoice No"))+".",1),e("th",jSo,n(o.$t("Vendor")),1),e("th",OSo,n(o.$t("Anchor")),1),e("th",MSo,n(o.$t("Request Date")),1),e("th",LSo,n(o.$t("Due Date")),1),e("th",NSo,n(o.$t("PI Amount")),1),e("th",FSo,n(o.$t("Payment Amount")),1),e("th",YSo,n(o.$t("Status")),1),e("th",VSo,n(o.$t("Actions")),1)])]),e("tbody",BSo,[t.requests.data?b("",!0):(u(),f("tr",USo,[e("td",qSo,[e("span",HSo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",zSo,[e("td",WSo,[e("span",KSo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{onClick:d=>t.showInvoice(i.invoice_id,"show-payment-request-btn-"+i.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,GSo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,QSo),e("td",ZSo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.company_id,"show-vendor-details-btn-"+i.company_id)},n(i.company_name),9,JSo)):(u(),f("span",XSo,n(i.company_name),1)),i.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+i.utilized_percentage_ratio+"% utilized"},null,8,eTo)):b("",!0)]),e("td",tTo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.anchor_id,"show-anchor-details-btn-"+i.anchor_id)},n(i.anchor_name),9,oTo)):(u(),f("span",aTo,n(i.anchor_name),1))]),e("td",nTo,n(t.moment(i.created_at).format(t.date_format)),1),e("td",sTo,n(t.moment(i.due_date).format(t.date_format)),1),e("td",lTo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_amount)),1),e("td",iTo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.amount)),1),e("td",rTo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",dTo,[e("div",cTo,[!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",uTo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},null,8,_To)])):b("",!0),!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",mTo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},null,8,fTo)])):b("",!0),(i.program_suspended||i.mapping_suspended)&&i.status!="rejected"?(u(),f("span",hTo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,pTo)])):b("",!0),i.status=="rejected"?(u(),f("span",vTo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:i.rejected_reason,style:{cursor:"pointer"}},null,8,gTo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+i.invoice_id},null,8,bTo),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,yTo),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,kTo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+i.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,$To),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,wTo),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",DTo,[e("div",xTo,[e("div",CTo,[e("div",PTo,[e("div",ETo,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+i.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",ITo,[e("div",RTo,[e("div",STo,[e("h5",TTo,n(o.$t("Payment Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",jTo,[i.user_can_approve&&!i.user_has_approved?(u(),f("span",OTo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},n(o.$t("Approve")),9,MTo)])):b("",!0),i.user_can_approve&&!i.user_has_approved?(u(),f("span",LTo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,NTo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+i.invoice_id},n(o.$t("Attachment")),9,FTo)]),e("div",null,[e("a",{href:t.bank_url+"/payment-request/"+i.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,YTo)])])]),e("div",VTo,[e("div",BTo,[e("div",UTo,n(o.$t("Vendor")),1),e("div",qTo,[e("a",{href:t.bank_url+"/companies/"+i.company_id+"/details",class:"fw-bold my-auto"},n(i.company_name),9,HTo)]),e("div",zTo,n(o.$t("Anchor")),1),e("div",WTo,[e("a",{href:t.bank_url+"/companies/"+i.anchor_id+"/details",class:"fw-bold my-auto"},n(i.anchor_name),9,KTo)]),e("div",GTo,n(o.$t("Program Name")),1),e("div",QTo,n(i.program_name),1),e("div",ZTo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",JTo,n(i.invoice_number),1),e("div",XTo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,ejo),e("div",tjo,n(o.$t("PI Amount")),1),e("div",ojo,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",ajo,n(o.$t("Eligibility"))+" (%)",1),e("div",njo,n(i.eligibility),1),e("div",sjo,n(o.$t("Eligible Payment Amount")),1),e("div",ljo,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",ijo,n(o.$t("Requested Payment Amount")),1),e("div",rjo,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",djo,n(o.$t("Credit to Account No"))+".:",1),e("div",cjo,n(i.payment_accounts[0].account),1),e("div",ujo,n(o.$t("Request Date")),1),e("div",_jo,n(t.moment(i.created_at).format(t.date_format)),1),e("div",mjo,n(o.$t("Requested Disbursement Date")),1),e("div",fjo,n(t.moment(i.payment_request_date).isBefore(t.moment())&&i.status=="created"?t.moment().format(t.date_format):t.moment(i.payment_request_date).format(t.date_format)),1),e("div",hjo,n(o.$t("Due Date")),1),e("div",pjo,n(t.moment(i.due_date).format(t.date_format)),1),e("div",vjo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",gjo,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",bjo,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",yjo,[e("div",kjo,[e("div",$jo,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",wjo," ("+n(d.description)+") ",1)):b("",!0)]),e("div",Djo,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",xjo,n(o.$t("Net Disbursal Total")),1),e("div",Cjo,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",Pjo,n(o.$t("Status")),1),e("div",Ejo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),i.approvals.length>0?(u(),f("div",Ajo,n(o.$t("Approved By")),1)):b("",!0),i.approvals.length>0?(u(),f("div",Ijo,n(i.approvals[i.approvals.length-1].user.name),1)):b("",!0),i.rejected_by?(u(),f("div",Rjo,n(o.$t("Rejected By")),1)):b("",!0),i.rejected_by?(u(),f("div",Sjo,n(i.rejected_by.name),1)):b("",!0)])]),e("div",Tjo,[e("button",jjo,n(o.$t(" Close")),1)])])])],8,ATo),e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",Mjo,[e("div",Ljo,[e("div",Njo,[e("h5",Fjo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,Yjo)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"approved"),["prevent"]),method:"post"},[e("div",Bjo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with the reference number, "))+" "+n(i.reference_number)+"? ",1)]),e("div",Ujo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,qjo)])],40,Vjo)])])],8,Ojo),e("div",{class:"modal fade",id:"update-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",zjo,[e("div",Wjo,[e("div",Kjo,[e("h5",Gjo,n(o.$t("Reject Vendor Financing Request with reference number, "+i.reference_number)),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,Qjo)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",Jjo,[e("div",Xjo,[e("div",eOo,[e("label",tOo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+i.id,"onUpdate:modelValue":a[0]||(a[0]=d=>t.updateRequestRejectionReason=d),onChange:d=>t.updateSelectedRejectionReason(i.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,aOo))),128)),e("option",nOo,n(o.$t("Other")),1)],40,oOo),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+i.id,"onUpdate:modelValue":a[1]||(a[1]=d=>t.customRequestRejectionReason=d)},null,8,sOo),[[X,t.customRequestRejectionReason]])])])]),e("div",lOo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,iOo)])],40,Zjo)])])],8,Hjo),t.company_details?(u(),f("div",rOo,[e("div",dOo,[e("div",cOo,[e("div",uOo,[e("h5",_Oo,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",mOo,[e("div",fOo,[e("div",hOo,[e("div",pOo,n(o.$t("Name"))+":",1),e("div",vOo,n(t.company_details.name),1)]),e("div",gOo,[e("div",bOo,n(o.$t("KRA PIN"))+":",1),e("div",yOo,n(t.company_details.kra_pin),1)]),e("div",kOo,[e("div",$Oo,n(o.$t("Unique Identification No."))+":",1),e("div",wOo,n(t.company_details.unique_identification_number),1)]),e("div",DOo,[e("div",xOo,n(o.$t("Business Identification No."))+":",1),e("div",COo,n(t.company_details.business_identification_number),1)]),e("div",POo,[e("div",EOo,n(o.$t("Type"))+":",1),e("div",AOo,n(t.company_details.organization_type),1)]),e("div",IOo,[e("div",ROo,n(o.$t("Branch Code"))+":",1),e("div",SOo,n(t.company_details.branch_code),1)]),e("div",TOo,[e("div",jOo,n(o.$t("City"))+":",1),e("div",OOo,n(t.company_details.city),1)]),e("div",MOo,[e("div",LOo,n(o.$t("Postal Code"))+":",1),e("div",NOo,n(t.company_details.postal_code),1)]),e("div",FOo,[e("div",YOo,n(o.$t("Address"))+":",1),e("div",VOo,n(t.company_details.address),1)]),e("div",BOo,[e("div",UOo,n(o.$t("Customer Type"))+":",1),e("div",qOo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",HOo,[e("div",zOo,[e("div",WOo,n(o.$t("Name"))+":",1),e("div",KOo,n(d.name),1)])]),e("div",GOo,[e("div",QOo,[e("div",ZOo,n(o.$t("Email"))+":",1),e("div",JOo,n(d.email),1)])]),e("div",XOo,[e("div",eMo,[e("div",tMo,n(o.$t("Phone"))+":",1),e("div",oMo,n(d.phone_number),1)])])]))),128))]),e("div",aMo,[e("button",nMo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const lMo=Ue(DSo,[["render",sMo]]),iMo={name:"FactoringRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h(""),i=h([]),d=h(""),p=h(!1),v=h(null),g=h(null),w=h(0),y=h([]),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h([]),L=h(null),F=h(null),T=h(0),P=h(5),R=h(!1),O=async()=>{await A.get(t+o.bank+"/requests/factoring-requests/data?per_page="+P.value+"&type=dashboard").then(ie=>{m.value=ie.data.payment_requests,B.value=ie.data.rejection_reasons}).catch(ie=>{console.log(ie)})},N=ie=>{if(i.value.includes(ie)){const pe=i.value.indexOf(ie);i.value.splice(pe,1)}else i.value.push(ie)},S=()=>{i.value=[],document.getElementById("select-all").checked?m.value.data.forEach(ie=>{ie.user_can_approve&&!ie.user_has_approved&&(document.getElementById("payment-request-"+ie.id).checked=!0,i.value.push(ie.id))}):m.value.data.forEach(ie=>{if(ie.user_can_approve&&!ie.user_has_approved&&document.getElementById("payment-request-"+ie.id).checked==!0){document.getElementById("payment-request-"+ie.id).checked=!1;let pe;if(!i.value.filter(function(Me,ue){pe=ue,Me==ie.id}))return!1;i.value.splice(pe,1)}})},U=ie=>{if(i.value.length<=0){s.error("Select requests");return}const pe=new FormData;ie=="rejected"&&(i.value.forEach(be=>{pe.append("requests[]",be)}),pe.append("rejection_reason",l.value),pe.append("custom_rejection_reason",r.value),pe.append("status","rejected")),ie=="approve"&&(i.value.forEach(be=>{pe.append("requests[]",be)}),pe.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",pe).then(()=>{s.success("Financing Requests updated"),d.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(be=>{console.log(be),s.error("An error occurred")})};ot(d,ie=>{i.value.length>0?(ie=="rejected"&&v.value.click(),y.value=[],w.value=0,ie=="approve"&&(i.value.forEach(pe=>{y.value.push(m.value.data.filter(be=>be.id==pe)[0])}),y.value.forEach(pe=>{w.value+=pe.amount}),g.value.click())):s.error("Select Payment Requests")}),ot([P],async([ie])=>{await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:ie}}).then(pe=>{m.value=pe.data.payment_requests}).catch(pe=>{console.log(pe)})});const W=async()=>{let ie=$(".ti-search").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:P.value,invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,sort_by:I.value,request_date:V.value}}).then(pe=>{m.value=pe.data.payment_requests,ie.html('<i class="ti ti-search"></i>')})},oe=async()=>{let ie=$(".ti-refresh").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",E.value="",x.value="",C.value="",D.value="",k.value="",I.value="",V.value="",await A.get(t+o.bank+"/requests/factoring-requests/data",{params:{per_page:P.value}}).then(pe=>{m.value=pe.data.payment_requests,ie.html('<i class="ti ti-refresh"></i>')})},J=()=>{A.get(t+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Factoring",invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,sort_by:I.value,request_date:V.value}}).then(ie=>{const pe=window.URL.createObjectURL(new Blob([ie.data])),be=document.createElement("a");be.href=pe,be.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(be),be.click()}).catch(ie=>{console.log(ie)})};return Qe(()=>{O()}),{moment:H,bank_url:c,requests:m,selected_requests:i,bulk_action:d,showBulkRejectionReasonModal:p,showRejectionModal:v,showApprovalModal:g,approveRequests:y,approveRequestsTotalAmount:w,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:x,invoice_number_search:C,status_search:E,anchor_search:k,vendor_search:D,sort_by:I,request_date_search:V,filter:W,refresh:oe,rejection_reasons:B,customRequestRejectionReason:r,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:ie=>{document.getElementById("rejection-reason-"+ie).value=="other"?document.getElementById("custom-rejection-reason-"+ie).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+ie).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+ie).value="")},per_page:P,selectAll:S,invoice_details:L,company_details:F,showCompany:async(ie,pe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+ie+"/details").then(be=>{F.value=be.data.company,bt(()=>{document.getElementById(pe).click()})}).catch(be=>{console.log(be)})},resolvePaymentRequestStatus:ie=>{let pe="";switch(ie){case"Pending Maker":pe="bg-label-primary";break;case"Pending Checker":pe="bg-label-warning";break;case"Created":pe="bg-label-secondary";break;case"Pending":pe="bg-label-secondary";break;case"Approved":pe="bg-label-success";break;case"Paid":pe="bg-label-success";break;case"Failed":pe="bg-label-danger";break;case"Rejected":pe="bg-label-danger";break;case"Past Due":pe="bg-label-danger";break;default:pe="bg-label-primary";break}return pe},changePage:async ie=>{await A.get(ie+"&per_page="+P.value).then(pe=>{m.value=pe.data.payment_requests})},resolveFinancingStatus:ie=>{let pe="";switch(ie){case"pending":pe="bg-label-primary";break;case"financed":pe="bg-label-primary";break;case"disbursed":pe="bg-label-primary";break;case"closed":pe="bg-label-success";break;case"denied":pe="bg-label-danger";break;default:pe="bg-label-primary";break}return pe},updateStatus:(ie,pe)=>{R.value=!0;const be=new FormData;be.append("payment_request_id",ie.id),be.append("status",pe),be.append("rejection_reason",l.value),be.append("custom_rejection_reason",r.value),A.post(t+o.bank+"/requests/payment-requests/update",be).then(()=>{s.success("Factoring Request updated successfully"),O(),pe=="approved"?document.getElementById("approve-payment-request-close-btn-"+ie.id).click():document.getElementById("reject-payment-request-close-btn-"+ie.id).click()}).catch(Me=>{console.log(Me),s.error("An error occurred")}).finally(()=>{R.value=!1})},getTaxPercentage:(ie,pe)=>pe/ie*100,updateSelected:N,submitBulkAction:U,exportReport:J,showInvoice:async(ie,pe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+ie+"/details").then(be=>{L.value=be.data,T.value++,bt(()=>{document.getElementById(pe).click()})}).catch(be=>{console.log(be)})},date_format:a,is_updating:R,invoice_details_key:T}}},rMo={class:"card p-1"},dMo={class:"d-flex justify-content-between"},cMo={class:"card-header px-1"},uMo=["href"],_Mo={class:"table-responsive"},mMo={class:"table"},fMo={class:""},hMo={class:"px-1"},pMo={class:""},vMo={class:"px-1"},gMo={class:"px-1"},bMo={class:"px-1"},yMo={class:"px-1"},kMo={class:"px-1"},$Mo={class:"px-1"},wMo={class:"px-1"},DMo={class:"px-1"},xMo={class:"table-border-bottom-0"},CMo={key:0},PMo={colspan:"12",class:"text-center"},EMo={class:"text-center"},AMo={key:1},IMo={colspan:"12",class:"text-center"},RMo={class:"text-center"},SMo=["onClick"],TMo=["onClick"],jMo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},OMo=["onClick"],MMo={key:1},LMo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},NMo=["onClick"],FMo={key:1},YMo={class:"px-1"},VMo={class:"px-1"},BMo={class:"text-success"},UMo={class:"text-success"},qMo={class:"px-1"},HMo={class:"px-1"},zMo={class:"d-flex"},WMo={key:0},KMo=["data-bs-target"],GMo={key:1},QMo=["data-bs-target"],ZMo={key:2},JMo=["title"],XMo={key:3},e9o=["title"],t9o=["id","data-bs-target"],o9o=["id","data-bs-target"],a9o=["id","data-bs-target"],n9o=["id"],s9o=["id"],l9o={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},i9o={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},r9o={class:"modal-content"},d9o={class:"modal-body"},c9o={class:"d-flex justify-content-center"},u9o=["id"],_9o={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},m9o={class:"modal-content"},f9o={class:"modal-header"},h9o={class:"modal-title",id:"modalCenterTitle"},p9o={class:"d-flex gap-1"},v9o={key:0},g9o=["data-bs-target"],b9o={key:1,class:""},y9o=["data-bs-target"],k9o=["data-bs-target"],$9o=["href"],w9o={class:"modal-body"},D9o={class:"row mb-1"},x9o={class:"col-6 my-1"},C9o={class:"col-6"},P9o=["href"],E9o={class:"col-6 my-1"},A9o={class:"col-6"},I9o=["href"],R9o={class:"col-6 my-1"},S9o={class:"col-6"},T9o={class:"col-6 my-1"},j9o={class:"col-6"},O9o={class:"col-6 my-1"},M9o=["onClick"],L9o={class:"col-6 my-1"},N9o={class:"col-6 text-success"},F9o={class:"col-6 my-1"},Y9o={class:"col-6"},V9o={class:"col-6 my-1"},B9o={class:"col-6 text-success"},U9o={class:"col-6 my-1"},q9o={class:"col-6 text-success"},H9o={class:"col-6 my-1"},z9o={class:"col-6"},W9o={class:"col-6 my-1"},K9o={class:"col-6"},G9o={class:"col-6 my-1"},Q9o={class:"col-6"},Z9o={class:"col-6 my-1"},J9o={class:"col-6"},X9o={class:"col-6 my-1"},e7o={class:"col-6"},t7o={key:0,class:"col-12"},o7o={key:0,class:"row"},a7o={class:"col-6 my-1 d-flex"},n7o={class:""},s7o={key:0,class:""},l7o={class:"col-6 text-success"},i7o={class:"col-6 my-1"},r7o={class:"col-6 text-success"},d7o={class:"col-6 my-1"},c7o={class:"col-6"},u7o={key:1,class:"col-6"},_7o={key:2,class:"col-6 my-1"},m7o={key:3,class:"col-6"},f7o={key:4,class:"col-6 my-1"},h7o={class:"modal-footer"},p7o={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},v7o=["id"],g7o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},b7o={class:"modal-content"},y7o={class:"modal-header"},k7o={class:"modal-title",id:"modalCenterTitle"},$7o=["id"],w7o=["onSubmit"],D7o={class:"modal-body"},x7o={class:"modal-footer"},C7o=["disabled"],P7o=["id"],E7o={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},A7o={class:"modal-content"},I7o={class:"modal-header"},R7o={class:"modal-title",id:"modalCenterTitle"},S7o=["id"],T7o=["onSubmit"],j7o={class:"modal-body"},O7o={class:"row mb-1"},M7o={class:"form-group"},L7o={for:""},N7o=["id","onChange"],F7o=["value"],Y7o={value:"other"},V7o=["id"],B7o={class:"modal-footer"},U7o=["disabled"],q7o={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},H7o={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},z7o={class:"modal-content"},W7o={class:"modal-header"},K7o={class:"modal-title",id:"modalCenterTitle"},G7o={class:"modal-body"},Q7o={class:"row mb-1"},Z7o={class:"col-5 d-flex"},J7o={class:""},X7o={class:""},eLo={class:"col-5 d-flex"},tLo={class:""},oLo={class:""},aLo={class:"col-5 d-flex"},nLo={class:""},sLo={class:""},lLo={class:"col-5 d-flex"},iLo={class:""},rLo={class:""},dLo={class:"col-5 d-flex"},cLo={class:""},uLo={class:""},_Lo={class:"col-5 d-flex"},mLo={class:""},fLo={class:""},hLo={class:"col-5 d-flex"},pLo={class:""},vLo={class:""},gLo={class:"col-5 d-flex"},bLo={class:""},yLo={class:""},kLo={class:"col-5 d-flex"},$Lo={class:""},wLo={class:""},DLo={class:"col-5 d-flex"},xLo={class:""},CLo={class:""},PLo={class:"col-4"},ELo={class:"d-flex"},ALo={class:""},ILo={class:""},RLo={class:"col-4"},SLo={class:"d-flex"},TLo={class:""},jLo={class:""},OLo={class:"col-4"},MLo={class:"d-flex"},LLo={class:""},NLo={class:""},FLo={class:"modal-footer"},YLo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function VLo(o,a,s,t,c,m){const _=ce("invoice-details"),l=ce("payment-instruction"),r=ce("upload-attachment");return u(),f("div",rMo,[e("div",dMo,[e("h5",cMo,n(o.$t("Latest Factoring Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/factoring"},n(o.$t("View All")),9,uMo)]),e("div",_Mo,[e("table",mMo,[e("thead",null,[e("tr",fMo,[e("th",hMo,n(o.$t("Payment Reference No"))+".",1),e("th",pMo,n(o.$t("Invoice No"))+".",1),e("th",vMo,n(o.$t("Vendor")),1),e("th",gMo,n(o.$t("Anchor")),1),e("th",bMo,n(o.$t("Request Date")),1),e("th",yMo,n(o.$t("Due Date")),1),e("th",kMo,n(o.$t("PI Amount")),1),e("th",$Mo,n(o.$t("Payment Amount")),1),e("th",wMo,n(o.$t("Status")),1),e("th",DMo,n(o.$t("Actions")),1)])]),e("tbody",xMo,[t.requests.data?b("",!0):(u(),f("tr",CMo,[e("td",PMo,[e("span",EMo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",AMo,[e("td",IMo,[e("span",RMo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",{onClick:d=>t.showInvoice(i.invoice_id,"show-payment-request-btn-"+i.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(i.reference_number),9,SMo),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-details-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.invoice_number),9,TMo),e("td",jMo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.buyer_id,"show-vendor-details-btn-"+i.buyer_id)},n(i.buyer_name),9,OMo)):(u(),f("span",MMo,n(i.buyer_name),1))]),e("td",LMo,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.anchor_id,"show-anchor-details-btn-"+i.anchor_id)},n(i.anchor_name),9,NMo)):(u(),f("span",FMo,n(i.anchor_name),1))]),e("td",YMo,n(t.moment(i.created_at).format(t.date_format)),1),e("td",VMo,n(t.moment(i.due_date).format(t.date_format)),1),e("td",BMo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.invoice_amount)),1),e("td",UMo,n(i.currency)+" "+n(new Intl.NumberFormat().format(i.amount)),1),e("td",qMo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),e("td",HMo,[e("div",zMo,[!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",WMo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},null,8,KMo)])):b("",!0),!i.program_suspended&&!i.mapping_suspended&&i.user_can_approve&&!i.user_has_approved?(u(),f("span",GMo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},null,8,QMo)])):b("",!0),(i.program_suspended||i.mapping_suspended)&&i.status!="rejected"?(u(),f("span",ZMo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,JMo)])):b("",!0),i.status=="rejected"?(u(),f("span",XMo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:i.rejected_reason,style:{cursor:"pointer"}},null,8,e9o)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+i.invoice_id},null,8,t9o),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,o9o),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,a9o),e("button",{class:"d-none",id:"show-anchor-details-btn-"+i.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,n9o),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.buyer_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,s9o),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",l9o,[e("div",i9o,[e("div",r9o,[e("div",d9o,[e("div",c9o,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+i.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",_9o,[e("div",m9o,[e("div",f9o,[e("h5",h9o,n(o.$t("Factoring Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",p9o,[i.user_can_approve&&!i.user_has_approved?(u(),f("span",v9o,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+i.id},n(o.$t("Approve")),9,g9o)])):b("",!0),i.user_can_approve&&!i.user_has_approved?(u(),f("span",b9o,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+i.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,y9o)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+i.invoice_id},n(o.$t("Attachment")),9,k9o)]),e("div",null,[e("a",{href:"../payment-request/"+i.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,$9o)])])]),e("div",w9o,[e("div",D9o,[e("div",x9o,n(o.$t("Buyer")),1),e("div",C9o,[e("a",{href:"../companies/"+i.buyer_id+"/details",class:"fw-bold my-auto"},n(i.buyer_name),9,P9o)]),e("div",E9o,n(o.$t("Anchor")),1),e("div",A9o,[e("a",{href:"../companies/"+i.anchor_id+"/details",class:"fw-bold my-auto"},n(i.anchor_name),9,I9o)]),e("div",R9o,n(o.$t("Program Name")),1),e("div",S9o,n(i.program_name),1),e("div",T9o,n(o.$t("Invoice / Unique Reference Number")),1),e("div",j9o,n(i.invoice_number),1),e("div",O9o,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id)},n(i.pi_number),9,M9o),e("div",L9o,n(o.$t("PI Amount")),1),e("div",N9o,n(new Intl.NumberFormat().format(i.invoice_total_amount)),1),e("div",F9o,n(o.$t("Eligibility"))+" (%)",1),e("div",Y9o,n(i.eligibility),1),e("div",V9o,n(o.$t("Eligible Payment Amount")),1),e("div",B9o,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",U9o,n(o.$t("Requested Payment Amount")),1),e("div",q9o,n(new Intl.NumberFormat().format(i.eligible_for_finance)),1),e("div",H9o,n(o.$t("Credit to Account No"))+".:",1),e("div",z9o,n(i.payment_accounts[0].account),1),e("div",W9o,n(o.$t("Request Date")),1),e("div",K9o,n(t.moment(i.created_at).format(t.date_format)),1),e("div",G9o,n(o.$t("Requested Disbursement Date")),1),e("div",Q9o,n(t.moment(i.payment_request_date).isBefore(t.moment())&&i.status=="created"?t.moment().format(t.date_format):t.moment(i.payment_request_date).format(t.date_format)),1),e("div",Z9o,n(o.$t("Due Date")),1),e("div",J9o,n(t.moment(i.due_date).format(t.date_format)),1),e("div",X9o,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",e7o,n(i.total_roi),1),i.payment_accounts&&i.payment_accounts.length>0?(u(),f("div",t7o,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("div",{key:d.id},[d.can_show?(u(),f("div",o7o,[e("div",a7o,[e("div",n7o,n(d.title?d.title:d.type.replaceAll("_"," ")),1),d.description?(u(),f("div",s7o," ("+n(d.description)+") ",1)):b("",!0)]),e("div",l7o,n(new Intl.NumberFormat().format(Number(d.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",i7o,n(o.$t("Net Disbursal Total")),1),e("div",r7o,n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1),e("div",d7o,n(o.$t("Status")),1),e("div",c7o,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.approval_stage)])},n(i.approval_stage),3)]),i.approvals.length>0?(u(),f("div",u7o,n(o.$t("Approved By")),1)):b("",!0),i.approvals.length>0?(u(),f("div",_7o,n(i.approvals[i.approvals.length-1].user.name),1)):b("",!0),i.rejected_by?(u(),f("div",m7o,n(o.$t("Rejected By")),1)):b("",!0),i.rejected_by?(u(),f("div",f7o,n(i.rejected_by.name),1)):b("",!0)])]),e("div",h7o,[e("button",p7o,n(o.$t(" Close")),1)])])])],8,u9o),e("div",{class:"modal fade",id:"approve-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",g7o,[e("div",b7o,[e("div",y7o,[e("h5",k7o,n(o.$t("Approve Factoring Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,$7o)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"approved"),["prevent"]),method:"post"},[e("div",D7o,[e("h5",null,n(o.$t("Are you sure you want to approve the Factoring request with the reference number, "))+" "+n(i.reference_number)+"? ",1)]),e("div",x7o,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,C7o)])],40,w7o)])])],8,v7o),e("div",{class:"modal fade",id:"update-payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",E7o,[e("div",A7o,[e("div",I7o,[e("h5",R7o,n(o.$t("Reject Factoring Request with the reference number, "))+" "+n(i.reference_number),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+i.id,"aria-label":"Close"},null,8,S7o)]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",j7o,[e("div",O7o,[e("div",M7o,[e("label",L7o,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+i.id,"onUpdate:modelValue":a[0]||(a[0]=d=>t.updateRequestRejectionReason=d),onChange:d=>t.updateSelectedRejectionReason(i.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,F7o))),128)),e("option",Y7o,n(o.$t("Other")),1)],40,N7o),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+i.id,"onUpdate:modelValue":a[1]||(a[1]=d=>t.customRequestRejectionReason=d)},null,8,V7o),[[X,t.customRequestRejectionReason]])])])]),e("div",B7o,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,U7o)])],40,T7o)])])],8,P7o),t.company_details?(u(),f("div",q7o,[e("div",H7o,[e("div",z7o,[e("div",W7o,[e("h5",K7o,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",G7o,[e("div",Q7o,[e("div",Z7o,[e("div",J7o,n(o.$t("Name"))+":",1),e("div",X7o,n(t.company_details.name),1)]),e("div",eLo,[e("div",tLo,n(o.$t("KRA PIN"))+":",1),e("div",oLo,n(t.company_details.kra_pin),1)]),e("div",aLo,[e("div",nLo,n(o.$t("Unique Identification No."))+":",1),e("div",sLo,n(t.company_details.unique_identification_number),1)]),e("div",lLo,[e("div",iLo,n(o.$t("Business Identification No."))+":",1),e("div",rLo,n(t.company_details.business_identification_number),1)]),e("div",dLo,[e("div",cLo,n(o.$t("Type"))+":",1),e("div",uLo,n(t.company_details.organization_type),1)]),e("div",_Lo,[e("div",mLo,n(o.$t("Branch Code"))+":",1),e("div",fLo,n(t.company_details.branch_code),1)]),e("div",hLo,[e("div",pLo,n(o.$t("City"))+":",1),e("div",vLo,n(t.company_details.city),1)]),e("div",gLo,[e("div",bLo,n(o.$t("Postal Code"))+":",1),e("div",yLo,n(t.company_details.postal_code),1)]),e("div",kLo,[e("div",$Lo,n(o.$t("Address"))+":",1),e("div",wLo,n(t.company_details.address),1)]),e("div",DLo,[e("div",xLo,n(o.$t("Customer Type"))+":",1),e("div",CLo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",PLo,[e("div",ELo,[e("div",ALo,n(o.$t("Name"))+":",1),e("div",ILo,n(d.name),1)])]),e("div",RLo,[e("div",SLo,[e("div",TLo,n(o.$t("Email"))+":",1),e("div",jLo,n(d.email),1)])]),e("div",OLo,[e("div",MLo,[e("div",LLo,n(o.$t("Phone"))+":",1),e("div",NLo,n(d.phone_number),1)])])]))),128))]),e("div",FLo,[e("button",YLo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const BLo=Ue(iMo,[["render",VLo]]),ULo={name:"DealerFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format,s=lt(),t=Je("baseURL"),c=o.bank,m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),w=h([]),y=h(""),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h([]),L=h(5),F=h(null),T=h(null),P=h(!1),R=h(0),O=async()=>{await A.get(t+o.bank+"/requests/dealer-financing-requests/data?per_page="+L.value+"&type=dashboard").then(ie=>{m.value=ie.data.payment_requests,B.value=ie.data.rejection_reasons}).catch(ie=>{console.log(ie)})},N=ie=>{if(r.value.includes(ie)){const pe=r.value.indexOf(ie);r.value.splice(pe,1)}else r.value.push(ie)},S=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(ie=>{ie.user_can_approve&&!ie.user_has_approved&&(document.getElementById("payment-request-"+ie.id).checked=!0,r.value.push(ie.id))}):m.value.data.forEach(ie=>{if(ie.user_can_approve&&!ie.user_has_approved&&document.getElementById("payment-request-"+ie.id).checked==!0){document.getElementById("payment-request-"+ie.id).checked=!1;let pe;if(!r.value.filter(function(Me,ue){pe=ue,Me==ie.id}))return!1;r.value.splice(pe,1)}})},U=ie=>{if(r.value.length<=0){s.error("Select requests");return}const pe=new FormData;ie=="rejected"&&(r.value.forEach(be=>{pe.append("requests[]",be)}),pe.append("rejection_reason",l.value),pe.append("custom_rejection_reason",V.value),pe.append("status","rejected")),ie=="approve"&&(r.value.forEach(be=>{pe.append("requests[]",be)}),pe.append("status","approved")),A.post(t+o.bank+"/requests/financing-requests/update",pe).then(()=>{s.success("Financing Requests updated"),i.value="",setTimeout(()=>{window.location.reload()},3e3)}).catch(be=>{console.log(be),s.error("An error occurred")})};ot(i,ie=>{r.value.length>0?(ie=="rejected"&&p.value.click(),w.value=[],g.value=0,ie=="approve"&&(r.value.forEach(pe=>{w.value.push(m.value.data.filter(be=>be.id==pe)[0])}),w.value.forEach(pe=>{g.value+=pe.amount}),v.value.click())):s.error("Select Payment Requests")}),ot([L],async([ie])=>{await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:ie}}).then(pe=>{m.value=pe.data.payment_requests}).catch(pe=>{console.log(pe)})});const W=async()=>{let ie=$(".ti-search").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:L.value,invoice_number:x.value,payment_reference_number:y.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,request_date:I.value}}).then(pe=>{m.value=pe.data.payment_requests,ie.html('<i class="ti ti-search"></i>')})},oe=async()=>{let ie=$(".ti-refresh").parent();ie.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",C.value="",y.value="",x.value="",E.value="",D.value="",C.value="",k.value="",I.value="",await A.get(t+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:L.value}}).then(pe=>{m.value=pe.data.payment_requests,ie.html('<i class="ti ti-refresh"></i>')})},J=()=>{A.get(t+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Dealer Financing",invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,request_date:I.value}}).then(ie=>{const pe=window.URL.createObjectURL(new Blob([ie.data])),be=document.createElement("a");be.href=pe,be.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(be),be.click()}).catch(ie=>{console.log(ie)})};return Qe(()=>{O()}),{moment:H,bank_url:c,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:w,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:x,status_search:C,anchor_search:D,vendor_search:E,sort_by:k,request_date_search:I,filter:W,refresh:oe,rejection_reasons:B,customRequestRejectionReason:V,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:ie=>{document.getElementById("rejection-reason-"+ie).value=="other"?document.getElementById("custom-rejection-reason-"+ie).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+ie).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+ie).value="")},per_page:L,invoice_details:F,company_details:T,showCompany:async(ie,pe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/companies/"+ie+"/details").then(be=>{T.value=be.data.company,bt(()=>{document.getElementById(pe).click()})}).catch(be=>{console.log(be)})},selectAll:S,resolvePaymentRequestStatus:ie=>{let pe="";switch(ie){case"Pending Maker":pe="bg-label-primary";break;case"Pending Checker":pe="bg-label-warning";break;case"Created":pe="bg-label-secondary";break;case"Pending":pe="bg-label-secondary";break;case"Approved":pe="bg-label-success";break;case"Paid":pe="bg-label-success";break;case"Failed":pe="bg-label-danger";break;case"Rejected":pe="bg-label-danger";break;case"Past Due":pe="bg-label-danger";break;default:pe="bg-label-primary";break}return pe},changePage:async ie=>{await A.get(ie,{params:{type:"Dealer Financing",invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,request_date:I.value}}).then(pe=>{m.value=pe.data.payment_requests})},resolveFinancingStatus:ie=>{let pe="";switch(ie){case"pending":pe="bg-label-primary";break;case"financed":pe="bg-label-primary";break;case"disbursed":pe="bg-label-primary";break;case"closed":pe="bg-label-success";break;case"denied":pe="bg-label-danger";break;default:pe="bg-label-primary";break}return pe},updateStatus:(ie,pe)=>{P.value=!0;const be=new FormData;be.append("payment_request_id",ie.id),be.append("status",pe),be.append("rejection_reason",l.value),be.append("custom_rejection_reason",V.value),A.post(t+o.bank+"/requests/payment-requests/update",be).then(()=>{s.success("Dealer Financing Request updated successfully"),O(),pe=="approved"?document.getElementById("approve-payment-request-close-btn-"+ie.id).click():document.getElementById("reject-payment-request-close-btn-"+ie.id).click()}).catch(Me=>{console.log(Me),s.error("An error occurred")}).finally(()=>{P.value=!1})},updateSelected:N,submitBulkAction:U,exportReport:J,showInvoice:async(ie,pe)=>{document.getElementById("loading-modal-btn").click(),await A.get(t+o.bank+"/requests/invoices/"+ie+"/details").then(be=>{F.value=be.data,R.value++,bt(()=>{document.getElementById(pe).click()})}).catch(be=>{console.log(be)})},getTaxPercentage:(ie,pe)=>(pe/ie*100).toFixed(2),date_format:a,is_updating:P,invoice_details_key:R}}},qLo={class:"card p-1"},HLo={class:"d-flex justify-content-between"},zLo={class:"card-header px-1"},WLo=["href"],KLo={class:"table-responsive"},GLo={class:"table"},QLo={class:""},ZLo={class:"px-1"},JLo={class:""},XLo={class:"px-1"},eNo={class:"px-1"},tNo={class:"px-1"},oNo={class:"px-1"},aNo={class:"px-1"},nNo={class:"px-1"},sNo={class:"px-1"},lNo={class:"px-1"},iNo={class:"table-border-bottom-0"},rNo={key:0},dNo={colspan:"12",class:"text-center"},cNo={class:"text-center"},uNo={key:1},_No={colspan:"12",class:"text-center"},mNo={class:"text-center"},fNo=["onClick"],hNo=["onClick"],pNo={class:"text-primary text-decoration-underline px-2"},vNo=["onClick"],gNo={key:1},bNo={class:"text-primary text-decoration-underline px-2"},yNo=["onClick"],kNo={key:1},$No={class:"px-1"},wNo={class:"px-1"},DNo={class:"text-success px-1"},xNo={class:"text-success px-1"},CNo={class:"px-1"},PNo={class:"px-1"},ENo={class:"d-flex"},ANo={key:0},INo=["data-bs-target"],RNo={key:1},SNo=["data-bs-target"],TNo={key:2},jNo=["title"],ONo={key:3},MNo=["title"],LNo=["id","data-bs-target"],NNo=["id","data-bs-target"],FNo=["id","data-bs-target"],YNo=["id"],VNo=["id"],BNo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},UNo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qNo={class:"modal-content"},HNo={class:"modal-body"},zNo={class:"d-flex justify-content-center"},WNo=["id"],KNo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},GNo={class:"modal-content"},QNo={class:"modal-header"},ZNo={class:"modal-title",id:"modalCenterTitle"},JNo={class:"d-flex gap-1"},XNo={key:0},eFo=["data-bs-target"],tFo={key:1,class:""},oFo=["data-bs-target"],aFo=["data-bs-target"],nFo=["href"],sFo={class:"modal-body"},lFo={class:"row mb-1"},iFo={class:"col-6 my-1"},rFo={class:"col-6"},dFo=["href"],cFo={class:"col-6 my-1"},uFo={class:"col-6"},_Fo={class:"col-6 my-1"},mFo={class:"col-6"},fFo=["href"],hFo={class:"col-6 my-1"},pFo={class:"col-6"},vFo={class:"col-6 my-1"},gFo={class:"col-6"},bFo={class:"col-6 my-1"},yFo=["onClick"],kFo={class:"col-6 my-1"},$Fo={class:"col-6 text-success"},wFo={class:"col-6 my-1"},DFo={class:"col-6"},xFo={class:"col-6 my-1"},CFo={class:"col-6 text-success"},PFo={class:"col-6 my-1"},EFo={class:"col-6 text-success"},AFo={class:"col-6 my-1"},IFo={class:"col-6"},RFo={class:"col-6 my-1"},SFo={class:"col-6"},TFo={class:"col-6 my-1"},jFo={class:"col-6"},OFo={class:"col-6 my-1"},MFo={class:"col-6"},LFo={key:0,class:"col-12"},NFo={key:0,class:"row"},FFo={class:"col-6 my-1 d-flex"},YFo={class:""},VFo={key:0,class:""},BFo={class:"col-6 text-success"},UFo={class:"col-6 my-1"},qFo={class:"col-6 text-success"},HFo={class:"col-6"},zFo={class:"col-6"},WFo={key:1,class:"col-6"},KFo={key:2,class:"col-6 my-1"},GFo={key:3,class:"col-6"},QFo={key:4,class:"col-6 my-1"},ZFo={class:"modal-footer"},JFo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},XFo=["id"],eYo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tYo={class:"modal-content"},oYo={class:"modal-header"},aYo={class:"modal-title",id:"modalCenterTitle"},nYo=["id"],sYo=["onSubmit"],lYo={class:"modal-body"},iYo={class:"modal-footer"},rYo=["disabled"],dYo=["id"],cYo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uYo={class:"modal-content"},_Yo={class:"modal-header"},mYo={class:"modal-title",id:"modalCenterTitle"},fYo=["id"],hYo=["onSubmit"],pYo={class:"modal-body"},vYo={class:"row mb-1"},gYo={class:"form-group"},bYo={for:""},yYo=["id","onChange"],kYo=["value"],$Yo={value:"other"},wYo=["id"],DYo={class:"modal-footer"},xYo=["disabled"],CYo={key:2,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},PYo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},EYo={class:"modal-content"},AYo={class:"modal-header"},IYo={class:"modal-title",id:"modalCenterTitle"},RYo={class:"modal-body"},SYo={class:"row mb-1"},TYo={class:"col-5 d-flex"},jYo={class:""},OYo={class:""},MYo={class:"col-5 d-flex"},LYo={class:""},NYo={class:""},FYo={class:"col-5 d-flex"},YYo={class:""},VYo={class:""},BYo={class:"col-5 d-flex"},UYo={class:""},qYo={class:""},HYo={class:"col-5 d-flex"},zYo={class:""},WYo={class:""},KYo={class:"col-5 d-flex"},GYo={class:""},QYo={class:""},ZYo={class:"col-5 d-flex"},JYo={class:""},XYo={class:""},eVo={class:"col-5 d-flex"},tVo={class:""},oVo={class:""},aVo={class:"col-5 d-flex"},nVo={class:""},sVo={class:""},lVo={class:"col-5 d-flex"},iVo={class:""},rVo={class:""},dVo={class:"col-4"},cVo={class:"d-flex"},uVo={class:""},_Vo={class:""},mVo={class:"col-4"},fVo={class:"d-flex"},hVo={class:""},pVo={class:""},vVo={class:"col-4"},gVo={class:"d-flex"},bVo={class:""},yVo={class:""},kVo={class:"modal-footer"},$Vo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function wVo(o,a,s,t,c,m){const _=ce("invoice-details"),l=ce("payment-instruction");return u(),f("div",qLo,[e("div",HLo,[e("h5",zLo,n(o.$t("Latest Dealer Financing Requests")),1),e("a",{class:"card-header text-primary text-decoration-underline",href:t.bank_url+"/requests/dealer-financing"},n(o.$t("View All")),9,WLo)]),e("div",KLo,[e("table",GLo,[e("thead",null,[e("tr",QLo,[e("th",ZLo,n(o.$t("Payment Reference No"))+".",1),e("th",JLo,n(o.$t("Invoice No"))+".",1),e("th",XLo,n(o.$t("Dealer")),1),e("th",eNo,n(o.$t("Anchor")),1),e("th",tNo,n(o.$t("Request Date")),1),e("th",oNo,n(o.$t("Due Date")),1),e("th",aNo,n(o.$t("PI Amount")),1),e("th",nNo,n(o.$t("Payment Amount")),1),e("th",sNo,n(o.$t("Status")),1),e("th",lNo,n(o.$t("Actions")),1)])]),e("tbody",iNo,[t.requests.data?b("",!0):(u(),f("tr",rNo,[e("td",dNo,[e("span",cNo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",uNo,[e("td",_No,[e("span",mNo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,r=>(u(),f("tr",{key:r.id},[e("td",{onClick:i=>t.showInvoice(r.invoice_id,"show-payment-request-btn-"+r.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(r.reference_number),9,fNo),e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:i=>t.showInvoice(r.invoice_id,"show-details-btn-"+r.invoice_id)},n(r.invoice_number),9,hNo),e("td",pNo,[r.can_view_company?(u(),f("a",{key:0,href:"#",onClick:i=>t.showCompany(r.company_id,"show-vendor-details-btn-"+r.company_id)},n(r.company_name),9,vNo)):(u(),f("span",gNo,n(r.company_name),1))]),e("td",bNo,[r.can_view_company?(u(),f("a",{key:0,href:"#",onClick:i=>t.showCompany(r.anchor_id,"show-anchor-details-btn-"+r.anchor_id)},n(r.anchor_name),9,yNo)):(u(),f("span",kNo,n(r.anchor_name),1))]),e("td",$No,n(t.moment(r.created_at).format(t.date_format)),1),e("td",wNo,n(t.moment(r.due_date).format(t.date_format)),1),e("td",DNo,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.drawdown_amount)),1),e("td",xNo,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("td",CNo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(r.approval_stage)])},n(r.approval_stage),3)]),e("td",PNo,[e("div",ENo,[!r.program_suspended&&!r.mapping_suspended&&r.user_can_approve&&!r.user_has_approved?(u(),f("span",ANo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+r.id},null,8,INo)])):b("",!0),!r.program_suspended&&!r.mapping_suspended&&r.user_can_approve&&!r.user_has_approved?(u(),f("span",RNo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+r.id,style:{cursor:"pointer"}},null,8,SNo)])):b("",!0),(r.program_suspended||r.mapping_suspended)&&r.status!="rejected"?(u(),f("span",TNo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,jNo)])):b("",!0),r.status=="rejected"?(u(),f("span",ONo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:r.rejected_reason,style:{cursor:"pointer"}},null,8,MNo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+r.invoice_id},null,8,LNo),e("button",{class:"d-none",id:"show-details-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.invoice_id},null,8,NNo),e("button",{class:"d-none",id:"show-pi-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.invoice_id},null,8,FNo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+r.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,YNo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+r.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,VNo),a[7]||(a[7]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",BNo,[e("div",UNo,[e("div",qNo,[e("div",HNo,[e("div",zNo,[e("span",null,n(o.$t("Loading"))+"...",1),a[2]||(a[2]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(_,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",KNo,[e("div",GNo,[e("div",QNo,[e("h5",ZNo,n(o.$t("Payment Request")),1),a[4]||(a[4]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",JNo,[r.user_can_approve&&!r.user_has_approved?(u(),f("span",XNo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+r.id},n(o.$t("Approve")),9,eFo)])):b("",!0),r.user_can_approve&&!r.user_has_approved?(u(),f("span",tFo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+r.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,oFo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+r.invoice_id},n(o.$t("Attachment")),9,aFo)]),e("div",null,[e("a",{href:"../payment-request/"+r.id+"/download",class:"btn btn-primary"},[a[3]||(a[3]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,nFo)])])]),e("div",sFo,[e("div",lFo,[e("div",iFo,n(o.$t("Dealer"))+":",1),e("div",rFo,[e("a",{href:"../companies/"+r.company_id+"/details",class:"fw-bold my-auto"},n(r.company_name),9,dFo)]),e("div",cFo,n(o.$t("OD Account No"))+":",1),e("div",uFo,n(r.payment_account_number),1),e("div",_Fo,n(o.$t("Anchor"))+":",1),e("div",mFo,[e("a",{href:"../companies/"+r.anchor_id+"/details",class:"fw-bold my-auto"},n(r.anchor_name),9,fFo)]),e("div",hFo,n(o.$t("Program Name"))+":",1),e("div",pFo,n(r.program_name),1),e("div",vFo,n(o.$t("Invoice / Unique Reference Number"))+":",1),e("div",gFo,n(r.invoice_number),1),e("div",bFo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:i=>t.showInvoice(r.invoice_id,"show-pi-btn-"+r.invoice_id)},n(r.pi_number),9,yFo),e("div",kFo,n(o.$t("Invoice Amount")),1),e("div",$Fo,n(new Intl.NumberFormat().format(r.invoice_total_amount)),1),e("div",wFo,n(o.$t("Eligibility"))+" (%):",1),e("div",DFo,n(r.eligibility),1),e("div",xFo,n(o.$t("Eligible Drawdown Amount")),1),e("div",CFo,n(new Intl.NumberFormat().format(r.eligible_for_finance)),1),e("div",PFo,n(o.$t("Requested Drawdown Amount"))+":",1),e("div",EFo,n(new Intl.NumberFormat().format(r.drawdown_amount)),1),e("div",AFo,n(o.$t("Credit to Account No"))+".:",1),e("div",IFo,n(r.payment_accounts[0].account),1),e("div",RFo,n(o.$t("Request Date"))+":",1),e("div",SFo,n(t.moment(r.created_at).format(t.date_format)),1),e("div",TFo,n(o.$t("Requested Disbursement Date"))+":",1),e("div",jFo,n(t.moment(r.payment_request_date).isBefore(t.moment())?t.moment().format(t.date_format):t.moment(r.payment_request_date).format(t.date_format)),1),e("div",OFo,n(o.$t("Discount Rate"))+" (%) ("+n("including Base Rate")+"):",1),e("div",MFo,n(r.discount_rate),1),r.payment_accounts&&r.payment_accounts.length>0?(u(),f("div",LFo,[(u(!0),f(G,null,ee(r.payment_accounts,i=>(u(),f("div",{key:i.id},[i.can_show?(u(),f("div",NFo,[e("div",FFo,[e("div",YFo,n(i.title?i.title:i.type.replaceAll("_"," ")),1),i.description?(u(),f("div",VFo," ("+n(i.description)+") ",1)):b("",!0)]),e("div",BFo,n(new Intl.NumberFormat().format(Number(i.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",UFo,n(o.$t("Net Disbursal Total")),1),e("div",qFo,n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("div",HFo,n(o.$t("Status")),1),e("div",zFo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(r.status)])},n(r.status),3)]),r.approvals.length>0?(u(),f("div",WFo,n(o.$t("Approved By")),1)):b("",!0),r.approvals.length>0?(u(),f("div",KFo,n(r.approvals[r.approvals.length-1].user.name),1)):b("",!0),r.rejected_by?(u(),f("div",GFo,n(o.$t("Rejected By")),1)):b("",!0),r.rejected_by?(u(),f("div",QFo,n(r.rejected_by.name),1)):b("",!0)])]),e("div",ZFo,[e("button",JFo,n(o.$t("Close")),1)])])])],8,WNo),e("div",{class:"modal fade",id:"approve-payment-request-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",eYo,[e("div",tYo,[e("div",oYo,[e("h5",aYo,n(o.$t("Approve Dealer Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+r.id,"aria-label":"Close"},null,8,nYo)]),e("form",{onSubmit:st(i=>t.updateStatus(r,"approved"),["prevent"]),method:"post"},[e("div",lYo,[e("h5",null,n(o.$t("Are you sure you want to approve the Dealer Financing request with the reference number, "))+" "+n(r.reference_number)+"? ",1)]),e("div",iYo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,rYo)])],40,sYo)])])],8,XFo),e("div",{class:"modal fade",id:"update-payment-request-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",cYo,[e("div",uYo,[e("div",_Yo,[e("h5",mYo,n(o.$t("Reject Dealer Financing Request with the reference number, "))+" "+n(r.reference_number),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-payment-request-close-btn-"+r.id,"aria-label":"Close"},null,8,fYo)]),e("form",{onSubmit:st(i=>t.updateStatus(r,"rejected"),["prevent"]),method:"post"},[e("div",pYo,[e("div",vYo,[e("div",gYo,[e("label",bYo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+r.id,"onUpdate:modelValue":a[0]||(a[0]=i=>t.updateRequestRejectionReason=i),onChange:i=>t.updateSelectedRejectionReason(r.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,i=>(u(),f("option",{key:i.id,value:i.reason},n(i.reason),9,kYo))),128)),e("option",$Yo,n(o.$t("Other")),1)],40,yYo),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+r.id,"onUpdate:modelValue":a[1]||(a[1]=i=>t.customRequestRejectionReason=i)},null,8,wYo),[[X,t.customRequestRejectionReason]])])])]),e("div",DYo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xYo)])],40,hYo)])])],8,dYo),t.company_details?(u(),f("div",CYo,[e("div",PYo,[e("div",EYo,[e("div",AYo,[e("h5",IYo,n(o.$t("Company Details")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",RYo,[e("div",SYo,[e("div",TYo,[e("div",jYo,n(o.$t("Name"))+":",1),e("div",OYo,n(t.company_details.name),1)]),e("div",MYo,[e("div",LYo,n(o.$t("KRA PIN"))+":",1),e("div",NYo,n(t.company_details.kra_pin),1)]),e("div",FYo,[e("div",YYo,n(o.$t("Unique Identification No."))+":",1),e("div",VYo,n(t.company_details.unique_identification_number),1)]),e("div",BYo,[e("div",UYo,n(o.$t("Business Identification No."))+":",1),e("div",qYo,n(t.company_details.business_identification_number),1)]),e("div",HYo,[e("div",zYo,n(o.$t("Type"))+":",1),e("div",WYo,n(t.company_details.organization_type),1)]),e("div",KYo,[e("div",GYo,n(o.$t("Branch Code"))+":",1),e("div",QYo,n(t.company_details.branch_code),1)]),e("div",ZYo,[e("div",JYo,n(o.$t("City"))+":",1),e("div",XYo,n(t.company_details.city),1)]),e("div",eVo,[e("div",tVo,n(o.$t("Postal Code"))+":",1),e("div",oVo,n(t.company_details.postal_code),1)]),e("div",aVo,[e("div",nVo,n(o.$t("Address"))+":",1),e("div",sVo,n(t.company_details.address),1)]),e("div",lVo,[e("div",iVo,n(o.$t("Customer Type"))+":",1),e("div",rVo,n(t.company_details.customer_type),1)])]),a[6]||(a[6]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,i=>(u(),f("div",{class:"row my-1",key:i.id},[e("div",dVo,[e("div",cVo,[e("div",uVo,n(o.$t("Name"))+":",1),e("div",_Vo,n(i.name),1)])]),e("div",mVo,[e("div",fVo,[e("div",hVo,n(o.$t("Email"))+":",1),e("div",pVo,n(i.email),1)])]),e("div",vVo,[e("div",gVo,[e("div",bVo,n(o.$t("Phone"))+":",1),e("div",yVo,n(i.phone_number),1)])])]))),128))]),e("div",kVo,[e("button",$Vo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])])])}const DVo=Ue(ULo,[["render",wVo]]),xVo={name:"VendorFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),w=h([]),y=h(""),x=h(""),C=h(["pending_maker","pending_checker"]),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h([]),T=h(null),P=h(0),R=h(!1),O=h(null),N=h(50),S=async()=>{await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:N.value,invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(be=>{m.value=be.data.payment_requests,F.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})};Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),C.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();C.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(I.value=H().startOf("month").format("YYYY-MM-DD"),V.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(I.value).format("MM/DD/YYYY")+" - "+H(V.value).format("MM/DD/YYYY"))),S()});const U=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,r.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!r.value.filter(function(je,ze){Me=ze,je==be.id}))return!1;r.value.splice(Me,1)}})},W=be=>{if(r.value.includes(be)){const Me=r.value.indexOf(be);r.value.splice(Me,1)}else r.value.push(be)},oe=be=>{if(r.value.length<=0){t.error("Select requests");return}R.value=!0;const Me=new FormData;be=="rejected"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",L.value),Me.append("status","rejected")),be=="approve"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),i.value="",S(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),ue.response.data.message?t.error(ue.response.data.message):t.error("An error occurred")}).finally(()=>{R.value=!1})};return ot(i,be=>{r.value.length>0?(be=="rejected"&&p.value.click(),w.value=[],g.value=0,be=="approve"&&(r.value.forEach(Me=>{w.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),w.value.forEach(Me=>{g.value+=Me.amount}),v.value.click())):t.error("Select Payment Requests")}),ot([N],async([be])=>{await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:be,invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})}),{moment:H,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:w,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:x,status_search:C,anchor_search:D,vendor_search:E,sort_by:k,request_from_date_search:I,request_to_date_search:V,rejection_reasons:F,customRequestRejectionReason:L,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:N,is_updating:R,filter:async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),B.value=$("#date_search").val(),B.value&&(I.value=H(B.value.split(" - ")[0]).format("YYYY-MM-DD"),V.value=H(B.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:N.value,invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",y.value="",x.value="",E.value="",D.value="",C.value=["pending_maker","pending_checker"],$("#status-select").val(C.value).trigger("change"),k.value="",I.value="",V.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/vendor-financing-requests/data",{params:{per_page:N.value,status:C.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},selectAll:U,invoice_details:T,company_details:O,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{O.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:N.value,invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"paid":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{R.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",L.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Vendor Financing Request updated successfully"),S(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(je=>{console.log(je),je.response.data.message?t.error(je.response.data.message):t.error("An error occurred while approving the request")}).finally(()=>{R.value=!1})},getTaxPercentage:(be,Me)=>(Me/be*100).toFixed(2),updateSelected:W,submitBulkAction:oe,exportReport:()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Vendor Financing Receivable",invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})},showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{T.value=ue.data,P.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},date_format:a,invoice_details_key:P}}},CVo={class:"card p-2"},PVo={class:"d-flex flex-column flex-md-row justify-content-between"},EVo={class:"d-flex flex-wrap gap-1"},AVo={class:""},IVo={for:"Sort by",class:"form-label"},RVo={class:""},SVo={for:"Sort by",class:"form-label"},TVo={class:""},jVo={for:"Sort by",class:"form-label"},OVo={class:""},MVo={for:"Sort by",class:"form-label"},LVo={class:""},NVo={for:"Sort by",class:"form-label"},FVo={value:""},YVo={value:"pending_maker"},VVo={value:"pending_checker"},BVo={value:"approved"},UVo={value:"paid"},qVo={value:"rejected"},HVo={value:"closed"},zVo={class:""},WVo={for:"Sort by",class:"form-label"},KVo={class:""},GVo={for:"Sort by",class:"form-label"},QVo={value:""},ZVo={value:"invoice_no_asc"},JVo={value:"invoice_no_desc"},XVo={value:"pi_amount_asc"},eBo={value:"pi_amount_desc"},tBo={value:"vendor_asc"},oBo={value:"vendor_desc"},aBo={value:"anchor_asc"},nBo={value:"anchor_desc"},sBo={value:"request_date_asc"},lBo={value:"request_date_desc"},iBo={value:"payment_amount_asc"},rBo={value:"payment_amount_desc"},dBo={value:"due_date_asc"},cBo={value:"due_date_desc"},uBo={class:""},_Bo={for:"Sort by",class:"form-label"},mBo={value:""},fBo={value:"approve"},hBo={value:"rejected"},pBo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},vBo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},gBo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bBo={class:"modal-content"},yBo={class:"modal-header"},kBo={class:"modal-title",id:"modalCenterTitle"},$Bo={class:"modal-body"},wBo={class:""},DBo={class:"modal-footer"},xBo=["disabled"],CBo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},PBo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},EBo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ABo={class:"modal-content"},IBo={class:"modal-header"},RBo={class:"modal-title",id:"modalCenterTitle"},SBo={class:"modal-body"},TBo={class:"row mb-1"},jBo={class:"form-group"},OBo={for:""},MBo={value:"",selected:""},LBo=["value"],NBo={value:"other"},FBo={class:"modal-footer"},YBo=["disabled"],VBo={class:"table-search-btn"},BBo={class:"table-clear-btn"},UBo={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},qBo={class:"table-responsive"},HBo={class:"table"},zBo={class:""},WBo={class:"px-1"},KBo={class:"px-1"},GBo={class:""},QBo={class:"px-1"},ZBo={class:"px-1"},JBo={class:"px-1"},XBo={class:"px-1"},eUo={class:"px-1"},tUo={class:"px-1"},oUo={class:"px-1"},aUo={class:"px-1"},nUo={class:"table-border-bottom-0"},sUo={key:0},lUo={colspan:"12",class:"text-center"},iUo={class:"text-center"},rUo={key:1},dUo={colspan:"12",class:"text-center"},cUo={class:"text-center"},uUo={class:"px-1"},_Uo={key:0,class:"form-check"},mUo=["id","onChange"],fUo=["onClick"],hUo=["onClick"],pUo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},vUo=["onClick"],gUo={key:1},bUo=["title"],yUo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},kUo=["onClick"],$Uo={key:1},wUo={class:"px-1"},DUo={class:"px-1"},xUo={class:"text-success px-1"},CUo={class:"text-success px-1"},PUo={class:"px-1"},EUo={class:"px-1"},AUo={class:"d-flex"},IUo={key:0},RUo=["data-bs-target"],SUo={key:1},TUo=["data-bs-target"],jUo={key:2},OUo=["title"],MUo={key:3},LUo=["title"],NUo=["id","data-bs-target"],FUo=["id","data-bs-target"],YUo=["id","data-bs-target"],VUo=["id"],BUo=["id"],UUo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},qUo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},HUo={class:"modal-content"},zUo={class:"modal-body"},WUo={class:"d-flex justify-content-center"},KUo=["id"],GUo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},QUo={class:"modal-content"},ZUo={class:"modal-header"},JUo={class:"modal-title",id:"modalCenterTitle"},XUo={class:"d-flex gap-1"},eqo={key:0},tqo=["data-bs-target"],oqo={key:1,class:""},aqo=["data-bs-target"],nqo=["data-bs-target"],sqo=["href"],lqo={class:"modal-body"},iqo={class:"row mb-1"},rqo={class:"col-6 my-1"},dqo={class:"col-6"},cqo=["href"],uqo={class:"col-6 my-1"},_qo={class:"col-6"},mqo=["href"],fqo={class:"col-6 my-1"},hqo={class:"col-6"},pqo={class:"col-6 my-1"},vqo={class:"col-6"},gqo={class:"col-6 my-1"},bqo=["onClick"],yqo={class:"col-6 my-1"},kqo={class:"col-6 text-success"},$qo={class:"col-6 my-1"},wqo={class:"col-6"},Dqo={class:"col-6 my-1"},xqo={class:"col-6 text-success"},Cqo={class:"col-6 my-1"},Pqo={class:"col-6 text-success"},Eqo={class:"col-6 my-1"},Aqo={class:"col-6"},Iqo={class:"col-6 my-1"},Rqo={class:"col-6"},Sqo={class:"col-6 my-1"},Tqo={class:"col-6"},jqo={class:"col-6 my-1"},Oqo={class:"col-6"},Mqo={class:"col-6"},Lqo={key:0,class:"col-12"},Nqo={key:0,class:"row"},Fqo={class:"col-6 my-1 d-flex"},Yqo={class:""},Vqo={key:0,class:""},Bqo={class:"col-6 text-success"},Uqo={class:"col-6 my-1"},qqo={class:"col-6 text-success"},Hqo={class:"col-6 my-1"},zqo={class:"col-6"},Wqo={key:1,class:"col-6"},Kqo={key:2,class:"col-6 my-1"},Gqo={key:3,class:"col-6"},Qqo={key:4,class:"col-6 my-1"},Zqo={class:"modal-footer"},Jqo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},Xqo=["id"],eHo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tHo={class:"modal-content"},oHo={class:"modal-header"},aHo={class:"modal-title",id:"modalCenterTitle"},nHo=["id"],sHo=["onSubmit"],lHo={class:"modal-body"},iHo={class:"modal-footer"},rHo=["disabled"],dHo=["id"],cHo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uHo={class:"modal-content"},_Ho={class:"modal-header"},mHo={class:"modal-title",id:"modalCenterTitle"},fHo=["id"],hHo=["onSubmit"],pHo={class:"modal-body"},vHo={class:"row mb-1"},gHo={class:"form-group"},bHo={for:""},yHo=["id","onChange"],kHo=["value"],$Ho={value:"other"},wHo=["id"],DHo={class:"modal-footer"},xHo=["disabled"],CHo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},PHo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},EHo={class:"modal-content"},AHo={class:"modal-header"},IHo={class:"modal-title",id:"modalCenterTitle"},RHo={class:"modal-body"},SHo={class:"row mb-1"},THo={class:"col-12 col-md-5 d-flex"},jHo={class:""},OHo={class:""},MHo={class:"col-12 col-md-5 d-flex"},LHo={class:""},NHo={class:""},FHo={class:"col-12 col-md-5 d-flex"},YHo={class:""},VHo={class:""},BHo={class:"col-12 col-md-5 d-flex"},UHo={class:""},qHo={class:""},HHo={class:"col-12 col-md-5 d-flex"},zHo={class:""},WHo={class:""},KHo={class:"col-12 col-md-5 d-flex"},GHo={class:""},QHo={class:""},ZHo={class:"col-12 col-md-5 d-flex"},JHo={class:""},XHo={class:""},ezo={class:"col-12 col-md-5 d-flex"},tzo={class:""},ozo={class:""},azo={class:"col-12 col-md-5 d-flex"},nzo={class:""},szo={class:""},lzo={class:"col-12 col-md-5 d-flex"},izo={class:""},rzo={class:""},dzo={class:"col-12 col-md-4"},czo={class:"d-flex"},uzo={class:""},_zo={class:""},mzo={class:"col-12 col-md-4"},fzo={class:"d-flex"},hzo={class:""},pzo={class:""},vzo={class:"col-12 col-md-4"},gzo={class:"d-flex"},bzo={class:""},yzo={class:""},kzo={class:"modal-footer"},$zo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function wzo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction"),i=ce("upload-attachment");return u(),f("div",CVo,[e("div",PVo,[e("div",EVo,[e("div",AVo,[e("label",IVo,n(o.$t("Payment Ref No")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.payment_reference_number_search]])]),e("div",RVo,[e("label",SVo,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",TVo,[e("label",jVo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",OVo,[e("label",MVo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",LVo,[e("label",NVo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d),onKeyup:a[9]||(a[9]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},[e("option",FVo,n(o.$t("Status")),1),e("option",YVo,n(o.$t("Pending (Maker)")),1),e("option",VVo,n(o.$t("Pending (Checker)")),1),e("option",BVo,n(o.$t("Approved")),1),e("option",UVo,n(o.$t("Disbursed")),1),e("option",qVo,n(o.$t("Rejected")),1),e("option",HVo,n(o.$t("Closed")),1)],544),[[de,t.status_search]])]),e("div",zVo,[e("label",WVo,n(o.$t("Request Date")),1),a[25]||(a[25]=e("input",{class:"form-control form-search",type:"text",id:"date_search",name:"request_daterange"},null,-1))]),e("div",KVo,[e("label",GVo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d),onKeyup:a[11]||(a[11]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},[e("option",QVo,n(o.$t("Sort By")),1),e("option",ZVo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",JVo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",XVo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",eBo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",tBo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",oBo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",aBo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",nBo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",sBo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",lBo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",iBo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",rBo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",dBo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",cBo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],544),[[de,t.sort_by]])]),e("div",uBo,[e("label",_Bo,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[12]||(a[12]=d=>t.bulk_action=d)},[e("option",mBo,n(o.$t("Bulk Actions")),1),e("option",fBo,n(o.$t("Approve")),1),e("option",hBo,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",pBo,null,512),e("div",vBo,[e("div",gBo,[e("div",bBo,[e("div",yBo,[e("h5",kBo,n(o.$t("Approve Payment Requests")),1),a[26]||(a[26]=e("button",{type:"button",id:"bulk-approve-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[13]||(a[13]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",$Bo,[e("div",wBo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected vendor financing requests"))+"?",1)])]),e("div",DBo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xBo)])],32)])])]),e("button",CBo,null,512),e("div",PBo,[e("div",EBo,[e("div",ABo,[e("div",IBo,[e("h5",RBo,n(o.$t("Update Vendor Financing Request")),1),a[27]||(a[27]=e("button",{type:"button",id:"bulk-reject-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[17]||(a[17]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",SBo,[e("div",TBo,[e("div",jBo,[e("label",OBo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=d=>t.updateRequestRejectionReason=d),onChange:a[15]||(a[15]=d=>t.bulkUpdateRejectionReason())},[e("option",MBo,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,LBo))),128)),e("option",NBo,n(o.$t("Other")),1)],544),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[16]||(a[16]=d=>t.customRequestRejectionReason=d)},null,512),[[X,t.customRequestRejectionReason]])])])]),e("div",FBo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,YBo)])],32)])])]),e("div",VBo,[e("button",{class:"btn btn-primary btn-md",onClick:a[18]||(a[18]=(...d)=>t.filter&&t.filter(...d))},a[28]||(a[28]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BBo,[e("button",{class:"btn btn-primary btn-md",onClick:a[19]||(a[19]=(...d)=>t.refresh&&t.refresh(...d))},a[29]||(a[29]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UBo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[20]||(a[20]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[30]||(a[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[21]||(a[21]=d=>t.exportReport())},[a[31]||(a[31]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qBo,[e("table",HBo,[e("thead",null,[e("tr",zBo,[e("th",WBo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[22]||(a[22]=d=>t.selectAll())},null,32)]),e("th",KBo,n(o.$t("Payment Reference No"))+".",1),e("th",GBo,n(o.$t("Invoice No"))+".",1),e("th",QBo,n(o.$t("Vendor")),1),e("th",ZBo,n(o.$t("Anchor")),1),e("th",JBo,n(o.$t("Request Date")),1),e("th",XBo,n(o.$t("Due Date")),1),e("th",eUo,n(o.$t("PI Amount")),1),e("th",tUo,n(o.$t("Payment Amount")),1),e("th",oUo,n(o.$t("Status")),1),e("th",aUo,n(o.$t("Actions")),1)])]),e("tbody",nUo,[t.requests.data?b("",!0):(u(),f("tr",sUo,[e("td",lUo,[e("span",iUo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",rUo,[e("td",dUo,[e("span",cUo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",uUo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",_Uo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,mUo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,fUo),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer"}},n(d.invoice_number),9,hUo),e("td",pUo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.company_id,"show-vendor-details-btn-"+d.company_id)},n(d.company_name),9,vUo)):(u(),f("span",gUo,n(d.company_name),1)),d.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+d.utilized_percentage_ratio+"% utilized"},null,8,bUo)):b("",!0)]),e("td",yUo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,kUo)):(u(),f("span",$Uo,n(d.anchor_name),1))]),e("td",wUo,n(t.moment(d.created_at).format(t.date_format)),1),e("td",DUo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",xUo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount)),1),e("td",CUo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("td",PUo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",EUo,[e("div",AUo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",IUo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,RUo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",SUo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,TUo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",jUo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,OUo)])):b("",!0),d.status=="rejected"?(u(),f("span",MUo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,LUo)])):b("",!0)]),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,NUo),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,FUo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,YUo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,VUo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,BUo),a[38]||(a[38]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",UUo,[e("div",qUo,[e("div",HUo,[e("div",zUo,[e("div",WUo,[e("span",null,n(o.$t("Loading"))+"...",1),a[32]||(a[32]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",GUo,[e("div",QUo,[e("div",ZUo,[e("h5",JUo,n(o.$t("Payment Request")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",XUo,[d.user_can_approve&&!d.user_has_approved?(u(),f("div",eqo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,tqo)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("div",oqo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,aqo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,nqo)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[33]||(a[33]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,sqo)])])]),e("div",lqo,[e("div",iqo,[e("div",rqo,n(o.$t("Vendor")),1),e("div",dqo,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,cqo)]),e("div",uqo,n(o.$t("Anchor")),1),e("div",_qo,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,mqo)]),e("div",fqo,n(o.$t("Program Name")),1),e("div",hqo,n(d.program_name),1),e("div",pqo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",vqo,n(d.invoice_number),1),e("div",gqo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,bqo),e("div",yqo,n(o.$t("PI Amount")),1),e("div",kqo,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",$qo,n(o.$t("Eligibility"))+" (%)",1),e("div",wqo,n(d.eligibility),1),e("div",Dqo,n(o.$t("Eligible Payment Amount")),1),e("div",xqo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",Cqo,n(o.$t("Requested Payment Amount")),1),e("div",Pqo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",Eqo,n(o.$t("Credit to Account No"))+".:",1),e("div",Aqo,n(d.payment_accounts[0].account),1),e("div",Iqo,n(o.$t("Request Date")),1),e("div",Rqo,n(t.moment(d.created_at).format(t.date_format)),1),e("div",Sqo,n(o.$t("Requested Disbursement Date")),1),e("div",Tqo,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",jqo,n(o.$t("Due Date")),1),e("div",Oqo,n(t.moment(d.due_date).format(t.date_format)),1),a[35]||(a[35]=e("div",{class:"col-6 my-1"},"Discount Rate (%) (including Base Rate)",-1)),e("div",Mqo,n(d.total_roi),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",Lqo,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",Nqo,[e("div",Fqo,[e("div",Yqo,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",Vqo," ("+n(p.description)+") ",1)):b("",!0)]),e("div",Bqo,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",Uqo,n(o.$t("Net Disbursal Total")),1),e("div",qqo,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",Hqo,n(o.$t("Status")),1),e("div",zqo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage),3)]),d.approvals.length>0?(u(),f("div",Wqo,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",Kqo,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",Gqo,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",Qqo,n(d.rejected_by.name),1)):b("",!0)])]),e("div",Zqo,[e("button",Jqo,n(o.$t(" Close")),1)])])])],8,KUo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",eHo,[e("div",tHo,[e("div",oHo,[e("h5",aHo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,nHo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",lHo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",iHo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,rHo)])],40,sHo)])])],8,Xqo),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",cHo,[e("div",uHo,[e("div",_Ho,[e("h5",mHo,n(o.$t("Reject Vendor Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,fHo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",pHo,[e("div",vHo,[e("div",gHo,[e("label",bHo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[23]||(a[23]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,kHo))),128)),e("option",$Ho,n(o.$t("Other")),1)],40,yHo),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[24]||(a[24]=p=>t.customRequestRejectionReason=p)},null,8,wHo),[[X,t.customRequestRejectionReason]])])])]),e("div",DHo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xHo)])],40,hHo)])])],8,dHo),t.company_details?(u(),f("div",CHo,[e("div",PHo,[e("div",EHo,[e("div",AHo,[e("h5",IHo,n(o.$t("Company Details")),1),a[36]||(a[36]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",RHo,[e("div",SHo,[e("div",THo,[e("div",jHo,n(o.$t("Name"))+":",1),e("div",OHo,n(t.company_details.name),1)]),e("div",MHo,[e("div",LHo,n(o.$t("KRA PIN"))+":",1),e("div",NHo,n(t.company_details.kra_pin),1)]),e("div",FHo,[e("div",YHo,n(o.$t("Unique Identification No."))+":",1),e("div",VHo,n(t.company_details.unique_identification_number),1)]),e("div",BHo,[e("div",UHo,n(o.$t("Business Identification No."))+":",1),e("div",qHo,n(t.company_details.business_identification_number),1)]),e("div",HHo,[e("div",zHo,n(o.$t("Type"))+":",1),e("div",WHo,n(t.company_details.organization_type),1)]),e("div",KHo,[e("div",GHo,n(o.$t("Branch Code"))+":",1),e("div",QHo,n(t.company_details.branch_code),1)]),e("div",ZHo,[e("div",JHo,n(o.$t("City"))+":",1),e("div",XHo,n(t.company_details.city),1)]),e("div",ezo,[e("div",tzo,n(o.$t("Postal Code"))+":",1),e("div",ozo,n(t.company_details.postal_code),1)]),e("div",azo,[e("div",nzo,n(o.$t("Address"))+":",1),e("div",szo,n(t.company_details.address),1)]),e("div",lzo,[e("div",izo,n(o.$t("Customer Type"))+":",1),e("div",rzo,n(t.company_details.customer_type),1)])]),a[37]||(a[37]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",dzo,[e("div",czo,[e("div",uzo,n(o.$t("Name"))+":",1),e("div",_zo,n(p.name),1)])]),e("div",mzo,[e("div",fzo,[e("div",hzo,n(o.$t("Email"))+":",1),e("div",pzo,n(p.email),1)])]),e("div",vzo,[e("div",gzo,[e("div",bzo,n(o.$t("Phone"))+":",1),e("div",yzo,n(p.phone_number),1)])])]))),128))]),e("div",kzo,[e("button",$zo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Dzo=Ue(xVo,[["render",wzo]]),xzo={name:"FactoringRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h(""),i=h([]),d=h(""),p=h(!1),v=h(null),g=h(null),w=h(0),y=h([]),x=h(""),C=h(""),E=h(["pending_maker","pending_checker"]),D=h(""),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h([]),T=h(null),P=h(0),R=h(null),O=h(!1),N=h(50),S=async()=>{await A.get(c+o.bank+"/requests/factoring-requests/data?per_page="+N.value,{params:{per_page:N.value,invoice_number:C.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,status:E.value,sort_by:I.value,from_request_date:V.value,to_request_date:B.value}}).then(be=>{m.value=be.data.payment_requests,F.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})},U=be=>{if(i.value.includes(be)){const Me=i.value.indexOf(be);i.value.splice(Me,1)}else i.value.push(be)},W=()=>{i.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,i.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!i.value.filter(function(je,ze){Me=ze,je==be.id}))return!1;i.value.splice(Me,1)}})},oe=be=>{if(i.value.length<=0){t.error("Select requests");return}O.value=!0;const Me=new FormData;be=="rejected"&&(i.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",r.value),Me.append("status","rejected")),be=="approve"&&(i.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),d.value="",S(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),ue.response.data.message?t.error(ue.response.data.message):t.error("An error occurred")}).finally(()=>{O.value=!1})};ot(d,be=>{i.value.length>0?(be=="rejected"&&v.value.click(),y.value=[],w.value=0,be=="approve"&&(i.value.forEach(Me=>{y.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),y.value.forEach(Me=>{w.value+=Me.amount}),g.value.click())):t.error("Select Payment Requests")}),ot([N],async([be])=>{await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:be,invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,status:E.value,sort_by:I.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})});const J=async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),L.value=$("#date_search").val(),L.value&&(V.value=H(L.value.split(" - ")[0]).format("YYYY-MM-DD"),B.value=H(L.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:N.value,invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,status:E.value,sort_by:I.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},K=async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),C.value="",x.value="",C.value="",D.value="",k.value="",E.value=["pending_maker","pending_checker"],$("#status-select").val(E.value).trigger("change"),I.value="",V.value="",B.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/factoring-requests/data",{params:{per_page:N.value,status:E.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},z=()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Factoring",invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,status:E.value,sort_by:I.value,from_request_date:V.value,to_request_date:B.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})};return Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),E.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();E.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(V.value=H().startOf("month").format("YYYY-MM-DD"),B.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(V.value).format("MM/DD/YYYY")+" - "+H(B.value).format("MM/DD/YYYY"))),S()}),{moment:H,requests:m,selected_requests:i,bulk_action:d,showBulkRejectionReasonModal:p,showRejectionModal:v,showApprovalModal:g,approveRequests:y,approveRequestsTotalAmount:w,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:x,invoice_number_search:C,status_search:E,anchor_search:k,vendor_search:D,sort_by:I,request_from_date_search:V,request_to_date_search:B,filter:J,refresh:K,rejection_reasons:F,customRequestRejectionReason:r,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:N,is_updating:O,selectAll:W,invoice_details:T,company_details:R,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{R.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:N.value,invoice_number:C.value,status:E.value,payment_reference_number:x.value,invoice_number:C.value,vendor:D.value,anchor:k.value,status:E.value,sort_by:I.value,from_request_date:V.value,to_request_date:B.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"financed":Me="bg-label-primary";break;case"disbursed":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{O.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",r.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Factoring Request updated successfully"),S(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(je=>{console.log(je),je.response.data.message?t.error(je.response.data.message):t.error("An error occurred while approving the request")}).finally(()=>{O.value=!1})},getTaxPercentage:(be,Me)=>Me/be*100,updateSelected:U,submitBulkAction:oe,exportReport:z,showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{T.value=ue.data,P.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},date_format:a,invoice_details_key:P}}},Czo={class:"card p-3"},Pzo={class:"d-flex flex-column flex-md-row justify-content-between"},Ezo={class:"d-flex flex-wrap gap-1"},Azo={class:""},Izo={for:"Payment Ref No",class:"form-label"},Rzo={class:""},Szo={for:"Invoice No",class:"form-label"},Tzo={class:""},jzo={for:"Vendor",class:"form-label"},Ozo={class:""},Mzo={for:"Anchor",class:"form-label"},Lzo={class:""},Nzo={for:"Status",class:"form-label"},Fzo={value:""},Yzo={value:"pending_maker"},Vzo={value:"pending_checker"},Bzo={value:"approved"},Uzo={value:"paid"},qzo={value:"rejected"},Hzo={value:"closed"},zzo={class:""},Wzo={for:"Sort by",class:"form-label"},Kzo={class:""},Gzo={for:"Sort by",class:"form-label"},Qzo={value:""},Zzo={value:"invoice_no_asc"},Jzo={value:"invoice_no_desc"},Xzo={value:"pi_amount_asc"},eWo={value:"pi_amount_desc"},tWo={value:"vendor_asc"},oWo={value:"vendor_desc"},aWo={value:"anchor_asc"},nWo={value:"anchor_desc"},sWo={value:"request_date_asc"},lWo={value:"request_date_desc"},iWo={value:"payment_amount_asc"},rWo={value:"payment_amount_desc"},dWo={value:"due_date_asc"},cWo={value:"due_date_desc"},uWo={class:""},_Wo={for:"Bulk Action",class:"form-label"},mWo={value:""},fWo={value:"approve"},hWo={value:"rejected"},pWo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},vWo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},gWo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bWo={class:"modal-content"},yWo={class:"modal-header"},kWo={class:"modal-title",id:"modalCenterTitle"},$Wo={class:"modal-body"},wWo={class:""},DWo={class:"modal-footer"},xWo=["disabled"],CWo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},PWo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},EWo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},AWo={class:"modal-content"},IWo={class:"modal-header"},RWo={class:"modal-title",id:"modalCenterTitle"},SWo={class:"modal-body"},TWo={class:"row mb-1"},jWo={class:"form-group"},OWo={for:""},MWo={value:"",selected:""},LWo=["value"],NWo={value:"other"},FWo={class:"modal-footer"},YWo=["disabled"],VWo={class:"table-search-btn"},BWo={class:"table-clear-btn"},UWo={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},qWo={class:"table-responsive"},HWo={class:"table"},zWo={class:""},WWo={class:"px-1"},KWo={class:"px-1"},GWo={class:""},QWo={class:"px-1"},ZWo={class:"px-1"},JWo={class:"px-1"},XWo={class:"px-1"},eKo={class:"px-1"},tKo={class:"px-1"},oKo={class:"px-1"},aKo={class:"px-1"},nKo={class:"table-border-bottom-0"},sKo={key:0},lKo={colspan:"12",class:"text-center"},iKo={class:"text-center"},rKo={key:1},dKo={colspan:"12",class:"text-center"},cKo={class:"text-center"},uKo={class:"px-1"},_Ko={key:0,class:"form-check"},mKo=["id","onChange"],fKo=["onClick"],hKo=["onClick"],pKo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},vKo=["onClick"],gKo={key:1},bKo={class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},yKo=["onClick"],kKo={key:1},$Ko={class:"px-1"},wKo={class:"px-1"},DKo={class:"text-success px-1"},xKo={class:"text-success px-1"},CKo={class:"px-1"},PKo={class:"px-1"},EKo={class:"d-flex"},AKo={key:0},IKo=["data-bs-target"],RKo={key:1},SKo=["data-bs-target"],TKo={key:2},jKo=["title"],OKo={key:3},MKo=["title"],LKo=["id","data-bs-target"],NKo=["id","data-bs-target"],FKo=["id","data-bs-target"],YKo=["id"],VKo=["id"],BKo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},UKo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qKo={class:"modal-content"},HKo={class:"modal-body"},zKo={class:"d-flex justify-content-center"},WKo=["id"],KKo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},GKo={class:"modal-content"},QKo={class:"modal-header"},ZKo={class:"modal-title",id:"modalCenterTitle"},JKo={class:"d-flex gap-1"},XKo={key:0},eGo=["data-bs-target"],tGo={key:1,class:""},oGo=["data-bs-target"],aGo=["data-bs-target"],nGo=["href"],sGo={class:"modal-body"},lGo={class:"row mb-1"},iGo={class:"col-6 my-1"},rGo={class:"col-6"},dGo=["href"],cGo={class:"col-6 my-1"},uGo={class:"col-6"},_Go=["href"],mGo={class:"col-6 my-1"},fGo={class:"col-6"},hGo={class:"col-6 my-1"},pGo={class:"col-6"},vGo={class:"col-6 my-1"},gGo=["onClick"],bGo={class:"col-6 my-1"},yGo={class:"col-6 text-success"},kGo={class:"col-6 my-1"},$Go={class:"col-6"},wGo={class:"col-6 my-1"},DGo={class:"col-6 text-success"},xGo={class:"col-6 my-1"},CGo={class:"col-6 text-success"},PGo={class:"col-6 my-1"},EGo={class:"col-6"},AGo={class:"col-6 my-1"},IGo={class:"col-6"},RGo={class:"col-6 my-1"},SGo={class:"col-6"},TGo={class:"col-6 my-1"},jGo={class:"col-6"},OGo={class:"col-6 my-1"},MGo={class:"col-6"},LGo={key:0,class:"col-12"},NGo={key:0,class:"row"},FGo={class:"col-6 my-1 d-flex"},YGo={class:""},VGo={key:0,class:""},BGo={class:"col-6 text-success"},UGo={class:"col-6 my-1"},qGo={class:"col-6 text-success"},HGo={class:"col-6 my-1"},zGo={class:"col-6"},WGo={key:1,class:"col-6"},KGo={key:2,class:"col-6 my-1"},GGo={key:3,class:"col-6"},QGo={key:4,class:"col-6 my-1"},ZGo={class:"modal-footer"},JGo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},XGo=["id"],eQo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tQo={class:"modal-content"},oQo={class:"modal-header"},aQo={class:"modal-title",id:"modalCenterTitle"},nQo=["id"],sQo=["onSubmit"],lQo={class:"modal-body"},iQo={class:"modal-footer"},rQo=["disabled"],dQo=["id"],cQo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uQo={class:"modal-content"},_Qo={class:"modal-header"},mQo={class:"modal-title",id:"modalCenterTitle"},fQo=["id"],hQo=["onSubmit"],pQo={class:"modal-body"},vQo={class:"row mb-1"},gQo={class:"form-group"},bQo={for:""},yQo=["id","onChange"],kQo=["value"],$Qo={value:"other"},wQo=["id"],DQo={class:"modal-footer"},xQo=["disabled"],CQo={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},PQo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},EQo={class:"modal-content"},AQo={class:"modal-header"},IQo={class:"modal-title",id:"modalCenterTitle"},RQo={class:"modal-body"},SQo={class:"row mb-1"},TQo={class:"col-12 col-md-5 d-flex"},jQo={class:""},OQo={class:""},MQo={class:"col-12 col-md-5 d-flex"},LQo={class:""},NQo={class:""},FQo={class:"col-12 col-md-5 d-flex"},YQo={class:""},VQo={class:""},BQo={class:"col-12 col-md-5 d-flex"},UQo={class:""},qQo={class:""},HQo={class:"col-12 col-md-5 d-flex"},zQo={class:""},WQo={class:""},KQo={class:"col-12 col-md-5 d-flex"},GQo={class:""},QQo={class:""},ZQo={class:"col-12 col-md-5 d-flex"},JQo={class:""},XQo={class:""},eZo={class:"col-12 col-md-5 d-flex"},tZo={class:""},oZo={class:""},aZo={class:"col-12 col-md-5 d-flex"},nZo={class:""},sZo={class:""},lZo={class:"col-12 col-md-5 d-flex"},iZo={class:""},rZo={class:""},dZo={class:"col-12 col-md-4"},cZo={class:"d-flex"},uZo={class:""},_Zo={class:""},mZo={class:"col-12 col-md-4"},fZo={class:"d-flex"},hZo={class:""},pZo={class:""},vZo={class:"col-12 col-md-4"},gZo={class:"d-flex"},bZo={class:""},yZo={class:""},kZo={class:"modal-footer"},$Zo={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function wZo(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction"),i=ce("upload-attachment");return u(),f("div",Czo,[e("div",Pzo,[e("div",Ezo,[e("div",Azo,[e("label",Izo,n(o.$t("Payment Ref No"))+".",1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp",autocomplete:"off"},null,544),[[X,t.payment_reference_number_search]])]),e("div",Rzo,[e("label",Szo,n(o.$t("Invoice No"))+".",1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",Tzo,[e("label",jzo,n(o.$t("Vendor"))+".",1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",Ozo,[e("label",Mzo,n(o.$t("Anchor"))+".",1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",Lzo,[e("label",Nzo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",Fzo,n(o.$t("Status")),1),e("option",Yzo,n(o.$t("Pending (Maker)")),1),e("option",Vzo,n(o.$t("Pending (Checker)")),1),e("option",Bzo,n(o.$t("Approved")),1),e("option",Uzo,n(o.$t("Disbursed")),1),e("option",qzo,n(o.$t("Rejected")),1),e("option",Hzo,n(o.$t("Closed")),1)],512),[[de,t.status_search]])]),e("div",zzo,[e("label",Wzo,n(o.$t("Request Date")),1),a[23]||(a[23]=e("input",{class:"form-control form-search",type:"text",id:"date_search",name:"request_daterange"},null,-1))]),e("div",Kzo,[e("label",Gzo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Qzo,n(o.$t("Sort By")),1),e("option",Zzo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",Jzo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",Xzo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",eWo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",tWo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",oWo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",aWo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",nWo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",sWo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",lWo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",iWo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",rWo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",dWo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",cWo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],512),[[de,t.sort_by]])]),e("div",uWo,[e("label",_Wo,n(o.$t("Bulk Actions"))+".",1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.bulk_action=d)},[e("option",mWo,n(o.$t("Bulk Actions")),1),e("option",fWo,n(o.$t("Approve")),1),e("option",hWo,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",pWo,null,512),e("div",vWo,[e("div",gWo,[e("div",bWo,[e("div",yWo,[e("h5",kWo,n(o.$t("Approve Payment Requests")),1),a[24]||(a[24]=e("button",{type:"button",id:"bulk-approve-close-btn",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[11]||(a[11]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",$Wo,[e("div",wWo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected Factoring requests"))+"?",1)])]),e("div",DWo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xWo)])],32)])])]),e("button",CWo,null,512),e("div",PWo,[e("div",EWo,[e("div",AWo,[e("div",IWo,[e("h5",RWo,n(o.$t("Update Factoring Request")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close",id:"bulk-reject-close-btn","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[15]||(a[15]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",SWo,[e("div",TWo,[e("div",jWo,[e("label",OWo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=d=>t.updateRequestRejectionReason=d),onChange:a[13]||(a[13]=d=>t.bulkUpdateRejectionReason())},[e("option",MWo,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,LWo))),128)),e("option",NWo,n(o.$t("Other")),1)],544),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[14]||(a[14]=d=>t.customRequestRejectionReason=d)},null,512),[[X,t.customRequestRejectionReason]])])])]),e("div",FWo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,YWo)])],32)])])]),e("div",VWo,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...d)=>t.filter&&t.filter(...d))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BWo,[e("button",{class:"btn btn-primary btn-md",onClick:a[17]||(a[17]=(...d)=>t.refresh&&t.refresh(...d))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UWo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[18]||(a[18]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[19]||(a[19]=(...d)=>t.exportReport&&t.exportReport(...d))},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qWo,[e("table",HWo,[e("thead",null,[e("tr",zWo,[e("th",WWo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[20]||(a[20]=d=>t.selectAll())},null,32)]),e("th",KWo,n(o.$t("Payment Reference No"))+".",1),e("th",GWo,n(o.$t("Invoice No"))+".",1),e("th",QWo,n(o.$t("Vendor")),1),e("th",ZWo,n(o.$t("Anchor")),1),e("th",JWo,n(o.$t("Request Date")),1),e("th",XWo,n(o.$t("Due Date")),1),e("th",eKo,n(o.$t("PI Amount")),1),e("th",tKo,n(o.$t("Payment Amount")),1),e("th",oKo,n(o.$t("Status")),1),e("th",aKo,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",nKo,[t.requests.data?b("",!0):(u(),f("tr",sKo,[e("td",lKo,[e("span",iKo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",rKo,[e("td",dKo,[e("span",cKo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",uKo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",_Ko,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,mKo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,fKo),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer"}},n(d.invoice_number),9,hKo),e("td",pKo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.buyer_id,"show-vendor-details-btn-"+d.buyer_id)},n(d.buyer_name),9,vKo)):(u(),f("span",gKo,n(d.buyer_name),1))]),e("td",bKo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,yKo)):(u(),f("span",kKo,n(d.anchor_name),1))]),e("td",$Ko,n(t.moment(d.created_at).format(t.date_format)),1),e("td",wKo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",DKo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount)),1),e("td",xKo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount)),1),e("td",CKo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",PKo,[e("div",EKo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",AKo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,IKo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",RKo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,SKo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",TKo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,jKo)])):b("",!0),d.status=="rejected"?(u(),f("span",OKo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,MKo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,LKo),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,NKo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,FKo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,YKo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.buyer_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,VKo),a[36]||(a[36]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",BKo,[e("div",UKo,[e("div",qKo,[e("div",HKo,[e("div",zKo,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",KKo,[e("div",GKo,[e("div",QKo,[e("h5",ZKo,n(o.$t("Payment Request")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",JKo,[d.user_can_approve&&!d.user_has_approved?(u(),f("span",XKo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,eGo)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("span",tGo,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,oGo)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,aGo)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[32]||(a[32]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,nGo)])])]),e("div",sGo,[e("div",lGo,[e("div",iGo,n(o.$t("Buyer")),1),e("div",rGo,[e("a",{href:"../companies/"+d.buyer_id+"/details",class:"fw-bold my-auto"},n(d.buyer_name),9,dGo)]),e("div",cGo,n(o.$t("Anchor")),1),e("div",uGo,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,_Go)]),e("div",mGo,n(o.$t("Program Name")),1),e("div",fGo,n(d.program_name),1),e("div",hGo,n(o.$t("Invoice / Unique Reference Number")),1),e("div",pGo,n(d.invoice_number),1),e("div",vGo,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,gGo),e("div",bGo,n(o.$t("PI Amount")),1),e("div",yGo,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",kGo,n(o.$t("Eligibility"))+" (%)",1),e("div",$Go,n(d.eligibility),1),e("div",wGo,n(o.$t("Eligible Payment Amount")),1),e("div",DGo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",xGo,n(o.$t("Requested Payment Amount")),1),e("div",CGo,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",PGo,n(o.$t("Credit to Account No"))+".:",1),e("div",EGo,n(d.payment_accounts[0].account),1),e("div",AGo,n(o.$t("Request Date")),1),e("div",IGo,n(t.moment(d.created_at).format(t.date_format)),1),e("div",RGo,n(o.$t("Requested Disbursement Date")),1),e("div",SGo,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",TGo,n(o.$t("Due Date")),1),e("div",jGo,n(t.moment(d.due_date).format(t.date_format)),1),e("div",OGo,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",MGo,n(d.total_roi),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",LGo,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",NGo,[e("div",FGo,[e("div",YGo,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",VGo," ("+n(p.description)+") ",1)):b("",!0)]),e("div",BGo,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",UGo,n(o.$t("Net Disbursal Total")),1),e("div",qGo,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",HGo,n(o.$t("Status")),1),e("div",zGo,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage),3)]),d.approvals.length>0?(u(),f("div",WGo,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",KGo,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",GGo,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",QGo,n(d.rejected_by.name),1)):b("",!0)])]),e("div",ZGo,[e("button",JGo,n(o.$t(" Close")),1)])])])],8,WKo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",eQo,[e("div",tQo,[e("div",oQo,[e("h5",aQo,n(o.$t("Approve Vendor Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,nQo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",lQo,[e("h5",null,n(o.$t("Are you sure you want to approve the Vendor Financing request with reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",iQo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,rQo)])],40,sQo)])])],8,XGo),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",cQo,[e("div",uQo,[e("div",_Qo,[e("h5",mQo,n(o.$t("Reject Vendor Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,fQo)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",pQo,[e("div",vQo,[e("div",gQo,[e("label",bQo,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[21]||(a[21]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,kQo))),128)),e("option",$Qo,n(o.$t("Other")),1)],40,yQo),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[22]||(a[22]=p=>t.customRequestRejectionReason=p)},null,8,wQo),[[X,t.customRequestRejectionReason]])])])]),e("div",DQo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xQo)])],40,hQo)])])],8,dQo),t.company_details?(u(),f("div",CQo,[e("div",PQo,[e("div",EQo,[e("div",AQo,[e("h5",IQo,n(o.$t("Company Details")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",RQo,[e("div",SQo,[e("div",TQo,[e("div",jQo,n(o.$t("Name"))+":",1),e("div",OQo,n(t.company_details.name),1)]),e("div",MQo,[e("div",LQo,n(o.$t("KRA PIN"))+":",1),e("div",NQo,n(t.company_details.kra_pin),1)]),e("div",FQo,[e("div",YQo,n(o.$t("Unique Identification No."))+":",1),e("div",VQo,n(t.company_details.unique_identification_number),1)]),e("div",BQo,[e("div",UQo,n(o.$t("Business Identification No."))+":",1),e("div",qQo,n(t.company_details.business_identification_number),1)]),e("div",HQo,[e("div",zQo,n(o.$t("Type"))+":",1),e("div",WQo,n(t.company_details.organization_type),1)]),e("div",KQo,[e("div",GQo,n(o.$t("Branch Code"))+":",1),e("div",QQo,n(t.company_details.branch_code),1)]),e("div",ZQo,[e("div",JQo,n(o.$t("City"))+":",1),e("div",XQo,n(t.company_details.city),1)]),e("div",eZo,[e("div",tZo,n(o.$t("Postal Code"))+":",1),e("div",oZo,n(t.company_details.postal_code),1)]),e("div",aZo,[e("div",nZo,n(o.$t("Address"))+":",1),e("div",sZo,n(t.company_details.address),1)]),e("div",lZo,[e("div",iZo,n(o.$t("Customer Type"))+":",1),e("div",rZo,n(t.company_details.customer_type),1)])]),a[35]||(a[35]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",dZo,[e("div",cZo,[e("div",uZo,n(o.$t("Name"))+":",1),e("div",_Zo,n(p.name),1)])]),e("div",mZo,[e("div",fZo,[e("div",hZo,n(o.$t("Email"))+":",1),e("div",pZo,n(p.email),1)])]),e("div",vZo,[e("div",gZo,[e("div",bZo,n(o.$t("Phone"))+":",1),e("div",yZo,n(p.phone_number),1)])])]))),128))]),e("div",kZo,[e("button",$Zo,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const DZo=Ue(xzo,[["render",wZo]]),xZo={name:"DealerFinancing",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt,UploadAttachment:ss},props:["bank","date_format","params"],setup(o){const a=o.date_format,s=o.params,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h([]),i=h(""),d=h(!1),p=h(null),v=h(null),g=h(0),w=h([]),y=h(""),x=h(""),C=h(["pending_maker","pending_checker"]),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h([]),T=h(50),P=h(!1),R=h(null),O=h(null),N=h(0),S=async()=>{await A.get(c+o.bank+"/requests/dealer-financing-requests/data?per_page="+T.value,{params:{per_page:T.value,invoice_number:x.value,payment_reference_number:y.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(be=>{m.value=be.data.payment_requests,F.value=be.data.rejection_reasons}).catch(be=>{console.log(be)})},U=be=>{if(r.value.includes(be)){const Me=r.value.indexOf(be);r.value.splice(Me,1)}else r.value.push(be)},W=()=>{r.value=[],document.getElementById("select-all").checked?m.value.data.forEach(be=>{be.user_can_approve&&!be.user_has_approved&&(document.getElementById("payment-request-"+be.id).checked=!0,r.value.push(be.id))}):m.value.data.forEach(be=>{if(be.user_can_approve&&!be.user_has_approved&&document.getElementById("payment-request-"+be.id).checked==!0){document.getElementById("payment-request-"+be.id).checked=!1;let Me;if(!r.value.filter(function(je,ze){Me=ze,je==be.id}))return!1;r.value.splice(Me,1)}})},oe=be=>{if(r.value.length<=0){t.error("Select requests");return}P.value=!0;const Me=new FormData;be=="rejected"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("rejection_reason",l.value),Me.append("custom_rejection_reason",L.value),Me.append("status","rejected")),be=="approve"&&(r.value.forEach(ue=>{Me.append("requests[]",ue)}),Me.append("status","approved")),A.post(c+o.bank+"/requests/financing-requests/update",Me).then(ue=>{t.success(ue.data.message),i.value="",S(),be=="rejected"?document.getElementById("bulk-reject-close-btn").click():document.getElementById("bulk-approve-close-btn").click(),document.getElementById("select-all").checked=!1}).catch(ue=>{console.log(ue),ue.response.data.message?t.error(ue.response.data.message):t.error("An error occurred")}).finally(()=>{P.value=!1})},J=(be,Me)=>Me/be*100;ot(i,be=>{r.value.length>0?(be=="rejected"&&p.value.click(),w.value=[],g.value=0,be=="approve"&&(r.value.forEach(Me=>{w.value.push(m.value.data.filter(ue=>ue.id==Me)[0])}),w.value.forEach(Me=>{g.value+=Me.amount}),v.value.click())):t.error("Select Payment Requests")}),ot([T],async([be])=>{await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:be,invoice_number:x.value,payment_reference_number:y.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests}).catch(Me=>{console.log(Me)})});const K=async()=>{let be=$(".ti-search").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),B.value=$("#date_search").val(),B.value&&(I.value=H(B.value.split(" - ")[0]).format("YYYY-MM-DD"),V.value=H(B.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:T.value,invoice_number:x.value,payment_reference_number:y.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-search"></i>')})},z=async()=>{let be=$(".ti-refresh").parent();be.html('<img src="../../../../../assets/img/spinner.svg" />'),x.value="",y.value="",x.value="",E.value="",D.value="",C.value=["pending_maker","pending_checker"],$("#status-select").val(C.value).trigger("change"),k.value="",I.value="",V.value="",$("#date_search").val(""),await A.get(c+o.bank+"/requests/dealer-financing-requests/data",{params:{per_page:T.value,status:C.value}}).then(Me=>{m.value=Me.data.payment_requests,be.html('<i class="ti ti-refresh"></i>')})},ae=()=>{A.get(c+o.bank+"/requests/portfolio/export",{responseType:"arraybuffer",method:"GET",params:{type:"Dealer Financing",invoice_number:x.value,status:C.value,payment_reference_number:y.value,invoice_number:x.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(be=>{const Me=window.URL.createObjectURL(new Blob([be.data])),ue=document.createElement("a");ue.href=Me,ue.setAttribute("download",`Payment_Requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ue),ue.click()}).catch(be=>{console.log(be)})};return Qe(()=>{s&&JSON.parse(s)&&JSON.parse(s).status!=null?($("#status-select").val(["paid"]),C.value=["paid"]):$("#status-select").on("change",function(){var be=$("#status-select").val();C.value=be}),s&&JSON.parse(s)&&JSON.parse(s).period!=null&&JSON.parse(s).period==="mtd"&&(I.value=H().startOf("month").format("YYYY-MM-DD"),V.value=H().format("YYYY-MM-DD"),$("#date_search").val(H(I.value).format("MM/DD/YYYY")+" - "+H(V.value).format("MM/DD/YYYY"))),S()}),{moment:H,requests:m,selected_requests:r,bulk_action:i,showBulkRejectionReasonModal:d,showRejectionModal:p,showApprovalModal:v,approveRequests:w,approveRequestsTotalAmount:g,updateRequestStatus:_,updateRequestRejectionReason:l,payment_reference_number_search:y,invoice_number_search:x,status_search:C,anchor_search:D,vendor_search:E,sort_by:k,request_from_date_search:I,request_to_date_search:V,filter:K,refresh:z,rejection_reasons:F,customRequestRejectionReason:L,bulkUpdateRejectionReason:()=>{document.getElementById("rejection-reason").value=="other"?document.getElementById("custom-rejection-reason").classList.remove("d-none"):(document.getElementById("custom-rejection-reason").classList.add("d-none"),document.getElementById("custom-rejection-reason").value="")},updateSelectedRejectionReason:be=>{document.getElementById("rejection-reason-"+be).value=="other"?document.getElementById("custom-rejection-reason-"+be).classList.remove("d-none"):(document.getElementById("custom-rejection-reason-"+be).classList.add("d-none"),document.getElementById("custom-rejection-reason-"+be).value="")},per_page:T,is_updating:P,invoice_details:R,company_details:O,showCompany:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+be+"/details").then(ue=>{O.value=ue.data.company,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},selectAll:W,resolvePaymentRequestStatus:be=>{let Me="";switch(be){case"Pending Maker":Me="bg-label-primary";break;case"Pending Checker":Me="bg-label-warning";break;case"Created":Me="bg-label-secondary";break;case"Pending":Me="bg-label-secondary";break;case"Approved":Me="bg-label-success";break;case"Paid":Me="bg-label-success";break;case"Failed":Me="bg-label-danger";break;case"Rejected":Me="bg-label-danger";break;case"Past Due":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},changePage:async be=>{await A.get(be,{params:{per_page:T.value,invoice_number:x.value,payment_reference_number:y.value,vendor:E.value,anchor:D.value,status:C.value,sort_by:k.value,from_request_date:I.value,to_request_date:V.value}}).then(Me=>{m.value=Me.data.payment_requests})},resolveFinancingStatus:be=>{let Me="";switch(be){case"pending":Me="bg-label-primary";break;case"financed":Me="bg-label-primary";break;case"disbursed":Me="bg-label-primary";break;case"closed":Me="bg-label-success";break;case"denied":Me="bg-label-danger";break;default:Me="bg-label-primary";break}return Me},updateStatus:(be,Me)=>{P.value=!0;const ue=new FormData;ue.append("payment_request_id",be.id),ue.append("status",Me),ue.append("rejection_reason",l.value),ue.append("custom_rejection_reason",L.value),A.post(c+o.bank+"/requests/payment-requests/update",ue).then(()=>{t.success("Dealer Financing Request updated successfully."),S(),Me=="rejected"?document.getElementById("reject-payment-request-close-btn-"+be.id).click():document.getElementById("approve-payment-request-close-btn-"+be.id).click()}).catch(je=>{console.log(je),je.response.data.message?t.error(je.response.data.message):t.error("An error occurred while approving the request")}).finally(()=>{P.value=!1})},updateSelected:U,submitBulkAction:oe,exportReport:ae,showInvoice:async(be,Me)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+be+"/details").then(ue=>{R.value=ue.data,N.value++,bt(()=>{document.getElementById(Me).click()})}).catch(ue=>{console.log(ue)})},getTaxPercentage:J,date_format:a,invoice_details_key:N}}},CZo={class:"card p-3"},PZo={class:"d-flex flex-column flex-md-row justify-content-between"},EZo={class:"d-flex flex-wrap gap-1"},AZo={class:""},IZo={for:"Sort by",class:"form-label"},RZo={class:""},SZo={for:"Sort by",class:"form-label"},TZo={class:""},jZo={for:"Sort by",class:"form-label"},OZo={class:""},MZo={for:"Sort by",class:"form-label"},LZo={class:""},NZo={for:"Sort by",class:"form-label"},FZo={value:""},YZo={value:"pending_maker"},VZo={value:"pending_checker"},BZo={value:"approved"},UZo={value:"paid"},qZo={value:"rejected"},HZo={value:"closed"},zZo={class:""},WZo={for:"Sort by",class:"form-label"},KZo={class:""},GZo={for:"Sort by",class:"form-label"},QZo={value:""},ZZo={value:"invoice_no_asc"},JZo={value:"invoice_no_desc"},XZo={value:"pi_amount_asc"},eJo={value:"pi_amount_desc"},tJo={value:"vendor_asc"},oJo={value:"vendor_desc"},aJo={value:"anchor_asc"},nJo={value:"anchor_desc"},sJo={value:"request_date_asc"},lJo={value:"request_date_desc"},iJo={value:"payment_amount_asc"},rJo={value:"payment_amount_desc"},dJo={value:"due_date_asc"},cJo={value:"due_date_desc"},uJo={class:""},_Jo={for:"Sort by",class:"form-label"},mJo={value:""},fJo={value:"approve"},hJo={value:"rejected"},pJo={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},vJo={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},gJo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},bJo={class:"modal-content"},yJo={class:"modal-header"},kJo={class:"modal-title",id:"modalCenterTitle"},$Jo={class:"modal-body"},wJo={class:""},DJo={class:"modal-footer"},xJo=["disabled"],CJo={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},PJo={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},EJo={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},AJo={class:"modal-content"},IJo={class:"modal-header"},RJo={class:"modal-title",id:"modalCenterTitle"},SJo={class:"modal-body"},TJo={class:"row mb-1"},jJo={class:"form-group"},OJo={for:""},MJo={value:"",selected:""},LJo=["value"],NJo={value:"other"},FJo={class:"modal-footer"},YJo=["disabled"],VJo={class:"table-search-btn"},BJo={class:"table-clear-btn"},UJo={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},qJo={class:"table-responsive"},HJo={class:"table"},zJo={class:""},WJo={class:"px-1"},KJo={class:"px-1"},GJo={class:""},QJo={class:"px-1"},ZJo={class:"px-1"},JJo={class:"px-1"},XJo={class:"px-1"},eXo={class:"px-1"},tXo={class:"px-1"},oXo={class:"px-1"},aXo={class:"px-1"},nXo={class:"table-border-bottom-0"},sXo={key:0},lXo={colspan:"12",class:"text-center"},iXo={class:"text-center"},rXo={key:1},dXo={colspan:"12",class:"text-center"},cXo={class:"text-center"},uXo={class:"px-1"},_Xo={key:0,class:"form-check"},mXo=["id","onChange"],fXo=["onClick"],hXo=["onClick"],pXo={class:"text-primary text-decoration-underline px-2"},vXo=["onClick"],gXo={key:1},bXo={class:"text-primary text-decoration-underline px-2"},yXo=["onClick"],kXo={key:1},$Xo={class:"px-1"},wXo={class:"px-1"},DXo={class:"text-success px-1"},xXo={class:"text-success px-1"},CXo={class:"px-1"},PXo={class:"px-1"},EXo={class:"d-flex"},AXo={key:0},IXo=["data-bs-target"],RXo={key:1},SXo=["data-bs-target"],TXo={key:2},jXo=["title"],OXo={key:3},MXo=["title"],LXo=["id","data-bs-target"],NXo=["id","data-bs-target"],FXo=["id","data-bs-target"],YXo=["id"],VXo=["id"],BXo={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},UXo={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},qXo={class:"modal-content"},HXo={class:"modal-body"},zXo={class:"d-flex justify-content-center"},WXo=["id"],KXo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},GXo={class:"modal-content"},QXo={class:"modal-header"},ZXo={class:"modal-title",id:"modalCenterTitle"},JXo={class:"d-flex gap-1"},XXo={key:0},eea=["data-bs-target"],tea={key:1,class:""},oea=["data-bs-target"],aea=["data-bs-target"],nea=["href"],sea={class:"modal-body"},lea={class:"row mb-1"},iea={class:"col-6 my-1"},rea={class:"col-6"},dea=["href"],cea={class:"col-6 my-1"},uea={class:"col-6"},_ea={class:"col-6 my-1"},mea={class:"col-6"},fea=["href"],hea={class:"col-6 my-1"},pea={class:"col-6"},vea={class:"col-6 my-1"},gea={class:"col-6"},bea={class:"col-6 my-1"},yea=["onClick"],kea={class:"col-6 my-1"},$ea={class:"col-6 text-success"},wea={class:"col-6 my-1"},Dea={class:"col-6"},xea={class:"col-6 my-1"},Cea={class:"col-6 text-success"},Pea={class:"col-6 my-1"},Eea={class:"col-6 text-success"},Aea={class:"col-6 my-1"},Iea={class:"col-6"},Rea={class:"col-6 my-1"},Sea={class:"col-6"},Tea={class:"col-6 my-1"},jea={class:"col-6"},Oea={class:"col-6 my-1"},Mea={class:"col-6"},Lea={key:0,class:"col-12"},Nea={key:0,class:"row"},Fea={class:"col-6 my-1 d-flex"},Yea={class:""},Vea={key:0,class:""},Bea={class:"col-6 text-success"},Uea={class:"col-6 my-1"},qea={class:"col-6 text-success"},Hea={class:"col-6"},zea={class:"col-6"},Wea={key:1,class:"col-6"},Kea={key:2,class:"col-6 my-1"},Gea={key:3,class:"col-6"},Qea={key:4,class:"col-6 my-1"},Zea={class:"modal-footer"},Jea={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},Xea=["id"],eta={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},tta={class:"modal-content"},ota={class:"modal-header"},ata={class:"modal-title",id:"modalCenterTitle"},nta=["id"],sta=["onSubmit"],lta={class:"modal-body"},ita={class:"modal-footer"},rta=["disabled"],dta=["id"],cta={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uta={class:"modal-content"},_ta={class:"modal-header"},mta={class:"modal-title",id:"modalCenterTitle"},fta=["id"],hta=["onSubmit"],pta={class:"modal-body"},vta={class:"row mb-1"},gta={class:"form-group"},bta={for:""},yta=["id","onChange"],kta=["value"],$ta={value:"other"},wta=["id"],Dta={class:"modal-footer"},xta=["disabled"],Cta={key:3,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},Pta={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Eta={class:"modal-content"},Ata={class:"modal-header"},Ita={class:"modal-title",id:"modalCenterTitle"},Rta={class:"modal-body"},Sta={class:"row mb-1"},Tta={class:"col-12 col-md-5 d-flex"},jta={class:""},Ota={class:""},Mta={class:"col-12 col-md-5 d-flex"},Lta={class:""},Nta={class:""},Fta={class:"col-12 col-md-5 d-flex"},Yta={class:""},Vta={class:""},Bta={class:"col-12 col-md-5 d-flex"},Uta={class:""},qta={class:""},Hta={class:"col-12 col-md-5 d-flex"},zta={class:""},Wta={class:""},Kta={class:"col-12 col-md-5 d-flex"},Gta={class:""},Qta={class:""},Zta={class:"col-12 col-md-5 d-flex"},Jta={class:""},Xta={class:""},eoa={class:"col-12 col-md-5 d-flex"},toa={class:""},ooa={class:""},aoa={class:"col-12 col-md-5 d-flex"},noa={class:""},soa={class:""},loa={class:"col-12 col-md-5 d-flex"},ioa={class:""},roa={class:""},doa={class:"col-12 col-md-4"},coa={class:"d-flex"},uoa={class:""},_oa={class:""},moa={class:"col-12 col-md-4"},foa={class:"d-flex"},hoa={class:""},poa={class:""},voa={class:"col-12 col-md-4"},goa={class:"d-flex"},boa={class:""},yoa={class:""},koa={class:"modal-footer"},$oa={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function woa(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction"),i=ce("upload-attachment");return u(),f("div",CZo,[e("div",PZo,[e("div",EZo,[e("div",AZo,[e("label",IZo,n(o.$t("Payment Ref No")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment Reference Number","onUpdate:modelValue":a[1]||(a[1]=d=>t.payment_reference_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.payment_reference_number_search]])]),e("div",RZo,[e("label",SZo,n(o.$t("Invoice Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[3]||(a[3]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.invoice_number_search]])]),e("div",TZo,[e("label",jZo,n(o.$t("Vendor")),1),Y(e("input",{onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[5]||(a[5]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.vendor_search]])]),e("div",OZo,[e("label",MZo,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[7]||(a[7]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",LZo,[e("label",NZo,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"status-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",FZo,n(o.$t("Status")),1),e("option",YZo,n(o.$t("Pending (Maker)")),1),e("option",VZo,n(o.$t("Pending (Checker)")),1),e("option",BZo,n(o.$t("Approved")),1),e("option",UZo,n(o.$t("Disbursed")),1),e("option",qZo,n(o.$t("Rejected")),1),e("option",HZo,n(o.$t("Closed")),1)],512),[[de,t.status_search]])]),e("div",zZo,[e("label",WZo,n(o.$t("Request Date")),1),a[23]||(a[23]=e("input",{class:"form-control form-search",type:"text",name:"request_daterange",id:"date_search"},null,-1))]),e("div",KZo,[e("label",GZo,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",QZo,n(o.$t("Sort By")),1),e("option",ZZo,n(o.$t("Invoice No"))+". ("+n(o.$t("Asc"))+")",1),e("option",JZo,n(o.$t("Invoice No"))+". ("+n(o.$t("Desc"))+")",1),e("option",XZo,n(o.$t("PI Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",eJo,n(o.$t("PI Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",tJo,n(o.$t("Vendor"))+". ("+n(o.$t("Asc"))+")",1),e("option",oJo,n(o.$t("Vendor"))+". ("+n(o.$t("Desc"))+")",1),e("option",aJo,n(o.$t("Anchor"))+". ("+n(o.$t("Asc"))+")",1),e("option",nJo,n(o.$t("Anchor"))+". ("+n(o.$t("Desc"))+")",1),e("option",sJo,n(o.$t("Request Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",lJo,n(o.$t("Request Date"))+". ("+n(o.$t("Desc"))+")",1),e("option",iJo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Asc"))+")",1),e("option",rJo,n(o.$t("Payment Amount"))+". ("+n(o.$t("Desc"))+")",1),e("option",dJo,n(o.$t("Due Date"))+". ("+n(o.$t("Asc"))+")",1),e("option",cJo,n(o.$t("Due Date"))+". ("+n(o.$t("Desc"))+")",1)],512),[[de,t.sort_by]])]),e("div",uJo,[e("label",_Jo,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.bulk_action=d)},[e("option",mJo,n(o.$t("Bulk Actions")),1),e("option",fJo,n(o.$t("Approve")),1),e("option",hJo,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",pJo,null,512),e("div",vJo,[e("div",gJo,[e("div",bJo,[e("div",yJo,[e("h5",kJo,n(o.$t("Approve Dealer Financing Request(s)")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"bulk-approve-close-btn","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[11]||(a[11]=st(d=>t.submitBulkAction("approve"),["prevent"]))},[e("div",$Jo,[e("div",wJo,[e("h4",null,n(o.$t("Are you sure you want to approve the selected Dealer Financing requests"))+"?",1)])]),e("div",DJo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xJo)])],32)])])]),e("button",CJo,null,512),e("div",PJo,[e("div",EJo,[e("div",AJo,[e("div",IJo,[e("h5",RJo,n(o.$t("Reject Dealer Financing Request(s)")),1),a[25]||(a[25]=e("button",{type:"button",class:"btn-close",id:"bulk-reject-close-btn","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[15]||(a[15]=st(d=>t.submitBulkAction("rejected"),["prevent"]))},[e("div",SJo,[e("div",TJo,[e("div",jJo,[e("label",OJo,n(o.$t("Rejection Reason")),1),Y(e("select",{name:"",id:"rejection-reason",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=d=>t.updateRequestRejectionReason=d),onChange:a[13]||(a[13]=d=>t.bulkUpdateRejectionReason())},[e("option",MJo,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,d=>(u(),f("option",{key:d.id,value:d.reason},n(d.reason),9,LJo))),128)),e("option",NJo,n(o.$t("Other")),1)],544),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",id:"custom-rejection-reason",placeholder:"Enter Custom Reason","onUpdate:modelValue":a[14]||(a[14]=d=>t.customRequestRejectionReason=d)},null,512),[[X,t.customRequestRejectionReason]])])])]),e("div",FJo,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,YJo)])],32)])])]),e("div",VJo,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...d)=>t.filter&&t.filter(...d))},a[26]||(a[26]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BJo,[e("button",{class:"btn btn-primary btn-md",onClick:a[17]||(a[17]=(...d)=>t.refresh&&t.refresh(...d))},a[27]||(a[27]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UJo,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[18]||(a[18]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[28]||(a[28]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[19]||(a[19]=(...d)=>t.exportReport&&t.exportReport(...d))},[a[29]||(a[29]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),t.requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",qJo,[e("table",HJo,[e("thead",null,[e("tr",zJo,[e("th",WJo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[20]||(a[20]=d=>t.selectAll())},null,32)]),e("th",KJo,n(o.$t("Payment Reference No"))+".",1),e("th",GJo,n(o.$t("Invoice No"))+".",1),e("th",QJo,n(o.$t("Dealer")),1),e("th",ZJo,n(o.$t("Anchor")),1),e("th",JJo,n(o.$t("Request Date")),1),e("th",XJo,n(o.$t("Due Date")),1),e("th",eXo,n(o.$t("PI Amount")),1),e("th",tXo,n(o.$t("Payment Amount")),1),e("th",oXo,n(o.$t("Status")),1),e("th",aXo,n(o.$t("Actions")),1),a[30]||(a[30]=e("th",null,null,-1))])]),e("tbody",nXo,[t.requests.data?b("",!0):(u(),f("tr",sXo,[e("td",lXo,[e("span",iXo,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",rXo,[e("td",dXo,[e("span",cXo,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,d=>(u(),f("tr",{key:d.id},[e("td",uXo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("div",_Xo,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"payment-request-"+d.id,onChange:p=>t.updateSelected(d.id)},null,40,mXo)])):b("",!0)]),e("td",{onClick:p=>t.showInvoice(d.invoice_id,"show-payment-request-btn-"+d.invoice_id),class:"text-primary text-decoration-underline px-1",style:{cursor:"pointer"}},n(d.reference_number),9,fXo),e("td",{class:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id)},n(d.invoice_number),9,hXo),e("td",pXo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.company_id,"show-vendor-details-btn-"+d.company_id)},n(d.company_name),9,vXo)):(u(),f("span",gXo,n(d.company_name),1))]),e("td",bXo,[d.can_view_company?(u(),f("a",{key:0,href:"#",onClick:p=>t.showCompany(d.anchor_id,"show-anchor-details-btn-"+d.anchor_id)},n(d.anchor_name),9,yXo)):(u(),f("span",kXo,n(d.anchor_name),1))]),e("td",$Xo,n(t.moment(d.created_at).format(t.date_format)),1),e("td",wXo,n(t.moment(d.due_date).format(t.date_format)),1),e("td",DXo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("td",xXo,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("td",CXo,[d.invoice_financing_status==="closed"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(o.$t("Closed")),3)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.approval_stage)])},n(d.approval_stage==="Paid"?"Disbursed":d.approval_stage),3))]),e("td",PXo,[e("div",EXo,[!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",AXo,[e("i",{class:"ti ti-circle-check ti-sm text-primary",style:{cursor:"pointer"},title:"Approve","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},null,8,IXo)])):b("",!0),!d.program_suspended&&!d.mapping_suspended&&d.user_can_approve&&!d.user_has_approved?(u(),f("span",RXo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:"Reject","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},null,8,SXo)])):b("",!0),(d.program_suspended||d.mapping_suspended)&&d.status!="rejected"?(u(),f("span",TXo,[e("i",{class:"ti ti-circle-x ti-sm mx-auto text-danger",title:o.$t("Program/Mapping is suspended")},null,8,jXo)])):b("",!0),d.status=="rejected"?(u(),f("span",OXo,[e("i",{class:"ti ti-circle-x ti-sm mx-1 text-danger",title:d.rejected_reason,style:{cursor:"pointer"}},null,8,MXo)])):b("",!0)]),e("button",{class:"d-none",id:"show-payment-request-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#payment-request-show-"+d.invoice_id},null,8,LXo),e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,NXo),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,FXo),e("button",{class:"d-none",id:"show-anchor-details-btn-"+d.anchor_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,YXo),e("button",{class:"d-none",id:"show-vendor-details-btn-"+d.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,VXo),a[36]||(a[36]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",BXo,[e("div",UXo,[e("div",qXo,[e("div",HXo,[e("div",zXo,[e("span",null,n(o.$t("Loading"))+"...",1),a[31]||(a[31]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-show-"+d.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",KXo,[e("div",GXo,[e("div",QXo,[e("h5",ZXo,n(o.$t("Payment Request")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",JXo,[d.user_can_approve&&!d.user_has_approved?(u(),f("span",XXo,[e("button",{class:"btn btn-label-primary","data-bs-toggle":"modal","data-bs-target":"#approve-payment-request-"+d.id},n(o.$t("Approve")),9,eea)])):b("",!0),d.user_can_approve&&!d.user_has_approved?(u(),f("span",tea,[e("button",{class:"btn btn-label-danger","data-bs-toggle":"modal","data-bs-target":"#update-payment-request-"+d.id,style:{cursor:"pointer"}},n(o.$t("Reject")),9,oea)])):b("",!0),e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#add-attachment-"+d.invoice_id},n(o.$t("Attachment")),9,aea)]),e("div",null,[e("a",{href:"../payment-request/"+d.id+"/download",class:"btn btn-primary"},[a[32]||(a[32]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,nea)])])]),e("div",sea,[e("div",lea,[e("div",iea,n(o.$t("Dealer")),1),e("div",rea,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,dea)]),e("div",cea,n(o.$t("OD Account No"))+":",1),e("div",uea,n(d.payment_account_number),1),e("div",_ea,n(o.$t("Anchor")),1),e("div",mea,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,fea)]),e("div",hea,n(o.$t("Program Name")),1),e("div",pea,n(d.program_name),1),e("div",vea,n(o.$t("Invoice / Unique Reference Number")),1),e("div",gea,n(d.invoice_number),1),e("div",bea,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,yea),e("div",kea,n(o.$t("Invoice Amount")),1),e("div",$ea,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",wea,n(o.$t("Eligibility"))+" (%)",1),e("div",Dea,n(d.eligibility),1),e("div",xea,n(o.$t("Eligible Drawdown Amount")),1),e("div",Cea,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",Pea,n(o.$t("Requested Drawdown Amount")),1),e("div",Eea,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("div",Aea,n(o.$t("Credit to Account No"))+".:",1),e("div",Iea,n(d.payment_accounts[0].account),1),e("div",Rea,n(o.$t("Request Date")),1),e("div",Sea,n(t.moment(d.created_at).format(t.date_format)),1),e("div",Tea,n(o.$t("Requested Disbursement Date")),1),e("div",jea,n(t.moment(d.payment_request_date).isBefore(t.moment())&&d.status=="created"?t.moment().format(t.date_format):t.moment(d.payment_request_date).format(t.date_format)),1),e("div",Oea,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",Mea,n(d.discount_rate),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",Lea,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("div",{key:p.id},[p.can_show?(u(),f("div",Nea,[e("div",Fea,[e("div",Yea,n(p.title?p.title:p.type.replaceAll("_"," ")),1),p.description?(u(),f("div",Vea," ("+n(p.description)+") ",1)):b("",!0)]),e("div",Bea,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)])):b("",!0)]))),128))])):b("",!0),e("div",Uea,n(o.$t("Net Disbursal Total")),1),e("div",qea,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",Hea,n(o.$t("Status")),1),e("div",zea,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),d.approvals.length>0?(u(),f("div",Wea,n(o.$t("Approved By")),1)):b("",!0),d.approvals.length>0?(u(),f("div",Kea,n(d.approvals[d.approvals.length-1].user.name),1)):b("",!0),d.rejected_by?(u(),f("div",Gea,n(o.$t("Rejected By")),1)):b("",!0),d.rejected_by?(u(),f("div",Qea,n(d.rejected_by.name),1)):b("",!0)])]),e("div",Zea,[e("button",Jea,n(o.$t("Close")),1)])])])],8,WXo),e("div",{class:"modal fade",id:"approve-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",eta,[e("div",tta,[e("div",ota,[e("h5",ata,n(o.$t("Approve Dealer Financing Request")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-payment-request-close-btn-"+d.id,"aria-label":"Close"},null,8,nta)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"approved"),["prevent"]),method:"post"},[e("div",lta,[e("h5",null,n(o.$t("Are you sure you want to approve the Dealer Financing request with the reference number, "))+" "+n(d.reference_number)+"? ",1)]),e("div",ita,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Approve")),9,rta)])],40,sta)])])],8,Xea),e("div",{class:"modal fade",id:"update-payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",cta,[e("div",uta,[e("div",_ta,[e("h5",mta,n(o.$t("Reject Dealer Financing Request with reference number, "+d.reference_number)),1),e("button",{type:"button",class:"btn-close",id:"reject-payment-request-close-btn-"+d.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,fta)]),e("form",{onSubmit:st(p=>t.updateStatus(d,"rejected"),["prevent"]),method:"post"},[e("div",pta,[e("div",vta,[e("div",gta,[e("label",bta,n(o.$t("Rejection Reason")),1),Y(e("select",{class:"form-control",id:"rejection-reason-"+d.id,"onUpdate:modelValue":a[21]||(a[21]=p=>t.updateRequestRejectionReason=p),onChange:p=>t.updateSelectedRejectionReason(d.id)},[e("option",null,n(o.$t("Select Option")),1),(u(!0),f(G,null,ee(t.rejection_reasons,p=>(u(),f("option",{key:p.id,value:p.reason},n(p.reason),9,kta))),128)),e("option",$ta,n(o.$t("Other")),1)],40,yta),[[de,t.updateRequestRejectionReason]]),Y(e("textarea",{type:"text",class:"form-control d-none mt-2",placeholder:"Enter Custom Reason",id:"custom-rejection-reason-"+d.id,"onUpdate:modelValue":a[22]||(a[22]=p=>t.customRequestRejectionReason=p)},null,8,wta),[[X,t.customRequestRejectionReason]])])])]),e("div",Dta,[e("button",{class:"btn btn-primary",type:"submit",disabled:t.is_updating},n(t.is_updating?o.$t("Processing..."):o.$t("Submit")),9,xta)])],40,hta)])])],8,dta),t.company_details?(u(),f("div",Cta,[e("div",Pta,[e("div",Eta,[e("div",Ata,[e("h5",Ita,n(o.$t("Company Details")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Rta,[e("div",Sta,[e("div",Tta,[e("div",jta,n(o.$t("Name"))+":",1),e("div",Ota,n(t.company_details.name),1)]),e("div",Mta,[e("div",Lta,n(o.$t("KRA PIN"))+":",1),e("div",Nta,n(t.company_details.kra_pin),1)]),e("div",Fta,[e("div",Yta,n(o.$t("Unique Identification No."))+":",1),e("div",Vta,n(t.company_details.unique_identification_number),1)]),e("div",Bta,[e("div",Uta,n(o.$t("Business Identification No."))+":",1),e("div",qta,n(t.company_details.business_identification_number),1)]),e("div",Hta,[e("div",zta,n(o.$t("Type"))+":",1),e("div",Wta,n(t.company_details.organization_type),1)]),e("div",Kta,[e("div",Gta,n(o.$t("Branch Code"))+":",1),e("div",Qta,n(t.company_details.branch_code),1)]),e("div",Zta,[e("div",Jta,n(o.$t("City"))+":",1),e("div",Xta,n(t.company_details.city),1)]),e("div",eoa,[e("div",toa,n(o.$t("Postal Code"))+":",1),e("div",ooa,n(t.company_details.postal_code),1)]),e("div",aoa,[e("div",noa,n(o.$t("Address"))+":",1),e("div",soa,n(t.company_details.address),1)]),e("div",loa,[e("div",ioa,n(o.$t("Customer Type"))+":",1),e("div",roa,n(t.company_details.customer_type),1)])]),a[35]||(a[35]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,p=>(u(),f("div",{class:"row my-1",key:p.id},[e("div",doa,[e("div",coa,[e("div",uoa,n(o.$t("Name"))+":",1),e("div",_oa,n(p.name),1)])]),e("div",moa,[e("div",foa,[e("div",hoa,n(o.$t("Email"))+":",1),e("div",poa,n(p.email),1)])]),e("div",voa,[e("div",goa,[e("div",boa,n(o.$t("Phone"))+":",1),e("div",yoa,n(p.phone_number),1)])])]))),128))]),e("div",koa,[e("button",$oa,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Doa=Ue(xZo,[["render",woa]]),xoa={name:"Companies",props:["bank","can_create","can_manage_authorization_group","can_manage_authorization_matrix"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL"),s=o.can_create=="1"?h(!0):h(!1),t=o.can_manage_authorization_group=="1"?h(!0):h(!1),c=o.can_manage_authorization_matrix=="1"?h(!0):h(!1),m=lt(),_=h([]),l=h(""),r=h(""),i=h(""),d=h([]),p=h(""),v=h(""),g=h(""),w=h([]),y=h(50),x=h(""),C=h([]),E=h(null),D=h(null),k=h([]),I=h(""),V=async()=>{await A.get(a+o.bank+"/companies/data?per_page="+y.value).then(K=>{_.value=K.data.data.companies})},B=K=>{let z="";switch(K){case"pending":z="bg-label-primary";break;case"approved":z="bg-label-success";break;case"rejected":z="bg-label-danger";break;default:z="bg-label-primary";break}return z},L=K=>{let z="";switch(K){case"active":z="bg-label-primary";break;case"inactive":z="bg-label-secondary";break;default:z="bg-label-primary";break}return z};ot(I,K=>{k.value.length>0?(C.value=[],K=="approve"&&(k.value.forEach(z=>{C.value.push(_.value.data.filter(ae=>ae.id==z)[0])}),D.value.click()),K=="reject"&&E.value.click()):m.error("Select Programs")});const F=async()=>{let K=$(".ti-search").parent();K.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/companies/data",{params:{per_page:y.value,name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,type:g.value,program_role_type:w.value}}).then(z=>{_.value=z.data.data.companies,K.html('<i class="ti ti-search"></i>')})},T=async()=>{let K=$(".ti-refresh").parent();K.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",v.value="",p.value="",d.value=[],g.value="",w.value=[],await A.get(a+o.bank+"/companies/data",{params:{per_page:y.value}}).then(z=>{_.value=z.data.data.companies,K.html('<i class="ti ti-refresh"></i>')})},P=()=>{k.value=[],document.getElementById("select-all").checked?_.value.data.forEach(K=>{K.can_approve&&(document.getElementById("data-select-"+K.id).checked=!0,k.value.push(K.id))}):_.value.data.forEach(K=>{if(K.can_approve){document.getElementById("data-select-"+K.id).checked=!1;let z;if(!k.value.filter(function(we,Fe){z=Fe,we==K.id}))return!1;k.value.splice(z,1)}})},R=K=>{if(k.value.includes(K)){const z=k.value.indexOf(K);k.value.splice(z,1)}else k.value.push(K)},O=K=>{if(k.value.length<=0){m.error("Select companies");return}const z=new FormData;k.value.forEach(ae=>{z.append("companies[]",ae)}),K=="approve"&&z.append("status","approved"),K=="reject"&&(z.append("status","rejected"),z.append("rejection_reason",l.value)),A.post(a+o.bank+"/companies/bulk/approval-status/status/update",z).then(()=>{m.success("Companies updated"),I.value="",l.value="",V(),document.getElementById("approve-companies-close").click(),document.getElementById("reject-companies-close").click()}).catch(ae=>{console.log(ae),m.error("An error occurred")})},N=(K,z)=>{A.get(`companies/${K}/activity/status/update/${z}`).then(ae=>{V(),m.success(ae.data.message),document.getElementById("update-inactive-status-close"+K).click(),document.getElementById("update-active-status-close"+K).click()}).catch(ae=>{console.log(ae)})},S=(K,z)=>{A.post(`companies/${K}/status/update`,{status:z,rejection_reason:l.value}).then(()=>{m.success("Company status updated"),V()}).catch(ae=>{console.log(ae)})},U=K=>{A.get("companies/"+K.id+"/block-status/update").then(()=>{K.is_blocked?m.success("Company has been unblocked"):m.success("Company has been blocked"),setTimeout(()=>{window.location.reload()},3e3)})},W=(K,z)=>{A.get("companies/"+K+"/updates/"+z+"/approve").then(()=>{z=="approve"?m.success("Company Changed have been applied"):m.success("Company changed have been discarded"),document.getElementById("changes-details-close-"+K).click(),V()})},oe=K=>{let z=[];return K.forEach(ae=>{z.push(ae.name)}),!!(z.length>0&&(z.includes("anchor")||z.includes("buyer")))};return Qe(()=>{V(),$("#company-type-select").on("change",function(){var K=$("#company-type-select").val();w.value=K}),$("#status-select").on("change",function(){var K=$("#status-select").val();d.value=K})}),ot([y],async([K])=>{await A.get(a+o.bank+"/companies/data",{params:{per_page:K,name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,program_role_type:w.value}}).then(z=>{_.value=z.data.data.companies}).catch(z=>{console.log(z)})}),{base_url:a,bank:r,companies:_,rejection_reason:l,can_create:s,can_manage_authorization_group:t,can_manage_authorization_matrix:c,name_search:i,status_search:d,branch_code:p,approval_status_search:v,type_search:g,company_type_search:w,per_page:y,updateRequestRejectionReason:x,showRejectionModal:E,showApprovalModal:D,selected_data:k,bulk_action:I,filter:F,refresh:T,selectAll:P,updateSelected:R,submitBulkAction:O,updateBlockStatus:U,resolveApprovalStatus:B,resolveStatus:L,updateActiveStatus:N,updateApprovalStatus:S,changePage:async K=>{await A.get(K+"&per_page="+y.value,{params:{name:i.value,approval_status:v.value,branch_code:p.value,status:d.value,program_role_type:w.value}}).then(z=>{_.value=z.data.data.companies})},approveChange:W,hasAnchorRole:oe}}},Coa={class:"card p-2",id:"companies"},Poa={class:"d-flex justify-content-between"},Eoa={class:"d-flex flex-wrap gap-1"},Aoa={class:""},Ioa={for:"Company Name",class:"form-label"},Roa=["placeholder"],Soa={class:""},Toa={for:"Company Type",class:"form-label"},joa={value:""},Ooa={value:"anchor"},Moa={value:"vendor"},Loa={value:"dealer"},Noa={value:"buyer"},Foa={value:"unassigned"},Yoa={class:""},Voa={for:"Approval Status",class:"form-label"},Boa={value:""},Uoa={value:"pending"},qoa={value:"approved"},Hoa={value:"rejected"},zoa={class:""},Woa={for:"Status",class:"form-label"},Koa={value:""},Goa={value:"active"},Qoa={value:"inactive"},Zoa={value:"blocked"},Joa={value:"unblocked"},Xoa={class:""},eaa={for:"Branch Code",class:"form-label"},taa={class:""},oaa={for:"Bulk Actions",class:"form-label"},aaa={value:""},naa={value:"approve"},saa={value:"reject"},laa={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},iaa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},raa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},daa={class:"modal-content"},caa={class:"modal-header"},uaa={class:"modal-title",id:"modalCenterTitle"},_aa={class:"modal-body"},maa={class:"modal-footer"},faa={class:"btn btn-primary",type:"submit"},haa={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},paa={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},vaa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},gaa={class:"modal-content"},baa={class:"modal-header"},yaa={class:"modal-title",id:"modalCenterTitle"},kaa={class:"modal-body"},$aa={class:"row mb-1"},waa={class:"form-group"},Daa={for:""},xaa={class:"modal-footer"},Caa={class:"btn btn-primary",type:"submit"},Paa={class:"table-search-btn"},Eaa={class:"table-clear-btn"},Aaa={class:"d-flex justify-content-end gap-1 mt-auto"},Iaa={class:""},Raa={key:0,class:""},Saa={href:"companies/create"},Taa={type:"button",class:"btn btn-primary text-nowrap btn-md"},jaa={class:"table-responsive"},Oaa={class:"table"},Maa={class:""},Laa={class:"form-check"},Naa={class:"table-border-bottom-0"},Faa={key:0},Yaa={colspan:"12",class:"text-center"},Vaa={class:"text-center"},Baa={key:1},Uaa={colspan:"12",class:"text-center"},qaa={class:"text-center"},Haa={class:"form-check"},zaa=["id","onChange"],Waa={class:""},Kaa={class:"text-primary text-decoration-underline"},Gaa={key:0},Qaa=["href"],Zaa={key:1},Jaa={key:1},Xaa=["href"],ena={key:1},tna={key:2,class:"tf-icons ti ti-info-circle ti-xs text-info",title:"Pending Company Changes awating approval"},ona={key:3,class:"tf-icons ti ti-info-circle ti-xs text-info",title:"Pending Company User Changes awating approval"},ana={key:4,class:"tf-icons ti ti-info-circle ti-xs text-secondary",title:"Company Limit is almost depleted."},nna={key:5,class:"tf-icons ti ti-info-circle ti-xs text-warning",title:"Company Creation/Updation Awaiting Approval."},sna=["title"],lna={key:0},ina={class:"badge bg-label-primary me-1 m_title mx-1"},rna={key:1},dna={class:""},cna={key:0},una={key:1},_na={class:"d-flex"},mna={class:"d-flex gap-1"},fna=["href"],hna=["href"],pna={key:0,class:"ti ti-clock ti-sm text-primary",title:"Company Creation/Updation Awaiting approval",style:{cursor:"pointer","font-weight":"bolder"}},vna=["data-bs-target"],gna=["data-bs-target"],bna=["data-bs-target"],yna=["title"],kna=["href"],$na=["href"],wna=["onClick"],Dna=["data-bs-target"],xna=["href"],Cna={key:0,class:"ti ti-list-details ti-sm text-primary",title:"View Authorization Groups"},Pna=["href"],Ena={key:0,class:"ti ti-list-check ti-sm text-primary",title:"View Authorization Matrix"},Ana=["data-bs-target"],Ina=["data-bs-target"],Rna=["id"],Sna={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Tna={class:"modal-content"},jna={class:"modal-header"},Ona={class:"modal-title",id:"modalCenterTitle"},Mna=["onSubmit"],Lna={class:"modal-body"},Nna={class:"row mb-1"},Fna={class:"form-group"},Yna={for:""},Vna={class:"modal-footer"},Bna={class:"btn btn-primary",type:"submit"},Una=["id"],qna={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Hna={class:"modal-content"},zna={class:"modal-header"},Wna={class:"modal-title",id:"modalCenterTitle"},Kna=["onSubmit"],Gna={class:"modal-body"},Qna={key:0,class:"text-wrap"},Zna={key:1,class:"text-wrap"},Jna={class:"modal-footer"},Xna={class:"btn btn-primary",type:"submit"},esa=["id"],tsa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},osa={class:"modal-content"},asa={class:"modal-header"},nsa={class:"modal-title",id:"modalCenterTitle"},ssa=["id"],lsa={class:"modal-body"},isa={class:"row mb-1"},rsa={class:"text-wrap"},dsa={class:"modal-footer"},csa=["onClick"],usa=["id"],_sa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},msa={class:"modal-content"},fsa={class:"modal-header"},hsa={class:"modal-title",id:"modalCenterTitle"},psa=["id"],vsa={class:"modal-body"},gsa={class:"row mb-1"},bsa={class:"text-wrap"},ysa={class:"modal-footer"},ksa=["onClick"],$sa=["id"],wsa={class:"modal-dialog"},Dsa={class:"modal-content"},xsa={class:"modal-header"},Csa=["id"],Psa={class:"modal-body"},Esa={class:"row"},Asa={class:"col-6"},Isa={key:0,class:"m_title"},Rsa={key:1,class:"m_title"},Ssa={class:"mt-2"},Tsa={key:0,class:"m_title"},jsa={key:0,class:"modal-footer"},Osa=["onClick"],Msa=["onClick"];function Lsa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Coa,[e("div",Poa,[e("div",Eoa,[e("div",Aoa,[e("label",Ioa,n(o.$t("Company Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,40,Roa),[[X,t.name_search]])]),e("div",Soa,[e("label",Toa,n(o.$t("Company Type")),1),Y(e("select",{class:"form-select form-search select2",id:"company-type-select",multiple:"","onUpdate:modelValue":a[2]||(a[2]=l=>t.company_type_search=l)},[e("option",joa,n(o.$t("Company Type")),1),e("option",Ooa,n(o.$t("Anchor")),1),e("option",Moa,n(o.$t("Vendor")),1),e("option",Loa,n(o.$t("Dealer")),1),e("option",Noa,n(o.$t("Buyer")),1),e("option",Foa,n(o.$t("Unassigned")),1)],512),[[de,t.company_type_search]])]),e("div",Yoa,[e("label",Voa,n(o.$t("Approval Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[3]||(a[3]=l=>t.approval_status_search=l)},[e("option",Boa,n(o.$t("Approval Status")),1),e("option",Uoa,n(o.$t("Pending")),1),e("option",qoa,n(o.$t("Approved")),1),e("option",Hoa,n(o.$t("Rejected")),1)],512),[[de,t.approval_status_search]])]),e("div",zoa,[e("label",Woa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l),id:"status-select",multiple:""},[e("option",Koa,n(o.$t("Status")),1),e("option",Goa,n(o.$t("Active")),1),e("option",Qoa,n(o.$t("Inactive")),1),e("option",Zoa,n(o.$t("Blocked")),1),e("option",Joa,n(o.$t("Unblocked")),1)],512),[[de,t.status_search]])]),e("div",Xoa,[e("label",eaa,n(o.$t("Branch Code")),1),Y(e("input",{onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=l=>t.branch_code=l),id:"defaultFormControlInput",placeholder:"Branch Code","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.branch_code]])]),e("div",taa,[e("label",oaa,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[7]||(a[7]=l=>t.bulk_action=l)},[e("option",aaa,n(o.$t("Bulk Actions")),1),e("option",naa,n(o.$t("Approve")),1),e("option",saa,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",laa,null,512),e("div",iaa,[e("div",raa,[e("div",daa,[e("div",caa,[e("h5",uaa,n(o.$t("Approve Companies")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[8]||(a[8]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",_aa,[e("h5",null,n(o.$t("Are you sure you want to approve the selected companies"))+"?",1)]),e("div",maa,[e("button",faa,n(o.$t("Submit")),1)])],32)])])]),e("button",haa,null,512),e("div",paa,[e("div",vaa,[e("div",gaa,[e("div",baa,[e("h5",yaa,n(o.$t("Update Selected Companies")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[10]||(a[10]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",kaa,[e("div",$aa,[e("div",waa,[e("label",Daa,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",xaa,[e("button",Caa,n(o.$t("Submit")),1)])],32)])])]),e("div",Paa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...l)=>t.filter&&t.filter(...l))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Eaa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...l)=>t.refresh&&t.refresh(...l))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Aaa,[e("div",Iaa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_create?(u(),f("div",Raa,[e("a",Saa,[e("button",Taa,[a[21]||(a[21]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Add Company")),1)])])])):b("",!0)])]),t.companies.meta?(u(),me(_,{key:0,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jaa,[e("table",Oaa,[e("thead",null,[e("tr",Maa,[e("th",null,[e("div",Laa,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[14]||(a[14]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("ID")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Company Type")),1),e("th",null,n(o.$t("Organization Type")),1),e("th",null,n(o.$t("Approval Status")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Source")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Naa,[t.companies.data?b("",!0):(u(),f("tr",Faa,[e("td",Yaa,[e("span",Vaa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",Baa,[e("td",Uaa,[e("span",qaa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",Haa,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,zaa)):b("",!0)])]),e("td",Waa,[e("span",null,n(l.company_bank_id),1)]),e("td",Kaa,[e("span",null,[l.proposed_update||l.approval_status==="pending"||l.user_changes?(u(),f("span",Gaa,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,Qaa)):(u(),f("span",Zaa,n(l.name),1))])):(u(),f("span",Jaa,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,Xaa)):(u(),f("span",ena,n(l.name),1))])),l.proposed_update?(u(),f("i",tna)):b("",!0),l.user_changes?(u(),f("i",ona)):b("",!0),l.utilized>90?(u(),f("i",ana)):b("",!0),l.approval_status=="pending"?(u(),f("i",nna)):b("",!0),l.approval_status=="rejected"?(u(),f("i",{key:6,class:"tf-icons ti ti-registered ti-xs text-danger",title:l.rejection_reason},null,8,sna)):b("",!0)])]),l.roles.length>0?(u(),f("td",lna,[(u(!0),f(G,null,ee(l.roles,r=>(u(),f("div",{key:r.id},[e("span",ina,n(r.name),1)]))),128))])):(u(),f("td",rna,a[22]||(a[22]=[e("span",null,"-",-1)]))),e("td",dna,[e("span",null,n(l.organization_type),1)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveApprovalStatus(l.approval_status)])},n(o.$t(l.approval_status)),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.status)])},n(o.$t(l.status)),3)]),e("td",null,[l.pipeline?(u(),f("span",cna,"Bank/CRM Created")):(u(),f("span",una,"YoFinvoice"))]),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",null,[e("div",_na,[e("div",mna,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},a[23]||(a[23]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"}},null,-1)]),8,fna)):b("",!0),l.can_view?(u(),f("a",{key:1,href:"companies/"+l.id+"/details"},[l.approval_status=="pending"?(u(),f("i",pna)):b("",!0)],8,hna)):b("",!0),l.proposed_update?(u(),f("i",{key:2,class:"ti ti-clock ti-sm text-primary",title:"Company has pending changes",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id},null,8,vna)):b("",!0),!l.proposed_update&&l.approval_status=="approved"&&l.status=="active"&&l.can_activate?(u(),f("i",{key:3,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},null,8,gna)):b("",!0),!l.proposed_update&&l.approval_status=="approved"&&l.status=="inactive"&&l.can_activate?(u(),f("i",{key:4,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-inactive-status-"+l.id},null,8,bna)):b("",!0),l.approval_status=="rejected"?(u(),f("i",{key:5,class:"ti ti-ban ti-sm text-danger",title:l.rejection_reason},null,8,yna)):b("",!0),!l.proposed_update&&l.approval_status=="rejected"&&l.can_edit_after_rejection?(u(),f("a",{key:6,href:"companies/"+l.id+"/edit",class:""},a[24]||(a[24]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit"},null,-1)]),8,kna)):b("",!0),!l.proposed_update&&l.approval_status=="approved"?(u(),f("a",{key:7,href:"companies/"+l.id+"/edit",class:""},a[25]||(a[25]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit"},null,-1)]),8,$na)):b("",!0),l.can_approve?(u(),f("i",{key:8,class:"ti ti-circle-check ti-sm text-success",style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.updateApprovalStatus(l.id,"approved"),title:"Approve Company"},null,8,wna)):b("",!0),l.can_approve?(u(),f("i",{key:9,class:"ti ti-square-x ti-sm text-danger",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#update-status-"+l.id,title:"Reject/Disapprove Company"},null,8,Dna)):b("",!0),!l.proposed_update&&t.can_manage_authorization_group?(u(),f("a",{key:10,href:"companies/"+l.id+"/authorization-groups",class:""},[t.hasAnchorRole(l.roles)?(u(),f("i",Cna)):b("",!0)],8,xna)):b("",!0),!l.proposed_update&&t.can_manage_authorization_matrix?(u(),f("a",{key:11,href:"companies/"+l.id+"/authorization-matrices",class:""},[t.hasAnchorRole(l.roles)?(u(),f("i",Ena)):b("",!0)],8,Pna)):b("",!0),l.approval_status=="approved"&&l.can_block&&!l.proposed_update&&!l.is_blocked?(u(),f("i",{key:12,class:"ti ti-hand-stop ti-sm text-success",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-block-status-"+l.id,title:"Block Company from making finance requests"},null,8,Ana)):b("",!0),l.approval_status=="approved"&&l.can_block&&!l.proposed_update&&l.is_blocked?(u(),f("i",{key:13,class:"ti ti-hand-off ti-sm text-danger",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-block-status-"+l.id,title:"Unblock Company from making finance requests"},null,8,Ina)):b("",!0)]),e("div",{class:"modal fade",id:"update-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Sna,[e("div",Tna,[e("div",jna,[e("h5",Ona,n(o.$t("Update Company Status")),1),a[26]||(a[26]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",Lna,[e("div",Nna,[e("div",Fna,[e("label",Yna,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=r=>t.rejection_reason=r)},null,512),[[X,t.rejection_reason]])])])]),e("div",Vna,[e("button",Bna,n(o.$t("Submit")),1)])],40,Mna)])])],8,Rna),e("div",{class:"modal fade",id:"update-block-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",qna,[e("div",Hna,[e("div",zna,[e("h5",Wna,n(o.$t("Update Company Status")),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateBlockStatus(l),["prevent"]),method:"post"},[e("div",Gna,[l.is_blocked?(u(),f("h4",Zna,n(o.$t("Are you sure you want to unblock the company"))+", "+n(l.name)+"? ",1)):(u(),f("h4",Qna,n(o.$t("Are you sure you want to block the company"))+", "+n(l.name)+" "+n(o.$t("from making finance requests"))+"? ",1))]),e("div",Jna,[e("button",Xna,n(o.$t("Submit")),1)])],40,Kna)])])],8,Una),e("div",{class:"modal fade",id:"update-active-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",tsa,[e("div",osa,[e("div",asa,[e("h5",nsa,n(o.$t("Update Company Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-active-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,ssa)]),e("div",lsa,[e("div",isa,[e("h5",rsa,n(o.$t("Are you sure you want to update the status of"))+" "+n(l.name)+" "+n(o.$t("to inactive"))+"? ",1)])]),e("div",dsa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id,"inactive")},n(o.$t("Confirm")),9,csa)])])])],8,esa),e("div",{class:"modal fade",id:"update-inactive-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",_sa,[e("div",msa,[e("div",fsa,[e("h5",hsa,n(o.$t("Update Company Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-inactive-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,psa)]),e("div",vsa,[e("div",gsa,[e("h5",bsa,n(o.$t("Are you sure you want to update the status of"))+" "+n(l.name)+" "+n(o.$t("to active"))+"? ",1)])]),e("div",ysa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id,"active")},n(o.$t("Confirm")),9,ksa)])])])],8,usa),l.update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"changes-details-"+l.id,tabindex:"-1"},[e("div",wsa,[e("div",Dsa,[e("div",xsa,[e("h5",null,n(o.$t("Company Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"changes-details-close-"+l.id,"aria-label":"Close"},null,8,Csa)]),e("div",Psa,[e("div",Esa,[e("div",Asa,[(u(!0),f(G,null,ee(l.update.changes,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[i!="Relationship Manager"?(u(),f(G,{key:0},[e("h5",null,n(o.$t("Company Details")),1),(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("div",{class:"d-flex flex-column",key:p},[p=="gst_number"?(u(),f("span",Isa,"KRA PIN: "+n(d),1)):b("",!0),d!=""&&d!=null&&p!="gst_number"?(u(),f("span",Rsa,n(p.replaceAll("_"," "))+": "+n(d),1)):b("",!0)]))),128))],64)):(u(),f(G,{key:1},[e("h5",Ssa,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("div",{class:"d-flex flex-column",key:p},[(u(!0),f(G,null,ee(d,(v,g)=>(u(),f("div",{class:"d-flex flex-column",key:v},[v!=""&&v!=null?(u(),f("span",Tsa,n(g.replaceAll("_"," "))+": "+n(v),1)):b("",!0)]))),128)),a[28]||(a[28]=e("hr",null,null,-1))]))),128))],64))]))),128))])])]),l.update&&l.update.can_approve?(u(),f("div",jsa,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveChange(l.id,"reject")},n(o.$t("Reject")),9,Osa),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveChange(l.id,"approve")},n(o.$t("Approve")),9,Msa)])):b("",!0)])])],8,$sa)):b("",!0)])])]))),128))])])]),t.companies.meta?(u(),me(_,{key:1,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Nsa=Ue(xoa,[["render",Lsa]]),Fsa={name:"AuthorizationGroups",components:{Pagination:St},props:["bank","company"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h(50),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(!1),v=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/authorization-groups/data",{params:{per_page:m.value}}).then(C=>{t.value=C.data.authorization_groups,c.value=C.data.program_types}).catch(C=>{console.log(C)})},g=C=>{d.value=C.id,_.value=C.name,l.value=C.level,r.value=C.program_type_id,i.value=C.status,p.value=!0},w=()=>{A.post(s+o.bank+"/companies/"+o.company+"/authorization-groups/store",{name:_.value,level:l.value,program_type_id:r.value,status:i.value}).then(()=>{a.success("Group added successfully"),_.value="",r.value="",i.value="",l.value="",document.getElementById("close-create-modal").click(),v()}).catch(C=>{C.response.data&&C.response.data.message&&a.error(C.response.data.message),Object.keys(C.response.data).length>0&&Object.keys(C.response.data).forEach(E=>{a.error(C.response.data[E][0])}),C.response.data&&(!C.response.data.message||Object.keys(C.response.data).length<=0)&&a.error("An error occurred")})},y=()=>{A.post(s+o.bank+"/companies/"+o.company+"/authorization-groups/update",{group_id:d.value,name:_.value,level:l.value,program_type_id:r.value,status:i.value}).then(()=>{a.success("Group updated successfully"),d.value="",_.value="",l.value="",r.value="",i.value="",p.value=!1,document.getElementById("close-edit-modal-"+d.value).click(),v()}).catch(C=>{C.response.data&&C.response.data.message&&a.error(C.response.data.message),Object.keys(C.response.data).length>0&&Object.keys(C.response.data).forEach(E=>{a.error(C.response.data[E][0])}),C.response.data&&(!C.response.data.message||Object.keys(C.response.data).length<=0)&&a.error("An error occurred")})};return Qe(()=>{v()}),{per_page:m,rates:t,program_types:c,name:_,level:l,program_type_id:r,status:i,showEditModal:p,addNewBranch:w,updateBranch:y,editBranch:g,changePage:async C=>{await A.get(C,{params:{per_page:m.value}}).then(E=>{t.value=E.data})}}}},Ysa={class:"card p-2"},Vsa={class:"d-flex justify-content-between"},Bsa={class:"d-flex"},Usa={class:""},qsa={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},Hsa={class:"modal modal-top fade",id:"addBranch",tabindex:"-1"},zsa={class:"modal-dialog"},Wsa={class:"modal-header"},Ksa={class:"modal-title",id:"modalTopTitle"},Gsa={class:"modal-body my-1"},Qsa={class:"form-group"},Zsa={for:"Name",class:"form-label"},Jsa={class:"form-group my-1"},Xsa={for:"Name",class:"form-label"},ela={class:"form-group my-1"},tla={for:"Name",class:"form-label"},ola={value:""},ala=["value"],nla={class:"form-group my-1"},sla={for:"Name",class:"form-label"},lla={value:"active"},ila={value:"inactive"},rla={class:"modal-footer"},dla={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},cla={type:"submit",class:"btn btn-primary"},ula={class:"table-responsive"},_la={class:"table"},mla={class:""},fla={class:"table-border-bottom-0"},hla={class:"m_title"},pla={class:"flex"},vla=["onClick","data-bs-target"],gla=["id"],bla={class:"modal-dialog"},yla={class:"modal-header"},kla={class:"modal-title",id:"modalTopTitle"},$la=["id"],wla={class:"modal-body my-1"},Dla={class:"form-group"},xla={for:"Name",class:"form-label"},Cla={class:"form-group my-1"},Pla={for:"Name",class:"form-label"},Ela={class:"form-group my-1"},Ala={for:"Name",class:"form-label"},Ila={value:""},Rla=["value"],Sla={class:"form-group my-1"},Tla={for:"Name",class:"form-label"},jla={value:"active"},Ola={value:"inactive"},Mla={class:"modal-footer"},Lla={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Nla={type:"submit",class:"btn btn-primary"};function Fla(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Ysa,[e("div",Vsa,[a[17]||(a[17]=ga('<div class="d-flex flex-wrap gap-1" data-v-0779afed><div class="" data-v-0779afed><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Base Rate Code" aria-describedby="defaultFormControlHelp" data-v-0779afed></div><div class="" data-v-0779afed><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Status" aria-describedby="defaultFormControlHelp" data-v-0779afed></div></div>',1)),e("div",Bsa,[e("div",Usa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",qsa,n(o.$t("New Group")),1),e("div",Hsa,[e("div",zsa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",Wsa,[e("h5",Ksa,n(o.$t("Add New Group")),1),a[12]||(a[12]=e("button",{type:"button",class:"btn-close",id:"close-create-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Gsa,[e("div",Qsa,[e("label",Zsa,[le(n(o.$t("Name"))+" ",1),a[13]||(a[13]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":a[1]||(a[1]=l=>t.name=l)},null,512),[[X,t.name]])]),e("div",Jsa,[e("label",Xsa,[le(n(o.$t("Level"))+" ",1),a[14]||(a[14]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",required:"",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.level=l)},null,512),[[X,t.level]])]),e("div",ela,[e("label",tla,[le(n(o.$t("Product"))+" ",1),a[15]||(a[15]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=l=>t.program_type_id=l),required:""},[e("option",ola,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.program_types,l=>(u(),f("option",{key:l.id,value:l.id},n(l.name),9,ala))),128))],512),[[de,t.program_type_id]])]),e("div",nla,[e("label",sla,[le(n(o.$t("Status"))+" ",1),a[16]||(a[16]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l),required:""},[e("option",lla,n(o.$t("Active")),1),e("option",ila,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",rla,[e("button",dla,n(o.$t("Close")),1),e("button",cla,n(o.$t("Submit")),1)])],32)])])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",ula,[e("table",_la,[e("thead",null,[e("tr",mla,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Level")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",fla,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.name),1),e("td",null,n(l.level),1),e("td",null,n(l.program_type.name),1),e("td",null,[e("div",hla,n(l.status),1)]),e("td",pla,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,vla),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",bla,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",yla,[e("h5",kla,n(o.$t("Edit Group")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,$la)]),e("div",wla,[e("div",Dla,[e("label",xla,[le(n(o.$t("Name"))+" ",1),a[18]||(a[18]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",Cla,[e("label",Pla,[le(n(o.$t("Level"))+" ",1),a[19]||(a[19]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.level=r)},null,512),[[X,t.level]])]),e("div",Ela,[e("label",Ala,[le(n(o.$t("Product"))+" ",1),a[20]||(a[20]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.program_type_id=r),required:""},[e("option",Ila,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.program_types,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,Rla))),128))],512),[[de,t.program_type_id]])]),e("div",Sla,[e("label",Tla,[le(n(o.$t("Status"))+" ",1),a[21]||(a[21]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.status=r),required:""},[e("option",jla,n(o.$t("Active")),1),e("option",Ola,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",Mla,[e("button",Lla,n(o.$t("Close")),1),e("button",Nla,n(o.$t("Submit")),1)])],32)])],8,gla)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Yla=Ue(Fsa,[["render",Fla],["__scopeId","data-v-0779afed"]]),Vla={name:"AuthorizationMatrix",components:{Pagination:St},props:["bank","company"],setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h([]),_=h(50),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h([]),w=h([]),y=h([]),x=h(""),C=h(1),E=h(!1);ot(r,T=>{T?A.get(s+o.bank+"/companies/"+o.company+"/authorization-matrices/program-type/"+T).then(P=>{m.value=P.data}).catch(P=>{console.log(P)}):m.value=[]});const D=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/authorization-matrices/data",{params:{per_page:_.value}}).then(T=>{t.value=T.data.authorization_matrices,c.value=T.data.program_types}).catch(T=>{console.log(T)})},k=T=>{x.value=T.id,l.value=T.name,r.value=T.program_type_id,i.value=T.status,d.value=T.min_pi_amount,p.value=T.max_pi_amount,C.value=0,T.rules.forEach(P=>{P.operator&&(g.value[C.value]=P.operator),w.value[C.value]=P.group_id,y.value[C.value]=P.min_approval,C.value+=1}),E.value=!0},I=()=>{const T=new FormData;T.append("name",l.value),T.append("program_type_id",r.value),T.append("status",i.value),T.append("min_pi_amount",d.value),T.append("max_pi_amount",p.value),T.append("groups",JSON.stringify(w.value)),T.append("rules_min_approvals",JSON.stringify(y.value)),T.append("rules_operators",JSON.stringify(g.value)),A.post(s+o.bank+"/companies/"+o.company+"/authorization-matrices/store",T).then(()=>{a.success("Rule added successfully"),l.value="",r.value="",i.value="",d.value="",p.value="",C.value=1,v.value=[],g.value=[],w.value=[],y.value=[],D(),document.getElementById("close-create-modal").click()}).catch(P=>{P.response.data&&P.response.data.message&&a.error(P.response.data.message),Object.keys(P.response.data).length>0&&Object.keys(P.response.data).forEach(R=>{a.error(P.response.data[R][0])}),P.response.data&&(!P.response.data.message||Object.keys(P.response.data).length<=0)&&a.error("An error occurred")})},V=()=>{const T=new FormData;T.append("matrix_id",x.value),T.append("name",l.value),T.append("program_type_id",r.value),T.append("status",i.value),T.append("min_pi_amount",d.value),T.append("max_pi_amount",p.value),T.append("groups",JSON.stringify(w.value)),T.append("rules_min_approvals",JSON.stringify(y.value)),T.append("rules_operators",JSON.stringify(g.value)),A.post(s+o.bank+"/companies/"+o.company+"/authorization-matrices/update",T).then(()=>{a.success("Rule updated successfully"),document.getElementById("close-edit-modal-"+x.value).click(),x.value="",l.value="",r.value="",i.value="",d.value="",p.value="",C.value=1,v.value=[],g.value=[],w.value=[],y.value=[],D()}).catch(P=>{P.response.data&&P.response.data.message&&a.error(P.response.data.message),Object.keys(P.response.data).length>0&&Object.keys(P.response.data).forEach(R=>{a.error(P.response.data[R][0])}),P.response.data&&(!P.response.data.message||Object.keys(P.response.data).length<=0)&&a.error("An error occurred")})},B=()=>{C.value+=1,g.value.length+=1,w.value.length+=1,y.value.length+=1},L=T=>{C.value-=1;let P=g.value.findIndex(N=>N==T);g.value.splice(P,-1),g.value.length-=1;let R=w.value.findIndex(N=>N==T);w.value.splice(R,-1),w.value.length-=1;let O=y.value.findIndex(N=>N==T);y.value.splice(O,-1),y.value.length-=1};return Qe(()=>{D(),g.value.length+=1,w.value.length+=1,y.value.length+=1}),{per_page:_,rates:t,program_types:c,authorization_groups:m,name:l,min_pi_amount:d,max_pi_amount:p,program_type_id:r,status:i,rules:v,rules_groups:w,rules_min_approval:y,rules_operators:g,main_rules_count:C,showEditModal:E,addNewBranch:I,updateBranch:V,editBranch:k,changePage:async T=>{await A.get(T,{params:{per_page:_.value}}).then(P=>{t.value=P.data})},addCount:B,deleteCount:L}}},Bla={class:"card p-2"},Ula={class:"d-flex justify-content-between"},qla={class:"d-flex"},Hla={class:"mx-1"},zla={type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},Wla={class:"modal modal-center fade modal-lg",id:"addBranch",tabindex:"-1"},Kla={class:"modal-dialog"},Gla={class:"modal-header"},Qla={class:"modal-title",id:"modalTopTitle"},Zla={class:"modal-body my-1"},Jla={class:"row"},Xla={class:"col-4"},eia={class:"form-group my-1"},tia={for:"Name",class:"form-label"},oia={value:""},aia=["value"],nia={class:"col-4"},sia={class:"form-group"},lia={for:"Name",class:"form-label"},iia={class:"col-4"},ria={class:"form-group my-1"},dia={for:"Name",class:"form-label"},cia={value:"active"},uia={value:"inactive"},_ia={class:"col-6"},mia={class:"form-group my-1"},fia={for:"Name",class:"form-label"},hia={class:"col-6"},pia={class:"form-group my-1"},via={for:"Name",class:"form-label"},gia={class:"d-flex justify-content-between"},bia={key:0,class:"col-12 mt-1"},yia={class:"form-group my-1"},kia={for:"Name",class:"form-label"},$ia=["onUpdate:modelValue"],wia={value:"and",selected:""},Dia={value:"or"},xia={class:"col-6"},Cia={class:"form-group my-1"},Pia={for:"Name",class:"form-label"},Eia=["onUpdate:modelValue"],Aia=["value"],Iia={class:"col-6"},Ria={class:"form-group my-1"},Sia={for:"Name",class:"form-label"},Tia=["onUpdate:modelValue"],jia={class:"modal-footer"},Oia={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Mia={type:"submit",class:"btn btn-primary"},Lia={class:"table-responsive"},Nia={class:"table"},Fia={class:""},Yia={class:"table-border-bottom-0"},Via={class:"flex"},Bia=["onClick","data-bs-target"],Uia=["id"],qia={class:"modal-dialog"},Hia={class:"modal-header"},zia={class:"modal-title",id:"modalTopTitle"},Wia=["id"],Kia={class:"modal-body my-1"},Gia={class:"row"},Qia={class:"col-4"},Zia={class:"form-group my-1"},Jia={for:"Name",class:"form-label"},Xia={value:""},era=["value"],tra={class:"col-4"},ora={class:"form-group"},ara={for:"Name",class:"form-label"},nra={class:"col-4"},sra={class:"form-group my-1"},lra={for:"Name",class:"form-label"},ira={value:"active"},rra={value:"inactive"},dra={class:"col-6"},cra={class:"form-group my-1"},ura={for:"Name",class:"form-label"},_ra={class:"col-6"},mra={class:"form-group my-1"},fra={for:"Name",class:"form-label"},hra={class:"d-flex justify-content-between"},pra={key:0,class:"col-12 mt-1"},vra={class:"form-group my-1"},gra=["onUpdate:modelValue"],bra={value:"and",selected:""},yra={value:"or"},kra={class:"col-6"},$ra={class:"form-group my-1"},wra={for:"Name",class:"form-label"},Dra=["onUpdate:modelValue"],xra=["value"],Cra={class:"col-6"},Pra={class:"form-group my-1"},Era={for:"Name",class:"form-label"},Ara=["onUpdate:modelValue"],Ira={key:1,class:"col-12"},Rra={class:"w-25"},Sra=["onClick"],Tra={class:"modal-footer"},jra={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Ora={type:"submit",class:"btn btn-primary"};function Mra(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Bla,[e("div",Ula,[a[24]||(a[24]=ga('<div class="d-flex flex-wrap gap-1" data-v-ca31aaec><div class="" data-v-ca31aaec><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Base Rate Code" aria-describedby="defaultFormControlHelp" data-v-ca31aaec></div><div class="" data-v-ca31aaec><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Status" aria-describedby="defaultFormControlHelp" data-v-ca31aaec></div></div>',1)),e("div",qla,[e("div",Hla,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l)},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",zla,n(o.$t("New Rule")),1),e("div",Wla,[e("div",Kla,[e("form",{class:"modal-content",method:"POST",onSubmit:a[7]||(a[7]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",Gla,[e("h5",Qla,n(o.$t("Add New Rule")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close",id:"close-create-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Zla,[e("div",Jla,[e("div",Xla,[e("div",eia,[e("label",tia,[le(n(o.$t("Product"))+" ",1),a[17]||(a[17]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_type_id=l),required:""},[e("option",oia,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.program_types,l=>(u(),f("option",{key:l.id,value:l.id},n(l.name),9,aia))),128))],512),[[de,t.program_type_id]])])]),e("div",nia,[e("div",sia,[e("label",lia,[le(n(o.$t("Name"))+" ",1),a[18]||(a[18]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=l=>t.name=l),autocomplete:"off"},null,512),[[X,t.name]])])]),e("div",iia,[e("div",ria,[e("label",dia,[le(n(o.$t("Status"))+" ",1),a[19]||(a[19]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=l=>t.status=l),required:""},[e("option",cia,n(o.$t("Active")),1),e("option",uia,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",_ia,[e("div",mia,[e("label",fia,[le(n(o.$t("Minimum PI Amount"))+" ",1),a[20]||(a[20]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"number",min:"1",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.min_pi_amount=l),autocomplete:"off"},null,512),[[X,t.min_pi_amount]])])]),e("div",hia,[e("div",pia,[e("label",via,[le(n(o.$t("Maximum PI Amount"))+" ",1),a[21]||(a[21]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"number",min:"1",id:"",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=l=>t.max_pi_amount=l),autocomplete:"off"},null,512),[[X,t.max_pi_amount]])])])]),a[23]||(a[23]=e("br",null,null,-1)),e("div",gia,[e("h6",null,n(o.$t("Rules")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[6]||(a[6]=(...l)=>t.addCount&&t.addCount(...l))},n(o.$t("Add Rule")),1)]),(u(!0),f(G,null,ee(t.main_rules_count,l=>(u(),f("div",{class:"row",key:l},[l>1?(u(),f("div",bia,[a[22]||(a[22]=e("hr",null,null,-1)),e("div",yia,[e("label",kia,n(o.$t("And/Or")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_operators[l-1]=r},[e("option",wia,n(o.$t("And")),1),e("option",Dia,n(o.$t("Or")),1)],8,$ia),[[de,t.rules_operators[l-1]]])])])):b("",!0),e("div",xia,[e("div",Cia,[e("label",Pia,n(o.$t("Group")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_groups[l-1]=r},[(u(!0),f(G,null,ee(t.authorization_groups,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,Aia))),128))],8,Eia),[[de,t.rules_groups[l-1]]])])]),e("div",Iia,[e("div",Ria,[e("label",Sia,n(o.$t("Minimum Approval")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":r=>t.rules_min_approval[l-1]=r,autocomplete:"off"},null,8,Tia),[[X,t.rules_min_approval[l-1]]])])])]))),128))]),e("div",jia,[e("button",Oia,n(o.$t("Close")),1),e("button",Mia,n(o.$t("Submit")),1)])],32)])])])]),e("div",Lia,[e("table",Nia,[e("thead",null,[e("tr",Fia,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Min PI Amount")),1),e("th",null,n(o.$t("Max PI Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Yia,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.name),1),e("td",null,n(l.program_type.name),1),e("td",null,n(new Intl.NumberFormat().format(l.min_pi_amount)),1),e("td",null,n(new Intl.NumberFormat().format(l.max_pi_amount)),1),e("td",Via,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,Bia),e("div",{class:"modal modal-center fade modal-lg",id:"rate-"+l.id,tabindex:"-1"},[e("div",qia,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",Hia,[e("h5",zia,n(o.$t("Edit Rule")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,Wia)]),e("div",Kia,[e("div",Gia,[e("div",Qia,[e("div",Zia,[e("label",Jia,[le(n(o.$t("Product"))+" ",1),a[25]||(a[25]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.program_type_id=r),required:""},[e("option",Xia,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.program_types,r=>(u(),f("option",{key:r.id,value:r.id},n(r.name),9,era))),128))],512),[[de,t.program_type_id]])])]),e("div",tra,[e("div",ora,[e("label",ara,[le(n(o.$t("Name"))+" ",1),a[26]||(a[26]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.name=r)},null,512),[[X,t.name]])])]),e("div",nra,[e("div",sra,[e("label",lra,[le(n(o.$t("Status"))+" ",1),a[27]||(a[27]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.status=r),required:""},[e("option",ira,n(o.$t("Active")),1),e("option",rra,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",dra,[e("div",cra,[e("label",ura,[le(n(o.$t("Minimum PI Amount"))+" ",1),a[28]||(a[28]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.min_pi_amount=r)},null,512),[[X,t.min_pi_amount]])])]),e("div",_ra,[e("div",mra,[e("label",fra,[le(n(o.$t("Maximum PI Amount"))+" ",1),a[29]||(a[29]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.max_pi_amount=r)},null,512),[[X,t.max_pi_amount]])])])]),a[32]||(a[32]=e("br",null,null,-1)),e("div",hra,[e("h6",null,n(o.$t("Rules")),1),e("button",{class:"btn btn-label-danger btn-sm",type:"button",onClick:a[13]||(a[13]=(...r)=>t.addCount&&t.addCount(...r))},n(o.$t("Add Rule")),1)]),(u(!0),f(G,null,ee(t.main_rules_count,r=>(u(),f("div",{class:"row",key:r},[r>1?(u(),f("div",pra,[a[31]||(a[31]=e("hr",null,null,-1)),e("div",vra,[a[30]||(a[30]=e("label",{for:"Name",class:"form-label"},"And/Or",-1)),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_operators[r-1]=i},[e("option",bra,n(o.$t("And")),1),e("option",yra,n(o.$t("Or")),1)],8,gra),[[de,t.rules_operators[r-1]]])])])):b("",!0),e("div",kra,[e("div",$ra,[e("label",wra,n(o.$t("Group")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_groups[r-1]=i},[(u(!0),f(G,null,ee(t.authorization_groups,i=>(u(),f("option",{key:i.id,value:i.id},n(i.name),9,xra))),128))],8,Dra),[[de,t.rules_groups[r-1]]])])]),e("div",Cra,[e("div",Pra,[e("label",Era,n(o.$t("Minimum Approval")),1),Y(e("input",{type:"text",name:"number",id:"",class:"form-control","onUpdate:modelValue":i=>t.rules_min_approval[r-1]=i,autocomplete:"off"},null,8,Ara),[[X,t.rules_min_approval[r-1]]])])]),r>1?(u(),f("div",Ira,[e("div",Rra,[e("i",{class:"ti ti-trash text-danger",onClick:i=>t.deleteCount(r)},null,8,Sra)])])):b("",!0)]))),128))]),e("div",Tra,[e("button",jra,n(o.$t("Close")),1),e("button",Ora,n(o.$t("Submit")),1)])],32)])],8,Uia)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Lra=Ue(Vla,[["render",Mra],["__scopeId","data-v-ca31aaec"]]),Nra={name:"CompanyUsers",props:["bank","company","anchor"],components:{RouterLink:el,Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=o.anchor=="true"?h(!0):h(!1),l=h(10),r=h(""),i=async()=>{await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value,search:r.value}}).then(x=>{t.value=x.data.users})};Qe(()=>{m.value=o.company,i()});const d=async x=>{await A.get(x).then(C=>{t.value=C.data.users})},p=(x,C)=>{A.get(s+o.bank+"/companies/"+m.value+"/users/"+x+"/status/update/"+C).then(()=>{i(),a.success("User status updated")}).catch(E=>{console.log(E)})},v=x=>{A.post(s+o.bank+"/configurations/users/"+x+"/changes/approve",{status:"approved"}).then(C=>{a.success(C.data.message),document.getElementById("approve-change-"+x).click(),i()}).catch(C=>{a.error(C.response.data.message)})},g=x=>{A.post(s+o.bank+"/configurations/users/"+x+"/changes/approve",{status:"rejected"}).then(C=>{a.success(C.data.message),document.getElementById("reject-change-"+x).click(),i()}).catch(C=>{a.error(C.response.data.message)})},w=async()=>{let x=$(".ti-search").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value,search:r.value}}).then(C=>{t.value=C.data.users,x.html('<i class="ti ti-search"></i>')})},y=async()=>{let x=$(".ti-refresh").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",await A.get(s+o.bank+"/companies/"+o.company+"/users/data",{params:{per_page:l.value}}).then(C=>{t.value=C.data.users,x.html('<i class="ti ti-refresh"></i>')})};return ot([l],async([x])=>{await A.get(s+o.bank+"/requests/cbs-transactions/data",{params:{per_page:x,search:r.value}}).then(C=>{t.value=C.data.users}).catch(C=>{console.log(C)})}),{base_url:s,bank:c,company:m,is_anchor:_,users:t,per_page:l,changePage:d,updateActiveStatus:p,approveChanges:v,rejectChanges:g,search:r,filter:w,refresh:y}}},Fra={class:"card p-1",id:"companies"},Yra={class:"card-title px-2 my-1"},Vra={class:"d-flex justify-content-between px-2"},Bra={class:"d-flex flex-wrap gap-1"},Ura={class:"mr-2"},qra={for:"Search",class:"form-label"},Hra={class:"table-search-btn"},zra={class:"table-clear-btn"},Wra={class:"d-flex justify-content-end mt-auto"},Kra={class:""},Gra={class:"table-responsive"},Qra={class:"table"},Zra={class:""},Jra={key:0},Xra={key:1},eda={class:"table-border-bottom-0"},tda={key:0},oda={colspan:"12",class:"text-center"},ada={class:"text-center"},nda={key:1},sda={colspan:"12",class:"text-center"},lda={class:"text-center"},ida={class:"d-flex"},rda=["href"],dda={key:0,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},cda={key:1,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},uda={class:""},_da={key:0,class:"d-flex"},mda={key:1},fda={key:0},hda={key:0},pda={key:0},vda={key:1},gda={key:1},bda={key:0},yda={key:0},kda={key:1},$da={class:"d-flex"},wda={key:0,class:"ti ti-clock ti-sm text-primary my-auto mx-2",title:"User Creation/Updation awaiting approval"},Dda=["data-bs-target"],xda=["href"],Cda=["data-bs-target"],Pda=["data-bs-target"],Eda=["onClick"],Ada=["onClick"],Ida=["onClick"],Rda=["onClick"],Sda=["id"],Tda={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},jda=["onSubmit"],Oda={class:"modal-content"},Mda={class:"modal-header"},Lda={class:"modal-title",id:"modalCenterTitle"},Nda=["id"],Fda={key:0,class:"modal-body"},Yda={key:0},Vda={class:"m_title"},Bda={key:1},Uda={key:2},qda={key:3},Hda={class:"modal-footer"},zda={type:"submit",class:"btn btn-primary"},Wda=["id"],Kda={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Gda=["onSubmit"],Qda={class:"modal-content"},Zda={class:"modal-header"},Jda={class:"modal-title",id:"modalCenterTitle"},Xda=["id"],eca={key:0,class:"modal-body"},tca={key:0},oca={class:"m_title"},aca={key:1},nca={key:2},sca={key:3},lca={class:"modal-footer"},ica={type:"submit",class:"btn btn-primary"},rca=["id"],dca={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},cca={class:"modal-content"},uca={class:"modal-header"},_ca={class:"modal-title",id:"modalCenterTitle"},mca={key:0,class:"modal-body"},fca={key:0},hca={class:"m_title"},pca={key:1},vca={key:2},gca={key:3};function bca(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Fra,[e("div",Yra,[e("h5",null,n(o.$t("Users")),1)]),e("div",Vra,[e("div",Bra,[e("div",Ura,[e("label",qra,n(o.$t("Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"User Name/User Email/Phone Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.search=l)},null,544),[[X,t.search]])]),e("div",Hra,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zra,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wra,[e("div",Kra,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l)},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])])])]),e("div",Gra,[e("table",Qra,[e("thead",null,[e("tr",Zra,[e("th",null,n(o.$t("User Name")),1),e("th",null,n(o.$t("User Email")),1),e("th",null,n(o.$t("User Phone Number")),1),e("th",null,n(o.$t("Role")),1),t.is_anchor?(u(),f("th",Jra,n(o.$t("VF Group")),1)):b("",!0),t.is_anchor?(u(),f("th",Xra,n(o.$t("DF Group")),1)):b("",!0),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",eda,[t.users.data?b("",!0):(u(),f("tr",tda,[e("td",oda,[e("span",ada,n(o.$t("Loading Data"))+"...",1)])])),t.users.data&&t.users.data.length<=0?(u(),f("tr",nda,[e("td",sda,[e("span",lda,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.users.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",ida,[e("a",{class:"text-primary text-decoration-underline",href:"../"+t.company+"/users/"+l.id+"/edit"},n(l.name),9,rda),l.has_pending_config?(u(),f("i",dda)):b("",!0),l.changes?(u(),f("i",cda)):b("",!0)])]),e("td",uda,n(l.email),1),e("td",null,[e("span",null,n(l.phone_number),1)]),e("td",null,[l.roles.length>0?(u(),f("div",_da,[(u(!0),f(G,null,ee(l.roles,r=>(u(),f("span",{key:r.id,class:"btn btn-xs btn-label-warning mx-1"},n(r.name),1))),128))])):(u(),f("span",mda,"-"))]),t.is_anchor?(u(),f("td",fda,[l.authorization_groups.length>0?(u(),f("div",hda,[(u(!0),f(G,null,ee(l.authorization_groups,r=>(u(),f("span",{key:r.id},[r.program_type.name=="Vendor Financing"?(u(),f("span",pda,n(r.name),1)):b("",!0)]))),128))])):(u(),f("div",vda,"-"))])):b("",!0),t.is_anchor?(u(),f("td",gda,[l.authorization_groups.length>0?(u(),f("div",bda,[(u(!0),f(G,null,ee(l.authorization_groups,r=>(u(),f("span",{key:r.id},[r.program_type.name=="Dealer Financing"?(u(),f("span",yda,n(r.name),1)):b("",!0)]))),128))])):(u(),f("div",kda,"-"))])):b("",!0),e("td",null,[e("div",$da,[l.has_pending_config?(u(),f("i",wda)):b("",!0),l.changes?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary my-auto mx-2",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#user-change-"+l.id,title:"User Creation/Updation awaiting approval"},null,8,Dda)):b("",!0),l.can_edit&&!l.has_pending_config&&!l.changes?(u(),f("a",{key:2,href:"users/"+l.id+"/edit",class:"",title:"Edit User Details"},a[8]||(a[8]=[e("i",{class:"ti ti-pencil text-warning"},null,-1)]),8,xda)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:3,href:"#",class:"",title:"Approve User Details Change","data-bs-toggle":"modal","data-bs-target":"#approve-user-change-"+l.id},a[9]||(a[9]=[e("i",{class:"ti ti-check text-success"},null,-1)]),8,Cda)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:4,href:"#",class:"",title:"Reject User Details Change","data-bs-toggle":"modal","data-bs-target":"#reject-user-change-"+l.id},a[10]||(a[10]=[e("i",{class:"ti ti-circle-x text-danger mx-1"},null,-1)]),8,Pda)):b("",!0),!l.is_current_user&&!l.has_pending_config&&!l.changes&&l.mapped_companies.length>0&&l.mapped_companies[0].pivot.active==1&&l.can_activate?(u(),f("i",{key:5,class:"ti ti-thumb-up ti-sm text-success my-auto mx-2",title:"Click to Suspend User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,Eda)):b("",!0),!l.is_current_user&&!l.has_pending_config&&!l.changes&&l.mapped_companies.length>0&&l.mapped_companies[0].pivot.active==0&&l.can_activate?(u(),f("i",{key:6,class:"ti ti-thumb-down ti-sm text-danger my-auto mx-2",title:"Click to Activate User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,Ada)):b("",!0),!l.is_current_user&&l.has_pending_config&&l.can_activate?(u(),f("i",{key:7,class:"ti ti-circle-check ti-sm text-success my-auto mx-2",title:"Click to Approve User Status Change",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,Ida)):b("",!0),!l.is_current_user&&l.has_pending_config&&l.can_activate?(u(),f("i",{key:8,class:"ti ti-circle-x ti-sm text-danger my-auto mx-2",title:"Click to Reject User Status Change",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,Rda)):b("",!0)]),l.changes?(u(),f("div",{key:0,class:"modal fade",id:"approve-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Tda,[e("form",{method:"post",onSubmit:st(r=>t.approveChanges(l.id),["prevent"])},[e("div",Oda,[e("div",Mda,[e("h5",Lda,n(o.$t("Edit User")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"approve-change-"+l.id},null,8,Nda)]),l.changes?(u(),f("div",Fda,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",Yda,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{key:d,class:"d-flex flex-col"},[e("div",Vda,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",Bda,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",Uda,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",qda,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0),e("div",Hda,[e("button",zda,n(o.$t("Confirm")),1)])])],40,jda)])],8,Sda)):b("",!0),l.changes?(u(),f("div",{key:1,class:"modal fade",id:"reject-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",Kda,[e("form",{method:"post",onSubmit:st(r=>t.rejectChanges(l.id),["prevent"])},[e("div",Qda,[e("div",Zda,[e("h5",Jda,n(o.$t("Edit User")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"reject-change-"+l.id},null,8,Xda)]),l.changes?(u(),f("div",eca,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",tca,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",oca,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",aca,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",nca,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",sca,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0),e("div",lca,[e("button",ica,n(o.$t("Confirm")),1)])])],40,Gda)])],8,Wda)):b("",!0),l.changes?(u(),f("div",{key:2,class:"modal fade",id:"user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",dca,[e("div",cca,[e("div",uca,[e("h5",_ca,n(o.$t("User Changes")),1),a[11]||(a[11]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",mca,[(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",fca,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",hca,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",pca,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0),i=="Authorization Group"?(u(),f("div",vca,[e("span",null,n(o.$t("Change Authorization Group to"))+" - "+n(r.name),1)])):b("",!0),i=="Dealer Authorization Group"?(u(),f("div",gca,[e("span",null,n(o.$t("Change Dealer Authorization Group to"))+" - "+n(r.name),1)])):b("",!0)]))),128))])):b("",!0)])])],8,rca)):b("",!0)])]))),128))])])]),Be(_,{class:"px-2",from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const yca=Ue(Nra,[["render",bca]]),kca={name:"Uploaded Companies",props:["bank"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/companies/uploaded/data?per_page="+m.value).then(p=>{s.value=p.data})},l=p=>{let v="";switch(p){case"successful":v="bg-label-success";break;case"failed":v="bg-label-danger";break;default:v="bg-label-primary";break}return v},r=async()=>{let p=$(".ti-search").parent();p.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:m.value,search:c.value}}).then(v=>{s.value=v.data,p.html('<i class="ti ti-search"></i>')})},i=async()=>{let p=$(".ti-refresh").parent();p.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",approval_status_search.value="",branch_code.value="",status_search.value=[],type_search.value="",company_type_search.value=[],await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:m.value}}).then(v=>{s.value=v.data,p.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{_()}),ot([m],async([p])=>{await A.get(a+o.bank+"/companies/uploaded/data",{params:{per_page:p,search:c.value}}).then(v=>{s.value=v.data}).catch(v=>{console.log(v)})}),{base_url:a,bank:t,companies:s,name_search:c,per_page:m,filter:r,refresh:i,resolveStatus:l,changePage:async p=>{await A.get(p+"&per_page="+m.value,{params:{search:c.value}}).then(v=>{s.value=v.data})}}}},$ca={class:"card p-2",id:"companies"},wca={class:"d-flex flex-column flex-md-row justify-content-between"},Dca={class:"d-flex flex-wrap gap-1"},xca={class:""},Cca={for:"Company Name",class:"form-label"},Pca=["placeholder"],Eca={class:""},Aca={class:""},Ica={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Rca={class:""},Sca={class:"table-responsive"},Tca={class:"table"},jca={class:""},Oca={class:"table-border-bottom-0"},Mca={key:0},Lca={colspan:"12",class:"text-center"},Nca={class:"text-center"},Fca={key:1},Yca={colspan:"12",class:"text-center"},Vca={class:"text-center"},Bca={class:""},Uca={class:""};function qca(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",$ca,[e("div",wca,[e("div",Dca,[e("div",xca,[e("label",Cca,n(o.$t("Company Name"))+"e",1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,40,Pca),[[X,t.name_search]])]),e("div",Eca,[e("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Aca,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Ica,[e("div",Rca,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),a[8]||(a[8]=e("div",{class:""},[e("button",{type:"button",class:"btn btn-primary btn-sm d-none",style:{height:"fit-content"}},[e("i",{class:"ti ti-download ti-xs"})])],-1))])]),t.companies?(u(),me(_,{key:0,class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Sca,[e("table",Tca,[e("thead",null,[e("tr",jca,[e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Organization Type")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",Oca,[t.companies.data?b("",!0):(u(),f("tr",Mca,[e("td",Lca,[e("span",Nca,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",Fca,[e("td",Yca,[e("span",Vca,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",Bca,[e("span",null,n(l.name),1)]),e("td",Uca,n(l.organization_type),1),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.status))},n(l.status),3)])]))),128))])])]),t.companies?(u(),me(_,{key:1,class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Hca=Ue(kca,[["render",qca]]),zca={name:"CompaniesUpload",props:["bank"],setup(o){const a=Je("baseURL"),s=h(null),t=lt(),c=h(!0),m=h(!1),_=h(0);return{bank:o.bank,selected_file:_,can_submit:c,show_error_download_link:m,selectFile:d=>{d.preventDefault();let p=d.target.files||d.dataTransfer.files;p.length&&(s.value=p[0])},uploadCompanies:()=>{c.value=!1,$("#submit-invoices-btn").html("Uploading");const d=new FormData;d.append("file",s.value),A.post(a+o.bank+"/companies/import",d).then(p=>{window.location.reload()}).catch(p=>{if(p.response.status==422){_.value++,t.error(p.response.data.message);return}p.response.data.uploaded>0&&t.success(p.response.data.uploaded+" uploaded."),p.response.data.total_rows-p.response.data.uploaded>0?(t.error(p.response.data.total_rows-p.response.data.uploaded+" failed to upload."),m.value=!0,_.value++):(document.getElementById("close-upload-modal").click(),setTimeout(()=>{window.location.reload()},3e3))}).finally(()=>{c.value=!0,$("#submit-invoices-btn").html("Submit")})}}}},Wca={class:""},Kca={"data-bs-toggle":"modal","data-bs-target":"#uploadCompanies",class:"btn btn-primary btn-sm"},Gca={class:"modal modal-top fade",id:"uploadCompanies",tabindex:"-1"},Qca={class:"modal-dialog"},Zca={class:"modal-header"},Jca={class:"modal-title",id:"modalTopTitle"},Xca={class:"modal-body"},eua={class:"form-group mt-2"},tua={class:"py-1 text-danger d-none",id:"show-download-error"},oua={key:0,href:"companies/upload/error-report/download",class:"btn btn-danger btn-sm mt-2"},aua={class:"modal-footer"},nua={href:"companies/template/download",id:"download-invoices",class:"btn btn-label-warning"},sua=["disabled"];function lua(o,a,s,t,c,m){return u(),f(G,null,[e("div",Wca,[e("button",Kca,n(o.$t("Upload Companies")),1)]),e("div",Gca,[e("div",Qca,[e("form",{class:"modal-content",method:"POST",enctype:"multipart/form-data",id:"upload-invoices-form",onSubmit:a[1]||(a[1]=st(_=>t.uploadCompanies(),["prevent"]))},[e("div",Zca,[e("h5",Jca,n(o.$t("Upload Companies")),1),a[2]||(a[2]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Xca,[e("div",eua,[(u(),f("input",{class:"form-control",id:"file-upload",name:"invoices",ref:"fileUpload",type:"file",accept:".xlsx,.csv",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",key:t.selected_file},null,32))]),e("span",tua,n(o.$t("An error occurred while downloading sample")),1),t.show_error_download_link?(u(),f("a",oua,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",aua,[e("a",nua,n(o.$t("Download Sample")),1),e("button",{type:"submit",class:"btn btn-primary",id:"submit-invoices-btn",disabled:!t.can_submit},n(o.$t("Submit")),9,sua)])],32)])])],64)}const iua=Ue(zca,[["render",lua]]),rua={name:"Companies",props:["bank","can_create"],components:{RouterLink:el,Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=o.can_create=="1"?h(!0):h(!1),c=h([]),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h(""),g=h([]),w=h(null),y=h(null),x=h([]),C=h(""),E=async()=>{await A.get(a+o.bank+"/companies/pending/data?per_page="+p.value).then(O=>{c.value=O.data.data.companies})},D=O=>{let N="";switch(O){case"pending":N="bg-label-primary";break;case"approved":N="bg-label-success";break;case"rejected":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},k=O=>{let N="";switch(O){case"active":N="bg-label-primary";break;case"inactive":N="bg-label-secondary";break;default:N="bg-label-primary";break}return N};ot([p],([O])=>{A.get(a+o.bank+"/companies/pending/data",{params:{per_page:O,name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(N=>{c.value=N.data.data.companies})});const I=()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+o.bank+"/companies/pending/data",{params:{per_page:p.value,name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(N=>{c.value=N.data.data.companies,O.html('<i class="ti ti-search"></i>')})},V=()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),l.value="",d.value="",i.value="",r.value="",A.get(a+o.bank+"/companies/pending/data",{params:{per_page:p.value}}).then(N=>{c.value=N.data.data.companies,O.html('<i class="ti ti-refresh"></i>')})};ot(C,O=>{x.value.length>0?(g.value=[],O=="approve"&&(x.value.forEach(N=>{g.value.push(c.value.data.filter(S=>S.id==N)[0])}),y.value.click()),O=="reject"&&w.value.click()):s.error("Select Programs")});const B=()=>{x.value=[],document.getElementById("select-all").checked?c.value.data.forEach(O=>{O.can_approve&&(document.getElementById("data-select-"+O.id).checked=!0,x.value.push(O.id))}):c.value.data.forEach(O=>{if(O.can_approve){document.getElementById("data-select-"+O.id).checked=!1;let N;if(!x.value.filter(function(U,W){N=W,U==O.id}))return!1;x.value.splice(N,1)}})},L=O=>{if(x.value.includes(O)){const N=x.value.indexOf(O);x.value.splice(N,1)}else x.value.push(O)},F=O=>{if(x.value.length<=0){s.error("Select companies");return}const N=new FormData;x.value.forEach(S=>{N.append("companies[]",S)}),O=="approve"&&N.append("status","approved"),O=="reject"&&(N.append("status","rejected"),N.append("rejection_reason",m.value)),A.post(a+o.bank+"/companies/bulk/approval-status/status/update",N).then(()=>{s.success("Companies updated"),C.value="",m.value="",E(),document.getElementById("pending-approve-companies-close").click(),document.getElementById("pending-reject-companies-close").click()}).catch(S=>{console.log(S),s.error("An error occurred")})},T=(O,N)=>{A.get(`companies/${O}/activity/status/update/${N}`).then(()=>{E(),s.success("Company status updated")}).catch(S=>{console.log(S)})},P=(O,N)=>{A.post(`companies/${O}/status/update`,{status:N,rejection_reason:m.value}).then(()=>{E(),s.success("Company status updated"),setTimeout(()=>{window.location.reload()},3e3)}).catch(S=>{console.log(S)})};return Qe(()=>{E()}),{base_url:a,bank:_,companies:c,rejection_reason:m,can_create:t,name_search:l,status_search:r,branch_code:i,approval_status_search:d,per_page:p,filter:I,refresh:V,updateRequestRejectionReason:v,showRejectionModal:w,showApprovalModal:y,selected_data:x,bulk_action:C,selectAll:B,updateSelected:L,submitBulkAction:F,resolveApprovalStatus:D,resolveStatus:k,updateActiveStatus:T,updateApprovalStatus:P,changePage:async O=>{await A.get(O+"&per_page="+p.value,{params:{name:l.value,approval_status:d.value,branch_code:i.value,status:r.value}}).then(N=>{c.value=N.data.data.companies})}}}},dua={class:"card p-2",id:"companies"},cua={class:"d-flex flex-column flex-md-row justify-content-between"},uua={class:"d-flex flex-wrap gap-1"},_ua={class:""},mua={for:"Company Name",class:"form-label"},fua=["placeholder"],hua={class:""},pua={for:"Approval Status",class:"form-label"},vua={value:""},gua={value:"pending"},bua={value:"approved"},yua={value:"rejected"},kua={class:""},$ua={for:"Status",class:"form-label"},wua={value:""},Dua={value:"active"},xua={value:"inactive"},Cua={class:""},Pua={for:"Branch Code",class:"form-label"},Eua=["placeholder"],Aua={class:""},Iua={for:"Bulk Actions",class:"form-label"},Rua={value:""},Sua={value:"approve"},Tua={value:"reject"},jua={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Oua={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Mua={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Lua={class:"modal-content"},Nua={class:"modal-header"},Fua={class:"modal-title",id:"modalCenterTitle"},Yua={class:"modal-body"},Vua={class:"modal-footer"},Bua={class:"btn btn-primary",type:"submit"},Uua={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},qua={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},Hua={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},zua={class:"modal-content"},Wua={class:"modal-header"},Kua={class:"modal-title",id:"modalCenterTitle"},Gua={class:"modal-body"},Qua={class:"row mb-1"},Zua={class:"form-group"},Jua={for:""},Xua={class:"modal-footer"},e_a={class:"btn btn-primary",type:"submit"},t_a={class:"table-search-btn"},o_a={class:"table-clear-btn"},a_a={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},n_a={class:""},s_a={key:0,class:""},l_a={href:"companies/create"},i_a={type:"button",class:"btn btn-primary btn-md text-nowrap"},r_a={class:"table-responsive"},d_a={class:"table"},c_a={class:""},u_a={class:"form-check"},__a={class:"table-border-bottom-0"},m_a={key:0},f_a={colspan:"12",class:"text-center"},h_a={class:"text-center"},p_a={key:1},v_a={colspan:"12",class:"text-center"},g_a={class:"text-center"},b_a={class:"form-check"},y_a=["id","onChange"],k_a={class:"text-primary text-decoration-underline"},$_a=["href"],w_a={key:1},D_a={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},x_a={key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Company Creation/Updation Awaiting Approval."},C_a={class:""},P_a={key:0},E_a={key:1},A_a={class:"d-flex"},I_a=["onClick"],R_a=["onClick"],S_a=["onClick"],T_a=["data-bs-target"],j_a=["id"],O_a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},M_a={class:"modal-content"},L_a={class:"modal-header"},N_a={class:"modal-title",id:"modalCenterTitle"},F_a=["onSubmit"],Y_a={class:"modal-body"},V_a={class:"row mb-1"},B_a={class:"form-group"},U_a={for:""},q_a={class:"modal-footer"},H_a={class:"btn btn-primary",type:"submit"};function z_a(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",dua,[e("div",cua,[e("div",uua,[e("div",_ua,[e("label",mua,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,8,fua),[[X,t.name_search]])]),e("div",hua,[e("label",pua,n(o.$t("Approval Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.approval_status_search=l)},[e("option",vua,n(o.$t("Approval Status")),1),e("option",gua,n(o.$t("Pending")),1),e("option",bua,n(o.$t("Approved")),1),e("option",yua,n(o.$t("Rejected")),1)],512),[[de,t.approval_status_search]])]),e("div",kua,[e("label",$ua,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",wua,n(o.$t("Status")),1),e("option",Dua,n(o.$t("Active")),1),e("option",xua,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",Cua,[e("label",Pua,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[3]||(a[3]=l=>t.branch_code=l),id:"defaultFormControlInput",placeholder:o.$t("Branch Code"),"aria-describedby":"defaultFormControlHelp"},null,8,Eua),[[X,t.branch_code]])]),e("div",Aua,[e("label",Iua,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.bulk_action=l)},[e("option",Rua,n(o.$t("Bulk Actions")),1),e("option",Sua,n(o.$t("Approve")),1),e("option",Tua,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",jua,null,512),e("div",Oua,[e("div",Mua,[e("div",Lua,[e("div",Nua,[e("h5",Fua,n(o.$t("Approve Companies")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"pending-approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[5]||(a[5]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Yua,[e("h5",null,n(o.$t("Are you sure you want to approve the selected companies"))+"?",1)]),e("div",Vua,[e("button",Bua,n(o.$t("Submit")),1)])],32)])])]),e("button",Uua,null,512),e("div",qua,[e("div",Hua,[e("div",zua,[e("div",Wua,[e("h5",Kua,n(o.$t("Update Selected Companies")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"pending-reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Gua,[e("div",Qua,[e("div",Zua,[e("label",Jua,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.rejection_reason=l)},null,512),[[X,t.rejection_reason]])])])]),e("div",Xua,[e("button",e_a,n(o.$t("Submit")),1)])],32)])])]),e("div",t_a,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",o_a,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",a_a,[e("div",n_a,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=l=>t.per_page=l),style:{height:"fit-content"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),a[19]||(a[19]=e("div",{class:""},[e("button",{type:"button",class:"btn btn-primary d-none",style:{height:"fit-content"}},[e("i",{class:"ti ti-download ti-sm"})])],-1)),t.can_create?(u(),f("div",s_a,[e("a",l_a,[e("button",i_a,[a[18]||(a[18]=e("i",{class:"ti ti-plus ti-xs"},null,-1)),le(n(o.$t("Add Company")),1)])])])):b("",!0)])]),t.companies.meta?(u(),me(_,{key:0,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",r_a,[e("table",d_a,[e("thead",null,[e("tr",c_a,[e("th",null,[e("div",u_a,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[11]||(a[11]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Company Type")),1),e("th",null,n(o.$t("Approval Status")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Source")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",__a,[t.companies.data?b("",!0):(u(),f("tr",m_a,[e("td",f_a,[e("span",h_a,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",p_a,[e("td",v_a,[e("span",g_a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",b_a,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,y_a)):b("",!0)])]),e("td",k_a,[l.can_view?(u(),f("a",{key:0,href:"companies/"+l.id+"/details"},n(l.name),9,$_a)):(u(),f("span",w_a,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",D_a)):b("",!0),l.approval_status=="pending"?(u(),f("i",x_a)):b("",!0)]),e("td",C_a,n(l.organization_type),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveApprovalStatus(l.approval_status)])},n(l.approval_status),3)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(l.status)])},n(l.status),3)]),e("td",null,[l.pipeline?(u(),f("span",P_a,"Bank/CRM Created")):(u(),f("span",E_a,"YoFinvoice"))]),e("td",null,[e("span",null,n(l.branch_code),1)]),e("td",A_a,[l.approval_status=="approved"&&l.status=="active"&&l.can_activate?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,I_a)):b("",!0),l.approval_status=="approved"&&l.status=="inactive"&&l.can_activate?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,R_a)):b("",!0),l.can_approve?(u(),f("i",{key:2,class:"ti ti-circle-check ti-sm text-success mx-1",style:{cursor:"pointer"},onClick:r=>t.updateApprovalStatus(l.id,"approved"),title:"Approve Company"},null,8,S_a)):b("",!0),l.can_approve?(u(),f("i",{key:3,class:"ti ti-square-x ti-sm text-danger mx-1",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#update-status-"+l.id,title:"Reject/Disapprove Company"},null,8,T_a)):b("",!0),e("div",{class:"modal fade",id:"update-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",O_a,[e("div",M_a,[e("div",L_a,[e("h5",N_a,n(o.$t("Update Company Status")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(r=>t.updateApprovalStatus(l.id,"rejected"),["prevent"]),method:"post"},[e("div",Y_a,[e("div",V_a,[e("div",B_a,[e("label",U_a,n(o.$t("Enter Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.rejection_reason=r)},null,512),[[X,t.rejection_reason]])])])]),e("div",q_a,[e("button",H_a,n(o.$t("Submit")),1)])],40,F_a)])])],8,j_a)])]))),128))])])]),t.companies.meta?(u(),me(_,{key:1,class:"mx-2",from:t.companies.meta.from,to:t.companies.meta.to,links:t.companies.meta.links,next_page:t.companies.links.next,prev_page:t.companies.links.prev,total_items:t.companies.meta.total,first_page_url:t.companies.links.first,last_page_url:t.companies.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const W_a=Ue(rua,[["render",z_a]]);$(function(){const o=$(".selectpicker"),a=$(".select2"),s=$(".select2-icons");if(o.length&&o.selectpicker(),a.length&&a.each(function(){var t=$(this);t.wrap('<div class="position-relative"></div>').select2({placeholder:"Select value",dropdownParent:t.parent()})}),s.length){let t=function(c){return c.id?"<i class='"+$(c.element).data("icon")+" me-2'></i>"+c.text:c.text};s.wrap('<div class="position-relative"></div>').select2({templateResult:t,templateSelection:t,escapeMarkup:function(c){return c}})}});const K_a={name:"PaymentRequests",components:{Pagination:St,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o,a){const s=o.date_format,t=lt(),c=Je("baseURL"),m=h([]),_=h(""),l=h(""),r=h(50),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h([]),y=h(""),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(null),V=h(0),B=h(null),L=h(null),F=h(null),T=async()=>{await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,pi_number:i.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:w.value,sort_by:y.value,invoice_number:x.value,pay_date:C.value,transaction_type:E.value,product_type:D.value}}).then(re=>{m.value=re.data.payment_requests}).catch(re=>{console.log(re)})};return a.expose({getRequests:T}),Qe(()=>{$("#status-select").on("change",function(){var re=$("#status-select").val();w.value=re})}),{moment:H,requests:m,per_page:r,debit_from:d,company_name:p,from_date:v,to_date:g,status:w,sort_by:y,product_type_search:D,invoice_number_search:x,pay_date_search:C,transaction_type:E,pi_number_search:i,filter:async()=>{k.value=$("#date_search").val(),k.value&&(v.value=H(k.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(k.value.split(" - ")[1]).format("YYYY-MM-DD"));let re=$(".ti-search").parent();re.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,pi_number:i.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:w.value,sort_by:y.value,invoice_number:x.value,pay_date:C.value,transaction_type:E.value,product_type:D.value}}).then($e=>{m.value=$e.data.payment_requests,re.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let re=$(".ti-refresh").parent();re.html('<img src="../../../../../assets/img/spinner.svg" />'),i.value="",d.value="",p.value="",v.value="",g.value="",w.value=[],y.value="",x.value="",C.value="",E.value="",D.value="",k.value="",$("#date_search").val(""),$("#status-select").val("").trigger("change"),await A.get(c+o.bank+"/requests/payment-requests/data",{params:{per_page:r.value,sort_by:y.value}}).then($e=>{m.value=$e.data.payment_requests,re.html('<i class="ti ti-refresh"></i>')})},resolvePaymentRequestStatus:re=>{let $e="";switch(re){case"created":$e="bg-label-primary";break;case"approved":$e="bg-label-primary";break;case"paid":$e="bg-label-success";break;case"failed":$e="bg-label-danger";break;case"rejected":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},resolveStatus:re=>{let $e="";switch(re){case"pending":$e="bg-label-primary";break;case"sent":$e="bg-label-secondary";break;case"approved":$e="bg-label-success";break;case"denied":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},changePage:async re=>{k.value=$("#date_search").val(),k.value&&(v.value=H(k.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(k.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(re,{params:{per_page:r.value,debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:w.value,sort_by:y.value,invoice_number:x.value,pay_date:C.value,transaction_type:E.value,product_type:D.value,pi_number:i.value}}).then($e=>{m.value=$e.data.payment_requests})},invoice_details:I,purchase_order_details:B,getTotalAmount:re=>{let $e=0;return re.forEach(De=>{$e+=De.quantity*De.price_per_quantity}),$e},getTaxesAmount:re=>{let $e=0;return re.forEach(De=>{$e+=De.value}),$e},getFeesAmount:re=>{let $e=0;return re.forEach(De=>{$e+=De.amount}),$e},resolveFinancingStatus:re=>{let $e="";switch(re){case"pending":$e="bg-label-primary";break;case"financed":$e="bg-label-primary";break;case"disbursed":$e="bg-label-primary";break;case"closed":$e="bg-label-success";break;case"denied":$e="bg-label-danger";break;default:$e="bg-label-primary";break}return $e},updateRequestStatus:_,updateRequestRejectionReason:l,updateStatus:(re,$e)=>{const De=new FormData;De.append("payment_request_id",re.id),De.append("status",$e),De.append("rejection_reason",l.value),A.post(c+o.bank+"/requests/payment-requests/update",De).then(()=>{t.success("Payment Request updated"),T()}).catch(ie=>{console.log(ie),t.error("An error occurred")})},getTaxPercentage:(re,$e)=>Math.round($e/re*100),exprotPaymentRequests:()=>{let re=$(".ti-download").parent();re.html('<img src="../../../../../assets/img/spinner.svg" />'),k.value=$("#date_search").val(),k.value&&(v.value=H(k.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(k.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/payment-requests/data/export",{responseType:"arraybuffer",method:"GET",params:{debit_from:d.value,company_name:p.value,from_date:v.value,to_date:g.value,status:w.value,sort_by:y.value,invoice_number:x.value,pay_date:C.value,transaction_type:E.value,product_type:D.value,pi_number:i.value}}).then($e=>{const De=window.URL.createObjectURL(new Blob([$e.data])),ie=document.createElement("a");ie.href=De,ie.setAttribute("download",`Payment_requests_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(ie),ie.click()}).catch($e=>{$e.response.status==422?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{re.html('<i class="ti ti-download"></i> Excel')})},showInvoice:async(re,$e)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+re+"/details").then(De=>{I.value=De.data,V.value++,bt(()=>{document.getElementById($e).click()})}).catch(De=>{console.log(De)})},showPurchaseOrder:async(re,$e)=>{await A.get(c+o.bank+"/requests/invoices/purchase-order/"+re+"/details").then(De=>{B.value=De.data,bt(()=>{document.getElementById($e).click()})}).catch(De=>{console.log(De)})},date_format:s,company_details:L,program_details:F,showCompany:async(re,$e,De)=>{document.getElementById("loading-modal-btn").click(),await A.get(c+o.bank+"/companies/"+re+"/details/"+$e).then(ie=>{L.value=ie.data.company,F.value=ie.data.program_vendor_configuration,bt(()=>{document.getElementById(De).click()})}).catch(ie=>{console.log(ie)})},invoice_details_key:V}}},G_a={class:""},Q_a={class:"d-flex flex-column flex-md-row justify-content-between"},Z_a={class:"d-flex flex-column flex-md-row justify-content-between"},J_a={class:"d-flex flex-wrap gap-1"},X_a={class:""},ema={for:"Debit From",class:"form-label"},tma={class:""},oma={for:"Company Name",class:"form-label"},ama={class:""},nma={for:"Invoice No.",class:"form-label"},sma={class:""},lma={for:"PI Number",class:"form-label"},ima={class:""},rma={class:"form-label",for:""},dma={class:""},cma={for:"Status",class:"form-label"},uma={value:""},_ma={value:"approved"},mma={value:"paid"},fma={class:""},hma={for:"Product Type",class:"form-label"},pma={value:""},vma={value:"vendor_financing_receivable"},gma={value:"factoring_with_recourse"},bma={value:"factoring_without_recourse"},yma={value:"dealer_financing"},kma={class:""},$ma={for:"Sort by",class:"form-label"},wma={value:""},Dma={value:"pi_no_asc"},xma={value:"pi_no_desc"},Cma={value:"debit_from_asc"},Pma={value:"debit_from_desc"},Ema={value:"id_asc"},Ama={value:"id_desc"},Ima={value:"amount_asc"},Rma={value:"amount_desc"},Sma={class:"table-clear-btn"},Tma={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},jma={class:""},Oma={class:""},Mma={class:"d-flex"},Lma={class:"table-responsive"},Nma={class:"table"},Fma={class:"table-border-bottom-0"},Yma={key:0},Vma={colspan:"12",class:"text-center"},Bma={class:"text-center"},Uma={key:1},qma={colspan:"12",class:"text-center"},Hma={class:"text-center"},zma=["data-bs-target"],Wma={class:"text-primary text-decoration-underline"},Kma=["onClick"],Gma={key:1},Qma={class:""},Zma=["data-bs-target"],Jma={key:1},Xma={class:"text-success text-nowrap"},efa=["onClick"],tfa={class:""},ofa={class:""},afa={key:0},nfa=["id","data-bs-target"],sfa=["id","data-bs-target"],lfa=["id"],ifa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},rfa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},dfa={class:"modal-content"},cfa={class:"modal-body"},ufa={class:"d-flex justify-content-center"},_fa=["id"],mfa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},ffa={class:"modal-content"},hfa={class:"modal-header"},pfa={class:"modal-title",id:"modalCenterTitle"},vfa=["onSubmit"],gfa={class:"modal-body"},bfa={class:"row mb-1"},yfa={class:"form-group"},kfa={for:""},$fa={class:"modal-footer"},wfa={class:"btn btn-primary",type:"submit"},Dfa=["id"],xfa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Cfa={class:"modal-content"},Pfa={class:"modal-header"},Efa={class:"modal-title",id:"modalCenterTitle"},Afa={class:"modal-body"},Ifa={class:"table-responsive"},Rfa={class:"table"},Sfa={key:0},Tfa={key:1,class:"text-success"},jfa={key:2},Ofa={key:0},Mfa={key:0},Lfa={key:1,class:"text-success"},Nfa={key:2},Ffa={key:0},Yfa={key:1},Vfa={key:2},Bfa={key:3},Ufa={key:4},qfa={key:5},Hfa=["id"],zfa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Wfa={class:"modal-content"},Kfa={class:"modal-header"},Gfa={class:"modal-title",id:"modalCenterTitle"},Qfa={class:"d-flex"},Zfa=["href"],Jfa={class:"modal-body"},Xfa={class:"d-flex justify-content-between"},eha={class:"mb-3"},tha={class:"d-flex justify-content-between"},oha={class:"fw-light my-auto"},aha={class:"fw-bold mx-2 my-auto"},nha={class:"d-flex justify-content-between"},sha={class:"fw-light my-auto"},lha={class:"fw-bold mx-2 my-auto"},iha={class:"d-flex justify-content-between"},rha={class:"fw-light my-auto"},dha={class:"fw-bold mx-2 my-auto"},cha={class:"d-flex justify-content-between"},uha={class:"fw-light my-auto"},_ha={key:0,class:"d-flex justify-content-between"},mha={class:"fw-light my-auto"},fha={class:"fw-bold mx-2 my-auto"},hha={class:"mb-3"},pha={class:"d-flex justify-content-between"},vha={class:"my-auto fw-light"},gha={class:"fw-bold mx-2 my-auto"},bha={class:"d-flex justify-content-between"},yha={class:"my-auto fw-light"},kha={class:"fw-bold mx-2 my-auto"},$ha={class:"d-flex justify-content-between"},wha={class:"my-auto fw-light"},Dha={class:"fw-bold mx-2 my-auto"},xha={class:"d-flex justify-content-between"},Cha={class:"my-auto fw-light"},Pha={class:"fw-bold text-success mx-2 my-auto"},Eha={class:"table-responsive"},Aha={class:"table"},Iha={class:"bg-label-secondary px-2"},Rha={class:"d-flex justify-content-end"},Sha={class:"mx-2 my-auto py-1"},Tha={class:"text-success my-auto py-1"},jha={key:5,class:"modal fade",id:"company-details",tabindex:"-1","aria-hidden":"true"},Oha={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Mha={class:"modal-content"},Lha={class:"modal-header"},Nha={class:"modal-title",id:"modalCenterTitle"},Fha={class:"modal-body"},Yha={class:"row mb-1"},Vha={class:"col-12 col-md-5 d-flex"},Bha={class:""},Uha={class:""},qha={class:"col-12 col-md-5 d-flex"},Hha={class:""},zha={class:""},Wha={class:"col-12 col-md-5 d-flex"},Kha={class:""},Gha={class:""},Qha={class:"col-12 col-md-5 d-flex"},Zha={class:""},Jha={class:""},Xha={class:"col-12 col-md-5 d-flex"},epa={class:""},tpa={class:""},opa={class:"col-12 col-md-5 d-flex"},apa={class:""},npa={class:""},spa={class:"col-12 col-md-5 d-flex"},lpa={class:""},ipa={class:""},rpa={class:"col-12 col-md-5 d-flex"},dpa={class:""},cpa={class:""},upa={class:"col-12 col-md-5 d-flex"},_pa={class:""},mpa={class:""},fpa={class:"col-12 col-md-5 d-flex"},hpa={class:""},ppa={class:""},vpa={class:"col-12 col-md-4"},gpa={class:"d-flex"},bpa={class:""},ypa={class:""},kpa={class:"col-12 col-md-4"},$pa={class:"d-flex"},wpa={class:""},Dpa={class:""},xpa={class:"col-12 col-md-4"},Cpa={class:"d-flex"},Ppa={class:""},Epa={class:""},Apa={class:"row"},Ipa={class:"col-12 col-md-6"},Rpa={class:"d-flex"},Spa={class:""},Tpa={class:""},jpa={class:"col-12 col-md-6"},Opa={class:"d-flex"},Mpa={class:""},Lpa={class:""},Npa={class:"col-12 col-md-6"},Fpa={class:"d-flex"},Ypa={class:""},Vpa={class:""},Bpa={class:"col-12 col-md-6"},Upa={class:"d-flex"},qpa={class:""},Hpa={class:""},zpa={class:"col-12 col-md-6"},Wpa={class:"d-flex"},Kpa={class:""},Gpa={class:""},Qpa={class:"col-12 col-md-6"},Zpa={class:"d-flex"},Jpa={class:""},Xpa={class:""},eva={class:"modal-footer"},tva={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"};function ova(o,a,s,t,c,m){const _=ce("pagination"),l=ce("invoice-details"),r=ce("payment-instruction");return u(),f("div",G_a,[e("div",Q_a,[e("h5",null,n(o.$t("Payment Requests List"))+"(PR)",1)]),e("div",Z_a,[e("form",{onSubmit:a[8]||(a[8]=st((...i)=>t.filter&&t.filter(...i),["prevent"]))},[e("div",J_a,[e("div",X_a,[e("label",ema,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=i=>t.debit_from=i)},null,512),[[X,t.debit_from]])]),e("div",tma,[e("label",oma,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=i=>t.company_name=i)},null,512),[[X,t.company_name]])]),e("div",ama,[e("label",nma,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=i=>t.invoice_number_search=i)},null,512),[[X,t.invoice_number_search]])]),e("div",sma,[e("label",lma,n(o.$t("PI Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"PI Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[3]||(a[3]=i=>t.pi_number_search=i)},null,512),[[X,t.pi_number_search]])]),e("div",ima,[e("label",rma,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[12]||(a[12]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",dma,[e("label",cma,n(o.$t("Status")),1),Y(e("select",{class:"select2 form-select form-search",id:"status-select",multiple:"","onUpdate:modelValue":a[4]||(a[4]=i=>t.status=i)},[e("option",uma,n(o.$t("Status")),1),e("option",_ma,n(o.$t("Created")),1),e("option",mma,n(o.$t("Paid")),1)],512),[[de,t.status]])]),e("div",fma,[e("label",hma,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=i=>t.product_type_search=i)},[e("option",pma,n(o.$t("Product Type")),1),e("option",vma,n(o.$t("Vendor Financing Receivable")),1),e("option",gma,n(o.$t("Factoring With Recourse")),1),e("option",bma,n(o.$t("Factoring Without Recourse")),1),e("option",yma,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",kma,[e("label",$ma,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[6]||(a[6]=i=>t.sort_by=i)},[e("option",wma,n(o.$t("Sort By")),1),e("option",Dma,n(o.$t("PI No"))+". ("+n(o.$t("Asc"))+")",1),e("option",xma,n(o.$t("PI No"))+". ("+n(o.$t("Desc"))+")",1),e("option",Cma,n(o.$t("Debit From"))+" ("+n(o.$t("Asc"))+")",1),e("option",Pma,n(o.$t("Debit From"))+". ("+n(o.$t("Desc"))+")",1),e("option",Ema,n(o.$t("CBS Payment ID"))+" ("+n(o.$t("Asc"))+")",1),e("option",Ama,n(o.$t("CBS Payment ID"))+" ("+n(o.$t("Desc"))+")",1),e("option",Ima,n(o.$t("Amount"))+" ("+n(o.$t("Asc"))+")",1),e("option",Rma,n(o.$t("Amount"))+" ("+n(o.$t("Desc"))+")",1)],512),[[de,t.sort_by]])]),a[14]||(a[14]=e("div",{class:"table-search-btn"},[e("button",{class:"btn btn-primary btn-md",type:"submit"},[e("i",{class:"ti ti-search"})])],-1)),e("div",Sma,[e("button",{class:"btn btn-primary btn-md",type:"button",onClick:a[7]||(a[7]=(...i)=>t.refresh&&t.refresh(...i))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])])],32),e("div",Tma,[e("div",jma,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=i=>t.per_page=i),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Oma,[e("button",{type:"button",class:"btn btn-primary",onClick:a[10]||(a[10]=(...i)=>t.exprotPaymentRequests&&t.exprotPaymentRequests(...i)),style:{height:"fit-content"},title:"Download Excel"},[e("span",Mma,[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)])])])])]),t.requests.meta?(u(),me(_,{key:0,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Lma,[e("table",Nma,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("PR ID")),1),e("th",null,n(o.$t("Debit From")),1),e("th",null,n(o.$t("Credit To")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("PO No"))+".",1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Pay Date")),1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Status")),1)])]),e("tbody",Fma,[t.requests.data?b("",!0):(u(),f("tr",Yma,[e("td",Vma,[e("span",Bma,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",Uma,[e("td",qma,[e("span",Hma,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.pr_id),1),e("td",null,n(i.debit_from_account),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+i.id,style:{cursor:"pointer"}},n(i.total_accounts)+" "+n(o.$t("Account"))+"(s) ",9,zma),e("td",Wma,[i.can_view_company?(u(),f("a",{key:0,href:"#",onClick:d=>t.showCompany(i.company_id,i.program_vendor_configuration_id,"show-vendor-details-btn-"+i.company_id)},n(i.company_name),9,Kma)):(u(),f("span",Gma,n(i.company_name),1))]),e("td",null,n(i.program_type),1),e("td",Qma,n(i.invoice_number),1),i.purchase_order_number?(u(),f("td",{key:0,class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#purchase-order-"+i.purchase_order_id,style:{cursor:"pointer"}},n(i.purchase_order_number),9,Zma)):(u(),f("td",Jma,"-")),e("td",Xma,n(new Intl.NumberFormat().format(i.payment_request_amount)),1),e("td",{class:"text-primary text-decoration-underline",onClick:d=>t.showInvoice(i.invoice_id,"show-pi-btn-"+i.invoice_id),style:{cursor:"pointer"}},n(i.pi_number),9,efa),e("td",tfa,n(t.moment(i.payment_request_date).format(t.date_format)),1),e("td",ofa,[i.pay_date?(u(),f("span",afa,n(t.moment(i.pay_date).format(t.date_format)),1)):b("",!0)]),e("td",null,[i.status=="approved"?(u(),f("span",{key:0,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.status)])},n("Created"),2)):(u(),f("span",{key:1,class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(i.status)])},n(i.status),3)),e("button",{class:"d-none",id:"show-details-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+i.invoice_id},null,8,nfa),e("button",{class:"d-none",id:"show-pi-btn-"+i.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+i.invoice_id},null,8,sfa),e("button",{class:"d-none",id:"show-vendor-details-btn-"+i.company_id,"data-bs-toggle":"modal","data-bs-target":"#company-details"},null,8,lfa),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",ifa,[e("div",rfa,[e("div",dfa,[e("div",cfa,[e("div",ufa,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",mfa,[e("div",ffa,[e("div",hfa,[e("h5",pfa,n(o.$t("Update Payment Request")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{onSubmit:st(d=>t.updateStatus(i,"rejected"),["prevent"]),method:"post"},[e("div",gfa,[e("div",bfa,[e("div",yfa,[e("label",kfa,n(o.$t("Rejection Reason")),1),Y(e("textarea",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=d=>t.updateRequestRejectionReason=d)},null,512),[[X,t.updateRequestRejectionReason]])])])]),e("div",$fa,[e("button",wfa,n(o.$t("Submit")),1)])],40,vfa)])])],8,_fa),e("div",{class:"modal fade",id:"payment-accounts-"+i.id,tabindex:"-1","aria-hidden":"true"},[e("div",xfa,[e("div",Cfa,[e("div",Pfa,[e("h5",Efa,n(o.$t("Accounts")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Afa,[e("div",Ifa,[e("table",Rfa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Description")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("tr",{key:d.id},[d.type=="Vendor Account"?(u(),f("td",Sfa,n(d.account),1)):b("",!0),d.type=="Vendor Account"?(u(),f("td",Tfa,n(new Intl.NumberFormat().format(d.amount)),1)):b("",!0),d.type=="Vendor Account"?(u(),f("td",jfa,[d.type=="Vendor Account"?(u(),f("span",Ofa,n(o.$t("Vendor's/Seller's A/C")),1)):b("",!0)])):b("",!0)]))),128)),(u(!0),f(G,null,ee(i.payment_accounts,d=>(u(),f("tr",{key:d.id},[d.can_show?(u(),f("td",Mfa,n(d.account),1)):b("",!0),d.can_show?(u(),f("td",Lfa,n(new Intl.NumberFormat().format(d.amount)),1)):b("",!0),d.can_show?(u(),f("td",Nfa,[d.description?(u(),f("span",Ffa,n(d.description),1)):d.type=="Discount"?(u(),f("span",Yfa,n(o.$t("Bank Discount A/C")),1)):d.type=="Program Fees"?(u(),f("span",Vfa,n(o.$t("Program Fees (Bank A/C)")),1)):d.type=="Program Fees Taxes"?(u(),f("span",Bfa,n(o.$t("Program Fees Taxes (Bank A/C)")),1)):d.type=="Tax On Discount"?(u(),f("span",Ufa,n(o.$t("Tax on Discount (Bank A/C)")),1)):d.type=="Tax On Fees"?(u(),f("span",qfa,n(o.$t("Tax on Fees (Bank A/C)")),1)):b("",!0)])):b("",!0)]))),128))])])])])])])],8,Dfa),t.purchase_order_details?(u(),f("div",{key:4,class:"modal fade",id:"purchase-order-"+t.purchase_order_details.id,tabindex:"-1","aria-hidden":"true"},[e("div",zfa,[e("div",Wfa,[e("div",Kfa,[e("h5",Gfa,n(o.$t("Purchase Order")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",Qfa,[t.purchase_order_details.attachment?(u(),f("a",{key:0,href:o.attachment,target:"_blank",class:"btn btn-secondary mx-1"},[a[20]||(a[20]=e("i",{class:"ti ti-paperclip"},null,-1)),le(" "+n(o.$t("Attachment")),1)],8,Zfa)):b("",!0)])]),e("div",Jfa,[e("div",Xfa,[e("div",eha,[e("span",tha,[e("h5",oha,n(o.$t("Buyer"))+":",1),e("h6",aha,n(t.purchase_order_details.anchor.name),1)]),e("span",nha,[e("h5",sha,n(o.$t("Delivery Address"))+":",1),e("h6",lha,n(t.purchase_order_details.delivery_address),1)]),e("span",iha,[e("h5",rha,n(o.$t("Remarks"))+":",1),e("h6",dha,n(t.purchase_order_details.remarks),1)]),e("span",cha,[e("h5",uha,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge m_title",t.resolveStatus(t.purchase_order_details.approval_stage)])},n(t.purchase_order_details.approval_stage),3)]),t.purchase_order_details.rejection_reason?(u(),f("span",_ha,[e("h5",mha,n(o.$t("Rejection Reason"))+":",1),e("h6",fha,n(t.purchase_order_details.rejection_reason),1)])):b("",!0)]),e("div",hha,[e("span",pha,[e("h5",vha,n(o.$t("PO No"))+":",1),e("h6",gha,n(t.purchase_order_details.purchase_order_number),1)]),e("span",bha,[e("h5",yha,n(o.$t("Start Date"))+":",1),e("h6",kha,n(t.moment(t.purchase_order_details.duration_from).format(t.date_format)),1)]),e("span",$ha,[e("h5",wha,n(o.$t("End Date"))+":",1),e("h6",Dha,n(t.moment(t.purchase_order_details.duration_to).format(t.date_format)),1)]),e("span",xha,[e("h5",Cha,n(o.$t("PO Amount"))+":",1),e("h6",Pha,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])]),e("div",Eha,[e("table",Aha,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.purchase_order_details.purchase_order_items,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.item),1),e("td",null,n(d.quantity),1),e("td",null,n(d.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(d.quantity*d.price_per_quantity)),1)]))),128))])])]),e("div",Iha,[e("span",Rha,[e("h6",Sha,n(o.$t("Total")),1),e("h5",Tha,n(new Intl.NumberFormat().format(t.purchase_order_details.total_amount)),1)])])])])])],8,Hfa)):b("",!0),t.company_details?(u(),f("div",jha,[e("div",Oha,[e("div",Mha,[e("div",Lha,[e("h5",Nha,n(o.$t("Company Details")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Fha,[e("div",Yha,[e("div",Vha,[e("div",Bha,n(o.$t("Name"))+":",1),e("div",Uha,n(t.company_details.name),1)]),e("div",qha,[e("div",Hha,n(o.$t("KRA PIN"))+":",1),e("div",zha,n(t.company_details.kra_pin),1)]),e("div",Wha,[e("div",Kha,n(o.$t("Unique Identification No."))+":",1),e("div",Gha,n(t.company_details.unique_identification_number),1)]),e("div",Qha,[e("div",Zha,n(o.$t("Business Identification No."))+":",1),e("div",Jha,n(t.company_details.business_identification_number),1)]),e("div",Xha,[e("div",epa,n(o.$t("Type"))+":",1),e("div",tpa,n(t.company_details.organization_type),1)]),e("div",opa,[e("div",apa,n(o.$t("Branch Code"))+":",1),e("div",npa,n(t.company_details.branch_code),1)]),e("div",spa,[e("div",lpa,n(o.$t("City"))+":",1),e("div",ipa,n(t.company_details.city),1)]),e("div",rpa,[e("div",dpa,n(o.$t("Postal Code"))+":",1),e("div",cpa,n(t.company_details.postal_code),1)]),e("div",upa,[e("div",_pa,n(o.$t("Address"))+":",1),e("div",mpa,n(t.company_details.address),1)]),e("div",fpa,[e("div",hpa,n(o.$t("Customer Type"))+":",1),e("div",ppa,n(t.company_details.customer_type),1)])]),a[23]||(a[23]=e("br",null,null,-1)),e("h5",null,n(o.$t("Relationship Managers")),1),(u(!0),f(G,null,ee(t.company_details.relationship_managers,d=>(u(),f("div",{class:"row my-1",key:d.id},[e("div",vpa,[e("div",gpa,[e("div",bpa,n(o.$t("Name"))+":",1),e("div",ypa,n(d.name),1)])]),e("div",kpa,[e("div",$pa,[e("div",wpa,n(o.$t("Email"))+":",1),e("div",Dpa,n(d.email),1)])]),e("div",xpa,[e("div",Cpa,[e("div",Ppa,n(o.$t("Phone"))+":",1),e("div",Epa,n(d.phone_number),1)])])]))),128)),a[24]||(a[24]=e("br",null,null,-1)),e("h5",null,n(o.$t("Program Details")),1),e("div",Apa,[e("div",Ipa,[e("div",Rpa,[e("div",Spa,n(o.$t("Program Name"))+":",1),e("div",Tpa,n(t.program_details.program.name),1)])]),e("div",jpa,[e("div",Opa,[e("div",Mpa,n(o.$t("Program Type"))+":",1),e("div",Lpa,n(t.program_details.program.program_type.name),1)])]),e("div",Npa,[e("div",Fpa,[e("div",Ypa,n(o.$t("Sanctioned Limit"))+":",1),e("div",Vpa,n(new Intl.NumberFormat().format(t.program_details.sanctioned_limit)),1)])]),e("div",Bpa,[e("div",Upa,[e("div",qpa,n(o.$t("Utilized Limit"))+":",1),e("div",Hpa,n(new Intl.NumberFormat().format(t.program_details.utilized_amount)),1)])]),e("div",zpa,[e("div",Wpa,[e("div",Kpa,n(o.$t("Pipeline Limit"))+":",1),e("div",Gpa,n(new Intl.NumberFormat().format(t.program_details.pipeline_amount)),1)])]),e("div",Qpa,[e("div",Zpa,[e("div",Jpa,n(o.$t("Available Limit"))+":",1),e("div",Xpa,n(new Intl.NumberFormat().format(t.program_details.sanctioned_limit-(t.program_details.utilized_amount+t.program_details.pipeline_amount))),1)])])])]),e("div",eva,[e("button",tva,n(o.$t(" Close")),1)])])])])):b("",!0)])]))),128))])])]),t.requests.meta?(u(),me(_,{key:1,class:"mx-2",from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const $D=Ue(K_a,[["render",ova]]),ava={name:"PaymentReports"};function nva(o,a,s,t,c,m){return u(),f("div",null,a[0]||(a[0]=[ga('<div class="p-3 d-flex justify-content-between"><div class="d-flex flex-wrap"><div class=""><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="PR ID" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Debit From" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input type="text" class="form-control form-search" id="defaultFormControlInput" placeholder="Company Name" aria-describedby="defaultFormControlHelp"></div><div class="mx-2"><input class="form-control form-search" type="date" value="2021-06-18" id="html5-date-input"></div><div class="mx-2"><select class="form-select form-search" id="exampleFormControlSelect"><option value="">Status</option><option value="1">Pending</option><option value="2">Approved</option><option value="3">Denied</option></select></div><div class="mt-1"><select class="form-select form-search" id="exampleFormControlSelect"><option value="">Sort By</option><option value="1">Asc</option><option value="2">Desc</option></select></div></div><div class="d-flex"><div style="height:fit-content;"><select class="form-select" id="exampleFormControlSelect1"><option value="1">10</option><option value="2">20</option><option value="3">50</option></select></div><button type="button" class="btn btn-primary h-50" style="height:fit-content;"><i class="ti ti-download ti-sm"></i></button></div></div><div class="table-responsive"><table class="table"><thead><tr class=""><th><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></th><th>CBS Transaction ID</th><th>Pay Date</th><th>Payment Date</th><th>Transaction Type</th><th>Vendor</th><th>Debit From</th><th>Credit To</th><th>Amount</th><th>Transaction Ref</th><th>Invoice No</th></tr></thead><tbody class="table-border-bottom-0"><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr><tr class="text-nowrap"><td><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="defaultCheck1"></div></td><td><span class="fw-medium">003478</span></td><td>24 Nov 2023</td><td>24 Nov 2023</td><td>Loan Disbursement</td><td class="text-primary text-decoration-underline">1Account</td><td class="text-primary text-decoration-underline">GameAnchor</td><td class="">345767</td><td class="text-success">Ksh 51000</td><td>36543quy32</td><td class="text-primary text-decoration-underline">INV_2233</td></tr></tbody></table></div><nav aria-label="Page navigation" class="mt-2"><ul class="pagination justify-content-end"><li class="page-item prev"><a class="page-link" href="javascript:void(0);"><i class="ti ti-chevrons-left ti-xs"></i></a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li><li class="page-item active"><a class="page-link" href="javascript:void(0);">3</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">4</a></li><li class="page-item"><a class="page-link" href="javascript:void(0);">5</a></li><li class="page-item next"><a class="page-link" href="javascript:void(0);"><i class="ti ti-chevrons-right ti-xs"></i></a></li></ul></nav>',3)]))}const wD=Ue(ava,[["render",nva]]),sva={props:["invoiceDetails"],setup(o,a){const s=lt(),t=o.invoiceDetails,c=h([]),m=h(!1),_=h(0);return{moment:H,invoice_details:t,selectFile:i=>{i.preventDefault(),c.value=i.target.files},uploadFile:async()=>{m.value=!0;const i=new FormData;i.append("id",o.invoiceDetails.id);let d=0;for(let p of c.value)i.append("files["+d+"]",p),d++;A.post("/invoice/attachment/upload",i).then(()=>{document.getElementById("close-upload-attachment-"+o.invoiceDetails.id).click(),s.success("Attachment added successfully"),_.value++}).catch(p=>{const v=Object.values(p.response.data)[0];s.error(v[0])}).finally(()=>{m.value=!1})},selected_file:c,uploading_file:m}}},lva=["id"],iva={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},rva={class:"modal-content"},dva={class:"modal-header"},cva={class:"modal-title",id:"modalCenterTitle"},uva=["id"],_va={class:"modal-body"},mva={class:"table-responsive"},fva={class:"table"},hva={class:"bg-label-primary"},pva={key:0},vva={key:0},gva=["href"],bva={for:"Add Attachements",class:"form-label"},yva=["disabled"],kva={key:0},$va={class:"mt-2 mb-1"};function wva(o,a,s,t,c,m){return u(),f("div",{class:"modal fade",tabindex:"-2","aria-hidden":"true",id:"cbs-add-attachment-"+t.invoice_details.id},[e("div",iva,[e("div",rva,[e("div",dva,[e("h5",cva,n(o.$t("Attachments for Invoice"))+": "+n(t.invoice_details.invoice_number),1),e("button",{type:"button",class:"btn-close",id:"close-upload-attachment-"+t.invoice_details.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,uva)]),e("div",_va,[e("div",mva,[e("table",fva,[e("thead",hva,[e("tr",null,[e("th",null,n(o.$t("Attached On")),1),e("th",null,n(o.$t("Attached By")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("File Name")),1),e("th",null,n(o.$t("View")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.media,(_,l)=>(u(),f("tr",{key:l},[e("td",null,n(t.moment(_.created_at).format("DD MMM YYY")),1),e("td",null,[_.custom_properties&&_.custom_properties.user_name?(u(),f("span",pva,n(_.custom_properties.user_name),1)):b("",!0)]),e("td",null,[_.custom_properties&&_.custom_properties.user_type?(u(),f("span",vva,n(_.custom_properties.user_type==="App\\Models\\Company"?"Company User":"Bank User"),1)):b("",!0)]),e("td",null,n(_.name),1),e("td",null,[e("a",{target:"_blank",href:_.original_url},a[2]||(a[2]=[e("i",{class:"ti ti-eye text-xs"},null,-1)]),8,gva)])]))),128))])])]),e("form",{onSubmit:a[1]||(a[1]=st((..._)=>t.uploadFile&&t.uploadFile(..._),["prevent"])),class:"d-flex gap-2 mt-4"},[e("div",null,[e("label",bva,n(o.$t("Select Attachments")),1),e("input",{type:"file",accept:".pdf",onChange:a[0]||(a[0]=(..._)=>t.selectFile&&t.selectFile(..._)),required:"",multiple:"multiple",class:"form-control"},null,32)]),e("button",{style:{height:"fit-content"},class:"btn btn-primary",type:"submit",disabled:t.uploading_file},n(t.uploading_file?o.$t("Processing..."):o.$t("Submit")),9,yva)],32),t.selected_file.length>0?(u(),f("div",kva,[e("h6",$va,n(o.$t("Selected Files")),1),(u(!0),f(G,null,ee(t.selected_file,_=>(u(),f("span",{class:"d-flex flex-column gap-",key:_},n(_.name),1))),128))])):b("",!0)])])])],8,lva)}const Dva=Ue(sva,[["render",wva]]),xva={name:"CbsTransactions",components:{Pagination:St,CbsUploadAttachment:Dva},props:["bank","can_update","can_upload","date_format"],setup(o,a){const s=o.date_format,t=lt(),c=Je("baseURL"),m=o.can_update,_=o.can_upload,l=h([]),r=h(null),i=h({}),d=h(!1),p=h(["Successful","Created","Failed","Permanently Failed"]),v=h(null),g=h(""),w=h(""),y=h(""),x=h(""),C=h(""),E=h(""),D=h(""),k=h(""),I=h(""),V=h(""),B=h(""),L=h(""),F=h(""),T=h(""),P=h(""),R=h([]),O=h(null),N=h(!0),S=h(!0),U=h(null),W=h([]),oe=h(""),J=h(""),K=h(""),z=h(""),ae=h([]),we=h(""),Fe=h(""),he=h(""),re=h(""),$e=h(""),De=h([]),ie=h("desc"),pe=h(""),be=h(""),Me=h(null),ue=h(0),je=h(50),ze=h(0),Ye=async()=>{await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:je.value,cbs_id:oe.value,transaction_ref:z.value,invoice_number:J.value,account:K.value,status:ae.value,product_type:we.value,from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,sort_by:ie.value}}).then(ut=>{l.value=ut.data.transactions}).catch(ut=>{console.log(ut)})},ge=async(ut,gt)=>{document.getElementById("cbs-loading-modal-btn").click(),await A.get(c+o.bank+"/requests/invoices/"+ut+"/details").then(Vt=>{Me.value=Vt.data,ze.value++,bt(()=>{document.getElementById(gt).click()})}).catch(Vt=>{console.log(Vt)})};return a.expose({getRequests:Ye}),Qe(()=>{$("#cbs-status-select").on("change",function(){var ut=$("#cbs-status-select").val();ae.value=ut}),$("#transaction-type-select").on("change",function(){var ut=$("#transaction-type-select").val();De.value=ut})}),ot([je],async([ut])=>{pe.value=$("#date_search").val(),pe.value&&(Fe.value=H(pe.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(pe.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:ut,cbs_id:oe.value,transaction_ref:z.value,transaction_type:De.value,invoice_number:J.value,account:K.value,status:ae.value,product_type:we.value,from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,sort_by:ie.value}}).then(gt=>{l.value=gt.data.transactions}).catch(gt=>{console.log(gt)})}),{invoice_details:Me,moment:H,show_error_download_link:d,can_update:m,can_upload:_,transactions:l,cbs_transactions:r,cbsTransaction:v,updateCreditTo:w,updateDebitFrom:g,updateDebitFromAccountName:y,updateCreditToAccountName:x,updateNarration:C,updateStatus:E,cbs_transaction_statuses:p,addDebitFrom:D,addCreditTo:k,addDebitFromName:I,addCreditToName:V,addAmount:B,addStatus:L,addPayDate:F,addTransactionReference:T,addTransactionType:P,update_cbs_modal:i,can_submit:N,can_close:S,close_modal:U,cbs_id_search:oe,invoice_number_search:J,account_search:K,transaction_ref_search:z,status_search:ae,from_date:Fe,to_date:he,from_transaction_date:re,to_transaction_date:$e,sort_by:ie,product_type_search:we,transaction_type:De,per_page:je,selected_file:ue,filter:async()=>{pe.value=$("#cbs_date_search").val(),pe.value&&(Fe.value=H(pe.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(pe.value.split(" - ")[1]).format("YYYY-MM-DD")),be.value=$("#cbs_transaction_date_search").val(),be.value&&(re.value=H(be.value.split(" - ")[0]).format("YYYY-MM-DD"),$e.value=H(be.value.split(" - ")[1]).format("YYYY-MM-DD"));let ut=$(".ti-search").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:je.value,cbs_id:oe.value,transaction_ref:z.value,invoice_number:J.value,account:K.value,status:ae.value,product_type:we.value,from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,sort_by:ie.value,transaction_type:De.value}}).then(gt=>{l.value=gt.data.transactions,ut.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let ut=$(".ti-refresh").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),oe.value="",z.value="",J.value="",K.value="",ae.value="",we.value="",Fe.value="",he.value="",ie.value="desc",De.value="",pe.value="",re.value="",$e.value="",$("#cbs_date_search").val(""),$("#cbs_transaction_date_search").val(""),$("#cbs-status-select").val(""),$("#cbs-status-select").trigger("change"),$("#transaction-type-select").val(""),$("#transaction-type-select").trigger("change"),await A.get(c+o.bank+"/requests/cbs-transactions/data",{params:{per_page:je.value,sort_by:ie.value}}).then(gt=>{l.value=gt.data.transactions,ut.html('<i class="ti ti-refresh"></i>')})},submitTransactions:async()=>{if(S.value=!1,N.value=!1,R.value=[],r.value==null){t.error("Select File to upload");return}const ut=new FormData;ut.append("transactions",r.value),await A.post(c+o.bank+"/requests/payment-requests/transactions/import",ut).then(gt=>{gt.headers["content-type"]!=="application/json"?(d.value=!0,document.getElementById("file-upload").value="",t.error("Invalid Data. Download Error report and resolve Errors to upload.")):(document.getElementById("close-upload-modal").click(),t.success("File Uploaded Successfully"),Ye())}).catch(gt=>{if(console.log(gt),gt.response.status==422){ue.value++,t.error(gt.response.data.message);return}gt.response.data.uploaded>0&&t.success(gt.response.data.uploaded+" uploaded successfully."),gt.response.data.successful_rows>0&&t.info(gt.response.data.successful_rows+" were already successful."),gt.response.data.total_rows-(gt.response.data.uploaded+gt.response.data.successful_rows)>0?(t.error(gt.response.data.total_rows-(gt.response.data.uploaded+gt.response.data.successful_rows)+" failed to upload. View error report for details."),d.value=!0,document.getElementById("file-upload").value=""):(document.getElementById("close-upload-modal").click(),Ye())}).finally(()=>{S.value=!0,N.value=!0,ue.value++})},submitNewTransactions:()=>{N.value=!1,S.value=!1,A.post(c+o.bank+"/requests/cbs-transactions/create",{debit_from_account:D.value,credit_to_account:k.value,debit_from_account_name:I.value,credit_to_account_name:V.value,status:L.value,amount:B.value,pay_date:F.value,type:P.value,ref:T.value}).then(()=>{t.success("Transaction updated successfully"),D.value="",k.value="",I.value="",V.value="",L.value="",B.value="",F.value="",P.value="",T.value="",Ye()}).catch(ut=>{console.log(ut.data),t.error("An error occurred while updating the transaction")}).finally(()=>{N.value=!0,S.value=!0})},updateTransactionStatus:async()=>{N.value=!1,S.value=!1,await A.post(c+o.bank+"/requests/cbs-transactions/"+v.value.id+"/data/update",{debit_from_account:g.value,credit_to_account:w.value,debit_from_account_name:y.value,credit_to_account_name:x.value,status:E.value,transaction_ref:T.value,pay_date:F.value}).then(()=>{document.getElementById("close-modal-"+v.value.id).click(),t.success("Transaction updated successfully"),Ye(),g.value="",w.value="",y.value="",x.value="",E.value="",T.value="",F.value=""}).catch(ut=>{ut.response.status===422?Object.keys(ut.response.data).forEach(gt=>{t.error(ut.response.data[gt][0],{timeout:1e4})}):(t.error("Something went wrong."),console.log(ut))}).finally(()=>{N.value=!0,S.value=!0})},resolvePaymentRequestStatus:ut=>{let gt="";switch(ut.toLowerCase()){case"created":gt="bg-label-primary";break;case"successful":gt="bg-label-success";break;case"failed":gt="bg-label-danger";break;case"permanently failed":gt="bg-label-danger";break;default:gt="bg-label-primary";break}return gt},changePage:async ut=>{pe.value=$("#cbs_date_search").val(),pe.value&&(Fe.value=H(pe.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(pe.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(ut,{params:{per_page:je.value,cbs_id:oe.value,transaction_ref:z.value,invoice_number:J.value,account:K.value,status:ae.value,product_type:we.value,from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,sort_by:ie.value,transaction_type:De.value}}).then(gt=>{l.value=gt.data.transactions})},updatedFile:ut=>{let gt=ut.target.files||ut.dataTransfer.files;gt.length&&(r.value=gt[0])},showEditModal:ut=>{v.value=ut,g.value=ut.debit_from_account,w.value=ut.credit_to_account,y.value=ut.debit_from_account_name,x.value=ut.credit_to_account_name,T.value=ut.transaction_reference,E.value=ut.status,ut.status=="Successful"&&(p.value=["Failed","Permanently Failed","Successful"]),(ut.status=="Failed"||ut.status=="Permanently Failed")&&(ut.status=="Failed"&&(p.value=["Failed","Permanently Failed","Successful"]),ut.status=="Permanently Failed"&&(p.value=["Permanently Failed"]))},getTotalAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.quantity*Vt.price_per_quantity}),gt},getTaxesAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.value}),gt},getFeesAmount:ut=>{let gt=0;return ut.forEach(Vt=>{gt+=Vt.amount}),gt},getTaxPercentage:(ut,gt)=>Math.round(gt/ut*100),downloadCbsTransactions:()=>{let ut=$(".filtered").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),pe.value=$("#cbs_date_search").val(),pe.value&&(Fe.value=H(pe.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(pe.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/cbs-transactions/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:oe.value,transaction_ref:z.value,invoice_number:J.value,account:K.value,status:ae.value,product_type:we.value,from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,sort_by:ie.value,transaction_type:De.value,selected_transactions:W.value}}).then(gt=>{const Vt=window.URL.createObjectURL(new Blob([gt.data])),pt=document.createElement("a");pt.href=Vt,pt.setAttribute("download",`CBS_Transactions_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(pt),pt.click()}).catch(gt=>{gt.response.status==400?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{ut.html('<i class="ti ti-download ti-xs px-1"></i> Excel')})},downloadCreatedCbsTransactions:()=>{let ut=$(".created").parent();ut.html('<img src="../../../../../assets/img/spinner.svg" />'),pe.value=$("#cbs_date_search").val(),pe.value&&(Fe.value=H(pe.value.split(" - ")[0]).format("YYYY-MM-DD"),he.value=H(pe.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(c+o.bank+"/requests/cbs-transactions/created/export",{responseType:"arraybuffer",method:"GET",params:{from_date:Fe.value,to_date:he.value,from_transaction_date:re.value,to_transaction_date:$e.value,status:["Created"]}}).then(gt=>{const Vt=window.URL.createObjectURL(new Blob([gt.data])),pt=document.createElement("a");pt.href=Vt,pt.setAttribute("download",`CBS_Transactions_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(pt),pt.click()}).catch(gt=>{gt.response.status==400?t.error("You can only export 3 months of data at a time. Kindly select a date range.",{timeout:12e3}):t.error("Something went wrong while exporting the data")}).finally(()=>{ut.html("Download Transactions")})},updateSelected:ut=>{if(W.value.includes(ut)){const gt=W.value.indexOf(ut);W.value.splice(gt,1)}else W.value.push(ut)},selectAll:()=>{document.getElementById("select-all").checked?l.value.data.forEach(ut=>{document.getElementById("transaction-"+ut.id).checked=!0,W.value.push(ut.id)}):l.value.data.forEach(ut=>{if(document.getElementById("transaction-"+ut.id).checked==!0){document.getElementById("transaction-"+ut.id).checked=!1;let gt;if(!W.value.filter(function(pt,Et){gt=Et,pt==ut.id}))return!1;W.value.splice(gt,1)}})},uploadErrors:R,fileUpload:O,showInvoice:ge,date_format:s,upload_attachment_key:ze}}},Cva={class:""},Pva={class:"d-flex flex-column flex-md-row justify-content-between"},Eva={class:"d-flex gap-1 justify-content-end"},Ava={key:0,type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},"data-bs-toggle":"modal","data-bs-target":"#uploadCbsTransactions"},Iva={type:"button",class:"btn btn-primary d-none",style:{height:"fit-content"},"data-bs-toggle":"modal","data-bs-target":"#createCbsTransactions"},Rva={class:"modal modal-top fade",id:"createCbsTransactions",tabindex:"-1"},Sva={class:"modal-dialog"},Tva={class:"modal-header"},jva={class:"modal-title",id:"modalTopTitle"},Ova={class:"modal-body"},Mva={class:"row mb-1"},Lva={class:"form-group"},Nva={for:"",class:"form-label"},Fva={class:"form-group"},Yva={for:"",class:"form-label"},Vva={class:"form-group"},Bva={for:"",class:"form-label"},Uva={class:"form-group"},qva={for:"",class:"form-label"},Hva={class:"form-group"},zva={for:"Amount",class:"form-label"},Wva={class:"form-group"},Kva={for:"",class:"form-label"},Gva={class:"form-group"},Qva={for:"",class:"form-label"},Zva={class:"form-group"},Jva={for:"Status",class:"form-label"},Xva={value:"Successful"},ega={value:"Created"},tga={value:"Failed"},oga={value:"Permanently Failed"},aga={class:"form-group"},nga={for:"Status",class:"form-label"},sga={value:"Payment Disbursement"},lga={value:"Fees/Charges"},iga={value:"Discount Charge"},rga={value:"Bank Invoice Payment"},dga={value:"Repayment"},cga={value:"Funds Transfer"},uga={value:"OD Drawdown"},_ga={class:"modal-footer"},mga=["disabled"],fga=["disabled"],hga={class:"modal modal-top fade",id:"uploadCbsTransactions",tabindex:"-1"},pga={class:"modal-dialog"},vga={class:"modal-header"},gga={class:"modal-title",id:"modalTopTitle"},bga={class:"modal-body"},yga={class:"form-group"},kga={key:0},$ga={key:1,href:"cbs-transactions/error-report/export",class:"btn btn-danger btn-sm mt-2"},wga={class:"modal-footer"},Dga=["disabled"],xga=["disabled"],Cga={class:"d-flex flex-column flex-md-row justify-content-between"},Pga={class:"d-flex flex-wrap gap-1"},Ega={class:""},Aga={for:"CBS ID",class:"form-label mx-1"},Iga={class:""},Rga={for:"Debit From",class:"form-label"},Sga={class:""},Tga={for:"Invoice Number",class:"form-label"},jga={class:""},Oga={for:"Status",class:"form-label"},Mga={value:"Created"},Lga={value:"Successful"},Nga={value:"Permanently Failed"},Fga={value:"Failed"},Yga={class:""},Vga={for:"Program Type",class:"form-label"},Bga={value:"vendor_financing_receivable"},Uga={value:"factoring_with_recourse"},qga={value:"factoring_without_recourse"},Hga={value:"dealer_financing"},zga={class:""},Wga={class:"form-label",for:""},Kga={class:""},Gga={class:"form-label",for:""},Qga={class:"form-group"},Zga={for:"Status",class:"form-label"},Jga={value:""},Xga={value:"Balance DF Invoice Payment"},e1a={value:"Bank Invoice Payment"},t1a={value:"Discount Charge"},o1a={value:"Fees/Charges"},a1a={value:"Funds Transfer"},n1a={value:"OD Account Debit"},s1a={value:"OD Drawdown"},l1a={value:"Overdue Account"},i1a={value:"Payment Disbursement"},r1a={value:"Platform Charges"},d1a={value:"Repayment"},c1a={class:""},u1a={for:"Sort by",class:"form-label"},_1a={value:""},m1a={value:"asc"},f1a={value:"desc"},h1a={class:"table-clear-btn"},p1a={class:"d-flex justify-content-md-end mt-2 mt-md-auto gap-1"},v1a={class:""},g1a={class:"d-flex gap-1"},b1a={class:"table-responsive"},y1a={class:"table"},k1a={class:""},$1a={class:"px-1"},w1a={class:"form-check"},D1a={class:""},x1a={class:""},C1a={class:""},P1a={class:""},E1a={class:""},A1a={class:""},I1a={class:""},R1a={class:""},S1a={class:""},T1a={class:""},j1a={class:"table-border-bottom-0"},O1a={key:0},M1a={colspan:"12",class:"text-center"},L1a={class:"text-center"},N1a={key:1},F1a={colspan:"12",class:"text-center"},Y1a={class:"text-center"},V1a={class:"px-1"},B1a={class:"form-check"},U1a=["id","onChange"],q1a={class:""},H1a={class:"fw-medium"},z1a={class:""},W1a={class:""},K1a={class:"text-success text-nowrap"},G1a={style:{cursor:"pointer"}},Q1a=["onClick"],Z1a={key:1},J1a={key:0,class:""},X1a={key:1,class:""},eba={key:2,class:""},tba={key:3,class:""},oba={class:"m_title"},aba={class:""},nba={class:""},sba={class:"d-flex"},lba=["data-bs-target"],iba=["onClick","data-bs-target"],rba=["id","data-bs-target"],dba=["id","data-bs-target"],cba={class:"modal fade",id:"cbs-loading-modal",tabindex:"-1","aria-hidden":"true"},uba={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_ba={class:"modal-content"},mba={class:"modal-body"},fba={class:"d-flex justify-content-center"},hba=["id"],pba={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},vba={class:"modal-content"},gba={class:"modal-header"},bba={class:"modal-title",id:"modalCenterTitle"},yba={class:"modal-body"},kba={class:"table-responsive"},$ba={class:"table"},wba={style:{background:"#f0f0f0"}},Dba=["id"],xba={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Cba={class:"modal-content"},Pba={class:"modal-header"},Eba={class:"modal-title",id:"modalCenterTitle"},Aba=["id"],Iba={class:"modal-body"},Rba={class:"row mb-1"},Sba={class:"col-md-6 col-sm-12 my-1"},Tba={for:"",class:"form-label"},jba={class:"col-md-6 col-sm-12 my-1"},Oba={class:"col-md-6 col-sm-12 my-1"},Mba={for:"",class:"form-label"},Lba={class:"col-md-6 col-sm-12 my-1"},Nba={class:"col-md-6 col-sm-12 my-1"},Fba={for:"",class:"form-label"},Yba={class:"col-md-6 col-sm-12 my-1"},Vba={class:"col-md-6 col-sm-12 my-1"},Bba={for:"",class:"form-label"},Uba={class:"col-md-6 col-sm-12 my-1"},qba={class:"col-md-6 col-sm-12 my-1"},Hba={for:"",class:"form-label"},zba={class:"col-md-6 col-sm-12 my-1"},Wba=["selected","value"],Kba={key:0,class:"col-md-6 col-sm-12 my-1"},Gba={for:"",class:"form-label"},Qba={key:1,class:"col-md-6 col-sm-12 my-1"},Zba=["required"],Jba={key:2,class:"col-md-6 col-sm-12 my-1"},Xba={for:"",class:"form-label"},eya={key:3,class:"col-md-6 col-sm-12 my-1"},tya=["min","required"],oya={class:"col-md-6 col-sm-12 my-1"},aya={for:"",class:"form-label"},nya={class:"col-md-6 col-sm-12 my-1"},sya=["value"],lya={class:"col-md-6 col-sm-12 my-1"},iya={for:"",class:"form-label"},rya={class:"col-md-6 col-sm-12 my-1"},dya=["value"],cya={class:"modal-footer"},uya=["disabled"],_ya=["id"],mya={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},fya={class:"modal-content"},hya={class:"modal-header d-flex flex-column flex-md-row justify-content-between"},pya={class:"modal-title",id:"modalCenterTitle"},vya={class:"d-flex flex-wrap gap-1"},gya=["data-bs-target"],bya=["href"],yya={class:"modal-body"},kya={class:"d-flex flex-column flex-md-row justify-content-between mb-4"},$ya={class:"mb-md-3"},wya={class:"d-flex flex-column flex-md-row justify-content-between"},Dya={class:"fw-light my-auto"},xya={class:"fw-bold mx-md-2 my-auto"},Cya={class:"d-flex flex-column flex-md-row justify-content-between"},Pya={class:"fw-light my-auto"},Eya={class:"fw-bold mx-md-2 my-auto"},Aya={class:"d-flex flex-column flex-md-row justify-content-between"},Iya={class:"fw-light my-auto"},Rya={class:"fw-bold mx-md-2 my-auto"},Sya={class:"d-flex flex-column flex-md-row justify-content-between"},Tya={class:"fw-light my-auto"},jya={class:"fw-bold mx-md-2 my-auto"},Oya={class:"d-flex flex-column flex-md-row justify-content-between"},Mya={class:"fw-light my-auto"},Lya={class:"fw-bold mx-md-2 my-auto"},Nya={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},Fya={class:"fw-light my-auto"},Yya={class:"fw-bold mx-md-2 my-auto"},Vya={key:1,class:"d-flex flex-column flex-md-row justify-content-between"},Bya={class:"fw-light my-auto"},Uya={class:"fw-bold mx-md-2 my-auto"},qya={class:"mb-md-3"},Hya={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},zya={class:"my-auto fw-light"},Wya=["data-bs-target"],Kya={class:"d-flex flex-column flex-md-row justify-content-between"},Gya={class:"my-auto fw-light"},Qya={class:"fw-bold mx-md-2 my-auto"},Zya={class:"d-flex flex-column flex-md-row justify-content-between"},Jya={class:"my-auto fw-light"},Xya={class:"fw-bold mx-md-2 my-auto"},e0a={class:"d-flex flex-column flex-md-row justify-content-between"},t0a={class:"my-auto fw-light"},o0a={class:"fw-bold mx-md-2 my-auto"},a0a={class:"d-flex flex-column flex-md-row justify-content-between"},n0a={class:"my-auto fw-light"},s0a={class:"fw-bold mx-md-2 my-auto"},l0a={class:"d-flex flex-column flex-md-row justify-content-between"},i0a={class:"my-auto fw-light"},r0a={class:"fw-bold text-success mx-md-2 my-auto"},d0a={class:"d-flex flex-column flex-md-row justify-content-between"},c0a={class:"my-auto fw-light"},u0a={class:"fw-bold mx-md-2 my-auto"},_0a={class:"d-flex flex-column flex-md-row justify-content-between"},m0a={class:"my-auto fw-light"},f0a={class:"fw-bold mx-md-2 my-auto"},h0a={class:"table-responsive"},p0a={class:"table"},v0a={class:"bg-label-primary"},g0a={class:"px-2"},b0a={class:"d-flex justify-content-end"},y0a={class:"mx-2 my-auto"},k0a={class:"text-success my-auto"},$0a={key:0,class:"px-2"},w0a={class:"mx-2 my-auto"},D0a={class:"text-success my-auto"},x0a={key:1,class:"px-2"},C0a={class:"d-flex justify-content-end"},P0a={class:"mx-2 my-auto"},E0a={class:"bg-label-secondary px-2"},A0a={class:"d-flex justify-content-end"},I0a={class:"mx-2 my-auto py-1"},R0a={class:"text-success my-auto py-1"},S0a=["id"],T0a={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},j0a={class:"modal-content"},O0a={class:"modal-header d-flex flex-column flex-md-row justify-content-between"},M0a={class:"modal-title",id:"modalCenterTitle"},L0a={class:"d-flex flex-wrap gap-1"},N0a=["data-bs-target"],F0a=["href"],Y0a={class:"modal-body"},V0a={class:"d-flex flex-column flex-md-row justify-content-between mb-4"},B0a={class:"mb-md-3"},U0a={class:"d-flex flex-column flex-md-row justify-content-between"},q0a={class:"fw-light my-auto"},H0a={class:"fw-bold mx-md-2 my-auto"},z0a={class:"d-flex flex-column flex-md-row justify-content-between"},W0a={class:"fw-light my-auto"},K0a={class:"fw-bold mx-md-2 my-auto"},G0a={class:"d-flex flex-column flex-md-row justify-content-between"},Q0a={class:"fw-light my-auto"},Z0a={class:"fw-bold mx-md-2 my-auto"},J0a={class:"d-flex flex-column flex-md-row justify-content-between"},X0a={class:"fw-light my-auto"},e2a={class:"fw-bold mx-md-2 my-auto"},t2a={class:"d-flex flex-column flex-md-row justify-content-between"},o2a={class:"fw-light my-auto"},a2a={class:"fw-bold mx-md-2 my-auto"},n2a={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},s2a={class:"fw-light my-auto"},l2a={class:"fw-bold mx-md-2 my-auto"},i2a={key:1,class:"d-flex flex-column flex-md-row justify-content-between"},r2a={class:"fw-light my-auto"},d2a={class:"fw-bold mx-md-2 my-auto"},c2a={class:"mb-md-3"},u2a={key:0,class:"d-flex flex-column flex-md-row justify-content-between"},_2a={class:"my-auto fw-light"},m2a=["data-bs-target"],f2a={class:"d-flex flex-column flex-md-row justify-content-between"},h2a={class:"my-auto fw-light"},p2a={class:"fw-bold mx-md-2 my-auto"},v2a={class:"d-flex flex-column flex-md-row justify-content-between"},g2a={class:"my-auto fw-light"},b2a={class:"fw-bold mx-md-2 my-auto"},y2a={class:"d-flex flex-column flex-md-row justify-content-between"},k2a={class:"my-auto fw-light"},$2a={class:"fw-bold mx-md-2 my-auto"},w2a={class:"d-flex flex-column flex-md-row justify-content-between"},D2a={class:"my-auto fw-light"},x2a={class:"fw-bold mx-md-2 my-auto"},C2a={class:"d-flex flex-column flex-md-row justify-content-between"},P2a={class:"my-auto fw-light"},E2a={class:"fw-bold text-success mx-md-2 my-auto"},A2a={class:"d-flex flex-column flex-md-row justify-content-between"},I2a={class:"my-auto fw-light"},R2a={class:"fw-bold mx-md-2 my-auto"},S2a={class:"d-flex flex-column flex-md-row justify-content-between"},T2a={class:"my-auto fw-light"},j2a={class:"fw-bold mx-md-2 my-auto"},O2a={class:"table-responsive"},M2a={class:"table"},L2a={class:"bg-label-primary"},N2a={class:"px-2"},F2a={class:"d-flex justify-content-end"},Y2a={class:"mx-2 my-auto"},V2a={class:"text-success my-auto"},B2a={key:0,class:"px-2"},U2a={class:"mx-2 my-auto"},q2a={class:"text-success my-auto"},H2a={key:1,class:"px-2"},z2a={class:"d-flex justify-content-end"},W2a={class:"mx-2 my-auto"},K2a={key:2,class:"px-2"},G2a={class:"mx-2 my-auto py-1"},Q2a={key:0,class:"text-success my-auto py-1"},Z2a={key:1,class:"text-success my-auto py-1"},J2a={key:3,class:"px-2"},X2a={class:"d-flex justify-content-end"},eka={class:"mx-2 my-auto py-1"},tka={class:"d-flex justify-content-end"},oka={class:"mx-2 my-auto py-1"},aka={class:"d-flex justify-content-end"},nka={class:"mx-2 my-auto py-1"},ska={class:"bg-label-secondary px-2"},lka={class:"d-flex justify-content-end"},ika={class:"mx-2 my-auto py-1"},rka={class:"text-success my-auto py-1"};function dka(o,a,s,t,c,m){const _=ce("pagination"),l=ce("cbs-upload-attachment");return u(),f("div",Cva,[e("div",Pva,[e("h5",null,n(o.$t("CBS Transactions List")),1),e("div",Eva,[e("button",{type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},onClick:a[0]||(a[0]=r=>t.downloadCreatedCbsTransactions()),title:"Download Created Transactions"},n(o.$t("Download Transctions")),1),t.can_upload?(u(),f("button",Ava,n(o.$t("Upload Transactions")),1)):b("",!0),e("button",Iva,n(o.$t("Initiate Transaction")),1),e("div",Rva,[e("div",Sva,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...r)=>t.submitNewTransactions&&t.submitNewTransactions(...r),["prevent"]))},[e("div",Tva,[e("h5",jva,n(o.$t("New Transaction")),1),a[33]||(a[33]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Ova,[e("div",Mva,[e("div",Lva,[e("label",Nva,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.addCreditTo=r)},null,512),[[X,t.addCreditTo]])]),e("div",Fva,[e("label",Yva,n(o.$t("Credit To Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.addCreditToName=r)},null,512),[[X,t.addCreditToName]])]),e("div",Vva,[e("label",Bva,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.addDebitFrom=r)},null,512),[[X,t.addDebitFrom]])]),e("div",Uva,[e("label",qva,n(o.$t("Debit From Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=r=>t.addDebitFromName=r)},null,512),[[X,t.addDebitFromName]])]),e("div",Hva,[e("label",zva,n(o.$t("Amount")),1),Y(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=r=>t.addAmount=r)},null,512),[[X,t.addAmount]])]),e("div",Wva,[e("label",Kva,n(o.$t("Transaction Reference")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.addTransactionReference=r)},null,512),[[X,t.addTransactionReference]])]),e("div",Gva,[e("label",Qva,n(o.$t("Pay Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[7]||(a[7]=r=>t.addPayDate=r)},null,512),[[X,t.addPayDate]])]),e("div",Zva,[e("label",Jva,n(o.$t("Status")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[8]||(a[8]=r=>t.addStatus=r)},[e("option",Xva,n(o.$t("Successful")),1),e("option",ega,n(o.$t("Created")),1),e("option",tga,n(o.$t("Failed")),1),e("option",oga,n(o.$t("Permanently Failed")),1)],512),[[de,t.addStatus]])]),e("div",aga,[e("label",nga,n(o.$t("Transaction Type")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.addTransactionType=r)},[e("option",sga,n(o.$t("Payment Disbursement")),1),e("option",lga,n(o.$t("Fees/Charges")),1),e("option",iga,n(o.$t("Discount Charge")),1),e("option",rga,n(o.$t("Bank Invoice Payment")),1),e("option",dga,n(o.$t("Repayment")),1),e("option",cga,n(o.$t("Funds Transfer")),1),e("option",uga,n(o.$t("OD Drawdown")),1)],512),[[de,t.addTransactionType]])])])]),e("div",_ga,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_close},n(o.$t("Close")),9,mga),e("button",{type:"submit",class:"btn btn-primary",disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing")),9,fga)])],32)])]),e("div",hga,[e("div",pga,[e("form",{class:"modal-content",method:"POST",onSubmit:a[12]||(a[12]=st((...r)=>t.submitTransactions&&t.submitTransactions(...r),["prevent"]))},[e("div",vga,[e("h5",gga,n(o.$t("Upload CBS Transactions")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",bga,[e("div",yga,[(u(),f("input",{class:"form-control",id:"file-upload",name:"documents",ref:"fileUpload",type:"file",accept:".xlsx",onChange:a[11]||(a[11]=(...r)=>t.updatedFile&&t.updatedFile(...r)),key:t.selected_file},null,32))]),t.uploadErrors.length>0?(u(),f("div",kga,[e("ul",null,[(u(!0),f(G,null,ee(t.uploadErrors,r=>(u(),f("li",{key:r,class:"text-danger"},n(r),1))),128))])])):b("",!0),t.show_error_download_link?(u(),f("a",$ga,n(o.$t("Click Here to Download Error Report")),1)):b("",!0)]),e("div",wga,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_close},n(o.$t("Close")),9,Dga),e("button",{type:"submit",class:"btn btn-primary",id:"upload-cbs-btn",disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing")),9,xga)])],32)])])])]),e("div",Cga,[e("form",{onSubmit:a[21]||(a[21]=st((...r)=>t.filter&&t.filter(...r),["prevent"]))},[e("div",Pga,[e("div",Ega,[e("label",Aga,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"CBS ID","onUpdate:modelValue":a[13]||(a[13]=r=>t.cbs_id_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.cbs_id_search]])]),e("div",Iga,[e("label",Rga,n(o.$t("Debit From/Credit To")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From/Credit To","onUpdate:modelValue":a[14]||(a[14]=r=>t.account_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.account_search]])]),e("div",Sga,[e("label",Tga,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[15]||(a[15]=r=>t.invoice_number_search=r),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",jga,[e("label",Oga,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search select2",multiple:"",id:"cbs-status-select","onUpdate:modelValue":a[16]||(a[16]=r=>t.status_search=r)},[e("option",Mga,n(o.$t("Created")),1),e("option",Lga,n(o.$t("Successful")),1),e("option",Nga,n(o.$t("Permanently Failed")),1),e("option",Fga,n(o.$t("Failed")),1)],512),[[de,t.status_search]])]),e("div",Yga,[e("label",Vga,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[17]||(a[17]=r=>t.product_type_search=r)},[e("option",Bga,n(o.$t("Vendor Financing Receivable")),1),e("option",Uga,n(o.$t("Factoring With Recourse")),1),e("option",qga,n(o.$t("Factoring Without Recourse")),1),e("option",Hga,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",zga,[e("label",Wga,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[35]||(a[35]=e("input",{type:"text",id:"cbs_date_search",class:"form-control form-search",name:"cbs_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Kga,[e("label",Gga,n(o.$t("Date"))+" ("+n(o.$t("Transaction Date"))+")",1),a[36]||(a[36]=e("input",{type:"text",id:"cbs_transaction_date_search",class:"form-control form-search",name:"cbs_transaction_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",Qga,[e("label",Zga,n(o.$t("Transaction Type")),1),Y(e("select",{class:"form-select select2",multiple:"",id:"transaction-type-select","onUpdate:modelValue":a[18]||(a[18]=r=>t.transaction_type=r)},[e("option",Jga,n(o.$t("Select Transaction Type")),1),e("option",Xga,n(o.$t("Balance DF Invoice Payment")),1),e("option",e1a,n(o.$t("Bank Invoice Payment")),1),e("option",t1a,n(o.$t("Discount Charge")),1),e("option",o1a,n(o.$t("Fees/Charges")),1),e("option",a1a,n(o.$t("Funds Transfer")),1),e("option",n1a,n(o.$t("OD Account Debit")),1),e("option",s1a,n(o.$t("OD Drawdown")),1),e("option",l1a,n(o.$t("Overdue Account")),1),e("option",i1a,n(o.$t("Payment Disbursement")),1),e("option",r1a,n(o.$t("Platform Charges")),1),e("option",d1a,n(o.$t("Repayment")),1)],512),[[de,t.transaction_type]])]),e("div",c1a,[e("label",u1a,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[19]||(a[19]=r=>t.sort_by=r)},[e("option",_1a,n(o.$t("Sort By")),1),e("option",m1a,n(o.$t("Ascending")),1),e("option",f1a,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),a[38]||(a[38]=e("div",{class:"table-search-btn"},[e("button",{class:"btn btn-primary btn-md",type:"submit"},[e("i",{class:"ti ti-search"})])],-1)),e("div",h1a,[e("button",{class:"btn btn-primary btn-md",type:"button",onClick:a[20]||(a[20]=(...r)=>t.refresh&&t.refresh(...r))},a[37]||(a[37]=[e("i",{class:"ti ti-refresh"},null,-1)]))])])],32),e("div",p1a,[e("div",v1a,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[22]||(a[22]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[39]||(a[39]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",g1a,[e("button",{type:"button",class:"btn btn-primary h-fit",style:{height:"fit-content"},onClick:a[23]||(a[23]=r=>t.downloadCbsTransactions()),title:"Download Filtered Transactions"},[a[40]||(a[40]=e("i",{class:"ti ti-download ti-xs px-1 filtered"},null,-1)),le(" "+n(o.$t("Excel")),1)])])])]),t.transactions.meta?(u(),me(_,{key:0,class:"mx-2",from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",b1a,[e("table",y1a,[e("thead",null,[e("tr",k1a,[e("th",$1a,[e("div",w1a,[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"select-all",onChange:a[24]||(a[24]=r=>t.selectAll())},null,32)])]),e("th",D1a,n(o.$t("CBS ID")),1),e("th",x1a,n(o.$t("Debit From")),1),e("th",C1a,n(o.$t("Credit To")),1),e("th",P1a,n(o.$t("Amount")),1),e("th",E1a,n(o.$t("Invoice / Unique Ref No"))+".",1),e("th",A1a,n(o.$t("Pay Date")),1),e("th",I1a,n(o.$t("Transaction Date")),1),e("th",R1a,n(o.$t("Product Type")),1),e("th",S1a,n(o.$t("Transaction Type")),1),e("th",T1a,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1),a[41]||(a[41]=e("th",null,null,-1))])]),e("tbody",j1a,[t.transactions.data?b("",!0):(u(),f("tr",O1a,[e("td",M1a,[e("span",L1a,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",N1a,[e("td",F1a,[e("span",Y1a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.transactions.data,r=>(u(),f("tr",{key:r},[e("td",V1a,[e("div",B1a,[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"transaction-"+r.id,onChange:i=>t.updateSelected(r.id)},null,40,U1a)])]),e("td",q1a,[e("span",H1a,n(r.id),1)]),e("td",z1a,[e("span",null,n(r.debit_from_account),1)]),e("td",W1a,[e("span",null,n(r.credit_to_account),1)]),e("td",K1a,n(r.currency)+" "+n(new Intl.NumberFormat().format(r.amount)),1),e("td",G1a,[r.payment_request&&r.payment_request.invoice_number?(u(),f("span",{key:0,class:"text-primary text-decoration-underline",onClick:i=>t.showInvoice(r.payment_request.invoice_id,"show-cbs-details-btn-"+r.payment_request.invoice_id)},n(r.payment_request.invoice_number),9,Q1a)):(u(),f("span",Z1a,"-"))]),r.pay_date?(u(),f("td",J1a,n(t.moment(r.pay_date).format(t.date_format)),1)):(u(),f("td",X1a,"-")),r.status=="Successful"?(u(),f("td",eba,n(t.moment(r.transaction_date).format(t.date_format)),1)):(u(),f("td",tba,"-")),e("td",oba,n(r.product),1),e("td",aba,n(r.transaction_type),1),e("td",nba,[e("span",{class:rt(["badge me-1",t.resolvePaymentRequestStatus(r.status)])},n(r.status),3)]),e("td",null,[e("div",sba,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+r.id,style:{cursor:"pointer"}},null,8,lba),t.can_update&&r.status!="Successful"?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.showEditModal(r),"data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-"+r.id,style:{cursor:"pointer"}},null,8,iba)):b("",!0)])]),e("td",null,[r.payment_request&&r.payment_request.invoice_number?(u(),f("button",{key:0,class:"d-none",id:"show-cbs-details-btn-"+r.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#cbs-invoice-"+r.payment_request.invoice_id},null,8,rba)):b("",!0),r.payment_request&&r.payment_request.invoice_number?(u(),f("button",{key:1,class:"d-none",id:"show-cbs-pi-btn-"+r.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#cbs-pi-"+r.payment_request.invoice_id},null,8,dba)):b("",!0),a[61]||(a[61]=e("button",{class:"d-none",id:"cbs-loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#cbs-loading-modal"},null,-1)),e("div",cba,[e("div",uba,[e("div",_ba,[e("div",mba,[e("div",fba,[e("span",null,n(o.$t("Loading"))+"...",1),a[42]||(a[42]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",pba,[e("div",vba,[e("div",gba,[e("h5",bba,n(o.$t("CBS Transaction")),1),a[43]||(a[43]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",yba,[e("div",kba,[e("table",$ba,[e("thead",wba,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(r.transaction_date).format(t.date_format)),1),e("td",null,n(r.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(r.transaction_reference?r.transaction_reference:"-"),1),a[44]||(a[44]=e("td",null,"-",-1)),e("td",null,n(r.transaction_type),1)])])])])])])])],8,hba),e("div",{class:"modal fade",id:"cbs-transactions-"+r.id,tabindex:"-1","aria-hidden":"true"},[e("div",xba,[e("div",Cba,[e("div",Pba,[e("h5",Eba,n(o.$t("Update CBS Transaction")),1),e("button",{id:"close-modal-"+r.id,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Aba)]),e("div",Iba,[e("div",Rba,[e("div",Sba,[e("label",Tba,[le(n(o.$t("Debit From"))+" ",1),a[45]||(a[45]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",jba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=i=>t.updateDebitFrom=i)},null,512),[[X,t.updateDebitFrom]])]),e("div",Oba,[e("label",Mba,n(o.$t("Debit From Account Name")),1)]),e("div",Lba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[26]||(a[26]=i=>t.updateDebitFromAccountName=i)},null,512),[[X,t.updateDebitFromAccountName]])]),e("div",Nba,[e("label",Fba,[le(n(o.$t("Credit To"))+" ",1),a[46]||(a[46]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",Yba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[27]||(a[27]=i=>t.updateCreditTo=i)},null,512),[[X,t.updateCreditTo]])]),e("div",Vba,[e("label",Bba,n(o.$t("Credit To Account Name")),1)]),e("div",Uba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[28]||(a[28]=i=>t.updateCreditToAccountName=i)},null,512),[[X,t.updateCreditToAccountName]])]),e("div",qba,[e("label",Hba,[le(n(o.$t("Status"))+" ",1),a[47]||(a[47]=e("span",{class:"text-danger text-lg"},"*",-1))])]),e("div",zba,[Y(e("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":a[29]||(a[29]=i=>t.updateStatus=i)},[(u(!0),f(G,null,ee(t.cbs_transaction_statuses,i=>(u(),f("option",{key:i,selected:r.status==i,value:i},n(i),9,Wba))),128))],512),[[de,t.updateStatus]])]),t.updateStatus=="Successful"?(u(),f("div",Kba,[e("label",Gba,[le(n(o.$t("Transaction Ref"))+" ",1),a[48]||(a[48]=e("span",{class:"text-danger text-lg"},"*",-1))])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",Qba,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[30]||(a[30]=i=>t.addTransactionReference=i),required:t.updateStatus==="Successful"},null,8,Zba),[[X,t.addTransactionReference]])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",Jba,[e("label",Xba,[le(n(o.$t("Paid Date"))+" ",1),a[49]||(a[49]=e("span",{class:"text-danger text-lg"},"*",-1))])])):b("",!0),t.updateStatus=="Successful"?(u(),f("div",eya,[Y(e("input",{type:"date",class:"form-control",min:r.payment_request?t.moment(r.payment_request.invoice_created_at).format("YYYY-MM-DD"):"","onUpdate:modelValue":a[31]||(a[31]=i=>t.addPayDate=i),required:t.updateStatus==="Successful"},null,8,tya),[[X,t.addPayDate]])])):b("",!0),e("div",oya,[e("label",aya,n(o.$t("Transaction Type")),1)]),e("div",nya,[e("input",{type:"text",value:r.transaction_type,class:"form-control",readonly:""},null,8,sya)]),e("div",lya,[e("label",iya,n(o.$t("Product Type")),1)]),e("div",rya,[e("input",{type:"text",value:r.product,class:"form-control",readonly:""},null,8,dya)])])]),e("div",cya,[e("button",{class:"btn btn-primary",onClick:a[32]||(a[32]=(...i)=>t.updateTransactionStatus&&t.updateTransactionStatus(...i)),disabled:!t.can_submit},n(t.can_submit?o.$t("Submit"):o.$t("Processing...")),9,uya)])])])],8,Dba),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),f("div",{key:2,class:"modal fade",id:"cbs-invoice-"+r.payment_request.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",mya,[e("div",fya,[e("div",hya,[e("h5",pya,n(o.$t("Invoice Details")),1),a[52]||(a[52]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",vya,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#cbs-add-attachment-"+t.invoice_details.id},[a[50]||(a[50]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,gya)]),e("a",{href:"/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[51]||(a[51]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,bya)])]),e("div",yya,[e("div",kya,[e("div",$ya,[e("span",wya,[e("h5",Dya,n(o.$t("Anchor"))+":",1),e("h6",xya,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",Cya,[e("h5",Pya,n(o.$t("Delivery Address"))+":",1),e("h6",Eya,n(t.invoice_details.delivery_address),1)]),e("span",Aya,[e("h5",Iya,n(o.$t("Debit From"))+":",1),e("h6",Rya,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",Sya,[e("h5",Tya,n(o.$t("Vendor"))+":",1),e("h6",jya,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",Oya,[e("h5",Mya,n(o.$t("Remarks"))+":",1),e("h6",Lya,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",Nya,[e("h5",Fya,n(o.$t("Credit To"))+":",1),e("h6",Yya,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",Vya,[e("h5",Bya,n(o.$t("Rejection Reason"))+":",1),e("h6",Uya,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",qya,[t.invoice_details.pi_number?(u(),f("span",Hya,[e("h5",zya,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-md-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cbs-pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Wya)])):b("",!0),e("span",Kya,[e("h5",Gya,n(o.$t("Invoice No."))+":",1),e("h6",Qya,n(t.invoice_details.invoice_number),1)]),e("span",Zya,[e("h5",Jya,n(o.$t("PO No."))+":",1),e("h6",Xya,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",e0a,[e("h5",t0a,n(o.$t("Payment / OD Account No."))+":",1),e("h6",o0a,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",a0a,[e("h5",n0a,n(o.$t("Invoice Date."))+":",1),e("h6",s0a,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",l0a,[e("h5",i0a,n(o.$t("Amount"))+":",1),e("h6",r0a,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",d0a,[e("h5",c0a,n(o.$t("Status."))+":",1),e("h6",u0a,n(t.invoice_details.approval_stage),1)]),e("span",_0a,[e("h5",m0a,n(o.$t("Due Date"))+":",1),e("h6",f0a,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",h0a,[e("table",p0a,[e("thead",v0a,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",g0a,[e("span",b0a,[e("h6",y0a,n(o.$t("Discount"))+":",1),e("h5",k0a,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",$0a,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",w0a,n(i.name),1),e("h5",D0a,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",x0a,[e("span",C0a,[e("h6",P0a,n(o.$t("Tax")),1),a[53]||(a[53]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),e("div",E0a,[e("span",A0a,[e("h6",I0a,n(o.$t("Total")),1),e("h5",R0a,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,_ya)):b("",!0),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),f("div",{key:3,class:"modal fade",id:"cbs-pi-"+r.payment_request.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",T0a,[e("div",j0a,[e("div",O0a,[e("h5",M0a,n(o.$t("Invoice Details")),1),a[56]||(a[56]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",L0a,[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#cbs-add-attachment-"+t.invoice_details.id},[a[54]||(a[54]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("Attachment")),1)],8,N0a)]),e("a",{href:"/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[55]||(a[55]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,F0a)])]),e("div",Y0a,[e("div",V0a,[e("div",B0a,[e("span",U0a,[e("h5",q0a,n(o.$t("Anchor"))+":",1),e("h6",H0a,n(t.invoice_details.buyer?t.invoice_details.buyer.name:t.invoice_details.program.anchor.name),1)]),e("span",z0a,[e("h5",W0a,n(o.$t("Delivery Address"))+":",1),e("h6",K0a,n(t.invoice_details.delivery_address),1)]),e("span",G0a,[e("h5",Q0a,n(o.$t("Debit From"))+":",1),e("h6",Z0a,n(t.invoice_details.bank_details[0].account_number),1)]),e("span",J0a,[e("h5",X0a,n(o.$t("Vendor"))+":",1),e("h6",e2a,n(t.invoice_details.buyer?t.invoice_details.program.anchor.name:t.invoice_details.company.name),1)]),e("span",t2a,[e("h5",o2a,n(o.$t("Remarks"))+":",1),e("h6",a2a,n(t.invoice_details.remarks),1)]),t.invoice_details.credit_to?(u(),f("span",n2a,[e("h5",s2a,n(o.$t("Credit To"))+":",1),e("h6",l2a,n(t.invoice_details.credit_to),1)])):b("",!0),t.invoice_details.rejected_reason?(u(),f("span",i2a,[e("h5",r2a,n(o.$t("Rejection Reason"))+":",1),e("h6",d2a,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",c2a,[t.invoice_details.pi_number?(u(),f("span",u2a,[e("h5",_2a,n(o.$t("Invoice No."))+":",1),e("h6",{class:"fw-bold mx-md-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#cbs-invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,m2a)])):b("",!0),e("span",f2a,[e("h5",h2a,n(o.$t("PI No."))+":",1),e("h6",p2a,n(t.invoice_details.pi_number),1)]),e("span",v2a,[e("h5",g2a,n(o.$t("PO No."))+":",1),e("h6",b2a,n(t.invoice_details.purchase_order?t.invoice_details.purchase_order.purchase_order_number:""),1)]),e("span",y2a,[e("h5",k2a,n(o.$t("Payment / OD Account No."))+":",1),e("h6",$2a,n(t.invoice_details.vendor_configurations.payment_account_number),1)]),e("span",w2a,[e("h5",D2a,n(o.$t("Invoice Date."))+":",1),e("h6",x2a,n(t.moment(t.invoice_details.invoice_date).format("DD MMM YYYY")),1)]),e("span",C2a,[e("h5",P2a,n(o.$t("Amount"))+":",1),e("h6",E2a,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",A2a,[e("h5",I2a,n(o.$t("Status."))+":",1),e("h6",R2a,n(t.invoice_details.approval_stage),1)]),e("span",S2a,[e("h5",T2a,n(o.$t("Due Date"))+":",1),e("h6",j2a,n(t.moment(t.invoice_details.due_date).format("DD MMM YYYY")),1)])])]),e("div",O2a,[e("table",M2a,[e("thead",L2a,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])]),e("div",N2a,[e("span",F2a,[e("h6",Y2a,n(o.$t("Discount"))+":",1),e("h5",V2a,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])]),t.invoice_details.invoice_taxes.length?(u(),f("div",B2a,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",U2a,n(i.name),1),e("h5",q2a,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):(u(),f("div",H2a,[e("span",z2a,[e("h6",W2a,n(o.$t("Tax")),1),a[57]||(a[57]=e("h5",{class:"text-success my-auto"},"0.0",-1))])])),t.invoice_details.invoice_fees.length>0?(u(),f("div",K2a,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",G2a,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",Q2a," ("+n(t.getTaxPercentage(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",Z2a,n(i.amount),1))]))),128))])):(u(),f("div",J2a,[e("span",X2a,[e("h6",eka,n(o.$t("WHT Tax"))+":",1),a[58]||(a[58]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",tka,[e("h6",oka,n(o.$t("WHT VAT"))+":",1),a[59]||(a[59]=e("h5",{class:"text-success my-auto py-1"},"(0.0%) 0",-1))]),e("span",aka,[e("h6",nka,n(o.$t("Credit Note Amount"))+":",1),a[60]||(a[60]=e("h5",{class:"text-success my-auto py-1"},"0",-1))])])),e("div",ska,[e("span",lka,[e("h6",ika,n(o.$t("Total")),1),e("h5",rka,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])],8,S0a)):b("",!0),r.payment_request&&r.payment_request.invoice_number&&t.invoice_details?(u(),me(l,{invoiceDetails:t.invoice_details,key:t.upload_attachment_key},null,8,["invoiceDetails"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),me(_,{key:1,class:"mx-2",from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const DD=Ue(xva,[["render",dka]]),cka={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=h([]),c=o.can_add,m=h([]),_=h(null),l=h(null),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),w=h([]),y=h(["request_auto_finance","auto_debit_anchor_for_financed_invoices","auto_debit_anchor_for_non_financed_invoices","anchor_can_change_due_date","anchor_can_change_payment_term","mandatory_invoice_attachement"]),x=h(50),C=async()=>{await A.get("programs/data",{params:{per_page:x.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(W=>{t.value=W.data.data}).catch(W=>{console.log(W)})};Qe(()=>{C()});const E=()=>{v.value=[],document.getElementById("select-all").checked?t.value.data.forEach(W=>{W.can_activate&&W.account_status=="suspended"&&(document.getElementById("data-select-"+W.id).checked=!0,v.value.push(W.id))}):t.value.data.forEach(W=>{if(W.can_activate&&W.account_status=="suspended"){document.getElementById("data-select-"+W.id).checked=!1;let oe;if(!v.value.filter(function(K,z){oe=z,K==W.id}))return!1;v.value.splice(oe,1)}})},D=W=>{if(v.value.includes(W)){const oe=v.value.indexOf(W);v.value.splice(oe,1)}else v.value.push(W)},k=W=>{if(v.value.length<=0){s.error("Select programs");return}const oe=new FormData;W=="approve"&&(v.value.forEach(J=>{oe.append("programs[]",J)}),oe.append("status","active")),A.post(a+o.bank+"/programs/update/status",oe).then(()=>{s.success("Programs updated"),g.value="",C(),document.getElementById("approve-programs-close").click()}).catch(J=>{console.log(J),s.error("An error occurred")})},I=W=>{A.delete(a+o.bank+"/programs/"+W+"/delete").then(oe=>{s.success(oe.data.message),document.getElementById("delete-program-close-"+W).click(),C()}).catch(oe=>{s.error(oe.response.data.message)})},V=W=>{A.get(a+o.bank+"/programs/"+W+"/delete/cancel").then(oe=>{s.success(oe.data.message),document.getElementById("delete-program-close-"+W).click(),C()}).catch(oe=>{s.error(oe.response.data.message)})},B=W=>{switch(W){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},L=W=>parseFloat(W).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),F=(W,oe)=>{if(oe=="active"&&H().isAfter(W.limit_expiry_date)){s.error("Update the limit expiry date to activate program");return}A.get(`programs/${W.id}/update/status/${oe}`).then(()=>{C(),s.success("Program status updated")}).catch(J=>{s.error(J.response.data.message),console.log(J)})},T=(W,oe)=>{A.get(`programs/${W}/status/${oe}/update`).then(()=>{C(),s.success("Program approval status updated"),document.getElementById("update-approve-status-close"+W).click(),document.getElementById("update-reject-status-close"+W).click()}).catch(J=>{s.error(J.response.data.message),console.log(J)})};return ot(g,W=>{v.value.length>0?(m.value=[],W=="approve"&&(v.value.forEach(oe=>{m.value.push(t.value.data.filter(J=>J.id==oe)[0])}),l.value.click())):s.error("Select Programs")}),{can_add:c,moment:H,programs:t,program_name_search:r,anchor_search:i,status_search:d,type_search:p,per_page:x,selected_data:v,selectAll:E,updateSelected:D,deleteProgram:I,submitBulkAction:k,filter:async()=>{let W=$(".ti-search").parent();W.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:x.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(oe=>{t.value=oe.data.data}).catch(oe=>{console.log(oe)}).finally(()=>{W.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let W=$(".ti-refresh").parent();W.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",p.value="",await A.get("programs/data",{params:{per_page:x.value}}).then(oe=>{t.value=oe.data.data}).catch(oe=>{console.log(oe)}).finally(()=>{W.html('<i class="ti ti-refresh"></i>')})},bulk_action:g,showRejectionModal:_,showApprovalModal:l,program_ids:w,boolean_columns:y,resolveProgramStatus:B,NumFormatter:L,updateActiveStatus:F,updateApprovalStatus:T,changePage:async W=>{await A.get(W,{params:{per_page:x.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(oe=>{t.value=oe.data.data})},approveChange:(W,oe)=>{A.post("programs/"+W+"/updates/"+oe+"/approve",{program_id:w.value}).then(()=>{oe=="approve"?s.success("Program changes have been applied"):s.success("Program changes have been discarded"),document.getElementById("changes-details-close-"+W).click(),C()})},addVendorConfigurations:W=>{w.value=[],Object.values(W.vendor_configurations).forEach(oe=>{w.value.push(oe.id)})},cancelDeleteProgram:V,exportPrograms:()=>{A.get("programs/data/export",{responseType:"arraybuffer",method:"GET",params:{name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(W=>{const oe=window.URL.createObjectURL(new Blob([W.data])),J=document.createElement("a");J.href=oe,J.setAttribute("download",`Programs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(J),J.click()}).catch(W=>{console.log(W)})}}}},uka={class:"p-2 d-flex flex-column flex-md-row justify-content-between"},_ka={class:"d-flex flex-wrap gap-1"},mka={class:""},fka={for:"Name",class:"form-label"},hka=["placeholder"],pka={class:""},vka={for:"Anchor",class:"form-label"},gka=["placeholder"],bka={class:""},yka={for:"Status",class:"form-label"},kka={value:""},$ka={value:"pending"},wka={value:"active"},Dka={value:"suspended"},xka={class:""},Cka={for:"Program Type",class:"form-label"},Pka={value:""},Eka={value:"vendor_financing_receivable"},Aka={value:"factoring_with_recourse"},Ika={value:"factoring_without_recourse"},Rka={value:"dealer_financing"},Ska={class:""},Tka={for:"Bulk Actions",class:"form-label"},jka={value:""},Oka={value:"approve"},Mka={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Lka={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Nka={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Fka={class:"modal-content"},Yka={class:"modal-header"},Vka={class:"modal-title",id:"modalCenterTitle"},Bka={class:"modal-body"},Uka={class:"modal-footer"},qka={class:"btn btn-primary",type:"submit"},Hka={class:"table-search-btn"},zka={class:"table-clear-btn"},Wka={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},Kka={class:""},Gka={key:0,href:"programs/create",class:"btn btn-primary btn-md text-nowrap"},Qka={class:"table-responsive"},Zka={class:"table"},Jka={class:""},Xka={class:"form-check"},e$a={class:"table-border-bottom-0"},t$a={key:0},o$a={colspan:"12",class:"text-center"},a$a={class:"text-center"},n$a={key:1},s$a={colspan:"12",class:"text-center"},l$a={class:"text-center"},i$a={class:"form-check"},r$a=["id","onChange"],d$a={class:"text-primary"},c$a={class:"d-flex"},u$a={key:0},_$a=["href"],m$a={key:1},f$a={key:1},h$a=["href"],p$a={key:1},v$a=["title"],g$a=["title"],b$a=["title"],y$a=["title"],k$a={key:6,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Deletion Awaiting Approval"},$$a={class:"text-primary text-decoration-underline"},w$a=["href"],D$a={key:1},x$a={class:""},C$a={class:"text-success"},P$a={class:"text-success"},E$a={class:"text-success"},A$a={class:""},I$a={class:"d-flex gap-1"},R$a=["href","title"],S$a=["href","title"],T$a=["title","data-bs-target","onClick"],j$a=["title","data-bs-target","onClick"],O$a=["title","data-bs-target","onClick"],M$a={key:5,class:"d-flex"},L$a=["href","title"],N$a=["href","title"],F$a={key:6,class:"d-flex gap-1"},Y$a=["href","title"],V$a=["title","onClick"],B$a=["title","onClick"],U$a=["title","data-bs-target"],q$a=["id"],H$a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},z$a={class:"modal-content"},W$a={class:"modal-header"},K$a={class:"modal-title",id:"modalCenterTitle"},G$a=["id"],Q$a={class:"modal-body"},Z$a={class:"row mb-1"},J$a={class:"text-wrap"},X$a={class:"modal-footer"},ewa=["onClick"],twa=["data-bs-target"],owa=["id"],awa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},nwa={class:"modal-content"},swa={class:"modal-header"},lwa={class:"modal-title",id:"modalCenterTitle"},iwa=["id"],rwa={class:"modal-body"},dwa={class:"row mb-1"},cwa={class:"text-wrap"},uwa={class:"modal-footer"},_wa=["onClick"],mwa=["data-bs-target"],fwa=["id"],hwa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},pwa={class:"modal-content"},vwa={class:"modal-header"},gwa={class:"modal-title",id:"modalCenterTitle"},bwa=["id"],ywa={class:"modal-body"},kwa={class:"row mb-1"},$wa={class:"text-wrap"},wwa={class:"modal-footer"},Dwa={class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal"},xwa=["onClick"],Cwa=["onClick"],Pwa=["id"],Ewa={class:"modal-dialog"},Awa={class:"modal-content"},Iwa={class:"modal-header"},Rwa=["id"],Swa={class:"modal-body"},Twa={key:0},jwa={class:"mb-0"},Owa={key:0,class:"col-12"},Mwa={class:"change_title"},Lwa={class:"mx-2"},Nwa={key:1,class:"col-12"},Fwa={class:"change_title"},Ywa={key:0,class:"mx-2"},Vwa={key:1,class:"mx-2"},Bwa={key:1},Uwa={class:"mb-0"},qwa={class:"col-12"},Hwa={class:"change_title"},zwa={class:"mx-2"},Wwa={key:2},Kwa={class:"mb-0"},Gwa={key:0,class:"col-12"},Qwa={class:"change_title"},Zwa={class:"mx-2"},Jwa={key:1,class:"col-12"},Xwa={class:""},e5a={key:3},t5a={class:"mb-0"},o5a={class:"change_title"},a5a={class:"mx-2"},n5a={key:4},s5a={class:"mb-0"},l5a={key:0,class:"col-6"},i5a={key:0},r5a={class:"change_title"},d5a={key:1,class:"mx-2"},c5a={key:1,class:"col-6"},u5a={class:""},_5a={key:5},m5a={class:"mb-0"},f5a={class:"col-12"},h5a={class:"form-check"},p5a=["value"],v5a=["for"],g5a={key:0,class:"modal-footer"},b5a=["onClick"],y5a=["onClick"],k5a=["id"],$5a={class:"modal-dialog"},w5a={class:"modal-content"},D5a={class:"modal-header"},x5a=["id"],C5a={class:"modal-body"},P5a={class:"modal-footer"},E5a=["title","data-bs-target"],A5a=["data-bs-target"];function I5a(o,a,s,t,c,m){const _=ce("pagination");return u(),f(G,null,[e("div",uka,[e("div",_ka,[e("div",mka,[e("label",fka,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:o.$t("Program Name"),"aria-describedby":"defaultFormControlHelp"},null,40,hka),[[X,t.program_name_search]])]),e("div",pka,[e("label",vka,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.anchor_search=l),placeholder:o.$t("Anchor"),"aria-describedby":"defaultFormControlHelp"},null,40,gka),[[X,t.anchor_search]])]),e("div",bka,[e("label",yka,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",kka,n(o.$t("Status")),1),e("option",$ka,n(o.$t("Pending")),1),e("option",wka,n(o.$t("Active")),1),e("option",Dka,n(o.$t("Suspended")),1)],512),[[de,t.status_search]])]),e("div",xka,[e("label",Cka,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=l=>t.type_search=l)},[e("option",Pka,n(o.$t("Program Type")),1),e("option",Eka,n(o.$t("Vendor Financing Receivable")),1),e("option",Aka,n(o.$t("Factoring With Recourse")),1),e("option",Ika,n(o.$t("Factoring Without Recourse")),1),e("option",Rka,n(o.$t("Dealer Financing")),1)],512),[[de,t.type_search]])]),e("div",Ska,[e("label",Tka,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[6]||(a[6]=l=>t.bulk_action=l)},[e("option",jka,n(o.$t("Bulk Actions")),1),e("option",Oka,n(o.$t("Approve")),1)],512),[[de,t.bulk_action]])]),e("button",Mka,null,512),e("div",Lka,[e("div",Nka,[e("div",Fka,[e("div",Yka,[e("h5",Vka,n(o.$t("Approve Programs")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"approve-programs-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Bka,[e("h5",null,n(o.$t("Are you sure you want to approve the selected programs?")),1)]),e("div",Uka,[e("button",qka,n(o.$t("Submit")),1)])],32)])])]),e("div",Hka,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zka,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wka,[e("div",Kka,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=l=>t.per_page=l),style:{width:"5rem"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...l)=>t.exportPrograms&&t.exportPrograms(...l))},[a[18]||(a[18]=e("i",{class:"ti ti-download ti-xs"},null,-1)),le(" "+n(o.$t("Excel")),1)]),t.can_add?(u(),f("a",Gka,n(o.$t("Add Program")),1)):b("",!0)])]),t.programs.meta?(u(),me(_,{key:0,class:"px-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Qka,[e("table",Zka,[e("thead",null,[e("tr",Jka,[e("th",null,[e("div",Xka,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[12]||(a[12]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Amount")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",e$a,[t.programs.data?b("",!0):(u(),f("tr",t$a,[e("td",o$a,[e("span",a$a,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",n$a,[e("td",s$a,[e("span",l$a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("div",i$a,[l.can_approve&&(l.status==="pending"||l.status==="rejected")&&!l.proposed_update?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,r$a)):b("",!0)])]),e("td",d$a,[e("div",c$a,[l.proposed_update||l.deleted_at||l.mapping_changes_count>0||l.status==="pending"?(u(),f("span",u$a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,_$a)):(u(),f("span",m$a,n(l.name),1))])):(u(),f("span",f$a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,h$a)):(u(),f("span",p$a,n(l.name),1))])),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-warning",title:o.$t("Program Limit is almost depleted")},null,8,v$a)):b("",!0),l.proposed_update?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,g$a)):b("",!0),l.mapping_changes_count>0?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Mapping Creation/Updation awating approval")},null,8,b$a)):b("",!0),l.status=="pending"?(u(),f("i",{key:5,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,y$a)):b("",!0),l.deleted_at?(u(),f("i",k$a)):b("",!0)])]),e("td",$$a,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,w$a)):(u(),f("span",D$a,n(l.anchor.name),1))]),e("td",x$a,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"DF"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",C$a,n(new Intl.NumberFormat().format(l.program_limit)),1),e("td",P$a,n(new Intl.NumberFormat().format(l.utilized.toFixed(2))),1),e("td",E$a,n(new Intl.NumberFormat().format(l.pipeline.toFixed(2))),1),e("td",A$a,[e("div",I$a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"",title:o.$t("View Program Details")},a[19]||(a[19]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,R$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"",title:o.$t("Edit Program")},a[20]||(a[20]=[e("i",{class:"ti ti-pencil ti-sm text-warning"},null,-1)]),8,S$a)):b("",!0),l.account_status=="suspended"&&l.status=="rejected"&&l.proposed_update&&l.can_view?(u(),f("i",{key:2,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,T$a)):b("",!0),l.account_status=="active"&&(l.status=="active"||l.proposed_update)&&l.can_view?(u(),f("i",{key:3,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#changes-details-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,j$a)):b("",!0),l.account_status=="suspended"&&!l.proposed_update&&l.can_view?(u(),f("i",{key:4,class:"ti ti-clock ti-sm text-primary",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#new-program-"+l.id,style:{cursor:"pointer","font-weight":"bolder"},onClick:r=>t.addVendorConfigurations(l)},null,8,O$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Vendor Financing"?(u(),f("div",M$a,[l.program_code.name=="Vendor Financing Receivable"?(u(),f("a",{key:0,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Vendors")},a[21]||(a[21]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,L$a)):(u(),f("a",{key:1,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Buyers")},a[22]||(a[22]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,N$a))])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Dealer Financing"?(u(),f("div",F$a,[e("a",{href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Dealers")},a[23]||(a[23]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,Y$a)])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="active"&&l.utilized==0&&l.pipeline==0?(u(),f("i",{key:7,class:"ti ti-thumb-up ti-sm text-success my-auto",title:o.$t("Click to Suspend Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"suspended")},null,8,V$a)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="suspended"?(u(),f("i",{key:8,class:"ti ti-thumb-down ti-sm text-danger my-auto",title:o.$t("Click to Activate Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"active")},null,8,B$a)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:9,class:"ti ti-check ti-sm text-success my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#approve-program-"+l.id},null,8,U$a)):b("",!0),e("div",{class:"modal fade",id:"approve-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",H$a,[e("div",z$a,[e("div",W$a,[e("h5",K$a,n(o.$t("Approve Program")),1),e("button",{type:"button",class:"btn-close",id:"update-approve-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,G$a)]),e("div",Q$a,[e("div",Z$a,[e("h5",J$a,n(o.$t("Are you sure you want to approve the program?")),1)])]),e("div",X$a,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approved")},n(o.$t("Confirm")),9,ewa)])])])],8,q$a),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:10,class:"ti ti-circle-x ti-sm text-danger my-auto",title:"Click to Reject Program",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#reject-program-"+l.id},null,8,twa)):b("",!0),e("div",{class:"modal fade",id:"reject-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",awa,[e("div",nwa,[e("div",swa,[e("h5",lwa,n(o.$t("Reject Program")),1),e("button",{type:"button",class:"btn-close",id:"update-reject-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,iwa)]),e("div",rwa,[e("div",dwa,[e("h5",cwa,n(o.$t("Are you sure you want to reject the program"))+"?",1)])]),e("div",uwa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"rejected")},n(o.$t("Confirm")),9,_wa)])])])],8,owa),l.can_delete?(u(),f("i",{key:11,class:"ti ti-trash ti-sm text-danger my-auto",title:"Click to Delete Program",style:{cursor:"pointer","font-weight":"bolder"},"data-bs-toggle":"modal","data-bs-target":"#delete-program-"+l.id},null,8,mwa)):b("",!0),e("div",{class:"modal fade",id:"delete-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",hwa,[e("div",pwa,[e("div",vwa,[e("h5",gwa,n(o.$t("Delete Program")),1),e("button",{type:"button",class:"btn-close",id:"delete-program-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,bwa)]),e("div",ywa,[e("div",kwa,[e("h5",$wa,n(o.$t("Are you sure you want to delete the program? This action cannot be undone.")),1)])]),e("div",wwa,[e("button",Dwa,n(o.$t("Cancel")),1),l.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>t.cancelDeleteProgram(l.id)},n(o.$t("Cancel Deletion")),9,xwa)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>t.deleteProgram(l.id)},n(o.$t("Delete")),9,Cwa)])])])],8,fwa)]),l.proposed_update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"changes-details-"+l.id,tabindex:"-1"},[e("div",Ewa,[e("div",Awa,[e("div",Iwa,[e("h5",null,n(o.$t("Program Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"changes-details-close-"+l.id,"aria-label":"Close"},null,8,Rwa)]),e("div",Swa,[l.details_changes?(u(),f("div",Twa,[e("h4",jwa,n(o.$t("General Details")),1),(u(!0),f(G,null,ee(Object.keys(l.details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[t.boolean_columns.includes(r)?b("",!0):(u(),f("div",Owa,[e("span",null,[e("strong",Mwa,n(r.replaceAll("_"," "))+":",1)]),e("span",Lwa,n(Object.values(l.details_changes)[i]),1)])),t.boolean_columns.includes(r)?(u(),f("div",Nwa,[e("span",null,[e("strong",Fwa,n(r.replaceAll("_"," "))+":",1)]),Object.values(l.details_changes)[i]==0?(u(),f("span",Ywa,n(o.$t("From Yes to No")),1)):b("",!0),Object.values(l.details_changes)[i]==1?(u(),f("span",Vwa,n(o.$t("From No to Yes")),1)):b("",!0)])):b("",!0)]))),128)),a[24]||(a[24]=e("hr",null,null,-1))])):b("",!0),l.discount_details_changes?(u(),f("div",Bwa,[e("h4",Uwa,n(o.$t("Discount Details")),1),(u(!0),f(G,null,ee(Object.keys(l.discount_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",qwa,[e("span",null,[e("strong",Hwa,n(r.replaceAll("_"," "))+":",1)]),e("span",zwa,n(Object.values(l.discount_details_changes)[i]),1)])]))),128)),a[25]||(a[25]=e("hr",null,null,-1))])):b("",!0),l.fees_details_changes?(u(),f("div",Wwa,[e("h4",Kwa,n(o.$t("Fee Details")),1),(u(!0),f(G,null,ee(l.fees_details_changes,r=>(u(),f(G,{key:r},[(u(!0),f(G,null,ee(Object.keys(r),(i,d)=>(u(),f("div",{class:"row",key:i},[i!="deleted_at"?(u(),f("div",Gwa,[e("span",null,[e("strong",Qwa,n(i.replaceAll("_"," "))+":",1)]),e("span",Zwa,n(Object.values(r)[d]),1)])):(u(),f("div",Jwa,[e("span",Xwa,n(o.$t("Delete Fee")),1)]))]))),128))],64))),128)),a[26]||(a[26]=e("hr",null,null,-1))])):b("",!0),l.dealer_discount_details_rates?(u(),f("div",e5a,[e("h4",t5a,n(o.$t("Dealer Discount Rates")),1),(u(!0),f(G,null,ee(l.dealer_discount_details_rates,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("div",{class:"col-12",key:d},[e("span",null,[e("strong",o5a,n(p.replaceAll("_"," "))+":",1)]),e("span",a5a,n(d),1)]))),128))]))),128)),a[27]||(a[27]=e("hr",null,null,-1))])):b("",!0),l.bank_details_changes?(u(),f("div",n5a,[e("h4",s5a,n(o.$t("Bank Details")),1),(u(!0),f(G,null,ee(l.bank_details_changes,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("div",{class:"col-6",key:d},[p!="deleted_at"?(u(),f("div",l5a,[p!="program_id"?(u(),f("span",i5a,[e("strong",r5a,n(p.replaceAll("_"," "))+":",1)])):b("",!0),p!="program_id"?(u(),f("span",d5a,n(d),1)):b("",!0)])):(u(),f("div",c5a,[e("span",u5a,[e("strong",null,n(o.$t("Delete Bank Details")),1)])]))]))),128))]))),128)),a[28]||(a[28]=e("hr",null,null,-1))])):b("",!0),(l.fees_details_changes||l.discount_details_changes||l.dealer_discount_details_rates)&&l.vendor_configurations?(u(),f("div",_5a,[e("h4",m5a,n(o.$t("Select Mappings where changes will apply"))+":",1),(u(!0),f(G,null,ee(Object.keys(l.vendor_configurations),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",f5a,[e("div",h5a,[Y(e("input",{class:"form-check-input border-primary","onUpdate:modelValue":a[13]||(a[13]=d=>t.program_ids=d),type:"checkbox",value:Object.values(l.vendor_configurations)[i].id},null,8,p5a),[[Yo,t.program_ids]]),e("label",{for:Object.values(l.vendor_configurations)[i].id,class:"form-label"},n(Object.values(l.vendor_configurations)[i].buyer?Object.values(l.vendor_configurations)[i].buyer.name:Object.values(l.vendor_configurations)[i].company.name)+"("+n(Object.values(l.vendor_configurations)[i].payment_account_number)+")",9,v5a)])])]))),128)),a[29]||(a[29]=e("hr",null,null,-1))])):b("",!0)]),l.can_approve_changes?(u(),f("div",g5a,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveChange(l.id,"reject")},n(o.$t("Reject")),9,b5a),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveChange(l.id,"approve")},n(o.$t("Approve")),9,y5a)])):b("",!0)])])],8,Pwa)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"new-program-"+l.id,tabindex:"-1"},[e("div",$5a,[e("div",w5a,[e("div",D5a,[e("h5",null,n(o.$t("New Program")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"new-program-close-"+l.id,"aria-label":"Close"},null,8,x5a)]),e("div",C5a,[e("span",null,n(o.$t("New Program Awaiting Approval")),1)]),e("div",P5a,[l.can_approve&&!l.deleted_at&&(l.status=="pending"||l.status=="rejected")?(u(),f("button",{key:0,class:"btn btn-sm btn-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#approve-program-"+l.id},n(o.$t("Approve")),9,E5a)):b("",!0),l.can_approve&&!l.deleted_at&&(l.status=="pending"||l.status=="rejected")?(u(),f("button",{key:1,class:"btn btn-sm btn-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#reject-program-"+l.id},n(o.$t("Reject")),9,A5a)):b("",!0)])])])],8,k5a)])]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,class:"px-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)],64)}const R5a=Ue(cka,[["render",I5a],["__scopeId","data-v-397a1778"]]),S5a={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=lt(),t=h([]),c=o.can_add,m=h([]),_=h(null),l=h(null),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),w=h(50),y=async()=>{await A.get("programs/pending/data?per_page="+w.value).then(T=>{t.value=T.data.data}).catch(T=>{console.log(T)})};Qe(()=>{y()});const x=()=>{v.value=[],document.getElementById("select-all").checked?t.value.data.forEach(T=>{T.can_activate&&T.account_status=="suspended"&&(document.getElementById("data-select-"+T.id).checked=!0,v.value.push(T.id))}):t.value.data.forEach(T=>{if(T.can_activate&&T.account_status=="suspended"){document.getElementById("data-select-"+T.id).checked=!1;let P;if(!v.value.filter(function(O,N){P=N,O==T.id}))return!1;v.value.splice(P,1)}})},C=T=>{if(v.value.includes(T)){const P=v.value.indexOf(T);v.value.splice(P,1)}else v.value.push(T)},E=T=>{if(v.value.length<=0){s.error("Select programs");return}const P=new FormData;T=="approve"&&(v.value.forEach(R=>{P.append("programs[]",R)}),P.append("status","active")),A.post(a+o.bank+"/programs/update/status",P).then(()=>{s.success("Programs updated"),g.value="",y(),document.getElementById("approve-programs-close").click()}).catch(R=>{console.log(R),s.error("An error occurred")})},D=T=>{switch(T){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},k=T=>parseFloat(T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),I=(T,P)=>{A.get(`programs/${T}/update/status/${P}`).then(()=>{y(),s.success("Program status updated")}).catch(R=>{console.log(R)})},V=(T,P)=>{A.get(`programs/${T}/status/${P}/update`).then(()=>{y(),s.success("Program approval status updated"),document.getElementById("pending-update-approve-status-close"+T).click(),document.getElementById("pending-update-reject-status-close"+T).click()}).catch(R=>{s.error(R.response.data.message),console.log(R)})};return ot([w],async([T])=>{await A.get("programs/data",{params:{per_page:T,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)})}),ot(g,T=>{v.value.length>0?(m.value=[],T=="approve"&&(v.value.forEach(P=>{m.value.push(t.value.data.filter(R=>R.id==P)[0])}),l.value.click())):s.error("Select Programs")}),{can_add:c,moment:H,programs:t,program_name_search:r,anchor_search:i,status_search:d,type_search:p,per_page:w,selected_data:v,filter:async()=>{let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:w.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value="",i.value="",d.value="",p.value="",await A.get("programs/data",{params:{per_page:w.value}}).then(P=>{t.value=P.data.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},selectAll:x,updateSelected:C,submitBulkAction:E,bulk_action:g,showRejectionModal:_,showApprovalModal:l,resolveProgramStatus:D,NumFormatter:k,updateActiveStatus:I,updateApprovalStatus:V,changePage:async T=>{await A.get(T,{params:{per_page:w.value,name:r.value,anchor:i.value,status:d.value,type:p.value}}).then(P=>{t.value=P.data.data})}}}},T5a={class:"p-1"},j5a={class:"d-flex flex-column flex-md-row justify-content-between"},O5a={class:"d-flex flex-wrap gap-1"},M5a={class:""},L5a={for:"Name",class:"form-label"},N5a={class:""},F5a={for:"Name",class:"form-label"},Y5a={class:""},V5a={for:"Program Type",class:"form-label"},B5a={value:""},U5a={value:"vendor_financing_receivable"},q5a={value:"factoring_with_recourse"},H5a={value:"factoring_without_recourse"},z5a={value:"dealer_financing"},W5a={class:""},K5a={for:"Name",class:"form-label"},G5a={value:""},Q5a={value:"approve"},Z5a={class:"table-search-btn"},J5a={class:"table-clear-btn"},X5a={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},eDa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},tDa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},oDa={class:"modal-content"},aDa={class:"modal-header"},nDa={class:"modal-title",id:"modalCenterTitle"},sDa={class:"modal-body"},lDa={class:"modal-footer"},iDa={class:"btn btn-primary",type:"submit"},rDa={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},dDa={class:""},cDa={class:"table-responsive"},uDa={class:"table"},_Da={class:""},mDa={class:"form-check"},fDa={class:"table-border-bottom-0"},hDa={key:0},pDa={colspan:"12",class:"text-center"},vDa={class:"text-center"},gDa={key:1},bDa={colspan:"12",class:"text-center"},yDa={class:"text-center"},kDa={class:"form-check"},$Da=["id","onChange"],wDa={class:"text-primary"},DDa={class:"d-flex"},xDa=["href"],CDa={key:1},PDa=["title"],EDa=["title"],ADa=["title"],IDa={class:"text-primary text-decoration-underline"},RDa=["href"],SDa={key:1},TDa={class:""},jDa={class:"text-success"},ODa={class:"text-success"},MDa={class:""},LDa={class:"d-flex"},NDa=["title","data-bs-target","onClick"],FDa=["title","data-bs-target","onClick"],YDa=["href","title"],VDa=["href","title"],BDa={key:4,class:"d-flex"},UDa=["href","title"],qDa=["href","title"],HDa={key:5,class:"d-flex"},zDa=["href","title"],WDa=["title","onClick"],KDa=["title","onClick"],GDa=["title","data-bs-target"],QDa=["id"],ZDa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},JDa={class:"modal-content"},XDa={class:"modal-header"},e3a={class:"modal-title",id:"modalCenterTitle"},t3a=["id"],o3a={class:"modal-body"},a3a={class:"row mb-1"},n3a={class:"text-wrap"},s3a={class:"modal-footer"},l3a=["onClick"],i3a=["data-bs-target"],r3a=["id"],d3a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},c3a={class:"modal-content"},u3a={class:"modal-header"},_3a={class:"modal-title",id:"modalCenterTitle"},m3a=["id"],f3a={class:"modal-body"},h3a={class:"row mb-1"},p3a={class:"text-wrap"},v3a={class:"modal-footer"},g3a=["onClick"],b3a=["data-bs-target"],y3a=["id"],k3a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},$3a={class:"modal-content"},w3a={class:"modal-header"},D3a={class:"modal-title",id:"modalCenterTitle"},x3a=["id"],C3a={class:"modal-body"},P3a={class:"row mb-1"},E3a={class:"text-wrap"},A3a={class:"modal-footer"},I3a={class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal"},R3a=["onClick"],S3a=["onClick"],T3a=["id"],j3a={class:"modal-dialog"},O3a={class:"modal-content"},M3a={class:"modal-header"},L3a=["id"],N3a={class:"modal-body"},F3a={key:0},Y3a={class:"mb-0"},V3a={key:0,class:"col-12"},B3a={class:"change_title"},U3a={class:"mx-2"},q3a={key:1,class:"col-12"},H3a={class:"change_title"},z3a={key:0,class:"mx-2"},W3a={key:1,class:"mx-2"},K3a={key:1},G3a={class:"mb-0"},Q3a={class:"col-12"},Z3a={class:"change_title"},J3a={class:"mx-2"},X3a={key:2},exa={class:"mb-0"},txa={key:0,class:"col-12"},oxa={class:"change_title"},axa={class:"mx-2"},nxa={key:1,class:"col-12"},sxa={class:""},lxa={key:3},ixa={class:"mb-0"},rxa={class:"change_title"},dxa={class:"mx-2"},cxa={key:4},uxa={class:"mb-0"},_xa={class:"col-12"},mxa={class:"change_title"},fxa={class:"mx-2"},hxa={key:5},pxa={class:"mb-0"},vxa={class:"col-12"},gxa={class:"form-check"},bxa=["value"],yxa=["for"],kxa={key:0,class:"modal-footer"},$xa=["onClick"],wxa=["onClick"],Dxa=["id"],xxa={class:"modal-dialog"},Cxa={class:"modal-content"},Pxa={class:"modal-header"},Exa=["id"],Axa={class:"modal-body"},Ixa={class:"modal-footer"},Rxa=["title","data-bs-target"],Sxa=["data-bs-target"];function Txa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",T5a,[e("div",j5a,[e("div",O5a,[e("div",M5a,[e("label",L5a,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.program_name_search]])]),e("div",N5a,[e("label",F5a,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.anchor_search]])]),e("div",Y5a,[e("label",V5a,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[3]||(a[3]=l=>t.type_search=l)},[e("option",B5a,n(o.$t("Program Type")),1),e("option",U5a,n(o.$t("Vendor Financing Receivable")),1),e("option",q5a,n(o.$t("Factoring With Recourse")),1),e("option",H5a,n(o.$t("Factoring Without Recourse")),1),e("option",z5a,n(o.$t("Dealer Financing")),1)],512),[[de,t.type_search]])]),e("div",W5a,[e("label",K5a,n(o.$t("Bulk Actions")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.bulk_action=l)},[e("option",G5a,n(o.$t("Bulk Actions")),1),e("option",Q5a,n(o.$t("Approve")),1)],512),[[de,t.bulk_action]])]),e("div",Z5a,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",J5a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",X5a,null,512),e("div",eDa,[e("div",tDa,[e("div",oDa,[e("div",aDa,[e("h5",nDa,n(o.$t("Approve Programs")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"approve-programs-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[7]||(a[7]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",sDa,[e("h5",null,n(o.$t("Are you sure you want to approve the selected programs"))+"?",1)]),e("div",lDa,[e("button",iDa,n(o.$t("Submit")),1)])],32)])])])]),e("div",rDa,[e("div",dDa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])])])]),t.programs.meta?(u(),me(_,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",cDa,[e("table",uDa,[e("thead",null,[e("tr",_Da,[e("th",null,[e("div",mDa,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[9]||(a[9]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",fDa,[t.programs.data?b("",!0):(u(),f("tr",hDa,[e("td",pDa,[e("span",vDa,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",gDa,[e("td",bDa,[e("span",yDa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("div",kDa,[l.can_activate&&l.account_status=="suspended"?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,$Da)):b("",!0)])]),e("td",wDa,[e("div",DDa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,xDa)):(u(),f("span",CDa,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Limit is almost depleted")},null,8,PDa)):b("",!0),l.proposed_update_count>0?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,EDa)):b("",!0),l.account_status=="pending"?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,ADa)):b("",!0)])]),e("td",IDa,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,RDa)):(u(),f("span",SDa,n(l.anchor.name),1))]),e("td",TDa,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",jDa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.program_limit)),1),e("td",ODa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",MDa,[e("div",LDa,[l.account_status=="active"&&(l.status=="active"||l.proposed_update)&&l.can_view?(u(),f("i",{key:0,class:"ti ti-clock ti-sm text-danger",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#pending-changes-details-"+l.id,style:{cursor:"pointer"},onClick:r=>o.addVendorConfigurations(l)},null,8,NDa)):b("",!0),l.account_status=="suspended"&&!l.proposed_update&&l.can_view?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary",title:o.$t("Program Creation/Updation awaiting approval"),"data-bs-toggle":"modal","data-bs-target":"#new-program-"+l.id,style:{cursor:"pointer"},onClick:r=>o.addVendorConfigurations(l)},null,8,FDa)):b("",!0),!l.proposed_update&&l.can_view?(u(),f("a",{key:2,href:"programs/"+l.id+"/details",class:"mx-1",title:o.$t("View Program Details")},a[15]||(a[15]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,YDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit?(u(),f("a",{key:3,href:"programs/"+l.id+"/edit",class:"mx-1",title:o.$t("Edit Program")},a[16]||(a[16]=[e("i",{class:"ti ti-pencil ti-sm text-warning"},null,-1)]),8,VDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Vendor Financing"?(u(),f("div",BDa,[l.program_code.name=="Vendor Financing Receivable"?(u(),f("a",{key:0,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Vendors")},a[17]||(a[17]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,UDa)):(u(),f("a",{key:1,href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Buyers")},a[18]||(a[18]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,qDa))])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_edit&&l.program_type.name=="Dealer Financing"?(u(),f("div",HDa,[e("a",{href:"programs/"+l.id+"/vendors-manage",class:"",title:o.$t("Manage Dealers")},a[19]||(a[19]=[e("i",{class:"ti ti-users ti-sm text-info"},null,-1)]),8,zDa)])):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="active"&&l.utilized==0&&l.pipeline==0?(u(),f("i",{key:6,class:"ti ti-thumb-up ti-sm text-success mx-1 my-auto",title:o.$t("Click to Suspend Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"suspended")},null,8,WDa)):b("",!0),!l.proposed_update&&!l.deleted_at&&l.status=="approved"&&l.can_activate&&l.account_status=="suspended"?(u(),f("i",{key:7,class:"ti ti-thumb-down ti-sm text-danger mx-1 my-auto",title:o.$t("Click to Activate Program"),style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l,"active")},null,8,KDa)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:8,class:"ti ti-check ti-sm text-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-approve-program-"+l.id},null,8,GDa)):b("",!0),e("div",{class:"modal fade",id:"pending-approve-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",ZDa,[e("div",JDa,[e("div",XDa,[e("h5",e3a,n(o.$t("Approve Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-update-approve-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,t3a)]),e("div",o3a,[e("div",a3a,[e("h5",n3a,n(o.$t("Are you sure you want to approve the program?")),1)])]),e("div",s3a,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approved")},n(o.$t("Confirm")),9,l3a)])])])],8,QDa),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("i",{key:9,class:"ti ti-circle-x ti-sm text-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-reject-program-"+l.id},null,8,i3a)):b("",!0),e("div",{class:"modal fade",id:"pending-reject-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",d3a,[e("div",c3a,[e("div",u3a,[e("h5",_3a,n(o.$t("Reject Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-update-reject-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,m3a)]),e("div",f3a,[e("div",h3a,[e("h5",p3a,n(o.$t("Are you sure you want to reject the program"))+"?",1)])]),e("div",v3a,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"rejected")},n(o.$t("Confirm")),9,g3a)])])])],8,r3a),l.can_delete?(u(),f("i",{key:10,class:"ti ti-trash ti-sm text-danger mx-1 my-auto",title:"Click to Delete Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-delete-program-"+l.id},null,8,b3a)):b("",!0),e("div",{class:"modal fade",id:"pending-delete-program-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",k3a,[e("div",$3a,[e("div",w3a,[e("h5",D3a,n(o.$t("Delete Program")),1),e("button",{type:"button",class:"btn-close",id:"pending-delete-program-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,x3a)]),e("div",C3a,[e("div",P3a,[e("h5",E3a,n(o.$t("Are you sure you want to delete the program? This action cannot be undone.")),1)])]),e("div",A3a,[e("button",I3a,n(o.$t("Cancel")),1),l.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>o.cancelDeleteProgram(l.id)},n(o.$t("Cancel Deletion")),9,R3a)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>o.deleteProgram(l.id)},n(o.$t("Delete")),9,S3a)])])])],8,y3a)]),l.proposed_update?(u(),f("div",{key:0,class:"modal modal-top fade modal-xl",id:"pending-changes-details-"+l.id,tabindex:"-1"},[e("div",j3a,[e("div",O3a,[e("div",M3a,[e("h5",null,n(o.$t("Program Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"pending-changes-details-close-"+l.id,"aria-label":"Close"},null,8,L3a)]),e("div",N3a,[l.details_changes?(u(),f("div",F3a,[e("h4",Y3a,n(o.$t("General Details")),1),(u(!0),f(G,null,ee(Object.keys(l.details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[o.boolean_columns.includes(r)?b("",!0):(u(),f("div",V3a,[e("span",null,[e("strong",B3a,n(r.replaceAll("_"," "))+":",1)]),e("span",U3a,n(Object.values(l.details_changes)[i]),1)])),o.boolean_columns.includes(r)?(u(),f("div",q3a,[e("span",null,[e("strong",H3a,n(r.replaceAll("_"," "))+":",1)]),Object.values(l.details_changes)[i]==0?(u(),f("span",z3a,n(o.$t("From Yes to No")),1)):b("",!0),Object.values(l.details_changes)[i]==1?(u(),f("span",W3a,n(o.$t("From No to Yes")),1)):b("",!0)])):b("",!0)]))),128)),a[20]||(a[20]=e("hr",null,null,-1))])):b("",!0),l.discount_details_changes?(u(),f("div",K3a,[e("h4",G3a,n(o.$t("Discount Details")),1),(u(!0),f(G,null,ee(Object.keys(l.discount_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",Q3a,[e("span",null,[e("strong",Z3a,n(r.replaceAll("_"," "))+":",1)]),e("span",J3a,n(Object.values(l.discount_details_changes)[i]),1)])]))),128)),a[21]||(a[21]=e("hr",null,null,-1))])):b("",!0),l.fees_details_changes?(u(),f("div",X3a,[e("h4",exa,n(o.$t("Fee Details")),1),(u(!0),f(G,null,ee(l.fees_details_changes,r=>(u(),f(G,{key:r},[(u(!0),f(G,null,ee(Object.keys(r),(i,d)=>(u(),f("div",{class:"row",key:i},[i!="deleted_at"?(u(),f("div",txa,[e("span",null,[e("strong",oxa,n(i.replaceAll("_"," "))+":",1)]),e("span",axa,n(Object.values(r)[d]),1)])):(u(),f("div",nxa,[e("span",sxa,n(o.$t("Delete Fee")),1)]))]))),128))],64))),128)),a[22]||(a[22]=e("hr",null,null,-1))])):b("",!0),l.dealer_discount_details_rates?(u(),f("div",lxa,[e("h4",ixa,n(o.$t("Dealer Discount Rates")),1),(u(!0),f(G,null,ee(l.dealer_discount_details_rates,(r,i)=>(u(),f("div",{class:"row",key:i},[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("div",{class:"col-12",key:d},[e("span",null,[e("strong",rxa,n(p.replaceAll("_"," "))+":",1)]),e("span",dxa,n(d),1)]))),128))]))),128)),a[23]||(a[23]=e("hr",null,null,-1))])):b("",!0),l.bank_details_changes?(u(),f("div",cxa,[e("h4",uxa,n(o.$t("Bank Details")),1),(u(!0),f(G,null,ee(Object.keys(l.bank_details_changes),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",_xa,[e("span",null,[e("strong",mxa,n(r.replaceAll("_"," "))+":",1)]),e("span",fxa,n(Object.values(l.bank_details_changes)[i]),1)])]))),128)),a[24]||(a[24]=e("hr",null,null,-1))])):b("",!0),(l.fees_details_changes||l.discount_details_changes||l.dealer_discount_details_rates)&&l.vendor_configurations?(u(),f("div",hxa,[e("h4",pxa,n(o.$t("Select Mappings where changes will apply"))+":",1),(u(!0),f(G,null,ee(Object.keys(l.vendor_configurations),(r,i)=>(u(),f("div",{class:"row",key:r},[e("div",vxa,[e("div",gxa,[Y(e("input",{class:"form-check-input border-primary","onUpdate:modelValue":a[10]||(a[10]=d=>o.program_ids=d),type:"checkbox",value:Object.values(l.vendor_configurations)[i].id},null,8,bxa),[[Yo,o.program_ids]]),e("label",{for:Object.values(l.vendor_configurations)[i].id,class:"form-label"},n(Object.values(l.vendor_configurations)[i].buyer?Object.values(l.vendor_configurations)[i].buyer.name:Object.values(l.vendor_configurations)[i].company.name)+"("+n(Object.values(l.vendor_configurations)[i].payment_account_number)+")",9,yxa)])])]))),128)),a[25]||(a[25]=e("hr",null,null,-1))])):b("",!0)]),l.can_approve_changes?(u(),f("div",kxa,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>o.approveChange(l.id,"reject")},n(o.$t("Reject")),9,$xa),e("button",{class:"btn btn-sm btn-primary",onClick:r=>o.approveChange(l.id,"approve")},n(o.$t("Approve")),9,wxa)])):b("",!0)])])],8,T3a)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"new-program-"+l.id,tabindex:"-1"},[e("div",xxa,[e("div",Cxa,[e("div",Pxa,[e("h5",null,n(o.$t("New Program")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"new-program-close-"+l.id,"aria-label":"Close"},null,8,Exa)]),e("div",Axa,[e("span",null,n(o.$t("New Program Awaiting Approval")),1)]),e("div",Ixa,[l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("button",{key:0,class:"btn btn-sm btn-success mx-1 my-auto",title:o.$t("Click to Approve Program"),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-approve-program-"+l.id},n(o.$t("Approve")),9,Rxa)):b("",!0),l.can_approve&&!l.deleted_at&&l.status=="pending"?(u(),f("button",{key:1,class:"btn btn-sm btn-danger mx-1 my-auto",title:"Click to Reject Program",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#pending-reject-program-"+l.id},n(o.$t("Reject")),9,Sxa)):b("",!0)])])])],8,Dxa)])]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const jxa=Ue(S5a,[["render",Txa]]),Oxa={name:"ManageVendors",props:["bank","program","type","can_edit_mapping","manage","date_format"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.date_format,s=o.can_edit_mapping,t=o.manage,c=o.program,m=o.type,_=Je("baseURL"),l=lt(),r=h([]),i=h(""),d=o.bank,p=h([]),v=h(""),g=h(null),w=h(null),y=h(""),x=h(50),C=async()=>{await A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:x.value,name:y.value}}).then(oe=>{r.value=oe.data})},E=oe=>{if(p.value.includes(oe)){const J=p.value.indexOf(oe);p.value.splice(J,1)}else p.value.push(oe)},D=()=>{document.getElementById("select-all").checked?r.value.data.forEach(oe=>{document.getElementById("company-"+oe.id)&&(document.getElementById("company-"+oe.id).checked=!0,p.value.push(oe.id))}):r.value.data.forEach(oe=>{if(document.getElementById("company-"+oe.id)){document.getElementById("company-"+oe.id).checked=!1;let J;if(!p.value.filter(function(z,ae){J=ae,z==oe.id}))return!1;p.value.splice(J,1)}})},k=oe=>{let J="";switch(oe){case"active":J="bg-label-primary";break;case"inactive":J="bg-label-danger";break;default:J="bg-label-primary";break}return J};ot([x],([oe])=>{A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:oe,name:y.value}}).then(J=>{r.value=J.data})});const I=()=>{let oe=$(".ti-search").parent();oe.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:x.value,name:y.value}}).then(J=>{r.value=J.data,oe.html('<i class="ti ti-search"></i>')})},V=()=>{y.value="";let oe=$(".ti-refresh").parent();oe.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data",{params:{per_page:x.value}}).then(J=>{r.value=J.data,oe.html('<i class="ti ti-refresh"></i>')})};ot(v,oe=>{p.value.length>0?(oe=="inactive"&&g.value.click(),oe=="active"&&w.value.click()):l.error("Select Companies")});const B=oe=>{if(p.value.length<=0){l.error("Select companies");return}const J=new FormData;p.value.forEach(K=>{J.append("companies[]",K)}),J.append("status",oe),J.append("rejection_reason",i.value),A.post(_+o.bank+"/programs/"+o.program+"/mapping/approval/update",J).then(()=>{C(),v.value="",i.value="",document.getElementById("select-all").checked=!1,oe=="approve"?document.getElementById("close-activate-modal").click():document.getElementById("close-deactiveate-modal").click(),p.value.forEach(K=>{document.getElementById("company-"+K).checked=!1}),l.success("Mapping status updated")}).catch(K=>{console.log(K),l.error("An error occurred")})},L=oe=>{if(p.value.length<=0){l.error("Select companies");return}const J=new FormData;oe=="inactive"&&(p.value.forEach(K=>{J.append("companies[]",K)}),J.append("status","inactive")),oe=="active"&&(p.value.forEach(K=>{J.append("companies[]",K)}),J.append("status","active")),A.post(_+o.bank+"/programs/"+o.program+"/mapping/update",J).then(()=>{C(),v.value="",document.getElementById("select-all").checked=!1,oe=="inactive"?document.getElementById("close-deactivate-modal").click():document.getElementById("close-activate-modal").click(),p.value.forEach(K=>{document.getElementById("company-"+K).checked=!1}),l.success("Mapping status updated")}).catch(K=>{console.log(K),l.error("An error occurred")})},F=oe=>{A.get(_+o.bank+"/programs/"+o.program+"/"+oe+"/mapping/update").then(()=>{C(),l.success("Mapping status updated"),document.getElementById("update-company-mapping-status-close-"+oe).click()}).catch(J=>{l.error(J.response.data.message),console.log(J)})},T=oe=>{A.get(_+o.bank+"/programs/"+o.program+"/"+oe+"/mapping/block/status/update").then(J=>{C(),l.success(J.data.message),document.getElementById("update-block-"+oe).click()}).catch(J=>{l.error(J.response.data.message),console.log(J)})},P=(oe,J)=>{A.post(_+o.bank+"/programs/"+o.program+"/"+oe+"/mapping/approval/update",{status:J,rejection_reason:i.value}).then(()=>{C(),i.value="",l.success("Mapping status updated successfully"),J=="approve"?document.getElementById("approve-mapping-status-close-"+oe).click():document.getElementById("reject-mapping-status-close-"+oe).click()}).catch(K=>{console.log(K)})},R=(oe,J,K)=>{A.get("mapping/company/"+J+"/changes/approve/"+K).then(z=>{C(),l.success(z.data.message),document.getElementById("vendor-mapping-changes-details-close-"+J).click()}).catch(z=>{console.log(z),l.error("An error occurred")})},O=oe=>{A.delete("mapping/"+oe+"/delete").then(J=>{document.getElementById("delete-mapping-"+oe).click(),l.success(J.data.message),C()}).catch(J=>{l.error(J.response.data.message)})},N=oe=>{A.get("mapping/"+oe+"/delete/cancel").then(J=>{l.success(J.data.message),document.getElementById("delete-mapping-"+oe).click(),C()}).catch(J=>{l.error(J.response.data.message)})},S=oe=>{let J=[];return oe.forEach(K=>{J.push(K.name)}),!!(J.length>0&&J.includes("anchor"))};return Qe(()=>{C()}),{base_url:_,bank:d,companies:r,moment:H,rejection_reason:i,can_edit_mapping:s,manage:t,program_id:c,vendors_type:m,name_search:y,per_page:x,filter:I,refresh:V,bulk_action:v,showRejectionModal:g,showApprovalModal:w,deleteMapping:O,selectAll:D,updateSelected:E,resolveStatus:k,updateActiveStatus:F,submitBulkAction:L,updateApprovalStatus:P,changePage:async oe=>{await A.get(oe+"&per_page="+x.value,{params:{name:y.value}}).then(J=>{r.value=J.data})},hasAnchorRole:S,approveConfigChange:R,cancelDeleteMapping:N,submitBulkApproval:B,date_format:a,updateBlockStatus:T,exportData:async()=>{await A.get(_+o.bank+"/programs/"+o.program+"/vendors-manage/data/export",{responseType:"arraybuffer",method:"GET",params:{name:y.value}}).then(oe=>{const J=window.URL.createObjectURL(new Blob([oe.data])),K=document.createElement("a");K.href=J,K.setAttribute("download",`Mappings_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(K),K.click()}).catch(oe=>{console.log(oe)})}}}},Mxa={class:"card p-2",id:"companies"},Lxa={class:"d-flex flex-column flex-md-row justify-content-between"},Nxa={class:"d-flex flex-wrap gap-1"},Fxa={class:"form-group"},Yxa={for:"Name",class:"form-label"},Vxa={class:"form-group"},Bxa={for:"Bulk Actions",class:"form-label"},Uxa={value:""},qxa={value:"active"},Hxa={value:"inactive"},zxa={class:"table-search-btn"},Wxa={class:"table-clear-btn"},Kxa={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},Gxa={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},Qxa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Zxa={class:"modal-content"},Jxa={class:"modal-header"},Xxa={class:"modal-title",id:"modalCenterTitle"},eCa={class:"modal-body"},tCa={class:"modal-footer"},oCa={class:"btn btn-primary",type:"submit"},aCa={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},nCa={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},sCa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},lCa={class:"modal-content"},iCa={class:"modal-header"},rCa={class:"modal-title",id:"modalCenterTitle"},dCa={class:"modal-body"},cCa={class:"modal-footer"},uCa={class:"btn btn-primary",type:"submit"},_Ca={class:"d-flex justify-content-end mt-2 mt-md-auto gap-1"},mCa={class:""},fCa={class:"table-responsive"},hCa={class:"table"},pCa={class:""},vCa={class:"px-1 py-auto"},gCa={class:"form-check"},bCa={key:0},yCa={class:"table-border-bottom-0"},kCa={key:0},$Ca={colspan:"12",class:"text-center"},wCa={class:"text-center"},DCa={key:1},xCa={colspan:"12",class:"text-center"},CCa={class:"text-center"},PCa={class:"px-1"},ECa={class:"form-check"},ACa=["id","onChange"],ICa={class:"text-primary text-decoration-underline"},RCa=["href"],SCa={key:1},TCa={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},jCa=["title"],OCa={key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Mapping Creation/Updation Awaiting Approval"},MCa={key:5,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Mapping Deletion Awaiting Approval"},LCa=["title"],NCa=["data-bs-target"],FCa={class:""},YCa={class:""},VCa={class:""},BCa={class:""},UCa={key:0,class:""},qCa={class:"d-flex gap-1"},HCa=["data-bs-target"],zCa=["data-bs-target"],WCa=["data-bs-target"],KCa=["data-bs-target"],GCa=["data-bs-target"],QCa=["title"],ZCa=["id"],JCa={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},XCa={class:"modal-content"},ePa={class:"modal-header"},tPa={class:"modal-title",id:"modalCenterTitle"},oPa=["id"],aPa={class:"modal-body"},nPa={class:"table"},sPa=["data-bs-target"],lPa=["data-bs-target"],iPa=["id"],rPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},dPa={class:"modal-content"},cPa={class:"modal-header"},uPa={class:"modal-title",id:"modalCenterTitle"},_Pa=["id"],mPa={class:"modal-body"},fPa={class:"row mb-1"},hPa={class:"text-wrap"},pPa={class:"modal-footer"},vPa=["onClick"],gPa=["id"],bPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},yPa={class:"modal-content"},kPa={class:"modal-header"},$Pa={class:"modal-title",id:"modalCenterTitle"},wPa=["id"],DPa={class:"modal-body"},xPa={class:"row mb-1"},CPa={class:"text-wrap"},PPa={class:"modal-footer"},EPa=["onClick"],APa=["id"],IPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},RPa={class:"modal-content"},SPa={class:"modal-header"},TPa={key:0,class:"modal-title",id:"modalCenterTitle"},jPa={key:1,class:"modal-title",id:"modalCenterTitle"},OPa=["id"],MPa={class:"modal-body"},LPa={class:"row mb-1"},NPa={key:0,class:"text-wrap"},FPa={key:1,class:"text-wrap"},YPa={class:"modal-footer"},VPa=["onClick"],BPa=["data-bs-target"],UPa=["id"],qPa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},HPa={class:"modal-content"},zPa={class:"modal-header"},WPa={class:"modal-title",id:"modalCenterTitle"},KPa=["id"],GPa={class:"modal-body"},QPa={class:"mb-1"},ZPa={class:"text-wrap"},JPa={class:"modal-footer"},XPa=["onClick"],e4a=["data-bs-target"],t4a=["href"],o4a=["href"],a4a=["data-bs-target"],n4a=["id"],s4a={class:"modal-dialog"},l4a={class:"modal-content"},i4a={class:"modal-header"},r4a=["id"],d4a={class:"modal-body"},c4a={class:"row"},u4a={class:"col-6"},_4a={key:0,class:"m_title"},m4a={key:1,class:"m_title"},f4a={key:2,class:"m_title"},h4a={key:3,class:"m_title"},p4a={key:4,class:"m_title"},v4a={class:"col-6"},g4a={key:0,class:"m_title"},b4a={key:0},y4a={class:"col-6"},k4a={key:0},$4a={class:"col-6"},w4a={key:0,class:"modal-footer"},D4a=["onClick"],x4a=["onClick"],C4a=["id"],P4a={class:"modal-dialog"},E4a={class:"modal-content"},A4a={class:"modal-header"},I4a={class:"modal-title",id:"modalTopTitle"},R4a={class:"modal-body"},S4a={class:"row"},T4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},j4a={class:"mr-2 fw-light"},O4a={class:"px-2 text-right"},M4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},L4a={class:"mr-2 fw-light"},N4a={class:"px-2 text-right"},F4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},Y4a={class:"mr-2 fw-light"},V4a={class:"px-2 text-right"},B4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},U4a={class:"mr-2 fw-light"},q4a={class:"px-2 text-right"},H4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},z4a={class:"mr-2 fw-light"},W4a={class:"px-2 text-right"},K4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},G4a={class:"mr-2 fw-light"},Q4a={class:"px-2 text-right"},Z4a={class:"col-sm-4 text-align-center d-flex justify-content-between"},J4a={class:"mr-2 fw-light"},X4a={class:"px-2 text-right"},eEa={class:"col-sm-4 text-align-center d-flex justify-content-between"},tEa={class:"mr-2 fw-light"},oEa={class:"px-2 text-right"},aEa={class:"col-sm-4 text-align-center d-flex justify-content-between"},nEa={class:"mr-2 fw-light"},sEa={class:"px-2 text-right"},lEa={class:"col-sm-4 text-align-center d-flex justify-content-between"},iEa={class:"mr-2 fw-light"},rEa={class:"px-2 text-right"},dEa={key:0,class:"col-sm-4 text-align-center d-flex justify-content-between"},cEa={class:"mr-2 fw-light"},uEa={class:"px-2 text-right"},_Ea={class:""},mEa={class:""},fEa={class:"table-responsive"},hEa={class:"table"},pEa={key:0},vEa={key:1},gEa={key:2},bEa={key:3},yEa={key:4},kEa={class:"table-border-bottom-0 text-nowrap"},$Ea={key:0},wEa={key:1},DEa={key:2},xEa={key:3},CEa={class:"py-1r"},PEa={class:""},EEa={class:"table-responsive"},AEa={class:"table"},IEa={key:0},REa={key:1},SEa={key:2},TEa={key:3},jEa={class:"table-border-bottom-0 text-nowrap"},OEa={class:"m_title"},MEa={key:0},LEa={key:1},NEa={key:2},FEa={key:0,title:"Daily"},YEa={key:1},VEa={key:0},BEa={class:"py-1r"},UEa={class:""},qEa={class:"table-responsive"},HEa={class:"table"},zEa={class:"table-border-bottom-0 text-nowrap"},WEa=["data-bs-target"],KEa=["id"],GEa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},QEa={class:"modal-content"},ZEa={class:"modal-header"},JEa={class:"modal-title",id:"modalCenterTitle"},XEa={class:"modal-body"},eAa={class:"row mb-1"},tAa={class:"text-wrap"},oAa={class:"modal-footer"},aAa=["id"],nAa=["onClick"],sAa=["onClick"];function lAa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",Mxa,[e("div",Lxa,[e("div",Nxa,[e("div",Fxa,[e("label",Yxa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.name_search]])]),e("div",Vxa,[e("label",Bxa,n(o.$t("Bulk Action")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.bulk_action=l)},[e("option",Uxa,n(o.$t("Bulk Actions")),1),e("option",qxa,n(o.$t("Approve")),1),e("option",Hxa,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("div",zxa,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Wxa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))]),e("button",Kxa,null,512),e("div",Gxa,[e("div",Qxa,[e("div",Zxa,[e("div",Jxa,[e("h6",Xxa,n(o.$t("Approve Mappings")),1),a[13]||(a[13]=e("button",{type:"button",class:"btn-close",id:"close-activate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[4]||(a[4]=st(l=>t.submitBulkApproval("approve"),["prevent"]))},[e("div",eCa,[e("h4",null,n(o.$t("Are you sure you want to approve these companies in the program"))+"?",1)]),e("div",tCa,[e("button",oCa,n(o.$t("Confirm")),1)])],32)])])]),e("button",aCa,null,512),e("div",nCa,[e("div",sCa,[e("div",lCa,[e("div",iCa,[e("h6",rCa,n(o.$t("Reject Mappings")),1),a[14]||(a[14]=e("button",{type:"button",class:"btn-close",id:"close-deactivate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[6]||(a[6]=st(l=>t.submitBulkApproval("reject"),["prevent"]))},[e("div",dCa,[e("h4",null,n(o.$t("Are you sure you want to reject these mappings in the program"))+"?",1),Y(e("textarea",{name:"rejection_reason","onUpdate:modelValue":a[5]||(a[5]=l=>t.rejection_reason=l),class:"form-control",placeholder:"Enter Rejection Reason",rows:"5",id:""},null,512),[[X,t.rejection_reason]])]),e("div",cCa,[e("button",uCa,n(o.$t("Confirm")),1)])],32)])])])]),e("div",_Ca,[e("div",mCa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...l)=>t.exportData&&t.exportData(...l))},[a[16]||(a[16]=e("i",{class:"ti ti-download ti-xs"},null,-1)),le(" "+n(o.$t("Excel")),1)])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",fCa,[e("table",hCa,[e("thead",null,[e("tr",pCa,[e("th",vCa,[e("div",gCa,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[9]||(a[9]=l=>t.selectAll())},null,32)])]),e("th",null,n(t.vendors_type=="buyers"?o.$t("Anchor"):o.$t("Vendor")),1),e("th",null,n(o.$t("Payment/OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Amount")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Status")),1),t.manage?(u(),f("th",bCa,n(o.$t("Actions")),1)):b("",!0)])]),e("tbody",yCa,[t.companies.data?b("",!0):(u(),f("tr",kCa,[e("td",$Ca,[e("span",wCa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",DCa,[e("td",xCa,[e("span",CCa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",PCa,[e("div",ECa,[l.vendor_configuration.can_approve&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"company-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,ACa)):b("",!0)])]),e("td",ICa,[e("span",null,[l.can_view?(u(),f("a",{key:0,href:"../../companies/"+l.id+"/details"},n(l.name),9,RCa)):(u(),f("span",SCa,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",TCa)):b("",!0),l.utilized_percentage_ratio>90?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+l.utilized_percentage_ratio+"% utilized"},null,8,jCa)):b("",!0),l.changes?(u(),f("i",OCa)):b("",!0),l.vendor_configuration.deleted_at?(u(),f("i",MCa)):b("",!0),l.vendor_configuration.rejection_reason?(u(),f("i",{key:6,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Rejection Reason : "+l.vendor_configuration.rejection_reason},null,8,LCa)):b("",!0)])]),e("td",{class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id,style:{cursor:"pointer"}},[e("span",null,n(l.vendor_configuration.payment_account_number),1)],8,NCa),e("td",FCa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("td",YCa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.utilized_amount.toFixed(2))),1)]),e("td",VCa,[e("span",null,n(new Intl.NumberFormat().format(l.vendor_configuration.pipeline_amount.toFixed(2))),1)]),e("td",BCa,[e("span",null,n(new Intl.NumberFormat().format((l.vendor_configuration.sanctioned_limit-l.vendor_configuration.utilized_amount-l.vendor_configuration.pipeline_amount).toFixed(2))),1)]),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.vendor_configuration.status))},n(l.vendor_configuration.status),3)]),t.manage?(u(),f("td",UCa,[e("div",qCa,[!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit&&l.vendor_configuration.status=="active"&&l.vendor_configuration.utilized_amount==0&&l.vendor_configuration.pipeline_amount==0?(u(),f("a",{key:0,href:"#","data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},a[17]||(a[17]=[e("i",{class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Company Mapping"},null,-1)]),8,HCa)):b("",!0),!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit&&l.vendor_configuration.status=="inactive"?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#update-active-status-"+l.id},a[18]||(a[18]=[e("i",{class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Company Mapping"},null,-1)]),8,zCa)):b("",!0),!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:2,href:"#","data-bs-toggle":"modal","data-bs-target":"#pending-approval-mapping-"+l.id},a[19]||(a[19]=[e("i",{class:"ti ti-clock ti-sm text-primary",title:"Pending Approval"},null,-1)]),8,WCa)):b("",!0),l.vendor_configuration.can_approve&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:3,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-mapping-"+l.id},a[20]||(a[20]=[e("i",{class:"ti ti-check ti-sm text-success",title:"Click to Approve Mapping"},null,-1)]),8,KCa)):b("",!0),!l.changes&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&l.can_edit?(u(),f("a",{key:4,href:"#","data-bs-toggle":"modal","data-bs-target":"#block-"+l.id},[e("i",{class:rt(l.vendor_configuration.is_blocked?"ti ti-hand-off ti-sm text-danger":"ti ti-hand-stop ti-sm text-success"),title:l.vendor_configuration.is_blocked?"Click to UNBLOCK company from creating invoice and making requests":"Click to BLOCK company from creating invoice and making requests"},null,10,QCa)],8,GCa)):b("",!0),!l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_rejected?(u(),f("div",{key:5,class:"modal fade",id:"pending-approval-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",JCa,[e("div",XCa,[e("div",ePa,[e("h6",tPa,n(o.$t("Pending Approval")),1),e("button",{type:"button",class:"btn-close",id:"update-active-status-close"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,oPa)]),e("div",aPa,[e("table",nPa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Approval Type")),1),e("th",null,n(o.$t("Proposed By")),1),e("th",null,n(o.$t("Date Created")),1),e("th",null,n(o.$t("Proposed Value(s)")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(o.$t("Create")),1),e("td",null,n(l.vendor_configuration.user.name),1),e("td",null,n(t.moment(l.vendor_configuration.created_at).format(t.date_format)),1),a[23]||(a[23]=e("th",null,"-",-1)),e("th",null,n(o.$t("Pending Approval")),1),e("th",null,[l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:0,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-mapping-"+l.id},a[21]||(a[21]=[e("i",{class:"ti ti-check ti-sm text-success",title:"Click to Approve Mapping"},null,-1)]),8,sPa)):b("",!0),l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-mapping-"+l.id},a[22]||(a[22]=[e("i",{class:"ti ti-circle-x ti-sm text-danger",title:"Click to Reject Mapping"},null,-1)]),8,lPa)):b("",!0)])])])])])])])],8,ZCa)):b("",!0),e("div",{class:"modal fade",id:"approve-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",rPa,[e("div",dPa,[e("div",cPa,[e("h6",uPa,n(o.$t("Approve Mapping")),1),e("button",{type:"button",class:"btn-close",id:"approve-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,_Pa)]),e("div",mPa,[e("div",fPa,[e("h6",hPa,n(o.$t("Are you sure you want to approve the mapping?")),1)])]),e("div",pPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"approve")},n(o.$t("Confirm")),9,vPa)])])])],8,iPa),e("div",{class:"modal fade",id:"update-active-status-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",bPa,[e("div",yPa,[e("div",kPa,[e("h6",$Pa,n(o.$t("Update Mapping Active Status")),1),e("button",{type:"button",class:"btn-close",id:"update-company-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,wPa)]),e("div",DPa,[e("div",xPa,[e("h6",CPa,n(o.$t("Are you sure you want to activate/deactivate the mapping?")),1)])]),e("div",PPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateActiveStatus(l.id)},n(o.$t("Confirm")),9,EPa)])])])],8,gPa),e("div",{class:"modal fade",id:"block-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",IPa,[e("div",RPa,[e("div",SPa,[l.vendor_configuration.is_blocked?(u(),f("h6",jPa,n(o.$t("Unblock Company")),1)):(u(),f("h6",TPa,n(o.$t("Block Company")),1)),e("button",{type:"button",class:"btn-close",id:"update-block-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,OPa)]),e("div",MPa,[e("div",LPa,[l.vendor_configuration.is_blocked?(u(),f("h6",FPa,n(o.$t("Are you sure you want to UNBLOCK the company from creating invoices and requesting financing?")),1)):(u(),f("h6",NPa,n(o.$t("Are you sure you want to BLOCK the company from creating invoices and requesting financing?")),1))])]),e("div",YPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateBlockStatus(l.id)},n(o.$t("Confirm")),9,VPa)])])])],8,APa),l.vendor_configuration.can_approve&&!l.vendor_configuration.deleted_at&&!l.vendor_configuration.is_approved&&!l.vendor_configuration.is_rejected?(u(),f("a",{key:6,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-mapping-"+l.id},a[24]||(a[24]=[e("i",{class:"ti ti-circle-x ti-sm text-danger",title:"Click to Reject Mapping"},null,-1)]),8,BPa)):b("",!0),e("div",{class:"modal fade",id:"reject-mapping-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",qPa,[e("div",HPa,[e("div",zPa,[e("h6",WPa,n(o.$t("Reject Mapping")),1),e("button",{type:"button",class:"btn-close",id:"reject-mapping-status-close-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,KPa)]),e("div",GPa,[e("div",QPa,[e("h6",ZPa,n(o.$t("Are you sure you want to reject the mapping?")),1)]),Y(e("textarea",{name:"rejection_reason",class:"form-control",rows:"5",placeholder:"Enter Rejection Reason",required:"","onUpdate:modelValue":a[10]||(a[10]=r=>t.rejection_reason=r),id:""},null,512),[[X,t.rejection_reason]])]),e("div",JPa,[e("button",{class:"btn btn-primary",type:"button",onClick:r=>t.updateApprovalStatus(l.id,"reject")},n(o.$t("Confirm")),9,XPa)])])])],8,UPa),e("span",{"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id},a[25]||(a[25]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"},title:"View Mapping Details"},null,-1)]),8,e4a),!l.vendor_configuration.rejected&&l.vendor_configuration.is_approved&&!l.vendor_configuration.deleted_at&&!l.changes&&t.can_edit_mapping?(u(),f("a",{key:7,href:t.vendors_type+"/"+l.id+"/map/edit"},a[26]||(a[26]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit Mapping"},null,-1)]),8,t4a)):b("",!0),!l.vendor_configuration.rejected&&l.vendor_configuration.is_rejected?(u(),f("a",{key:8,href:t.vendors_type+"/"+l.id+"/map/edit"},a[27]||(a[27]=[e("i",{class:"ti ti-pencil ti-sm text-warning",title:"Edit Mapping"},null,-1)]),8,o4a)):b("",!0),l.changes?(u(),f("span",{key:9,"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-changes-details-"+l.id},a[28]||(a[28]=[e("i",{class:"ti ti-clock ti-sm text-warning",style:{cursor:"pointer"},title:"View Pending Mapping Changes Details"},null,-1)]),8,a4a)):b("",!0),l.changes?(u(),f("div",{key:10,class:"modal modal-top fade modal-xl",id:"vendor-mapping-changes-details-"+l.id,tabindex:"-1"},[e("div",s4a,[e("div",l4a,[e("div",i4a,[e("h6",null,n(o.$t("Mapping Changes Details")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"vendor-mapping-changes-details-close-"+l.id,"aria-label":"Close"},null,8,r4a)]),e("div",d4a,[e("div",c4a,[e("div",u4a,[e("h6",null,n(o.$t("General Configuration")),1),(u(!0),f(G,null,ee(l.changes.changes.vendor_configuration,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[i=="gst_number"?(u(),f("span",_4a,"KRA PIN: "+n(r),1)):b("",!0),i=="request_auto_finance"?(u(),f("span",m4a,n(o.$t("Request auto finance"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),i=="auto_approve_finance"?(u(),f("span",f4a,n(o.$t("Auto approve finance"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),i=="is_blocked"?(u(),f("span",h4a,n(o.$t("Block Company in Program"))+": "+n(r==0?"No":"Yes"),1)):b("",!0),r!=""&&r!=null&&i!="gst_number"&&i!="request_auto_finance"&&i!="is_blocked"&&i!="auto_approve_finance"?(u(),f("span",p4a,n(i.replaceAll("_"," "))+": "+n(r),1)):b("",!0)]))),128))]),e("div",v4a,[e("h6",null,n(o.$t("Discount Details")),1),(u(!0),f(G,null,ee(l.changes.changes.vendor_discount_details,(r,i)=>(u(),f("div",{class:"d-flex flex-column",key:r},[typeof r=="string"&&r!=""&&r!=null?(u(),f("span",g4a,n(i.replaceAll("_"," "))+": "+n(r),1)):b("",!0),typeof r=="object"?(u(!0),f(G,{key:1},ee(r,(d,p)=>(u(),f("span",{key:d,class:"m_title"},[p=="from_day"||p=="to_day"||p=="business_strategy_spread"||p=="credit_spread"||p=="total_roi"?(u(),f("span",b4a,n(p.replaceAll("_"," "))+": "+n(d),1)):b("",!0)]))),128)):b("",!0)]))),128))]),e("div",y4a,[e("h6",null,n(o.$t("Fees Details")),1),(u(!0),f(G,null,ee(l.changes.changes.vendor_fee_details,r=>(u(),f("div",{class:"d-flex flex-column",key:r},[(u(!0),f(G,null,ee(r,(i,d)=>(u(),f("div",{class:"m_title",key:i},[i!=""&&i!=null?(u(),f("span",k4a,n(d.replaceAll("_"," "))+": "+n(i),1)):b("",!0)]))),128))]))),128))]),e("div",$4a,[e("h6",null,n(o.$t("Bank Details")),1),(u(!0),f(G,null,ee(l.changes.changes.vendor_bank_details,r=>(u(),f("div",{class:"d-flex flex-column",key:r},[(u(!0),f(G,null,ee(r,(i,d)=>(u(),f("span",{class:"m_title",key:i},n(d.replaceAll("_"," "))+": "+n(i),1))),128))]))),128))])])]),l.changes.can_approve?(u(),f("div",w4a,[e("button",{class:"btn btn-sm btn-danger",onClick:r=>t.approveConfigChange(t.program_id,l.id,"reject")},n(o.$t("Reject")),9,D4a),e("button",{class:"btn btn-sm btn-primary",onClick:r=>t.approveConfigChange(t.program_id,l.id,"approve")},n(o.$t("Approve")),9,x4a)])):b("",!0)])])],8,n4a)):b("",!0),e("div",{class:"modal modal-top fade modal-xl",id:"vendor-mapping-details-"+l.id,tabindex:"-1"},[e("div",P4a,[e("div",E4a,[e("div",A4a,[e("h6",I4a,n(l.name)+" "+n(o.$t("Mapping details")),1),a[29]||(a[29]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",R4a,[e("div",S4a,[e("div",T4a,[e("h6",j4a,n(o.$t("Sanctioned Limit"))+":",1),e("h6",O4a,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("div",M4a,[e("h6",L4a,n(o.$t("Drawing Power"))+":",1),e("h6",N4a,n(new Intl.NumberFormat().format(l.vendor_configuration.drawing_power)),1)]),e("div",F4a,[e("h6",Y4a,n(o.$t("Eligibility"))+":",1),e("h6",V4a,n(l.vendor_configuration.eligibility)+"%",1)]),e("div",B4a,[e("h6",U4a,n(o.$t("Payment Account"))+":",1),e("h6",q4a,n(l.vendor_configuration.payment_account_number),1)]),e("div",H4a,[e("h6",z4a,n(o.$t("Limit Approval Date"))+":",1),e("h6",W4a,n(t.moment(l.vendor_configuration.limit_approved_date).format(t.date_format)),1)]),e("div",K4a,[e("h6",G4a,n(o.$t("Limit Expiry Date"))+":",1),e("h6",Q4a,n(t.moment(l.vendor_configuration.limit_expiry_date).format(t.date_format)),1)]),e("div",Z4a,[e("h6",J4a,n(o.$t("Limit Review Date"))+":",1),e("h6",X4a,n(t.moment(l.vendor_configuration.limit_review_date).format(t.date_format)),1)]),e("div",eEa,[e("h6",tEa,n(o.$t("Request Auto Finance"))+":",1),e("h6",oEa,n(l.vendor_configuration.request_auto_finance?"Yes":"No"),1)]),e("div",aEa,[e("h6",nEa,n(o.$t("Auto Approve Request"))+":",1),e("h6",sEa,n(l.vendor_configuration.auto_approve_finance?"Yes":"No"),1)]),e("div",lEa,[e("h6",iEa,n(o.$t("Auto Request Finance"))+":",1),e("h6",rEa,n(l.vendor_configuration.auto_request_finance?"Yes":"No"),1)]),l.vendor_discount_details&&l.vendor_discount_details.length>0?(u(),f("div",dEa,[e("h6",cEa,n(o.$t("Penal Discount on Principle"))+":",1),e("h6",uEa,n(l.vendor_discount_details[0].penal_discount_on_principle)+"% ",1)])):b("",!0)]),a[30]||(a[30]=e("hr",null,null,-1)),e("div",_Ea,[e("h6",null,n(o.$t("Discounts")),1)]),e("div",mEa,[e("div",fEa,[e("table",hEa,[e("thead",null,[e("tr",null,[t.vendors_type=="dealers"?(u(),f("th",pEa,n(o.$t("To Day")),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",vEa,n(o.$t("From Day")),1)):b("",!0),e("th",null,n(o.$t("Benchmark Rate")),1),e("th",null,n(o.$t("Business Strategy Spread")),1),e("th",null,n(o.$t("Credit Spread")),1),e("th",null,n(o.$t("Total Spread")),1),e("th",null,n(o.$t("Total ROI")),1),t.vendors_type=="vendors"?(u(),f("th",gEa,n(o.$t("Anchor Discount Bearing")),1)):b("",!0),t.vendors_type=="buyers"?(u(),f("th",bEa,n(o.$t("Buyer Discount Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",yEa,n(o.$t("Vendor Discount Bearing")),1)):b("",!0)])]),e("tbody",kEa,[(u(!0),f(G,null,ee(l.vendor_discount_details,r=>(u(),f("tr",{key:r.id},[t.vendors_type=="dealers"?(u(),f("td",$Ea,n(r.from_day),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",wEa,n(r.to_day),1)):b("",!0),e("td",null,n(r.benchmark_rate?r.benchmark_rate.toFixed(2):0)+"% ",1),e("td",null,n(r.business_strategy_spread?r.business_strategy_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.credit_spread?r.credit_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.total_spread?r.total_spread.toFixed(2):0)+"% ",1),e("td",null,n(r.total_roi?r.total_roi.toFixed(2):0)+"%",1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",DEa,n(r.anchor_discount_bearing?r.anchor_discount_bearing.toFixed(2):0)+"% ",1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",xEa,n(r.vendor_discount_bearing?r.vendor_discount_bearing.toFixed(2):0)+"% ",1)):b("",!0)]))),128))])])])]),a[31]||(a[31]=e("hr",null,null,-1)),e("div",CEa,[e("h6",null,n(o.$t("Fees")),1)]),e("div",PEa,[e("div",EEa,[e("table",AEa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Value")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",IEa,n(o.$t("Vendor Bearing"))+"(%) ",1)):b("",!0),t.vendors_type=="vendors"?(u(),f("th",REa,n(o.$t("Anchor Bearing"))+"(%)",1)):b("",!0),t.vendors_type=="buyers"?(u(),f("th",SEa,n(o.$t("Buyer Bearing"))+"(%)",1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",TEa,n(o.$t("Dealer Bearing"))+"(%)",1)):b("",!0),e("th",null,n(o.$t("Charge Type")),1),e("th",null,n(o.$t("Credit To")),1),e("th",null,n(o.$t("Taxes")),1)])]),e("tbody",jEa,[(u(!0),f(G,null,ee(l.vendor_fee_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.fee_name),1),e("td",OEa,n(r.type),1),e("td",null,n(r.value),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",MEa,n(r.vendor_bearing_discount.toFixed(2)),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",LEa,n(r.anchor_bearing_discount.toFixed(2)),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",NEa,n(r.dealer_bearing.toFixed(2)),1)):b("",!0),e("td",null,[r.charge_type==="daily"?(u(),f("span",FEa,n(o.$t("Per Day")),1)):(u(),f("span",YEa,n(r.charge_type),1))]),e("td",null,[e("span",null,n(r.account_number),1)]),e("td",null,[r.taxes?(u(),f("span",VEa,n(r.taxes)+"%",1)):b("",!0)])]))),128))])])])]),a[32]||(a[32]=e("hr",null,null,-1)),e("div",BEa,[e("h6",null,n(o.$t("Bank Accounts Details")),1)]),e("div",UEa,[e("div",qEa,[e("table",HEa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Bank")),1),e("th",null,n(o.$t("Swift Code")),1),e("th",null,n(o.$t("Branch")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Account Type")),1)])]),e("tbody",zEa,[(u(!0),f(G,null,ee(l.vendor_bank_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name_as_per_bank),1),e("td",null,n(r.bank_name),1),e("td",null,n(r.swift_code),1),e("td",null,n(r.branch),1),e("td",null,n(r.account_number),1),e("td",null,n(r.account_type),1)]))),128))])])])])])])])],8,C4a),l.vendor_configuration.can_delete?(u(),f("a",{key:11,href:"#","data-bs-toggle":"modal","data-bs-target":"#delete-"+l.id},a[33]||(a[33]=[e("i",{class:"ti ti-trash ti-sm text-danger",title:"Delete Company Mapping"},null,-1)]),8,WEa)):b("",!0),e("div",{class:"modal fade",id:"delete-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",GEa,[e("div",QEa,[e("div",ZEa,[e("h6",JEa,n(o.$t("Delete Mapping")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",XEa,[e("div",eAa,[e("h6",tAa,n(o.$t("Are you sure you want to delete the mapping with OD: "+l.vendor_configuration.payment_account_number))+"? ",1)])]),e("div",oAa,[e("button",{class:"btn btn-secondary",type:"button","data-bs-dismiss":"modal",id:"delete-mapping-"+l.id},n(o.$t("Cancel")),9,aAa),l.vendor_configuration.deleted_at?(u(),f("button",{key:0,class:"btn btn-primary",type:"button",onClick:r=>t.cancelDeleteMapping(l.id)},n(o.$t("Cancel Deletion")),9,nAa)):b("",!0),e("button",{class:"btn btn-danger",type:"button",onClick:r=>t.deleteMapping(l.id,"approve")},n(o.$t("Delete")),9,sAa)])])])],8,KEa)])])):b("",!0)]))),128))])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const iAa=Ue(Oxa,[["render",lAa],["__scopeId","data-v-40d8805a"]]),rAa={name:"Opportinities",props:["bank","can_create"],components:{Pagination:St},setup(o){const a=Je("baseURL"),s=h([]),t=o.can_create=="1"?h(!0):h(!1),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get("companies/opportunities/data").then(v=>{s.value=v.data.data.pending_companies})};ot([l],([v])=>{A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:v,name:c.value,deparment:m.value,product_type:_.value}}).then(g=>{s.value=g.data.data.pending_companies})});const i=()=>{let v=$(".ti-search").parent();v.html('<img src="../../../../../assets/img/spinner.svg" />'),A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:l.value,name:c.value,deparment:m.value,product_type:_.value}}).then(g=>{s.value=g.data.data.pending_companies,v.html('<i class="ti ti-search"></i>')})},d=()=>{let v=$(".ti-refresh").parent();v.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",A.get(a+o.bank+"/companies/opportunities/data",{params:{per_page:l.value}}).then(g=>{s.value=g.data.data.pending_companies,v.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{r()}),{companies:s,can_create:t,name_search:c,department_search:m,product_type_search:_,filter:i,refresh:d,per_page:l,changePage:async v=>{await A.get(v+"&per_page="+l.value).then(g=>{s.value=g.data.data.pending_companies})}}}},dAa={class:"card",id:"companies"},cAa={class:"p-2 d-flex flex-column flex-md-row justify-content-between"},uAa={class:"d-flex flex-wrap gap-1"},_Aa={class:""},mAa={for:"Company Name",class:"form-label"},fAa=["placeholder"],hAa={class:""},pAa={for:"Product Type",class:"form-label"},vAa={value:""},gAa={value:"Vendor Financing"},bAa={value:"Dealer Financing"},yAa={class:"table-search-btn"},kAa={class:"table-clear-btn"},$Aa={class:"d-flex justify-content-md-end mt-2 mt-md-auto"},wAa={class:""},DAa={class:"table-responsive"},xAa={class:"table"},CAa={class:""},PAa={class:"d-flex justify-content-center"},EAa={class:"table-border-bottom-0"},AAa={key:0},IAa={colspan:"12",class:"text-center"},RAa={class:"text-center"},SAa={key:1},TAa={colspan:"12",class:"text-center"},jAa={class:"text-center"},OAa={class:"text-primary text-decoration-underline"},MAa=["href"],LAa={key:1},NAa={class:""},FAa={class:"me-1"},YAa={class:"me-1"},VAa={class:"d-flex justify-content-center"},BAa=["href"];function UAa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",dAa,[e("div",cAa,[e("div",uAa,[e("div",_Aa,[e("label",mAa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),placeholder:o.$t("Company Name"),"aria-describedby":"defaultFormControlHelp"},null,8,fAa),[[X,t.name_search]])]),e("div",hAa,[e("label",pAa,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.product_type_search=l)},[e("option",vAa,n(o.$t("All")),1),e("option",gAa,n(o.$t("Vendor Financing")),1),e("option",bAa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",yAa,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",kAa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",$Aa,[e("div",wAa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",DAa,[e("table",xAa,[e("thead",null,[e("tr",CAa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Department")),1),e("th",null,n(o.$t("Product")),1),e("th",null,n(o.$t("Email")),1),e("th",PAa,n(o.$t("Actions")),1)])]),e("tbody",EAa,[t.companies.data?b("",!0):(u(),f("tr",AAa,[e("td",IAa,[e("span",RAa,n(o.$t("Loading Data"))+"...",1)])])),t.companies.data&&t.companies.data.length<=0?(u(),f("tr",SAa,[e("td",TAa,[e("span",jAa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{key:l.id},[e("td",OAa,[l.can_view?(u(),f("a",{key:0,href:"companies/pending/"+l.id+"/details"},n(l.company),9,MAa)):(u(),f("span",LAa,n(l.company),1))]),e("td",NAa,n(l.department),1),e("td",null,[e("span",FAa,n(l.product),1)]),e("td",null,[e("span",YAa,n(l.email),1)]),e("td",VAa,[l.can_view?(u(),f("a",{key:0,href:"companies/pending/"+l.id+"/details"},a[8]||(a[8]=[e("i",{class:"ti ti-eye ti-sm text-primary"},null,-1)]),8,BAa)):b("",!0)])]))),128))])])]),Be(_,{class:"mx-2",from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const qAa=Ue(rAa,[["render",UAa]]),HAa={name:"OdAccounts",props:["bank"],components:{Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]);h("");const c=h(""),m=h(""),_=h("OD Level"),l=h(""),r=h(""),i=h(""),d=h(""),p=h(0),v=h(0),g=h(null),w=h(""),y=h(null),x=["Refund"],C=["Fees"],E=h([]),D=h(""),k=h(""),I=h(""),V=h(50),B=h(!1),L=h(!0),F=async()=>{await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value,{params:{payment_account_number:D.value,anchor:k.value,dealer:I.value}}).then(z=>{t.value=z.data.programs,B.value=z.data.can_update})};ot([V],async([z])=>{await A.get(s+o.bank+"/companies/od-accounts/data",{params:{per_page:z,payment_account_number:D.value,anchor:k.value,dealer:I.value}}).then(ae=>{t.value=ae.data.programs})}),ot([_,l],([z,ae])=>{let we=null;z=="Drawdown Level"?ae!=""&&t.value.data.forEach(Fe=>{Fe.invoices.forEach(he=>{he.id==ae&&(we=he,p.value=Number(we.balance).toLocaleString())})}):p.value=Number(y.value.utilized_amount).toLocaleString()}),ot([w],([z])=>{switch(z){case"Refund":A.get(s+o.bank+"/companies/od-accounts/"+g.value+"/Refund/accounts").then(ae=>{E.value=ae.data.accounts}).catch(ae=>{console.log(ae)});break;case"Fee":A.get(s+o.bank+"/companies/od-accounts/"+g.value+"/Fee/accounts").then(ae=>{E.value=ae.data.accounts}).catch(ae=>{console.log(ae)});break}}),ot(i,z=>{let ae=String(z).replaceAll(",",""),we=String(p.value).replaceAll(",","");v.value=Number(we-ae).toLocaleString(),i.value=Number(String(ae).replaceAll(/\D/g,"")).toLocaleString()});const T=async()=>{let z=$(".ti-search").parent();z.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value,{params:{payment_account_number:D.value,anchor:k.value,dealer:I.value}}).then(ae=>{t.value=ae.data.programs,B.value=ae.data.can_update,z.html('<i class="ti ti-search"></i>')})},P=async()=>{let z=$(".ti-refresh").parent();z.html('<img src="../../../../../assets/img/spinner.svg" />'),D.value="",k.value="",I.value="",await A.get(s+o.bank+"/companies/od-accounts/data?per_page="+V.value).then(ae=>{t.value=ae.data.programs,B.value=ae.data.can_update,z.html('<i class="ti ti-refresh"></i>')})};return Qe(()=>{F()}),{od_accounts:t,changePage:async z=>{await A.get(z+"&per_page="+V.value).then(ae=>{t.value=ae.data.programs})},debit_from:c,credit_to:m,repayment_mode:_,repayment_against:l,credit_date:r,amount:i,initiate_cbs:d,total_outstanding:p,total_balance:v,debit_types:x,od_debit_type:w,credit_to_accounts:E,reversal_types:C,payment_account_number_search:D,anchor_search:k,dealer_search:I,per_page:V,can_update:B,can_credit_account:L,creditAccount:z=>{L.value=!1,A.post(s+o.bank+"/companies/od-accounts/credit-account",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),repayment_mode:_.value,initiate_cbs:d.value,invoice_id:l.value,credit_date:r.value}).then(()=>{a.success("Credit Account Request sent successfully"),document.getElementById("credit-od-account-close-btn-"+z).click(),F(),m.value="",c.value="",i.value=0,_.value="OD Level",d.value="",l.value="",r.value="",p.value=0,v.value=0}).catch(ae=>{let we="";Object.values(ae.response.data).forEach(Fe=>{Fe.forEach((he,re)=>{console.log(he),we+=he+","})}),a.error(we)}).finally(()=>{L.value=!0})},debitAccount:()=>{A.post(s+o.bank+"/companies/od-accounts/debit-account",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),initiate_cbs:d.value,credit_date:r.value}).then(()=>{a.success("Account debited successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(z=>{a.error(z.response.data.message),console.log(z)})},reversal:()=>{A.post(s+o.bank+"/companies/od-accounts/reversal",{credit_to_account:m.value,debit_from_account:c.value,amount:String(i.value).replaceAll(",",""),initiate_cbs:d.value,credit_date:r.value}).then(()=>{a.success("Reversal transaction added successfully"),setTimeout(()=>{window.location.reload()},3e3)}).catch(z=>{a.error(z.response.data.message),console.log(z)})},selectOdAccount:z=>{y.value=z,m.value=z.payment_account_number,p.value=Number(z.utilized_amount).toLocaleString()},selectDebitOdAccount:z=>{g.value=z.id,c.value=z.payment_account_number},selectReverseOdAccount:z=>{c.value=z.vendor_bank_details[0].account_number,m.value=z.payment_account_number},getUtlizedLimit:z=>{let ae=0,we=0;return ae=z.drawdown_amount,z.payments.forEach(Fe=>{we+=Fe.amount}),ae-we},getAvailableLimit:z=>{let ae=0,we=0;return ae=z.drawdown_amount,z.payments.forEach(he=>{we+=he.amount}),z.vendor_configuration.sanctioned_limit-(ae-we)},filter:T,refresh:P}}},zAa={class:"card p-1",id:"companies"},WAa={class:"card-body"},KAa={class:"d-flex flex-column flex-md-row justify-content-between"},GAa={class:"d-flex flex-wrap gap-1"},QAa={class:""},ZAa={for:"OD Account",class:"form-label"},JAa={class:""},XAa={for:"Anchor",class:"form-label"},e6a={class:""},t6a={for:"Dealer",class:"form-label"},o6a={class:"table-search-btn"},a6a={class:"table-clear-btn"},n6a={class:"d-flex justify-content-end mt-2 mt-md-auto"},s6a={class:""},l6a={class:"table-responsive"},i6a={class:"table"},r6a={class:""},d6a={class:"table-border-bottom-0"},c6a={key:0},u6a={colspan:"12",class:"text-center"},_6a={class:"text-center"},m6a={key:1},f6a={colspan:"12",class:"text-center"},h6a={class:"text-center"},p6a={class:"m_title"},v6a={class:"text-success"},g6a={class:"text-success"},b6a={class:"text-success"},y6a={class:"text-success"},k6a={key:0},$6a={key:1},w6a={class:"text-success"},D6a={class:"text-success"},x6a={class:"d-flex my-auto"},C6a=["href"],P6a=["onClick","data-bs-target"],E6a=["onClick","data-bs-target"],A6a=["onClick","data-bs-target"],I6a=["id"],R6a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},S6a={class:"modal-header"},T6a={class:"modal-title",id:"modalTopTitle"},j6a={class:"modal-body"},O6a={class:"row mb-1"},M6a={class:"form-group"},L6a={for:"",class:"form-label"},N6a={value:""},F6a=["value"],Y6a={class:"form-group"},V6a={for:"",class:"form-label"},B6a={class:"form-group"},U6a={for:"",class:"form-label"},q6a=["value"],H6a={class:"form-group"},z6a={for:"Amount",class:"form-label d-flex"},W6a={class:"form-group"},K6a={for:"",class:"form-label d-flex"},G6a={class:"form-group"},Q6a={for:"Status",class:"form-label"},Z6a={value:"Yes"},J6a={value:"No"},X6a={class:"form-group"},eIa={for:"Amount",class:"form-label d-flex"},tIa={class:"modal-footer"},oIa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},aIa={type:"submit",class:"btn btn-primary"},nIa=["id"],sIa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},lIa={class:"modal-header"},iIa={class:"modal-title",id:"modalTopTitle"},rIa={class:"modal-body"},dIa={class:"row mb-1"},cIa={class:"form-group"},uIa={for:"",class:"form-label"},_Ia={value:""},mIa=["value"],fIa={class:"form-group"},hIa={for:"",class:"form-label"},pIa={value:""},vIa={class:"form-group"},gIa={for:"",class:"form-label"},bIa={class:"form-group"},yIa={for:"",class:"form-label"},kIa={class:"form-group"},$Ia={for:"Amount",class:"form-label d-flex"},wIa={class:"form-group"},DIa={for:"",class:"form-label d-flex"},xIa={class:"form-group"},CIa={for:"Amount",class:"form-label d-flex"},PIa={class:"modal-footer"},EIa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},AIa={type:"submit",class:"btn btn-primary",disabled:""},IIa=["id"],RIa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},SIa=["onSubmit"],TIa={class:"modal-header"},jIa={class:"modal-title",id:"modalTopTitle"},OIa=["id"],MIa={class:"modal-body"},LIa={class:"row mb-1"},NIa={class:"form-group"},FIa={for:"",class:"form-label"},YIa={class:"form-group"},VIa={for:"",class:"form-label"},BIa={value:""},UIa=["value"],qIa={class:"form-group my-2"},HIa={for:"Status",class:"form-label"},zIa={class:"d-flex"},WIa={class:"form-radio-group"},KIa={for:"OD Level",class:"form-label"},GIa={class:"form-radio-group mx-4"},QIa={for:"Drawdown Level",class:"form-label"},ZIa={key:0,class:"form-group"},JIa={for:"Status",class:"form-label"},XIa={value:""},e8a=["value"],t8a={class:"form-group"},o8a={for:"Amount",class:"form-label"},a8a={class:"form-group"},n8a={for:"Total Outstanding",class:"form-label"},s8a={class:"form-group"},l8a={for:"Total Outstanding",class:"form-label"},i8a={class:"form-group"},r8a={for:"",class:"form-label"},d8a={class:"form-group"},c8a={for:"Status",class:"form-label"},u8a={value:"Yes"},_8a={value:"No"},m8a={class:"modal-footer"},f8a=["disabled"],h8a=["disabled"];function p8a(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",zAa,[e("div",WAa,[e("div",KAa,[e("div",GAa,[e("div",QAa,[e("label",ZAa,n(o.$t("Payment/OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Payment/OD Account No.","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.payment_account_number_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.payment_account_number_search]])]),e("div",JAa,[e("label",XAa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",e6a,[e("label",t6a,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[4]||(a[4]=l=>t.dealer_search=l),onKeyup:a[5]||(a[5]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.dealer_search]])]),e("div",o6a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[33]||(a[33]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",a6a,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[34]||(a[34]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",n6a,[e("div",s6a,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[35]||(a[35]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.od_accounts.meta?(u(),me(_,{key:0,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",l6a,[e("table",i6a,[e("thead",null,[e("tr",r6a,[e("th",null,n(o.$t("Payment / OD Acc No")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("OD Expiry Status")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Excess Credit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Actions")),1),a[36]||(a[36]=e("th",null,null,-1))])]),e("tbody",d6a,[t.od_accounts.data?b("",!0):(u(),f("tr",c6a,[e("td",u6a,[e("span",_6a,n(o.$t("Loading Data"))+"...",1)])])),t.od_accounts.data&&t.od_accounts.data.length<=0?(u(),f("tr",m6a,[e("td",f6a,[e("span",h6a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.od_accounts.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.payment_account_number),1),e("td",null,n(l.anchor_name),1),e("td",null,n(l.company_name),1),e("td",p6a,n(l.status),1),e("td",v6a,n(new Intl.NumberFormat().format(l.sanctioned_limit)),1),e("td",g6a,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",b6a,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",y6a,[l.paid_amount>l.sanctioned_limit?(u(),f("span",k6a,n(new Intl.NumberFormat().format(l.paid_amount-l.sanctioned_limit)),1)):(u(),f("span",$6a," 0 "))]),e("td",w6a,n(new Intl.NumberFormat().format(l.available_amount)),1),e("td",D6a,n(l.overdue_days),1),e("td",null,[e("div",x6a,[e("a",{href:"od-accounts/"+l.id+"/details"},a[37]||(a[37]=[e("i",{class:"ti ti-eye ti-sm text-warning",style:{cursor:"pointer"},title:"View"},null,-1)]),8,C6a),t.can_update?(u(),f("i",{key:0,class:"ti ti-circle-plus ti-sm text-primary mx-1",onClick:r=>t.selectOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#credit-od-account-"+l.id,style:{cursor:"pointer"},title:"Credit to OD Account"},null,8,P6a)):b("",!0),t.can_update?(u(),f("i",{key:1,class:"ti ti-circle-minus ti-sm text-primary",onClick:r=>t.selectDebitOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#debit-od-account-"+l.id,style:{cursor:"pointer"},title:"Debit From OD Account"},null,8,E6a)):b("",!0),t.can_update?(u(),f("i",{key:2,class:"ti ti-rotate ti-sm text-primary",onClick:r=>t.selectReverseOdAccount(l),"data-bs-toggle":"modal","data-bs-target":"#reverse-od-account-"+l.id,style:{cursor:"pointer"},title:"Reversal"},null,8,A6a)):b("",!0)])]),e("td",null,[e("div",{class:"modal fade",id:"debit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",R6a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[15]||(a[15]=st(r=>t.debitAccount(),["prevent"]))},[e("div",S6a,[e("h5",T6a,n(o.$t("Add Debit to OD Account")),1),a[38]||(a[38]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",j6a,[e("div",O6a,[e("div",M6a,[e("label",L6a,n(o.$t("Type")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.od_debit_type=r)},[e("option",N6a,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.debit_types,r=>(u(),f("option",{key:r,value:r},n(r),9,F6a))),128))],512),[[de,t.od_debit_type]])]),e("div",Y6a,[e("label",V6a,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.debit_from=r),readonly:""},null,512),[[X,t.debit_from]])]),e("div",B6a,[e("label",U6a,[le(n(o.$t("Credit To"))+" ",1),a[39]||(a[39]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[11]||(a[11]=r=>t.credit_to=r)},[a[40]||(a[40]=e("option",{value:""},"Select",-1)),(u(!0),f(G,null,ee(t.credit_to_accounts,r=>(u(),f("option",{key:r,value:r},n(r),9,q6a))),128))],512),[[de,t.credit_to]])]),e("div",H6a,[e("label",z6a,[e("span",null,n(o.$t("Amount")),1),a[41]||(a[41]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[12]||(a[12]=r=>t.amount=r)},null,512),[[X,t.amount]])]),e("div",W6a,[e("label",K6a,[e("span",null,n(o.$t("Effective Date")),1),a[42]||(a[42]=le()),a[43]||(a[43]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[13]||(a[13]=r=>t.credit_date=r)},null,512),[[X,t.credit_date]])]),e("div",G6a,[e("label",Q6a,n(o.$t("Initiate CBS")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[14]||(a[14]=r=>t.initiate_cbs=r)},[e("option",Z6a,n(o.$t("Yes")),1),e("option",J6a,n(o.$t("No")),1)],512),[[de,t.initiate_cbs]])]),e("div",X6a,[e("label",eIa,[e("span",null,n(o.$t("Transaction Remark")),1),a[44]||(a[44]=e("span",{class:"text-danger"},"*",-1))]),a[45]||(a[45]=e("input",{type:"text",class:"form-control",id:"transaction-remark"},null,-1))])])]),e("div",tIa,[e("button",oIa,n(o.$t("Close")),1),e("button",aIa,n(o.$t("Submit")),1)])],32)])],8,I6a),e("div",{class:"modal fade",id:"reverse-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",sIa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[22]||(a[22]=st(r=>t.debitAccount(),["prevent"]))},[e("div",lIa,[e("h5",iIa,n(o.$t("Fees Reversal")),1),a[46]||(a[46]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rIa,[e("div",dIa,[e("div",cIa,[e("label",uIa,[le(n(o.$t("Reversal Type"))+" ",1),a[47]||(a[47]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[16]||(a[16]=r=>t.od_debit_type=r)},[e("option",_Ia,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.reversal_types,r=>(u(),f("option",{key:r,value:r},n(r),9,mIa))),128))],512),[[de,t.od_debit_type]])]),e("div",fIa,[e("label",hIa,[le(n(o.$t("Entity to be reversed"))+" ",1),a[48]||(a[48]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[17]||(a[17]=r=>t.od_debit_type=r)},[e("option",pIa,n(o.$t("Select")),1)],512),[[de,t.od_debit_type]])]),e("div",vIa,[e("label",gIa,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[18]||(a[18]=r=>t.debit_from=r),readonly:""},null,512),[[X,t.debit_from]])]),e("div",bIa,[e("label",yIa,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=r=>t.credit_to=r),readonly:""},null,512),[[X,t.credit_to]])]),e("div",kIa,[e("label",$Ia,[e("span",null,n(o.$t("Amount")),1),a[49]||(a[49]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[20]||(a[20]=r=>t.amount=r)},null,512),[[X,t.amount]])]),e("div",wIa,[e("label",DIa,[e("span",null,n(o.$t("Credit Date")),1),a[50]||(a[50]=le()),a[51]||(a[51]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[21]||(a[21]=r=>t.credit_date=r)},null,512),[[X,t.credit_date]])]),e("div",xIa,[e("label",CIa,[e("span",null,n(o.$t("Particulars")),1),a[52]||(a[52]=e("span",{class:"text-danger"},"*",-1))]),a[53]||(a[53]=e("input",{type:"text",class:"form-control",id:"transaction-remark"},null,-1))])])]),e("div",PIa,[e("button",EIa,n(o.$t("Close")),1),e("button",AIa,n(o.$t("Submit")),1)])],32)])],8,nIa),e("div",{class:"modal fade",id:"credit-od-account-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",RIa,[e("form",{class:"modal-content",method:"POST",onSubmit:st(r=>t.creditAccount(l.id),["prevent"])},[e("div",TIa,[e("h5",jIa,n(o.$t("Add Funds to OD Account")),1),e("button",{type:"button",class:"btn-close",id:"credit-od-account-close-btn-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,OIa)]),e("div",MIa,[e("div",LIa,[e("div",NIa,[e("label",FIa,n(o.$t("Credit To")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=r=>t.credit_to=r),readonly:""},null,512),[[X,t.credit_to]])]),e("div",YIa,[e("label",VIa,n(o.$t("Debit From")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[24]||(a[24]=r=>t.debit_from=r)},[e("option",BIa,n(o.$t("Select")),1),(u(!0),f(G,null,ee(l.vendor_bank_details,r=>(u(),f("option",{key:r.id,value:r.account_number},n(r.account_number),9,UIa))),128))],512),[[de,t.debit_from]])]),e("div",qIa,[e("label",HIa,n(o.$t("Repayment Mode")),1),e("div",zIa,[e("div",WIa,[Y(e("input",{type:"radio",name:"repayment_mode",value:"OD Level",class:"mx-1",id:"od-level-radio","onUpdate:modelValue":a[25]||(a[25]=r=>t.repayment_mode=r)},null,512),[[X_,t.repayment_mode]]),e("label",KIa,n(o.$t("OD Level")),1)]),e("div",GIa,[Y(e("input",{type:"radio",name:"repayment_mode",value:"Drawdown Level",id:"drawdown-level-radio",class:"form-radio-input mx-1","onUpdate:modelValue":a[26]||(a[26]=r=>t.repayment_mode=r)},null,512),[[X_,t.repayment_mode]]),e("label",QIa,n(o.$t("Drawdown Level")),1)])]),t.repayment_mode=="Drawdown Level"?(u(),f("div",ZIa,[e("label",JIa,n(o.$t("Repayment Against")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[27]||(a[27]=r=>t.repayment_against=r)},[e("option",XIa,n(o.$t("Select")),1),(u(!0),f(G,null,ee(l.invoices,r=>(u(),f("option",{key:r.id,value:r.id},n(r.invoice_number),9,e8a))),128))],512),[[de,t.repayment_against]])])):b("",!0)]),e("div",t8a,[e("label",o8a,n(o.$t("Amount")),1),Y(e("input",{type:"text",min:"1",class:"form-control",id:"payment-amount","onUpdate:modelValue":a[28]||(a[28]=r=>t.amount=r)},null,512),[[X,t.amount]])]),e("div",a8a,[e("label",n8a,n(o.$t("Total Outstanding")),1),Y(e("input",{type:"text",class:"form-control",readonly:"","onUpdate:modelValue":a[29]||(a[29]=r=>t.total_outstanding=r)},null,512),[[X,t.total_outstanding]])]),e("div",s8a,[e("label",l8a,n(o.$t("Total Balance")),1),Y(e("input",{type:"text",class:"form-control",readonly:"","onUpdate:modelValue":a[30]||(a[30]=r=>t.total_balance=r)},null,512),[[X,t.total_balance]])]),e("div",i8a,[e("label",r8a,n(o.$t("Credit Date")),1),Y(e("input",{type:"date",name:"pay_date",class:"form-control",id:"html5-date-input","onUpdate:modelValue":a[31]||(a[31]=r=>t.credit_date=r)},null,512),[[X,t.credit_date]])]),e("div",d8a,[e("label",c8a,n(o.$t("Initiate CBS")),1),Y(e("select",{name:"status",id:"",class:"form-select","onUpdate:modelValue":a[32]||(a[32]=r=>t.initiate_cbs=r)},[e("option",u8a,n(o.$t("Yes")),1),e("option",_8a,n(o.$t("No")),1)],512),[[de,t.initiate_cbs]])])])]),e("div",m8a,[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal",disabled:!t.can_credit_account},n(o.$t("Close")),9,f8a),e("button",{type:"submit",class:"btn btn-primary",disabled:!t.can_credit_account},n(t.can_credit_account?o.$t("Submit"):o.$t("Processing")),9,h8a)])],40,SIa)])],8,IIa)])]))),128))])])]),t.od_accounts.meta?(u(),me(_,{key:1,from:t.od_accounts.meta.from,to:t.od_accounts.meta.to,links:t.od_accounts.meta.links,next_page:t.od_accounts.links.next,prev_page:t.od_accounts.links.prev,total_items:t.od_accounts.meta.total,first_page_url:t.od_accounts.links.first,last_page_url:t.od_accounts.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const v8a=Ue(HAa,[["render",p8a]]),g8a={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){Je("baseURL");const a=lt(),s=h([]),t=o.can_add,c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{A.get("programs/exhausted/data?per_page="+r.value).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)})};Qe(()=>{i()});const d=x=>{switch(x){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},p=x=>parseFloat(x).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),v=(x,C)=>{A.get(`programs/${x}/update/status/${C}`).then(()=>{i(),a.success("Program status updated")}).catch(E=>{console.log(E)})};return ot([r],async([x])=>{await A.get("programs/exhausted/data",{params:{per_page:x,name:c.value,anchor:m.value,type:l.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)})}),{moment:H,can_add:t,programs:s,program_name_search:c,anchor_search:m,type_search:l,per_page:r,filter:async()=>{let x=$(".ti-search").parent();x.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)}).finally(()=>{x.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let x=$(".ti-refresh").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",await A.get("programs/data",{params:{per_page:r.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)}).finally(()=>{x.html('<i class="ti ti-refresh"></i>')})},resolveProgramStatus:d,NumFormatter:p,updateActiveStatus:v,changePage:async x=>{await A.get(x,{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(C=>{s.value=C.data.data})}}}},b8a={class:"p-2"},y8a={class:"d-flex flex-column flex-md-row justify-content-between"},k8a={class:"d-flex flex-wrap gap-1"},$8a={class:""},w8a={for:"Name",class:"form-label"},D8a={class:""},x8a={for:"Name",class:"form-label"},C8a={class:""},P8a={for:"Program Type",class:"form-label"},E8a={value:""},A8a={value:"vendor_financing_receivable"},I8a={value:"factoring_with_recourse"},R8a={value:"factoring_without_recourse"},S8a={value:"dealer_financing"},T8a={class:"table-search-btn"},j8a={class:"table-clear-btn"},O8a={class:"d-flex flex-wrap gap-1 mt-2 mt-md-auto"},M8a={class:""},L8a={class:"table-responsive"},N8a={class:"table"},F8a={class:""},Y8a={class:"table-border-bottom-0"},V8a={key:0},B8a={colspan:"12",class:"text-center"},U8a={class:"text-center"},q8a={key:1},H8a={colspan:"12",class:"text-center"},z8a={class:"text-center"},W8a={class:"text-primary"},K8a=["href"],G8a={key:1},Q8a={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted."},Z8a={key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Program Changes awating approval"},J8a={key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Creation/Updation Awaiting Approval."},X8a={class:"text-primary text-decoration-underline"},eRa=["href"],tRa={key:1},oRa={class:""},aRa={class:"text-success"},nRa={class:"text-success"},sRa={class:""},lRa={class:"d-flex"},iRa=["href","title"],rRa=["href","title"];function dRa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",b8a,[e("div",y8a,[e("div",k8a,[e("div",$8a,[e("label",w8a,n(o.$t("Program Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.program_name_search=l),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.program_name_search]])]),e("div",D8a,[e("label",x8a,n(o.$t("Anchor")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.anchor_search=l),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",C8a,[e("label",P8a,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.type_search=l)},[e("option",E8a,n(o.$t("Program Type")),1),e("option",A8a,n(o.$t("Vendor Financing Receivable")),1),e("option",I8a,n(o.$t("Factoring With Recourse")),1),e("option",R8a,n(o.$t("Factoring Without Recourse")),1),e("option",S8a,n(o.$t("Dealer Financing")),1)],512),[[de,t.type_search]])]),e("div",T8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",j8a,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",O8a,[e("div",M8a,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.programs.meta?(u(),me(_,{key:0,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",L8a,[e("table",N8a,[e("thead",null,[e("tr",F8a,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Y8a,[t.programs.data?b("",!0):(u(),f("tr",V8a,[e("td",B8a,[e("span",U8a,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",q8a,[e("td",H8a,[e("span",z8a,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",W8a,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,K8a)):(u(),f("span",G8a,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",Q8a)):b("",!0),l.proposed_update>0?(u(),f("i",Z8a)):b("",!0),l.account_status=="pending"?(u(),f("i",J8a)):b("",!0)]),e("td",X8a,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,eRa)):(u(),f("span",tRa,n(l.anchor.name),1))]),e("td",oRa,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",aRa,n(l.bank.default_currency)+" "+n(t.NumFormatter(l.program_limit)),1),e("td",nRa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",sRa,[e("div",lRa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"badge bg-label-primary rounded-pill p-1 mx-1",title:o.$t("View Program Details")},a[11]||(a[11]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,iRa)):b("",!0),l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"badge bg-label-warning rounded-pill p-1 mx-1",title:o.$t("Edit Program")},a[12]||(a[12]=[e("i",{class:"ti ti-pencil ti-sm"},null,-1)]),8,rRa)):b("",!0)])])]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const cRa=Ue(g8a,[["render",dRa]]),uRa={name:"Programs",props:["bank","can_add"],components:{Pagination:St},setup(o){Je("baseURL");const a=lt(),s=h([]),t=o.can_add,c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{A.get("programs/expired/data?per_page="+r.value).then(x=>{s.value=x.data.data}).catch(x=>{console.log(x)})};Qe(()=>{i()});const d=x=>{switch(x){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},p=x=>parseFloat(x).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),v=(x,C)=>{A.get(`programs/${x}/update/status/${C}`).then(()=>{i(),a.success("Program status updated")}).catch(E=>{console.log(E)})};return ot([r],async([x])=>{await A.get("programs/expired/data",{params:{per_page:x,name:c.value,anchor:m.value,type:l.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)})}),{moment:H,can_add:t,programs:s,program_name_search:c,anchor_search:m,type_search:l,per_page:r,filter:async()=>{let x=$(".ti-search").parent();x.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get("programs/data",{params:{per_page:r.value,name:c.value,anchor:m.value,type:l.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)}).finally(()=>{x.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let x=$(".ti-refresh").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",l.value="",await A.get("programs/data",{params:{per_page:r.value}}).then(C=>{s.value=C.data.data}).catch(C=>{console.log(C)}).finally(()=>{x.html('<i class="ti ti-refresh"></i>')})},resolveProgramStatus:d,NumFormatter:p,updateActiveStatus:v,changePage:async x=>{await A.get(x,{params:{per_page:r.value,name:c.value,anchor:m.value,status:_.value,type:l.value}}).then(C=>{s.value=C.data.data})}}}},_Ra={class:"p-2"},mRa={class:"d-flex flex-column flex-md-row justify-content-between"},fRa={class:"d-flex flex-wrap gap-1"},hRa={class:""},pRa={for:"Name",class:"form-label"},vRa={class:""},gRa={for:"Name",class:"form-label"},bRa={class:""},yRa={for:"Program Type",class:"form-label"},kRa={value:""},$Ra={value:"vendor_financing_receivable"},wRa={value:"factoring_with_recourse"},DRa={value:"factoring_without_recourse"},xRa={value:"dealer_financing"},CRa={class:"table-search-btn"},PRa={class:"table-clear-btn"},ERa={class:"d-flex gap-1 justify-content-end mt-2 mt-md-auto"},ARa={class:""},IRa={class:"table-responsive"},RRa={class:"table"},SRa={class:""},TRa={class:"table-border-bottom-0"},jRa={key:0},ORa={colspan:"12",class:"text-center"},MRa={class:"text-center"},LRa={key:1},NRa={colspan:"12",class:"text-center"},FRa={class:"text-center"},YRa={class:"text-primary d-flex"},VRa=["href"],BRa={key:1},URa=["title"],qRa=["title"],HRa=["title"],zRa={class:"text-primary text-decoration-underline"},WRa=["href"],KRa={key:1},GRa={class:""},QRa={class:"text-success"},ZRa={class:"text-success"},JRa={class:""},XRa={class:"d-flex"},eSa=["href","title"],tSa=["href","title"];function oSa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",_Ra,[e("div",mRa,[e("div",fRa,[e("div",hRa,[e("label",pRa,n(o.$t("Program Name")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=l=>t.program_name_search=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.program_name_search]])]),e("div",vRa,[e("label",gRa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=l=>t.anchor_search=l),placeholder:"Anchor",onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),"aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.anchor_search]])]),e("div",bRa,[e("label",yRa,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.type_search=l)},[e("option",kRa,n(o.$t("Program Type")),1),e("option",$Ra,n(o.$t("Vendor Financing Receivable")),1),e("option",wRa,n(o.$t("Factoring With Recourse")),1),e("option",DRa,n(o.$t("Factoring Without Recourse")),1),e("option",xRa,n(o.$t("Dealer Financing")),1)],512),[[de,t.type_search]])]),e("div",CRa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",PRa,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[9]||(a[9]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",ERa,[e("div",ARa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l)},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),t.programs.meta?(u(),me(_,{key:0,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",IRa,[e("table",RRa,[e("thead",null,[e("tr",SRa,[a[11]||(a[11]=e("th",null,[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"})])],-1)),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Product Code")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",TRa,[t.programs.data?b("",!0):(u(),f("tr",jRa,[e("td",ORa,[e("span",MRa,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",LRa,[e("td",NRa,[e("span",FRa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[a[14]||(a[14]=e("td",null,[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"})])],-1)),e("td",YRa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details"},n(l.name),9,VRa)):(u(),f("span",BRa,n(l.name),1)),l.utilized_percentage_ratio>90?(u(),f("i",{key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Limit is almost depleted")},null,8,URa)):b("",!0),l.proposed_update>0?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Pending Program Changes awating approval")},null,8,qRa)):b("",!0),l.account_status=="pending"?(u(),f("i",{key:4,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:o.$t("Program Creation/Updation Awaiting Approval")},null,8,HRa)):b("",!0)]),e("td",zRa,[l.anchor.can_view?(u(),f("a",{key:0,href:"companies/"+l.anchor.id+"/details"},n(l.anchor.name),9,WRa)):(u(),f("span",KRa,n(l.anchor.name),1))]),e("td",GRa,n(l.program_type.name),1),e("td",null,n(l.program_code?l.program_code.abbrev:"-"),1),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(l.account_status)])},n(l.account_status),3)]),e("td",QRa,n(l.bank.default_currency)+" "+n(t.NumFormatter(l.program_limit)),1),e("td",ZRa,n(l.bank.default_currency)+" "+n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",JRa,[e("div",XRa,[l.can_view?(u(),f("a",{key:0,href:"programs/"+l.id+"/details",class:"badge bg-label-primary rounded-pill p-1 mx-1",title:o.$t("View Program Details")},a[12]||(a[12]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,eSa)):b("",!0),l.can_edit?(u(),f("a",{key:1,href:"programs/"+l.id+"/edit",class:"badge bg-label-warning rounded-pill p-1 mx-1",title:o.$t("Edit Program")},a[13]||(a[13]=[e("i",{class:"ti ti-pencil ti-sm"},null,-1)]),8,tSa)):b("",!0)])])]))),128))])])]),t.programs.meta?(u(),me(_,{key:1,class:"mx-2",from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const aSa=Ue(uRa,[["render",oSa]]),nSa={name:"DownloadButtons",props:["downloadingPdf","downloadingExcel"],data:()=>({spinner:"../../assets/img/spinner.svg"}),methods:{downloadReport(){this.$emit("download-report")},downloadPdf(){this.$emit("download-pdf")}}},sSa={class:"d-flex gap-1"},lSa={key:0,class:"d-flex"},iSa=["src"],rSa={key:0,class:"d-flex"},dSa=["src"];function cSa(o,a,s,t,c,m){return u(),f("div",sSa,[e("button",{type:"button",id:"download-excel",onClick:a[0]||(a[0]=(..._)=>m.downloadReport&&m.downloadReport(..._)),style:{height:"fit-content"},class:"btn btn-primary"},[s.downloadingExcel?(u(),f("img",{key:1,src:o.spinner,style:{width:"1rem"}},null,8,iSa)):(u(),f("span",lSa,[a[2]||(a[2]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("Excel")),1)]))]),e("button",{type:"button",id:"download-pdf",onClick:a[1]||(a[1]=(..._)=>m.downloadPdf&&m.downloadPdf(..._)),style:{height:"fit-content"},class:"btn btn-primary"},[s.downloadingPdf?(u(),f("img",{key:1,src:o.spinner,style:{width:"1rem"}},null,8,dSa)):(u(),f("span",rSa,[a[3]||(a[3]=e("i",{class:"ti ti-download ti-xs px-1"},null,-1)),le(" "+n(o.$t("PDF")),1)]))])])}const no=Ue(nSa,[["render",cSa]]),uSa={name:"ActivityLogs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value}}).then(x=>{s.value=x.data.data})};return Qe(()=>{d()}),{moment:H,logs:s,per_page:i,user_type:t,user_role:c,description:m,start_date:_,end_date:l,filter:async()=>{let x=$(".ti-search").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),r.value=$("#date_search").val(),r.value&&(_.value=H(r.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(r.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value,user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(C=>{s.value=C.data.data,x.html('<i class="ti ti-search"></i>')})},refresh:async()=>{let x=$(".ti-refresh").parent();x.html('<img src="../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",await A.get(a+o.bank+"/reports/logs/data",{params:{per_page:i.value}}).then(C=>{s.value=C.data.data,x.html('<i class="ti ti-refresh"></i>')})},changePage:async x=>{await A.get(x,{params:{per_page:i.value,user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(C=>{s.value=C.data.data,parent.html('<i class="ti ti-refresh"></i>')})},downloadReport:()=>{A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"logs",user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`ActivityLogs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)})},downloadPdf:()=>{A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"logs",user_type:t.value,user_role:c.value,description:m.value,start_date:_.value,end_date:l.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Activity_logs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)})}}}},_Sa={class:"card p-3"},mSa={class:"d-flex flex-column flex-md-row justify-content-between"},fSa={class:"d-flex flex-wrap gap-1"},hSa={class:""},pSa={for:"",class:"form-label"},vSa={class:""},gSa={for:"",class:"form-label"},bSa={value:""},ySa={value:""},kSa={value:"Bank"},$Sa={value:"Anchor"},wSa={value:"Vendor"},DSa={value:"Dealer"},xSa={class:""},CSa={class:"form-label",for:""},PSa={class:"table-search-btn"},ESa={class:"table-clear-btn"},ASa={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},ISa={class:""},RSa={class:""},SSa={class:"table-responsive"},TSa={class:"table"},jSa={class:""},OSa={class:"table-border-bottom-0"},MSa={key:0},LSa={colspan:"12",class:"text-center"},NSa={class:"text-center"},FSa={key:1},YSa={colspan:"12",class:"text-center"},VSa={class:"text-center"},BSa={key:0},USa={key:0},qSa={key:1},HSa={key:0},zSa={class:"mx-1"},WSa={key:1},KSa={key:2},GSa={key:3},QSa={key:4},ZSa={key:0},JSa={key:1},XSa={style:{cursor:"pointer","max-width":"250px","overflow-x":"clip"}},eTa=["title"],tTa={key:1};function oTa(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",_Sa,[e("div",mSa,[e("div",fSa,[e("div",hSa,[e("label",pSa,n(o.$t("Search by description")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Search Description","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=r=>t.description=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.description]])]),e("div",vSa,[e("label",gSa,n(o.$t("User Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.user_type=r)},[e("option",bSa,n(o.$t("Select")),1),e("option",ySa,n(o.$t("All Users")),1),e("option",kSa,n(o.$t("Bank")),1),e("option",$Sa,n(o.$t("Anchor")),1),e("option",wSa,n(o.$t("Vendor")),1),e("option",DSa,n(o.$t("Dealer")),1)],512),[[de,t.user_type]])]),e("div",xSa,[e("label",CSa,n(o.$t("Date")),1),a[6]||(a[6]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",PSa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ESa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",ASa,[e("div",ISa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),512),[[de,t.per_page]])]),e("div",RSa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf},null,8,["onDownloadReport","onDownloadPdf"])])])]),t.logs.meta?(u(),me(l,{key:0,class:"mx-2",from:t.logs.meta.from,to:t.logs.meta.to,links:t.logs.meta.links,next_page:t.logs.links.next,prev_page:t.logs.links.prev,total_items:t.logs.meta.total,first_page_url:t.logs.links.first,last_page_url:t.logs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",SSa,[e("table",TSa,[e("thead",null,[e("tr",jSa,[e("th",null,n(o.$t("User")),1),e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("Description")),1),e("th",null,n(o.$t("IP")),1),e("th",null,n(o.$t("Device Info")),1),e("th",null,n(o.$t("Date & Time")),1)])]),e("tbody",OSa,[t.logs.data?b("",!0):(u(),f("tr",MSa,[e("td",LSa,[e("span",NSa,n(o.$t("Loading Data"))+"...",1)])])),t.logs.data&&t.logs.data.length<=0?(u(),f("tr",FSa,[e("td",YSa,[e("span",VSa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.logs.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[r.causer&&r.causer_type=="App\\Models\\User"?(u(),f("span",BSa,n(r.causer.name),1)):b("",!0)]),e("td",null,[r.properties&&r.properties.user_type?(u(),f("span",USa,n(r.properties.user_type),1)):(u(),f("span",qSa,"-"))]),e("td",null,[r.causer&&r.causer_type=="App\\Models\\User"?(u(),f("span",HSa,n(r.causer.name),1)):b("",!0),e("span",zSa,n(r.description),1),r.subject&&r.subject_type=="App\\Models\\Company"?(u(),f("span",WSa,n(", Company: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\Invoice"?(u(),f("span",KSa,n(", Invoice: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\CbsTransaction"?(u(),f("span",GSa,n(", CBS Transaction: "+r.subject),1)):b("",!0),r.subject&&r.subject_type=="App\\Models\\PaymentRequest"?(u(),f("span",QSa,n(", Payment Request: "+r.subject),1)):b("",!0)]),e("td",null,[r.properties&&r.properties.ip?(u(),f("span",ZSa,n(r.properties.ip),1)):(u(),f("span",JSa,"-"))]),e("td",XSa,[r.properties&&r.properties.device_info?(u(),f("span",{key:0,title:r.properties.device_info},n(r.properties.device_info),9,eTa)):(u(),f("span",tTa,"-"))]),e("td",null,n(t.moment(r.created_at).format("DD MMM YYYY HH:mm A")),1)]))),128))])])]),t.logs.meta?(u(),me(l,{key:1,class:"mx-2",from:t.logs.meta.from,to:t.logs.meta.to,links:t.logs.meta.links,next_page:t.logs.links.next,prev_page:t.logs.links.prev,total_items:t.logs.meta.total,first_page_url:t.logs.links.first,last_page_url:t.logs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const aTa=Ue(uSa,[["render",oTa]]),nTa={name:"CreditAccountRequests",components:{Pagination:St},props:["bank"],setup(o,a){const s=lt(),t=Je("baseURL"),c=h([]),m=h(""),_=h(""),l=h(50),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h("desc"),w=h(""),y=async()=>{await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value,sort_by:g.value}}).then(O=>{c.value=O.data.payment_requests}).catch(O=>{console.log(O)})};return a.expose({getRequests:y}),Qe(()=>{}),{moment:H,requests:c,per_page:l,debit_from:r,company_name:i,from_date:d,to_date:p,status:v,sort_by:g,filter:async()=>{w.value=$("#car_date_search").val(),w.value&&(d.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),console.log(w.value);let O=$(".ti-search").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value,debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(N=>{c.value=N.data.payment_requests,O.html('<i class="ti ti-search"></i>')})},refresh:async()=>{r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",w.value="",$("#car_date_search").val("");let O=$(".ti-refresh").parent();O.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(t+o.bank+"/requests/credit-account-requests/data",{params:{per_page:l.value}}).then(N=>{c.value=N.data.payment_requests,O.html('<i class="ti ti-refresh"></i>')})},resolvePaymentRequestStatus:O=>{let N="";switch(O){case"created":N="bg-label-primary";break;case"approved":N="bg-label-success";break;case"paid":N="bg-label-success";break;case"failed":N="bg-label-danger";break;case"rejected":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},resolveStatus:O=>{let N="";switch(O){case"pending":N="bg-label-primary";break;case"sent":N="bg-label-secondary";break;case"approved":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},changePage:async O=>{await A.get(O,{params:{per_page:l.value,debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(N=>{c.value=N.data.payment_requests})},isPaid:O=>{let N="";return O.cbs_transactions.length>0&&O.cbs_transactions[0].pay_date!=null&&O.cbs_transactions[0].pay_date!=""?N=O.cbs_transactions[0].pay_date:N=!1,N},getTotalAmount:O=>{let N=0;return O.forEach(S=>{N+=S.quantity*S.price_per_quantity}),N},getTaxesAmount:O=>{let N=0;return O.forEach(S=>{N+=S.value}),N},getFeesAmount:O=>{let N=0;return O.forEach(S=>{N+=S.amount}),N},resolveFinancingStatus:O=>{let N="";switch(O){case"pending":N="bg-label-primary";break;case"financed":N="bg-label-primary";break;case"closed":N="bg-label-success";break;case"denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},updateRequestStatus:m,updateRequestRejectionReason:_,updateStatus:(O,N)=>{const S=new FormData;S.append("payment_request_id",O.id),S.append("status",N),S.append("rejection_reason",_.value),A.post(t+o.bank+"/requests/credit-account-requests/update",S).then(()=>{s.success("Payment Request updated"),y()}).catch(U=>{console.log(U),s.error("An error occurred")})},getTaxPercentage:(O,N)=>Math.round(N/O*100),exprotPaymentRequests:()=>{A.get(t+o.bank+"/requests/credit-account-requests/data/export",{responseType:"arraybuffer",method:"GET",params:{debit_from:r.value,company_name:i.value,from_date:d.value,to_date:p.value,status:v.value,sort_by:g.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`Credit_requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)})}}}},sTa={class:""},lTa={class:"d-flex justify-content-between"},iTa={class:"d-flex flex-wrap"},rTa={class:"mx-1"},dTa={for:"Debit From",class:"form-label"},cTa={class:"mx-1"},uTa={for:"Company Name",class:"form-label"},_Ta={class:"mx-1"},mTa={class:"form-label",for:""},fTa={class:"mx-1 d-none"},hTa={for:"Status",class:"form-label"},pTa={value:""},vTa={value:"approved"},gTa={value:"paid"},bTa={class:"mx-1"},yTa={for:"Sort by",class:"form-label"},kTa={value:""},$Ta={value:"asc"},wTa={value:"desc"},DTa={class:"mx-1 my-auto"},xTa={class:"mx-1 my-auto"},CTa={class:"d-flex"},PTa={class:"mx-1"},ETa={class:"mx-1"},ATa={class:"table-responsive"},ITa={class:"table"},RTa={class:""},STa={class:"px-1"},TTa={class:"px-1"},jTa={class:"px-1"},OTa={class:"px-1"},MTa={class:"px-1"},LTa={class:"table-border-bottom-0"},NTa={key:0},FTa={colspan:"12",class:"text-center"},YTa={class:"text-center"},VTa={key:1},BTa={colspan:"12",class:"text-center"},UTa={class:"text-center"},qTa=["data-bs-target"],HTa={class:"text-primary text-decoration-underline px-1"},zTa=["href"],WTa={class:"text-success px-1"},KTa={class:"px-1"},GTa={class:"px-1"},QTa={key:0},ZTa=["id"],JTa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},XTa={class:"modal-content"},eja={class:"modal-header"},tja={class:"modal-title",id:"modalCenterTitle"},oja={class:"modal-body"},aja={class:"table-responsive"},nja={class:"table"},sja={class:"text-success"};function lja(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",sTa,[e("div",lTa,[e("div",iTa,[e("div",rTa,[e("label",dTa,n(o.$t("Debit From")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.debit_from=l),onKeyup:a[1]||(a[1]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.debit_from]])]),e("div",cTa,[e("label",uTa,n(o.$t("Company Name")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[2]||(a[2]=l=>t.company_name=l),onKeyup:a[3]||(a[3]=Ee((...l)=>t.filter&&t.filter(...l),["enter"]))},null,544),[[X,t.company_name]])]),e("div",_Ta,[e("label",mTa,n(o.$t("Date"))+" ("+n(o.$t("Pay Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"car_date_search",class:"form-control form-search",name:"car_daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",fTa,[e("label",hTa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l)},[e("option",pTa,n(o.$t("Status")),1),e("option",vTa,n(o.$t("Approved")),1),e("option",gTa,n(o.$t("Paid")),1)],512),[[de,t.status]])]),e("div",bTa,[e("label",yTa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[5]||(a[5]=l=>t.sort_by=l)},[e("option",kTa,n(o.$t("Sort By")),1),e("option",$Ta,n(o.$t("Ascending")),1),e("option",wTa,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",DTa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[6]||(a[6]=(...l)=>t.filter&&t.filter(...l))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",xTa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[7]||(a[7]=(...l)=>t.refresh&&t.refresh(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",CTa,[e("div",PTa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=l=>t.per_page=l),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",ETa,[e("button",{type:"button",class:"btn btn-primary",onClick:a[9]||(a[9]=(...l)=>t.exprotPaymentRequests&&t.exprotPaymentRequests(...l)),style:{height:"fit-content"}},a[14]||(a[14]=[e("i",{class:"ti ti-download ti-sm"},null,-1)]))])])]),Be(_,{from:t.requests.from,to:t.requests.to,links:t.requests.links,next_page:t.requests.next_page_url,prev_page:t.requests.prev_page_url,total_items:t.requests.total,first_page_url:t.requests.first_page_url,last_page_url:t.requests.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",ATa,[e("table",ITa,[e("thead",null,[e("tr",RTa,[e("th",null,n(o.$t("Debit From"))+".",1),e("th",null,n(o.$t("Credit To"))+".",1),e("th",STa,n(o.$t("Company Name")),1),e("th",null,n(o.$t("Product Code")),1),e("th",TTa,n(o.$t("Amount")),1),e("th",jTa,n(o.$t("Pay Date")),1),e("th",OTa,n(o.$t("Paid Date")),1),e("th",MTa,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",LTa,[t.requests.data?b("",!0):(u(),f("tr",NTa,[e("td",FTa,[e("span",YTa,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",VTa,[e("td",BTa,[e("span",UTa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,l=>(u(),f("tr",{key:l.id},[e("td",null,n(l.program.bank_details[0].account_number),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+l.id,style:{cursor:"pointer"}},n(l.payment_accounts.length)+" "+n(o.$t("Account(s)")),9,qTa),e("td",HTa,[e("a",{href:"../companies/"+l.company.id+"/details"},n(l.company.name),9,zTa)]),e("td",null,n(l.program.program_type.name),1),e("td",WTa,n(l.currency)+" "+n(new Intl.NumberFormat().format(l.amount)),1),e("td",KTa,n(t.moment(l.credit_date).format("DD MMM YYYY")),1),e("td",GTa,[t.isPaid(l)?(u(),f("span",QTa,n(t.moment(t.isPaid(l)).format("DD MMM YYYY")),1)):b("",!0)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title px-1",t.resolvePaymentRequestStatus(l.status)])},n(l.status),3)]),e("td",null,[e("div",{class:"modal fade",id:"payment-accounts-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",JTa,[e("div",XTa,[e("div",eja,[e("h5",tja,n(o.$t("Accounts")),1),a[16]||(a[16]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",oja,[e("div",aja,[e("table",nja,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Amount")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(l.payment_accounts,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.account),1),e("td",sja,n(new Intl.NumberFormat().format(r.amount)),1)]))),128))])])])])])])],8,ZTa)])]))),128))])])]),Be(_,{from:t.requests.from,to:t.requests.to,links:t.requests.links,next_page:t.requests.next_page_url,prev_page:t.requests.prev_page_url,total_items:t.requests.total,first_page_url:t.requests.first_page_url,last_page_url:t.requests.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const ija=Ue(nTa,[["render",lja]]),rja={name:"Payments",components:{PaymentRequests:$D,PaymentReports:wD,CbsTransactions:DD,CreditAccountRequests:ija},props:["bank","can_upload","can_update","can_view_cbs","can_view_payment_requests","date_format"],setup(o){const a=o.can_upload,s=o.can_update,t=o.can_view_cbs,c=o.can_view_payment_requests,m=o.date_format,_=h(null),l=h(null),r=h(null),i=h(null);return Qe(()=>{_.value.getRequests()}),{can_upload:a,can_update:s,can_view_cbs:t,can_view_payment_requests:c,payment_requests:_,payment_reports:l,credit_account_requests:r,cbs_transactions:i,date_format:m,switchTabs:p=>{switch(p){case"payment_requests":_.value.getRequests();break;case"payment_reports":l.value.getRequests();break;case"credit_account_requests":r.value.getRequests();break;case"cbs_transactions":i.value.getRequests();break}}}}},dja={class:"nav-align-top nav-tabs-shadow mb-4"},cja={class:"nav nav-tabs",role:"tablist"},uja={key:0,class:"nav-item"},_ja={key:1,class:"nav-item"},mja={class:"tab-content"},fja={key:0,class:"tab-pane fade show active",id:"navs-all-invoices",role:"tabpanel"},hja={key:1,class:"tab-pane fade show",id:"navs-cbs-transactions",role:"tabpanel"};function pja(o,a,s,t,c,m){const _=ce("payment-requests"),l=ce("cbs-transactions");return u(),f("div",dja,[e("ul",cja,[t.can_view_payment_requests?(u(),f("li",uja,[e("button",{type:"button",class:"nav-link active text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-all-invoices","aria-controls":"navs-all-invoices","aria-selected":"true",onClick:a[0]||(a[0]=r=>t.switchTabs("payment_requests"))},n(o.$t("Payment Requests")),1)])):b("",!0),t.can_view_cbs?(u(),f("li",_ja,[e("button",{type:"button",class:"nav-link text-sm text-uppercase",role:"tab","data-bs-toggle":"tab","data-bs-target":"#navs-cbs-transactions","aria-controls":"navs-cbs-transactions","aria-selected":"false",onClick:a[1]||(a[1]=r=>t.switchTabs("cbs_transactions"))},n(o.$t("CBS Transactions")),1)])):b("",!0)]),e("div",mja,[t.can_view_payment_requests?(u(),f("div",fja,[Be(_,{bank:s.bank,ref:"payment_requests",date_format:t.date_format},null,8,["bank","date_format"])])):b("",!0),t.can_view_cbs?(u(),f("div",hja,[Be(l,{bank:s.bank,can_update:t.can_update,can_upload:t.can_upload,ref:"cbs_transactions",date_format:t.date_format},null,8,["bank","can_update","can_upload","date_format"])])):b("",!0)])])}const vja=Ue(rja,[["render",pja]]),gja={name:"BaseRates",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(!0),g=h(""),w=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value}}).then(L=>{l.value=L.data}).catch(L=>{console.log(L)})},x=L=>{g.value=L.id,i.value=L.name,d.value=L.rate,p.value=L.effective_date,v.value=L.is_default,w.value=!0},C=()=>{A.post(s+o.bank+"/configurations/base-rates/store",{name:i.value,rate:d.value,effective_date:p.value,is_default:v.value}).then(L=>{a.success(L.data.message),i.value="",d.value="",p.value="",v.value=!1,y(),document.getElementById("close-add-modal").click()}).catch(L=>{console.log(L),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/base-rates/update",{base_rate_id:g.value,name:i.value,rate:d.value,effective_date:p.value,is_default:v.value}).then(L=>{a.success(L.data.message),g.value="",i.value="",d.value="",p.value="",v.value=!1,w.value=!1,y(),document.getElementById("close-edit-modal-"+g.value).click()}).catch(L=>{console.log(L),a.error("An error occurred")})},D=(L,F)=>{A.get(s+o.bank+`/configurations/base-rates/${L}/status/${F}/update`).then(()=>{y(),a.success("Status updated")}).catch(T=>{console.log(T)})},k=(L,F,T)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:L,id:F,status:T}).then(P=>{a.success(P.data.message),y(),document.getElementById("close-edited-rate-changes-"+F).click()}).catch(P=>{console.log(P),a.error("An error occurred")})};return Qe(()=>{y()}),ot(r,L=>{A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:L,name:m.value,status:_.value}}).then(F=>{l.value=F.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,rate:d,effective_date:p,is_default:v,showEditModal:w,addNewBaseRate:C,updateBaseRate:E,updateActiveStatus:D,editBaseRate:x,approveChange:k,changePage:async L=>{await A.get(L,{params:{per_page:r.value,name:m.value,status:_.value}}).then(F=>{l.value=F.data})},filter:()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(F=>{l.value=F.data}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},refresh:()=>{m.value="",_.value="";let L=$(".ti-refresh").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/base-rates/data",{params:{per_page:r.value}}).then(F=>{l.value=F.data}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},name_search:m,status_search:_}}},bja={class:"card p-2"},yja={class:"d-flex justify-content-between"},kja={class:"d-flex flex-wrap gap-1"},$ja={class:""},wja={for:"Name",class:"form-label"},Dja={class:""},xja={for:"Status search",class:"form-label"},Cja={value:""},Pja={value:"active"},Eja={value:"inactive"},Aja={class:"table-search-btn"},Ija={class:"table-clear-btn"},Rja={class:"d-flex justify-content-end gap-1 mt-auto"},Sja={class:""},Tja={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},jja={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},Oja={class:"modal-dialog"},Mja={class:"modal-header"},Lja={class:"modal-title",id:"modalTopTitle"},Nja={class:"modal-body my-1"},Fja={class:"form-group"},Yja={for:"Name",class:"form-label"},Vja={class:"form-group my-1"},Bja={for:"Name",class:"form-label"},Uja={class:"form-group my-1"},qja={for:"Name",class:"form-label"},Hja={class:"form-group my-1"},zja={for:"default",class:"form-label"},Wja={class:"d-flex text-nowrap"},Kja={class:"form-check form-switch mb-2"},Gja={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},Qja={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},Zja={class:"modal-footer"},Jja={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Xja={type:"submit",class:"btn btn-primary"},eOa={class:"table-responsive"},tOa={class:"table"},oOa={class:""},aOa={class:"table-border-bottom-0"},nOa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Base Rate creation/updation awating approval"},sOa={key:0,class:"badge bg-label-success"},lOa={key:1,class:"badge bg-label-danger"},iOa={class:"flex"},rOa=["onClick"],dOa=["onClick"],cOa=["onClick","data-bs-target"],uOa=["id"],_Oa={class:"modal-dialog"},mOa={class:"modal-header"},fOa={class:"modal-title",id:"modalTopTitle"},hOa=["id"],pOa={class:"modal-body my-1"},vOa={class:"form-group"},gOa={for:"Name",class:"form-label"},bOa={class:"form-group my-1"},yOa={for:"Name",class:"form-label"},kOa={class:"form-group my-1"},$Oa={for:"Name",class:"form-label"},wOa={class:"form-group my-1"},DOa={for:"default",class:"form-label"},xOa={class:"d-flex text-nowrap"},COa={class:"form-check form-switch mb-2"},POa={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},EOa={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},AOa={class:"modal-footer"},IOa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},ROa={type:"submit",class:"btn btn-primary"},SOa=["data-bs-target"],TOa=["id"],jOa={class:"modal-dialog"},OOa={class:"modal-content"},MOa={class:"modal-header"},LOa={class:"modal-title",id:"modalTopTitle"},NOa=["id"],FOa={class:"modal-body my-1"},YOa={class:"col-sm-12 col-md-6 m_title"},VOa={class:"col-sm-12 col-md-6"},BOa={class:"modal-footer"},UOa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},qOa=["onClick"],HOa=["onClick"];function zOa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",bja,[e("div",yja,[e("div",kja,[e("div",$ja,[e("label",wja,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Base Rate Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[X,t.name_search]])]),e("div",Dja,[e("label",xja,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",Cja,n(o.$t("Status")),1),e("option",Pja,n(o.$t("Active")),1),e("option",Eja,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",Aja,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ija,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Rja,[e("div",Sja,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content"}},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",Tja,n(o.$t("New Base Rate")),1)):b("",!0),e("div",jja,[e("div",Oja,[e("form",{class:"modal-content",method:"POST",onSubmit:a[10]||(a[10]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",Mja,[e("h5",Lja,n(o.$t("Add New Base Rate")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Nja,[e("div",Fja,[e("label",Yja,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[X,t.name]])]),e("div",Vja,[e("label",Bja,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.rate=l),step:".01"},null,512),[[X,t.rate]])]),e("div",Uja,[e("label",qja,n(o.$t("Effective From")),1),Y(e("input",{type:"date",name:"effective_date",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.effective_date=l)},null,512),[[X,t.effective_date]])]),e("div",Hja,[e("label",zja,n(o.$t("Default Rate")),1),e("div",Wja,[e("div",Kja,[e("label",Gja,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[9]||(a[9]=l=>t.is_default=l)},null,512),[[Yo,t.is_default]]),e("label",Qja,n(o.$t("Yes")),1)])])])]),e("div",Zja,[e("button",Jja,n(o.$t("Close")),1),e("button",Xja,n(o.$t("Submit")),1)])],32)])])])]),e("div",eOa,[e("table",tOa,[e("thead",null,[e("tr",oOa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Rate"))+" (%)",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Default")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",aOa,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",nOa)):b("",!0)]),e("td",null,n(l.rate),1),e("td",null,[l.status=="Active"?(u(),f("span",sOa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",lOa,n(l.status),1)):b("",!0)]),e("td",null,[e("span",null,n(l.is_default?"Yes":"No"),1)]),e("td",iOa,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,rOa)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,dOa)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,cOa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",_Oa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[15]||(a[15]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",mOa,[e("h5",fOa,n(o.$t("Edit Base Rate")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+o.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,hOa)]),e("div",pOa,[e("div",vOa,[e("label",gOa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",bOa,[e("label",yOa,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",step:".01",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.rate=r)},null,512),[[X,t.rate]])]),e("div",kOa,[e("label",$Oa,n(o.$t("Effective From")),1),Y(e("input",{type:"date",name:"effective_date",id:"",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.effective_date=r)},null,512),[[X,t.effective_date]])]),e("div",wOa,[e("label",DOa,n(o.$t("Default Rate")),1),e("div",xOa,[e("div",COa,[e("label",POa,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[14]||(a[14]=r=>t.is_default=r)},null,512),[[Yo,t.is_default]]),e("label",EOa,n(o.$t("Yes")),1)])])])]),e("div",AOa,[e("button",IOa,n(o.$t("Close")),1),e("button",ROa,n(o.$t("Submit")),1)])],32)])],8,uOa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,SOa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",jOa,[e("div",OOa,[e("div",MOa,[e("h5",LOa,n(o.$t("Proposed Base Rate Changes")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-edited-rate-changes-"+l.id},null,8,NOa)]),e("div",FOa,[(u(!0),f(G,null,ee(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",YOa,n(i)+":",1),e("div",VOa,n(r),1)]))),128))]),e("div",BOa,[e("button",UOa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankBaseRate",l.id,"reject")},n(o.$t("Reject")),9,qOa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankBaseRate",l.id,"approve")},n(o.$t("Approve")),9,HOa)])])])],8,TOa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const WOa=Ue(gja,[["render",zOa],["__scopeId","data-v-c0b7ebf8"]]),KOa={name:"CompanyUsers",props:["bank"],components:{RouterLink:el,Pagination:St},setup(o){const a=lt(),s=Je("baseURL"),t=h([]),c=h([]),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h([]),g=h(""),w=h(""),y=h([]),x=h(""),C=h([]),E=h(""),D=h([]),k=h(""),I=h([]),V=h(""),B=h(""),L=h(""),F=h(50),T=async()=>{await A.get(s+o.bank+"/configurations/users/data",{params:{per_page:F.value}}).then(oe=>{t.value=oe.data.users,c.value=oe.data.roles})};return Qe(()=>{T()}),{base_url:s,per_page:F,bank:m,users:t,roles:c,name:_,email:l,phone_number:r,user_role:i,selected_role:d,receive_notifications:p,notification_channels:v,reporting_manager:g,record_visibility:w,record_visibilities:y,location_type:x,location_types:C,location:E,locations:D,applicable_product:k,applicable_products:I,search:V,role_search:B,status:L,filter:()=>{let oe=$(".ti-search").parent();oe.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/users/data",{params:{per_page:F.value,search:V.value,role:B.value,status:L.value}}).then(J=>{t.value=J.data.users}).finally(()=>{oe.html('<i class="ti ti-search"></i>')})},refresh:()=>{V.value="",B.value="",L.value="";let oe=$(".ti-refresh").parent();oe.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/users/data",{params:{per_page:F.value}}).then(J=>{t.value=J.data.users}).finally(()=>{oe.html('<i class="ti ti-refresh"></i>')})},approveChanges:oe=>{A.post(s+o.bank+"/configurations/users/"+oe+"/changes/approve",{status:"approved"}).then(J=>{a.success(J.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(J=>{a.error(J.response.data.message)})},rejectChanges:oe=>{A.post(s+o.bank+"/configurations/users/"+oe+"/changes/approve",{status:"rejected"}).then(J=>{a.success(J.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(J=>{a.error(J.response.data.message)})},updateUser:oe=>{A.post(s+o.bank+"/configurations/users/"+oe+"/update",{name:_.value,email:l.value,phone_number:r.value,role:i.value}).then(J=>{a.success(J.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(J=>{a.error(J.response.data.message)})},changePage:async oe=>{await A.get(oe,{params:{per_page:F.value}}).then(J=>{t.value=J.data.users})},updateActiveStatus:(oe,J)=>{A.get(s+o.bank+"/configurations/users/"+oe+"/status/update/"+J).then(K=>{T(),a.success(K.data.message)}).catch(K=>{console.log(K)})}}}},GOa={class:"p-2"},QOa={class:"d-flex justify-content-between"},ZOa={class:"d-flex flex-wrap gap-1"},JOa={class:""},XOa={class:"form-label"},eMa={class:""},tMa={class:"form-label"},oMa={class:""},aMa={class:"form-label"},nMa={value:""},sMa={value:"active"},lMa={value:"inactive"},iMa={class:"mt-auto"},rMa={class:"mt-auto"},dMa={class:"d-flex justify-content-end mt-auto"},cMa={class:""},uMa={class:"table-responsive"},_Ma={class:"table"},mMa={class:""},fMa={class:"table-border-bottom-0"},hMa={key:0},pMa={colspan:"12",class:"text-center"},vMa={class:"text-center"},gMa={key:1},bMa={colspan:"12",class:"text-center"},yMa={class:"text-center"},kMa={class:""},$Ma={key:0,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},wMa={key:1,class:"ti ti-info-circle ti-xs text-danger my-auto mx-2",title:"User Creation/Updation awaiting approval"},DMa={class:""},xMa={class:"d-flex"},CMa={key:0,class:"ti ti-clock ti-sm text-primary my-auto mx-2",title:"User Creation/Updation awaiting approval"},PMa=["data-bs-target"],EMa=["href"],AMa=["data-bs-target"],IMa=["data-bs-target"],RMa=["onClick"],SMa=["onClick"],TMa=["id"],jMa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},OMa=["onSubmit"],MMa={class:"modal-content"},LMa={class:"modal-header"},NMa={class:"modal-title",id:"modalCenterTitle"},FMa={class:"row g-3 p-3"},YMa={class:"col-sm-6"},VMa={class:"form-label",for:"name"},BMa={class:"col-sm-6"},UMa={class:"form-label",for:"email"},qMa={class:"col-sm-6"},HMa={class:"form-label",for:"phone-number"},zMa={class:"col-sm-6"},WMa={class:"form-label",for:"role"},KMa={value:""},GMa=["value","selected"],QMa={class:"modal-footer"},ZMa={type:"submit",class:"btn btn-primary"},JMa=["id"],XMa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},e9a=["onSubmit"],t9a={class:"modal-content"},o9a={class:"modal-header"},a9a={class:"modal-title",id:"modalCenterTitle"},n9a={key:0,class:"modal-body"},s9a={key:0},l9a={class:"m_title"},i9a={key:1},r9a={class:"modal-footer"},d9a={type:"submit",class:"btn btn-primary"},c9a=["id"],u9a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},_9a=["onSubmit"],m9a={class:"modal-content"},f9a={class:"modal-header"},h9a={class:"modal-title",id:"modalCenterTitle"},p9a={key:0,class:"modal-body"},v9a={key:0},g9a={class:"m_title"},b9a={key:1},y9a={class:"modal-footer"},k9a={type:"submit",class:"btn btn-primary"},$9a=["id"],w9a={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},D9a={class:"modal-content"},x9a={class:"modal-header"},C9a={class:"modal-title",id:"modalCenterTitle"},P9a={key:0,class:"modal-body"},E9a={key:0},A9a={class:"m_title"},I9a={key:1};function R9a(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",GOa,[e("div",QOa,[e("div",ZOa,[e("div",JOa,[e("label",XOa,n(o.$t("User Name/Email/Phone Number")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[1]||(a[1]=l=>t.search=l),placeholder:"User Name/User Email/Phone Number","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.search]])]),e("div",eMa,[e("label",tMa,n(o.$t("Roles")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[3]||(a[3]=l=>t.role_search=l),placeholder:"User Roles","aria-describedby":"defaultFormControlHelp"},null,544),[[X,t.role_search]])]),e("div",oMa,[e("label",aMa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=l=>t.status=l)},[e("option",nMa,n(o.$t("Status")),1),e("option",sMa,n(o.$t("Active")),1),e("option",lMa,n(o.$t("Inactive")),1)],512),[[de,t.status]])]),e("div",iMa,[e("button",{class:"btn btn-primary",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",rMa,[e("button",{class:"btn btn-primary",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",dMa,[e("div",cMa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",uMa,[e("table",_Ma,[e("thead",null,[e("tr",mMa,[e("th",null,n(o.$t("User Name")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Phone Number")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",fMa,[t.users.data?b("",!0):(u(),f("tr",hMa,[e("td",pMa,[e("span",vMa,n(o.$t("Loading Data"))+"...",1)])])),t.users.data&&t.users.data.length<=0?(u(),f("tr",gMa,[e("td",bMa,[e("span",yMa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.users.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",kMa,[le(n(l.name)+" ",1),l.has_pending_config?(u(),f("i",$Ma)):b("",!0),l.changes?(u(),f("i",wMa)):b("",!0)]),e("td",null,n(l.roles.length>0?l.roles[0].name:""),1),e("td",DMa,n(l.email),1),e("td",null,[e("span",null,n(l.phone_number),1)]),e("td",xMa,[l.has_pending_config?(u(),f("i",CMa)):b("",!0),l.changes?(u(),f("i",{key:1,class:"ti ti-clock ti-sm text-primary my-auto mx-2",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#user-change-"+l.id,title:"User Creation/Updation awaiting approval"},null,8,PMa)):b("",!0),l.can_edit&&!l.has_pending_config&&!l.changes?(u(),f("a",{key:2,href:"users/"+l.id+"/edit",class:"",title:"Edit User Details"},a[15]||(a[15]=[e("i",{class:"ti ti-pencil text-warning"},null,-1)]),8,EMa)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:3,href:"#",class:"",title:"Approve User Details Change","data-bs-toggle":"modal","data-bs-target":"#approve-user-change-"+l.id},a[16]||(a[16]=[e("i",{class:"ti ti-check text-success"},null,-1)]),8,AMa)):b("",!0),l.can_approve_changes&&l.changes?(u(),f("a",{key:4,href:"#",class:"",title:"Reject User Details Change","data-bs-toggle":"modal","data-bs-target":"#reject-user-change-"+l.id},a[17]||(a[17]=[e("i",{class:"ti ti-circle-x text-danger mx-1"},null,-1)]),8,IMa)):b("",!0),!l.is_current_user&&!l.has_pending_config&&l.banks[0].pivot.active==1?(u(),f("i",{key:5,class:"ti ti-thumb-up ti-sm text-success my-auto mx-2",title:"Click to Suspend User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,RMa)):b("",!0),!l.is_current_user&&!l.has_pending_config&&l.banks[0].pivot.active==0?(u(),f("i",{key:6,class:"ti ti-thumb-down ti-sm text-danger my-auto mx-2",title:"Click to Activate User",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,SMa)):b("",!0),e("div",{class:"modal fade",id:"update-user-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",jMa,[e("form",{method:"post",onSubmit:st(r=>t.updateUser(l.id),["prevent"])},[e("div",MMa,[e("div",LMa,[e("h5",NMa,n(o.$t("Edit User")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",FMa,[e("div",YMa,[e("label",VMa,n(o.$t("Name")),1),Y(e("input",{type:"text",id:"name",name:"name",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",BMa,[e("label",UMa,n(o.$t("Email")),1),Y(e("input",{type:"email",id:"email",name:"email",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=r=>t.email=r)},null,512),[[X,t.email]])]),e("div",qMa,[e("label",HMa,n(o.$t("Phone Number")),1),Y(e("input",{type:"tel",id:"phone-number",class:"form-control",name:"phone_number",placeholder:"Enter Phone Number","onUpdate:modelValue":a[10]||(a[10]=r=>t.phone_number=r),maxlength:"12"},null,512),[[X,t.phone_number]])]),e("div",zMa,[e("label",WMa,n(o.$t("Role")),1),Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=r=>t.user_role=r)},[e("option",KMa,n(o.$t("Select User's Role")),1),(u(!0),f(G,null,ee(t.roles,r=>(u(),f("option",{key:r.id,value:r.id,selected:r.RoleName==t.selected_role},n(r.RoleName),9,GMa))),128))],512),[[de,t.user_role]])])]),e("div",QMa,[e("button",ZMa,n(o.$t("Submit")),1)])])],40,OMa)])],8,TMa),e("div",{class:"modal fade",id:"approve-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",XMa,[e("form",{method:"post",onSubmit:st(r=>t.approveChanges(l.id),["prevent"])},[e("div",t9a,[e("div",o9a,[e("h5",a9a,n(o.$t("Edit User")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",n9a,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",s9a,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{key:d,class:"d-flex flex-col"},[e("span",l9a,n(p.replaceAll("_"," ")),1),le(": "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",i9a,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0),e("div",r9a,[e("button",d9a,n(o.$t("Confirm")),1)])])],40,e9a)])],8,JMa),e("div",{class:"modal fade",id:"reject-user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",u9a,[e("form",{method:"post",onSubmit:st(r=>t.rejectChanges(l.id),["prevent"])},[e("div",m9a,[e("div",f9a,[e("h5",h9a,n(o.$t("Edit User")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",p9a,[e("h5",null,n(o.$t("Are you sure you want to approve the user changes"))+"?",1),(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",v9a,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{key:d},[e("span",g9a,n(p),1),le(": "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",b9a,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0),e("div",y9a,[e("button",k9a,n(o.$t("Confirm")),1)])])],40,_9a)])],8,c9a),l.changes?(u(),f("div",{key:7,class:"modal fade",id:"user-change-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",w9a,[e("div",D9a,[e("div",x9a,[e("h5",C9a,n(o.$t("User Changes")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),l.changes?(u(),f("div",P9a,[(u(!0),f(G,null,ee(l.changes.changes,(r,i)=>(u(),f("div",{key:r},[i=="User"?(u(),f("div",E9a,[(u(!0),f(G,null,ee(r,(d,p)=>(u(),f("span",{class:"d-flex",key:d},[e("div",A9a,n(p.replaceAll("_"," ")),1),le(" : "+n(d),1)]))),128))])):b("",!0),i=="Role"?(u(),f("div",I9a,[e("span",null,n(o.$t("Role"))+" - "+n(r),1)])):b("",!0)]))),128))])):b("",!0)])])],8,$9a)):b("",!0)])]))),128))])])]),Be(_,{from:t.users.from,to:t.users.to,links:t.users.links,next_page:t.users.next_page_url,prev_page:t.users.prev_page_url,total_items:t.users.total,first_page_url:t.users.first_page_url,last_page_url:t.users.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const S9a=Ue(KOa,[["render",R9a],["__scopeId","data-v-4fbce071"]]),T9a={name:"Taxes",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(!0),g=h(""),w=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(L=>{l.value=L.data}).catch(L=>{console.log(L)})},x=L=>{g.value=L.id,i.value=L.tax_name,d.value=L.value,p.value=L.account_no,v.value=L.is_default,w.value=!0},C=()=>{A.post(s+o.bank+"/configurations/tax-rates/store",{tax_name:i.value,value:d.value,account_no:p.value,is_default:v.value}).then(L=>{a.success(L.data.message),i.value="",d.value="",p.value="",v.value=!1,y(),document.getElementById("close-add-modal").click()}).catch(L=>{console.log(L),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/tax-rates/update",{tax_rate_id:g.value,tax_name:i.value,value:d.value,account_no:p.value,is_default:v.value}).then(L=>{a.success(L.data.message),g.value="",i.value="",d.value="",p.value="",v.value=!1,w.value=!1,y(),document.getElementById("close-edit-modal-"+g.value)}).catch(L=>{console.log(L),a.error("An error occurred")})},D=(L,F)=>{A.get(s+o.bank+`/configurations/tax-rates/${L}/status/${F}/update`).then(()=>{y(),a.success("Status updated")}).catch(T=>{console.log(T)})},k=(L,F,T)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:L,id:F,status:T}).then(P=>{a.success(P.data.message),y(),document.getElementById("close-changes-modal-"+F)}).catch(P=>{console.log(P),a.error("An error occurred")})};Qe(()=>{y()});const I=()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(F=>{l.value=F.data}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},V=()=>{m.value="",_.value="";let L=$(".ti-refresh").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:r.value}}).then(F=>{l.value=F.data}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})};return ot(r,L=>{A.get(s+o.bank+"/configurations/tax-rates/data",{params:{per_page:L,name:m.value,status:_.value}}).then(F=>{l.value=F.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,rate:d,account_no:p,is_default:v,showEditModal:w,addNewBaseRate:C,updateBaseRate:E,updateActiveStatus:D,editBaseRate:x,approveChange:k,changePage:async L=>{await A.get(L,{params:{per_page:r.value,name:m.value,status:_.value}}).then(F=>{l.value=F.data})},filter:I,refresh:V,name_search:m,status_search:_}}},j9a={class:"card p-2"},O9a={class:"d-flex justify-content-between"},M9a={class:"d-flex flex-wrap gap-1"},L9a={class:""},N9a={for:"Name",class:"form-label"},F9a={class:""},Y9a={for:"Status Search",class:"form-label"},V9a={value:""},B9a={value:"active"},U9a={value:"inactive"},q9a={class:"table-search-btn"},H9a={class:"table-clear-btn"},z9a={class:"d-flex justify-content-end gap-1 mt-auto"},W9a={class:""},K9a={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},G9a={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},Q9a={class:"modal-dialog"},Z9a={class:"modal-header"},J9a={class:"modal-title",id:"modalTopTitle"},X9a={class:"modal-body my-1"},e7a={class:"form-group"},t7a={for:"Name",class:"form-label"},o7a={class:"form-group my-1"},a7a={for:"Name",class:"form-label"},n7a={class:"form-group my-1"},s7a={for:"Name",class:"form-label"},l7a={class:"form-group my-1"},i7a={for:"default",class:"form-label"},r7a={class:"d-flex text-nowrap"},d7a={class:"form-check form-switch mb-2"},c7a={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},u7a={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},_7a={class:"modal-footer"},m7a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},f7a={type:"submit",class:"btn btn-primary"},h7a={class:"table-responsive"},p7a={class:"table"},v7a={class:""},g7a={class:"table-border-bottom-0"},b7a={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Tax Rate creation/updation awating approval"},y7a={key:0,class:"badge bg-label-success"},k7a={key:1,class:"badge bg-label-danger"},$7a={class:"flex"},w7a=["onClick"],D7a=["onClick"],x7a=["onClick","data-bs-target"],C7a=["id"],P7a={class:"modal-dialog"},E7a={class:"modal-header"},A7a={class:"modal-title",id:"modalTopTitle"},I7a=["id"],R7a={class:"modal-body my-1"},S7a={class:"form-group"},T7a={for:"Name",class:"form-label"},j7a={class:"form-group my-1"},O7a={for:"Name",class:"form-label"},M7a={class:"form-group my-1"},L7a={for:"Name",class:"form-label"},N7a={class:"form-group my-1"},F7a={for:"default",class:"form-label"},Y7a={class:"d-flex text-nowrap"},V7a={class:"form-check form-switch mb-2"},B7a={class:"form-check-label no-label",for:"flexSwitchCheckChecked"},U7a={class:"form-check-label yes-label",for:"flexSwitchCheckChecked"},q7a={class:"modal-footer"},H7a={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},z7a={type:"submit",class:"btn btn-primary"},W7a=["data-bs-target"],K7a=["id"],G7a={class:"modal-dialog"},Q7a={class:"modal-content"},Z7a={class:"modal-header"},J7a={class:"modal-title",id:"modalTopTitle"},X7a=["id"],eLa={class:"modal-body my-1"},tLa={class:"col-sm-12 col-md-6 m_title"},oLa={class:"col-sm-12 col-md-6"},aLa={class:"modal-footer"},nLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},sLa=["onClick"],lLa=["onClick"];function iLa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",j9a,[e("div",O9a,[e("div",M9a,[e("div",L9a,[e("label",N9a,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l)},null,512),[[X,t.name_search]])]),e("div",F9a,[e("label",Y9a,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[1]||(a[1]=l=>t.status_search=l)},[e("option",V9a,n(o.$t("Status")),1),e("option",B9a,n(o.$t("Active")),1),e("option",U9a,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",q9a,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",H9a,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",z9a,[e("div",W9a,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",K9a,n(o.$t("New Tax Rate")),1)):b("",!0),e("div",G9a,[e("div",Q9a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",Z9a,[e("h5",J9a,n(o.$t("Add New Tax Rate")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",X9a,[e("div",e7a,[e("label",t7a,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=l=>t.name=l),required:""},null,512),[[X,t.name]])]),e("div",o7a,[e("label",a7a,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.rate=l),step:".01",required:""},null,512),[[X,t.rate]])]),e("div",n7a,[e("label",s7a,n(o.$t("Account No")),1),Y(e("input",{type:"number",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.account_no=l),required:""},null,512),[[X,t.account_no]])]),e("div",l7a,[e("label",i7a,n(o.$t("Default Rate")),1),e("div",r7a,[e("div",d7a,[e("label",c7a,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[8]||(a[8]=l=>t.is_default=l)},null,512),[[Yo,t.is_default]]),e("label",u7a,n(o.$t("Yes")),1)])])])]),e("div",_7a,[e("button",m7a,n(o.$t("Close")),1),e("button",f7a,n(o.$t("Submit")),1)])],32)])])])]),e("div",h7a,[e("table",p7a,[e("thead",null,[e("tr",v7a,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Rate"))+" (%)",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Default")),1),e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",g7a,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.tax_name)+" ",1),l.change||l.proposed_update?(u(),f("i",b7a)):b("",!0)]),e("td",null,n(l.value),1),e("td",null,[l.status=="Active"?(u(),f("span",y7a,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",k7a,n(l.status),1)):b("",!0)]),e("td",null,[e("span",null,n(l.is_default?"Yes":"No"),1)]),e("td",null,n(l.account_no),1),e("td",$7a,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,w7a)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,D7a)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,x7a)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",P7a,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",E7a,[e("h5",A7a,n(o.$t("Edit Tax Rate")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,I7a)]),e("div",R7a,[e("div",S7a,[e("label",T7a,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=r=>t.name=r),required:""},null,512),[[X,t.name]])]),e("div",j7a,[e("label",O7a,n(o.$t("Rate")),1),Y(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=r=>t.rate=r),step:".01",required:""},null,512),[[X,t.rate]])]),e("div",M7a,[e("label",L7a,n(o.$t("Account No")),1),Y(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.account_no=r),required:""},null,512),[[X,t.account_no]])]),e("div",N7a,[e("label",F7a,n(o.$t("Default Rate")),1),e("div",Y7a,[e("div",V7a,[e("label",B7a,n(o.$t("No")),1),Y(e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",name:"is_default",value:"true","onUpdate:modelValue":a[13]||(a[13]=r=>t.is_default=r)},null,512),[[Yo,t.is_default]]),e("label",U7a,n(o.$t("Yes")),1)])])])]),e("div",q7a,[e("button",H7a,n(o.$t("Close")),1),e("button",z7a,n(o.$t("Submit")),1)])],32)])],8,C7a),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,W7a)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",G7a,[e("div",Q7a,[e("div",Z7a,[e("h5",J7a,n(o.$t("Proposed Holiday Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,X7a)]),e("div",eLa,[(u(!0),f(G,null,ee(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",tLa,n(i)+":",1),e("div",oLa,n(r),1)]))),128))]),e("div",aLa,[e("button",nLa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankTaxRate",l.id,"reject")},n(o.$t("Reject")),9,sLa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankTaxRate",l.id,"approve")},n(o.$t("Approve")),9,lLa)])])])],8,K7a)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const rLa=Ue(T9a,[["render",iLa],["__scopeId","data-v-6e8d67cb"]]),dLa={name:"Holidays",components:{Pagination:St},props:["bank","can_update","can_upload","date_format"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=o.date_format,_=h([]),l=h(50),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(""),w=h(!1),y=async()=>{await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})};ot(l,P=>{A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:P,name:d.value,status:p.value}}).then(R=>{_.value=R.data})});const x=async()=>{await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value,name:d.value,status:p.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})},C=async()=>{d.value="",p.value="",await A.get(s+o.bank+"/configurations/holidays/data",{params:{per_page:l.value}}).then(P=>{_.value=P.data}).catch(P=>{console.log(P)})},E=()=>{A.get(s+o.bank+"/configurations/holidays/sample/download",{responseType:"arraybuffer",method:"GET"}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download","Holidays.csv"),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)})},D=P=>{P.preventDefault();let R=P.target.files||P.dataTransfer.files;R.length&&(v.value=R[0])},k=()=>{const P=new FormData;P.append("holidays",v.value),A.post(s+o.bank+"/configurations/holidays/import",P).then(R=>{a.success("Holidays uploaded successfully"),y()}).catch(R=>{R.response.data.uploaded>0&&a.success(R.response.data.uploaded+" uploaded."),R.response.data.total_rows-R.response.data.uploaded>0&&(a.error(R.response.data.total_rows-R.response.data.uploaded+" failed to upload."),a.error("An error occurred")),v.value=null,document.getElementById("close-bulk-upload-modal").click()}).finally(()=>{y()})},I=P=>{g.value=P.id,r.value=P.name,i.value=P.date,w.value=!0},V=()=>{A.post(s+o.bank+"/configurations/holidays/store",{name:r.value,date:i.value}).then(P=>{a.success(P.data.message),r.value="",i.value="",setTimeout(()=>{window.location.reload()},4e3)}).catch(P=>{console.log(P),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/holidays/update",{edit_id:g.value,name:r.value,date:i.value}).then(P=>{a.success(P.data.message),g.value="",r.value="",i.value="",w.value=!1,setTimeout(()=>{window.location.reload()},3e3)}).catch(P=>{console.log(P),a.error("An error occurred")})},L=(P,R)=>{A.get(s+o.bank+`/configurations/holiday/${P}/status/${R}/update`).then(()=>{y(),a.success("Status updated")}).catch(O=>{console.log(O)})},F=(P,R,O)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:P,id:R,status:O}).then(N=>{a.success(N.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(N=>{console.log(N),a.error("An error occurred")})};return Qe(()=>{y()}),{per_page:l,can_upload:c,can_update:t,rates:_,name:r,date:i,showEditModal:w,name_search:d,status_search:p,filter:x,refresh:C,addNewBaseRate:V,updateBaseRate:B,editBaseRate:I,updateActiveStatus:L,approveChange:F,changePage:async P=>{await A.get(P,{params:{per_page:l.value}}).then(R=>{_.value=R.data})},downloadSample:E,changeFile:D,uploadHolidays:k,moment:H,date_format:m}}},cLa={class:"card p-2"},uLa={class:"d-flex justify-content-between"},_La={class:"d-flex flex-wrap gap-1"},mLa={class:""},fLa={for:"Name",class:"form-label"},hLa=["placeholder"],pLa={class:""},vLa={for:"Status",class:"form-label"},gLa={value:""},bLa={value:"active"},yLa={value:"inactive"},kLa={class:"table-search-btn"},$La={class:"table-clear-btn"},wLa={class:"d-flex justify-content-end gap-1 mt-auto"},DLa={class:""},xLa={class:""},CLa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},PLa={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},ELa={class:"modal-dialog"},ALa={class:"modal-header"},ILa={class:"modal-title",id:"modalTopTitle"},RLa={class:"modal-body my-1"},SLa={class:"form-group"},TLa={for:"Name",class:"form-label"},jLa={class:"form-group my-1"},OLa={for:"Name",class:"form-label"},MLa={class:"modal-footer"},LLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},NLa={type:"submit",class:"btn btn-primary"},FLa={key:0,type:"button",class:"btn btn-primary btn-md text-nowrap","data-bs-toggle":"modal","data-bs-target":"#uploadHolidays"},YLa={class:"modal modal-top fade",id:"uploadHolidays",tabindex:"-1"},VLa={class:"modal-dialog"},BLa={class:"modal-header"},ULa={class:"modal-title",id:"modalTopTitle"},qLa={class:"modal-body my-1"},HLa={class:"form-group"},zLa={for:"Name",class:"form-label"},WLa={class:"modal-footer"},KLa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},GLa={type:"submit",class:"btn btn-primary"},QLa={class:"table-responsive"},ZLa={class:"table"},JLa={class:""},XLa={class:"table-border-bottom-0"},eNa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Holiday creation/updation awating approval"},tNa={key:0,class:"badge bg-label-success"},oNa={key:1,class:"badge bg-label-danger"},aNa={class:"flex"},nNa=["onClick"],sNa=["onClick"],lNa=["onClick","data-bs-target"],iNa=["id"],rNa={class:"modal-dialog"},dNa={class:"modal-header"},cNa={class:"modal-title",id:"modalTopTitle"},uNa={class:"modal-body my-1"},_Na={class:"form-group"},mNa={for:"Name",class:"form-label"},fNa={class:"form-group my-1"},hNa={for:"Name",class:"form-label"},pNa={class:"modal-footer"},vNa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},gNa={type:"submit",class:"btn btn-primary"},bNa=["data-bs-target"],yNa=["id"],kNa={class:"modal-dialog"},$Na={class:"modal-content"},wNa={class:"modal-header"},DNa={class:"modal-title",id:"modalTopTitle"},xNa={class:"modal-body my-1"},CNa={class:"col-sm-12 col-md-6 m_title"},PNa={class:"col-sm-12 col-md-6"},ENa={class:"modal-footer"},ANa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},INa=["onClick"],RNa=["onClick"];function SNa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",cLa,[e("div",uLa,[e("div",_La,[e("div",mLa,[e("label",fLa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:o.$t("Name"),"aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,40,hLa),[[X,t.name_search]])]),e("div",pLa,[e("label",vLa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",gLa,n(o.$t("Status")),1),e("option",bLa,n(o.$t("Active")),1),e("option",yLa,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",kLa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$La,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wLa,[e("div",DLa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content",width:"5rem"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",xLa,[t.can_upload?(u(),f("button",CLa,n(o.$t("Add New Holiday")),1)):b("",!0)]),e("div",PLa,[e("div",ELa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[8]||(a[8]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",ALa,[e("h5",ILa,n(o.$t("Add New Holiday")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",RLa,[e("div",SLa,[e("label",TLa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[X,t.name]])]),e("div",jLa,[e("label",OLa,n(o.$t("Date")),1),Y(e("input",{type:"date",min:"0",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.date=l)},null,512),[[X,t.date]])])]),e("div",MLa,[e("button",LLa,n(o.$t("Close")),1),e("button",NLa,n(o.$t("Submit")),1)])],32)])]),e("div",null,[t.can_upload?(u(),f("button",FLa,n(o.$t("Bulk Upload")),1)):b("",!0)]),e("div",YLa,[e("div",VLa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[11]||(a[11]=st((...l)=>t.uploadHolidays&&t.uploadHolidays(...l),["prevent"]))},[e("div",BLa,[e("h5",ULa,n(o.$t("Upload Holidays")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close",id:"close-bulk-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",qLa,[e("div",HLa,[e("label",zLa,n(o.$t("Select File")),1),e("input",{type:"file",accept:".xlsx,.csv",id:"",class:"form-control",onChange:a[9]||(a[9]=(...l)=>t.changeFile&&t.changeFile(...l))},null,32)])]),e("div",WLa,[e("button",{class:"btn btn-warning",onClick:a[10]||(a[10]=(...l)=>t.downloadSample&&t.downloadSample(...l))},n(o.$t("Download Sample")),1),e("button",KLa,n(o.$t("Close")),1),e("button",GLa,n(o.$t("Upload")),1)])],32)])])])]),e("div",QLa,[e("table",ZLa,[e("thead",null,[e("tr",JLa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",XLa,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",eNa)):b("",!0)]),e("td",null,n(t.moment(l.date).format(t.date_format)),1),e("td",null,[l.status=="Active"?(u(),f("span",tNa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",oNa,n(l.status),1)):b("",!0)]),e("td",aNa,[!l.change&&l.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Holiday",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"inactive")},null,8,nNa)):b("",!0),!l.change&&l.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Holiday",style:{cursor:"pointer"},onClick:r=>t.updateActiveStatus(l.id,"active")},null,8,sNa)):b("",!0),!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,lNa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",rNa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[14]||(a[14]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",dNa,[e("h5",cNa,n(o.$t("Edit Holiday")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",uNa,[e("div",_Na,[e("label",mNa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",fNa,[e("label",hNa,n(o.$t("Date")),1),Y(e("input",{type:"date",min:"0",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.date=r)},null,512),[[X,t.date]])])]),e("div",pNa,[e("button",vNa,n(o.$t("Close")),1),e("button",gNa,n(o.$t("Submit")),1)])],32)])],8,iNa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,bNa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",kNa,[e("div",$Na,[e("div",wNa,[e("h5",DNa,n(o.$t("Proposed Holiday Changes")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close",id:"close-changes-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xNa,[(u(!0),f(G,null,ee(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",CNa,n(i)+":",1),e("div",PNa,n(r),1)]))),128))]),e("div",ENa,[e("button",ANa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankHoliday",l.id,"reject")},n(o.$t("Reject")),9,INa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankHoliday",l.id,"approve")},n(o.$t("Approve")),9,RNa)])])])],8,yNa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const TNa=Ue(dLa,[["render",SNa],["__scopeId","data-v-9c776401"]]),jNa={name:"Branches",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h([]),r=h(50),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(!1),C=async()=>{await A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value}}).then(F=>{l.value=F.data}).catch(F=>{console.log(F)})},E=F=>{y.value=F.id,i.value=F.name,d.value=F.code,p.value=F.location,v.value=F.status=="Active"?"active":"inactive",w.value=F.address,g.value=F.address,x.value=!0},D=()=>{A.post(s+o.bank+"/configurations/branches/store",{name:i.value,code:d.value,location:p.value,city:g.value,address:w.value,status:v.value}).then(F=>{a.success(F.data.message),i.value="",d.value="",p.value="",w.value="",g.value="",v.value="active",C(),document.getElementById("close-add-modal").click()}).catch(F=>{console.log(F),a.error("An error occurred")})},k=()=>{A.post(s+o.bank+"/configurations/branches/update",{branch_id:y.value,name:i.value,code:d.value,location:p.value,city:g.value,address:w.value,status:v.value}).then(F=>{a.success(F.data.message),y.value="",i.value="",d.value="",p.value="",g.value="",w.value="",v.value="active",x.value=!1,C(),document.getElementById("clode-edit-modal-"+y.value)}).catch(F=>{console.log(F),a.error("An error occurred")})},I=(F,T,P)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:F,id:T,status:P}).then(R=>{a.success(R.data.message),C()}).catch(R=>{console.log(R),a.error("An error occurred")})};return Qe(()=>{C()}),ot(r,F=>{A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:F,name:m.value,status:_.value}}).then(T=>{l.value=T.data})}),{per_page:r,can_upload:c,can_update:t,rates:l,name:i,code:d,location:p,address:w,city:g,status:v,showEditModal:x,addNewBranch:D,updateBranch:k,editBranch:E,approveChange:I,changePage:async F=>{await A.get(F,{params:{per_page:r.value}}).then(T=>{l.value=T.data})},filter:()=>{let F=$(".ti-search").parent();F.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value,name:m.value,status:_.value}}).then(T=>{l.value=T.data}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},refresh:()=>{m.value="",_.value="";let F=$(".ti-refresh").parent();F.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/branches/data",{params:{per_page:r.value}}).then(T=>{l.value=T.data}).finally(()=>{F.html('<i class="ti ti-refresh"></i>')})},name_search:m,status_search:_}}},ONa={class:"card p-2"},MNa={class:"d-flex justify-content-between"},LNa={class:"d-flex flex-wrap gap-1"},NNa={class:""},FNa={for:"Name Search",class:"form-label"},YNa={class:""},VNa={for:"Status Search",class:"form-label"},BNa={value:""},UNa={value:"active"},qNa={value:"inactive"},HNa={class:"table-search-btn"},zNa={class:"table-clear-btn"},WNa={class:"d-flex justify-content-end gap-1 mt-auto"},KNa={class:""},GNa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBranch"},QNa={class:"modal modal-top fade",id:"addBranch",tabindex:"-1"},ZNa={class:"modal-dialog"},JNa={class:"modal-header"},XNa={class:"modal-title",id:"modalTopTitle"},eFa={class:"modal-body my-1"},tFa={class:"form-group"},oFa={for:"Name",class:"form-label"},aFa={class:"form-group my-1"},nFa={for:"Name",class:"form-label"},sFa={class:"form-group my-1"},lFa={for:"Name",class:"form-label"},iFa={class:"form-group my-1"},rFa={for:"Name",class:"form-label"},dFa={class:"form-group my-1"},cFa={for:"Name",class:"form-label"},uFa={class:"modal-footer"},_Fa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},mFa={type:"submit",class:"btn btn-primary"},fFa={class:"table-responsive"},hFa={class:"table"},pFa={class:""},vFa={class:"table-border-bottom-0"},gFa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Tax Rate creation/updation awating approval"},bFa={key:0,class:"badge bg-label-success"},yFa={key:1,class:"badge bg-label-danger"},kFa={class:"flex"},$Fa=["onClick","data-bs-target"],wFa=["id"],DFa={class:"modal-dialog"},xFa={class:"modal-header"},CFa={class:"modal-title",id:"modalTopTitle"},PFa=["id"],EFa={class:"modal-body my-1"},AFa={class:"form-group"},IFa={for:"Name",class:"form-label"},RFa={class:"form-group my-1"},SFa={for:"Name",class:"form-label"},TFa={class:"form-group my-1"},jFa={for:"Name",class:"form-label"},OFa={class:"form-group my-1"},MFa={for:"Name",class:"form-label"},LFa={class:"form-group my-1"},NFa={for:"Name",class:"form-label"},FFa={class:"form-group my-1"},YFa={for:"Name",class:"form-label"},VFa={value:"active"},BFa={value:"inactive"},UFa={class:"modal-footer"},qFa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},HFa={type:"submit",class:"btn btn-primary"},zFa=["data-bs-target"],WFa=["id"],KFa={class:"modal-dialog"},GFa={class:"modal-content"},QFa={class:"modal-header"},ZFa={class:"modal-title",id:"modalTopTitle"},JFa=["id"],XFa={class:"modal-body my-1"},eYa={class:"col-sm-12 col-md-6 m_title"},tYa={class:"col-sm-12 col-md-6"},oYa={class:"modal-footer"},aYa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},nYa=["onClick"],sYa=["onClick"];function lYa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",ONa,[e("div",MNa,[e("div",LNa,[e("div",NNa,[e("label",FNa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search Branch Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[X,t.name_search]])]),e("div",YNa,[e("label",VNa,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=l=>t.status_search=l)},[e("option",BNa,n(o.$t("Status")),1),e("option",UNa,n(o.$t("Active")),1),e("option",qNa,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",HNa,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[19]||(a[19]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zNa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...l)=>t.refresh&&t.refresh(...l))},a[20]||(a[20]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",WNa,[e("div",KNa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l),style:{height:"fit-content"}},a[21]||(a[21]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",GNa,n(o.$t("New Branch")),1)):b("",!0),e("div",QNa,[e("div",ZNa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[11]||(a[11]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[e("div",JNa,[e("h5",XNa,n(o.$t("Add New Branch")),1),a[22]||(a[22]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",eFa,[e("div",tFa,[e("label",oFa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=l=>t.name=l)},null,512),[[X,t.name]])]),e("div",aFa,[e("label",nFa,n(o.$t("Code")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=l=>t.code=l)},null,512),[[X,t.code]])]),e("div",sFa,[e("label",lFa,n(o.$t("Location")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.location=l)},null,512),[[X,t.location]])]),e("div",iFa,[e("label",rFa,n(o.$t("City")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.city=l)},null,512),[[X,t.city]])]),e("div",dFa,[e("label",cFa,n(o.$t("Address")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=l=>t.address=l)},null,512),[[X,t.address]])])]),e("div",uFa,[e("button",_Fa,n(o.$t("Close")),1),e("button",mFa,n(o.$t("Submit")),1)])],32)])])])]),e("div",fFa,[e("table",hFa,[e("thead",null,[e("tr",pFa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Location")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",vFa,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.propsed_update?(u(),f("i",gFa)):b("",!0)]),e("td",null,n(l.code),1),e("td",null,n(l.location),1),e("td",null,[l.status=="Active"?(u(),f("span",bFa,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",yFa,n(l.status),1)):b("",!0)]),e("td",kFa,[!l.change&&!l.propsed_update&&t.can_update?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,$Fa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",DFa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[18]||(a[18]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[e("div",xFa,[e("h5",CFa,n(o.$t("Edit Holiday")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,PFa)]),e("div",EFa,[e("div",AFa,[e("label",IFa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",RFa,[e("label",SFa,n(o.$t("Code")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=r=>t.code=r)},null,512),[[X,t.code]])]),e("div",TFa,[e("label",jFa,n(o.$t("Location")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=r=>t.location=r)},null,512),[[X,t.location]])]),e("div",OFa,[e("label",MFa,n(o.$t("City")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=r=>t.city=r)},null,512),[[X,t.city]])]),e("div",LFa,[e("label",NFa,n(o.$t("Address")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=r=>t.address=r)},null,512),[[X,t.address]])]),e("div",FFa,[e("label",YFa,n(o.$t("Status")),1),Y(e("select",{name:"status",id:"",class:"form-control my-1","onUpdate:modelValue":a[17]||(a[17]=r=>t.status=r)},[e("option",VFa,n(o.$t("Active")),1),e("option",BFa,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",UFa,[e("button",qFa,n(o.$t("Close")),1),e("button",HFa,n(o.$t("Submit")),1)])],32)])],8,wFa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:1,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,zFa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:2,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",KFa,[e("div",GFa,[e("div",QFa,[e("h5",ZFa,n(o.$t("Proposed Holiday Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,JFa)]),e("div",XFa,[(u(!0),f(G,null,ee(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",eYa,n(i)+":",1),e("div",tYa,n(r),1)]))),128))]),e("div",oYa,[e("button",aYa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankBranch",l.id,"reject")},n(o.$t("Reject")),9,nYa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankBranch",l.id,"approve")},n(o.$t("Approve")),9,sYa)])])])],8,WFa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const iYa=Ue(jNa,[["render",lYa],["__scopeId","data-v-dab87e91"]]),rYa={name:"FeesMaster",components:{Pagination:St},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(""),C=h(""),E=h(""),D=h(""),k=h("active"),I=h(""),V=h(!1),B=async()=>{await A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(S=>{r.value=S.data}).catch(S=>{console.log(S)})},L=S=>{I.value=S.id,d.value=S.name,p.value=S.account_number,v.value=S.fees_account_branch_specific?"yes":"no",g.value=S.discount_bearing?"yes":"no",w.value=S.tax_name,y.value=S.tax_percent,x.value=S.tax_account_number,C.value=S.tax_account_branch_specific?"yes":"no",E.value=S.service_code,D.value=S.sac,k.value=S.status=="Active"?"active":"inactive",V.value=!0},F=()=>{A.post(s+o.bank+"/configurations/fees-master/store",{name:d.value,account_number:p.value,fees_account_branch_specific:v.value,discount_bearing:g.value,tax_name:w.value,tax_percent:y.value,tax_account_number:x.value,tax_account_branch_specific:C.value,service_code:E.value,sac:D.value,status:k.value}).then(S=>{a.success(S.data.message),d.value="",p.value="",v.value="",g.value="",w.value="",y.value="",x.value="",C.value="",E.value="",D.value="",k.value="",B(),document.getElementById("close-add-modal").click()}).catch(S=>{console.log(S),a.error("An error occurred")})},T=()=>{A.post(s+o.bank+"/configurations/fees-master/update",{fees_master_id:I.value,name:d.value,account_number:p.value,fees_account_branch_specific:v.value,discount_bearing:g.value,tax_name:w.value,tax_percent:y.value,tax_account_number:x.value,tax_account_branch_specific:C.value,service_code:E.value,sac:D.value,status:k.value}).then(S=>{a.success(S.data.message),I.value="",d.value="",p.value="",v.value="",g.value="",w.value="",y.value="",x.value="",C.value="",E.value="",D.value="",k.value="",V.value=!1,document.getElementById("close-edit-modal-"+I.value).click(),B()}).catch(S=>{console.log(S),a.error("An error occurred")})},P=(S,U,W)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:S,id:U,status:W}).then(oe=>{a.success(oe.data.message),B()}).catch(oe=>{console.log(oe),a.error("An error occurred")})};Qe(()=>{B()});const R=()=>{let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},O=()=>{m.value="",_.value="",p.value="";let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:i.value}}).then(U=>{r.value=U.data}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})};return ot(i,S=>{A.get(s+o.bank+"/configurations/fees-master/data",{params:{per_page:S,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,account_number:p,fees_account_branch_specific:v,discount_bearing:g,tax_name:w,tax_percent:y,tax_account_number:x,tax_account_branch_specific:C,service_code:E,sac:D,status:k,showEditModal:V,addNewBaseRate:F,updateBaseRate:T,editBaseRate:L,approveChange:P,changePage:async S=>{await A.get(S,{params:{per_page:i.value,name:m.value,status:_.value,account_number:l.value}}).then(U=>{r.value=U.data})},filter:R,refresh:O,name_search:m,status_search:_,account_number_search:l}}},dYa={class:"card p-2"},cYa={class:"d-flex justify-content-between"},uYa={class:"d-flex flex-wrap gap-1"},_Ya={class:""},mYa={for:"Name Search",class:"form-label"},fYa={class:""},hYa={for:"Account Number",class:"form-label"},pYa={class:""},vYa={for:"Status",class:"form-label"},gYa={value:""},bYa={value:"active"},yYa={value:"inactive"},kYa={class:"table-search-btn"},$Ya={class:"table-clear-btn"},wYa={class:"d-flex justify-content-end gap-1 mt-auto"},DYa={class:""},xYa={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},CYa={class:"modal modal-top fade",id:"addBaseRate",tabindex:"-1"},PYa={class:"modal-dialog modal-lg"},EYa={class:"modal-header"},AYa={class:"modal-title",id:"modalTopTitle"},IYa={class:"modal-body my-1"},RYa={class:"row"},SYa={class:"col-sm-12 col-md-6 form-group"},TYa={for:"Name",class:"form-label"},jYa={class:"col-sm-12 col-md-6 form-group my-1"},OYa={for:"Name",class:"form-label"},MYa={class:"col-sm-12 col-md-6 form-group my-1"},LYa={for:"Name",class:"form-label"},NYa={value:"yes"},FYa={value:"no"},YYa={class:"col-sm-12 col-md-6 form-group my-1"},VYa={for:"Name",class:"form-label"},BYa={value:"yes"},UYa={value:"no"},qYa={class:"col-sm-12 col-md-6 form-group my-1"},HYa={for:"Name",class:"form-label"},zYa={class:"col-sm-12 col-md-6 form-group my-1"},WYa={for:"Name",class:"form-label"},KYa={class:"col-sm-12 col-md-6 form-group my-1"},GYa={for:"Name",class:"form-label"},QYa={class:"col-sm-12 col-md-6 form-group my-1"},ZYa={for:"Name",class:"form-label"},JYa={value:"yes"},XYa={value:"no"},eVa={class:"col-sm-12 col-md-6 form-group my-1"},tVa={for:"Name",class:"form-label"},oVa={class:"col-sm-12 col-md-6 form-group my-1"},aVa={for:"Name",class:"form-label"},nVa={class:"modal-footer"},sVa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},lVa={type:"submit",class:"btn btn-primary"},iVa={class:"table-responsive"},rVa={class:"table"},dVa={class:""},cVa={class:"table-border-bottom-0"},uVa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Fee creation/updation awating approval"},_Va={key:0,class:"badge bg-label-success"},mVa={key:1,class:"badge bg-label-danger"},fVa={class:"flex"},hVa=["onClick","data-bs-target"],pVa=["id"],vVa={class:"modal-dialog modal-lg"},gVa={class:"modal-header"},bVa={class:"modal-title",id:"modalTopTitle"},yVa=["id"],kVa={class:"modal-body my-1"},$Va={class:"row"},wVa={class:"col-sm-12 col-md-6 form-group"},DVa={for:"Name",class:"form-label"},xVa={class:"col-sm-12 col-md-6 form-group my-1"},CVa={for:"Name",class:"form-label"},PVa={class:"col-sm-12 col-md-6 form-group my-1"},EVa={for:"Name",class:"form-label"},AVa={value:"yes"},IVa={value:"no"},RVa={class:"col-sm-12 col-md-6 form-group my-1"},SVa={for:"Name",class:"form-label"},TVa={value:"yes"},jVa={value:"no"},OVa={class:"col-sm-12 col-md-6 form-group my-1"},MVa={for:"Name",class:"form-label"},LVa={class:"col-sm-12 col-md-6 form-group my-1"},NVa={for:"Name",class:"form-label"},FVa={class:"col-sm-12 col-md-6 form-group my-1"},YVa={for:"Name",class:"form-label"},VVa={class:"col-sm-12 col-md-6 form-group my-1"},BVa={for:"Name",class:"form-label"},UVa={value:"yes"},qVa={value:"no"},HVa={class:"col-sm-12 col-md-6 form-group my-1"},zVa={for:"Name",class:"form-label"},WVa={class:"col-sm-12 col-md-6 form-group my-1"},KVa={for:"Name",class:"form-label"},GVa={class:"col-sm-12 col-md-6 form-group my-1"},QVa={for:"Name",class:"form-label"},ZVa={value:"active"},JVa={value:"inactive"},XVa={class:"modal-footer"},eBa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},tBa={type:"submit",class:"btn btn-primary"},oBa=["data-bs-target"],aBa=["id"],nBa={class:"modal-dialog"},sBa={class:"modal-content"},lBa={class:"modal-header"},iBa={class:"modal-title",id:"modalTopTitle"},rBa={class:"modal-body my-1"},dBa={class:"col-sm-12 col-md-6 m_title"},cBa={class:"col-sm-12 col-md-6"},uBa={class:"modal-footer"},_Ba={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},mBa=["onClick"],fBa=["onClick"];function hBa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",dYa,[e("div",cYa,[e("div",uYa,[e("div",_Ya,[e("label",mYa,n(o.$t("Name")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=l=>t.name_search=l)},null,544),[[X,t.name_search]])]),e("div",fYa,[e("label",hYa,n(o.$t("Account Number")),1),Y(e("input",{onKeyup:a[2]||(a[2]=Ee((...l)=>t.filter&&t.filter(...l),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Search By Account Number","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[3]||(a[3]=l=>t.account_number_search=l)},null,544),[[X,t.account_number_search]])]),e("div",pYa,[e("label",vYa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.status_search=l)},[e("option",gYa,n(o.$t("Search by Status")),1),e("option",bYa,n(o.$t("Active")),1),e("option",yYa,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",kYa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...l)=>t.filter&&t.filter(...l))},a[31]||(a[31]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",$Ya,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...l)=>t.refresh&&t.refresh(...l))},a[32]||(a[32]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",wYa,[e("div",DYa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=l=>t.per_page=l),style:{height:"fit-content"}},a[33]||(a[33]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",xYa,n(o.$t("Add Fee")),1)):b("",!0),e("div",CYa,[e("div",PYa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[18]||(a[18]=st((...l)=>t.addNewBaseRate&&t.addNewBaseRate(...l),["prevent"]))},[e("div",EYa,[e("h5",AYa,n(o.$t("Add New Fee")),1),a[34]||(a[34]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",IYa,[e("div",RYa,[e("div",SYa,[e("label",TYa,[le(n(o.$t("Name"))+" ",1),a[35]||(a[35]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=l=>t.name=l),required:""},null,512),[[X,t.name]])]),e("div",jYa,[e("label",OYa,[le(n(o.$t("Account Number"))+" ",1),a[36]||(a[36]=e("span",{class:"text-danger"},"*",-1))]),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.account_number=l),required:""},null,512),[[X,t.account_number]])]),e("div",MYa,[e("label",LYa,[le(n(o.$t("Fee Account Branch Specific"))+" ",1),a[37]||(a[37]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=l=>t.fees_account_branch_specific=l),required:""},[e("option",NYa,n(o.$t("Yes")),1),e("option",FYa,n(o.$t("No")),1)],512),[[de,t.fees_account_branch_specific]])]),e("div",YYa,[e("label",VYa,[le(n(o.$t("Discount Bearing"))+" ",1),a[38]||(a[38]=e("span",{class:"text-danger"},"*",-1))]),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=l=>t.discount_bearing=l),required:""},[e("option",BYa,n(o.$t("Yes")),1),e("option",UYa,n(o.$t("No")),1)],512),[[de,t.discount_bearing]])]),e("div",qYa,[e("label",HYa,n(o.$t("Tax Name")),1),Y(e("input",{type:"text",min:"0",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=l=>t.tax_name=l)},null,512),[[X,t.tax_name]])]),e("div",zYa,[e("label",WYa,n(o.$t("Tax Percent")),1),Y(e("input",{type:"number",step:".01",max:"100",min:"0",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=l=>t.tax_percent=l)},null,512),[[X,t.tax_percent]])]),e("div",KYa,[e("label",GYa,n(o.$t("Tax Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=l=>t.tax_account_number=l)},null,512),[[X,t.tax_account_number]])]),e("div",QYa,[e("label",ZYa,n(o.$t("Tax Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=l=>t.tax_account_branch_specific=l)},[e("option",JYa,n(o.$t("Yes")),1),e("option",XYa,n(o.$t("No")),1)],512),[[de,t.tax_account_branch_specific]])]),e("div",eVa,[e("label",tVa,n(o.$t("Service Code")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=l=>t.service_code=l)},null,512),[[X,t.service_code]])]),e("div",oVa,[e("label",aVa,n(o.$t("SAC")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[17]||(a[17]=l=>t.sac=l)},null,512),[[X,t.sac]])])])]),e("div",nVa,[e("button",sVa,n(o.$t("Close")),1),e("button",lVa,n(o.$t("Submit")),1)])],32)])])])]),e("div",iVa,[e("table",rVa,[e("thead",null,[e("tr",dVa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Fee A/C Branch Specific")),1),e("th",null,n(o.$t("Discount Bearing")),1),e("th",null,n(o.$t("Tax Name")),1),e("th",null,n(o.$t("Tax Percent")),1),e("th",null,n(o.$t("Tax Account Number")),1),e("th",null,n(o.$t("Tax A/C Branch Specific")),1),e("th",null,n(o.$t("Service Code")),1),e("th",null,n(o.$t("SAC")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",cVa,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[le(n(l.name)+" ",1),l.change||l.proposed_update?(u(),f("i",uVa)):b("",!0)]),e("td",null,n(l.account_number),1),e("td",null,n(l.fee_account_branch_specific?"Yes":"No"),1),e("td",null,n(l.discount_bearing?"Yes":"No"),1),e("td",null,n(l.tax_name),1),e("td",null,n(l.tax_percent),1),e("td",null,n(l.tax_account_number),1),e("td",null,n(l.tax_account_branch_specific?"Yes":"No"),1),e("td",null,n(l.service_code),1),e("td",null,n(l.sac),1),e("td",null,[l.status=="Active"?(u(),f("span",_Va,n(l.status),1)):b("",!0),l.status=="Inactive"?(u(),f("span",mVa,n(l.status),1)):b("",!0)]),e("td",fVa,[!l.change&&!l.proposed_update&&t.can_update?(u(),f("i",{key:0,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBaseRate(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,hVa)):b("",!0),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",vVa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[30]||(a[30]=st((...r)=>t.updateBaseRate&&t.updateBaseRate(...r),["prevent"]))},[e("div",gVa,[e("h5",bVa,n(o.$t("Edit Fee")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+l.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,yVa)]),e("div",kVa,[e("div",$Va,[e("div",wVa,[e("label",DVa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=r=>t.name=r),required:""},null,512),[[X,t.name]])]),e("div",xVa,[e("label",CVa,n(o.$t("Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=r=>t.account_number=r),required:""},null,512),[[X,t.account_number]])]),e("div",PVa,[e("label",EVa,n(o.$t("Fee Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=r=>t.fees_account_branch_specific=r),required:""},[e("option",AVa,n(o.$t("Yes")),1),e("option",IVa,n(o.$t("No")),1)],512),[[de,t.fees_account_branch_specific]])]),e("div",RVa,[e("label",SVa,n(o.$t("Discount Bearing")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=r=>t.discount_bearing=r),required:""},[e("option",TVa,n(o.$t("Yes")),1),e("option",jVa,n(o.$t("No")),1)],512),[[de,t.discount_bearing]])]),e("div",OVa,[e("label",MVa,n(o.$t("Tax Name")),1),Y(e("input",{type:"text",min:"0",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=r=>t.tax_name=r)},null,512),[[X,t.tax_name]])]),e("div",LVa,[e("label",NVa,n(o.$t("Tax Percent")),1),Y(e("input",{type:"number",step:".01",max:"100",min:"0",class:"form-control","onUpdate:modelValue":a[24]||(a[24]=r=>t.tax_percent=r)},null,512),[[X,t.tax_percent]])]),e("div",FVa,[e("label",YVa,n(o.$t("Tax Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=r=>t.tax_account_number=r)},null,512),[[X,t.tax_account_number]])]),e("div",VVa,[e("label",BVa,n(o.$t("Tax Account Branch Specific")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[26]||(a[26]=r=>t.tax_account_branch_specific=r)},[e("option",UVa,n(o.$t("Yes")),1),e("option",qVa,n(o.$t("No")),1)],512),[[de,t.tax_account_branch_specific]])]),e("div",HVa,[e("label",zVa,n(o.$t("Service Code")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[27]||(a[27]=r=>t.service_code=r)},null,512),[[X,t.service_code]])]),e("div",WVa,[e("label",KVa,n(o.$t("SAC")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[28]||(a[28]=r=>t.sac=r)},null,512),[[X,t.sac]])]),e("div",GVa,[e("label",QVa,n(o.$t("Status")),1),Y(e("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a[29]||(a[29]=r=>t.status=r)},[e("option",ZVa,n(o.$t("Active")),1),e("option",JVa,n(o.$t("Inactive")),1)],512),[[de,t.status]])])])]),e("div",XVa,[e("button",eBa,n(o.$t("Close")),1),e("button",tBa,n(o.$t("Submit")),1)])],32)])],8,pVa),l.proposed_update&&l.proposed_update.can_approve?(u(),f("i",{key:1,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+l.id,style:{cursor:"pointer"}},null,8,oBa)):b("",!0),l.proposed_update&&l.proposed_update.can_approve?(u(),f("div",{key:2,class:"modal modal-top fade",id:"proposed-change-"+l.id,tabindex:"-1"},[e("div",nBa,[e("div",sBa,[e("div",lBa,[e("h5",iBa,n(o.$t("Proposed Holiday Changes")),1),a[39]||(a[39]=e("button",{type:"button",class:"btn-close",id:"close-changes-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",rBa,[(u(!0),f(G,null,ee(l.proposed_update.changes,(r,i)=>(u(),f("div",{key:i,class:"row"},[e("div",dBa,n(i)+":",1),e("div",cBa,n(r),1)]))),128))]),e("div",uBa,[e("button",_Ba,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:r=>t.approveChange("App\\Models\\BankFeesMaster",l.id,"reject")},n(o.$t("Reject")),9,mBa),e("button",{type:"submit",class:"btn btn-primary",onClick:r=>t.approveChange("App\\Models\\BankFeesMaster",l.id,"approve")},n(o.$t("Approve")),9,fBa)])])])],8,aBa)):b("",!0)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const pBa=Ue(rYa,[["render",hBa],["__scopeId","data-v-4412117a"]]),vBa={name:"Branches",components:{Pagination:St},props:["bank","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_upload,c=h([]),m=h([]),_=h(50),l=h([]),r=h([]),i=h(""),d=h(""),p=h(""),v=h(""),g=h(!1),w=async()=>{await A.get(s+o.bank+"/configurations/conversion-rates/data",{params:{per_page:_.value}}).then(I=>{c.value=I.data.data,m.value=I.data.currencies}).catch(I=>{console.log(I)})},y=I=>{v.value=I.id,i.value=I.from_currency,l.value=m.value,m.value.forEach(V=>{V.code!=i.value&&r.value.push(V)}),d.value=I.to_currency,p.value=I.rate,g.value=!0},x=()=>{l.value=m.value};ot([i],([I])=>{r.value=[],m.value.forEach(V=>{V.code!=I&&r.value.push(V)})});const C=()=>{A.post(s+o.bank+"/configurations/conversion-rates/store",{from_currency:i.value,to_currency:d.value,rate:p.value}).then(I=>{a.success(I.data.message),i.value="",d.value="",p.value="",setTimeout(()=>{window.location.reload()},4e3)}).catch(I=>{console.log(I),a.error("An error occurred")})},E=()=>{A.post(s+o.bank+"/configurations/conversion-rates/"+v.value+"/update",{from_currency:i.value,to_currency:d.value,rate:p.value}).then(I=>{a.success(I.data.message),v.value="",i.value="",d.value="",p.value="",g.value=!1,setTimeout(()=>{window.location.reload()},4e3)}).catch(I=>{console.log(I),a.error("An error occurred")})},D=(I,V,B)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:I,id:V,status:B}).then(L=>{a.success(L.data.message),setTimeout(()=>{window.location.reload()},3e3)}).catch(L=>{console.log(L),a.error("An error occurred")})};return Qe(()=>{w()}),{per_page:_,can_upload:t,all_currencies:m,rates:c,from_currency:i,from_currency_options:l,to_currency:d,to_currency_options:r,rate:p,showEditModal:g,addNewRate:x,addNewBranch:C,updateBranch:E,editBranch:y,approveChange:D,changePage:async I=>{await A.get(I,{params:{per_page:_.value}}).then(V=>{c.value=V.data})}}}},gBa={class:"card p-2"},bBa={class:"d-flex justify-content-between"},yBa={class:"d-flex"},kBa={class:"mx-1"},$Ba={class:"modal modal-top fade",id:"addRate",tabindex:"-1"},wBa={class:"modal-dialog"},DBa={class:"modal-body my-1"},xBa={class:"form-group"},CBa=["value"],PBa={class:"form-group my-1"},EBa=["value"],ABa={class:"form-group my-1"},IBa={class:"table-responsive"},RBa={class:"table"},SBa={class:"table-border-bottom-0"},TBa={class:"flex"},jBa=["onClick","data-bs-target"],OBa=["id"],MBa={class:"modal-dialog"},LBa={class:"modal-body my-1"},NBa={class:"form-group"},FBa=["selected","value"],YBa={class:"form-group my-1"},VBa=["selected","value"],BBa={class:"form-group my-1"};function UBa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",gBa,[e("div",bBa,[a[18]||(a[18]=e("div",{class:"d-flex flex-wrap"},null,-1)),e("div",yBa,[e("div",kBa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[10]||(a[10]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",{key:0,type:"button",class:"btn btn-primary text-nowrap d-none","data-bs-toggle":"modal","data-bs-target":"#addRate",onClick:a[1]||(a[1]=(...l)=>t.addNewRate&&t.addNewRate(...l))}," New Rate ")):b("",!0),e("div",$Ba,[e("div",wBa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[5]||(a[5]=st((...l)=>t.addNewBranch&&t.addNewBranch(...l),["prevent"]))},[a[16]||(a[16]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalTopTitle"},"Add Conversion Rate"),e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",DBa,[e("div",xBa,[a[12]||(a[12]=e("label",{for:"Name",class:"form-label"},"From Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[2]||(a[2]=l=>t.from_currency=l),id:"",class:"form-control"},[a[11]||(a[11]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(G,null,ee(t.from_currency_options,l=>(u(),f("option",{key:l.id,value:l.code},n(l.name),9,CBa))),128))],512),[[de,t.from_currency]])]),e("div",PBa,[a[14]||(a[14]=e("label",{for:"Name",class:"form-label"},"To Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[3]||(a[3]=l=>t.to_currency=l),id:"",class:"form-control"},[a[13]||(a[13]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(G,null,ee(t.to_currency_options,l=>(u(),f("option",{key:l.id,value:l.code},n(l.name),9,EBa))),128))],512),[[de,t.to_currency]])]),e("div",ABa,[a[15]||(a[15]=e("label",{for:"Name",class:"form-label"},"Rate",-1)),Y(e("input",{type:"number",step:".01",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=l=>t.rate=l)},null,512),[[X,t.rate]])])]),a[17]||(a[17]=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},"Close"),e("button",{type:"submit",class:"btn btn-primary"},"Submit")],-1))],32)])])])]),e("div",IBa,[e("table",RBa,[a[26]||(a[26]=e("thead",null,[e("tr",{class:""},[e("th",null,"From Currency"),e("th",null,"To Currency"),e("th",null,"Rate"),e("th",null,"Actions")])],-1)),e("tbody",SBa,[(u(!0),f(G,null,ee(t.rates.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,n(l.from_currency),1),e("td",null,n(l.to_currency),1),e("td",null,n(l.rate),1),e("td",TBa,[e("i",{class:"ti ti-pencil ti-sm text-warning mx-1",onClick:r=>t.editBranch(l),"data-bs-toggle":"modal","data-bs-target":"#rate-"+l.id,style:{cursor:"pointer"}},null,8,jBa),e("div",{class:"modal modal-top fade",id:"rate-"+l.id,tabindex:"-1"},[e("div",MBa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.updateBranch&&t.updateBranch(...r),["prevent"]))},[a[24]||(a[24]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalTopTitle"},"Edit Conversion Rate"),e("button",{type:"button",class:"btn-close",id:"close-upload-modal","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",LBa,[e("div",NBa,[a[20]||(a[20]=e("label",{for:"Name",class:"form-label"},"From Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_currency=r),id:"",class:"form-control",disabled:""},[a[19]||(a[19]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(G,null,ee(t.from_currency_options,r=>(u(),f("option",{selected:r.code==t.from_currency,key:r.id,value:r.code},n(r.name),9,FBa))),128))],512),[[de,t.from_currency]])]),e("div",YBa,[a[22]||(a[22]=e("label",{for:"Name",class:"form-label"},"To Currency",-1)),Y(e("select",{name:"","onUpdate:modelValue":a[7]||(a[7]=r=>t.to_currency=r),id:"",class:"form-control",disabled:""},[a[21]||(a[21]=e("option",{value:""},"Select Currency",-1)),(u(!0),f(G,null,ee(t.to_currency_options,r=>(u(),f("option",{selected:r.code==t.to_currency,key:r.id,value:r.code},n(r.name),9,VBa))),128))],512),[[de,t.to_currency]])]),e("div",BBa,[a[23]||(a[23]=e("label",{for:"Name",class:"form-label"},"Rate",-1)),Y(e("input",{type:"number",step:".01",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=r=>t.rate=r)},null,512),[[X,t.rate]])])]),a[25]||(a[25]=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},"Close"),e("button",{type:"submit",class:"btn btn-primary"},"Submit")],-1))],32)])],8,OBa)])]))),128))])])]),Be(_,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const qBa=Ue(vBa,[["render",UBa],["__scopeId","data-v-6e1e6464"]]),HBa={name:"BaseRates",components:{Pagination:St,QuillEditor:ls},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),w=h(null),y=h(null),x=h(""),C=h(!1),E=()=>{g.value=y.value.getHTML().toString()},D=()=>{g.value=w.value.getHTML().toString()},k=async()=>{await A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(O=>{r.value=O.data}).catch(O=>{console.log(O)})},I=O=>{x.value=O.id,d.value=O.name,p.value=O.product_type,v.value=O.status=="Active"?"active":"inactive",g.value=O.body,C.value=!0},V=()=>{A.post(s+o.bank+"/configurations/noa-templates/store",{name:d.value,product_type:p.value,status:v.value,body:g.value}).then(()=>{a.success("NOA Template added successfully"),d.value="",g.value="",v.value="",p.value=!1,k(),document.getElementById("close-add-modal").click()}).catch(O=>{console.log(O),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/noa-templates/update",{id:x.value,name:d.value,status:v.value,product_type:p.value,body:g.value}).then(O=>{a.success(O.data.message),x.value="",d.value="",v.value="",g.value="",p.value=!1,C.value=!1,k(),document.getElementById("close-edit-modal-"+x.value).click()}).catch(O=>{console.log(O),a.error("An error occurred")})},L=(O,N)=>{A.get(s+o.bank+`/configurations/noa-templates/${O}/status/${N}/update`).then(()=>{k(),a.success("Status updated")}).catch(S=>{console.log(S)})},F=(O,N,S)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:O,id:N,status:S}).then(U=>{a.success(U.data.message),k(),document.getElementById("close-changes-modal-"+N).click()}).catch(U=>{console.log(U),a.error("An error occurred")})};Qe(()=>{k()});const T=()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(N=>{r.value=N.data}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},P=()=>{m.value="",_.value="",l.value="";let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:i.value}}).then(N=>{r.value=N.data}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})};return ot(i,O=>{A.get(s+o.bank+"/configurations/noa-templates/data",{params:{per_page:O,name:m.value,status:_.value}}).then(N=>{r.value=N.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,editor:w,create_editor:y,status:v,product_type:p,body:g,showEditModal:C,addNewBaseRate:V,updateBaseRate:B,updateActiveStatus:L,editBaseRate:I,changePage:async O=>{await A.get(O,{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(N=>{r.value=N.data})},changeDescription:E,approveChange:F,editDescription:D,filter:T,refresh:P,name_search:m,status_search:_,product_type_search:l}}},zBa={class:"card p-2"},WBa={class:"d-flex justify-content-between"},KBa={class:"d-flex flex-wrap gap-1"},GBa={class:""},QBa={for:"Name Search",class:"form-label"},ZBa={class:""},JBa={for:"Status Search",class:"form-label"},XBa={value:""},eUa={value:"active"},tUa={value:"inactive"},oUa={class:""},aUa={for:"Product Type Search",class:"form-label"},nUa={value:""},sUa={value:"vendor_financing"},lUa={value:"factoring"},iUa={value:"dealer_financing"},rUa={class:"table-search-btn"},dUa={class:"table-clear-btn"},cUa={class:"d-flex justify-content-end gap-1 mt-auto"},uUa={class:""},_Ua={key:0,type:"button",class:"btn btn-primary text-nowrap","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},mUa={class:"modal modal-top fade modal-lg",id:"addBaseRate",tabindex:"-1"},fUa={class:"modal-dialog"},hUa={class:"modal-header"},pUa={class:"modal-title",id:"modalTopTitle"},vUa={class:"modal-body my-1"},gUa={class:"form-group"},bUa={for:"Name",class:"form-label"},yUa={class:"mb-4"},kUa={for:"Body",class:"form-label"},$Ua={class:"form-group my-1"},wUa={for:"Name",class:"form-label"},DUa={value:"vendor_financing"},xUa={value:"factoring"},CUa={value:"dealer_financing"},PUa={class:"text-h6 mt-4"},EUa={class:"modal-footer"},AUa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},IUa={type:"submit",class:"btn btn-primary"},RUa={class:"table-responsive"},SUa={class:"table"},TUa={class:""},jUa={class:"table-border-bottom-0"},OUa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"NOA creation/updation awating approval"},MUa={class:"m_title"},LUa={key:0,class:"badge bg-label-success"},NUa={key:1,class:"badge bg-label-danger"},FUa={class:"flex"},YUa=["onClick"],VUa=["onClick"],BUa=["onClick","data-bs-target"],UUa=["id"],qUa={class:"modal-dialog"},HUa={class:"modal-header"},zUa={class:"modal-title",id:"modalTopTitle"},WUa=["id"],KUa={class:"modal-body my-1"},GUa={class:"form-group"},QUa={for:"Name",class:"form-label"},ZUa={class:"mb-4"},JUa={for:"Body",class:"form-label"},XUa={class:"form-group my-1"},eqa={for:"Name",class:"form-label"},tqa={value:"vendor_financing"},oqa={value:"factoring"},aqa={value:"dealer_financing"},nqa={class:"form-group my-1"},sqa={for:"Name",class:"form-label"},lqa={value:"active"},iqa={value:"inactive"},rqa={class:"text-h6 mt-4"},dqa={class:"modal-footer"},cqa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},uqa={type:"submit",class:"btn btn-primary"},_qa=["data-bs-target"],mqa=["id"],fqa={class:"modal-dialog"},hqa={class:"modal-content"},pqa={class:"modal-header"},vqa={class:"modal-title",id:"modalTopTitle"},gqa=["id"],bqa={class:"modal-body my-1"},yqa={class:"col-sm-12 col-md-6 m_title"},kqa={class:"col-sm-12 col-md-6"},$qa={class:"modal-footer"},wqa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},Dqa=["onClick"],xqa=["onClick"];function Cqa(o,a,s,t,c,m){const _=ce("QuillEditor"),l=ce("pagination");return u(),f("div",zBa,[e("div",WBa,[e("div",KBa,[e("div",GBa,[e("label",QBa,n(o.$t("Name Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=r=>t.name_search=r)},null,544),[[X,t.name_search]])]),e("div",ZBa,[e("label",JBa,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.status_search=r)},[e("option",XBa,n(o.$t("Status")),1),e("option",eUa,n(o.$t("Active")),1),e("option",tUa,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",oUa,[e("label",aUa,n(o.$t("Product Type Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.product_type_search=r)},[e("option",nUa,n(o.$t("Product Type")),1),e("option",sUa,n(o.$t("Vendor Financing Receivable")),1),e("option",lUa,n(o.$t("Factoring")),1),e("option",iUa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",rUa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",dUa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",cUa,[e("div",uUa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",_Ua,n(o.$t("New NOA Template")),1)):b("",!0),e("div",mUa,[e("div",fUa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.addNewBaseRate&&t.addNewBaseRate(...r),["prevent"]))},[e("div",hUa,[e("h5",pUa,n(o.$t("Add New NOA Template")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",vUa,[e("div",gUa,[e("label",bUa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",yUa,[e("label",kUa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref:"create_editor",onEditorChange:t.changeDescription},null,8,["onEditorChange"])]),e("div",$Ua,[e("label",wUa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[8]||(a[8]=r=>t.product_type=r),id:"",class:"form-select"},[e("option",DUa,n(o.$t("Vendor Financing")),1),e("option",xUa,n(o.$t("Factoring")),1),e("option",CUa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type]])]),e("h6",PUa,[le(n(o.$t("Variables"))+" ",1),a[18]||(a[18]=e("i",{class:"tf-icons ti ti-info-circle ti-xs text-primary",title:"These can be added in the body within parenthesis. e.g. {date} or {buyerName}"},null,-1))]),a[19]||(a[19]=e("div",{class:"text-wrap"}," date,buyerName,anchorName,company,anchorCompanyUniqueID,time,agreementDate,contract,anchorAccountName,anchorAccountNumber,anchorCustomerId,anchorBranch,anchorIFSCCode,anchorAddress,penalInterestRate,sellerName ",-1))]),e("div",EUa,[e("button",AUa,n(o.$t("Close")),1),e("button",IUa,n(o.$t("Submit")),1)])],32)])])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",RUa,[e("table",SUa,[e("thead",null,[e("tr",TUa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",jUa,[(u(!0),f(G,null,ee(t.rates.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[le(n(r.name)+" ",1),r.change||r.proposed_update?(u(),f("i",OUa)):b("",!0)]),e("td",null,[e("span",MUa,n(r.product_type.replaceAll("_"," ")),1)]),e("td",null,[r.status=="Active"?(u(),f("span",LUa,n(r.status),1)):b("",!0),r.status=="Inactive"?(u(),f("span",NUa,n(r.status),1)):b("",!0)]),e("td",FUa,[!r.change&&r.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"inactive")},null,8,YUa)):b("",!0),!r.change&&r.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"active")},null,8,VUa)):b("",!0),!r.change&&!r.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.editBaseRate(r),"data-bs-toggle":"modal","data-bs-target":"#rate-"+r.id,style:{cursor:"pointer"}},null,8,BUa)):b("",!0),e("div",{class:"modal modal-top fade modal-lg",id:"rate-"+r.id,tabindex:"-1"},[e("div",qUa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[13]||(a[13]=st((...i)=>t.updateBaseRate&&t.updateBaseRate(...i),["prevent"]))},[e("div",HUa,[e("h5",zUa,n(o.$t("Edit NOA Template")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,WUa)]),e("div",KUa,[e("div",GUa,[e("label",QUa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=i=>t.name=i)},null,512),[[X,t.name]])]),e("div",ZUa,[e("label",JUa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref_for:!0,ref:"editor",onEditorChange:t.editDescription},null,8,["onEditorChange"])]),e("div",XUa,[e("label",eqa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[11]||(a[11]=i=>t.product_type=i),id:"",class:"form-select"},[e("option",tqa,n(o.$t("Vendor Financing")),1),e("option",oqa,n(o.$t("Factoring")),1),e("option",aqa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type]])]),e("div",nqa,[e("label",sqa,n(o.$t("Status")),1),Y(e("select",{name:"","onUpdate:modelValue":a[12]||(a[12]=i=>t.status=i),id:"",class:"form-select"},[e("option",lqa,n(o.$t("Active")),1),e("option",iqa,n(o.$t("Inactive")),1)],512),[[de,t.status]])]),e("h6",rqa,[le(n(o.$t("Variables"))+" ",1),a[20]||(a[20]=e("i",{class:"tf-icons ti ti-info-circle ti-xs text-primary",title:"These can be added in the body within parenthesis. e.g. {date} or {buyerName}"},null,-1))]),a[21]||(a[21]=e("div",{class:"text-wrap"}," date,buyerName,anchorName,company,anchorCompanyUniqueID,time,agreementDate,contract,anchorAccountName,anchorAccountNumber,anchorCustomerId,anchorBranch,anchorIFSCCode,anchorAddress,penalInterestRate,sellerName ",-1))]),e("div",dqa,[e("button",cqa,n(o.$t("Close")),1),e("button",uqa,n(o.$t("Submit")),1)])],32)])],8,UUa),r.proposed_update&&r.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+r.id,style:{cursor:"pointer"}},null,8,_qa)):b("",!0),r.proposed_update&&r.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+r.id,tabindex:"-1"},[e("div",fqa,[e("div",hqa,[e("div",pqa,[e("h5",vqa,n(o.$t("Proposed Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,gqa)]),e("div",bqa,[(u(!0),f(G,null,ee(r.proposed_update.changes,(i,d)=>(u(),f("div",{key:d,class:"row"},[e("div",yqa,n(d)+":",1),e("div",kqa,n(i),1)]))),128))]),e("div",$qa,[e("button",wqa,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:i=>t.approveChange("App\\Models\\NoaTemplate",r.id,"reject")},n(o.$t("Reject")),9,Dqa),e("button",{type:"submit",class:"btn btn-primary",onClick:i=>t.approveChange("App\\Models\\NoaTemplate",r.id,"approve")},n(o.$t("Approve")),9,xqa)])])])],8,mqa)):b("",!0)])]))),128))])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Pqa=Ue(HBa,[["render",Cqa],["__scopeId","data-v-4fe9e081"]]),Eqa={name:"BaseRates",components:{Pagination:St,QuillEditor:ls},props:["bank","can_update","can_upload"],setup(o){const a=lt(),s=Je("baseURL"),t=o.can_update,c=o.can_upload,m=h(""),_=h(""),l=h(""),r=h([]),i=h(50),d=h(""),p=h(""),v=h(""),g=h(""),w=h(null),y=h(null),x=h(""),C=h(!1),E=()=>{g.value=y.value.getHTML().toString()},D=()=>{g.value=w.value.getHTML().toString()},k=async()=>{await A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(O=>{r.value=O.data}).catch(O=>{console.log(O)})},I=O=>{x.value=O.id,d.value=O.name,p.value=O.product_type,v.value=O.status=="Active"?"active":"inactive",g.value=O.body,C.value=!0},V=()=>{A.post(s+o.bank+"/configurations/terms-and-conditions/store",{name:d.value,product_type:p.value,status:v.value,body:g.value}).then(()=>{a.success("Terms and Conditions added successfully"),d.value="",g.value="",v.value="",p.value=!1,k(),document.getElementById("close-add-modal").click()}).catch(O=>{console.log(O),a.error("An error occurred")})},B=()=>{A.post(s+o.bank+"/configurations/terms-and-conditions/update",{id:x.value,name:d.value,status:v.value,product_type:p.value,body:g.value}).then(O=>{a.success(O.data.message),x.value="",d.value="",v.value="",g.value="",p.value=!1,C.value=!1,k(),document.getElementById("close-edit-modal-"+x.value).click()}).catch(O=>{console.log(O),a.error("An error occurred")})},L=(O,N)=>{A.get(s+o.bank+`/configurations/terms-and-conditions/${O}/status/${N}/update`).then(S=>{k(),a.success(S.data.message)}).catch(S=>{console.log(S.response.data.message)})},F=(O,N,S)=>{A.post(s+o.bank+"/configurations/change/status/update",{type:O,id:N,status:S}).then(U=>{a.success(U.data.message),k(),document.getElementById("close-changes-modal-"+N).click()}).catch(U=>{console.log(U),a.error("An error occurred")})};Qe(()=>{k()});const T=()=>{let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(N=>{r.value=N.data}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},P=()=>{m.value="",_.value="",l.value="";let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:i.value}}).then(N=>{r.value=N.data}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})};return ot(i,O=>{A.get(s+o.bank+"/configurations/terms-and-conditions/data",{params:{per_page:O,name:m.value,status:_.value}}).then(N=>{r.value=N.data})}),{per_page:i,can_upload:c,can_update:t,rates:r,name:d,editor:w,create_editor:y,status:v,product_type:p,body:g,showEditModal:C,addNewBaseRate:V,updateBaseRate:B,updateActiveStatus:L,editBaseRate:I,changePage:async O=>{await A.get(O,{params:{per_page:i.value,name:m.value,status:_.value,product_type:l.value}}).then(N=>{r.value=N.data})},changeDescription:E,approveChange:F,editDescription:D,filter:T,refresh:P,name_search:m,status_search:_,product_type_search:l}}},Aqa={class:"card p-2"},Iqa={class:"d-flex justify-content-between"},Rqa={class:"d-flex flex-wrap gap-1"},Sqa={class:""},Tqa={for:"Name Search",class:"form-label"},jqa={class:""},Oqa={for:"Status Search",class:"form-label"},Mqa={value:""},Lqa={value:"active"},Nqa={value:"inactive"},Fqa={class:""},Yqa={for:"Product Type Search",class:"form-label"},Vqa={value:""},Bqa={value:"vendor_financing"},Uqa={value:"factoring"},qqa={value:"dealer_financing"},Hqa={class:"table-search-btn"},zqa={class:"table-clear-btn"},Wqa={class:"d-flex justify-content-end gap-1 mt-auto"},Kqa={class:""},Gqa={key:0,type:"button",class:"btn btn-primary text-nowrap btn-md","data-bs-toggle":"modal","data-bs-target":"#addBaseRate"},Qqa={class:"modal modal-top fade modal-lg",id:"addBaseRate",tabindex:"-1"},Zqa={class:"modal-dialog"},Jqa={class:"modal-header"},Xqa={class:"modal-title",id:"modalTopTitle"},eHa={class:"modal-body my-1"},tHa={class:"form-group"},oHa={for:"Name",class:"form-label"},aHa={class:"mb-4"},nHa={for:"Body",class:"form-label"},sHa={class:"form-group my-1"},lHa={for:"Name",class:"form-label"},iHa={value:"vendor_financing"},rHa={value:"factoring"},dHa={value:"dealer_financing"},cHa={class:"modal-footer"},uHa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},_Ha={type:"submit",class:"btn btn-primary"},mHa={class:"table-responsive"},fHa={class:"table"},hHa={class:""},pHa={class:"table-border-bottom-0"},vHa={key:0,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Terms and Conditions creation/updation awating approval"},gHa={class:"m_title"},bHa={key:0,class:"badge bg-label-success"},yHa={key:1,class:"badge bg-label-danger"},kHa={class:"flex"},$Ha=["onClick"],wHa=["onClick"],DHa=["onClick","data-bs-target"],xHa=["id"],CHa={class:"modal-dialog"},PHa={class:"modal-header"},EHa={class:"modal-title",id:"modalTopTitle"},AHa=["id"],IHa={class:"modal-body my-1"},RHa={class:"form-group"},SHa={for:"Name",class:"form-label"},THa={class:"mb-4"},jHa={for:"Body",class:"form-label"},OHa={class:"form-group my-1"},MHa={for:"Name",class:"form-label"},LHa={value:"vendor_financing"},NHa={value:"factoring"},FHa={value:"dealer_financing"},YHa={class:"form-group my-1"},VHa={for:"Name",class:"form-label"},BHa={value:"active"},UHa={value:"inactive"},qHa={class:"modal-footer"},HHa={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},zHa={type:"submit",class:"btn btn-primary"},WHa=["data-bs-target"],KHa=["id"],GHa={class:"modal-dialog"},QHa={class:"modal-content"},ZHa={class:"modal-header"},JHa={class:"modal-title",id:"modalTopTitle"},XHa=["id"],eza={class:"modal-body my-1"},tza={class:"m_title"},oza={class:"mx-2"},aza={class:"modal-footer"},nza={type:"button",class:"btn btn-label-secondary","data-bs-dismiss":"modal"},sza=["onClick"],lza=["onClick"];function iza(o,a,s,t,c,m){const _=ce("QuillEditor"),l=ce("pagination");return u(),f("div",Aqa,[e("div",Iqa,[e("div",Rqa,[e("div",Sqa,[e("label",Tqa,n(o.$t("Name Search")),1),Y(e("input",{onKeyup:a[0]||(a[0]=Ee((...r)=>t.filter&&t.filter(...r),["enter"])),type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp","onUpdate:modelValue":a[1]||(a[1]=r=>t.name_search=r)},null,544),[[X,t.name_search]])]),e("div",jqa,[e("label",Oqa,n(o.$t("Status Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.status_search=r)},[e("option",Mqa,n(o.$t("Status")),1),e("option",Lqa,n(o.$t("Active")),1),e("option",Nqa,n(o.$t("Inactive")),1)],512),[[de,t.status_search]])]),e("div",Fqa,[e("label",Yqa,n(o.$t("Product Type Search")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.product_type_search=r)},[e("option",Vqa,n(o.$t("Product Type")),1),e("option",Bqa,n(o.$t("Vendor Financing Receivable")),1),e("option",Uqa,n(o.$t("Factoring")),1),e("option",qqa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",Hqa,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zqa,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wqa,[e("div",Kqa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),t.can_upload?(u(),f("button",Gqa,n(o.$t("New Terms and Conditions")),1)):b("",!0),e("div",Qqa,[e("div",Zqa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[9]||(a[9]=st((...r)=>t.addNewBaseRate&&t.addNewBaseRate(...r),["prevent"]))},[e("div",Jqa,[e("h5",Xqa,n(o.$t("Add New Terms and Conditions")),1),a[17]||(a[17]=e("button",{type:"button",class:"btn-close",id:"close-add-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",eHa,[e("div",tHa,[e("label",oHa,n(o.$t("Name")),1),Y(e("input",{type:"text",name:"name",id:"",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.name=r)},null,512),[[X,t.name]])]),e("div",aHa,[e("label",nHa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref:"create_editor",onEditorChange:t.changeDescription},null,8,["onEditorChange"])]),e("div",sHa,[e("label",lHa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[8]||(a[8]=r=>t.product_type=r),id:"",class:"form-select"},[e("option",iHa,n(o.$t("Vendor Financing")),1),e("option",rHa,n(o.$t("Factoring")),1),e("option",dHa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type]])])]),e("div",cHa,[e("button",uHa,n(o.$t("Close")),1),e("button",_Ha,n(o.$t("Submit")),1)])],32)])])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",mHa,[e("table",fHa,[e("thead",null,[e("tr",hHa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",pHa,[(u(!0),f(G,null,ee(t.rates.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[le(n(r.name)+" ",1),r.change||r.proposed_update?(u(),f("i",vHa)):b("",!0)]),e("td",null,[e("span",gHa,n(r.product_type.replaceAll("_"," ")),1)]),e("td",null,[r.status=="Active"?(u(),f("span",bHa,n(r.status),1)):b("",!0),r.status=="Inactive"?(u(),f("span",yHa,n(r.status),1)):b("",!0)]),e("td",kHa,[!r.change&&r.status=="Active"?(u(),f("i",{key:0,class:"ti ti-thumb-up ti-sm text-success",title:"Click to Deactivate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"inactive")},null,8,$Ha)):b("",!0),!r.change&&r.status=="Inactive"?(u(),f("i",{key:1,class:"ti ti-thumb-down ti-sm text-danger",title:"Click to Activate Rate",style:{cursor:"pointer"},onClick:i=>t.updateActiveStatus(r.id,"active")},null,8,wHa)):b("",!0),!r.change&&!r.proposed_update&&t.can_update?(u(),f("i",{key:2,class:"ti ti-pencil ti-sm text-warning mx-1",onClick:i=>t.editBaseRate(r),"data-bs-toggle":"modal","data-bs-target":"#rate-"+r.id,style:{cursor:"pointer"}},null,8,DHa)):b("",!0),e("div",{class:"modal modal-top fade modal-lg",id:"rate-"+r.id,tabindex:"-1"},[e("div",CHa,[e("form",{class:"modal-content",method:"POST",onSubmit:a[13]||(a[13]=st((...i)=>t.updateBaseRate&&t.updateBaseRate(...i),["prevent"]))},[e("div",PHa,[e("h5",EHa,n(o.$t("Edit Terms and Conditions")),1),e("button",{type:"button",class:"btn-close",id:"close-edit-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,AHa)]),e("div",IHa,[e("div",RHa,[e("label",SHa,n(o.$t("Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=i=>t.name=i)},null,512),[[X,t.name]])]),e("div",THa,[e("label",jHa,n(o.$t("Body")),1),Be(_,{theme:"snow",ref_for:!0,ref:"editor",onEditorChange:t.editDescription},null,8,["onEditorChange"])]),e("div",OHa,[e("label",MHa,n(o.$t("Product Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[11]||(a[11]=i=>t.product_type=i),id:"",class:"form-select"},[e("option",LHa,n(o.$t("Vendor Financing")),1),e("option",NHa,n(o.$t("Factoring")),1),e("option",FHa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type]])]),e("div",YHa,[e("label",VHa,n(o.$t("Status")),1),Y(e("select",{name:"","onUpdate:modelValue":a[12]||(a[12]=i=>t.status=i),id:"",class:"form-select"},[e("option",BHa,n(o.$t("Active")),1),e("option",UHa,n(o.$t("Inactive")),1)],512),[[de,t.status]])])]),e("div",qHa,[e("button",HHa,n(o.$t("Close")),1),e("button",zHa,n(o.$t("Submit")),1)])],32)])],8,xHa),r.proposed_update&&r.proposed_update.can_approve?(u(),f("i",{key:3,class:"ti ti-table ti-sm text-danger mx-1",title:"View Proposed Changes","data-bs-toggle":"modal","data-bs-target":"#proposed-change-"+r.id,style:{cursor:"pointer"}},null,8,WHa)):b("",!0),r.proposed_update&&r.proposed_update.can_approve?(u(),f("div",{key:4,class:"modal modal-top fade",id:"proposed-change-"+r.id,tabindex:"-1"},[e("div",GHa,[e("div",QHa,[e("div",ZHa,[e("h5",JHa,n(o.$t("Proposed Terms and Conditions Changes")),1),e("button",{type:"button",class:"btn-close",id:"close-changes-modal-"+r.id,"data-bs-dismiss":"modal","aria-label":"Close"},null,8,XHa)]),e("div",eza,[(u(!0),f(G,null,ee(r.proposed_update.changes,(i,d)=>(u(),f("div",{key:d,class:"d-flex"},[e("div",tza,n(d)+":",1),e("div",oza,n(i),1)]))),128))]),e("div",aza,[e("button",nza,n(o.$t("Close")),1),e("button",{type:"submit",class:"btn btn-danger",onClick:i=>t.approveChange("App\\Models\\TermsConditionsConfig",r.id,"reject")},n(o.$t("Reject")),9,sza),e("button",{type:"submit",class:"btn btn-primary",onClick:i=>t.approveChange("App\\Models\\TermsConditionsConfig",r.id,"approve")},n(o.$t("Approve")),9,lza)])])])],8,KHa)):b("",!0)])]))),128))])])]),Be(l,{from:t.rates.from,to:t.rates.to,links:t.rates.links,next_page:t.rates.next_page_url,prev_page:t.rates.prev_page_url,total_items:t.rates.total,first_page_url:t.rates.first_page_url,last_page_url:t.rates.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const rza=Ue(Eqa,[["render",iza],["__scopeId","data-v-ac26f22f"]]);function dza(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xD={exports:{}};(function(o,a){(function(s,t){o.exports=t()})(va,function(){var s;function t(){return s.apply(null,arguments)}function c(j){s=j}function m(j){return j instanceof Array||Object.prototype.toString.call(j)==="[object Array]"}function _(j){return j!=null&&Object.prototype.toString.call(j)==="[object Object]"}function l(j,q){return Object.prototype.hasOwnProperty.call(j,q)}function r(j){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(j).length===0;var q;for(q in j)if(l(j,q))return!1;return!0}function i(j){return j===void 0}function d(j){return typeof j=="number"||Object.prototype.toString.call(j)==="[object Number]"}function p(j){return j instanceof Date||Object.prototype.toString.call(j)==="[object Date]"}function v(j,q){var Q=[],ne,xe=j.length;for(ne=0;ne<xe;++ne)Q.push(q(j[ne],ne));return Q}function g(j,q){for(var Q in q)l(q,Q)&&(j[Q]=q[Q]);return l(q,"toString")&&(j.toString=q.toString),l(q,"valueOf")&&(j.valueOf=q.valueOf),j}function w(j,q,Q,ne){return V1(j,q,Q,ne,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(j){return j._pf==null&&(j._pf=y()),j._pf}var C;Array.prototype.some?C=Array.prototype.some:C=function(j){var q=Object(this),Q=q.length>>>0,ne;for(ne=0;ne<Q;ne++)if(ne in q&&j.call(this,q[ne],ne,q))return!0;return!1};function E(j){if(j._isValid==null){var q=x(j),Q=C.call(q.parsedDateParts,function(xe){return xe!=null}),ne=!isNaN(j._d.getTime())&&q.overflow<0&&!q.empty&&!q.invalidEra&&!q.invalidMonth&&!q.invalidWeekday&&!q.weekdayMismatch&&!q.nullInput&&!q.invalidFormat&&!q.userInvalidated&&(!q.meridiem||q.meridiem&&Q);if(j._strict&&(ne=ne&&q.charsLeftOver===0&&q.unusedTokens.length===0&&q.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(j))j._isValid=ne;else return ne}return j._isValid}function D(j){var q=w(NaN);return j!=null?g(x(q),j):x(q).userInvalidated=!0,q}var k=t.momentProperties=[],I=!1;function V(j,q){var Q,ne,xe,We=k.length;if(i(q._isAMomentObject)||(j._isAMomentObject=q._isAMomentObject),i(q._i)||(j._i=q._i),i(q._f)||(j._f=q._f),i(q._l)||(j._l=q._l),i(q._strict)||(j._strict=q._strict),i(q._tzm)||(j._tzm=q._tzm),i(q._isUTC)||(j._isUTC=q._isUTC),i(q._offset)||(j._offset=q._offset),i(q._pf)||(j._pf=x(q)),i(q._locale)||(j._locale=q._locale),We>0)for(Q=0;Q<We;Q++)ne=k[Q],xe=q[ne],i(xe)||(j[ne]=xe);return j}function B(j){V(this,j),this._d=new Date(j._d!=null?j._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,t.updateOffset(this),I=!1)}function L(j){return j instanceof B||j!=null&&j._isAMomentObject!=null}function F(j){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+j)}function T(j,q){var Q=!0;return g(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,j),Q){var ne=[],xe,We,ht,Qt=arguments.length;for(We=0;We<Qt;We++){if(xe="",typeof arguments[We]=="object"){xe+=`
[`+We+"] ";for(ht in arguments[0])l(arguments[0],ht)&&(xe+=ht+": "+arguments[0][ht]+", ");xe=xe.slice(0,-2)}else xe=arguments[We];ne.push(xe)}F(j+`
Arguments: `+Array.prototype.slice.call(ne).join("")+`
`+new Error().stack),Q=!1}return q.apply(this,arguments)},q)}var P={};function R(j,q){t.deprecationHandler!=null&&t.deprecationHandler(j,q),P[j]||(F(q),P[j]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function O(j){return typeof Function<"u"&&j instanceof Function||Object.prototype.toString.call(j)==="[object Function]"}function N(j){var q,Q;for(Q in j)l(j,Q)&&(q=j[Q],O(q)?this[Q]=q:this["_"+Q]=q);this._config=j,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(j,q){var Q=g({},j),ne;for(ne in q)l(q,ne)&&(_(j[ne])&&_(q[ne])?(Q[ne]={},g(Q[ne],j[ne]),g(Q[ne],q[ne])):q[ne]!=null?Q[ne]=q[ne]:delete Q[ne]);for(ne in j)l(j,ne)&&!l(q,ne)&&_(j[ne])&&(Q[ne]=g({},Q[ne]));return Q}function U(j){j!=null&&this.set(j)}var W;Object.keys?W=Object.keys:W=function(j){var q,Q=[];for(q in j)l(j,q)&&Q.push(q);return Q};var oe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function J(j,q,Q){var ne=this._calendar[j]||this._calendar.sameElse;return O(ne)?ne.call(q,Q):ne}function K(j,q,Q){var ne=""+Math.abs(j),xe=q-ne.length,We=j>=0;return(We?Q?"+":"":"-")+Math.pow(10,Math.max(0,xe)).toString().substr(1)+ne}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,we={},Fe={};function he(j,q,Q,ne){var xe=ne;typeof ne=="string"&&(xe=function(){return this[ne]()}),j&&(Fe[j]=xe),q&&(Fe[q[0]]=function(){return K(xe.apply(this,arguments),q[1],q[2])}),Q&&(Fe[Q]=function(){return this.localeData().ordinal(xe.apply(this,arguments),j)})}function re(j){return j.match(/\[[\s\S]/)?j.replace(/^\[|\]$/g,""):j.replace(/\\/g,"")}function $e(j){var q=j.match(z),Q,ne;for(Q=0,ne=q.length;Q<ne;Q++)Fe[q[Q]]?q[Q]=Fe[q[Q]]:q[Q]=re(q[Q]);return function(xe){var We="",ht;for(ht=0;ht<ne;ht++)We+=O(q[ht])?q[ht].call(xe,j):q[ht];return We}}function De(j,q){return j.isValid()?(q=ie(q,j.localeData()),we[q]=we[q]||$e(q),we[q](j)):j.localeData().invalidDate()}function ie(j,q){var Q=5;function ne(xe){return q.longDateFormat(xe)||xe}for(ae.lastIndex=0;Q>=0&&ae.test(j);)j=j.replace(ae,ne),ae.lastIndex=0,Q-=1;return j}var pe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(j){var q=this._longDateFormat[j],Q=this._longDateFormat[j.toUpperCase()];return q||!Q?q:(this._longDateFormat[j]=Q.match(z).map(function(ne){return ne==="MMMM"||ne==="MM"||ne==="DD"||ne==="dddd"?ne.slice(1):ne}).join(""),this._longDateFormat[j])}var Me="Invalid date";function ue(){return this._invalidDate}var je="%d",ze=/\d{1,2}/;function Ye(j){return this._ordinal.replace("%d",j)}var ge={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _e(j,q,Q,ne){var xe=this._relativeTime[Q];return O(xe)?xe(j,q,Q,ne):xe.replace(/%d/i,j)}function Se(j,q){var Q=this._relativeTime[j>0?"future":"past"];return O(Q)?Q(q):Q.replace(/%s/i,q)}var Ve={};function ke(j,q){var Q=j.toLowerCase();Ve[Q]=Ve[Q+"s"]=Ve[q]=j}function te(j){return typeof j=="string"?Ve[j]||Ve[j.toLowerCase()]:void 0}function Ce(j){var q={},Q,ne;for(ne in j)l(j,ne)&&(Q=te(ne),Q&&(q[Q]=j[ne]));return q}var Ne={};function Ie(j,q){Ne[j]=q}function se(j){var q=[],Q;for(Q in j)l(j,Q)&&q.push({unit:Q,priority:Ne[Q]});return q.sort(function(ne,xe){return ne.priority-xe.priority}),q}function fe(j){return j%4===0&&j%100!==0||j%400===0}function Le(j){return j<0?Math.ceil(j)||0:Math.floor(j)}function Ze(j){var q=+j,Q=0;return q!==0&&isFinite(q)&&(Q=Le(q)),Q}function at(j,q){return function(Q){return Q!=null?(wt(this,j,Q),t.updateOffset(this,q),this):mt(this,j)}}function mt(j,q){return j.isValid()?j._d["get"+(j._isUTC?"UTC":"")+q]():NaN}function wt(j,q,Q){j.isValid()&&!isNaN(Q)&&(q==="FullYear"&&fe(j.year())&&j.month()===1&&j.date()===29?(Q=Ze(Q),j._d["set"+(j._isUTC?"UTC":"")+q](Q,j.month(),ys(Q,j.month()))):j._d["set"+(j._isUTC?"UTC":"")+q](Q))}function Ot(j){return j=te(j),O(this[j])?this[j]():this}function Jt(j,q){if(typeof j=="object"){j=Ce(j);var Q=se(j),ne,xe=Q.length;for(ne=0;ne<xe;ne++)this[Q[ne].unit](j[Q[ne].unit])}else if(j=te(j),O(this[j]))return this[j](q);return this}var ut=/\d/,gt=/\d\d/,Vt=/\d{3}/,pt=/\d{4}/,Et=/[+-]?\d{6}/,Dt=/\d\d?/,Ft=/\d\d\d\d?/,Kt=/\d\d\d\d\d\d?/,ro=/\d{1,3}/,Pe=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ge=/\d+/,nt=/[+-]?\d+/,yt=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[+-]?\d+(\.\d{1,3})?/,Tt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Gt;Gt={};function ct(j,q,Q){Gt[j]=O(q)?q:function(ne,xe){return ne&&Q?Q:q}}function Ht(j,q){return l(Gt,j)?Gt[j](q._strict,q._locale):new RegExp(kt(j))}function kt(j){return dt(j.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(q,Q,ne,xe,We){return Q||ne||xe||We}))}function dt(j){return j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Oe={};function ye(j,q){var Q,ne=q,xe;for(typeof j=="string"&&(j=[j]),d(q)&&(ne=function(We,ht){ht[q]=Ze(We)}),xe=j.length,Q=0;Q<xe;Q++)Oe[j[Q]]=ne}function He(j,q){ye(j,function(Q,ne,xe,We){xe._w=xe._w||{},q(Q,xe._w,xe,We)})}function Nt(j,q,Q){q!=null&&l(Oe,j)&&Oe[j](q,Q._a,Q,j)}var it=0,_t=1,tt=2,ve=3,Re=4,vt=5,Rt=6,eo=7,jt=8;function Mn(j,q){return(j%q+q)%q}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(j){var q;for(q=0;q<this.length;++q)if(this[q]===j)return q;return-1};function ys(j,q){if(isNaN(j)||isNaN(q))return NaN;var Q=Mn(q,12);return j+=(q-Q)/12,Q===1?fe(j)?29:28:31-Q%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1}),he("MMM",0,0,function(j){return this.localeData().monthsShort(this,j)}),he("MMMM",0,0,function(j){return this.localeData().months(this,j)}),ke("month","M"),Ie("month",8),ct("M",Dt),ct("MM",Dt,gt),ct("MMM",function(j,q){return q.monthsShortRegex(j)}),ct("MMMM",function(j,q){return q.monthsRegex(j)}),ye(["M","MM"],function(j,q){q[_t]=Ze(j)-1}),ye(["MMM","MMMM"],function(j,q,Q,ne){var xe=Q._locale.monthsParse(j,ne,Q._strict);xe!=null?q[_t]=xe:x(Q).invalidMonth=j});var ld="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ks="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ol=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tl=Tt,yn=Tt;function Ml(j,q){return j?m(this._months)?this._months[j.month()]:this._months[(this._months.isFormat||Ol).test(q)?"format":"standalone"][j.month()]:m(this._months)?this._months:this._months.standalone}function id(j,q){return j?m(this._monthsShort)?this._monthsShort[j.month()]:this._monthsShort[Ol.test(q)?"format":"standalone"][j.month()]:m(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function rd(j,q,Q){var ne,xe,We,ht=j.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ne=0;ne<12;++ne)We=w([2e3,ne]),this._shortMonthsParse[ne]=this.monthsShort(We,"").toLocaleLowerCase(),this._longMonthsParse[ne]=this.months(We,"").toLocaleLowerCase();return Q?q==="MMM"?(xe=Mt.call(this._shortMonthsParse,ht),xe!==-1?xe:null):(xe=Mt.call(this._longMonthsParse,ht),xe!==-1?xe:null):q==="MMM"?(xe=Mt.call(this._shortMonthsParse,ht),xe!==-1?xe:(xe=Mt.call(this._longMonthsParse,ht),xe!==-1?xe:null)):(xe=Mt.call(this._longMonthsParse,ht),xe!==-1?xe:(xe=Mt.call(this._shortMonthsParse,ht),xe!==-1?xe:null))}function dd(j,q,Q){var ne,xe,We;if(this._monthsParseExact)return rd.call(this,j,q,Q);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ne=0;ne<12;ne++){if(xe=w([2e3,ne]),Q&&!this._longMonthsParse[ne]&&(this._longMonthsParse[ne]=new RegExp("^"+this.months(xe,"").replace(".","")+"$","i"),this._shortMonthsParse[ne]=new RegExp("^"+this.monthsShort(xe,"").replace(".","")+"$","i")),!Q&&!this._monthsParse[ne]&&(We="^"+this.months(xe,"")+"|^"+this.monthsShort(xe,""),this._monthsParse[ne]=new RegExp(We.replace(".",""),"i")),Q&&q==="MMMM"&&this._longMonthsParse[ne].test(j))return ne;if(Q&&q==="MMM"&&this._shortMonthsParse[ne].test(j))return ne;if(!Q&&this._monthsParse[ne].test(j))return ne}}function bi(j,q){var Q;if(!j.isValid())return j;if(typeof q=="string"){if(/^\d+$/.test(q))q=Ze(q);else if(q=j.localeData().monthsParse(q),!d(q))return j}return Q=Math.min(j.date(),ys(j.year(),q)),j._d["set"+(j._isUTC?"UTC":"")+"Month"](q,Q),j}function yi(j){return j!=null?(bi(this,j),t.updateOffset(this,!0),this):mt(this,"Month")}function ol(){return ys(this.year(),this.month())}function Ll(j){return this._monthsParseExact?(l(this,"_monthsRegex")||Nl.call(this),j?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=tl),this._monthsShortStrictRegex&&j?this._monthsShortStrictRegex:this._monthsShortRegex)}function $s(j){return this._monthsParseExact?(l(this,"_monthsRegex")||Nl.call(this),j?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=yn),this._monthsStrictRegex&&j?this._monthsStrictRegex:this._monthsRegex)}function Nl(){function j(ht,Qt){return Qt.length-ht.length}var q=[],Q=[],ne=[],xe,We;for(xe=0;xe<12;xe++)We=w([2e3,xe]),q.push(this.monthsShort(We,"")),Q.push(this.months(We,"")),ne.push(this.months(We,"")),ne.push(this.monthsShort(We,""));for(q.sort(j),Q.sort(j),ne.sort(j),xe=0;xe<12;xe++)q[xe]=dt(q[xe]),Q[xe]=dt(Q[xe]);for(xe=0;xe<24;xe++)ne[xe]=dt(ne[xe]);this._monthsRegex=new RegExp("^("+ne.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+q.join("|")+")","i")}he("Y",0,0,function(){var j=this.year();return j<=9999?K(j,4):"+"+j}),he(0,["YY",2],0,function(){return this.year()%100}),he(0,["YYYY",4],0,"year"),he(0,["YYYYY",5],0,"year"),he(0,["YYYYYY",6,!0],0,"year"),ke("year","y"),Ie("year",1),ct("Y",nt),ct("YY",Dt,gt),ct("YYYY",Pe,pt),ct("YYYYY",Te,Et),ct("YYYYYY",Te,Et),ye(["YYYYY","YYYYYY"],it),ye("YYYY",function(j,q){q[it]=j.length===2?t.parseTwoDigitYear(j):Ze(j)}),ye("YY",function(j,q){q[it]=t.parseTwoDigitYear(j)}),ye("Y",function(j,q){q[it]=parseInt(j,10)});function is(j){return fe(j)?366:365}t.parseTwoDigitYear=function(j){return Ze(j)+(Ze(j)>68?1900:2e3)};var ki=at("FullYear",!0);function cd(){return fe(this.year())}function ud(j,q,Q,ne,xe,We,ht){var Qt;return j<100&&j>=0?(Qt=new Date(j+400,q,Q,ne,xe,We,ht),isFinite(Qt.getFullYear())&&Qt.setFullYear(j)):Qt=new Date(j,q,Q,ne,xe,We,ht),Qt}function ws(j){var q,Q;return j<100&&j>=0?(Q=Array.prototype.slice.call(arguments),Q[0]=j+400,q=new Date(Date.UTC.apply(null,Q)),isFinite(q.getUTCFullYear())&&q.setUTCFullYear(j)):q=new Date(Date.UTC.apply(null,arguments)),q}function rs(j,q,Q){var ne=7+q-Q,xe=(7+ws(j,0,ne).getUTCDay()-q)%7;return-xe+ne-1}function $i(j,q,Q,ne,xe){var We=(7+Q-ne)%7,ht=rs(j,ne,xe),Qt=1+7*(q-1)+We+ht,io,To;return Qt<=0?(io=j-1,To=is(io)+Qt):Qt>is(j)?(io=j+1,To=Qt-is(j)):(io=j,To=Qt),{year:io,dayOfYear:To}}function Ds(j,q,Q){var ne=rs(j.year(),q,Q),xe=Math.floor((j.dayOfYear()-ne-1)/7)+1,We,ht;return xe<1?(ht=j.year()-1,We=xe+ba(ht,q,Q)):xe>ba(j.year(),q,Q)?(We=xe-ba(j.year(),q,Q),ht=j.year()+1):(ht=j.year(),We=xe),{week:We,year:ht}}function ba(j,q,Q){var ne=rs(j,q,Q),xe=rs(j+1,q,Q);return(is(j)-ne+xe)/7}he("w",["ww",2],"wo","week"),he("W",["WW",2],"Wo","isoWeek"),ke("week","w"),ke("isoWeek","W"),Ie("week",5),Ie("isoWeek",5),ct("w",Dt),ct("ww",Dt,gt),ct("W",Dt),ct("WW",Dt,gt),He(["w","ww","W","WW"],function(j,q,Q,ne){q[ne.substr(0,1)]=Ze(j)});function nn(j){return Ds(j,this._week.dow,this._week.doy).week}var Ln={dow:0,doy:6};function Nn(){return this._week.dow}function _d(){return this._week.doy}function kn(j){var q=this.localeData().week(this);return j==null?q:this.add((j-q)*7,"d")}function md(j){var q=Ds(this,1,4).week;return j==null?q:this.add((j-q)*7,"d")}he("d",0,"do","day"),he("dd",0,0,function(j){return this.localeData().weekdaysMin(this,j)}),he("ddd",0,0,function(j){return this.localeData().weekdaysShort(this,j)}),he("dddd",0,0,function(j){return this.localeData().weekdays(this,j)}),he("e",0,0,"weekday"),he("E",0,0,"isoWeekday"),ke("day","d"),ke("weekday","e"),ke("isoWeekday","E"),Ie("day",11),Ie("weekday",11),Ie("isoWeekday",11),ct("d",Dt),ct("e",Dt),ct("E",Dt),ct("dd",function(j,q){return q.weekdaysMinRegex(j)}),ct("ddd",function(j,q){return q.weekdaysShortRegex(j)}),ct("dddd",function(j,q){return q.weekdaysRegex(j)}),He(["dd","ddd","dddd"],function(j,q,Q,ne){var xe=Q._locale.weekdaysParse(j,ne,Q._strict);xe!=null?q.d=xe:x(Q).invalidWeekday=j}),He(["d","e","E"],function(j,q,Q,ne){q[ne]=Ze(j)});function fd(j,q){return typeof j!="string"?j:isNaN(j)?(j=q.weekdaysParse(j),typeof j=="number"?j:null):parseInt(j,10)}function hd(j,q){return typeof j=="string"?q.weekdaysParse(j)%7||7:isNaN(j)?null:j}function Fl(j,q){return j.slice(q,7).concat(j.slice(0,q))}var wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ha="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xi=Tt,al=Tt,Yl=Tt;function nl(j,q){var Q=m(this._weekdays)?this._weekdays:this._weekdays[j&&j!==!0&&this._weekdays.isFormat.test(q)?"format":"standalone"];return j===!0?Fl(Q,this._week.dow):j?Q[j.day()]:Q}function pd(j){return j===!0?Fl(this._weekdaysShort,this._week.dow):j?this._weekdaysShort[j.day()]:this._weekdaysShort}function Ci(j){return j===!0?Fl(this._weekdaysMin,this._week.dow):j?this._weekdaysMin[j.day()]:this._weekdaysMin}function Vl(j,q,Q){var ne,xe,We,ht=j.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ne=0;ne<7;++ne)We=w([2e3,1]).day(ne),this._minWeekdaysParse[ne]=this.weekdaysMin(We,"").toLocaleLowerCase(),this._shortWeekdaysParse[ne]=this.weekdaysShort(We,"").toLocaleLowerCase(),this._weekdaysParse[ne]=this.weekdays(We,"").toLocaleLowerCase();return Q?q==="dddd"?(xe=Mt.call(this._weekdaysParse,ht),xe!==-1?xe:null):q==="ddd"?(xe=Mt.call(this._shortWeekdaysParse,ht),xe!==-1?xe:null):(xe=Mt.call(this._minWeekdaysParse,ht),xe!==-1?xe:null):q==="dddd"?(xe=Mt.call(this._weekdaysParse,ht),xe!==-1||(xe=Mt.call(this._shortWeekdaysParse,ht),xe!==-1)?xe:(xe=Mt.call(this._minWeekdaysParse,ht),xe!==-1?xe:null)):q==="ddd"?(xe=Mt.call(this._shortWeekdaysParse,ht),xe!==-1||(xe=Mt.call(this._weekdaysParse,ht),xe!==-1)?xe:(xe=Mt.call(this._minWeekdaysParse,ht),xe!==-1?xe:null)):(xe=Mt.call(this._minWeekdaysParse,ht),xe!==-1||(xe=Mt.call(this._weekdaysParse,ht),xe!==-1)?xe:(xe=Mt.call(this._shortWeekdaysParse,ht),xe!==-1?xe:null))}function Pi(j,q,Q){var ne,xe,We;if(this._weekdaysParseExact)return Vl.call(this,j,q,Q);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ne=0;ne<7;ne++){if(xe=w([2e3,1]).day(ne),Q&&!this._fullWeekdaysParse[ne]&&(this._fullWeekdaysParse[ne]=new RegExp("^"+this.weekdays(xe,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ne]=new RegExp("^"+this.weekdaysShort(xe,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ne]=new RegExp("^"+this.weekdaysMin(xe,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ne]||(We="^"+this.weekdays(xe,"")+"|^"+this.weekdaysShort(xe,"")+"|^"+this.weekdaysMin(xe,""),this._weekdaysParse[ne]=new RegExp(We.replace(".",""),"i")),Q&&q==="dddd"&&this._fullWeekdaysParse[ne].test(j))return ne;if(Q&&q==="ddd"&&this._shortWeekdaysParse[ne].test(j))return ne;if(Q&&q==="dd"&&this._minWeekdaysParse[ne].test(j))return ne;if(!Q&&this._weekdaysParse[ne].test(j))return ne}}function $n(j){if(!this.isValid())return j!=null?this:NaN;var q=this._isUTC?this._d.getUTCDay():this._d.getDay();return j!=null?(j=fd(j,this.localeData()),this.add(j-q,"d")):q}function Ei(j){if(!this.isValid())return j!=null?this:NaN;var q=(this.day()+7-this.localeData()._week.dow)%7;return j==null?q:this.add(j-q,"d")}function Bl(j){if(!this.isValid())return j!=null?this:NaN;if(j!=null){var q=hd(j,this.localeData());return this.day(this.day()%7?q:q-7)}else return this.day()||7}function vd(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=xi),this._weekdaysStrictRegex&&j?this._weekdaysStrictRegex:this._weekdaysRegex)}function gd(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=al),this._weekdaysShortStrictRegex&&j?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Z(j){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),j?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yl),this._weekdaysMinStrictRegex&&j?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ae(){function j(Fa,Is){return Is.length-Fa.length}var q=[],Q=[],ne=[],xe=[],We,ht,Qt,io,To;for(We=0;We<7;We++)ht=w([2e3,1]).day(We),Qt=dt(this.weekdaysMin(ht,"")),io=dt(this.weekdaysShort(ht,"")),To=dt(this.weekdays(ht,"")),q.push(Qt),Q.push(io),ne.push(To),xe.push(Qt),xe.push(io),xe.push(To);q.sort(j),Q.sort(j),ne.sort(j),xe.sort(j),this._weekdaysRegex=new RegExp("^("+xe.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ne.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+q.join("|")+")","i")}function qe(){return this.hours()%12||12}function ft(){return this.hours()||24}he("H",["HH",2],0,"hour"),he("h",["hh",2],0,qe),he("k",["kk",2],0,ft),he("hmm",0,0,function(){return""+qe.apply(this)+K(this.minutes(),2)}),he("hmmss",0,0,function(){return""+qe.apply(this)+K(this.minutes(),2)+K(this.seconds(),2)}),he("Hmm",0,0,function(){return""+this.hours()+K(this.minutes(),2)}),he("Hmmss",0,0,function(){return""+this.hours()+K(this.minutes(),2)+K(this.seconds(),2)});function to(j,q){he(j,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),q)})}to("a",!0),to("A",!1),ke("hour","h"),Ie("hour",13);function zt(j,q){return q._meridiemParse}ct("a",zt),ct("A",zt),ct("H",Dt),ct("h",Dt),ct("k",Dt),ct("HH",Dt,gt),ct("hh",Dt,gt),ct("kk",Dt,gt),ct("hmm",Ft),ct("hmmss",Kt),ct("Hmm",Ft),ct("Hmmss",Kt),ye(["H","HH"],ve),ye(["k","kk"],function(j,q,Q){var ne=Ze(j);q[ve]=ne===24?0:ne}),ye(["a","A"],function(j,q,Q){Q._isPm=Q._locale.isPM(j),Q._meridiem=j}),ye(["h","hh"],function(j,q,Q){q[ve]=Ze(j),x(Q).bigHour=!0}),ye("hmm",function(j,q,Q){var ne=j.length-2;q[ve]=Ze(j.substr(0,ne)),q[Re]=Ze(j.substr(ne)),x(Q).bigHour=!0}),ye("hmmss",function(j,q,Q){var ne=j.length-4,xe=j.length-2;q[ve]=Ze(j.substr(0,ne)),q[Re]=Ze(j.substr(ne,2)),q[vt]=Ze(j.substr(xe)),x(Q).bigHour=!0}),ye("Hmm",function(j,q,Q){var ne=j.length-2;q[ve]=Ze(j.substr(0,ne)),q[Re]=Ze(j.substr(ne))}),ye("Hmmss",function(j,q,Q){var ne=j.length-4,xe=j.length-2;q[ve]=Ze(j.substr(0,ne)),q[Re]=Ze(j.substr(ne,2)),q[vt]=Ze(j.substr(xe))});function fo(j){return(j+"").toLowerCase().charAt(0)==="p"}var go=/[ap]\.?m?\.?/i,Qo=at("Hours",!0);function xo(j,q,Q){return j>11?Q?"pm":"PM":Q?"am":"AM"}var na={calendar:oe,longDateFormat:pe,invalidDate:Me,ordinal:je,dayOfMonthOrdinalParse:ze,relativeTime:ge,months:ld,monthsShort:ks,week:Ln,weekdays:wi,weekdaysMin:Di,weekdaysShort:ha,meridiemParse:go},co={},Vo={},Zo;function sa(j,q){var Q,ne=Math.min(j.length,q.length);for(Q=0;Q<ne;Q+=1)if(j[Q]!==q[Q])return Q;return ne}function Fn(j){return j&&j.toLowerCase().replace("_","-")}function Yn(j){for(var q=0,Q,ne,xe,We;q<j.length;){for(We=Fn(j[q]).split("-"),Q=We.length,ne=Fn(j[q+1]),ne=ne?ne.split("-"):null;Q>0;){if(xe=Ul(We.slice(0,Q).join("-")),xe)return xe;if(ne&&ne.length>=Q&&sa(We,ne)>=Q-1)break;Q--}q++}return Zo}function xs(j){return j.match("^[^/\\\\]*$")!=null}function Ul(j){var q=null,Q;if(co[j]===void 0&&o&&o.exports&&xs(j))try{q=Zo._abbr,Q=dza,Q("./locale/"+j),sn(q)}catch{co[j]=null}return co[j]}function sn(j,q){var Q;return j&&(i(q)?Q=Cs(j):Q=sl(j,q),Q?Zo=Q:typeof console<"u"&&console.warn&&console.warn("Locale "+j+" not found. Did you forget to load it?")),Zo._abbr}function sl(j,q){if(q!==null){var Q,ne=na;if(q.abbr=j,co[j]!=null)R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ne=co[j]._config;else if(q.parentLocale!=null)if(co[q.parentLocale]!=null)ne=co[q.parentLocale]._config;else if(Q=Ul(q.parentLocale),Q!=null)ne=Q._config;else return Vo[q.parentLocale]||(Vo[q.parentLocale]=[]),Vo[q.parentLocale].push({name:j,config:q}),null;return co[j]=new U(S(ne,q)),Vo[j]&&Vo[j].forEach(function(xe){sl(xe.name,xe.config)}),sn(j),co[j]}else return delete co[j],null}function CD(j,q){if(q!=null){var Q,ne,xe=na;co[j]!=null&&co[j].parentLocale!=null?co[j].set(S(co[j]._config,q)):(ne=Ul(j),ne!=null&&(xe=ne._config),q=S(xe,q),ne==null&&(q.abbr=j),Q=new U(q),Q.parentLocale=co[j],co[j]=Q),sn(j)}else co[j]!=null&&(co[j].parentLocale!=null?(co[j]=co[j].parentLocale,j===sn()&&sn(j)):co[j]!=null&&delete co[j]);return co[j]}function Cs(j){var q;if(j&&j._locale&&j._locale._abbr&&(j=j._locale._abbr),!j)return Zo;if(!m(j)){if(q=Ul(j),q)return q;j=[j]}return Yn(j)}function PD(){return W(co)}function cp(j){var q,Q=j._a;return Q&&x(j).overflow===-2&&(q=Q[_t]<0||Q[_t]>11?_t:Q[tt]<1||Q[tt]>ys(Q[it],Q[_t])?tt:Q[ve]<0||Q[ve]>24||Q[ve]===24&&(Q[Re]!==0||Q[vt]!==0||Q[Rt]!==0)?ve:Q[Re]<0||Q[Re]>59?Re:Q[vt]<0||Q[vt]>59?vt:Q[Rt]<0||Q[Rt]>999?Rt:-1,x(j)._overflowDayOfYear&&(q<it||q>tt)&&(q=tt),x(j)._overflowWeeks&&q===-1&&(q=eo),x(j)._overflowWeekday&&q===-1&&(q=jt),x(j).overflow=q),j}var ED=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ID=/Z|[+-]\d\d(?::?\d\d)?/,Fm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],up=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RD=/^\/?Date\((-?\d+)/i,SD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,TD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function N1(j){var q,Q,ne=j._i,xe=ED.exec(ne)||AD.exec(ne),We,ht,Qt,io,To=Fm.length,Fa=up.length;if(xe){for(x(j).iso=!0,q=0,Q=To;q<Q;q++)if(Fm[q][1].exec(xe[1])){ht=Fm[q][0],We=Fm[q][2]!==!1;break}if(ht==null){j._isValid=!1;return}if(xe[3]){for(q=0,Q=Fa;q<Q;q++)if(up[q][1].exec(xe[3])){Qt=(xe[2]||" ")+up[q][0];break}if(Qt==null){j._isValid=!1;return}}if(!We&&Qt!=null){j._isValid=!1;return}if(xe[4])if(ID.exec(xe[4]))io="Z";else{j._isValid=!1;return}j._f=ht+(Qt||"")+(io||""),mp(j)}else j._isValid=!1}function jD(j,q,Q,ne,xe,We){var ht=[OD(j),ks.indexOf(q),parseInt(Q,10),parseInt(ne,10),parseInt(xe,10)];return We&&ht.push(parseInt(We,10)),ht}function OD(j){var q=parseInt(j,10);return q<=49?2e3+q:q<=999?1900+q:q}function MD(j){return j.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function LD(j,q,Q){if(j){var ne=ha.indexOf(j),xe=new Date(q[0],q[1],q[2]).getDay();if(ne!==xe)return x(Q).weekdayMismatch=!0,Q._isValid=!1,!1}return!0}function ND(j,q,Q){if(j)return TD[j];if(q)return 0;var ne=parseInt(Q,10),xe=ne%100,We=(ne-xe)/100;return We*60+xe}function F1(j){var q=SD.exec(MD(j._i)),Q;if(q){if(Q=jD(q[4],q[3],q[2],q[5],q[6],q[7]),!LD(q[1],Q,j))return;j._a=Q,j._tzm=ND(q[8],q[9],q[10]),j._d=ws.apply(null,j._a),j._d.setUTCMinutes(j._d.getUTCMinutes()-j._tzm),x(j).rfc2822=!0}else j._isValid=!1}function FD(j){var q=RD.exec(j._i);if(q!==null){j._d=new Date(+q[1]);return}if(N1(j),j._isValid===!1)delete j._isValid;else return;if(F1(j),j._isValid===!1)delete j._isValid;else return;j._strict?j._isValid=!1:t.createFromInputFallback(j)}t.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(j){j._d=new Date(j._i+(j._useUTC?" UTC":""))});function Ai(j,q,Q){return j??q??Q}function YD(j){var q=new Date(t.now());return j._useUTC?[q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()]:[q.getFullYear(),q.getMonth(),q.getDate()]}function _p(j){var q,Q,ne=[],xe,We,ht;if(!j._d){for(xe=YD(j),j._w&&j._a[tt]==null&&j._a[_t]==null&&VD(j),j._dayOfYear!=null&&(ht=Ai(j._a[it],xe[it]),(j._dayOfYear>is(ht)||j._dayOfYear===0)&&(x(j)._overflowDayOfYear=!0),Q=ws(ht,0,j._dayOfYear),j._a[_t]=Q.getUTCMonth(),j._a[tt]=Q.getUTCDate()),q=0;q<3&&j._a[q]==null;++q)j._a[q]=ne[q]=xe[q];for(;q<7;q++)j._a[q]=ne[q]=j._a[q]==null?q===2?1:0:j._a[q];j._a[ve]===24&&j._a[Re]===0&&j._a[vt]===0&&j._a[Rt]===0&&(j._nextDay=!0,j._a[ve]=0),j._d=(j._useUTC?ws:ud).apply(null,ne),We=j._useUTC?j._d.getUTCDay():j._d.getDay(),j._tzm!=null&&j._d.setUTCMinutes(j._d.getUTCMinutes()-j._tzm),j._nextDay&&(j._a[ve]=24),j._w&&typeof j._w.d<"u"&&j._w.d!==We&&(x(j).weekdayMismatch=!0)}}function VD(j){var q,Q,ne,xe,We,ht,Qt,io,To;q=j._w,q.GG!=null||q.W!=null||q.E!=null?(We=1,ht=4,Q=Ai(q.GG,j._a[it],Ds(Bo(),1,4).year),ne=Ai(q.W,1),xe=Ai(q.E,1),(xe<1||xe>7)&&(io=!0)):(We=j._locale._week.dow,ht=j._locale._week.doy,To=Ds(Bo(),We,ht),Q=Ai(q.gg,j._a[it],To.year),ne=Ai(q.w,To.week),q.d!=null?(xe=q.d,(xe<0||xe>6)&&(io=!0)):q.e!=null?(xe=q.e+We,(q.e<0||q.e>6)&&(io=!0)):xe=We),ne<1||ne>ba(Q,We,ht)?x(j)._overflowWeeks=!0:io!=null?x(j)._overflowWeekday=!0:(Qt=$i(Q,ne,xe,We,ht),j._a[it]=Qt.year,j._dayOfYear=Qt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function mp(j){if(j._f===t.ISO_8601){N1(j);return}if(j._f===t.RFC_2822){F1(j);return}j._a=[],x(j).empty=!0;var q=""+j._i,Q,ne,xe,We,ht,Qt=q.length,io=0,To,Fa;for(xe=ie(j._f,j._locale).match(z)||[],Fa=xe.length,Q=0;Q<Fa;Q++)We=xe[Q],ne=(q.match(Ht(We,j))||[])[0],ne&&(ht=q.substr(0,q.indexOf(ne)),ht.length>0&&x(j).unusedInput.push(ht),q=q.slice(q.indexOf(ne)+ne.length),io+=ne.length),Fe[We]?(ne?x(j).empty=!1:x(j).unusedTokens.push(We),Nt(We,ne,j)):j._strict&&!ne&&x(j).unusedTokens.push(We);x(j).charsLeftOver=Qt-io,q.length>0&&x(j).unusedInput.push(q),j._a[ve]<=12&&x(j).bigHour===!0&&j._a[ve]>0&&(x(j).bigHour=void 0),x(j).parsedDateParts=j._a.slice(0),x(j).meridiem=j._meridiem,j._a[ve]=BD(j._locale,j._a[ve],j._meridiem),To=x(j).era,To!==null&&(j._a[it]=j._locale.erasConvertYear(To,j._a[it])),_p(j),cp(j)}function BD(j,q,Q){var ne;return Q==null?q:j.meridiemHour!=null?j.meridiemHour(q,Q):(j.isPM!=null&&(ne=j.isPM(Q),ne&&q<12&&(q+=12),!ne&&q===12&&(q=0)),q)}function UD(j){var q,Q,ne,xe,We,ht,Qt=!1,io=j._f.length;if(io===0){x(j).invalidFormat=!0,j._d=new Date(NaN);return}for(xe=0;xe<io;xe++)We=0,ht=!1,q=V({},j),j._useUTC!=null&&(q._useUTC=j._useUTC),q._f=j._f[xe],mp(q),E(q)&&(ht=!0),We+=x(q).charsLeftOver,We+=x(q).unusedTokens.length*10,x(q).score=We,Qt?We<ne&&(ne=We,Q=q):(ne==null||We<ne||ht)&&(ne=We,Q=q,ht&&(Qt=!0));g(j,Q||q)}function qD(j){if(!j._d){var q=Ce(j._i),Q=q.day===void 0?q.date:q.day;j._a=v([q.year,q.month,Q,q.hour,q.minute,q.second,q.millisecond],function(ne){return ne&&parseInt(ne,10)}),_p(j)}}function HD(j){var q=new B(cp(Y1(j)));return q._nextDay&&(q.add(1,"d"),q._nextDay=void 0),q}function Y1(j){var q=j._i,Q=j._f;return j._locale=j._locale||Cs(j._l),q===null||Q===void 0&&q===""?D({nullInput:!0}):(typeof q=="string"&&(j._i=q=j._locale.preparse(q)),L(q)?new B(cp(q)):(p(q)?j._d=q:m(Q)?UD(j):Q?mp(j):zD(j),E(j)||(j._d=null),j))}function zD(j){var q=j._i;i(q)?j._d=new Date(t.now()):p(q)?j._d=new Date(q.valueOf()):typeof q=="string"?FD(j):m(q)?(j._a=v(q.slice(0),function(Q){return parseInt(Q,10)}),_p(j)):_(q)?qD(j):d(q)?j._d=new Date(q):t.createFromInputFallback(j)}function V1(j,q,Q,ne,xe){var We={};return(q===!0||q===!1)&&(ne=q,q=void 0),(Q===!0||Q===!1)&&(ne=Q,Q=void 0),(_(j)&&r(j)||m(j)&&j.length===0)&&(j=void 0),We._isAMomentObject=!0,We._useUTC=We._isUTC=xe,We._l=Q,We._i=j,We._f=q,We._strict=ne,HD(We)}function Bo(j,q,Q,ne){return V1(j,q,Q,ne,!1)}var WD=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var j=Bo.apply(null,arguments);return this.isValid()&&j.isValid()?j<this?this:j:D()}),KD=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var j=Bo.apply(null,arguments);return this.isValid()&&j.isValid()?j>this?this:j:D()});function B1(j,q){var Q,ne;if(q.length===1&&m(q[0])&&(q=q[0]),!q.length)return Bo();for(Q=q[0],ne=1;ne<q.length;++ne)(!q[ne].isValid()||q[ne][j](Q))&&(Q=q[ne]);return Q}function GD(){var j=[].slice.call(arguments,0);return B1("isBefore",j)}function QD(){var j=[].slice.call(arguments,0);return B1("isAfter",j)}var ZD=function(){return Date.now?Date.now():+new Date},bd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JD(j){var q,Q=!1,ne,xe=bd.length;for(q in j)if(l(j,q)&&!(Mt.call(bd,q)!==-1&&(j[q]==null||!isNaN(j[q]))))return!1;for(ne=0;ne<xe;++ne)if(j[bd[ne]]){if(Q)return!1;parseFloat(j[bd[ne]])!==Ze(j[bd[ne]])&&(Q=!0)}return!0}function XD(){return this._isValid}function e3(){return Vn(NaN)}function Ym(j){var q=Ce(j),Q=q.year||0,ne=q.quarter||0,xe=q.month||0,We=q.week||q.isoWeek||0,ht=q.day||0,Qt=q.hour||0,io=q.minute||0,To=q.second||0,Fa=q.millisecond||0;this._isValid=JD(q),this._milliseconds=+Fa+To*1e3+io*6e4+Qt*1e3*60*60,this._days=+ht+We*7,this._months=+xe+ne*3+Q*12,this._data={},this._locale=Cs(),this._bubble()}function Vm(j){return j instanceof Ym}function fp(j){return j<0?Math.round(-1*j)*-1:Math.round(j)}function t3(j,q,Q){var ne=Math.min(j.length,q.length),xe=Math.abs(j.length-q.length),We=0,ht;for(ht=0;ht<ne;ht++)(Q&&j[ht]!==q[ht]||!Q&&Ze(j[ht])!==Ze(q[ht]))&&We++;return We+xe}function U1(j,q){he(j,0,0,function(){var Q=this.utcOffset(),ne="+";return Q<0&&(Q=-Q,ne="-"),ne+K(~~(Q/60),2)+q+K(~~Q%60,2)})}U1("Z",":"),U1("ZZ",""),ct("Z",xt),ct("ZZ",xt),ye(["Z","ZZ"],function(j,q,Q){Q._useUTC=!0,Q._tzm=hp(xt,j)});var o3=/([\+\-]|\d\d)/gi;function hp(j,q){var Q=(q||"").match(j),ne,xe,We;return Q===null?null:(ne=Q[Q.length-1]||[],xe=(ne+"").match(o3)||["-",0,0],We=+(xe[1]*60)+Ze(xe[2]),We===0?0:xe[0]==="+"?We:-We)}function pp(j,q){var Q,ne;return q._isUTC?(Q=q.clone(),ne=(L(j)||p(j)?j.valueOf():Bo(j).valueOf())-Q.valueOf(),Q._d.setTime(Q._d.valueOf()+ne),t.updateOffset(Q,!1),Q):Bo(j).local()}function vp(j){return-Math.round(j._d.getTimezoneOffset())}t.updateOffset=function(){};function a3(j,q,Q){var ne=this._offset||0,xe;if(!this.isValid())return j!=null?this:NaN;if(j!=null){if(typeof j=="string"){if(j=hp(xt,j),j===null)return this}else Math.abs(j)<16&&!Q&&(j=j*60);return!this._isUTC&&q&&(xe=vp(this)),this._offset=j,this._isUTC=!0,xe!=null&&this.add(xe,"m"),ne!==j&&(!q||this._changeInProgress?W1(this,Vn(j-ne,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?ne:vp(this)}function n3(j,q){return j!=null?(typeof j!="string"&&(j=-j),this.utcOffset(j,q),this):-this.utcOffset()}function s3(j){return this.utcOffset(0,j)}function l3(j){return this._isUTC&&(this.utcOffset(0,j),this._isUTC=!1,j&&this.subtract(vp(this),"m")),this}function i3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var j=hp(yt,this._i);j!=null?this.utcOffset(j):this.utcOffset(0,!0)}return this}function r3(j){return this.isValid()?(j=j?Bo(j).utcOffset():0,(this.utcOffset()-j)%60===0):!1}function d3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function c3(){if(!i(this._isDSTShifted))return this._isDSTShifted;var j={},q;return V(j,this),j=Y1(j),j._a?(q=j._isUTC?w(j._a):Bo(j._a),this._isDSTShifted=this.isValid()&&t3(j._a,q.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function u3(){return this.isValid()?!this._isUTC:!1}function _3(){return this.isValid()?this._isUTC:!1}function q1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var m3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,f3=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vn(j,q){var Q=j,ne=null,xe,We,ht;return Vm(j)?Q={ms:j._milliseconds,d:j._days,M:j._months}:d(j)||!isNaN(+j)?(Q={},q?Q[q]=+j:Q.milliseconds=+j):(ne=m3.exec(j))?(xe=ne[1]==="-"?-1:1,Q={y:0,d:Ze(ne[tt])*xe,h:Ze(ne[ve])*xe,m:Ze(ne[Re])*xe,s:Ze(ne[vt])*xe,ms:Ze(fp(ne[Rt]*1e3))*xe}):(ne=f3.exec(j))?(xe=ne[1]==="-"?-1:1,Q={y:ql(ne[2],xe),M:ql(ne[3],xe),w:ql(ne[4],xe),d:ql(ne[5],xe),h:ql(ne[6],xe),m:ql(ne[7],xe),s:ql(ne[8],xe)}):Q==null?Q={}:typeof Q=="object"&&("from"in Q||"to"in Q)&&(ht=h3(Bo(Q.from),Bo(Q.to)),Q={},Q.ms=ht.milliseconds,Q.M=ht.months),We=new Ym(Q),Vm(j)&&l(j,"_locale")&&(We._locale=j._locale),Vm(j)&&l(j,"_isValid")&&(We._isValid=j._isValid),We}Vn.fn=Ym.prototype,Vn.invalid=e3;function ql(j,q){var Q=j&&parseFloat(j.replace(",","."));return(isNaN(Q)?0:Q)*q}function H1(j,q){var Q={};return Q.months=q.month()-j.month()+(q.year()-j.year())*12,j.clone().add(Q.months,"M").isAfter(q)&&--Q.months,Q.milliseconds=+q-+j.clone().add(Q.months,"M"),Q}function h3(j,q){var Q;return j.isValid()&&q.isValid()?(q=pp(q,j),j.isBefore(q)?Q=H1(j,q):(Q=H1(q,j),Q.milliseconds=-Q.milliseconds,Q.months=-Q.months),Q):{milliseconds:0,months:0}}function z1(j,q){return function(Q,ne){var xe,We;return ne!==null&&!isNaN(+ne)&&(R(q,"moment()."+q+"(period, number) is deprecated. Please use moment()."+q+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),We=Q,Q=ne,ne=We),xe=Vn(Q,ne),W1(this,xe,j),this}}function W1(j,q,Q,ne){var xe=q._milliseconds,We=fp(q._days),ht=fp(q._months);j.isValid()&&(ne=ne??!0,ht&&bi(j,mt(j,"Month")+ht*Q),We&&wt(j,"Date",mt(j,"Date")+We*Q),xe&&j._d.setTime(j._d.valueOf()+xe*Q),ne&&t.updateOffset(j,We||ht))}var p3=z1(1,"add"),v3=z1(-1,"subtract");function K1(j){return typeof j=="string"||j instanceof String}function g3(j){return L(j)||p(j)||K1(j)||d(j)||y3(j)||b3(j)||j===null||j===void 0}function b3(j){var q=_(j)&&!r(j),Q=!1,ne=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],xe,We,ht=ne.length;for(xe=0;xe<ht;xe+=1)We=ne[xe],Q=Q||l(j,We);return q&&Q}function y3(j){var q=m(j),Q=!1;return q&&(Q=j.filter(function(ne){return!d(ne)&&K1(j)}).length===0),q&&Q}function k3(j){var q=_(j)&&!r(j),Q=!1,ne=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],xe,We;for(xe=0;xe<ne.length;xe+=1)We=ne[xe],Q=Q||l(j,We);return q&&Q}function $3(j,q){var Q=j.diff(q,"days",!0);return Q<-6?"sameElse":Q<-1?"lastWeek":Q<0?"lastDay":Q<1?"sameDay":Q<2?"nextDay":Q<7?"nextWeek":"sameElse"}function w3(j,q){arguments.length===1&&(arguments[0]?g3(arguments[0])?(j=arguments[0],q=void 0):k3(arguments[0])&&(q=arguments[0],j=void 0):(j=void 0,q=void 0));var Q=j||Bo(),ne=pp(Q,this).startOf("day"),xe=t.calendarFormat(this,ne)||"sameElse",We=q&&(O(q[xe])?q[xe].call(this,Q):q[xe]);return this.format(We||this.localeData().calendar(xe,this,Bo(Q)))}function D3(){return new B(this)}function x3(j,q){var Q=L(j)?j:Bo(j);return this.isValid()&&Q.isValid()?(q=te(q)||"millisecond",q==="millisecond"?this.valueOf()>Q.valueOf():Q.valueOf()<this.clone().startOf(q).valueOf()):!1}function C3(j,q){var Q=L(j)?j:Bo(j);return this.isValid()&&Q.isValid()?(q=te(q)||"millisecond",q==="millisecond"?this.valueOf()<Q.valueOf():this.clone().endOf(q).valueOf()<Q.valueOf()):!1}function P3(j,q,Q,ne){var xe=L(j)?j:Bo(j),We=L(q)?q:Bo(q);return this.isValid()&&xe.isValid()&&We.isValid()?(ne=ne||"()",(ne[0]==="("?this.isAfter(xe,Q):!this.isBefore(xe,Q))&&(ne[1]===")"?this.isBefore(We,Q):!this.isAfter(We,Q))):!1}function E3(j,q){var Q=L(j)?j:Bo(j),ne;return this.isValid()&&Q.isValid()?(q=te(q)||"millisecond",q==="millisecond"?this.valueOf()===Q.valueOf():(ne=Q.valueOf(),this.clone().startOf(q).valueOf()<=ne&&ne<=this.clone().endOf(q).valueOf())):!1}function A3(j,q){return this.isSame(j,q)||this.isAfter(j,q)}function I3(j,q){return this.isSame(j,q)||this.isBefore(j,q)}function R3(j,q,Q){var ne,xe,We;if(!this.isValid())return NaN;if(ne=pp(j,this),!ne.isValid())return NaN;switch(xe=(ne.utcOffset()-this.utcOffset())*6e4,q=te(q),q){case"year":We=Bm(this,ne)/12;break;case"month":We=Bm(this,ne);break;case"quarter":We=Bm(this,ne)/3;break;case"second":We=(this-ne)/1e3;break;case"minute":We=(this-ne)/6e4;break;case"hour":We=(this-ne)/36e5;break;case"day":We=(this-ne-xe)/864e5;break;case"week":We=(this-ne-xe)/6048e5;break;default:We=this-ne}return Q?We:Le(We)}function Bm(j,q){if(j.date()<q.date())return-Bm(q,j);var Q=(q.year()-j.year())*12+(q.month()-j.month()),ne=j.clone().add(Q,"months"),xe,We;return q-ne<0?(xe=j.clone().add(Q-1,"months"),We=(q-ne)/(ne-xe)):(xe=j.clone().add(Q+1,"months"),We=(q-ne)/(xe-ne)),-(Q+We)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function S3(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function T3(j){if(!this.isValid())return null;var q=j!==!0,Q=q?this.clone().utc():this;return Q.year()<0||Q.year()>9999?De(Q,q?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?q?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",De(Q,"Z")):De(Q,q?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function j3(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var j="moment",q="",Q,ne,xe,We;return this.isLocal()||(j=this.utcOffset()===0?"moment.utc":"moment.parseZone",q="Z"),Q="["+j+'("]',ne=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",xe="-MM-DD[T]HH:mm:ss.SSS",We=q+'[")]',this.format(Q+ne+xe+We)}function O3(j){j||(j=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var q=De(this,j);return this.localeData().postformat(q)}function M3(j,q){return this.isValid()&&(L(j)&&j.isValid()||Bo(j).isValid())?Vn({to:this,from:j}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()}function L3(j){return this.from(Bo(),j)}function N3(j,q){return this.isValid()&&(L(j)&&j.isValid()||Bo(j).isValid())?Vn({from:this,to:j}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()}function F3(j){return this.to(Bo(),j)}function G1(j){var q;return j===void 0?this._locale._abbr:(q=Cs(j),q!=null&&(this._locale=q),this)}var Q1=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(j){return j===void 0?this.localeData():this.locale(j)});function Z1(){return this._locale}var Um=1e3,Ii=60*Um,qm=60*Ii,J1=(365*400+97)*24*qm;function Ri(j,q){return(j%q+q)%q}function X1(j,q,Q){return j<100&&j>=0?new Date(j+400,q,Q)-J1:new Date(j,q,Q).valueOf()}function eb(j,q,Q){return j<100&&j>=0?Date.UTC(j+400,q,Q)-J1:Date.UTC(j,q,Q)}function Y3(j){var q,Q;if(j=te(j),j===void 0||j==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?eb:X1,j){case"year":q=Q(this.year(),0,1);break;case"quarter":q=Q(this.year(),this.month()-this.month()%3,1);break;case"month":q=Q(this.year(),this.month(),1);break;case"week":q=Q(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":q=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":q=Q(this.year(),this.month(),this.date());break;case"hour":q=this._d.valueOf(),q-=Ri(q+(this._isUTC?0:this.utcOffset()*Ii),qm);break;case"minute":q=this._d.valueOf(),q-=Ri(q,Ii);break;case"second":q=this._d.valueOf(),q-=Ri(q,Um);break}return this._d.setTime(q),t.updateOffset(this,!0),this}function V3(j){var q,Q;if(j=te(j),j===void 0||j==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?eb:X1,j){case"year":q=Q(this.year()+1,0,1)-1;break;case"quarter":q=Q(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":q=Q(this.year(),this.month()+1,1)-1;break;case"week":q=Q(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":q=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":q=Q(this.year(),this.month(),this.date()+1)-1;break;case"hour":q=this._d.valueOf(),q+=qm-Ri(q+(this._isUTC?0:this.utcOffset()*Ii),qm)-1;break;case"minute":q=this._d.valueOf(),q+=Ii-Ri(q,Ii)-1;break;case"second":q=this._d.valueOf(),q+=Um-Ri(q,Um)-1;break}return this._d.setTime(q),t.updateOffset(this,!0),this}function B3(){return this._d.valueOf()-(this._offset||0)*6e4}function U3(){return Math.floor(this.valueOf()/1e3)}function q3(){return new Date(this.valueOf())}function H3(){var j=this;return[j.year(),j.month(),j.date(),j.hour(),j.minute(),j.second(),j.millisecond()]}function z3(){var j=this;return{years:j.year(),months:j.month(),date:j.date(),hours:j.hours(),minutes:j.minutes(),seconds:j.seconds(),milliseconds:j.milliseconds()}}function W3(){return this.isValid()?this.toISOString():null}function K3(){return E(this)}function G3(){return g({},x(this))}function Q3(){return x(this).overflow}function Z3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr"),he("NN",0,0,"eraAbbr"),he("NNN",0,0,"eraAbbr"),he("NNNN",0,0,"eraName"),he("NNNNN",0,0,"eraNarrow"),he("y",["y",1],"yo","eraYear"),he("y",["yy",2],0,"eraYear"),he("y",["yyy",3],0,"eraYear"),he("y",["yyyy",4],0,"eraYear"),ct("N",gp),ct("NN",gp),ct("NNN",gp),ct("NNNN",rx),ct("NNNNN",dx),ye(["N","NN","NNN","NNNN","NNNNN"],function(j,q,Q,ne){var xe=Q._locale.erasParse(j,ne,Q._strict);xe?x(Q).era=xe:x(Q).invalidEra=j}),ct("y",Ge),ct("yy",Ge),ct("yyy",Ge),ct("yyyy",Ge),ct("yo",cx),ye(["y","yy","yyy","yyyy"],it),ye(["yo"],function(j,q,Q,ne){var xe;Q._locale._eraYearOrdinalRegex&&(xe=j.match(Q._locale._eraYearOrdinalRegex)),Q._locale.eraYearOrdinalParse?q[it]=Q._locale.eraYearOrdinalParse(j,xe):q[it]=parseInt(j,10)});function J3(j,q){var Q,ne,xe,We=this._eras||Cs("en")._eras;for(Q=0,ne=We.length;Q<ne;++Q){switch(typeof We[Q].since){case"string":xe=t(We[Q].since).startOf("day"),We[Q].since=xe.valueOf();break}switch(typeof We[Q].until){case"undefined":We[Q].until=1/0;break;case"string":xe=t(We[Q].until).startOf("day").valueOf(),We[Q].until=xe.valueOf();break}}return We}function X3(j,q,Q){var ne,xe,We=this.eras(),ht,Qt,io;for(j=j.toUpperCase(),ne=0,xe=We.length;ne<xe;++ne)if(ht=We[ne].name.toUpperCase(),Qt=We[ne].abbr.toUpperCase(),io=We[ne].narrow.toUpperCase(),Q)switch(q){case"N":case"NN":case"NNN":if(Qt===j)return We[ne];break;case"NNNN":if(ht===j)return We[ne];break;case"NNNNN":if(io===j)return We[ne];break}else if([ht,Qt,io].indexOf(j)>=0)return We[ne]}function ex(j,q){var Q=j.since<=j.until?1:-1;return q===void 0?t(j.since).year():t(j.since).year()+(q-j.offset)*Q}function tx(){var j,q,Q,ne=this.localeData().eras();for(j=0,q=ne.length;j<q;++j)if(Q=this.clone().startOf("day").valueOf(),ne[j].since<=Q&&Q<=ne[j].until||ne[j].until<=Q&&Q<=ne[j].since)return ne[j].name;return""}function ox(){var j,q,Q,ne=this.localeData().eras();for(j=0,q=ne.length;j<q;++j)if(Q=this.clone().startOf("day").valueOf(),ne[j].since<=Q&&Q<=ne[j].until||ne[j].until<=Q&&Q<=ne[j].since)return ne[j].narrow;return""}function ax(){var j,q,Q,ne=this.localeData().eras();for(j=0,q=ne.length;j<q;++j)if(Q=this.clone().startOf("day").valueOf(),ne[j].since<=Q&&Q<=ne[j].until||ne[j].until<=Q&&Q<=ne[j].since)return ne[j].abbr;return""}function nx(){var j,q,Q,ne,xe=this.localeData().eras();for(j=0,q=xe.length;j<q;++j)if(Q=xe[j].since<=xe[j].until?1:-1,ne=this.clone().startOf("day").valueOf(),xe[j].since<=ne&&ne<=xe[j].until||xe[j].until<=ne&&ne<=xe[j].since)return(this.year()-t(xe[j].since).year())*Q+xe[j].offset;return this.year()}function sx(j){return l(this,"_erasNameRegex")||bp.call(this),j?this._erasNameRegex:this._erasRegex}function lx(j){return l(this,"_erasAbbrRegex")||bp.call(this),j?this._erasAbbrRegex:this._erasRegex}function ix(j){return l(this,"_erasNarrowRegex")||bp.call(this),j?this._erasNarrowRegex:this._erasRegex}function gp(j,q){return q.erasAbbrRegex(j)}function rx(j,q){return q.erasNameRegex(j)}function dx(j,q){return q.erasNarrowRegex(j)}function cx(j,q){return q._eraYearOrdinalRegex||Ge}function bp(){var j=[],q=[],Q=[],ne=[],xe,We,ht=this.eras();for(xe=0,We=ht.length;xe<We;++xe)q.push(dt(ht[xe].name)),j.push(dt(ht[xe].abbr)),Q.push(dt(ht[xe].narrow)),ne.push(dt(ht[xe].name)),ne.push(dt(ht[xe].abbr)),ne.push(dt(ht[xe].narrow));this._erasRegex=new RegExp("^("+ne.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+q.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+j.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Q.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100}),he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hm(j,q){he(0,[j,j.length],0,q)}Hm("gggg","weekYear"),Hm("ggggg","weekYear"),Hm("GGGG","isoWeekYear"),Hm("GGGGG","isoWeekYear"),ke("weekYear","gg"),ke("isoWeekYear","GG"),Ie("weekYear",1),Ie("isoWeekYear",1),ct("G",nt),ct("g",nt),ct("GG",Dt,gt),ct("gg",Dt,gt),ct("GGGG",Pe,pt),ct("gggg",Pe,pt),ct("GGGGG",Te,Et),ct("ggggg",Te,Et),He(["gggg","ggggg","GGGG","GGGGG"],function(j,q,Q,ne){q[ne.substr(0,2)]=Ze(j)}),He(["gg","GG"],function(j,q,Q,ne){q[ne]=t.parseTwoDigitYear(j)});function ux(j){return tb.call(this,j,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _x(j){return tb.call(this,j,this.isoWeek(),this.isoWeekday(),1,4)}function mx(){return ba(this.year(),1,4)}function fx(){return ba(this.isoWeekYear(),1,4)}function hx(){var j=this.localeData()._week;return ba(this.year(),j.dow,j.doy)}function px(){var j=this.localeData()._week;return ba(this.weekYear(),j.dow,j.doy)}function tb(j,q,Q,ne,xe){var We;return j==null?Ds(this,ne,xe).year:(We=ba(j,ne,xe),q>We&&(q=We),vx.call(this,j,q,Q,ne,xe))}function vx(j,q,Q,ne,xe){var We=$i(j,q,Q,ne,xe),ht=ws(We.year,0,We.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}he("Q",0,"Qo","quarter"),ke("quarter","Q"),Ie("quarter",7),ct("Q",ut),ye("Q",function(j,q){q[_t]=(Ze(j)-1)*3});function gx(j){return j==null?Math.ceil((this.month()+1)/3):this.month((j-1)*3+this.month()%3)}he("D",["DD",2],"Do","date"),ke("date","D"),Ie("date",9),ct("D",Dt),ct("DD",Dt,gt),ct("Do",function(j,q){return j?q._dayOfMonthOrdinalParse||q._ordinalParse:q._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],tt),ye("Do",function(j,q){q[tt]=Ze(j.match(Dt)[0])});var ob=at("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear"),ke("dayOfYear","DDD"),Ie("dayOfYear",4),ct("DDD",ro),ct("DDDD",Vt),ye(["DDD","DDDD"],function(j,q,Q){Q._dayOfYear=Ze(j)});function bx(j){var q=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return j==null?q:this.add(j-q,"d")}he("m",["mm",2],0,"minute"),ke("minute","m"),Ie("minute",14),ct("m",Dt),ct("mm",Dt,gt),ye(["m","mm"],Re);var yx=at("Minutes",!1);he("s",["ss",2],0,"second"),ke("second","s"),Ie("second",15),ct("s",Dt),ct("ss",Dt,gt),ye(["s","ss"],vt);var kx=at("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)}),he(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),he(0,["SSS",3],0,"millisecond"),he(0,["SSSS",4],0,function(){return this.millisecond()*10}),he(0,["SSSSS",5],0,function(){return this.millisecond()*100}),he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ke("millisecond","ms"),Ie("millisecond",16),ct("S",ro,ut),ct("SS",ro,gt),ct("SSS",ro,Vt);var ll,ab;for(ll="SSSS";ll.length<=9;ll+="S")ct(ll,Ge);function $x(j,q){q[Rt]=Ze(("0."+j)*1e3)}for(ll="S";ll.length<=9;ll+="S")ye(ll,$x);ab=at("Milliseconds",!1),he("z",0,0,"zoneAbbr"),he("zz",0,0,"zoneName");function wx(){return this._isUTC?"UTC":""}function Dx(){return this._isUTC?"Coordinated Universal Time":""}var Ct=B.prototype;Ct.add=p3,Ct.calendar=w3,Ct.clone=D3,Ct.diff=R3,Ct.endOf=V3,Ct.format=O3,Ct.from=M3,Ct.fromNow=L3,Ct.to=N3,Ct.toNow=F3,Ct.get=Ot,Ct.invalidAt=Q3,Ct.isAfter=x3,Ct.isBefore=C3,Ct.isBetween=P3,Ct.isSame=E3,Ct.isSameOrAfter=A3,Ct.isSameOrBefore=I3,Ct.isValid=K3,Ct.lang=Q1,Ct.locale=G1,Ct.localeData=Z1,Ct.max=KD,Ct.min=WD,Ct.parsingFlags=G3,Ct.set=Jt,Ct.startOf=Y3,Ct.subtract=v3,Ct.toArray=H3,Ct.toObject=z3,Ct.toDate=q3,Ct.toISOString=T3,Ct.inspect=j3,typeof Symbol<"u"&&Symbol.for!=null&&(Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ct.toJSON=W3,Ct.toString=S3,Ct.unix=U3,Ct.valueOf=B3,Ct.creationData=Z3,Ct.eraName=tx,Ct.eraNarrow=ox,Ct.eraAbbr=ax,Ct.eraYear=nx,Ct.year=ki,Ct.isLeapYear=cd,Ct.weekYear=ux,Ct.isoWeekYear=_x,Ct.quarter=Ct.quarters=gx,Ct.month=yi,Ct.daysInMonth=ol,Ct.week=Ct.weeks=kn,Ct.isoWeek=Ct.isoWeeks=md,Ct.weeksInYear=hx,Ct.weeksInWeekYear=px,Ct.isoWeeksInYear=mx,Ct.isoWeeksInISOWeekYear=fx,Ct.date=ob,Ct.day=Ct.days=$n,Ct.weekday=Ei,Ct.isoWeekday=Bl,Ct.dayOfYear=bx,Ct.hour=Ct.hours=Qo,Ct.minute=Ct.minutes=yx,Ct.second=Ct.seconds=kx,Ct.millisecond=Ct.milliseconds=ab,Ct.utcOffset=a3,Ct.utc=s3,Ct.local=l3,Ct.parseZone=i3,Ct.hasAlignedHourOffset=r3,Ct.isDST=d3,Ct.isLocal=u3,Ct.isUtcOffset=_3,Ct.isUtc=q1,Ct.isUTC=q1,Ct.zoneAbbr=wx,Ct.zoneName=Dx,Ct.dates=T("dates accessor is deprecated. Use date instead.",ob),Ct.months=T("months accessor is deprecated. Use month instead",yi),Ct.years=T("years accessor is deprecated. Use year instead",ki),Ct.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",n3),Ct.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",c3);function xx(j){return Bo(j*1e3)}function Cx(){return Bo.apply(null,arguments).parseZone()}function nb(j){return j}var Co=U.prototype;Co.calendar=J,Co.longDateFormat=be,Co.invalidDate=ue,Co.ordinal=Ye,Co.preparse=nb,Co.postformat=nb,Co.relativeTime=_e,Co.pastFuture=Se,Co.set=N,Co.eras=J3,Co.erasParse=X3,Co.erasConvertYear=ex,Co.erasAbbrRegex=lx,Co.erasNameRegex=sx,Co.erasNarrowRegex=ix,Co.months=Ml,Co.monthsShort=id,Co.monthsParse=dd,Co.monthsRegex=$s,Co.monthsShortRegex=Ll,Co.week=nn,Co.firstDayOfYear=_d,Co.firstDayOfWeek=Nn,Co.weekdays=nl,Co.weekdaysMin=Ci,Co.weekdaysShort=pd,Co.weekdaysParse=Pi,Co.weekdaysRegex=vd,Co.weekdaysShortRegex=gd,Co.weekdaysMinRegex=Z,Co.isPM=fo,Co.meridiem=xo;function zm(j,q,Q,ne){var xe=Cs(),We=w().set(ne,q);return xe[Q](We,j)}function sb(j,q,Q){if(d(j)&&(q=j,j=void 0),j=j||"",q!=null)return zm(j,q,Q,"month");var ne,xe=[];for(ne=0;ne<12;ne++)xe[ne]=zm(j,ne,Q,"month");return xe}function yp(j,q,Q,ne){typeof j=="boolean"?(d(q)&&(Q=q,q=void 0),q=q||""):(q=j,Q=q,j=!1,d(q)&&(Q=q,q=void 0),q=q||"");var xe=Cs(),We=j?xe._week.dow:0,ht,Qt=[];if(Q!=null)return zm(q,(Q+We)%7,ne,"day");for(ht=0;ht<7;ht++)Qt[ht]=zm(q,(ht+We)%7,ne,"day");return Qt}function Px(j,q){return sb(j,q,"months")}function Ex(j,q){return sb(j,q,"monthsShort")}function Ax(j,q,Q){return yp(j,q,Q,"weekdays")}function Ix(j,q,Q){return yp(j,q,Q,"weekdaysShort")}function Rx(j,q,Q){return yp(j,q,Q,"weekdaysMin")}sn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(j){var q=j%10,Q=Ze(j%100/10)===1?"th":q===1?"st":q===2?"nd":q===3?"rd":"th";return j+Q}}),t.lang=T("moment.lang is deprecated. Use moment.locale instead.",sn),t.langData=T("moment.langData is deprecated. Use moment.localeData instead.",Cs);var Ps=Math.abs;function Sx(){var j=this._data;return this._milliseconds=Ps(this._milliseconds),this._days=Ps(this._days),this._months=Ps(this._months),j.milliseconds=Ps(j.milliseconds),j.seconds=Ps(j.seconds),j.minutes=Ps(j.minutes),j.hours=Ps(j.hours),j.months=Ps(j.months),j.years=Ps(j.years),this}function lb(j,q,Q,ne){var xe=Vn(q,Q);return j._milliseconds+=ne*xe._milliseconds,j._days+=ne*xe._days,j._months+=ne*xe._months,j._bubble()}function Tx(j,q){return lb(this,j,q,1)}function jx(j,q){return lb(this,j,q,-1)}function ib(j){return j<0?Math.floor(j):Math.ceil(j)}function Ox(){var j=this._milliseconds,q=this._days,Q=this._months,ne=this._data,xe,We,ht,Qt,io;return j>=0&&q>=0&&Q>=0||j<=0&&q<=0&&Q<=0||(j+=ib(kp(Q)+q)*864e5,q=0,Q=0),ne.milliseconds=j%1e3,xe=Le(j/1e3),ne.seconds=xe%60,We=Le(xe/60),ne.minutes=We%60,ht=Le(We/60),ne.hours=ht%24,q+=Le(ht/24),io=Le(rb(q)),Q+=io,q-=ib(kp(io)),Qt=Le(Q/12),Q%=12,ne.days=q,ne.months=Q,ne.years=Qt,this}function rb(j){return j*4800/146097}function kp(j){return j*146097/4800}function Mx(j){if(!this.isValid())return NaN;var q,Q,ne=this._milliseconds;if(j=te(j),j==="month"||j==="quarter"||j==="year")switch(q=this._days+ne/864e5,Q=this._months+rb(q),j){case"month":return Q;case"quarter":return Q/3;case"year":return Q/12}else switch(q=this._days+Math.round(kp(this._months)),j){case"week":return q/7+ne/6048e5;case"day":return q+ne/864e5;case"hour":return q*24+ne/36e5;case"minute":return q*1440+ne/6e4;case"second":return q*86400+ne/1e3;case"millisecond":return Math.floor(q*864e5)+ne;default:throw new Error("Unknown unit "+j)}}function Lx(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ze(this._months/12)*31536e6:NaN}function Es(j){return function(){return this.as(j)}}var Nx=Es("ms"),Fx=Es("s"),Yx=Es("m"),Vx=Es("h"),Bx=Es("d"),Ux=Es("w"),qx=Es("M"),Hx=Es("Q"),zx=Es("y");function Wx(){return Vn(this)}function Kx(j){return j=te(j),this.isValid()?this[j+"s"]():NaN}function Hl(j){return function(){return this.isValid()?this._data[j]:NaN}}var Gx=Hl("milliseconds"),Qx=Hl("seconds"),Zx=Hl("minutes"),Jx=Hl("hours"),Xx=Hl("days"),eC=Hl("months"),tC=Hl("years");function oC(){return Le(this.days()/7)}var As=Math.round,Si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function aC(j,q,Q,ne,xe){return xe.relativeTime(q||1,!!Q,j,ne)}function nC(j,q,Q,ne){var xe=Vn(j).abs(),We=As(xe.as("s")),ht=As(xe.as("m")),Qt=As(xe.as("h")),io=As(xe.as("d")),To=As(xe.as("M")),Fa=As(xe.as("w")),Is=As(xe.as("y")),il=We<=Q.ss&&["s",We]||We<Q.s&&["ss",We]||ht<=1&&["m"]||ht<Q.m&&["mm",ht]||Qt<=1&&["h"]||Qt<Q.h&&["hh",Qt]||io<=1&&["d"]||io<Q.d&&["dd",io];return Q.w!=null&&(il=il||Fa<=1&&["w"]||Fa<Q.w&&["ww",Fa]),il=il||To<=1&&["M"]||To<Q.M&&["MM",To]||Is<=1&&["y"]||["yy",Is],il[2]=q,il[3]=+j>0,il[4]=ne,aC.apply(null,il)}function sC(j){return j===void 0?As:typeof j=="function"?(As=j,!0):!1}function lC(j,q){return Si[j]===void 0?!1:q===void 0?Si[j]:(Si[j]=q,j==="s"&&(Si.ss=q-1),!0)}function iC(j,q){if(!this.isValid())return this.localeData().invalidDate();var Q=!1,ne=Si,xe,We;return typeof j=="object"&&(q=j,j=!1),typeof j=="boolean"&&(Q=j),typeof q=="object"&&(ne=Object.assign({},Si,q),q.s!=null&&q.ss==null&&(ne.ss=q.s-1)),xe=this.localeData(),We=nC(this,!Q,ne,xe),Q&&(We=xe.pastFuture(+this,We)),xe.postformat(We)}var $p=Math.abs;function Ti(j){return(j>0)-(j<0)||+j}function Wm(){if(!this.isValid())return this.localeData().invalidDate();var j=$p(this._milliseconds)/1e3,q=$p(this._days),Q=$p(this._months),ne,xe,We,ht,Qt=this.asSeconds(),io,To,Fa,Is;return Qt?(ne=Le(j/60),xe=Le(ne/60),j%=60,ne%=60,We=Le(Q/12),Q%=12,ht=j?j.toFixed(3).replace(/\.?0+$/,""):"",io=Qt<0?"-":"",To=Ti(this._months)!==Ti(Qt)?"-":"",Fa=Ti(this._days)!==Ti(Qt)?"-":"",Is=Ti(this._milliseconds)!==Ti(Qt)?"-":"",io+"P"+(We?To+We+"Y":"")+(Q?To+Q+"M":"")+(q?Fa+q+"D":"")+(xe||ne||j?"T":"")+(xe?Is+xe+"H":"")+(ne?Is+ne+"M":"")+(j?Is+ht+"S":"")):"P0D"}var yo=Ym.prototype;yo.isValid=XD,yo.abs=Sx,yo.add=Tx,yo.subtract=jx,yo.as=Mx,yo.asMilliseconds=Nx,yo.asSeconds=Fx,yo.asMinutes=Yx,yo.asHours=Vx,yo.asDays=Bx,yo.asWeeks=Ux,yo.asMonths=qx,yo.asQuarters=Hx,yo.asYears=zx,yo.valueOf=Lx,yo._bubble=Ox,yo.clone=Wx,yo.get=Kx,yo.milliseconds=Gx,yo.seconds=Qx,yo.minutes=Zx,yo.hours=Jx,yo.days=Xx,yo.weeks=oC,yo.months=eC,yo.years=tC,yo.humanize=iC,yo.toISOString=Wm,yo.toString=Wm,yo.toJSON=Wm,yo.locale=G1,yo.localeData=Z1,yo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wm),yo.lang=Q1,he("X",0,0,"unix"),he("x",0,0,"valueOf"),ct("x",nt),ct("X",Ut),ye("X",function(j,q,Q){Q._d=new Date(parseFloat(j)*1e3)}),ye("x",function(j,q,Q){Q._d=new Date(Ze(j))});//! moment.js
return t.version="2.29.4",c(Bo),t.fn=Ct,t.min=GD,t.max=QD,t.now=ZD,t.utc=w,t.unix=xx,t.months=Px,t.isDate=p,t.locale=sn,t.invalid=D,t.duration=Vn,t.isMoment=L,t.weekdays=Ax,t.parseZone=Cx,t.localeData=Cs,t.isDuration=Vm,t.monthsShort=Ex,t.weekdaysMin=Rx,t.defineLocale=sl,t.updateLocale=CD,t.locales=PD,t.weekdaysShort=Ix,t.normalizeUnits=te,t.relativeTimeRounding=sC,t.relativeTimeThreshold=lC,t.calendarFormat=$3,t.prototype=Ct,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})})(xD);var cza=xD.exports;const uza=Bh(cza),_za={name:"PendingConfigurations",props:["bank","date_format"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.date_format,s=Je("baseURL"),t=lt(),c=h([]),m=h(""),_=h(50),l=h(""),r=h([]),i=h(null),d=h(null),p=h([]),v=h(""),g=()=>{A.get(s+o.bank+"/configurations/pending/data",{params:{per_page:_.value}}).then(D=>{c.value=D.data.data})};ot(v,D=>{p.value.length>0?(r.value=[],D=="approve"&&(p.value.forEach(k=>{r.value.push(c.value.data.filter(I=>I.id==k)[0])}),d.value.click()),D=="reject"&&i.value.click()):t.error("Select Configurations")});const w=()=>{p.value=[],document.getElementById("select-all").checked?c.value.data.forEach(D=>{D.can_approve&&(document.getElementById("data-select-"+D.id).checked=!0,p.value.push(D.id))}):c.value.data.forEach(D=>{if(D.can_approve){document.getElementById("data-select-"+D.id).checked=!1;let k;if(!p.value.filter(function(V,B){k=B,V==D.id}))return!1;p.value.splice(k,1)}})},y=D=>{if(p.value.includes(D)){const k=p.value.indexOf(D);p.value.splice(k,1)}else p.value.push(D)},x=D=>{if(p.value.length<=0){t.error("Select configurations");return}const k=new FormData;p.value.forEach(I=>{k.append("configurations[]",I)}),D=="approve"&&k.append("status","approve"),D=="reject"&&k.append("status","reject"),A.post(s+o.bank+"/configurations/pending/bulk/update",k).then(()=>{t.success("Configurations updated"),v.value="",g(),document.getElementById("approve-companies-close").click(),document.getElementById("reject-companies-close").click()}).catch(I=>{console.log(I),t.error("Something went wrong")})},C=(D,k)=>{A.get(s+o.bank+"/configurations/config/"+D+"/status/update/"+k).then(()=>{g(),t.success("Configuration status updated"),document.getElementById("approve-config-close-btn-"+D).click(),document.getElementById("reject-config-close-btn-"+D).click(),document.getElementById("select-all").checked=!1}).catch(I=>{console.log(I)})};return Qe(()=>{g()}),{moment:uza,base_url:s,bank:m,proposed_configs:c,per_page:_,updateRequestRejectionReason:l,showRejectionModal:i,showApprovalModal:d,selected_data:p,bulk_action:v,selectAll:w,updateSelected:y,submitBulkAction:x,updateConfig:C,changePage:async D=>{await A.get(D+"&per_page="+_.value).then(k=>{c.value=k.data.data})},date_format:a}}},mza={class:"card p-2",id:"companies"},fza={class:"d-flex justify-content-between"},hza={class:"w-75 row"},pza={class:"col-3"},vza={value:""},gza={value:"approve"},bza={value:"reject"},yza={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},kza={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},$za={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},wza={class:"modal-content"},Dza={class:"modal-header"},xza={class:"modal-title",id:"modalCenterTitle"},Cza={class:"modal-body"},Pza={class:"modal-footer"},Eza={class:"btn btn-primary",type:"submit"},Aza={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},Iza={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},Rza={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Sza={class:"modal-content"},Tza={class:"modal-header"},jza={class:"modal-title",id:"modalCenterTitle"},Oza={class:"modal-body"},Mza={class:"modal-footer"},Lza={class:"btn btn-primary",type:"submit"},Nza={class:"d-flex justify-content-end"},Fza={class:""},Yza={class:"table-responsive"},Vza={class:"table"},Bza={class:""},Uza={class:""},qza={class:"form-check"},Hza={class:"table-border-bottom-0"},zza={key:0},Wza={colspan:"12",class:"text-center"},Kza={class:"text-center"},Gza={key:1},Qza={colspan:"12",class:"text-center"},Zza={class:"text-center"},Jza={class:"form-check"},Xza=["id","onChange"],eWa={class:""},tWa={key:0},oWa=["innerHTML"],aWa={class:""},nWa={class:""},sWa={class:"d-flex"},lWa={key:0,class:"badge bg-label-warning p-2"},iWa=["data-bs-target"],rWa=["data-bs-target"],dWa=["id"],cWa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},uWa={class:"modal-content"},_Wa={class:"modal-header"},mWa={class:"modal-title",id:"modalCenterTitle"},fWa=["id"],hWa=["onSubmit"],pWa={class:"modal-body"},vWa={class:"modal-footer"},gWa={class:"btn btn-primary",type:"submit"},bWa=["id"],yWa={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},kWa={class:"modal-content"},$Wa={class:"modal-header"},wWa={class:"modal-title",id:"modalCenterTitle"},DWa=["id"],xWa=["onSubmit"],CWa={class:"modal-body"},PWa={class:"modal-footer"},EWa={class:"btn btn-primary",type:"submit"};function AWa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",mza,[e("div",fza,[e("div",hza,[e("div",pza,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[0]||(a[0]=l=>t.bulk_action=l)},[e("option",vza,n(o.$t("Bulk Actions")),1),e("option",gza,n(o.$t("Approve")),1),e("option",bza,n(o.$t("Reject")),1)],512),[[de,t.bulk_action]])]),e("button",yza,null,512),e("div",kza,[e("div",$za,[e("div",wza,[e("div",Dza,[e("h5",xza,n(o.$t("Approve Configurations")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close",id:"approve-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[1]||(a[1]=st(l=>t.submitBulkAction("approve"),["prevent"]))},[e("div",Cza,[e("h5",null,n(o.$t("Are you sure you want to approve the selected configurations?")),1)]),e("div",Pza,[e("button",Eza,n(o.$t("Submit")),1)])],32)])])]),e("button",Aza,null,512),e("div",Iza,[e("div",Rza,[e("div",Sza,[e("div",Tza,[e("h5",jza,n(o.$t("Reject Selected Configurations")),1),a[6]||(a[6]=e("button",{type:"button",class:"btn-close",id:"reject-companies-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[2]||(a[2]=st(l=>t.submitBulkAction("reject"),["prevent"]))},[e("div",Oza,[e("h5",null,n(o.$t("Are you sure you want to reject the selected configurations?")),1)]),e("div",Mza,[e("button",Lza,n(o.$t("Submit")),1)])],32)])])])]),e("div",Nza,[e("div",Fza,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=l=>t.per_page=l)},a[7]||(a[7]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[de,t.per_page]])])])]),Be(_,{from:t.proposed_configs.from,to:t.proposed_configs.to,links:t.proposed_configs.links,next_page:t.proposed_configs.next_page_url,prev_page:t.proposed_configs.prev_page_url,total_items:t.proposed_configs.total,first_page_url:t.proposed_configs.first_page_url,last_page_url:t.proposed_configs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",Yza,[e("table",Vza,[e("thead",null,[e("tr",Bza,[e("th",Uza,[e("div",qza,[e("input",{class:"form-check-input border-primary",type:"checkbox",id:"select-all",onChange:a[4]||(a[4]=l=>t.selectAll())},null,32)])]),e("th",null,n(o.$t("Particulars")),1),e("th",null,n(o.$t("Date Created")),1),e("th",null,n(o.$t("Proposed By")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",Hza,[t.proposed_configs.data?b("",!0):(u(),f("tr",zza,[e("td",Wza,[e("span",Kza,n(o.$t("Loading Data"))+"...",1)])])),t.proposed_configs.data&&t.proposed_configs.data.length<=0?(u(),f("tr",Gza,[e("td",Qza,[e("span",Zza,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.proposed_configs.data,l=>(u(),f("tr",{key:l.id},[e("td",null,[e("div",Jza,[l.can_approve?(u(),f("input",{key:0,class:"form-check-input border-primary",type:"checkbox",id:"data-select-"+l.id,onChange:r=>t.updateSelected(l.id)},null,40,Xza)):b("",!0)])]),e("td",null,[e("div",eWa,[l.field!="logo"&&l.field!="favicon"?(u(),f("p",tWa,n(l.description),1)):(u(),f("p",{key:1,innerHTML:l.description},null,8,oWa))])]),e("td",null,[e("div",aWa,n(t.moment(l.created_at).format(t.date_format)),1)]),e("td",null,[e("div",nWa,n(l.user.name),1)]),e("td",null,[e("div",sWa,[l.can_approve?b("",!0):(u(),f("span",lWa,n(o.$t("Awaiting Checker Approval")),1)),l.can_approve?(u(),f("a",{key:1,href:"#","data-bs-toggle":"modal","data-bs-target":"#approve-config-"+l.id},a[8]||(a[8]=[e("i",{class:"ti ti-circle-check ti-sm text-primary",title:"Approve"},null,-1)]),8,iWa)):b("",!0),l.can_approve?(u(),f("a",{key:2,href:"#","data-bs-toggle":"modal","data-bs-target":"#reject-config-"+l.id},a[9]||(a[9]=[e("i",{class:"ti ti-circle-dot ti-sm mx-1 text-danger",title:"Reject"},null,-1)]),8,rWa)):b("",!0),e("div",{class:"modal fade",id:"approve-config-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",cWa,[e("div",uWa,[e("div",_Wa,[e("h5",mWa,n(o.$t("Approve Configuration Change")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"approve-config-close-btn-"+l.id,"aria-label":"Close"},null,8,fWa)]),e("form",{onSubmit:st(r=>t.updateConfig(l.id,"approve"),["prevent"]),method:"post"},[e("div",pWa,[e("h5",null,n(o.$t("Are you sure you want to approve the configuration change?")),1)]),e("div",vWa,[e("button",gWa,n(o.$t("Approve")),1)])],40,hWa)])])],8,dWa),e("div",{class:"modal fade",id:"reject-config-"+l.id,tabindex:"-1","aria-hidden":"true"},[e("div",yWa,[e("div",kWa,[e("div",$Wa,[e("h5",wWa,n(o.$t("Reject Configuration Change")),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",id:"reject-config-close-btn-"+l.id,"aria-label":"Close"},null,8,DWa)]),e("form",{onSubmit:st(r=>t.updateConfig(l.id,"reject"),["prevent"]),method:"post"},[e("div",CWa,[e("h5",null,n(o.$t("Are you sure you want to reject the configuration change?")),1)]),e("div",PWa,[e("button",EWa,n(o.$t("Reject")),1)])],40,xWa)])])],8,bWa)])])]))),128))])])]),Be(_,{from:t.proposed_configs.from,to:t.proposed_configs.to,links:t.proposed_configs.links,next_page:t.proposed_configs.next_page_url,prev_page:t.proposed_configs.prev_page_url,total_items:t.proposed_configs.total,first_page_url:t.proposed_configs.first_page_url,last_page_url:t.proposed_configs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const IWa=Ue(_za,[["render",AWa]]),RWa={name:"UploadedInvoices",components:{Pagination:St},props:["bank"],setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=async()=>{await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices}).catch(g=>{console.log(g.message)})};return Qe(()=>{r()}),{moment:H,per_page:c,invoices:t,invoice_number_search:m,uploaded_date_search:_,status:l,changePage:async g=>{await A.get(g,{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(w=>{t.value=w.data.invoices}).catch(w=>{console.log(w)})},clearSearch:async()=>{m.value="",_.value="",l.value="",await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value}}).then(g=>{t.value=g.data.invoices})},filter:async()=>{await A.get(s+o.bank+"/requests/uploaded/data",{params:{per_page:c.value,invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{t.value=g.data.invoices})},exportInvoices:()=>{A.get(s+o.bank+"/requests/uploaded/data/export",{responseType:"arraybuffer",method:"GET",params:{invoice_number:m.value,uploaded_date:_.value,status:l.value}}).then(g=>{const w=window.URL.createObjectURL(new Blob([g.data])),y=document.createElement("a");y.href=w,y.setAttribute("download",`Uploaded_Payment_Requests_${H().format("Do_MMM_YYYY")}.xlsx`),document.body.appendChild(y),y.click()}).catch(g=>{console.log(g)})}}}},SWa={class:"card p-2"},TWa={class:"d-flex flex-column flex-md-row justify-content-between"},jWa={class:"d-flex flex-wrap gap-1"},OWa={class:""},MWa={for:"Invoice No",class:"form-label"},LWa={class:""},NWa={for:"From Date",class:"form-label"},FWa={class:""},YWa={for:"Status",class:"form-label"},VWa={value:""},BWa={value:"Successful"},UWa={value:"Failed"},qWa={class:"table-search-btn"},HWa={class:"table-clear-btn"},zWa={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},WWa={class:"table-responsive p-2"},KWa={class:"table dt-invoices"},GWa={key:0},QWa={colspan:"12",class:"text-center"},ZWa={class:"text-center"},JWa={key:1},XWa={colspan:"12",class:"text-center"},eKa={class:"text-center"},tKa={key:0,class:"badge bg-label-success me-1"},oKa={key:1,class:"badge bg-label-danger me-1"},aKa={class:""};function nKa(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",SWa,[e("div",TWa,[e("div",jWa,[e("div",OWa,[e("label",MWa,n(o.$t("Invoice No"))+".",1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice No","onUpdate:modelValue":a[0]||(a[0]=l=>t.invoice_number_search=l),"aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.invoice_number_search]])]),e("div",LWa,[e("label",NWa,n(o.$t("Uploaded Date")),1),Y(e("input",{class:"form-control",type:"date",value:"",id:"html5-date-input","onUpdate:modelValue":a[1]||(a[1]=l=>t.uploaded_date_search=l)},null,512),[[X,t.uploaded_date_search]])]),e("div",FWa,[e("label",YWa,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[2]||(a[2]=l=>t.status=l)},[e("option",VWa,n(o.$t("Select Status")),1),e("option",BWa,n(o.$t("Successful")),1),e("option",UWa,n(o.$t("Failed")),1)],512),[[de,t.status]])]),e("div",qWa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[3]||(a[3]=(...l)=>t.filter&&t.filter(...l))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",HWa,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(...l)=>t.clearSearch&&t.clearSearch(...l))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",zWa,[e("div",null,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=l=>t.per_page=l)},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("button",{type:"button",class:"btn btn-primary",style:{height:"fit-content"},onClick:a[6]||(a[6]=(...l)=>t.exportInvoices&&t.exportInvoices(...l))},a[10]||(a[10]=[e("i",{class:"ti ti-file-spreadsheet ti-sm"},null,-1)]))])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",WWa,[e("table",KWa,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Remarks")),1)])]),e("tbody",null,[t.invoices.data?b("",!0):(u(),f("tr",GWa,[e("td",QWa,[e("span",ZWa,n(o.$t("Loading Data"))+"...",1)])])),t.invoices.data&&t.invoices.data.length<=0?(u(),f("tr",JWa,[e("td",XWa,[e("span",eKa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.invoices.data,l=>Y((u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",null,[e("span",null,n(l.invoice_number),1)]),e("td",null,[l.upload_status=="Successful"?(u(),f("span",tKa,n(l.status),1)):b("",!0),l.upload_status=="Failed"?(u(),f("span",oKa,n(l.status),1)):b("",!0)]),e("td",aKa,n(l.description),1)])),[[mo,t.invoices.data.length>0]])),128))])])]),Be(_,{from:t.invoices.from,to:t.invoices.to,links:t.invoices.links,next_page:t.invoices.next_page_url,prev_page:t.invoices.prev_page_url,total_items:t.invoices.total,first_page_url:t.invoices.first_page_url,last_page_url:t.invoices.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const sKa=Ue(RWa,[["render",nKa]]),lKa={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(!1),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(""),C=h(""),E=h(""),D=h(50),k=h(null),I=h(0),V=async()=>{c.value=!0,await A.get(s+o.bank+"/reports/data?type=all-payments-report&per_page="+D.value).then(W=>{t.value=W.data}).catch(W=>{console.log(W)}).finally(()=>{c.value=!1})},B=async(W,oe)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+W+"/details").then(J=>{k.value=J.data,I.value++,bt(()=>{document.getElementById(oe).click()})}).catch(J=>{console.log(J)})},L=async()=>{C.value=$("#payment_date_search").val(),C.value&&(p.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),v.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD")),E.value=$("#due_date_search").val(),E.value&&(g.value=H(E.value.split(" - ")[0]).format("YYYY-MM-DD"),w.value=H(E.value.split(" - ")[1]).format("YYYY-MM-DD"));let W=$(".ti-search").parent();W.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"all-payments-report",per_page:D.value,anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:x.value,sort_by:y.value,payment_date:i.value,from_payment_date:p.value,to_payment_date:v.value,from_due_date:g.value,to_due_date:w.value,product_type:d.value}}).then(oe=>{t.value=oe.data}).catch(oe=>{console.log(oe)}).finally(()=>{W.html('<i class="ti ti-search"></i>')})},F=async()=>{let W=$(".ti-refresh").parent();W.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",x.value="",y.value="",i.value="",r.value="",p.value="",v.value="",d.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"all-payments-report",per_page:D.value}}).then(oe=>{t.value=oe.data}).catch(oe=>{console.log(oe)}).finally(()=>{W.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{V()});const T=async W=>{await A.get(W,{params:{type:"all-payments-report",per_page:D.value,anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:x.value,sort_by:y.value,payment_date:i.value,from_payment_date:p.value,to_payment_date:v.value,product_type:d.value}}).then(oe=>{t.value=oe.data}).catch(oe=>{console.log(oe)})},P=h(!1),R=h(!1);return{moment:H,anchor:m,vendor:_,invoice_no:l,pi_number:r,payment_date:i,sort_by:y,status:x,product_type_search:d,per_page:D,report_data:t,is_loading:c,invoice_details:k,filter:L,refresh:F,changePage:T,downloadReport:()=>{P.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"all-payments-report",anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:x.value,sort_by:y.value,payment_date:i.value,from_payment_date:p.value,to_payment_date:v.value,product_type:d.value}}).then(W=>{const oe=window.URL.createObjectURL(new Blob([W.data])),J=document.createElement("a");J.href=oe,J.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(J),J.click()}).catch(W=>{console.log(W)}).finally(()=>{P.value=!1})},downloadPdf:()=>{R.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"all-payments-report",anchor:m.value,vendor:_.value,invoice_no:l.value,pi_number:r.value,status:x.value,sort_by:y.value,payment_date:i.value,from_payment_date:p.value,to_payment_date:v.value,product_type:d.value}}).then(W=>{const oe=window.URL.createObjectURL(new Blob([W.data])),J=document.createElement("a");J.href=oe,J.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(J),J.click()}).catch(W=>{console.log(W)}).finally(()=>{R.value=!1})},getTaxPercentage:(W,oe,J)=>(J/oe*100).toFixed(2),resolveStatus:W=>{let oe="";switch(W){case"Overdue":oe="bg-label-danger";break;case"Created":oe="bg-label-secondary";break;case"Pending Approval":oe="bg-label-warning";break;case"Pending Maker":oe="bg-label-warning";break;case"Pending Checker":oe="bg-label-warning";break;case"Submitted":oe="bg-label-primary";break;case"Approved":oe="bg-label-success";break;case"Disbursed":oe="bg-label-success";break;case"Denied":oe="bg-label-danger";break;default:oe="bg-label-primary";break}return oe},showInvoice:B,date_format:a,downloadingExcel:P,downloadingPdf:R,invoice_details_key:I}}},iKa={class:"card p-2",id:"companies"},rKa={class:"d-flex flex-column flex-md-row justify-content-between"},dKa={class:"d-flex flex-wrap gap-1"},cKa={class:""},uKa={for:"Invoice No",class:"form-label"},_Ka={class:""},mKa={for:"PI Number",class:"form-label"},fKa={class:""},hKa={for:"Anchor",class:"form-label"},pKa={class:""},vKa={for:"Vendor",class:"form-label"},gKa={class:""},bKa={for:"Payment Date",class:"form-label"},yKa={class:""},kKa={for:"Due Date",class:"form-label"},$Ka={class:""},wKa={for:"Program Type",class:"form-label"},DKa={value:"vendor_financing_receivable"},xKa={value:"factoring_with_recourse"},CKa={value:"factoring_without_recourse"},PKa={value:"dealer_financing"},EKa={class:""},AKa={for:"Status",class:"form-label"},IKa={value:""},RKa={value:"Successful"},SKa={value:"Created"},TKa={class:""},jKa={for:"Sort By",class:"form-label"},OKa={value:""},MKa={value:"invoice_no_asc"},LKa={value:"invoice_no_desc"},NKa={value:"payment_amount_asc"},FKa={value:"payment_amount_desc"},YKa={value:"anchor_asc"},VKa={value:"anchor_desc"},BKa={value:"vendor_asc"},UKa={value:"vendor_desc"},qKa={class:"table-search-btn"},HKa={class:"table-clear-btn"},zKa={class:"d-flex gap-1 justify-content-end mt-2 mt-md-auto"},WKa={class:""},KKa={class:""},GKa={class:"table-responsive"},QKa={class:"table"},ZKa={class:""},JKa={key:0},XKa={colspan:"12",class:"text-center"},eGa={class:"text-center"},tGa={key:1},oGa={colspan:"12",class:"text-center"},aGa={class:"text-center"},nGa=["onClick"],sGa=["href"],lGa=["href"],iGa=["href"],rGa=["href"],dGa={class:"text-success"},cGa={class:"badge bg-label-success m_title"},uGa=["id","data-bs-target"],_Ga=["id","data-bs-target"],mGa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},fGa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},hGa={class:"modal-content"},pGa={class:"modal-body"},vGa={class:"d-flex justify-content-center"};function gGa(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",iKa,[e("div",rKa,[e("div",dKa,[e("div",cKa,[e("label",uKa,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_no=d),id:"defaultFormControlInput",placeholder:"Invoice No","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_no]])]),e("div",_Ka,[e("label",mKa,n(o.$t("PI Number")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.pi_number=d),id:"defaultFormControlInput",placeholder:"PI Number","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.pi_number]])]),e("div",fKa,[e("label",hKa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[4]||(a[4]=d=>t.anchor=d),id:"defaultFormControlInput",placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",pKa,[e("label",vKa,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.vendor=d),id:"defaultFormControlInput",placeholder:"Vendor","aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",gKa,[e("label",bKa,n(o.$t("Payment Date")),1),a[14]||(a[14]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"all-payments-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",yKa,[e("label",kKa,n(o.$t("Due Date")),1),a[15]||(a[15]=e("input",{type:"text",id:"due_date_search",class:"form-control form-search",name:"all-payments-report-due-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",$Ka,[e("label",wKa,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=d=>t.product_type_search=d)},[e("option",DKa,n(o.$t("Vendor Financing Receivable")),1),e("option",xKa,n(o.$t("Factoring With Recourse")),1),e("option",CKa,n(o.$t("Factoring Without Recourse")),1),e("option",PKa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",EKa,[e("label",AKa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.status=d)},[e("option",IKa,n(o.$t("Status")),1),e("option",RKa,n(o.$t("Successful")),1),e("option",SKa,n(o.$t("Created")),1)],512),[[de,t.status]])]),e("div",TKa,[e("label",jKa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",OKa,n(o.$t("Sort By")),1),e("option",MKa,n(o.$t("Invoice No"))+" ("+n(o.$t("Asc"))+")",1),e("option",LKa,n(o.$t("Invoice Number"))+" ("+n(o.$t("Desc"))+")",1),e("option",NKa,n(o.$t("Payment Amount"))+" ("+n(o.$t("Asc"))+")",1),e("option",FKa,n(o.$t("Payment Amount"))+" ("+n(o.$t("Desc"))+")",1),e("option",YKa,n(o.$t("Anchor"))+" ("+n(o.$t("Asc"))+")",1),e("option",VKa,n(o.$t("Anchor"))+" ("+n(o.$t("Desc"))+")",1),e("option",BKa,n(o.$t("Vendor"))+" ("+n(o.$t("Asc"))+")",1),e("option",UKa,n(o.$t("Vendor"))+" ("+n(o.$t("Desc"))+")",1)],512),[[de,t.sort_by]])]),e("div",qKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[16]||(a[16]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",HKa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[17]||(a[17]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",zKa,[e("div",WKa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{width:"5rem"}},a[18]||(a[18]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",KKa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",GKa,[e("table",QKa,[e("thead",null,[e("tr",ZKa,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Eligibility")),1),e("th",null,n(o.$t("Status")),1),a[19]||(a[19]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",JKa,[e("td",XKa,[e("span",eGa,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",tGa,[e("td",oGa,[e("span",aGa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer"}},n(d.payment_request.invoice_number),9,nGa),e("td",null,[d.payment_request.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.payment_request.anchor_id+"/details"},n(d.payment_request.anchor_name),9,sGa)):(u(),f("a",{key:1,href:"../companies/"+d.payment_request.company_id+"/details"},n(d.payment_request.company_name),9,lGa))]),e("td",null,[d.payment_request.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.payment_request.buyer_id+"/details"},n(d.payment_request.buyer_name),9,iGa)):(u(),f("a",{key:1,href:"../companies/"+d.payment_request.anchor_id+"/details"},n(d.payment_request.anchor_name),9,rGa))]),e("td",null,n(t.moment(d.payment_request.invoice_disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.payment_request.invoice_due_date).format(t.date_format)),1),e("td",dGa,n(new Intl.NumberFormat().format(d.payment_request.amount)),1),e("td",null,n(d.payment_request.eligibility)+"%",1),e("td",null,[e("span",cGa,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,uGa),e("button",{class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,_Ga),a[21]||(a[21]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",mGa,[e("div",fGa,[e("div",hGa,[e("div",pGa,[e("div",vGa,[e("span",null,n(o.$t("Loading"))+"...",1),a[20]||(a[20]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const bGa=Ue(lKa,[["render",gGa]]),yGa={name:"InactiveUsers",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=Je("axios"),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=h([]),g=async()=>{await t.get(s+o.bank+"/reports/data?type=inactive-users-report&per_page="+p.value).then(I=>{v.value=I.data}).catch(I=>{console.log(I)})};ot([p],async([I])=>{await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",search:c.value,per_page:I,sort_by:l.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)})});const w=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",per_page:p.value,search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},y=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await t.get(s+o.bank+"/reports/data",{params:{type:"inactive-users-report",per_page:p.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},x=h(!1),C=h(!1),E=()=>{x.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),t.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"inactive-users-report",search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`Inactive_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{x.value=!1})},D=()=>{C.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),t.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"inactive-users-report",search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`Inactive_users_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{C.value=!1})};return Qe(()=>{g()}),{moment:H,date_format:a,search:c,email:m,company:_,per_page:p,report_data:v,sort_by:l,from_date:r,to_date:i,filter:w,refresh:y,changePage:async I=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await t.get(I,{params:{type:"inactive-users-report",per_page:p.value,search:c.value,email:m.value,company:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(V=>{v.value=V.data}).catch(V=>{console.log(V)})},downloadReport:E,downloadPdf:D,downloadingExcel:x,downloadingPdf:C}}},kGa={class:"card p-2",id:"companies"},$Ga={class:"d-flex flex-column flex-md-row justify-content-between"},wGa={class:"d-flex flex-wrap gap-1"},DGa={class:""},xGa={for:"Search User",class:"form-label"},CGa={class:""},PGa={for:"Search User",class:"form-label"},EGa={class:""},AGa={for:"Search User",class:"form-label"},IGa={class:""},RGa={class:"form-label",for:""},SGa={class:""},TGa={for:"Status",class:"form-label"},jGa={value:""},OGa={value:"ASC"},MGa={value:"DESC"},LGa={class:"table-search-btn"},NGa={class:"table-clear-btn"},FGa={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},YGa={class:""},VGa={class:""},BGa={class:"table-responsive"},UGa={class:"table"},qGa={class:""},HGa={key:0},zGa={colspan:"12",class:"text-center"},WGa={class:"text-center"},KGa={key:1},GGa={colspan:"12",class:"text-center"},QGa={class:"text-center"},ZGa={key:1};function JGa(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",kGa,[e("div",$Ga,[e("div",wGa,[e("div",DGa,[e("label",xGa,n(o.$t("Search User")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.search=r),id:"defaultFormControlInput",placeholder:"Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.search]])]),e("div",CGa,[e("label",PGa,n(o.$t("Email")),1),Y(e("input",{type:"email",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.email=r),id:"defaultFormControlInput",placeholder:"Email","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.email]])]),e("div",EGa,[e("label",AGa,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=r=>t.company=r),id:"defaultFormControlInput",placeholder:"Company","aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.company]])]),e("div",IGa,[e("label",RGa,n(o.$t("Date"))+" ("+n(o.$t("Last Login"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"inactive-users-lastlogin-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",SGa,[e("label",TGa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",jGa,n(o.$t("Sort By")),1),e("option",OGa,n(o.$t("Ascending")),1),e("option",MGa,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",LGa,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",NGa,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",FGa,[e("div",YGa,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",VGa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",BGa,[e("table",UGa,[e("thead",null,[e("tr",qGa,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("Last Login")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",HGa,[e("td",zGa,[e("span",WGa,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",KGa,[e("td",GGa,[e("span",QGa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name),1),e("td",null,n(r.roles.length>0?r.roles[0].name:"-"),1),e("td",null,n(r.email),1),e("td",null,[r.mapped_companies.length>0?(u(!0),f(G,{key:0},ee(r.mapped_companies,i=>(u(),f("span",{key:i.id,class:"mx-1"},n(i.name),1))),128)):(u(),f("span",ZGa,"-"))]),e("td",null,n(t.moment(r.last_login).format(t.date_format)),1)]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const XGa=Ue(yGa,[["render",JGa]]),eQa={name:"CbsTransactions",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(null),_=h(0),l=h(["Successful","Created","Failed","Permanently Failed"]),r=h(null),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h([]),C=h(""),E=h(""),D=h(""),k=h(""),I=h(50),V=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:I.value,type:"payments-report"}}).then(z=>{t.value=z.data}).catch(z=>{console.log(z)})},B=async(z,ae)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+z+"/details").then(we=>{m.value=we.data,_.value++,bt(()=>{document.getElementById(ae).click()})}).catch(we=>{console.log(we)})};Qe(()=>{$("#transaction-type-select").on("change",function(){var z=$("#transaction-type-select").val();x.value=z})}),ot([I],async([z])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:z,cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,vendor:v.value,account:p.value,status:w.value,product_type:y.value,from_date:E.value,to_date:D.value,transaction_type:x.value,from_date:E.value,to_date:D.value,type:"payments-report"}}).then(ae=>{t.value=ae.data}).catch(ae=>{console.log(ae)})});const L=async()=>{k.value=$("#transaction_date_search").val(),k.value&&(E.value=H(k.value.split(" - ")[0]).format("YYYY-MM-DD"),D.value=H(k.value.split(" - ")[1]).format("YYYY-MM-DD"));let z=$(".ti-search").parent();z.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:I.value,cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,vendor:v.value,account:p.value,status:w.value,product_type:y.value,type:"payments-report",sort_by:C.value,transaction_type:x.value,from_date:E.value,to_date:D.value}}).then(ae=>{t.value=ae.data}).catch(ae=>{console.log(ae)}).finally(()=>{z.html('<i class="ti ti-search"></i>')})},F=async()=>{let z=$(".ti-refresh").parent();z.html('<img src="../../../../../../assets/img/spinner.svg" />'),i.value="",g.value="",d.value="",p.value="",w.value="",y.value="",C.value="",x.value=[],E.value="",D.value="",v.value="",$("#transaction_date_search").val(),await A.get(s+o.bank+"/reports/data",{params:{type:"payments-report",per_page:I.value}}).then(ae=>{t.value=ae.data}).catch(ae=>{console.log(ae)}).finally(()=>{z.html('<i class="ti ti-refresh"></i>')})},T=h(!1),P=h(!1),R=()=>{T.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:w.value,product_type:y.value,type:"payments-report",sort_by:C.value,transaction_type:x.value,from_date:E.value,to_date:D.value,vendor:v.value}}).then(z=>{const ae=window.URL.createObjectURL(new Blob([z.data])),we=document.createElement("a");we.href=ae,we.setAttribute("download",`Payments_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(we),we.click()}).catch(z=>{console.log(z)}).finally(()=>{T.value=!1})},O=()=>{P.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:w.value,product_type:y.value,type:"payments-report",sort_by:C.value,transaction_type:x.value,from_date:E.value,to_date:D.value,vendor:v.value}}).then(z=>{const ae=window.URL.createObjectURL(new Blob([z.data])),we=document.createElement("a");we.href=ae,we.setAttribute("download",`Payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(we),we.click()}).catch(z=>{console.log(z)}).finally(()=>{P.value=!1})},N=(z,ae)=>ae/z*100,S=z=>{let ae=0;return z.forEach(we=>{ae+=we.quantity*we.price_per_quantity}),ae},U=z=>{let ae=0;return z.forEach(we=>{ae+=we.value}),ae},W=z=>{let ae=0;return z.forEach(we=>{ae+=we.amount}),ae};return Qe(()=>{V()}),{moment:H,transactions:t,cbs_transactions:c,cbsTransaction:r,invoice_details:m,cbs_transaction_statuses:l,cbs_id_search:i,invoice_number_search:d,account_search:p,transaction_ref_search:g,status_search:w,product_type_search:y,per_page:I,sort_by:C,from_date:E,to_date:D,transaction_type:x,vendor_search:v,filter:L,refresh:F,resolvePaymentRequestStatus:z=>{let ae="";switch(z.toLowerCase()){case"created":ae="bg-label-primary";break;case"successful":ae="bg-label-success";break;case"failed":ae="bg-label-danger";break;case"permanently failed":ae="bg-label-danger";break;default:ae="bg-label-primary";break}return ae},changePage:async z=>{await A.get(z,{params:{cbs_id:i.value,transaction_ref:g.value,invoice_number:d.value,account:p.value,status:w.value,product_type:y.value,type:"payments-report",sort_by:C.value,transaction_type:x.value,from_date:E.value,to_date:D.value,vendor:v.value,per_page:I.value}}).then(ae=>{t.value=ae.data})},getTotalAmount:S,getTaxesAmount:U,getFeesAmount:W,getTaxPercentage:N,downloadReport:R,downloadPdf:O,resolveStatus:z=>{let ae="";switch(z){case"Overdue":ae="bg-label-danger";break;case"Created":ae="bg-label-secondary";break;case"Pending Approval":ae="bg-label-warning";break;case"Pending Maker":ae="bg-label-warning";break;case"Pending Checker":ae="bg-label-warning";break;case"Submitted":ae="bg-label-primary";break;case"Approved":ae="bg-label-success";break;case"Disbursed":ae="bg-label-success";break;case"Denied":ae="bg-label-danger";break;default:ae="bg-label-primary";break}return ae},showInvoice:B,date_format:a,downloadingExcel:T,downloadingPdf:P}}},tQa={class:"card p-2"},oQa={class:"card-body p-0"},aQa={class:"d-flex flex-column flex-md-row justify-content-between"},nQa={class:"d-flex flex-wrap gap-1"},sQa={class:"d-none"},lQa={for:"CBS ID",class:"form-label"},iQa={class:""},rQa={for:"Account",class:"form-label"},dQa={class:""},cQa={for:"Vendor",class:"form-label"},uQa={class:""},_Qa={for:"Invoice Number",class:"form-label"},mQa={class:"form-group"},fQa={for:"Status",class:"form-label"},hQa={value:""},pQa={value:"Platform Charges"},vQa={value:"Discount Charge"},gQa={value:"OD Drawdown"},bQa={value:"Fees/Charges"},yQa={value:"Repayment"},kQa={value:"Payment Disbursement"},$Qa={value:"Balance DF Invoice Payment"},wQa={value:"Bank Invoice Payment"},DQa={value:"OD Account Debit"},xQa={value:"Overdue Account"},CQa={value:"Funds Transfer"},PQa={class:""},EQa={for:"Status",class:"form-label"},AQa={value:""},IQa={value:"ASC"},RQa={value:"DESC"},SQa={class:""},TQa={for:"Product Type",class:"form-label"},jQa={value:""},OQa={value:"vendor_financing_receivable"},MQa={value:"factoring_with_recourse"},LQa={value:"factoring_without_recourse"},NQa={value:"dealer_financing"},FQa={class:""},YQa={class:"form-label"},VQa={class:"table-search-btn"},BQa={class:"table-clear-btn"},UQa={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},qQa={class:""},HQa={class:""},zQa={class:"table-responsive"},WQa={class:"table"},KQa={class:""},GQa={class:"px-1"},QQa={class:""},ZQa={class:""},JQa={class:""},XQa={class:""},eZa={class:""},tZa={class:""},oZa={class:""},aZa={class:""},nZa={class:""},sZa={class:""},lZa={class:""},iZa={class:"table-border-bottom-0"},rZa={key:0},dZa={colspan:"12",class:"text-center"},cZa={class:"text-center"},uZa={key:1},_Za={colspan:"12",class:"text-center"},mZa={class:"text-center"},fZa={class:"px-1"},hZa={class:""},pZa={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},vZa={class:""},gZa={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},bZa={class:"text-success"},yZa=["onClick"],kZa={key:1},$Za={class:""},wZa={key:2,class:""},DZa={key:3,class:""},xZa={class:""},CZa={class:""},PZa={class:"m_title"},EZa={class:""},AZa={class:""},IZa={class:"d-none"},RZa={class:"d-flex"},SZa=["data-bs-target"],TZa=["id","data-bs-target"],jZa=["id","data-bs-target"],OZa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},MZa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},LZa={class:"modal-content"},NZa={class:"modal-body"},FZa={class:"d-flex justify-content-center"},YZa=["id"],VZa={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},BZa={class:"modal-content"},UZa={class:"modal-header"},qZa={class:"modal-title",id:"modalCenterTitle"},HZa={class:"modal-body"},zZa={class:"table-responsive"},WZa={class:"table"},KZa={style:{background:"#f0f0f0"}};function GZa(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",tQa,[e("div",oQa,[e("div",aQa,[e("div",nQa,[e("div",sQa,[e("label",lQa,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"CBS/PR ID","onUpdate:modelValue":a[0]||(a[0]=d=>t.cbs_id_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.cbs_id_search]])]),e("div",iQa,[e("label",rQa,n(o.$t("Account")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Debit From/Credit To","onUpdate:modelValue":a[2]||(a[2]=d=>t.account_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.account_search]])]),e("div",dQa,[e("label",cQa,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",uQa,[e("label",_Qa,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[6]||(a[6]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",mQa,[e("label",fQa,n(o.$t("Transaction Type")),1),Y(e("select",{class:"form-select select2",multiple:"",id:"transaction-type-select","onUpdate:modelValue":a[8]||(a[8]=d=>t.transaction_type=d)},[e("option",hQa,n(o.$t("Select Transaction Type")),1),e("option",pQa,n(o.$t("Platform Charges")),1),e("option",vQa,n(o.$t("Discount Charge")),1),e("option",gQa,n(o.$t("OD Drawdown")),1),e("option",bQa,n(o.$t("Fees/Charges")),1),e("option",yQa,n(o.$t("Repayment")),1),e("option",kQa,n(o.$t("Payment Disbursement")),1),e("option",$Qa,n(o.$t("Balance DF Invoice Payment")),1),e("option",wQa,n(o.$t("Bank Invoice Payment")),1),e("option",DQa,n(o.$t("OD Account Debit")),1),e("option",xQa,n(o.$t("Overdue Account")),1),e("option",CQa,n(o.$t("Funds Transfer")),1)],512),[[de,t.transaction_type]])]),e("div",PQa,[e("label",EQa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",AQa,n(o.$t("Sort By")),1),e("option",IQa,n(o.$t("Ascending")),1),e("option",RQa,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",SQa,[e("label",TQa,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[10]||(a[10]=d=>t.product_type_search=d)},[e("option",jQa,n(o.$t("Product Type")),1),e("option",OQa,n(o.$t("Vendor Financing Receivable")),1),e("option",MQa,n(o.$t("Factoring With Recourse")),1),e("option",LQa,n(o.$t("Factoring Without Recourse")),1),e("option",NQa,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",FQa,[e("label",YQa,n(o.$t("Transaction Date")),1),e("input",{class:"form-control form-search",type:"text",id:"transaction_date_search",name:"payments-report-transaction-daterange",onKeyup:a[11]||(a[11]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",VQa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.filter&&t.filter(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",BQa,[e("button",{class:"btn btn-primary btn-md",onClick:a[13]||(a[13]=(...d)=>t.refresh&&t.refresh(...d))},a[16]||(a[16]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",UQa,[e("div",qQa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[14]||(a[14]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[17]||(a[17]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),e("div",HQa,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.transactions.meta?(u(),me(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",zQa,[e("table",WQa,[e("thead",null,[e("tr",KQa,[e("th",GQa,n(o.$t("CBS ID")),1),e("th",QQa,n(o.$t("Debit From")),1),e("th",ZQa,n(o.$t("Credit To")),1),e("th",JQa,n(o.$t("Amount")),1),e("th",XQa,n(o.$t("Invoice / Unique Ref No")),1),e("th",eZa,n(o.$t("Vendor")),1),e("th",tZa,n(o.$t("Pay Date")),1),e("th",oZa,n(o.$t("Transaction Date")),1),e("th",aZa,n(o.$t("Transaction Ref")),1),e("th",nZa,n(o.$t("Product Type")),1),e("th",sZa,n(o.$t("Payment Service")),1),e("th",lZa,n(o.$t("Status")),1),a[18]||(a[18]=e("th",null,null,-1))])]),e("tbody",iZa,[t.transactions.data?b("",!0):(u(),f("tr",rZa,[e("td",dZa,[e("span",cZa,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",uZa,[e("td",_Za,[e("span",mZa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",fZa,[e("span",null,n(d.cbs_id),1)]),e("td",hZa,[e("span",pZa,n(d.debit_from_account),1)]),e("td",vZa,[e("span",gZa,n(d.credit_to_account),1)]),e("td",bZa,n(d.payment_request?d.payment_request.invoice_currency:"")+" "+n(new Intl.NumberFormat().format(d.amount)),1),d.payment_request?(u(),f("td",{key:0,class:"text-primary text-decoration-underline text-wrap",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer"}},n(d.payment_request.invoice_number),9,yZa)):(u(),f("td",kZa,"-")),e("td",$Za,n(d.payment_request?d.payment_request.company_name:""),1),d.pay_date?(u(),f("td",wZa,n(t.moment(d.pay_date).format(t.date_format)),1)):(u(),f("td",DZa,"-")),e("td",xZa,n(t.moment(d.transaction_created_date).format(t.date_format)),1),e("td",CZa,n(d.transaction_reference),1),e("td",PZa,n(d.product),1),e("td",EZa,n(d.transaction_type),1),e("td",AZa,[e("span",{class:rt(["badge me-1",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),e("td",IZa,[e("div",RZa,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+d.id,style:{cursor:"pointer"}},null,8,SZa)])]),e("td",null,[d.payment_request?(u(),f("button",{key:0,class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,TZa)):b("",!0),d.payment_request?(u(),f("button",{key:1,class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,jZa)):b("",!0),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",OZa,[e("div",MZa,[e("div",LZa,[e("div",NZa,[e("div",FZa,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",VZa,[e("div",BZa,[e("div",UZa,[e("h5",qZa,n(o.$t("CBS Transaction")),1),a[20]||(a[20]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",HZa,[e("div",zZa,[e("table",WZa,[e("thead",KZa,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(d.transaction_date).format(t.date_format)),1),e("td",null,n(d.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(d.transaction_reference?d.transaction_reference:"-"),1),a[21]||(a[21]=e("td",null,"-",-1)),e("td",null,n(d.transaction_type),1)])])])])])])])],8,YZa),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),me(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const QZa=Ue(eQa,[["render",GZa]]),ZZa={name:"DrawdownDetails",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=h(null),w=h(0),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"drawdown-details-report"}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},x=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(U=>{g.value=U.data,w.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};ot([v],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:N,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,type:"drawdown-details-report",sort_by:p.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const C=async()=>{let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,type:"drawdown-details-report",sort_by:p.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},E=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",l.value="",r.value="",_.value="",d.value="",i.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"drawdown-details-report",per_page:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},D=h(!1),k=h(!1),I=()=>{D.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,type:"drawdown-details-report",sort_by:p.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`DF_drawdown_details_Report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{D.value=!1})},V=()=>{k.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,type:"drawdown-details-report",sort_by:p.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`DF_drawdown_details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{k.value=!1})};return Qe(()=>{y()}),{moment:H,requests:t,payment_reference_number_search:c,invoice_number_search:m,status_search:_,anchor_search:r,vendor_search:l,dpd:d,payment_request_date:i,sort_by:p,per_page:v,invoice_details:g,showInvoice:x,filter:C,refresh:E,resolvePaymentRequestStatus:N=>{let S="";switch(N){case"created":S="bg-label-primary";break;case"pending approval":S="bg-label-secondary";break;case"approved":S="bg-label-success";break;case"paid":S="bg-label-success";break;case"failed":S="bg-label-danger";break;case"rejected":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},changePage:async N=>{await A.get(N,{params:{type:"drawdown-details-report",per_page:v.value,payment_reference_number:c.value,invoice_number:m.value,vendor:l.value,anchor:r.value,status:_.value,dpd:d.value,payment_request_date:i.value,sort_by:p.value}}).then(S=>{t.value=S.data.payment_requests})},resolveFinancingStatus:N=>{let S="";switch(N){case"pending":S="bg-label-primary";break;case"financed":S="bg-label-primary";break;case"disbursed":S="bg-label-primary";break;case"closed":S="bg-label-success";break;case"denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},getEligibility:N=>N.invoice.vendor_configurations.eligibility,getDiscountRate:N=>N.invoice.vendor_discount_details.total_roi,downloadReport:I,downloadPdf:V,getTaxPercentage:(N,S,U)=>(U/S*100).toFixed(2),resolveStatus:N=>{let S="";switch(N){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},date_format:a,downloadingExcel:D,downloadingPdf:k,invoice_details_key:w}}},JZa={class:"card p-3"},XZa={class:"d-flex flex-column flex-md-row justify-content-between"},eJa={class:"d-flex flex-wrap gap-1"},tJa={class:""},oJa={for:"Invoice Number",class:"form-label"},aJa={class:""},nJa={for:"Vendor",class:"form-label"},sJa={class:""},lJa={for:"Anchor",class:"form-label"},iJa={class:""},rJa={for:"Drawdown Date",class:"form-label"},dJa={class:""},cJa={class:"form-label"},uJa={value:""},_Ja={value:"1-30"},mJa={value:"31-60"},fJa={value:">60"},hJa={class:""},pJa={for:"Status",class:"form-label"},vJa={value:""},gJa={value:"submitted"},bJa={value:"pending"},yJa={value:"approved"},kJa={value:"disbursed"},$Ja={value:"rejected"},wJa={value:"closed"},DJa={class:""},xJa={for:"Status",class:"form-label"},CJa={value:""},PJa={value:"ASC"},EJa={value:"DESC"},AJa={class:"table-search-btn"},IJa={class:"table-clear-btn"},RJa={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},SJa={class:"table-responsive"},TJa={class:"table"},jJa={class:""},OJa={class:""},MJa={class:"px-2"},LJa={class:"px-2"},NJa={class:"px-1"},FJa={class:"px-1"},YJa={class:"px-1"},VJa={class:"px-1"},BJa={class:"px-1"},UJa={class:"px-1"},qJa={class:"table-border-bottom-0"},HJa={key:0},zJa={colspan:"12",class:"text-center"},WJa={class:"text-center"},KJa={key:1},GJa={colspan:"12",class:"text-center"},QJa={class:"text-center"},ZJa=["onClick"],JJa={class:"text-primary text-decoration-underline"},XJa=["href"],eXa={class:"text-primary text-decoration-underline"},tXa=["href"],oXa={class:"px-1"},aXa={class:"text-success"},nXa={class:"text-success"},sXa={class:"text-success"},lXa={class:"text-success"},iXa={class:"px-1"},rXa=["id","data-bs-target"],dXa=["id","data-bs-target"],cXa={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},uXa={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_Xa={class:"modal-content"},mXa={class:"modal-body"},fXa={class:"d-flex justify-content-center"},hXa=["id"],pXa={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},vXa={class:"modal-content"},gXa={class:"modal-header"},bXa={class:"modal-title",id:"modalCenterTitle"},yXa={class:"modal-body"},kXa={class:"row mb-1"},$Xa={class:"col-6 my-1"},wXa={class:"col-6"},DXa=["href"],xXa={class:"col-6 my-1"},CXa={class:"col-6"},PXa={class:"col-6 my-1"},EXa={class:"col-6"},AXa=["href"],IXa={class:"col-6 my-1"},RXa={class:"col-6"},SXa={class:"col-6 my-1"},TXa={class:"col-6"},jXa={class:"col-6 my-1"},OXa=["onClick"],MXa={class:"col-6 my-1"},LXa={class:"col-6 text-success"},NXa={class:"col-6 my-1"},FXa={class:"col-6"},YXa={class:"col-6 my-1"},VXa={class:"col-6 text-success"},BXa={class:"col-6 my-1"},UXa={class:"col-6 text-success"},qXa={class:"col-6 my-1"},HXa={class:"col-6"},zXa={class:"col-6 my-1"},WXa={class:"col-6"},KXa={class:"col-6 my-1"},GXa={class:"col-6"},QXa={class:"col-6 my-1"},ZXa={class:"col-6"},JXa={key:0,class:"col-12"},XXa={key:0,class:"col-6 my-1 m_title"},een={key:0,class:"m_title"},ten={key:1,class:"col-6 text-success"},oen={class:"col-6 my-1"},aen={class:"col-6 text-success"},nen={class:"col-6"},sen={class:"col-6"},len={class:"modal-footer"},ien={class:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},ren=["id"],den={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},cen={class:"modal-content"},uen={class:"modal-header"},_en={class:"modal-title",id:"modalCenterTitle"},men={class:"modal-body"},fen={class:"table-responsive"},hen={class:"table"};function pen(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",JZa,[e("div",XZa,[e("div",eJa,[e("div",tJa,[e("label",oJa,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",aJa,[e("label",nJa,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",sJa,[e("label",lJa,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",iJa,[e("label",rJa,n(o.$t("Drawdown Date")),1),Y(e("input",{type:"date",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[6]||(a[6]=d=>t.payment_request_date=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.payment_request_date]])]),e("div",dJa,[e("label",cJa,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.dpd=d)},[e("option",uJa,n(o.$t("DPD Days")),1),e("option",_Ja,"1-30 "+n(o.$t("Days")),1),e("option",mJa,"31-60 "+n(o.$t("Days")),1),e("option",fJa,"> 60 "+n(o.$t("Days")),1)],512),[[de,t.dpd]])]),e("div",hJa,[e("label",pJa,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.status_search=d)},[e("option",vJa,n(o.$t("Status")),1),e("option",gJa,n(o.$t("Submitted")),1),e("option",bJa,n(o.$t("Pending")),1),e("option",yJa,n(o.$t("Approved")),1),e("option",kJa,n(o.$t("Dibsursed")),1),e("option",$Ja,n(o.$t("Rejected")),1),e("option",wJa,n(o.$t("Closed")),1)],512),[[de,t.status_search]])]),e("div",DJa,[e("label",xJa,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",CJa,n(o.$t("Sort By")),1),e("option",PJa,n(o.$t("Ascending")),1),e("option",EJa,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",AJa,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",IJa,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",RJa,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.requests.meta?(u(),me(l,{key:0,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",SJa,[e("table",TJa,[e("thead",null,[e("tr",jJa,[e("th",OJa,n(o.$t("Invoice No"))+".",1),e("th",MJa,n(o.$t("Anchor")),1),e("th",LJa,n(o.$t("Dealer")),1),e("th",NJa,n(o.$t("Drawdown Date")),1),e("th",FJa,n(o.$t("Drawdown Amount")),1),e("th",YJa,n(o.$t("Principle Balance")),1),e("th",VJa,n(o.$t("Total Outstanding")),1),e("th",BJa,n(o.$t("Principle DPD")),1),e("th",UJa,n(o.$t("Status")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",qJa,[t.requests.data?b("",!0):(u(),f("tr",HJa,[e("td",zJa,[e("span",WJa,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",KJa,[e("td",GJa,[e("span",QJa,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,d=>(u(),f("tr",{key:d.id,class:"text-nowrap"},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id)},n(d.invoice_number),9,ZJa),e("td",JJa,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor_name),9,XJa)]),e("td",eXa,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company_name),9,tXa)]),e("td",oXa,n(t.moment(d.payment_request_date).format(t.date_format)),1),e("td",aXa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.amount)),1),e("td",nXa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_amount-d.invoice_paid_amount)),1),e("td",sXa,n(d.currency)+" "+n(new Intl.NumberFormat().format(d.invoice_balance)),1),e("td",lXa,n(new Intl.NumberFormat().format(d.invoice_days_past_due)),1),e("td",iXa,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,rXa),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,dXa),a[22]||(a[22]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",cXa,[e("div",uXa,[e("div",_Xa,[e("div",mXa,[e("div",fXa,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-request-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",pXa,[e("div",vXa,[e("div",gXa,[e("h5",bXa,n(o.$t("Payment Request")),1),a[19]||(a[19]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),a[20]||(a[20]=e("div",{class:"d-flex"},null,-1))]),e("div",yXa,[e("div",kXa,[e("div",$Xa,n(o.$t("Dealer")),1),e("div",wXa,[e("a",{href:"../companies/"+d.company_id+"/details",class:"fw-bold my-auto"},n(d.company_name),9,DXa)]),e("div",xXa,n(o.$t("OD Account No"))+":",1),e("div",CXa,n(d.payment_account_number),1),e("div",PXa,n(o.$t("Anchor")),1),e("div",EXa,[e("a",{href:"../companies/"+d.anchor_id+"/details",class:"fw-bold my-auto"},n(d.anchor_name),9,AXa)]),e("div",IXa,n(o.$t("Program Name")),1),e("div",RXa,n(d.program_name),1),e("div",SXa,n(o.$t("Invoice / Unique Reference Number")),1),e("div",TXa,n(d.invoice_number),1),e("div",jXa,n(o.$t("PI No"))+".:",1),e("div",{class:"col-6 text-primary",style:{cursor:"pointer"},onClick:p=>t.showInvoice(d.invoice_id,"show-pi-btn-"+d.invoice_id)},n(d.pi_number),9,OXa),e("div",MXa,n(o.$t("Invoice Amount")),1),e("div",LXa,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("div",NXa,n(o.$t("Eligibility"))+" (%)",1),e("div",FXa,n(d.eligibility),1),e("div",YXa,n(o.$t("Eligible Drawdown Amount")),1),e("div",VXa,n(new Intl.NumberFormat().format(d.eligible_for_finance)),1),e("div",BXa,n(o.$t("Requested Drawdown Amount")),1),e("div",UXa,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("div",qXa,n(o.$t("Credit to Account No"))+".:",1),e("div",HXa,n(d.payment_accounts[0].account),1),e("div",zXa,n(o.$t("Request Date")),1),e("div",WXa,n(t.moment(d.created_at).format(t.date_format)),1),e("div",KXa,n(o.$t("Requested Disbursement Date")),1),e("div",GXa,n(t.moment(d.payment_request_date).format(t.date_format)),1),e("div",QXa,n(o.$t("Discount Rate"))+" (%) ("+n(o.$t("including Base Rate"))+")",1),e("div",ZXa,n(d.discount_rate),1),d.payment_accounts&&d.payment_accounts.length>0?(u(),f("div",JXa,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("div",{class:"row",key:p.id},[p.type!="vendor_account"?(u(),f("div",XXa,[le(n(p.title?p.title:p.type.replaceAll("_"," "))+" ",1),p.description?(u(),f("span",een,"("+n(p.description)+")",1)):b("",!0)])):b("",!0),p.type!="vendor_account"?(u(),f("div",ten,n(new Intl.NumberFormat().format(Number(p.amount).toFixed(2))),1)):b("",!0)]))),128))])):b("",!0),e("div",oen,n(o.$t("Net Disbursal Total")),1),e("div",aen,n(new Intl.NumberFormat().format(d.amount.toFixed(2))),1),e("div",nen,n(o.$t("Status")),1),e("div",sen,[e("span",{class:rt(["badge me-1 m_title",t.resolvePaymentRequestStatus(d.status)])},n(d.status),3)])])]),e("div",len,[e("button",ien,n(o.$t("Close")),1)])])])],8,hXa),e("div",{class:"modal fade",id:"payment-accounts-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",den,[e("div",cen,[e("div",uen,[e("h5",_en,n(o.$t("Accounts")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",men,[e("div",fen,[e("table",hen,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Account")),1),e("th",null,n(o.$t("Invoice")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("tr",{key:p.id},[e("td",null,n(p.account),1),e("td",null,n(p.invoice_number),1)]))),128))])])])])])])],8,ren)])]))),128))])])]),t.requests.meta?(u(),me(l,{key:1,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const ven=Ue(ZZa,[["render",pen]]),gen={name:"RejectedPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(50),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})},w=async(F,T)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+F+"/details").then(P=>{v.value=P.data,bt(()=>{document.getElementById(T).click()})}).catch(P=>{console.log(P)})};ot(c,async([F])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:F,sort_by:i.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})});const y=async()=>{let F=$(".ti-search").parent();F.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value,anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{F.html('<i class="ti ti-search"></i>')})},x=async()=>{let F=$(".ti-refresh").parent();F.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"rejected-loans-report",per_page:c.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)}).finally(()=>{F.html('<i class="ti ti-refresh"></i>')})},C=h(!1),E=h(!1),D=()=>{C.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(F=>{const T=window.URL.createObjectURL(new Blob([F.data])),P=document.createElement("a");P.href=T,P.setAttribute("download",`Rejected_loans_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(P),P.click()}).catch(F=>{console.log(F)}).finally(()=>{C.value=!1})},k=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(F=>{const T=window.URL.createObjectURL(new Blob([F.data])),P=document.createElement("a");P.href=T,P.setAttribute("download",`Rejected_loans_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(P),P.click()}).catch(F=>{console.log(F)}).finally(()=>{E.value=!1})};return Qe(()=>{g()}),{moment:H,requests:t,per_page:c,anchor_search:m,vendor_search:_,payment_reference_number_search:l,invoice_number_search:r,sort_by:i,from_date:d,to_date:p,invoice_details:v,filter:y,refresh:x,resolvePaymentRequestStatus:F=>{let T="";switch(F){case"created":T="bg-label-primary";break;case"approved":T="bg-label-success";break;case"paid":T="bg-label-success";break;case"failed":T="bg-label-danger";break;case"rejected":T="bg-label-danger";break;default:T="bg-label-primary";break}return T},changePage:async F=>{await A.get(F,{params:{per_page:c.value,type:"rejected-loans-report",anchor:m.value,vendor:_.value,payment_reference_number:l.value,invoice_number:r.value,sort_by:i.value,from_date:d.value,to_date:p.value}}).then(T=>{t.value=T.data})},downloadReport:D,downloadPdf:k,getTaxPercentage:(F,T,P)=>(P/T*100).toFixed(2),resolveStatus:F=>{let T="";switch(F){case"Overdue":T="bg-label-danger";break;case"Created":T="bg-label-secondary";break;case"Pending Approval":T="bg-label-warning";break;case"Pending Maker":T="bg-label-warning";break;case"Pending Checker":T="bg-label-warning";break;case"Submitted":T="bg-label-primary";break;case"Approved":T="bg-label-success";break;case"Disbursed":T="bg-label-success";break;case"Denied":T="bg-label-danger";break;default:T="bg-label-primary";break}return T},showInvoice:w,date_format:a,downloadingExcel:C,downloadingPdf:E}}},ben={class:"card p-3"},yen={class:"d-flex flex-column flex-md-row justify-content-between"},ken={class:"d-flex flex-wrap gap-1"},$en={class:""},wen={for:"Invoice Number",class:"form-label"},Den={class:""},xen={for:"Vendor",class:"form-label"},Cen={class:""},Pen={for:"Anchor",class:"form-label"},Een={class:""},Aen={for:"From",class:"form-label"},Ien={class:""},Ren={for:"To",class:"form-label"},Sen={class:""},Ten={for:"Status",class:"form-label"},jen={value:""},Oen={value:"ASC"},Men={value:"DESC"},Len={class:"table-search-btn"},Nen={class:"table-clear-btn"},Fen={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},Yen={class:""},Ven={class:"table-responsive"},Ben={class:"table"},Uen={class:""},qen={class:"table-border-bottom-0"},Hen={key:0},zen={colspan:"12",class:"text-center"},Wen={class:"text-center"},Ken={key:1},Gen={colspan:"12",class:"text-center"},Qen={class:"text-center"},Zen={class:"text-primary text-decoration-underline px-2"},Jen=["href"],Xen=["href"],etn={class:"text-primary text-decoration-underline px-2"},ttn=["href"],otn={class:"px-1"},atn={class:"px-1"},ntn=["onClick"],stn={class:"text-success"},ltn={class:"text-success"},itn=["id","data-bs-target"],rtn=["id","data-bs-target"],dtn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},ctn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},utn={class:"modal-content"},_tn={class:"modal-body"},mtn={class:"d-flex justify-content-center"},ftn=["id"],htn={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},ptn={class:"modal-content"},vtn={class:"modal-header"},gtn={class:"modal-title",id:"modalCenterTitle"},btn={class:"d-flex"},ytn={key:0,class:"d-flex"},ktn=["href"],$tn=["href"],wtn={class:"modal-body"},Dtn={class:"d-flex justify-content-between"},xtn={class:"mb-3"},Ctn={class:"d-flex justify-content-between"},Ptn={class:"fw-light my-auto"},Etn={class:"fw-bold mx-2 my-auto"},Atn={key:0,class:"d-flex justify-content-between"},Itn={class:"fw-light my-auto"},Rtn={class:"fw-bold mx-2 my-auto"},Stn={class:"mb-3"},Ttn={key:0,class:"d-flex justify-content-between"},jtn={class:"my-auto fw-light"},Otn=["data-bs-target"],Mtn={class:"d-flex justify-content-between"},Ltn={class:"my-auto fw-light"},Ntn={class:"fw-bold mx-2 my-auto"},Ftn={class:"d-flex justify-content-between"},Ytn={class:"my-auto fw-light"},Vtn={class:"fw-bold text-success mx-2 my-auto"},Btn={class:"d-flex justify-content-between"},Utn={class:"my-auto fw-light"},qtn={class:"fw-bold mx-2 my-auto"},Htn={key:0,class:"table-responsive"},ztn={class:"table"},Wtn={key:1,class:"px-2"},Ktn={class:"d-flex justify-content-end"},Gtn={class:"mx-2 my-auto"},Qtn={class:"text-success my-auto"},Ztn={key:2,class:"px-2"},Jtn={class:"mx-2 my-auto"},Xtn={class:"text-success my-auto"},eon={class:"bg-label-secondary px-2"},ton={class:"d-flex justify-content-end"},oon={class:"mx-2 my-auto py-1"},aon={class:"text-success my-auto py-1"},non=["id"],son={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},lon={class:"modal-content"},ion={class:"modal-header"},ron={class:"modal-title",id:"modalCenterTitle"},don={class:"d-flex"},con={key:0,class:"d-flex"},uon=["href"],_on=["href"],mon={class:"modal-body"},fon={class:"d-flex justify-content-between"},hon={class:"mb-3"},pon={class:"d-flex justify-content-between"},von={class:"fw-light my-auto"},gon={class:"fw-bold mx-2 my-auto"},bon={class:"d-flex justify-content-between"},yon={class:"fw-light my-auto"},kon={class:"fw-bold mx-2 my-auto"},$on={class:"d-flex justify-content-between"},won={class:"fw-light my-auto"},Don={key:0,class:"d-flex justify-content-between"},xon={class:"fw-light my-auto"},Con={class:"fw-bold mx-2 my-auto"},Pon={class:"mb-3"},Eon={class:"d-flex justify-content-between"},Aon={class:"my-auto fw-light"},Ion=["data-bs-target"],Ron={class:"d-flex justify-content-between"},Son={class:"my-auto fw-light"},Ton={class:"fw-bold text-success mx-2 my-auto"},jon={class:"d-flex justify-content-between"},Oon={class:"my-auto fw-light"},Mon={class:"fw-bold mx-2 my-auto"},Lon={class:"table-responsive"},Non={class:"table"},Fon={style:{background:"#f0f0f0"}},Yon={key:0,class:"px-2"},Von={class:"d-flex justify-content-end"},Bon={class:"mx-2 my-auto"},Uon={class:"text-success my-auto"},qon={key:1,class:"px-2"},Hon={class:"mx-2 my-auto"},zon={class:"text-success my-auto"},Won={key:2,class:"px-2"},Kon={class:"mx-2 my-auto py-1"},Gon={key:0,class:"text-success my-auto py-1"},Qon={key:1,class:"text-success my-auto py-1"},Zon={class:"bg-label-secondary px-2"},Jon={class:"d-flex justify-content-end"},Xon={class:"mx-2 my-auto py-1"},ean={class:"text-success my-auto py-1"};function tan(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",ben,[e("div",yen,[e("div",ken,[e("div",$en,[e("label",wen,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice Number","onUpdate:modelValue":a[0]||(a[0]=r=>t.invoice_number_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",Den,[e("label",xen,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.vendor_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",Cen,[e("label",Pen,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=r=>t.anchor_search=r),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Een,[e("label",Aen,n(o.$t("From"))+" ("+n(o.$t("Rejection Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.from_date]])]),e("div",Ien,[e("label",Ren,n(o.$t("From"))+" ("+n(o.$t("Rejection Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.to_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.to_date]])]),e("div",Sen,[e("label",Ten,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",jen,n(o.$t("Sort By")),1),e("option",Oen,n(o.$t("Ascending")),1),e("option",Men,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Len,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Nen,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Fen,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]]),e("div",Yen,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.requests.meta?(u(),me(l,{key:0,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Ven,[e("table",Ben,[e("thead",null,[e("tr",Uen,[e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Request Date")),1),e("th",null,n(o.$t("Rejection Date")),1),e("th",null,n(o.$t("PI No"))+".",1),e("th",null,n(o.$t("Invoice Amount")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Rejected By")),1),e("th",null,n(o.$t("Rejection Reason")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",qen,[t.requests.data?b("",!0):(u(),f("tr",Hen,[e("td",zen,[e("span",Wen,n(o.$t("Loading Data"))+"...",1)])])),t.requests.data&&t.requests.data.length<=0?(u(),f("tr",Ken,[e("td",Gen,[e("span",Qen,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.requests.data,r=>(u(),f("tr",{key:r.id,class:"text-nowrap"},[e("td",Zen,[r.buyer_id?(u(),f("a",{key:0,href:"../companies/"+r.buyer_id+"/details"},n(r.buyer_name),9,Jen)):(u(),f("a",{key:1,href:"../companies/"+r.anchor_id+"/details"},n(r.anchor_name),9,Xen))]),e("td",etn,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,ttn)]),e("td",otn,n(t.moment(r.payment_request_date).format(t.date_format)),1),e("td",atn,n(t.moment(r.updated_at).format(t.date_format)),1),e("td",{class:"text-primary text-decoration-underline px-1",onClick:i=>t.showInvoice(r.invoice_id,"show-pi-btn-"+r.invoice_id),style:{cursor:"pointer","max-width":"50px","overflow-x":"clip"}},n(r.pi_number),9,ntn),e("td",stn,n(r.invoice_currency)+" "+n(new Intl.NumberFormat().format(r.invoice_amount)),1),e("td",ltn,n(r.invoice_currency)+" "+n(new Intl.NumberFormat().format(r.amount.toFixed(2))),1),e("td",null,n(r.rejected_by?r.rejected_by.name:""),1),e("td",null,n(r.rejected_reason),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+r.invoice_id},null,8,itn),e("button",{class:"d-none",id:"show-pi-btn-"+r.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+r.invoice_id},null,8,rtn),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",dtn,[e("div",ctn,[e("div",utn,[e("div",_tn,[e("div",mtn,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),f("div",{key:0,class:"modal fade",id:"invoice-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",htn,[e("div",ptn,[e("div",vtn,[e("h5",gtn,n(o.$t("Invoice Details")),1),a[21]||(a[21]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",btn,[t.invoice_details.invoice_media.length>0?(u(),f("div",ytn,[(u(!0),f(G,null,ee(t.invoice_details.invoice_media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[19]||(a[19]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,ktn))),128))])):b("",!0),e("a",{href:"../requests/invoices/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[20]||(a[20]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,$tn)])]),e("div",wtn,[e("div",Dtn,[e("div",xtn,[e("span",Ctn,[e("h5",Ptn,n(o.$t("Vendor"))+":",1),e("h6",Etn,n(t.invoice_details.company.name),1)]),t.invoice_details.rejected_reason?(u(),f("span",Atn,[e("h5",Itn,n(o.$t("Rejection Reason"))+":",1),e("h6",Rtn,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Stn,[t.invoice_details.pi_number?(u(),f("span",Ttn,[e("h5",jtn,n(o.$t("PI No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-decoration-underline text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#pi-"+t.invoice_details.id},n(t.invoice_details.pi_number),9,Otn)])):b("",!0),e("span",Mtn,[e("h5",Ltn,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",Ntn,n(t.invoice_details.invoice_number),1)]),e("span",Ftn,[e("h5",Ytn,n(o.$t("Invoice Amount"))+":",1),e("h6",Vtn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",Btn,[e("h5",Utn,n(o.$t("Invoice Due Date"))+":",1),e("h6",qtn,n(t.moment(t.invoice_details.due_date).format(t.date_format)),1)])])]),t.invoice_details.invoice_items.length>0?(u(),f("div",Htn,[e("table",ztn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])])])):b("",!0),t.invoice_details.invoice_discounts.length?(u(),f("div",Wtn,[e("span",Ktn,[e("h6",Gtn,n(o.$t("Total Invoice Discount")),1),e("h5",Qtn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",Ztn,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",Jtn,n(i.name),1),e("h5",Xtn,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):b("",!0),e("div",eon,[e("span",ton,[e("h6",oon,n(o.$t("Total")),1),e("h5",aon,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount)),1)])])])])])],8,ftn)):b("",!0),t.invoice_details?(u(),f("div",{key:1,class:"modal fade",id:"pi-"+r.invoice_id,tabindex:"-1","aria-hidden":"true"},[e("div",son,[e("div",lon,[e("div",ion,[e("h5",ron,n(o.$t("Payment Instruction")),1),a[24]||(a[24]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),e("div",don,[t.invoice_details.invoice_media.length>0?(u(),f("div",con,[(u(!0),f(G,null,ee(t.invoice_details.invoice_media,(i,d)=>(u(),f("a",{key:d,href:i.original_url,target:"_blank",class:"btn btn-secondary btn-sm mx-1"},[a[22]||(a[22]=e("i",{class:"ti ti-paperclip"},null,-1)),le(n(o.$t("View Attachment"))+" "+n(d+1),1)],8,uon))),128))])):b("",!0),e("a",{href:"../requests/invoices/payment-instruction/"+t.invoice_details.id+"/pdf/download",class:"btn btn-primary"},[a[23]||(a[23]=e("i",{class:"ti ti-printer"},null,-1)),le(" "+n(o.$t("Print")),1)],8,_on)])]),e("div",mon,[e("div",fon,[e("div",hon,[e("span",pon,[e("h5",von,n(o.$t("Anchor"))+":",1),e("h6",gon,n(t.invoice_details.program.anchor.name),1)]),e("span",bon,[e("h5",yon,n(o.$t("Remarks"))+":",1),e("h6",kon,n(t.invoice_details.remarks),1)]),e("span",$on,[e("h5",won,n(o.$t("Status"))+":",1),e("span",{class:rt(["badge me-1 m_title",t.resolveStatus(t.invoice_details.status)])},n(t.invoice_details.status),3)]),t.invoice_details.rejection_reason?(u(),f("span",Don,[e("h5",xon,n(o.$t("Rejection Reason"))+":",1),e("h6",Con,n(t.invoice_details.rejected_reason),1)])):b("",!0)]),e("div",Pon,[e("span",Eon,[e("h5",Aon,n(o.$t("Invoice/Unique Ref No"))+":",1),e("h6",{class:"fw-bold mx-2 my-auto text-primary pointer","data-bs-toggle":"modal","data-bs-target":"#invoice-"+t.invoice_details.id},n(t.invoice_details.invoice_number),9,Ion)]),e("span",Ron,[e("h5",Son,n(o.$t("Invoice Amount"))+":",1),e("h6",Ton,n(t.invoice_details.currency)+" "+n(new Intl.NumberFormat().format(t.invoice_details.total)),1)]),e("span",jon,[e("h5",Oon,n(o.$t("Invoice Due Date"))+":",1),e("h6",Mon,n(t.moment(t.invoice_details.due_date).format(t.date_format)),1)])])]),e("div",Lon,[e("table",Non,[e("thead",Fon,[e("tr",null,[e("th",null,n(o.$t("Item")),1),e("th",null,n(o.$t("Quantity")),1),e("th",null,n(o.$t("Price Per Quantity")),1),e("th",null,n(o.$t("Total")),1)])]),e("tbody",null,[(u(!0),f(G,null,ee(t.invoice_details.invoice_items,i=>(u(),f("tr",{key:i.id},[e("td",null,n(i.item),1),e("td",null,n(i.quantity),1),e("td",null,n(i.price_per_quantity),1),e("td",null,n(new Intl.NumberFormat().format(i.quantity*i.price_per_quantity)),1)]))),128))])]),t.invoice_details.invoice_discounts.length?(u(),f("div",Yon,[e("span",Von,[e("h6",Bon,n(o.$t("Total Invoice Discount")),1),e("h5",Uon,n(new Intl.NumberFormat().format(t.invoice_details.total_invoice_discount)),1)])])):b("",!0),t.invoice_details.invoice_taxes.length?(u(),f("div",qon,[(u(!0),f(G,null,ee(t.invoice_details.invoice_taxes,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",Hon,n(i.name),1),e("h5",zon,n(new Intl.NumberFormat().format(i.value)),1)]))),128))])):b("",!0),t.invoice_details.invoice_fees.length>0?(u(),f("div",Won,[(u(!0),f(G,null,ee(t.invoice_details.invoice_fees,i=>(u(),f("span",{key:i.id,class:"d-flex justify-content-end"},[e("h6",Kon,n(i.name),1),i.name!="Credit Note Amount"&&i.name!="Credit Note"&&i.name!="Credit Amount"?(u(),f("h5",Gon," ("+n(t.getTaxPercentage(t.invoice_details.invoice_number,t.invoice_details.total+t.invoice_details.total_invoice_taxes-t.invoice_details.total_invoice_discount,i.amount))+"%) "+n(new Intl.NumberFormat().format(i.amount.toFixed(2))),1)):(u(),f("h5",Qon,n(i.amount),1))]))),128))])):b("",!0),e("div",Zon,[e("span",Jon,[e("h6",Xon,n(o.$t("Total")),1),e("h5",ean,n(new Intl.NumberFormat().format(t.invoice_details.invoice_total_amount)),1)])])])])])])],8,non)):b("",!0)])]))),128))])])]),t.requests.meta?(u(),me(l,{key:1,from:t.requests.meta.from,to:t.requests.meta.to,links:t.requests.meta.links,next_page:t.requests.links.next,prev_page:t.requests.links.prev,total_items:t.requests.meta.total,first_page_url:t.requests.links.first,last_page_url:t.requests.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const oan=Ue(gen,[["render",tan]]),aan={name:"LoansPendingApproval",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=h(null),x=h(0),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"loans-pending-approval-report"}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},E=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(U=>{y.value=U.data,x.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};ot([w],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:N,requested_payment_date:r.value,invoice_number:l.value,anchor:m.value,type:"loans-pending-approval-report",sort_by:i.value,program_type:d.value,from_requested_disbursement_date:p.value,to_requested_disbursement_date:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const D=async()=>{g.value=$("#requested_payment_date_search").val(),g.value&&(p.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),v.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,anchor:m.value,vendor:_.value,invoice_number:l.value,requested_payment_date:r.value,type:"loans-pending-approval-report",sort_by:i.value,program_type:d.value,from_requested_disbursement_date:p.value,to_requested_disbursement_date:v.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},k=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#requested_payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"loans-pending-approval-report",per_page:w.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,requested_payment_date:r.value,account:_.value,type:"loans-pending-approval-report",sort_by:i.value,program_type:d.value,from_requested_disbursement_date:p.value,to_requested_disbursement_date:v.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_pending_approval_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,requested_payment_date:r.value,account:_.value,type:"loans-pending-approval-report",sort_by:i.value,program_type:d.value,from_requested_disbursement_date:p.value,to_requested_disbursement_date:v.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`Payments_pending_approval_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{V.value=!1})},F=N=>{let S=0;return N.forEach(U=>{S+=U.quantity*U.price_per_quantity}),S},T=N=>{let S=0;return N.forEach(U=>{S+=U.value}),S};return Qe(()=>{C()}),{moment:H,transactions:t,cbs_transactions:c,anchor_search:m,invoice_number_search:l,requested_payment_date:r,vendor_search:_,sort_by:i,program_type_search:d,per_page:w,invoice_details:y,changePage:async N=>{await A.get(N,{params:{per_page:w.value,type:"loans-pending-approval-report",anchor_search:m.value,invoice_number:l.value,requested_payment_date:r.value,account:_.value,sort_by:i.value,program_type:d.value}}).then(S=>{t.value=S.data})},filter:D,refresh:k,getTotalAmount:F,getTaxesAmount:T,downloadReport:B,downloadPdf:L,getTaxPercentage:(N,S,U)=>(U/S*100).toFixed(2),resolveStatus:N=>{let S="";switch(N){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},showInvoice:E,date_format:a,downloadingExcel:I,downloadingPdf:V,invoice_details_key:x}}},nan={class:"card p-2"},san={class:"card-body p-0"},lan={class:"d-flex flex-column flex-md-row justify-content-between"},ian={class:"d-flex flex-wrap gap-1"},ran={class:""},dan={for:"Anchor",class:"form-label"},can={class:""},uan={for:"Vendor",class:"form-label"},_an={class:""},man={for:"Invoice Number",class:"form-label"},fan={class:""},han={class:"form-label"},pan={class:""},van={for:"Status",class:"form-label"},gan={value:""},ban={value:"vendor_financing_receivable"},yan={value:"factoring_with_recourse"},kan={value:"factoring_without_recourse"},$an={value:"dealer_financing"},wan={class:""},Dan={for:"Status",class:"form-label"},xan={value:""},Can={value:"ASC"},Pan={value:"DESC"},Ean={class:"table-search-btn"},Aan={class:"table-clear-btn"},Ian={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Ran={class:""},San={class:"table-responsive"},Tan={class:"table"},jan={class:""},Oan={class:"px-1"},Man={class:"px-1"},Lan={class:"px-1"},Nan={class:"px-1"},Fan={class:""},Yan={class:"px-1"},Van={class:"px-1"},Ban={class:"px-1"},Uan={class:"table-border-bottom-0"},qan={key:0},Han={colspan:"12",class:"text-center"},zan={class:"text-center"},Wan={key:1},Kan={colspan:"12",class:"text-center"},Gan={class:"text-center"},Qan=["onClick"],Zan={class:"px-1"},Jan=["href"],Xan=["href"],enn={class:"px-1"},tnn=["href"],onn={class:"px-1"},ann={key:0,class:""},nnn={key:1,class:""},snn={class:"text-success px-1"},lnn={class:"text-success px-1"},inn={class:"px-1"},rnn=["id","data-bs-target"],dnn=["id","data-bs-target"],cnn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},unn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_nn={class:"modal-content"},mnn={class:"modal-body"},fnn={class:"d-flex justify-content-center"};function hnn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",nan,[e("div",san,[e("div",lan,[e("div",ian,[e("div",ran,[e("label",dan,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",can,[e("label",uan,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",_an,[e("label",man,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[4]||(a[4]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",fan,[e("label",han,n(o.$t("Requested Disbursement Date")),1),e("input",{class:"form-control form-search",type:"text",id:"requested_payment_date_search",name:"payments-pending-approval-report-requested-payment-daterange",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",pan,[e("label",van,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[7]||(a[7]=d=>t.program_type_search=d)},[e("option",gan,n(o.$t("Select Program Type")),1),e("option",ban,n(o.$t("Vendor Financing Receivable")),1),e("option",yan,n(o.$t("Factoring With Recourse")),1),e("option",kan,n(o.$t("Factoring Without Recourse")),1),e("option",$an,n(o.$t("Dealer Financing")),1)],512),[[de,t.program_type_search]])]),e("div",wan,[e("label",Dan,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.sort_by=d)},[e("option",xan,n(o.$t("Sort By")),1),e("option",Can,n(o.$t("Ascending")),1),e("option",Pan,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Ean,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Aan,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Ian,[e("div",Ran,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.transactions.meta?(u(),me(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",San,[e("table",Tan,[e("thead",null,[e("tr",jan,[e("th",Oan,n(o.$t("Invoice No"))+".",1),e("th",Man,n(o.$t("Anchor")),1),e("th",Lan,n(o.$t("Vendor")),1),e("th",Nan,n(o.$t("Request Date")),1),e("th",Fan,n(o.$t("Requested Disbursement Date")),1),e("th",Yan,n(o.$t("PI Amount")),1),e("th",Van,n(o.$t("Requested Payment Amount")),1),e("th",Ban,n(o.$t("Due Date")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",Uan,[t.transactions.data?b("",!0):(u(),f("tr",qan,[e("td",Han,[e("span",zan,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",Wan,[e("td",Kan,[e("span",Gan,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",{class:"text-primary text-decoration-underline px-1",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer","max-width":"220px","overflow-x":"clip"}},n(d.invoice_number),9,Qan),e("td",Zan,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details",class:"text-primary text-decoration-underline"},n(d.buyer_name),9,Jan)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(d.anchor_name),9,Xan))]),e("td",enn,[e("a",{href:"../companies/"+d.company_id+"/details",class:"text-primary text-decoration-underline"},n(d.company_name),9,tnn)]),e("td",onn,n(t.moment(d.created_date).format(t.date_format)),1),d.payment_request_date?(u(),f("td",ann,n(t.moment(d.payment_request_date).format(t.date_format)),1)):(u(),f("td",nnn,"-")),e("td",snn,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",lnn,n(new Intl.NumberFormat().format(d.amount)),1),e("td",inn,n(t.moment(d.invoice_due_date).format(t.date_format)),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,rnn),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,dnn),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",cnn,[e("div",unn,[e("div",_nn,[e("div",mnn,[e("div",fnn,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),me(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const pnn=Ue(aan,[["render",hnn]]),vnn={name:"LoansPendingApproval",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(""),_=h(""),l=h(""),r=h("vendor_financing_receivable"),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=h(null),x=h(0),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,program_type:r.value,type:"loans-pending-disbursal-report"}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},E=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(W=>{y.value=W.data,x.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})};ot([w],async([S])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:S,anchor_search:m.value,invoice_number:l.value,account:_.value,program_type:r.value,type:"loans-pending-disbursal-report",sort_by:v.value,from_requested_disbursement_date:d.value,to_requested_disbursement_date:p.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const D=async()=>{g.value=$("#requested_payment_date_search").val(),g.value&&(d.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,anchor_search:m.value,invoice_number:l.value,vendor:_.value,program_type:r.value,requested_disbursement_date:i.value,from_requested_disbursement_date:d.value,to_requested_disbursement_date:p.value,type:"loans-pending-disbursal-report",sort_by:v.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},k=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",l.value="",_.value="",i.value="",r.value="vendor_financing_receivable",v.value="",d.value="",p.value="",$("#requested_payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"loans-pending-disbursal-report",program_type:r.value,per_page:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,vendor:_.value,program_type:r.value,requested_disbursement_date:i.value,from_requested_disbursement_date:d.value,to_requested_disbursement_date:p.value,type:"loans-pending-disbursal-report",sort_by:v.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Loans_pending_disbursal_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor_search:m.value,invoice_number:l.value,vendor:_.value,program_type:r.value,requested_disbursement_date:i.value,from_requested_disbursement_date:d.value,to_requested_disbursement_date:p.value,type:"loans-pending-disbursal-report",sort_by:v.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Loans_pending_disbursal_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{V.value=!1})},F=S=>{let U=0;return S.forEach(W=>{U+=W.quantity*W.price_per_quantity}),U},T=S=>{let U=0;return S.forEach(W=>{U+=W.value}),U},P=S=>{let U=0;return S.forEach(W=>{U+=W.amount}),U};return Qe(()=>{C()}),{moment:H,transactions:t,cbs_transactions:c,anchor_search:m,invoice_number_search:l,vendor_search:_,requested_disbursement_date:i,program_type_search:r,per_page:w,sort_by:v,invoice_details:y,changePage:async S=>{await A.get(S,{params:{type:"loans-pending-disbursal-report",anchor_search:m.value,invoice_number:l.value,vendor:_.value,program_type:r.value,requested_disbursement_date:i.value,from_requested_disbursement_date:d.value,to_requested_disbursement_date:p.value,sort_by:v.value,per_page:w.value}}).then(U=>{t.value=U.data})},filter:D,refresh:k,getTotalAmount:F,getTaxesAmount:T,getFeesAmount:P,downloadReport:B,downloadPdf:L,getTaxPercentage:(S,U,W)=>(W/U*100).toFixed(2),resolveStatus:S=>{let U="";switch(S){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},showInvoice:E,date_format:a,downloadingExcel:I,downloadingPdf:V,invoice_details_key:x}}},gnn={class:"card p-2"},bnn={class:"card-body p-0"},ynn={class:"d-flex flex-column flex-md-row justify-content-between"},knn={class:"d-flex flex-wrap gap-1"},$nn={class:""},wnn={for:"Status",class:"form-label"},Dnn={value:""},xnn={value:"vendor_financing_receivable"},Cnn={value:"factoring_with_recourse"},Pnn={value:"factoring_without_recourse"},Enn={value:"dealer_financing"},Ann={class:""},Inn={for:"Anchor",class:"form-label"},Rnn={class:""},Snn={for:"Vendor",class:"form-label"},Tnn={class:""},jnn={for:"Invoice Number",class:"form-label"},Onn={class:""},Mnn={class:"form-label"},Lnn={class:""},Nnn={for:"Status",class:"form-label"},Fnn={value:""},Ynn={value:"ASC"},Vnn={value:"DESC"},Bnn={class:"table-search-btn"},Unn={class:"table-clear-btn"},qnn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Hnn={class:""},znn={class:"table-responsive"},Wnn={class:"table"},Knn={class:""},Gnn={class:""},Qnn={class:""},Znn={class:""},Jnn={class:""},Xnn={class:""},esn={class:""},tsn={class:""},osn={class:""},asn={class:"table-border-bottom-0"},nsn={key:0},ssn={colspan:"12",class:"text-center"},lsn={class:"text-center"},isn={key:1},rsn={colspan:"12",class:"text-center"},dsn={class:"text-center"},csn=["onClick"],usn={class:""},_sn=["href"],msn=["href"],fsn={class:""},hsn=["href"],psn={class:""},vsn={key:0,class:""},gsn={key:1,class:""},bsn=["data-bs-target"],ysn=["id","data-bs-target"],ksn=["id","data-bs-target"],$sn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},wsn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Dsn={class:"modal-content"},xsn={class:"modal-body"},Csn={class:"d-flex justify-content-center"},Psn=["id"],Esn={class:"modal-dialog modal-dialog-centered modal-md",role:"document"},Asn={class:"modal-content"},Isn={class:"modal-body"},Rsn={class:"table-responsive"},Ssn={class:"table"},Tsn={class:"text-success"},jsn={key:0},Osn={key:1},Msn={key:2},Lsn={key:3},Nsn={key:4};function Fsn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",gnn,[e("div",bnn,[e("div",ynn,[e("div",knn,[e("div",$nn,[e("label",wnn,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.program_type_search=d)},[e("option",Dnn,n(o.$t("Select Program Type")),1),e("option",xnn,n(o.$t("Vendor Financing Receivable")),1),e("option",Cnn,n(o.$t("Factoring With Recourse")),1),e("option",Pnn,n(o.$t("Factoring Without Recourse")),1),e("option",Enn,n(o.$t("Dealer Financing")),1)],512),[[de,t.program_type_search]])]),e("div",Ann,[e("label",Inn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[1]||(a[1]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[2]||(a[2]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Rnn,[e("label",Snn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[3]||(a[3]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",Tnn,[e("label",jnn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[5]||(a[5]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",Onn,[e("label",Mnn,n(o.$t("Requested Disbursement Date")),1),e("input",{class:"form-control form-search",type:"text",id:"requested_payment_date_search",name:"payments-pending-disbursal-report-requested-payment-daterange",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",Lnn,[e("label",Nnn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.sort_by=d)},[e("option",Fnn,n(o.$t("Sort By")),1),e("option",Ynn,n(o.$t("Ascending")),1),e("option",Vnn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Bnn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Unn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",qnn,[e("div",Hnn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.transactions.meta?(u(),me(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",znn,[e("table",Wnn,[e("thead",null,[e("tr",Knn,[e("th",Gnn,n(o.$t("System ID"))+".",1),e("th",Qnn,n(o.$t("Invoice No"))+".",1),e("th",Znn,n(o.$t("Anchor")),1),e("th",Jnn,n(o.$t("Vendor")),1),e("th",Xnn,n(o.$t("Request Date")),1),e("th",esn,n(o.$t("Requested Disbursement Date")),1),e("th",tsn,n(o.$t("Debit From")),1),e("th",osn,n(o.$t("Credit To")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",asn,[t.transactions.data?b("",!0):(u(),f("tr",nsn,[e("td",ssn,[e("span",lsn,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",isn,[e("td",rsn,[e("span",dsn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.invoice_id,"show-details-btn-"+d.invoice_id),style:{cursor:"pointer"}},n(d.invoice_number),9,csn),e("td",usn,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details",class:"text-primary text-decoration-underline"},n(d.buyer_name),9,_sn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(d.anchor_name),9,msn))]),e("td",fsn,[e("a",{href:"../companies/"+d.company_id+"/details",class:"text-primary text-decoration-underline"},n(d.company_name),9,hsn)]),e("td",psn,n(t.moment(d.transaction_created_date).format(t.date_format)),1),d.payment_request_date?(u(),f("td",vsn,n(t.moment(d.payment_request_date).format(t.date_format)),1)):(u(),f("td",gsn,"-")),e("td",null,n(d.cbs_transactions.length>0?d.cbs_transactions[0].debit_from_account:"-"),1),e("td",{class:"text-primary text-decoration-underline","data-bs-toggle":"modal","data-bs-target":"#payment-accounts-"+d.id,style:{cursor:"pointer"}},n(d.payment_accounts.length)+" Account(s) ",9,bsn),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.invoice_id},null,8,ysn),e("button",{class:"d-none",id:"show-pi-btn-"+d.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.invoice_id},null,8,ksn),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",$sn,[e("div",wsn,[e("div",Dsn,[e("div",xsn,[e("div",Csn,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),e("div",{class:"modal fade",id:"payment-accounts-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Esn,[e("div",Asn,[a[18]||(a[18]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalCenterTitle"},"Accounts"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Isn,[e("div",Rsn,[e("table",Ssn,[a[17]||(a[17]=e("thead",null,[e("tr",null,[e("th",null,"Account"),e("th",null,"Amount"),e("th",null,"Description")])],-1)),e("tbody",null,[(u(!0),f(G,null,ee(d.payment_accounts,p=>(u(),f("tr",{key:p.id},[e("td",null,n(p.account),1),e("td",Tsn,n(new Intl.NumberFormat().format(p.amount)),1),e("td",null,[p.type=="vendor_account"?(u(),f("span",jsn,"Vendor's/Seller's A/C")):b("",!0),p.type=="discount"?(u(),f("span",Osn,"Bank Discount A/C")):b("",!0),p.type=="program_fees"?(u(),f("span",Msn,"Program Fees (Bank A/C)")):b("",!0),p.type=="program_fees_taxes"?(u(),f("span",Lsn,"Program Fees Taxes (Bank A/C)")):b("",!0),p.type=="tax_on_discount"?(u(),f("span",Nsn,"Tax on Discount (Bank A/C)")):b("",!0)])]))),128))])])])])])])],8,Psn)])]))),128))])])]),t.transactions.meta?(u(),me(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Ysn=Ue(vnn,[["render",Fsn]]),Vsn={name:"InactiveUsers",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){const a=Je("baseURL"),s=Je("axios"),t=h(""),c=h("bank"),m=h(""),_=h(""),l=h(""),r=h(50),i=h([]),d=async()=>{await s.get(a+o.bank+"/reports/data",{params:{per_page:r.value,user_type:c.value,type:"user-maintenance-history-report"}}).then(E=>{i.value=E.data}).catch(E=>{console.log(E)})};ot([r],async([E])=>{await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:E,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(D=>{i.value=D.data}).catch(D=>{console.log(D)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:r.value,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(D=>{i.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="bank",_.value="",l.value="",m.value="",await s.get(a+o.bank+"/reports/data",{params:{type:"user-maintenance-history-report",per_page:r.value,user_type:c.value}}).then(D=>{i.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),w=h(!1),y=()=>{g.value=!0,s.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"user-maintenance-history-report",search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`User_maintenance_history_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},x=()=>{w.value=!0,s.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"user-maintenance-history-report",search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`User_maintenance_history_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{w.value=!1})};return Qe(()=>{d()}),{moment:H,search:t,company_search:m,status:l,user_type:c,last_login:_,per_page:r,report_data:i,filter:p,refresh:v,changePage:async E=>{await s.get(E,{params:{type:"user-maintenance-history-report",per_page:r.value,search:t.value,user_type:c.value,company:m.value,last_login:_.value,status:l.value}}).then(D=>{i.value=D.data}).catch(D=>{console.log(D)})},downloadReport:y,downloadPdf:x,downloadingExcel:g,downloadingPdf:w}}},Bsn={class:"card p-2",id:"companies"},Usn={class:"d-flex flex-column flex-md-row justify-content-between"},qsn={class:"d-flex flex-wrap gap-1"},Hsn={class:""},zsn={for:"User Type",class:"form-label"},Wsn={value:"bank"},Ksn={value:"company"},Gsn={class:""},Qsn={for:"Company",class:"form-label"},Zsn={class:""},Jsn={for:"Search",class:"form-label"},Xsn={class:""},eln={for:"Last Login",class:"form-label"},tln={class:""},oln={for:"Status",class:"form-label"},aln={value:""},nln={value:"active"},sln={value:"inactive"},lln={class:"table-search-btn"},iln={class:"table-clear-btn"},rln={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},dln={class:""},cln={class:""},uln={class:"table-responsive"},_ln={class:"table"},mln={class:""},fln={key:0},hln={colspan:"12",class:"text-center"},pln={class:"text-center"},vln={key:1},gln={colspan:"12",class:"text-center"},bln={class:"text-center"};function yln(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Bsn,[e("div",Usn,[e("div",qsn,[e("div",Hsn,[e("label",zsn,n(o.$t("User Type")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.user_type=r)},[e("option",Wsn,n(o.$t("Bank")),1),e("option",Ksn,n(o.$t("Company")),1)],512),[[de,t.user_type]])]),e("div",Gsn,[e("label",Qsn,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.company_search=r),id:"defaultFormControlInput",placeholder:"Company","aria-describedby":"defaultFormControlHelp",onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.company_search]])]),e("div",Zsn,[e("label",Jsn,n(o.$t("Search")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.search=r),id:"defaultFormControlInput",placeholder:"Name/Email/Phone Number","aria-describedby":"defaultFormControlHelp",onKeyup:a[4]||(a[4]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.search]])]),e("div",Xsn,[e("label",eln,n(o.$t("Last Login")),1),Y(e("input",{type:"date",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=r=>t.last_login=r),id:"defaultFormControlInput","aria-describedby":"defaultFormControlHelp",onKeyup:a[6]||(a[6]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.last_login]])]),e("div",tln,[e("label",oln,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=r=>t.status=r)},[e("option",aln,n(o.$t("All")),1),e("option",nln,n(o.$t("Active")),1),e("option",sln,n(o.$t("Inactive")),1)],512),[[de,t.status]])]),e("div",lln,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",iln,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",rln,[e("div",dln,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",cln,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",uln,[e("table",_ln,[e("thead",null,[e("tr",mln,[e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Phone Number")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Last Updated At")),1),e("th",null,n(o.$t("Last Login")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",fln,[e("td",hln,[e("span",pln,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",vln,[e("td",gln,[e("span",bln,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id,class:"text-nowrap"},[e("td",null,n(r.company?"Company":"Bank"),1),e("td",null,n(r.company?r.company.name:"-"),1),e("td",null,n(r.user.name),1),e("td",null,n(r.user.email),1),e("td",null,n(r.user.phone_number),1),e("td",null,n(r.active?"Active":"Inactive"),1),e("td",null,n(t.moment(r.user.updated_at).format("DD MMM YYYY")),1),e("td",null,n(t.moment(r.user.last_login).format("DD MMM YYYY")),1)]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const kln=Ue(Vsn,[["render",yln]]),$ln={name:"CbsTransactions",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank"],setup(o,a){lt();const s=Je("baseURL"),t=h([]),c=h(null),m=h(["Successful","Created","Failed","Permanently Failed"]);h("");const _=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(50),w=h(null),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report",product_type:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},x=async(P,R)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+P+"/details").then(O=>{w.value=O.data,bt(()=>{document.getElementById(R).click()})}).catch(O=>{console.log(O)})};a.expose({getRequests:y}),Qe(()=>{y()}),ot([g],async([P])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:P,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})});const C=async()=>{let P=$(".ti-search").parent();P.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-search"></i>')})},E=async()=>{let P=$(".ti-refresh").parent();P.html('<img src="../../../../../../assets/img/spinner.svg" />'),i.value="",r.value="",_.value="",l.value="",d.value="",p.value="",v.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:g.value,type:"final-rtr-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)}).finally(()=>{P.html('<i class="ti ti-refresh"></i>')})},D=(P,R)=>R/P*100,k=P=>{let R="";switch(P.toLowerCase()){case"created":R="bg-label-primary";break;case"successful":R="bg-label-success";break;case"failed":R="bg-label-danger";break;case"permanently failed":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},I=h(!1),V=h(!1);return{moment:H,transactions:t,cbs_transactions:c,cbs_transaction_statuses:m,status_search:i,anchor_search:l,vendor_search:r,failed_date:d,invoice_number_search:_,product_type_search:p,per_page:g,sort_by:v,invoice_details:w,showInvoice:x,filter:C,refresh:E,resolvePaymentRequestStatus:k,changePage:async P=>{await A.get(P,{params:{per_page:g.value,type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(R=>{t.value=R.data.transactions})},getTaxPercentage:D,downloadReport:()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Final_rtr_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)}).finally(()=>{I.value=!1})},downloadPdf:()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"final-rtr-report",status:i.value,vendor:r.value,invoice_number:_.value,anchor:l.value,failed_date:d.value,product_type:p.value,sort_by:v.value}}).then(P=>{const R=window.URL.createObjectURL(new Blob([P.data])),O=document.createElement("a");O.href=R,O.setAttribute("download",`Final_rtr_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(O),O.click()}).catch(P=>{console.log(P)}).finally(()=>{V.value=!1})},resolveStatus:P=>{let R="";switch(P){case"Overdue":R="bg-label-danger";break;case"Created":R="bg-label-secondary";break;case"Pending Approval":R="bg-label-warning";break;case"Pending Maker":R="bg-label-warning";break;case"Pending Checker":R="bg-label-warning";break;case"Submitted":R="bg-label-primary";break;case"Approved":R="bg-label-success";break;case"Disbursed":R="bg-label-success";break;case"Denied":R="bg-label-danger";break;default:R="bg-label-primary";break}return R},downloadingExcel:I,downloadingPdf:V}}},wln={class:"card p-2"},Dln={class:"card-body p-0"},xln={class:"d-flex flex-column flex-md-row justify-content-between"},Cln={class:"d-flex flex-wrap gap-1"},Pln={class:""},Eln={for:"Anchor",class:"form-label"},Aln={class:""},Iln={for:"Vendor",class:"form-label"},Rln={class:""},Sln={for:"Invoice No",class:"form-label"},Tln={class:""},jln={for:"Failed Date",class:"form-label"},Oln={class:""},Mln={for:"Product Type",class:"form-label"},Lln={value:""},Nln={value:"Vendor Financing"},Fln={value:"Dealer Financing"},Yln={class:""},Vln={for:"Status",class:"form-label"},Bln={value:""},Uln={value:"ASC"},qln={value:"DESC"},Hln={class:"table-search-btn"},zln={class:"table-clear-btn"},Wln={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Kln={class:""},Gln={class:""},Qln={class:"table-responsive"},Zln={class:"table"},Jln={class:""},Xln={class:"px-1"},ein={class:"px-1"},tin={class:"px-1"},oin={class:"px-1"},ain={class:"px-1"},nin={class:"px-1"},sin={class:"px-1"},lin={class:"px-1"},iin={class:"px-1"},rin={class:"px-1"},din={class:"table-border-bottom-0"},cin={key:0},uin={colspan:"12",class:"text-center"},_in={class:"text-center"},min={key:1},fin={colspan:"12",class:"text-center"},hin={class:"text-center"},pin={class:"px-1"},vin={class:"fw-medium"},gin={key:0,class:"px-1"},bin={key:1},yin={key:2,class:"px-1"},kin={key:3},$in=["onClick"],win={key:5},Din={class:"px-1"},xin={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},Cin={class:"px-1"},Pin={style:{"max-width":"110px","overflow-x":"clip",display:"block"}},Ein={class:"text-success px-1"},Ain={class:"px-1"},Iin={key:6,class:"px-1"},Rin={key:7,class:"px-1"},Sin={class:"m_title px-1"},Tin={class:"d-flex"},jin=["data-bs-target"],Oin={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Min={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Lin={class:"modal-content"},Nin={class:"modal-body"},Fin={class:"d-flex justify-content-center"},Yin=["id"],Vin={class:"modal-dialog modal-dialog-centered modal-xl",role:"document"},Bin={class:"modal-content"},Uin={class:"modal-header"},qin={class:"modal-title",id:"modalCenterTitle"},Hin={class:"modal-body"},zin={class:"table-responsive"},Win={class:"table"},Kin={style:{background:"#f0f0f0"}},Gin=["id","data-bs-target"],Qin=["id","data-bs-target"];function Zin(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",wln,[e("div",Dln,[e("div",xln,[e("div",Cln,[e("div",Pln,[e("label",Eln,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Anchor","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Aln,[e("label",Iln,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",Rln,[e("label",Sln,n(o.$t("Invoice No")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput",placeholder:"Invoice/Unique Ref","onUpdate:modelValue":a[4]||(a[4]=d=>t.invoice_number_search=d),"aria-describedby":"defaultFormControlHelp",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number_search]])]),e("div",Tln,[e("label",jln,n(o.$t("Failed Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=d=>t.failed_date=d),onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.failed_date]])]),e("div",Oln,[e("label",Mln,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=d=>t.product_type_search=d)},[e("option",Lln,n(o.$t("Product Type")),1),e("option",Nln,n(o.$t("Vendor Financing")),1),e("option",Fln,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type_search]])]),e("div",Yln,[e("label",Vln,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Bln,n(o.$t("Sort By")),1),e("option",Uln,n(o.$t("Ascending")),1),e("option",qln,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Hln,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zln,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wln,[e("div",Kln,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),e("div",Gln,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.transactions.meta?(u(),me(l,{key:0,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Qln,[e("table",Zln,[e("thead",null,[e("tr",Jln,[e("th",Xln,n(o.$t("CBS ID")),1),e("th",ein,n(o.$t("Anchor")),1),e("th",tin,n(o.$t("Vendor")),1),e("th",oin,n(o.$t("Invoice / Unique Ref No")),1),e("th",ain,n(o.$t("Debit From")),1),e("th",nin,n(o.$t("Credit To")),1),e("th",sin,n(o.$t("Amount")),1),e("th",lin,n(o.$t("Payment Date")),1),e("th",iin,n(o.$t("Transaction Failed Date")),1),e("th",rin,n(o.$t("Product Type")),1),e("th",null,n(o.$t("Actions")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",din,[t.transactions.data?b("",!0):(u(),f("tr",cin,[e("td",uin,[e("span",_in,n(o.$t("Loading Data"))+"...",1)])])),t.transactions.data&&t.transactions.data.length<=0?(u(),f("tr",min,[e("td",fin,[e("span",hin,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.transactions.data,d=>(u(),f("tr",{key:d,class:"text-nowrap"},[e("td",pin,[e("span",vin,n(d.cbs_id),1)]),d.payment_request?(u(),f("td",gin,n(d.payment_request.buyer_name?d.payment_request.buyer_name:d.payment_request.anchor_name),1)):(u(),f("td",bin,"-")),d.payment_request?(u(),f("td",yin,n(d.payment_request.company_name),1)):(u(),f("td",kin,"-")),d.payment_request?(u(),f("td",{key:4,class:"text-primary text-decoration-underline px-1",onClick:p=>t.showInvoice(d.payment_request.invoice_id,"show-details-btn-"+d.payment_request.invoice_id),style:{cursor:"pointer","max-width":"220px","overflow-x":"clip"}},n(d.payment_request.invoice_number),9,$in)):(u(),f("td",win,"-")),e("td",Din,[e("span",xin,n(d.debit_from_account),1)]),e("td",Cin,[e("span",Pin,n(d.credit_to_account),1)]),e("td",Ein,n(new Intl.NumberFormat().format(d.amount)),1),e("td",Ain,n(t.moment(d.transaction_created_date).format("DD MMM YYYY")),1),d.pay_date?(u(),f("td",Iin,n(t.moment(d.pay_date).format("DD MMM YYYY")),1)):(u(),f("td",Rin,"-")),e("td",Sin,n(d.product),1),e("td",null,[e("div",Tin,[e("i",{class:"ti ti-eye ti-sm text-primary","data-bs-toggle":"modal","data-bs-target":"#cbs-transactions-details-"+d.id,style:{cursor:"pointer"}},null,8,jin)])]),e("td",null,[a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Oin,[e("div",Min,[e("div",Lin,[e("div",Nin,[e("div",Fin,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),e("div",{class:"modal fade",id:"cbs-transactions-details-"+d.id,tabindex:"-1","aria-hidden":"true"},[e("div",Vin,[e("div",Bin,[e("div",Uin,[e("h5",qin,n(o.$t("CBS Transaction")),1),a[18]||(a[18]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Hin,[e("div",zin,[e("table",Win,[e("thead",Kin,[e("tr",null,[e("th",null,n(o.$t("Date Time")),1),e("th",null,n(o.$t("Code")),1),e("th",null,n(o.$t("Reference Code")),1),e("th",null,n(o.$t("Message")),1),e("th",null,n(o.$t("Transaction Type")),1)])]),e("tbody",null,[e("tr",null,[e("td",null,n(t.moment(d.transaction_date).format("DD MMM YYYY")),1),e("td",null,n(d.product=="Vendor Financing"?"VF":"DF"),1),e("td",null,n(d.transaction_reference?d.transaction_reference:"-"),1),a[19]||(a[19]=e("td",null,"-",-1)),e("td",null,n(d.transaction_type),1)])])])])])])])],8,Yin),d.payment_request?(u(),f("button",{key:0,class:"d-none",id:"show-details-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.payment_request.invoice_id},null,8,Gin)):b("",!0),d.payment_request?(u(),f("button",{key:1,class:"d-none",id:"show-pi-btn-"+d.payment_request.invoice_id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.payment_request.invoice_id},null,8,Qin)):b("",!0),t.invoice_details?(u(),me(r,{key:2,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{key:3,"invoice-details":t.invoice_details},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.transactions.meta?(u(),me(l,{key:1,from:t.transactions.meta.from,to:t.transactions.meta.to,links:t.transactions.meta.links,next_page:t.transactions.links.next,prev_page:t.transactions.links.prev,total_items:t.transactions.meta.total,first_page_url:t.transactions.links.first,last_page_url:t.transactions.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])])}const Jin=Ue($ln,[["render",Zin]]),Xin={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(""),C=h(null),E=h(0),D=h(50),k=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:D.value,type:"maturing-payments-report"}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},I=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(W=>{C.value=W.data,E.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})};ot([D],async([S])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:S,anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,from_payment_date:i.value,to_payment_date:d.value,payment_date:v.value,maturing_in:p.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#payment_date_search").val(),x.value&&(i.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:D.value,anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},B=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",v.value="",p.value="",g.value="",w.value="",y.value="",$("#due_date_search").val(""),$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},L=h(!1),F=h(!1),T=()=>{L.value=!0,y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#payment_date_search").val(),x.value&&(i.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,from_payment_date:i.value,to_payment_date:d.value,payment_date:v.value,maturing_in:p.value,dpd:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Maturing_payment_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{L.value=!1})},P=()=>{F.value=!0,y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#payment_date_search").val(),x.value&&(i.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`Maturing_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{F.value=!1})};return Qe(()=>{k()}),{moment:H,anchor:c,vendor:m,product_type:_,from_date:l,to_date:r,payment_date:v,maturing_in:p,dpd:g,sort_by:w,due_date_search:y,per_page:D,report_data:t,invoice_details:C,filter:V,refresh:B,changePage:async S=>{y.value=$("#due_date_search").val(),y.value&&(l.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#payment_date_search").val(),x.value&&(i.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),d.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(S,{params:{type:"maturing-payments-report",anchor:c.value,vendor:m.value,product_type:_.value,from_date:l.value,to_date:r.value,payment_date:v.value,from_payment_date:i.value,to_payment_date:d.value,maturing_in:p.value,dpd:g.value,sort_by:w.value,per_page:D.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:T,downloadPdf:P,getTaxPercentage:(S,U,W)=>(W/U*100).toFixed(2),resolveStatus:S=>{let U="";switch(S){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},showInvoice:I,date_format:a,downloadingExcel:L,downloadingPdf:F,invoice_details_key:E}}},ern={class:"card p-2",id:"companies"},trn={class:"d-flex flex-column flex-md-row justify-content-between"},orn={class:"d-flex flex-wrap gap-1"},arn={class:""},nrn={class:"form-label"},srn={class:""},lrn={class:"form-label"},irn={class:""},rrn={class:"form-label"},drn={class:""},crn={class:"form-label"},urn={class:""},_rn={class:"form-label"},mrn={value:""},frn={value:"2"},hrn={value:"5"},prn={value:"7"},vrn={value:"15"},grn={value:"30"},brn={value:"60"},yrn={value:"90"},krn={value:"more than 90"},$rn={class:""},wrn={class:"form-label"},Drn={value:""},xrn={value:"0"},Crn={value:"0"},Prn={value:"5"},Ern={value:"10"},Arn={value:"30"},Irn={class:""},Rrn={class:"form-label"},Srn={value:""},Trn={value:"1"},jrn={value:"2"},Orn={class:""},Mrn={for:"Status",class:"form-label"},Lrn={value:""},Nrn={value:"ASC"},Frn={value:"DESC"},Yrn={class:"table-search-btn"},Vrn={class:"table-clear-btn"},Brn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-auto"},Urn={class:""},qrn={class:""},Hrn={class:"table-responsive"},zrn={class:"table"},Wrn={class:""},Krn={class:"text-nowrap"},Grn={key:0},Qrn={colspan:"12",class:"text-center"},Zrn={class:"text-center"},Jrn={key:1},Xrn={colspan:"12",class:"text-center"},edn={class:"text-center"},tdn=["onClick"],odn=["href"],adn=["href"],ndn=["href"],sdn={class:"text-success"},ldn={class:"text-success"},idn={class:"text-success"},rdn=["id","data-bs-target"],ddn=["id","data-bs-target"],cdn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},udn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_dn={class:"modal-content"},mdn={class:"modal-body"},fdn={class:"d-flex justify-content-center"};function hdn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",ern,[e("div",trn,[e("div",orn,[e("div",arn,[e("label",nrn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor=d),placeholder:"Anchor",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",srn,[e("label",lrn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),placeholder:"Vendor",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",irn,[e("label",rrn,n(o.$t("Payment Date")),1),e("input",{class:"form-control form-search",type:"text",id:"payment_date_search",name:"maturing-report-payment-daterange",onKeyup:a[4]||(a[4]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",drn,[e("label",crn,n(o.$t("Due Date")),1),e("input",{class:"form-control form-search",type:"text",id:"due_date_search",name:"maturing-report-due-daterange",onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",urn,[e("label",_rn,n(o.$t("Maturing In")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.maturing_in=d)},[e("option",mrn,n(o.$t("Maturing In")),1),e("option",frn,"2 "+n(o.$t("Days")),1),e("option",hrn,"5 "+n(o.$t("Days")),1),e("option",prn,"7 "+n(o.$t("Days")),1),e("option",vrn,"15 "+n(o.$t("Days")),1),e("option",grn,"30 "+n(o.$t("Days")),1),e("option",brn,"60 "+n(o.$t("Days")),1),e("option",yrn,"90 "+n(o.$t("Days")),1),e("option",krn,n(o.$t("Greater than"))+" 90 "+n(o.$t("Days")),1)],512),[[de,t.maturing_in]])]),e("div",$rn,[e("label",wrn,n(o.$t("DPD")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.dpd=d)},[e("option",Drn,n(o.$t("Select")),1),e("option",xrn,n(o.$t("Due Today")),1),e("option",Crn,"> 0 "+n(o.$t("Days")),1),e("option",Prn,"> 5 "+n(o.$t("Days")),1),e("option",Ern,"> 10 "+n(o.$t("Days")),1),e("option",Arn,"> 30 "+n(o.$t("Days")),1)],512),[[de,t.dpd]])]),e("div",Irn,[e("label",Rrn,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[8]||(a[8]=d=>t.product_type=d)},[e("option",Srn,n(o.$t("Product Type")),1),e("option",Trn,n(o.$t("Vendor Financing")),1),e("option",jrn,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_type]])]),e("div",Orn,[e("label",Mrn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",Lrn,n(o.$t("Sort By")),1),e("option",Nrn,n(o.$t("Ascending")),1),e("option",Frn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Yrn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Vrn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Brn,[e("div",Urn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",qrn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Hrn,[e("table",zrn,[e("thead",null,[e("tr",Wrn,[e("th",null,n(o.$t("Payment Reference No.")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("PI Amount")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Total Outstanding")),1),e("th",null,n(o.$t("Due Date")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",Krn,[t.report_data.data?b("",!0):(u(),f("tr",Grn,[e("td",Qrn,[e("span",Zrn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Jrn,[e("td",Xrn,[e("span",edn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.transaction_ref),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,tdn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,odn)):(u(),f("a",{key:1,href:"../companies/"+d.company_id+"/details"},n(d.company),9,adn))]),e("td",null,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,ndn)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",sdn,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",ldn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",idn,n(new Intl.NumberFormat().format(d.invoice_total_amount-d.paid_amount)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,rdn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,ddn),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",cdn,[e("div",udn,[e("div",_dn,[e("div",mdn,[e("div",fdn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const pdn=Ue(Xin,[["render",hdn]]),vdn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(null),g=h(0),w=h(50),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"maturity-extended-report"}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})},x=async(T,P)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+T+"/details").then(R=>{v.value=R.data,g.value++,bt(()=>{document.getElementById(P).click()})}).catch(R=>{console.log(R)})};ot([w],async([T])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"maturity-extended-report",per_page:T,anchor:c.value,vendor:m.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})}),Qe(()=>{y()});const C=async()=>{let T=$(".ti-search").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"maturity-extended-report",per_page:w.value,anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-search"></i>')})},E=async()=>{let T=$(".ti-refresh").parent();T.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"maturity-extended-report"}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)}).finally(()=>{T.html('<i class="ti ti-refresh"></i>')})},D=h(!1),k=h(!1);return{moment:H,anchor:c,vendor:m,product_type:_,sort_by:l,from_changed_date:d,from_original_date:r,to_changed_date:p,to_original_date:i,per_page:w,report_data:t,invoice_details:v,filter:C,refresh:E,downloadPdf:()=>{k.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturity-extended-report",anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`Maturity_extended_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{k.value=!1})},downloadReport:()=>{D.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"maturity-extended-report",anchor:c.value,vendor:m.value,product_type:_.value,sort_by:l.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`Maturity_extended_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{D.value=!1})},changePage:async T=>{await A.get(T,{params:{type:"maturity-extended-report",per_page:w.value,sort_by:l.value,anchor:c.value,vendor:m.value,product_type:_.value,from_original_date:r.value,to_original_date:i.value,from_changed_date:d.value,to_changed_date:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},getTaxPercentage:(T,P,R)=>(R/P*100).toFixed(2),resolveStatus:T=>{let P="";switch(T){case"Overdue":P="bg-label-danger";break;case"Created":P="bg-label-secondary";break;case"Pending Approval":P="bg-label-warning";break;case"Pending Maker":P="bg-label-warning";break;case"Pending Checker":P="bg-label-warning";break;case"Submitted":P="bg-label-primary";break;case"Approved":P="bg-label-success";break;case"Disbursed":P="bg-label-success";break;case"Denied":P="bg-label-danger";break;default:P="bg-label-primary";break}return P},showInvoice:x,date_format:a,downloadingExcel:D,downloadingPdf:k,invoice_details_key:g}}},gdn={class:"card p-2",id:"companies"},bdn={class:"d-flex flex-column flex-md-row justify-content-between"},ydn={class:"d-flex flex-wrap gap-1"},kdn={class:""},$dn={for:"Anchor",class:"form-label"},wdn={class:""},Ddn={for:"Vendor",class:"form-label"},xdn={class:""},Cdn={for:"Product Code",class:"form-label"},Pdn={value:""},Edn={class:""},Adn={for:"From",class:"form-label"},Idn={class:""},Rdn={for:"To",class:"form-label"},Sdn={class:""},Tdn={for:"From",class:"form-label"},jdn={class:""},Odn={for:"To",class:"form-label"},Mdn={class:""},Ldn={for:"Status",class:"form-label"},Ndn={value:""},Fdn={value:"ASC"},Ydn={value:"DESC"},Vdn={class:"table-search-btn"},Bdn={class:"table-clear-btn"},Udn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},qdn={class:""},Hdn={class:""},zdn={class:"table-responsive"},Wdn={class:"table"},Kdn={class:""},Gdn={key:0},Qdn={colspan:"12",class:"text-center"},Zdn={class:"text-center"},Jdn={key:1},Xdn={colspan:"12",class:"text-center"},ecn={class:"text-center"},tcn=["onClick"],ocn=["href"],acn=["href"],ncn=["href"],scn=["id","data-bs-target"],lcn=["id","data-bs-target"],icn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},rcn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},dcn={class:"modal-content"},ccn={class:"modal-body"},ucn={class:"d-flex justify-content-center"};function _cn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",gdn,[e("div",bdn,[e("div",ydn,[e("div",kdn,[e("label",$dn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=d=>t.anchor=d),placeholder:"Anchor",onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",wdn,[e("label",Ddn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),placeholder:"Vendor",onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",xdn,[e("label",Cdn,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=d=>t.product_type=d),style:{height:"fit-content"}},[e("option",Pdn,n(o.$t("Product Type")),1),a[17]||(a[17]=e("option",{value:"VFR"},"VFR",-1)),a[18]||(a[18]=e("option",{value:"FR"},"FR",-1)),a[19]||(a[19]=e("option",{value:"FWR"},"FWR",-1))],512),[[de,t.product_type]])]),e("div",Edn,[e("label",Adn,n(o.$t("From"))+" ("+n(o.$t("Original Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[5]||(a[5]=d=>t.from_original_date=d),onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.from_original_date]])]),e("div",Idn,[e("label",Rdn,n(o.$t("To"))+" ("+n(o.$t("Original Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[7]||(a[7]=d=>t.to_original_date=d),onKeyup:a[8]||(a[8]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.to_original_date]])]),e("div",Sdn,[e("label",Tdn,n(o.$t("From"))+" ("+n(o.$t("Changed Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[9]||(a[9]=d=>t.from_changed_date=d),onKeyup:a[10]||(a[10]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.from_changed_date]])]),e("div",jdn,[e("label",Odn,n(o.$t("To"))+" ("+n(o.$t("Changed Date"))+")",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[11]||(a[11]=d=>t.to_changed_date=d),onKeyup:a[12]||(a[12]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.to_changed_date]])]),e("div",Mdn,[e("label",Ldn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.sort_by=d)},[e("option",Ndn,n(o.$t("Sort By")),1),e("option",Fdn,n(o.$t("Ascending")),1),e("option",Ydn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Vdn,[e("button",{class:"btn btn-primary btn-md",onClick:a[14]||(a[14]=(...d)=>t.filter&&t.filter(...d))},a[20]||(a[20]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Bdn,[e("button",{class:"btn btn-primary btn-md",onClick:a[15]||(a[15]=(...d)=>t.refresh&&t.refresh(...d))},a[21]||(a[21]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Udn,[e("div",qdn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[16]||(a[16]=d=>t.per_page=d),style:{height:"fit-content"}},a[22]||(a[22]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Hdn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",zdn,[e("table",Wdn,[e("thead",null,[e("tr",Kdn,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Vendor Financing Payment Account No. (CBS)")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Original Date")),1),e("th",null,n(o.$t("Changed Due Date")),1),e("th",null,n(o.$t("Product Code")),1),a[23]||(a[23]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Gdn,[e("td",Qdn,[e("span",Zdn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Jdn,[e("td",Xdn,[e("span",ecn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",null,n(d.payment_account_number),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,tcn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,ocn)]),e("td",null,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,acn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,ncn))]),e("td",null,n(t.moment(d.old_due_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,n(d.program_type),1),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,scn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,lcn),a[25]||(a[25]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",icn,[e("div",rcn,[e("div",dcn,[e("div",ccn,[e("div",ucn,[e("span",null,n(o.$t("Loading"))+"...",1),a[24]||(a[24]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const mcn=Ue(vdn,[["render",_cn]]),fcn={name:"AllPayments",components:{Pagination:St},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},hcn={class:"card p-2",id:"companies"},pcn={class:"d-flex justify-content-between"},vcn={class:"d-flex"},gcn={class:"mb-2"},bcn={class:"mx-1"},ycn={class:"d-flex justify-content-end"},kcn={class:""},$cn={class:"mx-2"};function wcn(o,a,s,t,c,m){return u(),f("div",hcn,[e("div",pcn,[e("div",vcn,[e("div",gcn,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.anchor=_),placeholder:"Payment / OD Account No."},null,512),[[X,t.anchor]])]),e("div",bcn,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>t.vendor=_),placeholder:"Anchor"},null,512),[[X,t.vendor]])]),a[5]||(a[5]=ga('<div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><button class="btn btn-primary"><i class="ti ti-refresh ti-sm"></i></button></div>',3))]),e("div",ycn,[e("div",kcn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=_=>t.per_page=_),style:{height:"fit-content"}},a[6]||(a[6]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[de,t.per_page]])]),e("div",$cn,[e("button",{type:"button",class:"btn btn-primary",title:"Download Excel",onClick:a[3]||(a[3]=(..._)=>o.downloadReport&&o.downloadReport(..._)),style:{height:"fit-content"}},a[7]||(a[7]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)])),e("button",{type:"button",class:"btn btn-primary mx-1",title:"Doanload PDF",onClick:a[4]||(a[4]=(..._)=>o.downloadPdf&&o.downloadPdf(..._)),style:{height:"fit-content"}},a[8]||(a[8]=[e("i",{class:"ti ti-file-text ti-xs"},null,-1)]))])])]),a[9]||(a[9]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment / OD Account No</th><th>Dealer</th><th>Anchor</th><th>PF Processing Fees</th><th>Debit (Ksh)</th><th>Balance (Ksh)</th><th>Date</th><th>OD Expiry Date</th></tr></thead><tbody></tbody></table></div>',1))])}const Dcn=Ue(fcn,[["render",wcn]]),xcn={name:"AllPayments",components:{Pagination:St},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},Ccn={class:"card p-2",id:"companies"},Pcn={class:"d-flex justify-content-between"},Ecn={class:"d-flex justify-content-end"},Acn={class:""},Icn={class:"mx-2"};function Rcn(o,a,s,t,c,m){return u(),f("div",Ccn,[e("div",Pcn,[a[6]||(a[6]=ga('<div class="d-flex"><div class="mb-2"><input type="text" class="form-control" placeholder="Payment/OD Account"></div><div class="mx-1"><input type="text" class="form-control" placeholder="Dealer"></div><div class="mx-1"><input type="text" class="form-control" placeholder="Anchor"></div><div class="mx-1"><input class="form-control" type="date" id="html5-date-input"></div><div class="mx-1"><button class="btn btn-primary"><i class="ti ti-refresh ti-sm"></i></button></div></div>',1)),e("div",Ecn,[e("div",Acn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=_=>t.per_page=_),style:{height:"fit-content"}},a[3]||(a[3]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[de,t.per_page]])]),e("div",Icn,[e("button",{type:"button",class:"btn btn-primary",title:"Download Excel",onClick:a[1]||(a[1]=(..._)=>o.downloadReport&&o.downloadReport(..._)),style:{height:"fit-content"}},a[4]||(a[4]=[e("i",{class:"ti ti-file-spreadsheet ti-xs"},null,-1)])),e("button",{type:"button",class:"btn btn-primary mx-1",title:"Doanload PDF",onClick:a[2]||(a[2]=(..._)=>o.downloadPdf&&o.downloadPdf(..._)),style:{height:"fit-content"}},a[5]||(a[5]=[e("i",{class:"ti ti-file-text ti-xs"},null,-1)]))])])]),a[7]||(a[7]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment/OD Account</th><th>Anchor</th><th>Dealer</th><th>Cash Collateral (Ksh)</th><th>PF Entry (Ksh)</th><th>Total Debit (Ksh)</th><th>Balance (Ksh)</th><th>OD Expiry Date</th></tr></thead><tbody></tbody></table></div>',1))])}const Scn=Ue(xcn,[["render",Rcn]]),Tcn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50);return ot([t,c,m],async([l,r,i])=>{await A.get(a+o.bank+"/reports/data",{params:{type:"maturing-payments-report",per_page:i,anchor:l,vendor:r}}).then(d=>{s.value=d.data}).catch(d=>{console.log(d)})}),Qe(()=>{}),{moment:H,anchor:t,vendor:c,per_page:m,report_data:s,changePage:async l=>{await A.get(l,{params:{type:"maturing-payments-report",per_page:m.value}}).then(r=>{s.value=r.data}).catch(r=>{console.log(r)})}}}},jcn={class:"card p-2",id:"companies"},Ocn={class:"d-flex flex-column flex-md-row justify-content-between"},Mcn={class:"d-flex flex-wrap gap-1"},Lcn={class:""},Ncn={for:"Account No",class:"form-label"},Fcn={class:""},Ycn={for:"Date",class:"form-label"},Vcn={class:"d-flex flex-wrap gap-1 justify-content-md-end mt-2 mt-md-auto"},Bcn={class:""},Ucn={class:"mx-2"};function qcn(o,a,s,t,c,m){const _=ce("download-buttons");return u(),f("div",jcn,[e("div",Ocn,[e("div",Mcn,[e("div",Lcn,[e("label",Ncn,n(o.$t("Account No"))+".",1),a[1]||(a[1]=e("input",{type:"text",class:"form-control",placeholder:"Account No"},null,-1))]),e("div",Fcn,[e("label",Ycn,n(o.$t("Date")),1),a[2]||(a[2]=e("input",{class:"form-control",type:"date",id:"html5-date-input"},null,-1))]),a[3]||(a[3]=ga('<div class="table-search-btn"><button class="btn btn-primary btn-md"><i class="ti ti-search"></i></button></div><div class="table-clear-btn"><button class="btn btn-primary btn-md"><i class="ti ti-refresh"></i></button></div>',2))]),e("div",Vcn,[e("div",Bcn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=l=>t.per_page=l),style:{height:"fit-content"}},a[4]||(a[4]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Ucn,[Be(_,{onDownloadReport:o.downloadReport,onDownloadPdf:o.downloadPdf,"downloading-excel":o.downloadingExcel,"downloading-pdf":o.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),a[5]||(a[5]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment/OD Account No.</th><th>OD Expiry Date</th><th>Sanctioned Limit</th><th>Utilized Limit</th><th>CBS Sanction Limit</th><th>CBS Limit Utilized</th><th>Difference Sanction Limit</th><th>Type</th><th>Created At</th></tr></thead><tbody></tbody></table></div>',1))])}const Hcn=Ue(Tcn,[["render",qcn]]),zcn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:r.value,type:"users-and-roles-report"}}).then(C=>{s.value=C.data}).catch(C=>{console.log(C)})},d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"users-and-roles-report",per_page:r.value,user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(C=>{s.value=C.data}).catch(C=>{console.log(C)})},p=async()=>{t.value="",m.value="",_.value="",c.value="",l.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"users-and-roles-report",per_page:r}}).then(C=>{s.value=C.data}).catch(C=>{console.log(C)})},v=h(!1),g=h(!1),w=()=>{v.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"users-and-roles-report",user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`Users_and_roles_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},y=()=>{g.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"users-and-roles-report",user_type:t.value,company:c.value,status:m.value,search:_.value,sort_by:l.value}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`User_and_roles_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{g.value=!1})};return Qe(()=>{i()}),{moment:H,user_type:t,company:c,status:m,search:_,sort_by:l,filter:d,refresh:p,per_page:r,report_data:s,changePage:async C=>{await A.get(C,{params:{type:"users-and-roles-report",per_page:r.value,sort_by:l.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},downloadReport:w,downloadPdf:y,downloadingExcel:v,downloadingPdf:g}}},Wcn={class:"card p-2",id:"companies"},Kcn={class:"d-flex flex-column flex-md-row justify-content-between"},Gcn={class:"d-flex flex-wrap gap-1"},Qcn={class:""},Zcn={for:"User Type",class:"form-label"},Jcn={value:""},Xcn={value:"bank"},eun={value:"company"},tun={class:""},oun={for:"Company",class:"form-label"},aun={class:""},nun={for:"Search",class:"form-label"},sun={class:""},lun={class:"form-label"},iun={value:""},run={value:"active"},dun={value:"inactive"},cun={class:""},uun={for:"Status",class:"form-label"},_un={value:""},mun={value:"ASC"},fun={value:"DESC"},hun={class:"table-search-btn"},pun={class:"table-clear-btn"},vun={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},gun={class:""},bun={class:""},yun={class:"table-responsive"},kun={class:"table"},$un={class:""},wun={key:0},Dun={colspan:"12",class:"text-center"},xun={class:"text-center"},Cun={key:1},Pun={colspan:"12",class:"text-center"},Eun={class:"text-center"},Aun={key:0},Iun={key:1},Run=["href"],Sun={key:0,class:"badge bg-label-success m_title"},Tun={key:1,class:"badge bg-label-danger m_title"};function jun(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Wcn,[e("div",Kcn,[e("div",Gcn,[e("div",Qcn,[e("label",Zcn,n(o.$t("User Type")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.user_type=r)},[e("option",Jcn,n(o.$t("Select User Type")),1),e("option",Xcn,n(o.$t("Bank Users")),1),e("option",eun,n(o.$t("Company Users")),1)],512),[[de,t.user_type]])]),e("div",tun,[e("label",oun,n(o.$t("Company")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Company","onUpdate:modelValue":a[1]||(a[1]=r=>t.company=r),onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.company]])]),e("div",aun,[e("label",nun,n(o.$t("Search")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"User/Email/Mobile","onUpdate:modelValue":a[3]||(a[3]=r=>t.search=r),onKeyup:a[4]||(a[4]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.search]])]),e("div",sun,[e("label",lun,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.status=r)},[e("option",iun,n(o.$t("Status")),1),e("option",run,n(o.$t("Active")),1),e("option",dun,n(o.$t("Inactive")),1)],512),[[de,t.status]])]),e("div",cun,[e("label",uun,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",_un,n(o.$t("Sort By")),1),e("option",mun,n(o.$t("Ascending")),1),e("option",fun,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",hun,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",pun,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",vun,[e("div",gun,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",bun,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",yun,[e("table",kun,[e("thead",null,[e("tr",$un,[e("th",null,n(o.$t("User Type")),1),e("th",null,n(o.$t("Company")),1),e("th",null,n(o.$t("User")),1),e("th",null,n(o.$t("Email")),1),e("th",null,n(o.$t("Role")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Last Login")),1),e("th",null,n(o.$t("Last Login IP")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",wun,[e("td",Dun,[e("span",xun,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Cun,[e("td",Pun,[e("span",Eun,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[r.mapped_companies.length>0?(u(),f("span",Aun,n(o.$t("Company")),1)):(u(),f("span",Iun,n(o.$t("Bank")),1))]),e("td",null,[r.mapped_companies.length>0?(u(!0),f(G,{key:0},ee(r.mapped_companies,i=>(u(),f("span",{key:i.id},[e("a",{href:"../companies/"+i.id+"/details"},n(i.name+", "),9,Run)]))),128)):b("",!0)]),e("td",null,n(r.name),1),e("td",null,n(r.email),1),e("td",null,[(u(!0),f(G,null,ee(r.roles,i=>(u(),f("span",{key:i.id,class:"btn btn-xs btn-label-warning mx-1"},n(i.name),1))),128))]),e("td",null,[r.is_active?(u(),f("span",Sun,n(o.$t("Active")),1)):(u(),f("span",Tun,n(o.$t("Inactive")),1))]),e("td",null,n(r.last_login?t.moment(r.last_login).format("DD MMM YYYY"):"-"),1),e("td",null,n(r.activity&&r.activity.properties?r.activity.properties.ip:"-"),1),a[13]||(a[13]=e("td",null,null,-1))]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Oun=Ue(zcn,[["render",jun]]),Mun={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(["Auto Loan Reject Cron","Discount Charge Posting","Program Limit Expiry","Loan Overdue Remainder","Loan Repayment Remainder","Invoice Repayment",'DF: Block Company as per "Limit Overdue Date"',"DF Discount Charge Accrual","IF Discount Charge Accrual"]),p=h(50),v=async()=>{await A.get(s+o.bank+"/reports/data?type=cron-logs&per_page="+p.value).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})};ot([p],async([k])=>{i.value=$("#date_search").val(),i.value&&(_.value=H(i.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(i.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:k,name:c.value,date:m.value,from_date:_.value,to_date:l.value,sort_by:r.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})});const g=async()=>{i.value=$("#date_search").val(),i.value&&(_.value=H(i.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(i.value.split(" - ")[1]).format("YYYY-MM-DD"));let k=$(".ti-search").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:p.value,name:c.value,date:m.value,from_date:_.value,to_date:l.value,sort_by:r.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},w=async()=>{c.value="",m.value="",r.value="",_.value="",l.value="",$("#date_search").val("");let k=$(".ti-refresh").parent();k.html('<img src="../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"cron-logs",per_page:p.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{v()});const y=async k=>{i.value=$("#date_search").val(),i.value&&(_.value=H(i.value.split(" - ")[0]).format("YYYY-MM-DD"),l.value=H(i.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(k,{params:{type:"cron-logs",per_page:p.value,name:c.value,date:m.value,from_date:_.value,to_date:l.value,sort_by:r.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},x=h(!1),C=h(!1);return{moment:H,cron_name:c,date:m,sort_by:r,cron_log_types:d,per_page:p,report_data:t,filter:g,refresh:w,changePage:y,downloadReport:()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"cron-logs",name:c.value,date:m.value,from_date:_.value,to_date:l.value,sort_by:r.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`Cron_logs_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)}).finally(()=>{x.value=!1})},downloadPdf:()=>{C.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"cron-logs",name:c.value,date:m.value,from_date:_.value,to_date:l.value,sort_by:r.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`Cron_logs_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)}).finally(()=>{C.value=!1})},date_format:a,downloadingExcel:x,downloadingPdf:C}}},Lun={class:"card p-2",id:"companies"},Nun={class:"d-flex flex-column flex-md-row justify-content-between"},Fun={class:"d-flex flex-wrap gap-1"},Yun={class:""},Vun={for:"Cron Name",class:"form-label"},Bun={value:""},Uun=["value"],qun={class:""},Hun={for:"Date",class:"form-label"},zun={class:""},Wun={for:"Status",class:"form-label"},Kun={value:""},Gun={value:"ASC"},Qun={value:"DESC"},Zun={class:"table-search-btn"},Jun={class:"table-clear-btn"},Xun={class:"d-flex gap-1 justify-content-end mt-2 mt-md-auto"},e_n={class:""},t_n={class:""},o_n={class:"table-responsive"},a_n={class:"table"},n_n={class:""},s_n={key:0},l_n={colspan:"12",class:"text-center"},i_n={class:"text-center"},r_n={key:1},d_n={colspan:"12",class:"text-center"},c_n={class:"text-center"},u_n={key:0},__n={key:0};function m_n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Lun,[e("div",Nun,[e("div",Fun,[e("div",Yun,[e("label",Vun,n(o.$t("Cron Name")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.cron_name=r)},[e("option",Bun,n(o.$t("Select")),1),(u(!0),f(G,null,ee(t.cron_log_types,r=>(u(),f("option",{key:r,value:r},n(r),9,Uun))),128))],512),[[de,t.cron_name]])]),e("div",qun,[e("label",Hun,n(o.$t("Date")),1),e("input",{class:"form-control form-search",type:"text",id:"date_search",name:"cron-logs-daterange",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,32)]),e("div",zun,[e("label",Wun,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",Kun,n(o.$t("Sort By")),1),e("option",Gun,n(o.$t("Ascending")),1),e("option",Qun,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Zun,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Jun,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Xun,[e("div",e_n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",t_n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"]),e("div",o_n,[e("table",a_n,[e("thead",null,[e("tr",n_n,[e("th",null,n(o.$t("Cron Name")),1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Start Time")),1),e("th",null,n(o.$t("End Time")),1),e("th",null,n(o.$t("Time Taken")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",s_n,[e("td",l_n,[e("span",i_n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",r_n,[e("td",d_n,[e("span",c_n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name),1),e("td",null,n(t.moment(r.created_at).format(t.date_format)),1),e("td",null,n(r.status),1),e("td",null,n(t.moment(r.start_time).format(t.date_format+" HH:mm:ss")),1),e("td",null,[r.end_time?(u(),f("span",u_n,n(t.moment(r.end_time).format(t.date_format+" HH:mm:ss")),1)):b("",!0)]),e("td",null,[r.start_time&&r.end_time?(u(),f("span",__n,n(t.moment(r.start_time).diff(r.end_time,"minutes")),1)):b("",!0)])]))),128))])])]),Be(l,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const f_n=Ue(Mun,[["render",m_n]]),h_n={name:"VendorReport",props:["bank","program","type"],components:{RouterLink:el,Pagination:St},setup(o){const a=o.program,s=o.type,t=Je("baseURL"),c=lt(),m=h([]),_=h(""),l=o.bank,r=h([]),i=h(""),d=h(null),p=h(null),v=h(""),g=h(50),w=async()=>{await A.get(t+o.bank+"/reports/"+o.program+"/vendors/data?per_page="+g.value).then(B=>{m.value=B.data})},y=B=>{if(r.value.includes(B)){const L=r.value.indexOf(B);r.value.splice(L,1)}else r.value.push(B)},x=()=>{document.getElementById("select-all").checked?m.value.data.forEach(B=>{document.getElementById("company-"+B.id).checked=!0,r.value.push(B.id)}):m.value.data.forEach(B=>{if(document.getElementById("company-"+B.id).checked==!0){document.getElementById("company-"+B.id).checked=!1;let L;if(!r.value.filter(function(T,P){L=P,T==B.id}))return!1;r.value.splice(L,1)}})},C=B=>{let L="";switch(B){case"active":L="bg-label-success";break;case"inactive":L="bg-label-danger";break;default:L="bg-label-primary";break}return L};ot([v,g],([B,L])=>{A.get(t+o.bank+"/reports/"+o.program+"/vendors/data",{params:{per_page:L,name:B}}).then(F=>{m.value=F.data})}),ot(i,B=>{r.value.length>0?(B=="inactive"&&d.value.click(),B=="active"&&p.value.click()):c.error("Select Companies")});const E=B=>{if(r.value.length<=0){c.error("Select companies");return}const L=new FormData;B=="inactive"&&(r.value.forEach(F=>{L.append("companies[]",F)}),L.append("status","inactive")),B=="active"&&(r.value.forEach(F=>{L.append("companies[]",F)}),L.append("status","active")),A.post(t+o.bank+"/programs/"+o.program+"/mapping/update",L).then(()=>{w(),i.value="",document.getElementById("select-all").checked=!1,B=="inactive"?document.getElementById("close-deactivate-modal").click():document.getElementById("close-activate-modal").click(),r.value.forEach(F=>{document.getElementById("company-"+F).checked=!1}),c.success("Mapping status updated")}).catch(F=>{console.log(F),c.error("An error occurred")})},D=B=>{A.get(t+o.bank+"/programs/"+o.program+"/"+B+"/mapping/update").then(()=>{w(),c.success("Mapping status updated")}).catch(L=>{console.log(L)})},k=(B,L)=>{A.post(`companies/${B}/status/update`,{status:L,rejection_reason:_.value}).then(()=>{w(),c.success("Company status updated"),setTimeout(()=>{window.location.reload()},3e3)}).catch(F=>{console.log(F)})},I=B=>{let L=[];return B.forEach(F=>{L.push(F.name)}),!!(L.length>0&&L.includes("anchor"))};return Qe(()=>{w()}),{base_url:t,bank:l,companies:m,moment:H,rejection_reason:_,program_id:a,vendors_type:s,name_search:v,per_page:g,bulk_action:i,showRejectionModal:d,showApprovalModal:p,selectAll:x,updateSelected:y,resolveStatus:C,updateActiveStatus:D,submitBulkAction:E,updateApprovalStatus:k,changePage:async B=>{await A.get(B+"&per_page="+g.value,{params:{name:v.value}}).then(L=>{m.value=L.data})},hasAnchorRole:I}}},p_n={class:"card p-2",id:"companies"},v_n={class:"d-flex flex-column flex-md-row justify-content-between"},g_n={class:"w-75 row"},b_n={class:"col-3"},y_n={class:"col-3"},k_n={value:""},$_n={value:"active"},w_n={value:"inactive"},D_n={class:"d-none",ref:"showApprovalModal","data-bs-toggle":"modal","data-bs-target":"#bulk-approval-modal"},x_n={class:"modal fade",id:"bulk-approval-modal",tabindex:"-1","aria-hidden":"true"},C_n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},P_n={class:"modal-content"},E_n={class:"modal-header"},A_n={class:"modal-title",id:"modalCenterTitle"},I_n={class:"modal-body"},R_n={class:"modal-footer"},S_n={class:"btn btn-primary",type:"submit"},T_n={class:"d-none",ref:"showRejectionModal","data-bs-toggle":"modal","data-bs-target":"#bulk-rejection-modal"},j_n={class:"modal fade",id:"bulk-rejection-modal",tabindex:"-1","aria-hidden":"true"},O_n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},M_n={class:"modal-content"},L_n={class:"modal-header"},N_n={class:"modal-title",id:"modalCenterTitle"},F_n={class:"modal-body"},Y_n={class:"modal-footer"},V_n={class:"btn btn-primary",type:"submit"},B_n={class:"d-flex justify-content-md-end mt-2 mt-md-auto gap-1"},U_n={class:""},q_n={class:"table-responsive"},H_n={class:"table"},z_n={class:""},W_n={class:"table-border-bottom-0"},K_n={class:"text-primary text-decoration-underline"},G_n=["href"],Q_n={key:1},Z_n={key:2,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Pending Company Changes awating approval"},J_n=["title"],X_n={class:""},emn={class:""},tmn={class:""},omn={class:""},amn={class:""},nmn={class:"d-flex"},smn=["data-bs-target"],lmn=["id"],imn={class:"modal-dialog"},rmn={class:"modal-content"},dmn={class:"modal-header"},cmn={class:"modal-title",id:"modalTopTitle"},umn={class:"modal-body"},_mn={class:"row"},mmn={class:"col-sm-4 text-align-center d-flex justify-content-between"},fmn={class:"mr-2 fw-light"},hmn={class:"px-2 text-right"},pmn={class:"col-sm-4 text-align-center d-flex justify-content-between"},vmn={class:"mr-2 fw-light"},gmn={class:"px-2 text-right"},bmn={class:"col-sm-4 text-align-center d-flex justify-content-between"},ymn={class:"mr-2 fw-light"},kmn={class:"px-2 text-right"},$mn={class:"col-sm-4 text-align-center d-flex justify-content-between"},wmn={class:"mr-2 fw-light"},Dmn={class:"px-2 text-right"},xmn={class:"col-sm-4 text-align-center d-flex justify-content-between"},Cmn={class:"mr-2 fw-light"},Pmn={class:"px-2 text-right"},Emn={class:"col-sm-4 text-align-center d-flex justify-content-between"},Amn={class:"mr-2 fw-light"},Imn={class:"px-2 text-right"},Rmn={class:"col-sm-4 text-align-center d-flex justify-content-between"},Smn={class:"mr-2 fw-light"},Tmn={class:"px-2 text-right"},jmn={class:""},Omn={class:""},Mmn={class:"table-responsive"},Lmn={class:"table"},Nmn={key:0},Fmn={key:1},Ymn={class:"table-border-bottom-0 text-nowrap"},Vmn={key:0},Bmn={key:1},Umn={class:"py-1r"},qmn={class:""},Hmn={class:"table-responsive"},zmn={class:"table"},Wmn={key:0},Kmn={key:1},Gmn={key:2},Qmn={class:"table-border-bottom-0 text-nowrap"},Zmn={class:"m_title"},Jmn={key:0},Xmn={key:1},efn={key:2},tfn={class:"py-1r"},ofn={class:""},afn={class:"table-responsive"},nfn={class:"table"},sfn={class:"table-border-bottom-0 text-nowrap"};function lfn(o,a,s,t,c,m){const _=ce("pagination");return u(),f("div",p_n,[e("div",v_n,[e("div",g_n,[e("div",b_n,[Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=l=>t.name_search=l),id:"defaultFormControlInput",placeholder:"Company Name","aria-describedby":"defaultFormControlHelp"},null,512),[[X,t.name_search]])]),e("div",y_n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[1]||(a[1]=l=>t.bulk_action=l)},[e("option",k_n,n(o.$t("Bulk Actions")),1),e("option",$_n,n(o.$t("Activate")),1),e("option",w_n,n(o.$t("Deactivate")),1)],512),[[de,t.bulk_action]])]),e("button",D_n,null,512),e("div",x_n,[e("div",C_n,[e("div",P_n,[e("div",E_n,[e("h5",A_n,n(o.$t("Update Statuses to Active")),1),a[5]||(a[5]=e("button",{type:"button",class:"btn-close",id:"close-activate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[2]||(a[2]=st(l=>t.submitBulkAction("active"),["prevent"]))},[e("div",I_n,[e("h4",null,n(o.$t("Are you sure you want to activate these companies in the program"))+"?",1)]),e("div",R_n,[e("button",S_n,n(o.$t("Confirm")),1)])],32)])])]),e("button",T_n,null,512),e("div",j_n,[e("div",O_n,[e("div",M_n,[e("div",L_n,[e("h5",N_n,n(o.$t("Update Statuses to Inactive")),1),a[6]||(a[6]=e("button",{type:"button",class:"btn-close",id:"close-deactivate-modal","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("form",{method:"post",onSubmit:a[3]||(a[3]=st(l=>t.submitBulkAction("inactive"),["prevent"]))},[e("div",F_n,[e("h4",null,n(o.$t("Are you sure you want to deactivate these companies in the program"))+"?",1)]),e("div",Y_n,[e("button",V_n,n(o.$t("Confirm")),1)])],32)])])])]),e("div",B_n,[e("div",U_n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=l=>t.per_page=l),style:{height:"fit-content"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])])])]),e("div",q_n,[e("table",H_n,[e("thead",null,[e("tr",z_n,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Payment/OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Utilized Amount")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",W_n,[(u(!0),f(G,null,ee(t.companies.data,l=>(u(),f("tr",{class:"text-nowrap",key:l.id},[e("td",K_n,[l.can_view?(u(),f("a",{key:0,href:"../../companies/"+l.id+"/details"},n(l.name),9,G_n)):(u(),f("span",Q_n,n(l.name),1)),l.proposed_update_count>0?(u(),f("i",Z_n)):b("",!0),l.utilized_percentage_ratio>90?(u(),f("i",{key:3,class:"tf-icons ti ti-info-circle ti-xs text-danger",title:"Program Limit is almost depleted. "+l.utilized_percentage_ratio+"% utilized"},null,8,J_n)):b("",!0)]),e("td",X_n,n(l.vendor_configuration.payment_account_number),1),e("td",emn,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1),e("td",tmn,n(new Intl.NumberFormat().format(l.utilized_amount)),1),e("td",omn,n(new Intl.NumberFormat().format(l.pipeline_amount)),1),e("td",amn,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit-l.utilized_amount)),1),e("td",null,[e("span",{class:rt("m_title badge "+t.resolveStatus(l.vendor_configuration.status))},n(l.vendor_configuration.status),3)]),e("td",nmn,[e("span",{"data-bs-toggle":"modal","data-bs-target":"#vendor-mapping-details-"+l.id},a[8]||(a[8]=[e("i",{class:"ti ti-eye ti-sm text-primary",style:{cursor:"pointer"},title:"View Mapping Details"},null,-1)]),8,smn),e("div",{class:"modal modal-top fade modal-xl",id:"vendor-mapping-details-"+l.id,tabindex:"-1"},[e("div",imn,[e("div",rmn,[e("div",dmn,[e("h5",cmn,n(l.name)+" "+n(o.$t("Mapping details")),1),a[9]||(a[9]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",umn,[e("div",_mn,[e("div",mmn,[e("h6",fmn,n(o.$t("Sanctioned Limit"))+":",1),e("h5",hmn,n(new Intl.NumberFormat().format(l.vendor_configuration.sanctioned_limit)),1)]),e("div",pmn,[e("h6",vmn,n(o.$t("Eligibility"))+":",1),e("h5",gmn,n(l.vendor_configuration.eligibility)+"%",1)]),e("div",bmn,[e("h6",ymn,n(o.$t("Payment Account"))+":",1),e("h5",kmn,n(l.vendor_configuration.payment_account_number),1)]),e("div",$mn,[e("h6",wmn,n(o.$t("Limit Approval Date"))+":",1),e("h5",Dmn,n(t.moment(l.vendor_configuration.limit_approved_date).format("Do MMM YYYY")),1)]),e("div",xmn,[e("h6",Cmn,n(o.$t("Limit Expiry Date"))+":",1),e("h5",Pmn,n(t.moment(l.vendor_configuration.limit_expiry_date).format("Do MMM YYYY")),1)]),e("div",Emn,[e("h6",Amn,n(o.$t("Limit Review Date"))+":",1),e("h5",Imn,n(t.moment(l.vendor_configuration.limit_review_date).format("Do MMM YYYY")),1)]),e("div",Rmn,[e("h6",Smn,n(o.$t("Request Auto Finance"))+":",1),e("h5",Tmn,n(l.vendor_configuration.request_auto_finance?"Yes":"No"),1)])]),a[10]||(a[10]=e("hr",null,null,-1)),e("div",jmn,[e("h5",null,n(o.$t("Discounts")),1)]),e("div",Omn,[e("div",Mmn,[e("table",Lmn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Benchmark Rate")),1),e("th",null,n(o.$t("Business Strategy Spread")),1),e("th",null,n(o.$t("Credit Spread")),1),e("th",null,n(o.$t("Total Spread")),1),e("th",null,n(o.$t("Total ROI")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",Nmn,n(o.$t("Anchor Discount Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",Fmn,n(o.$t("Vendor Discount Bearing")),1)):b("",!0)])]),e("tbody",Ymn,[(u(!0),f(G,null,ee(l.vendor_discount_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.benchmark_rate)+"%",1),e("td",null,n(r.business_strategy_spread)+"%",1),e("td",null,n(r.credit_spread)+"%",1),e("td",null,n(r.total_spread)+"%",1),e("td",null,n(r.total_roi)+"%",1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",Vmn,n(r.vendor_discount_bearing)+"% ",1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",Bmn,n(r.anchor_discount_bearing)+"% ",1)):b("",!0)]))),128))])])])]),a[11]||(a[11]=e("hr",null,null,-1)),e("div",Umn,[e("h5",null,n(o.$t("Fees")),1)]),e("div",qmn,[e("div",Hmn,[e("table",zmn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Type")),1),e("th",null,n(o.$t("Value")),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",Wmn,n(o.$t("Vendor Bearing")),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("th",Kmn,n(o.$t("Anchor Bearing")),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("th",Gmn,n(o.$t("Dealer Bearing")),1)):b("",!0)])]),e("tbody",Qmn,[(u(!0),f(G,null,ee(l.vendor_fee_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.fee_name),1),e("td",Zmn,n(r.type),1),e("td",null,n(r.value),1),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",Jmn,n(r.vendor_bearing_discount),1)):b("",!0),t.vendors_type=="vendors"||t.vendors_type=="buyers"?(u(),f("td",Xmn,n(r.anchor_bearing_discount),1)):b("",!0),t.vendors_type=="dealers"?(u(),f("td",efn,n(r.dealer_bearing),1)):b("",!0)]))),128))])])])]),a[12]||(a[12]=e("hr",null,null,-1)),e("div",tfn,[e("h5",null,n(o.$t("Bank Accounts Details")),1)]),e("div",ofn,[e("div",afn,[e("table",nfn,[e("thead",null,[e("tr",null,[e("th",null,n(o.$t("Name")),1),e("th",null,n(o.$t("Bank")),1),e("th",null,n(o.$t("Swift Code")),1),e("th",null,n(o.$t("Branch")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Account Type")),1)])]),e("tbody",sfn,[(u(!0),f(G,null,ee(l.vendor_bank_details,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.name_as_per_bank),1),e("td",null,n(r.bank_name),1),e("td",null,n(r.swift_code),1),e("td",null,n(r.branch),1),e("td",null,n(r.account_number),1),e("td",null,n(r.account_type),1)]))),128))])])])])])])])],8,lmn)])]))),128))])])]),Be(_,{from:t.companies.from,to:t.companies.to,links:t.companies.links,next_page:t.companies.next_page_url,prev_page:t.companies.prev_page_url,total_items:t.companies.total,first_page_url:t.companies.first_page_url,last_page_url:t.companies.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const ifn=Ue(h_n,[["render",lfn]]),rfn={name:"Programs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h("");h("");const _=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"dealer-financing-programs-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{r()});const i=E=>{switch(E){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},d=E=>parseFloat(E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),p=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},v=async()=>{t.value="",c.value="",m.value="",_.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"dealer-financing-programs-report",per_page:l.value}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})},g=h(!1),w=h(!1);return{moment:H,programs:s,program_name_search:t,anchor_search:c,status_search:m,sort_by:_,per_page:l,filter:p,refresh:v,resolveProgramStatus:i,NumFormatter:d,changePage:async E=>{await A.get(E,{params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(D=>{s.value=D.data})},downloadReport:()=>{g.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`DF_programs_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},downloadPdf:()=>{w.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"dealer-financing-programs-report",sort_by:_.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`Dealer_financing_programs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{w.value=!1})},downloadingExcel:g,downloadingPdf:w}}},dfn={class:"card p-2"},cfn={class:"d-flex flex-column flex-md-row justify-content-between"},ufn={class:"d-flex flex-wrap gap-1"},_fn={class:""},mfn={for:"Program",class:"form-label"},ffn={class:""},hfn={for:"Anchor",class:"form-label"},pfn={class:""},vfn={for:"",class:"form-label"},gfn={value:""},bfn={value:"pending"},yfn={value:"active"},kfn={value:"suspended"},$fn={class:""},wfn={for:"Status",class:"form-label"},Dfn={value:""},xfn={value:"ASC"},Cfn={value:"DESC"},Pfn={class:"table-search-btn"},Efn={class:"table-clear-btn"},Afn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Ifn={class:""},Rfn={class:"table-responsive"},Sfn={class:"table"},Tfn={class:""},jfn={class:"table-border-bottom-0"},Ofn={key:0},Mfn={colspan:"12",class:"text-center"},Lfn={class:"text-center"},Nfn={key:1},Ffn={colspan:"12",class:"text-center"},Yfn={class:"text-center"},Vfn=["href"],Bfn={class:"text-primary text-decoration-underline"},Ufn=["href"],qfn={class:"text-success"},Hfn={class:"text-success"},zfn={class:"text-success"};function Wfn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",dfn,[e("div",cfn,[e("div",ufn,[e("div",_fn,[e("label",mfn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name_search=r),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_name_search]])]),e("div",ffn,[e("label",hfn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",pfn,[e("label",vfn,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=r=>t.status_search=r)},[e("option",gfn,n(o.$t("Status")),1),e("option",bfn,n(o.$t("Pending")),1),e("option",yfn,n(o.$t("Active")),1),e("option",kfn,n(o.$t("Suspended")),1)],512),[[de,t.status_search]])]),e("div",$fn,[e("label",wfn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",Dfn,n(o.$t("Sort By")),1),e("option",xfn,n(o.$t("Ascending")),1),e("option",Cfn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Pfn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Efn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Afn,[e("div",Ifn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",Rfn,[e("table",Sfn,[e("thead",null,[e("tr",Tfn,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Tenor & Rates")),1),e("th",null,n(o.$t("Base Rate Consideration")),1),e("th",null,n(o.$t("Total Mapped Dealers")),1)])]),e("tbody",jfn,[t.programs.data?b("",!0):(u(),f("tr",Ofn,[e("td",Mfn,[e("span",Lfn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Nfn,[e("td",Ffn,[e("span",Yfn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"programs/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,Vfn)]),e("td",Bfn,[e("a",{href:"companies/"+r.anchor.id+"/details"},n(r.anchor.name),9,Ufn)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(r.account_status)])},n(r.account_status),3)]),e("td",qfn,n(r.bank.default_currency)+" "+n(t.NumFormatter(r.program_limit)),1),e("td",Hfn,n(r.bank.default_currency)+" "+n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",zfn,n(r.bank.default_currency)+" "+n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",null,[(u(!0),f(G,null,ee(r.dealer_discount_rates,i=>(u(),f("span",{key:i.id,class:"mx-1"},n(i.from_day)+" - "+n(i.to_day)+" : "+n(i.total_roi)+", ",1))),128))]),e("td",null,n(r.discount_details[0].benchmark_rate)+"%",1),e("td",null,n(r.dealers_count),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Kfn=Ue(rfn,[["render",Wfn]]),Gfn={name:"AnchorwiseDealerReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]);h("");const c=h("");h(""),h("");const m=h(""),_=h(50),l=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})};Qe(()=>{l()});const r=C=>{switch(C){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},i=C=>parseFloat(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),d=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-anchorwise-dealer-report",per_page:_.value,anchor:c.value,sort_by:m.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},p=async()=>{c.value="",m.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-anchorwise-dealer-report",per_page:_.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},v=h(!1),g=h(!1);return{moment:H,programs:t,anchor_search:c,per_page:_,filter:d,refresh:p,resolveProgramStatus:r,NumFormatter:i,changePage:async C=>{await A.get(C,{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(E=>{t.value=E.data})},downloadReport:()=>{v.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:c.value,type:"df-anchorwise-dealer-report"}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`DF_anchorwise_dealer_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},downloadPdf:()=>{g.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:c.value,type:"df-anchorwise-dealer-report"}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`DF_anchorwise_dealer_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{g.value=!1})},date_format:a,downloadingExcel:v,downloadingPdf:g}}},Qfn={class:"card p-2"},Zfn={class:"d-flex flex-column flex-md-row justify-content-between"},Jfn={class:"d-flex flex-wrap gap-1"},Xfn={class:""},ehn={for:"Anchor",class:"form-label"},thn={class:""},ohn={for:"Status",class:"form-label"},ahn={value:""},nhn={value:"ASC"},shn={value:"DESC"},lhn={class:"table-search-btn"},ihn={class:"table-clear-btn"},rhn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},dhn={style:{height:"fit-content"},class:"mx-1"},chn={class:"table-responsive"},uhn={class:"table"},_hn={class:""},mhn={class:"text-center"},fhn={class:"text-center"},hhn={class:"text-center"},phn={class:"text-center"},vhn={class:"text-center"},ghn={class:"table-border-bottom-0"},bhn={key:0},yhn={colspan:"12",class:"text-center"},khn={class:"text-center"},$hn={key:1},whn={colspan:"12",class:"text-center"},Dhn={class:"text-center"},xhn=["href"],Chn={class:"text-center"},Phn={class:"text-center"},Ehn={class:"text-center"},Ahn={class:"text-center"},Ihn={class:"text-center"},Rhn=["href"];function Shn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Qfn,[e("div",Zfn,[e("div",Jfn,[e("div",Xfn,[e("label",ehn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",thn,[e("label",ohn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>o.sort_by=r)},[e("option",ahn,n(o.$t("Sort By")),1),e("option",nhn,n(o.$t("Ascending")),1),e("option",shn,n(o.$t("Descending")),1)],512),[[de,o.sort_by]])]),e("div",lhn,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ihn,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",rhn,[e("div",dhn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r)},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",chn,[e("table",uhn,[e("thead",null,[e("tr",_hn,[e("th",null,n(o.$t("Anchor"))+" ("+n(o.$t("Program"))+")",1),e("th",mhn,n(o.$t("Total Dealers")),1),e("th",fhn,n(o.$t("Active Dealers")),1),e("th",hhn,n(o.$t("Passive Dealers")),1),e("th",phn,n(o.$t("Percentage of Active Dealers")),1),e("th",vhn,n(o.$t("Actions")),1)])]),e("tbody",ghn,[t.programs.data?b("",!0):(u(),f("tr",bhn,[e("td",yhn,[e("span",khn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",$hn,[e("td",whn,[e("span",Dhn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.anchor.name),9,xhn),le(" ("+n(r.name)+") ",1)]),e("td",Chn,n(r.dealers),1),e("td",Phn,n(r.active_dealers),1),e("td",Ehn,n(r.passive_dealers),1),e("td",Ahn,n(r.active_dealers_percent.toFixed(2)),1),e("td",Ihn,[e("a",{href:"../reports/"+r.id+"/vendors",class:"badge bg-label-danger rounded-pill p-1",title:"Manage Dealers"},a[9]||(a[9]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,Rhn)])]))),128))])])]),Be(l,{class:"mx-2",from:t.programs.from,to:t.programs.to,links:t.programs.links,next_page:t.programs.next_page_url,prev_page:t.programs.prev_page_url,total_items:t.programs.total,first_page_url:t.programs.first_page_url,last_page_url:t.programs.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const Thn=Ue(Gfn,[["render",Shn]]),jhn={name:"CashCollateralReport",props:["bank"],components:{Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h("");h("");const _=h(50);Qe(()=>{});const l=d=>{switch(d){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},r=d=>parseFloat(d).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});return ot([t,c,m,_],async([d,p,v,g])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:g,anchor:p,type:"df-anchorwise-dealer-report"}}).then(w=>{s.value=w.data}).catch(w=>{console.log(w)})}),{moment:H,programs:s,anchor_search:c,per_page:_,resolveProgramStatus:l,NumFormatter:r,changePage:async d=>{await A.get(d,{params:{per_page:_.value,type:"df-anchorwise-dealer-report"}}).then(p=>{s.value=p.data})}}}},Ohn={class:"card p-2"},Mhn={class:"d-flex justify-content-between"},Lhn={class:"d-flex flex-wrap gap-1"},Nhn={class:""},Fhn={class:"mx-1"},Yhn={class:"mx-1"},Vhn={class:"mx-1 table-search-btn"},Bhn={class:"mx-1 table-clear-btn"},Uhn={class:"d-flex flex-wrap justify-content-end gap-1"};function qhn(o,a,s,t,c,m){return u(),f("div",Ohn,[e("div",Mhn,[e("div",Lhn,[e("div",Nhn,[a[7]||(a[7]=e("label",{for:"Payment/OD Account",class:"form-label"},"Payment/OD Account",-1)),e("input",{type:"text",class:"form-control form-search",placeholder:"Payment/OD Account No.",onKeyup:a[0]||(a[0]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,32)]),e("div",Fhn,[a[8]||(a[8]=e("label",{for:"Anchor",class:"form-label"},"Anchor",-1)),Y(e("input",{type:"text",class:"form-control form-search","onUpdate:modelValue":a[1]||(a[1]=_=>t.anchor_search=_),placeholder:"Anchor",onKeyup:a[2]||(a[2]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Yhn,[a[9]||(a[9]=e("label",{for:"OD Transaction Date",class:"form-label"},"Transactions date",-1)),e("input",{type:"date",class:"form-control form-search",placeholder:"OD Transaction Date",id:"html5-date-input",onKeyup:a[3]||(a[3]=Ee((..._)=>o.filter&&o.filter(..._),["enter"]))},null,32)]),e("div",Vhn,[e("button",{class:"btn btn-primary btn-sm",onClick:a[4]||(a[4]=(..._)=>o.filter&&o.filter(..._))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Bhn,[e("button",{class:"btn btn-primary btn-sm",onClick:a[5]||(a[5]=(..._)=>o.refresh&&o.refresh(..._))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Uhn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=_=>t.per_page=_)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),a[13]||(a[13]=e("button",{type:"button",class:"btn btn-primary py-2"},[e("i",{class:"ti ti-download ti-sm"})],-1))])]),a[14]||(a[14]=ga('<div class="table-responsive"><table class="table"><thead><tr class=""><th>Payment / OD Account No.</th><th>Anchor</th><th>Dealer</th><th>Cash Collateral</th><th>Debit</th><th>Credit</th><th>Balance</th><th>OD Transaction Date</th><th>OD Expiry</th></tr></thead><tbody class="table-border-bottom-0"></tbody></table></div>',1))])}const Hhn=Ue(jhn,[["render",qhn]]),zhn={name:"DfDealerClassificationReport",props:["bank"],components:{Pagination:St},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"df-dealer-classification-report"}}).then(x=>{s.value=x.data}).catch(x=>{console.log(x)})};Qe(()=>{r()});const i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"df-dealer-classification-report",per_page:l.value,dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},d=async()=>{t.value="",c.value="",_.value="",m.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-dealer-classification-report",per_page:l.value}}).then(x=>{report_data.value=x.data}).catch(x=>{console.log(x)})},p=h(!1),v=h(!1);return{moment:H,dealers:s,dealer_search:t,unique_id:c,branch_code:_,rm:m,per_page:l,refresh:d,filter:i,changePage:async x=>{await A.get(x,{params:{per_page:l.value,type:"df-dealer-classification-report"}}).then(C=>{s.value=C.data})},downloadReport:()=>{p.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"df-dealer-classification-report"}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{p.value=!1})},downloadPdf:()=>{v.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{dealer:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"df-dealer-classification-report"}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},downloadingExcel:p,downloadingPdf:v}}},Whn={class:"card p-2"},Khn={class:"d-flex flex-column flex-md-row justify-content-between"},Ghn={class:"d-flex flex-wrap gap-1"},Qhn={class:""},Zhn={for:"Dealer",class:"form-label"},Jhn={class:""},Xhn={for:"RM",class:"form-label"},epn={class:""},tpn={for:"Unique Identification Number",class:"form-label"},opn={class:""},apn={for:"Branch Code",class:"form-label"},npn={class:"table-search-btn"},spn={class:"table-clear-btn"},lpn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},ipn={class:"table-responsive"},rpn={class:"table"},dpn={class:""},cpn={class:"table-border-bottom-0"},upn={key:0},_pn={colspan:"12",class:"text-center"},mpn={class:"text-center"},fpn={key:1},hpn={colspan:"12",class:"text-center"},ppn={class:"text-center"},vpn=["href"],gpn={class:"text-success"},bpn={class:"text-success"};function ypn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Whn,[e("div",Khn,[e("div",Ghn,[e("div",Qhn,[e("label",Zhn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.dealer_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer_search]])]),e("div",Jhn,[e("label",Xhn,n(o.$t("RM")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"RM","onUpdate:modelValue":a[2]||(a[2]=r=>t.rm=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.rm]])]),e("div",epn,[e("label",tpn,n(o.$t("Unique ID Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Unique Identification No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.unique_id=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.unique_id]])]),e("div",opn,[e("label",apn,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Branch Code","onUpdate:modelValue":a[6]||(a[6]=r=>t.branch_code=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.branch_code]])]),e("div",npn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",spn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",lpn,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",ipn,[e("table",rpn,[e("thead",null,[e("tr",dpn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Limit Utilized")),1),e("th",null,n(o.$t("DPD Days")),1),e("th",null,n(o.$t("RM")),1)])]),e("tbody",cpn,[t.dealers.data?b("",!0):(u(),f("tr",upn,[e("td",_pn,[e("span",mpn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",fpn,[e("td",hpn,[e("span",ppn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,vpn)]),e("td",null,n(r.branch_code),1),e("td",gpn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format("DD MMM YYYY")),1),e("td",bpn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.utilized_limit)),1),e("td",null,n(r.dpd_days),1),e("td",null,n(r.relationship_managers.length>0?r.relationship_managers[0].name:""),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const kpn=Ue(zhn,[["render",ypn]]),$pn={name:"DfDealerClassificationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"df-program-mapping-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})};Qe(()=>{g()}),ot([v],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:I,anchor:m.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,type:"df-program-mapping-report"}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})});const w=async()=>{let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},y=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"df-program-mapping-report"}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},x=h(!1),C=h(!1);return{moment:H,dealers:t,anchor_search:m,program_name_search:c,dealer_search:_,sort_by:l,od_expiry_date_from:r,od_expiry_date_to:i,limit_expiry_date_from:d,limit_expiry_date_to:p,per_page:v,filter:w,refresh:y,changePage:async I=>{await A.get(I,{params:{per_page:v.value,anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(V=>{t.value=V.data})},downloadReport:()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`DF_program_mapping_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{x.value=!1})},downloadPdf:()=>{C.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,program_name:c.value,dealer:_.value,type:"df-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{C.value=!1})},date_format:a,downloadingExcel:x,downloadingPdf:C}}},wpn={class:"card p-2"},Dpn={class:"d-flex flex-column flex-md-row justify-content-between"},xpn={class:"d-flex flex-wrap gap-1"},Cpn={class:""},Ppn={for:"Dealer",class:"form-label"},Epn={class:""},Apn={for:"Anchor",class:"form-label"},Ipn={class:""},Rpn={for:"Program",class:"form-label"},Spn={class:""},Tpn={for:"Invoice Ref",class:"form-label"},jpn={class:""},Opn={for:"Invoice Ref",class:"form-label"},Mpn={class:""},Lpn={for:"Invoice Ref",class:"form-label"},Npn={class:""},Fpn={for:"Invoice Ref",class:"form-label"},Ypn={class:""},Vpn={for:"Status",class:"form-label"},Bpn={value:""},Upn={value:"ASC"},qpn={value:"DESC"},Hpn={class:"table-search-btn"},zpn={class:"table-clear-btn"},Wpn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Kpn={class:"table-responsive"},Gpn={class:"table"},Qpn={class:""},Zpn={class:"text-nowrap"},Jpn={key:0},Xpn={colspan:"12",class:"text-center"},evn={class:"text-center"},tvn={key:1},ovn={colspan:"12",class:"text-center"},avn={class:"text-center"},nvn=["href"],svn=["href"],lvn=["href"],ivn={class:"text-success"};function rvn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",wpn,[e("div",Dpn,[e("div",xpn,[e("div",Cpn,[e("label",Ppn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.dealer_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer_search]])]),e("div",Epn,[e("label",Apn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Ipn,[e("label",Rpn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program","onUpdate:modelValue":a[4]||(a[4]=r=>t.program_name_search=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_name_search]])]),e("div",Spn,[e("label",Tpn,n(o.$t("From"))+" ("+n(o.$t("OD Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.od_expiry_date_from=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_expiry_date_from]])]),e("div",jpn,[e("label",Opn,n(o.$t("To"))+" ("+n(o.$t("OD Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.od_expiry_date_to=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_expiry_date_to]])]),e("div",Mpn,[e("label",Lpn,n(o.$t("From"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[10]||(a[10]=r=>t.limit_expiry_date_from=r),onKeyup:a[11]||(a[11]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.limit_expiry_date_from]])]),e("div",Npn,[e("label",Fpn,n(o.$t("To"))+" ("+n(o.$t("Limit Expiry Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[12]||(a[12]=r=>t.limit_expiry_date_to=r),onKeyup:a[13]||(a[13]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.limit_expiry_date_to]])]),e("div",Ypn,[e("label",Vpn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[14]||(a[14]=r=>t.sort_by=r)},[e("option",Bpn,n(o.$t("Sort By")),1),e("option",Upn,n(o.$t("Ascending")),1),e("option",qpn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Hpn,[e("button",{class:"btn btn-primary btn-md",onClick:a[15]||(a[15]=(...r)=>t.filter&&t.filter(...r))},a[18]||(a[18]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zpn,[e("button",{class:"btn btn-primary btn-md",onClick:a[16]||(a[16]=(...r)=>t.refresh&&t.refresh(...r))},a[19]||(a[19]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Wpn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[17]||(a[17]=r=>t.per_page=r),style:{width:"5rem",height:"fit-content"}},a[20]||(a[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",Kpn,[e("table",Gpn,[e("thead",null,[e("tr",Qpn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Program")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("OD Expiry Date")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Tenor & Rates"))+" (%)",1),e("th",null,n(o.$t("Base Rate Consideration")),1)])]),e("tbody",Zpn,[t.dealers.data?b("",!0):(u(),f("tr",Jpn,[e("td",Xpn,[e("span",evn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",tvn,[e("td",ovn,[e("span",avn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company.id+"/details",class:"text-primary text-decoration-underline"},n(r.company.name),9,nvn)]),e("td",null,[e("a",{href:"../programs/"+r.program.id+"/details",class:"text-primary text-decoration-underline"},n(r.program.name),9,svn)]),e("td",null,[e("a",{href:"../companies/"+r.program.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.program.anchor.name),9,lvn)]),e("td",null,n(r.payment_account_number),1),e("td",ivn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format(t.date_format)),1),e("td",null,n(t.moment(r.program.limit_expiry_date).format(t.date_format)),1),e("td",null,n(r.discount[0].from_day)+" - "+n(r.discount[0].to_day)+" Days = "+n(r.discount[0].total_roi),1),e("td",null,n(r.discount[0].benchmark_title!=null?r.discount[0].benchmark_title+" ("+r.discount[0].benchmark_rate+"%)":""),1),a[21]||(a[21]=e("td",null,null,-1))]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const dvn=Ue($pn,[["render",rvn]]),cvn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-od-ledger-report"}}).then(D=>{t.value=D.data}).catch(D=>{console.log(D)})},v=async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-od-ledger-report",per_page:d.value,od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-search"></i>')})},g=async()=>{let D=$(".ti-refresh").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",i.value="",r.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-od-ledger-report",per_page:d.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{p()});const w=async D=>{await A.get(D,{params:{type:"df-od-ledger-report",per_page:d.value,sort_by:i.value}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})},y=h(!1),x=h(!1);return{moment:H,od_account:c,dealer:m,invoice_number:_,date:l,overdue_date:r,sort_by:i,per_page:d,report_data:t,filter:v,refresh:g,changePage:w,downloadPdf:()=>{x.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-od-ledger-report",od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`DF_od_ledger_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)}).finally(()=>{x.value=!1})},downloadReport:()=>{y.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-od-ledger-report",od_account:c.value,dealer:m.value,invoice_number:_.value,date:l.value,overdue_date:r.value,sort_by:i.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`DF_OD_ledger_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)}).finally(()=>{y.value=!1})},date_format:a}}},uvn={class:"card p-2",id:"companies"},_vn={class:"d-flex flex-column flex-md-row justify-content-between"},mvn={class:"d-flex flex-wrap gap-1"},fvn={class:""},hvn={for:"OD Account",class:"form-label"},pvn={class:""},vvn={for:"Dealer",class:"form-label"},gvn={class:""},bvn={for:"Invoice Ref",class:"form-label"},yvn={class:""},kvn={for:"Date",class:"form-label"},$vn={class:""},wvn={for:"Overdue Date",class:"form-label"},Dvn={class:""},xvn={for:"Status",class:"form-label"},Cvn={value:""},Pvn={value:"ASC"},Evn={value:"DESC"},Avn={class:"table-search-btn"},Ivn={class:"table-clear-btn"},Rvn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Svn={class:""},Tvn={class:""},jvn={class:"table-responsive"},Ovn={class:"table"},Mvn={class:""},Lvn={key:0},Nvn={colspan:"12",class:"text-center"},Fvn={class:"text-center"},Yvn={key:1},Vvn={colspan:"12",class:"text-center"},Bvn={class:"text-center"},Uvn={class:""},qvn={class:""},Hvn={class:"text-success"},zvn={class:"text-success"},Wvn={class:"text-success"};function Kvn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",uvn,[e("div",_vn,[e("div",mvn,[e("div",fvn,[e("label",hvn,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_account]])]),e("div",pvn,[e("label",vvn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer]])]),e("div",gvn,[e("label",bvn,n(o.$t("Invoice Ref No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice / Unique Ref No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.invoice_number=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",yvn,[e("label",kvn,n(o.$t("Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[6]||(a[6]=r=>t.date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.date]])]),e("div",$vn,[e("label",wvn,n(o.$t("Overdue Date")),1),Y(e("input",{class:"form-control form-search",type:"date",id:"html5-date-input","onUpdate:modelValue":a[8]||(a[8]=r=>t.overdue_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.overdue_date]])]),e("div",Dvn,[e("label",xvn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",Cvn,n(o.$t("Sort By")),1),e("option",Pvn,n(o.$t("Ascending")),1),e("option",Evn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Avn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Ivn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Rvn,[e("div",Svn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Tvn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":o.downloadingExcel,"downloading-pdf":o.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",jvn,[e("table",Ovn,[e("thead",null,[e("tr",Mvn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Transaction Type")),1),e("th",null,n(o.$t("Debit")),1),e("th",null,n(o.$t("Credit")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount")),1),e("th",null,n(o.$t("Penal Discount")),1),e("th",null,n(o.$t("Overdue Date")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Lvn,[e("td",Nvn,[e("span",Fvn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Yvn,[e("td",Vvn,[e("span",Bvn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(r.payment_request.company_name),1),e("td",null,n(r.payment_request.invoice_number),1),e("td",null,n(t.moment(r.created_at).format(t.date_format)),1),e("td",null,n(r.transaction_type),1),e("td",Uvn,n(r.debit_from_account),1),e("td",qvn,n(r.credit_to_account),1),e("td",Hvn,n(r.payment_request?new Intl.NumberFormat().format(r.payment_request.invoice_disbursed_amount):"0"),1),e("td",zvn,n(r.payment_request.discount),1),e("td",Wvn,n(r.payment_request.invoice_overdue),1),e("td",null,n(r.payment_request?t.moment(r.payment_request.invoice_due_date).format(t.date_format):"-"),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Gvn=Ue(cvn,[["render",Kvn]]),Qvn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(null),w=h(0),y=h(""),x=h(50),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:x.value,type:"df-fees-and-interest-sharing-report"}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})};ot([x],async([T])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:T,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})});const E=async()=>{y.value=$("#payment_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:x.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})},D=async()=>{_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-fees-and-interest-sharing-report",per_page:x.value}}).then(T=>{t.value=T.data}).catch(T=>{console.log(T)})},k=async(T,P)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+T+"/details").then(R=>{g.value=R.data,w.value++,nextTick(()=>{document.getElementById(P).click()})}).catch(R=>{console.log(R)})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`DF_fees_and_interest_sharing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(T=>{const P=window.URL.createObjectURL(new Blob([T.data])),R=document.createElement("a");R.href=P,R.setAttribute("download",`All_payments_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(R),R.click()}).catch(T=>{console.log(T)}).finally(()=>{V.value=!1})};return Qe(()=>{C()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,per_page:x,report_data:t,invoice_details:g,showInvoice:k,filter:E,refresh:D,changePage:async T=>{await A.get(T,{params:{type:"df-fees-and-interest-sharing-report",per_page:x.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_Date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(P=>{t.value=P.data}).catch(P=>{console.log(P)})},downloadReport:B,downloadPdf:L,date_format:a,downloadingExcel:I,downloadingPdf:V,invoice_details_key:w}}},Zvn={class:"card p-2",id:"companies"},Jvn={class:"d-flex flex-column flex-md-row justify-content-between"},Xvn={class:"d-flex flex-wrap gap-1"},egn={class:""},tgn={for:"Invoice Number",class:"form-label"},ogn={class:""},agn={for:"Vendor",class:"form-label"},ngn={class:""},sgn={for:"Disbursement Date",class:"form-label"},lgn={class:""},ign={for:"Status",class:"form-label"},rgn={value:""},dgn={value:"disbursed"},cgn={value:"closed"},ugn={class:""},_gn={for:"Status",class:"form-label"},mgn={value:""},fgn={value:"ASC"},hgn={value:"DESC"},pgn={class:"table-search-btn"},vgn={class:"table-clear-btn"},ggn={class:"d-flex justify-content-mt-end gap-1 mt-2 mt-md-auto"},bgn={class:""},ygn={class:""},kgn={class:"table-responsive"},$gn={class:"table"},wgn={class:""},Dgn={key:0},xgn={colspan:"12",class:"text-center"},Cgn={class:"text-center"},Pgn={key:1},Egn={colspan:"12",class:"text-center"},Agn={class:"text-center"},Ign=["href"],Rgn=["onClick"],Sgn={class:"text-success"},Tgn={class:"text-success"},jgn={class:"text-success"},Ogn={class:"text-success"},Mgn={class:"text-success"},Lgn={class:"badge bg-label-success m_title"},Ngn=["id","data-bs-target"],Fgn=["id","data-bs-target"],Ygn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},Vgn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},Bgn={class:"modal-content"},Ugn={class:"modal-body"},qgn={class:"d-flex justify-content-center"};function Hgn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("invoice-details"),r=ce("payment-instruction"),i=ce("pagination");return u(),f("div",Zvn,[e("div",Jvn,[e("div",Xvn,[e("div",egn,[e("label",tgn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",ogn,[e("label",agn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",ngn,[e("label",sgn,n(o.$t("Payment Date")),1),a[9]||(a[9]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"df-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",lgn,[e("label",ign,n(o.$t("Status")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=d=>t.status=d)},[e("option",rgn,n(o.$t("Status")),1),e("option",dgn,n(o.$t("Overdue")),1),e("option",cgn,n(o.$t("Closed")),1)],512),[[de,t.status]])]),e("div",ugn,[e("label",_gn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=d=>o.sort_by=d)},[e("option",mgn,n(o.$t("Sort By")),1),e("option",fgn,n(o.$t("Ascending")),1),e("option",hgn,n(o.$t("Descending")),1)],512),[[de,o.sort_by]])]),e("div",pgn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...d)=>t.filter&&t.filter(...d))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",vgn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.refresh&&t.refresh(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",ggn,[e("div",bgn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.per_page=d),style:{height:"fit-content"}},a[12]||(a[12]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5)]),512),[[de,t.per_page]])]),e("div",ygn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),e("div",kgn,[e("table",$gn,[e("thead",null,[e("tr",wgn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Drawdown Date")),1),e("th",null,n(o.$t("Drawdown Amount")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Anchor's Discount Share")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Anchor's Fees Share")),1),e("th",null,n(o.$t("Status")),1),a[13]||(a[13]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Dgn,[e("td",xgn,[e("span",Cgn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Pgn,[e("td",Egn,[e("span",Agn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[e("a",{href:"../companies/"+d.company.id+"/details"},n(d.company.name),9,Ign)]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,Rgn),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",Sgn,n(new Intl.NumberFormat().format(d.drawdown_amount)),1),e("td",Tgn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",jgn,n(new Intl.NumberFormat().format(d.anchor_bearing_discount_amount)),1),e("td",Ogn,n(new Intl.NumberFormat().format(d.fees)),1),e("td",Mgn,n(new Intl.NumberFormat().format(d.anchor_fee_bearing_amount)),1),e("td",null,[e("span",Lgn,n(d.financing_status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,Ngn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,Fgn),a[15]||(a[15]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",Ygn,[e("div",Vgn,[e("div",Bgn,[e("div",Ugn,[e("div",qgn,[e("span",null,n(o.$t("Loading"))+"...",1),a[14]||(a[14]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(l,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),Be(i,{from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const zgn=Ue(Qvn,[["render",Hgn]]),Wgn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=h(null),x=h(0),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"df-income-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},E=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(N=>{y.value=N.data,x.value++,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})};ot([w],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:R,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})});const D=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},k=async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-income-report",per_page:w.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`DF_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`DF_income_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!1})};return Qe(()=>{C()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,sort_by:v,per_page:w,report_data:t,invoice_details:y,filter:D,refresh:k,changePage:async R=>{await A.get(R,{params:{type:"df-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},downloadReport:B,downloadPdf:L,getTaxPercentage:(R,O,N)=>(N/O*100).toFixed(2),resolveStatus:R=>{let O="";switch(R){case"Overdue":O="bg-label-danger";break;case"Created":O="bg-label-secondary";break;case"Pending Approval":O="bg-label-warning";break;case"Pending Maker":O="bg-label-warning";break;case"Pending Checker":O="bg-label-warning";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},showInvoice:E,date_format:a,downloadingExcel:I,downloadingPdf:V,invoice_details_key:x}}},Kgn={class:"card p-2",id:"companies"},Ggn={class:"d-flex flex-column flex-md-row justify-content-between"},Qgn={class:"d-flex flex-wrap gap-1"},Zgn={class:""},Jgn={for:"Invoice Number",class:"form-label"},Xgn={class:""},e1n={for:"Anchor",class:"form-label"},t1n={class:""},o1n={for:"Vendor",class:"form-label"},a1n={class:""},n1n={for:"Disbursement Date",class:"form-label"},s1n={class:""},l1n={for:"Status",class:"form-label"},i1n={value:""},r1n={value:"disbursed"},d1n={value:"past_due"},c1n={value:"closed"},u1n={class:""},_1n={for:"Status",class:"form-label"},m1n={value:""},f1n={value:"ASC"},h1n={value:"DESC"},p1n={class:"table-search-btn"},v1n={class:"table-clear-btn"},g1n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},b1n={class:""},y1n={class:""},k1n={class:"table-responsive"},$1n={class:"table"},w1n={class:""},D1n={key:0},x1n={colspan:"12",class:"text-center"},C1n={class:"text-center"},P1n={key:1},E1n={colspan:"12",class:"text-center"},A1n={class:"text-center"},I1n=["href"],R1n=["href"],S1n=["onClick"],T1n={class:"text-success"},j1n={class:"text-success"},O1n={class:"text-success"},M1n={class:"text-success"},L1n={class:"text-success"},N1n={key:0,class:"badge bg-label-danger m_title"},F1n={key:1,class:"badge bg-label-success m_title"},Y1n=["id","data-bs-target"],V1n=["id","data-bs-target"],B1n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},U1n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},q1n={class:"modal-content"},H1n={class:"modal-body"},z1n={class:"d-flex justify-content-center"};function W1n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",Kgn,[e("div",Ggn,[e("div",Qgn,[e("div",Zgn,[e("label",Jgn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",Xgn,[e("label",e1n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",t1n,[e("label",o1n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",a1n,[e("label",n1n,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"df-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",s1n,[e("label",l1n,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.status=d)},[e("option",i1n,n(o.$t("Status")),1),e("option",r1n,n(o.$t("Disbursed")),1),e("option",d1n,n(o.$t("Overdue")),1),e("option",c1n,n(o.$t("Closed")),1)],512),[[de,t.status]])]),e("div",u1n,[e("label",_1n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",m1n,n(o.$t("Sort By")),1),e("option",f1n,n(o.$t("Ascending")),1),e("option",h1n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",p1n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",v1n,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",g1n,[e("div",b1n,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",y1n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",k1n,[e("table",$1n,[e("thead",null,[e("tr",w1n,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Drawdown Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal Discount")),1),e("th",null,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",D1n,[e("td",x1n,[e("span",C1n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",P1n,[e("td",E1n,[e("span",A1n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,I1n)]),e("td",null,[e("a",{href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,R1n)]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,S1n),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",T1n,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",j1n,n(new Intl.NumberFormat().format(d.balance)),1),e("td",O1n,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",M1n,n(new Intl.NumberFormat().format(d.discount)),1),e("td",L1n,n(new Intl.NumberFormat().format(d.overdue)),1),e("td",null,[d.financing_status=="disbursed"&&t.moment().isAfter(d.due_date)?(u(),f("span",N1n,"Overdue")):(u(),f("span",F1n,n(d.financing_status),1))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,Y1n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,V1n),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",B1n,[e("div",U1n,[e("div",q1n,[e("div",H1n,[e("div",z1n,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const K1n=Ue(Wgn,[["render",W1n]]),G1n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:i.value,type:"df-monthly-utilization-and-outstanding-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{d()});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value!=""&&(_.value=m.value.split("-")[1],l.value=m.value.split("-")[0]),await A.get(a+o.bank+"/reports/data",{params:{type:"df-monthly-utilization-and-outstanding-report",per_page:i.value,od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-monthly-utilization-and-outstanding-report",per_page:i.value}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=async E=>{await A.get(E,{params:{type:"maturing-payments-report",per_page:i.value,od_account:t.value,dealer:c.value,month:m.value,sort_by:r.value}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)})},w=h(!1),y=h(!1);return{moment:H,od_account:t,dealer:c,month:m,sort_by:r,per_page:i,report_data:s,changePage:g,filter:p,refresh:v,downloadReport:()=>{w.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-monthly-utilization-and-outstanding-report",od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`DF_monthly_utilization_and_outstanding_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{w.value=!1})},downloadPdf:()=>{y.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-monthly-utilization-and-outstanding-report",od_account:t.value,dealer:c.value,month:_.value,year:l.value,sort_by:r.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`DF_monthly_utilization_and_outstanding_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{y.value=!1})},downloadingExcel:w,downloadingPdf:y}}},Q1n={class:"card p-2",id:"companies"},Z1n={class:"d-flex flex-column flex-md-row justify-content-between"},J1n={class:"d-flex flex-wrap gap-1"},X1n={class:""},ebn={for:"Status",class:"form-label"},tbn={class:""},obn={for:"Status",class:"form-label"},abn={class:""},nbn={for:"Status",class:"form-label"},sbn={class:""},lbn={for:"Status",class:"form-label"},ibn={value:""},rbn={value:"ASC"},dbn={value:"DESC"},cbn={class:"table-search-btn"},ubn={class:"table-clear-btn"},_bn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},mbn={class:""},fbn={class:""},hbn={class:"table-responsive"},pbn={class:"table"},vbn={class:""},gbn={key:0},bbn={colspan:"12",class:"text-center"},ybn={class:"text-center"},kbn={key:1},$bn={colspan:"12",class:"text-center"},wbn={class:"text-center"},Dbn={class:"text-success"},xbn={class:"text-success"},Cbn={class:""},Pbn={class:"text-success"},Ebn={class:""},Abn={class:"text-success"};function Ibn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Q1n,[e("div",Z1n,[e("div",J1n,[e("div",X1n,[e("label",ebn,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_account]])]),e("div",tbn,[e("label",obn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer]])]),e("div",abn,[e("label",nbn,n(o.$t("Month")),1),Y(e("input",{type:"month",class:"form-control form-search",placeholder:"Month","onUpdate:modelValue":a[4]||(a[4]=r=>t.month=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.month]])]),e("div",sbn,[e("label",lbn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",ibn,n(o.$t("Sort By")),1),e("option",rbn,n(o.$t("Ascending")),1),e("option",dbn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",cbn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",ubn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",_bn,[e("div",mbn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r)},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",fbn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",hbn,[e("table",pbn,[e("thead",null,[e("tr",vbn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Month")),1),e("th",null,n(o.$t("Total OD Limit")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Principle Outstanding")),1),e("th",null,n(o.$t("Interest Outstanding"))+" ("+n(o.$t("Posted"))+")",1),e("th",null,n(o.$t("Principle DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Principle DPD Amount")),1),e("th",null,n(o.$t("Interest DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Interest DPD Amount")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",gbn,[e("td",bbn,[e("span",ybn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",kbn,[e("td",$bn,[e("span",wbn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(t.moment(r.created_at).format("MMM YYYY")),1),e("td",Dbn,n(new Intl.NumberFormat().format(r.payment_request.sanctioned_limit)),1),e("td",null,n(r.payment_request.utilized_percentage_ratio),1),e("td",xbn,n(new Intl.NumberFormat().format(r.payment_request.invoice_disbursed_amount)),1),a[13]||(a[13]=e("td",{class:"text-success"},"-",-1)),e("td",Cbn,n(new Intl.NumberFormat().format(r.payment_request.invoice_days_past_due)),1),e("td",Pbn,n(new Intl.NumberFormat().format(r.payment_request.invoice_overdue_amount)),1),e("td",Ebn,n(new Intl.NumberFormat().format(r.payment_request.invoice_days_past_due)),1),e("td",Abn,n(new Intl.NumberFormat().format(r.payment_request.invoice_overdue_amount)),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Rbn=Ue(G1n,[["render",Ibn]]),Sbn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format,s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(50),v=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:p.value,type:"df-overdue-report"}}).then(k=>{t.value=k.data}).catch(k=>{console.log(k)})},g=async()=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD"));let k=$(".ti-search").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-report",per_page:p.value,od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-search"></i>')})},w=async()=>{let k=$(".ti-refresh").parent();k.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",$("#date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-report",per_page:p.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)}).finally(()=>{k.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{v()});const y=h(!1),x=h(!1);return{moment:H,od_account:c,anchor:m,dealer:_,sort_by:l,from_date:r,to_date:i,per_page:p,report_data:t,filter:g,refresh:w,changePage:async k=>{d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(k,{params:{type:"maturing-payments-report",per_page:p.value,od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})},downloadReport:()=>{y.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-report",od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`DF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)}).finally(()=>{y.value=!1})},downloadPdf:()=>{x.value=!0,d.value=$("#date_search").val(),d.value&&(r.value=H(d.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(d.value.split(" - ")[1]).format("YYYY-MM-DD")),A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-report",od_account:c.value,anchor:m.value,dealer:_.value,sort_by:l.value,from_date:r.value,to_date:i.value}}).then(k=>{const I=window.URL.createObjectURL(new Blob([k.data])),V=document.createElement("a");V.href=I,V.setAttribute("download",`DF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(V),V.click()}).catch(k=>{console.log(k)}).finally(()=>{x.value=!1})},date_format:a,downloadingExcel:y,downloadingPdf:x}}},Tbn={class:"card p-2",id:"companies"},jbn={class:"d-flex flex-column flex-md-row justify-content-between"},Obn={class:"d-flex flex-wrap gap-1"},Mbn={class:""},Lbn={for:"OD Account",class:"form-label"},Nbn={class:""},Fbn={for:"Dealer",class:"form-label"},Ybn={class:""},Vbn={for:"Anchor",class:"form-label"},Bbn={class:""},Ubn={class:"form-label",for:""},qbn={class:""},Hbn={for:"Status",class:"form-label"},zbn={value:""},Wbn={value:"ASC"},Kbn={value:"DESC"},Gbn={class:"table-search-btn"},Qbn={class:"table-clear-btn"},Zbn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Jbn={class:""},Xbn={class:""},eyn={class:"table-responsive"},tyn={class:"table"},oyn={class:""},ayn={key:0},nyn={colspan:"12",class:"text-center"},syn={class:"text-center"},lyn={key:1},iyn={colspan:"12",class:"text-center"},ryn={class:"text-center"},dyn={class:""},cyn={class:""},uyn={class:"text-success"},_yn={class:""},myn={class:"text-success"},fyn={class:""},hyn={class:"text-success"};function pyn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Tbn,[e("div",jbn,[e("div",Obn,[e("div",Mbn,[e("label",Lbn,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_account]])]),e("div",Nbn,[e("label",Fbn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer]])]),e("div",Ybn,[e("label",Vbn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[4]||(a[4]=r=>t.anchor=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor]])]),e("div",Bbn,[e("label",Ubn,n(o.$t("Date"))+" ("+n(o.$t("Drawdown Date"))+")",1),a[10]||(a[10]=e("input",{type:"text",id:"date_search",class:"form-control form-search",name:"df-overdue-disbursement-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",qbn,[e("label",Hbn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.sort_by=r)},[e("option",zbn,n(o.$t("Sort By")),1),e("option",Wbn,n(o.$t("Ascending")),1),e("option",Kbn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Gbn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Qbn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Zbn,[e("div",Jbn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=r=>t.per_page=r),style:{height:"fit-content",width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Xbn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",eyn,[e("table",tyn,[e("thead",null,[e("tr",oyn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Drawdown Date")),1),e("th",null,n(o.$t("Overdue Principal")),1),e("th",null,n(o.$t("Principal DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Overdue Interest")),1),e("th",null,n(o.$t("Interest DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Total Penal Interest")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",ayn,[e("td",nyn,[e("span",syn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",lyn,[e("td",iyn,[e("span",ryn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,n(r.payment_account_number),1),e("td",null,n(r.company),1),e("td",null,n(r.anchor),1),e("td",dyn,n(r.invoice_number),1),e("td",cyn,n(t.moment(r.disbursement_date).format(t.date_format)),1),e("td",uyn,n(new Intl.NumberFormat().format(r.disbursed_amount)),1),e("td",_yn,n(r.days_past_due),1),e("td",myn,n(new Intl.NumberFormat().format(r.overdue_amount)),1),e("td",fyn,n(r.days_past_due),1),e("td",hyn,n(new Intl.NumberFormat().format(r.overdue_amount)),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const vyn=Ue(Sbn,[["render",pyn]]),gyn={name:"DFPotentialFinancingReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=h(null),v=h(0),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-potential-financing-report"}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})},w=async(L,F)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+L+"/details").then(T=>{p.value=T.data,v.value++,bt(()=>{document.getElementById(F).click()})}).catch(T=>{console.log(T)})};ot([d],async([L])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:L,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})});const y=async()=>{let L=$(".ti-search").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-search"></i>')})},x=async()=>{let L=$(".ti-refresh").parent();L.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-potential-financing-report",per_page:d.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)}).finally(()=>{L.html('<i class="ti ti-refresh"></i>')})},C=h(!1),E=h(!1),D=()=>{C.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`VF_potential_financing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)}).finally(()=>{C.value=!1})},k=()=>{E.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(L=>{const F=window.URL.createObjectURL(new Blob([L.data])),T=document.createElement("a");T.href=F,T.setAttribute("download",`VF_potential_financing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(T),T.click()}).catch(L=>{console.log(L)}).finally(()=>{E.value=!1})};return Qe(()=>{g()}),{moment:H,anchor:c,vendor:m,invoice_number:_,invoice_date:l,due_date:r,sort_by:i,per_page:d,report_data:t,invoice_details:p,showInvoice:w,filter:y,refresh:x,changePage:async L=>{await A.get(L,{params:{type:"df-potential-financing-report",per_page:d.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,due_date:r.value,sort_by:i.value}}).then(F=>{t.value=F.data}).catch(F=>{console.log(F)})},downloadReport:D,downloadPdf:k,getTaxPercentage:(L,F,T)=>(T/F*100).toFixed(2),resolveStatus:L=>{let F="";switch(L){case"Overdue":F="bg-label-danger";break;case"Created":F="bg-label-secondary";break;case"Pending Approval":F="bg-label-warning";break;case"Pending Maker":F="bg-label-warning";break;case"Pending Checker":F="bg-label-warning";break;case"Submitted":F="bg-label-primary";break;case"Approved":F="bg-label-success";break;case"Disbursed":F="bg-label-success";break;case"Denied":F="bg-label-danger";break;default:F="bg-label-primary";break}return F},date_format:a,downloadingExcel:C,downloadingPdf:E,invoice_details_key:v}}},byn={class:"card p-2",id:"companies"},yyn={class:"d-flex flex-column flex-md-row justify-content-between"},kyn={class:"d-flex flex-wrap gap-1"},$yn={class:""},wyn={for:"Invoice Number",class:"form-label"},Dyn={class:""},xyn={for:"Anchor",class:"form-label"},Cyn={class:""},Pyn={for:"Vendor",class:"form-label"},Eyn={class:""},Ayn={for:"Invoice Date",class:"form-label"},Iyn={class:""},Ryn={for:"Due Date",class:"form-label"},Syn={class:""},Tyn={for:"Status",class:"form-label"},jyn={value:""},Oyn={value:"ASC"},Myn={value:"DESC"},Lyn={class:"table-search-btn"},Nyn={class:"table-clear-btn"},Fyn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Yyn={class:""},Vyn={class:""},Byn={class:"table-responsive"},Uyn={class:"table"},qyn={class:""},Hyn={key:0},zyn={colspan:"12",class:"text-center"},Wyn={class:"text-center"},Kyn={key:1},Gyn={colspan:"12",class:"text-center"},Qyn={class:"text-center"},Zyn=["onClick"],Jyn=["href"],Xyn=["href"],e0n=["href"],t0n={class:"text-success"},o0n={class:""},a0n={class:""},n0n=["id","data-bs-target"],s0n=["id","data-bs-target"],l0n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},i0n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},r0n={class:"modal-content"},d0n={class:"modal-body"},c0n={class:"d-flex justify-content-center"};function u0n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",byn,[e("div",yyn,[e("div",kyn,[e("div",$yn,[e("label",wyn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",Dyn,[e("label",xyn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",Cyn,[e("label",Pyn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",Eyn,[e("label",Ayn,n(o.$t("Invoice Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.invoice_date=d),onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_date]])]),e("div",Iyn,[e("label",Ryn,n(o.$t("Due Date")),1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=d=>t.due_date=d),onKeyup:a[9]||(a[9]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.due_date]])]),e("div",Syn,[e("label",Tyn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",jyn,n(o.$t("Sort By")),1),e("option",Oyn,n(o.$t("Ascending")),1),e("option",Myn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Lyn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Nyn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Fyn,[e("div",Yyn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Vyn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Byn,[e("table",Uyn,[e("thead",null,[e("tr",qyn,[e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Net Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Hyn,[e("td",zyn,[e("span",Wyn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Kyn,[e("td",Gyn,[e("span",Qyn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,Zyn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,Jyn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,Xyn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,e0n)]),e("td",t0n,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",null,[e("span",o0n,n(t.moment(d.invoice_date).format(t.date_format)),1)]),e("td",null,[e("span",a0n,n(t.moment(d.due_date).format(t.date_format)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,n0n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,s0n),a[19]||(a[19]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",l0n,[e("div",i0n,[e("div",r0n,[e("div",d0n,[e("div",c0n,[e("span",null,n(o.$t("Loading"))+"...",1),a[18]||(a[18]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const _0n=Ue(gyn,[["render",u0n]]),m0n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(""),C=h(50),E=h(null),D=h(0),k=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:C.value,type:"df-overdue-invoices-report"}}).then(S=>{t.value=S.data,console.log(t.value)}).catch(S=>{console.log(S)})},I=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(W=>{E.value=W.data,D.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})};ot([C],async([S])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:S,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{y.value=$("#payment_date_search").val(),y.value&&(r.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),x.value=$("#due_date_search").val(),x.value&&(d.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:C.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},B=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",w.value="",$("#payment_date_search").val(""),$("#due_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"df-overdue-invoices-report",per_page:C.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},L=h(!1),F=h(!1),T=()=>{L.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`DF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{L.value=!1})},P=()=>{F.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`DF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{F.value=!1})};return Qe(()=>{k()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:v,status:g,sort_by:w,per_page:C,report_data:t,invoice_details:E,showInvoice:I,filter:V,refresh:B,changePage:async S=>{await A.get(S,{params:{type:"df-overdue-invoices-report",per_page:C.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:T,downloadPdf:P,getTaxPercentage:(S,U,W)=>(W/U*100).toFixed(2),resolveStatus:S=>{let U="";switch(S){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},date_format:a,downloadingExcel:L,downloadingPdf:F,invoice_details_key:D}}},f0n={class:"card p-2",id:"companies"},h0n={class:"d-flex flex-column flex-md-row justify-content-between"},p0n={class:"d-flex flex-wrap gap-1"},v0n={class:""},g0n={for:"Invoice Number",class:"form-label"},b0n={class:""},y0n={for:"Anchor",class:"form-label"},k0n={class:""},$0n={for:"Vendor",class:"form-label"},w0n={class:""},D0n={for:"Payment Date",class:"form-label"},x0n={class:""},C0n={for:"Due Date",class:"form-label"},P0n={class:""},E0n={for:"DPD Days",class:"form-label"},A0n={value:""},I0n={value:"1-5"},R0n={value:"6-10"},S0n={value:"10"},T0n={class:""},j0n={for:"Status",class:"form-label"},O0n={value:""},M0n={value:"ASC"},L0n={value:"DESC"},N0n={class:"table-search-btn"},F0n={class:"table-clear-btn"},Y0n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},V0n={class:""},B0n={class:""},U0n={class:"table-responsive"},q0n={class:"table"},H0n={class:""},z0n={key:0},W0n={colspan:"12",class:"text-center"},K0n={class:"text-center"},G0n={key:1},Q0n={colspan:"12",class:"text-center"},Z0n={class:"text-center"},J0n=["onClick"],X0n=["href"],e2n=["href"],t2n=["href"],o2n={class:"text-success"},a2n={class:"text-success"},n2n={class:"badge bg-label-success m_title"},s2n=["id","data-bs-target"],l2n=["id","data-bs-target"],i2n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},r2n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},d2n={class:"modal-content"},c2n={class:"modal-body"},u2n={class:"d-flex justify-content-center"};function _2n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",f0n,[e("div",h0n,[e("div",p0n,[e("div",v0n,[e("label",g0n,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",b0n,[e("label",y0n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",k0n,[e("label",$0n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",w0n,[e("label",D0n,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-overdue-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",x0n,[e("label",C0n,n(o.$t("Due Date")),1),a[12]||(a[12]=e("input",{type:"text",id:"due_date_search",class:"form-control form-search",name:"vf-overdue-report-due-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",P0n,[e("label",E0n,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.dpd=d)},[e("option",A0n,n(o.$t("DPD")),1),e("option",I0n,"1 - 5 "+n(o.$t("Days")),1),e("option",R0n,"6 - 10 "+n(o.$t("Days")),1),e("option",S0n,"More than 10 "+n(o.$t("Days")),1)],512),[[de,t.dpd]])]),e("div",T0n,[e("label",j0n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",O0n,n(o.$t("Sort By")),1),e("option",M0n,n(o.$t("Ascending")),1),e("option",L0n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",N0n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",F0n,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Y0n,[e("div",V0n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",B0n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",U0n,[e("table",q0n,[e("thead",null,[e("tr",H0n,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Outstanding Amount")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Status")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",z0n,[e("td",W0n,[e("span",K0n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",G0n,[e("td",Q0n,[e("span",Z0n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,J0n),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,X0n)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,e2n))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,t2n)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",o2n,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",a2n,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,n(d.days_past_due),1),e("td",null,[e("span",n2n,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,s2n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,l2n),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",i2n,[e("div",r2n,[e("div",d2n,[e("div",c2n,[e("div",u2n,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const m2n=Ue(m0n,[["render",_2n]]),f2n={name:"DistributorLimitUtilizationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]);h("");const t=h("");h(""),h("");const c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"distributor-limit-utilization-report"}}).then(v=>{s.value=v.data}).catch(v=>{console.log(v)})};return Qe(()=>{_()}),{moment:H,dealers:s,anchor_search:t,sort_by:c,per_page:m,filter:async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{report_data.value=v.data}).catch(v=>{console.log(v)})},refresh:async()=>{t.value="",c.value="",await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"distributor-limit-utilization-report"}}).then(v=>{report_data.value=v.data}).catch(v=>{console.log(v)})},changePage:async v=>{await A.get(v,{params:{per_page:m.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(g=>{s.value=g.data})},downloadReport:()=>{A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{const g=window.URL.createObjectURL(new Blob([v.data])),w=document.createElement("a");w.href=g,w.setAttribute("download",`Distributor_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(w),w.click()}).catch(v=>{console.log(v)})},downloadPdf:()=>{A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"distributor-limit-utilization-report",sort_by:c.value}}).then(v=>{const g=window.URL.createObjectURL(new Blob([v.data])),w=document.createElement("a");w.href=g,w.setAttribute("download",`Distributor_limit_utilization_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(w),w.click()}).catch(v=>{console.log(v)})}}}},h2n={class:"card p-2"},p2n={class:"d-flex justify-content-between"},v2n={class:"d-flex flex-wrap"},g2n={class:"mx-1"},b2n={class:"mx-1 table-search-btn"},y2n={class:"mx-1 table-clear-btn"},k2n={class:"d-flex justify-content-end"},$2n={class:"table-responsive"},w2n={class:"table"},D2n={class:"table-border-bottom-0"},x2n={key:0},C2n={key:1},P2n=["href"],E2n={class:"text-success"},A2n={class:"text-success"},I2n={class:"text-success"},R2n={class:"text-success"},S2n={class:"text-success"};function T2n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",h2n,[e("div",p2n,[e("div",v2n,[a[8]||(a[8]=e("div",{class:""},[e("label",{for:"Organization Name",class:"form-label"},"Organization Name"),e("input",{type:"text",class:"form-control",placeholder:"Organization Name"})],-1)),e("div",g2n,[a[5]||(a[5]=e("label",{for:"Status",class:"form-label"},"Sort By",-1)),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[0]||(a[0]=r=>t.sort_by=r)},a[4]||(a[4]=[e("option",{value:""},"Sort By",-1),e("option",{value:"ASC"},"Ascending",-1),e("option",{value:"DESC"},"Descending",-1)]),512),[[de,t.sort_by]])]),e("div",b2n,[e("button",{class:"btn btn-primary btn-sm",onClick:a[1]||(a[1]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",y2n,[e("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",k2n,[Y(e("select",{class:"form-select mx-1",id:"exampleFormControlSelect1","onUpdate:modelValue":a[3]||(a[3]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[ga('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">50</option>',5)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf},null,8,["onDownloadReport","onDownloadPdf"])])]),e("div",$2n,[e("table",w2n,[a[13]||(a[13]=e("thead",null,[e("tr",{class:""},[e("th",null,"Organization Name"),e("th",null,"Sanctioned Limit"),e("th",null,"Utilized Amount"),e("th",null,"Pipeline Requests"),e("th",null,"Available Limit"),e("th",null,"Limit Utilized"),e("th",null,"Product")])],-1)),e("tbody",D2n,[t.dealers.data?b("",!0):(u(),f("tr",x2n,a[10]||(a[10]=[e("td",{colspan:"12",class:"text-center"},[e("span",{class:"text-center"},"Loading Data...")],-1)]))),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",C2n,a[11]||(a[11]=[e("td",{colspan:"12",class:"text-center"},[e("span",{class:"text-center"},"No Data Available...")],-1)]))):b("",!0),(u(!0),f(G,null,ee(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,P2n)]),e("td",E2n,n(new Intl.NumberFormat().format(r.top_level_borrower_limit)),1),e("td",A2n,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",I2n,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",R2n,n(new Intl.NumberFormat().format(r.available_amount)),1),e("td",S2n,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),a[12]||(a[12]=e("td",null,"Dealer Financing",-1))]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const j2n=Ue(f2n,[["render",T2n]]),O2n={name:"VfFundingLimitUtilizationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"df-funding-limit-utilization-report"}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})};Qe(()=>{r()});const i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,company_name:c.value,company_type:m.value,sort_by:_.value,type:"df-funding-limit-utilization-report"}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-funding-limit-utilization-report",per_page:l.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},p=h(!1),v=h(!1);return{moment:H,report_data:t,anchor_search:c,type_search:m,sort_by:_,per_page:l,filter:i,refresh:d,changePage:async x=>{await A.get(x,{params:{per_page:l.value,company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(C=>{t.value=C.data})},downloadReport:()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`DF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{p.value=!1})},downloadPdf:()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{company_name:c.value,company_type:m.value,type:"df-funding-limit-utilization-report",sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`DF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})},date_format:a,downloadingExcel:p,downloadingPdf:v}}},M2n={class:"card p-2"},L2n={class:"d-flex flex-column flex-md-row justify-content-between"},N2n={class:"d-flex flex-wrap gap-1"},F2n={class:""},Y2n={for:"Organization Name",class:"form-label"},V2n={class:""},B2n={for:"Status",class:"form-label"},U2n={value:""},q2n={value:"ASC"},H2n={value:"DESC"},z2n={class:"table-search-btn"},W2n={class:"table-clear-btn"},K2n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},G2n={class:"table-responsive"},Q2n={class:"table"},Z2n={class:""},J2n={class:"text-nowrap"},X2n={key:0},ekn={colspan:"12",class:"text-center"},tkn={class:"text-center"},okn={key:1},akn={colspan:"12",class:"text-center"},nkn={class:"text-center"},skn=["href"],lkn={class:"text-success"},ikn={class:"text-success"},rkn={class:"text-success"},dkn={class:"text-success"},ckn={class:"text-success"},ukn=["href"],_kn=["href"];function mkn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",M2n,[e("div",L2n,[e("div",N2n,[e("div",F2n,[e("label",Y2n,n(o.$t("Organization Name")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Organization Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",V2n,[e("label",B2n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",U2n,n(o.$t("Sort By")),1),e("option",q2n,n(o.$t("Ascending")),1),e("option",H2n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",z2n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",W2n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",K2n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.report_data.meta?(u(),me(l,{key:0,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",G2n,[e("table",Q2n,[e("thead",null,[e("tr",Z2n,[e("th",null,n(o.$t("Organization Name")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Current Exposure")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",J2n,[t.report_data.data?b("",!0):(u(),f("tr",X2n,[e("td",ekn,[e("span",tkn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",okn,[e("td",akn,[e("span",nkn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.company_name),9,skn)]),e("td",lkn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",ikn,n(new Intl.NumberFormat().format(r.available_amount.toFixed(2))),1),e("td",rkn,n(new Intl.NumberFormat().format(r.utilized_amount.toFixed(2))),1),e("td",dkn,n(new Intl.NumberFormat().format(r.pipeline_amount.toFixed(2))),1),e("td",ckn,n(new Intl.NumberFormat().format(r.utilized_percentage.toFixed(2))),1),e("td",null,[r.buyer_id?(u(),f("a",{key:0,href:"../reports/limit-utilization/"+r.program_id+"/"+r.buyer_id},a[9]||(a[9]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,ukn)):(u(),f("a",{key:1,href:"../reports/limit-utilization/"+r.program_id+"/"+r.company_id},a[10]||(a[10]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,_kn))])]))),128))])])]),Be(l,{class:"mx-2",from:t.report_data.from,to:t.report_data.to,links:t.report_data.links,next_page:t.report_data.next_page_url,prev_page:t.report_data.prev_page_url,total_items:t.report_data.total,first_page_url:t.report_data.first_page_url,last_page_url:t.report_data.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const fkn=Ue(O2n,[["render",mkn]]),hkn={name:"DfCollectionReport",components:{Pagination:St,DownloadButtons:no},props:["bank"],setup(o){lt();const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(50),p=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:d.value,type:"df-collection-report"}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)})},v=async()=>{let D=$(".ti-search").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{type:"df-collection-report",per_page:d.value,od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-search"></i>')})},g=async()=>{let D=$(".ti-refresh").parent();D.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"df-collection-report",per_page:d.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)}).finally(()=>{D.html('<i class="ti ti-refresh"></i>')})};Qe(()=>{p()});const w=async D=>{await A.get(D,{params:{type:"df-collection-report",per_page:d.value,od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(k=>{s.value=k.data}).catch(k=>{console.log(k)})},y=h(!1),x=h(!1);return{moment:H,od_account:t,dealer:c,invoice_number:m,from_date:_,to_date:l,overdue_date:r,sort_by:i,per_page:d,report_data:s,filter:v,refresh:g,changePage:w,downloadPdf:()=>{x.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-collection-report",od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`DF_collection_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)}).finally(()=>{x.value=!1})},downloadReport:()=>{y.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-collection-report",od_account:t.value,dealer:c.value,invoice_number:m.value,from_date:_.value,to_date:l.value,overdue_date:r.value,sort_by:i.value}}).then(D=>{const k=window.URL.createObjectURL(new Blob([D.data])),I=document.createElement("a");I.href=k,I.setAttribute("download",`DF_collection_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(I),I.click()}).catch(D=>{console.log(D)}).finally(()=>{y.value=!1})},downloadingExcel:y,downloadingPdf:x}}},pkn={class:"card p-2",id:"companies"},vkn={class:"d-flex flex-column flex-md-row justify-content-between"},gkn={class:"d-flex flex-wrap gap-1"},bkn={class:""},ykn={for:"OD Account",class:"form-label"},kkn={class:""},$kn={for:"Dealer",class:"form-label"},wkn={class:""},Dkn={for:"Invoice Ref",class:"form-label"},xkn={class:""},Ckn={for:"Invoice Ref",class:"form-label"},Pkn={class:""},Ekn={for:"Invoice Ref",class:"form-label"},Akn={class:""},Ikn={for:"Status",class:"form-label"},Rkn={value:""},Skn={value:"ASC"},Tkn={value:"DESC"},jkn={class:"table-search-btn"},Okn={class:"table-clear-btn"},Mkn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Lkn={class:""},Nkn={class:""},Fkn={class:"table-responsive"},Ykn={class:"table"},Vkn={class:""},Bkn={key:0},Ukn={colspan:"12",class:"text-center"},qkn={class:"text-center"},Hkn={key:1},zkn={colspan:"12",class:"text-center"},Wkn={class:"text-center"},Kkn={class:"text-success"};function Gkn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",pkn,[e("div",vkn,[e("div",gkn,[e("div",bkn,[e("label",ykn,n(o.$t("OD Account")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"OD Account","onUpdate:modelValue":a[0]||(a[0]=r=>t.od_account=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.od_account]])]),e("div",kkn,[e("label",$kn,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Dealer","onUpdate:modelValue":a[2]||(a[2]=r=>t.dealer=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.dealer]])]),e("div",wkn,[e("label",Dkn,n(o.$t("Invoice Ref No"))+".",1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice / Unique Ref No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.invoice_number=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",xkn,[e("label",Ckn,n(o.$t("From"))+" ("+n(o.$t("Paid Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[6]||(a[6]=r=>t.from_date=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.from_date]])]),e("div",Pkn,[e("label",Ekn,n(o.$t("To"))+" ("+n(o.$t("Paid Date"))+").",1),Y(e("input",{type:"date",class:"form-control form-search","onUpdate:modelValue":a[8]||(a[8]=r=>t.to_date=r),onKeyup:a[9]||(a[9]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.to_date]])]),e("div",Akn,[e("label",Ikn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.sort_by=r)},[e("option",Rkn,n(o.$t("Sort By")),1),e("option",Skn,n(o.$t("Ascending")),1),e("option",Tkn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",jkn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...r)=>t.filter&&t.filter(...r))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Okn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...r)=>t.refresh&&t.refresh(...r))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mkn,[e("div",Lkn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=r=>t.per_page=r),style:{width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Nkn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Fkn,[e("table",Ykn,[e("thead",null,[e("tr",Vkn,[e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Paid Date")),1),e("th",null,n(o.$t("Transaction Ref")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Account")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Bkn,[e("td",Ukn,[e("span",qkn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Hkn,[e("td",zkn,[e("span",Wkn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(r.payment_request.payment_account_number),1),e("td",null,n(r.payment_request.company_name),1),e("td",null,n(r.payment_request.invoice_number),1),e("td",null,n(t.moment(r.pay_date).format("Do MMM YYYY")),1),e("td",null,n(r.transaction_reference),1),e("td",Kkn,n(new Intl.NumberFormat().format(r.amount)),1),e("td",null,n(r.credit_to_account),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Qkn=Ue(hkn,[["render",Gkn]]),Zkn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(50),d=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:i.value,type:"df-repayment-details-report"}}).then(E=>{t.value=E.data}).catch(E=>{console.log(E)})};ot([i],async([E])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:E,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(D=>{t.value=D.data}).catch(D=>{console.log(D)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:i.value,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(D=>{t.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",r.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"df-repayment-details-report",per_page:i.value}}).then(D=>{t.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),w=h(!1),y=()=>{g.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`DF_Repayment_Details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},x=()=>{w.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"df-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`DF_Repayment_Details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{w.value=!1})};return Qe(()=>{d()}),{moment:H,program_name:m,cbs_id:c,date:_,set_off_type:l,sort_by:r,per_page:i,report_data:t,filter:p,refresh:v,changePage:async E=>{await A.get(E,{params:{type:"df-repayment-details-report",per_page:i.value,program_name:m.value,cbs_id:c.value,date:_.value,sort_by:r.value}}).then(D=>{t.value=D.data}).catch(D=>{console.log(D)})},downloadPdf:x,downloadReport:y,date_format:a,downloadingExcel:g,downloadingPdf:w}}},Jkn={class:"card p-2",id:"companies"},Xkn={class:"d-flex flex-column flex-md-row justify-content-between"},e$n={class:"d-flex flex-wrap gap-1"},t$n={class:""},o$n={for:"Program",class:"form-label"},a$n={class:""},n$n={for:"CBS ID",class:"form-label"},s$n={class:""},l$n={for:"Date",class:"form-label"},i$n={class:""},r$n={for:"Set Off Type",class:"form-label"},d$n={value:""},c$n={value:"Penal Interest"},u$n={value:"Principal"},_$n={value:"Interest"},m$n={class:""},f$n={for:"Status",class:"form-label"},h$n={value:""},p$n={value:"ASC"},v$n={value:"DESC"},g$n={class:"table-search-btn"},b$n={class:"table-clear-btn"},y$n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},k$n={class:""},$$n={class:""},w$n={class:"table-responsive"},D$n={class:"table"},x$n={class:""},C$n={key:0},P$n={colspan:"12",class:"text-center"},E$n={class:"text-center"},A$n={key:1},I$n={colspan:"12",class:"text-center"},R$n={class:"text-center"},S$n={key:0},T$n={key:1},j$n={key:2},O$n={key:0},M$n={key:1},L$n={key:2};function N$n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",Jkn,[e("div",Xkn,[e("div",e$n,[e("div",t$n,[e("label",o$n,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_name]])]),e("div",a$n,[e("label",n$n,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"CBS ID","onUpdate:modelValue":a[2]||(a[2]=r=>t.cbs_id=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.cbs_id]])]),e("div",s$n,[e("label",l$n,n(o.$t("Date")),1),Y(e("input",{type:"date",class:"form-control form-search",placeholder:"Date","onUpdate:modelValue":a[4]||(a[4]=r=>t.date=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.date]])]),e("div",i$n,[e("label",r$n,n(o.$t("Set Off Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.set_off_type=r)},[e("option",d$n,n(o.$t("Set off type")),1),e("option",c$n,n(o.$t("Penal Interest")),1),e("option",u$n,n(o.$t("Principal")),1),e("option",_$n,n(o.$t("Interest")),1)],512),[[de,t.set_off_type]])]),e("div",m$n,[e("label",f$n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=r=>t.sort_by=r)},[e("option",h$n,n(o.$t("Sort By")),1),e("option",p$n,n(o.$t("Ascending")),1),e("option",v$n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",g$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...r)=>t.filter&&t.filter(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",b$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.refresh&&t.refresh(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",y$n,[e("div",k$n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=r=>t.per_page=r),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",$$n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",w$n,[e("table",D$n,[e("thead",null,[e("tr",x$n,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("CBS ID")),1),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Total Repayment Amount")),1),e("th",null,n(o.$t("Set off Amount")),1),e("th",null,n(o.$t("Balance Amount")),1),e("th",null,n(o.$t("Set off particulars")),1),e("th",null,n(o.$t("Set off type")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",C$n,[e("td",P$n,[e("span",E$n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",A$n,[e("td",I$n,[e("span",R$n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("span",null,n(t.moment(r.transaction_created_date).format(t.date_format)),1)]),e("td",null,[e("span",null,n(r.cbs_id),1)]),e("td",null,[e("span",null,n(r.payment_request.program_name),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.drawdown_amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_balance)),1)]),e("td",null,[r.transaction_type=="Overdue Account"?(u(),f("span",S$n,n(o.$t("Penal Interest for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type=="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",T$n,n(o.$t("Principle for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type=="Fees/Charges"||r.transaction_type=="Accrual/Posted Interest"?(u(),f("span",j$n,n(o.$t("Interest for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0)]),e("td",null,[r.transaction_type=="Overdue Account"?(u(),f("span",O$n,n(o.$t("Penal Interest")),1)):b("",!0),r.transaction_type=="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",M$n,n(o.$t("Principle")),1)):b("",!0),r.transaction_type=="Fees/Charges"||r.transaction_type=="Accrual/Posted Interest"?(u(),f("span",L$n,n(o.$t("Interest")),1)):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const F$n=Ue(Zkn,[["render",N$n]]),Y$n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"dealers-daily-outstanding-balance-report"}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value,date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},p=h(!1),v=h(!1),g=()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"dealers-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Dealers_daily_outstanding_balance_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{p.value=!1})},w=()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"dealers-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Dealers_daily_outstanding_balance_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})};return Qe(()=>{r()}),{moment:H,date:c,vendor:m,sort_by:_,per_page:l,report_data:t,filter:i,refresh:d,changePage:async x=>{await A.get(x,{params:{type:"dealers-daily-outstanding-balance-report",per_page:l.value,sort_by:_.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},downloadReport:g,downloadPdf:w,date_format:a,downloadingExcel:p,downloadingPdf:v}}},V$n={class:"card p-2",id:"companies"},B$n={class:"d-flex flex-column flex-md-row justify-content-between"},U$n={class:"d-flex flex-wrap gap-1"},q$n={class:""},H$n={for:"Vendor",class:"form-label"},z$n={class:""},W$n={for:"Status",class:"form-label"},K$n={value:""},G$n={value:"ASC"},Q$n={value:"DESC"},Z$n={class:"table-search-btn"},J$n={class:"table-clear-btn"},X$n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},ewn={class:""},twn={class:""},own={class:"table-responsive"},awn={class:"table"},nwn={class:""},swn={key:0},lwn={colspan:"12",class:"text-center"},iwn={class:"text-center"},rwn={key:1},dwn={colspan:"12",class:"text-center"},cwn={class:"text-center"},uwn=["href"],_wn={class:"text-success"},mwn={class:"text-success"},fwn={class:"text-success"},hwn={class:"text-success"},pwn={class:"text-success"};function vwn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",V$n,[e("div",B$n,[e("div",U$n,[e("div",q$n,[e("label",H$n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor=r),placeholder:"Dealer",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.vendor]])]),e("div",z$n,[e("label",W$n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",K$n,n(o.$t("Sort By")),1),e("option",G$n,n(o.$t("Ascending")),1),e("option",Q$n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Z$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",J$n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",X$n,[e("div",ewn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",twn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",own,[e("table",awn,[e("thead",null,[e("tr",nwn,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Outstanding Balance")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Limit Utilized"))+"(%)",1),e("th",null,n(o.$t("Available Limit")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",swn,[e("td",lwn,[e("span",iwn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",rwn,[e("td",dwn,[e("span",cwn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(t.moment().format(t.date_format)),1),e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,uwn)]),e("td",_wn,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",mwn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",fwn,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",hwn,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),e("td",pwn,n(new Intl.NumberFormat().format(r.sanctioned_limit-(r.utilized_amount+r.pipeline_amount))),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const gwn=Ue(Y$n,[["render",vwn]]),bwn={name:"Programs",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:l.value,type:"vendor-financing-programs-report"}}).then(E=>{s.value=E.data}).catch(E=>{console.log(E)})};Qe(()=>{r()});const i=E=>{switch(E){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},d=E=>parseFloat(E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});ot([l],async([E])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:E,name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(D=>{s.value=D.data}).catch(D=>{console.log(D)})});const p=async()=>{let E=$(".ti-search").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{type:"vendor-financing-programs-report",per_page:l.value,name:t.value,anchor:c.value,status:m.value,sort_by:_.value}}).then(D=>{report_data.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-search"></i>')})},v=async()=>{let E=$(".ti-refresh").parent();E.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",m.value="",_.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vendor-financing-programs-report",per_page:l.value}}).then(D=>{report_data.value=D.data}).catch(D=>{console.log(D)}).finally(()=>{E.html('<i class="ti ti-refresh"></i>')})},g=h(!1),w=h(!1);return{moment:H,programs:s,program_name_search:t,anchor_search:c,status_search:m,sort_by:_,per_page:l,filter:p,refresh:v,resolveProgramStatus:i,NumFormatter:d,changePage:async E=>{await A.get(E,{params:{per_page:l.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(D=>{s.value=D.data})},downloadReport:()=>{g.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`VF_program_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{g.value=!1})},downloadPdf:()=>{w.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{name:t.value,anchor:c.value,status:m.value,type:"vendor-financing-programs-report",sort_by:_.value}}).then(E=>{const D=window.URL.createObjectURL(new Blob([E.data])),k=document.createElement("a");k.href=D,k.setAttribute("download",`VF_programs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(k),k.click()}).catch(E=>{console.log(E)}).finally(()=>{w.value=!1})},downloadingExcel:g,downloadingPdf:w}}},ywn={class:"card p-2"},kwn={class:"d-flex flex-column flex-md-row justify-content-between"},$wn={class:"d-flex flex-wrap gap-1"},wwn={class:""},Dwn={for:"Program",class:"form-label"},xwn={class:""},Cwn={for:"Anchor",class:"form-label"},Pwn={class:""},Ewn={for:"Anchor",class:"form-label"},Awn={value:""},Iwn={value:"pending"},Rwn={value:"active"},Swn={value:"suspended"},Twn={class:""},jwn={for:"Status",class:"form-label"},Own={value:""},Mwn={value:"ASC"},Lwn={value:"DESC"},Nwn={class:"table-search-btn"},Fwn={class:"table-clear-btn"},Ywn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Vwn={class:""},Bwn={class:"table-responsive"},Uwn={class:"table"},qwn={class:""},Hwn={class:"table-border-bottom-0"},zwn={key:0},Wwn={colspan:"12",class:"text-center"},Kwn={class:"text-center"},Gwn={key:1},Qwn={colspan:"12",class:"text-center"},Zwn={class:"text-center"},Jwn=["href"],Xwn={class:"text-primary text-decoration-underline"},e5n=["href"],t5n={class:"text-success"},o5n={class:"text-success"},a5n={class:"text-success"},n5n={class:"text-success"},s5n={key:0},l5n={key:1},i5n={key:0},r5n={key:1};function d5n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",ywn,[e("div",kwn,[e("div",$wn,[e("div",wwn,[e("label",Dwn,n(o.$t("Program Name")),1),Y(e("input",{type:"text",class:"form-control",id:"defaultFormControlInput","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name_search=r),placeholder:"Program Name","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_name_search]])]),e("div",xwn,[e("label",Cwn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",id:"defaultFormControlInput","onUpdate:modelValue":a[2]||(a[2]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",Pwn,[e("label",Ewn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[4]||(a[4]=r=>t.status_search=r)},[e("option",Awn,n(o.$t("Status")),1),e("option",Iwn,n(o.$t("Pending")),1),e("option",Rwn,n(o.$t("Active")),1),e("option",Swn,n(o.$t("Suspended")),1)],512),[[de,t.status_search]])]),e("div",Twn,[e("label",jwn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",Own,n(o.$t("Sort By")),1),e("option",Mwn,n(o.$t("Ascending")),1),e("option",Lwn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Nwn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[9]||(a[9]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Fwn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Ywn,[e("div",Vwn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[11]||(a[11]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.programs.meta?(u(),me(l,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Bwn,[e("table",Uwn,[e("thead",null,[e("tr",qwn,[e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Anchor Name")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Total Program Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Base Rate Consideration")),1),e("th",null,n(o.$t("Anchor Discount Bearing")),1),e("th",null,n(o.$t("Eligibility")),1),e("th",null,n(o.$t("Total Mapped Companies")),1)])]),e("tbody",Hwn,[t.programs.data?b("",!0):(u(),f("tr",zwn,[e("td",Wwn,[e("span",Kwn,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",Gwn,[e("td",Qwn,[e("span",Zwn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"programs/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,Jwn)]),e("td",Xwn,[e("a",{href:"companies/"+r.anchor.id+"/details"},n(r.anchor.name),9,e5n)]),e("td",null,[e("span",{class:rt(["badge me-1 m_title",t.resolveProgramStatus(r.account_status)])},n(r.account_status),3)]),e("td",t5n,n(t.NumFormatter(r.program_limit)),1),e("td",o5n,n(new Intl.NumberFormat().format(r.utilized)),1),e("td",a5n,n(new Intl.NumberFormat().format(r.pipeline)),1),e("td",n5n,n(new Intl.NumberFormat().format(r.program_limit-r.utilized+r.pipeline)),1),e("td",null,[r.discount_details.length?(u(),f("span",s5n,n(r.discount_details[0].benchmark_rate)+"% ",1)):(u(),f("span",l5n,"-"))]),e("td",null,[r.discount_details.length?(u(),f("span",i5n,n(r.discount_details[0].anchor_discount_bearing)+"% ",1)):(u(),f("span",r5n,"-"))]),e("td",null,n(r.eligibility)+"%",1),e("td",null,n(r.vendors_count),1)]))),128))])])]),t.programs.meta?(u(),me(l,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const c5n=Ue(bwn,[["render",d5n]]),u5n={name:"AnchorwiseDealerReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]);h("");const t=h("");h(""),h("");const c=h(50),m=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)})};Qe(()=>{m()});const _=y=>{switch(y){case"active":return"bg-label-success";case"pending":return"bg-label-primary";case"suspended":return"bg-label-danger"}},l=y=>parseFloat(y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),r=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{report_data.value=y.data}).catch(y=>{console.log(y)})},i=async()=>{t.value="",await A.get(a+o.bank+"/reports/data",{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{report_data.value=y.data}).catch(y=>{console.log(y)})},d=h(!1),p=h(!1);return{moment:H,programs:s,anchor_search:t,per_page:c,filter:r,refresh:i,resolveProgramStatus:_,NumFormatter:l,changePage:async y=>{await A.get(y,{params:{per_page:c.value,type:"vf-anchorwise-vendor-report"}}).then(x=>{s.value=x.data})},downloadReport:()=>{d.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{const x=window.URL.createObjectURL(new Blob([y.data])),C=document.createElement("a");C.href=x,C.setAttribute("download",`VF_anchorwise_vendor_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(C),C.click()}).catch(y=>{console.log(y)}).finally(()=>{d.value=!1})},downloadPdf:()=>{p.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:t.value,type:"vf-anchorwise-vendor-report"}}).then(y=>{const x=window.URL.createObjectURL(new Blob([y.data])),C=document.createElement("a");C.href=x,C.setAttribute("download",`VF_anchorwise_vendor_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(C),C.click()}).catch(y=>{console.log(y)}).finally(()=>{p.value=!1})},downloadingExcel:d,downloadingPdf:p}}},_5n={class:"card p-2"},m5n={class:"d-flex flex-column flex-md-row justify-content-between"},f5n={class:"d-flex flex-wrap gap-1"},h5n={class:""},p5n={for:"Anchor",class:"form-label"},v5n={class:"table-search-btn"},g5n={class:"table-clear-btn"},b5n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},y5n={class:""},k5n={class:"table-responsive"},$5n={class:"table"},w5n={class:""},D5n={class:"text-center"},x5n={class:"text-center"},C5n={class:"text-center"},P5n={class:"text-center"},E5n={class:"table-border-bottom-0"},A5n={key:0},I5n={colspan:"12",class:"text-center"},R5n={class:"text-center"},S5n={key:1},T5n={colspan:"12",class:"text-center"},j5n={class:"text-center"},O5n=["href"],M5n={class:"text-center"},L5n={class:"text-center"},N5n={class:"text-center"},F5n={class:"text-center"},Y5n={class:"text-center"},V5n=["href"];function B5n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",_5n,[e("div",m5n,[e("div",f5n,[e("div",h5n,[e("label",p5n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.anchor_search=r),placeholder:"Anchor","aria-describedby":"defaultFormControlHelp",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",v5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[2]||(a[2]=(...r)=>t.filter&&t.filter(...r))},a[5]||(a[5]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",g5n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.refresh&&t.refresh(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",b5n,[e("div",y5n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=r=>t.per_page=r),style:{height:"fit-content"}},a[7]||(a[7]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]])]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.programs.meta?(u(),me(l,{key:0,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",k5n,[e("table",$5n,[e("thead",null,[e("tr",w5n,[e("th",null,n(o.$t("Anchor"))+" ("+n(o.$t("Program"))+")",1),e("th",D5n,n(o.$t("Mapped Companies")),1),e("th",x5n,n(o.$t("Active Mapped Companies")),1),e("th",C5n,n(o.$t("Passive Mapped Companies")),1),e("th",P5n,n(o.$t("Active Mapped Companies(%)")),1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",E5n,[t.programs.data?b("",!0):(u(),f("tr",A5n,[e("td",I5n,[e("span",R5n,n(o.$t("Loading Data"))+"...",1)])])),t.programs.data&&t.programs.data.length<=0?(u(),f("tr",S5n,[e("td",T5n,[e("span",j5n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.programs.data,r=>(u(),f("tr",{class:"text-nowrap",key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.anchor.id+"/details",class:"text-primary text-decoration-underline"},n(r.anchor.name),9,O5n),le(" ("+n(r.name)+") ",1)]),e("td",M5n,n(r.vendors_count),1),e("td",L5n,n(r.active_vendors),1),e("td",N5n,n(r.passive_vendors),1),e("td",F5n,n(r.active_vendors_percentage.toFixed(2)),1),e("td",Y5n,[e("a",{href:"../reports/"+r.id+"/vendors",class:"badge bg-label-danger rounded-pill p-1",title:"Manage Dealers"},a[8]||(a[8]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,V5n)])]))),128))])])]),t.programs.meta?(u(),me(l,{key:1,from:t.programs.meta.from,to:t.programs.meta.to,links:t.programs.meta.links,next_page:t.programs.links.next,prev_page:t.programs.links.prev,total_items:t.programs.meta.total,first_page_url:t.programs.links.first,last_page_url:t.programs.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const U5n=Ue(u5n,[["render",B5n]]),q5n={name:"DfDealerClassificationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL");lt();const s=h([]),t=h(""),c=h(""),m=h(""),_=h(""),l=h(""),r=h(50),i=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:r.value,type:"vf-vendor-classification-report"}}).then(C=>{s.value=C.data}).catch(C=>{console.log(C)})};Qe(()=>{i()});const d=async()=>{await A.get(a+o.bank+"/reports/data",{params:{type:"vf-vendor-classification-report",per_page:r.value,vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,sort_by:l.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},p=async()=>{t.value="",c.value="",_.value="",m.value="",l.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vf-vendor-classification-report",per_page:r.value}}).then(C=>{report_data.value=C.data}).catch(C=>{console.log(C)})},v=h(!1),g=h(!1);return{moment:H,dealers:s,vendor_search:t,unique_id:c,branch_code:_,rm:m,sort_by:l,per_page:r,refresh:p,filter:d,changePage:async C=>{await A.get(C,{params:{per_page:r.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(E=>{s.value=E.data})},downloadReport:()=>{v.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`DF_dealer_classification_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{v.value=!1})},downloadPdf:()=>{g.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{vendor:t.value,unique_id:c.value,branch_code:_.value,rm:m.value,type:"vf-vendor-classification-report",sort_by:l.value}}).then(C=>{const E=window.URL.createObjectURL(new Blob([C.data])),D=document.createElement("a");D.href=E,D.setAttribute("download",`VF_vendor_classification_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(D),D.click()}).catch(C=>{console.log(C)}).finally(()=>{g.value=!1})},downloadingExcel:v,downloadingPdf:g}}},H5n={class:"card p-2"},z5n={class:"d-flex flex-column flex-md-row justify-content-between"},W5n={class:"d-flex flex-wrap gap-1"},K5n={class:""},G5n={for:"Dealer",class:"form-label"},Q5n={class:""},Z5n={for:"RM",class:"form-label"},J5n={class:""},X5n={for:"Unique Identification Number",class:"form-label"},eDn={class:""},tDn={for:"Branch Code",class:"form-label"},oDn={class:""},aDn={for:"Status",class:"form-label"},nDn={value:""},sDn={value:"ASC"},lDn={value:"DESC"},iDn={class:"table-search-btn"},rDn={class:"table-clear-btn"},dDn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},cDn={class:"table-responsive"},uDn={class:"table"},_Dn={class:""},mDn={class:"table-border-bottom-0"},fDn={key:0},hDn={colspan:"12",class:"text-center"},pDn={class:"text-center"},vDn={key:1},gDn={colspan:"12",class:"text-center"},bDn={class:"text-center"},yDn=["href"],kDn={class:"text-success"},$Dn={class:"text-success"};function wDn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",H5n,[e("div",z5n,[e("div",W5n,[e("div",K5n,[e("label",G5n,n(o.$t("Dealer")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Dealer","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor_search=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",Q5n,[e("label",Z5n,n(o.$t("RM")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"RM","onUpdate:modelValue":a[2]||(a[2]=r=>t.rm=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.rm]])]),e("div",J5n,[e("label",X5n,n(o.$t("Unique ID Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Unique Identification No.","onUpdate:modelValue":a[4]||(a[4]=r=>t.unique_id=r),onKeyup:a[5]||(a[5]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.unique_id]])]),e("div",eDn,[e("label",tDn,n(o.$t("Branch Code")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Branch Code","onUpdate:modelValue":a[6]||(a[6]=r=>t.branch_code=r),onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.branch_code]])]),e("div",oDn,[e("label",aDn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.sort_by=r)},[e("option",nDn,n(o.$t("Sort By")),1),e("option",sDn,n(o.$t("Ascending")),1),e("option",lDn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",iDn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.filter&&t.filter(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",rDn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...r)=>t.refresh&&t.refresh(...r))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",dDn,[Y(e("select",{class:"form-select mx-1","onUpdate:modelValue":a[11]||(a[11]=r=>t.per_page=r),style:{height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),e("div",cDn,[e("table",uDn,[e("thead",null,[e("tr",_Dn,[e("th",null,n(o.$t("Dealer")),1),e("th",null,n(o.$t("Branch Code")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Limit Utilized")),1),e("th",null,n(o.$t("DPD Days")),1),e("th",null,n(o.$t("RM")),1)])]),e("tbody",mDn,[t.dealers.data?b("",!0):(u(),f("tr",fDn,[e("td",hDn,[e("span",pDn,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",vDn,[e("td",gDn,[e("span",bDn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.id+"/details",class:"text-primary text-decoration-underline"},n(r.name),9,yDn)]),e("td",null,n(r.branch_code),1),e("td",kDn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",null,n(t.moment(r.limit_expiry_date).format("DD MMM YYYY")),1),e("td",$Dn,n(r.bank.default_currency)+"."+n(new Intl.NumberFormat().format(r.utilized_limit)),1),e("td",null,n(r.dpd_days),1),e("td",null,n(r.relationship_managers.length>0?r.relationship_managers[0].name:""),1)]))),128))])])]),Be(l,{class:"mx-2",from:t.dealers.from,to:t.dealers.to,links:t.dealers.links,next_page:t.dealers.next_page_url,prev_page:t.dealers.prev_page_url,total_items:t.dealers.total,first_page_url:t.dealers.first_page_url,last_page_url:t.dealers.last_page_url,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])])}const DDn=Ue(q5n,[["render",wDn]]),xDn={name:"DfDealerClassificationReport",props:["bank","date_format"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=o.date_format,s=Je("baseURL");lt();const t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"vf-program-mapping-report"}}).then(B=>{t.value=B.data}).catch(B=>{console.log(B)})};Qe(()=>{y()}),ot([w],async([B])=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:B,anchor:m.value,vendor:_.value,program:c.value,per_page:B.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,program_type:v.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)})});const x=async()=>{g.value=$("#limit_expiry_date_search").val(),g.value&&(d.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let B=$(".ti-search").parent();B.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{anchor:m.value,vendor:_.value,program:c.value,per_page:w.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,program_type:v.value}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{B.html('<i class="ti ti-search"></i>')})},C=async()=>{let B=$(".ti-refresh").parent();B.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",_.value="",c.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#limit_expiry_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"vf-program-mapping-report"}}).then(L=>{t.value=L.data}).catch(L=>{console.log(L)}).finally(()=>{B.html('<i class="ti ti-refresh"></i>')})},E=h(!1),D=h(!1);return{moment:H,dealers:t,anchor_search:m,vendor_search:_,program_search:c,sort_by:l,od_expiry_date_from:r,od_expiry_date_to:i,limit_expiry_date_from:d,limit_expiry_date_to:p,program_type_search:v,filter:x,refresh:C,per_page:w,changePage:async B=>{await A.get(B,{params:{per_page:w.value,anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,program_type:v.value}}).then(L=>{t.value=L.data})},downloadReport:()=>{E.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,program_type:v.value}}).then(B=>{const L=window.URL.createObjectURL(new Blob([B.data])),F=document.createElement("a");F.href=L,F.setAttribute("download",`VF_program_mapping_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(F),F.click()}).catch(B=>{console.log(B)}).finally(()=>{E.value=!1})},downloadPdf:()=>{D.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{anchor:m.value,vendor:_.value,program:c.value,type:"vf-program-mapping-report",sort_by:l.value,od_expiry_date_from:r.value,od_expiry_date_to:i.value,limit_expiry_date_from:d.value,limit_expiry_date_to:p.value,program_type:v.value}}).then(B=>{const L=window.URL.createObjectURL(new Blob([B.data])),F=document.createElement("a");F.href=L,F.setAttribute("download",`VF_program_mapping_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(F),F.click()}).catch(B=>{console.log(B)}).finally(()=>{D.value=!1})},date_format:a,downloadingExcel:E,downloadingPdf:D}}},CDn={class:"card p-2"},PDn={class:"d-flex flex-column flex-md-row justify-content-between"},EDn={class:"d-flex flex-wrap gap-1"},ADn={class:""},IDn={for:"Status",class:"form-label"},RDn={value:""},SDn={value:"vendor_financing_receivable"},TDn={value:"factoring_with_recourse"},jDn={value:"factoring_without_recourse"},ODn={class:""},MDn={for:"Vendor",class:"form-label"},LDn={class:""},NDn={for:"Anchor",class:"form-label"},FDn={class:""},YDn={for:"Program",class:"form-label"},VDn={class:""},BDn={class:"form-label"},UDn={class:""},qDn={for:"Status",class:"form-label"},HDn={value:""},zDn={value:"ASC"},WDn={value:"DESC"},KDn={class:"table-search-btn"},GDn={class:"table-clear-btn"},QDn={class:"d-flex justify-contend-md-end gap-1 mt-2 mt-md-auto"},ZDn={class:"table-responsive"},JDn={class:"table"},XDn={class:""},e3n={class:"text-nowrap"},t3n={key:0},o3n={colspan:"12",class:"text-center"},a3n={class:"text-center"},n3n={key:1},s3n={colspan:"12",class:"text-center"},l3n={class:"text-center"},i3n=["href"],r3n=["href"],d3n=["href"],c3n={class:"text-success"},u3n={class:"text-success"},_3n={class:"text-success"},m3n={class:"text-success"};function f3n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",CDn,[e("div",PDn,[e("div",EDn,[e("div",ADn,[e("label",IDn,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_type_search=r)},[e("option",RDn,n(o.$t("Select Program Type")),1),e("option",SDn,n(o.$t("Vendor Financing Receivable")),1),e("option",TDn,n(o.$t("Factoring With Recourse")),1),e("option",jDn,n(o.$t("Factoring Without Recourse")),1)],512),[[de,t.program_type_search]])]),e("div",ODn,[e("label",MDn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[1]||(a[1]=r=>t.vendor_search=r),onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.vendor_search]])]),e("div",LDn,[e("label",NDn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[3]||(a[3]=r=>t.anchor_search=r),onKeyup:a[4]||(a[4]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",FDn,[e("label",YDn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program","onUpdate:modelValue":a[5]||(a[5]=r=>t.program_search=r),onKeyup:a[6]||(a[6]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_search]])]),e("div",VDn,[e("label",BDn,n(o.$t("Limit Expiry Date")),1),e("input",{class:"form-control form-search",type:"text",id:"limit_expiry_date_search",name:"vf-program-mapping-report-limit-expiry-daterange",onKeyup:a[7]||(a[7]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,32)]),e("div",UDn,[e("label",qDn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.sort_by=r)},[e("option",HDn,n(o.$t("Sort By")),1),e("option",zDn,n(o.$t("Ascending")),1),e("option",WDn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",KDn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...r)=>t.filter&&t.filter(...r))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",GDn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...r)=>t.refresh&&t.refresh(...r))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",QDn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[11]||(a[11]=r=>t.per_page=r),style:{width:"5rem",height:"fit-content"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.dealers.meta?(u(),me(l,{key:0,class:"mx-2",from:t.dealers.meta.from,to:t.dealers.meta.to,links:t.dealers.meta.links,next_page:t.dealers.links.next,prev_page:t.dealers.links.prev,total_items:t.dealers.meta.total,first_page_url:t.dealers.links.first,last_page_url:t.dealers.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",ZDn,[e("table",JDn,[e("thead",null,[e("tr",XDn,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Program")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("OD Account")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Utilized Limit")),1),e("th",null,n(o.$t("Pipeline Limit")),1),e("th",null,n(o.$t("Limit Expiry Date")),1),e("th",null,n(o.$t("Margin Rate"))+" (%)",1),e("th",null,n(o.$t("Base Rate Consideration")),1)])]),e("tbody",e3n,[t.dealers.data?b("",!0):(u(),f("tr",t3n,[e("td",o3n,[e("span",a3n,n(o.$t("Loading Data"))+"...",1)])])),t.dealers.data&&t.dealers.data.length<=0?(u(),f("tr",n3n,[e("td",s3n,[e("span",l3n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.dealers.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.buyer_id?r.anchor_id:r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.buyer_name?r.anchor_name:r.company_name),9,i3n)]),e("td",null,[e("a",{href:"../programs/"+r.program_id+"/details",class:"text-primary text-decoration-underline"},n(r.program_name),9,r3n)]),e("td",null,[e("a",{href:"../companies/"+r.buyer_id?r.buyer_id:r.anchor_id+"/details",class:"text-primary text-decoration-underline"},n(r.buyer_name?r.buyer_name:r.anchor_name),9,d3n)]),e("td",null,n(r.payment_account_number),1),e("td",c3n,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",u3n,n(new Intl.NumberFormat().format(r.sanctioned_limit-r.utilized_amount-r.pipeline_amount)),1),e("td",_3n,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",m3n,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",null,n(t.moment(r.expiry_date).format(t.date_format)),1),e("td",null,n(r.total_roi),1),e("td",null,n(r.benchmark_title!=null?r.benchmark_rate+" ("+r.benchmark_rate+"%)":"0%"),1)]))),128))])])]),t.dealers.meta?(u(),me(l,{key:1,class:"mx-2",from:t.dealers.meta.from,to:t.dealers.meta.to,links:t.dealers.meta.links,next_page:t.dealers.links.next,prev_page:t.dealers.links.prev,total_items:t.dealers.meta.total,first_page_url:t.dealers.links.first,last_page_url:t.dealers.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const h3n=Ue(xDn,[["render",f3n]]),p3n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(50),r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:l.value,type:"vendors-daily-outstanding-balance-report"}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},i=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value,date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},d=async()=>{c.value="",m.value="",_.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},p=h(!1),v=h(!1),g=()=>{p.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vendors-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Vendor_daily_outstanding_balance_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{p.value=!1})},w=()=>{v.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vendors-daily-outstanding-balance-report",date:c.value,vendor:m.value,sort_by:_.value}}).then(x=>{const C=window.URL.createObjectURL(new Blob([x.data])),E=document.createElement("a");E.href=C,E.setAttribute("download",`Vendors_daily_outstanding_balance_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(E),E.click()}).catch(x=>{console.log(x)}).finally(()=>{v.value=!1})};return Qe(()=>{r()}),{moment:H,date:c,vendor:m,sort_by:_,per_page:l,report_data:t,filter:i,refresh:d,changePage:async x=>{await A.get(x,{params:{type:"vendors-daily-outstanding-balance-report",per_page:l.value,sort_by:_.value}}).then(C=>{t.value=C.data}).catch(C=>{console.log(C)})},downloadReport:g,downloadPdf:w,date_format:a,downloadingExcel:p,downloadingPdf:v}}},v3n={class:"card p-2",id:"companies"},g3n={class:"d-flex flex-column flex-md-row justify-content-between"},b3n={class:"d-flex flex-wrap gap-1"},y3n={class:""},k3n={for:"Vendor",class:"form-label"},$3n={class:""},w3n={for:"Status",class:"form-label"},D3n={value:""},x3n={value:"ASC"},C3n={value:"DESC"},P3n={class:"table-search-btn"},E3n={class:"table-clear-btn"},A3n={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},I3n={class:""},R3n={class:""},S3n={class:"table-responsive"},T3n={class:"table"},j3n={class:""},O3n={key:0},M3n={colspan:"12",class:"text-center"},L3n={class:"text-center"},N3n={key:1},F3n={colspan:"12",class:"text-center"},Y3n={class:"text-center"},V3n={key:0,class:"d-flex gap-1"},B3n=["href"],U3n={key:1,class:"d-flex gap-1"},q3n=["href"],H3n={class:"text-success"},z3n={class:"text-success"},W3n={class:"text-success"},K3n={class:"text-success"},G3n={class:"text-success"};function Q3n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",v3n,[e("div",g3n,[e("div",b3n,[e("div",y3n,[e("label",k3n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.vendor=r),placeholder:"Vendor",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.vendor]])]),e("div",$3n,[e("label",w3n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[2]||(a[2]=r=>t.sort_by=r)},[e("option",D3n,n(o.$t("Sort By")),1),e("option",x3n,n(o.$t("Ascending")),1),e("option",C3n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",P3n,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",E3n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",A3n,[e("div",I3n,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",R3n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",S3n,[e("table",T3n,[e("thead",null,[e("tr",j3n,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Outstanding Balance")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Limit Utilized"))+"(%)",1),e("th",null,n(o.$t("Available Limit")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",O3n,[e("td",M3n,[e("span",L3n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",N3n,[e("td",F3n,[e("span",Y3n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,n(t.moment().format(t.date_format)),1),e("td",null,[r.buyer_id?(u(),f("span",V3n,[e("a",{href:"../companies/"+r.buyer_id+"/details"},n(r.buyer_name),9,B3n),e("span",null,"("+n(r.payment_account_number)+")",1)])):(u(),f("span",U3n,[e("a",{href:"../companies/"+r.company_id+"/details"},n(r.company_name),9,q3n),e("span",null,"("+n(r.payment_account_number)+")",1)]))]),e("td",H3n,n(new Intl.NumberFormat().format(r.utilized_amount)),1),e("td",z3n,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",W3n,n(new Intl.NumberFormat().format(r.pipeline_amount)),1),e("td",K3n,n(new Intl.NumberFormat().format(r.utilized_percentage)),1),e("td",G3n,n(new Intl.NumberFormat().format(r.sanctioned_limit-(r.utilized_amount+r.pipeline_amount))),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const Z3n=Ue(p3n,[["render",Q3n]]),J3n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(50),x=h(null),C=h(0),E=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:y.value,type:"if-payment-details-report"}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},D=async(O,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+O+"/details").then(S=>{x.value=S.data,C.value++,bt(()=>{document.getElementById(N).click()})}).catch(S=>{console.log(S)})},k=async()=>{w.value=$("#payment_date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"if-payment-details-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},I=async()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",w.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"if-payment-details-report",per_page:y.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},V=h(!1),B=h(!1),L=()=>{w.value=$("#payment_date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),V.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`IF_payment_details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{V.value=!1})},F=()=>{w.value=$("#payment_date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),B.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`IF_payment_details_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{B.value=!1})};return Qe(()=>{E()}),{moment:H,anchor:c,vendor:m,invoice_number:_,disbursement_date:l,dpd:r,status_search:i,product_search:d,sort_by:p,per_page:y,report_data:t,invoice_details:x,filter:k,refresh:I,changePage:async O=>{w.value=$("#payment_date_search").val(),w.value&&(v.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),g.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD")),await A.get(O,{params:{type:"if-payment-details-report",invoice_number:_.value,anchor:c.value,vendor:m.value,disbursement_date:l.value,from_payment_date:v.value,to_payment_date:g.value,dpd:r.value,status:i.value,product:d.value,sort_by:p.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},downloadReport:L,downloadPdf:F,getTaxPercentage:(O,N,S)=>(S/N*100).toFixed(2),resolveStatus:O=>{let N="";switch(O){case"Overdue":N="bg-label-danger";break;case"Created":N="bg-label-secondary";break;case"Pending Approval":N="bg-label-warning";break;case"Pending Maker":N="bg-label-warning";break;case"Pending Checker":N="bg-label-warning";break;case"Submitted":N="bg-label-primary";break;case"Approved":N="bg-label-success";break;case"Disbursed":N="bg-label-success";break;case"Denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},showInvoice:D,date_format:a,downloadingExcel:V,downloadingPdf:B,invoice_details_key:C}}},X3n={class:"card p-2",id:"companies"},exn={class:"d-flex flex-column flex-md-row justify-content-between"},txn={class:"d-flex flex-wrap gap-1"},oxn={class:""},axn={for:"Invoice Number",class:"form-label"},nxn={class:""},sxn={for:"Anchor",class:"form-label"},lxn={class:""},ixn={for:"Vendor",class:"form-label"},rxn={class:""},dxn={for:"Payment Date",class:"form-label"},cxn={class:""},uxn={for:"DPD Days",class:"form-label"},_xn={value:""},mxn={value:"0"},fxn={value:"1-5"},hxn={value:"6-10"},pxn={value:"10"},vxn={class:""},gxn={for:"Status",class:"form-label"},bxn={value:""},yxn={value:"disbursed"},kxn={value:"closed"},$xn={class:""},wxn={for:"Product Type",class:"form-label"},Dxn={value:""},xxn={value:"vendor_financing_receivable"},Cxn={value:"factoring_with_recourse"},Pxn={value:"factoring_without_recourse"},Exn={value:"dealer_financing"},Axn={class:""},Ixn={for:"Status",class:"form-label"},Rxn={value:""},Sxn={value:"ASC"},Txn={value:"DESC"},jxn={class:"table-search-btn"},Oxn={class:"table-clear-btn"},Mxn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},Lxn={class:""},Nxn={class:""},Fxn={class:"table-responsive"},Yxn={class:"table"},Vxn={class:""},Bxn={key:0},Uxn={colspan:"12",class:"text-center"},qxn={class:"text-center"},Hxn={key:1},zxn={colspan:"12",class:"text-center"},Wxn={class:"text-center"},Kxn=["onClick"],Gxn=["href"],Qxn=["href"],Zxn=["href"],Jxn={class:"text-success"},Xxn={class:"badge bg-label-success m_title"},eCn=["href"],tCn=["id","data-bs-target"],oCn=["id","data-bs-target"],aCn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},nCn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},sCn={class:"modal-content"},lCn={class:"modal-body"},iCn={class:"d-flex justify-content-center"};function rCn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",X3n,[e("div",exn,[e("div",txn,[e("div",oxn,[e("label",axn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",nxn,[e("label",sxn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",lxn,[e("label",ixn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",rxn,[e("label",dxn,n(o.$t("Payment Date")),1),e("input",{class:"form-control form-search",type:"text",id:"payment_date_search",name:"if-payment-details-report-payment-daterange",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"])),autocomplete:"off"},null,32)]),e("div",cxn,[e("label",uxn,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.dpd=d)},[e("option",_xn,n(o.$t("DPD")),1),e("option",mxn,n(o.$t("Less than 0 and 0 Days")),1),e("option",fxn,"1 - 5 "+n(o.$t("Days")),1),e("option",hxn,"6 - 10 "+n(o.$t("Days")),1),e("option",pxn,n(o.$t("More than 10 Days")),1)],512),[[de,t.dpd]])]),e("div",vxn,[e("label",gxn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=d=>t.status_search=d)},[e("option",bxn,n(o.$t("Status")),1),e("option",yxn,n(o.$t("Disbursed")),1),e("option",kxn,n(o.$t("Closed")),1)],512),[[de,t.status_search]])]),e("div",$xn,[e("label",wxn,n(o.$t("Product Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect","onUpdate:modelValue":a[9]||(a[9]=d=>t.product_search=d)},[e("option",Dxn,n(o.$t("Product Type")),1),e("option",xxn,n(o.$t("Vendor Financing Receivable")),1),e("option",Cxn,n(o.$t("Factoring With Recourse")),1),e("option",Pxn,n(o.$t("Factoring Without Recourse")),1),e("option",Exn,n(o.$t("Dealer Financing")),1)],512),[[de,t.product_search]])]),e("div",Axn,[e("label",Ixn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.sort_by=d)},[e("option",Rxn,n(o.$t("Sort By")),1),e("option",Sxn,n(o.$t("Ascending")),1),e("option",Txn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",jxn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.filter&&t.filter(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",Oxn,[e("button",{class:"btn btn-primary btn-md",onClick:a[12]||(a[12]=(...d)=>t.refresh&&t.refresh(...d))},a[15]||(a[15]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",Mxn,[e("div",Lxn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[13]||(a[13]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[16]||(a[16]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",Nxn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",Fxn,[e("table",Yxn,[e("thead",null,[e("tr",Vxn,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("DPD"))+" ("+n(o.$t("Days"))+")",1),e("th",null,n(o.$t("Total Outstanding")),1),e("th",null,n(o.$t("Status")),1),e("th",null,n(o.$t("Action")),1),a[17]||(a[17]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",Bxn,[e("td",Uxn,[e("span",qxn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Hxn,[e("td",zxn,[e("span",Wxn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,Kxn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,Gxn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,Qxn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,Zxn)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",null,n(d.days_past_due),1),e("td",Jxn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,[e("span",Xxn,n(d.status),1)]),e("td",null,[e("a",{href:"../reports/"+d.id+"/payment-details",target:"_blank",class:"text-info"},a[18]||(a[18]=[e("i",{class:"ti ti-eye ti-sm"},null,-1)]),8,eCn)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,tCn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,oCn),a[20]||(a[20]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",aCn,[e("div",nCn,[e("div",sCn,[e("div",lCn,[e("div",iCn,[e("span",null,n(o.$t("Loading"))+"...",1),a[19]||(a[19]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const dCn=Ue(J3n,[["render",rCn]]),cCn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(50),x=h(null),C=h(0),E=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:y.value,type:"vf-fees-and-interest-sharing-report"}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},D=async(O,N)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+O+"/details").then(S=>{x.value=S.data,C.value++,bt(()=>{document.getElementById(N).click()})}).catch(S=>{console.log(S)})};ot([y],async([O])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:O,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value,program_type:g.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})});const k=async()=>{w.value=$("#payment_date_search").val(),w.value&&(r.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD"));let O=$(".ti-search").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value,program_type:g.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-search"></i>')})},I=async()=>{let O=$(".ti-refresh").parent();O.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-fees-and-interest-sharing-report",per_page:y.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)}).finally(()=>{O.html('<i class="ti ti-refresh"></i>')})},V=h(!1),B=h(!1),L=()=>{V.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value,program_type:g.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`VF_fees_charges_and_interest_sharing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{V.value=!1})},F=()=>{B.value=!1,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-fees-and-interest-sharing-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value,program_type:g.value}}).then(O=>{const N=window.URL.createObjectURL(new Blob([O.data])),S=document.createElement("a");S.href=N,S.setAttribute("download",`VF_fees_and_interest_sharing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(S),S.click()}).catch(O=>{console.log(O)}).finally(()=>{B.value=!1})};return Qe(()=>{E()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,sort_by:v,status:p,program_type_search:g,per_page:y,report_data:t,invoice_details:x,showInvoice:D,filter:k,refresh:I,changePage:async O=>{await A.get(O,{params:{type:"vf-fees-and-interest-sharing-report",per_page:y.value,sort_by:v.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,program_type:g.value}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},downloadReport:L,downloadPdf:F,getTaxPercentage:(O,N,S)=>(S/N*100).toFixed(2),resolveStatus:O=>{let N="";switch(O){case"Overdue":N="bg-label-danger";break;case"Created":N="bg-label-secondary";break;case"Pending Approval":N="bg-label-warning";break;case"Pending Maker":N="bg-label-warning";break;case"Pending Checker":N="bg-label-warning";break;case"Submitted":N="bg-label-primary";break;case"Approved":N="bg-label-success";break;case"Disbursed":N="bg-label-success";break;case"Denied":N="bg-label-danger";break;default:N="bg-label-primary";break}return N},date_format:a,invoice_details_key:C,downloadingExcel:V,downloadingPdf:B}}},uCn={class:"card p-2",id:"companies"},_Cn={class:"d-flex flex-column flex-md-row justify-content-between"},mCn={class:"d-flex flex-wrap gap-1"},fCn={class:""},hCn={for:"Invoice Number",class:"form-label"},pCn={class:""},vCn={for:"Vendor",class:"form-label"},gCn={class:""},bCn={for:"Disbursement Date",class:"form-label"},yCn={class:""},kCn={for:"Status",class:"form-label"},$Cn={value:""},wCn={value:"financed"},DCn={value:"disbursed"},xCn={value:"closed"},CCn={class:""},PCn={for:"Status",class:"form-label"},ECn={value:""},ACn={value:"vendor_financing_receivable"},ICn={value:"factoring_with_recourse"},RCn={value:"factoring_without_recourse"},SCn={class:""},TCn={for:"Status",class:"form-label"},jCn={value:""},OCn={value:"ASC"},MCn={value:"DESC"},LCn={class:"table-search-btn"},NCn={class:"table-clear-btn"},FCn={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},YCn={class:""},VCn={class:""},BCn={class:"table-responsive"},UCn={class:"table"},qCn={class:""},HCn={key:0},zCn={colspan:"12",class:"text-center"},WCn={class:"text-center"},KCn={key:1},GCn={colspan:"12",class:"text-center"},QCn={class:"text-center"},ZCn=["href"],JCn=["href"],XCn=["onClick"],ePn={class:"text-success"},tPn={class:"text-success"},oPn={class:"text-success"},aPn={class:"text-success"},nPn={class:"text-success"},sPn={class:"badge bg-label-success m_title"},lPn=["id","data-bs-target"],iPn=["id","data-bs-target"],rPn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},dPn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},cPn={class:"modal-content"},uPn={class:"modal-body"},_Pn={class:"d-flex justify-content-center"};function mPn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",uCn,[e("div",_Cn,[e("div",mCn,[e("div",fCn,[e("label",hCn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",pCn,[e("label",vCn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[2]||(a[2]=d=>t.vendor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",gCn,[e("label",bCn,n(o.$t("Payment Date")),1),a[10]||(a[10]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-fees-and-interest-sharing-report-payment-daterange",placeholder:"Select Dates"},null,-1))]),e("div",yCn,[e("label",kCn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[4]||(a[4]=d=>t.status=d)},[e("option",$Cn,n(o.$t("Status")),1),e("option",wCn,n(o.$t("Financed")),1),e("option",DCn,n(o.$t("Disbursed")),1),e("option",xCn,n(o.$t("Closed")),1)],512),[[de,t.status]])]),e("div",CCn,[e("label",PCn,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[5]||(a[5]=d=>t.program_type_search=d)},[e("option",ECn,n(o.$t("Select Program Type")),1),e("option",ACn,n(o.$t("Vendor Financing Receivable")),1),e("option",ICn,n(o.$t("Factoring With Recourse")),1),e("option",RCn,n(o.$t("Factoring Without Recourse")),1)],512),[[de,t.program_type_search]])]),e("div",SCn,[e("label",TCn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[6]||(a[6]=d=>t.sort_by=d)},[e("option",jCn,n(o.$t("Sort By")),1),e("option",OCn,n(o.$t("Ascending")),1),e("option",MCn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",LCn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.filter&&t.filter(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",NCn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.refresh&&t.refresh(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",FCn,[e("div",YCn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=d=>t.per_page=d),style:{height:"fit-content"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",VCn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",BCn,[e("table",UCn,[e("thead",null,[e("tr",qCn,[e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Invoice No.")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Anchor's Discount Share")),1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Anchor's Fees Share")),1),e("th",null,n(o.$t("Status")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",HCn,[e("td",zCn,[e("span",WCn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",KCn,[e("td",GCn,[e("span",QCn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,[d.buyer_id?(u(),f("a",{key:0,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,ZCn)):(u(),f("a",{key:1,href:"../companies/"+d.company_id+"/details"},n(d.company),9,JCn))]),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,XCn),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",ePn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",tPn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",oPn,n(new Intl.NumberFormat().format(d.anchor_discount_bearing_amount)),1),e("td",aPn,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",nPn,n(new Intl.NumberFormat().format(d.anchor_fee_bearing_amount)),1),e("td",null,[e("span",sPn,n(d.financing_status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,lPn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,iPn),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",rPn,[e("div",dPn,[e("div",cPn,[e("div",uPn,[e("div",_Pn,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const fPn=Ue(cCn,[["render",mPn]]),hPn={name:"DFOverdueInvoices",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=h(null),x=h(0),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"vf-income-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},E=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(N=>{y.value=N.data,x.value++,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})};ot([w],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:R,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})});const D=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},k=async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-income-report",per_page:w.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`VF_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`VF_income_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!1})};return Qe(()=>{C()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:d,status:p,sort_by:v,per_page:w,report_data:t,invoice_details:y,filter:D,refresh:k,changePage:async R=>{await A.get(R,{params:{type:"vf-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},downloadReport:B,downloadPdf:L,getTaxPercentage:(R,O,N)=>(N/O*100).toFixed(2),resolveStatus:R=>{let O="";switch(R){case"Overdue":O="bg-label-danger";break;case"Created":O="bg-label-secondary";break;case"Pending Approval":O="bg-label-warning";break;case"Pending Maker":O="bg-label-warning";break;case"Pending Checker":O="bg-label-warning";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},showInvoice:E,date_format:a,downloadingExcel:I,downloadingPdf:V,invoice_details_key:x}}},pPn={class:"card p-2",id:"companies"},vPn={class:"d-flex flex-column flex-md-row justify-content-between"},gPn={class:"d-flex flex-wrap gap-1"},bPn={class:""},yPn={for:"Invoice Number",class:"form-label"},kPn={class:""},$Pn={for:"Anchor",class:"form-label"},wPn={class:""},DPn={for:"Vendor",class:"form-label"},xPn={class:""},CPn={for:"Disbursement Date",class:"form-label"},PPn={class:""},EPn={for:"Status",class:"form-label"},APn={value:""},IPn={value:"disbursed"},RPn={value:"past_due"},SPn={value:"closed"},TPn={class:""},jPn={for:"Status",class:"form-label"},OPn={value:""},MPn={value:"ASC"},LPn={value:"DESC"},NPn={class:"table-search-btn"},FPn={class:"table-clear-btn"},YPn={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},VPn={class:""},BPn={class:""},UPn={class:"table-responsive"},qPn={class:"table"},HPn={class:""},zPn={key:0},WPn={colspan:"12",class:"text-center"},KPn={class:"text-center"},GPn={key:1},QPn={colspan:"12",class:"text-center"},ZPn={class:"text-center"},JPn=["onClick"],XPn=["href"],e4n=["href"],t4n=["href"],o4n={class:"text-success"},a4n={class:"text-success"},n4n={class:""},s4n={class:"text-success"},l4n={class:"text-success"},i4n={class:"text-success"},r4n=["id","data-bs-target"],d4n=["id","data-bs-target"],c4n={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},u4n={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},_4n={class:"modal-content"},m4n={class:"modal-body"},f4n={class:"d-flex justify-content-center"};function h4n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",pPn,[e("div",vPn,[e("div",gPn,[e("div",bPn,[e("label",yPn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",kPn,[e("label",$Pn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",wPn,[e("label",DPn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",xPn,[e("label",CPn,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",PPn,[e("label",EPn,n(o.$t("Status")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.status=d)},[e("option",APn,n(o.$t("Status")),1),e("option",IPn,n(o.$t("Disbursed")),1),e("option",RPn,n(o.$t("Overdue")),1),e("option",SPn,n(o.$t("Closed")),1)],512),[[de,t.status]])]),e("div",TPn,[e("label",jPn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",OPn,n(o.$t("Sort By")),1),e("option",MPn,n(o.$t("Ascending")),1),e("option",LPn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",NPn,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",FPn,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",YPn,[e("div",VPn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[14]||(a[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",BPn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",UPn,[e("table",qPn,[e("thead",null,[e("tr",HPn,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount Rate"))+"(%)",1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal")),1),e("th",null,n(o.$t("Status")),1),a[15]||(a[15]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",zPn,[e("td",WPn,[e("span",KPn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",GPn,[e("td",QPn,[e("span",ZPn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,JPn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,XPn)]),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,e4n)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,t4n))]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",o4n,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",a4n,n(new Intl.NumberFormat().format(d.balance)),1),e("td",n4n,n(d.discount_rate),1),e("td",s4n,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",l4n,n(new Intl.NumberFormat().format(d.discount)),1),e("td",i4n,n(new Intl.NumberFormat().format(d.overdue_amount)),1),e("td",null,[e("span",{class:rt("badge m_title "+t.resolveStatus(d.approval_stage))},n(d.approval_stage),3)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,r4n),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,d4n),a[17]||(a[17]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",c4n,[e("div",u4n,[e("div",_4n,[e("div",m4n,[e("div",f4n,[e("span",null,n(o.$t("Loading"))+"...",1),a[16]||(a[16]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const p4n=Ue(hPn,[["render",h4n]]),v4n={name:"FactoringIncomeReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(50),y=h(null),x=h(0),C=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:w.value,type:"factoring-income-report"}}).then(R=>{t.value=R.data}).catch(R=>{console.log(R)})},E=async(R,O)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+R+"/details").then(N=>{y.value=N.data,x.value++,bt(()=>{document.getElementById(O).click()})}).catch(N=>{console.log(N)})};ot([w],async([R])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:R,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})});const D=async()=>{g.value=$("#payment_date_search").val(),g.value&&(r.value=H(g.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(g.value.split(" - ")[1]).format("YYYY-MM-DD"));let R=$(".ti-search").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-search"></i>')})},k=async()=>{let R=$(".ti-refresh").parent();R.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",$("#payment_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"factoring-income-report",per_page:w.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)}).finally(()=>{R.html('<i class="ti ti-refresh"></i>')})},I=h(!1),V=h(!1),B=()=>{I.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"factoring-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Factoring_income_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{I.value=!1})},L=()=>{V.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-income-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(R=>{const O=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=O,N.setAttribute("download",`Factoring_income_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(N),N.click()}).catch(R=>{console.log(R)}).finally(()=>{V.value=!1})};return Qe(()=>{C()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,from_payment_date_search:r,to_payment_date_search:i,dpd:d,status:p,sort_by:v,per_page:w,report_data:t,invoice_details:y,filter:D,refresh:k,changePage:async R=>{await A.get(R,{params:{type:"vf-income-report",per_page:w.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,dpd:d.value,status:p.value,sort_by:v.value}}).then(O=>{t.value=O.data}).catch(O=>{console.log(O)})},downloadReport:B,downloadPdf:L,getTaxPercentage:(R,O,N)=>(N/O*100).toFixed(2),resolveStatus:R=>{let O="";switch(R){case"Overdue":O="bg-label-danger";break;case"Created":O="bg-label-secondary";break;case"Pending Approval":O="bg-label-warning";break;case"Pending Maker":O="bg-label-warning";break;case"Pending Checker":O="bg-label-warning";break;case"Submitted":O="bg-label-primary";break;case"Approved":O="bg-label-success";break;case"Disbursed":O="bg-label-success";break;case"Denied":O="bg-label-danger";break;default:O="bg-label-primary";break}return O},showInvoice:E,date_format:a,downloadingExcel:I,downloadingPdf:V}}},g4n={class:"card p-2",id:"companies"},b4n={class:"d-flex flex-column flex-md-row justify-content-between"},y4n={class:"d-flex flex-wrap gap-1"},k4n={class:""},$4n={for:"Invoice Number",class:"form-label"},w4n={class:""},D4n={for:"Anchor",class:"form-label"},x4n={class:""},C4n={for:"Vendor",class:"form-label"},P4n={class:""},E4n={for:"Disbursement Date",class:"form-label"},A4n={class:""},I4n={for:"Status",class:"form-label"},R4n={class:"form-select form-search",id:"exampleFormControlSelect1"},S4n={value:""},T4n={value:"disbursed"},j4n={value:"past_due"},O4n={value:"closed"},M4n={class:""},L4n={for:"Status",class:"form-label"},N4n={value:""},F4n={value:"ASC"},Y4n={value:"DESC"},V4n={class:"table-search-btn"},B4n={class:"table-clear-btn"},U4n={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},q4n={class:""},H4n={class:""},z4n={class:"table-responsive"},W4n={class:"table"},K4n={class:""},G4n={key:0},Q4n={colspan:"12",class:"text-center"},Z4n={class:"text-center"},J4n={key:1},X4n={colspan:"12",class:"text-center"},eEn={class:"text-center"},tEn=["onClick"],oEn=["href"],aEn=["href"],nEn=["href"],sEn={class:"text-success"},lEn={class:"text-success"},iEn={class:""},rEn={class:"text-success"},dEn={class:"text-success"},cEn={class:"text-success"},uEn={key:0,class:"badge bg-label-danger m_title"},_En={key:1,class:"badge bg-label-success m_title"},mEn=["id","data-bs-target"],fEn=["id","data-bs-target"],hEn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},pEn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},vEn={class:"modal-content"},gEn={class:"modal-body"},bEn={class:"d-flex justify-content-center"};function yEn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",g4n,[e("div",b4n,[e("div",y4n,[e("div",k4n,[e("label",$4n,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",w4n,[e("label",D4n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",x4n,[e("label",C4n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",P4n,[e("label",E4n,n(o.$t("Payment Date")),1),a[10]||(a[10]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"factoring-income-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",A4n,[e("label",I4n,n(o.$t("Status")),1),e("select",R4n,[e("option",S4n,n(o.$t("Status")),1),e("option",T4n,n(o.$t("Disbursed")),1),e("option",j4n,n(o.$t("Overdue")),1),e("option",O4n,n(o.$t("Closed")),1)])]),e("div",M4n,[e("label",L4n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.sort_by=d)},[e("option",N4n,n(o.$t("Sort By")),1),e("option",F4n,n(o.$t("Ascending")),1),e("option",Y4n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",V4n,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...d)=>t.filter&&t.filter(...d))},a[11]||(a[11]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",B4n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.refresh&&t.refresh(...d))},a[12]||(a[12]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",U4n,[e("div",q4n,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[9]||(a[9]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[13]||(a[13]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",H4n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",z4n,[e("table",W4n,[e("thead",null,[e("tr",K4n,[e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Amount")),1),e("th",null,n(o.$t("Principle Balance")),1),e("th",null,n(o.$t("Discount Rate"))+"(%)",1),e("th",null,n(o.$t("Fees/Charges")),1),e("th",null,n(o.$t("Total Posted Discount")),1),e("th",null,n(o.$t("Total Posted Penal Discount")),1),e("th",null,n(o.$t("Status")),1),a[14]||(a[14]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",G4n,[e("td",Q4n,[e("span",Z4n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",J4n,[e("td",X4n,[e("span",eEn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,tEn),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,oEn)]),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,aEn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,nEn))]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",sEn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",lEn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",iEn,n(d.discount_rate),1),e("td",rEn,n(new Intl.NumberFormat().format(d.program_fees)),1),e("td",dEn,n(new Intl.NumberFormat().format(d.discount)),1),e("td",cEn,n(new Intl.NumberFormat().format(d.overdue_amount)),1),e("td",null,[d.financing_status=="disbursed"&&t.moment().isAfter(d.due_date)?(u(),f("span",uEn,"Overdue")):(u(),f("span",_En,n(d.financing_status),1))]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,mEn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,fEn),a[16]||(a[16]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",hEn,[e("div",pEn,[e("div",vEn,[e("div",gEn,[e("div",bEn,[e("span",null,n(o.$t("Loading"))+"...",1),a[15]||(a[15]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:o.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const kEn=Ue(v4n,[["render",yEn]]),$En={name:"VFPotentialFinancingReport",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(""),x=h(50),C=h(null),E=h(0),D=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:x.value,type:"vf-potential-financing-report"}}).then(N=>{t.value=N.data}).catch(N=>{console.log(N)})},k=async(N,S)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+N+"/details").then(U=>{C.value=U.data,E.value++,bt(()=>{document.getElementById(S).click()})}).catch(U=>{console.log(U)})};ot([x],async([N])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:N,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,from_invoice_date:r.value,from_invoice_date:i.value,due_date:d.value,from_due_date:p.value,to_due_date:v.value,sort_by:g.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})});const I=async()=>{y.value=$("#due_date_search").val(),y.value&&(p.value=H(y.value.split(" - ")[0]).format("YYYY-MM-DD"),v.value=H(y.value.split(" - ")[1]).format("YYYY-MM-DD")),w.value=$("#invoice_date_search").val(),w.value&&(r.value=H(w.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(w.value.split(" - ")[1]).format("YYYY-MM-DD"));let N=$(".ti-search").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:x.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,from_invoice_date:r.value,from_invoice_date:i.value,due_date:d.value,from_due_date:p.value,to_due_date:v.value,sort_by:g.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-search"></i>')})},V=async()=>{let N=$(".ti-refresh").parent();N.html('<img src="../../../../../../assets/img/spinner.svg" />'),c.value="",m.value="",_.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",$("#invoice_date_search").val(""),$("#due_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-potential-financing-report",per_page:x.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)}).finally(()=>{N.html('<i class="ti ti-refresh"></i>')})},B=h(!1),L=h(!1),F=()=>{B.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,from_invoice_date:r.value,from_invoice_date:i.value,due_date:d.value,from_due_date:p.value,to_due_date:v.value,sort_by:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`VF_potential_financing_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{B.value=!1})},T=()=>{L.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-potential-financing-report",anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,from_invoice_date:r.value,from_invoice_date:i.value,due_date:d.value,from_due_date:p.value,to_due_date:v.value,sort_by:g.value}}).then(N=>{const S=window.URL.createObjectURL(new Blob([N.data])),U=document.createElement("a");U.href=S,U.setAttribute("download",`VF_potential_financing_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(U),U.click()}).catch(N=>{console.log(N)}).finally(()=>{L.value=!1})};return Qe(()=>{D()}),{moment:H,anchor:c,vendor:m,invoice_number:_,invoice_date:l,due_date:d,sort_by:g,per_page:x,report_data:t,invoice_details:C,showInvoice:k,filter:I,refresh:V,changePage:async N=>{await A.get(N,{params:{type:"vf-potential-financing-report",per_page:x.value,anchor:c.value,vendor:m.value,invoice_number:_.value,invoice_date:l.value,from_invoice_date:r.value,from_invoice_date:i.value,due_date:d.value,from_due_date:p.value,to_due_date:v.value,sort_by:g.value}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},downloadReport:F,downloadPdf:T,getTaxPercentage:(N,S,U)=>(U/S*100).toFixed(2),resolveStatus:N=>{let S="";switch(N){case"Overdue":S="bg-label-danger";break;case"Created":S="bg-label-secondary";break;case"Pending Approval":S="bg-label-warning";break;case"Pending Maker":S="bg-label-warning";break;case"Pending Checker":S="bg-label-warning";break;case"Submitted":S="bg-label-primary";break;case"Approved":S="bg-label-success";break;case"Disbursed":S="bg-label-success";break;case"Denied":S="bg-label-danger";break;default:S="bg-label-primary";break}return S},date_format:a,downloadingExcel:B,downloadingPdf:L,invoice_details_key:E}}},wEn={class:"card p-2",id:"companies"},DEn={class:"d-flex flex-column flex-md-row justify-content-between"},xEn={class:"d-flex flex-wrap gap-1"},CEn={class:""},PEn={for:"Invoice Number",class:"form-label"},EEn={class:""},AEn={for:"Anchor",class:"form-label"},IEn={class:""},REn={for:"Vendor",class:"form-label"},SEn={class:""},TEn={class:"form-label"},jEn={class:""},OEn={class:"form-label"},MEn={class:""},LEn={for:"Program Type",class:"form-label"},NEn={value:""},FEn={value:"vendor_financing_receivable"},YEn={value:"factoring_with_recourse"},VEn={value:"factoring_without_recourse"},BEn={class:""},UEn={for:"Status",class:"form-label"},qEn={value:""},HEn={value:"ASC"},zEn={value:"DESC"},WEn={class:"table-search-btn"},KEn={class:"table-clear-btn"},GEn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto"},QEn={class:""},ZEn={class:""},JEn={class:"table-responsive"},XEn={class:"table"},eAn={class:""},tAn={key:0},oAn={colspan:"12",class:"text-center"},aAn={class:"text-center"},nAn={key:1},sAn={colspan:"12",class:"text-center"},lAn={class:"text-center"},iAn=["onClick"],rAn=["href"],dAn=["href"],cAn=["href"],uAn={class:"text-success"},_An={class:""},mAn={class:""},fAn=["id","data-bs-target"],hAn=["id","data-bs-target"],pAn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},vAn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},gAn={class:"modal-content"},bAn={class:"modal-body"},yAn={class:"d-flex justify-content-center"};function kAn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",wEn,[e("div",DEn,[e("div",xEn,[e("div",CEn,[e("label",PEn,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",EEn,[e("label",AEn,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",IEn,[e("label",REn,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",SEn,[e("label",TEn,n(o.$t("Invoice Date")),1),e("input",{class:"form-control form-search",type:"text",id:"invoice_date_search",name:"vf-potential-financing-report-invoice-daterange",onKeyup:a[6]||(a[6]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",jEn,[e("label",OEn,n(o.$t("Due Date")),1),e("input",{class:"form-control form-search",type:"text",id:"due_date_search",name:"vf-potential-financing-report-due-daterange",onKeyup:a[7]||(a[7]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,32)]),e("div",MEn,[e("label",LEn,n(o.$t("Program Type")),1),Y(e("select",{class:"form-select form-search","onUpdate:modelValue":a[8]||(a[8]=d=>o.program_type_search=d)},[e("option",NEn,n(o.$t("Program Type")),1),e("option",FEn,n(o.$t("Vendor Financing Receivable")),1),e("option",YEn,n(o.$t("Factoring With Recourse")),1),e("option",VEn,n(o.$t("Factoring Without Recourse")),1)],512),[[de,o.program_type_search]])]),e("div",BEn,[e("label",UEn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[9]||(a[9]=d=>t.sort_by=d)},[e("option",qEn,n(o.$t("Sort By")),1),e("option",HEn,n(o.$t("Ascending")),1),e("option",zEn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",WEn,[e("button",{class:"btn btn-primary btn-md",onClick:a[10]||(a[10]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",KEn,[e("button",{class:"btn btn-primary btn-md",onClick:a[11]||(a[11]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",GEn,[e("div",QEn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[12]||(a[12]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",ZEn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",JEn,[e("table",XEn,[e("thead",null,[e("tr",eAn,[e("th",null,n(o.$t("Invoice/Unique Ref No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Net Invoice Amount")),1),e("th",null,n(o.$t("Invoice Date")),1),e("th",null,n(o.$t("Due Date")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",tAn,[e("td",oAn,[e("span",aAn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",nAn,[e("td",sAn,[e("span",lAn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,iAn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,rAn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,dAn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,cAn)]),e("td",uAn,n(new Intl.NumberFormat().format(d.invoice_total_amount)),1),e("td",null,[e("span",_An,n(t.moment(d.invoice_date).format(t.date_format)),1)]),e("td",null,[e("span",mAn,n(t.moment(d.due_date).format(t.date_format)),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,fAn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,hAn),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",pAn,[e("div",vAn,[e("div",gAn,[e("div",bAn,[e("div",yAn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const $An=Ue($En,[["render",kAn]]),wAn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(50),g=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:v.value,type:"vf-repayment-details-report"}}).then(I=>{t.value=I.data}).catch(I=>{console.log(I)})};ot([v],async([I])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:I,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})});const w=async()=>{p.value=$("#transaction_date_search").val(),p.value&&(l.value=H(p.value.split(" - ")[0]).format("YYYY-MM-DD"),r.value=H(p.value.split(" - ")[1]).format("YYYY-MM-DD"));let I=$(".ti-search").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:v.value,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-search"></i>')})},y=async()=>{let I=$(".ti-refresh").parent();I.html('<img src="../../../../../../assets/img/spinner.svg" />'),m.value="",c.value="",_.value="",l.value="",r.value="",d.value="",i.value="",$("#transaction_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-repayment-details-report",per_page:v.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)}).finally(()=>{I.html('<i class="ti ti-refresh"></i>')})},x=h(!1),C=h(!1),E=()=>{x.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_Repayment_details_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{x.value=!1})},D=()=>{C.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-repayment-details-report",program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(I=>{const V=window.URL.createObjectURL(new Blob([I.data])),B=document.createElement("a");B.href=V,B.setAttribute("download",`VF_Repayment_details_report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(B),B.click()}).catch(I=>{console.log(I)}).finally(()=>{C.value=!1})};return Qe(()=>{g()}),{moment:H,program_name:m,cbs_id:c,date:_,set_off_type:i,sort_by:d,per_page:v,report_data:t,filter:w,refresh:y,changePage:async I=>{await A.get(I,{params:{type:"vf-repayment-details-report",per_page:v.value,program_name:m.value,cbs_id:c.value,date:_.value,from_transaction_date:l.value,to_transaction_date:r.value,sort_by:d.value,set_off_type:i.value}}).then(V=>{t.value=V.data}).catch(V=>{console.log(V)})},downloadPdf:D,downloadReport:E,date_format:a,downloadingExcel:x,downloadingPdf:C}}},DAn={class:"card p-2",id:"companies"},xAn={class:"d-flex flex-column flex-md-row justify-content-between"},CAn={class:"d-flex flex-wrap gap-1"},PAn={class:""},EAn={for:"Program",class:"form-label"},AAn={class:""},IAn={for:"CBS ID",class:"form-label"},RAn={class:""},SAn={for:"Date",class:"form-label"},TAn={class:""},jAn={for:"Set Off Type",class:"form-label"},OAn={value:""},MAn={value:"Overdue Account"},LAn={value:"Bank Invoice Payment"},NAn={value:"Discount Charge"},FAn={value:"Fees/Charges"},YAn={class:""},VAn={for:"Status",class:"form-label"},BAn={value:""},UAn={value:"ASC"},qAn={value:"DESC"},HAn={class:"table-search-btn"},zAn={class:"table-clear-btn"},WAn={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},KAn={class:""},GAn={class:""},QAn={class:"table-responsive"},ZAn={class:"table"},JAn={class:""},XAn={key:0},e6n={colspan:"12",class:"text-center"},t6n={class:"text-center"},o6n={key:1},a6n={colspan:"12",class:"text-center"},n6n={class:"text-center"},s6n={key:0},l6n={key:1},i6n={key:2},r6n={key:3},d6n={key:0},c6n={key:1},u6n={key:2},_6n={key:3};function m6n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",DAn,[e("div",xAn,[e("div",CAn,[e("div",PAn,[e("label",EAn,n(o.$t("Program")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"Program Name","onUpdate:modelValue":a[0]||(a[0]=r=>t.program_name=r),onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.program_name]])]),e("div",AAn,[e("label",IAn,n(o.$t("CBS ID")),1),Y(e("input",{type:"text",class:"form-control form-search",placeholder:"CBS ID","onUpdate:modelValue":a[2]||(a[2]=r=>t.cbs_id=r),onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.cbs_id]])]),e("div",RAn,[e("label",SAn,n(o.$t("Date")),1),a[9]||(a[9]=e("input",{type:"text",id:"transaction_date_search",class:"form-control form-search",name:"vf-repayment-details-report-transaction-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",TAn,[e("label",jAn,n(o.$t("Set Off Type")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[4]||(a[4]=r=>t.set_off_type=r)},[e("option",OAn,n(o.$t("Set off type")),1),e("option",MAn,n(o.$t("Penal Interest")),1),e("option",LAn,n(o.$t("Principal")),1),e("option",NAn,n(o.$t("Discount Charge")),1),e("option",FAn,n(o.$t("Fee Charge")),1)],512),[[de,t.set_off_type]])]),e("div",YAn,[e("label",VAn,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[5]||(a[5]=r=>t.sort_by=r)},[e("option",BAn,n(o.$t("Sort By")),1),e("option",UAn,n(o.$t("Ascending")),1),e("option",qAn,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",HAn,[e("button",{class:"btn btn-primary btn-md",onClick:a[6]||(a[6]=(...r)=>t.filter&&t.filter(...r))},a[10]||(a[10]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",zAn,[e("button",{class:"btn btn-primary btn-md",onClick:a[7]||(a[7]=(...r)=>t.refresh&&t.refresh(...r))},a[11]||(a[11]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",WAn,[e("div",KAn,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[8]||(a[8]=r=>t.per_page=r),style:{height:"fit-content"}},a[12]||(a[12]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",GAn,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",QAn,[e("table",ZAn,[e("thead",null,[e("tr",JAn,[e("th",null,n(o.$t("Date")),1),e("th",null,n(o.$t("CBS ID")),1),e("th",null,n(o.$t("Program Name")),1),e("th",null,n(o.$t("Total Repayment Amount")),1),e("th",null,n(o.$t("Set off Amount")),1),e("th",null,n(o.$t("Balance Amount")),1),e("th",null,n(o.$t("Set off particulars")),1),e("th",null,n(o.$t("Set off type")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",XAn,[e("td",e6n,[e("span",t6n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",o6n,[e("td",a6n,[e("span",n6n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("span",null,n(t.moment(r.transaction_created_date).format(t.date_format)),1)]),e("td",null,[e("span",null,n(r.id),1)]),e("td",null,[e("span",null,n(r.payment_request.program_name),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_amount)),1)]),e("td",null,[e("span",null,n(new Intl.NumberFormat().format(r.payment_request.invoice_balance)),1)]),e("td",null,[r.transaction_type==="Overdue Account"?(u(),f("span",s6n,n(o.$t("Penal Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Bank Invoice Payment"||r.transaction_type==="Repayment"?(u(),f("span",l6n,n(o.$t("Principle for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Discount Charge"||r.transaction_type==="Accrual/Posted Interest"?(u(),f("span",i6n,n(o.$t("Discount Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0),r.transaction_type==="Fees/Charges"?(u(),f("span",r6n,n(o.$t("Fee Charge for"))+" "+n(r.payment_request.invoice_number),1)):b("",!0)]),e("td",null,[r.transaction_type==="Overdue Account"?(u(),f("span",d6n,n(o.$t("Penal Charge")),1)):b("",!0),r.transaction_type==="Bank Invoice Payment"||r.transaction_type=="Repayment"?(u(),f("span",c6n,n(o.$t("Principle")),1)):b("",!0),r.transaction_type==="Discount Charge"||r.transaction_type==="Accrual/Posted Interest"?(u(),f("span",u6n,n(o.$t("Discount Charge")),1)):b("",!0),r.transaction_type==="Fees/Charges"?(u(),f("span",_6n,n(o.$t("Fee Charge")),1)):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const f6n=Ue(wAn,[["render",m6n]]),h6n={name:"AllPayments",components:{Pagination:St,DownloadButtons:no,InvoiceDetails:Bt,PaymentInstruction:qt},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(""),l=h(""),r=h(""),i=h(""),d=h(""),p=h(""),v=h(""),g=h(""),w=h(""),y=h(50),x=h(""),C=h(""),E=h(null),D=h(0),k=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:y.value,type:"vf-overdue-invoices-report"}}).then(S=>{t.value=S.data}).catch(S=>{console.log(S)})},I=async(S,U)=>{document.getElementById("loading-modal-btn").click(),await A.get(s+o.bank+"/requests/invoices/"+S+"/details").then(W=>{E.value=W.data,D.value++,bt(()=>{document.getElementById(U).click()})}).catch(W=>{console.log(W)})};ot([y],async([S])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:S,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})});const V=async()=>{x.value=$("#payment_date_search").val(),x.value&&(r.value=H(x.value.split(" - ")[0]).format("YYYY-MM-DD"),i.value=H(x.value.split(" - ")[1]).format("YYYY-MM-DD")),C.value=$("#due_date_search").val(),C.value&&(d.value=H(C.value.split(" - ")[0]).format("YYYY-MM-DD"),p.value=H(C.value.split(" - ")[1]).format("YYYY-MM-DD"));let S=$(".ti-search").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-search"></i>')})},B=async()=>{let S=$(".ti-refresh").parent();S.html('<img src="../../../../../../assets/img/spinner.svg" />'),_.value="",c.value="",m.value="",l.value="",r.value="",i.value="",d.value="",p.value="",v.value="",g.value="",w.value="",$("#payment_date_search").val(""),$("#due_date_search").val(""),await A.get(s+o.bank+"/reports/data",{params:{type:"vf-overdue-invoices-report",per_page:y.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)}).finally(()=>{S.html('<i class="ti ti-refresh"></i>')})},L=h(!1),F=h(!1),T=()=>{L.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`VF_overdue_invoices_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{L.value=!1})},P=()=>{F.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-overdue-invoices-report",invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(S=>{const U=window.URL.createObjectURL(new Blob([S.data])),W=document.createElement("a");W.href=U,W.setAttribute("download",`VF_overdue_invoices_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(W),W.click()}).catch(S=>{console.log(S)}).finally(()=>{F.value=!1})};return Qe(()=>{k()}),{moment:H,anchor:c,vendor:m,invoice_number:_,payment_date:l,dpd:v,status:g,sort_by:w,per_page:y,report_data:t,invoice_details:E,showInvoice:I,filter:V,refresh:B,changePage:async S=>{await A.get(S,{params:{type:"vf-overdue-invoices-report",per_page:y.value,invoice_number:_.value,anchor:c.value,vendor:m.value,payment_date:l.value,from_payment_date:r.value,to_payment_date:i.value,from_due_date:d.value,to_due_date:p.value,dpd:v.value,status:g.value,sort_by:w.value}}).then(U=>{t.value=U.data}).catch(U=>{console.log(U)})},downloadReport:T,downloadPdf:P,getTaxPercentage:(S,U,W)=>(W/U*100).toFixed(2),resolveStatus:S=>{let U="";switch(S){case"Overdue":U="bg-label-danger";break;case"Created":U="bg-label-secondary";break;case"Pending Approval":U="bg-label-warning";break;case"Pending Maker":U="bg-label-warning";break;case"Pending Checker":U="bg-label-warning";break;case"Submitted":U="bg-label-primary";break;case"Approved":U="bg-label-success";break;case"Disbursed":U="bg-label-success";break;case"Denied":U="bg-label-danger";break;default:U="bg-label-primary";break}return U},date_format:a,downloadingExcel:L,downloadingPdf:F,invoice_details_key:D}}},p6n={class:"card p-2",id:"companies"},v6n={class:"d-flex flex-column flex-md-row justify-content-between"},g6n={class:"d-flex flex-wrap gap-1"},b6n={class:""},y6n={for:"Invoice Number",class:"form-label"},k6n={class:""},$6n={for:"Anchor",class:"form-label"},w6n={class:""},D6n={for:"Vendor",class:"form-label"},x6n={class:""},C6n={for:"Payment Date",class:"form-label"},P6n={class:""},E6n={for:"Due Date",class:"form-label"},A6n={class:""},I6n={for:"DPD Days",class:"form-label"},R6n={value:""},S6n={value:"1-5"},T6n={value:"6-10"},j6n={value:"10"},O6n={class:""},M6n={for:"Status",class:"form-label"},L6n={value:""},N6n={value:"ASC"},F6n={value:"DESC"},Y6n={class:"table-search-btn"},V6n={class:"table-clear-btn"},B6n={class:"d-flex gap-1 justify-content-md-end mt-2 mt-md-auto"},U6n={class:""},q6n={class:""},H6n={class:"table-responsive"},z6n={class:"table"},W6n={class:""},K6n={key:0},G6n={colspan:"12",class:"text-center"},Q6n={class:"text-center"},Z6n={key:1},J6n={colspan:"12",class:"text-center"},X6n={class:"text-center"},eIn=["onClick"],tIn=["href"],oIn=["href"],aIn=["href"],nIn={class:"text-success"},sIn={class:"text-success"},lIn={class:"badge bg-label-success m_title"},iIn=["id","data-bs-target"],rIn=["id","data-bs-target"],dIn={class:"modal fade",id:"loading-modal",tabindex:"-1","aria-hidden":"true"},cIn={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},uIn={class:"modal-content"},_In={class:"modal-body"},mIn={class:"d-flex justify-content-center"};function fIn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination"),r=ce("invoice-details"),i=ce("payment-instruction");return u(),f("div",p6n,[e("div",v6n,[e("div",g6n,[e("div",b6n,[e("label",y6n,n(o.$t("Invoice Number")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Invoice/Unique Ref No.","onUpdate:modelValue":a[0]||(a[0]=d=>t.invoice_number=d),onKeyup:a[1]||(a[1]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.invoice_number]])]),e("div",k6n,[e("label",$6n,n(o.$t("Anchor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Anchor","onUpdate:modelValue":a[2]||(a[2]=d=>t.anchor=d),onKeyup:a[3]||(a[3]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.anchor]])]),e("div",w6n,[e("label",D6n,n(o.$t("Vendor")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Vendor","onUpdate:modelValue":a[4]||(a[4]=d=>t.vendor=d),onKeyup:a[5]||(a[5]=Ee((...d)=>t.filter&&t.filter(...d),["enter"]))},null,544),[[X,t.vendor]])]),e("div",x6n,[e("label",C6n,n(o.$t("Payment Date")),1),a[11]||(a[11]=e("input",{type:"text",id:"payment_date_search",class:"form-control form-search",name:"vf-overdue-report-payment-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",P6n,[e("label",E6n,n(o.$t("Due Date")),1),a[12]||(a[12]=e("input",{type:"text",id:"due_date_search",class:"form-control form-search",name:"vf-overdue-report-due-daterange",placeholder:"Select Dates",autocomplete:"off"},null,-1))]),e("div",A6n,[e("label",I6n,n(o.$t("DPD Days")),1),Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=d=>t.dpd=d)},[e("option",R6n,n(o.$t("DPD")),1),e("option",S6n,"1 - 5 "+n(o.$t("Days")),1),e("option",T6n,"6 - 10 "+n(o.$t("Days")),1),e("option",j6n,"More than 10 "+n(o.$t("Days")),1)],512),[[de,t.dpd]])]),e("div",O6n,[e("label",M6n,n(o.$t("Sort By")),1),Y(e("select",{class:"form-select form-search",id:"exampleFormControlSelect1","onUpdate:modelValue":a[7]||(a[7]=d=>t.sort_by=d)},[e("option",L6n,n(o.$t("Sort By")),1),e("option",N6n,n(o.$t("Ascending")),1),e("option",F6n,n(o.$t("Descending")),1)],512),[[de,t.sort_by]])]),e("div",Y6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[8]||(a[8]=(...d)=>t.filter&&t.filter(...d))},a[13]||(a[13]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",V6n,[e("button",{class:"btn btn-primary btn-md",onClick:a[9]||(a[9]=(...d)=>t.refresh&&t.refresh(...d))},a[14]||(a[14]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",B6n,[e("div",U6n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[10]||(a[10]=d=>t.per_page=d),style:{height:"fit-content",width:"5rem"}},a[15]||(a[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",q6n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",H6n,[e("table",z6n,[e("thead",null,[e("tr",W6n,[e("th",null,n(o.$t("System ID")),1),e("th",null,n(o.$t("Invoice No"))+".",1),e("th",null,n(o.$t("Anchor")),1),e("th",null,n(o.$t("Vendor")),1),e("th",null,n(o.$t("Payment Date")),1),e("th",null,n(o.$t("Due Date")),1),e("th",null,n(o.$t("Payment Amount")),1),e("th",null,n(o.$t("Outstanding Amount")),1),e("th",null,n(o.$t("Overdue Days")),1),e("th",null,n(o.$t("Status")),1),a[16]||(a[16]=e("th",null,null,-1))])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",K6n,[e("td",G6n,[e("span",Q6n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",Z6n,[e("td",J6n,[e("span",X6n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,d=>(u(),f("tr",{key:d.id},[e("td",null,n(d.id),1),e("td",{class:"text-primary text-decoration-underline",onClick:p=>t.showInvoice(d.id,"show-details-btn-"+d.id),style:{cursor:"pointer"}},n(d.invoice_number),9,eIn),e("td",null,[d.buyer?(u(),f("a",{key:0,href:"../companies/"+d.buyer_id+"/details"},n(d.buyer),9,tIn)):(u(),f("a",{key:1,href:"../companies/"+d.anchor_id+"/details"},n(d.anchor),9,oIn))]),e("td",null,[e("a",{href:"../companies/"+d.company_id+"/details"},n(d.company),9,aIn)]),e("td",null,n(t.moment(d.disbursement_date).format(t.date_format)),1),e("td",null,n(t.moment(d.due_date).format(t.date_format)),1),e("td",nIn,n(new Intl.NumberFormat().format(d.disbursed_amount)),1),e("td",sIn,n(new Intl.NumberFormat().format(d.balance)),1),e("td",null,n(d.days_past_due),1),e("td",null,[e("span",lIn,n(d.status),1)]),e("td",null,[e("button",{class:"d-none",id:"show-details-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#invoice-"+d.id},null,8,iIn),e("button",{class:"d-none",id:"show-pi-btn-"+d.id,"data-bs-toggle":"modal","data-bs-target":"#pi-"+d.id},null,8,rIn),a[18]||(a[18]=e("button",{class:"d-none",id:"loading-modal-btn","data-bs-toggle":"modal","data-bs-target":"#loading-modal"},null,-1)),e("div",dIn,[e("div",cIn,[e("div",uIn,[e("div",_In,[e("div",mIn,[e("span",null,n(o.$t("Loading"))+"...",1),a[17]||(a[17]=e("img",{src:At,style:{width:"1.3rem"}},null,-1))])])])])]),t.invoice_details?(u(),me(r,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0),t.invoice_details?(u(),me(i,{"invoice-details":t.invoice_details,key:t.invoice_details_key},null,8,["invoice-details"])):b("",!0)])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const hIn=Ue(h6n,[["render",fIn]]),pIn={name:"VfFundingLimitUtilizationReport",props:["bank"],components:{Pagination:St,DownloadButtons:no},setup(o){const a=Je("baseURL"),s=h([]),t=h(""),c=h(""),m=h(50),_=async()=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,type:"vf-funding-limit-utilization-report"}}).then(w=>{s.value=w.data}).catch(w=>{console.log(w)})};Qe(()=>{_()}),ot([m],async([w])=>{await A.get(a+o.bank+"/reports/data",{params:{per_page:w,company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)})});const l=async()=>{let w=$(".ti-search").parent();w.html('<img src="../../../../../../assets/img/spinner.svg" />'),await A.get(a+o.bank+"/reports/data",{params:{per_page:m.value,company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)}).finally(()=>{w.html('<i class="ti ti-search"></i>')})},r=async()=>{let w=$(".ti-refresh").parent();w.html('<img src="../../../../../../assets/img/spinner.svg" />'),t.value="",c.value="",await A.get(a+o.bank+"/reports/data",{params:{type:"vf-funding-limit-utilization-report",per_page:m.value}}).then(y=>{s.value=y.data}).catch(y=>{console.log(y)}).finally(()=>{w.html('<i class="ti ti-refresh"></i>')})},i=h(!1),d=h(!1);return{moment:H,report_data:s,anchor_search:t,type_search:c,per_page:m,filter:l,refresh:r,changePage:async w=>{await A.get(w,{params:{per_page:m.value,type:"vf-funding-limit-utilization-report"}}).then(y=>{s.value=y.data})},downloadReport:()=>{i.value=!0,A.get(a+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(w=>{const y=window.URL.createObjectURL(new Blob([w.data])),x=document.createElement("a");x.href=y,x.setAttribute("download",`VF_funding_limit_utilization_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(x),x.click()}).catch(w=>{console.log(w)}).finally(()=>{i.value=!1})},downloadPdf:()=>{d.value=!0,A.get(a+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"vf-funding-limit-utilization-report",company_name:t.value,company_type:c.value,type:"vf-funding-limit-utilization-report"}}).then(w=>{const y=window.URL.createObjectURL(new Blob([w.data])),x=document.createElement("a");x.href=y,x.setAttribute("download",`VF_funding_limit_utilization_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(x),x.click()}).catch(w=>{console.log(w)}).finally(()=>{d.value=!1})},downloadingExcel:i,downloadingPdf:d}}},vIn={class:"card p-2"},gIn={class:"d-flex flex-column flex-md-row justify-content-between"},bIn={class:"d-flex flex-wrap gap-1"},yIn={class:"d-none"},kIn={for:"Organization Name",class:"form-label"},$In={value:""},wIn={value:"vendor"},DIn={value:"anchor"},xIn={class:""},CIn={for:"Organization Name",class:"form-label"},PIn={class:"table-search-btn"},EIn={class:"table-clear-btn"},AIn={class:"d-flex justify-content-md-end gap-1 mt-2 mt-md-auto",style:{height:"fit-content"}},IIn={class:"table-responsive"},RIn={class:"table"},SIn={class:""},TIn={class:"text-nowrap"},jIn={key:0},OIn={colspan:"12",class:"text-center"},MIn={class:"text-center"},LIn={key:1},NIn={colspan:"12",class:"text-center"},FIn={class:"text-center"},YIn=["href"],VIn={class:"text-success"},BIn={class:"text-success"},UIn={class:"text-success"},qIn={class:"text-success"},HIn={class:"text-success"},zIn=["href"],WIn=["href"];function KIn(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",vIn,[e("div",gIn,[e("div",bIn,[e("div",yIn,[e("label",kIn,n(o.$t("Type")),1),Y(e("select",{name:"","onUpdate:modelValue":a[0]||(a[0]=r=>t.type_search=r),id:"",class:"form-control"},[e("option",$In,n(o.$t("Select Company Type")),1),e("option",wIn,n(o.$t("Vendor")),1),e("option",DIn,n(o.$t("Anchor")),1)],512),[[de,t.type_search]])]),e("div",xIn,[e("label",CIn,n(o.$t("Organization Name")),1),Y(e("input",{type:"text",class:"form-control",placeholder:"Organization Name","onUpdate:modelValue":a[1]||(a[1]=r=>t.anchor_search=r),onKeyup:a[2]||(a[2]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.anchor_search]])]),e("div",PIn,[e("button",{class:"btn btn-primary btn-md",onClick:a[3]||(a[3]=(...r)=>t.filter&&t.filter(...r))},a[6]||(a[6]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",EIn,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.refresh&&t.refresh(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",AIn,[Y(e("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=r=>t.per_page=r),style:{height:"fit-content"}},a[8]||(a[8]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"50",-1)]),512),[[de,t.per_page]]),Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])]),t.report_data.meta?(u(),me(l,{key:0,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",IIn,[e("table",RIn,[e("thead",null,[e("tr",SIn,[e("th",null,n(o.$t("Organization Name")),1),e("th",null,n(o.$t("Sanctioned Limit")),1),e("th",null,n(o.$t("Available Limit")),1),e("th",null,n(o.$t("Current Exposure")),1),e("th",null,n(o.$t("Pipeline Requests")),1),e("th",null,n(o.$t("Utilized Limit"))+" (%)",1),e("th",null,n(o.$t("Actions")),1)])]),e("tbody",TIn,[t.report_data.data?b("",!0):(u(),f("tr",jIn,[e("td",OIn,[e("span",MIn,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",LIn,[e("td",NIn,[e("span",FIn,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",null,[e("a",{href:"../companies/"+r.company_id+"/details",class:"text-primary text-decoration-underline"},n(r.company_name),9,YIn)]),e("td",VIn,n(new Intl.NumberFormat().format(r.sanctioned_limit)),1),e("td",BIn,n(new Intl.NumberFormat().format(r.available_amount.toFixed(2))),1),e("td",UIn,n(new Intl.NumberFormat().format(r.utilized_amount.toFixed(2))),1),e("td",qIn,n(new Intl.NumberFormat().format(r.pipeline_amount.toFixed(2))),1),e("td",HIn,n(new Intl.NumberFormat().format(r.utilized_percentage.toFixed(2))),1),e("td",null,[r.buyer_id?(u(),f("a",{key:0,href:"../reports/limit-utilization/"+r.program_id+"/"+r.buyer_id},a[9]||(a[9]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,zIn)):(u(),f("a",{key:1,href:"../reports/limit-utilization/"+r.program_id+"/"+r.company_id},a[10]||(a[10]=[e("i",{class:"ti ti-sm ti-eye"},null,-1)]),8,WIn))])]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,class:"mx-2",from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const GIn=Ue(pIn,[["render",KIn]]),QIn={name:"AllPayments",components:{Pagination:St,DownloadButtons:no},props:["bank","date_format"],setup(o){const a=o.date_format;lt();const s=Je("baseURL"),t=h([]),c=h(""),m=h(""),_=h(50),l=async()=>{await A.get(s+o.bank+"/reports/data",{params:{per_page:_.value,type:"bank-gls-report"}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})};ot([_],async([y])=>{await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:y,account_name:c.value,account_number:m.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})});const r=async()=>{await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:_.value,account_name:c.value,account_number:m.value}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})},i=async()=>{c.value="",m.value="",await A.get(s+o.bank+"/reports/data",{params:{type:"bank-gls-report",per_page:_.value}}).then(y=>{t.value=y.data}).catch(y=>{console.log(y)})},d=h(!1),p=h(!1),v=()=>{d.value=!0,A.get(s+o.bank+"/reports/data/export",{responseType:"arraybuffer",method:"GET",params:{type:"bank-gls-report",account_name:c.value,account_number:m.value}}).then(y=>{const x=window.URL.createObjectURL(new Blob([y.data])),C=document.createElement("a");C.href=x,C.setAttribute("download",`Bank_GLs_report_${H().format("Do_MMM_YYYY")}.csv`),document.body.appendChild(C),C.click()}).catch(y=>{console.log(y)}).finally(()=>{d.value=!1})},g=()=>{p.value=!0,A.get(s+o.bank+"/reports/pdf/export",{responseType:"arraybuffer",method:"GET",params:{type:"bank-gls-report",account_name:c.value,account_number:m.value}}).then(y=>{const x=window.URL.createObjectURL(new Blob([y.data])),C=document.createElement("a");C.href=x,C.setAttribute("download",`Bank_GLs_Report_${H().format("Do_MMM_YYYY")}.pdf`),document.body.appendChild(C),C.click()}).catch(y=>{console.log(y)}).finally(()=>{p.value=!1})};return Qe(()=>{l()}),{moment:H,account_name:c,account_number:m,per_page:_,report_data:t,filter:r,refresh:i,changePage:async y=>{await A.get(y,{params:{type:"bank-gls-report",per_page:_.value,account_name:c.value,account_number:m.value}}).then(x=>{t.value=x.data}).catch(x=>{console.log(x)})},downloadReport:v,downloadPdf:g,date_format:a,downloadingExcel:d,downloadingPdf:p}}},ZIn={class:"card p-2"},JIn={class:"d-flex flex-column flex-md-row justify-content-between"},XIn={class:"d-flex flex-wrap gap-1"},e8n={class:""},t8n={for:"Account Name",class:"form-label"},o8n={class:""},a8n={for:"Account Number",class:"form-label"},n8n={class:"table-search-btn"},s8n={class:"table-clear-btn"},l8n={class:"d-flex justify-content-end gap-1 mt-2 mt-md-auto"},i8n={class:""},r8n={class:""},d8n={class:"table-responsive"},c8n={class:"table"},u8n={class:""},_8n={key:0},m8n={colspan:"12",class:"text-center"},f8n={class:"text-center"},h8n={key:1},p8n={colspan:"12",class:"text-center"},v8n={class:"text-center"},g8n={class:""},b8n={class:""},y8n={class:"text-success"},k8n={class:""};function $8n(o,a,s,t,c,m){const _=ce("download-buttons"),l=ce("pagination");return u(),f("div",ZIn,[e("div",JIn,[e("div",XIn,[e("div",e8n,[e("label",t8n,n(o.$t("Account Name")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=r=>t.account_name=r),placeholder:"Account Name",onKeyup:a[1]||(a[1]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.account_name]])]),e("div",o8n,[e("label",a8n,n(o.$t("Account Number")),1),Y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.account_number=r),placeholder:"Account Number",onKeyup:a[3]||(a[3]=Ee((...r)=>t.filter&&t.filter(...r),["enter"]))},null,544),[[X,t.account_number]])]),e("div",n8n,[e("button",{class:"btn btn-primary btn-md",onClick:a[4]||(a[4]=(...r)=>t.filter&&t.filter(...r))},a[7]||(a[7]=[e("i",{class:"ti ti-search"},null,-1)]))]),e("div",s8n,[e("button",{class:"btn btn-primary btn-md",onClick:a[5]||(a[5]=(...r)=>t.refresh&&t.refresh(...r))},a[8]||(a[8]=[e("i",{class:"ti ti-refresh"},null,-1)]))])]),e("div",l8n,[e("div",i8n,[Y(e("select",{class:"form-select",id:"exampleFormControlSelect1","onUpdate:modelValue":a[6]||(a[6]=r=>t.per_page=r),style:{height:"fit-content"}},a[9]||(a[9]=[e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[de,t.per_page]])]),e("div",r8n,[Be(_,{onDownloadReport:t.downloadReport,onDownloadPdf:t.downloadPdf,"downloading-excel":t.downloadingExcel,"downloading-pdf":t.downloadingPdf},null,8,["onDownloadReport","onDownloadPdf","downloading-excel","downloading-pdf"])])])]),t.report_data.meta?(u(),me(l,{key:0,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0),e("div",d8n,[e("table",c8n,[e("thead",null,[e("tr",u8n,[e("th",null,n(o.$t("Account Name")),1),e("th",null,n(o.$t("Account Number")),1),e("th",null,n(o.$t("Balance")),1),e("th",null,n(o.$t("Created At")),1)])]),e("tbody",null,[t.report_data.data?b("",!0):(u(),f("tr",_8n,[e("td",m8n,[e("span",f8n,n(o.$t("Loading Data"))+"...",1)])])),t.report_data.data&&t.report_data.data.length<=0?(u(),f("tr",h8n,[e("td",p8n,[e("span",v8n,n(o.$t("No Data Available"))+"...",1)])])):b("",!0),(u(!0),f(G,null,ee(t.report_data.data,r=>(u(),f("tr",{key:r.id},[e("td",g8n,n(r.account_name),1),e("td",b8n,n(r.account_number),1),e("td",y8n,n(new Intl.NumberFormat().format(r.balance)),1),e("td",k8n,n(t.moment(r.created_at).format(t.date_format)),1)]))),128))])])]),t.report_data.meta?(u(),me(l,{key:1,from:t.report_data.meta.from,to:t.report_data.meta.to,links:t.report_data.meta.links,next_page:t.report_data.links.next,prev_page:t.report_data.links.prev,total_items:t.report_data.meta.total,first_page_url:t.report_data.links.first,last_page_url:t.report_data.links.last,onChangePage:t.changePage},null,8,["from","to","links","next_page","prev_page","total_items","first_page_url","last_page_url","onChangePage"])):b("",!0)])}const w8n=Ue(QIn,[["render",$8n]]),Ed=Ke({}),Ad=Ke({}),Id=Ke({}),Rd=Ke({}),Sd=Ke({}),Td=Ke({}),jd=Ke({}),Od=Ke({}),Md=Ke({}),Ld=Ke({}),Nd=Ke({}),Fd=Ke({}),Yd=Ke({}),Vd=Ke({}),Bd=Ke({}),Ud=Ke({}),qd=Ke({}),Hd=Ke({}),zd=Ke({}),Wd=Ke({}),Kd=Ke({}),Gd=Ke({}),Qd=Ke({}),Zd=Ke({}),Jd=Ke({}),Xd=Ke({}),ec=Ke({}),tc=Ke({}),oc=Ke({}),ac=Ke({}),nc=Ke({}),sc=Ke({}),lc=Ke({}),ic=Ke({}),rc=Ke({}),dc=Ke({}),cc=Ke({}),uc=Ke({}),It="/";var D8n=document.getElementById("dashboard-cards");D8n&&(Ed.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ed.use(Xe),Ed.provide("baseURL",It),Ed.component("DashboardCards",TRo),Ed.mount("#dashboard-cards"));var x8n=document.getElementById("notifications");x8n&&(Ad.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ad.use(Xe),Ad.provide("baseURL",It),Ad.component("Notifications",_So),Ad.mount("#notifications"));var C8n=document.getElementById("payments");C8n&&(uc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),uc.use(Xe),uc.provide("baseURL",It),uc.component("Payments",vja),uc.mount("#payments"));var P8n=document.getElementById("authorization-groups");P8n&&(ic.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ic.use(Xe),ic.provide("baseURL",It),ic.component("AuthorizationGroups",Yla),ic.mount("#authorization-groups"));var E8n=document.getElementById("authorization-matrix");E8n&&(rc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),rc.use(Xe),rc.provide("baseURL",It),rc.component("AuthorizationMatrix",Lra),rc.mount("#authorization-matrix"));var A8n=document.getElementById("noa-templates");A8n&&(sc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),sc.use(Xe),sc.provide("baseURL",It),sc.component("NoaTemplates",Pqa),sc.mount("#noa-templates"));var I8n=document.getElementById("terms-and-conditions");I8n&&(lc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lc.use(Xe),lc.provide("baseURL",It),lc.component("TermsAndConditions",rza),lc.mount("#terms-and-conditions"));var R8n=document.getElementById("fees-master");R8n&&(ac.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ac.use(Xe),ac.provide("baseURL",It),ac.component("FeesMaster",pBa),ac.mount("#fees-master"));var S8n=document.getElementById("branches");S8n&&(oc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),oc.use(Xe),oc.provide("baseURL",It),oc.component("Branches",iYa),oc.mount("#branches"));var T8n=document.getElementById("convertion_rates");T8n&&(nc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nc.use(Xe),nc.provide("baseURL",It),nc.component("ConvertionRates",qBa),nc.mount("#convertion_rates"));var j8n=document.getElementById("bank-users");j8n&&(Xd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xd.use(Xe),Xd.provide("baseURL",It),Xd.component("BankUsers",S9a),Xd.mount("#bank-users"));var O8n=document.getElementById("base_rates");O8n&&(Jd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Jd.use(Xe),Jd.provide("baseURL",It),Jd.component("BaseRates",WOa),Jd.mount("#base_rates"));var M8n=document.getElementById("tax_rates");M8n&&(ec.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ec.use(Xe),ec.provide("baseURL",It),ec.component("TaxRates",rLa),ec.mount("#tax_rates"));var L8n=document.getElementById("holidays");L8n&&(tc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tc.use(Xe),tc.provide("baseURL",It),tc.component("Holidays",TNa),tc.mount("#holidays"));var N8n=document.getElementById("companies");N8n&&(Id.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Id.use(Xe),Id.provide("baseURL",It),Id.component("CompaniesComponent",Nsa),Id.mount("#companies"));var F8n=document.getElementById("uploaded-companies");F8n&&(Rd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Rd.use(Xe),Rd.provide("baseURL",It),Rd.component("UploadedCompanies",Hca),Rd.mount("#uploaded-companies"));var Y8n=document.getElementById("upload-companies");Y8n&&(Sd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Sd.use(Xe),Sd.provide("baseURL",It),Sd.component("UploadCompanies",iua),Sd.mount("#upload-companies"));var V8n=document.getElementById("company-users");V8n&&(Td.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Td.use(Xe),Td.provide("baseURL",It),Td.component("CompanyUsersComponent",yca),Td.mount("#company-users"));var B8n=document.getElementById("pending-approval");B8n&&(Fd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Fd.use(Xe),Fd.provide("baseURL",It),Fd.component("PendingApprovalComponent",W_a),Fd.mount("#pending-approval"));var U8n=document.getElementById("opportunities");U8n&&(Ud.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ud.use(Xe),Ud.provide("baseURL",It),Ud.component("OpportunitiesComponent",qAa),Ud.mount("#opportunities"));var q8n=document.getElementById("payment-requests");q8n&&(Yd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Yd.use(Xe),Yd.provide("baseURL",It),Yd.component("PaymentRequests",$D),Yd.mount("#payment-requests"));var H8n=document.getElementById("uploaded-payment-requests");H8n&&(cc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cc.use(Xe),cc.provide("baseURL",It),cc.component("UploadedPaymentRequests",sKa),cc.mount("#uploaded-payment-requests"));var z8n=document.getElementById("payment-reports");z8n&&(Vd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vd.use(Xe),Vd.provide("baseURL",It),Vd.component("PaymentReports",wD),Vd.mount("#payment-reports"));var W8n=document.getElementById("cbs-transactions");W8n&&(Bd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bd.use(Xe),Bd.provide("baseURL",It),Bd.component("CbsTransactions",DD),Bd.mount("#cbs-transactions"));var K8n=document.getElementById("programs");K8n&&(jd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),jd.use(Xe),jd.provide("baseURL",It),jd.component("Programs",R5a),jd.mount("#programs"));var G8n=document.getElementById("pending-programs");G8n&&(Od.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Od.use(Xe),Od.provide("baseURL",It),Od.component("PendingPrograms",jxa),Od.mount("#pending-programs"));var Q8n=document.getElementById("manage-vendors");Q8n&&(Md.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Md.use(Xe),Md.provide("baseURL",It),Md.component("ManageVendors",iAa),Md.mount("#manage-vendors"));var Z8n=document.getElementById("exhausted-programs");Z8n&&(Ld.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ld.use(Xe),Ld.provide("baseURL",It),Ld.component("ExhaustedPrograms",cRa),Ld.mount("#exhausted-programs"));var J8n=document.getElementById("expired-programs");J8n&&(Nd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Nd.use(Xe),Nd.provide("baseURL",It),Nd.component("ExpiredPrograms",aSa),Nd.mount("#expired-programs"));var X8n=document.getElementById("vendor-financing");X8n&&(qd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qd.use(Xe),qd.provide("baseURL",It),qd.component("VendorFinancing",Dzo),qd.mount("#vendor-financing"));var eRn=document.getElementById("factoring-requests");eRn&&(Hd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hd.use(Xe),Hd.provide("baseURL",It),Hd.component("FactoringRequests",DZo),Hd.mount("#factoring-requests"));var tRn=document.getElementById("dealer-financing");tRn&&(zd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zd.use(Xe),zd.provide("baseURL",It),zd.component("DealerFinancing",Doa),zd.mount("#dealer-financing"));var oRn=document.getElementById("dashboard-vendor-financing");oRn&&(Wd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wd.use(Xe),Wd.provide("baseURL",It),Wd.component("DashboardVendorFinancing",lMo),Wd.mount("#dashboard-vendor-financing"));var aRn=document.getElementById("dashboard-factoring-requests");aRn&&(Kd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Kd.use(Xe),Kd.provide("baseURL",It),Kd.component("DashboardFactoringRequests",BLo),Kd.mount("#dashboard-factoring-requests"));var nRn=document.getElementById("dashboard-dealer-financing");nRn&&(Gd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gd.use(Xe),Gd.provide("baseURL",It),Gd.component("DashboardDealerFinancing",DVo),Gd.mount("#dashboard-dealer-financing"));var sRn=document.getElementById("pending-configurations");sRn&&(dc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),dc.use(Xe),dc.provide("baseURL",It),dc.component("PendingConfigurations",IWa),dc.mount("#pending-configurations"));var lRn=document.getElementById("od-accounts");lRn&&(Qd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qd.use(Xe),Qd.provide("baseURL",It),Qd.component("OdAccounts",v8a),Qd.mount("#od-accounts"));var iRn=document.getElementById("activity-logs");iRn&&(Zd.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zd.use(Xe),Zd.provide("baseURL",It),Zd.component("ActivityLogs",aTa),Zd.mount("#activity-logs"));const _c=Ke({}),mc=Ke({}),Vi=Ke({}),Bi=Ke({}),Ui=Ke({}),qi=Ke({}),Hi=Ke({}),zi=Ke({}),Wi=Ke({}),fc=Ke({}),hc=Ke({}),pc=Ke({}),vc=Ke({}),gc=Ke({}),bc=Ke({}),yc=Ke({}),kc=Ke({}),$c=Ke({}),Ki=Ke({}),Gi=Ke({}),Qi=Ke({}),Zi=Ke({}),Ji=Ke({}),Xi=Ke({}),er=Ke({}),tr=Ke({}),or=Ke({}),ar=Ke({}),nr=Ke({}),gf=Ke({}),wc=Ke({}),Dc=Ke({}),sr=Ke({}),lr=Ke({}),ir=Ke({}),rr=Ke({}),dr=Ke({}),cr=Ke({}),ur=Ke({}),_r=Ke({}),mr=Ke({}),fr=Ke({}),hr=Ke({}),pr=Ke({}),vr=Ke({}),xc=Ke({}),Cc=Ke({}),gr=Ke({});var rRn=document.getElementById("df-funding-limit-utilization-report");rRn&&(Dc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Dc.use(Xe),Dc.provide("baseURL",It),Dc.component("DfFundingLimitUtilizationReport",fkn),Dc.mount("#df-funding-limit-utilization-report"));var dRn=document.getElementById("vf-funding-limit-utilization-report");dRn&&(Cc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Cc.use(Xe),Cc.provide("baseURL",It),Cc.component("VfFundingLimitUtilizationReport",GIn),Cc.mount("#vf-funding-limit-utilization-report"));var cRn=document.getElementById("df-overdue-invoices-report");cRn&&(gf.use(Xe),gf.provide("baseURL",It),gf.component("DfOverdueInvoicesReport",m2n),gf.mount("#df-overdue-invoices-report"));var uRn=document.getElementById("vf-overdue-invoices-report");uRn&&(xc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),xc.use(Xe),xc.provide("baseURL",It),xc.component("VfOverdueInvoicesReport",hIn),xc.mount("#vf-overdue-invoices-report"));var _Rn=document.getElementById("distributor-limit-utilization-report");_Rn&&(wc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),wc.use(Xe),wc.provide("baseURL",It),wc.component("DistributorLimitUtilizationReport",j2n),wc.mount("#distributor-limit-utilization-report"));var mRn=document.getElementById("if-payment-details-report");mRn&&(bc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),bc.use(Xe),bc.provide("baseURL",It),bc.component("IfPaymentDetailsReport",dCn),bc.mount("#if-payment-details-report"));var fRn=document.getElementById("users-and-roles-report");fRn&&(kc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),kc.use(Xe),kc.provide("baseURL",It),kc.component("UsersAndRolesReport",Oun),kc.mount("#users-and-roles-report"));var hRn=document.getElementById("reconciliation-report");hRn&&(yc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),yc.use(Xe),yc.provide("baseURL",It),yc.component("ReconciliationReport",Hcn),yc.mount("#reconciliation-report"));var pRn=document.getElementById("cron-logs");pRn&&(mc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mc.use(Xe),mc.provide("baseURL",It),mc.component("CronLogs",f_n),mc.mount("#cron-logs"));var vRn=document.getElementById("pf-report");vRn&&(vc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vc.use(Xe),vc.provide("baseURL",It),vc.component("PfReport",Dcn),vc.mount("#pf-report"));var gRn=document.getElementById("pf-and-cc-report");gRn&&(gc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gc.use(Xe),gc.provide("baseURL",It),gc.component("PfAndCcReport",Scn),gc.mount("#pf-and-cc-report"));var bRn=document.getElementById("maturing-payments-report");bRn&&(hc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hc.use(Xe),hc.provide("baseURL",It),hc.component("MaturingPaymentsReport",pdn),hc.mount("#maturing-payments-report"));var yRn=document.getElementById("maturity-extended-report");yRn&&(pc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pc.use(Xe),pc.provide("baseURL",It),pc.component("MaturityExtendedReport",mcn),pc.mount("#maturity-extended-report"));var kRn=document.getElementById("final-rtr-report");kRn&&(fc.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fc.use(Xe),fc.provide("baseURL",It),fc.component("FinalRtrReport",Jin),fc.mount("#final-rtr-report"));var $Rn=document.getElementById("all-payments-report");$Rn&&(_c.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_c.use(Xe),_c.provide("baseURL",It),_c.component("AllPaymentsReport",bGa),_c.mount("#all-payments-report"));var wRn=document.getElementById("inactive-users-report");wRn&&(Vi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Vi.use(Xe),Vi.provide("baseURL",It),Vi.provide("axios",A),Vi.component("InactiveUsersReport",XGa),Vi.mount("#inactive-users-report"));var DRn=document.getElementById("payments-report");DRn&&(Bi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Bi.use(Xe),Bi.provide("baseURL",It),Bi.provide("axios",A),Bi.component("PaymentsReport",QZa),Bi.mount("#payments-report"));var xRn=document.getElementById("payments-pending-approval-report");xRn&&(Hi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Hi.use(Xe),Hi.provide("baseURL",It),Hi.provide("axios",A),Hi.component("PaymentsPendingApprovalReport",pnn),Hi.mount("#payments-pending-approval-report"));var CRn=document.getElementById("payments-pending-disbursal-report");CRn&&(zi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),zi.use(Xe),zi.provide("baseURL",It),zi.provide("axios",A),zi.component("PaymentsPendingDisbursalReport",Ysn),zi.mount("#payments-pending-disbursal-report"));var PRn=document.getElementById("user-maintenance-history-report");PRn&&(Wi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Wi.use(Xe),Wi.provide("baseURL",It),Wi.provide("axios",A),Wi.component("UserMaintenanceHistoryReport",kln),Wi.mount("#user-maintenance-history-report"));var ERn=document.getElementById("drawdown-details-report");ERn&&(Ui.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ui.use(Xe),Ui.provide("baseURL",It),Ui.provide("axios",A),Ui.component("DrawdownDetailsReport",ven),Ui.mount("#drawdown-details-report"));var ARn=document.getElementById("dealer-financing-programs-report");ARn&&(Ki.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ki.use(Xe),Ki.provide("baseURL",It),Ki.provide("axios",A),Ki.component("DealerFinancingProgramsReport",Kfn),Ki.mount("#dealer-financing-programs-report"));var IRn=document.getElementById("rejected-payments-report");IRn&&(qi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),qi.use(Xe),qi.provide("baseURL",It),qi.provide("axios",A),qi.component("RejectedPaymentsReport",oan),qi.mount("#rejected-payments-report"));var RRn=document.getElementById("df-anchorwise-dealer-report");RRn&&(Gi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Gi.use(Xe),Gi.provide("baseURL",It),Gi.provide("axios",A),Gi.component("DfAnchorwiseDealerReport",Thn),Gi.mount("#df-anchorwise-dealer-report"));var SRn=document.getElementById("df-monthly-utilization-and-outstanding-report");SRn&&(or.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),or.use(Xe),or.provide("baseURL",It),or.provide("axios",A),or.component("DfMonthlyUtilizationAndOutstandingReport",Rbn),or.mount("#df-monthly-utilization-and-outstanding-report"));var TRn=document.getElementById("df-potential-financing-report");TRn&&(nr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),nr.use(Xe),nr.provide("baseURL",It),nr.provide("axios",A),nr.component("DfPotentialFinancingReport",_0n),nr.mount("#df-potential-financing-report"));var jRn=document.getElementById("df-overdue-report");jRn&&(ar.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ar.use(Xe),ar.provide("baseURL",It),ar.provide("axios",A),ar.component("DfOverdueReport",vyn),ar.mount("#df-overdue-report"));var ORn=document.getElementById("df-income-report");ORn&&(tr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),tr.use(Xe),tr.provide("baseURL",It),tr.provide("axios",A),tr.component("DfIncomeReport",K1n),tr.mount("#df-income-report"));var MRn=document.getElementById("df-od-ledger-report");MRn&&(Xi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Xi.use(Xe),Xi.provide("baseURL",It),Xi.provide("axios",A),Xi.component("DfOdLedgerReport",Gvn),Xi.mount("#df-od-ledger-report"));var LRn=document.getElementById("df-fees-and-interest-sharing-report");LRn&&(er.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),er.use(Xe),er.provide("baseURL",It),er.provide("axios",A),er.component("DfFeesAndInterestSharingReport",zgn),er.mount("#df-fees-and-interest-sharing-report"));var NRn=document.getElementById("df-cash-collateral-report");NRn&&(Qi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Qi.use(Xe),Qi.provide("baseURL",It),Qi.provide("axios",A),Qi.component("DfCashCollateralReport",Hhn),Qi.mount("#df-cash-collateral-report"));var FRn=document.getElementById("df-dealer-classification-report");FRn&&(Zi.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Zi.use(Xe),Zi.provide("baseURL",It),Zi.provide("axios",A),Zi.component("DfDealerClassificationReport",kpn),Zi.mount("#df-dealer-classification-report"));var YRn=document.getElementById("df-program-mapping-report");YRn&&(Ji.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),Ji.use(Xe),Ji.provide("baseURL",It),Ji.provide("axios",A),Ji.component("DfProgramMappingReport",dvn),Ji.mount("#df-program-mapping-report"));var VRn=document.getElementById("df-collection-report");VRn&&(sr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),sr.use(Xe),sr.provide("baseURL",It),sr.provide("axios",A),sr.component("DfCollectionReport",Qkn),sr.mount("#df-collection-report"));var BRn=document.getElementById("df-repayment-details-report");BRn&&(lr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),lr.use(Xe),lr.provide("baseURL",It),lr.provide("axios",A),lr.component("DfRepaymentDetailsReport",F$n),lr.mount("#df-repayment-details-report"));var URn=document.getElementById("vendor-financing-programs-report");URn&&(rr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),rr.use(Xe),rr.provide("baseURL",It),rr.provide("axios",A),rr.component("VendorFinancingProgramsReport",c5n),rr.mount("#vendor-financing-programs-report"));var qRn=document.getElementById("vf-anchorwise-vendor-report");qRn&&(dr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),dr.use(Xe),dr.provide("baseURL",It),dr.provide("axios",A),dr.component("VfAnchorwiseVendorReport",U5n),dr.mount("#vf-anchorwise-vendor-report"));var HRn=document.getElementById("vf-vendor-classification-report");HRn&&(cr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),cr.use(Xe),cr.provide("baseURL",It),cr.provide("axios",A),cr.component("VfVendorClassificationReport",DDn),cr.mount("#vf-vendor-classification-report"));var zRn=document.getElementById("vf-program-mapping-report");zRn&&(ur.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ur.use(Xe),ur.provide("baseURL",It),ur.provide("axios",A),ur.component("VfProgramMappingReport",h3n),ur.mount("#vf-program-mapping-report"));var WRn=document.getElementById("vendor-daily-outstanding-balance");WRn&&(_r.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),_r.use(Xe),_r.provide("baseURL",It),_r.provide("axios",A),_r.component("VendorDailyOutstandingBalance",Z3n),_r.mount("#vendor-daily-outstanding-balance"));var KRn=document.getElementById("dealers-daily-outstanding-balance");KRn&&(ir.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),ir.use(Xe),ir.provide("baseURL",It),ir.provide("axios",A),ir.component("DealersDailyOutstandingBalance",gwn),ir.mount("#dealers-daily-outstanding-balance"));var GRn=document.getElementById("vf-fees-and-interest-sharing-report");GRn&&(mr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),mr.use(Xe),mr.provide("baseURL",It),mr.provide("axios",A),mr.component("VfFeesAndInterestSharingReport",fPn),mr.mount("#vf-fees-and-interest-sharing-report"));var QRn=document.getElementById("vf-income-report");QRn&&(fr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),fr.use(Xe),fr.provide("baseURL",It),fr.provide("axios",A),fr.component("VfIncomeReport",p4n),fr.mount("#vf-income-report"));var ZRn=document.getElementById("factoring-income-report");ZRn&&(hr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),hr.use(Xe),hr.provide("baseURL",It),hr.provide("axios",A),hr.component("FactoringIncomeReport",kEn),hr.mount("#factoring-income-report"));var JRn=document.getElementById("vf-potential-financing-report");JRn&&(pr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),pr.use(Xe),pr.provide("baseURL",It),pr.provide("axios",A),pr.component("VfPotentialFinancingReport",$An),pr.mount("#vf-potential-financing-report"));var XRn=document.getElementById("vf-repayment-details-report");XRn&&(vr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),vr.use(Xe),vr.provide("baseURL",It),vr.provide("axios",A),vr.component("VfRepaymentDetailsReport",f6n),vr.mount("#vf-repayment-details-report"));var eSn=document.getElementById("vendors-report");eSn&&($c.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),$c.use(Xe),$c.provide("baseURL",It),$c.component("VendorsReport",ifn),$c.mount("#vendors-report"));var tSn=document.getElementById("bank-gls-report");tSn&&(gr.use(et,{resolve:async o=>await Object.assign({"../../lang/de.json":()=>M(()=>import("./de-DT8PMa4r.js"),__vite__mapDeps([])),"../../lang/en.json":()=>M(()=>import("./en-CyWPuS9o.js"),__vite__mapDeps([])),"../../lang/fr.json":()=>M(()=>import("./fr-CZDkEpDe.js"),__vite__mapDeps([])),"../../lang/php_en.json":()=>M(()=>import("./php_en-xOZW_0Pr.js"),__vite__mapDeps([])),"../../lang/pt.json":()=>M(()=>import("./pt-7QULg3TI.js"),__vite__mapDeps([])),"../../lang/sw.json":()=>M(()=>import("./sw-DAzyzWiT.js"),__vite__mapDeps([]))})[`../../lang/${o}.json`]()}),gr.use(Xe),gr.provide("baseURL",It),gr.provide("axios",A),gr.component("BankGlsReport",w8n),gr.mount("#bank-gls-report"))});export default oSn();
